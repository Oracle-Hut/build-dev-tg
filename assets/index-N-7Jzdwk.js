var S$=Object.defineProperty;var E$=(e,t,i)=>t in e?S$(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i;var Oe=(e,t,i)=>E$(e,typeof t!="symbol"?t+"":t,i);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const g of document.querySelectorAll('link[rel="modulepreload"]'))s(g);new MutationObserver(g=>{for(const E of g)if(E.type==="childList")for(const n of E.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&s(n)}).observe(document,{childList:!0,subtree:!0});function i(g){const E={};return g.integrity&&(E.integrity=g.integrity),g.referrerPolicy&&(E.referrerPolicy=g.referrerPolicy),g.crossOrigin==="use-credentials"?E.credentials="include":g.crossOrigin==="anonymous"?E.credentials="omit":E.credentials="same-origin",E}function s(g){if(g.ep)return;g.ep=!0;const E=i(g);fetch(g.href,E)}})();const b$="modulepreload",P$=function(e,t){return new URL(e,t).href},qD={},w$=function(t,i,s){let g=Promise.resolve();if(i&&i.length>0){let n=function(y){return Promise.all(y.map(d=>Promise.resolve(d).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};const T=document.getElementsByTagName("link"),r=document.querySelector("meta[property=csp-nonce]"),o=(r==null?void 0:r.nonce)||(r==null?void 0:r.getAttribute("nonce"));g=n(i.map(y=>{if(y=P$(y,s),y in qD)return;qD[y]=!0;const d=y.endsWith(".css"),h=d?'[rel="stylesheet"]':"";if(!!s)for(let f=T.length-1;f>=0;f--){const c=T[f];if(c.href===y&&(!d||c.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${y}"]${h}`))return;const a=document.createElement("link");if(a.rel=d?"stylesheet":b$,d||(a.as="script"),a.crossOrigin="",a.href=y,o&&a.setAttribute("nonce",o),document.head.appendChild(a),d)return new Promise((f,c)=>{a.addEventListener("load",f),a.addEventListener("error",()=>c(new Error(`Unable to preload CSS for ${y}`)))})}))}function E(n){const T=new Event("vite:preloadError",{cancelable:!0});if(T.payload=n,window.dispatchEvent(T),!T.defaultPrevented)throw n}return g.then(n=>{for(const T of n||[])T.status==="rejected"&&E(T.reason);return t().catch(E)})};function Up(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ZE={exports:{}},w0={},jE={exports:{}},yp={exports:{}};yp.exports;var _D;function M$(){return _D||(_D=1,(function(e,t){/**
 * @license React
 * react.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error);var i="18.3.1",s=Symbol.for("react.element"),g=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),r=Symbol.for("react.provider"),o=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),l=Symbol.for("react.memo"),a=Symbol.for("react.lazy"),f=Symbol.for("react.offscreen"),c=Symbol.iterator,u="@@iterator";function v(it){if(it===null||typeof it!="object")return null;var ht=c&&it[c]||it[u];return typeof ht=="function"?ht:null}var p={current:null},m={transition:null},x={current:null,isBatchingLegacy:!1,didScheduleLegacyUpdate:!1},C={current:null},P={},w=null;function M(it){w=it}P.setExtraStackFrame=function(it){w=it},P.getCurrentStack=null,P.getStackAddendum=function(){var it="";w&&(it+=w);var ht=P.getCurrentStack;return ht&&(it+=ht()||""),it};var R=!1,A=!1,L=!1,F=!1,G=!1,I={ReactCurrentDispatcher:p,ReactCurrentBatchConfig:m,ReactCurrentOwner:C};I.ReactDebugCurrentFrame=P,I.ReactCurrentActQueue=x;function B(it){{for(var ht=arguments.length,bt=new Array(ht>1?ht-1:0),At=1;At<ht;At++)bt[At-1]=arguments[At];U("warn",it,bt)}}function k(it){{for(var ht=arguments.length,bt=new Array(ht>1?ht-1:0),At=1;At<ht;At++)bt[At-1]=arguments[At];U("error",it,bt)}}function U(it,ht,bt){{var At=I.ReactDebugCurrentFrame,Wt=At.getStackAddendum();Wt!==""&&(ht+="%s",bt=bt.concat([Wt]));var Ae=bt.map(function(ve){return String(ve)});Ae.unshift("Warning: "+ht),Function.prototype.apply.call(console[it],console,Ae)}}var H={};function X(it,ht){{var bt=it.constructor,At=bt&&(bt.displayName||bt.name)||"ReactClass",Wt=At+"."+ht;if(H[Wt])return;k("Can't call %s on a component that is not yet mounted. This is a no-op, but it might indicate a bug in your application. Instead, assign to `this.state` directly or define a `state = {};` class property with the desired state in the %s component.",ht,At),H[Wt]=!0}}var j={isMounted:function(it){return!1},enqueueForceUpdate:function(it,ht,bt){X(it,"forceUpdate")},enqueueReplaceState:function(it,ht,bt,At){X(it,"replaceState")},enqueueSetState:function(it,ht,bt,At){X(it,"setState")}},Z=Object.assign,Y={};Object.freeze(Y);function $(it,ht,bt){this.props=it,this.context=ht,this.refs=Y,this.updater=bt||j}$.prototype.isReactComponent={},$.prototype.setState=function(it,ht){if(typeof it!="object"&&typeof it!="function"&&it!=null)throw new Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,it,ht,"setState")},$.prototype.forceUpdate=function(it){this.updater.enqueueForceUpdate(this,it,"forceUpdate")};{var z={isMounted:["isMounted","Instead, make sure to clean up subscriptions and pending requests in componentWillUnmount to prevent memory leaks."],replaceState:["replaceState","Refactor your code to use setState instead (see https://github.com/facebook/react/issues/3236)."]},V=function(it,ht){Object.defineProperty($.prototype,it,{get:function(){B("%s(...) is deprecated in plain JavaScript React classes. %s",ht[0],ht[1])}})};for(var K in z)z.hasOwnProperty(K)&&V(K,z[K])}function Q(){}Q.prototype=$.prototype;function _(it,ht,bt){this.props=it,this.context=ht,this.refs=Y,this.updater=bt||j}var tt=_.prototype=new Q;tt.constructor=_,Z(tt,$.prototype),tt.isPureReactComponent=!0;function rt(){var it={current:null};return Object.seal(it),it}var ot=Array.isArray;function ft(it){return ot(it)}function ct(it){{var ht=typeof Symbol=="function"&&Symbol.toStringTag,bt=ht&&it[Symbol.toStringTag]||it.constructor.name||"Object";return bt}}function gt(it){try{return xt(it),!1}catch{return!0}}function xt(it){return""+it}function Mt(it){if(gt(it))return k("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",ct(it)),xt(it)}function St(it,ht,bt){var At=it.displayName;if(At)return At;var Wt=ht.displayName||ht.name||"";return Wt!==""?bt+"("+Wt+")":bt}function $t(it){return it.displayName||"Context"}function Yt(it){if(it==null)return null;if(typeof it.tag=="number"&&k("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof it=="function")return it.displayName||it.name||null;if(typeof it=="string")return it;switch(it){case E:return"Fragment";case g:return"Portal";case T:return"Profiler";case n:return"StrictMode";case d:return"Suspense";case h:return"SuspenseList"}if(typeof it=="object")switch(it.$$typeof){case o:var ht=it;return $t(ht)+".Consumer";case r:var bt=it;return $t(bt._context)+".Provider";case y:return St(it,it.render,"ForwardRef");case l:var At=it.displayName||null;return At!==null?At:Yt(it.type)||"Memo";case a:{var Wt=it,Ae=Wt._payload,ve=Wt._init;try{return Yt(ve(Ae))}catch{return null}}}return null}var Ht=Object.prototype.hasOwnProperty,Ct={key:!0,ref:!0,__self:!0,__source:!0},Nt,Vt,qt;qt={};function Ce(it){if(Ht.call(it,"ref")){var ht=Object.getOwnPropertyDescriptor(it,"ref").get;if(ht&&ht.isReactWarning)return!1}return it.ref!==void 0}function ze(it){if(Ht.call(it,"key")){var ht=Object.getOwnPropertyDescriptor(it,"key").get;if(ht&&ht.isReactWarning)return!1}return it.key!==void 0}function ye(it,ht){var bt=function(){Nt||(Nt=!0,k("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",ht))};bt.isReactWarning=!0,Object.defineProperty(it,"key",{get:bt,configurable:!0})}function Be(it,ht){var bt=function(){Vt||(Vt=!0,k("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",ht))};bt.isReactWarning=!0,Object.defineProperty(it,"ref",{get:bt,configurable:!0})}function Gt(it){if(typeof it.ref=="string"&&C.current&&it.__self&&C.current.stateNode!==it.__self){var ht=Yt(C.current.type);qt[ht]||(k('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',ht,it.ref),qt[ht]=!0)}}var Xt=function(it,ht,bt,At,Wt,Ae,ve){var Ue={$$typeof:s,type:it,key:ht,ref:bt,props:ve,_owner:Ae};return Ue._store={},Object.defineProperty(Ue._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(Ue,"_self",{configurable:!1,enumerable:!1,writable:!1,value:At}),Object.defineProperty(Ue,"_source",{configurable:!1,enumerable:!1,writable:!1,value:Wt}),Object.freeze&&(Object.freeze(Ue.props),Object.freeze(Ue)),Ue};function ee(it,ht,bt){var At,Wt={},Ae=null,ve=null,Ue=null,ai=null;if(ht!=null){Ce(ht)&&(ve=ht.ref,Gt(ht)),ze(ht)&&(Mt(ht.key),Ae=""+ht.key),Ue=ht.__self===void 0?null:ht.__self,ai=ht.__source===void 0?null:ht.__source;for(At in ht)Ht.call(ht,At)&&!Ct.hasOwnProperty(At)&&(Wt[At]=ht[At])}var Mi=arguments.length-2;if(Mi===1)Wt.children=bt;else if(Mi>1){for(var Ni=Array(Mi),Ui=0;Ui<Mi;Ui++)Ni[Ui]=arguments[Ui+2];Object.freeze&&Object.freeze(Ni),Wt.children=Ni}if(it&&it.defaultProps){var ni=it.defaultProps;for(At in ni)Wt[At]===void 0&&(Wt[At]=ni[At])}if(Ae||ve){var Ki=typeof it=="function"?it.displayName||it.name||"Unknown":it;Ae&&ye(Wt,Ki),ve&&Be(Wt,Ki)}return Xt(it,Ae,ve,Ue,ai,C.current,Wt)}function Se(it,ht){var bt=Xt(it.type,ht,it.ref,it._self,it._source,it._owner,it.props);return bt}function we(it,ht,bt){if(it==null)throw new Error("React.cloneElement(...): The argument must be a React element, but you passed "+it+".");var At,Wt=Z({},it.props),Ae=it.key,ve=it.ref,Ue=it._self,ai=it._source,Mi=it._owner;if(ht!=null){Ce(ht)&&(ve=ht.ref,Mi=C.current),ze(ht)&&(Mt(ht.key),Ae=""+ht.key);var Ni;it.type&&it.type.defaultProps&&(Ni=it.type.defaultProps);for(At in ht)Ht.call(ht,At)&&!Ct.hasOwnProperty(At)&&(ht[At]===void 0&&Ni!==void 0?Wt[At]=Ni[At]:Wt[At]=ht[At])}var Ui=arguments.length-2;if(Ui===1)Wt.children=bt;else if(Ui>1){for(var ni=Array(Ui),Ki=0;Ki<Ui;Ki++)ni[Ki]=arguments[Ki+2];Wt.children=ni}return Xt(it.type,Ae,ve,Ue,ai,Mi,Wt)}function Ze(it){return typeof it=="object"&&it!==null&&it.$$typeof===s}var gi=".",ki=":";function mi(it){var ht=/[=:]/g,bt={"=":"=0",":":"=2"},At=it.replace(ht,function(Wt){return bt[Wt]});return"$"+At}var ri=!1,fi=/\/+/g;function Xn(it){return it.replace(fi,"$&/")}function us(it,ht){return typeof it=="object"&&it!==null&&it.key!=null?(Mt(it.key),mi(""+it.key)):ht.toString(36)}function Ln(it,ht,bt,At,Wt){var Ae=typeof it;(Ae==="undefined"||Ae==="boolean")&&(it=null);var ve=!1;if(it===null)ve=!0;else switch(Ae){case"string":case"number":ve=!0;break;case"object":switch(it.$$typeof){case s:case g:ve=!0}}if(ve){var Ue=it,ai=Wt(Ue),Mi=At===""?gi+us(Ue,0):At;if(ft(ai)){var Ni="";Mi!=null&&(Ni=Xn(Mi)+"/"),Ln(ai,ht,Ni,"",function(KT){return KT})}else ai!=null&&(Ze(ai)&&(ai.key&&(!Ue||Ue.key!==ai.key)&&Mt(ai.key),ai=Se(ai,bt+(ai.key&&(!Ue||Ue.key!==ai.key)?Xn(""+ai.key)+"/":"")+Mi)),ht.push(ai));return 1}var Ui,ni,Ki=0,mr=At===""?gi:At+ki;if(ft(it))for(var Nh=0;Nh<it.length;Nh++)Ui=it[Nh],ni=mr+us(Ui,Nh),Ki+=Ln(Ui,ht,bt,ni,Wt);else{var oc=v(it);if(typeof oc=="function"){var Fo=it;oc===Fo.entries&&(ri||B("Using Maps as children is not supported. Use an array of keyed ReactElements instead."),ri=!0);for(var lc=oc.call(Fo),hc,$T=0;!(hc=lc.next()).done;)Ui=hc.value,ni=mr+us(Ui,$T++),Ki+=Ln(Ui,ht,bt,ni,Wt)}else if(Ae==="object"){var Mg=String(it);throw new Error("Objects are not valid as a React child (found: "+(Mg==="[object Object]"?"object with keys {"+Object.keys(it).join(", ")+"}":Mg)+"). If you meant to render a collection of children, use an array instead.")}}return Ki}function fs(it,ht,bt){if(it==null)return it;var At=[],Wt=0;return Ln(it,At,"","",function(Ae){return ht.call(bt,Ae,Wt++)}),At}function la(it){var ht=0;return fs(it,function(){ht++}),ht}function ds(it,ht,bt){fs(it,function(){ht.apply(this,arguments)},bt)}function Tl(it){return fs(it,function(ht){return ht})||[]}function Ro(it){if(!Ze(it))throw new Error("React.Children.only expected to receive a single React element child.");return it}function ha(it){var ht={$$typeof:o,_currentValue:it,_currentValue2:it,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null};ht.Provider={$$typeof:r,_context:ht};var bt=!1,At=!1,Wt=!1;{var Ae={$$typeof:o,_context:ht};Object.defineProperties(Ae,{Provider:{get:function(){return At||(At=!0,k("Rendering <Context.Consumer.Provider> is not supported and will be removed in a future major release. Did you mean to render <Context.Provider> instead?")),ht.Provider},set:function(ve){ht.Provider=ve}},_currentValue:{get:function(){return ht._currentValue},set:function(ve){ht._currentValue=ve}},_currentValue2:{get:function(){return ht._currentValue2},set:function(ve){ht._currentValue2=ve}},_threadCount:{get:function(){return ht._threadCount},set:function(ve){ht._threadCount=ve}},Consumer:{get:function(){return bt||(bt=!0,k("Rendering <Context.Consumer.Consumer> is not supported and will be removed in a future major release. Did you mean to render <Context.Consumer> instead?")),ht.Consumer}},displayName:{get:function(){return ht.displayName},set:function(ve){Wt||(B("Setting `displayName` on Context.Consumer has no effect. You should set it directly on the context with Context.displayName = '%s'.",ve),Wt=!0)}}}),ht.Consumer=Ae}return ht._currentRenderer=null,ht._currentRenderer2=null,ht}var Wr=-1,Hn=0,Dn=1,Re=2;function Ao(it){if(it._status===Wr){var ht=it._result,bt=ht();if(bt.then(function(Ae){if(it._status===Hn||it._status===Wr){var ve=it;ve._status=Dn,ve._result=Ae}},function(Ae){if(it._status===Hn||it._status===Wr){var ve=it;ve._status=Re,ve._result=Ae}}),it._status===Wr){var At=it;At._status=Hn,At._result=bt}}if(it._status===Dn){var Wt=it._result;return Wt===void 0&&k(`lazy: Expected the result of a dynamic import() call. Instead received: %s

Your code should look like: 
  const MyComponent = lazy(() => import('./MyComponent'))

Did you accidentally put curly braces around the import?`,Wt),"default"in Wt||k(`lazy: Expected the result of a dynamic import() call. Instead received: %s

Your code should look like: 
  const MyComponent = lazy(() => import('./MyComponent'))`,Wt),Wt.default}else throw it._result}function ut(it){var ht={_status:Wr,_result:it},bt={$$typeof:a,_payload:ht,_init:Ao};{var At,Wt;Object.defineProperties(bt,{defaultProps:{configurable:!0,get:function(){return At},set:function(Ae){k("React.lazy(...): It is not supported to assign `defaultProps` to a lazy component import. Either specify them where the component is defined, or create a wrapping component around it."),At=Ae,Object.defineProperty(bt,"defaultProps",{enumerable:!0})}},propTypes:{configurable:!0,get:function(){return Wt},set:function(Ae){k("React.lazy(...): It is not supported to assign `propTypes` to a lazy component import. Either specify them where the component is defined, or create a wrapping component around it."),Wt=Ae,Object.defineProperty(bt,"propTypes",{enumerable:!0})}}})}return bt}function Bt(it){it!=null&&it.$$typeof===l?k("forwardRef requires a render function but received a `memo` component. Instead of forwardRef(memo(...)), use memo(forwardRef(...))."):typeof it!="function"?k("forwardRef requires a render function but was given %s.",it===null?"null":typeof it):it.length!==0&&it.length!==2&&k("forwardRef render functions accept exactly two parameters: props and ref. %s",it.length===1?"Did you forget to use the ref parameter?":"Any additional parameter will be undefined."),it!=null&&(it.defaultProps!=null||it.propTypes!=null)&&k("forwardRef render functions do not support propTypes or defaultProps. Did you accidentally pass a React component?");var ht={$$typeof:y,render:it};{var bt;Object.defineProperty(ht,"displayName",{enumerable:!1,configurable:!0,get:function(){return bt},set:function(At){bt=At,!it.name&&!it.displayName&&(it.displayName=At)}})}return ht}var Jt;Jt=Symbol.for("react.module.reference");function ue(it){return!!(typeof it=="string"||typeof it=="function"||it===E||it===T||G||it===n||it===d||it===h||F||it===f||R||A||L||typeof it=="object"&&it!==null&&(it.$$typeof===a||it.$$typeof===l||it.$$typeof===r||it.$$typeof===o||it.$$typeof===y||it.$$typeof===Jt||it.getModuleId!==void 0))}function ti(it,ht){ue(it)||k("memo: The first argument must be a component. Instead received: %s",it===null?"null":typeof it);var bt={$$typeof:l,type:it,compare:ht===void 0?null:ht};{var At;Object.defineProperty(bt,"displayName",{enumerable:!1,configurable:!0,get:function(){return At},set:function(Wt){At=Wt,!it.name&&!it.displayName&&(it.displayName=Wt)}})}return bt}function De(){var it=p.current;return it===null&&k(`Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:
1. You might have mismatching versions of React and the renderer (such as React DOM)
2. You might be breaking the Rules of Hooks
3. You might have more than one copy of React in the same app
See https://reactjs.org/link/invalid-hook-call for tips about how to debug and fix this problem.`),it}function Xe(it){var ht=De();if(it._context!==void 0){var bt=it._context;bt.Consumer===it?k("Calling useContext(Context.Consumer) is not supported, may cause bugs, and will be removed in a future major release. Did you mean to call useContext(Context) instead?"):bt.Provider===it&&k("Calling useContext(Context.Provider) is not supported. Did you mean to call useContext(Context) instead?")}return ht.useContext(it)}function Ee(it){var ht=De();return ht.useState(it)}function er(it,ht,bt){var At=De();return At.useReducer(it,ht,bt)}function Fi(it){var ht=De();return ht.useRef(it)}function Ii(it,ht){var bt=De();return bt.useEffect(it,ht)}function Rr(it,ht){var bt=De();return bt.useInsertionEffect(it,ht)}function Us(it,ht){var bt=De();return bt.useLayoutEffect(it,ht)}function cs(it,ht){var bt=De();return bt.useCallback(it,ht)}function fr(it,ht){var bt=De();return bt.useMemo(it,ht)}function Oo(it,ht,bt){var At=De();return At.useImperativeHandle(it,ht,bt)}function vs(it,ht){{var bt=De();return bt.useDebugValue(it,ht)}}function je(){var it=De();return it.useTransition()}function Lo(it){var ht=De();return ht.useDeferredValue(it)}function Ha(){var it=De();return it.useId()}function ef(it,ht,bt){var At=De();return At.useSyncExternalStore(it,ht,bt)}var Yr=0,Cl,ps,Fh,Ih,Bh,$a,rf;function Sl(){}Sl.__reactDisabledLog=!0;function ua(){{if(Yr===0){Cl=console.log,ps=console.info,Fh=console.warn,Ih=console.error,Bh=console.group,$a=console.groupCollapsed,rf=console.groupEnd;var it={configurable:!0,enumerable:!0,value:Sl,writable:!0};Object.defineProperties(console,{info:it,log:it,warn:it,error:it,group:it,groupCollapsed:it,groupEnd:it})}Yr++}}function Vs(){{if(Yr--,Yr===0){var it={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:Z({},it,{value:Cl}),info:Z({},it,{value:ps}),warn:Z({},it,{value:Fh}),error:Z({},it,{value:Ih}),group:Z({},it,{value:Bh}),groupCollapsed:Z({},it,{value:$a}),groupEnd:Z({},it,{value:rf})})}Yr<0&&k("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var gs=I.ReactCurrentDispatcher,Ka;function El(it,ht,bt){{if(Ka===void 0)try{throw Error()}catch(Wt){var At=Wt.stack.trim().match(/\n( *(at )?)/);Ka=At&&At[1]||""}return`
`+Ka+it}}var fa=!1,st;{var lt=typeof WeakMap=="function"?WeakMap:Map;st=new lt}function dt(it,ht){if(!it||fa)return"";{var bt=st.get(it);if(bt!==void 0)return bt}var At;fa=!0;var Wt=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var Ae;Ae=gs.current,gs.current=null,ua();try{if(ht){var ve=function(){throw Error()};if(Object.defineProperty(ve.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ve,[])}catch(mr){At=mr}Reflect.construct(it,[],ve)}else{try{ve.call()}catch(mr){At=mr}it.call(ve.prototype)}}else{try{throw Error()}catch(mr){At=mr}it()}}catch(mr){if(mr&&At&&typeof mr.stack=="string"){for(var Ue=mr.stack.split(`
`),ai=At.stack.split(`
`),Mi=Ue.length-1,Ni=ai.length-1;Mi>=1&&Ni>=0&&Ue[Mi]!==ai[Ni];)Ni--;for(;Mi>=1&&Ni>=0;Mi--,Ni--)if(Ue[Mi]!==ai[Ni]){if(Mi!==1||Ni!==1)do if(Mi--,Ni--,Ni<0||Ue[Mi]!==ai[Ni]){var Ui=`
`+Ue[Mi].replace(" at new "," at ");return it.displayName&&Ui.includes("<anonymous>")&&(Ui=Ui.replace("<anonymous>",it.displayName)),typeof it=="function"&&st.set(it,Ui),Ui}while(Mi>=1&&Ni>=0);break}}}finally{fa=!1,gs.current=Ae,Vs(),Error.prepareStackTrace=Wt}var ni=it?it.displayName||it.name:"",Ki=ni?El(ni):"";return typeof it=="function"&&st.set(it,Ki),Ki}function Et(it,ht,bt){return dt(it,!1)}function Rt(it){var ht=it.prototype;return!!(ht&&ht.isReactComponent)}function Kt(it,ht,bt){if(it==null)return"";if(typeof it=="function")return dt(it,Rt(it));if(typeof it=="string")return El(it);switch(it){case d:return El("Suspense");case h:return El("SuspenseList")}if(typeof it=="object")switch(it.$$typeof){case y:return Et(it.render);case l:return Kt(it.type,ht,bt);case a:{var At=it,Wt=At._payload,Ae=At._init;try{return Kt(Ae(Wt),ht,bt)}catch{}}}return""}var de={},le=I.ReactDebugCurrentFrame;function fe(it){if(it){var ht=it._owner,bt=Kt(it.type,it._source,ht?ht.type:null);le.setExtraStackFrame(bt)}else le.setExtraStackFrame(null)}function pe(it,ht,bt,At,Wt){{var Ae=Function.call.bind(Ht);for(var ve in it)if(Ae(it,ve)){var Ue=void 0;try{if(typeof it[ve]!="function"){var ai=Error((At||"React class")+": "+bt+" type `"+ve+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof it[ve]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw ai.name="Invariant Violation",ai}Ue=it[ve](ht,ve,At,bt,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(Mi){Ue=Mi}Ue&&!(Ue instanceof Error)&&(fe(Wt),k("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",At||"React class",bt,ve,typeof Ue),fe(null)),Ue instanceof Error&&!(Ue.message in de)&&(de[Ue.message]=!0,fe(Wt),k("Failed %s type: %s",bt,Ue.message),fe(null))}}}function We(it){if(it){var ht=it._owner,bt=Kt(it.type,it._source,ht?ht.type:null);M(bt)}else M(null)}var _t;_t=!1;function He(){if(C.current){var it=Yt(C.current.type);if(it)return`

Check the render method of \``+it+"`."}return""}function zt(it){if(it!==void 0){var ht=it.fileName.replace(/^.*[\\\/]/,""),bt=it.lineNumber;return`

Check your code at `+ht+":"+bt+"."}return""}function se(it){return it!=null?zt(it.__source):""}var xe={};function Hi(it){var ht=He();if(!ht){var bt=typeof it=="string"?it:it.displayName||it.name;bt&&(ht=`

Check the top-level render call using <`+bt+">.")}return ht}function jt(it,ht){if(!(!it._store||it._store.validated||it.key!=null)){it._store.validated=!0;var bt=Hi(ht);if(!xe[bt]){xe[bt]=!0;var At="";it&&it._owner&&it._owner!==C.current&&(At=" It was passed a child from "+Yt(it._owner.type)+"."),We(it),k('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',bt,At),We(null)}}}function Ye(it,ht){if(typeof it=="object"){if(ft(it))for(var bt=0;bt<it.length;bt++){var At=it[bt];Ze(At)&&jt(At,ht)}else if(Ze(it))it._store&&(it._store.validated=!0);else if(it){var Wt=v(it);if(typeof Wt=="function"&&Wt!==it.entries)for(var Ae=Wt.call(it),ve;!(ve=Ae.next()).done;)Ze(ve.value)&&jt(ve.value,ht)}}}function ii(it){{var ht=it.type;if(ht==null||typeof ht=="string")return;var bt;if(typeof ht=="function")bt=ht.propTypes;else if(typeof ht=="object"&&(ht.$$typeof===y||ht.$$typeof===l))bt=ht.propTypes;else return;if(bt){var At=Yt(ht);pe(bt,it.props,"prop",At,it)}else if(ht.PropTypes!==void 0&&!_t){_t=!0;var Wt=Yt(ht);k("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",Wt||"Unknown")}typeof ht.getDefaultProps=="function"&&!ht.getDefaultProps.isReactClassApproved&&k("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function yi(it){{for(var ht=Object.keys(it.props),bt=0;bt<ht.length;bt++){var At=ht[bt];if(At!=="children"&&At!=="key"){We(it),k("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",At),We(null);break}}it.ref!==null&&(We(it),k("Invalid attribute `ref` supplied to `React.Fragment`."),We(null))}}function $i(it,ht,bt){var At=ue(it);if(!At){var Wt="";(it===void 0||typeof it=="object"&&it!==null&&Object.keys(it).length===0)&&(Wt+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var Ae=se(ht);Ae?Wt+=Ae:Wt+=He();var ve;it===null?ve="null":ft(it)?ve="array":it!==void 0&&it.$$typeof===s?(ve="<"+(Yt(it.type)||"Unknown")+" />",Wt=" Did you accidentally export a JSX literal instead of a component?"):ve=typeof it,k("React.createElement: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",ve,Wt)}var Ue=ee.apply(this,arguments);if(Ue==null)return Ue;if(At)for(var ai=2;ai<arguments.length;ai++)Ye(arguments[ai],it);return it===E?yi(Ue):ii(Ue),Ue}var $n=!1;function nf(it){var ht=$i.bind(null,it);return ht.type=it,$n||($n=!0,B("React.createFactory() is deprecated and will be removed in a future major release. Consider using JSX or use React.createElement() directly instead.")),Object.defineProperty(ht,"type",{enumerable:!1,get:function(){return B("Factory.type is deprecated. Access the class directly before passing it to createFactory."),Object.defineProperty(this,"type",{value:it}),it}}),ht}function Gh(it,ht,bt){for(var At=we.apply(this,arguments),Wt=2;Wt<arguments.length;Wt++)Ye(arguments[Wt],At.type);return ii(At),At}function bl(it,ht){var bt=m.transition;m.transition={};var At=m.transition;m.transition._updatedFibers=new Set;try{it()}finally{if(m.transition=bt,bt===null&&At._updatedFibers){var Wt=At._updatedFibers.size;Wt>10&&B("Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table."),At._updatedFibers.clear()}}}var kh=!1,Pl=null;function ie(it){if(Pl===null)try{var ht=("require"+Math.random()).slice(0,7),bt=e&&e[ht];Pl=bt.call(e,"timers").setImmediate}catch{Pl=function(Wt){kh===!1&&(kh=!0,typeof MessageChannel>"u"&&k("This browser does not have a MessageChannel implementation, so enqueuing tasks via await act(async () => ...) will fail. Please file an issue at https://github.com/facebook/react/issues if you encounter this warning."));var Ae=new MessageChannel;Ae.port1.onmessage=Wt,Ae.port2.postMessage(void 0)}}return Pl(it)}var Xr=0,Kn=!1;function wl(it){{var ht=Xr;Xr++,x.current===null&&(x.current=[]);var bt=x.isBatchingLegacy,At;try{if(x.isBatchingLegacy=!0,At=it(),!bt&&x.didScheduleLegacyUpdate){var Wt=x.current;Wt!==null&&(x.didScheduleLegacyUpdate=!1,of(Wt))}}catch(ni){throw Do(ht),ni}finally{x.isBatchingLegacy=bt}if(At!==null&&typeof At=="object"&&typeof At.then=="function"){var Ae=At,ve=!1,Ue={then:function(ni,Ki){ve=!0,Ae.then(function(mr){Do(ht),Xr===0?sf(mr,ni,Ki):ni(mr)},function(mr){Do(ht),Ki(mr)})}};return!Kn&&typeof Promise<"u"&&Promise.resolve().then(function(){}).then(function(){ve||(Kn=!0,k("You called act(async () => ...) without await. This could lead to unexpected testing behaviour, interleaving multiple act calls and mixing their scopes. You should - await act(async () => ...);"))}),Ue}else{var ai=At;if(Do(ht),Xr===0){var Mi=x.current;Mi!==null&&(of(Mi),x.current=null);var Ni={then:function(ni,Ki){x.current===null?(x.current=[],sf(ai,ni,Ki)):ni(ai)}};return Ni}else{var Ui={then:function(ni,Ki){ni(ai)}};return Ui}}}}function Do(it){it!==Xr-1&&k("You seem to have overlapping act() calls, this is not supported. Be sure to await previous act() calls before making a new one. "),Xr=it}function sf(it,ht,bt){{var At=x.current;if(At!==null)try{of(At),ie(function(){At.length===0?(x.current=null,ht(it)):sf(it,ht,bt)})}catch(Wt){bt(Wt)}else ht(it)}}var af=!1;function of(it){if(!af){af=!0;var ht=0;try{for(;ht<it.length;ht++){var bt=it[ht];do bt=bt(!0);while(bt!==null)}it.length=0}catch(At){throw it=it.slice(ht+1),At}finally{af=!1}}}var bg=$i,Pg=Gh,ac=nf,wg={map:fs,forEach:ds,count:la,toArray:Tl,only:Ro};t.Children=wg,t.Component=$,t.Fragment=E,t.Profiler=T,t.PureComponent=_,t.StrictMode=n,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I,t.act=wl,t.cloneElement=Pg,t.createContext=ha,t.createElement=bg,t.createFactory=ac,t.createRef=rt,t.forwardRef=Bt,t.isValidElement=Ze,t.lazy=ut,t.memo=ti,t.startTransition=bl,t.unstable_act=wl,t.useCallback=cs,t.useContext=Xe,t.useDebugValue=vs,t.useDeferredValue=Lo,t.useEffect=Ii,t.useId=Ha,t.useImperativeHandle=Oo,t.useInsertionEffect=Rr,t.useLayoutEffect=Us,t.useMemo=fr,t.useReducer=er,t.useRef=Fi,t.useState=Ee,t.useSyncExternalStore=ef,t.useTransition=je,t.version=i,typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error)})()})(yp,yp.exports)),yp.exports}var tF;function Iw(){return tF||(tF=1,jE.exports=M$()),jE.exports}var eF;function R$(){if(eF)return w0;eF=1;/**
 * @license React
 * react-jsx-dev-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */return(function(){var e=Iw(),t=Symbol.for("react.element"),i=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),n=Symbol.for("react.provider"),T=Symbol.for("react.context"),r=Symbol.for("react.forward_ref"),o=Symbol.for("react.suspense"),y=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),l=Symbol.for("react.offscreen"),a=Symbol.iterator,f="@@iterator";function c(ut){if(ut===null||typeof ut!="object")return null;var Bt=a&&ut[a]||ut[f];return typeof Bt=="function"?Bt:null}var u=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function v(ut){{for(var Bt=arguments.length,Jt=new Array(Bt>1?Bt-1:0),ue=1;ue<Bt;ue++)Jt[ue-1]=arguments[ue];p("error",ut,Jt)}}function p(ut,Bt,Jt){{var ue=u.ReactDebugCurrentFrame,ti=ue.getStackAddendum();ti!==""&&(Bt+="%s",Jt=Jt.concat([ti]));var De=Jt.map(function(Xe){return String(Xe)});De.unshift("Warning: "+Bt),Function.prototype.apply.call(console[ut],console,De)}}var m=!1,x=!1,C=!1,P=!1,w=!1,M;M=Symbol.for("react.module.reference");function R(ut){return!!(typeof ut=="string"||typeof ut=="function"||ut===s||ut===E||w||ut===g||ut===o||ut===y||P||ut===l||m||x||C||typeof ut=="object"&&ut!==null&&(ut.$$typeof===h||ut.$$typeof===d||ut.$$typeof===n||ut.$$typeof===T||ut.$$typeof===r||ut.$$typeof===M||ut.getModuleId!==void 0))}function A(ut,Bt,Jt){var ue=ut.displayName;if(ue)return ue;var ti=Bt.displayName||Bt.name||"";return ti!==""?Jt+"("+ti+")":Jt}function L(ut){return ut.displayName||"Context"}function F(ut){if(ut==null)return null;if(typeof ut.tag=="number"&&v("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof ut=="function")return ut.displayName||ut.name||null;if(typeof ut=="string")return ut;switch(ut){case s:return"Fragment";case i:return"Portal";case E:return"Profiler";case g:return"StrictMode";case o:return"Suspense";case y:return"SuspenseList"}if(typeof ut=="object")switch(ut.$$typeof){case T:var Bt=ut;return L(Bt)+".Consumer";case n:var Jt=ut;return L(Jt._context)+".Provider";case r:return A(ut,ut.render,"ForwardRef");case d:var ue=ut.displayName||null;return ue!==null?ue:F(ut.type)||"Memo";case h:{var ti=ut,De=ti._payload,Xe=ti._init;try{return F(Xe(De))}catch{return null}}}return null}var G=Object.assign,I=0,B,k,U,H,X,j,Z;function Y(){}Y.__reactDisabledLog=!0;function $(){{if(I===0){B=console.log,k=console.info,U=console.warn,H=console.error,X=console.group,j=console.groupCollapsed,Z=console.groupEnd;var ut={configurable:!0,enumerable:!0,value:Y,writable:!0};Object.defineProperties(console,{info:ut,log:ut,warn:ut,error:ut,group:ut,groupCollapsed:ut,groupEnd:ut})}I++}}function z(){{if(I--,I===0){var ut={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:G({},ut,{value:B}),info:G({},ut,{value:k}),warn:G({},ut,{value:U}),error:G({},ut,{value:H}),group:G({},ut,{value:X}),groupCollapsed:G({},ut,{value:j}),groupEnd:G({},ut,{value:Z})})}I<0&&v("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var V=u.ReactCurrentDispatcher,K;function Q(ut,Bt,Jt){{if(K===void 0)try{throw Error()}catch(ti){var ue=ti.stack.trim().match(/\n( *(at )?)/);K=ue&&ue[1]||""}return`
`+K+ut}}var _=!1,tt;{var rt=typeof WeakMap=="function"?WeakMap:Map;tt=new rt}function ot(ut,Bt){if(!ut||_)return"";{var Jt=tt.get(ut);if(Jt!==void 0)return Jt}var ue;_=!0;var ti=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var De;De=V.current,V.current=null,$();try{if(Bt){var Xe=function(){throw Error()};if(Object.defineProperty(Xe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Xe,[])}catch(fr){ue=fr}Reflect.construct(ut,[],Xe)}else{try{Xe.call()}catch(fr){ue=fr}ut.call(Xe.prototype)}}else{try{throw Error()}catch(fr){ue=fr}ut()}}catch(fr){if(fr&&ue&&typeof fr.stack=="string"){for(var Ee=fr.stack.split(`
`),er=ue.stack.split(`
`),Fi=Ee.length-1,Ii=er.length-1;Fi>=1&&Ii>=0&&Ee[Fi]!==er[Ii];)Ii--;for(;Fi>=1&&Ii>=0;Fi--,Ii--)if(Ee[Fi]!==er[Ii]){if(Fi!==1||Ii!==1)do if(Fi--,Ii--,Ii<0||Ee[Fi]!==er[Ii]){var Rr=`
`+Ee[Fi].replace(" at new "," at ");return ut.displayName&&Rr.includes("<anonymous>")&&(Rr=Rr.replace("<anonymous>",ut.displayName)),typeof ut=="function"&&tt.set(ut,Rr),Rr}while(Fi>=1&&Ii>=0);break}}}finally{_=!1,V.current=De,z(),Error.prepareStackTrace=ti}var Us=ut?ut.displayName||ut.name:"",cs=Us?Q(Us):"";return typeof ut=="function"&&tt.set(ut,cs),cs}function ft(ut,Bt,Jt){return ot(ut,!1)}function ct(ut){var Bt=ut.prototype;return!!(Bt&&Bt.isReactComponent)}function gt(ut,Bt,Jt){if(ut==null)return"";if(typeof ut=="function")return ot(ut,ct(ut));if(typeof ut=="string")return Q(ut);switch(ut){case o:return Q("Suspense");case y:return Q("SuspenseList")}if(typeof ut=="object")switch(ut.$$typeof){case r:return ft(ut.render);case d:return gt(ut.type,Bt,Jt);case h:{var ue=ut,ti=ue._payload,De=ue._init;try{return gt(De(ti),Bt,Jt)}catch{}}}return""}var xt=Object.prototype.hasOwnProperty,Mt={},St=u.ReactDebugCurrentFrame;function $t(ut){if(ut){var Bt=ut._owner,Jt=gt(ut.type,ut._source,Bt?Bt.type:null);St.setExtraStackFrame(Jt)}else St.setExtraStackFrame(null)}function Yt(ut,Bt,Jt,ue,ti){{var De=Function.call.bind(xt);for(var Xe in ut)if(De(ut,Xe)){var Ee=void 0;try{if(typeof ut[Xe]!="function"){var er=Error((ue||"React class")+": "+Jt+" type `"+Xe+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof ut[Xe]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw er.name="Invariant Violation",er}Ee=ut[Xe](Bt,Xe,ue,Jt,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(Fi){Ee=Fi}Ee&&!(Ee instanceof Error)&&($t(ti),v("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",ue||"React class",Jt,Xe,typeof Ee),$t(null)),Ee instanceof Error&&!(Ee.message in Mt)&&(Mt[Ee.message]=!0,$t(ti),v("Failed %s type: %s",Jt,Ee.message),$t(null))}}}var Ht=Array.isArray;function Ct(ut){return Ht(ut)}function Nt(ut){{var Bt=typeof Symbol=="function"&&Symbol.toStringTag,Jt=Bt&&ut[Symbol.toStringTag]||ut.constructor.name||"Object";return Jt}}function Vt(ut){try{return qt(ut),!1}catch{return!0}}function qt(ut){return""+ut}function Ce(ut){if(Vt(ut))return v("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",Nt(ut)),qt(ut)}var ze=u.ReactCurrentOwner,ye={key:!0,ref:!0,__self:!0,__source:!0},Be,Gt,Xt;Xt={};function ee(ut){if(xt.call(ut,"ref")){var Bt=Object.getOwnPropertyDescriptor(ut,"ref").get;if(Bt&&Bt.isReactWarning)return!1}return ut.ref!==void 0}function Se(ut){if(xt.call(ut,"key")){var Bt=Object.getOwnPropertyDescriptor(ut,"key").get;if(Bt&&Bt.isReactWarning)return!1}return ut.key!==void 0}function we(ut,Bt){if(typeof ut.ref=="string"&&ze.current&&Bt&&ze.current.stateNode!==Bt){var Jt=F(ze.current.type);Xt[Jt]||(v('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',F(ze.current.type),ut.ref),Xt[Jt]=!0)}}function Ze(ut,Bt){{var Jt=function(){Be||(Be=!0,v("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",Bt))};Jt.isReactWarning=!0,Object.defineProperty(ut,"key",{get:Jt,configurable:!0})}}function gi(ut,Bt){{var Jt=function(){Gt||(Gt=!0,v("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",Bt))};Jt.isReactWarning=!0,Object.defineProperty(ut,"ref",{get:Jt,configurable:!0})}}var ki=function(ut,Bt,Jt,ue,ti,De,Xe){var Ee={$$typeof:t,type:ut,key:Bt,ref:Jt,props:Xe,_owner:De};return Ee._store={},Object.defineProperty(Ee._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(Ee,"_self",{configurable:!1,enumerable:!1,writable:!1,value:ue}),Object.defineProperty(Ee,"_source",{configurable:!1,enumerable:!1,writable:!1,value:ti}),Object.freeze&&(Object.freeze(Ee.props),Object.freeze(Ee)),Ee};function mi(ut,Bt,Jt,ue,ti){{var De,Xe={},Ee=null,er=null;Jt!==void 0&&(Ce(Jt),Ee=""+Jt),Se(Bt)&&(Ce(Bt.key),Ee=""+Bt.key),ee(Bt)&&(er=Bt.ref,we(Bt,ti));for(De in Bt)xt.call(Bt,De)&&!ye.hasOwnProperty(De)&&(Xe[De]=Bt[De]);if(ut&&ut.defaultProps){var Fi=ut.defaultProps;for(De in Fi)Xe[De]===void 0&&(Xe[De]=Fi[De])}if(Ee||er){var Ii=typeof ut=="function"?ut.displayName||ut.name||"Unknown":ut;Ee&&Ze(Xe,Ii),er&&gi(Xe,Ii)}return ki(ut,Ee,er,ti,ue,ze.current,Xe)}}var ri=u.ReactCurrentOwner,fi=u.ReactDebugCurrentFrame;function Xn(ut){if(ut){var Bt=ut._owner,Jt=gt(ut.type,ut._source,Bt?Bt.type:null);fi.setExtraStackFrame(Jt)}else fi.setExtraStackFrame(null)}var us;us=!1;function Ln(ut){return typeof ut=="object"&&ut!==null&&ut.$$typeof===t}function fs(){{if(ri.current){var ut=F(ri.current.type);if(ut)return`

Check the render method of \``+ut+"`."}return""}}function la(ut){{if(ut!==void 0){var Bt=ut.fileName.replace(/^.*[\\\/]/,""),Jt=ut.lineNumber;return`

Check your code at `+Bt+":"+Jt+"."}return""}}var ds={};function Tl(ut){{var Bt=fs();if(!Bt){var Jt=typeof ut=="string"?ut:ut.displayName||ut.name;Jt&&(Bt=`

Check the top-level render call using <`+Jt+">.")}return Bt}}function Ro(ut,Bt){{if(!ut._store||ut._store.validated||ut.key!=null)return;ut._store.validated=!0;var Jt=Tl(Bt);if(ds[Jt])return;ds[Jt]=!0;var ue="";ut&&ut._owner&&ut._owner!==ri.current&&(ue=" It was passed a child from "+F(ut._owner.type)+"."),Xn(ut),v('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',Jt,ue),Xn(null)}}function ha(ut,Bt){{if(typeof ut!="object")return;if(Ct(ut))for(var Jt=0;Jt<ut.length;Jt++){var ue=ut[Jt];Ln(ue)&&Ro(ue,Bt)}else if(Ln(ut))ut._store&&(ut._store.validated=!0);else if(ut){var ti=c(ut);if(typeof ti=="function"&&ti!==ut.entries)for(var De=ti.call(ut),Xe;!(Xe=De.next()).done;)Ln(Xe.value)&&Ro(Xe.value,Bt)}}}function Wr(ut){{var Bt=ut.type;if(Bt==null||typeof Bt=="string")return;var Jt;if(typeof Bt=="function")Jt=Bt.propTypes;else if(typeof Bt=="object"&&(Bt.$$typeof===r||Bt.$$typeof===d))Jt=Bt.propTypes;else return;if(Jt){var ue=F(Bt);Yt(Jt,ut.props,"prop",ue,ut)}else if(Bt.PropTypes!==void 0&&!us){us=!0;var ti=F(Bt);v("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",ti||"Unknown")}typeof Bt.getDefaultProps=="function"&&!Bt.getDefaultProps.isReactClassApproved&&v("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function Hn(ut){{for(var Bt=Object.keys(ut.props),Jt=0;Jt<Bt.length;Jt++){var ue=Bt[Jt];if(ue!=="children"&&ue!=="key"){Xn(ut),v("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",ue),Xn(null);break}}ut.ref!==null&&(Xn(ut),v("Invalid attribute `ref` supplied to `React.Fragment`."),Xn(null))}}var Dn={};function Re(ut,Bt,Jt,ue,ti,De){{var Xe=R(ut);if(!Xe){var Ee="";(ut===void 0||typeof ut=="object"&&ut!==null&&Object.keys(ut).length===0)&&(Ee+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var er=la(ti);er?Ee+=er:Ee+=fs();var Fi;ut===null?Fi="null":Ct(ut)?Fi="array":ut!==void 0&&ut.$$typeof===t?(Fi="<"+(F(ut.type)||"Unknown")+" />",Ee=" Did you accidentally export a JSX literal instead of a component?"):Fi=typeof ut,v("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",Fi,Ee)}var Ii=mi(ut,Bt,Jt,ti,De);if(Ii==null)return Ii;if(Xe){var Rr=Bt.children;if(Rr!==void 0)if(ue)if(Ct(Rr)){for(var Us=0;Us<Rr.length;Us++)ha(Rr[Us],ut);Object.freeze&&Object.freeze(Rr)}else v("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else ha(Rr,ut)}if(xt.call(Bt,"key")){var cs=F(ut),fr=Object.keys(Bt).filter(function(je){return je!=="key"}),Oo=fr.length>0?"{key: someKey, "+fr.join(": ..., ")+": ...}":"{key: someKey}";if(!Dn[cs+Oo]){var vs=fr.length>0?"{"+fr.join(": ..., ")+": ...}":"{}";v(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,Oo,cs,vs,cs),Dn[cs+Oo]=!0}}return ut===s?Hn(Ii):Wr(Ii),Ii}}var Ao=Re;w0.Fragment=s,w0.jsxDEV=Ao})(),w0}var iF;function A$(){return iF||(iF=1,ZE.exports=R$()),ZE.exports}var Pp=A$(),Jy=Iw();const O$=Up(Jy);var M0={},QE={exports:{}},ts={},qE={exports:{}},_E={},rF;function L$(){return rF||(rF=1,(function(e){/**
 * @license React
 * scheduler.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error);var t=!1,i=5;function s(Gt,Xt){var ee=Gt.length;Gt.push(Xt),n(Gt,Xt,ee)}function g(Gt){return Gt.length===0?null:Gt[0]}function E(Gt){if(Gt.length===0)return null;var Xt=Gt[0],ee=Gt.pop();return ee!==Xt&&(Gt[0]=ee,T(Gt,ee,0)),Xt}function n(Gt,Xt,ee){for(var Se=ee;Se>0;){var we=Se-1>>>1,Ze=Gt[we];if(r(Ze,Xt)>0)Gt[we]=Xt,Gt[Se]=Ze,Se=we;else return}}function T(Gt,Xt,ee){for(var Se=ee,we=Gt.length,Ze=we>>>1;Se<Ze;){var gi=(Se+1)*2-1,ki=Gt[gi],mi=gi+1,ri=Gt[mi];if(r(ki,Xt)<0)mi<we&&r(ri,ki)<0?(Gt[Se]=ri,Gt[mi]=Xt,Se=mi):(Gt[Se]=ki,Gt[gi]=Xt,Se=gi);else if(mi<we&&r(ri,Xt)<0)Gt[Se]=ri,Gt[mi]=Xt,Se=mi;else return}}function r(Gt,Xt){var ee=Gt.sortIndex-Xt.sortIndex;return ee!==0?ee:Gt.id-Xt.id}var o=1,y=2,d=3,h=4,l=5;function a(Gt,Xt){}var f=typeof performance=="object"&&typeof performance.now=="function";if(f){var c=performance;e.unstable_now=function(){return c.now()}}else{var u=Date,v=u.now();e.unstable_now=function(){return u.now()-v}}var p=1073741823,m=-1,x=250,C=5e3,P=1e4,w=p,M=[],R=[],A=1,L=null,F=d,G=!1,I=!1,B=!1,k=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function X(Gt){for(var Xt=g(R);Xt!==null;){if(Xt.callback===null)E(R);else if(Xt.startTime<=Gt)E(R),Xt.sortIndex=Xt.expirationTime,s(M,Xt);else return;Xt=g(R)}}function j(Gt){if(B=!1,X(Gt),!I)if(g(M)!==null)I=!0,qt(Z);else{var Xt=g(R);Xt!==null&&Ce(j,Xt.startTime-Gt)}}function Z(Gt,Xt){I=!1,B&&(B=!1,ze()),G=!0;var ee=F;try{var Se;if(!t)return Y(Gt,Xt)}finally{L=null,F=ee,G=!1}}function Y(Gt,Xt){var ee=Xt;for(X(ee),L=g(M);L!==null&&!(L.expirationTime>ee&&(!Gt||St()));){var Se=L.callback;if(typeof Se=="function"){L.callback=null,F=L.priorityLevel;var we=L.expirationTime<=ee,Ze=Se(we);ee=e.unstable_now(),typeof Ze=="function"?L.callback=Ze:L===g(M)&&E(M),X(ee)}else E(M);L=g(M)}if(L!==null)return!0;var gi=g(R);return gi!==null&&Ce(j,gi.startTime-ee),!1}function $(Gt,Xt){switch(Gt){case o:case y:case d:case h:case l:break;default:Gt=d}var ee=F;F=Gt;try{return Xt()}finally{F=ee}}function z(Gt){var Xt;switch(F){case o:case y:case d:Xt=d;break;default:Xt=F;break}var ee=F;F=Xt;try{return Gt()}finally{F=ee}}function V(Gt){var Xt=F;return function(){var ee=F;F=Xt;try{return Gt.apply(this,arguments)}finally{F=ee}}}function K(Gt,Xt,ee){var Se=e.unstable_now(),we;if(typeof ee=="object"&&ee!==null){var Ze=ee.delay;typeof Ze=="number"&&Ze>0?we=Se+Ze:we=Se}else we=Se;var gi;switch(Gt){case o:gi=m;break;case y:gi=x;break;case l:gi=w;break;case h:gi=P;break;case d:default:gi=C;break}var ki=we+gi,mi={id:A++,callback:Xt,priorityLevel:Gt,startTime:we,expirationTime:ki,sortIndex:-1};return we>Se?(mi.sortIndex=we,s(R,mi),g(M)===null&&mi===g(R)&&(B?ze():B=!0,Ce(j,we-Se))):(mi.sortIndex=ki,s(M,mi),!I&&!G&&(I=!0,qt(Z))),mi}function Q(){}function _(){!I&&!G&&(I=!0,qt(Z))}function tt(){return g(M)}function rt(Gt){Gt.callback=null}function ot(){return F}var ft=!1,ct=null,gt=-1,xt=i,Mt=-1;function St(){var Gt=e.unstable_now()-Mt;return!(Gt<xt)}function $t(){}function Yt(Gt){if(Gt<0||Gt>125){console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported");return}Gt>0?xt=Math.floor(1e3/Gt):xt=i}var Ht=function(){if(ct!==null){var Gt=e.unstable_now();Mt=Gt;var Xt=!0,ee=!0;try{ee=ct(Xt,Gt)}finally{ee?Ct():(ft=!1,ct=null)}}else ft=!1},Ct;if(typeof H=="function")Ct=function(){H(Ht)};else if(typeof MessageChannel<"u"){var Nt=new MessageChannel,Vt=Nt.port2;Nt.port1.onmessage=Ht,Ct=function(){Vt.postMessage(null)}}else Ct=function(){k(Ht,0)};function qt(Gt){ct=Gt,ft||(ft=!0,Ct())}function Ce(Gt,Xt){gt=k(function(){Gt(e.unstable_now())},Xt)}function ze(){U(gt),gt=-1}var ye=$t,Be=null;e.unstable_IdlePriority=l,e.unstable_ImmediatePriority=o,e.unstable_LowPriority=h,e.unstable_NormalPriority=d,e.unstable_Profiling=Be,e.unstable_UserBlockingPriority=y,e.unstable_cancelCallback=rt,e.unstable_continueExecution=_,e.unstable_forceFrameRate=Yt,e.unstable_getCurrentPriorityLevel=ot,e.unstable_getFirstCallbackNode=tt,e.unstable_next=z,e.unstable_pauseExecution=Q,e.unstable_requestPaint=ye,e.unstable_runWithPriority=$,e.unstable_scheduleCallback=K,e.unstable_shouldYield=St,e.unstable_wrapCallback=V,typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error)})()})(_E)),_E}var nF;function D$(){return nF||(nF=1,qE.exports=L$()),qE.exports}var sF;function F$(){if(sF)return ts;sF=1;/**
 * @license React
 * react-dom.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */return(function(){typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error);var e=Iw(),t=D$(),i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,s=!1;function g(S){s=S}function E(S){if(!s){for(var b=arguments.length,O=new Array(b>1?b-1:0),D=1;D<b;D++)O[D-1]=arguments[D];T("warn",S,O)}}function n(S){if(!s){for(var b=arguments.length,O=new Array(b>1?b-1:0),D=1;D<b;D++)O[D-1]=arguments[D];T("error",S,O)}}function T(S,b,O){{var D=i.ReactDebugCurrentFrame,N=D.getStackAddendum();N!==""&&(b+="%s",O=O.concat([N]));var W=O.map(function(J){return String(J)});W.unshift("Warning: "+b),Function.prototype.apply.call(console[S],console,W)}}var r=0,o=1,y=2,d=3,h=4,l=5,a=6,f=7,c=8,u=9,v=10,p=11,m=12,x=13,C=14,P=15,w=16,M=17,R=18,A=19,L=21,F=22,G=23,I=24,B=25,k=!0,U=!1,H=!1,X=!1,j=!1,Z=!0,Y=!0,$=!0,z=!0,V=new Set,K={},Q={};function _(S,b){tt(S,b),tt(S+"Capture",b)}function tt(S,b){K[S]&&n("EventRegistry: More than one plugin attempted to publish the same registration name, `%s`.",S),K[S]=b;{var O=S.toLowerCase();Q[O]=S,S==="onDoubleClick"&&(Q.ondblclick=S)}for(var D=0;D<b.length;D++)V.add(b[D])}var rt=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ot=Object.prototype.hasOwnProperty;function ft(S){{var b=typeof Symbol=="function"&&Symbol.toStringTag,O=b&&S[Symbol.toStringTag]||S.constructor.name||"Object";return O}}function ct(S){try{return gt(S),!1}catch{return!0}}function gt(S){return""+S}function xt(S,b){if(ct(S))return n("The provided `%s` attribute is an unsupported type %s. This value must be coerced to a string before before using it here.",b,ft(S)),gt(S)}function Mt(S){if(ct(S))return n("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",ft(S)),gt(S)}function St(S,b){if(ct(S))return n("The provided `%s` prop is an unsupported type %s. This value must be coerced to a string before before using it here.",b,ft(S)),gt(S)}function $t(S,b){if(ct(S))return n("The provided `%s` CSS property is an unsupported type %s. This value must be coerced to a string before before using it here.",b,ft(S)),gt(S)}function Yt(S){if(ct(S))return n("The provided HTML markup uses a value of unsupported type %s. This value must be coerced to a string before before using it here.",ft(S)),gt(S)}function Ht(S){if(ct(S))return n("Form field values (value, checked, defaultValue, or defaultChecked props) must be strings, not %s. This value must be coerced to a string before before using it here.",ft(S)),gt(S)}var Ct=0,Nt=1,Vt=2,qt=3,Ce=4,ze=5,ye=6,Be=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",Gt=Be+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",Xt=new RegExp("^["+Be+"]["+Gt+"]*$"),ee={},Se={};function we(S){return ot.call(Se,S)?!0:ot.call(ee,S)?!1:Xt.test(S)?(Se[S]=!0,!0):(ee[S]=!0,n("Invalid attribute name: `%s`",S),!1)}function Ze(S,b,O){return b!==null?b.type===Ct:O?!1:S.length>2&&(S[0]==="o"||S[0]==="O")&&(S[1]==="n"||S[1]==="N")}function gi(S,b,O,D){if(O!==null&&O.type===Ct)return!1;switch(typeof b){case"function":case"symbol":return!0;case"boolean":{if(D)return!1;if(O!==null)return!O.acceptsBooleans;var N=S.toLowerCase().slice(0,5);return N!=="data-"&&N!=="aria-"}default:return!1}}function ki(S,b,O,D){if(b===null||typeof b>"u"||gi(S,b,O,D))return!0;if(D)return!1;if(O!==null)switch(O.type){case qt:return!b;case Ce:return b===!1;case ze:return isNaN(b);case ye:return isNaN(b)||b<1}return!1}function mi(S){return fi.hasOwnProperty(S)?fi[S]:null}function ri(S,b,O,D,N,W,J){this.acceptsBooleans=b===Vt||b===qt||b===Ce,this.attributeName=D,this.attributeNamespace=N,this.mustUseProperty=O,this.propertyName=S,this.type=b,this.sanitizeURL=W,this.removeEmptyString=J}var fi={},Xn=["children","dangerouslySetInnerHTML","defaultValue","defaultChecked","innerHTML","suppressContentEditableWarning","suppressHydrationWarning","style"];Xn.forEach(function(S){fi[S]=new ri(S,Ct,!1,S,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(S){var b=S[0],O=S[1];fi[b]=new ri(b,Nt,!1,O,null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(S){fi[S]=new ri(S,Vt,!1,S.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(S){fi[S]=new ri(S,Vt,!1,S,null,!1,!1)}),["allowFullScreen","async","autoFocus","autoPlay","controls","default","defer","disabled","disablePictureInPicture","disableRemotePlayback","formNoValidate","hidden","loop","noModule","noValidate","open","playsInline","readOnly","required","reversed","scoped","seamless","itemScope"].forEach(function(S){fi[S]=new ri(S,qt,!1,S.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(S){fi[S]=new ri(S,qt,!0,S,null,!1,!1)}),["capture","download"].forEach(function(S){fi[S]=new ri(S,Ce,!1,S,null,!1,!1)}),["cols","rows","size","span"].forEach(function(S){fi[S]=new ri(S,ye,!1,S,null,!1,!1)}),["rowSpan","start"].forEach(function(S){fi[S]=new ri(S,ze,!1,S.toLowerCase(),null,!1,!1)});var us=/[\-\:]([a-z])/g,Ln=function(S){return S[1].toUpperCase()};["accent-height","alignment-baseline","arabic-form","baseline-shift","cap-height","clip-path","clip-rule","color-interpolation","color-interpolation-filters","color-profile","color-rendering","dominant-baseline","enable-background","fill-opacity","fill-rule","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","glyph-name","glyph-orientation-horizontal","glyph-orientation-vertical","horiz-adv-x","horiz-origin-x","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","overline-position","overline-thickness","paint-order","panose-1","pointer-events","rendering-intent","shape-rendering","stop-color","stop-opacity","strikethrough-position","strikethrough-thickness","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-rendering","underline-position","underline-thickness","unicode-bidi","unicode-range","units-per-em","v-alphabetic","v-hanging","v-ideographic","v-mathematical","vector-effect","vert-adv-y","vert-origin-x","vert-origin-y","word-spacing","writing-mode","xmlns:xlink","x-height"].forEach(function(S){var b=S.replace(us,Ln);fi[b]=new ri(b,Nt,!1,S,null,!1,!1)}),["xlink:actuate","xlink:arcrole","xlink:role","xlink:show","xlink:title","xlink:type"].forEach(function(S){var b=S.replace(us,Ln);fi[b]=new ri(b,Nt,!1,S,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(S){var b=S.replace(us,Ln);fi[b]=new ri(b,Nt,!1,S,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(S){fi[S]=new ri(S,Nt,!1,S.toLowerCase(),null,!1,!1)});var fs="xlinkHref";fi[fs]=new ri("xlinkHref",Nt,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(S){fi[S]=new ri(S,Nt,!1,S.toLowerCase(),null,!0,!0)});var la=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*\:/i,ds=!1;function Tl(S){!ds&&la.test(S)&&(ds=!0,n("A future version of React will block javascript: URLs as a security precaution. Use event handlers instead if you can. If you need to generate unsafe HTML try using dangerouslySetInnerHTML instead. React was passed %s.",JSON.stringify(S)))}function Ro(S,b,O,D){if(D.mustUseProperty){var N=D.propertyName;return S[N]}else{xt(O,b),D.sanitizeURL&&Tl(""+O);var W=D.attributeName,J=null;if(D.type===Ce){if(S.hasAttribute(W)){var q=S.getAttribute(W);return q===""?!0:ki(b,O,D,!1)?q:q===""+O?O:q}}else if(S.hasAttribute(W)){if(ki(b,O,D,!1))return S.getAttribute(W);if(D.type===qt)return O;J=S.getAttribute(W)}return ki(b,O,D,!1)?J===null?O:J:J===""+O?O:J}}function ha(S,b,O,D){{if(!we(b))return;if(!S.hasAttribute(b))return O===void 0?void 0:null;var N=S.getAttribute(b);return xt(O,b),N===""+O?O:N}}function Wr(S,b,O,D){var N=mi(b);if(!Ze(b,N,D)){if(ki(b,O,N,D)&&(O=null),D||N===null){if(we(b)){var W=b;O===null?S.removeAttribute(W):(xt(O,b),S.setAttribute(W,""+O))}return}var J=N.mustUseProperty;if(J){var q=N.propertyName;if(O===null){var et=N.type;S[q]=et===qt?!1:""}else S[q]=O;return}var nt=N.attributeName,at=N.attributeNamespace;if(O===null)S.removeAttribute(nt);else{var pt=N.type,vt;pt===qt||pt===Ce&&O===!0?vt="":(xt(O,nt),vt=""+O,N.sanitizeURL&&Tl(vt.toString())),at?S.setAttributeNS(at,nt,vt):S.setAttribute(nt,vt)}}}var Hn=Symbol.for("react.element"),Dn=Symbol.for("react.portal"),Re=Symbol.for("react.fragment"),Ao=Symbol.for("react.strict_mode"),ut=Symbol.for("react.profiler"),Bt=Symbol.for("react.provider"),Jt=Symbol.for("react.context"),ue=Symbol.for("react.forward_ref"),ti=Symbol.for("react.suspense"),De=Symbol.for("react.suspense_list"),Xe=Symbol.for("react.memo"),Ee=Symbol.for("react.lazy"),er=Symbol.for("react.scope"),Fi=Symbol.for("react.debug_trace_mode"),Ii=Symbol.for("react.offscreen"),Rr=Symbol.for("react.legacy_hidden"),Us=Symbol.for("react.cache"),cs=Symbol.for("react.tracing_marker"),fr=Symbol.iterator,Oo="@@iterator";function vs(S){if(S===null||typeof S!="object")return null;var b=fr&&S[fr]||S[Oo];return typeof b=="function"?b:null}var je=Object.assign,Lo=0,Ha,ef,Yr,Cl,ps,Fh,Ih;function Bh(){}Bh.__reactDisabledLog=!0;function $a(){{if(Lo===0){Ha=console.log,ef=console.info,Yr=console.warn,Cl=console.error,ps=console.group,Fh=console.groupCollapsed,Ih=console.groupEnd;var S={configurable:!0,enumerable:!0,value:Bh,writable:!0};Object.defineProperties(console,{info:S,log:S,warn:S,error:S,group:S,groupCollapsed:S,groupEnd:S})}Lo++}}function rf(){{if(Lo--,Lo===0){var S={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:je({},S,{value:Ha}),info:je({},S,{value:ef}),warn:je({},S,{value:Yr}),error:je({},S,{value:Cl}),group:je({},S,{value:ps}),groupCollapsed:je({},S,{value:Fh}),groupEnd:je({},S,{value:Ih})})}Lo<0&&n("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var Sl=i.ReactCurrentDispatcher,ua;function Vs(S,b,O){{if(ua===void 0)try{throw Error()}catch(N){var D=N.stack.trim().match(/\n( *(at )?)/);ua=D&&D[1]||""}return`
`+ua+S}}var gs=!1,Ka;{var El=typeof WeakMap=="function"?WeakMap:Map;Ka=new El}function fa(S,b){if(!S||gs)return"";{var O=Ka.get(S);if(O!==void 0)return O}var D;gs=!0;var N=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var W;W=Sl.current,Sl.current=null,$a();try{if(b){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(Pt){D=Pt}Reflect.construct(S,[],J)}else{try{J.call()}catch(Pt){D=Pt}S.call(J.prototype)}}else{try{throw Error()}catch(Pt){D=Pt}S()}}catch(Pt){if(Pt&&D&&typeof Pt.stack=="string"){for(var q=Pt.stack.split(`
`),et=D.stack.split(`
`),nt=q.length-1,at=et.length-1;nt>=1&&at>=0&&q[nt]!==et[at];)at--;for(;nt>=1&&at>=0;nt--,at--)if(q[nt]!==et[at]){if(nt!==1||at!==1)do if(nt--,at--,at<0||q[nt]!==et[at]){var pt=`
`+q[nt].replace(" at new "," at ");return S.displayName&&pt.includes("<anonymous>")&&(pt=pt.replace("<anonymous>",S.displayName)),typeof S=="function"&&Ka.set(S,pt),pt}while(nt>=1&&at>=0);break}}}finally{gs=!1,Sl.current=W,rf(),Error.prepareStackTrace=N}var vt=S?S.displayName||S.name:"",Tt=vt?Vs(vt):"";return typeof S=="function"&&Ka.set(S,Tt),Tt}function st(S,b,O){return fa(S,!0)}function lt(S,b,O){return fa(S,!1)}function dt(S){var b=S.prototype;return!!(b&&b.isReactComponent)}function Et(S,b,O){if(S==null)return"";if(typeof S=="function")return fa(S,dt(S));if(typeof S=="string")return Vs(S);switch(S){case ti:return Vs("Suspense");case De:return Vs("SuspenseList")}if(typeof S=="object")switch(S.$$typeof){case ue:return lt(S.render);case Xe:return Et(S.type,b,O);case Ee:{var D=S,N=D._payload,W=D._init;try{return Et(W(N),b,O)}catch{}}}return""}function Rt(S){switch(S._debugOwner&&S._debugOwner.type,S._debugSource,S.tag){case l:return Vs(S.type);case w:return Vs("Lazy");case x:return Vs("Suspense");case A:return Vs("SuspenseList");case r:case y:case P:return lt(S.type);case p:return lt(S.type.render);case o:return st(S.type);default:return""}}function Kt(S){try{var b="",O=S;do b+=Rt(O),O=O.return;while(O);return b}catch(D){return`
Error generating stack: `+D.message+`
`+D.stack}}function de(S,b,O){var D=S.displayName;if(D)return D;var N=b.displayName||b.name||"";return N!==""?O+"("+N+")":O}function le(S){return S.displayName||"Context"}function fe(S){if(S==null)return null;if(typeof S.tag=="number"&&n("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof S=="function")return S.displayName||S.name||null;if(typeof S=="string")return S;switch(S){case Re:return"Fragment";case Dn:return"Portal";case ut:return"Profiler";case Ao:return"StrictMode";case ti:return"Suspense";case De:return"SuspenseList"}if(typeof S=="object")switch(S.$$typeof){case Jt:var b=S;return le(b)+".Consumer";case Bt:var O=S;return le(O._context)+".Provider";case ue:return de(S,S.render,"ForwardRef");case Xe:var D=S.displayName||null;return D!==null?D:fe(S.type)||"Memo";case Ee:{var N=S,W=N._payload,J=N._init;try{return fe(J(W))}catch{return null}}}return null}function pe(S,b,O){var D=b.displayName||b.name||"";return S.displayName||(D!==""?O+"("+D+")":O)}function We(S){return S.displayName||"Context"}function _t(S){var b=S.tag,O=S.type;switch(b){case I:return"Cache";case u:var D=O;return We(D)+".Consumer";case v:var N=O;return We(N._context)+".Provider";case R:return"DehydratedFragment";case p:return pe(O,O.render,"ForwardRef");case f:return"Fragment";case l:return O;case h:return"Portal";case d:return"Root";case a:return"Text";case w:return fe(O);case c:return O===Ao?"StrictMode":"Mode";case F:return"Offscreen";case m:return"Profiler";case L:return"Scope";case x:return"Suspense";case A:return"SuspenseList";case B:return"TracingMarker";case o:case r:case M:case y:case C:case P:if(typeof O=="function")return O.displayName||O.name||null;if(typeof O=="string")return O;break}return null}var He=i.ReactDebugCurrentFrame,zt=null,se=!1;function xe(){{if(zt===null)return null;var S=zt._debugOwner;if(S!==null&&typeof S<"u")return _t(S)}return null}function Hi(){return zt===null?"":Kt(zt)}function jt(){He.getCurrentStack=null,zt=null,se=!1}function Ye(S){He.getCurrentStack=S===null?null:Hi,zt=S,se=!1}function ii(){return zt}function yi(S){se=S}function $i(S){return""+S}function $n(S){switch(typeof S){case"boolean":case"number":case"string":case"undefined":return S;case"object":return Ht(S),S;default:return""}}var nf={button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0};function Gh(S,b){nf[b.type]||b.onChange||b.onInput||b.readOnly||b.disabled||b.value==null||n("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`."),b.onChange||b.readOnly||b.disabled||b.checked==null||n("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")}function bl(S){var b=S.type,O=S.nodeName;return O&&O.toLowerCase()==="input"&&(b==="checkbox"||b==="radio")}function kh(S){return S._valueTracker}function Pl(S){S._valueTracker=null}function ie(S){var b="";return S&&(bl(S)?b=S.checked?"true":"false":b=S.value),b}function Xr(S){var b=bl(S)?"checked":"value",O=Object.getOwnPropertyDescriptor(S.constructor.prototype,b);Ht(S[b]);var D=""+S[b];if(!(S.hasOwnProperty(b)||typeof O>"u"||typeof O.get!="function"||typeof O.set!="function")){var N=O.get,W=O.set;Object.defineProperty(S,b,{configurable:!0,get:function(){return N.call(this)},set:function(q){Ht(q),D=""+q,W.call(this,q)}}),Object.defineProperty(S,b,{enumerable:O.enumerable});var J={getValue:function(){return D},setValue:function(q){Ht(q),D=""+q},stopTracking:function(){Pl(S),delete S[b]}};return J}}function Kn(S){kh(S)||(S._valueTracker=Xr(S))}function wl(S){if(!S)return!1;var b=kh(S);if(!b)return!0;var O=b.getValue(),D=ie(S);return D!==O?(b.setValue(D),!0):!1}function Do(S){if(S=S||(typeof document<"u"?document:void 0),typeof S>"u")return null;try{return S.activeElement||S.body}catch{return S.body}}var sf=!1,af=!1,of=!1,bg=!1;function Pg(S){var b=S.type==="checkbox"||S.type==="radio";return b?S.checked!=null:S.value!=null}function ac(S,b){var O=S,D=b.checked,N=je({},b,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:D??O._wrapperState.initialChecked});return N}function wg(S,b){Gh("input",b),b.checked!==void 0&&b.defaultChecked!==void 0&&!af&&(n("%s contains an input of type %s with both checked and defaultChecked props. Input elements must be either controlled or uncontrolled (specify either the checked prop, or the defaultChecked prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://reactjs.org/link/controlled-components",xe()||"A component",b.type),af=!0),b.value!==void 0&&b.defaultValue!==void 0&&!sf&&(n("%s contains an input of type %s with both value and defaultValue props. Input elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://reactjs.org/link/controlled-components",xe()||"A component",b.type),sf=!0);var O=S,D=b.defaultValue==null?"":b.defaultValue;O._wrapperState={initialChecked:b.checked!=null?b.checked:b.defaultChecked,initialValue:$n(b.value!=null?b.value:D),controlled:Pg(b)}}function it(S,b){var O=S,D=b.checked;D!=null&&Wr(O,"checked",D,!1)}function ht(S,b){var O=S;{var D=Pg(b);!O._wrapperState.controlled&&D&&!bg&&(n("A component is changing an uncontrolled input to be controlled. This is likely caused by the value changing from undefined to a defined value, which should not happen. Decide between using a controlled or uncontrolled input element for the lifetime of the component. More info: https://reactjs.org/link/controlled-components"),bg=!0),O._wrapperState.controlled&&!D&&!of&&(n("A component is changing a controlled input to be uncontrolled. This is likely caused by the value changing from a defined to undefined, which should not happen. Decide between using a controlled or uncontrolled input element for the lifetime of the component. More info: https://reactjs.org/link/controlled-components"),of=!0)}it(S,b);var N=$n(b.value),W=b.type;if(N!=null)W==="number"?(N===0&&O.value===""||O.value!=N)&&(O.value=$i(N)):O.value!==$i(N)&&(O.value=$i(N));else if(W==="submit"||W==="reset"){O.removeAttribute("value");return}b.hasOwnProperty("value")?Ae(O,b.type,N):b.hasOwnProperty("defaultValue")&&Ae(O,b.type,$n(b.defaultValue)),b.checked==null&&b.defaultChecked!=null&&(O.defaultChecked=!!b.defaultChecked)}function bt(S,b,O){var D=S;if(b.hasOwnProperty("value")||b.hasOwnProperty("defaultValue")){var N=b.type,W=N==="submit"||N==="reset";if(W&&(b.value===void 0||b.value===null))return;var J=$i(D._wrapperState.initialValue);O||J!==D.value&&(D.value=J),D.defaultValue=J}var q=D.name;q!==""&&(D.name=""),D.defaultChecked=!D.defaultChecked,D.defaultChecked=!!D._wrapperState.initialChecked,q!==""&&(D.name=q)}function At(S,b){var O=S;ht(O,b),Wt(O,b)}function Wt(S,b){var O=b.name;if(b.type==="radio"&&O!=null){for(var D=S;D.parentNode;)D=D.parentNode;xt(O,"name");for(var N=D.querySelectorAll("input[name="+JSON.stringify(""+O)+'][type="radio"]'),W=0;W<N.length;W++){var J=N[W];if(!(J===S||J.form!==S.form)){var q=dm(J);if(!q)throw new Error("ReactDOMInput: Mixing React and non-React radio inputs with the same `name` is not supported.");wl(J),ht(J,q)}}}}function Ae(S,b,O){(b!=="number"||Do(S.ownerDocument)!==S)&&(O==null?S.defaultValue=$i(S._wrapperState.initialValue):S.defaultValue!==$i(O)&&(S.defaultValue=$i(O)))}var ve=!1,Ue=!1,ai=!1;function Mi(S,b){b.value==null&&(typeof b.children=="object"&&b.children!==null?e.Children.forEach(b.children,function(O){O!=null&&(typeof O=="string"||typeof O=="number"||Ue||(Ue=!0,n("Cannot infer the option value of complex children. Pass a `value` prop or use a plain string as children to <option>.")))}):b.dangerouslySetInnerHTML!=null&&(ai||(ai=!0,n("Pass a `value` prop if you set dangerouslyInnerHTML so React knows which value should be selected.")))),b.selected!=null&&!ve&&(n("Use the `defaultValue` or `value` props on <select> instead of setting `selected` on <option>."),ve=!0)}function Ni(S,b){b.value!=null&&S.setAttribute("value",$i($n(b.value)))}var Ui=Array.isArray;function ni(S){return Ui(S)}var Ki;Ki=!1;function mr(){var S=xe();return S?`

Check the render method of \``+S+"`.":""}var Nh=["value","defaultValue"];function oc(S){{Gh("select",S);for(var b=0;b<Nh.length;b++){var O=Nh[b];if(S[O]!=null){var D=ni(S[O]);S.multiple&&!D?n("The `%s` prop supplied to <select> must be an array if `multiple` is true.%s",O,mr()):!S.multiple&&D&&n("The `%s` prop supplied to <select> must be a scalar value if `multiple` is false.%s",O,mr())}}}}function Fo(S,b,O,D){var N=S.options;if(b){for(var W=O,J={},q=0;q<W.length;q++)J["$"+W[q]]=!0;for(var et=0;et<N.length;et++){var nt=J.hasOwnProperty("$"+N[et].value);N[et].selected!==nt&&(N[et].selected=nt),nt&&D&&(N[et].defaultSelected=!0)}}else{for(var at=$i($n(O)),pt=null,vt=0;vt<N.length;vt++){if(N[vt].value===at){N[vt].selected=!0,D&&(N[vt].defaultSelected=!0);return}pt===null&&!N[vt].disabled&&(pt=N[vt])}pt!==null&&(pt.selected=!0)}}function lc(S,b){return je({},b,{value:void 0})}function hc(S,b){var O=S;oc(b),O._wrapperState={wasMultiple:!!b.multiple},b.value!==void 0&&b.defaultValue!==void 0&&!Ki&&(n("Select elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled select element and remove one of these props. More info: https://reactjs.org/link/controlled-components"),Ki=!0)}function $T(S,b){var O=S;O.multiple=!!b.multiple;var D=b.value;D!=null?Fo(O,!!b.multiple,D,!1):b.defaultValue!=null&&Fo(O,!!b.multiple,b.defaultValue,!0)}function Mg(S,b){var O=S,D=O._wrapperState.wasMultiple;O._wrapperState.wasMultiple=!!b.multiple;var N=b.value;N!=null?Fo(O,!!b.multiple,N,!1):D!==!!b.multiple&&(b.defaultValue!=null?Fo(O,!!b.multiple,b.defaultValue,!0):Fo(O,!!b.multiple,b.multiple?[]:"",!1))}function KT(S,b){var O=S,D=b.value;D!=null&&Fo(O,!!b.multiple,D,!1)}var XR=!1;function JT(S,b){var O=S;if(b.dangerouslySetInnerHTML!=null)throw new Error("`dangerouslySetInnerHTML` does not make sense on <textarea>.");var D=je({},b,{value:void 0,defaultValue:void 0,children:$i(O._wrapperState.initialValue)});return D}function HR(S,b){var O=S;Gh("textarea",b),b.value!==void 0&&b.defaultValue!==void 0&&!XR&&(n("%s contains a textarea with both value and defaultValue props. Textarea elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled textarea and remove one of these props. More info: https://reactjs.org/link/controlled-components",xe()||"A component"),XR=!0);var D=b.value;if(D==null){var N=b.children,W=b.defaultValue;if(N!=null){n("Use the `defaultValue` or `value` props instead of setting children on <textarea>.");{if(W!=null)throw new Error("If you supply `defaultValue` on a <textarea>, do not pass children.");if(ni(N)){if(N.length>1)throw new Error("<textarea> can only have at most one child.");N=N[0]}W=N}}W==null&&(W=""),D=W}O._wrapperState={initialValue:$n(D)}}function $R(S,b){var O=S,D=$n(b.value),N=$n(b.defaultValue);if(D!=null){var W=$i(D);W!==O.value&&(O.value=W),b.defaultValue==null&&O.defaultValue!==W&&(O.defaultValue=W)}N!=null&&(O.defaultValue=$i(N))}function KR(S,b){var O=S,D=O.textContent;D===O._wrapperState.initialValue&&D!==""&&D!==null&&(O.value=D)}function h6(S,b){$R(S,b)}var Io="http://www.w3.org/1999/xhtml",u6="http://www.w3.org/1998/Math/MathML",ZT="http://www.w3.org/2000/svg";function jT(S){switch(S){case"svg":return ZT;case"math":return u6;default:return Io}}function QT(S,b){return S==null||S===Io?jT(b):S===ZT&&b==="foreignObject"?Io:S}var f6=function(S){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(b,O,D,N){MSApp.execUnsafeLocalFunction(function(){return S(b,O,D,N)})}:S},Rg,JR=f6(function(S,b){if(S.namespaceURI===ZT&&!("innerHTML"in S)){Rg=Rg||document.createElement("div"),Rg.innerHTML="<svg>"+b.valueOf().toString()+"</svg>";for(var O=Rg.firstChild;S.firstChild;)S.removeChild(S.firstChild);for(;O.firstChild;)S.appendChild(O.firstChild);return}S.innerHTML=b}),Jn=1,Bo=3,yr=8,Go=9,qT=11,Ag=function(S,b){if(b){var O=S.firstChild;if(O&&O===S.lastChild&&O.nodeType===Bo){O.nodeValue=b;return}}S.textContent=b},d6={animation:["animationDelay","animationDirection","animationDuration","animationFillMode","animationIterationCount","animationName","animationPlayState","animationTimingFunction"],background:["backgroundAttachment","backgroundClip","backgroundColor","backgroundImage","backgroundOrigin","backgroundPositionX","backgroundPositionY","backgroundRepeat","backgroundSize"],backgroundPosition:["backgroundPositionX","backgroundPositionY"],border:["borderBottomColor","borderBottomStyle","borderBottomWidth","borderImageOutset","borderImageRepeat","borderImageSlice","borderImageSource","borderImageWidth","borderLeftColor","borderLeftStyle","borderLeftWidth","borderRightColor","borderRightStyle","borderRightWidth","borderTopColor","borderTopStyle","borderTopWidth"],borderBlockEnd:["borderBlockEndColor","borderBlockEndStyle","borderBlockEndWidth"],borderBlockStart:["borderBlockStartColor","borderBlockStartStyle","borderBlockStartWidth"],borderBottom:["borderBottomColor","borderBottomStyle","borderBottomWidth"],borderColor:["borderBottomColor","borderLeftColor","borderRightColor","borderTopColor"],borderImage:["borderImageOutset","borderImageRepeat","borderImageSlice","borderImageSource","borderImageWidth"],borderInlineEnd:["borderInlineEndColor","borderInlineEndStyle","borderInlineEndWidth"],borderInlineStart:["borderInlineStartColor","borderInlineStartStyle","borderInlineStartWidth"],borderLeft:["borderLeftColor","borderLeftStyle","borderLeftWidth"],borderRadius:["borderBottomLeftRadius","borderBottomRightRadius","borderTopLeftRadius","borderTopRightRadius"],borderRight:["borderRightColor","borderRightStyle","borderRightWidth"],borderStyle:["borderBottomStyle","borderLeftStyle","borderRightStyle","borderTopStyle"],borderTop:["borderTopColor","borderTopStyle","borderTopWidth"],borderWidth:["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth"],columnRule:["columnRuleColor","columnRuleStyle","columnRuleWidth"],columns:["columnCount","columnWidth"],flex:["flexBasis","flexGrow","flexShrink"],flexFlow:["flexDirection","flexWrap"],font:["fontFamily","fontFeatureSettings","fontKerning","fontLanguageOverride","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontVariantAlternates","fontVariantCaps","fontVariantEastAsian","fontVariantLigatures","fontVariantNumeric","fontVariantPosition","fontWeight","lineHeight"],fontVariant:["fontVariantAlternates","fontVariantCaps","fontVariantEastAsian","fontVariantLigatures","fontVariantNumeric","fontVariantPosition"],gap:["columnGap","rowGap"],grid:["gridAutoColumns","gridAutoFlow","gridAutoRows","gridTemplateAreas","gridTemplateColumns","gridTemplateRows"],gridArea:["gridColumnEnd","gridColumnStart","gridRowEnd","gridRowStart"],gridColumn:["gridColumnEnd","gridColumnStart"],gridColumnGap:["columnGap"],gridGap:["columnGap","rowGap"],gridRow:["gridRowEnd","gridRowStart"],gridRowGap:["rowGap"],gridTemplate:["gridTemplateAreas","gridTemplateColumns","gridTemplateRows"],listStyle:["listStyleImage","listStylePosition","listStyleType"],margin:["marginBottom","marginLeft","marginRight","marginTop"],marker:["markerEnd","markerMid","markerStart"],mask:["maskClip","maskComposite","maskImage","maskMode","maskOrigin","maskPositionX","maskPositionY","maskRepeat","maskSize"],maskPosition:["maskPositionX","maskPositionY"],outline:["outlineColor","outlineStyle","outlineWidth"],overflow:["overflowX","overflowY"],padding:["paddingBottom","paddingLeft","paddingRight","paddingTop"],placeContent:["alignContent","justifyContent"],placeItems:["alignItems","justifyItems"],placeSelf:["alignSelf","justifySelf"],textDecoration:["textDecorationColor","textDecorationLine","textDecorationStyle"],textEmphasis:["textEmphasisColor","textEmphasisStyle"],transition:["transitionDelay","transitionDuration","transitionProperty","transitionTimingFunction"],wordWrap:["overflowWrap"]},uc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0};function c6(S,b){return S+b.charAt(0).toUpperCase()+b.substring(1)}var v6=["Webkit","ms","Moz","O"];Object.keys(uc).forEach(function(S){v6.forEach(function(b){uc[c6(b,S)]=uc[S]})});function _T(S,b,O){var D=b==null||typeof b=="boolean"||b==="";return D?"":!O&&typeof b=="number"&&b!==0&&!(uc.hasOwnProperty(S)&&uc[S])?b+"px":($t(b,S),(""+b).trim())}var p6=/([A-Z])/g,g6=/^ms-/;function m6(S){return S.replace(p6,"-$1").toLowerCase().replace(g6,"-ms-")}var ZR=function(){};{var y6=/^(?:webkit|moz|o)[A-Z]/,x6=/^-ms-/,T6=/-(.)/g,jR=/;\s*$/,lf={},tC={},QR=!1,qR=!1,C6=function(S){return S.replace(T6,function(b,O){return O.toUpperCase()})},S6=function(S){lf.hasOwnProperty(S)&&lf[S]||(lf[S]=!0,n("Unsupported style property %s. Did you mean %s?",S,C6(S.replace(x6,"ms-"))))},E6=function(S){lf.hasOwnProperty(S)&&lf[S]||(lf[S]=!0,n("Unsupported vendor-prefixed style property %s. Did you mean %s?",S,S.charAt(0).toUpperCase()+S.slice(1)))},b6=function(S,b){tC.hasOwnProperty(b)&&tC[b]||(tC[b]=!0,n(`Style property values shouldn't contain a semicolon. Try "%s: %s" instead.`,S,b.replace(jR,"")))},P6=function(S,b){QR||(QR=!0,n("`NaN` is an invalid value for the `%s` css style property.",S))},w6=function(S,b){qR||(qR=!0,n("`Infinity` is an invalid value for the `%s` css style property.",S))};ZR=function(S,b){S.indexOf("-")>-1?S6(S):y6.test(S)?E6(S):jR.test(b)&&b6(S,b),typeof b=="number"&&(isNaN(b)?P6(S,b):isFinite(b)||w6(S,b))}}var M6=ZR;function R6(S){{var b="",O="";for(var D in S)if(S.hasOwnProperty(D)){var N=S[D];if(N!=null){var W=D.indexOf("--")===0;b+=O+(W?D:m6(D))+":",b+=_T(D,N,W),O=";"}}return b||null}}function _R(S,b){var O=S.style;for(var D in b)if(b.hasOwnProperty(D)){var N=D.indexOf("--")===0;N||M6(D,b[D]);var W=_T(D,b[D],N);D==="float"&&(D="cssFloat"),N?O.setProperty(D,W):O[D]=W}}function A6(S){return S==null||typeof S=="boolean"||S===""}function tA(S){var b={};for(var O in S)for(var D=d6[O]||[O],N=0;N<D.length;N++)b[D[N]]=O;return b}function O6(S,b){{if(!b)return;var O=tA(S),D=tA(b),N={};for(var W in O){var J=O[W],q=D[W];if(q&&J!==q){var et=J+","+q;if(N[et])continue;N[et]=!0,n("%s a style property during rerender (%s) when a conflicting property is set (%s) can lead to styling bugs. To avoid this, don't mix shorthand and non-shorthand properties for the same value; instead, replace the shorthand with separate values.",A6(S[J])?"Removing":"Updating",J,q)}}}}var L6={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},D6=je({menuitem:!0},L6),F6="__html";function eC(S,b){if(b){if(D6[S]&&(b.children!=null||b.dangerouslySetInnerHTML!=null))throw new Error(S+" is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");if(b.dangerouslySetInnerHTML!=null){if(b.children!=null)throw new Error("Can only set one of `children` or `props.dangerouslySetInnerHTML`.");if(typeof b.dangerouslySetInnerHTML!="object"||!(F6 in b.dangerouslySetInnerHTML))throw new Error("`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. Please visit https://reactjs.org/link/dangerously-set-inner-html for more information.")}if(!b.suppressContentEditableWarning&&b.contentEditable&&b.children!=null&&n("A component is `contentEditable` and contains `children` managed by React. It is now your responsibility to guarantee that none of those nodes are unexpectedly modified or duplicated. This is probably not intentional."),b.style!=null&&typeof b.style!="object")throw new Error("The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.")}}function Uh(S,b){if(S.indexOf("-")===-1)return typeof b.is=="string";switch(S){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Og={accept:"accept",acceptcharset:"acceptCharset","accept-charset":"acceptCharset",accesskey:"accessKey",action:"action",allowfullscreen:"allowFullScreen",alt:"alt",as:"as",async:"async",autocapitalize:"autoCapitalize",autocomplete:"autoComplete",autocorrect:"autoCorrect",autofocus:"autoFocus",autoplay:"autoPlay",autosave:"autoSave",capture:"capture",cellpadding:"cellPadding",cellspacing:"cellSpacing",challenge:"challenge",charset:"charSet",checked:"checked",children:"children",cite:"cite",class:"className",classid:"classID",classname:"className",cols:"cols",colspan:"colSpan",content:"content",contenteditable:"contentEditable",contextmenu:"contextMenu",controls:"controls",controlslist:"controlsList",coords:"coords",crossorigin:"crossOrigin",dangerouslysetinnerhtml:"dangerouslySetInnerHTML",data:"data",datetime:"dateTime",default:"default",defaultchecked:"defaultChecked",defaultvalue:"defaultValue",defer:"defer",dir:"dir",disabled:"disabled",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback",download:"download",draggable:"draggable",enctype:"encType",enterkeyhint:"enterKeyHint",for:"htmlFor",form:"form",formmethod:"formMethod",formaction:"formAction",formenctype:"formEncType",formnovalidate:"formNoValidate",formtarget:"formTarget",frameborder:"frameBorder",headers:"headers",height:"height",hidden:"hidden",high:"high",href:"href",hreflang:"hrefLang",htmlfor:"htmlFor",httpequiv:"httpEquiv","http-equiv":"httpEquiv",icon:"icon",id:"id",imagesizes:"imageSizes",imagesrcset:"imageSrcSet",innerhtml:"innerHTML",inputmode:"inputMode",integrity:"integrity",is:"is",itemid:"itemID",itemprop:"itemProp",itemref:"itemRef",itemscope:"itemScope",itemtype:"itemType",keyparams:"keyParams",keytype:"keyType",kind:"kind",label:"label",lang:"lang",list:"list",loop:"loop",low:"low",manifest:"manifest",marginwidth:"marginWidth",marginheight:"marginHeight",max:"max",maxlength:"maxLength",media:"media",mediagroup:"mediaGroup",method:"method",min:"min",minlength:"minLength",multiple:"multiple",muted:"muted",name:"name",nomodule:"noModule",nonce:"nonce",novalidate:"noValidate",open:"open",optimum:"optimum",pattern:"pattern",placeholder:"placeholder",playsinline:"playsInline",poster:"poster",preload:"preload",profile:"profile",radiogroup:"radioGroup",readonly:"readOnly",referrerpolicy:"referrerPolicy",rel:"rel",required:"required",reversed:"reversed",role:"role",rows:"rows",rowspan:"rowSpan",sandbox:"sandbox",scope:"scope",scoped:"scoped",scrolling:"scrolling",seamless:"seamless",selected:"selected",shape:"shape",size:"size",sizes:"sizes",span:"span",spellcheck:"spellCheck",src:"src",srcdoc:"srcDoc",srclang:"srcLang",srcset:"srcSet",start:"start",step:"step",style:"style",summary:"summary",tabindex:"tabIndex",target:"target",title:"title",type:"type",usemap:"useMap",value:"value",width:"width",wmode:"wmode",wrap:"wrap",about:"about",accentheight:"accentHeight","accent-height":"accentHeight",accumulate:"accumulate",additive:"additive",alignmentbaseline:"alignmentBaseline","alignment-baseline":"alignmentBaseline",allowreorder:"allowReorder",alphabetic:"alphabetic",amplitude:"amplitude",arabicform:"arabicForm","arabic-form":"arabicForm",ascent:"ascent",attributename:"attributeName",attributetype:"attributeType",autoreverse:"autoReverse",azimuth:"azimuth",basefrequency:"baseFrequency",baselineshift:"baselineShift","baseline-shift":"baselineShift",baseprofile:"baseProfile",bbox:"bbox",begin:"begin",bias:"bias",by:"by",calcmode:"calcMode",capheight:"capHeight","cap-height":"capHeight",clip:"clip",clippath:"clipPath","clip-path":"clipPath",clippathunits:"clipPathUnits",cliprule:"clipRule","clip-rule":"clipRule",color:"color",colorinterpolation:"colorInterpolation","color-interpolation":"colorInterpolation",colorinterpolationfilters:"colorInterpolationFilters","color-interpolation-filters":"colorInterpolationFilters",colorprofile:"colorProfile","color-profile":"colorProfile",colorrendering:"colorRendering","color-rendering":"colorRendering",contentscripttype:"contentScriptType",contentstyletype:"contentStyleType",cursor:"cursor",cx:"cx",cy:"cy",d:"d",datatype:"datatype",decelerate:"decelerate",descent:"descent",diffuseconstant:"diffuseConstant",direction:"direction",display:"display",divisor:"divisor",dominantbaseline:"dominantBaseline","dominant-baseline":"dominantBaseline",dur:"dur",dx:"dx",dy:"dy",edgemode:"edgeMode",elevation:"elevation",enablebackground:"enableBackground","enable-background":"enableBackground",end:"end",exponent:"exponent",externalresourcesrequired:"externalResourcesRequired",fill:"fill",fillopacity:"fillOpacity","fill-opacity":"fillOpacity",fillrule:"fillRule","fill-rule":"fillRule",filter:"filter",filterres:"filterRes",filterunits:"filterUnits",floodopacity:"floodOpacity","flood-opacity":"floodOpacity",floodcolor:"floodColor","flood-color":"floodColor",focusable:"focusable",fontfamily:"fontFamily","font-family":"fontFamily",fontsize:"fontSize","font-size":"fontSize",fontsizeadjust:"fontSizeAdjust","font-size-adjust":"fontSizeAdjust",fontstretch:"fontStretch","font-stretch":"fontStretch",fontstyle:"fontStyle","font-style":"fontStyle",fontvariant:"fontVariant","font-variant":"fontVariant",fontweight:"fontWeight","font-weight":"fontWeight",format:"format",from:"from",fx:"fx",fy:"fy",g1:"g1",g2:"g2",glyphname:"glyphName","glyph-name":"glyphName",glyphorientationhorizontal:"glyphOrientationHorizontal","glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphorientationvertical:"glyphOrientationVertical","glyph-orientation-vertical":"glyphOrientationVertical",glyphref:"glyphRef",gradienttransform:"gradientTransform",gradientunits:"gradientUnits",hanging:"hanging",horizadvx:"horizAdvX","horiz-adv-x":"horizAdvX",horizoriginx:"horizOriginX","horiz-origin-x":"horizOriginX",ideographic:"ideographic",imagerendering:"imageRendering","image-rendering":"imageRendering",in2:"in2",in:"in",inlist:"inlist",intercept:"intercept",k1:"k1",k2:"k2",k3:"k3",k4:"k4",k:"k",kernelmatrix:"kernelMatrix",kernelunitlength:"kernelUnitLength",kerning:"kerning",keypoints:"keyPoints",keysplines:"keySplines",keytimes:"keyTimes",lengthadjust:"lengthAdjust",letterspacing:"letterSpacing","letter-spacing":"letterSpacing",lightingcolor:"lightingColor","lighting-color":"lightingColor",limitingconeangle:"limitingConeAngle",local:"local",markerend:"markerEnd","marker-end":"markerEnd",markerheight:"markerHeight",markermid:"markerMid","marker-mid":"markerMid",markerstart:"markerStart","marker-start":"markerStart",markerunits:"markerUnits",markerwidth:"markerWidth",mask:"mask",maskcontentunits:"maskContentUnits",maskunits:"maskUnits",mathematical:"mathematical",mode:"mode",numoctaves:"numOctaves",offset:"offset",opacity:"opacity",operator:"operator",order:"order",orient:"orient",orientation:"orientation",origin:"origin",overflow:"overflow",overlineposition:"overlinePosition","overline-position":"overlinePosition",overlinethickness:"overlineThickness","overline-thickness":"overlineThickness",paintorder:"paintOrder","paint-order":"paintOrder",panose1:"panose1","panose-1":"panose1",pathlength:"pathLength",patterncontentunits:"patternContentUnits",patterntransform:"patternTransform",patternunits:"patternUnits",pointerevents:"pointerEvents","pointer-events":"pointerEvents",points:"points",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",prefix:"prefix",preservealpha:"preserveAlpha",preserveaspectratio:"preserveAspectRatio",primitiveunits:"primitiveUnits",property:"property",r:"r",radius:"radius",refx:"refX",refy:"refY",renderingintent:"renderingIntent","rendering-intent":"renderingIntent",repeatcount:"repeatCount",repeatdur:"repeatDur",requiredextensions:"requiredExtensions",requiredfeatures:"requiredFeatures",resource:"resource",restart:"restart",result:"result",results:"results",rotate:"rotate",rx:"rx",ry:"ry",scale:"scale",security:"security",seed:"seed",shaperendering:"shapeRendering","shape-rendering":"shapeRendering",slope:"slope",spacing:"spacing",specularconstant:"specularConstant",specularexponent:"specularExponent",speed:"speed",spreadmethod:"spreadMethod",startoffset:"startOffset",stddeviation:"stdDeviation",stemh:"stemh",stemv:"stemv",stitchtiles:"stitchTiles",stopcolor:"stopColor","stop-color":"stopColor",stopopacity:"stopOpacity","stop-opacity":"stopOpacity",strikethroughposition:"strikethroughPosition","strikethrough-position":"strikethroughPosition",strikethroughthickness:"strikethroughThickness","strikethrough-thickness":"strikethroughThickness",string:"string",stroke:"stroke",strokedasharray:"strokeDasharray","stroke-dasharray":"strokeDasharray",strokedashoffset:"strokeDashoffset","stroke-dashoffset":"strokeDashoffset",strokelinecap:"strokeLinecap","stroke-linecap":"strokeLinecap",strokelinejoin:"strokeLinejoin","stroke-linejoin":"strokeLinejoin",strokemiterlimit:"strokeMiterlimit","stroke-miterlimit":"strokeMiterlimit",strokewidth:"strokeWidth","stroke-width":"strokeWidth",strokeopacity:"strokeOpacity","stroke-opacity":"strokeOpacity",suppresscontenteditablewarning:"suppressContentEditableWarning",suppresshydrationwarning:"suppressHydrationWarning",surfacescale:"surfaceScale",systemlanguage:"systemLanguage",tablevalues:"tableValues",targetx:"targetX",targety:"targetY",textanchor:"textAnchor","text-anchor":"textAnchor",textdecoration:"textDecoration","text-decoration":"textDecoration",textlength:"textLength",textrendering:"textRendering","text-rendering":"textRendering",to:"to",transform:"transform",typeof:"typeof",u1:"u1",u2:"u2",underlineposition:"underlinePosition","underline-position":"underlinePosition",underlinethickness:"underlineThickness","underline-thickness":"underlineThickness",unicode:"unicode",unicodebidi:"unicodeBidi","unicode-bidi":"unicodeBidi",unicoderange:"unicodeRange","unicode-range":"unicodeRange",unitsperem:"unitsPerEm","units-per-em":"unitsPerEm",unselectable:"unselectable",valphabetic:"vAlphabetic","v-alphabetic":"vAlphabetic",values:"values",vectoreffect:"vectorEffect","vector-effect":"vectorEffect",version:"version",vertadvy:"vertAdvY","vert-adv-y":"vertAdvY",vertoriginx:"vertOriginX","vert-origin-x":"vertOriginX",vertoriginy:"vertOriginY","vert-origin-y":"vertOriginY",vhanging:"vHanging","v-hanging":"vHanging",videographic:"vIdeographic","v-ideographic":"vIdeographic",viewbox:"viewBox",viewtarget:"viewTarget",visibility:"visibility",vmathematical:"vMathematical","v-mathematical":"vMathematical",vocab:"vocab",widths:"widths",wordspacing:"wordSpacing","word-spacing":"wordSpacing",writingmode:"writingMode","writing-mode":"writingMode",x1:"x1",x2:"x2",x:"x",xchannelselector:"xChannelSelector",xheight:"xHeight","x-height":"xHeight",xlinkactuate:"xlinkActuate","xlink:actuate":"xlinkActuate",xlinkarcrole:"xlinkArcrole","xlink:arcrole":"xlinkArcrole",xlinkhref:"xlinkHref","xlink:href":"xlinkHref",xlinkrole:"xlinkRole","xlink:role":"xlinkRole",xlinkshow:"xlinkShow","xlink:show":"xlinkShow",xlinktitle:"xlinkTitle","xlink:title":"xlinkTitle",xlinktype:"xlinkType","xlink:type":"xlinkType",xmlbase:"xmlBase","xml:base":"xmlBase",xmllang:"xmlLang","xml:lang":"xmlLang",xmlns:"xmlns","xml:space":"xmlSpace",xmlnsxlink:"xmlnsXlink","xmlns:xlink":"xmlnsXlink",xmlspace:"xmlSpace",y1:"y1",y2:"y2",y:"y",ychannelselector:"yChannelSelector",z:"z",zoomandpan:"zoomAndPan"},eA={"aria-current":0,"aria-description":0,"aria-details":0,"aria-disabled":0,"aria-hidden":0,"aria-invalid":0,"aria-keyshortcuts":0,"aria-label":0,"aria-roledescription":0,"aria-autocomplete":0,"aria-checked":0,"aria-expanded":0,"aria-haspopup":0,"aria-level":0,"aria-modal":0,"aria-multiline":0,"aria-multiselectable":0,"aria-orientation":0,"aria-placeholder":0,"aria-pressed":0,"aria-readonly":0,"aria-required":0,"aria-selected":0,"aria-sort":0,"aria-valuemax":0,"aria-valuemin":0,"aria-valuenow":0,"aria-valuetext":0,"aria-atomic":0,"aria-busy":0,"aria-live":0,"aria-relevant":0,"aria-dropeffect":0,"aria-grabbed":0,"aria-activedescendant":0,"aria-colcount":0,"aria-colindex":0,"aria-colspan":0,"aria-controls":0,"aria-describedby":0,"aria-errormessage":0,"aria-flowto":0,"aria-labelledby":0,"aria-owns":0,"aria-posinset":0,"aria-rowcount":0,"aria-rowindex":0,"aria-rowspan":0,"aria-setsize":0},hf={},I6=new RegExp("^(aria)-["+Gt+"]*$"),B6=new RegExp("^(aria)[A-Z]["+Gt+"]*$");function G6(S,b){{if(ot.call(hf,b)&&hf[b])return!0;if(B6.test(b)){var O="aria-"+b.slice(4).toLowerCase(),D=eA.hasOwnProperty(O)?O:null;if(D==null)return n("Invalid ARIA attribute `%s`. ARIA attributes follow the pattern aria-* and must be lowercase.",b),hf[b]=!0,!0;if(b!==D)return n("Invalid ARIA attribute `%s`. Did you mean `%s`?",b,D),hf[b]=!0,!0}if(I6.test(b)){var N=b.toLowerCase(),W=eA.hasOwnProperty(N)?N:null;if(W==null)return hf[b]=!0,!1;if(b!==W)return n("Unknown ARIA attribute `%s`. Did you mean `%s`?",b,W),hf[b]=!0,!0}}return!0}function k6(S,b){{var O=[];for(var D in b){var N=G6(S,D);N||O.push(D)}var W=O.map(function(J){return"`"+J+"`"}).join(", ");O.length===1?n("Invalid aria prop %s on <%s> tag. For details, see https://reactjs.org/link/invalid-aria-props",W,S):O.length>1&&n("Invalid aria props %s on <%s> tag. For details, see https://reactjs.org/link/invalid-aria-props",W,S)}}function N6(S,b){Uh(S,b)||k6(S,b)}var iA=!1;function U6(S,b){{if(S!=="input"&&S!=="textarea"&&S!=="select")return;b!=null&&b.value===null&&!iA&&(iA=!0,S==="select"&&b.multiple?n("`value` prop on `%s` should not be null. Consider using an empty array when `multiple` is set to `true` to clear the component or `undefined` for uncontrolled components.",S):n("`value` prop on `%s` should not be null. Consider using an empty string to clear the component or `undefined` for uncontrolled components.",S))}}var rA=function(){};{var Fn={},nA=/^on./,V6=/^on[^A-Z]/,z6=new RegExp("^(aria)-["+Gt+"]*$"),W6=new RegExp("^(aria)[A-Z]["+Gt+"]*$");rA=function(S,b,O,D){if(ot.call(Fn,b)&&Fn[b])return!0;var N=b.toLowerCase();if(N==="onfocusin"||N==="onfocusout")return n("React uses onFocus and onBlur instead of onFocusIn and onFocusOut. All React events are normalized to bubble, so onFocusIn and onFocusOut are not needed/supported by React."),Fn[b]=!0,!0;if(D!=null){var W=D.registrationNameDependencies,J=D.possibleRegistrationNames;if(W.hasOwnProperty(b))return!0;var q=J.hasOwnProperty(N)?J[N]:null;if(q!=null)return n("Invalid event handler property `%s`. Did you mean `%s`?",b,q),Fn[b]=!0,!0;if(nA.test(b))return n("Unknown event handler property `%s`. It will be ignored.",b),Fn[b]=!0,!0}else if(nA.test(b))return V6.test(b)&&n("Invalid event handler property `%s`. React events use the camelCase naming convention, for example `onClick`.",b),Fn[b]=!0,!0;if(z6.test(b)||W6.test(b))return!0;if(N==="innerhtml")return n("Directly setting property `innerHTML` is not permitted. For more information, lookup documentation on `dangerouslySetInnerHTML`."),Fn[b]=!0,!0;if(N==="aria")return n("The `aria` attribute is reserved for future use in React. Pass individual `aria-` attributes instead."),Fn[b]=!0,!0;if(N==="is"&&O!==null&&O!==void 0&&typeof O!="string")return n("Received a `%s` for a string attribute `is`. If this is expected, cast the value to a string.",typeof O),Fn[b]=!0,!0;if(typeof O=="number"&&isNaN(O))return n("Received NaN for the `%s` attribute. If this is expected, cast the value to a string.",b),Fn[b]=!0,!0;var et=mi(b),nt=et!==null&&et.type===Ct;if(Og.hasOwnProperty(N)){var at=Og[N];if(at!==b)return n("Invalid DOM property `%s`. Did you mean `%s`?",b,at),Fn[b]=!0,!0}else if(!nt&&b!==N)return n("React does not recognize the `%s` prop on a DOM element. If you intentionally want it to appear in the DOM as a custom attribute, spell it as lowercase `%s` instead. If you accidentally passed it from a parent component, remove it from the DOM element.",b,N),Fn[b]=!0,!0;return typeof O=="boolean"&&gi(b,O,et,!1)?(O?n('Received `%s` for a non-boolean attribute `%s`.\n\nIf you want to write it to the DOM, pass a string instead: %s="%s" or %s={value.toString()}.',O,b,b,O,b):n('Received `%s` for a non-boolean attribute `%s`.\n\nIf you want to write it to the DOM, pass a string instead: %s="%s" or %s={value.toString()}.\n\nIf you used to conditionally omit it with %s={condition && value}, pass %s={condition ? value : undefined} instead.',O,b,b,O,b,b,b),Fn[b]=!0,!0):nt?!0:gi(b,O,et,!1)?(Fn[b]=!0,!1):((O==="false"||O==="true")&&et!==null&&et.type===qt&&(n("Received the string `%s` for the boolean attribute `%s`. %s Did you mean %s={%s}?",O,b,O==="false"?"The browser will interpret it as a truthy value.":'Although this works, it will not work as expected if you pass the string "false".',b,O),Fn[b]=!0),!0)}}var Y6=function(S,b,O){{var D=[];for(var N in b){var W=rA(S,N,b[N],O);W||D.push(N)}var J=D.map(function(q){return"`"+q+"`"}).join(", ");D.length===1?n("Invalid value for prop %s on <%s> tag. Either remove it from the element, or pass a string or number value to keep it in the DOM. For details, see https://reactjs.org/link/attribute-behavior ",J,S):D.length>1&&n("Invalid values for props %s on <%s> tag. Either remove them from the element, or pass a string or number value to keep them in the DOM. For details, see https://reactjs.org/link/attribute-behavior ",J,S)}};function X6(S,b,O){Uh(S,b)||Y6(S,b,O)}var sA=1,iC=2,fc=4,H6=sA|iC|fc,dc=null;function $6(S){dc!==null&&n("Expected currently replaying event to be null. This error is likely caused by a bug in React. Please file an issue."),dc=S}function K6(){dc===null&&n("Expected currently replaying event to not be null. This error is likely caused by a bug in React. Please file an issue."),dc=null}function J6(S){return S===dc}function rC(S){var b=S.target||S.srcElement||window;return b.correspondingUseElement&&(b=b.correspondingUseElement),b.nodeType===Bo?b.parentNode:b}var nC=null,uf=null,ff=null;function aA(S){var b=Bl(S);if(b){if(typeof nC!="function")throw new Error("setRestoreImplementation() needs to be called to handle a target for controlled events. This error is likely caused by a bug in React. Please file an issue.");var O=b.stateNode;if(O){var D=dm(O);nC(b.stateNode,b.type,D)}}}function Z6(S){nC=S}function oA(S){uf?ff?ff.push(S):ff=[S]:uf=S}function j6(){return uf!==null||ff!==null}function lA(){if(uf){var S=uf,b=ff;if(uf=null,ff=null,aA(S),b)for(var O=0;O<b.length;O++)aA(b[O])}}var hA=function(S,b){return S(b)},uA=function(){},sC=!1;function Q6(){var S=j6();S&&(uA(),lA())}function fA(S,b,O){if(sC)return S(b,O);sC=!0;try{return hA(S,b,O)}finally{sC=!1,Q6()}}function q6(S,b,O){hA=S,uA=O}function _6(S){return S==="button"||S==="input"||S==="select"||S==="textarea"}function t7(S,b,O){switch(S){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":return!!(O.disabled&&_6(b));default:return!1}}function cc(S,b){var O=S.stateNode;if(O===null)return null;var D=dm(O);if(D===null)return null;var N=D[b];if(t7(b,S.type,D))return null;if(N&&typeof N!="function")throw new Error("Expected `"+b+"` listener to be a function, instead got a value of `"+typeof N+"` type.");return N}var aC=!1;if(rt)try{var vc={};Object.defineProperty(vc,"passive",{get:function(){aC=!0}}),window.addEventListener("test",vc,vc),window.removeEventListener("test",vc,vc)}catch{aC=!1}function dA(S,b,O,D,N,W,J,q,et){var nt=Array.prototype.slice.call(arguments,3);try{b.apply(O,nt)}catch(at){this.onError(at)}}var cA=dA;if(typeof window<"u"&&typeof window.dispatchEvent=="function"&&typeof document<"u"&&typeof document.createEvent=="function"){var oC=document.createElement("react");cA=function(b,O,D,N,W,J,q,et,nt){if(typeof document>"u"||document===null)throw new Error("The `document` global was defined when React was initialized, but is not defined anymore. This can happen in a test environment if a component schedules an update from an asynchronous callback, but the test has already finished running. To solve this, you can either unmount the component at the end of your test (and ensure that any asynchronous operations get canceled in `componentWillUnmount`), or you can change the test itself to be asynchronous.");var at=document.createEvent("Event"),pt=!1,vt=!0,Tt=window.event,Pt=Object.getOwnPropertyDescriptor(window,"event");function Ot(){oC.removeEventListener(Lt,be,!1),typeof window.event<"u"&&window.hasOwnProperty("event")&&(window.event=Tt)}var Qt=Array.prototype.slice.call(arguments,3);function be(){pt=!0,Ot(),O.apply(D,Qt),vt=!1}var ge,hi=!1,si=!1;function mt(yt){if(ge=yt.error,hi=!0,ge===null&&yt.colno===0&&yt.lineno===0&&(si=!0),yt.defaultPrevented&&ge!=null&&typeof ge=="object")try{ge._suppressLogging=!0}catch{}}var Lt="react-"+(b||"invokeguardedcallback");if(window.addEventListener("error",mt),oC.addEventListener(Lt,be,!1),at.initEvent(Lt,!1,!1),oC.dispatchEvent(at),Pt&&Object.defineProperty(window,"event",Pt),pt&&vt&&(hi?si&&(ge=new Error("A cross-origin error was thrown. React doesn't have access to the actual error object in development. See https://reactjs.org/link/crossorigin-error for more information.")):ge=new Error(`An error was thrown inside one of your components, but React doesn't know what it was. This is likely due to browser flakiness. React does its best to preserve the "Pause on exceptions" behavior of the DevTools, which requires some DEV-mode only tricks. It's possible that these don't work in your browser. Try triggering the error in production mode, or switching to a modern browser. If you suspect that this is actually an issue with React, please file an issue.`),this.onError(ge)),window.removeEventListener("error",mt),!pt)return Ot(),dA.apply(this,arguments)}}var e7=cA,df=!1,Lg=null,Dg=!1,lC=null,i7={onError:function(S){df=!0,Lg=S}};function hC(S,b,O,D,N,W,J,q,et){df=!1,Lg=null,e7.apply(i7,arguments)}function r7(S,b,O,D,N,W,J,q,et){if(hC.apply(this,arguments),df){var nt=uC();Dg||(Dg=!0,lC=nt)}}function n7(){if(Dg){var S=lC;throw Dg=!1,lC=null,S}}function s7(){return df}function uC(){if(df){var S=Lg;return df=!1,Lg=null,S}else throw new Error("clearCaughtError was called but no error was captured. This error is likely caused by a bug in React. Please file an issue.")}function cf(S){return S._reactInternals}function a7(S){return S._reactInternals!==void 0}function o7(S,b){S._reactInternals=b}var Le=0,vf=1,xr=2,xi=4,Vh=16,pc=32,vA=64,Ti=128,ko=256,zh=512,pf=1024,Ml=2048,No=4096,Wh=8192,fC=16384,l7=32767,Fg=32768,In=65536,dC=131072,pA=1048576,cC=2097152,Yh=4194304,vC=8388608,Rl=16777216,pC=33554432,gC=xi|pf|0,mC=xr|xi|Vh|pc|zh|No|Wh,gc=xi|vA|zh|Wh,gf=Ml|Vh,Uo=Yh|vC|cC,h7=i.ReactCurrentOwner;function Xh(S){var b=S,O=S;if(S.alternate)for(;b.return;)b=b.return;else{var D=b;do b=D,(b.flags&(xr|No))!==Le&&(O=b.return),D=b.return;while(D)}return b.tag===d?O:null}function gA(S){if(S.tag===x){var b=S.memoizedState;if(b===null){var O=S.alternate;O!==null&&(b=O.memoizedState)}if(b!==null)return b.dehydrated}return null}function mA(S){return S.tag===d?S.stateNode.containerInfo:null}function u7(S){return Xh(S)===S}function f7(S){{var b=h7.current;if(b!==null&&b.tag===o){var O=b,D=O.stateNode;D._warnedAboutRefsInRender||n("%s is accessing isMounted inside its render() function. render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",_t(O)||"A component"),D._warnedAboutRefsInRender=!0}}var N=cf(S);return N?Xh(N)===N:!1}function yA(S){if(Xh(S)!==S)throw new Error("Unable to find node on an unmounted component.")}function xA(S){var b=S.alternate;if(!b){var O=Xh(S);if(O===null)throw new Error("Unable to find node on an unmounted component.");return O!==S?null:S}for(var D=S,N=b;;){var W=D.return;if(W===null)break;var J=W.alternate;if(J===null){var q=W.return;if(q!==null){D=N=q;continue}break}if(W.child===J.child){for(var et=W.child;et;){if(et===D)return yA(W),S;if(et===N)return yA(W),b;et=et.sibling}throw new Error("Unable to find node on an unmounted component.")}if(D.return!==N.return)D=W,N=J;else{for(var nt=!1,at=W.child;at;){if(at===D){nt=!0,D=W,N=J;break}if(at===N){nt=!0,N=W,D=J;break}at=at.sibling}if(!nt){for(at=J.child;at;){if(at===D){nt=!0,D=J,N=W;break}if(at===N){nt=!0,N=J,D=W;break}at=at.sibling}if(!nt)throw new Error("Child was not found in either parent set. This indicates a bug in React related to the return pointer. Please file an issue.")}}if(D.alternate!==N)throw new Error("Return fibers should always be each others' alternates. This error is likely caused by a bug in React. Please file an issue.")}if(D.tag!==d)throw new Error("Unable to find node on an unmounted component.");return D.stateNode.current===D?S:b}function TA(S){var b=xA(S);return b!==null?CA(b):null}function CA(S){if(S.tag===l||S.tag===a)return S;for(var b=S.child;b!==null;){var O=CA(b);if(O!==null)return O;b=b.sibling}return null}function d7(S){var b=xA(S);return b!==null?SA(b):null}function SA(S){if(S.tag===l||S.tag===a)return S;for(var b=S.child;b!==null;){if(b.tag!==h){var O=SA(b);if(O!==null)return O}b=b.sibling}return null}var EA=t.unstable_scheduleCallback,c7=t.unstable_cancelCallback,v7=t.unstable_shouldYield,p7=t.unstable_requestPaint,Hr=t.unstable_now,g7=t.unstable_getCurrentPriorityLevel,Ig=t.unstable_ImmediatePriority,yC=t.unstable_UserBlockingPriority,Hh=t.unstable_NormalPriority,m7=t.unstable_LowPriority,xC=t.unstable_IdlePriority,y7=t.unstable_yieldValue,x7=t.unstable_setDisableYieldValue,mf=null,yn=null,ne=null,Ja=!1,da=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u";function T7(S){if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")return!1;var b=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(b.isDisabled)return!0;if(!b.supportsFiber)return n("The installed version of React DevTools is too old and will not work with the current version of React. Please update React DevTools. https://reactjs.org/link/react-devtools"),!0;try{Y&&(S=je({},S,{getLaneLabelMap:w7,injectProfilingHooks:P7})),mf=b.inject(S),yn=b}catch(O){n("React instrumentation encountered an error: %s.",O)}return!!b.checkDCE}function C7(S,b){if(yn&&typeof yn.onScheduleFiberRoot=="function")try{yn.onScheduleFiberRoot(mf,S,b)}catch(O){Ja||(Ja=!0,n("React instrumentation encountered an error: %s",O))}}function S7(S,b){if(yn&&typeof yn.onCommitFiberRoot=="function")try{var O=(S.current.flags&Ti)===Ti;if($){var D;switch(b){case xs:D=Ig;break;case zo:D=yC;break;case Wo:D=Hh;break;case zg:D=xC;break;default:D=Hh;break}yn.onCommitFiberRoot(mf,S,D,O)}}catch(N){Ja||(Ja=!0,n("React instrumentation encountered an error: %s",N))}}function E7(S){if(yn&&typeof yn.onPostCommitFiberRoot=="function")try{yn.onPostCommitFiberRoot(mf,S)}catch(b){Ja||(Ja=!0,n("React instrumentation encountered an error: %s",b))}}function b7(S){if(yn&&typeof yn.onCommitFiberUnmount=="function")try{yn.onCommitFiberUnmount(mf,S)}catch(b){Ja||(Ja=!0,n("React instrumentation encountered an error: %s",b))}}function $r(S){if(typeof y7=="function"&&(x7(S),g(S)),yn&&typeof yn.setStrictMode=="function")try{yn.setStrictMode(mf,S)}catch(b){Ja||(Ja=!0,n("React instrumentation encountered an error: %s",b))}}function P7(S){ne=S}function w7(){{for(var S=new Map,b=1,O=0;O<CC;O++){var D=$7(b);S.set(b,D),b*=2}return S}}function M7(S){ne!==null&&typeof ne.markCommitStarted=="function"&&ne.markCommitStarted(S)}function bA(){ne!==null&&typeof ne.markCommitStopped=="function"&&ne.markCommitStopped()}function mc(S){ne!==null&&typeof ne.markComponentRenderStarted=="function"&&ne.markComponentRenderStarted(S)}function yf(){ne!==null&&typeof ne.markComponentRenderStopped=="function"&&ne.markComponentRenderStopped()}function R7(S){ne!==null&&typeof ne.markComponentPassiveEffectMountStarted=="function"&&ne.markComponentPassiveEffectMountStarted(S)}function A7(){ne!==null&&typeof ne.markComponentPassiveEffectMountStopped=="function"&&ne.markComponentPassiveEffectMountStopped()}function O7(S){ne!==null&&typeof ne.markComponentPassiveEffectUnmountStarted=="function"&&ne.markComponentPassiveEffectUnmountStarted(S)}function L7(){ne!==null&&typeof ne.markComponentPassiveEffectUnmountStopped=="function"&&ne.markComponentPassiveEffectUnmountStopped()}function D7(S){ne!==null&&typeof ne.markComponentLayoutEffectMountStarted=="function"&&ne.markComponentLayoutEffectMountStarted(S)}function F7(){ne!==null&&typeof ne.markComponentLayoutEffectMountStopped=="function"&&ne.markComponentLayoutEffectMountStopped()}function PA(S){ne!==null&&typeof ne.markComponentLayoutEffectUnmountStarted=="function"&&ne.markComponentLayoutEffectUnmountStarted(S)}function wA(){ne!==null&&typeof ne.markComponentLayoutEffectUnmountStopped=="function"&&ne.markComponentLayoutEffectUnmountStopped()}function I7(S,b,O){ne!==null&&typeof ne.markComponentErrored=="function"&&ne.markComponentErrored(S,b,O)}function B7(S,b,O){ne!==null&&typeof ne.markComponentSuspended=="function"&&ne.markComponentSuspended(S,b,O)}function G7(S){ne!==null&&typeof ne.markLayoutEffectsStarted=="function"&&ne.markLayoutEffectsStarted(S)}function k7(){ne!==null&&typeof ne.markLayoutEffectsStopped=="function"&&ne.markLayoutEffectsStopped()}function N7(S){ne!==null&&typeof ne.markPassiveEffectsStarted=="function"&&ne.markPassiveEffectsStarted(S)}function U7(){ne!==null&&typeof ne.markPassiveEffectsStopped=="function"&&ne.markPassiveEffectsStopped()}function MA(S){ne!==null&&typeof ne.markRenderStarted=="function"&&ne.markRenderStarted(S)}function V7(){ne!==null&&typeof ne.markRenderYielded=="function"&&ne.markRenderYielded()}function RA(){ne!==null&&typeof ne.markRenderStopped=="function"&&ne.markRenderStopped()}function z7(S){ne!==null&&typeof ne.markRenderScheduled=="function"&&ne.markRenderScheduled(S)}function W7(S,b){ne!==null&&typeof ne.markForceUpdateScheduled=="function"&&ne.markForceUpdateScheduled(S,b)}function TC(S,b){ne!==null&&typeof ne.markStateUpdateScheduled=="function"&&ne.markStateUpdateScheduled(S,b)}var Me=0,oi=1,Ri=2,ir=8,Za=16,AA=Math.clz32?Math.clz32:H7,Y7=Math.log,X7=Math.LN2;function H7(S){var b=S>>>0;return b===0?32:31-(Y7(b)/X7|0)|0}var CC=31,kt=0,Kr=0,Ge=1,xf=2,Vo=4,$h=8,ja=16,yc=32,Tf=4194240,xc=64,SC=128,EC=256,bC=512,PC=1024,wC=2048,MC=4096,RC=8192,AC=16384,OC=32768,LC=65536,DC=131072,FC=262144,IC=524288,BC=1048576,GC=2097152,Bg=130023424,Cf=4194304,kC=8388608,NC=16777216,UC=33554432,VC=67108864,OA=Cf,Tc=134217728,LA=268435455,Cc=268435456,Kh=536870912,ms=1073741824;function $7(S){{if(S&Ge)return"Sync";if(S&xf)return"InputContinuousHydration";if(S&Vo)return"InputContinuous";if(S&$h)return"DefaultHydration";if(S&ja)return"Default";if(S&yc)return"TransitionHydration";if(S&Tf)return"Transition";if(S&Bg)return"Retry";if(S&Tc)return"SelectiveHydration";if(S&Cc)return"IdleHydration";if(S&Kh)return"Idle";if(S&ms)return"Offscreen"}}var Vi=-1,Gg=xc,kg=Cf;function Sc(S){switch(Jh(S)){case Ge:return Ge;case xf:return xf;case Vo:return Vo;case $h:return $h;case ja:return ja;case yc:return yc;case xc:case SC:case EC:case bC:case PC:case wC:case MC:case RC:case AC:case OC:case LC:case DC:case FC:case IC:case BC:case GC:return S&Tf;case Cf:case kC:case NC:case UC:case VC:return S&Bg;case Tc:return Tc;case Cc:return Cc;case Kh:return Kh;case ms:return ms;default:return n("Should have found matching lanes. This is a bug in React."),S}}function Ng(S,b){var O=S.pendingLanes;if(O===kt)return kt;var D=kt,N=S.suspendedLanes,W=S.pingedLanes,J=O&LA;if(J!==kt){var q=J&~N;if(q!==kt)D=Sc(q);else{var et=J&W;et!==kt&&(D=Sc(et))}}else{var nt=O&~N;nt!==kt?D=Sc(nt):W!==kt&&(D=Sc(W))}if(D===kt)return kt;if(b!==kt&&b!==D&&(b&N)===kt){var at=Jh(D),pt=Jh(b);if(at>=pt||at===ja&&(pt&Tf)!==kt)return b}(D&Vo)!==kt&&(D|=O&ja);var vt=S.entangledLanes;if(vt!==kt)for(var Tt=S.entanglements,Pt=D&vt;Pt>0;){var Ot=Zh(Pt),Qt=1<<Ot;D|=Tt[Ot],Pt&=~Qt}return D}function K7(S,b){for(var O=S.eventTimes,D=Vi;b>0;){var N=Zh(b),W=1<<N,J=O[N];J>D&&(D=J),b&=~W}return D}function J7(S,b){switch(S){case Ge:case xf:case Vo:return b+250;case $h:case ja:case yc:case xc:case SC:case EC:case bC:case PC:case wC:case MC:case RC:case AC:case OC:case LC:case DC:case FC:case IC:case BC:case GC:return b+5e3;case Cf:case kC:case NC:case UC:case VC:return Vi;case Tc:case Cc:case Kh:case ms:return Vi;default:return n("Should have found matching lanes. This is a bug in React."),Vi}}function Z7(S,b){for(var O=S.pendingLanes,D=S.suspendedLanes,N=S.pingedLanes,W=S.expirationTimes,J=O;J>0;){var q=Zh(J),et=1<<q,nt=W[q];nt===Vi?((et&D)===kt||(et&N)!==kt)&&(W[q]=J7(et,b)):nt<=b&&(S.expiredLanes|=et),J&=~et}}function j7(S){return Sc(S.pendingLanes)}function zC(S){var b=S.pendingLanes&~ms;return b!==kt?b:b&ms?ms:kt}function Q7(S){return(S&Ge)!==kt}function WC(S){return(S&LA)!==kt}function DA(S){return(S&Bg)===S}function q7(S){var b=Ge|Vo|ja;return(S&b)===kt}function _7(S){return(S&Tf)===S}function Ug(S,b){var O=xf|Vo|$h|ja;return(b&O)!==kt}function tU(S,b){return(b&S.expiredLanes)!==kt}function FA(S){return(S&Tf)!==kt}function IA(){var S=Gg;return Gg<<=1,(Gg&Tf)===kt&&(Gg=xc),S}function eU(){var S=kg;return kg<<=1,(kg&Bg)===kt&&(kg=Cf),S}function Jh(S){return S&-S}function Ec(S){return Jh(S)}function Zh(S){return 31-AA(S)}function YC(S){return Zh(S)}function ys(S,b){return(S&b)!==kt}function Sf(S,b){return(S&b)===b}function Qe(S,b){return S|b}function Vg(S,b){return S&~b}function BA(S,b){return S&b}function _wt(S){return S}function iU(S,b){return S!==Kr&&S<b?S:b}function XC(S){for(var b=[],O=0;O<CC;O++)b.push(S);return b}function bc(S,b,O){S.pendingLanes|=b,b!==Kh&&(S.suspendedLanes=kt,S.pingedLanes=kt);var D=S.eventTimes,N=YC(b);D[N]=O}function rU(S,b){S.suspendedLanes|=b,S.pingedLanes&=~b;for(var O=S.expirationTimes,D=b;D>0;){var N=Zh(D),W=1<<N;O[N]=Vi,D&=~W}}function GA(S,b,O){S.pingedLanes|=S.suspendedLanes&b}function nU(S,b){var O=S.pendingLanes&~b;S.pendingLanes=b,S.suspendedLanes=kt,S.pingedLanes=kt,S.expiredLanes&=b,S.mutableReadLanes&=b,S.entangledLanes&=b;for(var D=S.entanglements,N=S.eventTimes,W=S.expirationTimes,J=O;J>0;){var q=Zh(J),et=1<<q;D[q]=kt,N[q]=Vi,W[q]=Vi,J&=~et}}function HC(S,b){for(var O=S.entangledLanes|=b,D=S.entanglements,N=O;N;){var W=Zh(N),J=1<<W;J&b|D[W]&b&&(D[W]|=b),N&=~J}}function sU(S,b){var O=Jh(b),D;switch(O){case Vo:D=xf;break;case ja:D=$h;break;case xc:case SC:case EC:case bC:case PC:case wC:case MC:case RC:case AC:case OC:case LC:case DC:case FC:case IC:case BC:case GC:case Cf:case kC:case NC:case UC:case VC:D=yc;break;case Kh:D=Cc;break;default:D=Kr;break}return(D&(S.suspendedLanes|b))!==Kr?Kr:D}function kA(S,b,O){if(da)for(var D=S.pendingUpdatersLaneMap;O>0;){var N=YC(O),W=1<<N,J=D[N];J.add(b),O&=~W}}function NA(S,b){if(da)for(var O=S.pendingUpdatersLaneMap,D=S.memoizedUpdaters;b>0;){var N=YC(b),W=1<<N,J=O[N];J.size>0&&(J.forEach(function(q){var et=q.alternate;(et===null||!D.has(et))&&D.add(q)}),J.clear()),b&=~W}}function UA(S,b){return null}var xs=Ge,zo=Vo,Wo=ja,zg=Kh,Pc=Kr;function ca(){return Pc}function Jr(S){Pc=S}function aU(S,b){var O=Pc;try{return Pc=S,b()}finally{Pc=O}}function oU(S,b){return S!==0&&S<b?S:b}function lU(S,b){return S>b?S:b}function $C(S,b){return S!==0&&S<b}function VA(S){var b=Jh(S);return $C(xs,b)?$C(zo,b)?WC(b)?Wo:zg:zo:xs}function Wg(S){var b=S.current.memoizedState;return b.isDehydrated}var zA;function hU(S){zA=S}function uU(S){zA(S)}var KC;function fU(S){KC=S}var WA;function dU(S){WA=S}var YA;function cU(S){YA=S}var XA;function vU(S){XA=S}var JC=!1,Yg=[],Al=null,Ol=null,Ll=null,wc=new Map,Mc=new Map,Dl=[],pU=["mousedown","mouseup","touchcancel","touchend","touchstart","auxclick","dblclick","pointercancel","pointerdown","pointerup","dragend","dragstart","drop","compositionend","compositionstart","keydown","keypress","keyup","input","textInput","copy","cut","paste","click","change","contextmenu","reset","submit"];function gU(S){return pU.indexOf(S)>-1}function mU(S,b,O,D,N){return{blockedOn:S,domEventName:b,eventSystemFlags:O,nativeEvent:N,targetContainers:[D]}}function HA(S,b){switch(S){case"focusin":case"focusout":Al=null;break;case"dragenter":case"dragleave":Ol=null;break;case"mouseover":case"mouseout":Ll=null;break;case"pointerover":case"pointerout":{var O=b.pointerId;wc.delete(O);break}case"gotpointercapture":case"lostpointercapture":{var D=b.pointerId;Mc.delete(D);break}}}function Rc(S,b,O,D,N,W){if(S===null||S.nativeEvent!==W){var J=mU(b,O,D,N,W);if(b!==null){var q=Bl(b);q!==null&&KC(q)}return J}S.eventSystemFlags|=D;var et=S.targetContainers;return N!==null&&et.indexOf(N)===-1&&et.push(N),S}function yU(S,b,O,D,N){switch(b){case"focusin":{var W=N;return Al=Rc(Al,S,b,O,D,W),!0}case"dragenter":{var J=N;return Ol=Rc(Ol,S,b,O,D,J),!0}case"mouseover":{var q=N;return Ll=Rc(Ll,S,b,O,D,q),!0}case"pointerover":{var et=N,nt=et.pointerId;return wc.set(nt,Rc(wc.get(nt)||null,S,b,O,D,et)),!0}case"gotpointercapture":{var at=N,pt=at.pointerId;return Mc.set(pt,Rc(Mc.get(pt)||null,S,b,O,D,at)),!0}}return!1}function $A(S){var b=qh(S.target);if(b!==null){var O=Xh(b);if(O!==null){var D=O.tag;if(D===x){var N=gA(O);if(N!==null){S.blockedOn=N,XA(S.priority,function(){WA(O)});return}}else if(D===d){var W=O.stateNode;if(Wg(W)){S.blockedOn=mA(O);return}}}}S.blockedOn=null}function xU(S){for(var b=YA(),O={blockedOn:null,target:S,priority:b},D=0;D<Dl.length&&$C(b,Dl[D].priority);D++);Dl.splice(D,0,O),D===0&&$A(O)}function Xg(S){if(S.blockedOn!==null)return!1;for(var b=S.targetContainers;b.length>0;){var O=b[0],D=QC(S.domEventName,S.eventSystemFlags,O,S.nativeEvent);if(D===null){var N=S.nativeEvent,W=new N.constructor(N.type,N);$6(W),N.target.dispatchEvent(W),K6()}else{var J=Bl(D);return J!==null&&KC(J),S.blockedOn=D,!1}b.shift()}return!0}function KA(S,b,O){Xg(S)&&O.delete(b)}function TU(){JC=!1,Al!==null&&Xg(Al)&&(Al=null),Ol!==null&&Xg(Ol)&&(Ol=null),Ll!==null&&Xg(Ll)&&(Ll=null),wc.forEach(KA),Mc.forEach(KA)}function Ac(S,b){S.blockedOn===b&&(S.blockedOn=null,JC||(JC=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,TU)))}function Oc(S){if(Yg.length>0){Ac(Yg[0],S);for(var b=1;b<Yg.length;b++){var O=Yg[b];O.blockedOn===S&&(O.blockedOn=null)}}Al!==null&&Ac(Al,S),Ol!==null&&Ac(Ol,S),Ll!==null&&Ac(Ll,S);var D=function(q){return Ac(q,S)};wc.forEach(D),Mc.forEach(D);for(var N=0;N<Dl.length;N++){var W=Dl[N];W.blockedOn===S&&(W.blockedOn=null)}for(;Dl.length>0;){var J=Dl[0];if(J.blockedOn!==null)break;$A(J),J.blockedOn===null&&Dl.shift()}}var Ef=i.ReactCurrentBatchConfig,ZC=!0;function JA(S){ZC=!!S}function CU(){return ZC}function SU(S,b,O){var D=ZA(b),N;switch(D){case xs:N=EU;break;case zo:N=bU;break;case Wo:default:N=jC;break}return N.bind(null,b,O,S)}function EU(S,b,O,D){var N=ca(),W=Ef.transition;Ef.transition=null;try{Jr(xs),jC(S,b,O,D)}finally{Jr(N),Ef.transition=W}}function bU(S,b,O,D){var N=ca(),W=Ef.transition;Ef.transition=null;try{Jr(zo),jC(S,b,O,D)}finally{Jr(N),Ef.transition=W}}function jC(S,b,O,D){ZC&&PU(S,b,O,D)}function PU(S,b,O,D){var N=QC(S,b,O,D);if(N===null){fS(S,b,D,Hg,O),HA(S,D);return}if(yU(N,S,b,O,D)){D.stopPropagation();return}if(HA(S,D),b&fc&&gU(S)){for(;N!==null;){var W=Bl(N);W!==null&&uU(W);var J=QC(S,b,O,D);if(J===null&&fS(S,b,D,Hg,O),J===N)break;N=J}N!==null&&D.stopPropagation();return}fS(S,b,D,null,O)}var Hg=null;function QC(S,b,O,D){Hg=null;var N=rC(D),W=qh(N);if(W!==null){var J=Xh(W);if(J===null)W=null;else{var q=J.tag;if(q===x){var et=gA(J);if(et!==null)return et;W=null}else if(q===d){var nt=J.stateNode;if(Wg(nt))return mA(J);W=null}else J!==W&&(W=null)}}return Hg=W,null}function ZA(S){switch(S){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return xs;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return zo;case"message":{var b=g7();switch(b){case Ig:return xs;case yC:return zo;case Hh:case m7:return Wo;case xC:return zg;default:return Wo}}default:return Wo}}function wU(S,b,O){return S.addEventListener(b,O,!1),O}function MU(S,b,O){return S.addEventListener(b,O,!0),O}function RU(S,b,O,D){return S.addEventListener(b,O,{capture:!0,passive:D}),O}function AU(S,b,O,D){return S.addEventListener(b,O,{passive:D}),O}var Lc=null,qC=null,Dc=null;function OU(S){return Lc=S,qC=QA(),!0}function LU(){Lc=null,qC=null,Dc=null}function jA(){if(Dc)return Dc;var S,b=qC,O=b.length,D,N=QA(),W=N.length;for(S=0;S<O&&b[S]===N[S];S++);var J=O-S;for(D=1;D<=J&&b[O-D]===N[W-D];D++);var q=D>1?1-D:void 0;return Dc=N.slice(S,q),Dc}function QA(){return"value"in Lc?Lc.value:Lc.textContent}function $g(S){var b,O=S.keyCode;return"charCode"in S?(b=S.charCode,b===0&&O===13&&(b=13)):b=O,b===10&&(b=13),b>=32||b===13?b:0}function Kg(){return!0}function qA(){return!1}function Ts(S){function b(O,D,N,W,J){this._reactName=O,this._targetInst=N,this.type=D,this.nativeEvent=W,this.target=J,this.currentTarget=null;for(var q in S)if(S.hasOwnProperty(q)){var et=S[q];et?this[q]=et(W):this[q]=W[q]}var nt=W.defaultPrevented!=null?W.defaultPrevented:W.returnValue===!1;return nt?this.isDefaultPrevented=Kg:this.isDefaultPrevented=qA,this.isPropagationStopped=qA,this}return je(b.prototype,{preventDefault:function(){this.defaultPrevented=!0;var O=this.nativeEvent;O&&(O.preventDefault?O.preventDefault():typeof O.returnValue!="unknown"&&(O.returnValue=!1),this.isDefaultPrevented=Kg)},stopPropagation:function(){var O=this.nativeEvent;O&&(O.stopPropagation?O.stopPropagation():typeof O.cancelBubble!="unknown"&&(O.cancelBubble=!0),this.isPropagationStopped=Kg)},persist:function(){},isPersistent:Kg}),b}var bf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(S){return S.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_C=Ts(bf),Fc=je({},bf,{view:0,detail:0}),DU=Ts(Fc),tS,eS,Ic;function FU(S){S!==Ic&&(Ic&&S.type==="mousemove"?(tS=S.screenX-Ic.screenX,eS=S.screenY-Ic.screenY):(tS=0,eS=0),Ic=S)}var Jg=je({},Fc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rS,button:0,buttons:0,relatedTarget:function(S){return S.relatedTarget===void 0?S.fromElement===S.srcElement?S.toElement:S.fromElement:S.relatedTarget},movementX:function(S){return"movementX"in S?S.movementX:(FU(S),tS)},movementY:function(S){return"movementY"in S?S.movementY:eS}}),_A=Ts(Jg),IU=je({},Jg,{dataTransfer:0}),BU=Ts(IU),GU=je({},Fc,{relatedTarget:0}),iS=Ts(GU),kU=je({},bf,{animationName:0,elapsedTime:0,pseudoElement:0}),NU=Ts(kU),UU=je({},bf,{clipboardData:function(S){return"clipboardData"in S?S.clipboardData:window.clipboardData}}),VU=Ts(UU),zU=je({},bf,{data:0}),tO=Ts(zU),WU=tO,YU={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},XU={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};function HU(S){if(S.key){var b=YU[S.key]||S.key;if(b!=="Unidentified")return b}if(S.type==="keypress"){var O=$g(S);return O===13?"Enter":String.fromCharCode(O)}return S.type==="keydown"||S.type==="keyup"?XU[S.keyCode]||"Unidentified":""}var $U={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function KU(S){var b=this,O=b.nativeEvent;if(O.getModifierState)return O.getModifierState(S);var D=$U[S];return D?!!O[D]:!1}function rS(S){return KU}var JU=je({},Fc,{key:HU,code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rS,charCode:function(S){return S.type==="keypress"?$g(S):0},keyCode:function(S){return S.type==="keydown"||S.type==="keyup"?S.keyCode:0},which:function(S){return S.type==="keypress"?$g(S):S.type==="keydown"||S.type==="keyup"?S.keyCode:0}}),ZU=Ts(JU),jU=je({},Jg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),eO=Ts(jU),QU=je({},Fc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rS}),qU=Ts(QU),_U=je({},bf,{propertyName:0,elapsedTime:0,pseudoElement:0}),tV=Ts(_U),eV=je({},Jg,{deltaX:function(S){return"deltaX"in S?S.deltaX:"wheelDeltaX"in S?-S.wheelDeltaX:0},deltaY:function(S){return"deltaY"in S?S.deltaY:"wheelDeltaY"in S?-S.wheelDeltaY:"wheelDelta"in S?-S.wheelDelta:0},deltaZ:0,deltaMode:0}),iV=Ts(eV),rV=[9,13,27,32],iO=229,nS=rt&&"CompositionEvent"in window,Bc=null;rt&&"documentMode"in document&&(Bc=document.documentMode);var nV=rt&&"TextEvent"in window&&!Bc,rO=rt&&(!nS||Bc&&Bc>8&&Bc<=11),nO=32,sO=String.fromCharCode(nO);function sV(){_("onBeforeInput",["compositionend","keypress","textInput","paste"]),_("onCompositionEnd",["compositionend","focusout","keydown","keypress","keyup","mousedown"]),_("onCompositionStart",["compositionstart","focusout","keydown","keypress","keyup","mousedown"]),_("onCompositionUpdate",["compositionupdate","focusout","keydown","keypress","keyup","mousedown"])}var aO=!1;function aV(S){return(S.ctrlKey||S.altKey||S.metaKey)&&!(S.ctrlKey&&S.altKey)}function oV(S){switch(S){case"compositionstart":return"onCompositionStart";case"compositionend":return"onCompositionEnd";case"compositionupdate":return"onCompositionUpdate"}}function lV(S,b){return S==="keydown"&&b.keyCode===iO}function oO(S,b){switch(S){case"keyup":return rV.indexOf(b.keyCode)!==-1;case"keydown":return b.keyCode!==iO;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lO(S){var b=S.detail;return typeof b=="object"&&"data"in b?b.data:null}function hO(S){return S.locale==="ko"}var Pf=!1;function hV(S,b,O,D,N){var W,J;if(nS?W=oV(b):Pf?oO(b,D)&&(W="onCompositionEnd"):lV(b,D)&&(W="onCompositionStart"),!W)return null;rO&&!hO(D)&&(!Pf&&W==="onCompositionStart"?Pf=OU(N):W==="onCompositionEnd"&&Pf&&(J=jA()));var q=_g(O,W);if(q.length>0){var et=new tO(W,b,null,D,N);if(S.push({event:et,listeners:q}),J)et.data=J;else{var nt=lO(D);nt!==null&&(et.data=nt)}}}function uV(S,b){switch(S){case"compositionend":return lO(b);case"keypress":var O=b.which;return O!==nO?null:(aO=!0,sO);case"textInput":var D=b.data;return D===sO&&aO?null:D;default:return null}}function fV(S,b){if(Pf){if(S==="compositionend"||!nS&&oO(S,b)){var O=jA();return LU(),Pf=!1,O}return null}switch(S){case"paste":return null;case"keypress":if(!aV(b)){if(b.char&&b.char.length>1)return b.char;if(b.which)return String.fromCharCode(b.which)}return null;case"compositionend":return rO&&!hO(b)?null:b.data;default:return null}}function dV(S,b,O,D,N){var W;if(nV?W=uV(b,D):W=fV(b,D),!W)return null;var J=_g(O,"onBeforeInput");if(J.length>0){var q=new WU("onBeforeInput","beforeinput",null,D,N);S.push({event:q,listeners:J}),q.data=W}}function cV(S,b,O,D,N,W,J){hV(S,b,O,D,N),dV(S,b,O,D,N)}var vV={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function uO(S){var b=S&&S.nodeName&&S.nodeName.toLowerCase();return b==="input"?!!vV[S.type]:b==="textarea"}/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function pV(S){if(!rt)return!1;var b="on"+S,O=b in document;if(!O){var D=document.createElement("div");D.setAttribute(b,"return;"),O=typeof D[b]=="function"}return O}function gV(){_("onChange",["change","click","focusin","focusout","input","keydown","keyup","selectionchange"])}function fO(S,b,O,D){oA(D);var N=_g(b,"onChange");if(N.length>0){var W=new _C("onChange","change",null,O,D);S.push({event:W,listeners:N})}}var Gc=null,kc=null;function mV(S){var b=S.nodeName&&S.nodeName.toLowerCase();return b==="select"||b==="input"&&S.type==="file"}function yV(S){var b=[];fO(b,kc,S,rC(S)),fA(xV,b)}function xV(S){AO(S,0)}function Zg(S){var b=Lf(S);if(wl(b))return S}function TV(S,b){if(S==="change")return b}var dO=!1;rt&&(dO=pV("input")&&(!document.documentMode||document.documentMode>9));function CV(S,b){Gc=S,kc=b,Gc.attachEvent("onpropertychange",vO)}function cO(){Gc&&(Gc.detachEvent("onpropertychange",vO),Gc=null,kc=null)}function vO(S){S.propertyName==="value"&&Zg(kc)&&yV(S)}function SV(S,b,O){S==="focusin"?(cO(),CV(b,O)):S==="focusout"&&cO()}function EV(S,b){if(S==="selectionchange"||S==="keyup"||S==="keydown")return Zg(kc)}function bV(S){var b=S.nodeName;return b&&b.toLowerCase()==="input"&&(S.type==="checkbox"||S.type==="radio")}function PV(S,b){if(S==="click")return Zg(b)}function wV(S,b){if(S==="input"||S==="change")return Zg(b)}function MV(S){var b=S._wrapperState;!b||!b.controlled||S.type!=="number"||Ae(S,"number",S.value)}function RV(S,b,O,D,N,W,J){var q=O?Lf(O):window,et,nt;if(mV(q)?et=TV:uO(q)?dO?et=wV:(et=EV,nt=SV):bV(q)&&(et=PV),et){var at=et(b,O);if(at){fO(S,at,D,N);return}}nt&&nt(b,q,O),b==="focusout"&&MV(q)}function AV(){tt("onMouseEnter",["mouseout","mouseover"]),tt("onMouseLeave",["mouseout","mouseover"]),tt("onPointerEnter",["pointerout","pointerover"]),tt("onPointerLeave",["pointerout","pointerover"])}function OV(S,b,O,D,N,W,J){var q=b==="mouseover"||b==="pointerover",et=b==="mouseout"||b==="pointerout";if(q&&!J6(D)){var nt=D.relatedTarget||D.fromElement;if(nt&&(qh(nt)||qc(nt)))return}if(!(!et&&!q)){var at;if(N.window===N)at=N;else{var pt=N.ownerDocument;pt?at=pt.defaultView||pt.parentWindow:at=window}var vt,Tt;if(et){var Pt=D.relatedTarget||D.toElement;if(vt=O,Tt=Pt?qh(Pt):null,Tt!==null){var Ot=Xh(Tt);(Tt!==Ot||Tt.tag!==l&&Tt.tag!==a)&&(Tt=null)}}else vt=null,Tt=O;if(vt!==Tt){var Qt=_A,be="onMouseLeave",ge="onMouseEnter",hi="mouse";(b==="pointerout"||b==="pointerover")&&(Qt=eO,be="onPointerLeave",ge="onPointerEnter",hi="pointer");var si=vt==null?at:Lf(vt),mt=Tt==null?at:Lf(Tt),Lt=new Qt(be,hi+"leave",vt,D,N);Lt.target=si,Lt.relatedTarget=mt;var yt=null,Ut=qh(N);if(Ut===O){var he=new Qt(ge,hi+"enter",Tt,D,N);he.target=mt,he.relatedTarget=si,yt=he}tz(S,Lt,yt,vt,Tt)}}}function LV(S,b){return S===b&&(S!==0||1/S===1/b)||S!==S&&b!==b}var Cs=typeof Object.is=="function"?Object.is:LV;function Nc(S,b){if(Cs(S,b))return!0;if(typeof S!="object"||S===null||typeof b!="object"||b===null)return!1;var O=Object.keys(S),D=Object.keys(b);if(O.length!==D.length)return!1;for(var N=0;N<O.length;N++){var W=O[N];if(!ot.call(b,W)||!Cs(S[W],b[W]))return!1}return!0}function pO(S){for(;S&&S.firstChild;)S=S.firstChild;return S}function DV(S){for(;S;){if(S.nextSibling)return S.nextSibling;S=S.parentNode}}function gO(S,b){for(var O=pO(S),D=0,N=0;O;){if(O.nodeType===Bo){if(N=D+O.textContent.length,D<=b&&N>=b)return{node:O,offset:b-D};D=N}O=pO(DV(O))}}function FV(S){var b=S.ownerDocument,O=b&&b.defaultView||window,D=O.getSelection&&O.getSelection();if(!D||D.rangeCount===0)return null;var N=D.anchorNode,W=D.anchorOffset,J=D.focusNode,q=D.focusOffset;try{N.nodeType,J.nodeType}catch{return null}return IV(S,N,W,J,q)}function IV(S,b,O,D,N){var W=0,J=-1,q=-1,et=0,nt=0,at=S,pt=null;t:for(;;){for(var vt=null;at===b&&(O===0||at.nodeType===Bo)&&(J=W+O),at===D&&(N===0||at.nodeType===Bo)&&(q=W+N),at.nodeType===Bo&&(W+=at.nodeValue.length),(vt=at.firstChild)!==null;)pt=at,at=vt;for(;;){if(at===S)break t;if(pt===b&&++et===O&&(J=W),pt===D&&++nt===N&&(q=W),(vt=at.nextSibling)!==null)break;at=pt,pt=at.parentNode}at=vt}return J===-1||q===-1?null:{start:J,end:q}}function BV(S,b){var O=S.ownerDocument||document,D=O&&O.defaultView||window;if(D.getSelection){var N=D.getSelection(),W=S.textContent.length,J=Math.min(b.start,W),q=b.end===void 0?J:Math.min(b.end,W);if(!N.extend&&J>q){var et=q;q=J,J=et}var nt=gO(S,J),at=gO(S,q);if(nt&&at){if(N.rangeCount===1&&N.anchorNode===nt.node&&N.anchorOffset===nt.offset&&N.focusNode===at.node&&N.focusOffset===at.offset)return;var pt=O.createRange();pt.setStart(nt.node,nt.offset),N.removeAllRanges(),J>q?(N.addRange(pt),N.extend(at.node,at.offset)):(pt.setEnd(at.node,at.offset),N.addRange(pt))}}}function mO(S){return S&&S.nodeType===Bo}function yO(S,b){return!S||!b?!1:S===b?!0:mO(S)?!1:mO(b)?yO(S,b.parentNode):"contains"in S?S.contains(b):S.compareDocumentPosition?!!(S.compareDocumentPosition(b)&16):!1}function GV(S){return S&&S.ownerDocument&&yO(S.ownerDocument.documentElement,S)}function kV(S){try{return typeof S.contentWindow.location.href=="string"}catch{return!1}}function xO(){for(var S=window,b=Do();b instanceof S.HTMLIFrameElement;){if(kV(b))S=b.contentWindow;else return b;b=Do(S.document)}return b}function sS(S){var b=S&&S.nodeName&&S.nodeName.toLowerCase();return b&&(b==="input"&&(S.type==="text"||S.type==="search"||S.type==="tel"||S.type==="url"||S.type==="password")||b==="textarea"||S.contentEditable==="true")}function NV(){var S=xO();return{focusedElem:S,selectionRange:sS(S)?VV(S):null}}function UV(S){var b=xO(),O=S.focusedElem,D=S.selectionRange;if(b!==O&&GV(O)){D!==null&&sS(O)&&zV(O,D);for(var N=[],W=O;W=W.parentNode;)W.nodeType===Jn&&N.push({element:W,left:W.scrollLeft,top:W.scrollTop});typeof O.focus=="function"&&O.focus();for(var J=0;J<N.length;J++){var q=N[J];q.element.scrollLeft=q.left,q.element.scrollTop=q.top}}}function VV(S){var b;return"selectionStart"in S?b={start:S.selectionStart,end:S.selectionEnd}:b=FV(S),b||{start:0,end:0}}function zV(S,b){var O=b.start,D=b.end;D===void 0&&(D=O),"selectionStart"in S?(S.selectionStart=O,S.selectionEnd=Math.min(D,S.value.length)):BV(S,b)}var WV=rt&&"documentMode"in document&&document.documentMode<=11;function YV(){_("onSelect",["focusout","contextmenu","dragend","focusin","keydown","keyup","mousedown","mouseup","selectionchange"])}var wf=null,aS=null,Uc=null,oS=!1;function XV(S){if("selectionStart"in S&&sS(S))return{start:S.selectionStart,end:S.selectionEnd};var b=S.ownerDocument&&S.ownerDocument.defaultView||window,O=b.getSelection();return{anchorNode:O.anchorNode,anchorOffset:O.anchorOffset,focusNode:O.focusNode,focusOffset:O.focusOffset}}function HV(S){return S.window===S?S.document:S.nodeType===Go?S:S.ownerDocument}function TO(S,b,O){var D=HV(O);if(!(oS||wf==null||wf!==Do(D))){var N=XV(wf);if(!Uc||!Nc(Uc,N)){Uc=N;var W=_g(aS,"onSelect");if(W.length>0){var J=new _C("onSelect","select",null,b,O);S.push({event:J,listeners:W}),J.target=wf}}}}function $V(S,b,O,D,N,W,J){var q=O?Lf(O):window;switch(b){case"focusin":(uO(q)||q.contentEditable==="true")&&(wf=q,aS=O,Uc=null);break;case"focusout":wf=null,aS=null,Uc=null;break;case"mousedown":oS=!0;break;case"contextmenu":case"mouseup":case"dragend":oS=!1,TO(S,D,N);break;case"selectionchange":if(WV)break;case"keydown":case"keyup":TO(S,D,N)}}function jg(S,b){var O={};return O[S.toLowerCase()]=b.toLowerCase(),O["Webkit"+S]="webkit"+b,O["Moz"+S]="moz"+b,O}var Mf={animationend:jg("Animation","AnimationEnd"),animationiteration:jg("Animation","AnimationIteration"),animationstart:jg("Animation","AnimationStart"),transitionend:jg("Transition","TransitionEnd")},lS={},CO={};rt&&(CO=document.createElement("div").style,"AnimationEvent"in window||(delete Mf.animationend.animation,delete Mf.animationiteration.animation,delete Mf.animationstart.animation),"TransitionEvent"in window||delete Mf.transitionend.transition);function Qg(S){if(lS[S])return lS[S];if(!Mf[S])return S;var b=Mf[S];for(var O in b)if(b.hasOwnProperty(O)&&O in CO)return lS[S]=b[O];return S}var SO=Qg("animationend"),EO=Qg("animationiteration"),bO=Qg("animationstart"),PO=Qg("transitionend"),wO=new Map,MO=["abort","auxClick","cancel","canPlay","canPlayThrough","click","close","contextMenu","copy","cut","drag","dragEnd","dragEnter","dragExit","dragLeave","dragOver","dragStart","drop","durationChange","emptied","encrypted","ended","error","gotPointerCapture","input","invalid","keyDown","keyPress","keyUp","load","loadedData","loadedMetadata","loadStart","lostPointerCapture","mouseDown","mouseMove","mouseOut","mouseOver","mouseUp","paste","pause","play","playing","pointerCancel","pointerDown","pointerMove","pointerOut","pointerOver","pointerUp","progress","rateChange","reset","resize","seeked","seeking","stalled","submit","suspend","timeUpdate","touchCancel","touchEnd","touchStart","volumeChange","scroll","toggle","touchMove","waiting","wheel"];function Fl(S,b){wO.set(S,b),_(b,[S])}function KV(){for(var S=0;S<MO.length;S++){var b=MO[S],O=b.toLowerCase(),D=b[0].toUpperCase()+b.slice(1);Fl(O,"on"+D)}Fl(SO,"onAnimationEnd"),Fl(EO,"onAnimationIteration"),Fl(bO,"onAnimationStart"),Fl("dblclick","onDoubleClick"),Fl("focusin","onFocus"),Fl("focusout","onBlur"),Fl(PO,"onTransitionEnd")}function JV(S,b,O,D,N,W,J){var q=wO.get(b);if(q!==void 0){var et=_C,nt=b;switch(b){case"keypress":if($g(D)===0)return;case"keydown":case"keyup":et=ZU;break;case"focusin":nt="focus",et=iS;break;case"focusout":nt="blur",et=iS;break;case"beforeblur":case"afterblur":et=iS;break;case"click":if(D.button===2)return;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":et=_A;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":et=BU;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":et=qU;break;case SO:case EO:case bO:et=NU;break;case PO:et=tV;break;case"scroll":et=DU;break;case"wheel":et=iV;break;case"copy":case"cut":case"paste":et=VU;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":et=eO;break}var at=(W&fc)!==0;{var pt=!at&&b==="scroll",vt=qV(O,q,D.type,at,pt);if(vt.length>0){var Tt=new et(q,nt,null,D,N);S.push({event:Tt,listeners:vt})}}}}KV(),AV(),gV(),YV(),sV();function ZV(S,b,O,D,N,W,J){JV(S,b,O,D,N,W);var q=(W&H6)===0;q&&(OV(S,b,O,D,N),RV(S,b,O,D,N),$V(S,b,O,D,N),cV(S,b,O,D,N))}var Vc=["abort","canplay","canplaythrough","durationchange","emptied","encrypted","ended","error","loadeddata","loadedmetadata","loadstart","pause","play","playing","progress","ratechange","resize","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting"],hS=new Set(["cancel","close","invalid","load","scroll","toggle"].concat(Vc));function RO(S,b,O){var D=S.type||"unknown-event";S.currentTarget=O,r7(D,b,void 0,S),S.currentTarget=null}function jV(S,b,O){var D;if(O)for(var N=b.length-1;N>=0;N--){var W=b[N],J=W.instance,q=W.currentTarget,et=W.listener;if(J!==D&&S.isPropagationStopped())return;RO(S,et,q),D=J}else for(var nt=0;nt<b.length;nt++){var at=b[nt],pt=at.instance,vt=at.currentTarget,Tt=at.listener;if(pt!==D&&S.isPropagationStopped())return;RO(S,Tt,vt),D=pt}}function AO(S,b){for(var O=(b&fc)!==0,D=0;D<S.length;D++){var N=S[D],W=N.event,J=N.listeners;jV(W,J,O)}n7()}function QV(S,b,O,D,N){var W=rC(O),J=[];ZV(J,S,D,O,W,b),AO(J,b)}function Xi(S,b){hS.has(S)||n('Did not expect a listenToNonDelegatedEvent() call for "%s". This is a bug in React. Please file an issue.',S);var O=!1,D=MW(b),N=ez(S);D.has(N)||(OO(b,S,iC,O),D.add(N))}function uS(S,b,O){hS.has(S)&&!b&&n('Did not expect a listenToNativeEvent() call for "%s" in the bubble phase. This is a bug in React. Please file an issue.',S);var D=0;b&&(D|=fc),OO(O,S,D,b)}var qg="_reactListening"+Math.random().toString(36).slice(2);function zc(S){if(!S[qg]){S[qg]=!0,V.forEach(function(O){O!=="selectionchange"&&(hS.has(O)||uS(O,!1,S),uS(O,!0,S))});var b=S.nodeType===Go?S:S.ownerDocument;b!==null&&(b[qg]||(b[qg]=!0,uS("selectionchange",!1,b)))}}function OO(S,b,O,D,N){var W=SU(S,b,O),J=void 0;aC&&(b==="touchstart"||b==="touchmove"||b==="wheel")&&(J=!0),S=S,D?J!==void 0?RU(S,b,W,J):MU(S,b,W):J!==void 0?AU(S,b,W,J):wU(S,b,W)}function LO(S,b){return S===b||S.nodeType===yr&&S.parentNode===b}function fS(S,b,O,D,N){var W=D;if((b&sA)===0&&(b&iC)===0){var J=N;if(D!==null){var q=D;t:for(;;){if(q===null)return;var et=q.tag;if(et===d||et===h){var nt=q.stateNode.containerInfo;if(LO(nt,J))break;if(et===h)for(var at=q.return;at!==null;){var pt=at.tag;if(pt===d||pt===h){var vt=at.stateNode.containerInfo;if(LO(vt,J))return}at=at.return}for(;nt!==null;){var Tt=qh(nt);if(Tt===null)return;var Pt=Tt.tag;if(Pt===l||Pt===a){q=W=Tt;continue t}nt=nt.parentNode}}q=q.return}}}fA(function(){return QV(S,b,O,W)})}function Wc(S,b,O){return{instance:S,listener:b,currentTarget:O}}function qV(S,b,O,D,N,W){for(var J=b!==null?b+"Capture":null,q=D?J:b,et=[],nt=S,at=null;nt!==null;){var pt=nt,vt=pt.stateNode,Tt=pt.tag;if(Tt===l&&vt!==null&&(at=vt,q!==null)){var Pt=cc(nt,q);Pt!=null&&et.push(Wc(nt,Pt,at))}if(N)break;nt=nt.return}return et}function _g(S,b){for(var O=b+"Capture",D=[],N=S;N!==null;){var W=N,J=W.stateNode,q=W.tag;if(q===l&&J!==null){var et=J,nt=cc(N,O);nt!=null&&D.unshift(Wc(N,nt,et));var at=cc(N,b);at!=null&&D.push(Wc(N,at,et))}N=N.return}return D}function Rf(S){if(S===null)return null;do S=S.return;while(S&&S.tag!==l);return S||null}function _V(S,b){for(var O=S,D=b,N=0,W=O;W;W=Rf(W))N++;for(var J=0,q=D;q;q=Rf(q))J++;for(;N-J>0;)O=Rf(O),N--;for(;J-N>0;)D=Rf(D),J--;for(var et=N;et--;){if(O===D||D!==null&&O===D.alternate)return O;O=Rf(O),D=Rf(D)}return null}function DO(S,b,O,D,N){for(var W=b._reactName,J=[],q=O;q!==null&&q!==D;){var et=q,nt=et.alternate,at=et.stateNode,pt=et.tag;if(nt!==null&&nt===D)break;if(pt===l&&at!==null){var vt=at;if(N){var Tt=cc(q,W);Tt!=null&&J.unshift(Wc(q,Tt,vt))}else if(!N){var Pt=cc(q,W);Pt!=null&&J.push(Wc(q,Pt,vt))}}q=q.return}J.length!==0&&S.push({event:b,listeners:J})}function tz(S,b,O,D,N){var W=D&&N?_V(D,N):null;D!==null&&DO(S,b,D,W,!1),N!==null&&O!==null&&DO(S,O,N,W,!0)}function ez(S,b){return S+"__bubble"}var Zn=!1,Yc="dangerouslySetInnerHTML",tm="suppressContentEditableWarning",Il="suppressHydrationWarning",FO="autoFocus",jh="children",Qh="style",em="__html",dS,im,Xc,IO,rm,BO,GO;dS={dialog:!0,webview:!0},im=function(S,b){N6(S,b),U6(S,b),X6(S,b,{registrationNameDependencies:K,possibleRegistrationNames:Q})},BO=rt&&!document.documentMode,Xc=function(S,b,O){if(!Zn){var D=nm(O),N=nm(b);N!==D&&(Zn=!0,n("Prop `%s` did not match. Server: %s Client: %s",S,JSON.stringify(N),JSON.stringify(D)))}},IO=function(S){if(!Zn){Zn=!0;var b=[];S.forEach(function(O){b.push(O)}),n("Extra attributes from the server: %s",b)}},rm=function(S,b){b===!1?n("Expected `%s` listener to be a function, instead got `false`.\n\nIf you used to conditionally omit it with %s={condition && value}, pass %s={condition ? value : undefined} instead.",S,S,S):n("Expected `%s` listener to be a function, instead got a value of `%s` type.",S,typeof b)},GO=function(S,b){var O=S.namespaceURI===Io?S.ownerDocument.createElement(S.tagName):S.ownerDocument.createElementNS(S.namespaceURI,S.tagName);return O.innerHTML=b,O.innerHTML};var iz=/\r\n?/g,rz=/\u0000|\uFFFD/g;function nm(S){Yt(S);var b=typeof S=="string"?S:""+S;return b.replace(iz,`
`).replace(rz,"")}function sm(S,b,O,D){var N=nm(b),W=nm(S);if(W!==N&&(D&&(Zn||(Zn=!0,n('Text content did not match. Server: "%s" Client: "%s"',W,N))),O&&k))throw new Error("Text content does not match server-rendered HTML.")}function kO(S){return S.nodeType===Go?S:S.ownerDocument}function nz(){}function am(S){S.onclick=nz}function sz(S,b,O,D,N){for(var W in D)if(D.hasOwnProperty(W)){var J=D[W];if(W===Qh)J&&Object.freeze(J),_R(b,J);else if(W===Yc){var q=J?J[em]:void 0;q!=null&&JR(b,q)}else if(W===jh)if(typeof J=="string"){var et=S!=="textarea"||J!=="";et&&Ag(b,J)}else typeof J=="number"&&Ag(b,""+J);else W===tm||W===Il||W===FO||(K.hasOwnProperty(W)?J!=null&&(typeof J!="function"&&rm(W,J),W==="onScroll"&&Xi("scroll",b)):J!=null&&Wr(b,W,J,N))}}function az(S,b,O,D){for(var N=0;N<b.length;N+=2){var W=b[N],J=b[N+1];W===Qh?_R(S,J):W===Yc?JR(S,J):W===jh?Ag(S,J):Wr(S,W,J,D)}}function oz(S,b,O,D){var N,W=kO(O),J,q=D;if(q===Io&&(q=jT(S)),q===Io){if(N=Uh(S,b),!N&&S!==S.toLowerCase()&&n("<%s /> is using incorrect casing. Use PascalCase for React components, or lowercase for HTML elements.",S),S==="script"){var et=W.createElement("div");et.innerHTML="<script><\/script>";var nt=et.firstChild;J=et.removeChild(nt)}else if(typeof b.is=="string")J=W.createElement(S,{is:b.is});else if(J=W.createElement(S),S==="select"){var at=J;b.multiple?at.multiple=!0:b.size&&(at.size=b.size)}}else J=W.createElementNS(q,S);return q===Io&&!N&&Object.prototype.toString.call(J)==="[object HTMLUnknownElement]"&&!ot.call(dS,S)&&(dS[S]=!0,n("The tag <%s> is unrecognized in this browser. If you meant to render a React component, start its name with an uppercase letter.",S)),J}function lz(S,b){return kO(b).createTextNode(S)}function hz(S,b,O,D){var N=Uh(b,O);im(b,O);var W;switch(b){case"dialog":Xi("cancel",S),Xi("close",S),W=O;break;case"iframe":case"object":case"embed":Xi("load",S),W=O;break;case"video":case"audio":for(var J=0;J<Vc.length;J++)Xi(Vc[J],S);W=O;break;case"source":Xi("error",S),W=O;break;case"img":case"image":case"link":Xi("error",S),Xi("load",S),W=O;break;case"details":Xi("toggle",S),W=O;break;case"input":wg(S,O),W=ac(S,O),Xi("invalid",S);break;case"option":Mi(S,O),W=O;break;case"select":hc(S,O),W=lc(S,O),Xi("invalid",S);break;case"textarea":HR(S,O),W=JT(S,O),Xi("invalid",S);break;default:W=O}switch(eC(b,W),sz(b,S,D,W,N),b){case"input":Kn(S),bt(S,O,!1);break;case"textarea":Kn(S),KR(S);break;case"option":Ni(S,O);break;case"select":$T(S,O);break;default:typeof W.onClick=="function"&&am(S);break}}function uz(S,b,O,D,N){im(b,D);var W=null,J,q;switch(b){case"input":J=ac(S,O),q=ac(S,D),W=[];break;case"select":J=lc(S,O),q=lc(S,D),W=[];break;case"textarea":J=JT(S,O),q=JT(S,D),W=[];break;default:J=O,q=D,typeof J.onClick!="function"&&typeof q.onClick=="function"&&am(S);break}eC(b,q);var et,nt,at=null;for(et in J)if(!(q.hasOwnProperty(et)||!J.hasOwnProperty(et)||J[et]==null))if(et===Qh){var pt=J[et];for(nt in pt)pt.hasOwnProperty(nt)&&(at||(at={}),at[nt]="")}else et===Yc||et===jh||et===tm||et===Il||et===FO||(K.hasOwnProperty(et)?W||(W=[]):(W=W||[]).push(et,null));for(et in q){var vt=q[et],Tt=J!=null?J[et]:void 0;if(!(!q.hasOwnProperty(et)||vt===Tt||vt==null&&Tt==null))if(et===Qh)if(vt&&Object.freeze(vt),Tt){for(nt in Tt)Tt.hasOwnProperty(nt)&&(!vt||!vt.hasOwnProperty(nt))&&(at||(at={}),at[nt]="");for(nt in vt)vt.hasOwnProperty(nt)&&Tt[nt]!==vt[nt]&&(at||(at={}),at[nt]=vt[nt])}else at||(W||(W=[]),W.push(et,at)),at=vt;else if(et===Yc){var Pt=vt?vt[em]:void 0,Ot=Tt?Tt[em]:void 0;Pt!=null&&Ot!==Pt&&(W=W||[]).push(et,Pt)}else et===jh?(typeof vt=="string"||typeof vt=="number")&&(W=W||[]).push(et,""+vt):et===tm||et===Il||(K.hasOwnProperty(et)?(vt!=null&&(typeof vt!="function"&&rm(et,vt),et==="onScroll"&&Xi("scroll",S)),!W&&Tt!==vt&&(W=[])):(W=W||[]).push(et,vt))}return at&&(O6(at,q[Qh]),(W=W||[]).push(Qh,at)),W}function fz(S,b,O,D,N){O==="input"&&N.type==="radio"&&N.name!=null&&it(S,N);var W=Uh(O,D),J=Uh(O,N);switch(az(S,b,W,J),O){case"input":ht(S,N);break;case"textarea":$R(S,N);break;case"select":Mg(S,N);break}}function dz(S){{var b=S.toLowerCase();return Og.hasOwnProperty(b)&&Og[b]||null}}function cz(S,b,O,D,N,W,J){var q,et;switch(q=Uh(b,O),im(b,O),b){case"dialog":Xi("cancel",S),Xi("close",S);break;case"iframe":case"object":case"embed":Xi("load",S);break;case"video":case"audio":for(var nt=0;nt<Vc.length;nt++)Xi(Vc[nt],S);break;case"source":Xi("error",S);break;case"img":case"image":case"link":Xi("error",S),Xi("load",S);break;case"details":Xi("toggle",S);break;case"input":wg(S,O),Xi("invalid",S);break;case"option":Mi(S,O);break;case"select":hc(S,O),Xi("invalid",S);break;case"textarea":HR(S,O),Xi("invalid",S);break}eC(b,O);{et=new Set;for(var at=S.attributes,pt=0;pt<at.length;pt++){var vt=at[pt].name.toLowerCase();switch(vt){case"value":break;case"checked":break;case"selected":break;default:et.add(at[pt].name)}}}var Tt=null;for(var Pt in O)if(O.hasOwnProperty(Pt)){var Ot=O[Pt];if(Pt===jh)typeof Ot=="string"?S.textContent!==Ot&&(O[Il]!==!0&&sm(S.textContent,Ot,W,J),Tt=[jh,Ot]):typeof Ot=="number"&&S.textContent!==""+Ot&&(O[Il]!==!0&&sm(S.textContent,Ot,W,J),Tt=[jh,""+Ot]);else if(K.hasOwnProperty(Pt))Ot!=null&&(typeof Ot!="function"&&rm(Pt,Ot),Pt==="onScroll"&&Xi("scroll",S));else if(J&&typeof q=="boolean"){var Qt=void 0,be=mi(Pt);if(O[Il]!==!0){if(!(Pt===tm||Pt===Il||Pt==="value"||Pt==="checked"||Pt==="selected")){if(Pt===Yc){var ge=S.innerHTML,hi=Ot?Ot[em]:void 0;if(hi!=null){var si=GO(S,hi);si!==ge&&Xc(Pt,ge,si)}}else if(Pt===Qh){if(et.delete(Pt),BO){var mt=R6(Ot);Qt=S.getAttribute("style"),mt!==Qt&&Xc(Pt,Qt,mt)}}else if(q&&!j)et.delete(Pt.toLowerCase()),Qt=ha(S,Pt,Ot),Ot!==Qt&&Xc(Pt,Qt,Ot);else if(!Ze(Pt,be,q)&&!ki(Pt,Ot,be,q)){var Lt=!1;if(be!==null)et.delete(be.attributeName),Qt=Ro(S,Pt,Ot,be);else{var yt=D;if(yt===Io&&(yt=jT(b)),yt===Io)et.delete(Pt.toLowerCase());else{var Ut=dz(Pt);Ut!==null&&Ut!==Pt&&(Lt=!0,et.delete(Ut)),et.delete(Pt)}Qt=ha(S,Pt,Ot)}var he=j;!he&&Ot!==Qt&&!Lt&&Xc(Pt,Qt,Ot)}}}}}switch(J&&et.size>0&&O[Il]!==!0&&IO(et),b){case"input":Kn(S),bt(S,O,!0);break;case"textarea":Kn(S),KR(S);break;case"select":case"option":break;default:typeof O.onClick=="function"&&am(S);break}return Tt}function vz(S,b,O){var D=S.nodeValue!==b;return D}function cS(S,b){{if(Zn)return;Zn=!0,n("Did not expect server HTML to contain a <%s> in <%s>.",b.nodeName.toLowerCase(),S.nodeName.toLowerCase())}}function vS(S,b){{if(Zn)return;Zn=!0,n('Did not expect server HTML to contain the text node "%s" in <%s>.',b.nodeValue,S.nodeName.toLowerCase())}}function pS(S,b,O){{if(Zn)return;Zn=!0,n("Expected server HTML to contain a matching <%s> in <%s>.",b,S.nodeName.toLowerCase())}}function gS(S,b){{if(b===""||Zn)return;Zn=!0,n('Expected server HTML to contain a matching text node for "%s" in <%s>.',b,S.nodeName.toLowerCase())}}function pz(S,b,O){switch(b){case"input":At(S,O);return;case"textarea":h6(S,O);return;case"select":KT(S,O);return}}var Hc=function(){},$c=function(){};{var gz=["address","applet","area","article","aside","base","basefont","bgsound","blockquote","body","br","button","caption","center","col","colgroup","dd","details","dir","div","dl","dt","embed","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","iframe","img","input","isindex","li","link","listing","main","marquee","menu","menuitem","meta","nav","noembed","noframes","noscript","object","ol","p","param","plaintext","pre","script","section","select","source","style","summary","table","tbody","td","template","textarea","tfoot","th","thead","title","tr","track","ul","wbr","xmp"],NO=["applet","caption","html","table","td","th","marquee","object","template","foreignObject","desc","title"],mz=NO.concat(["button"]),yz=["dd","dt","li","option","optgroup","p","rp","rt"],UO={current:null,formTag:null,aTagInScope:null,buttonTagInScope:null,nobrTagInScope:null,pTagInButtonScope:null,listItemTagAutoclosing:null,dlItemTagAutoclosing:null};$c=function(S,b){var O=je({},S||UO),D={tag:b};return NO.indexOf(b)!==-1&&(O.aTagInScope=null,O.buttonTagInScope=null,O.nobrTagInScope=null),mz.indexOf(b)!==-1&&(O.pTagInButtonScope=null),gz.indexOf(b)!==-1&&b!=="address"&&b!=="div"&&b!=="p"&&(O.listItemTagAutoclosing=null,O.dlItemTagAutoclosing=null),O.current=D,b==="form"&&(O.formTag=D),b==="a"&&(O.aTagInScope=D),b==="button"&&(O.buttonTagInScope=D),b==="nobr"&&(O.nobrTagInScope=D),b==="p"&&(O.pTagInButtonScope=D),b==="li"&&(O.listItemTagAutoclosing=D),(b==="dd"||b==="dt")&&(O.dlItemTagAutoclosing=D),O};var xz=function(S,b){switch(b){case"select":return S==="option"||S==="optgroup"||S==="#text";case"optgroup":return S==="option"||S==="#text";case"option":return S==="#text";case"tr":return S==="th"||S==="td"||S==="style"||S==="script"||S==="template";case"tbody":case"thead":case"tfoot":return S==="tr"||S==="style"||S==="script"||S==="template";case"colgroup":return S==="col"||S==="template";case"table":return S==="caption"||S==="colgroup"||S==="tbody"||S==="tfoot"||S==="thead"||S==="style"||S==="script"||S==="template";case"head":return S==="base"||S==="basefont"||S==="bgsound"||S==="link"||S==="meta"||S==="title"||S==="noscript"||S==="noframes"||S==="style"||S==="script"||S==="template";case"html":return S==="head"||S==="body"||S==="frameset";case"frameset":return S==="frame";case"#document":return S==="html"}switch(S){case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return b!=="h1"&&b!=="h2"&&b!=="h3"&&b!=="h4"&&b!=="h5"&&b!=="h6";case"rp":case"rt":return yz.indexOf(b)===-1;case"body":case"caption":case"col":case"colgroup":case"frameset":case"frame":case"head":case"html":case"tbody":case"td":case"tfoot":case"th":case"thead":case"tr":return b==null}return!0},Tz=function(S,b){switch(S){case"address":case"article":case"aside":case"blockquote":case"center":case"details":case"dialog":case"dir":case"div":case"dl":case"fieldset":case"figcaption":case"figure":case"footer":case"header":case"hgroup":case"main":case"menu":case"nav":case"ol":case"p":case"section":case"summary":case"ul":case"pre":case"listing":case"table":case"hr":case"xmp":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return b.pTagInButtonScope;case"form":return b.formTag||b.pTagInButtonScope;case"li":return b.listItemTagAutoclosing;case"dd":case"dt":return b.dlItemTagAutoclosing;case"button":return b.buttonTagInScope;case"a":return b.aTagInScope;case"nobr":return b.nobrTagInScope}return null},VO={};Hc=function(S,b,O){O=O||UO;var D=O.current,N=D&&D.tag;b!=null&&(S!=null&&n("validateDOMNesting: when childText is passed, childTag should be null"),S="#text");var W=xz(S,N)?null:D,J=W?null:Tz(S,O),q=W||J;if(q){var et=q.tag,nt=!!W+"|"+S+"|"+et;if(!VO[nt]){VO[nt]=!0;var at=S,pt="";if(S==="#text"?/\S/.test(b)?at="Text nodes":(at="Whitespace text nodes",pt=" Make sure you don't have any extra whitespace between tags on each line of your source code."):at="<"+S+">",W){var vt="";et==="table"&&S==="tr"&&(vt+=" Add a <tbody>, <thead> or <tfoot> to your code to match the DOM tree generated by the browser."),n("validateDOMNesting(...): %s cannot appear as a child of <%s>.%s%s",at,et,pt,vt)}else n("validateDOMNesting(...): %s cannot appear as a descendant of <%s>.",at,et)}}}}var om="suppressHydrationWarning",lm="$",hm="/$",Kc="$?",Jc="$!",Cz="style",mS=null,yS=null;function Sz(S){var b,O,D=S.nodeType;switch(D){case Go:case qT:{b=D===Go?"#document":"#fragment";var N=S.documentElement;O=N?N.namespaceURI:QT(null,"");break}default:{var W=D===yr?S.parentNode:S,J=W.namespaceURI||null;b=W.tagName,O=QT(J,b);break}}{var q=b.toLowerCase(),et=$c(null,q);return{namespace:O,ancestorInfo:et}}}function Ez(S,b,O){{var D=S,N=QT(D.namespace,b),W=$c(D.ancestorInfo,b);return{namespace:N,ancestorInfo:W}}}function tMt(S){return S}function bz(S){mS=CU(),yS=NV();var b=null;return JA(!1),b}function Pz(S){UV(yS),JA(mS),mS=null,yS=null}function wz(S,b,O,D,N){var W;{var J=D;if(Hc(S,null,J.ancestorInfo),typeof b.children=="string"||typeof b.children=="number"){var q=""+b.children,et=$c(J.ancestorInfo,S);Hc(null,q,et)}W=J.namespace}var nt=oz(S,b,O,W);return Qc(N,nt),wS(nt,b),nt}function Mz(S,b){S.appendChild(b)}function Rz(S,b,O,D,N){switch(hz(S,b,O,D),b){case"button":case"input":case"select":case"textarea":return!!O.autoFocus;case"img":return!0;default:return!1}}function Az(S,b,O,D,N,W){{var J=W;if(typeof D.children!=typeof O.children&&(typeof D.children=="string"||typeof D.children=="number")){var q=""+D.children,et=$c(J.ancestorInfo,b);Hc(null,q,et)}}return uz(S,b,O,D)}function xS(S,b){return S==="textarea"||S==="noscript"||typeof b.children=="string"||typeof b.children=="number"||typeof b.dangerouslySetInnerHTML=="object"&&b.dangerouslySetInnerHTML!==null&&b.dangerouslySetInnerHTML.__html!=null}function Oz(S,b,O,D){{var N=O;Hc(null,S,N.ancestorInfo)}var W=lz(S,b);return Qc(D,W),W}function Lz(){var S=window.event;return S===void 0?Wo:ZA(S.type)}var TS=typeof setTimeout=="function"?setTimeout:void 0,Dz=typeof clearTimeout=="function"?clearTimeout:void 0,CS=-1,zO=typeof Promise=="function"?Promise:void 0,Fz=typeof queueMicrotask=="function"?queueMicrotask:typeof zO<"u"?function(S){return zO.resolve(null).then(S).catch(Iz)}:TS;function Iz(S){setTimeout(function(){throw S})}function Bz(S,b,O,D){switch(b){case"button":case"input":case"select":case"textarea":O.autoFocus&&S.focus();return;case"img":{O.src&&(S.src=O.src);return}}}function Gz(S,b,O,D,N,W){fz(S,b,O,D,N),wS(S,N)}function WO(S){Ag(S,"")}function kz(S,b,O){S.nodeValue=O}function Nz(S,b){S.appendChild(b)}function Uz(S,b){var O;S.nodeType===yr?(O=S.parentNode,O.insertBefore(b,S)):(O=S,O.appendChild(b));var D=S._reactRootContainer;D==null&&O.onclick===null&&am(O)}function Vz(S,b,O){S.insertBefore(b,O)}function zz(S,b,O){S.nodeType===yr?S.parentNode.insertBefore(b,O):S.insertBefore(b,O)}function Wz(S,b){S.removeChild(b)}function Yz(S,b){S.nodeType===yr?S.parentNode.removeChild(b):S.removeChild(b)}function SS(S,b){var O=b,D=0;do{var N=O.nextSibling;if(S.removeChild(O),N&&N.nodeType===yr){var W=N.data;if(W===hm)if(D===0){S.removeChild(N),Oc(b);return}else D--;else(W===lm||W===Kc||W===Jc)&&D++}O=N}while(O);Oc(b)}function Xz(S,b){S.nodeType===yr?SS(S.parentNode,b):S.nodeType===Jn&&SS(S,b),Oc(S)}function Hz(S){S=S;var b=S.style;typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none"}function $z(S){S.nodeValue=""}function Kz(S,b){S=S;var O=b[Cz],D=O!=null&&O.hasOwnProperty("display")?O.display:null;S.style.display=_T("display",D)}function Jz(S,b){S.nodeValue=b}function Zz(S){S.nodeType===Jn?S.textContent="":S.nodeType===Go&&S.documentElement&&S.removeChild(S.documentElement)}function jz(S,b,O){return S.nodeType!==Jn||b.toLowerCase()!==S.nodeName.toLowerCase()?null:S}function Qz(S,b){return b===""||S.nodeType!==Bo?null:S}function qz(S){return S.nodeType!==yr?null:S}function YO(S){return S.data===Kc}function ES(S){return S.data===Jc}function _z(S){var b=S.nextSibling&&S.nextSibling.dataset,O,D,N;return b&&(O=b.dgst,D=b.msg,N=b.stck),{message:D,digest:O,stack:N}}function tW(S,b){S._reactRetry=b}function um(S){for(;S!=null;S=S.nextSibling){var b=S.nodeType;if(b===Jn||b===Bo)break;if(b===yr){var O=S.data;if(O===lm||O===Jc||O===Kc)break;if(O===hm)return null}}return S}function Zc(S){return um(S.nextSibling)}function eW(S){return um(S.firstChild)}function iW(S){return um(S.firstChild)}function rW(S){return um(S.nextSibling)}function nW(S,b,O,D,N,W,J){Qc(W,S),wS(S,O);var q;{var et=N;q=et.namespace}var nt=(W.mode&oi)!==Me;return cz(S,b,O,q,D,nt,J)}function sW(S,b,O,D){return Qc(O,S),O.mode&oi,vz(S,b)}function aW(S,b){Qc(b,S)}function oW(S){for(var b=S.nextSibling,O=0;b;){if(b.nodeType===yr){var D=b.data;if(D===hm){if(O===0)return Zc(b);O--}else(D===lm||D===Jc||D===Kc)&&O++}b=b.nextSibling}return null}function XO(S){for(var b=S.previousSibling,O=0;b;){if(b.nodeType===yr){var D=b.data;if(D===lm||D===Jc||D===Kc){if(O===0)return b;O--}else D===hm&&O++}b=b.previousSibling}return null}function lW(S){Oc(S)}function hW(S){Oc(S)}function uW(S){return S!=="head"&&S!=="body"}function fW(S,b,O,D){var N=!0;sm(b.nodeValue,O,D,N)}function dW(S,b,O,D,N,W){if(b[om]!==!0){var J=!0;sm(D.nodeValue,N,W,J)}}function cW(S,b){b.nodeType===Jn?cS(S,b):b.nodeType===yr||vS(S,b)}function vW(S,b){{var O=S.parentNode;O!==null&&(b.nodeType===Jn?cS(O,b):b.nodeType===yr||vS(O,b))}}function pW(S,b,O,D,N){(N||b[om]!==!0)&&(D.nodeType===Jn?cS(O,D):D.nodeType===yr||vS(O,D))}function gW(S,b,O){pS(S,b)}function mW(S,b){gS(S,b)}function yW(S,b,O){{var D=S.parentNode;D!==null&&pS(D,b)}}function xW(S,b){{var O=S.parentNode;O!==null&&gS(O,b)}}function TW(S,b,O,D,N,W){(W||b[om]!==!0)&&pS(O,D)}function CW(S,b,O,D,N){(N||b[om]!==!0)&&gS(O,D)}function SW(S){n("An error occurred during hydration. The server HTML was replaced with client content in <%s>.",S.nodeName.toLowerCase())}function EW(S){zc(S)}var Af=Math.random().toString(36).slice(2),Of="__reactFiber$"+Af,bS="__reactProps$"+Af,jc="__reactContainer$"+Af,PS="__reactEvents$"+Af,bW="__reactListeners$"+Af,PW="__reactHandles$"+Af;function wW(S){delete S[Of],delete S[bS],delete S[PS],delete S[bW],delete S[PW]}function Qc(S,b){b[Of]=S}function fm(S,b){b[jc]=S}function HO(S){S[jc]=null}function qc(S){return!!S[jc]}function qh(S){var b=S[Of];if(b)return b;for(var O=S.parentNode;O;){if(b=O[jc]||O[Of],b){var D=b.alternate;if(b.child!==null||D!==null&&D.child!==null)for(var N=XO(S);N!==null;){var W=N[Of];if(W)return W;N=XO(N)}return b}S=O,O=S.parentNode}return null}function Bl(S){var b=S[Of]||S[jc];return b&&(b.tag===l||b.tag===a||b.tag===x||b.tag===d)?b:null}function Lf(S){if(S.tag===l||S.tag===a)return S.stateNode;throw new Error("getNodeFromInstance: Invalid argument.")}function dm(S){return S[bS]||null}function wS(S,b){S[bS]=b}function MW(S){var b=S[PS];return b===void 0&&(b=S[PS]=new Set),b}var $O={},KO=i.ReactDebugCurrentFrame;function cm(S){if(S){var b=S._owner,O=Et(S.type,S._source,b?b.type:null);KO.setExtraStackFrame(O)}else KO.setExtraStackFrame(null)}function va(S,b,O,D,N){{var W=Function.call.bind(ot);for(var J in S)if(W(S,J)){var q=void 0;try{if(typeof S[J]!="function"){var et=Error((D||"React class")+": "+O+" type `"+J+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof S[J]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw et.name="Invariant Violation",et}q=S[J](b,J,D,O,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(nt){q=nt}q&&!(q instanceof Error)&&(cm(N),n("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",D||"React class",O,J,typeof q),cm(null)),q instanceof Error&&!(q.message in $O)&&($O[q.message]=!0,cm(N),n("Failed %s type: %s",O,q.message),cm(null))}}}var MS=[],vm;vm=[];var Yo=-1;function Gl(S){return{current:S}}function xn(S,b){if(Yo<0){n("Unexpected pop.");return}b!==vm[Yo]&&n("Unexpected Fiber popped."),S.current=MS[Yo],MS[Yo]=null,vm[Yo]=null,Yo--}function Tn(S,b,O){Yo++,MS[Yo]=S.current,vm[Yo]=O,S.current=b}var RS;RS={};var Ss={};Object.freeze(Ss);var Xo=Gl(Ss),Qa=Gl(!1),AS=Ss;function Df(S,b,O){return O&&qa(b)?AS:Xo.current}function JO(S,b,O){{var D=S.stateNode;D.__reactInternalMemoizedUnmaskedChildContext=b,D.__reactInternalMemoizedMaskedChildContext=O}}function Ff(S,b){{var O=S.type,D=O.contextTypes;if(!D)return Ss;var N=S.stateNode;if(N&&N.__reactInternalMemoizedUnmaskedChildContext===b)return N.__reactInternalMemoizedMaskedChildContext;var W={};for(var J in D)W[J]=b[J];{var q=_t(S)||"Unknown";va(D,W,"context",q)}return N&&JO(S,b,W),W}}function pm(){return Qa.current}function qa(S){{var b=S.childContextTypes;return b!=null}}function gm(S){xn(Qa,S),xn(Xo,S)}function OS(S){xn(Qa,S),xn(Xo,S)}function ZO(S,b,O){{if(Xo.current!==Ss)throw new Error("Unexpected context found on stack. This error is likely caused by a bug in React. Please file an issue.");Tn(Xo,b,S),Tn(Qa,O,S)}}function jO(S,b,O){{var D=S.stateNode,N=b.childContextTypes;if(typeof D.getChildContext!="function"){{var W=_t(S)||"Unknown";RS[W]||(RS[W]=!0,n("%s.childContextTypes is specified but there is no getChildContext() method on the instance. You can either define getChildContext() on %s or remove childContextTypes from it.",W,W))}return O}var J=D.getChildContext();for(var q in J)if(!(q in N))throw new Error((_t(S)||"Unknown")+'.getChildContext(): key "'+q+'" is not defined in childContextTypes.');{var et=_t(S)||"Unknown";va(N,J,"child context",et)}return je({},O,J)}}function mm(S){{var b=S.stateNode,O=b&&b.__reactInternalMemoizedMergedChildContext||Ss;return AS=Xo.current,Tn(Xo,O,S),Tn(Qa,Qa.current,S),!0}}function QO(S,b,O){{var D=S.stateNode;if(!D)throw new Error("Expected to have an instance by this point. This error is likely caused by a bug in React. Please file an issue.");if(O){var N=jO(S,b,AS);D.__reactInternalMemoizedMergedChildContext=N,xn(Qa,S),xn(Xo,S),Tn(Xo,N,S),Tn(Qa,O,S)}else xn(Qa,S),Tn(Qa,O,S)}}function RW(S){{if(!u7(S)||S.tag!==o)throw new Error("Expected subtree parent to be a mounted class component. This error is likely caused by a bug in React. Please file an issue.");var b=S;do{switch(b.tag){case d:return b.stateNode.context;case o:{var O=b.type;if(qa(O))return b.stateNode.__reactInternalMemoizedMergedChildContext;break}}b=b.return}while(b!==null);throw new Error("Found unexpected detached subtree parent. This error is likely caused by a bug in React. Please file an issue.")}}var kl=0,ym=1,Ho=null,LS=!1,DS=!1;function qO(S){Ho===null?Ho=[S]:Ho.push(S)}function AW(S){LS=!0,qO(S)}function _O(){LS&&Nl()}function Nl(){if(!DS&&Ho!==null){DS=!0;var S=0,b=ca();try{var O=!0,D=Ho;for(Jr(xs);S<D.length;S++){var N=D[S];do N=N(O);while(N!==null)}Ho=null,LS=!1}catch(W){throw Ho!==null&&(Ho=Ho.slice(S+1)),EA(Ig,Nl),W}finally{Jr(b),DS=!1}}return null}var If=[],Bf=0,xm=null,Tm=0,zs=[],Ws=0,_h=null,$o=1,Ko="";function OW(S){return eu(),(S.flags&pA)!==Le}function LW(S){return eu(),Tm}function DW(){var S=Ko,b=$o,O=b&~FW(b);return O.toString(32)+S}function tu(S,b){eu(),If[Bf++]=Tm,If[Bf++]=xm,xm=S,Tm=b}function tL(S,b,O){eu(),zs[Ws++]=$o,zs[Ws++]=Ko,zs[Ws++]=_h,_h=S;var D=$o,N=Ko,W=Cm(D)-1,J=D&~(1<<W),q=O+1,et=Cm(b)+W;if(et>30){var nt=W-W%5,at=(1<<nt)-1,pt=(J&at).toString(32),vt=J>>nt,Tt=W-nt,Pt=Cm(b)+Tt,Ot=q<<Tt,Qt=Ot|vt,be=pt+N;$o=1<<Pt|Qt,Ko=be}else{var ge=q<<W,hi=ge|J,si=N;$o=1<<et|hi,Ko=si}}function FS(S){eu();var b=S.return;if(b!==null){var O=1,D=0;tu(S,O),tL(S,O,D)}}function Cm(S){return 32-AA(S)}function FW(S){return 1<<Cm(S)-1}function IS(S){for(;S===xm;)xm=If[--Bf],If[Bf]=null,Tm=If[--Bf],If[Bf]=null;for(;S===_h;)_h=zs[--Ws],zs[Ws]=null,Ko=zs[--Ws],zs[Ws]=null,$o=zs[--Ws],zs[Ws]=null}function IW(){return eu(),_h!==null?{id:$o,overflow:Ko}:null}function BW(S,b){eu(),zs[Ws++]=$o,zs[Ws++]=Ko,zs[Ws++]=_h,$o=b.id,Ko=b.overflow,_h=S}function eu(){sn()||n("Expected to be hydrating. This is a bug in React. Please file an issue.")}var nn=null,Ys=null,pa=!1,iu=!1,Ul=null;function GW(){pa&&n("We should not be hydrating here. This is a bug in React. Please file a bug.")}function eL(){iu=!0}function kW(){return iu}function NW(S){var b=S.stateNode.containerInfo;return Ys=iW(b),nn=S,pa=!0,Ul=null,iu=!1,!0}function UW(S,b,O){return Ys=rW(b),nn=S,pa=!0,Ul=null,iu=!1,O!==null&&BW(S,O),!0}function iL(S,b){switch(S.tag){case d:{cW(S.stateNode.containerInfo,b);break}case l:{var O=(S.mode&oi)!==Me;pW(S.type,S.memoizedProps,S.stateNode,b,O);break}case x:{var D=S.memoizedState;D.dehydrated!==null&&vW(D.dehydrated,b);break}}}function rL(S,b){iL(S,b);var O=YH();O.stateNode=b,O.return=S;var D=S.deletions;D===null?(S.deletions=[O],S.flags|=Vh):D.push(O)}function BS(S,b){{if(iu)return;switch(S.tag){case d:{var O=S.stateNode.containerInfo;switch(b.tag){case l:var D=b.type;b.pendingProps,gW(O,D);break;case a:var N=b.pendingProps;mW(O,N);break}break}case l:{var W=S.type,J=S.memoizedProps,q=S.stateNode;switch(b.tag){case l:{var et=b.type,nt=b.pendingProps,at=(S.mode&oi)!==Me;TW(W,J,q,et,nt,at);break}case a:{var pt=b.pendingProps,vt=(S.mode&oi)!==Me;CW(W,J,q,pt,vt);break}}break}case x:{var Tt=S.memoizedState,Pt=Tt.dehydrated;if(Pt!==null)switch(b.tag){case l:var Ot=b.type;b.pendingProps,yW(Pt,Ot);break;case a:var Qt=b.pendingProps;xW(Pt,Qt);break}break}default:return}}}function nL(S,b){b.flags=b.flags&~No|xr,BS(S,b)}function sL(S,b){switch(S.tag){case l:{var O=S.type;S.pendingProps;var D=jz(b,O);return D!==null?(S.stateNode=D,nn=S,Ys=eW(D),!0):!1}case a:{var N=S.pendingProps,W=Qz(b,N);return W!==null?(S.stateNode=W,nn=S,Ys=null,!0):!1}case x:{var J=qz(b);if(J!==null){var q={dehydrated:J,treeContext:IW(),retryLane:ms};S.memoizedState=q;var et=XH(J);return et.return=S,S.child=et,nn=S,Ys=null,!0}return!1}default:return!1}}function GS(S){return(S.mode&oi)!==Me&&(S.flags&Ti)===Le}function kS(S){throw new Error("Hydration failed because the initial UI does not match what was rendered on the server.")}function NS(S){if(pa){var b=Ys;if(!b){GS(S)&&(BS(nn,S),kS()),nL(nn,S),pa=!1,nn=S;return}var O=b;if(!sL(S,b)){GS(S)&&(BS(nn,S),kS()),b=Zc(O);var D=nn;if(!b||!sL(S,b)){nL(nn,S),pa=!1,nn=S;return}rL(D,O)}}}function VW(S,b,O){var D=S.stateNode,N=!iu,W=nW(D,S.type,S.memoizedProps,b,O,S,N);return S.updateQueue=W,W!==null}function zW(S){var b=S.stateNode,O=S.memoizedProps,D=sW(b,O,S);if(D){var N=nn;if(N!==null)switch(N.tag){case d:{var W=N.stateNode.containerInfo,J=(N.mode&oi)!==Me;fW(W,b,O,J);break}case l:{var q=N.type,et=N.memoizedProps,nt=N.stateNode,at=(N.mode&oi)!==Me;dW(q,et,nt,b,O,at);break}}}return D}function WW(S){var b=S.memoizedState,O=b!==null?b.dehydrated:null;if(!O)throw new Error("Expected to have a hydrated suspense instance. This error is likely caused by a bug in React. Please file an issue.");aW(O,S)}function YW(S){var b=S.memoizedState,O=b!==null?b.dehydrated:null;if(!O)throw new Error("Expected to have a hydrated suspense instance. This error is likely caused by a bug in React. Please file an issue.");return oW(O)}function aL(S){for(var b=S.return;b!==null&&b.tag!==l&&b.tag!==d&&b.tag!==x;)b=b.return;nn=b}function Sm(S){if(S!==nn)return!1;if(!pa)return aL(S),pa=!0,!1;if(S.tag!==d&&(S.tag!==l||uW(S.type)&&!xS(S.type,S.memoizedProps))){var b=Ys;if(b)if(GS(S))oL(S),kS();else for(;b;)rL(S,b),b=Zc(b)}return aL(S),S.tag===x?Ys=YW(S):Ys=nn?Zc(S.stateNode):null,!0}function XW(){return pa&&Ys!==null}function oL(S){for(var b=Ys;b;)iL(S,b),b=Zc(b)}function Gf(){nn=null,Ys=null,pa=!1,iu=!1}function lL(){Ul!==null&&(eD(Ul),Ul=null)}function sn(){return pa}function US(S){Ul===null?Ul=[S]:Ul.push(S)}var HW=i.ReactCurrentBatchConfig,$W=null;function KW(){return HW.transition}var ga={recordUnsafeLifecycleWarnings:function(S,b){},flushPendingUnsafeLifecycleWarnings:function(){},recordLegacyContextWarning:function(S,b){},flushLegacyContextWarning:function(){},discardPendingWarnings:function(){}};{var JW=function(S){for(var b=null,O=S;O!==null;)O.mode&ir&&(b=O),O=O.return;return b},ru=function(S){var b=[];return S.forEach(function(O){b.push(O)}),b.sort().join(", ")},_c=[],tv=[],ev=[],iv=[],rv=[],nv=[],nu=new Set;ga.recordUnsafeLifecycleWarnings=function(S,b){nu.has(S.type)||(typeof b.componentWillMount=="function"&&b.componentWillMount.__suppressDeprecationWarning!==!0&&_c.push(S),S.mode&ir&&typeof b.UNSAFE_componentWillMount=="function"&&tv.push(S),typeof b.componentWillReceiveProps=="function"&&b.componentWillReceiveProps.__suppressDeprecationWarning!==!0&&ev.push(S),S.mode&ir&&typeof b.UNSAFE_componentWillReceiveProps=="function"&&iv.push(S),typeof b.componentWillUpdate=="function"&&b.componentWillUpdate.__suppressDeprecationWarning!==!0&&rv.push(S),S.mode&ir&&typeof b.UNSAFE_componentWillUpdate=="function"&&nv.push(S))},ga.flushPendingUnsafeLifecycleWarnings=function(){var S=new Set;_c.length>0&&(_c.forEach(function(vt){S.add(_t(vt)||"Component"),nu.add(vt.type)}),_c=[]);var b=new Set;tv.length>0&&(tv.forEach(function(vt){b.add(_t(vt)||"Component"),nu.add(vt.type)}),tv=[]);var O=new Set;ev.length>0&&(ev.forEach(function(vt){O.add(_t(vt)||"Component"),nu.add(vt.type)}),ev=[]);var D=new Set;iv.length>0&&(iv.forEach(function(vt){D.add(_t(vt)||"Component"),nu.add(vt.type)}),iv=[]);var N=new Set;rv.length>0&&(rv.forEach(function(vt){N.add(_t(vt)||"Component"),nu.add(vt.type)}),rv=[]);var W=new Set;if(nv.length>0&&(nv.forEach(function(vt){W.add(_t(vt)||"Component"),nu.add(vt.type)}),nv=[]),b.size>0){var J=ru(b);n(`Using UNSAFE_componentWillMount in strict mode is not recommended and may indicate bugs in your code. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move code with side effects to componentDidMount, and set initial state in the constructor.

Please update the following components: %s`,J)}if(D.size>0){var q=ru(D);n(`Using UNSAFE_componentWillReceiveProps in strict mode is not recommended and may indicate bugs in your code. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.
* If you're updating state whenever props change, refactor your code to use memoization techniques or move it to static getDerivedStateFromProps. Learn more at: https://reactjs.org/link/derived-state

Please update the following components: %s`,q)}if(W.size>0){var et=ru(W);n(`Using UNSAFE_componentWillUpdate in strict mode is not recommended and may indicate bugs in your code. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.

Please update the following components: %s`,et)}if(S.size>0){var nt=ru(S);E(`componentWillMount has been renamed, and is not recommended for use. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move code with side effects to componentDidMount, and set initial state in the constructor.
* Rename componentWillMount to UNSAFE_componentWillMount to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run \`npx react-codemod rename-unsafe-lifecycles\` in your project source folder.

Please update the following components: %s`,nt)}if(O.size>0){var at=ru(O);E(`componentWillReceiveProps has been renamed, and is not recommended for use. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.
* If you're updating state whenever props change, refactor your code to use memoization techniques or move it to static getDerivedStateFromProps. Learn more at: https://reactjs.org/link/derived-state
* Rename componentWillReceiveProps to UNSAFE_componentWillReceiveProps to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run \`npx react-codemod rename-unsafe-lifecycles\` in your project source folder.

Please update the following components: %s`,at)}if(N.size>0){var pt=ru(N);E(`componentWillUpdate has been renamed, and is not recommended for use. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.
* Rename componentWillUpdate to UNSAFE_componentWillUpdate to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run \`npx react-codemod rename-unsafe-lifecycles\` in your project source folder.

Please update the following components: %s`,pt)}};var Em=new Map,hL=new Set;ga.recordLegacyContextWarning=function(S,b){var O=JW(S);if(O===null){n("Expected to find a StrictMode component in a strict mode tree. This error is likely caused by a bug in React. Please file an issue.");return}if(!hL.has(S.type)){var D=Em.get(O);(S.type.contextTypes!=null||S.type.childContextTypes!=null||b!==null&&typeof b.getChildContext=="function")&&(D===void 0&&(D=[],Em.set(O,D)),D.push(S))}},ga.flushLegacyContextWarning=function(){Em.forEach(function(S,b){if(S.length!==0){var O=S[0],D=new Set;S.forEach(function(W){D.add(_t(W)||"Component"),hL.add(W.type)});var N=ru(D);try{Ye(O),n(`Legacy context API has been detected within a strict-mode tree.

The old API will be supported in all 16.x releases, but applications using it should migrate to the new version.

Please update the following components: %s

Learn more about this warning here: https://reactjs.org/link/legacy-context`,N)}finally{jt()}}})},ga.discardPendingWarnings=function(){_c=[],tv=[],ev=[],iv=[],rv=[],nv=[],Em=new Map}}var VS,zS,WS,YS,XS,uL=function(S,b){};VS=!1,zS=!1,WS={},YS={},XS={},uL=function(S,b){if(!(S===null||typeof S!="object")&&!(!S._store||S._store.validated||S.key!=null)){if(typeof S._store!="object")throw new Error("React Component in warnForMissingKey should have a _store. This error is likely caused by a bug in React. Please file an issue.");S._store.validated=!0;var O=_t(b)||"Component";YS[O]||(YS[O]=!0,n('Each child in a list should have a unique "key" prop. See https://reactjs.org/link/warning-keys for more information.'))}};function ZW(S){return S.prototype&&S.prototype.isReactComponent}function sv(S,b,O){var D=O.ref;if(D!==null&&typeof D!="function"&&typeof D!="object"){if((S.mode&ir||Z)&&!(O._owner&&O._self&&O._owner.stateNode!==O._self)&&!(O._owner&&O._owner.tag!==o)&&!(typeof O.type=="function"&&!ZW(O.type))&&O._owner){var N=_t(S)||"Component";WS[N]||(n('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. We recommend using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',N,D),WS[N]=!0)}if(O._owner){var W=O._owner,J;if(W){var q=W;if(q.tag!==o)throw new Error("Function components cannot have string refs. We recommend using useRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref");J=q.stateNode}if(!J)throw new Error("Missing owner for string ref "+D+". This error is likely caused by a bug in React. Please file an issue.");var et=J;St(D,"ref");var nt=""+D;if(b!==null&&b.ref!==null&&typeof b.ref=="function"&&b.ref._stringRef===nt)return b.ref;var at=function(pt){var vt=et.refs;pt===null?delete vt[nt]:vt[nt]=pt};return at._stringRef=nt,at}else{if(typeof D!="string")throw new Error("Expected ref to be a function, a string, an object returned by React.createRef(), or null.");if(!O._owner)throw new Error("Element ref was specified as a string ("+D+`) but no owner was set. This could happen for one of the following reasons:
1. You may be adding a ref to a function component
2. You may be adding a ref to a component that was not created inside a component's render method
3. You have multiple copies of React loaded
See https://reactjs.org/link/refs-must-have-owner for more information.`)}}return D}function bm(S,b){var O=Object.prototype.toString.call(b);throw new Error("Objects are not valid as a React child (found: "+(O==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":O)+"). If you meant to render a collection of children, use an array instead.")}function Pm(S){{var b=_t(S)||"Component";if(XS[b])return;XS[b]=!0,n("Functions are not valid as a React child. This may happen if you return a Component instead of <Component /> from render. Or maybe you meant to call this function rather than return it.")}}function fL(S){var b=S._payload,O=S._init;return O(b)}function dL(S){function b(mt,Lt){if(S){var yt=mt.deletions;yt===null?(mt.deletions=[Lt],mt.flags|=Vh):yt.push(Lt)}}function O(mt,Lt){if(!S)return null;for(var yt=Lt;yt!==null;)b(mt,yt),yt=yt.sibling;return null}function D(mt,Lt){for(var yt=new Map,Ut=Lt;Ut!==null;)Ut.key!==null?yt.set(Ut.key,Ut):yt.set(Ut.index,Ut),Ut=Ut.sibling;return yt}function N(mt,Lt){var yt=cu(mt,Lt);return yt.index=0,yt.sibling=null,yt}function W(mt,Lt,yt){if(mt.index=yt,!S)return mt.flags|=pA,Lt;var Ut=mt.alternate;if(Ut!==null){var he=Ut.index;return he<Lt?(mt.flags|=xr,Lt):he}else return mt.flags|=xr,Lt}function J(mt){return S&&mt.alternate===null&&(mt.flags|=xr),mt}function q(mt,Lt,yt,Ut){if(Lt===null||Lt.tag!==a){var he=UE(yt,mt.mode,Ut);return he.return=mt,he}else{var re=N(Lt,yt);return re.return=mt,re}}function et(mt,Lt,yt,Ut){var he=yt.type;if(he===Re)return at(mt,Lt,yt.props.children,Ut,yt.key);if(Lt!==null&&(Lt.elementType===he||mD(Lt,yt)||typeof he=="object"&&he!==null&&he.$$typeof===Ee&&fL(he)===Lt.type)){var re=N(Lt,yt.props);return re.ref=sv(mt,Lt,yt),re.return=mt,re._debugSource=yt._source,re._debugOwner=yt._owner,re}var Fe=NE(yt,mt.mode,Ut);return Fe.ref=sv(mt,Lt,yt),Fe.return=mt,Fe}function nt(mt,Lt,yt,Ut){if(Lt===null||Lt.tag!==h||Lt.stateNode.containerInfo!==yt.containerInfo||Lt.stateNode.implementation!==yt.implementation){var he=VE(yt,mt.mode,Ut);return he.return=mt,he}else{var re=N(Lt,yt.children||[]);return re.return=mt,re}}function at(mt,Lt,yt,Ut,he){if(Lt===null||Lt.tag!==f){var re=jl(yt,mt.mode,Ut,he);return re.return=mt,re}else{var Fe=N(Lt,yt);return Fe.return=mt,Fe}}function pt(mt,Lt,yt){if(typeof Lt=="string"&&Lt!==""||typeof Lt=="number"){var Ut=UE(""+Lt,mt.mode,yt);return Ut.return=mt,Ut}if(typeof Lt=="object"&&Lt!==null){switch(Lt.$$typeof){case Hn:{var he=NE(Lt,mt.mode,yt);return he.ref=sv(mt,null,Lt),he.return=mt,he}case Dn:{var re=VE(Lt,mt.mode,yt);return re.return=mt,re}case Ee:{var Fe=Lt._payload,Ve=Lt._init;return pt(mt,Ve(Fe),yt)}}if(ni(Lt)||vs(Lt)){var Oi=jl(Lt,mt.mode,yt,null);return Oi.return=mt,Oi}bm(mt,Lt)}return typeof Lt=="function"&&Pm(mt),null}function vt(mt,Lt,yt,Ut){var he=Lt!==null?Lt.key:null;if(typeof yt=="string"&&yt!==""||typeof yt=="number")return he!==null?null:q(mt,Lt,""+yt,Ut);if(typeof yt=="object"&&yt!==null){switch(yt.$$typeof){case Hn:return yt.key===he?et(mt,Lt,yt,Ut):null;case Dn:return yt.key===he?nt(mt,Lt,yt,Ut):null;case Ee:{var re=yt._payload,Fe=yt._init;return vt(mt,Lt,Fe(re),Ut)}}if(ni(yt)||vs(yt))return he!==null?null:at(mt,Lt,yt,Ut,null);bm(mt,yt)}return typeof yt=="function"&&Pm(mt),null}function Tt(mt,Lt,yt,Ut,he){if(typeof Ut=="string"&&Ut!==""||typeof Ut=="number"){var re=mt.get(yt)||null;return q(Lt,re,""+Ut,he)}if(typeof Ut=="object"&&Ut!==null){switch(Ut.$$typeof){case Hn:{var Fe=mt.get(Ut.key===null?yt:Ut.key)||null;return et(Lt,Fe,Ut,he)}case Dn:{var Ve=mt.get(Ut.key===null?yt:Ut.key)||null;return nt(Lt,Ve,Ut,he)}case Ee:var Oi=Ut._payload,di=Ut._init;return Tt(mt,Lt,yt,di(Oi),he)}if(ni(Ut)||vs(Ut)){var dr=mt.get(yt)||null;return at(Lt,dr,Ut,he,null)}bm(Lt,Ut)}return typeof Ut=="function"&&Pm(Lt),null}function Pt(mt,Lt,yt){{if(typeof mt!="object"||mt===null)return Lt;switch(mt.$$typeof){case Hn:case Dn:uL(mt,yt);var Ut=mt.key;if(typeof Ut!="string")break;if(Lt===null){Lt=new Set,Lt.add(Ut);break}if(!Lt.has(Ut)){Lt.add(Ut);break}n("Encountered two children with the same key, `%s`. Keys should be unique so that components maintain their identity across updates. Non-unique keys may cause children to be duplicated and/or omitted  the behavior is unsupported and could change in a future version.",Ut);break;case Ee:var he=mt._payload,re=mt._init;Pt(re(he),Lt,yt);break}}return Lt}function Ot(mt,Lt,yt,Ut){for(var he=null,re=0;re<yt.length;re++){var Fe=yt[re];he=Pt(Fe,he,mt)}for(var Ve=null,Oi=null,di=Lt,dr=0,ci=0,rr=null;di!==null&&ci<yt.length;ci++){di.index>ci?(rr=di,di=null):rr=di.sibling;var Sn=vt(mt,di,yt[ci],Ut);if(Sn===null){di===null&&(di=rr);break}S&&di&&Sn.alternate===null&&b(mt,di),dr=W(Sn,dr,ci),Oi===null?Ve=Sn:Oi.sibling=Sn,Oi=Sn,di=rr}if(ci===yt.length){if(O(mt,di),sn()){var dn=ci;tu(mt,dn)}return Ve}if(di===null){for(;ci<yt.length;ci++){var bs=pt(mt,yt[ci],Ut);bs!==null&&(dr=W(bs,dr,ci),Oi===null?Ve=bs:Oi.sibling=bs,Oi=bs)}if(sn()){var Nn=ci;tu(mt,Nn)}return Ve}for(var Un=D(mt,di);ci<yt.length;ci++){var En=Tt(Un,mt,ci,yt[ci],Ut);En!==null&&(S&&En.alternate!==null&&Un.delete(En.key===null?ci:En.key),dr=W(En,dr,ci),Oi===null?Ve=En:Oi.sibling=En,Oi=En)}if(S&&Un.forEach(function(ed){return b(mt,ed)}),sn()){var tl=ci;tu(mt,tl)}return Ve}function Qt(mt,Lt,yt,Ut){var he=vs(yt);if(typeof he!="function")throw new Error("An object is not an iterable. This error is likely caused by a bug in React. Please file an issue.");{typeof Symbol=="function"&&yt[Symbol.toStringTag]==="Generator"&&(zS||n("Using Generators as children is unsupported and will likely yield unexpected results because enumerating a generator mutates it. You may convert it to an array with `Array.from()` or the `[...spread]` operator before rendering. Keep in mind you might need to polyfill these features for older browsers."),zS=!0),yt.entries===he&&(VS||n("Using Maps as children is not supported. Use an array of keyed ReactElements instead."),VS=!0);var re=he.call(yt);if(re)for(var Fe=null,Ve=re.next();!Ve.done;Ve=re.next()){var Oi=Ve.value;Fe=Pt(Oi,Fe,mt)}}var di=he.call(yt);if(di==null)throw new Error("An iterable object provided no iterator.");for(var dr=null,ci=null,rr=Lt,Sn=0,dn=0,bs=null,Nn=di.next();rr!==null&&!Nn.done;dn++,Nn=di.next()){rr.index>dn?(bs=rr,rr=null):bs=rr.sibling;var Un=vt(mt,rr,Nn.value,Ut);if(Un===null){rr===null&&(rr=bs);break}S&&rr&&Un.alternate===null&&b(mt,rr),Sn=W(Un,Sn,dn),ci===null?dr=Un:ci.sibling=Un,ci=Un,rr=bs}if(Nn.done){if(O(mt,rr),sn()){var En=dn;tu(mt,En)}return dr}if(rr===null){for(;!Nn.done;dn++,Nn=di.next()){var tl=pt(mt,Nn.value,Ut);tl!==null&&(Sn=W(tl,Sn,dn),ci===null?dr=tl:ci.sibling=tl,ci=tl)}if(sn()){var ed=dn;tu(mt,ed)}return dr}for(var kv=D(mt,rr);!Nn.done;dn++,Nn=di.next()){var ao=Tt(kv,mt,dn,Nn.value,Ut);ao!==null&&(S&&ao.alternate!==null&&kv.delete(ao.key===null?dn:ao.key),Sn=W(ao,Sn,dn),ci===null?dr=ao:ci.sibling=ao,ci=ao)}if(S&&kv.forEach(function(C$){return b(mt,C$)}),sn()){var T$=dn;tu(mt,T$)}return dr}function be(mt,Lt,yt,Ut){if(Lt!==null&&Lt.tag===a){O(mt,Lt.sibling);var he=N(Lt,yt);return he.return=mt,he}O(mt,Lt);var re=UE(yt,mt.mode,Ut);return re.return=mt,re}function ge(mt,Lt,yt,Ut){for(var he=yt.key,re=Lt;re!==null;){if(re.key===he){var Fe=yt.type;if(Fe===Re){if(re.tag===f){O(mt,re.sibling);var Ve=N(re,yt.props.children);return Ve.return=mt,Ve._debugSource=yt._source,Ve._debugOwner=yt._owner,Ve}}else if(re.elementType===Fe||mD(re,yt)||typeof Fe=="object"&&Fe!==null&&Fe.$$typeof===Ee&&fL(Fe)===re.type){O(mt,re.sibling);var Oi=N(re,yt.props);return Oi.ref=sv(mt,re,yt),Oi.return=mt,Oi._debugSource=yt._source,Oi._debugOwner=yt._owner,Oi}O(mt,re);break}else b(mt,re);re=re.sibling}if(yt.type===Re){var di=jl(yt.props.children,mt.mode,Ut,yt.key);return di.return=mt,di}else{var dr=NE(yt,mt.mode,Ut);return dr.ref=sv(mt,Lt,yt),dr.return=mt,dr}}function hi(mt,Lt,yt,Ut){for(var he=yt.key,re=Lt;re!==null;){if(re.key===he)if(re.tag===h&&re.stateNode.containerInfo===yt.containerInfo&&re.stateNode.implementation===yt.implementation){O(mt,re.sibling);var Fe=N(re,yt.children||[]);return Fe.return=mt,Fe}else{O(mt,re);break}else b(mt,re);re=re.sibling}var Ve=VE(yt,mt.mode,Ut);return Ve.return=mt,Ve}function si(mt,Lt,yt,Ut){var he=typeof yt=="object"&&yt!==null&&yt.type===Re&&yt.key===null;if(he&&(yt=yt.props.children),typeof yt=="object"&&yt!==null){switch(yt.$$typeof){case Hn:return J(ge(mt,Lt,yt,Ut));case Dn:return J(hi(mt,Lt,yt,Ut));case Ee:var re=yt._payload,Fe=yt._init;return si(mt,Lt,Fe(re),Ut)}if(ni(yt))return Ot(mt,Lt,yt,Ut);if(vs(yt))return Qt(mt,Lt,yt,Ut);bm(mt,yt)}return typeof yt=="string"&&yt!==""||typeof yt=="number"?J(be(mt,Lt,""+yt,Ut)):(typeof yt=="function"&&Pm(mt),O(mt,Lt))}return si}var kf=dL(!0),cL=dL(!1);function jW(S,b){if(S!==null&&b.child!==S.child)throw new Error("Resuming work not yet implemented.");if(b.child!==null){var O=b.child,D=cu(O,O.pendingProps);for(b.child=D,D.return=b;O.sibling!==null;)O=O.sibling,D=D.sibling=cu(O,O.pendingProps),D.return=b;D.sibling=null}}function QW(S,b){for(var O=S.child;O!==null;)NH(O,b),O=O.sibling}var HS=Gl(null),$S;$S={};var wm=null,Nf=null,KS=null,Mm=!1;function Rm(){wm=null,Nf=null,KS=null,Mm=!1}function vL(){Mm=!0}function pL(){Mm=!1}function gL(S,b,O){Tn(HS,b._currentValue,S),b._currentValue=O,b._currentRenderer!==void 0&&b._currentRenderer!==null&&b._currentRenderer!==$S&&n("Detected multiple renderers concurrently rendering the same context provider. This is currently unsupported."),b._currentRenderer=$S}function JS(S,b){var O=HS.current;xn(HS,b),S._currentValue=O}function ZS(S,b,O){for(var D=S;D!==null;){var N=D.alternate;if(Sf(D.childLanes,b)?N!==null&&!Sf(N.childLanes,b)&&(N.childLanes=Qe(N.childLanes,b)):(D.childLanes=Qe(D.childLanes,b),N!==null&&(N.childLanes=Qe(N.childLanes,b))),D===O)break;D=D.return}D!==O&&n("Expected to find the propagation root when scheduling context work. This error is likely caused by a bug in React. Please file an issue.")}function qW(S,b,O){_W(S,b,O)}function _W(S,b,O){var D=S.child;for(D!==null&&(D.return=S);D!==null;){var N=void 0,W=D.dependencies;if(W!==null){N=D.child;for(var J=W.firstContext;J!==null;){if(J.context===b){if(D.tag===o){var q=Ec(O),et=Jo(Vi,q);et.tag=Om;var nt=D.updateQueue;if(nt!==null){var at=nt.shared,pt=at.pending;pt===null?et.next=et:(et.next=pt.next,pt.next=et),at.pending=et}}D.lanes=Qe(D.lanes,O);var vt=D.alternate;vt!==null&&(vt.lanes=Qe(vt.lanes,O)),ZS(D.return,O,S),W.lanes=Qe(W.lanes,O);break}J=J.next}}else if(D.tag===v)N=D.type===S.type?null:D.child;else if(D.tag===R){var Tt=D.return;if(Tt===null)throw new Error("We just came from a parent so we must have had a parent. This is a bug in React.");Tt.lanes=Qe(Tt.lanes,O);var Pt=Tt.alternate;Pt!==null&&(Pt.lanes=Qe(Pt.lanes,O)),ZS(Tt,O,S),N=D.sibling}else N=D.child;if(N!==null)N.return=D;else for(N=D;N!==null;){if(N===S){N=null;break}var Ot=N.sibling;if(Ot!==null){Ot.return=N.return,N=Ot;break}N=N.return}D=N}}function Uf(S,b){wm=S,Nf=null,KS=null;var O=S.dependencies;if(O!==null){var D=O.firstContext;D!==null&&(ys(O.lanes,b)&&Tv(),O.firstContext=null)}}function Tr(S){Mm&&n("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().");var b=S._currentValue;if(KS!==S){var O={context:S,memoizedValue:b,next:null};if(Nf===null){if(wm===null)throw new Error("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().");Nf=O,wm.dependencies={lanes:kt,firstContext:O}}else Nf=Nf.next=O}return b}var su=null;function jS(S){su===null?su=[S]:su.push(S)}function tY(){if(su!==null){for(var S=0;S<su.length;S++){var b=su[S],O=b.interleaved;if(O!==null){b.interleaved=null;var D=O.next,N=b.pending;if(N!==null){var W=N.next;N.next=D,O.next=W}b.pending=O}}su=null}}function mL(S,b,O,D){var N=b.interleaved;return N===null?(O.next=O,jS(b)):(O.next=N.next,N.next=O),b.interleaved=O,Am(S,D)}function eY(S,b,O,D){var N=b.interleaved;N===null?(O.next=O,jS(b)):(O.next=N.next,N.next=O),b.interleaved=O}function iY(S,b,O,D){var N=b.interleaved;return N===null?(O.next=O,jS(b)):(O.next=N.next,N.next=O),b.interleaved=O,Am(S,D)}function jn(S,b){return Am(S,b)}var rY=Am;function Am(S,b){S.lanes=Qe(S.lanes,b);var O=S.alternate;O!==null&&(O.lanes=Qe(O.lanes,b)),O===null&&(S.flags&(xr|No))!==Le&&cD(S);for(var D=S,N=S.return;N!==null;)N.childLanes=Qe(N.childLanes,b),O=N.alternate,O!==null?O.childLanes=Qe(O.childLanes,b):(N.flags&(xr|No))!==Le&&cD(S),D=N,N=N.return;if(D.tag===d){var W=D.stateNode;return W}else return null}var yL=0,xL=1,Om=2,QS=3,Lm=!1,qS,Dm;qS=!1,Dm=null;function _S(S){var b={baseState:S.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:kt},effects:null};S.updateQueue=b}function TL(S,b){var O=b.updateQueue,D=S.updateQueue;if(O===D){var N={baseState:D.baseState,firstBaseUpdate:D.firstBaseUpdate,lastBaseUpdate:D.lastBaseUpdate,shared:D.shared,effects:D.effects};b.updateQueue=N}}function Jo(S,b){var O={eventTime:S,lane:b,tag:yL,payload:null,callback:null,next:null};return O}function Vl(S,b,O){var D=S.updateQueue;if(D===null)return null;var N=D.shared;if(Dm===N&&!qS&&(n("An update (setState, replaceState, or forceUpdate) was scheduled from inside an update function. Update functions should be pure, with zero side-effects. Consider using componentDidUpdate or a callback."),qS=!0),eH()){var W=N.pending;return W===null?b.next=b:(b.next=W.next,W.next=b),N.pending=b,rY(S,O)}else return iY(S,N,b,O)}function Fm(S,b,O){var D=b.updateQueue;if(D!==null){var N=D.shared;if(FA(O)){var W=N.lanes;W=BA(W,S.pendingLanes);var J=Qe(W,O);N.lanes=J,HC(S,J)}}}function t1(S,b){var O=S.updateQueue,D=S.alternate;if(D!==null){var N=D.updateQueue;if(O===N){var W=null,J=null,q=O.firstBaseUpdate;if(q!==null){var et=q;do{var nt={eventTime:et.eventTime,lane:et.lane,tag:et.tag,payload:et.payload,callback:et.callback,next:null};J===null?W=J=nt:(J.next=nt,J=nt),et=et.next}while(et!==null);J===null?W=J=b:(J.next=b,J=b)}else W=J=b;O={baseState:N.baseState,firstBaseUpdate:W,lastBaseUpdate:J,shared:N.shared,effects:N.effects},S.updateQueue=O;return}}var at=O.lastBaseUpdate;at===null?O.firstBaseUpdate=b:at.next=b,O.lastBaseUpdate=b}function nY(S,b,O,D,N,W){switch(O.tag){case xL:{var J=O.payload;if(typeof J=="function"){vL();var q=J.call(W,D,N);{if(S.mode&ir){$r(!0);try{J.call(W,D,N)}finally{$r(!1)}}pL()}return q}return J}case QS:S.flags=S.flags&~In|Ti;case yL:{var et=O.payload,nt;if(typeof et=="function"){vL(),nt=et.call(W,D,N);{if(S.mode&ir){$r(!0);try{et.call(W,D,N)}finally{$r(!1)}}pL()}}else nt=et;return nt==null?D:je({},D,nt)}case Om:return Lm=!0,D}return D}function Im(S,b,O,D){var N=S.updateQueue;Lm=!1,Dm=N.shared;var W=N.firstBaseUpdate,J=N.lastBaseUpdate,q=N.shared.pending;if(q!==null){N.shared.pending=null;var et=q,nt=et.next;et.next=null,J===null?W=nt:J.next=nt,J=et;var at=S.alternate;if(at!==null){var pt=at.updateQueue,vt=pt.lastBaseUpdate;vt!==J&&(vt===null?pt.firstBaseUpdate=nt:vt.next=nt,pt.lastBaseUpdate=et)}}if(W!==null){var Tt=N.baseState,Pt=kt,Ot=null,Qt=null,be=null,ge=W;do{var hi=ge.lane,si=ge.eventTime;if(Sf(D,hi)){if(be!==null){var Lt={eventTime:si,lane:Kr,tag:ge.tag,payload:ge.payload,callback:ge.callback,next:null};be=be.next=Lt}Tt=nY(S,N,ge,Tt,b,O);var yt=ge.callback;if(yt!==null&&ge.lane!==Kr){S.flags|=vA;var Ut=N.effects;Ut===null?N.effects=[ge]:Ut.push(ge)}}else{var mt={eventTime:si,lane:hi,tag:ge.tag,payload:ge.payload,callback:ge.callback,next:null};be===null?(Qt=be=mt,Ot=Tt):be=be.next=mt,Pt=Qe(Pt,hi)}if(ge=ge.next,ge===null){if(q=N.shared.pending,q===null)break;var he=q,re=he.next;he.next=null,ge=re,N.lastBaseUpdate=he,N.shared.pending=null}}while(!0);be===null&&(Ot=Tt),N.baseState=Ot,N.firstBaseUpdate=Qt,N.lastBaseUpdate=be;var Fe=N.shared.interleaved;if(Fe!==null){var Ve=Fe;do Pt=Qe(Pt,Ve.lane),Ve=Ve.next;while(Ve!==Fe)}else W===null&&(N.shared.lanes=kt);Dv(Pt),S.lanes=Pt,S.memoizedState=Tt}Dm=null}function sY(S,b){if(typeof S!="function")throw new Error("Invalid argument passed as callback. Expected a function. Instead "+("received: "+S));S.call(b)}function CL(){Lm=!1}function Bm(){return Lm}function SL(S,b,O){var D=b.effects;if(b.effects=null,D!==null)for(var N=0;N<D.length;N++){var W=D[N],J=W.callback;J!==null&&(W.callback=null,sY(J,O))}}var av={},zl=Gl(av),ov=Gl(av),Gm=Gl(av);function km(S){if(S===av)throw new Error("Expected host context to exist. This error is likely caused by a bug in React. Please file an issue.");return S}function EL(){var S=km(Gm.current);return S}function e1(S,b){Tn(Gm,b,S),Tn(ov,S,S),Tn(zl,av,S);var O=Sz(b);xn(zl,S),Tn(zl,O,S)}function Vf(S){xn(zl,S),xn(ov,S),xn(Gm,S)}function i1(){var S=km(zl.current);return S}function bL(S){km(Gm.current);var b=km(zl.current),O=Ez(b,S.type);b!==O&&(Tn(ov,S,S),Tn(zl,O,S))}function r1(S){ov.current===S&&(xn(zl,S),xn(ov,S))}var aY=0,PL=1,wL=1,lv=2,ma=Gl(aY);function n1(S,b){return(S&b)!==0}function zf(S){return S&PL}function s1(S,b){return S&PL|b}function oY(S,b){return S|b}function Wl(S,b){Tn(ma,b,S)}function Wf(S){xn(ma,S)}function lY(S,b){var O=S.memoizedState;return O!==null?O.dehydrated!==null:(S.memoizedProps,!0)}function Nm(S){for(var b=S;b!==null;){if(b.tag===x){var O=b.memoizedState;if(O!==null){var D=O.dehydrated;if(D===null||YO(D)||ES(D))return b}}else if(b.tag===A&&b.memoizedProps.revealOrder!==void 0){var N=(b.flags&Ti)!==Le;if(N)return b}else if(b.child!==null){b.child.return=b,b=b.child;continue}if(b===S)return null;for(;b.sibling===null;){if(b.return===null||b.return===S)return null;b=b.return}b.sibling.return=b.return,b=b.sibling}return null}var Qn=0,Ar=1,_a=2,Or=4,an=8,a1=[];function o1(){for(var S=0;S<a1.length;S++){var b=a1[S];b._workInProgressVersionPrimary=null}a1.length=0}function hY(S,b){var O=b._getVersion,D=O(b._source);S.mutableSourceEagerHydrationData==null?S.mutableSourceEagerHydrationData=[b,D]:S.mutableSourceEagerHydrationData.push(b,D)}var ae=i.ReactCurrentDispatcher,hv=i.ReactCurrentBatchConfig,l1,Yf;l1=new Set;var au=kt,Ai=null,Lr=null,Dr=null,Um=!1,uv=!1,fv=0,uY=0,fY=25,Ft=null,Xs=null,Yl=-1,h1=!1;function bi(){{var S=Ft;Xs===null?Xs=[S]:Xs.push(S)}}function Zt(){{var S=Ft;Xs!==null&&(Yl++,Xs[Yl]!==S&&dY(S))}}function Xf(S){S!=null&&!ni(S)&&n("%s received a final argument that is not an array (instead, received `%s`). When specified, the final argument must be an array.",Ft,typeof S)}function dY(S){{var b=_t(Ai);if(!l1.has(b)&&(l1.add(b),Xs!==null)){for(var O="",D=30,N=0;N<=Yl;N++){for(var W=Xs[N],J=N===Yl?S:W,q=N+1+". "+W;q.length<D;)q+=" ";q+=J+`
`,O+=q}n(`React has detected a change in the order of Hooks called by %s. This will lead to bugs and errors if not fixed. For more information, read the Rules of Hooks: https://reactjs.org/link/rules-of-hooks

   Previous render            Next render
   ------------------------------------------------------
%s   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
`,b,O)}}}function Cn(){throw new Error(`Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:
1. You might have mismatching versions of React and the renderer (such as React DOM)
2. You might be breaking the Rules of Hooks
3. You might have more than one copy of React in the same app
See https://reactjs.org/link/invalid-hook-call for tips about how to debug and fix this problem.`)}function u1(S,b){if(h1)return!1;if(b===null)return n("%s received a final argument during this render, but not during the previous render. Even though the final argument is optional, its type cannot change between renders.",Ft),!1;S.length!==b.length&&n(`The final argument passed to %s changed size between renders. The order and size of this array must remain constant.

Previous: %s
Incoming: %s`,Ft,"["+b.join(", ")+"]","["+S.join(", ")+"]");for(var O=0;O<b.length&&O<S.length;O++)if(!Cs(S[O],b[O]))return!1;return!0}function Hf(S,b,O,D,N,W){au=W,Ai=b,Xs=S!==null?S._debugHookTypes:null,Yl=-1,h1=S!==null&&S.type!==b.type,b.memoizedState=null,b.updateQueue=null,b.lanes=kt,S!==null&&S.memoizedState!==null?ae.current=JL:Xs!==null?ae.current=KL:ae.current=$L;var J=O(D,N);if(uv){var q=0;do{if(uv=!1,fv=0,q>=fY)throw new Error("Too many re-renders. React limits the number of renders to prevent an infinite loop.");q+=1,h1=!1,Lr=null,Dr=null,b.updateQueue=null,Yl=-1,ae.current=ZL,J=O(D,N)}while(uv)}ae.current=qm,b._debugHookTypes=Xs;var et=Lr!==null&&Lr.next!==null;if(au=kt,Ai=null,Lr=null,Dr=null,Ft=null,Xs=null,Yl=-1,S!==null&&(S.flags&Uo)!==(b.flags&Uo)&&(S.mode&oi)!==Me&&n("Internal React error: Expected static flag was missing. Please notify the React team."),Um=!1,et)throw new Error("Rendered fewer hooks than expected. This may be caused by an accidental early return statement.");return J}function $f(){var S=fv!==0;return fv=0,S}function ML(S,b,O){b.updateQueue=S.updateQueue,(b.mode&Za)!==Me?b.flags&=-50333701:b.flags&=-2053,S.lanes=Vg(S.lanes,O)}function RL(){if(ae.current=qm,Um){for(var S=Ai.memoizedState;S!==null;){var b=S.queue;b!==null&&(b.pending=null),S=S.next}Um=!1}au=kt,Ai=null,Lr=null,Dr=null,Xs=null,Yl=-1,Ft=null,zL=!1,uv=!1,fv=0}function to(){var S={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dr===null?Ai.memoizedState=Dr=S:Dr=Dr.next=S,Dr}function Hs(){var S;if(Lr===null){var b=Ai.alternate;b!==null?S=b.memoizedState:S=null}else S=Lr.next;var O;if(Dr===null?O=Ai.memoizedState:O=Dr.next,O!==null)Dr=O,O=Dr.next,Lr=S;else{if(S===null)throw new Error("Rendered more hooks than during the previous render.");Lr=S;var D={memoizedState:Lr.memoizedState,baseState:Lr.baseState,baseQueue:Lr.baseQueue,queue:Lr.queue,next:null};Dr===null?Ai.memoizedState=Dr=D:Dr=Dr.next=D}return Dr}function AL(){return{lastEffect:null,stores:null}}function f1(S,b){return typeof b=="function"?b(S):b}function d1(S,b,O){var D=to(),N;O!==void 0?N=O(b):N=b,D.memoizedState=D.baseState=N;var W={pending:null,interleaved:null,lanes:kt,dispatch:null,lastRenderedReducer:S,lastRenderedState:N};D.queue=W;var J=W.dispatch=gY.bind(null,Ai,W);return[D.memoizedState,J]}function c1(S,b,O){var D=Hs(),N=D.queue;if(N===null)throw new Error("Should have a queue. This is likely a bug in React. Please file an issue.");N.lastRenderedReducer=S;var W=Lr,J=W.baseQueue,q=N.pending;if(q!==null){if(J!==null){var et=J.next,nt=q.next;J.next=nt,q.next=et}W.baseQueue!==J&&n("Internal error: Expected work-in-progress queue to be a clone. This is a bug in React."),W.baseQueue=J=q,N.pending=null}if(J!==null){var at=J.next,pt=W.baseState,vt=null,Tt=null,Pt=null,Ot=at;do{var Qt=Ot.lane;if(Sf(au,Qt)){if(Pt!==null){var ge={lane:Kr,action:Ot.action,hasEagerState:Ot.hasEagerState,eagerState:Ot.eagerState,next:null};Pt=Pt.next=ge}if(Ot.hasEagerState)pt=Ot.eagerState;else{var hi=Ot.action;pt=S(pt,hi)}}else{var be={lane:Qt,action:Ot.action,hasEagerState:Ot.hasEagerState,eagerState:Ot.eagerState,next:null};Pt===null?(Tt=Pt=be,vt=pt):Pt=Pt.next=be,Ai.lanes=Qe(Ai.lanes,Qt),Dv(Qt)}Ot=Ot.next}while(Ot!==null&&Ot!==at);Pt===null?vt=pt:Pt.next=Tt,Cs(pt,D.memoizedState)||Tv(),D.memoizedState=pt,D.baseState=vt,D.baseQueue=Pt,N.lastRenderedState=pt}var si=N.interleaved;if(si!==null){var mt=si;do{var Lt=mt.lane;Ai.lanes=Qe(Ai.lanes,Lt),Dv(Lt),mt=mt.next}while(mt!==si)}else J===null&&(N.lanes=kt);var yt=N.dispatch;return[D.memoizedState,yt]}function v1(S,b,O){var D=Hs(),N=D.queue;if(N===null)throw new Error("Should have a queue. This is likely a bug in React. Please file an issue.");N.lastRenderedReducer=S;var W=N.dispatch,J=N.pending,q=D.memoizedState;if(J!==null){N.pending=null;var et=J.next,nt=et;do{var at=nt.action;q=S(q,at),nt=nt.next}while(nt!==et);Cs(q,D.memoizedState)||Tv(),D.memoizedState=q,D.baseQueue===null&&(D.baseState=q),N.lastRenderedState=q}return[q,W]}function eMt(S,b,O){}function iMt(S,b,O){}function p1(S,b,O){var D=Ai,N=to(),W,J=sn();if(J){if(O===void 0)throw new Error("Missing getServerSnapshot, which is required for server-rendered content. Will revert to client rendering.");W=O(),Yf||W!==O()&&(n("The result of getServerSnapshot should be cached to avoid an infinite loop"),Yf=!0)}else{if(W=b(),!Yf){var q=b();Cs(W,q)||(n("The result of getSnapshot should be cached to avoid an infinite loop"),Yf=!0)}var et=m0();if(et===null)throw new Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");Ug(et,au)||OL(D,b,W)}N.memoizedState=W;var nt={value:W,getSnapshot:b};return N.queue=nt,Xm(DL.bind(null,D,nt,S),[S]),D.flags|=Ml,dv(Ar|an,LL.bind(null,D,nt,W,b),void 0,null),W}function Vm(S,b,O){var D=Ai,N=Hs(),W=b();if(!Yf){var J=b();Cs(W,J)||(n("The result of getSnapshot should be cached to avoid an infinite loop"),Yf=!0)}var q=N.memoizedState,et=!Cs(q,W);et&&(N.memoizedState=W,Tv());var nt=N.queue;if(vv(DL.bind(null,D,nt,S),[S]),nt.getSnapshot!==b||et||Dr!==null&&Dr.memoizedState.tag&Ar){D.flags|=Ml,dv(Ar|an,LL.bind(null,D,nt,W,b),void 0,null);var at=m0();if(at===null)throw new Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");Ug(at,au)||OL(D,b,W)}return W}function OL(S,b,O){S.flags|=fC;var D={getSnapshot:b,value:O},N=Ai.updateQueue;if(N===null)N=AL(),Ai.updateQueue=N,N.stores=[D];else{var W=N.stores;W===null?N.stores=[D]:W.push(D)}}function LL(S,b,O,D){b.value=O,b.getSnapshot=D,FL(b)&&IL(S)}function DL(S,b,O){var D=function(){FL(b)&&IL(S)};return O(D)}function FL(S){var b=S.getSnapshot,O=S.value;try{var D=b();return!Cs(O,D)}catch{return!0}}function IL(S){var b=jn(S,Ge);b!==null&&Gr(b,S,Ge,Vi)}function zm(S){var b=to();typeof S=="function"&&(S=S()),b.memoizedState=b.baseState=S;var O={pending:null,interleaved:null,lanes:kt,dispatch:null,lastRenderedReducer:f1,lastRenderedState:S};b.queue=O;var D=O.dispatch=mY.bind(null,Ai,O);return[b.memoizedState,D]}function g1(S){return c1(f1)}function m1(S){return v1(f1)}function dv(S,b,O,D){var N={tag:S,create:b,destroy:O,deps:D,next:null},W=Ai.updateQueue;if(W===null)W=AL(),Ai.updateQueue=W,W.lastEffect=N.next=N;else{var J=W.lastEffect;if(J===null)W.lastEffect=N.next=N;else{var q=J.next;J.next=N,N.next=q,W.lastEffect=N}}return N}function y1(S){var b=to();{var O={current:S};return b.memoizedState=O,O}}function Wm(S){var b=Hs();return b.memoizedState}function cv(S,b,O,D){var N=to(),W=D===void 0?null:D;Ai.flags|=S,N.memoizedState=dv(Ar|b,O,void 0,W)}function Ym(S,b,O,D){var N=Hs(),W=D===void 0?null:D,J=void 0;if(Lr!==null){var q=Lr.memoizedState;if(J=q.destroy,W!==null){var et=q.deps;if(u1(W,et)){N.memoizedState=dv(b,O,J,W);return}}}Ai.flags|=S,N.memoizedState=dv(Ar|b,O,J,W)}function Xm(S,b){return(Ai.mode&Za)!==Me?cv(pC|Ml|vC,an,S,b):cv(Ml|vC,an,S,b)}function vv(S,b){return Ym(Ml,an,S,b)}function x1(S,b){return cv(xi,_a,S,b)}function Hm(S,b){return Ym(xi,_a,S,b)}function T1(S,b){var O=xi;return O|=Yh,(Ai.mode&Za)!==Me&&(O|=Rl),cv(O,Or,S,b)}function $m(S,b){return Ym(xi,Or,S,b)}function BL(S,b){if(typeof b=="function"){var O=b,D=S();return O(D),function(){O(null)}}else if(b!=null){var N=b;N.hasOwnProperty("current")||n("Expected useImperativeHandle() first argument to either be a ref callback or React.createRef() object. Instead received: %s.","an object with keys {"+Object.keys(N).join(", ")+"}");var W=S();return N.current=W,function(){N.current=null}}}function C1(S,b,O){typeof b!="function"&&n("Expected useImperativeHandle() second argument to be a function that creates a handle. Instead received: %s.",b!==null?typeof b:"null");var D=O!=null?O.concat([S]):null,N=xi;return N|=Yh,(Ai.mode&Za)!==Me&&(N|=Rl),cv(N,Or,BL.bind(null,b,S),D)}function Km(S,b,O){typeof b!="function"&&n("Expected useImperativeHandle() second argument to be a function that creates a handle. Instead received: %s.",b!==null?typeof b:"null");var D=O!=null?O.concat([S]):null;return Ym(xi,Or,BL.bind(null,b,S),D)}function cY(S,b){}var Jm=cY;function S1(S,b){var O=to(),D=b===void 0?null:b;return O.memoizedState=[S,D],S}function Zm(S,b){var O=Hs(),D=b===void 0?null:b,N=O.memoizedState;if(N!==null&&D!==null){var W=N[1];if(u1(D,W))return N[0]}return O.memoizedState=[S,D],S}function E1(S,b){var O=to(),D=b===void 0?null:b,N=S();return O.memoizedState=[N,D],N}function jm(S,b){var O=Hs(),D=b===void 0?null:b,N=O.memoizedState;if(N!==null&&D!==null){var W=N[1];if(u1(D,W))return N[0]}var J=S();return O.memoizedState=[J,D],J}function b1(S){var b=to();return b.memoizedState=S,S}function GL(S){var b=Hs(),O=Lr,D=O.memoizedState;return NL(b,D,S)}function kL(S){var b=Hs();if(Lr===null)return b.memoizedState=S,S;var O=Lr.memoizedState;return NL(b,O,S)}function NL(S,b,O){var D=!q7(au);if(D){if(!Cs(O,b)){var N=IA();Ai.lanes=Qe(Ai.lanes,N),Dv(N),S.baseState=!0}return b}else return S.baseState&&(S.baseState=!1,Tv()),S.memoizedState=O,O}function vY(S,b,O){var D=ca();Jr(oU(D,zo)),S(!0);var N=hv.transition;hv.transition={};var W=hv.transition;hv.transition._updatedFibers=new Set;try{S(!1),b()}finally{if(Jr(D),hv.transition=N,N===null&&W._updatedFibers){var J=W._updatedFibers.size;J>10&&E("Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table."),W._updatedFibers.clear()}}}function P1(){var S=zm(!1),b=S[0],O=S[1],D=vY.bind(null,O),N=to();return N.memoizedState=D,[b,D]}function UL(){var S=g1(),b=S[0],O=Hs(),D=O.memoizedState;return[b,D]}function VL(){var S=m1(),b=S[0],O=Hs(),D=O.memoizedState;return[b,D]}var zL=!1;function pY(){return zL}function w1(){var S=to(),b=m0(),O=b.identifierPrefix,D;if(sn()){var N=DW();D=":"+O+"R"+N;var W=fv++;W>0&&(D+="H"+W.toString(32)),D+=":"}else{var J=uY++;D=":"+O+"r"+J.toString(32)+":"}return S.memoizedState=D,D}function Qm(){var S=Hs(),b=S.memoizedState;return b}function gY(S,b,O){typeof arguments[3]=="function"&&n("State updates from the useState() and useReducer() Hooks don't support the second callback argument. To execute a side effect after rendering, declare it in the component body with useEffect().");var D=Jl(S),N={lane:D,action:O,hasEagerState:!1,eagerState:null,next:null};if(WL(S))YL(b,N);else{var W=mL(S,b,N,D);if(W!==null){var J=kn();Gr(W,S,D,J),XL(W,b,D)}}HL(S,D)}function mY(S,b,O){typeof arguments[3]=="function"&&n("State updates from the useState() and useReducer() Hooks don't support the second callback argument. To execute a side effect after rendering, declare it in the component body with useEffect().");var D=Jl(S),N={lane:D,action:O,hasEagerState:!1,eagerState:null,next:null};if(WL(S))YL(b,N);else{var W=S.alternate;if(S.lanes===kt&&(W===null||W.lanes===kt)){var J=b.lastRenderedReducer;if(J!==null){var q;q=ae.current,ae.current=ya;try{var et=b.lastRenderedState,nt=J(et,O);if(N.hasEagerState=!0,N.eagerState=nt,Cs(nt,et)){eY(S,b,N,D);return}}catch{}finally{ae.current=q}}}var at=mL(S,b,N,D);if(at!==null){var pt=kn();Gr(at,S,D,pt),XL(at,b,D)}}HL(S,D)}function WL(S){var b=S.alternate;return S===Ai||b!==null&&b===Ai}function YL(S,b){uv=Um=!0;var O=S.pending;O===null?b.next=b:(b.next=O.next,O.next=b),S.pending=b}function XL(S,b,O){if(FA(O)){var D=b.lanes;D=BA(D,S.pendingLanes);var N=Qe(D,O);b.lanes=N,HC(S,N)}}function HL(S,b,O){TC(S,b)}var qm={readContext:Tr,useCallback:Cn,useContext:Cn,useEffect:Cn,useImperativeHandle:Cn,useInsertionEffect:Cn,useLayoutEffect:Cn,useMemo:Cn,useReducer:Cn,useRef:Cn,useState:Cn,useDebugValue:Cn,useDeferredValue:Cn,useTransition:Cn,useMutableSource:Cn,useSyncExternalStore:Cn,useId:Cn,unstable_isNewReconciler:U},$L=null,KL=null,JL=null,ZL=null,eo=null,ya=null,_m=null;{var M1=function(){n("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().")},ke=function(){n("Do not call Hooks inside useEffect(...), useMemo(...), or other built-in Hooks. You can only call Hooks at the top level of your React function. For more information, see https://reactjs.org/link/rules-of-hooks")};$L={readContext:function(S){return Tr(S)},useCallback:function(S,b){return Ft="useCallback",bi(),Xf(b),S1(S,b)},useContext:function(S){return Ft="useContext",bi(),Tr(S)},useEffect:function(S,b){return Ft="useEffect",bi(),Xf(b),Xm(S,b)},useImperativeHandle:function(S,b,O){return Ft="useImperativeHandle",bi(),Xf(O),C1(S,b,O)},useInsertionEffect:function(S,b){return Ft="useInsertionEffect",bi(),Xf(b),x1(S,b)},useLayoutEffect:function(S,b){return Ft="useLayoutEffect",bi(),Xf(b),T1(S,b)},useMemo:function(S,b){Ft="useMemo",bi(),Xf(b);var O=ae.current;ae.current=eo;try{return E1(S,b)}finally{ae.current=O}},useReducer:function(S,b,O){Ft="useReducer",bi();var D=ae.current;ae.current=eo;try{return d1(S,b,O)}finally{ae.current=D}},useRef:function(S){return Ft="useRef",bi(),y1(S)},useState:function(S){Ft="useState",bi();var b=ae.current;ae.current=eo;try{return zm(S)}finally{ae.current=b}},useDebugValue:function(S,b){return Ft="useDebugValue",bi(),void 0},useDeferredValue:function(S){return Ft="useDeferredValue",bi(),b1(S)},useTransition:function(){return Ft="useTransition",bi(),P1()},useMutableSource:function(S,b,O){return Ft="useMutableSource",bi(),void 0},useSyncExternalStore:function(S,b,O){return Ft="useSyncExternalStore",bi(),p1(S,b,O)},useId:function(){return Ft="useId",bi(),w1()},unstable_isNewReconciler:U},KL={readContext:function(S){return Tr(S)},useCallback:function(S,b){return Ft="useCallback",Zt(),S1(S,b)},useContext:function(S){return Ft="useContext",Zt(),Tr(S)},useEffect:function(S,b){return Ft="useEffect",Zt(),Xm(S,b)},useImperativeHandle:function(S,b,O){return Ft="useImperativeHandle",Zt(),C1(S,b,O)},useInsertionEffect:function(S,b){return Ft="useInsertionEffect",Zt(),x1(S,b)},useLayoutEffect:function(S,b){return Ft="useLayoutEffect",Zt(),T1(S,b)},useMemo:function(S,b){Ft="useMemo",Zt();var O=ae.current;ae.current=eo;try{return E1(S,b)}finally{ae.current=O}},useReducer:function(S,b,O){Ft="useReducer",Zt();var D=ae.current;ae.current=eo;try{return d1(S,b,O)}finally{ae.current=D}},useRef:function(S){return Ft="useRef",Zt(),y1(S)},useState:function(S){Ft="useState",Zt();var b=ae.current;ae.current=eo;try{return zm(S)}finally{ae.current=b}},useDebugValue:function(S,b){return Ft="useDebugValue",Zt(),void 0},useDeferredValue:function(S){return Ft="useDeferredValue",Zt(),b1(S)},useTransition:function(){return Ft="useTransition",Zt(),P1()},useMutableSource:function(S,b,O){return Ft="useMutableSource",Zt(),void 0},useSyncExternalStore:function(S,b,O){return Ft="useSyncExternalStore",Zt(),p1(S,b,O)},useId:function(){return Ft="useId",Zt(),w1()},unstable_isNewReconciler:U},JL={readContext:function(S){return Tr(S)},useCallback:function(S,b){return Ft="useCallback",Zt(),Zm(S,b)},useContext:function(S){return Ft="useContext",Zt(),Tr(S)},useEffect:function(S,b){return Ft="useEffect",Zt(),vv(S,b)},useImperativeHandle:function(S,b,O){return Ft="useImperativeHandle",Zt(),Km(S,b,O)},useInsertionEffect:function(S,b){return Ft="useInsertionEffect",Zt(),Hm(S,b)},useLayoutEffect:function(S,b){return Ft="useLayoutEffect",Zt(),$m(S,b)},useMemo:function(S,b){Ft="useMemo",Zt();var O=ae.current;ae.current=ya;try{return jm(S,b)}finally{ae.current=O}},useReducer:function(S,b,O){Ft="useReducer",Zt();var D=ae.current;ae.current=ya;try{return c1(S,b,O)}finally{ae.current=D}},useRef:function(S){return Ft="useRef",Zt(),Wm()},useState:function(S){Ft="useState",Zt();var b=ae.current;ae.current=ya;try{return g1(S)}finally{ae.current=b}},useDebugValue:function(S,b){return Ft="useDebugValue",Zt(),Jm()},useDeferredValue:function(S){return Ft="useDeferredValue",Zt(),GL(S)},useTransition:function(){return Ft="useTransition",Zt(),UL()},useMutableSource:function(S,b,O){return Ft="useMutableSource",Zt(),void 0},useSyncExternalStore:function(S,b,O){return Ft="useSyncExternalStore",Zt(),Vm(S,b)},useId:function(){return Ft="useId",Zt(),Qm()},unstable_isNewReconciler:U},ZL={readContext:function(S){return Tr(S)},useCallback:function(S,b){return Ft="useCallback",Zt(),Zm(S,b)},useContext:function(S){return Ft="useContext",Zt(),Tr(S)},useEffect:function(S,b){return Ft="useEffect",Zt(),vv(S,b)},useImperativeHandle:function(S,b,O){return Ft="useImperativeHandle",Zt(),Km(S,b,O)},useInsertionEffect:function(S,b){return Ft="useInsertionEffect",Zt(),Hm(S,b)},useLayoutEffect:function(S,b){return Ft="useLayoutEffect",Zt(),$m(S,b)},useMemo:function(S,b){Ft="useMemo",Zt();var O=ae.current;ae.current=_m;try{return jm(S,b)}finally{ae.current=O}},useReducer:function(S,b,O){Ft="useReducer",Zt();var D=ae.current;ae.current=_m;try{return v1(S,b,O)}finally{ae.current=D}},useRef:function(S){return Ft="useRef",Zt(),Wm()},useState:function(S){Ft="useState",Zt();var b=ae.current;ae.current=_m;try{return m1(S)}finally{ae.current=b}},useDebugValue:function(S,b){return Ft="useDebugValue",Zt(),Jm()},useDeferredValue:function(S){return Ft="useDeferredValue",Zt(),kL(S)},useTransition:function(){return Ft="useTransition",Zt(),VL()},useMutableSource:function(S,b,O){return Ft="useMutableSource",Zt(),void 0},useSyncExternalStore:function(S,b,O){return Ft="useSyncExternalStore",Zt(),Vm(S,b)},useId:function(){return Ft="useId",Zt(),Qm()},unstable_isNewReconciler:U},eo={readContext:function(S){return M1(),Tr(S)},useCallback:function(S,b){return Ft="useCallback",ke(),bi(),S1(S,b)},useContext:function(S){return Ft="useContext",ke(),bi(),Tr(S)},useEffect:function(S,b){return Ft="useEffect",ke(),bi(),Xm(S,b)},useImperativeHandle:function(S,b,O){return Ft="useImperativeHandle",ke(),bi(),C1(S,b,O)},useInsertionEffect:function(S,b){return Ft="useInsertionEffect",ke(),bi(),x1(S,b)},useLayoutEffect:function(S,b){return Ft="useLayoutEffect",ke(),bi(),T1(S,b)},useMemo:function(S,b){Ft="useMemo",ke(),bi();var O=ae.current;ae.current=eo;try{return E1(S,b)}finally{ae.current=O}},useReducer:function(S,b,O){Ft="useReducer",ke(),bi();var D=ae.current;ae.current=eo;try{return d1(S,b,O)}finally{ae.current=D}},useRef:function(S){return Ft="useRef",ke(),bi(),y1(S)},useState:function(S){Ft="useState",ke(),bi();var b=ae.current;ae.current=eo;try{return zm(S)}finally{ae.current=b}},useDebugValue:function(S,b){return Ft="useDebugValue",ke(),bi(),void 0},useDeferredValue:function(S){return Ft="useDeferredValue",ke(),bi(),b1(S)},useTransition:function(){return Ft="useTransition",ke(),bi(),P1()},useMutableSource:function(S,b,O){return Ft="useMutableSource",ke(),bi(),void 0},useSyncExternalStore:function(S,b,O){return Ft="useSyncExternalStore",ke(),bi(),p1(S,b,O)},useId:function(){return Ft="useId",ke(),bi(),w1()},unstable_isNewReconciler:U},ya={readContext:function(S){return M1(),Tr(S)},useCallback:function(S,b){return Ft="useCallback",ke(),Zt(),Zm(S,b)},useContext:function(S){return Ft="useContext",ke(),Zt(),Tr(S)},useEffect:function(S,b){return Ft="useEffect",ke(),Zt(),vv(S,b)},useImperativeHandle:function(S,b,O){return Ft="useImperativeHandle",ke(),Zt(),Km(S,b,O)},useInsertionEffect:function(S,b){return Ft="useInsertionEffect",ke(),Zt(),Hm(S,b)},useLayoutEffect:function(S,b){return Ft="useLayoutEffect",ke(),Zt(),$m(S,b)},useMemo:function(S,b){Ft="useMemo",ke(),Zt();var O=ae.current;ae.current=ya;try{return jm(S,b)}finally{ae.current=O}},useReducer:function(S,b,O){Ft="useReducer",ke(),Zt();var D=ae.current;ae.current=ya;try{return c1(S,b,O)}finally{ae.current=D}},useRef:function(S){return Ft="useRef",ke(),Zt(),Wm()},useState:function(S){Ft="useState",ke(),Zt();var b=ae.current;ae.current=ya;try{return g1(S)}finally{ae.current=b}},useDebugValue:function(S,b){return Ft="useDebugValue",ke(),Zt(),Jm()},useDeferredValue:function(S){return Ft="useDeferredValue",ke(),Zt(),GL(S)},useTransition:function(){return Ft="useTransition",ke(),Zt(),UL()},useMutableSource:function(S,b,O){return Ft="useMutableSource",ke(),Zt(),void 0},useSyncExternalStore:function(S,b,O){return Ft="useSyncExternalStore",ke(),Zt(),Vm(S,b)},useId:function(){return Ft="useId",ke(),Zt(),Qm()},unstable_isNewReconciler:U},_m={readContext:function(S){return M1(),Tr(S)},useCallback:function(S,b){return Ft="useCallback",ke(),Zt(),Zm(S,b)},useContext:function(S){return Ft="useContext",ke(),Zt(),Tr(S)},useEffect:function(S,b){return Ft="useEffect",ke(),Zt(),vv(S,b)},useImperativeHandle:function(S,b,O){return Ft="useImperativeHandle",ke(),Zt(),Km(S,b,O)},useInsertionEffect:function(S,b){return Ft="useInsertionEffect",ke(),Zt(),Hm(S,b)},useLayoutEffect:function(S,b){return Ft="useLayoutEffect",ke(),Zt(),$m(S,b)},useMemo:function(S,b){Ft="useMemo",ke(),Zt();var O=ae.current;ae.current=ya;try{return jm(S,b)}finally{ae.current=O}},useReducer:function(S,b,O){Ft="useReducer",ke(),Zt();var D=ae.current;ae.current=ya;try{return v1(S,b,O)}finally{ae.current=D}},useRef:function(S){return Ft="useRef",ke(),Zt(),Wm()},useState:function(S){Ft="useState",ke(),Zt();var b=ae.current;ae.current=ya;try{return m1(S)}finally{ae.current=b}},useDebugValue:function(S,b){return Ft="useDebugValue",ke(),Zt(),Jm()},useDeferredValue:function(S){return Ft="useDeferredValue",ke(),Zt(),kL(S)},useTransition:function(){return Ft="useTransition",ke(),Zt(),VL()},useMutableSource:function(S,b,O){return Ft="useMutableSource",ke(),Zt(),void 0},useSyncExternalStore:function(S,b,O){return Ft="useSyncExternalStore",ke(),Zt(),Vm(S,b)},useId:function(){return Ft="useId",ke(),Zt(),Qm()},unstable_isNewReconciler:U}}var Xl=t.unstable_now,jL=0,t0=-1,pv=-1,e0=-1,R1=!1,i0=!1;function QL(){return R1}function yY(){i0=!0}function xY(){R1=!1,i0=!1}function TY(){R1=i0,i0=!1}function qL(){return jL}function _L(){jL=Xl()}function A1(S){pv=Xl(),S.actualStartTime<0&&(S.actualStartTime=Xl())}function t2(S){pv=-1}function r0(S,b){if(pv>=0){var O=Xl()-pv;S.actualDuration+=O,b&&(S.selfBaseDuration=O),pv=-1}}function io(S){if(t0>=0){var b=Xl()-t0;t0=-1;for(var O=S.return;O!==null;){switch(O.tag){case d:var D=O.stateNode;D.effectDuration+=b;return;case m:var N=O.stateNode;N.effectDuration+=b;return}O=O.return}}}function O1(S){if(e0>=0){var b=Xl()-e0;e0=-1;for(var O=S.return;O!==null;){switch(O.tag){case d:var D=O.stateNode;D!==null&&(D.passiveEffectDuration+=b);return;case m:var N=O.stateNode;N!==null&&(N.passiveEffectDuration+=b);return}O=O.return}}}function ro(){t0=Xl()}function L1(){e0=Xl()}function D1(S){for(var b=S.child;b;)S.actualDuration+=b.actualDuration,b=b.sibling}function xa(S,b){if(S&&S.defaultProps){var O=je({},b),D=S.defaultProps;for(var N in D)O[N]===void 0&&(O[N]=D[N]);return O}return b}var F1={},I1,B1,G1,k1,N1,e2,n0,U1,V1,z1,gv;{I1=new Set,B1=new Set,G1=new Set,k1=new Set,U1=new Set,N1=new Set,V1=new Set,z1=new Set,gv=new Set;var i2=new Set;n0=function(S,b){if(!(S===null||typeof S=="function")){var O=b+"_"+S;i2.has(O)||(i2.add(O),n("%s(...): Expected the last optional `callback` argument to be a function. Instead received: %s.",b,S))}},e2=function(S,b){if(b===void 0){var O=fe(S)||"Component";N1.has(O)||(N1.add(O),n("%s.getDerivedStateFromProps(): A valid state object (or null) must be returned. You have returned undefined.",O))}},Object.defineProperty(F1,"_processChildContext",{enumerable:!1,value:function(){throw new Error("_processChildContext is not available in React 16+. This likely means you have multiple copies of React and are attempting to nest a React 15 tree inside a React 16 tree using unstable_renderSubtreeIntoContainer, which isn't supported. Try to make sure you have only one copy of React (and ideally, switch to ReactDOM.createPortal).")}}),Object.freeze(F1)}function W1(S,b,O,D){var N=S.memoizedState,W=O(D,N);{if(S.mode&ir){$r(!0);try{W=O(D,N)}finally{$r(!1)}}e2(b,W)}var J=W==null?N:je({},N,W);if(S.memoizedState=J,S.lanes===kt){var q=S.updateQueue;q.baseState=J}}var Y1={isMounted:f7,enqueueSetState:function(S,b,O){var D=cf(S),N=kn(),W=Jl(D),J=Jo(N,W);J.payload=b,O!=null&&(n0(O,"setState"),J.callback=O);var q=Vl(D,J,W);q!==null&&(Gr(q,D,W,N),Fm(q,D,W)),TC(D,W)},enqueueReplaceState:function(S,b,O){var D=cf(S),N=kn(),W=Jl(D),J=Jo(N,W);J.tag=xL,J.payload=b,O!=null&&(n0(O,"replaceState"),J.callback=O);var q=Vl(D,J,W);q!==null&&(Gr(q,D,W,N),Fm(q,D,W)),TC(D,W)},enqueueForceUpdate:function(S,b){var O=cf(S),D=kn(),N=Jl(O),W=Jo(D,N);W.tag=Om,b!=null&&(n0(b,"forceUpdate"),W.callback=b);var J=Vl(O,W,N);J!==null&&(Gr(J,O,N,D),Fm(J,O,N)),W7(O,N)}};function r2(S,b,O,D,N,W,J){var q=S.stateNode;if(typeof q.shouldComponentUpdate=="function"){var et=q.shouldComponentUpdate(D,W,J);{if(S.mode&ir){$r(!0);try{et=q.shouldComponentUpdate(D,W,J)}finally{$r(!1)}}et===void 0&&n("%s.shouldComponentUpdate(): Returned undefined instead of a boolean value. Make sure to return true or false.",fe(b)||"Component")}return et}return b.prototype&&b.prototype.isPureReactComponent?!Nc(O,D)||!Nc(N,W):!0}function CY(S,b,O){var D=S.stateNode;{var N=fe(b)||"Component",W=D.render;W||(b.prototype&&typeof b.prototype.render=="function"?n("%s(...): No `render` method found on the returned component instance: did you accidentally return an object from the constructor?",N):n("%s(...): No `render` method found on the returned component instance: you may have forgotten to define `render`.",N)),D.getInitialState&&!D.getInitialState.isReactClassApproved&&!D.state&&n("getInitialState was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Did you mean to define a state property instead?",N),D.getDefaultProps&&!D.getDefaultProps.isReactClassApproved&&n("getDefaultProps was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Use a static property to define defaultProps instead.",N),D.propTypes&&n("propTypes was defined as an instance property on %s. Use a static property to define propTypes instead.",N),D.contextType&&n("contextType was defined as an instance property on %s. Use a static property to define contextType instead.",N),b.childContextTypes&&!gv.has(b)&&(S.mode&ir)===Me&&(gv.add(b),n(`%s uses the legacy childContextTypes API which is no longer supported and will be removed in the next major release. Use React.createContext() instead

.Learn more about this warning here: https://reactjs.org/link/legacy-context`,N)),b.contextTypes&&!gv.has(b)&&(S.mode&ir)===Me&&(gv.add(b),n(`%s uses the legacy contextTypes API which is no longer supported and will be removed in the next major release. Use React.createContext() with static contextType instead.

Learn more about this warning here: https://reactjs.org/link/legacy-context`,N)),D.contextTypes&&n("contextTypes was defined as an instance property on %s. Use a static property to define contextTypes instead.",N),b.contextType&&b.contextTypes&&!V1.has(b)&&(V1.add(b),n("%s declares both contextTypes and contextType static properties. The legacy contextTypes property will be ignored.",N)),typeof D.componentShouldUpdate=="function"&&n("%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",N),b.prototype&&b.prototype.isPureReactComponent&&typeof D.shouldComponentUpdate<"u"&&n("%s has a method called shouldComponentUpdate(). shouldComponentUpdate should not be used when extending React.PureComponent. Please extend React.Component if shouldComponentUpdate is used.",fe(b)||"A pure component"),typeof D.componentDidUnmount=="function"&&n("%s has a method called componentDidUnmount(). But there is no such lifecycle method. Did you mean componentWillUnmount()?",N),typeof D.componentDidReceiveProps=="function"&&n("%s has a method called componentDidReceiveProps(). But there is no such lifecycle method. If you meant to update the state in response to changing props, use componentWillReceiveProps(). If you meant to fetch data or run side-effects or mutations after React has updated the UI, use componentDidUpdate().",N),typeof D.componentWillRecieveProps=="function"&&n("%s has a method called componentWillRecieveProps(). Did you mean componentWillReceiveProps()?",N),typeof D.UNSAFE_componentWillRecieveProps=="function"&&n("%s has a method called UNSAFE_componentWillRecieveProps(). Did you mean UNSAFE_componentWillReceiveProps()?",N);var J=D.props!==O;D.props!==void 0&&J&&n("%s(...): When calling super() in `%s`, make sure to pass up the same props that your component's constructor was passed.",N,N),D.defaultProps&&n("Setting defaultProps as an instance property on %s is not supported and will be ignored. Instead, define defaultProps as a static property on %s.",N,N),typeof D.getSnapshotBeforeUpdate=="function"&&typeof D.componentDidUpdate!="function"&&!G1.has(b)&&(G1.add(b),n("%s: getSnapshotBeforeUpdate() should be used with componentDidUpdate(). This component defines getSnapshotBeforeUpdate() only.",fe(b))),typeof D.getDerivedStateFromProps=="function"&&n("%s: getDerivedStateFromProps() is defined as an instance method and will be ignored. Instead, declare it as a static method.",N),typeof D.getDerivedStateFromError=="function"&&n("%s: getDerivedStateFromError() is defined as an instance method and will be ignored. Instead, declare it as a static method.",N),typeof b.getSnapshotBeforeUpdate=="function"&&n("%s: getSnapshotBeforeUpdate() is defined as a static method and will be ignored. Instead, declare it as an instance method.",N);var q=D.state;q&&(typeof q!="object"||ni(q))&&n("%s.state: must be set to an object or null",N),typeof D.getChildContext=="function"&&typeof b.childContextTypes!="object"&&n("%s.getChildContext(): childContextTypes must be defined in order to use getChildContext().",N)}}function n2(S,b){b.updater=Y1,S.stateNode=b,o7(b,S),b._reactInternalInstance=F1}function s2(S,b,O){var D=!1,N=Ss,W=Ss,J=b.contextType;if("contextType"in b){var q=J===null||J!==void 0&&J.$$typeof===Jt&&J._context===void 0;if(!q&&!z1.has(b)){z1.add(b);var et="";J===void 0?et=" However, it is set to undefined. This can be caused by a typo or by mixing up named and default imports. This can also happen due to a circular dependency, so try moving the createContext() call to a separate file.":typeof J!="object"?et=" However, it is set to a "+typeof J+".":J.$$typeof===Bt?et=" Did you accidentally pass the Context.Provider instead?":J._context!==void 0?et=" Did you accidentally pass the Context.Consumer instead?":et=" However, it is set to an object with keys {"+Object.keys(J).join(", ")+"}.",n("%s defines an invalid contextType. contextType should point to the Context object returned by React.createContext().%s",fe(b)||"Component",et)}}if(typeof J=="object"&&J!==null)W=Tr(J);else{N=Df(S,b,!0);var nt=b.contextTypes;D=nt!=null,W=D?Ff(S,N):Ss}var at=new b(O,W);if(S.mode&ir){$r(!0);try{at=new b(O,W)}finally{$r(!1)}}var pt=S.memoizedState=at.state!==null&&at.state!==void 0?at.state:null;n2(S,at);{if(typeof b.getDerivedStateFromProps=="function"&&pt===null){var vt=fe(b)||"Component";B1.has(vt)||(B1.add(vt),n("`%s` uses `getDerivedStateFromProps` but its initial state is %s. This is not recommended. Instead, define the initial state by assigning an object to `this.state` in the constructor of `%s`. This ensures that `getDerivedStateFromProps` arguments have a consistent shape.",vt,at.state===null?"null":"undefined",vt))}if(typeof b.getDerivedStateFromProps=="function"||typeof at.getSnapshotBeforeUpdate=="function"){var Tt=null,Pt=null,Ot=null;if(typeof at.componentWillMount=="function"&&at.componentWillMount.__suppressDeprecationWarning!==!0?Tt="componentWillMount":typeof at.UNSAFE_componentWillMount=="function"&&(Tt="UNSAFE_componentWillMount"),typeof at.componentWillReceiveProps=="function"&&at.componentWillReceiveProps.__suppressDeprecationWarning!==!0?Pt="componentWillReceiveProps":typeof at.UNSAFE_componentWillReceiveProps=="function"&&(Pt="UNSAFE_componentWillReceiveProps"),typeof at.componentWillUpdate=="function"&&at.componentWillUpdate.__suppressDeprecationWarning!==!0?Ot="componentWillUpdate":typeof at.UNSAFE_componentWillUpdate=="function"&&(Ot="UNSAFE_componentWillUpdate"),Tt!==null||Pt!==null||Ot!==null){var Qt=fe(b)||"Component",be=typeof b.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";k1.has(Qt)||(k1.add(Qt),n(`Unsafe legacy lifecycles will not be called for components using new component APIs.

%s uses %s but also contains the following legacy lifecycles:%s%s%s

The above lifecycles should be removed. Learn more about this warning here:
https://reactjs.org/link/unsafe-component-lifecycles`,Qt,be,Tt!==null?`
  `+Tt:"",Pt!==null?`
  `+Pt:"",Ot!==null?`
  `+Ot:""))}}}return D&&JO(S,N,W),at}function SY(S,b){var O=b.state;typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),O!==b.state&&(n("%s.componentWillMount(): Assigning directly to this.state is deprecated (except inside a component's constructor). Use setState instead.",_t(S)||"Component"),Y1.enqueueReplaceState(b,b.state,null))}function a2(S,b,O,D){var N=b.state;if(typeof b.componentWillReceiveProps=="function"&&b.componentWillReceiveProps(O,D),typeof b.UNSAFE_componentWillReceiveProps=="function"&&b.UNSAFE_componentWillReceiveProps(O,D),b.state!==N){{var W=_t(S)||"Component";I1.has(W)||(I1.add(W),n("%s.componentWillReceiveProps(): Assigning directly to this.state is deprecated (except inside a component's constructor). Use setState instead.",W))}Y1.enqueueReplaceState(b,b.state,null)}}function X1(S,b,O,D){CY(S,b,O);var N=S.stateNode;N.props=O,N.state=S.memoizedState,N.refs={},_S(S);var W=b.contextType;if(typeof W=="object"&&W!==null)N.context=Tr(W);else{var J=Df(S,b,!0);N.context=Ff(S,J)}{if(N.state===O){var q=fe(b)||"Component";U1.has(q)||(U1.add(q),n("%s: It is not recommended to assign props directly to state because updates to props won't be reflected in state. In most cases, it is better to use props directly.",q))}S.mode&ir&&ga.recordLegacyContextWarning(S,N),ga.recordUnsafeLifecycleWarnings(S,N)}N.state=S.memoizedState;var et=b.getDerivedStateFromProps;if(typeof et=="function"&&(W1(S,b,et,O),N.state=S.memoizedState),typeof b.getDerivedStateFromProps!="function"&&typeof N.getSnapshotBeforeUpdate!="function"&&(typeof N.UNSAFE_componentWillMount=="function"||typeof N.componentWillMount=="function")&&(SY(S,N),Im(S,O,N,D),N.state=S.memoizedState),typeof N.componentDidMount=="function"){var nt=xi;nt|=Yh,(S.mode&Za)!==Me&&(nt|=Rl),S.flags|=nt}}function EY(S,b,O,D){var N=S.stateNode,W=S.memoizedProps;N.props=W;var J=N.context,q=b.contextType,et=Ss;if(typeof q=="object"&&q!==null)et=Tr(q);else{var nt=Df(S,b,!0);et=Ff(S,nt)}var at=b.getDerivedStateFromProps,pt=typeof at=="function"||typeof N.getSnapshotBeforeUpdate=="function";!pt&&(typeof N.UNSAFE_componentWillReceiveProps=="function"||typeof N.componentWillReceiveProps=="function")&&(W!==O||J!==et)&&a2(S,N,O,et),CL();var vt=S.memoizedState,Tt=N.state=vt;if(Im(S,O,N,D),Tt=S.memoizedState,W===O&&vt===Tt&&!pm()&&!Bm()){if(typeof N.componentDidMount=="function"){var Pt=xi;Pt|=Yh,(S.mode&Za)!==Me&&(Pt|=Rl),S.flags|=Pt}return!1}typeof at=="function"&&(W1(S,b,at,O),Tt=S.memoizedState);var Ot=Bm()||r2(S,b,W,O,vt,Tt,et);if(Ot){if(!pt&&(typeof N.UNSAFE_componentWillMount=="function"||typeof N.componentWillMount=="function")&&(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"){var Qt=xi;Qt|=Yh,(S.mode&Za)!==Me&&(Qt|=Rl),S.flags|=Qt}}else{if(typeof N.componentDidMount=="function"){var be=xi;be|=Yh,(S.mode&Za)!==Me&&(be|=Rl),S.flags|=be}S.memoizedProps=O,S.memoizedState=Tt}return N.props=O,N.state=Tt,N.context=et,Ot}function bY(S,b,O,D,N){var W=b.stateNode;TL(S,b);var J=b.memoizedProps,q=b.type===b.elementType?J:xa(b.type,J);W.props=q;var et=b.pendingProps,nt=W.context,at=O.contextType,pt=Ss;if(typeof at=="object"&&at!==null)pt=Tr(at);else{var vt=Df(b,O,!0);pt=Ff(b,vt)}var Tt=O.getDerivedStateFromProps,Pt=typeof Tt=="function"||typeof W.getSnapshotBeforeUpdate=="function";!Pt&&(typeof W.UNSAFE_componentWillReceiveProps=="function"||typeof W.componentWillReceiveProps=="function")&&(J!==et||nt!==pt)&&a2(b,W,D,pt),CL();var Ot=b.memoizedState,Qt=W.state=Ot;if(Im(b,D,W,N),Qt=b.memoizedState,J===et&&Ot===Qt&&!pm()&&!Bm()&&!H)return typeof W.componentDidUpdate=="function"&&(J!==S.memoizedProps||Ot!==S.memoizedState)&&(b.flags|=xi),typeof W.getSnapshotBeforeUpdate=="function"&&(J!==S.memoizedProps||Ot!==S.memoizedState)&&(b.flags|=pf),!1;typeof Tt=="function"&&(W1(b,O,Tt,D),Qt=b.memoizedState);var be=Bm()||r2(b,O,q,D,Ot,Qt,pt)||H;return be?(!Pt&&(typeof W.UNSAFE_componentWillUpdate=="function"||typeof W.componentWillUpdate=="function")&&(typeof W.componentWillUpdate=="function"&&W.componentWillUpdate(D,Qt,pt),typeof W.UNSAFE_componentWillUpdate=="function"&&W.UNSAFE_componentWillUpdate(D,Qt,pt)),typeof W.componentDidUpdate=="function"&&(b.flags|=xi),typeof W.getSnapshotBeforeUpdate=="function"&&(b.flags|=pf)):(typeof W.componentDidUpdate=="function"&&(J!==S.memoizedProps||Ot!==S.memoizedState)&&(b.flags|=xi),typeof W.getSnapshotBeforeUpdate=="function"&&(J!==S.memoizedProps||Ot!==S.memoizedState)&&(b.flags|=pf),b.memoizedProps=D,b.memoizedState=Qt),W.props=D,W.state=Qt,W.context=pt,be}function ou(S,b){return{value:S,source:b,stack:Kt(b),digest:null}}function H1(S,b,O){return{value:S,source:null,stack:O??null,digest:b??null}}function PY(S,b){return!0}function $1(S,b){try{var O=PY(S,b);if(O===!1)return;var D=b.value,N=b.source,W=b.stack,J=W!==null?W:"";if(D!=null&&D._suppressLogging){if(S.tag===o)return;console.error(D)}var q=N?_t(N):null,et=q?"The above error occurred in the <"+q+"> component:":"The above error occurred in one of your React components:",nt;if(S.tag===d)nt=`Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.`;else{var at=_t(S)||"Anonymous";nt="React will try to recreate this component tree from scratch "+("using the error boundary you provided, "+at+".")}var pt=et+`
`+J+`

`+(""+nt);console.error(pt)}catch(vt){setTimeout(function(){throw vt})}}var wY=typeof WeakMap=="function"?WeakMap:Map;function o2(S,b,O){var D=Jo(Vi,O);D.tag=QS,D.payload={element:null};var N=b.value;return D.callback=function(){yH(N),$1(S,b)},D}function K1(S,b,O){var D=Jo(Vi,O);D.tag=QS;var N=S.type.getDerivedStateFromError;if(typeof N=="function"){var W=b.value;D.payload=function(){return N(W)},D.callback=function(){yD(S),$1(S,b)}}var J=S.stateNode;return J!==null&&typeof J.componentDidCatch=="function"&&(D.callback=function(){yD(S),$1(S,b),typeof N!="function"&&gH(this);var et=b.value,nt=b.stack;this.componentDidCatch(et,{componentStack:nt!==null?nt:""}),typeof N!="function"&&(ys(S.lanes,Ge)||n("%s: Error boundaries should implement getDerivedStateFromError(). In that method, return a state update to display an error message or fallback UI.",_t(S)||"Unknown"))}),D}function l2(S,b,O){var D=S.pingCache,N;if(D===null?(D=S.pingCache=new wY,N=new Set,D.set(b,N)):(N=D.get(b),N===void 0&&(N=new Set,D.set(b,N))),!N.has(O)){N.add(O);var W=xH.bind(null,S,b,O);da&&Fv(S,O),b.then(W,W)}}function MY(S,b,O,D){var N=S.updateQueue;if(N===null){var W=new Set;W.add(O),S.updateQueue=W}else N.add(O)}function RY(S,b){var O=S.tag;if((S.mode&oi)===Me&&(O===r||O===p||O===P)){var D=S.alternate;D?(S.updateQueue=D.updateQueue,S.memoizedState=D.memoizedState,S.lanes=D.lanes):(S.updateQueue=null,S.memoizedState=null)}}function h2(S){var b=S;do{if(b.tag===x&&lY(b))return b;b=b.return}while(b!==null);return null}function u2(S,b,O,D,N){if((S.mode&oi)===Me){if(S===b)S.flags|=In;else{if(S.flags|=Ti,O.flags|=dC,O.flags&=-52805,O.tag===o){var W=O.alternate;if(W===null)O.tag=M;else{var J=Jo(Vi,Ge);J.tag=Om,Vl(O,J,Ge)}}O.lanes=Qe(O.lanes,Ge)}return S}return S.flags|=In,S.lanes=N,S}function AY(S,b,O,D,N){if(O.flags|=Fg,da&&Fv(S,N),D!==null&&typeof D=="object"&&typeof D.then=="function"){var W=D;RY(O),sn()&&O.mode&oi&&eL();var J=h2(b);if(J!==null){J.flags&=~ko,u2(J,b,O,S,N),J.mode&oi&&l2(S,W,N),MY(J,S,W);return}else{if(!Q7(N)){l2(S,W,N),wE();return}var q=new Error("A component suspended while responding to synchronous input. This will cause the UI to be replaced with a loading indicator. To fix, updates that suspend should be wrapped with startTransition.");D=q}}else if(sn()&&O.mode&oi){eL();var et=h2(b);if(et!==null){(et.flags&In)===Le&&(et.flags|=ko),u2(et,b,O,S,N),US(ou(D,O));return}}D=ou(D,O),lH(D);var nt=b;do{switch(nt.tag){case d:{var at=D;nt.flags|=In;var pt=Ec(N);nt.lanes=Qe(nt.lanes,pt);var vt=o2(nt,at,pt);t1(nt,vt);return}case o:var Tt=D,Pt=nt.type,Ot=nt.stateNode;if((nt.flags&Ti)===Le&&(typeof Pt.getDerivedStateFromError=="function"||Ot!==null&&typeof Ot.componentDidCatch=="function"&&!hD(Ot))){nt.flags|=In;var Qt=Ec(N);nt.lanes=Qe(nt.lanes,Qt);var be=K1(nt,Tt,Qt);t1(nt,be);return}break}nt=nt.return}while(nt!==null)}function OY(){return null}var mv=i.ReactCurrentOwner,Ta=!1,J1,yv,Z1,j1,Q1,lu,q1,s0,xv;J1={},yv={},Z1={},j1={},Q1={},lu=!1,q1={},s0={},xv={};function Bn(S,b,O,D){S===null?b.child=cL(b,null,O,D):b.child=kf(b,S.child,O,D)}function LY(S,b,O,D){b.child=kf(b,S.child,null,D),b.child=kf(b,null,O,D)}function f2(S,b,O,D,N){if(b.type!==b.elementType){var W=O.propTypes;W&&va(W,D,"prop",fe(O))}var J=O.render,q=b.ref,et,nt;Uf(b,N),mc(b);{if(mv.current=b,yi(!0),et=Hf(S,b,J,D,q,N),nt=$f(),b.mode&ir){$r(!0);try{et=Hf(S,b,J,D,q,N),nt=$f()}finally{$r(!1)}}yi(!1)}return yf(),S!==null&&!Ta?(ML(S,b,N),Zo(S,b,N)):(sn()&&nt&&FS(b),b.flags|=vf,Bn(S,b,et,N),b.child)}function d2(S,b,O,D,N){if(S===null){var W=O.type;if(GH(W)&&O.compare===null&&O.defaultProps===void 0){var J=W;return J=td(W),b.tag=P,b.type=J,eE(b,W),c2(S,b,J,D,N)}{var q=W.propTypes;if(q&&va(q,D,"prop",fe(W)),O.defaultProps!==void 0){var et=fe(W)||"Unknown";xv[et]||(n("%s: Support for defaultProps will be removed from memo components in a future major release. Use JavaScript default parameters instead.",et),xv[et]=!0)}}var nt=kE(O.type,null,D,b,b.mode,N);return nt.ref=b.ref,nt.return=b,b.child=nt,nt}{var at=O.type,pt=at.propTypes;pt&&va(pt,D,"prop",fe(at))}var vt=S.child,Tt=oE(S,N);if(!Tt){var Pt=vt.memoizedProps,Ot=O.compare;if(Ot=Ot!==null?Ot:Nc,Ot(Pt,D)&&S.ref===b.ref)return Zo(S,b,N)}b.flags|=vf;var Qt=cu(vt,D);return Qt.ref=b.ref,Qt.return=b,b.child=Qt,Qt}function c2(S,b,O,D,N){if(b.type!==b.elementType){var W=b.elementType;if(W.$$typeof===Ee){var J=W,q=J._payload,et=J._init;try{W=et(q)}catch{W=null}var nt=W&&W.propTypes;nt&&va(nt,D,"prop",fe(W))}}if(S!==null){var at=S.memoizedProps;if(Nc(at,D)&&S.ref===b.ref&&b.type===S.type)if(Ta=!1,b.pendingProps=D=at,oE(S,N))(S.flags&dC)!==Le&&(Ta=!0);else return b.lanes=S.lanes,Zo(S,b,N)}return _1(S,b,O,D,N)}function v2(S,b,O){var D=b.pendingProps,N=D.children,W=S!==null?S.memoizedState:null;if(D.mode==="hidden"||X)if((b.mode&oi)===Me){var J={baseLanes:kt,cachePool:null,transitions:null};b.memoizedState=J,y0(b,O)}else if(ys(O,ms)){var pt={baseLanes:kt,cachePool:null,transitions:null};b.memoizedState=pt;var vt=W!==null?W.baseLanes:O;y0(b,vt)}else{var q=null,et;if(W!==null){var nt=W.baseLanes;et=Qe(nt,O)}else et=O;b.lanes=b.childLanes=ms;var at={baseLanes:et,cachePool:q,transitions:null};return b.memoizedState=at,b.updateQueue=null,y0(b,et),null}else{var Tt;W!==null?(Tt=Qe(W.baseLanes,O),b.memoizedState=null):Tt=O,y0(b,Tt)}return Bn(S,b,N,O),b.child}function DY(S,b,O){var D=b.pendingProps;return Bn(S,b,D,O),b.child}function FY(S,b,O){var D=b.pendingProps.children;return Bn(S,b,D,O),b.child}function IY(S,b,O){{b.flags|=xi;{var D=b.stateNode;D.effectDuration=0,D.passiveEffectDuration=0}}var N=b.pendingProps,W=N.children;return Bn(S,b,W,O),b.child}function p2(S,b){var O=b.ref;(S===null&&O!==null||S!==null&&S.ref!==O)&&(b.flags|=zh,b.flags|=cC)}function _1(S,b,O,D,N){if(b.type!==b.elementType){var W=O.propTypes;W&&va(W,D,"prop",fe(O))}var J;{var q=Df(b,O,!0);J=Ff(b,q)}var et,nt;Uf(b,N),mc(b);{if(mv.current=b,yi(!0),et=Hf(S,b,O,D,J,N),nt=$f(),b.mode&ir){$r(!0);try{et=Hf(S,b,O,D,J,N),nt=$f()}finally{$r(!1)}}yi(!1)}return yf(),S!==null&&!Ta?(ML(S,b,N),Zo(S,b,N)):(sn()&&nt&&FS(b),b.flags|=vf,Bn(S,b,et,N),b.child)}function g2(S,b,O,D,N){{switch(QH(b)){case!1:{var W=b.stateNode,J=b.type,q=new J(b.memoizedProps,W.context),et=q.state;W.updater.enqueueSetState(W,et,null);break}case!0:{b.flags|=Ti,b.flags|=In;var nt=new Error("Simulated error coming from DevTools"),at=Ec(N);b.lanes=Qe(b.lanes,at);var pt=K1(b,ou(nt,b),at);t1(b,pt);break}}if(b.type!==b.elementType){var vt=O.propTypes;vt&&va(vt,D,"prop",fe(O))}}var Tt;qa(O)?(Tt=!0,mm(b)):Tt=!1,Uf(b,N);var Pt=b.stateNode,Ot;Pt===null?(o0(S,b),s2(b,O,D),X1(b,O,D,N),Ot=!0):S===null?Ot=EY(b,O,D,N):Ot=bY(S,b,O,D,N);var Qt=tE(S,b,O,Ot,Tt,N);{var be=b.stateNode;Ot&&be.props!==D&&(lu||n("It looks like %s is reassigning its own `this.props` while rendering. This is not supported and can lead to confusing bugs.",_t(b)||"a component"),lu=!0)}return Qt}function tE(S,b,O,D,N,W){p2(S,b);var J=(b.flags&Ti)!==Le;if(!D&&!J)return N&&QO(b,O,!1),Zo(S,b,W);var q=b.stateNode;mv.current=b;var et;if(J&&typeof O.getDerivedStateFromError!="function")et=null,t2();else{mc(b);{if(yi(!0),et=q.render(),b.mode&ir){$r(!0);try{q.render()}finally{$r(!1)}}yi(!1)}yf()}return b.flags|=vf,S!==null&&J?LY(S,b,et,W):Bn(S,b,et,W),b.memoizedState=q.state,N&&QO(b,O,!0),b.child}function m2(S){var b=S.stateNode;b.pendingContext?ZO(S,b.pendingContext,b.pendingContext!==b.context):b.context&&ZO(S,b.context,!1),e1(S,b.containerInfo)}function BY(S,b,O){if(m2(b),S===null)throw new Error("Should have a current fiber. This is a bug in React.");var D=b.pendingProps,N=b.memoizedState,W=N.element;TL(S,b),Im(b,D,null,O);var J=b.memoizedState;b.stateNode;var q=J.element;if(N.isDehydrated){var et={element:q,isDehydrated:!1,cache:J.cache,pendingSuspenseBoundaries:J.pendingSuspenseBoundaries,transitions:J.transitions},nt=b.updateQueue;if(nt.baseState=et,b.memoizedState=et,b.flags&ko){var at=ou(new Error("There was an error while hydrating. Because the error happened outside of a Suspense boundary, the entire root will switch to client rendering."),b);return y2(S,b,q,O,at)}else if(q!==W){var pt=ou(new Error("This root received an early update, before anything was able hydrate. Switched the entire root to client rendering."),b);return y2(S,b,q,O,pt)}else{NW(b);var vt=cL(b,null,q,O);b.child=vt;for(var Tt=vt;Tt;)Tt.flags=Tt.flags&~xr|No,Tt=Tt.sibling}}else{if(Gf(),q===W)return Zo(S,b,O);Bn(S,b,q,O)}return b.child}function y2(S,b,O,D,N){return Gf(),US(N),b.flags|=ko,Bn(S,b,O,D),b.child}function GY(S,b,O){bL(b),S===null&&NS(b);var D=b.type,N=b.pendingProps,W=S!==null?S.memoizedProps:null,J=N.children,q=xS(D,N);return q?J=null:W!==null&&xS(D,W)&&(b.flags|=pc),p2(S,b),Bn(S,b,J,O),b.child}function kY(S,b){return S===null&&NS(b),null}function NY(S,b,O,D){o0(S,b);var N=b.pendingProps,W=O,J=W._payload,q=W._init,et=q(J);b.type=et;var nt=b.tag=kH(et),at=xa(et,N),pt;switch(nt){case r:return eE(b,et),b.type=et=td(et),pt=_1(null,b,et,at,D),pt;case o:return b.type=et=LE(et),pt=g2(null,b,et,at,D),pt;case p:return b.type=et=DE(et),pt=f2(null,b,et,at,D),pt;case C:{if(b.type!==b.elementType){var vt=et.propTypes;vt&&va(vt,at,"prop",fe(et))}return pt=d2(null,b,et,xa(et.type,at),D),pt}}var Tt="";throw et!==null&&typeof et=="object"&&et.$$typeof===Ee&&(Tt=" Did you wrap a component in React.lazy() more than once?"),new Error("Element type is invalid. Received a promise that resolves to: "+et+". "+("Lazy element type must resolve to a class or function."+Tt))}function UY(S,b,O,D,N){o0(S,b),b.tag=o;var W;return qa(O)?(W=!0,mm(b)):W=!1,Uf(b,N),s2(b,O,D),X1(b,O,D,N),tE(null,b,O,!0,W,N)}function VY(S,b,O,D){o0(S,b);var N=b.pendingProps,W;{var J=Df(b,O,!1);W=Ff(b,J)}Uf(b,D);var q,et;mc(b);{if(O.prototype&&typeof O.prototype.render=="function"){var nt=fe(O)||"Unknown";J1[nt]||(n("The <%s /> component appears to have a render method, but doesn't extend React.Component. This is likely to cause errors. Change %s to extend React.Component instead.",nt,nt),J1[nt]=!0)}b.mode&ir&&ga.recordLegacyContextWarning(b,null),yi(!0),mv.current=b,q=Hf(null,b,O,N,W,D),et=$f(),yi(!1)}if(yf(),b.flags|=vf,typeof q=="object"&&q!==null&&typeof q.render=="function"&&q.$$typeof===void 0){var at=fe(O)||"Unknown";yv[at]||(n("The <%s /> component appears to be a function component that returns a class instance. Change %s to a class that extends React.Component instead. If you can't use a class try assigning the prototype on the function as a workaround. `%s.prototype = React.Component.prototype`. Don't use an arrow function since it cannot be called with `new` by React.",at,at,at),yv[at]=!0)}if(typeof q=="object"&&q!==null&&typeof q.render=="function"&&q.$$typeof===void 0){{var pt=fe(O)||"Unknown";yv[pt]||(n("The <%s /> component appears to be a function component that returns a class instance. Change %s to a class that extends React.Component instead. If you can't use a class try assigning the prototype on the function as a workaround. `%s.prototype = React.Component.prototype`. Don't use an arrow function since it cannot be called with `new` by React.",pt,pt,pt),yv[pt]=!0)}b.tag=o,b.memoizedState=null,b.updateQueue=null;var vt=!1;return qa(O)?(vt=!0,mm(b)):vt=!1,b.memoizedState=q.state!==null&&q.state!==void 0?q.state:null,_S(b),n2(b,q),X1(b,O,N,D),tE(null,b,O,!0,vt,D)}else{if(b.tag=r,b.mode&ir){$r(!0);try{q=Hf(null,b,O,N,W,D),et=$f()}finally{$r(!1)}}return sn()&&et&&FS(b),Bn(null,b,q,D),eE(b,O),b.child}}function eE(S,b){{if(b&&b.childContextTypes&&n("%s(...): childContextTypes cannot be defined on a function component.",b.displayName||b.name||"Component"),S.ref!==null){var O="",D=xe();D&&(O+=`

Check the render method of \``+D+"`.");var N=D||"",W=S._debugSource;W&&(N=W.fileName+":"+W.lineNumber),Q1[N]||(Q1[N]=!0,n("Function components cannot be given refs. Attempts to access this ref will fail. Did you mean to use React.forwardRef()?%s",O))}if(b.defaultProps!==void 0){var J=fe(b)||"Unknown";xv[J]||(n("%s: Support for defaultProps will be removed from function components in a future major release. Use JavaScript default parameters instead.",J),xv[J]=!0)}if(typeof b.getDerivedStateFromProps=="function"){var q=fe(b)||"Unknown";j1[q]||(n("%s: Function components do not support getDerivedStateFromProps.",q),j1[q]=!0)}if(typeof b.contextType=="object"&&b.contextType!==null){var et=fe(b)||"Unknown";Z1[et]||(n("%s: Function components do not support contextType.",et),Z1[et]=!0)}}}var iE={dehydrated:null,treeContext:null,retryLane:Kr};function rE(S){return{baseLanes:S,cachePool:OY(),transitions:null}}function zY(S,b){var O=null;return{baseLanes:Qe(S.baseLanes,b),cachePool:O,transitions:S.transitions}}function WY(S,b,O,D){if(b!==null){var N=b.memoizedState;if(N===null)return!1}return n1(S,lv)}function YY(S,b){return Vg(S.childLanes,b)}function x2(S,b,O){var D=b.pendingProps;qH(b)&&(b.flags|=Ti);var N=ma.current,W=!1,J=(b.flags&Ti)!==Le;if(J||WY(N,S)?(W=!0,b.flags&=~Ti):(S===null||S.memoizedState!==null)&&(N=oY(N,wL)),N=zf(N),Wl(b,N),S===null){NS(b);var q=b.memoizedState;if(q!==null){var et=q.dehydrated;if(et!==null)return JY(b,et)}var nt=D.children,at=D.fallback;if(W){var pt=XY(b,nt,at,O),vt=b.child;return vt.memoizedState=rE(O),b.memoizedState=iE,pt}else return nE(b,nt)}else{var Tt=S.memoizedState;if(Tt!==null){var Pt=Tt.dehydrated;if(Pt!==null)return ZY(S,b,J,D,Pt,Tt,O)}if(W){var Ot=D.fallback,Qt=D.children,be=$Y(S,b,Qt,Ot,O),ge=b.child,hi=S.child.memoizedState;return ge.memoizedState=hi===null?rE(O):zY(hi,O),ge.childLanes=YY(S,O),b.memoizedState=iE,be}else{var si=D.children,mt=HY(S,b,si,O);return b.memoizedState=null,mt}}}function nE(S,b,O){var D=S.mode,N={mode:"visible",children:b},W=sE(N,D);return W.return=S,S.child=W,W}function XY(S,b,O,D){var N=S.mode,W=S.child,J={mode:"hidden",children:b},q,et;return(N&oi)===Me&&W!==null?(q=W,q.childLanes=kt,q.pendingProps=J,S.mode&Ri&&(q.actualDuration=0,q.actualStartTime=-1,q.selfBaseDuration=0,q.treeBaseDuration=0),et=jl(O,N,D,null)):(q=sE(J,N),et=jl(O,N,D,null)),q.return=S,et.return=S,q.sibling=et,S.child=q,et}function sE(S,b,O){return TD(S,b,kt,null)}function T2(S,b){return cu(S,b)}function HY(S,b,O,D){var N=S.child,W=N.sibling,J=T2(N,{mode:"visible",children:O});if((b.mode&oi)===Me&&(J.lanes=D),J.return=b,J.sibling=null,W!==null){var q=b.deletions;q===null?(b.deletions=[W],b.flags|=Vh):q.push(W)}return b.child=J,J}function $Y(S,b,O,D,N){var W=b.mode,J=S.child,q=J.sibling,et={mode:"hidden",children:O},nt;if((W&oi)===Me&&b.child!==J){var at=b.child;nt=at,nt.childLanes=kt,nt.pendingProps=et,b.mode&Ri&&(nt.actualDuration=0,nt.actualStartTime=-1,nt.selfBaseDuration=J.selfBaseDuration,nt.treeBaseDuration=J.treeBaseDuration),b.deletions=null}else nt=T2(J,et),nt.subtreeFlags=J.subtreeFlags&Uo;var pt;return q!==null?pt=cu(q,D):(pt=jl(D,W,N,null),pt.flags|=xr),pt.return=b,nt.return=b,nt.sibling=pt,b.child=nt,pt}function a0(S,b,O,D){D!==null&&US(D),kf(b,S.child,null,O);var N=b.pendingProps,W=N.children,J=nE(b,W);return J.flags|=xr,b.memoizedState=null,J}function KY(S,b,O,D,N){var W=b.mode,J={mode:"visible",children:O},q=sE(J,W),et=jl(D,W,N,null);return et.flags|=xr,q.return=b,et.return=b,q.sibling=et,b.child=q,(b.mode&oi)!==Me&&kf(b,S.child,null,N),et}function JY(S,b,O){return(S.mode&oi)===Me?(n("Cannot hydrate Suspense in legacy mode. Switch from ReactDOM.hydrate(element, container) to ReactDOMClient.hydrateRoot(container, <App />).render(element) or remove the Suspense components from the server rendered components."),S.lanes=Ge):ES(b)?S.lanes=$h:S.lanes=ms,null}function ZY(S,b,O,D,N,W,J){if(O)if(b.flags&ko){b.flags&=~ko;var mt=H1(new Error("There was an error while hydrating this Suspense boundary. Switched to client rendering."));return a0(S,b,J,mt)}else{if(b.memoizedState!==null)return b.child=S.child,b.flags|=Ti,null;var Lt=D.children,yt=D.fallback,Ut=KY(S,b,Lt,yt,J),he=b.child;return he.memoizedState=rE(J),b.memoizedState=iE,Ut}else{if(GW(),(b.mode&oi)===Me)return a0(S,b,J,null);if(ES(N)){var q,et,nt;{var at=_z(N);q=at.digest,et=at.message,nt=at.stack}var pt;et?pt=new Error(et):pt=new Error("The server could not finish this Suspense boundary, likely due to an error during server rendering. Switched to client rendering.");var vt=H1(pt,q,nt);return a0(S,b,J,vt)}var Tt=ys(J,S.childLanes);if(Ta||Tt){var Pt=m0();if(Pt!==null){var Ot=sU(Pt,J);if(Ot!==Kr&&Ot!==W.retryLane){W.retryLane=Ot;var Qt=Vi;jn(S,Ot),Gr(Pt,S,Ot,Qt)}}wE();var be=H1(new Error("This Suspense boundary received an update before it finished hydrating. This caused the boundary to switch to client rendering. The usual way to fix this is to wrap the original update in startTransition."));return a0(S,b,J,be)}else if(YO(N)){b.flags|=Ti,b.child=S.child;var ge=TH.bind(null,S);return tW(N,ge),null}else{UW(b,N,W.treeContext);var hi=D.children,si=nE(b,hi);return si.flags|=No,si}}}function C2(S,b,O){S.lanes=Qe(S.lanes,b);var D=S.alternate;D!==null&&(D.lanes=Qe(D.lanes,b)),ZS(S.return,b,O)}function jY(S,b,O){for(var D=b;D!==null;){if(D.tag===x){var N=D.memoizedState;N!==null&&C2(D,O,S)}else if(D.tag===A)C2(D,O,S);else if(D.child!==null){D.child.return=D,D=D.child;continue}if(D===S)return;for(;D.sibling===null;){if(D.return===null||D.return===S)return;D=D.return}D.sibling.return=D.return,D=D.sibling}}function QY(S){for(var b=S,O=null;b!==null;){var D=b.alternate;D!==null&&Nm(D)===null&&(O=b),b=b.sibling}return O}function qY(S){if(S!==void 0&&S!=="forwards"&&S!=="backwards"&&S!=="together"&&!q1[S])if(q1[S]=!0,typeof S=="string")switch(S.toLowerCase()){case"together":case"forwards":case"backwards":{n('"%s" is not a valid value for revealOrder on <SuspenseList />. Use lowercase "%s" instead.',S,S.toLowerCase());break}case"forward":case"backward":{n('"%s" is not a valid value for revealOrder on <SuspenseList />. React uses the -s suffix in the spelling. Use "%ss" instead.',S,S.toLowerCase());break}default:n('"%s" is not a supported revealOrder on <SuspenseList />. Did you mean "together", "forwards" or "backwards"?',S);break}else n('%s is not a supported value for revealOrder on <SuspenseList />. Did you mean "together", "forwards" or "backwards"?',S)}function _Y(S,b){S!==void 0&&!s0[S]&&(S!=="collapsed"&&S!=="hidden"?(s0[S]=!0,n('"%s" is not a supported value for tail on <SuspenseList />. Did you mean "collapsed" or "hidden"?',S)):b!=="forwards"&&b!=="backwards"&&(s0[S]=!0,n('<SuspenseList tail="%s" /> is only valid if revealOrder is "forwards" or "backwards". Did you mean to specify revealOrder="forwards"?',S)))}function S2(S,b){{var O=ni(S),D=!O&&typeof vs(S)=="function";if(O||D){var N=O?"array":"iterable";return n("A nested %s was passed to row #%s in <SuspenseList />. Wrap it in an additional SuspenseList to configure its revealOrder: <SuspenseList revealOrder=...> ... <SuspenseList revealOrder=...>{%s}</SuspenseList> ... </SuspenseList>",N,b,N),!1}}return!0}function tX(S,b){if((b==="forwards"||b==="backwards")&&S!==void 0&&S!==null&&S!==!1)if(ni(S)){for(var O=0;O<S.length;O++)if(!S2(S[O],O))return}else{var D=vs(S);if(typeof D=="function"){var N=D.call(S);if(N)for(var W=N.next(),J=0;!W.done;W=N.next()){if(!S2(W.value,J))return;J++}}else n('A single row was passed to a <SuspenseList revealOrder="%s" />. This is not useful since it needs multiple rows. Did you mean to pass multiple children or an array?',b)}}function aE(S,b,O,D,N){var W=S.memoizedState;W===null?S.memoizedState={isBackwards:b,rendering:null,renderingStartTime:0,last:D,tail:O,tailMode:N}:(W.isBackwards=b,W.rendering=null,W.renderingStartTime=0,W.last=D,W.tail=O,W.tailMode=N)}function E2(S,b,O){var D=b.pendingProps,N=D.revealOrder,W=D.tail,J=D.children;qY(N),_Y(W,N),tX(J,N),Bn(S,b,J,O);var q=ma.current,et=n1(q,lv);if(et)q=s1(q,lv),b.flags|=Ti;else{var nt=S!==null&&(S.flags&Ti)!==Le;nt&&jY(b,b.child,O),q=zf(q)}if(Wl(b,q),(b.mode&oi)===Me)b.memoizedState=null;else switch(N){case"forwards":{var at=QY(b.child),pt;at===null?(pt=b.child,b.child=null):(pt=at.sibling,at.sibling=null),aE(b,!1,pt,at,W);break}case"backwards":{var vt=null,Tt=b.child;for(b.child=null;Tt!==null;){var Pt=Tt.alternate;if(Pt!==null&&Nm(Pt)===null){b.child=Tt;break}var Ot=Tt.sibling;Tt.sibling=vt,vt=Tt,Tt=Ot}aE(b,!0,vt,null,W);break}case"together":{aE(b,!1,null,null,void 0);break}default:b.memoizedState=null}return b.child}function eX(S,b,O){e1(b,b.stateNode.containerInfo);var D=b.pendingProps;return S===null?b.child=kf(b,null,D,O):Bn(S,b,D,O),b.child}var b2=!1;function iX(S,b,O){var D=b.type,N=D._context,W=b.pendingProps,J=b.memoizedProps,q=W.value;{"value"in W||b2||(b2=!0,n("The `value` prop is required for the `<Context.Provider>`. Did you misspell it or forget to pass it?"));var et=b.type.propTypes;et&&va(et,W,"prop","Context.Provider")}if(gL(b,N,q),J!==null){var nt=J.value;if(Cs(nt,q)){if(J.children===W.children&&!pm())return Zo(S,b,O)}else qW(b,N,O)}var at=W.children;return Bn(S,b,at,O),b.child}var P2=!1;function rX(S,b,O){var D=b.type;D._context===void 0?D!==D.Consumer&&(P2||(P2=!0,n("Rendering <Context> directly is not supported and will be removed in a future major release. Did you mean to render <Context.Consumer> instead?"))):D=D._context;var N=b.pendingProps,W=N.children;typeof W!="function"&&n("A context consumer was rendered with multiple children, or a child that isn't a function. A context consumer expects a single child that is a function. If you did pass a function, make sure there is no trailing or leading whitespace around it."),Uf(b,O);var J=Tr(D);mc(b);var q;return mv.current=b,yi(!0),q=W(J),yi(!1),yf(),b.flags|=vf,Bn(S,b,q,O),b.child}function Tv(){Ta=!0}function o0(S,b){(b.mode&oi)===Me&&S!==null&&(S.alternate=null,b.alternate=null,b.flags|=xr)}function Zo(S,b,O){return S!==null&&(b.dependencies=S.dependencies),t2(),Dv(b.lanes),ys(O,b.childLanes)?(jW(S,b),b.child):null}function nX(S,b,O){{var D=b.return;if(D===null)throw new Error("Cannot swap the root fiber.");if(S.alternate=null,b.alternate=null,O.index=b.index,O.sibling=b.sibling,O.return=b.return,O.ref=b.ref,b===D.child)D.child=O;else{var N=D.child;if(N===null)throw new Error("Expected parent to have a child.");for(;N.sibling!==b;)if(N=N.sibling,N===null)throw new Error("Expected to find the previous sibling.");N.sibling=O}var W=D.deletions;return W===null?(D.deletions=[S],D.flags|=Vh):W.push(S),O.flags|=xr,O}}function oE(S,b){var O=S.lanes;return!!ys(O,b)}function sX(S,b,O){switch(b.tag){case d:m2(b),b.stateNode,Gf();break;case l:bL(b);break;case o:{var D=b.type;qa(D)&&mm(b);break}case h:e1(b,b.stateNode.containerInfo);break;case v:{var N=b.memoizedProps.value,W=b.type._context;gL(b,W,N);break}case m:{var J=ys(O,b.childLanes);J&&(b.flags|=xi);{var q=b.stateNode;q.effectDuration=0,q.passiveEffectDuration=0}}break;case x:{var et=b.memoizedState;if(et!==null){if(et.dehydrated!==null)return Wl(b,zf(ma.current)),b.flags|=Ti,null;var nt=b.child,at=nt.childLanes;if(ys(O,at))return x2(S,b,O);Wl(b,zf(ma.current));var pt=Zo(S,b,O);return pt!==null?pt.sibling:null}else Wl(b,zf(ma.current));break}case A:{var vt=(S.flags&Ti)!==Le,Tt=ys(O,b.childLanes);if(vt){if(Tt)return E2(S,b,O);b.flags|=Ti}var Pt=b.memoizedState;if(Pt!==null&&(Pt.rendering=null,Pt.tail=null,Pt.lastEffect=null),Wl(b,ma.current),Tt)break;return null}case F:case G:return b.lanes=kt,v2(S,b,O)}return Zo(S,b,O)}function w2(S,b,O){if(b._debugNeedsRemount&&S!==null)return nX(S,b,kE(b.type,b.key,b.pendingProps,b._debugOwner||null,b.mode,b.lanes));if(S!==null){var D=S.memoizedProps,N=b.pendingProps;if(D!==N||pm()||b.type!==S.type)Ta=!0;else{var W=oE(S,O);if(!W&&(b.flags&Ti)===Le)return Ta=!1,sX(S,b,O);(S.flags&dC)!==Le?Ta=!0:Ta=!1}}else if(Ta=!1,sn()&&OW(b)){var J=b.index,q=LW();tL(b,q,J)}switch(b.lanes=kt,b.tag){case y:return VY(S,b,b.type,O);case w:{var et=b.elementType;return NY(S,b,et,O)}case r:{var nt=b.type,at=b.pendingProps,pt=b.elementType===nt?at:xa(nt,at);return _1(S,b,nt,pt,O)}case o:{var vt=b.type,Tt=b.pendingProps,Pt=b.elementType===vt?Tt:xa(vt,Tt);return g2(S,b,vt,Pt,O)}case d:return BY(S,b,O);case l:return GY(S,b,O);case a:return kY(S,b);case x:return x2(S,b,O);case h:return eX(S,b,O);case p:{var Ot=b.type,Qt=b.pendingProps,be=b.elementType===Ot?Qt:xa(Ot,Qt);return f2(S,b,Ot,be,O)}case f:return DY(S,b,O);case c:return FY(S,b,O);case m:return IY(S,b,O);case v:return iX(S,b,O);case u:return rX(S,b,O);case C:{var ge=b.type,hi=b.pendingProps,si=xa(ge,hi);if(b.type!==b.elementType){var mt=ge.propTypes;mt&&va(mt,si,"prop",fe(ge))}return si=xa(ge.type,si),d2(S,b,ge,si,O)}case P:return c2(S,b,b.type,b.pendingProps,O);case M:{var Lt=b.type,yt=b.pendingProps,Ut=b.elementType===Lt?yt:xa(Lt,yt);return UY(S,b,Lt,Ut,O)}case A:return E2(S,b,O);case L:break;case F:return v2(S,b,O)}throw new Error("Unknown unit of work tag ("+b.tag+"). This error is likely caused by a bug in React. Please file an issue.")}function Kf(S){S.flags|=xi}function M2(S){S.flags|=zh,S.flags|=cC}var R2,lE,A2,O2;R2=function(S,b,O,D){for(var N=b.child;N!==null;){if(N.tag===l||N.tag===a)Mz(S,N.stateNode);else if(N.tag!==h){if(N.child!==null){N.child.return=N,N=N.child;continue}}if(N===b)return;for(;N.sibling===null;){if(N.return===null||N.return===b)return;N=N.return}N.sibling.return=N.return,N=N.sibling}},lE=function(S,b){},A2=function(S,b,O,D,N){var W=S.memoizedProps;if(W!==D){var J=b.stateNode,q=i1(),et=Az(J,O,W,D,N,q);b.updateQueue=et,et&&Kf(b)}},O2=function(S,b,O,D){O!==D&&Kf(b)};function Cv(S,b){if(!sn())switch(S.tailMode){case"hidden":{for(var O=S.tail,D=null;O!==null;)O.alternate!==null&&(D=O),O=O.sibling;D===null?S.tail=null:D.sibling=null;break}case"collapsed":{for(var N=S.tail,W=null;N!==null;)N.alternate!==null&&(W=N),N=N.sibling;W===null?!b&&S.tail!==null?S.tail.sibling=null:S.tail=null:W.sibling=null;break}}}function on(S){var b=S.alternate!==null&&S.alternate.child===S.child,O=kt,D=Le;if(b){if((S.mode&Ri)!==Me){for(var et=S.selfBaseDuration,nt=S.child;nt!==null;)O=Qe(O,Qe(nt.lanes,nt.childLanes)),D|=nt.subtreeFlags&Uo,D|=nt.flags&Uo,et+=nt.treeBaseDuration,nt=nt.sibling;S.treeBaseDuration=et}else for(var at=S.child;at!==null;)O=Qe(O,Qe(at.lanes,at.childLanes)),D|=at.subtreeFlags&Uo,D|=at.flags&Uo,at.return=S,at=at.sibling;S.subtreeFlags|=D}else{if((S.mode&Ri)!==Me){for(var N=S.actualDuration,W=S.selfBaseDuration,J=S.child;J!==null;)O=Qe(O,Qe(J.lanes,J.childLanes)),D|=J.subtreeFlags,D|=J.flags,N+=J.actualDuration,W+=J.treeBaseDuration,J=J.sibling;S.actualDuration=N,S.treeBaseDuration=W}else for(var q=S.child;q!==null;)O=Qe(O,Qe(q.lanes,q.childLanes)),D|=q.subtreeFlags,D|=q.flags,q.return=S,q=q.sibling;S.subtreeFlags|=D}return S.childLanes=O,b}function aX(S,b,O){if(XW()&&(b.mode&oi)!==Me&&(b.flags&Ti)===Le)return oL(b),Gf(),b.flags|=ko|Fg|In,!1;var D=Sm(b);if(O!==null&&O.dehydrated!==null)if(S===null){if(!D)throw new Error("A dehydrated suspense component was completed without a hydrated node. This is probably a bug in React.");if(WW(b),on(b),(b.mode&Ri)!==Me){var N=O!==null;if(N){var W=b.child;W!==null&&(b.treeBaseDuration-=W.treeBaseDuration)}}return!1}else{if(Gf(),(b.flags&Ti)===Le&&(b.memoizedState=null),b.flags|=xi,on(b),(b.mode&Ri)!==Me){var J=O!==null;if(J){var q=b.child;q!==null&&(b.treeBaseDuration-=q.treeBaseDuration)}}return!1}else return lL(),!0}function L2(S,b,O){var D=b.pendingProps;switch(IS(b),b.tag){case y:case w:case P:case r:case p:case f:case c:case m:case u:case C:return on(b),null;case o:{var N=b.type;return qa(N)&&gm(b),on(b),null}case d:{var W=b.stateNode;if(Vf(b),OS(b),o1(),W.pendingContext&&(W.context=W.pendingContext,W.pendingContext=null),S===null||S.child===null){var J=Sm(b);if(J)Kf(b);else if(S!==null){var q=S.memoizedState;(!q.isDehydrated||(b.flags&ko)!==Le)&&(b.flags|=pf,lL())}}return lE(S,b),on(b),null}case l:{r1(b);var et=EL(),nt=b.type;if(S!==null&&b.stateNode!=null)A2(S,b,nt,D,et),S.ref!==b.ref&&M2(b);else{if(!D){if(b.stateNode===null)throw new Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");return on(b),null}var at=i1(),pt=Sm(b);if(pt)VW(b,et,at)&&Kf(b);else{var vt=wz(nt,D,et,at,b);R2(vt,b,!1,!1),b.stateNode=vt,Rz(vt,nt,D,et)&&Kf(b)}b.ref!==null&&M2(b)}return on(b),null}case a:{var Tt=D;if(S&&b.stateNode!=null){var Pt=S.memoizedProps;O2(S,b,Pt,Tt)}else{if(typeof Tt!="string"&&b.stateNode===null)throw new Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");var Ot=EL(),Qt=i1(),be=Sm(b);be?zW(b)&&Kf(b):b.stateNode=Oz(Tt,Ot,Qt,b)}return on(b),null}case x:{Wf(b);var ge=b.memoizedState;if(S===null||S.memoizedState!==null&&S.memoizedState.dehydrated!==null){var hi=aX(S,b,ge);if(!hi)return b.flags&In?b:null}if((b.flags&Ti)!==Le)return b.lanes=O,(b.mode&Ri)!==Me&&D1(b),b;var si=ge!==null,mt=S!==null&&S.memoizedState!==null;if(si!==mt&&si){var Lt=b.child;if(Lt.flags|=Wh,(b.mode&oi)!==Me){var yt=S===null&&(b.memoizedProps.unstable_avoidThisFallback!==!0||!0);yt||n1(ma.current,wL)?oH():wE()}}var Ut=b.updateQueue;if(Ut!==null&&(b.flags|=xi),on(b),(b.mode&Ri)!==Me&&si){var he=b.child;he!==null&&(b.treeBaseDuration-=he.treeBaseDuration)}return null}case h:return Vf(b),lE(S,b),S===null&&EW(b.stateNode.containerInfo),on(b),null;case v:var re=b.type._context;return JS(re,b),on(b),null;case M:{var Fe=b.type;return qa(Fe)&&gm(b),on(b),null}case A:{Wf(b);var Ve=b.memoizedState;if(Ve===null)return on(b),null;var Oi=(b.flags&Ti)!==Le,di=Ve.rendering;if(di===null)if(Oi)Cv(Ve,!1);else{var dr=hH()&&(S===null||(S.flags&Ti)===Le);if(!dr)for(var ci=b.child;ci!==null;){var rr=Nm(ci);if(rr!==null){Oi=!0,b.flags|=Ti,Cv(Ve,!1);var Sn=rr.updateQueue;return Sn!==null&&(b.updateQueue=Sn,b.flags|=xi),b.subtreeFlags=Le,QW(b,O),Wl(b,s1(ma.current,lv)),b.child}ci=ci.sibling}Ve.tail!==null&&Hr()>q2()&&(b.flags|=Ti,Oi=!0,Cv(Ve,!1),b.lanes=OA)}else{if(!Oi){var dn=Nm(di);if(dn!==null){b.flags|=Ti,Oi=!0;var bs=dn.updateQueue;if(bs!==null&&(b.updateQueue=bs,b.flags|=xi),Cv(Ve,!0),Ve.tail===null&&Ve.tailMode==="hidden"&&!di.alternate&&!sn())return on(b),null}else Hr()*2-Ve.renderingStartTime>q2()&&O!==ms&&(b.flags|=Ti,Oi=!0,Cv(Ve,!1),b.lanes=OA)}if(Ve.isBackwards)di.sibling=b.child,b.child=di;else{var Nn=Ve.last;Nn!==null?Nn.sibling=di:b.child=di,Ve.last=di}}if(Ve.tail!==null){var Un=Ve.tail;Ve.rendering=Un,Ve.tail=Un.sibling,Ve.renderingStartTime=Hr(),Un.sibling=null;var En=ma.current;return Oi?En=s1(En,lv):En=zf(En),Wl(b,En),Un}return on(b),null}case L:break;case F:case G:{PE(b);var tl=b.memoizedState,ed=tl!==null;if(S!==null){var kv=S.memoizedState,ao=kv!==null;ao!==ed&&!X&&(b.flags|=Wh)}return!ed||(b.mode&oi)===Me?on(b):ys(so,ms)&&(on(b),b.subtreeFlags&(xr|xi)&&(b.flags|=Wh)),null}case I:return null;case B:return null}throw new Error("Unknown unit of work tag ("+b.tag+"). This error is likely caused by a bug in React. Please file an issue.")}function oX(S,b,O){switch(IS(b),b.tag){case o:{var D=b.type;qa(D)&&gm(b);var N=b.flags;return N&In?(b.flags=N&~In|Ti,(b.mode&Ri)!==Me&&D1(b),b):null}case d:{b.stateNode,Vf(b),OS(b),o1();var W=b.flags;return(W&In)!==Le&&(W&Ti)===Le?(b.flags=W&~In|Ti,b):null}case l:return r1(b),null;case x:{Wf(b);var J=b.memoizedState;if(J!==null&&J.dehydrated!==null){if(b.alternate===null)throw new Error("Threw in newly mounted dehydrated component. This is likely a bug in React. Please file an issue.");Gf()}var q=b.flags;return q&In?(b.flags=q&~In|Ti,(b.mode&Ri)!==Me&&D1(b),b):null}case A:return Wf(b),null;case h:return Vf(b),null;case v:var et=b.type._context;return JS(et,b),null;case F:case G:return PE(b),null;case I:return null;default:return null}}function D2(S,b,O){switch(IS(b),b.tag){case o:{var D=b.type.childContextTypes;D!=null&&gm(b);break}case d:{b.stateNode,Vf(b),OS(b),o1();break}case l:{r1(b);break}case h:Vf(b);break;case x:Wf(b);break;case A:Wf(b);break;case v:var N=b.type._context;JS(N,b);break;case F:case G:PE(b);break}}var F2=null;F2=new Set;var l0=!1,ln=!1,lX=typeof WeakSet=="function"?WeakSet:Set,ce=null,Jf=null,Zf=null;function hX(S){hC(null,function(){throw S}),uC()}var uX=function(S,b){if(b.props=S.memoizedProps,b.state=S.memoizedState,S.mode&Ri)try{ro(),b.componentWillUnmount()}finally{io(S)}else b.componentWillUnmount()};function I2(S,b){try{Hl(Or,S)}catch(O){Bi(S,b,O)}}function hE(S,b,O){try{uX(S,O)}catch(D){Bi(S,b,D)}}function fX(S,b,O){try{O.componentDidMount()}catch(D){Bi(S,b,D)}}function B2(S,b){try{k2(S)}catch(O){Bi(S,b,O)}}function jf(S,b){var O=S.ref;if(O!==null)if(typeof O=="function"){var D;try{if($&&z&&S.mode&Ri)try{ro(),D=O(null)}finally{io(S)}else D=O(null)}catch(N){Bi(S,b,N)}typeof D=="function"&&n("Unexpected return value from a callback ref in %s. A callback ref should not return a function.",_t(S))}else O.current=null}function h0(S,b,O){try{O()}catch(D){Bi(S,b,D)}}var G2=!1;function dX(S,b){bz(S.containerInfo),ce=b,cX();var O=G2;return G2=!1,O}function cX(){for(;ce!==null;){var S=ce,b=S.child;(S.subtreeFlags&gC)!==Le&&b!==null?(b.return=S,ce=b):vX()}}function vX(){for(;ce!==null;){var S=ce;Ye(S);try{pX(S)}catch(O){Bi(S,S.return,O)}jt();var b=S.sibling;if(b!==null){b.return=S.return,ce=b;return}ce=S.return}}function pX(S){var b=S.alternate,O=S.flags;if((O&pf)!==Le){switch(Ye(S),S.tag){case r:case p:case P:break;case o:{if(b!==null){var D=b.memoizedProps,N=b.memoizedState,W=S.stateNode;S.type===S.elementType&&!lu&&(W.props!==S.memoizedProps&&n("Expected %s props to match memoized props before getSnapshotBeforeUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",_t(S)||"instance"),W.state!==S.memoizedState&&n("Expected %s state to match memoized state before getSnapshotBeforeUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",_t(S)||"instance"));var J=W.getSnapshotBeforeUpdate(S.elementType===S.type?D:xa(S.type,D),N);{var q=F2;J===void 0&&!q.has(S.type)&&(q.add(S.type),n("%s.getSnapshotBeforeUpdate(): A snapshot value (or null) must be returned. You have returned undefined.",_t(S)))}W.__reactInternalSnapshotBeforeUpdate=J}break}case d:{{var et=S.stateNode;Zz(et.containerInfo)}break}case l:case a:case h:case M:break;default:throw new Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}jt()}}function Ca(S,b,O){var D=b.updateQueue,N=D!==null?D.lastEffect:null;if(N!==null){var W=N.next,J=W;do{if((J.tag&S)===S){var q=J.destroy;J.destroy=void 0,q!==void 0&&((S&an)!==Qn?O7(b):(S&Or)!==Qn&&PA(b),(S&_a)!==Qn&&Iv(!0),h0(b,O,q),(S&_a)!==Qn&&Iv(!1),(S&an)!==Qn?L7():(S&Or)!==Qn&&wA())}J=J.next}while(J!==W)}}function Hl(S,b){var O=b.updateQueue,D=O!==null?O.lastEffect:null;if(D!==null){var N=D.next,W=N;do{if((W.tag&S)===S){(S&an)!==Qn?R7(b):(S&Or)!==Qn&&D7(b);var J=W.create;(S&_a)!==Qn&&Iv(!0),W.destroy=J(),(S&_a)!==Qn&&Iv(!1),(S&an)!==Qn?A7():(S&Or)!==Qn&&F7();{var q=W.destroy;if(q!==void 0&&typeof q!="function"){var et=void 0;(W.tag&Or)!==Le?et="useLayoutEffect":(W.tag&_a)!==Le?et="useInsertionEffect":et="useEffect";var nt=void 0;q===null?nt=" You returned null. If your effect does not require clean up, return undefined (or nothing).":typeof q.then=="function"?nt=`

It looks like you wrote `+et+`(async () => ...) or returned a Promise. Instead, write the async function inside your effect and call it immediately:

`+et+`(() => {
  async function fetchData() {
    // You can await here
    const response = await MyAPI.getData(someId);
    // ...
  }
  fetchData();
}, [someId]); // Or [] if effect doesn't need props or state

Learn more about data fetching with Hooks: https://reactjs.org/link/hooks-data-fetching`:nt=" You returned: "+q,n("%s must not return anything besides a function, which is used for clean-up.%s",et,nt)}}}W=W.next}while(W!==N)}}function gX(S,b){if((b.flags&xi)!==Le)switch(b.tag){case m:{var O=b.stateNode.passiveEffectDuration,D=b.memoizedProps,N=D.id,W=D.onPostCommit,J=qL(),q=b.alternate===null?"mount":"update";QL()&&(q="nested-update"),typeof W=="function"&&W(N,q,O,J);var et=b.return;t:for(;et!==null;){switch(et.tag){case d:var nt=et.stateNode;nt.passiveEffectDuration+=O;break t;case m:var at=et.stateNode;at.passiveEffectDuration+=O;break t}et=et.return}break}}}function mX(S,b,O,D){if((O.flags&gc)!==Le)switch(O.tag){case r:case p:case P:{if(!ln)if(O.mode&Ri)try{ro(),Hl(Or|Ar,O)}finally{io(O)}else Hl(Or|Ar,O);break}case o:{var N=O.stateNode;if(O.flags&xi&&!ln)if(b===null)if(O.type===O.elementType&&!lu&&(N.props!==O.memoizedProps&&n("Expected %s props to match memoized props before componentDidMount. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",_t(O)||"instance"),N.state!==O.memoizedState&&n("Expected %s state to match memoized state before componentDidMount. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",_t(O)||"instance")),O.mode&Ri)try{ro(),N.componentDidMount()}finally{io(O)}else N.componentDidMount();else{var W=O.elementType===O.type?b.memoizedProps:xa(O.type,b.memoizedProps),J=b.memoizedState;if(O.type===O.elementType&&!lu&&(N.props!==O.memoizedProps&&n("Expected %s props to match memoized props before componentDidUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",_t(O)||"instance"),N.state!==O.memoizedState&&n("Expected %s state to match memoized state before componentDidUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",_t(O)||"instance")),O.mode&Ri)try{ro(),N.componentDidUpdate(W,J,N.__reactInternalSnapshotBeforeUpdate)}finally{io(O)}else N.componentDidUpdate(W,J,N.__reactInternalSnapshotBeforeUpdate)}var q=O.updateQueue;q!==null&&(O.type===O.elementType&&!lu&&(N.props!==O.memoizedProps&&n("Expected %s props to match memoized props before processing the update queue. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",_t(O)||"instance"),N.state!==O.memoizedState&&n("Expected %s state to match memoized state before processing the update queue. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",_t(O)||"instance")),SL(O,q,N));break}case d:{var et=O.updateQueue;if(et!==null){var nt=null;if(O.child!==null)switch(O.child.tag){case l:nt=O.child.stateNode;break;case o:nt=O.child.stateNode;break}SL(O,et,nt)}break}case l:{var at=O.stateNode;if(b===null&&O.flags&xi){var pt=O.type,vt=O.memoizedProps;Bz(at,pt,vt)}break}case a:break;case h:break;case m:{{var Tt=O.memoizedProps,Pt=Tt.onCommit,Ot=Tt.onRender,Qt=O.stateNode.effectDuration,be=qL(),ge=b===null?"mount":"update";QL()&&(ge="nested-update"),typeof Ot=="function"&&Ot(O.memoizedProps.id,ge,O.actualDuration,O.treeBaseDuration,O.actualStartTime,be);{typeof Pt=="function"&&Pt(O.memoizedProps.id,ge,Qt,be),vH(O);var hi=O.return;t:for(;hi!==null;){switch(hi.tag){case d:var si=hi.stateNode;si.effectDuration+=Qt;break t;case m:var mt=hi.stateNode;mt.effectDuration+=Qt;break t}hi=hi.return}}}break}case x:{PX(S,O);break}case A:case M:case L:case F:case G:case B:break;default:throw new Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}ln||O.flags&zh&&k2(O)}function yX(S){switch(S.tag){case r:case p:case P:{if(S.mode&Ri)try{ro(),I2(S,S.return)}finally{io(S)}else I2(S,S.return);break}case o:{var b=S.stateNode;typeof b.componentDidMount=="function"&&fX(S,S.return,b),B2(S,S.return);break}case l:{B2(S,S.return);break}}}function xX(S,b){for(var O=null,D=S;;){if(D.tag===l){if(O===null){O=D;try{var N=D.stateNode;b?Hz(N):Kz(D.stateNode,D.memoizedProps)}catch(J){Bi(S,S.return,J)}}}else if(D.tag===a){if(O===null)try{var W=D.stateNode;b?$z(W):Jz(W,D.memoizedProps)}catch(J){Bi(S,S.return,J)}}else if(!((D.tag===F||D.tag===G)&&D.memoizedState!==null&&D!==S)){if(D.child!==null){D.child.return=D,D=D.child;continue}}if(D===S)return;for(;D.sibling===null;){if(D.return===null||D.return===S)return;O===D&&(O=null),D=D.return}O===D&&(O=null),D.sibling.return=D.return,D=D.sibling}}function k2(S){var b=S.ref;if(b!==null){var O=S.stateNode,D;switch(S.tag){case l:D=O;break;default:D=O}if(typeof b=="function"){var N;if(S.mode&Ri)try{ro(),N=b(D)}finally{io(S)}else N=b(D);typeof N=="function"&&n("Unexpected return value from a callback ref in %s. A callback ref should not return a function.",_t(S))}else b.hasOwnProperty("current")||n("Unexpected ref object provided for %s. Use either a ref-setter function or React.createRef().",_t(S)),b.current=D}}function TX(S){var b=S.alternate;b!==null&&(b.return=null),S.return=null}function N2(S){var b=S.alternate;b!==null&&(S.alternate=null,N2(b));{if(S.child=null,S.deletions=null,S.sibling=null,S.tag===l){var O=S.stateNode;O!==null&&wW(O)}S.stateNode=null,S._debugOwner=null,S.return=null,S.dependencies=null,S.memoizedProps=null,S.memoizedState=null,S.pendingProps=null,S.stateNode=null,S.updateQueue=null}}function CX(S){for(var b=S.return;b!==null;){if(U2(b))return b;b=b.return}throw new Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.")}function U2(S){return S.tag===l||S.tag===d||S.tag===h}function V2(S){var b=S;t:for(;;){for(;b.sibling===null;){if(b.return===null||U2(b.return))return null;b=b.return}for(b.sibling.return=b.return,b=b.sibling;b.tag!==l&&b.tag!==a&&b.tag!==R;){if(b.flags&xr||b.child===null||b.tag===h)continue t;b.child.return=b,b=b.child}if(!(b.flags&xr))return b.stateNode}}function SX(S){var b=CX(S);switch(b.tag){case l:{var O=b.stateNode;b.flags&pc&&(WO(O),b.flags&=~pc);var D=V2(S);fE(S,D,O);break}case d:case h:{var N=b.stateNode.containerInfo,W=V2(S);uE(S,W,N);break}default:throw new Error("Invalid host parent fiber. This error is likely caused by a bug in React. Please file an issue.")}}function uE(S,b,O){var D=S.tag,N=D===l||D===a;if(N){var W=S.stateNode;b?zz(O,W,b):Uz(O,W)}else if(D!==h){var J=S.child;if(J!==null){uE(J,b,O);for(var q=J.sibling;q!==null;)uE(q,b,O),q=q.sibling}}}function fE(S,b,O){var D=S.tag,N=D===l||D===a;if(N){var W=S.stateNode;b?Vz(O,W,b):Nz(O,W)}else if(D!==h){var J=S.child;if(J!==null){fE(J,b,O);for(var q=J.sibling;q!==null;)fE(q,b,O),q=q.sibling}}}var hn=null,Sa=!1;function EX(S,b,O){{var D=b;t:for(;D!==null;){switch(D.tag){case l:{hn=D.stateNode,Sa=!1;break t}case d:{hn=D.stateNode.containerInfo,Sa=!0;break t}case h:{hn=D.stateNode.containerInfo,Sa=!0;break t}}D=D.return}if(hn===null)throw new Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.");z2(S,b,O),hn=null,Sa=!1}TX(O)}function $l(S,b,O){for(var D=O.child;D!==null;)z2(S,b,D),D=D.sibling}function z2(S,b,O){switch(b7(O),O.tag){case l:ln||jf(O,b);case a:{{var D=hn,N=Sa;hn=null,$l(S,b,O),hn=D,Sa=N,hn!==null&&(Sa?Yz(hn,O.stateNode):Wz(hn,O.stateNode))}return}case R:{hn!==null&&(Sa?Xz(hn,O.stateNode):SS(hn,O.stateNode));return}case h:{{var W=hn,J=Sa;hn=O.stateNode.containerInfo,Sa=!0,$l(S,b,O),hn=W,Sa=J}return}case r:case p:case C:case P:{if(!ln){var q=O.updateQueue;if(q!==null){var et=q.lastEffect;if(et!==null){var nt=et.next,at=nt;do{var pt=at,vt=pt.destroy,Tt=pt.tag;vt!==void 0&&((Tt&_a)!==Qn?h0(O,b,vt):(Tt&Or)!==Qn&&(PA(O),O.mode&Ri?(ro(),h0(O,b,vt),io(O)):h0(O,b,vt),wA())),at=at.next}while(at!==nt)}}}$l(S,b,O);return}case o:{if(!ln){jf(O,b);var Pt=O.stateNode;typeof Pt.componentWillUnmount=="function"&&hE(O,b,Pt)}$l(S,b,O);return}case L:{$l(S,b,O);return}case F:{if(O.mode&oi){var Ot=ln;ln=Ot||O.memoizedState!==null,$l(S,b,O),ln=Ot}else $l(S,b,O);break}default:{$l(S,b,O);return}}}function bX(S){S.memoizedState}function PX(S,b){var O=b.memoizedState;if(O===null){var D=b.alternate;if(D!==null){var N=D.memoizedState;if(N!==null){var W=N.dehydrated;W!==null&&hW(W)}}}}function W2(S){var b=S.updateQueue;if(b!==null){S.updateQueue=null;var O=S.stateNode;O===null&&(O=S.stateNode=new lX),b.forEach(function(D){var N=CH.bind(null,S,D);if(!O.has(D)){if(O.add(D),da)if(Jf!==null&&Zf!==null)Fv(Zf,Jf);else throw Error("Expected finished root and lanes to be set. This is a bug in React.");D.then(N,N)}})}}function wX(S,b,O){Jf=O,Zf=S,Ye(b),Y2(b,S),Ye(b),Jf=null,Zf=null}function Ea(S,b,O){var D=b.deletions;if(D!==null)for(var N=0;N<D.length;N++){var W=D[N];try{EX(S,b,W)}catch(et){Bi(W,b,et)}}var J=ii();if(b.subtreeFlags&mC)for(var q=b.child;q!==null;)Ye(q),Y2(q,S),q=q.sibling;Ye(J)}function Y2(S,b,O){var D=S.alternate,N=S.flags;switch(S.tag){case r:case p:case C:case P:{if(Ea(b,S),no(S),N&xi){try{Ca(_a|Ar,S,S.return),Hl(_a|Ar,S)}catch(Fe){Bi(S,S.return,Fe)}if(S.mode&Ri){try{ro(),Ca(Or|Ar,S,S.return)}catch(Fe){Bi(S,S.return,Fe)}io(S)}else try{Ca(Or|Ar,S,S.return)}catch(Fe){Bi(S,S.return,Fe)}}return}case o:{Ea(b,S),no(S),N&zh&&D!==null&&jf(D,D.return);return}case l:{Ea(b,S),no(S),N&zh&&D!==null&&jf(D,D.return);{if(S.flags&pc){var W=S.stateNode;try{WO(W)}catch(Fe){Bi(S,S.return,Fe)}}if(N&xi){var J=S.stateNode;if(J!=null){var q=S.memoizedProps,et=D!==null?D.memoizedProps:q,nt=S.type,at=S.updateQueue;if(S.updateQueue=null,at!==null)try{Gz(J,at,nt,et,q,S)}catch(Fe){Bi(S,S.return,Fe)}}}}return}case a:{if(Ea(b,S),no(S),N&xi){if(S.stateNode===null)throw new Error("This should have a text node initialized. This error is likely caused by a bug in React. Please file an issue.");var pt=S.stateNode,vt=S.memoizedProps,Tt=D!==null?D.memoizedProps:vt;try{kz(pt,Tt,vt)}catch(Fe){Bi(S,S.return,Fe)}}return}case d:{if(Ea(b,S),no(S),N&xi&&D!==null){var Pt=D.memoizedState;if(Pt.isDehydrated)try{lW(b.containerInfo)}catch(Fe){Bi(S,S.return,Fe)}}return}case h:{Ea(b,S),no(S);return}case x:{Ea(b,S),no(S);var Ot=S.child;if(Ot.flags&Wh){var Qt=Ot.stateNode,be=Ot.memoizedState,ge=be!==null;if(Qt.isHidden=ge,ge){var hi=Ot.alternate!==null&&Ot.alternate.memoizedState!==null;hi||aH()}}if(N&xi){try{bX(S)}catch(Fe){Bi(S,S.return,Fe)}W2(S)}return}case F:{var si=D!==null&&D.memoizedState!==null;if(S.mode&oi){var mt=ln;ln=mt||si,Ea(b,S),ln=mt}else Ea(b,S);if(no(S),N&Wh){var Lt=S.stateNode,yt=S.memoizedState,Ut=yt!==null,he=S;if(Lt.isHidden=Ut,Ut&&!si&&(he.mode&oi)!==Me){ce=he;for(var re=he.child;re!==null;)ce=re,RX(re),re=re.sibling}xX(he,Ut)}return}case A:{Ea(b,S),no(S),N&xi&&W2(S);return}case L:return;default:{Ea(b,S),no(S);return}}}function no(S){var b=S.flags;if(b&xr){try{SX(S)}catch(O){Bi(S,S.return,O)}S.flags&=~xr}b&No&&(S.flags&=~No)}function MX(S,b,O){Jf=O,Zf=b,ce=S,X2(S,b,O),Jf=null,Zf=null}function X2(S,b,O){for(var D=(S.mode&oi)!==Me;ce!==null;){var N=ce,W=N.child;if(N.tag===F&&D){var J=N.memoizedState!==null,q=J||l0;if(q){dE(S,b,O);continue}else{var et=N.alternate,nt=et!==null&&et.memoizedState!==null,at=nt||ln,pt=l0,vt=ln;l0=q,ln=at,ln&&!vt&&(ce=N,AX(N));for(var Tt=W;Tt!==null;)ce=Tt,X2(Tt,b,O),Tt=Tt.sibling;ce=N,l0=pt,ln=vt,dE(S,b,O);continue}}(N.subtreeFlags&gc)!==Le&&W!==null?(W.return=N,ce=W):dE(S,b,O)}}function dE(S,b,O){for(;ce!==null;){var D=ce;if((D.flags&gc)!==Le){var N=D.alternate;Ye(D);try{mX(b,N,D,O)}catch(J){Bi(D,D.return,J)}jt()}if(D===S){ce=null;return}var W=D.sibling;if(W!==null){W.return=D.return,ce=W;return}ce=D.return}}function RX(S){for(;ce!==null;){var b=ce,O=b.child;switch(b.tag){case r:case p:case C:case P:{if(b.mode&Ri)try{ro(),Ca(Or,b,b.return)}finally{io(b)}else Ca(Or,b,b.return);break}case o:{jf(b,b.return);var D=b.stateNode;typeof D.componentWillUnmount=="function"&&hE(b,b.return,D);break}case l:{jf(b,b.return);break}case F:{var N=b.memoizedState!==null;if(N){H2(S);continue}break}}O!==null?(O.return=b,ce=O):H2(S)}}function H2(S){for(;ce!==null;){var b=ce;if(b===S){ce=null;return}var O=b.sibling;if(O!==null){O.return=b.return,ce=O;return}ce=b.return}}function AX(S){for(;ce!==null;){var b=ce,O=b.child;if(b.tag===F){var D=b.memoizedState!==null;if(D){$2(S);continue}}O!==null?(O.return=b,ce=O):$2(S)}}function $2(S){for(;ce!==null;){var b=ce;Ye(b);try{yX(b)}catch(D){Bi(b,b.return,D)}if(jt(),b===S){ce=null;return}var O=b.sibling;if(O!==null){O.return=b.return,ce=O;return}ce=b.return}}function OX(S,b,O,D){ce=b,LX(b,S,O,D)}function LX(S,b,O,D){for(;ce!==null;){var N=ce,W=N.child;(N.subtreeFlags&gf)!==Le&&W!==null?(W.return=N,ce=W):DX(S,b,O,D)}}function DX(S,b,O,D){for(;ce!==null;){var N=ce;if((N.flags&Ml)!==Le){Ye(N);try{FX(b,N,O,D)}catch(J){Bi(N,N.return,J)}jt()}if(N===S){ce=null;return}var W=N.sibling;if(W!==null){W.return=N.return,ce=W;return}ce=N.return}}function FX(S,b,O,D){switch(b.tag){case r:case p:case P:{if(b.mode&Ri){L1();try{Hl(an|Ar,b)}finally{O1(b)}}else Hl(an|Ar,b);break}}}function IX(S){ce=S,BX()}function BX(){for(;ce!==null;){var S=ce,b=S.child;if((ce.flags&Vh)!==Le){var O=S.deletions;if(O!==null){for(var D=0;D<O.length;D++){var N=O[D];ce=N,NX(N,S)}{var W=S.alternate;if(W!==null){var J=W.child;if(J!==null){W.child=null;do{var q=J.sibling;J.sibling=null,J=q}while(J!==null)}}}ce=S}}(S.subtreeFlags&gf)!==Le&&b!==null?(b.return=S,ce=b):GX()}}function GX(){for(;ce!==null;){var S=ce;(S.flags&Ml)!==Le&&(Ye(S),kX(S),jt());var b=S.sibling;if(b!==null){b.return=S.return,ce=b;return}ce=S.return}}function kX(S){switch(S.tag){case r:case p:case P:{S.mode&Ri?(L1(),Ca(an|Ar,S,S.return),O1(S)):Ca(an|Ar,S,S.return);break}}}function NX(S,b){for(;ce!==null;){var O=ce;Ye(O),VX(O,b),jt();var D=O.child;D!==null?(D.return=O,ce=D):UX(S)}}function UX(S){for(;ce!==null;){var b=ce,O=b.sibling,D=b.return;if(N2(b),b===S){ce=null;return}if(O!==null){O.return=D,ce=O;return}ce=D}}function VX(S,b){switch(S.tag){case r:case p:case P:{S.mode&Ri?(L1(),Ca(an,S,b),O1(S)):Ca(an,S,b);break}}}function zX(S){switch(S.tag){case r:case p:case P:{try{Hl(Or|Ar,S)}catch(O){Bi(S,S.return,O)}break}case o:{var b=S.stateNode;try{b.componentDidMount()}catch(O){Bi(S,S.return,O)}break}}}function WX(S){switch(S.tag){case r:case p:case P:{try{Hl(an|Ar,S)}catch(b){Bi(S,S.return,b)}break}}}function YX(S){switch(S.tag){case r:case p:case P:{try{Ca(Or|Ar,S,S.return)}catch(O){Bi(S,S.return,O)}break}case o:{var b=S.stateNode;typeof b.componentWillUnmount=="function"&&hE(S,S.return,b);break}}}function XX(S){switch(S.tag){case r:case p:case P:try{Ca(an|Ar,S,S.return)}catch(b){Bi(S,S.return,b)}}}if(typeof Symbol=="function"&&Symbol.for){var Sv=Symbol.for;Sv("selector.component"),Sv("selector.has_pseudo_class"),Sv("selector.role"),Sv("selector.test_id"),Sv("selector.text")}var HX=[];function $X(){HX.forEach(function(S){return S()})}var KX=i.ReactCurrentActQueue;function JX(S){{var b=typeof IS_REACT_ACT_ENVIRONMENT<"u"?IS_REACT_ACT_ENVIRONMENT:void 0,O=typeof jest<"u";return O&&b!==!1}}function K2(){{var S=typeof IS_REACT_ACT_ENVIRONMENT<"u"?IS_REACT_ACT_ENVIRONMENT:void 0;return!S&&KX.current!==null&&n("The current testing environment is not configured to support act(...)"),S}}var ZX=Math.ceil,cE=i.ReactCurrentDispatcher,vE=i.ReactCurrentOwner,un=i.ReactCurrentBatchConfig,ba=i.ReactCurrentActQueue,Fr=0,J2=1,fn=2,$s=4,jo=0,Ev=1,hu=2,u0=3,bv=4,Z2=5,pE=6,li=Fr,Gn=null,Qi=null,Ir=kt,so=kt,gE=Gl(kt),Br=jo,Pv=null,f0=kt,wv=kt,d0=kt,Mv=null,qn=null,mE=0,j2=500,Q2=1/0,jX=500,Qo=null;function Rv(){Q2=Hr()+jX}function q2(){return Q2}var c0=!1,yE=null,Qf=null,uu=!1,Kl=null,Av=kt,xE=[],TE=null,QX=50,Ov=0,CE=null,SE=!1,v0=!1,qX=50,qf=0,p0=null,Lv=Vi,g0=kt,_2=!1;function m0(){return Gn}function kn(){return(li&(fn|$s))!==Fr?Hr():(Lv!==Vi||(Lv=Hr()),Lv)}function Jl(S){var b=S.mode;if((b&oi)===Me)return Ge;if((li&fn)!==Fr&&Ir!==kt)return Ec(Ir);var O=KW()!==$W;if(O){if(un.transition!==null){var D=un.transition;D._updatedFibers||(D._updatedFibers=new Set),D._updatedFibers.add(S)}return g0===Kr&&(g0=IA()),g0}var N=ca();if(N!==Kr)return N;var W=Lz();return W}function _X(S){var b=S.mode;return(b&oi)===Me?Ge:eU()}function Gr(S,b,O,D){EH(),_2&&n("useInsertionEffect must not schedule updates."),SE&&(v0=!0),bc(S,O,D),(li&fn)!==kt&&S===Gn?wH(b):(da&&kA(S,b,O),MH(b),S===Gn&&((li&fn)===Fr&&(wv=Qe(wv,O)),Br===bv&&Zl(S,Ir)),_n(S,D),O===Ge&&li===Fr&&(b.mode&oi)===Me&&!ba.isBatchingLegacy&&(Rv(),_O()))}function tH(S,b,O){var D=S.current;D.lanes=b,bc(S,b,O),_n(S,O)}function eH(S){return(li&fn)!==Fr}function _n(S,b){var O=S.callbackNode;Z7(S,b);var D=Ng(S,S===Gn?Ir:kt);if(D===kt){O!==null&&pD(O),S.callbackNode=null,S.callbackPriority=Kr;return}var N=Jh(D),W=S.callbackPriority;if(W===N&&!(ba.current!==null&&O!==AE)){O==null&&W!==Ge&&n("Expected scheduled callback to exist. This error is likely caused by a bug in React. Please file an issue.");return}O!=null&&pD(O);var J;if(N===Ge)S.tag===kl?(ba.isBatchingLegacy!==null&&(ba.didScheduleLegacyUpdate=!0),AW(iD.bind(null,S))):qO(iD.bind(null,S)),ba.current!==null?ba.current.push(Nl):Fz(function(){(li&(fn|$s))===Fr&&Nl()}),J=null;else{var q;switch(VA(D)){case xs:q=Ig;break;case zo:q=yC;break;case Wo:q=Hh;break;case zg:q=xC;break;default:q=Hh;break}J=OE(q,tD.bind(null,S))}S.callbackPriority=N,S.callbackNode=J}function tD(S,b){if(xY(),Lv=Vi,g0=kt,(li&(fn|$s))!==Fr)throw new Error("Should not already be working.");var O=S.callbackNode,D=_o();if(D&&S.callbackNode!==O)return null;var N=Ng(S,S===Gn?Ir:kt);if(N===kt)return null;var W=!Ug(S,N)&&!tU(S,N)&&!b,J=W?fH(S,N):x0(S,N);if(J!==jo){if(J===hu){var q=zC(S);q!==kt&&(N=q,J=EE(S,q))}if(J===Ev){var et=Pv;throw fu(S,kt),Zl(S,N),_n(S,Hr()),et}if(J===pE)Zl(S,N);else{var nt=!Ug(S,N),at=S.current.alternate;if(nt&&!rH(at)){if(J=x0(S,N),J===hu){var pt=zC(S);pt!==kt&&(N=pt,J=EE(S,pt))}if(J===Ev){var vt=Pv;throw fu(S,kt),Zl(S,N),_n(S,Hr()),vt}}S.finishedWork=at,S.finishedLanes=N,iH(S,J,N)}}return _n(S,Hr()),S.callbackNode===O?tD.bind(null,S):null}function EE(S,b){var O=Mv;if(Wg(S)){var D=fu(S,b);D.flags|=ko,SW(S.containerInfo)}var N=x0(S,b);if(N!==hu){var W=qn;qn=O,W!==null&&eD(W)}return N}function eD(S){qn===null?qn=S:qn.push.apply(qn,S)}function iH(S,b,O){switch(b){case jo:case Ev:throw new Error("Root did not complete. This is a bug in React.");case hu:{du(S,qn,Qo);break}case u0:{if(Zl(S,O),DA(O)&&!gD()){var D=mE+j2-Hr();if(D>10){var N=Ng(S,kt);if(N!==kt)break;var W=S.suspendedLanes;if(!Sf(W,O)){kn(),GA(S,W);break}S.timeoutHandle=TS(du.bind(null,S,qn,Qo),D);break}}du(S,qn,Qo);break}case bv:{if(Zl(S,O),_7(O))break;if(!gD()){var J=K7(S,O),q=J,et=Hr()-q,nt=SH(et)-et;if(nt>10){S.timeoutHandle=TS(du.bind(null,S,qn,Qo),nt);break}}du(S,qn,Qo);break}case Z2:{du(S,qn,Qo);break}default:throw new Error("Unknown root exit status.")}}function rH(S){for(var b=S;;){if(b.flags&fC){var O=b.updateQueue;if(O!==null){var D=O.stores;if(D!==null)for(var N=0;N<D.length;N++){var W=D[N],J=W.getSnapshot,q=W.value;try{if(!Cs(J(),q))return!1}catch{return!1}}}}var et=b.child;if(b.subtreeFlags&fC&&et!==null){et.return=b,b=et;continue}if(b===S)return!0;for(;b.sibling===null;){if(b.return===null||b.return===S)return!0;b=b.return}b.sibling.return=b.return,b=b.sibling}return!0}function Zl(S,b){b=Vg(b,d0),b=Vg(b,wv),rU(S,b)}function iD(S){if(TY(),(li&(fn|$s))!==Fr)throw new Error("Should not already be working.");_o();var b=Ng(S,kt);if(!ys(b,Ge))return _n(S,Hr()),null;var O=x0(S,b);if(S.tag!==kl&&O===hu){var D=zC(S);D!==kt&&(b=D,O=EE(S,D))}if(O===Ev){var N=Pv;throw fu(S,kt),Zl(S,b),_n(S,Hr()),N}if(O===pE)throw new Error("Root did not complete. This is a bug in React.");var W=S.current.alternate;return S.finishedWork=W,S.finishedLanes=b,du(S,qn,Qo),_n(S,Hr()),null}function nH(S,b){b!==kt&&(HC(S,Qe(b,Ge)),_n(S,Hr()),(li&(fn|$s))===Fr&&(Rv(),Nl()))}function bE(S,b){var O=li;li|=J2;try{return S(b)}finally{li=O,li===Fr&&!ba.isBatchingLegacy&&(Rv(),_O())}}function sH(S,b,O,D,N){var W=ca(),J=un.transition;try{return un.transition=null,Jr(xs),S(b,O,D,N)}finally{Jr(W),un.transition=J,li===Fr&&Rv()}}function qo(S){Kl!==null&&Kl.tag===kl&&(li&(fn|$s))===Fr&&_o();var b=li;li|=J2;var O=un.transition,D=ca();try{return un.transition=null,Jr(xs),S?S():void 0}finally{Jr(D),un.transition=O,li=b,(li&(fn|$s))===Fr&&Nl()}}function rD(){return(li&(fn|$s))!==Fr}function y0(S,b){Tn(gE,so,S),so=Qe(so,b)}function PE(S){so=gE.current,xn(gE,S)}function fu(S,b){S.finishedWork=null,S.finishedLanes=kt;var O=S.timeoutHandle;if(O!==CS&&(S.timeoutHandle=CS,Dz(O)),Qi!==null)for(var D=Qi.return;D!==null;){var N=D.alternate;D2(N,D),D=D.return}Gn=S;var W=cu(S.current,null);return Qi=W,Ir=so=b,Br=jo,Pv=null,f0=kt,wv=kt,d0=kt,Mv=null,qn=null,tY(),ga.discardPendingWarnings(),W}function nD(S,b){do{var O=Qi;try{if(Rm(),RL(),jt(),vE.current=null,O===null||O.return===null){Br=Ev,Pv=b,Qi=null;return}if($&&O.mode&Ri&&r0(O,!0),Y)if(yf(),b!==null&&typeof b=="object"&&typeof b.then=="function"){var D=b;B7(O,D,Ir)}else I7(O,b,Ir);AY(S,O.return,O,b,Ir),lD(O)}catch(N){b=N,Qi===O&&O!==null?(O=O.return,Qi=O):O=Qi;continue}return}while(!0)}function sD(){var S=cE.current;return cE.current=qm,S===null?qm:S}function aD(S){cE.current=S}function aH(){mE=Hr()}function Dv(S){f0=Qe(S,f0)}function oH(){Br===jo&&(Br=u0)}function wE(){(Br===jo||Br===u0||Br===hu)&&(Br=bv),Gn!==null&&(WC(f0)||WC(wv))&&Zl(Gn,Ir)}function lH(S){Br!==bv&&(Br=hu),Mv===null?Mv=[S]:Mv.push(S)}function hH(){return Br===jo}function x0(S,b){var O=li;li|=fn;var D=sD();if(Gn!==S||Ir!==b){if(da){var N=S.memoizedUpdaters;N.size>0&&(Fv(S,Ir),N.clear()),NA(S,b)}Qo=UA(),fu(S,b)}MA(b);do try{uH();break}catch(W){nD(S,W)}while(!0);if(Rm(),li=O,aD(D),Qi!==null)throw new Error("Cannot commit an incomplete root. This error is likely caused by a bug in React. Please file an issue.");return RA(),Gn=null,Ir=kt,Br}function uH(){for(;Qi!==null;)oD(Qi)}function fH(S,b){var O=li;li|=fn;var D=sD();if(Gn!==S||Ir!==b){if(da){var N=S.memoizedUpdaters;N.size>0&&(Fv(S,Ir),N.clear()),NA(S,b)}Qo=UA(),Rv(),fu(S,b)}MA(b);do try{dH();break}catch(W){nD(S,W)}while(!0);return Rm(),aD(D),li=O,Qi!==null?(V7(),jo):(RA(),Gn=null,Ir=kt,Br)}function dH(){for(;Qi!==null&&!v7();)oD(Qi)}function oD(S){var b=S.alternate;Ye(S);var O;(S.mode&Ri)!==Me?(A1(S),O=ME(b,S,so),r0(S,!0)):O=ME(b,S,so),jt(),S.memoizedProps=S.pendingProps,O===null?lD(S):Qi=O,vE.current=null}function lD(S){var b=S;do{var O=b.alternate,D=b.return;if((b.flags&Fg)===Le){Ye(b);var N=void 0;if((b.mode&Ri)===Me?N=L2(O,b,so):(A1(b),N=L2(O,b,so),r0(b,!1)),jt(),N!==null){Qi=N;return}}else{var W=oX(O,b);if(W!==null){W.flags&=l7,Qi=W;return}if((b.mode&Ri)!==Me){r0(b,!1);for(var J=b.actualDuration,q=b.child;q!==null;)J+=q.actualDuration,q=q.sibling;b.actualDuration=J}if(D!==null)D.flags|=Fg,D.subtreeFlags=Le,D.deletions=null;else{Br=pE,Qi=null;return}}var et=b.sibling;if(et!==null){Qi=et;return}b=D,Qi=b}while(b!==null);Br===jo&&(Br=Z2)}function du(S,b,O){var D=ca(),N=un.transition;try{un.transition=null,Jr(xs),cH(S,b,O,D)}finally{un.transition=N,Jr(D)}return null}function cH(S,b,O,D){do _o();while(Kl!==null);if(bH(),(li&(fn|$s))!==Fr)throw new Error("Should not already be working.");var N=S.finishedWork,W=S.finishedLanes;if(M7(W),N===null)return bA(),null;if(W===kt&&n("root.finishedLanes should not be empty during a commit. This is a bug in React."),S.finishedWork=null,S.finishedLanes=kt,N===S.current)throw new Error("Cannot commit the same tree as before. This error is likely caused by a bug in React. Please file an issue.");S.callbackNode=null,S.callbackPriority=Kr;var J=Qe(N.lanes,N.childLanes);nU(S,J),S===Gn&&(Gn=null,Qi=null,Ir=kt),((N.subtreeFlags&gf)!==Le||(N.flags&gf)!==Le)&&(uu||(uu=!0,TE=O,OE(Hh,function(){return _o(),null})));var q=(N.subtreeFlags&(gC|mC|gc|gf))!==Le,et=(N.flags&(gC|mC|gc|gf))!==Le;if(q||et){var nt=un.transition;un.transition=null;var at=ca();Jr(xs);var pt=li;li|=$s,vE.current=null,dX(S,N),_L(),wX(S,N,W),Pz(S.containerInfo),S.current=N,G7(W),MX(N,S,W),k7(),p7(),li=pt,Jr(at),un.transition=nt}else S.current=N,_L();var vt=uu;if(uu?(uu=!1,Kl=S,Av=W):(qf=0,p0=null),J=S.pendingLanes,J===kt&&(Qf=null),vt||dD(S.current,!1),S7(N.stateNode,D),da&&S.memoizedUpdaters.clear(),$X(),_n(S,Hr()),b!==null)for(var Tt=S.onRecoverableError,Pt=0;Pt<b.length;Pt++){var Ot=b[Pt],Qt=Ot.stack,be=Ot.digest;Tt(Ot.value,{componentStack:Qt,digest:be})}if(c0){c0=!1;var ge=yE;throw yE=null,ge}return ys(Av,Ge)&&S.tag!==kl&&_o(),J=S.pendingLanes,ys(J,Ge)?(yY(),S===CE?Ov++:(Ov=0,CE=S)):Ov=0,Nl(),bA(),null}function _o(){if(Kl!==null){var S=VA(Av),b=lU(Wo,S),O=un.transition,D=ca();try{return un.transition=null,Jr(b),pH()}finally{Jr(D),un.transition=O}}return!1}function vH(S){xE.push(S),uu||(uu=!0,OE(Hh,function(){return _o(),null}))}function pH(){if(Kl===null)return!1;var S=TE;TE=null;var b=Kl,O=Av;if(Kl=null,Av=kt,(li&(fn|$s))!==Fr)throw new Error("Cannot flush passive effects while already rendering.");SE=!0,v0=!1,N7(O);var D=li;li|=$s,IX(b.current),OX(b,b.current,O,S);{var N=xE;xE=[];for(var W=0;W<N.length;W++){var J=N[W];gX(b,J)}}U7(),dD(b.current,!0),li=D,Nl(),v0?b===p0?qf++:(qf=0,p0=b):qf=0,SE=!1,v0=!1,E7(b);{var q=b.current.stateNode;q.effectDuration=0,q.passiveEffectDuration=0}return!0}function hD(S){return Qf!==null&&Qf.has(S)}function gH(S){Qf===null?Qf=new Set([S]):Qf.add(S)}function mH(S){c0||(c0=!0,yE=S)}var yH=mH;function uD(S,b,O){var D=ou(O,b),N=o2(S,D,Ge),W=Vl(S,N,Ge),J=kn();W!==null&&(bc(W,Ge,J),_n(W,J))}function Bi(S,b,O){if(hX(O),Iv(!1),S.tag===d){uD(S,S,O);return}var D=null;for(D=b;D!==null;){if(D.tag===d){uD(D,S,O);return}else if(D.tag===o){var N=D.type,W=D.stateNode;if(typeof N.getDerivedStateFromError=="function"||typeof W.componentDidCatch=="function"&&!hD(W)){var J=ou(O,S),q=K1(D,J,Ge),et=Vl(D,q,Ge),nt=kn();et!==null&&(bc(et,Ge,nt),_n(et,nt));return}}D=D.return}n(`Internal React error: Attempted to capture a commit phase error inside a detached tree. This indicates a bug in React. Likely causes include deleting the same fiber more than once, committing an already-finished tree, or an inconsistent return pointer.

Error message:

%s`,O)}function xH(S,b,O){var D=S.pingCache;D!==null&&D.delete(b);var N=kn();GA(S,O),RH(S),Gn===S&&Sf(Ir,O)&&(Br===bv||Br===u0&&DA(Ir)&&Hr()-mE<j2?fu(S,kt):d0=Qe(d0,O)),_n(S,N)}function fD(S,b){b===Kr&&(b=_X(S));var O=kn(),D=jn(S,b);D!==null&&(bc(D,b,O),_n(D,O))}function TH(S){var b=S.memoizedState,O=Kr;b!==null&&(O=b.retryLane),fD(S,O)}function CH(S,b){var O=Kr,D;switch(S.tag){case x:D=S.stateNode;var N=S.memoizedState;N!==null&&(O=N.retryLane);break;case A:D=S.stateNode;break;default:throw new Error("Pinged unknown suspense boundary type. This is probably a bug in React.")}D!==null&&D.delete(b),fD(S,O)}function SH(S){return S<120?120:S<480?480:S<1080?1080:S<1920?1920:S<3e3?3e3:S<4320?4320:ZX(S/1960)*1960}function EH(){if(Ov>QX)throw Ov=0,CE=null,new Error("Maximum update depth exceeded. This can happen when a component repeatedly calls setState inside componentWillUpdate or componentDidUpdate. React limits the number of nested updates to prevent infinite loops.");qf>qX&&(qf=0,p0=null,n("Maximum update depth exceeded. This can happen when a component calls setState inside useEffect, but useEffect either doesn't have a dependency array, or one of the dependencies changes on every render."))}function bH(){ga.flushLegacyContextWarning(),ga.flushPendingUnsafeLifecycleWarnings()}function dD(S,b){Ye(S),T0(S,Rl,YX),b&&T0(S,pC,XX),T0(S,Rl,zX),b&&T0(S,pC,WX),jt()}function T0(S,b,O){for(var D=S,N=null;D!==null;){var W=D.subtreeFlags&b;D!==N&&D.child!==null&&W!==Le?D=D.child:((D.flags&b)!==Le&&O(D),D.sibling!==null?D=D.sibling:D=N=D.return)}}var C0=null;function cD(S){{if((li&fn)!==Fr||!(S.mode&oi))return;var b=S.tag;if(b!==y&&b!==d&&b!==o&&b!==r&&b!==p&&b!==C&&b!==P)return;var O=_t(S)||"ReactComponent";if(C0!==null){if(C0.has(O))return;C0.add(O)}else C0=new Set([O]);var D=zt;try{Ye(S),n("Can't perform a React state update on a component that hasn't mounted yet. This indicates that you have a side-effect in your render function that asynchronously later calls tries to update the component. Move this work to useEffect instead.")}finally{D?Ye(S):jt()}}}var ME;{var PH=null;ME=function(S,b,O){var D=CD(PH,b);try{return w2(S,b,O)}catch(W){if(kW()||W!==null&&typeof W=="object"&&typeof W.then=="function")throw W;if(Rm(),RL(),D2(S,b),CD(b,D),b.mode&Ri&&A1(b),hC(null,w2,null,S,b,O),s7()){var N=uC();typeof N=="object"&&N!==null&&N._suppressLogging&&typeof W=="object"&&W!==null&&!W._suppressLogging&&(W._suppressLogging=!0)}throw W}}}var vD=!1,RE;RE=new Set;function wH(S){if(se&&!pY())switch(S.tag){case r:case p:case P:{var b=Qi&&_t(Qi)||"Unknown",O=b;if(!RE.has(O)){RE.add(O);var D=_t(S)||"Unknown";n("Cannot update a component (`%s`) while rendering a different component (`%s`). To locate the bad setState() call inside `%s`, follow the stack trace as described in https://reactjs.org/link/setstate-in-render",D,b,b)}break}case o:{vD||(n("Cannot update during an existing state transition (such as within `render`). Render methods should be a pure function of props and state."),vD=!0);break}}}function Fv(S,b){if(da){var O=S.memoizedUpdaters;O.forEach(function(D){kA(S,D,b)})}}var AE={};function OE(S,b){{var O=ba.current;return O!==null?(O.push(b),AE):EA(S,b)}}function pD(S){if(S!==AE)return c7(S)}function gD(){return ba.current!==null}function MH(S){{if(S.mode&oi){if(!K2())return}else if(!JX()||li!==Fr||S.tag!==r&&S.tag!==p&&S.tag!==P)return;if(ba.current===null){var b=zt;try{Ye(S),n(`An update to %s inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act`,_t(S))}finally{b?Ye(S):jt()}}}}function RH(S){S.tag!==kl&&K2()&&ba.current===null&&n(`A suspended resource finished loading inside a test, but the event was not wrapped in act(...).

When testing, code that resolves suspended data should be wrapped into act(...):

act(() => {
  /* finish loading suspended data */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act`)}function Iv(S){_2=S}var Ks=null,_f=null,AH=function(S){Ks=S};function td(S){{if(Ks===null)return S;var b=Ks(S);return b===void 0?S:b.current}}function LE(S){return td(S)}function DE(S){{if(Ks===null)return S;var b=Ks(S);if(b===void 0){if(S!=null&&typeof S.render=="function"){var O=td(S.render);if(S.render!==O){var D={$$typeof:ue,render:O};return S.displayName!==void 0&&(D.displayName=S.displayName),D}}return S}return b.current}}function mD(S,b){{if(Ks===null)return!1;var O=S.elementType,D=b.type,N=!1,W=typeof D=="object"&&D!==null?D.$$typeof:null;switch(S.tag){case o:{typeof D=="function"&&(N=!0);break}case r:{(typeof D=="function"||W===Ee)&&(N=!0);break}case p:{(W===ue||W===Ee)&&(N=!0);break}case C:case P:{(W===Xe||W===Ee)&&(N=!0);break}default:return!1}if(N){var J=Ks(O);if(J!==void 0&&J===Ks(D))return!0}return!1}}function yD(S){{if(Ks===null||typeof WeakSet!="function")return;_f===null&&(_f=new WeakSet),_f.add(S)}}var OH=function(S,b){{if(Ks===null)return;var O=b.staleFamilies,D=b.updatedFamilies;_o(),qo(function(){FE(S.current,D,O)})}},LH=function(S,b){{if(S.context!==Ss)return;_o(),qo(function(){Bv(b,S,null,null)})}};function FE(S,b,O){{var D=S.alternate,N=S.child,W=S.sibling,J=S.tag,q=S.type,et=null;switch(J){case r:case P:case o:et=q;break;case p:et=q.render;break}if(Ks===null)throw new Error("Expected resolveFamily to be set during hot reload.");var nt=!1,at=!1;if(et!==null){var pt=Ks(et);pt!==void 0&&(O.has(pt)?at=!0:b.has(pt)&&(J===o?at=!0:nt=!0))}if(_f!==null&&(_f.has(S)||D!==null&&_f.has(D))&&(at=!0),at&&(S._debugNeedsRemount=!0),at||nt){var vt=jn(S,Ge);vt!==null&&Gr(vt,S,Ge,Vi)}N!==null&&!at&&FE(N,b,O),W!==null&&FE(W,b,O)}}var DH=function(S,b){{var O=new Set,D=new Set(b.map(function(N){return N.current}));return IE(S.current,D,O),O}};function IE(S,b,O){{var D=S.child,N=S.sibling,W=S.tag,J=S.type,q=null;switch(W){case r:case P:case o:q=J;break;case p:q=J.render;break}var et=!1;q!==null&&b.has(q)&&(et=!0),et?FH(S,O):D!==null&&IE(D,b,O),N!==null&&IE(N,b,O)}}function FH(S,b){{var O=IH(S,b);if(O)return;for(var D=S;;){switch(D.tag){case l:b.add(D.stateNode);return;case h:b.add(D.stateNode.containerInfo);return;case d:b.add(D.stateNode.containerInfo);return}if(D.return===null)throw new Error("Expected to reach root first.");D=D.return}}}function IH(S,b){for(var O=S,D=!1;;){if(O.tag===l)D=!0,b.add(O.stateNode);else if(O.child!==null){O.child.return=O,O=O.child;continue}if(O===S)return D;for(;O.sibling===null;){if(O.return===null||O.return===S)return D;O=O.return}O.sibling.return=O.return,O=O.sibling}return!1}var BE;{BE=!1;try{var xD=Object.preventExtensions({})}catch{BE=!0}}function BH(S,b,O,D){this.tag=S,this.key=O,this.elementType=null,this.type=null,this.stateNode=null,this.return=null,this.child=null,this.sibling=null,this.index=0,this.ref=null,this.pendingProps=b,this.memoizedProps=null,this.updateQueue=null,this.memoizedState=null,this.dependencies=null,this.mode=D,this.flags=Le,this.subtreeFlags=Le,this.deletions=null,this.lanes=kt,this.childLanes=kt,this.alternate=null,this.actualDuration=Number.NaN,this.actualStartTime=Number.NaN,this.selfBaseDuration=Number.NaN,this.treeBaseDuration=Number.NaN,this.actualDuration=0,this.actualStartTime=-1,this.selfBaseDuration=0,this.treeBaseDuration=0,this._debugSource=null,this._debugOwner=null,this._debugNeedsRemount=!1,this._debugHookTypes=null,!BE&&typeof Object.preventExtensions=="function"&&Object.preventExtensions(this)}var Es=function(S,b,O,D){return new BH(S,b,O,D)};function GE(S){var b=S.prototype;return!!(b&&b.isReactComponent)}function GH(S){return typeof S=="function"&&!GE(S)&&S.defaultProps===void 0}function kH(S){if(typeof S=="function")return GE(S)?o:r;if(S!=null){var b=S.$$typeof;if(b===ue)return p;if(b===Xe)return C}return y}function cu(S,b){var O=S.alternate;O===null?(O=Es(S.tag,b,S.key,S.mode),O.elementType=S.elementType,O.type=S.type,O.stateNode=S.stateNode,O._debugSource=S._debugSource,O._debugOwner=S._debugOwner,O._debugHookTypes=S._debugHookTypes,O.alternate=S,S.alternate=O):(O.pendingProps=b,O.type=S.type,O.flags=Le,O.subtreeFlags=Le,O.deletions=null,O.actualDuration=0,O.actualStartTime=-1),O.flags=S.flags&Uo,O.childLanes=S.childLanes,O.lanes=S.lanes,O.child=S.child,O.memoizedProps=S.memoizedProps,O.memoizedState=S.memoizedState,O.updateQueue=S.updateQueue;var D=S.dependencies;switch(O.dependencies=D===null?null:{lanes:D.lanes,firstContext:D.firstContext},O.sibling=S.sibling,O.index=S.index,O.ref=S.ref,O.selfBaseDuration=S.selfBaseDuration,O.treeBaseDuration=S.treeBaseDuration,O._debugNeedsRemount=S._debugNeedsRemount,O.tag){case y:case r:case P:O.type=td(S.type);break;case o:O.type=LE(S.type);break;case p:O.type=DE(S.type);break}return O}function NH(S,b){S.flags&=Uo|xr;var O=S.alternate;if(O===null)S.childLanes=kt,S.lanes=b,S.child=null,S.subtreeFlags=Le,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null,S.selfBaseDuration=0,S.treeBaseDuration=0;else{S.childLanes=O.childLanes,S.lanes=O.lanes,S.child=O.child,S.subtreeFlags=Le,S.deletions=null,S.memoizedProps=O.memoizedProps,S.memoizedState=O.memoizedState,S.updateQueue=O.updateQueue,S.type=O.type;var D=O.dependencies;S.dependencies=D===null?null:{lanes:D.lanes,firstContext:D.firstContext},S.selfBaseDuration=O.selfBaseDuration,S.treeBaseDuration=O.treeBaseDuration}return S}function UH(S,b,O){var D;return S===ym?(D=oi,b===!0&&(D|=ir,D|=Za)):D=Me,da&&(D|=Ri),Es(d,null,null,D)}function kE(S,b,O,D,N,W){var J=y,q=S;if(typeof S=="function")GE(S)?(J=o,q=LE(q)):q=td(q);else if(typeof S=="string")J=l;else t:switch(S){case Re:return jl(O.children,N,W,b);case Ao:J=c,N|=ir,(N&oi)!==Me&&(N|=Za);break;case ut:return VH(O,N,W,b);case ti:return zH(O,N,W,b);case De:return WH(O,N,W,b);case Ii:return TD(O,N,W,b);case Rr:case er:case Us:case cs:case Fi:default:{if(typeof S=="object"&&S!==null)switch(S.$$typeof){case Bt:J=v;break t;case Jt:J=u;break t;case ue:J=p,q=DE(q);break t;case Xe:J=C;break t;case Ee:J=w,q=null;break t}var et="";{(S===void 0||typeof S=="object"&&S!==null&&Object.keys(S).length===0)&&(et+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var nt=D?_t(D):null;nt&&(et+=`

Check the render method of \``+nt+"`.")}throw new Error("Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) "+("but got: "+(S==null?S:typeof S)+"."+et))}}var at=Es(J,O,b,N);return at.elementType=S,at.type=q,at.lanes=W,at._debugOwner=D,at}function NE(S,b,O){var D=null;D=S._owner;var N=S.type,W=S.key,J=S.props,q=kE(N,W,J,D,b,O);return q._debugSource=S._source,q._debugOwner=S._owner,q}function jl(S,b,O,D){var N=Es(f,S,D,b);return N.lanes=O,N}function VH(S,b,O,D){typeof S.id!="string"&&n('Profiler must specify an "id" of type `string` as a prop. Received the type `%s` instead.',typeof S.id);var N=Es(m,S,D,b|Ri);return N.elementType=ut,N.lanes=O,N.stateNode={effectDuration:0,passiveEffectDuration:0},N}function zH(S,b,O,D){var N=Es(x,S,D,b);return N.elementType=ti,N.lanes=O,N}function WH(S,b,O,D){var N=Es(A,S,D,b);return N.elementType=De,N.lanes=O,N}function TD(S,b,O,D){var N=Es(F,S,D,b);N.elementType=Ii,N.lanes=O;var W={isHidden:!1};return N.stateNode=W,N}function UE(S,b,O){var D=Es(a,S,null,b);return D.lanes=O,D}function YH(){var S=Es(l,null,null,Me);return S.elementType="DELETED",S}function XH(S){var b=Es(R,null,null,Me);return b.stateNode=S,b}function VE(S,b,O){var D=S.children!==null?S.children:[],N=Es(h,D,S.key,b);return N.lanes=O,N.stateNode={containerInfo:S.containerInfo,pendingChildren:null,implementation:S.implementation},N}function CD(S,b){return S===null&&(S=Es(y,null,null,Me)),S.tag=b.tag,S.key=b.key,S.elementType=b.elementType,S.type=b.type,S.stateNode=b.stateNode,S.return=b.return,S.child=b.child,S.sibling=b.sibling,S.index=b.index,S.ref=b.ref,S.pendingProps=b.pendingProps,S.memoizedProps=b.memoizedProps,S.updateQueue=b.updateQueue,S.memoizedState=b.memoizedState,S.dependencies=b.dependencies,S.mode=b.mode,S.flags=b.flags,S.subtreeFlags=b.subtreeFlags,S.deletions=b.deletions,S.lanes=b.lanes,S.childLanes=b.childLanes,S.alternate=b.alternate,S.actualDuration=b.actualDuration,S.actualStartTime=b.actualStartTime,S.selfBaseDuration=b.selfBaseDuration,S.treeBaseDuration=b.treeBaseDuration,S._debugSource=b._debugSource,S._debugOwner=b._debugOwner,S._debugNeedsRemount=b._debugNeedsRemount,S._debugHookTypes=b._debugHookTypes,S}function HH(S,b,O,D,N){this.tag=b,this.containerInfo=S,this.pendingChildren=null,this.current=null,this.pingCache=null,this.finishedWork=null,this.timeoutHandle=CS,this.context=null,this.pendingContext=null,this.callbackNode=null,this.callbackPriority=Kr,this.eventTimes=XC(kt),this.expirationTimes=XC(Vi),this.pendingLanes=kt,this.suspendedLanes=kt,this.pingedLanes=kt,this.expiredLanes=kt,this.mutableReadLanes=kt,this.finishedLanes=kt,this.entangledLanes=kt,this.entanglements=XC(kt),this.identifierPrefix=D,this.onRecoverableError=N,this.mutableSourceEagerHydrationData=null,this.effectDuration=0,this.passiveEffectDuration=0;{this.memoizedUpdaters=new Set;for(var W=this.pendingUpdatersLaneMap=[],J=0;J<CC;J++)W.push(new Set)}switch(b){case ym:this._debugRootType=O?"hydrateRoot()":"createRoot()";break;case kl:this._debugRootType=O?"hydrate()":"render()";break}}function SD(S,b,O,D,N,W,J,q,et,nt){var at=new HH(S,b,O,q,et),pt=UH(b,W);at.current=pt,pt.stateNode=at;{var vt={element:D,isDehydrated:O,cache:null,transitions:null,pendingSuspenseBoundaries:null};pt.memoizedState=vt}return _S(pt),at}var zE="18.3.1";function $H(S,b,O){var D=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;return Mt(D),{$$typeof:Dn,key:D==null?null:""+D,children:S,containerInfo:b,implementation:O}}var WE,YE;WE=!1,YE={};function ED(S){if(!S)return Ss;var b=cf(S),O=RW(b);if(b.tag===o){var D=b.type;if(qa(D))return jO(b,D,O)}return O}function KH(S,b){{var O=cf(S);if(O===void 0){if(typeof S.render=="function")throw new Error("Unable to find node on an unmounted component.");var D=Object.keys(S).join(",");throw new Error("Argument appears to not be a ReactComponent. Keys: "+D)}var N=TA(O);if(N===null)return null;if(N.mode&ir){var W=_t(O)||"Component";if(!YE[W]){YE[W]=!0;var J=zt;try{Ye(N),O.mode&ir?n("%s is deprecated in StrictMode. %s was passed an instance of %s which is inside StrictMode. Instead, add a ref directly to the element you want to reference. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-find-node",b,b,W):n("%s is deprecated in StrictMode. %s was passed an instance of %s which renders StrictMode children. Instead, add a ref directly to the element you want to reference. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-find-node",b,b,W)}finally{J?Ye(J):jt()}}}return N.stateNode}}function bD(S,b,O,D,N,W,J,q){var et=!1,nt=null;return SD(S,b,et,nt,O,D,N,W,J)}function PD(S,b,O,D,N,W,J,q,et,nt){var at=!0,pt=SD(O,D,at,S,N,W,J,q,et);pt.context=ED(null);var vt=pt.current,Tt=kn(),Pt=Jl(vt),Ot=Jo(Tt,Pt);return Ot.callback=b??null,Vl(vt,Ot,Pt),tH(pt,Pt,Tt),pt}function Bv(S,b,O,D){C7(b,S);var N=b.current,W=kn(),J=Jl(N);z7(J);var q=ED(O);b.context===null?b.context=q:b.pendingContext=q,se&&zt!==null&&!WE&&(WE=!0,n(`Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate.

Check the render method of %s.`,_t(zt)||"Unknown"));var et=Jo(W,J);et.payload={element:S},D=D===void 0?null:D,D!==null&&(typeof D!="function"&&n("render(...): Expected the last optional `callback` argument to be a function. Instead received: %s.",D),et.callback=D);var nt=Vl(N,et,J);return nt!==null&&(Gr(nt,N,J,W),Fm(nt,N,J)),J}function S0(S){var b=S.current;if(!b.child)return null;switch(b.child.tag){case l:return b.child.stateNode;default:return b.child.stateNode}}function JH(S){switch(S.tag){case d:{var b=S.stateNode;if(Wg(b)){var O=j7(b);nH(b,O)}break}case x:{qo(function(){var N=jn(S,Ge);if(N!==null){var W=kn();Gr(N,S,Ge,W)}});var D=Ge;XE(S,D);break}}}function wD(S,b){var O=S.memoizedState;O!==null&&O.dehydrated!==null&&(O.retryLane=iU(O.retryLane,b))}function XE(S,b){wD(S,b);var O=S.alternate;O&&wD(O,b)}function ZH(S){if(S.tag===x){var b=Tc,O=jn(S,b);if(O!==null){var D=kn();Gr(O,S,b,D)}XE(S,b)}}function jH(S){if(S.tag===x){var b=Jl(S),O=jn(S,b);if(O!==null){var D=kn();Gr(O,S,b,D)}XE(S,b)}}function MD(S){var b=d7(S);return b===null?null:b.stateNode}var RD=function(S){return null};function QH(S){return RD(S)}var AD=function(S){return!1};function qH(S){return AD(S)}var OD=null,LD=null,DD=null,FD=null,ID=null,BD=null,GD=null,kD=null,ND=null;{var UD=function(S,b,O){var D=b[O],N=ni(S)?S.slice():je({},S);return O+1===b.length?(ni(N)?N.splice(D,1):delete N[D],N):(N[D]=UD(S[D],b,O+1),N)},VD=function(S,b){return UD(S,b,0)},zD=function(S,b,O,D){var N=b[D],W=ni(S)?S.slice():je({},S);if(D+1===b.length){var J=O[D];W[J]=W[N],ni(W)?W.splice(N,1):delete W[N]}else W[N]=zD(S[N],b,O,D+1);return W},WD=function(S,b,O){if(b.length!==O.length){E("copyWithRename() expects paths of the same length");return}else for(var D=0;D<O.length-1;D++)if(b[D]!==O[D]){E("copyWithRename() expects paths to be the same except for the deepest key");return}return zD(S,b,O,0)},YD=function(S,b,O,D){if(O>=b.length)return D;var N=b[O],W=ni(S)?S.slice():je({},S);return W[N]=YD(S[N],b,O+1,D),W},XD=function(S,b,O){return YD(S,b,0,O)},HE=function(S,b){for(var O=S.memoizedState;O!==null&&b>0;)O=O.next,b--;return O};OD=function(S,b,O,D){var N=HE(S,b);if(N!==null){var W=XD(N.memoizedState,O,D);N.memoizedState=W,N.baseState=W,S.memoizedProps=je({},S.memoizedProps);var J=jn(S,Ge);J!==null&&Gr(J,S,Ge,Vi)}},LD=function(S,b,O){var D=HE(S,b);if(D!==null){var N=VD(D.memoizedState,O);D.memoizedState=N,D.baseState=N,S.memoizedProps=je({},S.memoizedProps);var W=jn(S,Ge);W!==null&&Gr(W,S,Ge,Vi)}},DD=function(S,b,O,D){var N=HE(S,b);if(N!==null){var W=WD(N.memoizedState,O,D);N.memoizedState=W,N.baseState=W,S.memoizedProps=je({},S.memoizedProps);var J=jn(S,Ge);J!==null&&Gr(J,S,Ge,Vi)}},FD=function(S,b,O){S.pendingProps=XD(S.memoizedProps,b,O),S.alternate&&(S.alternate.pendingProps=S.pendingProps);var D=jn(S,Ge);D!==null&&Gr(D,S,Ge,Vi)},ID=function(S,b){S.pendingProps=VD(S.memoizedProps,b),S.alternate&&(S.alternate.pendingProps=S.pendingProps);var O=jn(S,Ge);O!==null&&Gr(O,S,Ge,Vi)},BD=function(S,b,O){S.pendingProps=WD(S.memoizedProps,b,O),S.alternate&&(S.alternate.pendingProps=S.pendingProps);var D=jn(S,Ge);D!==null&&Gr(D,S,Ge,Vi)},GD=function(S){var b=jn(S,Ge);b!==null&&Gr(b,S,Ge,Vi)},kD=function(S){RD=S},ND=function(S){AD=S}}function _H(S){var b=TA(S);return b===null?null:b.stateNode}function t$(S){return null}function e$(){return zt}function i$(S){var b=S.findFiberByHostInstance,O=i.ReactCurrentDispatcher;return T7({bundleType:S.bundleType,version:S.version,rendererPackageName:S.rendererPackageName,rendererConfig:S.rendererConfig,overrideHookState:OD,overrideHookStateDeletePath:LD,overrideHookStateRenamePath:DD,overrideProps:FD,overridePropsDeletePath:ID,overridePropsRenamePath:BD,setErrorHandler:kD,setSuspenseHandler:ND,scheduleUpdate:GD,currentDispatcherRef:O,findHostInstanceByFiber:_H,findFiberByHostInstance:b||t$,findHostInstancesForRefresh:DH,scheduleRefresh:OH,scheduleRoot:LH,setRefreshHandler:AH,getCurrentFiber:e$,reconcilerVersion:zE})}var HD=typeof reportError=="function"?reportError:function(S){console.error(S)};function $E(S){this._internalRoot=S}E0.prototype.render=$E.prototype.render=function(S){var b=this._internalRoot;if(b===null)throw new Error("Cannot update an unmounted root.");{typeof arguments[1]=="function"?n("render(...): does not support the second callback argument. To execute a side effect after rendering, declare it in a component body with useEffect()."):b0(arguments[1])?n("You passed a container to the second argument of root.render(...). You don't need to pass it again since you already passed it to create the root."):typeof arguments[1]<"u"&&n("You passed a second argument to root.render(...) but it only accepts one argument.");var O=b.containerInfo;if(O.nodeType!==yr){var D=MD(b.current);D&&D.parentNode!==O&&n("render(...): It looks like the React-rendered content of the root container was removed without using React. This is not supported and will cause errors. Instead, call root.unmount() to empty a root's container.")}}Bv(S,b,null,null)},E0.prototype.unmount=$E.prototype.unmount=function(){typeof arguments[0]=="function"&&n("unmount(...): does not support a callback argument. To execute a side effect after rendering, declare it in a component body with useEffect().");var S=this._internalRoot;if(S!==null){this._internalRoot=null;var b=S.containerInfo;rD()&&n("Attempted to synchronously unmount a root while React was already rendering. React cannot finish unmounting the root until the current render has completed, which may lead to a race condition."),qo(function(){Bv(null,S,null,null)}),HO(b)}};function r$(S,b){if(!b0(S))throw new Error("createRoot(...): Target container is not a DOM element.");$D(S);var O=!1,D=!1,N="",W=HD;b!=null&&(b.hydrate?E("hydrate through createRoot is deprecated. Use ReactDOMClient.hydrateRoot(container, <App />) instead."):typeof b=="object"&&b!==null&&b.$$typeof===Hn&&n(`You passed a JSX element to createRoot. You probably meant to call root.render instead. Example usage:

  let root = createRoot(domContainer);
  root.render(<App />);`),b.unstable_strictMode===!0&&(O=!0),b.identifierPrefix!==void 0&&(N=b.identifierPrefix),b.onRecoverableError!==void 0&&(W=b.onRecoverableError),b.transitionCallbacks!==void 0&&b.transitionCallbacks);var J=bD(S,ym,null,O,D,N,W);fm(J.current,S);var q=S.nodeType===yr?S.parentNode:S;return zc(q),new $E(J)}function E0(S){this._internalRoot=S}function n$(S){S&&xU(S)}E0.prototype.unstable_scheduleHydration=n$;function s$(S,b,O){if(!b0(S))throw new Error("hydrateRoot(...): Target container is not a DOM element.");$D(S),b===void 0&&n("Must provide initial children as second argument to hydrateRoot. Example usage: hydrateRoot(domContainer, <App />)");var D=O??null,N=O!=null&&O.hydratedSources||null,W=!1,J=!1,q="",et=HD;O!=null&&(O.unstable_strictMode===!0&&(W=!0),O.identifierPrefix!==void 0&&(q=O.identifierPrefix),O.onRecoverableError!==void 0&&(et=O.onRecoverableError));var nt=PD(b,null,S,ym,D,W,J,q,et);if(fm(nt.current,S),zc(S),N)for(var at=0;at<N.length;at++){var pt=N[at];hY(nt,pt)}return new E0(nt)}function b0(S){return!!(S&&(S.nodeType===Jn||S.nodeType===Go||S.nodeType===qT))}function Gv(S){return!!(S&&(S.nodeType===Jn||S.nodeType===Go||S.nodeType===qT||S.nodeType===yr&&S.nodeValue===" react-mount-point-unstable "))}function $D(S){S.nodeType===Jn&&S.tagName&&S.tagName.toUpperCase()==="BODY"&&n("createRoot(): Creating roots directly with document.body is discouraged, since its children are often manipulated by third-party scripts and browser extensions. This may lead to subtle reconciliation issues. Try using a container element created for your app."),qc(S)&&(S._reactRootContainer?n("You are calling ReactDOMClient.createRoot() on a container that was previously passed to ReactDOM.render(). This is not supported."):n("You are calling ReactDOMClient.createRoot() on a container that has already been passed to createRoot() before. Instead, call root.render() on the existing root instead if you want to update it."))}var a$=i.ReactCurrentOwner,KD;KD=function(S){if(S._reactRootContainer&&S.nodeType!==yr){var b=MD(S._reactRootContainer.current);b&&b.parentNode!==S&&n("render(...): It looks like the React-rendered content of this container was removed without using React. This is not supported and will cause errors. Instead, call ReactDOM.unmountComponentAtNode to empty a container.")}var O=!!S._reactRootContainer,D=KE(S),N=!!(D&&Bl(D));N&&!O&&n("render(...): Replacing React-rendered children with a new root component. If you intended to update the children of this node, you should instead have the existing children update their state and render the new components instead of calling ReactDOM.render."),S.nodeType===Jn&&S.tagName&&S.tagName.toUpperCase()==="BODY"&&n("render(): Rendering components directly into document.body is discouraged, since its children are often manipulated by third-party scripts and browser extensions. This may lead to subtle reconciliation issues. Try rendering into a container element created for your app.")};function KE(S){return S?S.nodeType===Go?S.documentElement:S.firstChild:null}function JD(){}function o$(S,b,O,D,N){if(N){if(typeof D=="function"){var W=D;D=function(){var vt=S0(J);W.call(vt)}}var J=PD(b,D,S,kl,null,!1,!1,"",JD);S._reactRootContainer=J,fm(J.current,S);var q=S.nodeType===yr?S.parentNode:S;return zc(q),qo(),J}else{for(var et;et=S.lastChild;)S.removeChild(et);if(typeof D=="function"){var nt=D;D=function(){var vt=S0(at);nt.call(vt)}}var at=bD(S,kl,null,!1,!1,"",JD);S._reactRootContainer=at,fm(at.current,S);var pt=S.nodeType===yr?S.parentNode:S;return zc(pt),qo(function(){Bv(b,at,O,D)}),at}}function l$(S,b){S!==null&&typeof S!="function"&&n("%s(...): Expected the last optional `callback` argument to be a function. Instead received: %s.",b,S)}function P0(S,b,O,D,N){KD(O),l$(N===void 0?null:N,"render");var W=O._reactRootContainer,J;if(!W)J=o$(O,b,S,N,D);else{if(J=W,typeof N=="function"){var q=N;N=function(){var et=S0(J);q.call(et)}}Bv(b,J,S,N)}return S0(J)}var ZD=!1;function h$(S){{ZD||(ZD=!0,n("findDOMNode is deprecated and will be removed in the next major release. Instead, add a ref directly to the element you want to reference. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-find-node"));var b=a$.current;if(b!==null&&b.stateNode!==null){var O=b.stateNode._warnedAboutRefsInRender;O||n("%s is accessing findDOMNode inside its render(). render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",fe(b.type)||"A component"),b.stateNode._warnedAboutRefsInRender=!0}}return S==null?null:S.nodeType===Jn?S:KH(S,"findDOMNode")}function u$(S,b,O){if(n("ReactDOM.hydrate is no longer supported in React 18. Use hydrateRoot instead. Until you switch to the new API, your app will behave as if it's running React 17. Learn more: https://reactjs.org/link/switch-to-createroot"),!Gv(b))throw new Error("Target container is not a DOM element.");{var D=qc(b)&&b._reactRootContainer===void 0;D&&n("You are calling ReactDOM.hydrate() on a container that was previously passed to ReactDOMClient.createRoot(). This is not supported. Did you mean to call hydrateRoot(container, element)?")}return P0(null,S,b,!0,O)}function f$(S,b,O){if(n("ReactDOM.render is no longer supported in React 18. Use createRoot instead. Until you switch to the new API, your app will behave as if it's running React 17. Learn more: https://reactjs.org/link/switch-to-createroot"),!Gv(b))throw new Error("Target container is not a DOM element.");{var D=qc(b)&&b._reactRootContainer===void 0;D&&n("You are calling ReactDOM.render() on a container that was previously passed to ReactDOMClient.createRoot(). This is not supported. Did you mean to call root.render(element)?")}return P0(null,S,b,!1,O)}function d$(S,b,O,D){if(n("ReactDOM.unstable_renderSubtreeIntoContainer() is no longer supported in React 18. Consider using a portal instead. Until you switch to the createRoot API, your app will behave as if it's running React 17. Learn more: https://reactjs.org/link/switch-to-createroot"),!Gv(O))throw new Error("Target container is not a DOM element.");if(S==null||!a7(S))throw new Error("parentComponent must be a valid React Component");return P0(S,b,O,!1,D)}var jD=!1;function c$(S){if(jD||(jD=!0,n("unmountComponentAtNode is deprecated and will be removed in the next major release. Switch to the createRoot API. Learn more: https://reactjs.org/link/switch-to-createroot")),!Gv(S))throw new Error("unmountComponentAtNode(...): Target container is not a DOM element.");{var b=qc(S)&&S._reactRootContainer===void 0;b&&n("You are calling ReactDOM.unmountComponentAtNode() on a container that was previously passed to ReactDOMClient.createRoot(). This is not supported. Did you mean to call root.unmount()?")}if(S._reactRootContainer){{var O=KE(S),D=O&&!Bl(O);D&&n("unmountComponentAtNode(): The node you're attempting to unmount was rendered by another copy of React.")}return qo(function(){P0(null,null,S,!1,function(){S._reactRootContainer=null,HO(S)})}),!0}else{{var N=KE(S),W=!!(N&&Bl(N)),J=S.nodeType===Jn&&Gv(S.parentNode)&&!!S.parentNode._reactRootContainer;W&&n("unmountComponentAtNode(): The node you're attempting to unmount was rendered by React and is not a top-level container. %s",J?"You may have accidentally passed in a React root node instead of its container.":"Instead, have the parent component update its state and rerender in order to remove this component.")}return!1}}hU(JH),fU(ZH),dU(jH),cU(ca),vU(aU),(typeof Map!="function"||Map.prototype==null||typeof Map.prototype.forEach!="function"||typeof Set!="function"||Set.prototype==null||typeof Set.prototype.clear!="function"||typeof Set.prototype.forEach!="function")&&n("React depends on Map and Set built-in types. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),Z6(pz),q6(bE,sH,qo);function v$(S,b){var O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!b0(b))throw new Error("Target container is not a DOM element.");return $H(S,b,null,O)}function p$(S,b,O,D){return d$(S,b,O,D)}var JE={usingClientEntryPoint:!1,Events:[Bl,Lf,dm,oA,lA,bE]};function g$(S,b){return JE.usingClientEntryPoint||n('You are importing createRoot from "react-dom" which is not supported. You should instead import it from "react-dom/client".'),r$(S,b)}function m$(S,b,O){return JE.usingClientEntryPoint||n('You are importing hydrateRoot from "react-dom" which is not supported. You should instead import it from "react-dom/client".'),s$(S,b,O)}function y$(S){return rD()&&n("flushSync was called from inside a lifecycle method. React cannot flush when React is already rendering. Consider moving this call to a scheduler task or micro task."),qo(S)}var x$=i$({findFiberByHostInstance:qh,bundleType:1,version:zE,rendererPackageName:"react-dom"});if(!x$&&rt&&window.top===window.self&&(navigator.userAgent.indexOf("Chrome")>-1&&navigator.userAgent.indexOf("Edge")===-1||navigator.userAgent.indexOf("Firefox")>-1)){var QD=window.location.protocol;/^(https?|file):$/.test(QD)&&console.info("%cDownload the React DevTools for a better development experience: https://reactjs.org/link/react-devtools"+(QD==="file:"?`
You might need to use a local HTTP server (instead of file://): https://reactjs.org/link/react-devtools-faq`:""),"font-weight:bold")}ts.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=JE,ts.createPortal=v$,ts.createRoot=g$,ts.findDOMNode=h$,ts.flushSync=y$,ts.hydrate=u$,ts.hydrateRoot=m$,ts.render=f$,ts.unmountComponentAtNode=c$,ts.unstable_batchedUpdates=bE,ts.unstable_renderSubtreeIntoContainer=p$,ts.version=zE,typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error)})(),ts}var aF;function I$(){return aF||(aF=1,QE.exports=F$()),QE.exports}var oF;function B$(){if(oF)return M0;oF=1;var e=I$();{var t=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;M0.createRoot=function(i,s){t.usingClientEntryPoint=!0;try{return e.createRoot(i,s)}finally{t.usingClientEntryPoint=!1}},M0.hydrateRoot=function(i,s,g){t.usingClientEntryPoint=!0;try{return e.hydrateRoot(i,s,g)}finally{t.usingClientEntryPoint=!1}}}return M0}var G$=B$();const k$=Up(G$);var Zy={exports:{}},N$=Zy.exports,lF;function U$(){return lF||(lF=1,(function(e,t){(function(s,g){e.exports=g()})(N$,()=>(()=>{var i={50792:(n=>{var T=Object.prototype.hasOwnProperty,r="~";function o(){}Object.create&&(o.prototype=Object.create(null),new o().__proto__||(r=!1));function y(a,f,c){this.fn=a,this.context=f,this.once=c||!1}function d(a,f,c,u,v){if(typeof c!="function")throw new TypeError("The listener must be a function");var p=new y(c,u||a,v),m=r?r+f:f;return a._events[m]?a._events[m].fn?a._events[m]=[a._events[m],p]:a._events[m].push(p):(a._events[m]=p,a._eventsCount++),a}function h(a,f){--a._eventsCount===0?a._events=new o:delete a._events[f]}function l(){this._events=new o,this._eventsCount=0}l.prototype.eventNames=function(){var f=[],c,u;if(this._eventsCount===0)return f;for(u in c=this._events)T.call(c,u)&&f.push(r?u.slice(1):u);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(c)):f},l.prototype.listeners=function(f){var c=r?r+f:f,u=this._events[c];if(!u)return[];if(u.fn)return[u.fn];for(var v=0,p=u.length,m=new Array(p);v<p;v++)m[v]=u[v].fn;return m},l.prototype.listenerCount=function(f){var c=r?r+f:f,u=this._events[c];return u?u.fn?1:u.length:0},l.prototype.emit=function(f,c,u,v,p,m){var x=r?r+f:f;if(!this._events[x])return!1;var C=this._events[x],P=arguments.length,w,M;if(C.fn){switch(C.once&&this.removeListener(f,C.fn,void 0,!0),P){case 1:return C.fn.call(C.context),!0;case 2:return C.fn.call(C.context,c),!0;case 3:return C.fn.call(C.context,c,u),!0;case 4:return C.fn.call(C.context,c,u,v),!0;case 5:return C.fn.call(C.context,c,u,v,p),!0;case 6:return C.fn.call(C.context,c,u,v,p,m),!0}for(M=1,w=new Array(P-1);M<P;M++)w[M-1]=arguments[M];C.fn.apply(C.context,w)}else{var R=C.length,A;for(M=0;M<R;M++)switch(C[M].once&&this.removeListener(f,C[M].fn,void 0,!0),P){case 1:C[M].fn.call(C[M].context);break;case 2:C[M].fn.call(C[M].context,c);break;case 3:C[M].fn.call(C[M].context,c,u);break;case 4:C[M].fn.call(C[M].context,c,u,v);break;default:if(!w)for(A=1,w=new Array(P-1);A<P;A++)w[A-1]=arguments[A];C[M].fn.apply(C[M].context,w)}}return!0},l.prototype.on=function(f,c,u){return d(this,f,c,u,!1)},l.prototype.once=function(f,c,u){return d(this,f,c,u,!0)},l.prototype.removeListener=function(f,c,u,v){var p=r?r+f:f;if(!this._events[p])return this;if(!c)return h(this,p),this;var m=this._events[p];if(m.fn)m.fn===c&&(!v||m.once)&&(!u||m.context===u)&&h(this,p);else{for(var x=0,C=[],P=m.length;x<P;x++)(m[x].fn!==c||v&&!m[x].once||u&&m[x].context!==u)&&C.push(m[x]);C.length?this._events[p]=C.length===1?C[0]:C:h(this,p)}return this},l.prototype.removeAllListeners=function(f){var c;return f?(c=r?r+f:f,this._events[c]&&h(this,c)):(this._events=new o,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,n.exports=l}),11517:((n,T,r)=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(38829),y=function(d,h,l,a){for(var f=d[0],c=1;c<d.length;c++){var u=d[c];o(u,f,h,l,a),f=u}return d};n.exports=y}),80318:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(66979),y=function(d,h,l,a,f){return o(d,"angle",h,l,a,f)};n.exports=y}),60757:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y){for(var d=0;d<r.length;d++){var h=r[d];o.call(y,h)}return r};n.exports=T}),69927:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y){y===void 0&&(y=0);for(var d=y;d<r.length;d++){var h=r[d],l=!0;for(var a in o)h[a]!==o[a]&&(l=!1);if(l)return h}return null};n.exports=T}),32265:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y){y===void 0&&(y=0);for(var d=r.length-1;d>=y;d--){var h=r[d],l=!0;for(var a in o)h[a]!==o[a]&&(l=!1);if(l)return h}return null};n.exports=T}),94420:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(11879),y=r(60461),d=r(95540),h=r(29747),l=r(41481),a=new l({sys:{queueDepthSort:h,events:{once:h}}},0,0,1,1).setOrigin(0,0),f=function(c,u){u===void 0&&(u={});var v=u.hasOwnProperty("width"),p=u.hasOwnProperty("height"),m=d(u,"width",-1),x=d(u,"height",-1),C=d(u,"cellWidth",1),P=d(u,"cellHeight",C),w=d(u,"position",y.TOP_LEFT),M=d(u,"x",0),R=d(u,"y",0),A=0,L=0,F=m*C,G=x*P;a.setPosition(M,R),a.setSize(C,P);for(var I=0;I<c.length;I++)if(o(c[I],a,w),v&&m===-1)a.x+=C;else if(p&&x===-1)a.y+=P;else if(p&&!v){if(L+=P,a.y+=P,L===G&&(L=0,A+=C,a.y=R,a.x+=C,A===F))break}else if(A+=C,a.x+=C,A===F&&(A=0,L+=P,a.x=M,a.y+=P,L===G))break;return c};n.exports=f}),41721:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(66979),y=function(d,h,l,a,f){return o(d,"alpha",h,l,a,f)};n.exports=y}),67285:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(66979),y=function(d,h,l,a,f){return o(d,"x",h,l,a,f)};n.exports=y}),9074:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(66979),y=function(d,h,l,a,f,c,u){return l==null&&(l=h),o(d,"x",h,a,c,u),o(d,"y",l,f,c,u)};n.exports=y}),75222:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(66979),y=function(d,h,l,a,f){return o(d,"y",h,l,a,f)};n.exports=y}),22983:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y,d){y===void 0&&(y=0),d===void 0&&(d=6.28);for(var h=y,l=(d-y)/r.length,a=o.x,f=o.y,c=o.radius,u=0;u<r.length;u++)r[u].x=a+c*Math.cos(h),r[u].y=f+c*Math.sin(h),h+=l;return r};n.exports=T}),95253:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y,d){y===void 0&&(y=0),d===void 0&&(d=6.28);for(var h=y,l=(d-y)/r.length,a=o.width/2,f=o.height/2,c=0;c<r.length;c++)r[c].x=o.x+a*Math.cos(h),r[c].y=o.y+f*Math.sin(h),h+=l;return r};n.exports=T}),88505:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(15258),y=r(26708),d=function(h,l,a){var f;a?f=y(l,a,h.length):f=o(l,h.length);for(var c=0;c<h.length;c++){var u=h[c],v=f[c];u.x=v.x,u.y=v.y}return h};n.exports=d}),41346:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(14649),y=r(86003),d=r(49498),h=function(l,a,f){f===void 0&&(f=0);var c=o(a,!1,l.length);f>0?y(c,f):f<0&&d(c,Math.abs(f));for(var u=0;u<l.length;u++)l[u].x=c[u].x,l[u].y=c[u].y;return l};n.exports=h}),11575:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(84993),y=function(d,h,l){var a=o({x1:h.x1,y1:h.y1,x2:h.x2,y2:h.y2},l),f=o({x1:h.x2,y1:h.y2,x2:h.x3,y2:h.y3},l),c=o({x1:h.x3,y1:h.y3,x2:h.x1,y2:h.y1},l);a.pop(),f.pop(),c.pop(),a=a.concat(f,c);for(var u=a.length/d.length,v=0,p=0;p<d.length;p++){var m=d[p],x=a[Math.floor(v)];m.x=x.x,m.y=x.y,v+=u}return d};n.exports=y}),29953:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y){for(var d=0;d<r.length;d++){var h=r[d];h.anims&&h.anims.play(o,y)}return r};n.exports=T}),66979:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y,d,h,l){d===void 0&&(d=0),h===void 0&&(h=0),l===void 0&&(l=1);var a,f=0,c=r.length;if(l===1)for(a=h;a<c;a++)r[a][o]+=y+f*d,f++;else for(a=h;a>=0;a--)r[a][o]+=y+f*d,f++;return r};n.exports=T}),43967:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y,d,h,l){d===void 0&&(d=0),h===void 0&&(h=0),l===void 0&&(l=1);var a,f=0,c=r.length;if(l===1)for(a=h;a<c;a++)r[a][o]=y+f*d,f++;else for(a=h;a>=0;a--)r[a][o]=y+f*d,f++;return r};n.exports=T}),88926:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(28176),y=function(d,h){for(var l=0;l<d.length;l++)o(h,d[l]);return d};n.exports=y}),33286:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(24820),y=function(d,h){for(var l=0;l<d.length;l++)o(h,d[l]);return d};n.exports=y}),96e3:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(65822),y=function(d,h){for(var l=0;l<d.length;l++)o(h,d[l]);return d};n.exports=y}),28789:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(26597),y=function(d,h){for(var l=0;l<d.length;l++)o(h,d[l]);return d};n.exports=y}),97154:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(90260),y=function(d,h){for(var l=0;l<d.length;l++)o(h,d[l]);return d};n.exports=y}),20510:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(66979),y=function(d,h,l,a,f){return o(d,"rotation",h,l,a,f)};n.exports=y}),91051:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(1163),y=r(20339),d=function(h,l,a){for(var f=l.x,c=l.y,u=0;u<h.length;u++){var v=h[u];o(v,f,c,a,Math.max(1,y(v.x,v.y,f,c)))}return h};n.exports=d}),76332:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(1163),y=function(d,h,l,a){var f=h.x,c=h.y;if(a===0)return d;for(var u=0;u<d.length;u++)o(d[u],f,c,l,a);return d};n.exports=y}),61619:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(66979),y=function(d,h,l,a,f){return o(d,"scaleX",h,l,a,f)};n.exports=y}),94868:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(66979),y=function(d,h,l,a,f,c,u){return l==null&&(l=h),o(d,"scaleX",h,a,c,u),o(d,"scaleY",l,f,c,u)};n.exports=y}),95532:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(66979),y=function(d,h,l,a,f){return o(d,"scaleY",h,l,a,f)};n.exports=y}),8689:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(43967),y=function(d,h,l,a,f){return o(d,"alpha",h,l,a,f)};n.exports=y}),2645:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(43967),y=function(d,h,l,a){return o(d,"blendMode",h,0,l,a)};n.exports=y}),32372:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(43967),y=function(d,h,l,a,f){return o(d,"depth",h,l,a,f)};n.exports=y}),85373:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y){for(var d=0;d<r.length;d++)r[d].setInteractive(o,y);return r};n.exports=T}),81583:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(43967),y=function(d,h,l,a,f,c,u){return l==null&&(l=h),o(d,"originX",h,a,c,u),o(d,"originY",l,f,c,u),d.forEach(function(v){v.updateDisplayOrigin()}),d};n.exports=y}),79939:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(43967),y=function(d,h,l,a,f){return o(d,"rotation",h,l,a,f)};n.exports=y}),2699:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(43967),y=function(d,h,l,a,f,c,u){return l==null&&(l=h),o(d,"scaleX",h,a,c,u),o(d,"scaleY",l,f,c,u)};n.exports=y}),98739:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(43967),y=function(d,h,l,a,f){return o(d,"scaleX",h,l,a,f)};n.exports=y}),98476:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(43967),y=function(d,h,l,a,f){return o(d,"scaleY",h,l,a,f)};n.exports=y}),6207:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(43967),y=function(d,h,l,a,f,c,u){return l==null&&(l=h),o(d,"scrollFactorX",h,a,c,u),o(d,"scrollFactorY",l,f,c,u)};n.exports=y}),6607:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(43967),y=function(d,h,l,a,f){return o(d,"scrollFactorX",h,l,a,f)};n.exports=y}),72248:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(43967),y=function(d,h,l,a,f){return o(d,"scrollFactorY",h,l,a,f)};n.exports=y}),14036:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y,d,h){for(var l=0;l<r.length;l++)r[l].setTint(o,y,d,h);return r};n.exports=T}),50159:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(43967),y=function(d,h,l,a){return o(d,"visible",h,0,l,a)};n.exports=y}),77597:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(43967),y=function(d,h,l,a,f){return o(d,"x",h,l,a,f)};n.exports=y}),83194:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(43967),y=function(d,h,l,a,f,c,u){return l==null&&(l=h),o(d,"x",h,a,c,u),o(d,"y",l,f,c,u)};n.exports=y}),67678:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(43967),y=function(d,h,l,a,f){return o(d,"y",h,l,a,f)};n.exports=y}),35850:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(26099),y=function(d,h,l,a,f){a===void 0&&(a=0),f===void 0&&(f=new o);var c,u,v=d.length;if(v===1)c=d[0].x,u=d[0].y,d[0].x=h,d[0].y=l;else{var p=1,m=0;a===0&&(m=v-1,p=v-2),c=d[m].x,u=d[m].y,d[m].x=h,d[m].y=l;for(var x=0;x<v;x++)if(!(p>=v||p===-1)){var C=d[p],P=C.x,w=C.y;C.x=c,C.y=u,c=P,u=w,a===0?p--:p++}}return f.x=c,f.y=u,f};n.exports=y}),8628:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(33680),y=function(d){return o(d)};n.exports=y}),21837:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(7602),y=function(d,h,l,a,f){f===void 0&&(f=!1);var c=Math.abs(a-l)/d.length,u;if(f)for(u=0;u<d.length;u++)d[u][h]+=o(u*c,l,a);else for(u=0;u<d.length;u++)d[u][h]=o(u*c,l,a);return d};n.exports=y}),21910:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(54261),y=function(d,h,l,a,f){f===void 0&&(f=!1);var c=Math.abs(a-l)/d.length,u;if(f)for(u=0;u<d.length;u++)d[u][h]+=o(u*c,l,a);else for(u=0;u<d.length;u++)d[u][h]=o(u*c,l,a);return d};n.exports=y}),62054:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y,d,h){if(h===void 0&&(h=!1),r.length===0)return r;if(r.length===1)return h?r[0][o]+=(d+y)/2:r[0][o]=(d+y)/2,r;var l=Math.abs(d-y)/(r.length-1),a;if(h)for(a=0;a<r.length;a++)r[a][o]+=a*l+y;else for(a=0;a<r.length;a++)r[a][o]=a*l+y;return r};n.exports=T}),79815:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){for(var o=0;o<r.length;o++)r[o].visible=!r[o].visible;return r};n.exports=T}),39665:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       samme <samme.npm@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(15994),y=function(d,h,l){l===void 0&&(l=0);for(var a=0;a<d.length;a++){var f=d[a];f.x=o(f.x,h.left-l,h.right+l),f.y=o(f.y,h.top-l,h.bottom+l)}return d};n.exports=y}),61061:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={AlignTo:r(11517),Angle:r(80318),Call:r(60757),GetFirst:r(69927),GetLast:r(32265),GridAlign:r(94420),IncAlpha:r(41721),IncX:r(67285),IncXY:r(9074),IncY:r(75222),PlaceOnCircle:r(22983),PlaceOnEllipse:r(95253),PlaceOnLine:r(88505),PlaceOnRectangle:r(41346),PlaceOnTriangle:r(11575),PlayAnimation:r(29953),PropertyValueInc:r(66979),PropertyValueSet:r(43967),RandomCircle:r(88926),RandomEllipse:r(33286),RandomLine:r(96e3),RandomRectangle:r(28789),RandomTriangle:r(97154),Rotate:r(20510),RotateAround:r(91051),RotateAroundDistance:r(76332),ScaleX:r(61619),ScaleXY:r(94868),ScaleY:r(95532),SetAlpha:r(8689),SetBlendMode:r(2645),SetDepth:r(32372),SetHitArea:r(85373),SetOrigin:r(81583),SetRotation:r(79939),SetScale:r(2699),SetScaleX:r(98739),SetScaleY:r(98476),SetScrollFactor:r(6207),SetScrollFactorX:r(6607),SetScrollFactorY:r(72248),SetTint:r(14036),SetVisible:r(50159),SetX:r(77597),SetXY:r(83194),SetY:r(67678),ShiftPosition:r(35850),Shuffle:r(8628),SmootherStep:r(21910),SmoothStep:r(21837),Spread:r(62054),ToggleVisible:r(79815),WrapInRectangle:r(39665)}}),42099:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(45319),y=r(83419),d=r(74943),h=r(81957),l=r(41138),a=r(35154),f=r(90126),c=new y({initialize:function(v,p,m){this.manager=v,this.key=p,this.type="frame",this.frames=this.getFrames(v.textureManager,a(m,"frames",[]),a(m,"defaultTextureKey",null),a(m,"sortFrames",!0)),this.frameRate=a(m,"frameRate",null),this.duration=a(m,"duration",null),this.msPerFrame,this.skipMissedFrames=a(m,"skipMissedFrames",!0),this.delay=a(m,"delay",0),this.repeat=a(m,"repeat",0),this.repeatDelay=a(m,"repeatDelay",0),this.yoyo=a(m,"yoyo",!1),this.showBeforeDelay=a(m,"showBeforeDelay",!1),this.showOnStart=a(m,"showOnStart",!1),this.hideOnComplete=a(m,"hideOnComplete",!1),this.randomFrame=a(m,"randomFrame",!1),this.paused=!1,this.calculateDuration(this,this.getTotalFrames(),this.duration,this.frameRate),this.manager.on&&(this.manager.on(d.PAUSE_ALL,this.pause,this),this.manager.on(d.RESUME_ALL,this.resume,this))},getTotalFrames:function(){return this.frames.length},calculateDuration:function(u,v,p,m){p===null&&m===null?(u.frameRate=24,u.duration=24/v*1e3):p&&m===null?(u.duration=p,u.frameRate=v/(p/1e3)):(u.frameRate=m,u.duration=v/m*1e3),u.msPerFrame=1e3/u.frameRate},addFrame:function(u){return this.addFrameAt(this.frames.length,u)},addFrameAt:function(u,v){var p=this.getFrames(this.manager.textureManager,v);if(p.length>0){if(u===0)this.frames=p.concat(this.frames);else if(u===this.frames.length)this.frames=this.frames.concat(p);else{var m=this.frames.slice(0,u),x=this.frames.slice(u);this.frames=m.concat(p,x)}this.updateFrameSequence()}return this},checkFrame:function(u){return u>=0&&u<this.frames.length},getFirstTick:function(u){u.accumulator=0,u.nextTick=u.msPerFrame||u.currentFrame.duration},getFrameAt:function(u){return this.frames[u]},getFrames:function(u,v,p,m){m===void 0&&(m=!0);var x=[],C,P,w=1,M,R;if(typeof v=="string"){if(R=v,!u.exists(R))return console.warn('Texture "%s" not found',R),x;var A=u.get(R),L=A.getFrameNames();m&&f(L),v=[],L.forEach(function(U){v.push({key:R,frame:U})})}if(!Array.isArray(v)||v.length===0)return x;for(M=0;M<v.length;M++){var F=v[M],G=a(F,"key",p);if(G){var I=a(F,"frame",0),B=u.getFrame(G,I);if(!B){console.warn('Texture "%s" not found',G);continue}P=new l(G,I,w,B),P.duration=a(F,"duration",0),P.isFirst=!C,C&&(C.nextFrame=P,P.prevFrame=C),x.push(P),C=P,w++}}if(x.length>0){P.isLast=!0,P.nextFrame=x[0],x[0].prevFrame=P;var k=1/(x.length-1);for(M=0;M<x.length;M++)x[M].progress=M*k}return x},getNextTick:function(u){u.accumulator-=u.nextTick,u.nextTick=u.msPerFrame||u.currentFrame.duration},getFrameByProgress:function(u){return u=o(u,0,1),h(u,this.frames,"progress")},nextFrame:function(u){var v=u.currentFrame;v.isLast?u.yoyo?this.handleYoyoFrame(u,!1):u.repeatCounter>0?u.inReverse&&u.forward?u.forward=!1:this.repeatAnimation(u):u.complete():this.updateAndGetNextTick(u,v.nextFrame)},handleYoyoFrame:function(u,v){if(v||(v=!1),u.inReverse===!v&&u.repeatCounter>0){(u.repeatDelay===0||u.pendingRepeat)&&(u.forward=v),this.repeatAnimation(u);return}if(u.inReverse!==v&&u.repeatCounter===0){u.complete();return}u.forward=v;var p=v?u.currentFrame.nextFrame:u.currentFrame.prevFrame;this.updateAndGetNextTick(u,p)},getLastFrame:function(){return this.frames[this.frames.length-1]},previousFrame:function(u){var v=u.currentFrame;v.isFirst?u.yoyo?this.handleYoyoFrame(u,!0):u.repeatCounter>0?u.inReverse&&!u.forward?this.repeatAnimation(u):(u.forward=!0,this.repeatAnimation(u)):u.complete():this.updateAndGetNextTick(u,v.prevFrame)},updateAndGetNextTick:function(u,v){u.setCurrentFrame(v),this.getNextTick(u)},removeFrame:function(u){var v=this.frames.indexOf(u);return v!==-1&&this.removeFrameAt(v),this},removeFrameAt:function(u){return this.frames.splice(u,1),this.updateFrameSequence(),this},repeatAnimation:function(u){if(u._pendingStop===2){if(u._pendingStopValue===0)return u.stop();u._pendingStopValue--}u.repeatDelay>0&&!u.pendingRepeat?(u.pendingRepeat=!0,u.accumulator-=u.nextTick,u.nextTick+=u.repeatDelay):(u.repeatCounter--,u.forward?u.setCurrentFrame(u.currentFrame.nextFrame):u.setCurrentFrame(u.currentFrame.prevFrame),u.isPlaying&&(this.getNextTick(u),u.handleRepeat()))},toJSON:function(){var u={key:this.key,type:this.type,frames:[],frameRate:this.frameRate,duration:this.duration,skipMissedFrames:this.skipMissedFrames,delay:this.delay,repeat:this.repeat,repeatDelay:this.repeatDelay,yoyo:this.yoyo,showBeforeDelay:this.showBeforeDelay,showOnStart:this.showOnStart,randomFrame:this.randomFrame,hideOnComplete:this.hideOnComplete};return this.frames.forEach(function(v){u.frames.push(v.toJSON())}),u},updateFrameSequence:function(){for(var u=this.frames.length,v=1/(u-1),p,m=0;m<u;m++)p=this.frames[m],p.index=m+1,p.isFirst=!1,p.isLast=!1,p.progress=m*v,m===0?(p.isFirst=!0,u===1?(p.isLast=!0,p.nextFrame=p,p.prevFrame=p):(p.isLast=!1,p.prevFrame=this.frames[u-1],p.nextFrame=this.frames[m+1])):m===u-1&&u>1?(p.isLast=!0,p.prevFrame=this.frames[u-2],p.nextFrame=this.frames[0]):u>1&&(p.prevFrame=this.frames[m-1],p.nextFrame=this.frames[m+1]);return this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},destroy:function(){this.manager.off&&(this.manager.off(d.PAUSE_ALL,this.pause,this),this.manager.off(d.RESUME_ALL,this.resume,this)),this.manager.remove(this.key);for(var u=0;u<this.frames.length;u++)this.frames[u].destroy();this.frames=[],this.manager=null}});n.exports=c}),41138:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=new o({initialize:function(h,l,a,f,c){c===void 0&&(c=!1),this.textureKey=h,this.textureFrame=l,this.index=a,this.frame=f,this.isFirst=!1,this.isLast=!1,this.prevFrame=null,this.nextFrame=null,this.duration=0,this.progress=0,this.isKeyFrame=c},toJSON:function(){return{key:this.textureKey,frame:this.textureFrame,duration:this.duration,keyframe:this.isKeyFrame}},destroy:function(){this.frame=void 0}});n.exports=y}),60848:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(42099),y=r(83419),d=r(90330),h=r(50792),l=r(74943),a=r(8443),f=r(95540),c=r(35154),u=r(36383),v=r(20283),p=r(41836),m=new y({Extends:h,initialize:function(C){h.call(this),this.game=C,this.textureManager=null,this.globalTimeScale=1,this.anims=new d,this.mixes=new d,this.paused=!1,this.name="AnimationManager",C.events.once(a.BOOT,this.boot,this)},boot:function(){this.textureManager=this.game.textures,this.game.events.once(a.DESTROY,this.destroy,this)},addMix:function(x,C,P){var w=this.anims,M=this.mixes,R=typeof x=="string"?x:x.key,A=typeof C=="string"?C:C.key;if(w.has(R)&&w.has(A)){var L=M.get(R);L||(L={}),L[A]=P,M.set(R,L)}return this},removeMix:function(x,C){var P=this.mixes,w=typeof x=="string"?x:x.key,M=P.get(w);if(M)if(C){var R=typeof C=="string"?C:C.key;M.hasOwnProperty(R)&&delete M[R]}else C||P.delete(w);return this},getMix:function(x,C){var P=this.mixes,w=typeof x=="string"?x:x.key,M=typeof C=="string"?C:C.key,R=P.get(w);return R&&R.hasOwnProperty(M)?R[M]:0},add:function(x,C){return this.anims.has(x)?(console.warn("Animation key exists: "+x),this):(C.key=x,this.anims.set(x,C),this.emit(l.ADD_ANIMATION,x,C),this)},exists:function(x){return this.anims.has(x)},createFromAseprite:function(x,C,P){var w=[],M=this.game.cache.json.get(x);if(!M)return console.warn("No Aseprite data found for: "+x),w;var R=this,A=c(M,"meta",null),L=c(M,"frames",null);if(A&&L){var F=c(A,"frameTags",[]);F.forEach(function(G){var I=[],B=f(G,"name",null),k=f(G,"from",0),U=f(G,"to",0),H=f(G,"direction","forward");if(B&&(!C||C&&C.indexOf(B)>-1)){for(var X=0,j=k;j<=U;j++){var Z=j.toString(),Y=L[Z];if(Y){var $=f(Y,"duration",u.MAX_SAFE_INTEGER);I.push({key:x,frame:Z,duration:$}),X+=$}}H==="reverse"&&(I=I.reverse());var z={key:B,frames:I,duration:X,yoyo:H==="pingpong"},V;P?P.anims&&(V=P.anims.create(z)):V=R.create(z),V&&w.push(V)}})}return w},create:function(x){var C=x.key,P=!1;return C&&(P=this.get(C),P?console.warn("AnimationManager key already exists: "+C):(P=new o(this,C,x),this.anims.set(C,P),this.emit(l.ADD_ANIMATION,C,P))),P},fromJSON:function(x,C){C===void 0&&(C=!1),C&&this.anims.clear(),typeof x=="string"&&(x=JSON.parse(x));var P=[];if(x.hasOwnProperty("anims")&&Array.isArray(x.anims)){for(var w=0;w<x.anims.length;w++)P.push(this.create(x.anims[w]));x.hasOwnProperty("globalTimeScale")&&(this.globalTimeScale=x.globalTimeScale)}else x.hasOwnProperty("key")&&x.type==="frame"&&P.push(this.create(x));return P},generateFrameNames:function(x,C){var P=c(C,"prefix",""),w=c(C,"start",0),M=c(C,"end",0),R=c(C,"suffix",""),A=c(C,"zeroPad",0),L=c(C,"outputArray",[]),F=c(C,"frames",!1);if(!this.textureManager.exists(x))return console.warn('Texture "%s" not found',x),L;var G=this.textureManager.get(x);if(!G)return L;var I;if(C)for(F||(F=v(w,M)),I=0;I<F.length;I++){var B=P+p(F[I],A,"0",1)+R;G.has(B)?L.push({key:x,frame:B}):console.warn('Frame "%s" not found in texture "%s"',B,x)}else for(F=G.getFrameNames(),I=0;I<F.length;I++)L.push({key:x,frame:F[I]});return L},generateFrameNumbers:function(x,C){var P=c(C,"start",0),w=c(C,"end",-1),M=c(C,"first",!1),R=c(C,"outputArray",[]),A=c(C,"frames",!1);if(!this.textureManager.exists(x))return console.warn('Texture "%s" not found',x),R;var L=this.textureManager.get(x);if(!L)return R;M&&L.has(M)&&R.push({key:x,frame:M}),A||(w===-1&&(w=L.frameTotal-2),A=v(P,w));for(var F=0;F<A.length;F++){var G=A[F];L.has(G)?R.push({key:x,frame:G}):console.warn('Frame "%s" not found in texture "%s"',G,x)}return R},get:function(x){return this.anims.get(x)},getAnimsFromTexture:function(x){for(var C=this.textureManager.get(x),P=C.key,w=this.anims.getArray(),M=[],R=0;R<w.length;R++)for(var A=w[R],L=A.frames,F=0;F<L.length;F++)if(L[F].textureKey===P){M.push(A.key);break}return M},pauseAll:function(){return this.paused||(this.paused=!0,this.emit(l.PAUSE_ALL)),this},play:function(x,C){Array.isArray(C)||(C=[C]);for(var P=0;P<C.length;P++)C[P].anims.play(x);return this},staggerPlay:function(x,C,P,w){P===void 0&&(P=0),w===void 0&&(w=!0),Array.isArray(C)||(C=[C]);var M=C.length;w||M--;for(var R=0;R<C.length;R++){var A=P<0?Math.abs(P)*(M-R):P*R;C[R].anims.playAfterDelay(x,A)}return this},remove:function(x){var C=this.get(x);return C&&(this.emit(l.REMOVE_ANIMATION,x,C),this.anims.delete(x),this.removeMix(x)),C},resumeAll:function(){return this.paused&&(this.paused=!1,this.emit(l.RESUME_ALL)),this},toJSON:function(x){var C={anims:[],globalTimeScale:this.globalTimeScale};return x!==void 0&&x!==""?C.anims.push(this.anims.get(x).toJSON()):this.anims.each(function(P,w){C.anims.push(w.toJSON())}),C},destroy:function(){this.anims.clear(),this.mixes.clear(),this.textureManager=null,this.game=null}});n.exports=m}),9674:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(42099),y=r(30976),d=r(83419),h=r(90330),l=r(74943),a=r(95540),f=new d({initialize:function(u){this.parent=u,this.animationManager=u.scene.sys.anims,this.animationManager.on(l.REMOVE_ANIMATION,this.globalRemove,this),this.textureManager=this.animationManager.textureManager,this.anims=null,this.isPlaying=!1,this.hasStarted=!1,this.currentAnim=null,this.currentFrame=null,this.nextAnim=null,this.nextAnimsQueue=[],this.timeScale=1,this.frameRate=0,this.duration=0,this.msPerFrame=0,this.skipMissedFrames=!0,this.randomFrame=!1,this.delay=0,this.repeat=0,this.repeatDelay=0,this.yoyo=!1,this.showBeforeDelay=!1,this.showOnStart=!1,this.hideOnComplete=!1,this.forward=!0,this.inReverse=!1,this.accumulator=0,this.nextTick=0,this.delayCounter=0,this.repeatCounter=0,this.pendingRepeat=!1,this._paused=!1,this._wasPlaying=!1,this._pendingStop=0,this._pendingStopValue},chain:function(c){var u=this.parent;if(c===void 0)return this.nextAnimsQueue.length=0,this.nextAnim=null,u;Array.isArray(c)||(c=[c]);for(var v=0;v<c.length;v++){var p=c[v];this.nextAnim?this.nextAnimsQueue.push(p):this.nextAnim=p}return this.parent},getName:function(){return this.currentAnim?this.currentAnim.key:""},getFrameName:function(){return this.currentFrame?this.currentFrame.textureFrame:""},load:function(c){this.isPlaying&&this.stop();var u=this.animationManager,v=typeof c=="string"?c:a(c,"key",null),p=this.exists(v)?this.get(v):u.get(v);if(!p)console.warn("Missing animation: "+v);else{this.currentAnim=p;var m=p.getTotalFrames(),x=a(c,"frameRate",p.frameRate),C=a(c,"duration",p.duration);p.calculateDuration(this,m,C,x),this.delay=a(c,"delay",p.delay),this.repeat=a(c,"repeat",p.repeat),this.repeatDelay=a(c,"repeatDelay",p.repeatDelay),this.yoyo=a(c,"yoyo",p.yoyo),this.showBeforeDelay=a(c,"showBeforeDelay",p.showBeforeDelay),this.showOnStart=a(c,"showOnStart",p.showOnStart),this.hideOnComplete=a(c,"hideOnComplete",p.hideOnComplete),this.skipMissedFrames=a(c,"skipMissedFrames",p.skipMissedFrames),this.randomFrame=a(c,"randomFrame",p.randomFrame),this.timeScale=a(c,"timeScale",this.timeScale);var P=a(c,"startFrame",0);P>m&&(P=0),this.randomFrame&&(P=y(0,m-1));var w=p.frames[P];P===0&&!this.forward&&(w=p.getLastFrame()),this.currentFrame=w}return this.parent},pause:function(c){return this._paused||(this._paused=!0,this._wasPlaying=this.isPlaying,this.isPlaying=!1),c!==void 0&&this.setCurrentFrame(c),this.parent},resume:function(c){return this._paused&&(this._paused=!1,this.isPlaying=this._wasPlaying),c!==void 0&&this.setCurrentFrame(c),this.parent},playAfterDelay:function(c,u){if(!this.isPlaying)this.delayCounter=u,this.play(c,!0);else{var v=this.nextAnim,p=this.nextAnimsQueue;v&&p.unshift(v),this.nextAnim=c,this._pendingStop=1,this._pendingStopValue=u}return this.parent},playAfterRepeat:function(c,u){if(u===void 0&&(u=1),!this.isPlaying)this.play(c);else{var v=this.nextAnim,p=this.nextAnimsQueue;v&&p.unshift(v),this.repeatCounter!==-1&&u>this.repeatCounter&&(u=this.repeatCounter),this.nextAnim=c,this._pendingStop=2,this._pendingStopValue=u}return this.parent},play:function(c,u){u===void 0&&(u=!1);var v=this.currentAnim,p=this.parent,m=typeof c=="string"?c:c.key;if(u&&this.isPlaying&&v.key===m)return p;if(v&&this.isPlaying){var x=this.animationManager.getMix(v.key,c);if(x>0)return this.playAfterDelay(c,x)}return this.forward=!0,this.inReverse=!1,this._paused=!1,this._wasPlaying=!0,this.startAnimation(c)},playReverse:function(c,u){u===void 0&&(u=!1);var v=typeof c=="string"?c:c.key;return u&&this.isPlaying&&this.currentAnim.key===v?this.parent:(this.forward=!1,this.inReverse=!0,this._paused=!1,this._wasPlaying=!0,this.startAnimation(c))},startAnimation:function(c){this.load(c);var u=this.currentAnim,v=this.parent;return u&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat,u.getFirstTick(this),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!1,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.delayCounter+=this.delay,this.delayCounter===0?this.handleStart():this.showBeforeDelay&&this.setCurrentFrame(this.currentFrame)),v},handleStart:function(){this.showOnStart&&this.parent.setVisible(!0),this.setCurrentFrame(this.currentFrame),this.hasStarted=!0,this.emitEvents(l.ANIMATION_START)},handleRepeat:function(){this.pendingRepeat=!1,this.emitEvents(l.ANIMATION_REPEAT)},handleStop:function(){this._pendingStop=0,this.isPlaying=!1,this.emitEvents(l.ANIMATION_STOP)},handleComplete:function(){this._pendingStop=0,this.isPlaying=!1,this.hideOnComplete&&this.parent.setVisible(!1),this.emitEvents(l.ANIMATION_COMPLETE,l.ANIMATION_COMPLETE_KEY)},emitEvents:function(c,u){var v=this.currentAnim;if(v){var p=this.currentFrame,m=this.parent,x=p.textureFrame;m.emit(c,v,p,m,x),u&&m.emit(u+v.key,v,p,m,x)}},reverse:function(){return this.isPlaying&&(this.inReverse=!this.inReverse,this.forward=!this.forward),this.parent},getProgress:function(){var c=this.currentFrame;if(!c)return 0;var u=c.progress;return this.inReverse&&(u*=-1),u},setProgress:function(c){return this.forward||(c=1-c),this.setCurrentFrame(this.currentAnim.getFrameByProgress(c)),this.parent},setRepeat:function(c){return this.repeatCounter=c===-1?Number.MAX_VALUE:c,this.parent},globalRemove:function(c,u){u===void 0&&(u=this.currentAnim),this.isPlaying&&u.key===this.currentAnim.key&&(this.stop(),this.setCurrentFrame(this.currentAnim.frames[0]))},restart:function(c,u){c===void 0&&(c=!1),u===void 0&&(u=!1);var v=this.currentAnim,p=this.parent;return v?(u&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat),v.getFirstTick(this),this.emitEvents(l.ANIMATION_RESTART),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!c,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.setCurrentFrame(v.frames[0]),this.parent):p},complete:function(){if(this._pendingStop=0,this.isPlaying=!1,this.currentAnim&&this.handleComplete(),this.nextAnim){var c=this.nextAnim;this.nextAnim=this.nextAnimsQueue.length>0?this.nextAnimsQueue.shift():null,this.play(c)}return this.parent},stop:function(){if(this._pendingStop=0,this.isPlaying=!1,this.delayCounter=0,this.currentAnim&&this.handleStop(),this.nextAnim){var c=this.nextAnim;this.nextAnim=this.nextAnimsQueue.shift(),this.play(c)}return this.parent},stopAfterDelay:function(c){return this._pendingStop=1,this._pendingStopValue=c,this.parent},stopAfterRepeat:function(c){return c===void 0&&(c=1),this.repeatCounter!==-1&&c>this.repeatCounter&&(c=this.repeatCounter),this._pendingStop=2,this._pendingStopValue=c,this.parent},stopOnFrame:function(c){return this._pendingStop=3,this._pendingStopValue=c,this.parent},getTotalFrames:function(){return this.currentAnim?this.currentAnim.getTotalFrames():0},update:function(c,u){var v=this.currentAnim;if(!(!this.isPlaying||!v||v.paused)){if(this.accumulator+=u*this.timeScale*this.animationManager.globalTimeScale,this._pendingStop===1&&(this._pendingStopValue-=u,this._pendingStopValue<=0))return this.stop();if(!this.hasStarted)this.accumulator>=this.delayCounter&&(this.accumulator-=this.delayCounter,this.handleStart());else if(this.accumulator>=this.nextTick&&(this.forward?v.nextFrame(this):v.previousFrame(this),this.isPlaying&&this._pendingStop===0&&this.skipMissedFrames&&this.accumulator>this.nextTick)){var p=0;do this.forward?v.nextFrame(this):v.previousFrame(this),p++;while(this.isPlaying&&this.accumulator>this.nextTick&&p<60)}}},setCurrentFrame:function(c){var u=this.parent;return this.currentFrame=c,u.texture=c.frame.texture,u.frame=c.frame,u.isCropped&&u.frame.updateCropUVs(u._crop,u.flipX,u.flipY),c.setAlpha&&(u.alpha=c.alpha),u.setSizeToFrame(),u._originComponent&&(c.frame.customPivot?u.setOrigin(c.frame.pivotX,c.frame.pivotY):u.updateDisplayOrigin()),this.isPlaying&&this.hasStarted&&(this.emitEvents(l.ANIMATION_UPDATE),this._pendingStop===3&&this._pendingStopValue===c&&this.stop()),u},nextFrame:function(){return this.currentAnim&&this.currentAnim.nextFrame(this),this.parent},previousFrame:function(){return this.currentAnim&&this.currentAnim.previousFrame(this),this.parent},get:function(c){return this.anims?this.anims.get(c):null},exists:function(c){return this.anims?this.anims.has(c):!1},create:function(c){var u=c.key,v=!1;return u&&(v=this.get(u),v?console.warn("Animation key already exists: "+u):(v=new o(this,u,c),this.anims||(this.anims=new h),this.anims.set(u,v))),v},createFromAseprite:function(c,u){return this.animationManager.createFromAseprite(c,u,this.parent)},generateFrameNames:function(c,u){return this.animationManager.generateFrameNames(c,u)},generateFrameNumbers:function(c,u){return this.animationManager.generateFrameNumbers(c,u)},remove:function(c){var u=this.get(c);return u&&(this.currentAnim===u&&this.stop(),this.anims.delete(c)),u},destroy:function(){this.animationManager.off(l.REMOVE_ANIMATION,this.globalRemove,this),this.anims&&this.anims.clear(),this.animationManager=null,this.parent=null,this.nextAnim=null,this.nextAnimsQueue.length=0,this.currentAnim=null,this.currentFrame=null},isPaused:{get:function(){return this._paused}}});n.exports=f}),57090:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="add"}),25312:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="animationcomplete"}),89580:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="animationcomplete-"}),52860:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="animationrepeat"}),63850:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="animationrestart"}),99085:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="animationstart"}),28087:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="animationstop"}),1794:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="animationupdate"}),52562:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pauseall"}),57953:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="remove"}),68339:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="resumeall"}),74943:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ADD_ANIMATION:r(57090),ANIMATION_COMPLETE:r(25312),ANIMATION_COMPLETE_KEY:r(89580),ANIMATION_REPEAT:r(52860),ANIMATION_RESTART:r(63850),ANIMATION_START:r(99085),ANIMATION_STOP:r(28087),ANIMATION_UPDATE:r(1794),PAUSE_ALL:r(52562),REMOVE_ANIMATION:r(57953),RESUME_ALL:r(68339)}}),60421:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Animation:r(42099),AnimationFrame:r(41138),AnimationManager:r(60848),AnimationState:r(9674),Events:r(74943)}}),2161:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(90330),d=r(50792),h=r(24736),l=new o({initialize:function(){this.entries=new y,this.events=new d},add:function(a,f){return this.entries.set(a,f),this.events.emit(h.ADD,this,a,f),this},has:function(a){return this.entries.has(a)},exists:function(a){return this.entries.has(a)},get:function(a){return this.entries.get(a)},remove:function(a){var f=this.get(a);return f&&(this.entries.delete(a),this.events.emit(h.REMOVE,this,a,f.data)),this},getKeys:function(){return this.entries.keys()},destroy:function(){this.entries.clear(),this.events.removeAllListeners(),this.entries=null,this.events=null}});n.exports=l}),24047:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2161),y=r(83419),d=r(8443),h=new y({initialize:function(a){this.game=a,this.binary=new o,this.bitmapFont=new o,this.json=new o,this.physics=new o,this.shader=new o,this.audio=new o,this.video=new o,this.text=new o,this.html=new o,this.obj=new o,this.tilemap=new o,this.xml=new o,this.custom={},this.game.events.once(d.DESTROY,this.destroy,this)},addCustom:function(l){return this.custom.hasOwnProperty(l)||(this.custom[l]=new o),this.custom[l]},destroy:function(){for(var l=["binary","bitmapFont","json","physics","shader","audio","video","text","html","obj","tilemap","xml"],a=0;a<l.length;a++)this[l[a]].destroy(),this[l[a]]=null;for(var f in this.custom)this.custom[f].destroy();this.custom=null,this.game=null}});n.exports=h}),51464:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="add"}),59261:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="remove"}),24736:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ADD:r(51464),REMOVE:r(59261)}}),83388:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={BaseCache:r(2161),CacheManager:r(24047),Events:r(24736)}}),71911:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(31401),d=r(39506),h=r(50792),l=r(19715),a=r(87841),f=r(61340),c=r(80333),u=r(26099),v=new o({Extends:h,Mixins:[y.AlphaSingle,y.Visible],initialize:function(m,x,C,P){m===void 0&&(m=0),x===void 0&&(x=0),C===void 0&&(C=0),P===void 0&&(P=0),h.call(this),this.scene,this.sceneManager,this.scaleManager,this.cameraManager,this.id=0,this.name="",this.roundPixels=!1,this.useBounds=!1,this.worldView=new a,this.dirty=!0,this._x=m,this._y=x,this._width=C,this._height=P,this._bounds=new a,this._scrollX=0,this._scrollY=0,this._zoomX=1,this._zoomY=1,this._rotation=0,this.matrix=new f,this.transparent=!0,this.backgroundColor=c("rgba(0,0,0,0)"),this.disableCull=!1,this.culledObjects=[],this.midPoint=new u(C/2,P/2),this.originX=.5,this.originY=.5,this._customViewport=!1,this.mask=null,this._maskCamera=null,this.renderList=[],this.isSceneCamera=!0,this.renderRoundPixels=!0},addToRenderList:function(p){this.renderList.push(p)},setOrigin:function(p,m){return p===void 0&&(p=.5),m===void 0&&(m=p),this.originX=p,this.originY=m,this},getScroll:function(p,m,x){x===void 0&&(x=new u);var C=this.width*.5,P=this.height*.5;return x.x=p-C,x.y=m-P,this.useBounds&&(x.x=this.clampX(x.x),x.y=this.clampY(x.y)),x},centerOnX:function(p){var m=this.width*.5;return this.midPoint.x=p,this.scrollX=p-m,this.useBounds&&(this.scrollX=this.clampX(this.scrollX)),this},centerOnY:function(p){var m=this.height*.5;return this.midPoint.y=p,this.scrollY=p-m,this.useBounds&&(this.scrollY=this.clampY(this.scrollY)),this},centerOn:function(p,m){return this.centerOnX(p),this.centerOnY(m),this},centerToBounds:function(){if(this.useBounds){var p=this._bounds,m=this.width*.5,x=this.height*.5;this.midPoint.set(p.centerX,p.centerY),this.scrollX=p.centerX-m,this.scrollY=p.centerY-x}return this},centerToSize:function(){return this.scrollX=this.width*.5,this.scrollY=this.height*.5,this},cull:function(p){if(this.disableCull)return p;var m=this.matrix.matrix,x=m[0],C=m[1],P=m[2],w=m[3],M=x*w-C*P;if(!M)return p;var R=m[4],A=m[5],L=this.scrollX,F=this.scrollY,G=this.width,I=this.height,B=this.y,k=B+I,U=this.x,H=U+G,X=this.culledObjects,j=p.length;M=1/M,X.length=0;for(var Z=0;Z<j;++Z){var Y=p[Z];if(!Y.hasOwnProperty("width")||Y.parentContainer){X.push(Y);continue}var $=Y.width,z=Y.height,V=Y.x-L*Y.scrollFactorX-$*Y.originX,K=Y.y-F*Y.scrollFactorY-z*Y.originY,Q=V*x+K*P+R,_=V*C+K*w+A,tt=(V+$)*x+(K+z)*P+R,rt=(V+$)*C+(K+z)*w+A;tt>U&&Q<H&&rt>B&&_<k&&X.push(Y)}return X},getWorldPoint:function(p,m,x){x===void 0&&(x=new u);var C=this.matrix.matrix,P=C[0],w=C[1],M=C[2],R=C[3],A=C[4],L=C[5],F=P*R-w*M;if(!F)return x.x=p,x.y=m,x;F=1/F;var G=R*F,I=-w*F,B=-M*F,k=P*F,U=(M*L-R*A)*F,H=(w*A-P*L)*F,X=Math.cos(this.rotation),j=Math.sin(this.rotation),Z=this.zoomX,Y=this.zoomY,$=this.scrollX,z=this.scrollY,V=p+($*X-z*j)*Z,K=m+($*j+z*X)*Y;return x.x=V*G+K*B+U,x.y=V*I+K*k+H,x},ignore:function(p){var m=this.id;Array.isArray(p)||(p=[p]);for(var x=0;x<p.length;x++){var C=p[x];Array.isArray(C)?this.ignore(C):C.isParent?this.ignore(C.getChildren()):C.cameraFilter|=m}return this},clampX:function(p){var m=this._bounds,x=this.displayWidth,C=m.x+(x-this.width)/2,P=Math.max(C,C+m.width-x);return p<C?p=C:p>P&&(p=P),p},clampY:function(p){var m=this._bounds,x=this.displayHeight,C=m.y+(x-this.height)/2,P=Math.max(C,C+m.height-x);return p<C?p=C:p>P&&(p=P),p},removeBounds:function(){return this.useBounds=!1,this.dirty=!0,this._bounds.setEmpty(),this},setAngle:function(p){return p===void 0&&(p=0),this.rotation=d(p),this},setBackgroundColor:function(p){return p===void 0&&(p="rgba(0,0,0,0)"),this.backgroundColor=c(p),this.transparent=this.backgroundColor.alpha===0,this},setBounds:function(p,m,x,C,P){return P===void 0&&(P=!1),this._bounds.setTo(p,m,x,C),this.dirty=!0,this.useBounds=!0,P?this.centerToBounds():(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},getBounds:function(p){p===void 0&&(p=new a);var m=this._bounds;return p.setTo(m.x,m.y,m.width,m.height),p},setName:function(p){return p===void 0&&(p=""),this.name=p,this},setPosition:function(p,m){return m===void 0&&(m=p),this.x=p,this.y=m,this},setRotation:function(p){return p===void 0&&(p=0),this.rotation=p,this},setRoundPixels:function(p){return this.roundPixels=p,this},setScene:function(p,m){m===void 0&&(m=!0),this.scene&&this._customViewport&&this.sceneManager.customViewports--,this.scene=p,this.isSceneCamera=m;var x=p.sys;return this.sceneManager=x.game.scene,this.scaleManager=x.scale,this.cameraManager=x.cameras,this.updateSystem(),this},setScroll:function(p,m){return m===void 0&&(m=p),this.scrollX=p,this.scrollY=m,this},setSize:function(p,m){return m===void 0&&(m=p),this.width=p,this.height=m,this},setViewport:function(p,m,x,C){return this.x=p,this.y=m,this.width=x,this.height=C,this},setZoom:function(p,m){return p===void 0&&(p=1),m===void 0&&(m=p),p===0&&(p=.001),m===0&&(m=.001),this.zoomX=p,this.zoomY=m,this},setMask:function(p,m){return m===void 0&&(m=!0),this.mask=p,this._maskCamera=m?this.cameraManager.default:this,this},clearMask:function(p){return p===void 0&&(p=!1),p&&this.mask&&this.mask.destroy(),this.mask=null,this},toJSON:function(){var p={name:this.name,x:this.x,y:this.y,width:this.width,height:this.height,zoom:this.zoom,rotation:this.rotation,roundPixels:this.roundPixels,scrollX:this.scrollX,scrollY:this.scrollY,backgroundColor:this.backgroundColor.rgba};return this.useBounds&&(p.bounds={x:this._bounds.x,y:this._bounds.y,width:this._bounds.width,height:this._bounds.height}),p},update:function(){},setIsSceneCamera:function(p){return this.isSceneCamera=p,this},updateSystem:function(){if(!(!this.scaleManager||!this.isSceneCamera)){var p=this._x!==0||this._y!==0||this.scaleManager.width!==this._width||this.scaleManager.height!==this._height,m=this.sceneManager;p&&!this._customViewport?m.customViewports++:!p&&this._customViewport&&m.customViewports--,this.dirty=!0,this._customViewport=p}},destroy:function(){this.emit(l.DESTROY,this),this.removeAllListeners(),this.matrix.destroy(),this.culledObjects=[],this._customViewport&&this.sceneManager.customViewports--,this.renderList=[],this._bounds=null,this.scene=null,this.scaleManager=null,this.sceneManager=null,this.cameraManager=null},x:{get:function(){return this._x},set:function(p){this._x=p,this.updateSystem()}},y:{get:function(){return this._y},set:function(p){this._y=p,this.updateSystem()}},width:{get:function(){return this._width},set:function(p){this._width=p,this.updateSystem()}},height:{get:function(){return this._height},set:function(p){this._height=p,this.updateSystem()}},scrollX:{get:function(){return this._scrollX},set:function(p){p!==this._scrollX&&(this._scrollX=p,this.dirty=!0)}},scrollY:{get:function(){return this._scrollY},set:function(p){p!==this._scrollY&&(this._scrollY=p,this.dirty=!0)}},zoom:{get:function(){return(this._zoomX+this._zoomY)/2},set:function(p){this._zoomX=p,this._zoomY=p,this.dirty=!0}},zoomX:{get:function(){return this._zoomX},set:function(p){this._zoomX=p,this.dirty=!0}},zoomY:{get:function(){return this._zoomY},set:function(p){this._zoomY=p,this.dirty=!0}},rotation:{get:function(){return this._rotation},set:function(p){this._rotation=p,this.dirty=!0}},centerX:{get:function(){return this.x+.5*this.width}},centerY:{get:function(){return this.y+.5*this.height}},displayWidth:{get:function(){return this.width/this.zoomX}},displayHeight:{get:function(){return this.height/this.zoomY}}});n.exports=v}),38058:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(71911),y=r(67502),d=r(45319),h=r(83419),l=r(31401),a=r(20052),f=r(19715),c=r(28915),u=r(87841),v=r(26099),p=new h({Extends:o,Mixins:[l.PostPipeline],initialize:function(x,C,P,w){o.call(this,x,C,P,w),this.initPostPipeline(),this.inputEnabled=!0,this.fadeEffect=new a.Fade(this),this.flashEffect=new a.Flash(this),this.shakeEffect=new a.Shake(this),this.panEffect=new a.Pan(this),this.rotateToEffect=new a.RotateTo(this),this.zoomEffect=new a.Zoom(this),this.lerp=new v(1,1),this.followOffset=new v,this.deadzone=null,this._follow=null},setDeadzone:function(m,x){if(m===void 0)this.deadzone=null;else{if(this.deadzone?(this.deadzone.width=m,this.deadzone.height=x):this.deadzone=new u(0,0,m,x),this._follow){var C=this.width/2,P=this.height/2,w=this._follow.x-this.followOffset.x,M=this._follow.y-this.followOffset.y;this.midPoint.set(w,M),this.scrollX=w-C,this.scrollY=M-P}y(this.deadzone,this.midPoint.x,this.midPoint.y)}return this},fadeIn:function(m,x,C,P,w,M){return this.fadeEffect.start(!1,m,x,C,P,!0,w,M)},fadeOut:function(m,x,C,P,w,M){return this.fadeEffect.start(!0,m,x,C,P,!0,w,M)},fadeFrom:function(m,x,C,P,w,M,R){return this.fadeEffect.start(!1,m,x,C,P,w,M,R)},fade:function(m,x,C,P,w,M,R){return this.fadeEffect.start(!0,m,x,C,P,w,M,R)},flash:function(m,x,C,P,w,M,R){return this.flashEffect.start(m,x,C,P,w,M,R)},shake:function(m,x,C,P,w){return this.shakeEffect.start(m,x,C,P,w)},pan:function(m,x,C,P,w,M,R){return this.panEffect.start(m,x,C,P,w,M,R)},rotateTo:function(m,x,C,P,w,M,R){return this.rotateToEffect.start(m,x,C,P,w,M,R)},zoomTo:function(m,x,C,P,w,M){return this.zoomEffect.start(m,x,C,P,w,M)},preRender:function(){this.renderList.length=0;var m=this.width,x=this.height,C=m*.5,P=x*.5,w=this.zoomX,M=this.zoomY,R=this.matrix;this.renderRoundPixels=this.roundPixels&&Number.isInteger(w)&&Number.isInteger(M);var A=m*this.originX,L=x*this.originY,F=this._follow,G=this.deadzone,I=this.scrollX,B=this.scrollY;G&&y(G,this.midPoint.x,this.midPoint.y);var k=!1;if(F&&!this.panEffect.isRunning){var U=this.lerp,H=F.x-this.followOffset.x,X=F.y-this.followOffset.y;G?(H<G.x?I=c(I,I-(G.x-H),U.x):H>G.right&&(I=c(I,I+(H-G.right),U.x)),X<G.y?B=c(B,B-(G.y-X),U.y):X>G.bottom&&(B=c(B,B+(X-G.bottom),U.y))):(I=c(I,H-A,U.x),B=c(B,X-L,U.y)),k=!0}this.roundPixels&&(I=Math.floor(I),B=Math.floor(B)),this.useBounds&&(I=this.clampX(I),B=this.clampY(B)),this.scrollX=I,this.scrollY=B;var j=I+C,Z=B+P;this.midPoint.set(j,Z);var Y=Math.floor(m/w+.5),$=Math.floor(x/M+.5),z=Math.floor(j-Y/2+.5),V=Math.floor(Z-$/2+.5);this.worldView.setTo(z,V,Y,$),R.applyITRS(Math.floor(this.x+A+.5),Math.floor(this.y+L+.5),this.rotation,w,M),R.translate(-A,-L),this.shakeEffect.preRender(),k&&this.emit(f.FOLLOW_UPDATE,this,F)},setLerp:function(m,x){return m===void 0&&(m=1),x===void 0&&(x=m),this.lerp.set(m,x),this},setFollowOffset:function(m,x){return m===void 0&&(m=0),x===void 0&&(x=0),this.followOffset.set(m,x),this},startFollow:function(m,x,C,P,w,M){x===void 0&&(x=!1),C===void 0&&(C=1),P===void 0&&(P=C),w===void 0&&(w=0),M===void 0&&(M=w),this._follow=m,this.roundPixels=x,C=d(C,0,1),P=d(P,0,1),this.lerp.set(C,P),this.followOffset.set(w,M);var R=this.width/2,A=this.height/2,L=m.x-w,F=m.y-M;return this.midPoint.set(L,F),this.scrollX=L-R,this.scrollY=F-A,this.useBounds&&(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},stopFollow:function(){return this._follow=null,this},resetFX:function(){return this.rotateToEffect.reset(),this.panEffect.reset(),this.shakeEffect.reset(),this.flashEffect.reset(),this.fadeEffect.reset(),this},update:function(m,x){this.visible&&(this.rotateToEffect.update(m,x),this.panEffect.update(m,x),this.zoomEffect.update(m,x),this.shakeEffect.update(m,x),this.flashEffect.update(m,x),this.fadeEffect.update(m,x))},destroy:function(){this.resetFX(),o.prototype.destroy.call(this),this._follow=null,this.deadzone=null}});n.exports=p}),32743:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(38058),y=r(83419),d=r(95540),h=r(37277),l=r(37303),a=r(97480),f=r(44594),c=new y({initialize:function(v){this.scene=v,this.systems=v.sys,this.roundPixels=v.sys.game.config.roundPixels,this.cameras=[],this.main,this.default,v.sys.events.once(f.BOOT,this.boot,this),v.sys.events.on(f.START,this.start,this)},boot:function(){var u=this.systems;u.settings.cameras?this.fromJSON(u.settings.cameras):this.add(),this.main=this.cameras[0],this.default=new o(0,0,u.scale.width,u.scale.height).setScene(this.scene),u.game.scale.on(a.RESIZE,this.onResize,this),this.systems.events.once(f.DESTROY,this.destroy,this)},start:function(){if(!this.main){var u=this.systems;u.settings.cameras?this.fromJSON(u.settings.cameras):this.add(),this.main=this.cameras[0]}var v=this.systems.events;v.on(f.UPDATE,this.update,this),v.once(f.SHUTDOWN,this.shutdown,this)},add:function(u,v,p,m,x,C){u===void 0&&(u=0),v===void 0&&(v=0),p===void 0&&(p=this.scene.sys.scale.width),m===void 0&&(m=this.scene.sys.scale.height),x===void 0&&(x=!1),C===void 0&&(C="");var P=new o(u,v,p,m);return P.setName(C),P.setScene(this.scene),P.setRoundPixels(this.roundPixels),P.id=this.getNextID(),this.cameras.push(P),x&&(this.main=P),P},addExisting:function(u,v){v===void 0&&(v=!1);var p=this.cameras.indexOf(u);return p===-1?(u.id=this.getNextID(),u.setRoundPixels(this.roundPixels),this.cameras.push(u),v&&(this.main=u),u):null},getNextID:function(){for(var u=this.cameras,v=1,p=0;p<32;p++){for(var m=!1,x=0;x<u.length;x++){var C=u[x];if(C&&C.id===v){m=!0;continue}}if(m)v=v<<1;else return v}return 0},getTotal:function(u){u===void 0&&(u=!1);for(var v=0,p=this.cameras,m=0;m<p.length;m++){var x=p[m];(!u||u&&x.visible)&&v++}return v},fromJSON:function(u){Array.isArray(u)||(u=[u]);for(var v=this.scene.sys.scale.width,p=this.scene.sys.scale.height,m=0;m<u.length;m++){var x=u[m],C=d(x,"x",0),P=d(x,"y",0),w=d(x,"width",v),M=d(x,"height",p),R=this.add(C,P,w,M);R.name=d(x,"name",""),R.zoom=d(x,"zoom",1),R.rotation=d(x,"rotation",0),R.scrollX=d(x,"scrollX",0),R.scrollY=d(x,"scrollY",0),R.roundPixels=d(x,"roundPixels",!1),R.visible=d(x,"visible",!0);var A=d(x,"backgroundColor",!1);A&&R.setBackgroundColor(A);var L=d(x,"bounds",null);if(L){var F=d(L,"x",0),G=d(L,"y",0),I=d(L,"width",v),B=d(L,"height",p);R.setBounds(F,G,I,B)}}return this},getCamera:function(u){for(var v=this.cameras,p=0;p<v.length;p++)if(v[p].name===u)return v[p];return null},getCamerasBelowPointer:function(u){for(var v=this.cameras,p=u.x,m=u.y,x=[],C=0;C<v.length;C++){var P=v[C];P.visible&&P.inputEnabled&&l(P,p,m)&&x.unshift(P)}return x},remove:function(u,v){v===void 0&&(v=!0),Array.isArray(u)||(u=[u]);for(var p=0,m=this.cameras,x=0;x<u.length;x++){var C=m.indexOf(u[x]);C!==-1&&(v?m[C].destroy():m[C].renderList=[],m.splice(C,1),p++)}return!this.main&&m[0]&&(this.main=m[0]),p},render:function(u,v){for(var p=this.scene,m=this.cameras,x=0;x<m.length;x++){var C=m[x];if(C.visible&&C.alpha>0){C.preRender();var P=this.getVisibleChildren(v.getChildren(),C);u.render(p,P,C)}}},getVisibleChildren:function(u,v){return u.filter(function(p){return p.willRender(v)})},resetAll:function(){for(var u=0;u<this.cameras.length;u++)this.cameras[u].destroy();return this.cameras=[],this.main=this.add(),this.main},update:function(u,v){for(var p=0;p<this.cameras.length;p++)this.cameras[p].update(u,v)},onResize:function(u,v,p,m,x){for(var C=0;C<this.cameras.length;C++){var P=this.cameras[C];P._x===0&&P._y===0&&P._width===m&&P._height===x&&P.setSize(v.width,v.height)}},resize:function(u,v){for(var p=0;p<this.cameras.length;p++)this.cameras[p].setSize(u,v)},shutdown:function(){this.main=void 0;for(var u=0;u<this.cameras.length;u++)this.cameras[u].destroy();this.cameras=[];var v=this.systems.events;v.off(f.UPDATE,this.update,this),v.off(f.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.default.destroy(),this.systems.events.off(f.START,this.start,this),this.systems.events.off(f.DESTROY,this.destroy,this),this.systems.game.scale.off(a.RESIZE,this.onResize,this),this.scene=null,this.systems=null}});h.register("CameraManager",c,"cameras"),n.exports=c}),5020:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(45319),y=r(83419),d=r(19715),h=new y({initialize:function(a){this.camera=a,this.isRunning=!1,this.isComplete=!1,this.direction=!0,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(l,a,f,c,u,v,p,m){if(l===void 0&&(l=!0),a===void 0&&(a=1e3),f===void 0&&(f=0),c===void 0&&(c=0),u===void 0&&(u=0),v===void 0&&(v=!1),p===void 0&&(p=null),m===void 0&&(m=this.camera.scene),!v&&this.isRunning)return this.camera;this.isRunning=!0,this.isComplete=!1,this.duration=a,this.direction=l,this.progress=0,this.red=f,this.green=c,this.blue=u,this.alpha=l?Number.MIN_VALUE:1,this._elapsed=0,this._onUpdate=p,this._onUpdateScope=m;var x=l?d.FADE_OUT_START:d.FADE_IN_START;return this.camera.emit(x,this.camera,this,a,f,c,u),this.camera},update:function(l,a){this.isRunning&&(this._elapsed+=a,this.progress=o(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this.direction?this.progress:1-this.progress:(this.alpha=this.direction?1:0,this.effectComplete()))},postRenderCanvas:function(l){if(!this.isRunning&&!this.isComplete)return!1;var a=this.camera;return l.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",l.fillRect(a.x,a.y,a.width,a.height),!0},postRenderWebGL:function(l,a){if(!this.isRunning&&!this.isComplete)return!1;var f=this.camera,c=this.red/255,u=this.green/255,v=this.blue/255;return l.drawFillRect(f.x,f.y,f.width,f.height,a(v,u,c,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.isComplete=!0;var l=this.direction?d.FADE_OUT_COMPLETE:d.FADE_IN_COMPLETE;this.camera.emit(l,this.camera,this)},reset:function(){this.isRunning=!1,this.isComplete=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});n.exports=h}),10662:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(45319),y=r(83419),d=r(19715),h=new y({initialize:function(a){this.camera=a,this.isRunning=!1,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=1,this.progress=0,this._elapsed=0,this._alpha,this._onUpdate,this._onUpdateScope},start:function(l,a,f,c,u,v,p){return l===void 0&&(l=250),a===void 0&&(a=255),f===void 0&&(f=255),c===void 0&&(c=255),u===void 0&&(u=!1),v===void 0&&(v=null),p===void 0&&(p=this.camera.scene),!u&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=l,this.progress=0,this.red=a,this.green=f,this.blue=c,this._alpha=this.alpha,this._elapsed=0,this._onUpdate=v,this._onUpdateScope=p,this.camera.emit(d.FLASH_START,this.camera,this,l,a,f,c),this.camera)},update:function(l,a){this.isRunning&&(this._elapsed+=a,this.progress=o(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this._alpha*(1-this.progress):this.effectComplete())},postRenderCanvas:function(l){if(!this.isRunning)return!1;var a=this.camera;return l.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",l.fillRect(a.x,a.y,a.width,a.height),!0},postRenderWebGL:function(l,a){if(!this.isRunning)return!1;var f=this.camera,c=this.red/255,u=this.green/255,v=this.blue/255;return l.drawFillRect(f.x,f.y,f.width,f.height,a(v,u,c,1),this.alpha),!0},effectComplete:function(){this.alpha=this._alpha,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(d.FLASH_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});n.exports=h}),20359:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(45319),y=r(83419),d=r(62640),h=r(19715),l=r(26099),a=new y({initialize:function(c){this.camera=c,this.isRunning=!1,this.duration=0,this.source=new l,this.current=new l,this.destination=new l,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(f,c,u,v,p,m,x){u===void 0&&(u=1e3),v===void 0&&(v=d.Linear),p===void 0&&(p=!1),m===void 0&&(m=null),x===void 0&&(x=this.camera.scene);var C=this.camera;return!p&&this.isRunning||(this.isRunning=!0,this.duration=u,this.progress=0,this.source.set(C.scrollX,C.scrollY),this.destination.set(f,c),C.getScroll(f,c,this.current),typeof v=="string"&&d.hasOwnProperty(v)?this.ease=d[v]:typeof v=="function"&&(this.ease=v),this._elapsed=0,this._onUpdate=m,this._onUpdateScope=x,this.camera.emit(h.PAN_START,this.camera,this,u,f,c)),C},update:function(f,c){if(this.isRunning){this._elapsed+=c;var u=o(this._elapsed/this.duration,0,1);this.progress=u;var v=this.camera;if(this._elapsed<this.duration){var p=this.ease(u);v.getScroll(this.destination.x,this.destination.y,this.current);var m=this.source.x+(this.current.x-this.source.x)*p,x=this.source.y+(this.current.y-this.source.y)*p;v.setScroll(m,x),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,v,u,m,x)}else v.centerOn(this.destination.x,this.destination.y),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,v,u,v.scrollX,v.scrollY),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(h.PAN_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});n.exports=a}),34208:((n,T,r)=>{/**
 * @author       Jason Nicholls <nicholls.jason@gmail.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var o=r(45319),y=r(83419),d=r(19715),h=r(62640),l=new y({initialize:function(f){this.camera=f,this.isRunning=!1,this.duration=0,this.source=0,this.current=0,this.destination=0,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope,this.clockwise=!0,this.shortestPath=!1},start:function(a,f,c,u,v,p,m){c===void 0&&(c=1e3),u===void 0&&(u=h.Linear),v===void 0&&(v=!1),p===void 0&&(p=null),m===void 0&&(m=this.camera.scene),f===void 0&&(f=!1),this.shortestPath=f;var x=a;a<0?(x=-1*a,this.clockwise=!1):this.clockwise=!0;var C=360*Math.PI/180;x=x-Math.floor(x/C)*C;var P=this.camera;if(!v&&this.isRunning)return P;if(this.isRunning=!0,this.duration=c,this.progress=0,this.source=P.rotation,this.destination=x,typeof u=="string"&&h.hasOwnProperty(u)?this.ease=h[u]:typeof u=="function"&&(this.ease=u),this._elapsed=0,this._onUpdate=p,this._onUpdateScope=m,this.shortestPath){var w=0,M=0;this.destination>this.source?w=Math.abs(this.destination-this.source):w=Math.abs(this.destination+C)-this.source,this.source>this.destination?M=Math.abs(this.source-this.destination):M=Math.abs(this.source+C)-this.destination,w<M?this.clockwise=!0:w>M&&(this.clockwise=!1)}return this.camera.emit(d.ROTATE_START,this.camera,this,c,x),P},update:function(a,f){if(this.isRunning){this._elapsed+=f;var c=o(this._elapsed/this.duration,0,1);this.progress=c;var u=this.camera;if(this._elapsed<this.duration){var v=this.ease(c);this.current=u.rotation;var p=0,m=360*Math.PI/180,x=this.destination,C=this.current;this.clockwise===!1&&(x=this.current,C=this.destination),x>=C?p=Math.abs(x-C):p=Math.abs(x+m)-C;var P=0;this.clockwise?P=u.rotation+p*v:P=u.rotation-p*v,u.rotation=P,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,u,c,P)}else u.rotation=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,u,c,this.destination),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(d.ROTATE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});n.exports=l}),30330:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(45319),y=r(83419),d=r(19715),h=r(26099),l=new y({initialize:function(f){this.camera=f,this.isRunning=!1,this.duration=0,this.intensity=new h,this.progress=0,this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate,this._onUpdateScope},start:function(a,f,c,u,v){return a===void 0&&(a=100),f===void 0&&(f=.05),c===void 0&&(c=!1),u===void 0&&(u=null),v===void 0&&(v=this.camera.scene),!c&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=a,this.progress=0,typeof f=="number"?this.intensity.set(f):this.intensity.set(f.x,f.y),this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate=u,this._onUpdateScope=v,this.camera.emit(d.SHAKE_START,this.camera,this,a,f),this.camera)},preRender:function(){this.isRunning&&this.camera.matrix.translate(this._offsetX,this._offsetY)},update:function(a,f){if(this.isRunning)if(this._elapsed+=f,this.progress=o(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration){var c=this.intensity,u=this.camera.width,v=this.camera.height,p=this.camera.zoom;this._offsetX=(Math.random()*c.x*u*2-c.x*u)*p,this._offsetY=(Math.random()*c.y*v*2-c.y*v)*p,this.camera.roundPixels&&(this._offsetX=Math.round(this._offsetX),this._offsetY=Math.round(this._offsetY))}else this.effectComplete()},effectComplete:function(){this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(d.SHAKE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.intensity=null}});n.exports=l}),45641:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(45319),y=r(83419),d=r(62640),h=r(19715),l=new y({initialize:function(f){this.camera=f,this.isRunning=!1,this.duration=0,this.source=1,this.destination=1,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(a,f,c,u,v,p){f===void 0&&(f=1e3),c===void 0&&(c=d.Linear),u===void 0&&(u=!1),v===void 0&&(v=null),p===void 0&&(p=this.camera.scene);var m=this.camera;return!u&&this.isRunning||(this.isRunning=!0,this.duration=f,this.progress=0,this.source=m.zoom,this.destination=a,typeof c=="string"&&d.hasOwnProperty(c)?this.ease=d[c]:typeof c=="function"&&(this.ease=c),this._elapsed=0,this._onUpdate=v,this._onUpdateScope=p,this.camera.emit(h.ZOOM_START,this.camera,this,f,a)),m},update:function(a,f){this.isRunning&&(this._elapsed+=f,this.progress=o(this._elapsed/this.duration,0,1),this._elapsed<this.duration?(this.camera.zoom=this.source+(this.destination-this.source)*this.ease(this.progress),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.camera.zoom)):(this.camera.zoom=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.destination),this.effectComplete()))},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(h.ZOOM_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});n.exports=l}),20052:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Fade:r(5020),Flash:r(10662),Pan:r(20359),Shake:r(30330),RotateTo:r(34208),Zoom:r(45641)}}),16438:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="cameradestroy"}),32726:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerafadeincomplete"}),87807:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerafadeinstart"}),45917:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerafadeoutcomplete"}),95666:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerafadeoutstart"}),47056:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="cameraflashcomplete"}),91261:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="cameraflashstart"}),45047:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="followupdate"}),81927:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerapancomplete"}),74264:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerapanstart"}),54419:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="postrender"}),79330:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="prerender"}),93183:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerarotatecomplete"}),80112:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerarotatestart"}),62252:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerashakecomplete"}),86017:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerashakestart"}),539:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerazoomcomplete"}),51892:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerazoomstart"}),19715:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={DESTROY:r(16438),FADE_IN_COMPLETE:r(32726),FADE_IN_START:r(87807),FADE_OUT_COMPLETE:r(45917),FADE_OUT_START:r(95666),FLASH_COMPLETE:r(47056),FLASH_START:r(91261),FOLLOW_UPDATE:r(45047),PAN_COMPLETE:r(81927),PAN_START:r(74264),POST_RENDER:r(54419),PRE_RENDER:r(79330),ROTATE_COMPLETE:r(93183),ROTATE_START:r(80112),SHAKE_COMPLETE:r(62252),SHAKE_START:r(86017),ZOOM_COMPLETE:r(539),ZOOM_START:r(51892)}}),87969:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Camera:r(38058),BaseCamera:r(71911),CameraManager:r(32743),Effects:r(20052),Events:r(19715)}}),63091:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(35154),d=new o({initialize:function(l){this.camera=y(l,"camera",null),this.left=y(l,"left",null),this.right=y(l,"right",null),this.up=y(l,"up",null),this.down=y(l,"down",null),this.zoomIn=y(l,"zoomIn",null),this.zoomOut=y(l,"zoomOut",null),this.zoomSpeed=y(l,"zoomSpeed",.01),this.minZoom=y(l,"minZoom",.001),this.maxZoom=y(l,"maxZoom",1e3),this.speedX=0,this.speedY=0;var a=y(l,"speed",null);typeof a=="number"?(this.speedX=a,this.speedY=a):(this.speedX=y(l,"speed.x",0),this.speedY=y(l,"speed.y",0)),this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(h){return this.camera=h,this},update:function(h){if(this.active){h===void 0&&(h=1);var l=this.camera;this.up&&this.up.isDown?l.scrollY-=this.speedY*h|0:this.down&&this.down.isDown&&(l.scrollY+=this.speedY*h|0),this.left&&this.left.isDown?l.scrollX-=this.speedX*h|0:this.right&&this.right.isDown&&(l.scrollX+=this.speedX*h|0),this.zoomIn&&this.zoomIn.isDown?(l.zoom-=this.zoomSpeed,l.zoom<this.minZoom&&(l.zoom=this.minZoom)):this.zoomOut&&this.zoomOut.isDown&&(l.zoom+=this.zoomSpeed,l.zoom>this.maxZoom&&(l.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});n.exports=d}),58818:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(35154),d=new o({initialize:function(l){this.camera=y(l,"camera",null),this.left=y(l,"left",null),this.right=y(l,"right",null),this.up=y(l,"up",null),this.down=y(l,"down",null),this.zoomIn=y(l,"zoomIn",null),this.zoomOut=y(l,"zoomOut",null),this.zoomSpeed=y(l,"zoomSpeed",.01),this.minZoom=y(l,"minZoom",.001),this.maxZoom=y(l,"maxZoom",1e3),this.accelX=0,this.accelY=0;var a=y(l,"acceleration",null);typeof a=="number"?(this.accelX=a,this.accelY=a):(this.accelX=y(l,"acceleration.x",0),this.accelY=y(l,"acceleration.y",0)),this.dragX=0,this.dragY=0;var f=y(l,"drag",null);typeof f=="number"?(this.dragX=f,this.dragY=f):(this.dragX=y(l,"drag.x",0),this.dragY=y(l,"drag.y",0)),this.maxSpeedX=0,this.maxSpeedY=0;var c=y(l,"maxSpeed",null);typeof c=="number"?(this.maxSpeedX=c,this.maxSpeedY=c):(this.maxSpeedX=y(l,"maxSpeed.x",0),this.maxSpeedY=y(l,"maxSpeed.y",0)),this._speedX=0,this._speedY=0,this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(h){return this.camera=h,this},update:function(h){if(this.active){h===void 0&&(h=1);var l=this.camera;this._speedX>0?(this._speedX-=this.dragX*h,this._speedX<0&&(this._speedX=0)):this._speedX<0&&(this._speedX+=this.dragX*h,this._speedX>0&&(this._speedX=0)),this._speedY>0?(this._speedY-=this.dragY*h,this._speedY<0&&(this._speedY=0)):this._speedY<0&&(this._speedY+=this.dragY*h,this._speedY>0&&(this._speedY=0)),this.up&&this.up.isDown?(this._speedY+=this.accelY,this._speedY>this.maxSpeedY&&(this._speedY=this.maxSpeedY)):this.down&&this.down.isDown&&(this._speedY-=this.accelY,this._speedY<-this.maxSpeedY&&(this._speedY=-this.maxSpeedY)),this.left&&this.left.isDown?(this._speedX+=this.accelX,this._speedX>this.maxSpeedX&&(this._speedX=this.maxSpeedX)):this.right&&this.right.isDown&&(this._speedX-=this.accelX,this._speedX<-this.maxSpeedX&&(this._speedX=-this.maxSpeedX)),this.zoomIn&&this.zoomIn.isDown?this._zoom=-this.zoomSpeed:this.zoomOut&&this.zoomOut.isDown?this._zoom=this.zoomSpeed:this._zoom=0,this._speedX!==0&&(l.scrollX-=this._speedX*h|0),this._speedY!==0&&(l.scrollY-=this._speedY*h|0),this._zoom!==0&&(l.zoom+=this._zoom,l.zoom<this.minZoom?l.zoom=this.minZoom:l.zoom>this.maxZoom&&(l.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});n.exports=d}),38865:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={FixedKeyControl:r(63091),SmoothedKeyControl:r(58818)}}),26638:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Controls:r(38865),Scene2D:r(87969)}}),8054:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={VERSION:"3.88.2",LOG_VERSION:"v388",BlendModes:r(10312),ScaleModes:r(29795),AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,FOREVER:-1,NONE:4,UP:5,DOWN:6,LEFT:7,RIGHT:8};n.exports=o}),69547:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(8054),d=r(42363),h=r(82264),l=r(95540),a=r(35154),f=r(41212),c=r(29747),u=r(75508),v=r(36060),p=r(80333),m=new o({initialize:function(C){C===void 0&&(C={});var P=["#ff0000","#ffff00","#00ff00","#00ffff","#000000"],w="#ffffff",M=a(C,"scale",null);this.width=a(M,"width",1024,C),this.height=a(M,"height",768,C),this.zoom=a(M,"zoom",1,C),this.parent=a(M,"parent",void 0,C),this.scaleMode=a(M,M?"mode":"scaleMode",0,C),this.expandParent=a(M,"expandParent",!0,C),this.autoRound=a(M,"autoRound",!1,C),this.autoCenter=a(M,"autoCenter",0,C),this.resizeInterval=a(M,"resizeInterval",500,C),this.fullscreenTarget=a(M,"fullscreenTarget",null,C),this.minWidth=a(M,"min.width",0,C),this.maxWidth=a(M,"max.width",0,C),this.minHeight=a(M,"min.height",0,C),this.maxHeight=a(M,"max.height",0,C),this.snapWidth=a(M,"snap.width",0,C),this.snapHeight=a(M,"snap.height",0,C),this.renderType=a(C,"type",y.AUTO),this.canvas=a(C,"canvas",null),this.context=a(C,"context",null),this.canvasStyle=a(C,"canvasStyle",null),this.customEnvironment=a(C,"customEnvironment",!1),this.sceneConfig=a(C,"scene",null),this.seed=a(C,"seed",[(Date.now()*Math.random()).toString()]),u.RND=new u.RandomDataGenerator(this.seed),this.gameTitle=a(C,"title",""),this.gameURL=a(C,"url","https://phaser.io/"+y.LOG_VERSION),this.gameVersion=a(C,"version",""),this.autoFocus=a(C,"autoFocus",!0),this.stableSort=a(C,"stableSort",-1),this.stableSort===-1&&(this.stableSort=h.browser.es2019?1:0),h.features.stableSort=this.stableSort,this.domCreateContainer=a(C,"dom.createContainer",!1),this.domPointerEvents=a(C,"dom.pointerEvents","none"),this.inputKeyboard=a(C,"input.keyboard",!0),this.inputKeyboardEventTarget=a(C,"input.keyboard.target",window),this.inputKeyboardCapture=a(C,"input.keyboard.capture",[]),this.inputMouse=a(C,"input.mouse",!0),this.inputMouseEventTarget=a(C,"input.mouse.target",null),this.inputMousePreventDefaultDown=a(C,"input.mouse.preventDefaultDown",!0),this.inputMousePreventDefaultUp=a(C,"input.mouse.preventDefaultUp",!0),this.inputMousePreventDefaultMove=a(C,"input.mouse.preventDefaultMove",!0),this.inputMousePreventDefaultWheel=a(C,"input.mouse.preventDefaultWheel",!0),this.inputTouch=a(C,"input.touch",h.input.touch),this.inputTouchEventTarget=a(C,"input.touch.target",null),this.inputTouchCapture=a(C,"input.touch.capture",!0),this.inputActivePointers=a(C,"input.activePointers",1),this.inputSmoothFactor=a(C,"input.smoothFactor",0),this.inputWindowEvents=a(C,"input.windowEvents",!0),this.inputGamepad=a(C,"input.gamepad",!1),this.inputGamepadEventTarget=a(C,"input.gamepad.target",window),this.disableContextMenu=a(C,"disableContextMenu",!1),this.audio=a(C,"audio",{}),this.hideBanner=a(C,"banner",null)===!1,this.hidePhaser=a(C,"banner.hidePhaser",!1),this.bannerTextColor=a(C,"banner.text",w),this.bannerBackgroundColor=a(C,"banner.background",P),this.gameTitle===""&&this.hidePhaser&&(this.hideBanner=!0),this.fps=a(C,"fps",null),this.disablePreFX=a(C,"disablePreFX",!1),this.disablePostFX=a(C,"disablePostFX",!1);var R=a(C,"render",null);this.pipeline=a(R,"pipeline",null,C),this.autoMobilePipeline=a(R,"autoMobilePipeline",!0,C),this.defaultPipeline=a(R,"defaultPipeline",v.MULTI_PIPELINE,C),this.antialias=a(R,"antialias",!0,C),this.antialiasGL=a(R,"antialiasGL",!0,C),this.mipmapFilter=a(R,"mipmapFilter","",C),this.desynchronized=a(R,"desynchronized",!1,C),this.roundPixels=a(R,"roundPixels",!1,C),this.pixelArt=a(R,"pixelArt",this.zoom!==1,C),this.pixelArt&&(this.antialias=!1,this.antialiasGL=!1,this.roundPixels=!0),this.transparent=a(R,"transparent",!1,C),this.clearBeforeRender=a(R,"clearBeforeRender",!0,C),this.preserveDrawingBuffer=a(R,"preserveDrawingBuffer",!1,C),this.premultipliedAlpha=a(R,"premultipliedAlpha",!0,C),this.failIfMajorPerformanceCaveat=a(R,"failIfMajorPerformanceCaveat",!1,C),this.powerPreference=a(R,"powerPreference","default",C),this.batchSize=a(R,"batchSize",4096,C),this.maxTextures=a(R,"maxTextures",-1,C),this.maxLights=a(R,"maxLights",10,C);var A=a(C,"backgroundColor",0);this.backgroundColor=p(A),this.transparent&&(this.backgroundColor=p(0),this.backgroundColor.alpha=0),this.preBoot=a(C,"callbacks.preBoot",c),this.postBoot=a(C,"callbacks.postBoot",c),this.physics=a(C,"physics",{}),this.defaultPhysicsSystem=a(this.physics,"default",!1),this.loaderBaseURL=a(C,"loader.baseURL",""),this.loaderPath=a(C,"loader.path",""),this.loaderMaxParallelDownloads=a(C,"loader.maxParallelDownloads",h.os.android?6:32),this.loaderCrossOrigin=a(C,"loader.crossOrigin",void 0),this.loaderResponseType=a(C,"loader.responseType",""),this.loaderAsync=a(C,"loader.async",!0),this.loaderUser=a(C,"loader.user",""),this.loaderPassword=a(C,"loader.password",""),this.loaderTimeout=a(C,"loader.timeout",0),this.loaderMaxRetries=a(C,"loader.maxRetries",2),this.loaderWithCredentials=a(C,"loader.withCredentials",!1),this.loaderImageLoadType=a(C,"loader.imageLoadType","XHR"),this.loaderLocalScheme=a(C,"loader.localScheme",["file://","capacitor://"]),this.glowFXQuality=a(C,"fx.glow.quality",.1),this.glowFXDistance=a(C,"fx.glow.distance",10),this.installGlobalPlugins=[],this.installScenePlugins=[];var L=a(C,"plugins",null),F=d.DefaultScene;L&&(Array.isArray(L)?this.defaultPlugins=L:f(L)&&(this.installGlobalPlugins=l(L,"global",[]),this.installScenePlugins=l(L,"scene",[]),Array.isArray(L.default)?F=L.default:Array.isArray(L.defaultMerge)&&(F=F.concat(L.defaultMerge)))),this.defaultPlugins=F;var G="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAg";this.defaultImage=a(C,"images.default",G+"AQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg=="),this.missingImage=a(C,"images.missing",G+"CAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg=="),this.whiteImage=a(C,"images.white","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAIAAAAmkwkpAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABdJREFUeNpi/P//PwMMMDEgAdwcgAADAJZuAwXJYZOzAAAAAElFTkSuQmCC"),window&&(window.FORCE_WEBGL?this.renderType=y.WEBGL:window.FORCE_CANVAS&&(this.renderType=y.CANVAS))}});n.exports=m}),86054:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(20623),y=r(27919),d=r(8054),h=r(89357),l=function(a){var f=a.config;if((f.customEnvironment||f.canvas)&&f.renderType===d.AUTO)throw new Error("Must set explicit renderType in custom environment");if(!f.customEnvironment&&!f.canvas&&f.renderType!==d.HEADLESS)if(f.renderType===d.AUTO&&(f.renderType=h.webGL?d.WEBGL:d.CANVAS),f.renderType===d.WEBGL){if(!h.webGL)throw new Error("Cannot create WebGL context, aborting.")}else if(f.renderType===d.CANVAS){if(!h.canvas)throw new Error("Cannot create Canvas context, aborting.")}else throw new Error("Unknown value for renderer type: "+f.renderType);f.antialias||y.disableSmoothing();var c=a.scale.baseSize,u=c.width,v=c.height;if(f.canvas?(a.canvas=f.canvas,a.canvas.width=u,a.canvas.height=v):a.canvas=y.create(a,u,v,f.renderType),f.canvasStyle&&(a.canvas.style=f.canvasStyle),f.antialias||o.setCrisp(a.canvas),f.renderType!==d.HEADLESS){var p,m;p=r(68627),m=r(74797),f.renderType===d.WEBGL?a.renderer=new m(a):(a.renderer=new p(a),a.context=a.renderer.gameContext)}};n.exports=l}),96391:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(8054),y=function(d){var h=d.config;if(!h.hideBanner){var l="WebGL";h.renderType===o.CANVAS?l="Canvas":h.renderType===o.HEADLESS&&(l="Headless");var a=h.audio,f=d.device.audio,c;if(f.webAudio&&!a.disableWebAudio?c="Web Audio":a.noAudio||!f.webAudio&&!f.audioData?c="No Audio":c="HTML5 Audio",d.device.browser.ie)window.console&&console.log("Phaser v"+o.VERSION+" / https://phaser.io");else{var u="",v=[u];if(Array.isArray(h.bannerBackgroundColor)){var p;h.bannerBackgroundColor.forEach(function(x){u=u.concat("%c "),v.push("background: "+x),p=x}),v[v.length-1]="color: "+h.bannerTextColor+"; background: "+p}else u=u.concat("%c "),v.push("color: "+h.bannerTextColor+"; background: "+h.bannerBackgroundColor);v.push("background: transparent"),h.gameTitle&&(u=u.concat(h.gameTitle),h.gameVersion&&(u=u.concat(" v"+h.gameVersion)),h.hidePhaser||(u=u.concat(" / ")));var m="";h.hidePhaser||(u=u.concat("Phaser v"+o.VERSION+m+" ("+l+" | "+c+")")),u=u.concat(" %c "+h.gameURL),v[0]=u,console.log.apply(console,v)}}};n.exports=y}),50127:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(40366),y=r(60848),d=r(24047),h=r(27919),l=r(83419),a=r(69547),f=r(83719),c=r(86054),u=r(45893),v=r(96391),p=r(82264),m=r(57264),x=r(50792),C=r(8443),P=r(7003),w=r(37277),M=r(77332),R=r(76531),A=r(60903),L=r(69442),F=r(17130),G=r(65898),I=r(51085),B=r(14747),k=new l({initialize:function(H){this.config=new a(H),this.renderer=null,this.domContainer=null,this.canvas=null,this.context=null,this.isBooted=!1,this.isRunning=!1,this.events=new x,this.anims=new y(this),this.textures=new F(this),this.cache=new d(this),this.registry=new u(this,new x),this.input=new P(this,this.config),this.scene=new A(this,this.config.sceneConfig),this.device=p,this.scale=new R(this,this.config),this.sound=null,this.sound=B.create(this),this.loop=new G(this,this.config.fps),this.plugins=new M(this,this.config),this.pendingDestroy=!1,this.removeCanvas=!1,this.noReturn=!1,this.hasFocus=!1,this.isPaused=!1,m(this.boot.bind(this))},boot:function(){if(!w.hasCore("EventEmitter")){console.warn("Aborting. Core Plugins missing.");return}this.isBooted=!0,this.config.preBoot(this),this.scale.preBoot(),c(this),f(this),v(this),o(this.canvas,this.config.parent),this.textures.once(L.READY,this.texturesReady,this),this.events.emit(C.BOOT)},texturesReady:function(){this.events.emit(C.READY),this.start()},start:function(){this.isRunning=!0,this.config.postBoot(this),this.renderer?this.loop.start(this.step.bind(this)):this.loop.start(this.headlessStep.bind(this)),I(this);var U=this.events;U.on(C.HIDDEN,this.onHidden,this),U.on(C.VISIBLE,this.onVisible,this),U.on(C.BLUR,this.onBlur,this),U.on(C.FOCUS,this.onFocus,this)},step:function(U,H){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var X=this.events;X.emit(C.PRE_STEP,U,H),X.emit(C.STEP,U,H),this.scene.update(U,H),X.emit(C.POST_STEP,U,H);var j=this.renderer;j.preRender(),X.emit(C.PRE_RENDER,j,U,H),this.scene.render(j),j.postRender(),X.emit(C.POST_RENDER,j,U,H)}},headlessStep:function(U,H){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var X=this.events;X.emit(C.PRE_STEP,U,H),X.emit(C.STEP,U,H),this.scene.update(U,H),X.emit(C.POST_STEP,U,H),this.scene.isProcessing=!1,X.emit(C.PRE_RENDER,null,U,H),X.emit(C.POST_RENDER,null,U,H)}},onHidden:function(){this.loop.pause(),this.events.emit(C.PAUSE)},pause:function(){var U=this.isPaused;this.isPaused=!0,U||this.events.emit(C.PAUSE)},onVisible:function(){this.loop.resume(),this.events.emit(C.RESUME,this.loop.pauseDuration)},resume:function(){var U=this.isPaused;this.isPaused=!1,U&&this.events.emit(C.RESUME,0)},onBlur:function(){this.hasFocus=!1,this.loop.blur()},onFocus:function(){this.hasFocus=!0,this.loop.focus()},getFrame:function(){return this.loop.frame},getTime:function(){return this.loop.now},destroy:function(U,H){H===void 0&&(H=!1),this.pendingDestroy=!0,this.removeCanvas=U,this.noReturn=H},runDestroy:function(){this.scene.destroy(),this.events.emit(C.DESTROY),this.events.removeAllListeners(),this.renderer&&this.renderer.destroy(),this.removeCanvas&&this.canvas&&(h.remove(this.canvas),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)),this.domContainer&&this.domContainer.parentNode&&this.domContainer.parentNode.removeChild(this.domContainer),this.loop.destroy(),this.pendingDestroy=!1}});n.exports=k}),65898:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(35154),d=r(29747),h=r(43092),l=new o({initialize:function(f,c){this.game=f,this.raf=new h,this.started=!1,this.running=!1,this.minFps=y(c,"min",5),this.targetFps=y(c,"target",60),this.fpsLimit=y(c,"limit",0),this.hasFpsLimit=this.fpsLimit>0,this._limitRate=this.hasFpsLimit?1e3/this.fpsLimit:0,this._min=1e3/this.minFps,this._target=1e3/this.targetFps,this.actualFps=this.targetFps,this.nextFpsUpdate=0,this.framesThisSecond=0,this.callback=d,this.forceSetTimeOut=y(c,"forceSetTimeOut",!1),this.time=0,this.startTime=0,this.lastTime=0,this.frame=0,this.inFocus=!0,this.pauseDuration=0,this._pauseTime=0,this._coolDown=0,this.delta=0,this.deltaIndex=0,this.deltaHistory=[],this.deltaSmoothingMax=y(c,"deltaHistory",10),this.panicMax=y(c,"panicMax",120),this.rawDelta=0,this.now=0,this.smoothStep=y(c,"smoothStep",!0)},blur:function(){this.inFocus=!1},focus:function(){this.inFocus=!0,this.resetDelta()},pause:function(){this._pauseTime=window.performance.now()},resume:function(){this.resetDelta(),this.pauseDuration=this.time-this._pauseTime,this.startTime+=this.pauseDuration},resetDelta:function(){var a=window.performance.now();this.time=a,this.lastTime=a,this.nextFpsUpdate=a+1e3,this.framesThisSecond=0;for(var f=0;f<this.deltaSmoothingMax;f++)this.deltaHistory[f]=Math.min(this._target,this.deltaHistory[f]);this.delta=0,this.deltaIndex=0,this._coolDown=this.panicMax},start:function(a){if(this.started)return this;this.started=!0,this.running=!0;for(var f=0;f<this.deltaSmoothingMax;f++)this.deltaHistory[f]=this._target;this.resetDelta(),this.startTime=window.performance.now(),this.callback=a;var c=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(c,this.forceSetTimeOut,this._target)},smoothDelta:function(a){var f=this.deltaIndex,c=this.deltaHistory,u=this.deltaSmoothingMax;(this._coolDown>0||!this.inFocus)&&(this._coolDown--,a=Math.min(a,this._target)),a>this._min&&(a=c[f],a=Math.min(a,this._min)),c[f]=a,this.deltaIndex++,this.deltaIndex>=u&&(this.deltaIndex=0);for(var v=0,p=0;p<u;p++)v+=c[p];return v/=u,v},updateFPS:function(a){this.actualFps=.25*this.framesThisSecond+.75*this.actualFps,this.nextFpsUpdate=a+1e3,this.framesThisSecond=0},stepLimitFPS:function(a){this.now=a;var f=Math.max(0,a-this.lastTime);this.rawDelta=f,this.time+=this.rawDelta,this.smoothStep&&(f=this.smoothDelta(f)),this.delta+=f,a>=this.nextFpsUpdate&&this.updateFPS(a),this.framesThisSecond++,this.delta>=this._limitRate&&(this.callback(a,this.delta),this.delta=0),this.lastTime=a,this.frame++},step:function(a){this.now=a;var f=Math.max(0,a-this.lastTime);this.rawDelta=f,this.time+=this.rawDelta,this.smoothStep&&(f=this.smoothDelta(f)),this.delta=f,a>=this.nextFpsUpdate&&this.updateFPS(a),this.framesThisSecond++,this.callback(a,f),this.lastTime=a,this.frame++},tick:function(){var a=window.performance.now();this.hasFpsLimit?this.stepLimitFPS(a):this.step(a)},sleep:function(){this.running&&(this.raf.stop(),this.running=!1)},wake:function(a){a===void 0&&(a=!1);var f=window.performance.now();if(!this.running){a&&(this.startTime+=-this.lastTime+(this.lastTime+f));var c=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(c,this.forceSetTimeOut,this._target),this.running=!0,this.nextFpsUpdate=f+1e3,this.framesThisSecond=0,this.fpsLimitTriggered=!1,this.tick()}},getDuration:function(){return Math.round(this.lastTime-this.startTime)/1e3},getDurationMS:function(){return Math.round(this.lastTime-this.startTime)},stop:function(){return this.running=!1,this.started=!1,this.raf.stop(),this},destroy:function(){this.stop(),this.raf.destroy(),this.raf=null,this.game=null,this.callback=null}});n.exports=l}),51085:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(8443),y=function(d){var h,l=d.events;if(document.hidden!==void 0)h="visibilitychange";else{var a=["webkit","moz","ms"];a.forEach(function(c){document[c+"Hidden"]!==void 0&&(document.hidden=function(){return document[c+"Hidden"]},h=c+"visibilitychange")})}var f=function(c){document.hidden||c.type==="pause"?l.emit(o.HIDDEN):l.emit(o.VISIBLE)};h&&document.addEventListener(h,f,!1),window.onblur=function(){l.emit(o.BLUR)},window.onfocus=function(){l.emit(o.FOCUS)},window.focus&&d.config.autoFocus&&window.focus()};n.exports=y}),97217:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="blur"}),47548:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="boot"}),19814:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="contextlost"}),68446:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="destroy"}),41700:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="focus"}),25432:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="hidden"}),65942:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pause"}),59211:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="postrender"}),47789:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="poststep"}),39066:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="prerender"}),460:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="prestep"}),16175:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="ready"}),42331:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="resume"}),11966:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="step"}),32969:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="systemready"}),94830:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="visible"}),8443:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={BLUR:r(97217),BOOT:r(47548),CONTEXT_LOST:r(19814),DESTROY:r(68446),FOCUS:r(41700),HIDDEN:r(25432),PAUSE:r(65942),POST_RENDER:r(59211),POST_STEP:r(47789),PRE_RENDER:r(39066),PRE_STEP:r(460),READY:r(16175),RESUME:r(42331),STEP:r(11966),SYSTEM_READY:r(32969),VISIBLE:r(94830)}}),42857:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Config:r(69547),CreateRenderer:r(86054),DebugHeader:r(96391),Events:r(8443),TimeStep:r(65898),VisibilityHandler:r(51085)}}),99584:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(5290),y=r(27919),d=r(35154),h=function(l){var a=d(l,"data",[]),f=d(l,"canvas",null),c=d(l,"palette",o),u=d(l,"pixelWidth",1),v=d(l,"pixelHeight",u),p=d(l,"resizeCanvas",!0),m=d(l,"clearCanvas",!0),x=d(l,"preRender",null),C=d(l,"postRender",null),P=Math.floor(Math.abs(a[0].length*u)),w=Math.floor(Math.abs(a.length*v));f||(f=y.create2D(this,P,w),p=!1,m=!1),p&&(f.width=P,f.height=w);var M=f.getContext("2d",{willReadFrequently:!0});m&&M.clearRect(0,0,P,w),x&&x(f,M);for(var R=0;R<a.length;R++)for(var A=a[R],L=0;L<A.length;L++){var F=A[L];F!=="."&&F!==" "&&(M.fillStyle=c[F],M.fillRect(L*u,R*v,u,v))}return C&&C(f,M),f};n.exports=h}),15822:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={GenerateTexture:r(99584),Palettes:r(57763)}}),5290:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",A:"#44891A",B:"#A3CE27",C:"#1B2632",D:"#005784",E:"#31A2F2",F:"#B2DCEF"}}),23816:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",A:"#bd736a",B:"#525252",C:"#838383",D:"#acee8b",E:"#7b73de",F:"#acacac"}}),9866:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",A:"#6cd947",B:"#7be2f9",C:"#eb8a60",D:"#e23d69",E:"#ffd93f",F:"#fff"}}),77552:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#f5f4eb"}}),92259:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#fff"}}),57763:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ARNE16:r(5290),C64:r(23816),CGA:r(9866),JMP:r(77552),MSX:r(92259)}}),46728:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(36316),d=r(80021),h=r(26099),l=new o({Extends:d,initialize:function(f,c,u,v){d.call(this,"CubicBezierCurve"),Array.isArray(f)&&(v=new h(f[6],f[7]),u=new h(f[4],f[5]),c=new h(f[2],f[3]),f=new h(f[0],f[1])),this.p0=f,this.p1=c,this.p2=u,this.p3=v},getStartPoint:function(a){return a===void 0&&(a=new h),a.copy(this.p0)},getResolution:function(a){return a},getPoint:function(a,f){f===void 0&&(f=new h);var c=this.p0,u=this.p1,v=this.p2,p=this.p3;return f.set(y(a,c.x,u.x,v.x,p.x),y(a,c.y,u.y,v.y,p.y))},draw:function(a,f){f===void 0&&(f=32);var c=this.getPoints(f);a.beginPath(),a.moveTo(this.p0.x,this.p0.y);for(var u=1;u<c.length;u++)a.lineTo(c[u].x,c[u].y);return a.strokePath(),a},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y,this.p3.x,this.p3.y]}}});l.fromJSON=function(a){var f=a.points,c=new h(f[0],f[1]),u=new h(f[2],f[3]),v=new h(f[4],f[5]),p=new h(f[6],f[7]);return new l(c,u,v,p)},n.exports=l}),80021:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(19217),d=r(87841),h=r(26099),l=new o({initialize:function(f){this.type=f,this.defaultDivisions=5,this.arcLengthDivisions=100,this.cacheArcLengths=[],this.needsUpdate=!0,this.active=!0,this._tmpVec2A=new h,this._tmpVec2B=new h},draw:function(a,f){return f===void 0&&(f=32),a.strokePoints(this.getPoints(f))},getBounds:function(a,f){a||(a=new d),f===void 0&&(f=16);var c=this.getLength();f>c&&(f=c/2);var u=Math.max(1,Math.round(c/f));return y(this.getSpacedPoints(u),a)},getDistancePoints:function(a){var f=this.getLength(),c=Math.max(1,f/a);return this.getSpacedPoints(c)},getEndPoint:function(a){return a===void 0&&(a=new h),this.getPointAt(1,a)},getLength:function(){var a=this.getLengths();return a[a.length-1]},getLengths:function(a){if(a===void 0&&(a=this.arcLengthDivisions),this.cacheArcLengths.length===a+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var f=[],c,u=this.getPoint(0,this._tmpVec2A),v=0;f.push(0);for(var p=1;p<=a;p++)c=this.getPoint(p/a,this._tmpVec2B),v+=c.distance(u),f.push(v),u.copy(c);return this.cacheArcLengths=f,f},getPointAt:function(a,f){var c=this.getUtoTmapping(a);return this.getPoint(c,f)},getPoints:function(a,f,c){c===void 0&&(c=[]),a||(f?a=this.getLength()/f:a=this.defaultDivisions);for(var u=0;u<=a;u++)c.push(this.getPoint(u/a));return c},getRandomPoint:function(a){return a===void 0&&(a=new h),this.getPoint(Math.random(),a)},getSpacedPoints:function(a,f,c){c===void 0&&(c=[]),a||(f?a=this.getLength()/f:a=this.defaultDivisions);for(var u=0;u<=a;u++){var v=this.getUtoTmapping(u/a,null,a);c.push(this.getPoint(v))}return c},getStartPoint:function(a){return a===void 0&&(a=new h),this.getPointAt(0,a)},getTangent:function(a,f){f===void 0&&(f=new h);var c=1e-4,u=a-c,v=a+c;return u<0&&(u=0),v>1&&(v=1),this.getPoint(u,this._tmpVec2A),this.getPoint(v,f),f.subtract(this._tmpVec2A).normalize()},getTangentAt:function(a,f){var c=this.getUtoTmapping(a);return this.getTangent(c,f)},getTFromDistance:function(a,f){return a<=0?0:this.getUtoTmapping(0,a,f)},getUtoTmapping:function(a,f,c){var u=this.getLengths(c),v=0,p=u.length,m;f?m=Math.min(f,u[p-1]):m=a*u[p-1];for(var x=0,C=p-1,P;x<=C;)if(v=Math.floor(x+(C-x)/2),P=u[v]-m,P<0)x=v+1;else if(P>0)C=v-1;else{C=v;break}if(v=C,u[v]===m)return v/(p-1);var w=u[v],M=u[v+1],R=M-w,A=(m-w)/R;return(v+A)/(p-1)},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()}});n.exports=l}),73825:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(80021),d=r(39506),h=r(35154),l=r(43396),a=r(26099),f=new o({Extends:y,initialize:function(u,v,p,m,x,C,P,w){if(typeof u=="object"){var M=u;u=h(M,"x",0),v=h(M,"y",0),p=h(M,"xRadius",0),m=h(M,"yRadius",p),x=h(M,"startAngle",0),C=h(M,"endAngle",360),P=h(M,"clockwise",!1),w=h(M,"rotation",0)}else m===void 0&&(m=p),x===void 0&&(x=0),C===void 0&&(C=360),P===void 0&&(P=!1),w===void 0&&(w=0);y.call(this,"EllipseCurve"),this.p0=new a(u,v),this._xRadius=p,this._yRadius=m,this._startAngle=d(x),this._endAngle=d(C),this._clockwise=P,this._rotation=d(w)},getStartPoint:function(c){return c===void 0&&(c=new a),this.getPoint(0,c)},getResolution:function(c){return c*2},getPoint:function(c,u){u===void 0&&(u=new a);for(var v=Math.PI*2,p=this._endAngle-this._startAngle,m=Math.abs(p)<Number.EPSILON;p<0;)p+=v;for(;p>v;)p-=v;p<Number.EPSILON&&(m?p=0:p=v),this._clockwise&&!m&&(p===v?p=-v:p=p-v);var x=this._startAngle+c*p,C=this.p0.x+this._xRadius*Math.cos(x),P=this.p0.y+this._yRadius*Math.sin(x);if(this._rotation!==0){var w=Math.cos(this._rotation),M=Math.sin(this._rotation),R=C-this.p0.x,A=P-this.p0.y;C=R*w-A*M+this.p0.x,P=R*M+A*w+this.p0.y}return u.set(C,P)},setXRadius:function(c){return this.xRadius=c,this},setYRadius:function(c){return this.yRadius=c,this},setWidth:function(c){return this.xRadius=c/2,this},setHeight:function(c){return this.yRadius=c/2,this},setStartAngle:function(c){return this.startAngle=c,this},setEndAngle:function(c){return this.endAngle=c,this},setClockwise:function(c){return this.clockwise=c,this},setRotation:function(c){return this.rotation=c,this},x:{get:function(){return this.p0.x},set:function(c){this.p0.x=c}},y:{get:function(){return this.p0.y},set:function(c){this.p0.y=c}},xRadius:{get:function(){return this._xRadius},set:function(c){this._xRadius=c}},yRadius:{get:function(){return this._yRadius},set:function(c){this._yRadius=c}},startAngle:{get:function(){return l(this._startAngle)},set:function(c){this._startAngle=d(c)}},endAngle:{get:function(){return l(this._endAngle)},set:function(c){this._endAngle=d(c)}},clockwise:{get:function(){return this._clockwise},set:function(c){this._clockwise=c}},angle:{get:function(){return l(this._rotation)},set:function(c){this._rotation=d(c)}},rotation:{get:function(){return this._rotation},set:function(c){this._rotation=c}},toJSON:function(){return{type:this.type,x:this.p0.x,y:this.p0.y,xRadius:this._xRadius,yRadius:this._yRadius,startAngle:l(this._startAngle),endAngle:l(this._endAngle),clockwise:this._clockwise,rotation:l(this._rotation)}}});f.fromJSON=function(c){return new f(c)},n.exports=f}),33951:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(80021),d=r(19217),h=r(87841),l=r(26099),a=new o({Extends:y,initialize:function(c,u){y.call(this,"LineCurve"),Array.isArray(c)&&(u=new l(c[2],c[3]),c=new l(c[0],c[1])),this.p0=c,this.p1=u,this.arcLengthDivisions=1},getBounds:function(f){return f===void 0&&(f=new h),d([this.p0,this.p1],f)},getStartPoint:function(f){return f===void 0&&(f=new l),f.copy(this.p0)},getResolution:function(f){return f===void 0&&(f=1),f},getPoint:function(f,c){return c===void 0&&(c=new l),f===1?c.copy(this.p1):(c.copy(this.p1).subtract(this.p0).scale(f).add(this.p0),c)},getPointAt:function(f,c){return this.getPoint(f,c)},getTangent:function(f,c){return c===void 0&&(c=new l),c.copy(this.p1).subtract(this.p0).normalize(),c},getUtoTmapping:function(f,c,u){var v;if(c){var p=this.getLengths(u),m=p[p.length-1],x=Math.min(c,m);v=x/m}else v=f;return v},draw:function(f){return f.lineBetween(this.p0.x,this.p0.y,this.p1.x,this.p1.y),f},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y]}}});a.fromJSON=function(f){var c=f.points,u=new l(c[0],c[1]),v=new l(c[2],c[3]);return new a(u,v)},n.exports=a}),14744:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(80021),d=r(32112),h=r(26099),l=new o({Extends:y,initialize:function(f,c,u){y.call(this,"QuadraticBezierCurve"),Array.isArray(f)&&(u=new h(f[4],f[5]),c=new h(f[2],f[3]),f=new h(f[0],f[1])),this.p0=f,this.p1=c,this.p2=u},getStartPoint:function(a){return a===void 0&&(a=new h),a.copy(this.p0)},getResolution:function(a){return a},getPoint:function(a,f){f===void 0&&(f=new h);var c=this.p0,u=this.p1,v=this.p2;return f.set(d(a,c.x,u.x,v.x),d(a,c.y,u.y,v.y))},draw:function(a,f){f===void 0&&(f=32);var c=this.getPoints(f);a.beginPath(),a.moveTo(this.p0.x,this.p0.y);for(var u=1;u<c.length;u++)a.lineTo(c[u].x,c[u].y);return a.strokePath(),a},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y]}}});l.fromJSON=function(a){var f=a.points,c=new h(f[0],f[1]),u=new h(f[2],f[3]),v=new h(f[4],f[5]);return new l(c,u,v)},n.exports=l}),42534:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(87842),y=r(83419),d=r(80021),h=r(26099),l=new y({Extends:d,initialize:function(f){f===void 0&&(f=[]),d.call(this,"SplineCurve"),this.points=[],this.addPoints(f)},addPoints:function(a){for(var f=0;f<a.length;f++){var c=new h;typeof a[f]=="number"?(c.x=a[f],c.y=a[f+1],f++):Array.isArray(a[f])?(c.x=a[f][0],c.y=a[f][1]):(c.x=a[f].x,c.y=a[f].y),this.points.push(c)}return this},addPoint:function(a,f){var c=new h(a,f);return this.points.push(c),c},getStartPoint:function(a){return a===void 0&&(a=new h),a.copy(this.points[0])},getResolution:function(a){return a*this.points.length},getPoint:function(a,f){f===void 0&&(f=new h);var c=this.points,u=(c.length-1)*a,v=Math.floor(u),p=u-v,m=c[v===0?v:v-1],x=c[v],C=c[v>c.length-2?c.length-1:v+1],P=c[v>c.length-3?c.length-1:v+2];return f.set(o(p,m.x,x.x,C.x,P.x),o(p,m.y,x.y,C.y,P.y))},toJSON:function(){for(var a=[],f=0;f<this.points.length;f++)a.push(this.points[f].x),a.push(this.points[f].y);return{type:this.type,points:a}}});l.fromJSON=function(a){return new l(a.points)},n.exports=l}),25410:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Path:r(46669),MoveTo:r(68618),CubicBezier:r(46728),Curve:r(80021),Ellipse:r(73825),Line:r(33951),QuadraticBezier:r(14744),Spline:r(42534)}}),68618:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(26099),d=new o({initialize:function(l,a){this.active=!1,this.p0=new y(l,a)},getPoint:function(h,l){return l===void 0&&(l=new y),l.copy(this.p0)},getPointAt:function(h,l){return this.getPoint(h,l)},getResolution:function(){return 1},getLength:function(){return 0},toJSON:function(){return{type:"MoveTo",points:[this.p0.x,this.p0.y]}}});n.exports=d}),46669:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(46728),d=r(73825),h=r(39429),l=r(33951),a=r(68618),f=r(14744),c=r(87841),u=r(42534),v=r(26099),p=r(36383),m=new o({initialize:function(C,P){C===void 0&&(C=0),P===void 0&&(P=0),this.name="",this.defaultDivisions=12,this.curves=[],this.cacheLengths=[],this.autoClose=!1,this.startPoint=new v,this._tmpVec2A=new v,this._tmpVec2B=new v,typeof C=="object"?this.fromJSON(C):this.startPoint.set(C,P)},add:function(x){return this.curves.push(x),this},circleTo:function(x,C,P){return C===void 0&&(C=!1),this.ellipseTo(x,x,0,360,C,P)},closePath:function(){var x=this.curves[0].getPoint(0),C=this.curves[this.curves.length-1].getPoint(1);return x.equals(C)||this.curves.push(new l(C,x)),this},cubicBezierTo:function(x,C,P,w,M,R){var A=this.getEndPoint(),L,F,G;return x instanceof v?(L=x,F=C,G=P):(L=new v(P,w),F=new v(M,R),G=new v(x,C)),this.add(new y(A,L,F,G))},quadraticBezierTo:function(x,C,P,w){var M=this.getEndPoint(),R,A;return x instanceof v?(R=x,A=C):(R=new v(P,w),A=new v(x,C)),this.add(new f(M,R,A))},draw:function(x,C){for(var P=0;P<this.curves.length;P++){var w=this.curves[P];w.active&&w.draw(x,C)}return x},ellipseTo:function(x,C,P,w,M,R){var A=new d(0,0,x,C,P,w,M,R),L=this.getEndPoint(this._tmpVec2A),F=A.getStartPoint(this._tmpVec2B);return L.subtract(F),A.x=L.x,A.y=L.y,this.add(A)},fromJSON:function(x){this.curves=[],this.cacheLengths=[],this.startPoint.set(x.x,x.y),this.autoClose=x.autoClose;for(var C=0;C<x.curves.length;C++){var P=x.curves[C];switch(P.type){case"LineCurve":this.add(l.fromJSON(P));break;case"EllipseCurve":this.add(d.fromJSON(P));break;case"SplineCurve":this.add(u.fromJSON(P));break;case"CubicBezierCurve":this.add(y.fromJSON(P));break;case"QuadraticBezierCurve":this.add(f.fromJSON(P));break}}return this},getBounds:function(x,C){x===void 0&&(x=new c),C===void 0&&(C=16),x.x=Number.MAX_VALUE,x.y=Number.MAX_VALUE;for(var P=new c,w=p.MIN_SAFE_INTEGER,M=p.MIN_SAFE_INTEGER,R=0;R<this.curves.length;R++){var A=this.curves[R];A.active&&(A.getBounds(P,C),x.x=Math.min(x.x,P.x),x.y=Math.min(x.y,P.y),w=Math.max(w,P.right),M=Math.max(M,P.bottom))}return x.right=w,x.bottom=M,x},getCurveLengths:function(){if(this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var x=[],C=0,P=0;P<this.curves.length;P++)C+=this.curves[P].getLength(),x.push(C);return this.cacheLengths=x,x},getCurveAt:function(x){for(var C=x*this.getLength(),P=this.getCurveLengths(),w=0;w<P.length;){if(P[w]>=C)return this.curves[w];w++}return null},getEndPoint:function(x){return x===void 0&&(x=new v),this.curves.length>0?this.curves[this.curves.length-1].getPoint(1,x):x.copy(this.startPoint),x},getLength:function(){var x=this.getCurveLengths();return x[x.length-1]},getPoint:function(x,C){C===void 0&&(C=new v);for(var P=x*this.getLength(),w=this.getCurveLengths(),M=0;M<w.length;){if(w[M]>=P){var R=w[M]-P,A=this.curves[M],L=A.getLength(),F=L===0?0:1-R/L;return A.getPointAt(F,C)}M++}return null},getPoints:function(x,C){!x&&!C&&(x=this.defaultDivisions);for(var P=[],w,M=0;M<this.curves.length;M++){var R=this.curves[M];if(R.active)for(var A=R.getResolution(x),L=R.getPoints(A,C),F=0;F<L.length;F++){var G=L[F];w&&w.equals(G)||(P.push(G),w=G)}}return this.autoClose&&P.length>1&&!P[P.length-1].equals(P[0])&&P.push(P[0]),P},getRandomPoint:function(x){return x===void 0&&(x=new v),this.getPoint(Math.random(),x)},getSpacedPoints:function(x){x===void 0&&(x=40);for(var C=[],P=0;P<=x;P++)C.push(this.getPoint(P/x));return this.autoClose&&C.push(C[0]),C},getStartPoint:function(x){return x===void 0&&(x=new v),x.copy(this.startPoint)},getTangent:function(x,C){C===void 0&&(C=new v);for(var P=x*this.getLength(),w=this.getCurveLengths(),M=0;M<w.length;){if(w[M]>=P){var R=w[M]-P,A=this.curves[M],L=A.getLength(),F=L===0?0:1-R/L;return A.getTangentAt(F,C)}M++}return null},lineTo:function(x,C){x instanceof v?this._tmpVec2B.copy(x):typeof x=="object"?this._tmpVec2B.setFromObject(x):this._tmpVec2B.set(x,C);var P=this.getEndPoint(this._tmpVec2A);return this.add(new l([P.x,P.y,this._tmpVec2B.x,this._tmpVec2B.y]))},splineTo:function(x){return x.unshift(this.getEndPoint()),this.add(new u(x))},moveTo:function(x,C){return x instanceof v?this.add(new a(x.x,x.y)):this.add(new a(x,C))},toJSON:function(){for(var x=[],C=0;C<this.curves.length;C++)x.push(this.curves[C].toJSON());return{type:"Path",x:this.startPoint.x,y:this.startPoint.y,autoClose:this.autoClose,curves:x}},updateArcLengths:function(){this.cacheLengths=[],this.getCurveLengths()},destroy:function(){this.curves.length=0,this.cacheLengths.length=0,this.startPoint=void 0}});h.register("path",function(x,C){return new m(x,C)}),n.exports=m}),45893:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(24882),d=new o({initialize:function(l,a){this.parent=l,this.events=a,a||(this.events=l.events?l.events:l),this.list={},this.values={},this._frozen=!1,!l.hasOwnProperty("sys")&&this.events&&this.events.once(y.DESTROY,this.destroy,this)},get:function(h){var l=this.list;if(Array.isArray(h)){for(var a=[],f=0;f<h.length;f++)a.push(l[h[f]]);return a}else return l[h]},getAll:function(){var h={};for(var l in this.list)this.list.hasOwnProperty(l)&&(h[l]=this.list[l]);return h},query:function(h){var l={};for(var a in this.list)this.list.hasOwnProperty(a)&&a.match(h)&&(l[a]=this.list[a]);return l},set:function(h,l){if(this._frozen)return this;if(typeof h=="string")return this.setValue(h,l);for(var a in h)this.setValue(a,h[a]);return this},inc:function(h,l){if(this._frozen)return this;l===void 0&&(l=1);var a=this.get(h);return a===void 0&&(a=0),this.set(h,a+l),this},toggle:function(h){return this._frozen?this:(this.set(h,!this.get(h)),this)},setValue:function(h,l){if(this._frozen)return this;if(this.has(h))this.values[h]=l;else{var a=this,f=this.list,c=this.events,u=this.parent;Object.defineProperty(this.values,h,{enumerable:!0,configurable:!0,get:function(){return f[h]},set:function(v){if(!a._frozen){var p=f[h];f[h]=v,c.emit(y.CHANGE_DATA,u,h,v,p),c.emit(y.CHANGE_DATA_KEY+h,u,v,p)}}}),f[h]=l,c.emit(y.SET_DATA,u,h,l)}return this},each:function(h,l){for(var a=[this.parent,null,void 0],f=1;f<arguments.length;f++)a.push(arguments[f]);for(var c in this.list)a[1]=c,a[2]=this.list[c],h.apply(l,a);return this},merge:function(h,l){l===void 0&&(l=!0);for(var a in h)h.hasOwnProperty(a)&&(l||!l&&!this.has(a))&&this.setValue(a,h[a]);return this},remove:function(h){if(this._frozen)return this;if(Array.isArray(h))for(var l=0;l<h.length;l++)this.removeValue(h[l]);else return this.removeValue(h);return this},removeValue:function(h){if(this.has(h)){var l=this.list[h];delete this.list[h],delete this.values[h],this.events.emit(y.REMOVE_DATA,this.parent,h,l)}return this},pop:function(h){var l=void 0;return!this._frozen&&this.has(h)&&(l=this.list[h],delete this.list[h],delete this.values[h],this.events.emit(y.REMOVE_DATA,this.parent,h,l)),l},has:function(h){return this.list.hasOwnProperty(h)},setFreeze:function(h){return this._frozen=h,this},reset:function(){for(var h in this.list)delete this.list[h],delete this.values[h];return this._frozen=!1,this},destroy:function(){this.reset(),this.events.off(y.CHANGE_DATA),this.events.off(y.SET_DATA),this.events.off(y.REMOVE_DATA),this.parent=null},freeze:{get:function(){return this._frozen},set:function(h){this._frozen=!!h}},count:{get:function(){var h=0;for(var l in this.list)this.list[l]!==void 0&&h++;return h}}});n.exports=d}),63646:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(45893),d=r(37277),h=r(44594),l=new o({Extends:y,initialize:function(f){y.call(this,f,f.sys.events),this.scene=f,this.systems=f.sys,f.sys.events.once(h.BOOT,this.boot,this),f.sys.events.on(h.START,this.start,this)},boot:function(){this.events=this.systems.events,this.events.once(h.DESTROY,this.destroy,this)},start:function(){this.events.once(h.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.systems.events.off(h.SHUTDOWN,this.shutdown,this)},destroy:function(){y.prototype.destroy.call(this),this.events.off(h.START,this.start,this),this.scene=null,this.systems=null}});d.register("DataManagerPlugin",l,"data"),n.exports=l}),10700:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="changedata"}),93608:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="changedata-"}),60883:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="destroy"}),69780:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="removedata"}),22166:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="setdata"}),24882:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={CHANGE_DATA:r(10700),CHANGE_DATA_KEY:r(93608),DESTROY:r(60883),REMOVE_DATA:r(69780),SET_DATA:r(22166)}}),44965:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={DataManager:r(45893),DataManagerPlugin:r(63646),Events:r(24882)}}),7098:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(84148),y={flac:!1,aac:!1,audioData:!1,dolby:!1,m4a:!1,mp3:!1,ogg:!1,opus:!1,wav:!1,webAudio:!1,webm:!1};function d(){if(typeof importScripts=="function")return y;y.audioData=!!window.Audio,y.webAudio=!!(window.AudioContext||window.webkitAudioContext);var h=document.createElement("audio"),l=!!h.canPlayType;try{if(l){var a=function(u,v){var p=h.canPlayType("audio/"+u).replace(/^no$/,"");return v?!!(p||h.canPlayType("audio/"+v).replace(/^no$/,"")):!!p};if(y.ogg=a('ogg; codecs="vorbis"'),y.opus=a('ogg; codecs="opus"',"opus"),y.mp3=a("mpeg"),y.wav=a("wav"),y.m4a=a("x-m4a"),y.aac=a("aac"),y.flac=a("flac","x-flac"),y.webm=a('webm; codecs="vorbis"'),h.canPlayType('audio/mp4; codecs="ec-3"')!==""){if(o.edge)y.dolby=!0;else if(o.safari&&o.safariVersion>=9&&/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)){var f=parseInt(RegExp.$1,10),c=parseInt(RegExp.$2,10);(f===10&&c>=11||f>10)&&(y.dolby=!0)}}}}catch{}return y}n.exports=d()}),84148:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(25892),y={chrome:!1,chromeVersion:0,edge:!1,firefox:!1,firefoxVersion:0,ie:!1,ieVersion:0,mobileSafari:!1,opera:!1,safari:!1,safariVersion:0,silk:!1,trident:!1,tridentVersion:0,es2019:!1};function d(){var h=navigator.userAgent;return/Edg\/\d+/.test(h)?(y.edge=!0,y.es2019=!0):/OPR/.test(h)?(y.opera=!0,y.es2019=!0):/Chrome\/(\d+)/.test(h)&&!o.windowsPhone?(y.chrome=!0,y.chromeVersion=parseInt(RegExp.$1,10),y.es2019=y.chromeVersion>69):/Firefox\D+(\d+)/.test(h)?(y.firefox=!0,y.firefoxVersion=parseInt(RegExp.$1,10),y.es2019=y.firefoxVersion>10):/AppleWebKit\/(?!.*CriOS)/.test(h)&&o.iOS?(y.mobileSafari=!0,y.es2019=!0):/MSIE (\d+\.\d+);/.test(h)?(y.ie=!0,y.ieVersion=parseInt(RegExp.$1,10)):/Version\/(\d+\.\d+(\.\d+)?) Safari/.test(h)&&!o.windowsPhone?(y.safari=!0,y.safariVersion=parseInt(RegExp.$1,10),y.es2019=y.safariVersion>10):/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(h)&&(y.ie=!0,y.trident=!0,y.tridentVersion=parseInt(RegExp.$1,10),y.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(h)&&(y.silk=!0),y}n.exports=d()}),89289:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(27919),y={supportInverseAlpha:!1,supportNewBlendModes:!1};function d(){var a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",f="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",c=new Image;return c.onload=function(){var u=new Image;u.onload=function(){var v=o.create2D(u,6),p=v.getContext("2d",{willReadFrequently:!0});if(p.globalCompositeOperation="multiply",p.drawImage(c,0,0),p.drawImage(u,2,0),!p.getImageData(2,0,1,1))return!1;var m=p.getImageData(2,0,1,1).data;o.remove(u),y.supportNewBlendModes=m[0]===255&&m[1]===0&&m[2]===0},u.src=a+"/wCKxvRF"+f},c.src=a+"AP804Oa6"+f,!1}function h(){var a=o.create2D(this,2),f=a.getContext("2d",{willReadFrequently:!0});f.fillStyle="rgba(10, 20, 30, 0.5)",f.fillRect(0,0,1,1);var c=f.getImageData(0,0,1,1);if(c===null)return!1;f.putImageData(c,1,0);var u=f.getImageData(1,0,1,1),v=u.data[0]===c.data[0]&&u.data[1]===c.data[1]&&u.data[2]===c.data[2]&&u.data[3]===c.data[3];return o.remove(this),v}function l(){return typeof importScripts!="function"&&document!==void 0&&(y.supportNewBlendModes=d(),y.supportInverseAlpha=h()),y}n.exports=l()}),89357:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(25892),y=r(84148),d=r(27919),h={canvas:!1,canvasBitBltShift:null,file:!1,fileSystem:!1,getUserMedia:!0,littleEndian:!1,localStorage:!1,pointerLock:!1,stableSort:!1,support32bit:!1,vibration:!1,webGL:!1,worker:!1};function l(){var f=new ArrayBuffer(4),c=new Uint8Array(f),u=new Uint32Array(f);return c[0]=161,c[1]=178,c[2]=195,c[3]=212,u[0]===3569595041?!0:u[0]===2712847316?!1:null}function a(){if(typeof importScripts=="function")return h;h.canvas=!!window.CanvasRenderingContext2D;try{h.localStorage=!!localStorage.getItem}catch{h.localStorage=!1}h.file=!!window.File&&!!window.FileReader&&!!window.FileList&&!!window.Blob,h.fileSystem=!!window.requestFileSystem;var f=!1,c=function(){if(window.WebGLRenderingContext)try{var u=d.createWebGL(this),v=u.getContext("webgl")||u.getContext("experimental-webgl"),p=d.create2D(this),m=p.getContext("2d",{willReadFrequently:!0}),x=m.createImageData(1,1);return f=x.data instanceof Uint8ClampedArray,d.remove(u),d.remove(p),!!v}catch{return!1}return!1};return h.webGL=c(),h.worker=!!window.Worker,h.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,h.getUserMedia=h.getUserMedia&&!!navigator.getUserMedia&&!!window.URL,y.firefox&&y.firefoxVersion<21&&(h.getUserMedia=!1),!o.iOS&&(y.ie||y.firefox||y.chrome)&&(h.canvasBitBltShift=!0),(y.safari||y.mobileSafari)&&(h.canvasBitBltShift=!1),navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&(h.vibration=!0),typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint32Array<"u"&&(h.littleEndian=l()),h.support32bit=typeof ArrayBuffer<"u"&&typeof Uint8ClampedArray<"u"&&typeof Int32Array<"u"&&h.littleEndian!==null&&f,h}n.exports=a()}),91639:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={available:!1,cancel:"",keyboard:!1,request:""};function r(){if(typeof importScripts=="function")return T;var o,y="Fullscreen",d="FullScreen",h=["request"+y,"request"+d,"webkitRequest"+y,"webkitRequest"+d,"msRequest"+y,"msRequest"+d,"mozRequest"+d,"mozRequest"+y];for(o=0;o<h.length;o++)if(document.documentElement[h[o]]){T.available=!0,T.request=h[o];break}var l=["cancel"+d,"exit"+y,"webkitCancel"+d,"webkitExit"+y,"msCancel"+d,"msExit"+y,"mozCancel"+d,"mozExit"+y];if(T.available){for(o=0;o<l.length;o++)if(document[l[o]]){T.cancel=l[o];break}}return window.Element&&Element.ALLOW_KEYBOARD_INPUT&&!/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)&&(T.keyboard=!0),Object.defineProperty(T,"active",{get:function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}}),T}n.exports=r()}),31784:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(84148),y={gamepads:!1,mspointer:!1,touch:!1,wheelEvent:null};function d(){return typeof importScripts=="function"||(("ontouchstart"in document.documentElement||navigator.maxTouchPoints&&navigator.maxTouchPoints>=1)&&(y.touch=!0),(navigator.msPointerEnabled||navigator.pointerEnabled)&&(y.mspointer=!0),navigator.getGamepads&&(y.gamepads=!0),"onwheel"in window||o.ie&&"WheelEvent"in window?y.wheelEvent="wheel":"onmousewheel"in window?y.wheelEvent="mousewheel":o.firefox&&"MouseScrollEvent"in window&&(y.wheelEvent="DOMMouseScroll")),y}n.exports=d()}),25892:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={android:!1,chromeOS:!1,cordova:!1,crosswalk:!1,desktop:!1,ejecta:!1,electron:!1,iOS:!1,iOSVersion:0,iPad:!1,iPhone:!1,kindle:!1,linux:!1,macOS:!1,node:!1,nodeWebkit:!1,pixelRatio:1,webApp:!1,windows:!1,windowsPhone:!1};function r(){if(typeof importScripts=="function")return T;var o=navigator.userAgent;/Windows/.test(o)?T.windows=!0:/Mac OS/.test(o)&&!/like Mac OS/.test(o)?navigator.maxTouchPoints&&navigator.maxTouchPoints>2?(T.iOS=!0,T.iPad=!0,navigator.appVersion.match(/Version\/(\d+)/),T.iOSVersion=parseInt(RegExp.$1,10)):T.macOS=!0:/Android/.test(o)?T.android=!0:/Linux/.test(o)?T.linux=!0:/iP[ao]d|iPhone/i.test(o)?(T.iOS=!0,navigator.appVersion.match(/OS (\d+)/),T.iOSVersion=parseInt(RegExp.$1,10),T.iPhone=o.toLowerCase().indexOf("iphone")!==-1,T.iPad=o.toLowerCase().indexOf("ipad")!==-1):/Kindle/.test(o)||/\bKF[A-Z][A-Z]+/.test(o)||/Silk.*Mobile Safari/.test(o)?T.kindle=!0:/CrOS/.test(o)&&(T.chromeOS=!0),(/Windows Phone/i.test(o)||/IEMobile/i.test(o))&&(T.android=!1,T.iOS=!1,T.macOS=!1,T.windows=!0,T.windowsPhone=!0);var y=/Silk/.test(o);return(T.windows||T.macOS||T.linux&&!y||T.chromeOS)&&(T.desktop=!0),(T.windowsPhone||/Windows NT/i.test(o)&&/Touch/i.test(o))&&(T.desktop=!1),navigator.standalone&&(T.webApp=!0),typeof importScripts!="function"&&(window.cordova!==void 0&&(T.cordova=!0),window.ejecta!==void 0&&(T.ejecta=!0)),typeof process<"u"&&process.versions&&process.versions.node&&(T.node=!0),T.node&&typeof process.versions=="object"&&(T.nodeWebkit=!!process.versions["node-webkit"],T.electron=!!process.versions.electron),/Crosswalk/.test(o)&&(T.crosswalk=!0),T.pixelRatio=window.devicePixelRatio||1,T}n.exports=r()}),43267:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(95540),y={h264:!1,hls:!1,mp4:!1,m4v:!1,ogg:!1,vp9:!1,webm:!1,hasRequestVideoFrame:!1};function d(){if(typeof importScripts=="function")return y;var h=document.createElement("video"),l=!!h.canPlayType,a=/^no$/;try{l&&(h.canPlayType('video/ogg; codecs="theora"').replace(a,"")&&(y.ogg=!0),h.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(a,"")&&(y.h264=!0,y.mp4=!0),h.canPlayType("video/x-m4v").replace(a,"")&&(y.m4v=!0),h.canPlayType('video/webm; codecs="vp8, vorbis"').replace(a,"")&&(y.webm=!0),h.canPlayType('video/webm; codecs="vp9"').replace(a,"")&&(y.vp9=!0),h.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(a,"")&&(y.hls=!0))}catch{}return h.parentNode&&h.parentNode.removeChild(h),y.getVideoURL=function(f){Array.isArray(f)||(f=[f]);for(var c=0;c<f.length;c++){var u=o(f[c],"url",f[c]);if(u.indexOf("blob:")===0)return{url:u,type:""};var v;if(u.indexOf("data:")===0?v=u.split(",")[0].match(/\/(.*?);/):v=u.match(/\.([a-zA-Z0-9]+)($|\?)/),v=o(f[c],"type",v?v[1]:"").toLowerCase(),y[v])return{url:u,type:v}}return null},y}n.exports=d()}),82264:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={os:r(25892),browser:r(84148),features:r(89357),input:r(31784),audio:r(7098),video:r(43267),fullscreen:r(91639),canvasFeatures:r(89289)}}),89422:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=new Float32Array(20),d=new o({initialize:function(){this._matrix=new Float32Array(20),this.alpha=1,this._dirty=!0,this._data=new Float32Array(20),this.reset()},set:function(h){return this._matrix.set(h),this._dirty=!0,this},reset:function(){var h=this._matrix;return h.fill(0),h[0]=1,h[6]=1,h[12]=1,h[18]=1,this.alpha=1,this._dirty=!0,this},getData:function(){var h=this._data;return this._dirty&&(h.set(this._matrix),h[4]/=255,h[9]/=255,h[14]/=255,h[19]/=255,this._dirty=!1),h},brightness:function(h,l){h===void 0&&(h=0),l===void 0&&(l=!1);var a=h;return this.multiply([a,0,0,0,0,0,a,0,0,0,0,0,a,0,0,0,0,0,1,0],l)},saturate:function(h,l){h===void 0&&(h=0),l===void 0&&(l=!1);var a=h*2/3+1,f=(a-1)*-.5;return this.multiply([a,f,f,0,0,f,a,f,0,0,f,f,a,0,0,0,0,0,1,0],l)},desaturate:function(h){return h===void 0&&(h=!1),this.saturate(-1,h)},hue:function(h,l){h===void 0&&(h=0),l===void 0&&(l=!1),h=h/180*Math.PI;var a=Math.cos(h),f=Math.sin(h),c=.213,u=.715,v=.072;return this.multiply([c+a*(1-c)+f*-c,u+a*-u+f*-u,v+a*-v+f*(1-v),0,0,c+a*-c+f*.143,u+a*(1-u)+f*.14,v+a*-v+f*-.283,0,0,c+a*-c+f*-.787,u+a*-u+f*u,v+a*(1-v)+f*v,0,0,0,0,0,1,0],l)},grayscale:function(h,l){return h===void 0&&(h=1),l===void 0&&(l=!1),this.saturate(-h,l)},blackWhite:function(h){return h===void 0&&(h=!1),this.multiply(d.BLACK_WHITE,h)},contrast:function(h,l){h===void 0&&(h=0),l===void 0&&(l=!1);var a=h+1,f=-.5*(a-1);return this.multiply([a,0,0,0,f,0,a,0,0,f,0,0,a,0,f,0,0,0,1,0],l)},negative:function(h){return h===void 0&&(h=!1),this.multiply(d.NEGATIVE,h)},desaturateLuminance:function(h){return h===void 0&&(h=!1),this.multiply(d.DESATURATE_LUMINANCE,h)},sepia:function(h){return h===void 0&&(h=!1),this.multiply(d.SEPIA,h)},night:function(h,l){return h===void 0&&(h=.1),l===void 0&&(l=!1),this.multiply([h*-2,-h,0,0,0,-h,0,h,0,0,0,h,h*2,0,0,0,0,0,1,0],l)},lsd:function(h){return h===void 0&&(h=!1),this.multiply(d.LSD,h)},brown:function(h){return h===void 0&&(h=!1),this.multiply(d.BROWN,h)},vintagePinhole:function(h){return h===void 0&&(h=!1),this.multiply(d.VINTAGE,h)},kodachrome:function(h){return h===void 0&&(h=!1),this.multiply(d.KODACHROME,h)},technicolor:function(h){return h===void 0&&(h=!1),this.multiply(d.TECHNICOLOR,h)},polaroid:function(h){return h===void 0&&(h=!1),this.multiply(d.POLAROID,h)},shiftToBGR:function(h){return h===void 0&&(h=!1),this.multiply(d.SHIFT_BGR,h)},multiply:function(h,l){l===void 0&&(l=!1),l||this.reset();var a=this._matrix,f=y;return f.set(a),a.set([f[0]*h[0]+f[1]*h[5]+f[2]*h[10]+f[3]*h[15],f[0]*h[1]+f[1]*h[6]+f[2]*h[11]+f[3]*h[16],f[0]*h[2]+f[1]*h[7]+f[2]*h[12]+f[3]*h[17],f[0]*h[3]+f[1]*h[8]+f[2]*h[13]+f[3]*h[18],f[0]*h[4]+f[1]*h[9]+f[2]*h[14]+f[3]*h[19]+f[4],f[5]*h[0]+f[6]*h[5]+f[7]*h[10]+f[8]*h[15],f[5]*h[1]+f[6]*h[6]+f[7]*h[11]+f[8]*h[16],f[5]*h[2]+f[6]*h[7]+f[7]*h[12]+f[8]*h[17],f[5]*h[3]+f[6]*h[8]+f[7]*h[13]+f[8]*h[18],f[5]*h[4]+f[6]*h[9]+f[7]*h[14]+f[8]*h[19]+f[9],f[10]*h[0]+f[11]*h[5]+f[12]*h[10]+f[13]*h[15],f[10]*h[1]+f[11]*h[6]+f[12]*h[11]+f[13]*h[16],f[10]*h[2]+f[11]*h[7]+f[12]*h[12]+f[13]*h[17],f[10]*h[3]+f[11]*h[8]+f[12]*h[13]+f[13]*h[18],f[10]*h[4]+f[11]*h[9]+f[12]*h[14]+f[13]*h[19]+f[14],f[15]*h[0]+f[16]*h[5]+f[17]*h[10]+f[18]*h[15],f[15]*h[1]+f[16]*h[6]+f[17]*h[11]+f[18]*h[16],f[15]*h[2]+f[16]*h[7]+f[17]*h[12]+f[18]*h[17],f[15]*h[3]+f[16]*h[8]+f[17]*h[13]+f[18]*h[18],f[15]*h[4]+f[16]*h[9]+f[17]*h[14]+f[18]*h[19]+f[19]]),this._dirty=!0,this}});d.BLACK_WHITE=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],d.NEGATIVE=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],d.DESATURATE_LUMINANCE=[.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,0,0,0,1,0],d.SEPIA=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],d.LSD=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],d.BROWN=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],d.VINTAGE=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],d.KODACHROME=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],d.TECHNICOLOR=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],d.POLAROID=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],d.SHIFT_BGR=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],n.exports=d}),51767:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(29747),d=new o({initialize:function(l,a,f){this._rgb=[0,0,0],this.onChangeCallback=y,this.dirty=!1,this.set(l,a,f)},set:function(h,l,a){return h===void 0&&(h=0),l===void 0&&(l=0),a===void 0&&(a=0),this._rgb=[h,l,a],this.onChange(),this},equals:function(h,l,a){var f=this._rgb;return f[0]===h&&f[1]===l&&f[2]===a},onChange:function(){this.dirty=!0;var h=this._rgb;this.onChangeCallback.call(this,h[0],h[1],h[2])},r:{get:function(){return this._rgb[0]},set:function(h){this._rgb[0]=h,this.onChange()}},g:{get:function(){return this._rgb[1]},set:function(h){this._rgb[1]=h,this.onChange()}},b:{get:function(){return this._rgb[2]},set:function(h){this._rgb[2]=h,this.onChange()}},destroy:function(){this.onChangeCallback=null}});n.exports=d}),60461:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12};n.exports=T}),54312:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(62235),y=r(35893),d=r(86327),h=r(88417),l=function(a,f,c,u){return c===void 0&&(c=0),u===void 0&&(u=0),h(a,y(f)+c),d(a,o(f)+u),a};n.exports=l}),46768:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(62235),y=r(26541),d=r(86327),h=r(385),l=function(a,f,c,u){return c===void 0&&(c=0),u===void 0&&(u=0),h(a,y(f)-c),d(a,o(f)+u),a};n.exports=l}),35827:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(62235),y=r(54380),d=r(86327),h=r(40136),l=function(a,f,c,u){return c===void 0&&(c=0),u===void 0&&(u=0),h(a,y(f)+c),d(a,o(f)+u),a};n.exports=l}),46871:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(66786),y=r(35893),d=r(7702),h=function(l,a,f,c){return f===void 0&&(f=0),c===void 0&&(c=0),o(l,y(a)+f,d(a)+c),l};n.exports=h}),5198:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(7702),y=r(26541),d=r(20786),h=r(385),l=function(a,f,c,u){return c===void 0&&(c=0),u===void 0&&(u=0),h(a,y(f)-c),d(a,o(f)+u),a};n.exports=l}),11879:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(60461),y=[];y[o.BOTTOM_CENTER]=r(54312),y[o.BOTTOM_LEFT]=r(46768),y[o.BOTTOM_RIGHT]=r(35827),y[o.CENTER]=r(46871),y[o.LEFT_CENTER]=r(5198),y[o.RIGHT_CENTER]=r(80503),y[o.TOP_CENTER]=r(89698),y[o.TOP_LEFT]=r(922),y[o.TOP_RIGHT]=r(21373),y[o.LEFT_BOTTOM]=y[o.BOTTOM_LEFT],y[o.LEFT_TOP]=y[o.TOP_LEFT],y[o.RIGHT_BOTTOM]=y[o.BOTTOM_RIGHT],y[o.RIGHT_TOP]=y[o.TOP_RIGHT];var d=function(h,l,a,f,c){return y[a](h,l,f,c)};n.exports=d}),80503:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(7702),y=r(54380),d=r(20786),h=r(40136),l=function(a,f,c,u){return c===void 0&&(c=0),u===void 0&&(u=0),h(a,y(f)+c),d(a,o(f)+u),a};n.exports=l}),89698:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(35893),y=r(17717),d=r(88417),h=r(66737),l=function(a,f,c,u){return c===void 0&&(c=0),u===void 0&&(u=0),d(a,o(f)+c),h(a,y(f)-u),a};n.exports=l}),922:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(26541),y=r(17717),d=r(385),h=r(66737),l=function(a,f,c,u){return c===void 0&&(c=0),u===void 0&&(u=0),d(a,o(f)-c),h(a,y(f)-u),a};n.exports=l}),21373:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(54380),y=r(17717),d=r(40136),h=r(66737),l=function(a,f,c,u){return c===void 0&&(c=0),u===void 0&&(u=0),d(a,o(f)+c),h(a,y(f)-u),a};n.exports=l}),91660:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={BottomCenter:r(54312),BottomLeft:r(46768),BottomRight:r(35827),Center:r(46871),LeftCenter:r(5198),QuickSet:r(11879),RightCenter:r(80503),TopCenter:r(89698),TopLeft:r(922),TopRight:r(21373)}}),71926:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(60461),y=r(79291),d={In:r(91660),To:r(16694)};d=y(!1,d,o),n.exports=d}),21578:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(62235),y=r(35893),d=r(88417),h=r(66737),l=function(a,f,c,u){return c===void 0&&(c=0),u===void 0&&(u=0),d(a,y(f)+c),h(a,o(f)+u),a};n.exports=l}),10210:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(62235),y=r(26541),d=r(385),h=r(66737),l=function(a,f,c,u){return c===void 0&&(c=0),u===void 0&&(u=0),d(a,y(f)-c),h(a,o(f)+u),a};n.exports=l}),82341:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(62235),y=r(54380),d=r(40136),h=r(66737),l=function(a,f,c,u){return c===void 0&&(c=0),u===void 0&&(u=0),d(a,y(f)+c),h(a,o(f)+u),a};n.exports=l}),87958:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(62235),y=r(26541),d=r(86327),h=r(40136),l=function(a,f,c,u){return c===void 0&&(c=0),u===void 0&&(u=0),h(a,y(f)-c),d(a,o(f)+u),a};n.exports=l}),40080:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(7702),y=r(26541),d=r(20786),h=r(40136),l=function(a,f,c,u){return c===void 0&&(c=0),u===void 0&&(u=0),h(a,y(f)-c),d(a,o(f)+u),a};n.exports=l}),88466:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(26541),y=r(17717),d=r(40136),h=r(66737),l=function(a,f,c,u){return c===void 0&&(c=0),u===void 0&&(u=0),d(a,o(f)-c),h(a,y(f)-u),a};n.exports=l}),38829:((n,T,r)=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(60461),y=[];y[o.BOTTOM_CENTER]=r(21578),y[o.BOTTOM_LEFT]=r(10210),y[o.BOTTOM_RIGHT]=r(82341),y[o.LEFT_BOTTOM]=r(87958),y[o.LEFT_CENTER]=r(40080),y[o.LEFT_TOP]=r(88466),y[o.RIGHT_BOTTOM]=r(19211),y[o.RIGHT_CENTER]=r(34609),y[o.RIGHT_TOP]=r(48741),y[o.TOP_CENTER]=r(49440),y[o.TOP_LEFT]=r(81288),y[o.TOP_RIGHT]=r(61323);var d=function(h,l,a,f,c){return y[a](h,l,f,c)};n.exports=d}),19211:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(62235),y=r(54380),d=r(86327),h=r(385),l=function(a,f,c,u){return c===void 0&&(c=0),u===void 0&&(u=0),h(a,y(f)+c),d(a,o(f)+u),a};n.exports=l}),34609:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(7702),y=r(54380),d=r(20786),h=r(385),l=function(a,f,c,u){return c===void 0&&(c=0),u===void 0&&(u=0),h(a,y(f)+c),d(a,o(f)+u),a};n.exports=l}),48741:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(54380),y=r(17717),d=r(385),h=r(66737),l=function(a,f,c,u){return c===void 0&&(c=0),u===void 0&&(u=0),d(a,o(f)+c),h(a,y(f)-u),a};n.exports=l}),49440:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(35893),y=r(17717),d=r(86327),h=r(88417),l=function(a,f,c,u){return c===void 0&&(c=0),u===void 0&&(u=0),h(a,o(f)+c),d(a,y(f)-u),a};n.exports=l}),81288:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(26541),y=r(17717),d=r(86327),h=r(385),l=function(a,f,c,u){return c===void 0&&(c=0),u===void 0&&(u=0),h(a,o(f)-c),d(a,y(f)-u),a};n.exports=l}),61323:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(54380),y=r(17717),d=r(86327),h=r(40136),l=function(a,f,c,u){return c===void 0&&(c=0),u===void 0&&(u=0),h(a,o(f)+c),d(a,y(f)-u),a};n.exports=l}),16694:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={BottomCenter:r(21578),BottomLeft:r(10210),BottomRight:r(82341),LeftBottom:r(87958),LeftCenter:r(40080),LeftTop:r(88466),QuickSet:r(38829),RightBottom:r(19211),RightCenter:r(34609),RightTop:r(48741),TopCenter:r(49440),TopLeft:r(81288),TopRight:r(61323)}}),66786:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(88417),y=r(20786),d=function(h,l,a){return o(h,l),y(h,a)};n.exports=d}),62235:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r.y+r.height-r.height*r.originY};n.exports=T}),72873:((n,T,r)=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(62235),y=r(26541),d=r(54380),h=r(17717),l=r(87841),a=function(f,c){c===void 0&&(c=new l);var u=y(f),v=h(f);return c.x=u,c.y=v,c.width=d(f)-u,c.height=o(f)-v,c};n.exports=a}),35893:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r.x-r.width*r.originX+r.width*.5};n.exports=T}),7702:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r.y-r.height*r.originY+r.height*.5};n.exports=T}),26541:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r.x-r.width*r.originX};n.exports=T}),87431:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r.width*r.originX};n.exports=T}),46928:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r.height*r.originY};n.exports=T}),54380:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r.x+r.width-r.width*r.originX};n.exports=T}),17717:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r.y-r.height*r.originY};n.exports=T}),86327:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return r.y=o-r.height+r.height*r.originY,r};n.exports=T}),88417:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){var y=r.width*r.originX;return r.x=o+y-r.width*.5,r};n.exports=T}),20786:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){var y=r.height*r.originY;return r.y=o+y-r.height*.5,r};n.exports=T}),385:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return r.x=o+r.width*r.originX,r};n.exports=T}),40136:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return r.x=o-r.width+r.width*r.originX,r};n.exports=T}),66737:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return r.y=o+r.height*r.originY,r};n.exports=T}),58724:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={CenterOn:r(66786),GetBottom:r(62235),GetBounds:r(72873),GetCenterX:r(35893),GetCenterY:r(7702),GetLeft:r(26541),GetOffsetX:r(87431),GetOffsetY:r(46928),GetRight:r(54380),GetTop:r(17717),SetBottom:r(86327),SetCenterX:r(88417),SetCenterY:r(20786),SetLeft:r(385),SetRight:r(40136),SetTop:r(66737)}}),20623:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setCrisp:function(r){var o=["optimizeSpeed","-moz-crisp-edges","-o-crisp-edges","-webkit-optimize-contrast","optimize-contrast","crisp-edges","pixelated"];return o.forEach(function(y){r.style["image-rendering"]=y}),r.style.msInterpolationMode="nearest-neighbor",r},setBicubic:function(r){return r.style["image-rendering"]="auto",r.style.msInterpolationMode="bicubic",r}};n.exports=T}),27919:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(8054),y=r(68703),d=[],h=!1,l=function(){var a=function(P,w,M,R,A){w===void 0&&(w=1),M===void 0&&(M=1),R===void 0&&(R=o.CANVAS),A===void 0&&(A=!1);var L,F=u(R);return F===null?(F={parent:P,canvas:document.createElement("canvas"),type:R},R===o.CANVAS&&d.push(F),L=F.canvas):(F.parent=P,L=F.canvas),A&&(F.parent=L),L.width=w,L.height=M,h&&R===o.CANVAS&&y.disable(L.getContext("2d",{willReadFrequently:!1})),L},f=function(P,w,M){return a(P,w,M,o.CANVAS)},c=function(P,w,M){return a(P,w,M,o.WEBGL)},u=function(P){if(P===void 0&&(P=o.CANVAS),P===o.WEBGL)return null;for(var w=0;w<d.length;w++){var M=d[w];if(!M.parent&&M.type===P)return M}return null},v=function(P){var w=P instanceof HTMLCanvasElement;d.forEach(function(M){(w&&M.canvas===P||!w&&M.parent===P)&&(M.parent=null,M.canvas.width=1,M.canvas.height=1)})},p=function(){var P=0;return d.forEach(function(w){w.parent&&P++}),P},m=function(){return d.length-p()},x=function(){h=!0},C=function(){h=!1};return{create2D:f,create:a,createWebGL:c,disableSmoothing:x,enableSmoothing:C,first:u,free:m,pool:d,remove:v,total:p}};n.exports=l()}),68703:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T="",r=function(){var o=function(l){for(var a=["i","webkitI","msI","mozI","oI"],f=0;f<a.length;f++){var c=a[f]+"mageSmoothingEnabled";if(c in l)return c}return null},y=function(l){return T===""&&(T=o(l)),T&&(l[T]=!0),l},d=function(l){return T===""&&(T=o(l)),T&&(l[T]=!1),l},h=function(l){return T!==null?l[T]:null};return{disable:d,enable:y,getPrefix:o,isEnabled:h}};n.exports=r()}),65208:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return o===void 0&&(o="none"),r.style.msTouchAction=o,r.style["ms-touch-action"]=o,r.style["touch-action"]=o,r};n.exports=T}),91610:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){o===void 0&&(o="none");var y=["-webkit-","-khtml-","-moz-","-ms-",""];return y.forEach(function(d){r.style[d+"user-select"]=o}),r.style["-webkit-touch-callout"]=o,r.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)",r};n.exports=T}),26253:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={CanvasInterpolation:r(20623),CanvasPool:r(27919),Smoothing:r(68703),TouchAction:r(65208),UserSelect:r(91610)}}),40987:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(37589),d=r(1e3),h=r(7537),l=r(87837),a=new o({initialize:function(c,u,v,p){c===void 0&&(c=0),u===void 0&&(u=0),v===void 0&&(v=0),p===void 0&&(p=255),this.r=0,this.g=0,this.b=0,this.a=255,this._h=0,this._s=0,this._v=0,this._locked=!1,this.gl=[0,0,0,1],this._color=0,this._color32=0,this._rgba="",this.setTo(c,u,v,p)},transparent:function(){return this._locked=!0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this._locked=!1,this.update(!0)},setTo:function(f,c,u,v,p){return v===void 0&&(v=255),p===void 0&&(p=!0),this._locked=!0,this.red=f,this.green=c,this.blue=u,this.alpha=v,this._locked=!1,this.update(p)},setGLTo:function(f,c,u,v){return v===void 0&&(v=1),this._locked=!0,this.redGL=f,this.greenGL=c,this.blueGL=u,this.alphaGL=v,this._locked=!1,this.update(!0)},setFromRGB:function(f){return this._locked=!0,this.red=f.r,this.green=f.g,this.blue=f.b,f.hasOwnProperty("a")&&(this.alpha=f.a),this._locked=!1,this.update(!0)},setFromHSV:function(f,c,u){return h(f,c,u,this)},update:function(f){if(f===void 0&&(f=!1),this._locked)return this;var c=this.r,u=this.g,v=this.b,p=this.a;return this._color=y(c,u,v),this._color32=d(c,u,v,p),this._rgba="rgba("+c+","+u+","+v+","+p/255+")",f&&l(c,u,v,this),this},updateHSV:function(){var f=this.r,c=this.g,u=this.b;return l(f,c,u,this),this},clone:function(){return new a(this.r,this.g,this.b,this.a)},gray:function(f){return this.setTo(f,f,f)},random:function(f,c){f===void 0&&(f=0),c===void 0&&(c=255);var u=Math.floor(f+Math.random()*(c-f)),v=Math.floor(f+Math.random()*(c-f)),p=Math.floor(f+Math.random()*(c-f));return this.setTo(u,v,p)},randomGray:function(f,c){f===void 0&&(f=0),c===void 0&&(c=255);var u=Math.floor(f+Math.random()*(c-f));return this.setTo(u,u,u)},saturate:function(f){return this.s+=f/100,this},desaturate:function(f){return this.s-=f/100,this},lighten:function(f){return this.v+=f/100,this},darken:function(f){return this.v-=f/100,this},brighten:function(f){var c=this.r,u=this.g,v=this.b;return c=Math.max(0,Math.min(255,c-Math.round(255*-(f/100)))),u=Math.max(0,Math.min(255,u-Math.round(255*-(f/100)))),v=Math.max(0,Math.min(255,v-Math.round(255*-(f/100)))),this.setTo(c,u,v)},color:{get:function(){return this._color}},color32:{get:function(){return this._color32}},rgba:{get:function(){return this._rgba}},redGL:{get:function(){return this.gl[0]},set:function(f){this.gl[0]=Math.min(Math.abs(f),1),this.r=Math.floor(this.gl[0]*255),this.update(!0)}},greenGL:{get:function(){return this.gl[1]},set:function(f){this.gl[1]=Math.min(Math.abs(f),1),this.g=Math.floor(this.gl[1]*255),this.update(!0)}},blueGL:{get:function(){return this.gl[2]},set:function(f){this.gl[2]=Math.min(Math.abs(f),1),this.b=Math.floor(this.gl[2]*255),this.update(!0)}},alphaGL:{get:function(){return this.gl[3]},set:function(f){this.gl[3]=Math.min(Math.abs(f),1),this.a=Math.floor(this.gl[3]*255),this.update()}},red:{get:function(){return this.r},set:function(f){f=Math.floor(Math.abs(f)),this.r=Math.min(f,255),this.gl[0]=f/255,this.update(!0)}},green:{get:function(){return this.g},set:function(f){f=Math.floor(Math.abs(f)),this.g=Math.min(f,255),this.gl[1]=f/255,this.update(!0)}},blue:{get:function(){return this.b},set:function(f){f=Math.floor(Math.abs(f)),this.b=Math.min(f,255),this.gl[2]=f/255,this.update(!0)}},alpha:{get:function(){return this.a},set:function(f){f=Math.floor(Math.abs(f)),this.a=Math.min(f,255),this.gl[3]=f/255,this.update()}},h:{get:function(){return this._h},set:function(f){this._h=f,h(f,this._s,this._v,this)}},s:{get:function(){return this._s},set:function(f){this._s=f,h(this._h,f,this._v,this)}},v:{get:function(){return this._v},set:function(f){this._v=f,h(this._h,this._s,f,this)}}});n.exports=a}),92728:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(37589),y=function(d){d===void 0&&(d=1024);var h=[],l=255,a,f=255,c=0,u=0;for(a=0;a<=l;a++)h.push({r:f,g:a,b:u,color:o(f,a,u)});for(c=255,a=l;a>=0;a--)h.push({r:a,g:c,b:u,color:o(a,c,u)});for(f=0,a=0;a<=l;a++,c--)h.push({r:f,g:c,b:a,color:o(f,c,a)});for(c=0,u=255,a=0;a<=l;a++,u--,f++)h.push({r:f,g:c,b:u,color:o(f,c,u)});if(d===1024)return h;var v=[],p=0,m=1024/d;for(a=0;a<d;a++)v.push(h[Math.floor(p)]),p+=m;return v};n.exports=y}),91588:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){var o={r:r>>16&255,g:r>>8&255,b:r&255,a:255};return r>16777215&&(o.a=r>>>24),o};n.exports=T}),62957:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){var o=r.toString(16);return o.length===1?"0"+o:o};n.exports=T}),37589:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y){return r<<16|o<<8|y};n.exports=T}),1e3:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y,d){return d<<24|r<<16|o<<8|y};n.exports=T}),62183:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(40987),y=r(89528),d=function(h,l,a){var f=a,c=a,u=a;if(l!==0){var v=a<.5?a*(1+l):a+l-a*l,p=2*a-v;f=y(p,v,h+1/3),c=y(p,v,h),u=y(p,v,h-1/3)}var m=new o;return m.setGLTo(f,c,u,1)};n.exports=d}),27939:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(7537),y=function(d,h){d===void 0&&(d=1),h===void 0&&(h=1);for(var l=[],a=0;a<=359;a++)l.push(o(a/359,d,h));return l};n.exports=y}),7537:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(37589);function y(h,l,a,f){var c=(h+l*6)%6,u=Math.min(c,4-c,1);return Math.round(255*(f-f*a*Math.max(0,u)))}var d=function(h,l,a,f){l===void 0&&(l=1),a===void 0&&(a=1);var c=y(5,h,l,a),u=y(3,h,l,a),v=y(1,h,l,a);return f?f.setTo?f.setTo(c,u,v,f.alpha,!0):(f.r=c,f.g=u,f.b=v,f.color=o(c,u,v),f):{r:c,g:u,b:v,color:o(c,u,v)}};n.exports=d}),70238:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(40987),y=function(d){var h=new o;d=d.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,function(u,v,p,m){return v+v+p+p+m+m});var l=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(d);if(l){var a=parseInt(l[1],16),f=parseInt(l[2],16),c=parseInt(l[3],16);h.setTo(a,f,c)}return h};n.exports=y}),89528:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y){return y<0&&(y+=1),y>1&&(y-=1),y<.16666666666666666?r+(o-r)*6*y:y<.5?o:y<.6666666666666666?r+(o-r)*(.6666666666666666-y)*6:r};n.exports=T}),30100:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(40987),y=r(90664),d=function(h){var l=y(h);return new o(l.r,l.g,l.b,l.a)};n.exports=d}),90664:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r>16777215?{a:r>>>24,r:r>>16&255,g:r>>8&255,b:r&255}:{a:255,r:r>>16&255,g:r>>8&255,b:r&255}};n.exports=T}),13699:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(28915),y=r(37589),d=function(a,f,c,u,v,p,m,x){m===void 0&&(m=100),x===void 0&&(x=0);var C=x/m,P=o(a,u,C),w=o(f,v,C),M=o(c,p,C);return{r:P,g:w,b:M,a:255,color:y(P,w,M)}},h=function(a,f,c,u){return c===void 0&&(c=100),u===void 0&&(u=0),d(a.r,a.g,a.b,f.r,f.g,f.b,c,u)},l=function(a,f,c,u,v,p){return v===void 0&&(v=100),p===void 0&&(p=0),d(a.r,a.g,a.b,f,c,u,v,p)};n.exports={RGBWithRGB:d,ColorWithRGB:l,ColorWithColor:h}}),68957:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(40987),y=function(d){return new o(d.r,d.g,d.b,d.a)};n.exports=y}),87388:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(40987),y=function(d){var h=new o,l=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(d.toLowerCase());if(l){var a=parseInt(l[1],10),f=parseInt(l[2],10),c=parseInt(l[3],10),u=l[4]!==void 0?parseFloat(l[4]):1;h.setTo(a,f,c,u*255)}return h};n.exports=y}),87837:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y,d){d===void 0&&(d={h:0,s:0,v:0}),r/=255,o/=255,y/=255;var h=Math.min(r,o,y),l=Math.max(r,o,y),a=l-h,f=0,c=l===0?0:a/l,u=l;return l!==h&&(l===r?f=(o-y)/a+(o<y?6:0):l===o?f=(y-r)/a+2:l===y&&(f=(r-o)/a+4),f/=6),d.hasOwnProperty("_h")?(d._h=f,d._s=c,d._v=u):(d.h=f,d.s=c,d.v=u),d};n.exports=T}),75723:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(62957),y=function(d,h,l,a,f){return a===void 0&&(a=255),f===void 0&&(f="#"),f==="#"?"#"+((1<<24)+(d<<16)+(h<<8)+l).toString(16).slice(1,7):"0x"+o(a)+o(d)+o(h)+o(l)};n.exports=y}),85386:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(30976),y=r(40987),d=function(h,l){return h===void 0&&(h=0),l===void 0&&(l=255),new y(o(h,l),o(h,l),o(h,l))};n.exports=d}),80333:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(70238),y=r(30100),d=r(68957),h=r(87388),l=function(a){var f=typeof a;switch(f){case"string":return a.substr(0,3).toLowerCase()==="rgb"?h(a):o(a);case"number":return y(a);case"object":return d(a)}};n.exports=l}),3956:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(40987);o.ColorSpectrum=r(92728),o.ColorToRGBA=r(91588),o.ComponentToHex=r(62957),o.GetColor=r(37589),o.GetColor32=r(1e3),o.HexStringToColor=r(70238),o.HSLToColor=r(62183),o.HSVColorWheel=r(27939),o.HSVToRGB=r(7537),o.HueToComponent=r(89528),o.IntegerToColor=r(30100),o.IntegerToRGB=r(90664),o.Interpolate=r(13699),o.ObjectToColor=r(68957),o.RandomRGB=r(85386),o.RGBStringToColor=r(87388),o.RGBToHSV=r(87837),o.RGBToString=r(75723),o.ValueToColor=r(80333),n.exports=o}),27460:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Align:r(71926),BaseShader:r(73894),Bounds:r(58724),Canvas:r(26253),Color:r(3956),ColorMatrix:r(89422),Masks:r(69781),RGB:r(51767)}}),6858:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(39429),d=new o({initialize:function(l,a,f,c,u,v){a||(a=l.sys.make.image({x:f,y:c,key:u,frame:v,add:!1})),this.bitmapMask=a,this.invertAlpha=!1,this.isStencil=!1},setBitmap:function(h){this.bitmapMask=h},preRenderWebGL:function(h,l,a){h.pipelines.BITMAPMASK_PIPELINE.beginMask(this,l,a)},postRenderWebGL:function(h,l,a){h.pipelines.BITMAPMASK_PIPELINE.endMask(this,l,a)},preRenderCanvas:function(){},postRenderCanvas:function(){},destroy:function(){this.bitmapMask=null}});y.register("bitmapMask",function(h,l,a,f,c){return new d(this.scene,h,l,a,f,c)}),n.exports=d}),80661:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=new o({initialize:function(h,l){this.geometryMask=l,this.invertAlpha=!1,this.isStencil=!0,this.level=0},setShape:function(d){return this.geometryMask=d,this},setInvertAlpha:function(d){return d===void 0&&(d=!0),this.invertAlpha=d,this},preRenderWebGL:function(d,h,l){var a=d.gl;d.flush(),d.maskStack.length===0&&(a.enable(a.STENCIL_TEST),a.clear(a.STENCIL_BUFFER_BIT),d.maskCount=0),d.currentCameraMask.mask!==this&&(d.currentMask.mask=this),d.maskStack.push({mask:this,camera:l}),this.applyStencil(d,l,!0),d.maskCount++},applyStencil:function(d,h,l){var a=d.gl,f=this.geometryMask,c=d.maskCount,u=255;a.colorMask(!1,!1,!1,!1),l?(a.stencilFunc(a.EQUAL,c,u),a.stencilOp(a.KEEP,a.KEEP,a.INCR),c++):(a.stencilFunc(a.EQUAL,c+1,u),a.stencilOp(a.KEEP,a.KEEP,a.DECR)),this.level=c,f.renderWebGL(d,f,h),d.flush(),a.colorMask(!0,!0,!0,!0),a.stencilOp(a.KEEP,a.KEEP,a.KEEP),this.invertAlpha?a.stencilFunc(a.NOTEQUAL,c,u):a.stencilFunc(a.EQUAL,c,u)},postRenderWebGL:function(d){var h=d.gl;d.maskStack.pop(),d.maskCount--,d.flush();var l=d.currentMask;if(d.maskStack.length===0)l.mask=null,h.disable(h.STENCIL_TEST);else{var a=d.maskStack[d.maskStack.length-1];a.mask.applyStencil(d,a.camera,!1),d.currentCameraMask.mask!==a.mask?(l.mask=a.mask,l.camera=a.camera):l.mask=null}},preRenderCanvas:function(d,h,l){var a=this.geometryMask;d.currentContext.save(),a.renderCanvas(d,a,l,null,null,!0),d.currentContext.clip()},postRenderCanvas:function(d){d.currentContext.restore()},destroy:function(){this.geometryMask=null}});n.exports=y}),69781:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={BitmapMask:r(6858),GeometryMask:r(80661)}}),73894:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=new o({initialize:function(h,l,a,f){(!l||l==="")&&(l=["precision mediump float;","uniform vec2 resolution;","varying vec2 fragCoord;","void main () {","    vec2 uv = fragCoord / resolution.xy;","    gl_FragColor = vec4(uv.xyx, 1.0);","}"].join(`
`)),(!a||a==="")&&(a=["precision mediump float;","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","varying vec2 fragCoord;","varying vec2 outTexCoord;","void main () {","   gl_Position = uProjectionMatrix * uViewMatrix * vec4(inPosition, 1.0, 1.0);","   fragCoord = vec2(inPosition.x, uResolution.y - inPosition.y);","   outTexCoord = vec2(inPosition.x / uResolution.x, fragCoord.y / uResolution.y);","}"].join(`
`)),f===void 0&&(f=null),this.key=h,this.fragmentSrc=l,this.vertexSrc=a,this.uniforms=f}});n.exports=y}),40366:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){var y;if(o)typeof o=="string"?y=document.getElementById(o):typeof o=="object"&&o.nodeType===1&&(y=o);else if(r.parentElement||o===null)return r;return y||(y=document.body),y.appendChild(r),r};n.exports=T}),83719:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(40366),y=function(d){var h=d.config;if(!(!h.parent||!h.domCreateContainer)){var l=document.createElement("div");l.style.cssText=["display: block;","width: "+d.scale.width+"px;","height: "+d.scale.height+"px;","padding: 0; margin: 0;","position: absolute;","overflow: hidden;","pointer-events: "+h.domPointerEvents+";","transform: scale(1);","transform-origin: left top;"].join(" "),d.domContainer=l,o(l,h.parent)}};n.exports=y}),57264:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(25892),y=function(d){if(document.readyState==="complete"||document.readyState==="interactive"){d();return}var h=function(){document.removeEventListener("deviceready",h,!0),document.removeEventListener("DOMContentLoaded",h,!0),window.removeEventListener("load",h,!0),d()};document.body?o.cordova?document.addEventListener("deviceready",h,!1):(document.addEventListener("DOMContentLoaded",h,!0),window.addEventListener("load",h,!0)):window.setTimeout(h,20)};n.exports=y}),57811:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){if(!r)return window.innerHeight;var o=Math.abs(window.orientation),y={w:0,h:0},d=document.createElement("div");return d.setAttribute("style","position: fixed; height: 100vh; width: 0; top: 0"),document.documentElement.appendChild(d),y.w=o===90?d.offsetHeight:window.innerWidth,y.h=o===90?window.innerWidth:d.offsetHeight,document.documentElement.removeChild(d),d=null,Math.abs(window.orientation)!==90?y.h:y.w};n.exports=T}),45818:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(13560),y=function(d,h){var l=window.screen,a=l?l.orientation||l.mozOrientation||l.msOrientation:!1;if(a&&typeof a.type=="string")return a.type;if(typeof a=="string")return a;if(typeof window.orientation=="number")return window.orientation===0||window.orientation===180?o.ORIENTATION.PORTRAIT:o.ORIENTATION.LANDSCAPE;if(window.matchMedia){if(window.matchMedia("(orientation: portrait)").matches)return o.ORIENTATION.PORTRAIT;if(window.matchMedia("(orientation: landscape)").matches)return o.ORIENTATION.LANDSCAPE}else return h>d?o.ORIENTATION.PORTRAIT:o.ORIENTATION.LANDSCAPE};n.exports=y}),74403:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){var o;return r!==""&&(typeof r=="string"?o=document.getElementById(r):r&&r.nodeType===1&&(o=r)),o||(o=document.body),o};n.exports=T}),56836:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){var o="";try{if(window.DOMParser){var y=new DOMParser;o=y.parseFromString(r,"text/xml")}else o=new ActiveXObject("Microsoft.XMLDOM"),o.loadXML(r)}catch{o=null}return!o||!o.documentElement||o.getElementsByTagName("parsererror").length?null:o};n.exports=T}),35846:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){r.parentNode&&r.parentNode.removeChild(r)};n.exports=T}),43092:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(29747),d=new o({initialize:function(){this.isRunning=!1,this.callback=y,this.isSetTimeOut=!1,this.timeOutID=null,this.delay=0;var l=this;this.step=function a(f){l.callback(f),l.isRunning&&(l.timeOutID=window.requestAnimationFrame(a))},this.stepTimeout=function a(){l.isRunning&&(l.timeOutID=window.setTimeout(a,l.delay)),l.callback(window.performance.now())}},start:function(h,l,a){this.isRunning||(this.callback=h,this.isSetTimeOut=l,this.delay=a,this.isRunning=!0,this.timeOutID=l?window.setTimeout(this.stepTimeout,0):window.requestAnimationFrame(this.step))},stop:function(){this.isRunning=!1,this.isSetTimeOut?clearTimeout(this.timeOutID):window.cancelAnimationFrame(this.timeOutID)},destroy:function(){this.stop(),this.callback=y}});n.exports=d}),84902:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={AddToDOM:r(40366),DOMContentLoaded:r(57264),GetInnerHeight:r(57811),GetScreenOrientation:r(45818),GetTarget:r(74403),ParseXML:r(56836),RemoveFromDOM:r(35846),RequestAnimationFrame:r(43092)};n.exports=o}),47565:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(50792),d=r(37277),h=new o({Extends:y,initialize:function(){y.call(this)},shutdown:function(){this.removeAllListeners()},destroy:function(){this.removeAllListeners()}});d.register("EventEmitter",h,"events"),n.exports=h}),93055:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={EventEmitter:r(47565)}}),20122:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(72898),d=r(14811),h=new o({Extends:y,initialize:function(a,f){f===void 0&&(f=1),y.call(this,d.BARREL,a),this.amount=f}});n.exports=h}),32251:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(72898),d=r(14811),h=new o({Extends:y,initialize:function(a,f,c,u,v,p,m){c===void 0&&(c=1),u===void 0&&(u=1),v===void 0&&(v=1),p===void 0&&(p=1),m===void 0&&(m=4),y.call(this,d.BLOOM,a),this.steps=m,this.offsetX=c,this.offsetY=u,this.blurStrength=v,this.strength=p,this.glcolor=[1,1,1],f!=null&&(this.color=f)},color:{get:function(){var l=this.glcolor;return(l[0]*255<<16)+(l[1]*255<<8)+(l[2]*255|0)},set:function(l){var a=this.glcolor;a[0]=(l>>16&255)/255,a[1]=(l>>8&255)/255,a[2]=(l&255)/255}}});n.exports=h}),9047:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(72898),d=r(14811),h=new o({Extends:y,initialize:function(a,f,c,u,v,p,m){f===void 0&&(f=0),c===void 0&&(c=2),u===void 0&&(u=2),v===void 0&&(v=1),m===void 0&&(m=4),y.call(this,d.BLUR,a),this.quality=f,this.x=c,this.y=u,this.steps=m,this.strength=v,this.glcolor=[1,1,1],p!=null&&(this.color=p)},color:{get:function(){var l=this.glcolor;return(l[0]*255<<16)+(l[1]*255<<8)+(l[2]*255|0)},set:function(l){var a=this.glcolor;a[0]=(l>>16&255)/255,a[1]=(l>>8&255)/255,a[2]=(l&255)/255}}});n.exports=h}),27885:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(72898),d=r(14811),h=new o({Extends:y,initialize:function(a,f,c,u,v,p,m,x){f===void 0&&(f=.5),c===void 0&&(c=1),u===void 0&&(u=.2),v===void 0&&(v=!1),p===void 0&&(p=1),m===void 0&&(m=1),x===void 0&&(x=1),y.call(this,d.BOKEH,a),this.radius=f,this.amount=c,this.contrast=u,this.isTiltShift=v,this.strength=x,this.blurX=p,this.blurY=m}});n.exports=h}),12578:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(72898),d=r(14811),h=new o({Extends:y,initialize:function(a,f,c,u,v,p){f===void 0&&(f=8),v===void 0&&(v=1),p===void 0&&(p=.005),y.call(this,d.CIRCLE,a),this.scale=v,this.feather=p,this.thickness=f,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4],c!=null&&(this.color=c),u!=null&&(this.backgroundColor=u)},color:{get:function(){var l=this.glcolor;return(l[0]*255<<16)+(l[1]*255<<8)+(l[2]*255|0)},set:function(l){var a=this.glcolor;a[0]=(l>>16&255)/255,a[1]=(l>>8&255)/255,a[2]=(l&255)/255}},backgroundColor:{get:function(){var l=this.glcolor2;return(l[0]*255<<16)+(l[1]*255<<8)+(l[2]*255|0)},set:function(l){var a=this.glcolor2;a[0]=(l>>16&255)/255,a[1]=(l>>8&255)/255,a[2]=(l&255)/255}},backgroundAlpha:{get:function(){return this.glcolor2[3]},set:function(l){this.glcolor2[3]=l}}});n.exports=h}),15802:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(89422),d=r(14811),h=new o({Extends:y,initialize:function(a){y.call(this),this.type=d.COLOR_MATRIX,this.gameObject=a,this.active=!0},destroy:function(){this.gameObject=null,this._matrix=null,this._data=null}});n.exports=h}),72898:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=new o({initialize:function(h,l){this.type=h,this.gameObject=l,this.active=!0},setActive:function(d){return this.active=d,this},destroy:function(){this.gameObject=null,this.active=!1}});n.exports=y}),44553:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(72898),d=r(14811),h=new o({Extends:y,initialize:function(a,f,c,u){f===void 0&&(f="__WHITE"),c===void 0&&(c=.005),u===void 0&&(u=.005),y.call(this,d.DISPLACEMENT,a),this.x=c,this.y=u,this.glTexture,this.setTexture(f)},setTexture:function(l){var a=this.gameObject.scene.sys.textures.getFrame(l);return a&&(this.glTexture=a.glTexture),this}});n.exports=h}),68531:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(72898),d=r(14811),h=new o({Extends:y,initialize:function(a,f,c,u,v){c===void 0&&(c=4),u===void 0&&(u=0),v===void 0&&(v=!1),y.call(this,d.GLOW,a),this.outerStrength=c,this.innerStrength=u,this.knockout=v,this.glcolor=[1,1,1,1],f!==void 0&&(this.color=f)},color:{get:function(){var l=this.glcolor;return(l[0]*255<<16)+(l[1]*255<<8)+(l[2]*255|0)},set:function(l){var a=this.glcolor;a[0]=(l>>16&255)/255,a[1]=(l>>8&255)/255,a[2]=(l&255)/255}}});n.exports=h}),37102:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(72898),d=r(14811),h=new o({Extends:y,initialize:function(a,f,c,u,v,p,m,x,C){u===void 0&&(u=.2),v===void 0&&(v=0),p===void 0&&(p=0),m===void 0&&(m=0),x===void 0&&(x=1),C===void 0&&(C=0),y.call(this,d.GRADIENT,a),this.alpha=u,this.size=C,this.fromX=v,this.fromY=p,this.toX=m,this.toY=x,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0],f!=null&&(this.color1=f),c!=null&&(this.color2=c)},color1:{get:function(){var l=this.glcolor1;return(l[0]<<16)+(l[1]<<8)+(l[2]|0)},set:function(l){var a=this.glcolor1;a[0]=l>>16&255,a[1]=l>>8&255,a[2]=l&255}},color2:{get:function(){var l=this.glcolor2;return(l[0]<<16)+(l[1]<<8)+(l[2]|0)},set:function(l){var a=this.glcolor2;a[0]=l>>16&255,a[1]=l>>8&255,a[2]=l&255}}});n.exports=h}),86886:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(72898),d=r(14811),h=new o({Extends:y,initialize:function(a,f){f===void 0&&(f=1),y.call(this,d.PIXELATE,a),this.amount=f}});n.exports=h}),92322:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(72898),d=r(14811),h=new o({Extends:y,initialize:function(a,f,c,u,v,p,m,x){f===void 0&&(f=0),c===void 0&&(c=0),u===void 0&&(u=.1),v===void 0&&(v=1),m===void 0&&(m=6),x===void 0&&(x=1),y.call(this,d.SHADOW,a),this.x=f,this.y=c,this.decay=u,this.power=v,this.glcolor=[0,0,0,1],this.samples=m,this.intensity=x,p!==void 0&&(this.color=p)},color:{get:function(){var l=this.glcolor;return(l[0]*255<<16)+(l[1]*255<<8)+(l[2]*255|0)},set:function(l){var a=this.glcolor;a[0]=(l>>16&255)/255,a[1]=(l>>8&255)/255,a[2]=(l&255)/255}}});n.exports=h}),39563:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(72898),d=r(14811),h=new o({Extends:y,initialize:function(a,f,c,u,v){f===void 0&&(f=.5),c===void 0&&(c=.5),u===void 0&&(u=3),v===void 0&&(v=!1),y.call(this,d.SHINE,a),this.speed=f,this.lineWidth=c,this.gradient=u,this.reveal=v}});n.exports=h}),56448:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(72898),d=r(14811),h=new o({Extends:y,initialize:function(a,f,c,u,v){f===void 0&&(f=.5),c===void 0&&(c=.5),u===void 0&&(u=.5),v===void 0&&(v=.5),y.call(this,d.VIGNETTE,a),this.x=f,this.y=c,this.radius=u,this.strength=v}});n.exports=h}),38433:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(72898),d=r(14811),h=new o({Extends:y,initialize:function(a,f,c,u,v){f===void 0&&(f=.1),c===void 0&&(c=0),u===void 0&&(u=0),v===void 0&&(v=!1),y.call(this,d.WIPE,a),this.progress=0,this.wipeWidth=f,this.direction=c,this.axis=u,this.reveal=v}});n.exports=h}),14811:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={GLOW:4,SHADOW:5,PIXELATE:6,VIGNETTE:7,SHINE:8,BLUR:9,GRADIENT:12,BLOOM:13,COLOR_MATRIX:14,CIRCLE:15,BARREL:16,DISPLACEMENT:17,WIPE:18,BOKEH:19};n.exports=T}),66064:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(79291),y=r(14811),d={Barrel:r(20122),Controller:r(72898),Bloom:r(32251),Blur:r(9047),Bokeh:r(27885),Circle:r(12578),ColorMatrix:r(15802),Displacement:r(44553),Glow:r(68531),Gradient:r(37102),Pixelate:r(86886),Shadow:r(92322),Shine:r(39563),Vignette:r(56448),Wipe:r(38433)};d=o(!1,d,y),n.exports=d}),25305:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(10312),y=r(23568),d=function(h,l,a){l.x=y(a,"x",0),l.y=y(a,"y",0),l.depth=y(a,"depth",0),l.flipX=y(a,"flipX",!1),l.flipY=y(a,"flipY",!1);var f=y(a,"scale",null);typeof f=="number"?l.setScale(f):f!==null&&(l.scaleX=y(f,"x",1),l.scaleY=y(f,"y",1));var c=y(a,"scrollFactor",null);typeof c=="number"?l.setScrollFactor(c):c!==null&&(l.scrollFactorX=y(c,"x",1),l.scrollFactorY=y(c,"y",1)),l.rotation=y(a,"rotation",0);var u=y(a,"angle",null);u!==null&&(l.angle=u),l.alpha=y(a,"alpha",1);var v=y(a,"origin",null);if(typeof v=="number")l.setOrigin(v);else if(v!==null){var p=y(v,"x",.5),m=y(v,"y",.5);l.setOrigin(p,m)}l.blendMode=y(a,"blendMode",o.NORMAL),l.visible=y(a,"visible",!0);var x=y(a,"add",!0);return x&&h.sys.displayList.add(l),l.preUpdate&&h.sys.updateList.add(l),l};n.exports=d}),13059:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(23568),y=function(d,h){var l=o(h,"anims",null);if(l===null)return d;if(typeof l=="string")d.anims.play(l);else if(typeof l=="object"){var a=d.anims,f=o(l,"key",void 0);if(f){var c=o(l,"startFrame",void 0),u=o(l,"delay",0),v=o(l,"repeat",0),p=o(l,"repeatDelay",0),m=o(l,"yoyo",!1),x=o(l,"play",!1),C=o(l,"delayedPlay",0),P={key:f,delay:u,repeat:v,repeatDelay:p,yoyo:m,startFrame:c};x?a.play(P):C>0?a.playAfterDelay(P,C):a.load(P)}}return d};n.exports=y}),8050:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(73162),d=r(37277),h=r(51708),l=r(44594),a=r(19186),f=new o({Extends:y,initialize:function(u){y.call(this,u),this.sortChildrenFlag=!1,this.scene=u,this.systems=u.sys,this.events=u.sys.events,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.events.once(l.BOOT,this.boot,this),this.events.on(l.START,this.start,this)},boot:function(){this.events.once(l.DESTROY,this.destroy,this)},addChildCallback:function(c){c.displayList&&c.displayList!==this&&c.removeFromDisplayList(),c.parentContainer&&c.parentContainer.remove(c),c.displayList||(this.queueDepthSort(),c.displayList=this,c.emit(h.ADDED_TO_SCENE,c,this.scene),this.events.emit(l.ADDED_TO_SCENE,c,this.scene))},removeChildCallback:function(c){this.queueDepthSort(),c.displayList=null,c.emit(h.REMOVED_FROM_SCENE,c,this.scene),this.events.emit(l.REMOVED_FROM_SCENE,c,this.scene)},start:function(){this.events.once(l.SHUTDOWN,this.shutdown,this)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(a(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(c,u){return c._depth-u._depth},getChildren:function(){return this.list},shutdown:function(){for(var c=this.list,u=c.length;u--;)c[u].destroy(!0);c.length=0,this.events.off(l.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(l.START,this.start,this),this.scene=null,this.systems=null,this.events=null}});d.register("DisplayList",f,"displayList"),n.exports=f}),95643:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(53774),d=r(45893),h=r(50792),l=r(51708),a=r(44594),f=new o({Extends:h,initialize:function(u,v){h.call(this),this.scene=u,this.displayList=null,this.type=v,this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.on(l.ADDED_TO_SCENE,this.addedToScene,this),this.on(l.REMOVED_FROM_SCENE,this.removedFromScene,this),u.sys.queueDepthSort()},setActive:function(c){return this.active=c,this},setName:function(c){return this.name=c,this},setState:function(c){return this.state=c,this},setDataEnabled:function(){return this.data||(this.data=new d(this)),this},setData:function(c,u){return this.data||(this.data=new d(this)),this.data.set(c,u),this},incData:function(c,u){return this.data||(this.data=new d(this)),this.data.inc(c,u),this},toggleData:function(c){return this.data||(this.data=new d(this)),this.data.toggle(c),this},getData:function(c){return this.data||(this.data=new d(this)),this.data.get(c)},setInteractive:function(c,u,v){return this.scene.sys.input.enable(this,c,u,v),this},disableInteractive:function(c){return c===void 0&&(c=!1),this.scene.sys.input.disable(this,c),this},removeInteractive:function(c){return c===void 0&&(c=!1),this.scene.sys.input.clear(this),c&&this.scene.sys.input.resetCursor(),this.input=void 0,this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return y(this)},willRender:function(c){var u=this.displayList&&this.displayList.active?this.displayList.willRender(c):!0;return!(!u||f.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&c.id)},getIndexList:function(){for(var c=this,u=this.parentContainer,v=[];u&&(v.unshift(u.getIndex(c)),c=u,u.parentContainer);)u=u.parentContainer;return this.displayList?v.unshift(this.displayList.getIndex(c)):v.unshift(this.scene.sys.displayList.getIndex(c)),v},addToDisplayList:function(c){return c===void 0&&(c=this.scene.sys.displayList),this.displayList&&this.displayList!==c&&this.removeFromDisplayList(),c.exists(this)||(this.displayList=c,c.add(this,!0),c.queueDepthSort(),this.emit(l.ADDED_TO_SCENE,this,this.scene),c.events.emit(a.ADDED_TO_SCENE,this,this.scene)),this},addToUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.add(this),this},removeFromDisplayList:function(){var c=this.displayList||this.scene.sys.displayList;return c&&c.exists(this)&&(c.remove(this,!0),c.queueDepthSort(),this.displayList=null,this.emit(l.REMOVED_FROM_SCENE,this,this.scene),c.events.emit(a.REMOVED_FROM_SCENE,this,this.scene)),this},removeFromUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.remove(this),this},getDisplayList:function(){var c=null;return this.parentContainer?c=this.parentContainer.list:this.displayList&&(c=this.displayList.list),c},destroy:function(c){!this.scene||this.ignoreDestroy||(c===void 0&&(c=!1),this.preDestroy&&this.preDestroy.call(this),this.emit(l.DESTROY,this,c),this.removeAllListeners(),this.postPipelines&&this.resetPostPipeline(!0),this.removeFromDisplayList(),this.removeFromUpdateList(),this.input&&(this.scene.sys.input.clear(this),this.input=void 0),this.data&&(this.data.destroy(),this.data=void 0),this.body&&(this.body.destroy(),this.body=void 0),this.preFX&&(this.preFX.destroy(),this.preFX=void 0),this.postFX&&(this.postFX.destroy(),this.postFX=void 0),this.active=!1,this.visible=!1,this.scene=void 0,this.parentContainer=void 0)}});f.RENDER_MASK=15,n.exports=f}),44603:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(37277),d=r(44594),h=new o({initialize:function(a){this.scene=a,this.systems=a.sys,this.events=a.sys.events,this.displayList,this.updateList,this.events.once(d.BOOT,this.boot,this),this.events.on(d.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(d.DESTROY,this.destroy,this)},start:function(){this.events.once(d.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.events.off(d.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(d.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});h.register=function(l,a){h.prototype.hasOwnProperty(l)||(h.prototype[l]=a)},h.remove=function(l){h.prototype.hasOwnProperty(l)&&delete h.prototype[l]},y.register("GameObjectCreator",h,"make"),n.exports=h}),39429:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(37277),d=r(44594),h=new o({initialize:function(a){this.scene=a,this.systems=a.sys,this.events=a.sys.events,this.displayList,this.updateList,this.events.once(d.BOOT,this.boot,this),this.events.on(d.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(d.DESTROY,this.destroy,this)},start:function(){this.events.once(d.SHUTDOWN,this.shutdown,this)},existing:function(l){return(l.renderCanvas||l.renderWebGL)&&this.displayList.add(l),l.preUpdate&&this.updateList.add(l),l},shutdown:function(){this.events.off(d.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(d.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});h.register=function(l,a){h.prototype.hasOwnProperty(l)||(h.prototype[l]=a)},h.remove=function(l){h.prototype.hasOwnProperty(l)&&delete h.prototype[l]},y.register("GameObjectFactory",h,"add"),n.exports=h}),91296:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(61340),y=new o,d=new o,h=new o,l={camera:y,sprite:d,calc:h},a=function(f,c,u){var v=y,p=d,m=h;return p.applyITRS(f.x,f.y,f.rotation,f.scaleX,f.scaleY),v.copyFrom(c.matrix),u?(v.multiplyWithOffset(u,-c.scrollX*f.scrollFactorX,-c.scrollY*f.scrollFactorY),p.e=f.x,p.f=f.y):(p.e-=c.scrollX*f.scrollFactorX,p.f-=c.scrollY*f.scrollFactorY),v.multiply(p,m),l};n.exports=a}),45027:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(25774),d=r(37277),h=r(44594),l=new o({Extends:y,initialize:function(f){y.call(this),this.checkQueue=!0,this.scene=f,this.systems=f.sys,f.sys.events.once(h.BOOT,this.boot,this),f.sys.events.on(h.START,this.start,this)},boot:function(){this.systems.events.once(h.DESTROY,this.destroy,this)},start:function(){var a=this.systems.events;a.on(h.PRE_UPDATE,this.update,this),a.on(h.UPDATE,this.sceneUpdate,this),a.once(h.SHUTDOWN,this.shutdown,this)},sceneUpdate:function(a,f){for(var c=this._active,u=c.length,v=0;v<u;v++){var p=c[v];p.active&&p.preUpdate.call(p,a,f)}},shutdown:function(){for(var a=this._active.length;a--;)this._active[a].destroy(!0);for(a=this._pending.length;a--;)this._pending[a].destroy(!0);for(a=this._destroy.length;a--;)this._destroy[a].destroy(!0);this._toProcess=0,this._pending=[],this._active=[],this._destroy=[],this.removeAllListeners();var f=this.systems.events;f.off(h.PRE_UPDATE,this.update,this),f.off(h.UPDATE,this.sceneUpdate,this),f.off(h.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.systems.events.off(h.START,this.start,this),this.scene=null,this.systems=null}});d.register("UpdateList",l,"updateList"),n.exports=l}),3217:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y,d,h,l,a,f,c,u,v,p,m,x,C){var P=y.x-o.displayOriginX+h,w=y.y-o.displayOriginY+l,M=P+y.w,R=w+y.h,A=a.a,L=a.b,F=a.c,G=a.d,I=a.e,B=a.f,k=P*A+w*F+I,U=P*L+w*G+B,H=P*A+R*F+I,X=P*L+R*G+B,j=M*A+R*F+I,Z=M*L+R*G+B,Y=M*A+w*F+I,$=M*L+w*G+B;f&&(k=Math.round(k),U=Math.round(U),H=Math.round(H),X=Math.round(X),j=Math.round(j),Z=Math.round(Z),Y=Math.round(Y),$=Math.round($)),r.batchQuad(o,k,U,H,X,j,Z,Y,$,d.u0,d.v0,d.u1,d.v1,c,u,v,p,m,x,C)};n.exports=T}),53048:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y,d){if(y===void 0&&(y=!1),d===void 0)return d={local:{x:0,y:0,width:0,height:0},global:{x:0,y:0,width:0,height:0},lines:{shortest:0,longest:0,lengths:null,height:0},wrappedText:"",words:[],characters:[],scaleX:0,scaleY:0},d;var h=r.text,l=h.length,a=r.maxWidth,f=r.wordWrapCharCode,c=Number.MAX_VALUE,u=Number.MAX_VALUE,v=0,p=0,m=r.fontData.chars,x=r.fontData.lineHeight,C=r.letterSpacing,P=r.lineSpacing,w=0,M=0,R=0,A=null,L=r._align,F=0,G=0,I=r.fontSize/r.fontData.size,B=I*r.scaleX,k=I*r.scaleY,U=null,H=0,X=[],j=Number.MAX_VALUE,Z=0,Y=0,$=0,z,V,K,Q=[],_=[],tt=null,rt=function(Gt,Xt){for(var ee=0,Se=0;Se<Gt.length;Se++){var we=Gt.charCodeAt(Se),Ze=Xt.chars[we];Ze&&(ee+=Ze.xAdvance)}return ee*B};if(a>0){K=h.split(`
`);var ot=[];for(z=0;z<K.length;z++){var ft=K[z],ct="",gt="",xt="",Mt="";for(V=0;V<ft.length;V++)if(R=ft.charCodeAt(V),ct+=ft[V],R===f||V===ft.length-1){Mt=xt+ct;var St=rt(Mt,r.fontData);St<=a?xt=Mt:(gt=gt.slice(0,-1),gt+=(gt?`
`:"")+xt,xt=ct),ct=""}gt=gt.slice(0,-1),gt+=(gt?`
`:"")+xt,ot.push(gt)}h=ot.join(`
`),d.wrappedText=h,l=h.length}var $t=0;for(z=0;z<l;z++){if(R=h.charCodeAt(z),R===10){tt!==null&&(Q.push({word:tt.word,i:tt.i,x:tt.x*B,y:tt.y*k,w:tt.w*B,h:tt.h*k}),tt=null),U=null,X[Y]=$,$>Z&&(Z=$),$<j&&(j=$),Y++,$=0,w=0,M=(x+P)*Y;continue}if(A=m[R],!!A){if(F=w,G=M,U!==null){var Yt=A.kerning[H];F+=Yt!==void 0?Yt:0}c>F&&(c=F),u>G&&(u=G);var Ht=F+A.xAdvance,Ct=G+x;v<Ht&&(v=Ht),p<Ct&&(p=Ct);var Nt=A.xOffset+A.xAdvance+(Yt!==void 0?Yt:0);R===f?tt!==null&&(Q.push({word:tt.word,i:tt.i,x:tt.x*B,y:tt.y*k,w:tt.w*B,h:tt.h*k}),tt=null):(tt===null&&(tt={word:"",i:$t,x:w,y:M,w:0,h:x}),tt.word=tt.word.concat(h[z]),tt.w+=Nt),_.push({i:$t,idx:z,char:h[z],code:R,x:(A.xOffset+F)*I,y:(A.yOffset+M)*I,w:A.width*I,h:A.height*I,t:M*I,r:Ht*I,b:x*I,line:Y,glyph:A}),w+=A.xAdvance+C+(Yt!==void 0?Yt:0),U=A,H=R,$=Ht*I,$t++}}if(tt!==null&&Q.push({word:tt.word,i:tt.i,x:tt.x*B,y:tt.y*k,w:tt.w*B,h:tt.h*k}),X[Y]=$,$>Z&&(Z=$),$<j&&(j=$),L>0)for(var Vt=0;Vt<_.length;Vt++){var qt=_[Vt];if(L===1){var Ce=(Z-X[qt.line])/2;qt.x+=Ce,qt.r+=Ce}else if(L===2){var ze=Z-X[qt.line];qt.x+=ze,qt.r+=ze}}var ye=d.local,Be=d.global;return K=d.lines,ye.x=c*I,ye.y=u*I,ye.width=v*I,ye.height=p*I,Be.x=r.x-r._displayOriginX+c*B,Be.y=r.y-r._displayOriginY+u*k,Be.width=v*B,Be.height=p*k,K.shortest=j,K.longest=Z,K.lengths=X,o&&(ye.x=Math.ceil(ye.x),ye.y=Math.ceil(ye.y),ye.width=Math.ceil(ye.width),ye.height=Math.ceil(ye.height),Be.x=Math.ceil(Be.x),Be.y=Math.ceil(Be.y),Be.width=Math.ceil(Be.width),Be.height=Math.ceil(Be.height),K.shortest=Math.ceil(j),K.longest=Math.ceil(Z)),y&&(r._displayOriginX=r.originX*ye.width,r._displayOriginY=r.originY*ye.height,Be.x=r.x-r._displayOriginX*r.scaleX,Be.y=r.y-r._displayOriginY*r.scaleY,o&&(Be.x=Math.ceil(Be.x),Be.y=Math.ceil(Be.y))),d.words=Q,d.characters=_,d.lines.height=x,d.scale=I,d.scaleX=r.scaleX,d.scaleY=r.scaleY,d};n.exports=T}),61327:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(21859),y=function(d,h,l,a,f,c,u){var v=d.sys.textures.get(l),p=v.get(a),m=d.sys.cache.xml.get(f);if(p&&m){var x=o(m,p,c,u,v);return d.sys.cache.bitmapFont.add(h,{data:x,texture:l,frame:a,fromAtlas:!0}),!0}else return!1};n.exports=y}),6925:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(35154),y=function(d,h){var l=h.width,a=h.height,f=Math.floor(l/2),c=Math.floor(a/2),u=o(h,"chars","");if(u!==""){var v=o(h,"image",""),p=d.sys.textures.getFrame(v),m=p.cutX,x=p.cutY,C=p.source.width,P=p.source.height,w=o(h,"offset.x",0),M=o(h,"offset.y",0),R=o(h,"spacing.x",0),A=o(h,"spacing.y",0),L=o(h,"lineSpacing",0),F=o(h,"charsPerRow",null);F===null&&(F=C/l,F>u.length&&(F=u.length));for(var G=w,I=M,B={retroFont:!0,font:v,size:l,lineHeight:a+L,chars:{}},k=0,U=0;U<u.length;U++){var H=u.charCodeAt(U),X=(m+G)/C,j=(x+I)/P,Z=(m+G+l)/C,Y=(x+I+a)/P;B.chars[H]={x:G,y:I,width:l,height:a,centerX:f,centerY:c,xOffset:0,yOffset:0,xAdvance:l,data:{},kerning:{},u0:X,v0:j,u1:Z,v1:Y},k++,k===F?(k=0,G=w,I+=a+A):G+=l+R}var $={data:B,frame:null,texture:v};return $}};n.exports=y}),21859:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function T(o,y){return parseInt(o.getAttribute(y),10)}var r=function(o,y,d,h,l){d===void 0&&(d=0),h===void 0&&(h=0);var a=y.cutX,f=y.cutY,c=y.source.width,u=y.source.height,v=y.sourceIndex,p={},m=o.getElementsByTagName("info")[0],x=o.getElementsByTagName("common")[0];p.font=m.getAttribute("face"),p.size=T(m,"size"),p.lineHeight=T(x,"lineHeight")+h,p.chars={};var C=o.getElementsByTagName("char"),P=y!==void 0&&y.trimmed;if(P)var w=y.height,M=y.width;for(var R=0;R<C.length;R++){var A=C[R],L=T(A,"id"),F=String.fromCharCode(L),G=T(A,"x"),I=T(A,"y"),B=T(A,"width"),k=T(A,"height");P&&(G<M&&(M=G),I<w&&(w=I)),P&&w!==0&&M!==0&&(G-=y.x,I-=y.y);var U=(a+G)/c,H=(f+I)/u,X=(a+G+B)/c,j=(f+I+k)/u;if(p.chars[L]={x:G,y:I,width:B,height:k,centerX:Math.floor(B/2),centerY:Math.floor(k/2),xOffset:T(A,"xoffset"),yOffset:T(A,"yoffset"),xAdvance:T(A,"xadvance")+d,data:{},kerning:{},u0:U,v0:H,u1:X,v1:j},l&&B!==0&&k!==0){var Z=l.add(F,v,G,I,B,k);Z&&Z.setUVs(B,k,U,H,X,j)}}var Y=o.getElementsByTagName("kerning");for(R=0;R<Y.length;R++){var $=Y[R],z=T($,"first"),V=T($,"second"),K=T($,"amount");p.chars[V].kerning[z]=K}return p};n.exports=r}),196:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(87662),y=r(79291),d={Parse:r(6925)};d=y(!1,d,o),n.exports=d}),87662:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={TEXT_SET1:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",TEXT_SET2:` !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ`,TEXT_SET3:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",TEXT_SET4:"ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789",TEXT_SET5:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789",TEXT_SET6:`ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789"(),-.' `,TEXT_SET7:`AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW")28FLRX-'39`,TEXT_SET8:"0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET9:`ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'"?!`,TEXT_SET10:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET11:`ABCDEFGHIJKLMNOPQRSTUVWXYZ.,"-+!?()':;0123456789`};n.exports=T}),2638:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(22186),y=r(83419),d=r(12310),h=new y({Extends:o,Mixins:[d],initialize:function(a,f,c,u,v,p,m){o.call(this,a,f,c,u,v,p,m),this.type="DynamicBitmapText",this.scrollX=0,this.scrollY=0,this.cropWidth=0,this.cropHeight=0,this.displayCallback,this.callbackData={parent:this,color:0,tint:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},index:0,charCode:0,x:0,y:0,scale:0,rotation:0,data:0}},setSize:function(l,a){return this.cropWidth=l,this.cropHeight=a,this},setDisplayCallback:function(l){return this.displayCallback=l,this},setScrollX:function(l){return this.scrollX=l,this},setScrollY:function(l){return this.scrollY=l,this}});n.exports=h}),86741:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(20926),y=function(d,h,l,a){var f=h._text,c=f.length,u=d.currentContext;if(!(c===0||!o(d,u,h,l,a))){l.addToRenderList(h);var v=h.fromAtlas?h.frame:h.texture.frames.__BASE,p=h.displayCallback,m=h.callbackData,x=h.fontData.chars,C=h.fontData.lineHeight,P=h._letterSpacing,w=0,M=0,R=0,A=null,L=0,F=0,G=0,I=0,B=0,k=0,U=null,H=0,X=h.frame.source.image,j=v.cutX,Z=v.cutY,Y=0,$=0,z=h._fontSize/h.fontData.size,V=h._align,K=0,Q=0;h.getTextBounds(!1);var _=h._bounds.lines;V===1?Q=(_.longest-_.lengths[0])/2:V===2&&(Q=_.longest-_.lengths[0]),u.translate(-h.displayOriginX,-h.displayOriginY);var tt=l.roundPixels;h.cropWidth>0&&h.cropHeight>0&&(u.beginPath(),u.rect(0,0,h.cropWidth,h.cropHeight),u.clip());for(var rt=0;rt<c;rt++){if($=z,Y=0,R=f.charCodeAt(rt),R===10){K++,V===1?Q=(_.longest-_.lengths[K])/2:V===2&&(Q=_.longest-_.lengths[K]),w=0,M+=C,U=null;continue}if(A=x[R],!!A){if(L=j+A.x,F=Z+A.y,G=A.width,I=A.height,B=A.xOffset+w-h.scrollX,k=A.yOffset+M-h.scrollY,U!==null){var ot=A.kerning[H];B+=ot!==void 0?ot:0}if(p){m.index=rt,m.charCode=R,m.x=B,m.y=k,m.scale=$,m.rotation=Y,m.data=A.data;var ft=p(m);B=ft.x,k=ft.y,$=ft.scale,Y=ft.rotation}B*=$,k*=$,B+=Q,w+=A.xAdvance+P+(ot!==void 0?ot:0),U=A,H=R,!(G===0||I===0||R===32)&&(tt&&(B=Math.round(B),k=Math.round(k)),u.save(),u.translate(B,k),u.rotate(Y),u.scale($,$),u.drawImage(X,L,F,G,I,0,0,G,I),u.restore())}}u.restore()}};n.exports=y}),11164:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2638),y=r(25305),d=r(44603),h=r(23568);d.register("dynamicBitmapText",function(l,a){l===void 0&&(l={});var f=h(l,"font",""),c=h(l,"text",""),u=h(l,"size",!1),v=new o(this.scene,0,0,f,c,u);return a!==void 0&&(l.add=a),y(this.scene,v,l),v})}),72566:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2638),y=r(39429);y.register("dynamicBitmapText",function(d,h,l,a,f){return this.displayList.add(new o(this.scene,d,h,l,a,f))})}),12310:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),y=o,d=o;y=r(73482),d=r(86741),n.exports={renderWebGL:y,renderCanvas:d}}),73482:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(91296),y=r(61340),d=r(70554),h=new y,l=function(a,f,c,u){var v=f.text,p=v.length;if(p!==0){c.addToRenderList(f);var m=a.pipelines.set(f.pipeline,f),x=o(f,c,u);a.pipelines.preBatch(f);var C=x.sprite,P=x.calc,w=h,M=f.cropWidth>0||f.cropHeight>0;M&&(m.flush(),a.pushScissor(P.tx,P.ty,f.cropWidth*P.scaleX,f.cropHeight*P.scaleY));var R=f.frame,A=R.glTexture,L=f.tintFill,F=d.getTintAppendFloatAlpha(f.tintTopLeft,c.alpha*f._alphaTL),G=d.getTintAppendFloatAlpha(f.tintTopRight,c.alpha*f._alphaTR),I=d.getTintAppendFloatAlpha(f.tintBottomLeft,c.alpha*f._alphaBL),B=d.getTintAppendFloatAlpha(f.tintBottomRight,c.alpha*f._alphaBR),k=m.setGameObject(f),U=0,H=0,X=0,j=0,Z=f.letterSpacing,Y,$=0,z=0,V,K=f.scrollX,Q=f.scrollY,_=f.fontData,tt=_.chars,rt=_.lineHeight,ot=f.fontSize/_.size,ft=0,ct=f._align,gt=0,xt=0,Mt=f.getTextBounds(!1);f.maxWidth>0&&(v=Mt.wrappedText,p=v.length);var St=f._bounds.lines;ct===1?xt=(St.longest-St.lengths[0])/2:ct===2&&(xt=St.longest-St.lengths[0]);for(var $t=c.roundPixels,Yt=f.displayCallback,Ht=f.callbackData,Ct=0;Ct<p;Ct++){if(X=v.charCodeAt(Ct),X===10){gt++,ct===1?xt=(St.longest-St.lengths[gt])/2:ct===2&&(xt=St.longest-St.lengths[gt]),U=0,H+=rt,V=null;continue}if(Y=tt[X],!!Y){$=Y.width,z=Y.height;var Nt=Y.xOffset+U-K,Vt=Y.yOffset+H-Q;if(V!==null){var qt=Y.kerning[j]||0;Nt+=qt,U+=qt}if(U+=Y.xAdvance+Z,V=Y,j=X,!($===0||z===0||X===32)){if(ot=f.fontSize/f.fontData.size,ft=0,Yt){Ht.color=0,Ht.tint.topLeft=F,Ht.tint.topRight=G,Ht.tint.bottomLeft=I,Ht.tint.bottomRight=B,Ht.index=Ct,Ht.charCode=X,Ht.x=Nt,Ht.y=Vt,Ht.scale=ot,Ht.rotation=ft,Ht.data=Y.data;var Ce=Yt(Ht);Nt=Ce.x,Vt=Ce.y,ot=Ce.scale,ft=Ce.rotation,Ce.color?(F=Ce.color,G=Ce.color,I=Ce.color,B=Ce.color):(F=Ce.tint.topLeft,G=Ce.tint.topRight,I=Ce.tint.bottomLeft,B=Ce.tint.bottomRight),F=d.getTintAppendFloatAlpha(F,c.alpha*f._alphaTL),G=d.getTintAppendFloatAlpha(G,c.alpha*f._alphaTR),I=d.getTintAppendFloatAlpha(I,c.alpha*f._alphaBL),B=d.getTintAppendFloatAlpha(B,c.alpha*f._alphaBR)}Nt*=ot,Vt*=ot,Nt-=f.displayOriginX,Vt-=f.displayOriginY,Nt+=xt,w.applyITRS(Nt,Vt,ft,ot,ot),P.multiply(w,C);var ze=Y.u0,ye=Y.v0,Be=Y.u1,Gt=Y.v1,Xt=$,ee=z,Se=C.e,we=C.f,Ze=ee*C.c+C.e,gi=ee*C.d+C.f,ki=Xt*C.a+ee*C.c+C.e,mi=Xt*C.b+ee*C.d+C.f,ri=Xt*C.a+C.e,fi=Xt*C.b+C.f;$t&&(Se=Math.round(Se),we=Math.round(we),Ze=Math.round(Ze),gi=Math.round(gi),ki=Math.round(ki),mi=Math.round(mi),ri=Math.round(ri),fi=Math.round(fi)),m.shouldFlush(6)&&(m.flush(),k=m.setGameObject(f)),m.batchQuad(f,Se,we,Ze,gi,ki,mi,ri,fi,ze,ye,Be,Gt,F,G,I,B,L,A,k)}}}M&&(m.flush(),a.popScissor()),a.pipelines.postBatch(f)}};n.exports=l}),22186:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(45319),d=r(31401),h=r(95643),l=r(53048),a=r(61327),f=r(21859),c=r(87841),u=r(18658),v=new o({Extends:h,Mixins:[d.Alpha,d.BlendMode,d.Depth,d.GetBounds,d.Mask,d.Origin,d.Pipeline,d.PostPipeline,d.ScrollFactor,d.Texture,d.Tint,d.Transform,d.Visible,u],initialize:function(m,x,C,P,w,M,R){w===void 0&&(w=""),R===void 0&&(R=0),h.call(this,m,"BitmapText"),this.font=P;var A=this.scene.sys.cache.bitmapFont.get(P);if(!A)throw new Error("Invalid BitmapText key: "+P);this.fontData=A.data,this._text="",this._fontSize=M||this.fontData.size,this._letterSpacing=0,this._lineSpacing=0,this._align=R,this._bounds=l(),this._dirty=!0,this._maxWidth=0,this.wordWrapCharCode=32,this.charColors=[],this.dropShadowX=0,this.dropShadowY=0,this.dropShadowColor=0,this.dropShadowAlpha=.5,this.fromAtlas=A.fromAtlas,this.setTexture(A.texture,A.frame),this.setPosition(x,C),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(),this.setText(w)},setLeftAlign:function(){return this._align=v.ALIGN_LEFT,this._dirty=!0,this},setCenterAlign:function(){return this._align=v.ALIGN_CENTER,this._dirty=!0,this},setRightAlign:function(){return this._align=v.ALIGN_RIGHT,this._dirty=!0,this},setFontSize:function(p){return this._fontSize=p,this._dirty=!0,this},setLetterSpacing:function(p){return p===void 0&&(p=0),this._letterSpacing=p,this._dirty=!0,this},setLineSpacing:function(p){return p===void 0&&(p=0),this.lineSpacing=p,this},setText:function(p){return!p&&p!==0&&(p=""),Array.isArray(p)&&(p=p.join(`
`)),p!==this.text&&(this._text=p.toString(),this._dirty=!0,this.updateDisplayOrigin()),this},setDropShadow:function(p,m,x,C){return p===void 0&&(p=0),m===void 0&&(m=0),x===void 0&&(x=0),C===void 0&&(C=.5),this.dropShadowX=p,this.dropShadowY=m,this.dropShadowColor=x,this.dropShadowAlpha=C,this},setCharacterTint:function(p,m,x,C,P,w,M){p===void 0&&(p=0),m===void 0&&(m=1),x===void 0&&(x=!1),C===void 0&&(C=-1),P===void 0&&(P=C,w=C,M=C);var R=this.text.length;m===-1&&(m=R),p<0&&(p=R+p),p=y(p,0,R-1);for(var A=y(p+m,p,R),L=this.charColors,F=p;F<A;F++){var G=L[F];if(C===-1)L[F]=null;else{var I=x?1:0;G?(G.tintEffect=I,G.tintTL=C,G.tintTR=P,G.tintBL=w,G.tintBR=M):L[F]={tintEffect:I,tintTL:C,tintTR:P,tintBL:w,tintBR:M}}}return this},setWordTint:function(p,m,x,C,P,w,M){m===void 0&&(m=1);for(var R=this.getTextBounds(),A=R.words,L=typeof p=="number",F=0,G=0;G<A.length;G++){var I=A[G];if((L&&G===p||!L&&I.word===p)&&(this.setCharacterTint(I.i,I.word.length,x,C,P,w,M),F++,F===m))return this}return this},getTextBounds:function(p){var m=this._bounds;return(this._dirty||p||this.scaleX!==m.scaleX||this.scaleY!==m.scaleY)&&(l(this,p,!0,m),this._dirty=!1),m},getCharacterAt:function(p,m,x){for(var C=this.getLocalPoint(p,m,null,x),P=this.getTextBounds(),w=P.characters,M=new c,R=0;R<w.length;R++){var A=w[R];if(M.setTo(A.x,A.t,A.r-A.x,A.b),M.contains(C.x,C.y))return A}return null},updateDisplayOrigin:function(){return this._dirty=!0,this.getTextBounds(!1),this},setFont:function(p,m,x){m===void 0&&(m=this._fontSize),x===void 0&&(x=this._align);var C=this.scene.sys.cache.bitmapFont.get(p);return C&&(this.font=p,this.fontData=C.data,this._fontSize=m,this._align=x,this.fromAtlas=C.fromAtlas===!0,this.setTexture(C.texture,C.frame),l(this,!1,!0,this._bounds)),this},setMaxWidth:function(p,m){return this._maxWidth=p,this._dirty=!0,m!==void 0&&(this.wordWrapCharCode=m),this},align:{set:function(p){this._align=p,this._dirty=!0},get:function(){return this._align}},text:{set:function(p){this.setText(p)},get:function(){return this._text}},fontSize:{set:function(p){this._fontSize=p,this._dirty=!0},get:function(){return this._fontSize}},letterSpacing:{set:function(p){this._letterSpacing=p,this._dirty=!0},get:function(){return this._letterSpacing}},lineSpacing:{set:function(p){this._lineSpacing=p,this._dirty=!0},get:function(){return this._lineSpacing}},maxWidth:{set:function(p){this._maxWidth=p,this._dirty=!0},get:function(){return this._maxWidth}},width:{get:function(){return this.getTextBounds(!1),this._bounds.global.width}},height:{get:function(){return this.getTextBounds(!1),this._bounds.global.height}},displayWidth:{get:function(){return this.width}},displayHeight:{get:function(){return this.height}},toJSON:function(){var p=d.ToJSON(this),m={font:this.font,text:this.text,fontSize:this.fontSize,letterSpacing:this.letterSpacing,lineSpacing:this.lineSpacing,align:this.align};return p.data=m,p},preDestroy:function(){this.charColors.length=0,this._bounds=null,this.fontData=null}});v.ALIGN_LEFT=0,v.ALIGN_CENTER=1,v.ALIGN_RIGHT=2,v.ParseFromAtlas=a,v.ParseXMLBitmapFont=f,n.exports=v}),37289:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(20926),y=function(d,h,l,a){var f=h._text,c=f.length,u=d.currentContext;if(!(c===0||!o(d,u,h,l,a))){l.addToRenderList(h);var v=h.fromAtlas?h.frame:h.texture.frames.__BASE,p=h.fontData.chars,m=h.fontData.lineHeight,x=h._letterSpacing,C=h._lineSpacing,P=0,w=0,M=0,R=null,A=0,L=0,F=0,G=0,I=0,B=0,k=null,U=0,H=v.source.image,X=v.cutX,j=v.cutY,Z=h._fontSize/h.fontData.size,Y=h._align,$=0,z=0,V=h.getTextBounds(!1);h.maxWidth>0&&(f=V.wrappedText,c=f.length);var K=h._bounds.lines;Y===1?z=(K.longest-K.lengths[0])/2:Y===2&&(z=K.longest-K.lengths[0]),u.translate(-h.displayOriginX,-h.displayOriginY);for(var Q=l.roundPixels,_=0;_<c;_++){if(M=f.charCodeAt(_),M===10){$++,Y===1?z=(K.longest-K.lengths[$])/2:Y===2&&(z=K.longest-K.lengths[$]),P=0,w+=m+C,k=null;continue}if(R=p[M],!!R){if(A=X+R.x,L=j+R.y,F=R.width,G=R.height,I=R.xOffset+P,B=R.yOffset+w,k!==null){var tt=R.kerning[U];I+=tt!==void 0?tt:0}I*=Z,B*=Z,I+=z,P+=R.xAdvance+x+(tt!==void 0?tt:0),k=R,U=M,!(F===0||G===0||M===32)&&(Q&&(I=Math.round(I),B=Math.round(B)),u.save(),u.translate(I,B),u.scale(Z,Z),u.drawImage(H,A,L,F,G,0,0,F,G),u.restore())}}u.restore()}};n.exports=y}),57336:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(22186),y=r(25305),d=r(44603),h=r(23568),l=r(35154);d.register("bitmapText",function(a,f){a===void 0&&(a={});var c=l(a,"font",""),u=h(a,"text",""),v=h(a,"size",!1),p=l(a,"align",0),m=new o(this.scene,0,0,c,u,v,p);return f!==void 0&&(a.add=f),y(this.scene,m,a),m})}),34914:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(22186),y=r(39429);y.register("bitmapText",function(d,h,l,a,f,c){return this.displayList.add(new o(this.scene,d,h,l,a,f,c))})}),18658:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),y=o,d=o;y=r(33590),d=r(37289),n.exports={renderWebGL:y,renderCanvas:d}}),33590:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(3217),y=r(91296),d=r(70554),h=function(l,a,f,c){var u=a._text,v=u.length;if(v!==0){f.addToRenderList(a);var p=l.pipelines.set(a.pipeline,a),m=y(a,f,c).calc;l.pipelines.preBatch(a);var x=f.roundPixels,C=f.alpha,P=a.charColors,w=a.tintFill,M=d.getTintAppendFloatAlpha,R=M(a.tintTopLeft,C*a._alphaTL),A=M(a.tintTopRight,C*a._alphaTR),L=M(a.tintBottomLeft,C*a._alphaBL),F=M(a.tintBottomRight,C*a._alphaBR),G=a.frame.glTexture,I=p.setGameObject(a),B=a.getTextBounds(!1),k,U,H,X=B.characters,j=a.dropShadowX,Z=a.dropShadowY,Y=j!==0||Z!==0;if(Y){var $=a.dropShadowColor,z=a.dropShadowAlpha,V=M($,C*z*a._alphaTL),K=M($,C*z*a._alphaTR),Q=M($,C*z*a._alphaBL),_=M($,C*z*a._alphaBR);for(k=0;k<X.length;k++)U=X[k],H=U.glyph,!(U.code===32||H.width===0||H.height===0)&&o(p,a,U,H,j,Z,m,x,V,K,Q,_,1,G,I)}for(k=0;k<X.length;k++)if(U=X[k],H=U.glyph,!(U.code===32||H.width===0||H.height===0))if(p.shouldFlush(6)&&(p.flush(),I=p.setGameObject(a)),P[U.i]){var tt=P[U.i],rt=tt.tintEffect,ot=M(tt.tintTL,C*a._alphaTL),ft=M(tt.tintTR,C*a._alphaTR),ct=M(tt.tintBL,C*a._alphaBL),gt=M(tt.tintBR,C*a._alphaBR);o(p,a,U,H,0,0,m,x,ot,ft,ct,gt,rt,G,I)}else o(p,a,U,H,0,0,m,x,R,A,L,F,w,G,I);l.pipelines.postBatch(a)}};n.exports=h}),6107:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(48011),y=r(46590),d=r(83419),h=r(31401),l=r(4327),a=r(95643),f=r(73162),c=new d({Extends:a,Mixins:[h.Alpha,h.BlendMode,h.Depth,h.Mask,h.Pipeline,h.PostPipeline,h.ScrollFactor,h.Size,h.Texture,h.Transform,h.Visible,o],initialize:function(v,p,m,x,C){a.call(this,v,"Blitter"),this.setTexture(x,C),this.setPosition(p,m),this.initPipeline(),this.initPostPipeline(),this.children=new f,this.renderList=[],this.dirty=!1},create:function(u,v,p,m,x){m===void 0&&(m=!0),x===void 0&&(x=this.children.length),p===void 0?p=this.frame:p instanceof l||(p=this.texture.get(p));var C=new y(this,u,v,p,m);return this.children.addAt(C,x,!1),this.dirty=!0,C},createFromCallback:function(u,v,p,m){for(var x=this.createMultiple(v,p,m),C=0;C<x.length;C++){var P=x[C];u.call(this,P,C)}return x},createMultiple:function(u,v,p){v===void 0&&(v=this.frame.name),p===void 0&&(p=!0),Array.isArray(v)||(v=[v]);var m=[],x=this;return v.forEach(function(C){for(var P=0;P<u;P++)m.push(x.create(0,0,C,p))}),m},childCanRender:function(u){return u.visible&&u.alpha>0},getRenderList:function(){return this.dirty&&(this.renderList=this.children.list.filter(this.childCanRender,this),this.dirty=!1),this.renderList},clear:function(){this.children.removeAll(),this.dirty=!0},preDestroy:function(){this.children.destroy(),this.renderList=[]}});n.exports=c}),72396:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y,d){var h=o.getRenderList();if(h.length!==0){var l=r.currentContext,a=y.alpha*o.alpha;if(a!==0){y.addToRenderList(o),l.globalCompositeOperation=r.blendModes[o.blendMode],l.imageSmoothingEnabled=!o.frame.source.scaleMode;var f=o.x-y.scrollX*o.scrollFactorX,c=o.y-y.scrollY*o.scrollFactorY;l.save(),d&&d.copyToContext(l);for(var u=y.roundPixels,v=0;v<h.length;v++){var p=h[v],m=p.flipX||p.flipY,x=p.frame,C=x.canvasData,P=x.x,w=x.y,M=1,R=1,A=p.alpha*a;A!==0&&(l.globalAlpha=A,m?(p.flipX&&(M=-1,P-=C.width),p.flipY&&(R=-1,w-=C.height),C.width>0&&C.height>0&&(l.save(),l.translate(p.x+f,p.y+c),l.scale(M,R),l.drawImage(x.source.image,C.x,C.y,C.width,C.height,P,w,C.width,C.height),l.restore())):(u&&(P=Math.round(P),w=Math.round(w)),C.width>0&&C.height>0&&l.drawImage(x.source.image,C.x,C.y,C.width,C.height,P+p.x+f,w+p.y+c,C.width,C.height)))}l.restore()}}};n.exports=T}),9403:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(6107),y=r(25305),d=r(44603),h=r(23568);d.register("blitter",function(l,a){l===void 0&&(l={});var f=h(l,"key",null),c=h(l,"frame",null),u=new o(this.scene,0,0,f,c);return a!==void 0&&(l.add=a),y(this.scene,u,l),u})}),12709:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(6107),y=r(39429);y.register("blitter",function(d,h,l,a){return this.displayList.add(new o(this.scene,d,h,l,a))})}),48011:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),y=o,d=o;y=r(99485),d=r(72396),n.exports={renderWebGL:y,renderCanvas:d}}),99485:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(61340),y=r(70554),d=new o,h=function(l,a,f,c){var u=a.getRenderList(),v=f.alpha*a.alpha;if(!(u.length===0||v===0)){f.addToRenderList(a);var p=l.pipelines.set(this.pipeline,a),m=f.scrollX*a.scrollFactorX,x=f.scrollY*a.scrollFactorY,C=d.copyFrom(f.matrix);c&&(C.multiplyWithOffset(c,-m,-x),m=0,x=0);var P=a.x-m,w=a.y-x,M=-1,R=!1,A=f.roundPixels;l.pipelines.preBatch(a);for(var L=0;L<u.length;L++){var F=u[L],G=F.frame,I=F.alpha*v;if(I!==0){var B=G.width,k=G.height,U=P+F.x+G.x,H=w+F.y+G.y;F.flipX&&(B*=-1,U+=G.width),F.flipY&&(k*=-1,H+=G.height);var X=C.setQuad(U,H,U+B,H+k,A),j=y.getTintAppendFloatAlpha(F.tint,I);if(G.sourceIndex!==M){var Z=p.setGameObject(a,G);M=G.sourceIndex}p.batchQuad(a,X[0],X[1],X[2],X[3],X[4],X[5],X[6],X[7],G.u0,G.v0,G.u1,G.v1,j,j,j,j,R,G.glTexture,Z)&&(M=-1)}}l.pipelines.postBatch(a)}};n.exports=h}),46590:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(4327),d=new o({initialize:function(l,a,f,c,u){this.parent=l,this.x=a,this.y=f,this.frame=c,this.data={},this.tint=16777215,this._visible=u,this._alpha=1,this.flipX=!1,this.flipY=!1,this.hasTransformComponent=!0},setFrame:function(h){return h===void 0?this.frame=this.parent.frame:h instanceof y&&h.texture===this.parent.texture?this.frame=h:this.frame=this.parent.texture.get(h),this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this},reset:function(h,l,a){return this.x=h,this.y=l,this.flipX=!1,this.flipY=!1,this._alpha=1,this._visible=!0,this.parent.dirty=!0,a&&this.setFrame(a),this},setPosition:function(h,l){return this.x=h,this.y=l,this},setFlipX:function(h){return this.flipX=h,this},setFlipY:function(h){return this.flipY=h,this},setFlip:function(h,l){return this.flipX=h,this.flipY=l,this},setVisible:function(h){return this.visible=h,this},setAlpha:function(h){return this.alpha=h,this},setTint:function(h){return this.tint=h,this},destroy:function(){this.parent.dirty=!0,this.parent.children.remove(this),this.parent=void 0,this.frame=void 0,this.data=void 0},visible:{get:function(){return this._visible},set:function(h){this.parent.dirty|=this._visible!==h,this._visible=h}},alpha:{get:function(){return this._alpha},set:function(h){this.parent.dirty|=this._alpha>0!=h>0,this._alpha=h}}});n.exports=d}),16005:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(45319),y=2,d={_alpha:1,_alphaTL:1,_alphaTR:1,_alphaBL:1,_alphaBR:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(h,l,a,f){return h===void 0&&(h=1),l===void 0?this.alpha=h:(this._alphaTL=o(h,0,1),this._alphaTR=o(l,0,1),this._alphaBL=o(a,0,1),this._alphaBR=o(f,0,1)),this},alpha:{get:function(){return this._alpha},set:function(h){var l=o(h,0,1);this._alpha=l,this._alphaTL=l,this._alphaTR=l,this._alphaBL=l,this._alphaBR=l,l===0?this.renderFlags&=~y:this.renderFlags|=y}},alphaTopLeft:{get:function(){return this._alphaTL},set:function(h){var l=o(h,0,1);this._alphaTL=l,l!==0&&(this.renderFlags|=y)}},alphaTopRight:{get:function(){return this._alphaTR},set:function(h){var l=o(h,0,1);this._alphaTR=l,l!==0&&(this.renderFlags|=y)}},alphaBottomLeft:{get:function(){return this._alphaBL},set:function(h){var l=o(h,0,1);this._alphaBL=l,l!==0&&(this.renderFlags|=y)}},alphaBottomRight:{get:function(){return this._alphaBR},set:function(h){var l=o(h,0,1);this._alphaBR=l,l!==0&&(this.renderFlags|=y)}}};n.exports=d}),88509:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(45319),y=2,d={_alpha:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(h){return h===void 0&&(h=1),this.alpha=h,this},alpha:{get:function(){return this._alpha},set:function(h){var l=o(h,0,1);this._alpha=l,l===0?this.renderFlags&=~y:this.renderFlags|=y}}};n.exports=d}),90065:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(10312),y={_blendMode:o.NORMAL,blendMode:{get:function(){return this._blendMode},set:function(d){typeof d=="string"&&(d=o[d]),d|=0,d>=-1&&(this._blendMode=d)}},setBlendMode:function(d){return this.blendMode=d,this}};n.exports=y}),94215:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={width:0,height:0,displayWidth:{get:function(){return this.scaleX*this.width},set:function(r){this.scaleX=r/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(r){this.scaleY=r/this.height}},setSize:function(r,o){return this.width=r,this.height=o,this},setDisplaySize:function(r,o){return this.displayWidth=r,this.displayHeight=o,this}};n.exports=T}),61683:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={texture:null,frame:null,isCropped:!1,setCrop:function(r,o,y,d){if(r===void 0)this.isCropped=!1;else if(this.frame){if(typeof r=="number")this.frame.setCropUVs(this._crop,r,o,y,d,this.flipX,this.flipY);else{var h=r;this.frame.setCropUVs(this._crop,h.x,h.y,h.width,h.height,this.flipX,this.flipY)}this.isCropped=!0}return this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};n.exports=T}),89272:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(37105),y={_depth:0,depth:{get:function(){return this._depth},set:function(d){this.displayList&&this.displayList.queueDepthSort(),this._depth=d}},setDepth:function(d){return d===void 0&&(d=0),this.depth=d,this},setToTop:function(){var d=this.getDisplayList();return d&&o.BringToTop(d,this),this},setToBack:function(){var d=this.getDisplayList();return d&&o.SendToBack(d,this),this},setAbove:function(d){var h=this.getDisplayList();return h&&d&&o.MoveAbove(h,this,d),this},setBelow:function(d){var h=this.getDisplayList();return h&&d&&o.MoveBelow(h,this,d),this}};n.exports=y}),47059:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(66064),d=r(19133),h=new o({initialize:function(a,f){this.gameObject=a,this.isPost=f,this.enabled=!1,this.list=[],this.padding=0},setPadding:function(l){return l===void 0&&(l=0),this.padding=l,this.gameObject},onFXCopy:function(){},onFX:function(){},enable:function(l){if(!this.isPost){var a=this.gameObject.scene.sys.renderer;a&&a.pipelines?(this.gameObject.pipeline=a.pipelines.FX_PIPELINE,l!==void 0&&(this.padding=l),this.enabled=!0):this.enabled=!1}},clear:function(){if(this.isPost)this.gameObject.resetPostPipeline(!0);else{for(var l=this.list,a=0;a<l.length;a++)l[a].destroy();this.list=[]}return this.enabled=!1,this.gameObject},remove:function(l){var a;if(this.isPost){var f=this.gameObject.getPostPipeline(String(l.type));for(Array.isArray(f)||(f=[f]),a=0;a<f.length;a++){var c=f[a];if(c.controller===l){this.gameObject.removePostPipeline(c),l.destroy();break}}}else{var u=this.list;for(a=0;a<u.length;a++)u[a]===l&&(d(u,a),l.destroy())}return this.gameObject},disable:function(l){return l===void 0&&(l=!1),this.isPost||this.gameObject.resetPipeline(),this.enabled=!1,l&&this.clear(),this.gameObject},add:function(l,a){if(this.isPost){var f=String(l.type);this.gameObject.setPostPipeline(f,a);var c=this.gameObject.getPostPipeline(f);if(c)return Array.isArray(c)&&(c=c.pop()),c&&(c.controller=l),l}else return this.enabled||this.enable(),this.list.push(l),l},addGlow:function(l,a,f,c,u,v){return this.add(new y.Glow(this.gameObject,l,a,f,c),{quality:u,distance:v})},addShadow:function(l,a,f,c,u,v,p){return this.add(new y.Shadow(this.gameObject,l,a,f,c,u,v,p))},addPixelate:function(l){return this.add(new y.Pixelate(this.gameObject,l))},addVignette:function(l,a,f,c){return this.add(new y.Vignette(this.gameObject,l,a,f,c))},addShine:function(l,a,f,c){return this.add(new y.Shine(this.gameObject,l,a,f,c))},addBlur:function(l,a,f,c,u,v){return this.add(new y.Blur(this.gameObject,l,a,f,c,u,v))},addGradient:function(l,a,f,c,u,v,p,m){return this.add(new y.Gradient(this.gameObject,l,a,f,c,u,v,p,m))},addBloom:function(l,a,f,c,u,v){return this.add(new y.Bloom(this.gameObject,l,a,f,c,u,v))},addColorMatrix:function(){return this.add(new y.ColorMatrix(this.gameObject))},addCircle:function(l,a,f,c,u){return this.add(new y.Circle(this.gameObject,l,a,f,c,u))},addBarrel:function(l){return this.add(new y.Barrel(this.gameObject,l))},addDisplacement:function(l,a,f){return this.add(new y.Displacement(this.gameObject,l,a,f))},addWipe:function(l,a,f){return this.add(new y.Wipe(this.gameObject,l,a,f))},addReveal:function(l,a,f){return this.add(new y.Wipe(this.gameObject,l,a,f,!0))},addBokeh:function(l,a,f){return this.add(new y.Bokeh(this.gameObject,l,a,f))},addTiltShift:function(l,a,f,c,u,v){return this.add(new y.Bokeh(this.gameObject,l,a,f,!0,c,u,v))},destroy:function(){this.clear(),this.gameObject=null}});n.exports=h}),54434:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={flipX:!1,flipY:!1,toggleFlipX:function(){return this.flipX=!this.flipX,this},toggleFlipY:function(){return this.flipY=!this.flipY,this},setFlipX:function(r){return this.flipX=r,this},setFlipY:function(r){return this.flipY=r,this},setFlip:function(r,o){return this.flipX=r,this.flipY=o,this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this}};n.exports=T}),8004:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(87841),y=r(11520),d=r(26099),h={prepareBoundsOutput:function(l,a){if(a===void 0&&(a=!1),this.rotation!==0&&y(l,this.x,this.y,this.rotation),a&&this.parentContainer){var f=this.parentContainer.getBoundsTransformMatrix();f.transformPoint(l.x,l.y,l)}return l},getCenter:function(l,a){return l===void 0&&(l=new d),l.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,l.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(l,a)},getTopLeft:function(l,a){return l||(l=new d),l.x=this.x-this.displayWidth*this.originX,l.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(l,a)},getTopCenter:function(l,a){return l||(l=new d),l.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,l.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(l,a)},getTopRight:function(l,a){return l||(l=new d),l.x=this.x-this.displayWidth*this.originX+this.displayWidth,l.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(l,a)},getLeftCenter:function(l,a){return l||(l=new d),l.x=this.x-this.displayWidth*this.originX,l.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(l,a)},getRightCenter:function(l,a){return l||(l=new d),l.x=this.x-this.displayWidth*this.originX+this.displayWidth,l.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(l,a)},getBottomLeft:function(l,a){return l||(l=new d),l.x=this.x-this.displayWidth*this.originX,l.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(l,a)},getBottomCenter:function(l,a){return l||(l=new d),l.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,l.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(l,a)},getBottomRight:function(l,a){return l||(l=new d),l.x=this.x-this.displayWidth*this.originX+this.displayWidth,l.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(l,a)},getBounds:function(l){l===void 0&&(l=new o);var a,f,c,u,v,p,m,x;if(this.parentContainer){var C=this.parentContainer.getBoundsTransformMatrix();this.getTopLeft(l),C.transformPoint(l.x,l.y,l),a=l.x,f=l.y,this.getTopRight(l),C.transformPoint(l.x,l.y,l),c=l.x,u=l.y,this.getBottomLeft(l),C.transformPoint(l.x,l.y,l),v=l.x,p=l.y,this.getBottomRight(l),C.transformPoint(l.x,l.y,l),m=l.x,x=l.y}else this.getTopLeft(l),a=l.x,f=l.y,this.getTopRight(l),c=l.x,u=l.y,this.getBottomLeft(l),v=l.x,p=l.y,this.getBottomRight(l),m=l.x,x=l.y;return l.x=Math.min(a,c,v,m),l.y=Math.min(f,u,p,x),l.width=Math.max(a,c,v,m)-l.x,l.height=Math.max(f,u,p,x)-l.y,l}};n.exports=h}),8573:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(6858),y=r(80661),d={mask:null,setMask:function(h){return this.mask=h,this},clearMask:function(h){return h===void 0&&(h=!1),h&&this.mask&&this.mask.destroy(),this.mask=null,this},createBitmapMask:function(h,l,a,f,c){return h===void 0&&(this.texture||this.shader||this.geom)&&(h=this),new o(this.scene,h,l,a,f,c)},createGeometryMask:function(h){return h===void 0&&(this.type==="Graphics"||this.geom)&&(h=this),new y(this.scene,h)}};n.exports=d}),27387:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={_originComponent:!0,originX:.5,originY:.5,_displayOriginX:0,_displayOriginY:0,displayOriginX:{get:function(){return this._displayOriginX},set:function(r){this._displayOriginX=r,this.originX=r/this.width}},displayOriginY:{get:function(){return this._displayOriginY},set:function(r){this._displayOriginY=r,this.originY=r/this.height}},setOrigin:function(r,o){return r===void 0&&(r=.5),o===void 0&&(o=r),this.originX=r,this.originY=o,this.updateDisplayOrigin()},setOriginFromFrame:function(){return!this.frame||!this.frame.customPivot?this.setOrigin():(this.originX=this.frame.pivotX,this.originY=this.frame.pivotY,this.updateDisplayOrigin())},setDisplayOrigin:function(r,o){return r===void 0&&(r=0),o===void 0&&(o=r),this.displayOriginX=r,this.displayOriginY=o,this},updateDisplayOrigin:function(){return this._displayOriginX=this.originX*this.width,this._displayOriginY=this.originY*this.height,this}};n.exports=T}),37640:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(39506),y=r(57355),d=r(35154),h=r(86353),l=r(26099),a={path:null,rotateToPath:!1,pathRotationOffset:0,pathOffset:null,pathVector:null,pathDelta:null,pathTween:null,pathConfig:null,_prevDirection:h.PLAYING_FORWARD,setPath:function(f,c){c===void 0&&(c=this.pathConfig);var u=this.pathTween;return u&&u.isPlaying()&&u.stop(),this.path=f,c&&this.startFollow(c),this},setRotateToPath:function(f,c){return c===void 0&&(c=0),this.rotateToPath=f,this.pathRotationOffset=c,this},isFollowing:function(){var f=this.pathTween;return f&&f.isPlaying()},startFollow:function(f,c){f===void 0&&(f={}),c===void 0&&(c=0);var u=this.pathTween;u&&u.isPlaying()&&u.stop(),typeof f=="number"&&(f={duration:f}),f.from=d(f,"from",0),f.to=d(f,"to",1);var v=y(f,"positionOnPath",!1);this.rotateToPath=y(f,"rotateToPath",!1),this.pathRotationOffset=d(f,"rotationOffset",0);var p=d(f,"startAt",c);if(p&&(f.onStart=function(x){var C=x.data[0];C.progress=p,C.elapsed=C.duration*p;var P=C.ease(C.progress);C.current=C.start+(C.end-C.start)*P,C.setTargetValue()}),this.pathOffset||(this.pathOffset=new l(this.x,this.y)),this.pathVector||(this.pathVector=new l),this.pathDelta||(this.pathDelta=new l),this.pathDelta.reset(),f.persist=!0,this.pathTween=this.scene.sys.tweens.addCounter(f),this.path.getStartPoint(this.pathOffset),v&&(this.x=this.pathOffset.x,this.y=this.pathOffset.y),this.pathOffset.x=this.x-this.pathOffset.x,this.pathOffset.y=this.y-this.pathOffset.y,this._prevDirection=h.PLAYING_FORWARD,this.rotateToPath){var m=this.path.getPoint(.1);this.rotation=Math.atan2(m.y-this.y,m.x-this.x)+o(this.pathRotationOffset)}return this.pathConfig=f,this},pauseFollow:function(){var f=this.pathTween;return f&&f.isPlaying()&&f.pause(),this},resumeFollow:function(){var f=this.pathTween;return f&&f.isPaused()&&f.resume(),this},stopFollow:function(){var f=this.pathTween;return f&&f.isPlaying()&&f.stop(),this},pathUpdate:function(){var f=this.pathTween;if(f&&f.data){var c=f.data[0],u=this.pathDelta,v=this.pathVector;if(u.copy(v).negate(),c.state===h.COMPLETE){this.path.getPoint(c.end,v),u.add(v),v.add(this.pathOffset),this.setPosition(v.x,v.y);return}else if(c.state!==h.PLAYING_FORWARD&&c.state!==h.PLAYING_BACKWARD)return;this.path.getPoint(f.getValue(),v),u.add(v),v.add(this.pathOffset);var p=this.x,m=this.y;this.setPosition(v.x,v.y);var x=this.x-p,C=this.y-m;if(x===0&&C===0)return;if(c.state!==this._prevDirection){this._prevDirection=c.state;return}this.rotateToPath&&(this.rotation=Math.atan2(C,x)+o(this.pathRotationOffset))}}};n.exports=a}),72699:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(62644),y={defaultPipeline:null,pipeline:null,pipelineData:null,initPipeline:function(d){this.pipelineData={};var h=this.scene.sys.renderer;if(!h)return!1;var l=h.pipelines;if(l){d===void 0&&(d=l.default);var a=l.get(d);if(a)return this.defaultPipeline=a,this.pipeline=a,!0}return!1},setPipeline:function(d,h,l){var a=this.scene.sys.renderer;if(!a)return this;var f=a.pipelines;if(f){var c=f.get(d);c&&(this.pipeline=c),h&&(this.pipelineData=l?o(h):h)}return this},setPipelineData:function(d,h){var l=this.pipelineData;return h===void 0?delete l[d]:l[d]=h,this},resetPipeline:function(d){return d===void 0&&(d=!1),this.pipeline=this.defaultPipeline,d&&(this.pipelineData={}),this.pipeline!==null},getPipelineName:function(){return this.pipeline===null?null:this.pipeline.name}};n.exports=y}),17581:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(62644),y=r(47059),d=r(19133),h={hasPostPipeline:!1,postPipelines:null,postPipelineData:null,preFX:null,postFX:null,initPostPipeline:function(l){this.postPipelines=[],this.postPipelineData={},this.postFX=new y(this,!0),l&&(this.preFX=new y(this,!1))},setPostPipeline:function(l,a,f){var c=this.scene.sys.renderer;if(!c)return this;var u=c.pipelines;if(u){Array.isArray(l)||(l=[l]);for(var v=0;v<l.length;v++){var p=u.getPostPipeline(l[v],this,a);p&&this.postPipelines.push(p)}a&&(this.postPipelineData=f?o(a):a)}return this.hasPostPipeline=this.postPipelines.length>0,this},setPostPipelineData:function(l,a){var f=this.postPipelineData;return a===void 0?delete f[l]:f[l]=a,this},getPostPipeline:function(l){for(var a=typeof l=="string",f=this.postPipelines,c=[],u=0;u<f.length;u++){var v=f[u];(a&&v.name===l||!a&&v instanceof l)&&c.push(v)}return c.length===1?c[0]:c},resetPostPipeline:function(l){l===void 0&&(l=!1);for(var a=this.postPipelines,f=0;f<a.length;f++)a[f].destroy();this.postPipelines=[],this.hasPostPipeline=!1,l&&(this.postPipelineData={})},removePostPipeline:function(l){for(var a=typeof l=="string",f=this.postPipelines,c=f.length-1;c>=0;c--){var u=f[c];(a&&u.name===l||!a&&u===l)&&(u.destroy(),d(f,c))}return this.hasPostPipeline=this.postPipelines.length>0,this},clearFX:function(){return this.preFX&&this.preFX.clear(),this.postFX&&this.postFX.clear(),this}};n.exports=h}),80227:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={scrollFactorX:1,scrollFactorY:1,setScrollFactor:function(r,o){return o===void 0&&(o=r),this.scrollFactorX=r,this.scrollFactorY=o,this}};n.exports=T}),16736:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={_sizeComponent:!0,width:0,height:0,displayWidth:{get:function(){return Math.abs(this.scaleX*this.frame.realWidth)},set:function(r){this.scaleX=r/this.frame.realWidth}},displayHeight:{get:function(){return Math.abs(this.scaleY*this.frame.realHeight)},set:function(r){this.scaleY=r/this.frame.realHeight}},setSizeToFrame:function(r){r||(r=this.frame),this.width=r.realWidth,this.height=r.realHeight;var o=this.input;return o&&!o.customHitArea&&(o.hitArea.width=this.width,o.hitArea.height=this.height),this},setSize:function(r,o){return this.width=r,this.height=o,this},setDisplaySize:function(r,o){return this.displayWidth=r,this.displayHeight=o,this}};n.exports=T}),37726:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(4327),y=8,d={texture:null,frame:null,isCropped:!1,setTexture:function(h,l,a,f){return this.texture=this.scene.sys.textures.get(h),this.setFrame(l,a,f)},setFrame:function(h,l,a){return l===void 0&&(l=!0),a===void 0&&(a=!0),h instanceof o?(this.texture=this.scene.sys.textures.get(h.texture.key),this.frame=h):this.frame=this.texture.get(h),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~y:this.renderFlags|=y,this._sizeComponent&&l&&this.setSizeToFrame(),this._originComponent&&a&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this}};n.exports=d}),79812:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(4327),y=8,d={texture:null,frame:null,isCropped:!1,setCrop:function(h,l,a,f){if(h===void 0)this.isCropped=!1;else if(this.frame){if(typeof h=="number")this.frame.setCropUVs(this._crop,h,l,a,f,this.flipX,this.flipY);else{var c=h;this.frame.setCropUVs(this._crop,c.x,c.y,c.width,c.height,this.flipX,this.flipY)}this.isCropped=!0}return this},setTexture:function(h,l){return this.texture=this.scene.sys.textures.get(h),this.setFrame(l)},setFrame:function(h,l,a){return l===void 0&&(l=!0),a===void 0&&(a=!0),h instanceof o?(this.texture=this.scene.sys.textures.get(h.texture.key),this.frame=h):this.frame=this.texture.get(h),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~y:this.renderFlags|=y,this._sizeComponent&&l&&this.setSizeToFrame(),this._originComponent&&a&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this.isCropped&&this.frame.updateCropUVs(this._crop,this.flipX,this.flipY),this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};n.exports=d}),27472:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={tintTopLeft:16777215,tintTopRight:16777215,tintBottomLeft:16777215,tintBottomRight:16777215,tintFill:!1,clearTint:function(){return this.setTint(16777215),this},setTint:function(r,o,y,d){return r===void 0&&(r=16777215),o===void 0&&(o=r,y=r,d=r),this.tintTopLeft=r,this.tintTopRight=o,this.tintBottomLeft=y,this.tintBottomRight=d,this.tintFill=!1,this},setTintFill:function(r,o,y,d){return this.setTint(r,o,y,d),this.tintFill=!0,this},tint:{get:function(){return this.tintTopLeft},set:function(r){this.setTint(r,r,r,r)}},isTinted:{get:function(){var r=16777215;return this.tintFill||this.tintTopLeft!==r||this.tintTopRight!==r||this.tintBottomLeft!==r||this.tintBottomRight!==r}}};n.exports=T}),53774:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){var o={name:r.name,type:r.type,x:r.x,y:r.y,depth:r.depth,scale:{x:r.scaleX,y:r.scaleY},origin:{x:r.originX,y:r.originY},flipX:r.flipX,flipY:r.flipY,rotation:r.rotation,alpha:r.alpha,visible:r.visible,blendMode:r.blendMode,textureKey:"",frameKey:"",data:{}};return r.texture&&(o.textureKey=r.texture.key,o.frameKey=r.frame.name),o};n.exports=T}),16901:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(36383),y=r(61340),d=r(85955),h=r(86554),l=r(30954),a=r(26099),f=4,c={hasTransformComponent:!0,_scaleX:1,_scaleY:1,_rotation:0,x:0,y:0,z:0,w:0,scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(u){this._scaleX=u,this._scaleY=u,u===0?this.renderFlags&=~f:this.renderFlags|=f}},scaleX:{get:function(){return this._scaleX},set:function(u){this._scaleX=u,u===0?this.renderFlags&=~f:this._scaleY!==0&&(this.renderFlags|=f)}},scaleY:{get:function(){return this._scaleY},set:function(u){this._scaleY=u,u===0?this.renderFlags&=~f:this._scaleX!==0&&(this.renderFlags|=f)}},angle:{get:function(){return l(this._rotation*o.RAD_TO_DEG)},set:function(u){this.rotation=l(u)*o.DEG_TO_RAD}},rotation:{get:function(){return this._rotation},set:function(u){this._rotation=h(u)}},setPosition:function(u,v,p,m){return u===void 0&&(u=0),v===void 0&&(v=u),p===void 0&&(p=0),m===void 0&&(m=0),this.x=u,this.y=v,this.z=p,this.w=m,this},copyPosition:function(u){return u.x!==void 0&&(this.x=u.x),u.y!==void 0&&(this.y=u.y),u.z!==void 0&&(this.z=u.z),u.w!==void 0&&(this.w=u.w),this},setRandomPosition:function(u,v,p,m){return u===void 0&&(u=0),v===void 0&&(v=0),p===void 0&&(p=this.scene.sys.scale.width),m===void 0&&(m=this.scene.sys.scale.height),this.x=u+Math.random()*p,this.y=v+Math.random()*m,this},setRotation:function(u){return u===void 0&&(u=0),this.rotation=u,this},setAngle:function(u){return u===void 0&&(u=0),this.angle=u,this},setScale:function(u,v){return u===void 0&&(u=1),v===void 0&&(v=u),this.scaleX=u,this.scaleY=v,this},setX:function(u){return u===void 0&&(u=0),this.x=u,this},setY:function(u){return u===void 0&&(u=0),this.y=u,this},setZ:function(u){return u===void 0&&(u=0),this.z=u,this},setW:function(u){return u===void 0&&(u=0),this.w=u,this},getLocalTransformMatrix:function(u){return u===void 0&&(u=new y),u.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY)},getWorldTransformMatrix:function(u,v){u===void 0&&(u=new y);var p=this.parentContainer;if(!p)return this.getLocalTransformMatrix(u);var m=!1;for(v||(v=new y,m=!0),u.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY);p;)v.applyITRS(p.x,p.y,p._rotation,p._scaleX,p._scaleY),v.multiply(u,u),p=p.parentContainer;return m&&v.destroy(),u},getLocalPoint:function(u,v,p,m){p||(p=new a),m||(m=this.scene.sys.cameras.main);var x=m.scrollX,C=m.scrollY,P=u+x*this.scrollFactorX-x,w=v+C*this.scrollFactorY-C;return this.parentContainer?this.getWorldTransformMatrix().applyInverse(P,w,p):d(P,w,this.x,this.y,this.rotation,this.scaleX,this.scaleY,p),this._originComponent&&(p.x+=this._displayOriginX,p.y+=this._displayOriginY),p},getWorldPoint:function(u,v,p){u===void 0&&(u=new a);var m=this.parentContainer;if(!m)return u.x=this.x,u.y=this.y,u;var x=this.getWorldTransformMatrix(v,p);return u.x=x.tx,u.y=x.ty,u},getParentRotation:function(){for(var u=0,v=this.parentContainer;v;)u+=v.rotation,v=v.parentContainer;return u}};n.exports=c}),61340:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(36383),d=r(26099),h=new o({initialize:function(a,f,c,u,v,p){a===void 0&&(a=1),f===void 0&&(f=0),c===void 0&&(c=0),u===void 0&&(u=1),v===void 0&&(v=0),p===void 0&&(p=0),this.matrix=new Float32Array([a,f,c,u,v,p,0,0,1]),this.decomposedMatrix={translateX:0,translateY:0,scaleX:1,scaleY:1,rotation:0},this.quad=new Float32Array(8)},a:{get:function(){return this.matrix[0]},set:function(l){this.matrix[0]=l}},b:{get:function(){return this.matrix[1]},set:function(l){this.matrix[1]=l}},c:{get:function(){return this.matrix[2]},set:function(l){this.matrix[2]=l}},d:{get:function(){return this.matrix[3]},set:function(l){this.matrix[3]=l}},e:{get:function(){return this.matrix[4]},set:function(l){this.matrix[4]=l}},f:{get:function(){return this.matrix[5]},set:function(l){this.matrix[5]=l}},tx:{get:function(){return this.matrix[4]},set:function(l){this.matrix[4]=l}},ty:{get:function(){return this.matrix[5]},set:function(l){this.matrix[5]=l}},rotation:{get:function(){return Math.acos(this.a/this.scaleX)*(Math.atan(-this.c/this.a)<0?-1:1)}},rotationNormalized:{get:function(){var l=this.matrix,a=l[0],f=l[1],c=l[2],u=l[3];return a||f?f>0?Math.acos(a/this.scaleX):-Math.acos(a/this.scaleX):c||u?y.TAU-(u>0?Math.acos(-c/this.scaleY):-Math.acos(c/this.scaleY)):0}},scaleX:{get:function(){return Math.sqrt(this.a*this.a+this.b*this.b)}},scaleY:{get:function(){return Math.sqrt(this.c*this.c+this.d*this.d)}},loadIdentity:function(){var l=this.matrix;return l[0]=1,l[1]=0,l[2]=0,l[3]=1,l[4]=0,l[5]=0,this},translate:function(l,a){var f=this.matrix;return f[4]=f[0]*l+f[2]*a+f[4],f[5]=f[1]*l+f[3]*a+f[5],this},scale:function(l,a){var f=this.matrix;return f[0]*=l,f[1]*=l,f[2]*=a,f[3]*=a,this},rotate:function(l){var a=Math.sin(l),f=Math.cos(l),c=this.matrix,u=c[0],v=c[1],p=c[2],m=c[3];return c[0]=u*f+p*a,c[1]=v*f+m*a,c[2]=u*-a+p*f,c[3]=v*-a+m*f,this},multiply:function(l,a){var f=this.matrix,c=l.matrix,u=f[0],v=f[1],p=f[2],m=f[3],x=f[4],C=f[5],P=c[0],w=c[1],M=c[2],R=c[3],A=c[4],L=c[5],F=a===void 0?f:a.matrix;return F[0]=P*u+w*p,F[1]=P*v+w*m,F[2]=M*u+R*p,F[3]=M*v+R*m,F[4]=A*u+L*p+x,F[5]=A*v+L*m+C,F},multiplyWithOffset:function(l,a,f){var c=this.matrix,u=l.matrix,v=c[0],p=c[1],m=c[2],x=c[3],C=c[4],P=c[5],w=a*v+f*m+C,M=a*p+f*x+P,R=u[0],A=u[1],L=u[2],F=u[3],G=u[4],I=u[5];return c[0]=R*v+A*m,c[1]=R*p+A*x,c[2]=L*v+F*m,c[3]=L*p+F*x,c[4]=G*v+I*m+w,c[5]=G*p+I*x+M,this},transform:function(l,a,f,c,u,v){var p=this.matrix,m=p[0],x=p[1],C=p[2],P=p[3],w=p[4],M=p[5];return p[0]=l*m+a*C,p[1]=l*x+a*P,p[2]=f*m+c*C,p[3]=f*x+c*P,p[4]=u*m+v*C+w,p[5]=u*x+v*P+M,this},transformPoint:function(l,a,f){f===void 0&&(f={x:0,y:0});var c=this.matrix,u=c[0],v=c[1],p=c[2],m=c[3],x=c[4],C=c[5];return f.x=l*u+a*p+x,f.y=l*v+a*m+C,f},invert:function(){var l=this.matrix,a=l[0],f=l[1],c=l[2],u=l[3],v=l[4],p=l[5],m=a*u-f*c;return l[0]=u/m,l[1]=-f/m,l[2]=-c/m,l[3]=a/m,l[4]=(c*p-u*v)/m,l[5]=-(a*p-f*v)/m,this},copyFrom:function(l){var a=this.matrix;return a[0]=l.a,a[1]=l.b,a[2]=l.c,a[3]=l.d,a[4]=l.e,a[5]=l.f,this},copyFromArray:function(l){var a=this.matrix;return a[0]=l[0],a[1]=l[1],a[2]=l[2],a[3]=l[3],a[4]=l[4],a[5]=l[5],this},copyToContext:function(l){var a=this.matrix;return l.transform(a[0],a[1],a[2],a[3],a[4],a[5]),l},setToContext:function(l){return l.setTransform(this.a,this.b,this.c,this.d,this.e,this.f),l},copyToArray:function(l){var a=this.matrix;return l===void 0?l=[a[0],a[1],a[2],a[3],a[4],a[5]]:(l[0]=a[0],l[1]=a[1],l[2]=a[2],l[3]=a[3],l[4]=a[4],l[5]=a[5]),l},setTransform:function(l,a,f,c,u,v){var p=this.matrix;return p[0]=l,p[1]=a,p[2]=f,p[3]=c,p[4]=u,p[5]=v,this},decomposeMatrix:function(){var l=this.decomposedMatrix,a=this.matrix,f=a[0],c=a[1],u=a[2],v=a[3],p=f*v-c*u;if(l.translateX=a[4],l.translateY=a[5],f||c){var m=Math.sqrt(f*f+c*c);l.rotation=c>0?Math.acos(f/m):-Math.acos(f/m),l.scaleX=m,l.scaleY=p/m}else if(u||v){var x=Math.sqrt(u*u+v*v);l.rotation=Math.PI*.5-(v>0?Math.acos(-u/x):-Math.acos(u/x)),l.scaleX=p/x,l.scaleY=x}else l.rotation=0,l.scaleX=0,l.scaleY=0;return l},applyITRS:function(l,a,f,c,u){var v=this.matrix,p=Math.sin(f),m=Math.cos(f);return v[4]=l,v[5]=a,v[0]=m*c,v[1]=p*c,v[2]=-p*u,v[3]=m*u,this},applyInverse:function(l,a,f){f===void 0&&(f=new d);var c=this.matrix,u=c[0],v=c[1],p=c[2],m=c[3],x=c[4],C=c[5],P=1/(u*m+p*-v);return f.x=m*P*l+-p*P*a+(C*p-x*m)*P,f.y=u*P*a+-v*P*l+(-C*u+x*v)*P,f},setQuad:function(l,a,f,c,u,v){u===void 0&&(u=!1),v===void 0&&(v=this.quad);var p=this.matrix,m=p[0],x=p[1],C=p[2],P=p[3],w=p[4],M=p[5],R=l*m+a*C+w,A=l*x+a*P+M,L=l*m+c*C+w,F=l*x+c*P+M,G=f*m+c*C+w,I=f*x+c*P+M,B=f*m+a*C+w,k=f*x+a*P+M;if(u){var U=Math.floor(R+.5),H=Math.floor(A+.5),X=U-R,j=H-A;v[0]=U,v[1]=H,v[2]=L+X,v[3]=F+j,v[4]=G+X,v[5]=I+j,v[6]=B+X,v[7]=k+j}else v[0]=R,v[1]=A,v[2]=L,v[3]=F,v[4]=G,v[5]=I,v[6]=B,v[7]=k;return v},getX:function(l,a){return l*this.a+a*this.c+this.e},getY:function(l,a){return l*this.b+a*this.d+this.f},getXRound:function(l,a,f){var c=this.getX(l,a);return f&&(c=Math.floor(c+.5)),c},getYRound:function(l,a,f){var c=this.getY(l,a);return f&&(c=Math.floor(c+.5)),c},getCSSMatrix:function(){var l=this.matrix;return"matrix("+l[0]+","+l[1]+","+l[2]+","+l[3]+","+l[4]+","+l[5]+")"},destroy:function(){this.matrix=null,this.quad=null,this.decomposedMatrix=null}});n.exports=h}),59715:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=1,r={_visible:!0,visible:{get:function(){return this._visible},set:function(o){o?(this._visible=!0,this.renderFlags|=T):(this._visible=!1,this.renderFlags&=~T)}},setVisible:function(o){return this.visible=o,this}};n.exports=r}),31401:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Alpha:r(16005),AlphaSingle:r(88509),BlendMode:r(90065),ComputedSize:r(94215),Crop:r(61683),Depth:r(89272),Flip:r(54434),FX:r(47059),GetBounds:r(8004),Mask:r(8573),Origin:r(27387),PathFollower:r(37640),Pipeline:r(72699),PostPipeline:r(17581),ScrollFactor:r(80227),Size:r(16736),Texture:r(37726),TextureCrop:r(79812),Tint:r(27472),ToJSON:r(53774),Transform:r(16901),TransformMatrix:r(61340),Visible:r(59715)}}),31559:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(37105),y=r(10312),d=r(83419),h=r(31401),l=r(51708),a=r(95643),f=r(87841),c=r(29959),u=r(36899),v=r(26099),p=new h.TransformMatrix,m=new d({Extends:a,Mixins:[h.AlphaSingle,h.BlendMode,h.ComputedSize,h.Depth,h.Mask,h.PostPipeline,h.Transform,h.Visible,c],initialize:function(C,P,w,M){a.call(this,C,"Container"),this.list=[],this.exclusive=!0,this.maxSize=-1,this.position=0,this.localTransform=new h.TransformMatrix,this._sortKey="",this._sysEvents=C.sys.events,this.scrollFactorX=1,this.scrollFactorY=1,this.initPostPipeline(),this.setPosition(P,w),this.setBlendMode(y.SKIP_CHECK),M&&this.add(M)},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this.width*.5}},displayOriginY:{get:function(){return this.height*.5}},setExclusive:function(x){return x===void 0&&(x=!0),this.exclusive=x,this},getBounds:function(x){if(x===void 0&&(x=new f),x.setTo(this.x,this.y,0,0),this.parentContainer){var C=this.parentContainer.getBoundsTransformMatrix(),P=C.transformPoint(this.x,this.y);x.setTo(P.x,P.y,0,0)}if(this.list.length>0){var w=this.list,M=new f,R=!1;x.setEmpty();for(var A=0;A<w.length;A++){var L=w[A];L.getBounds&&(L.getBounds(M),R?u(M,x,x):(x.setTo(M.x,M.y,M.width,M.height),R=!0))}}return x},addHandler:function(x){x.once(l.DESTROY,this.onChildDestroyed,this),this.exclusive&&(x.parentContainer&&x.parentContainer.remove(x),x.parentContainer=this,x.removeFromDisplayList(),x.addedToScene())},removeHandler:function(x){x.off(l.DESTROY,this.remove,this),this.exclusive&&(x.parentContainer=null,x.removedFromScene(),x.addToDisplayList())},pointToContainer:function(x,C){C===void 0&&(C=new v),this.parentContainer?this.parentContainer.pointToContainer(x,C):(C.x=x.x,C.y=x.y);var P=p;return P.applyITRS(this.x,this.y,this.rotation,this.scaleX,this.scaleY),P.invert(),P.transformPoint(x.x,x.y,C),C},getBoundsTransformMatrix:function(){return this.getWorldTransformMatrix(p,this.localTransform)},add:function(x){return o.Add(this.list,x,this.maxSize,this.addHandler,this),this},addAt:function(x,C){return o.AddAt(this.list,x,C,this.maxSize,this.addHandler,this),this},getAt:function(x){return this.list[x]},getIndex:function(x){return this.list.indexOf(x)},sort:function(x,C){return x?(C===void 0&&(C=function(P,w){return P[x]-w[x]}),o.StableSort(this.list,C),this):this},getByName:function(x){return o.GetFirst(this.list,"name",x)},getRandom:function(x,C){return o.GetRandom(this.list,x,C)},getFirst:function(x,C,P,w){return o.GetFirst(this.list,x,C,P,w)},getAll:function(x,C,P,w){return o.GetAll(this.list,x,C,P,w)},count:function(x,C,P,w){return o.CountAllMatching(this.list,x,C,P,w)},swap:function(x,C){return o.Swap(this.list,x,C),this},moveTo:function(x,C){return o.MoveTo(this.list,x,C),this},moveAbove:function(x,C){return o.MoveAbove(this.list,x,C),this},moveBelow:function(x,C){return o.MoveBelow(this.list,x,C),this},remove:function(x,C){var P=o.Remove(this.list,x,this.removeHandler,this);if(C&&P){Array.isArray(P)||(P=[P]);for(var w=0;w<P.length;w++)P[w].destroy()}return this},removeAt:function(x,C){var P=o.RemoveAt(this.list,x,this.removeHandler,this);return C&&P&&P.destroy(),this},removeBetween:function(x,C,P){var w=o.RemoveBetween(this.list,x,C,this.removeHandler,this);if(P)for(var M=0;M<w.length;M++)w[M].destroy();return this},removeAll:function(x){var C=this.list;if(x){for(var P=0;P<C.length;P++)C[P]&&C[P].scene&&(C[P].off(l.DESTROY,this.onChildDestroyed,this),C[P].destroy());this.list=[]}else o.RemoveBetween(C,0,C.length,this.removeHandler,this);return this},bringToTop:function(x){return o.BringToTop(this.list,x),this},sendToBack:function(x){return o.SendToBack(this.list,x),this},moveUp:function(x){return o.MoveUp(this.list,x),this},moveDown:function(x){return o.MoveDown(this.list,x),this},reverse:function(){return this.list.reverse(),this},shuffle:function(){return o.Shuffle(this.list),this},replace:function(x,C,P){var w=o.Replace(this.list,x,C);return w&&(this.addHandler(C),this.removeHandler(x),P&&x.destroy()),this},exists:function(x){return this.list.indexOf(x)>-1},setAll:function(x,C,P,w){return o.SetAll(this.list,x,C,P,w),this},each:function(x,C){var P=[null],w,M=this.list.slice(),R=M.length;for(w=2;w<arguments.length;w++)P.push(arguments[w]);for(w=0;w<R;w++)P[0]=M[w],x.apply(C,P);return this},iterate:function(x,C){var P=[null],w;for(w=2;w<arguments.length;w++)P.push(arguments[w]);for(w=0;w<this.list.length;w++)P[0]=this.list[w],x.apply(C,P);return this},setScrollFactor:function(x,C,P){return C===void 0&&(C=x),P===void 0&&(P=!1),this.scrollFactorX=x,this.scrollFactorY=C,P&&(o.SetAll(this.list,"scrollFactorX",x),o.SetAll(this.list,"scrollFactorY",C)),this},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}},preDestroy:function(){this.removeAll(!!this.exclusive),this.localTransform.destroy(),this.list=[]},onChildDestroyed:function(x){o.Remove(this.list,x),this.exclusive&&(x.parentContainer=null,x.removedFromScene())}});n.exports=m}),53584:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y,d){y.addToRenderList(o);var h=o.list;if(h.length!==0){var l=o.localTransform;d?(l.loadIdentity(),l.multiply(d),l.translate(o.x,o.y),l.rotate(o.rotation),l.scale(o.scaleX,o.scaleY)):l.applyITRS(o.x,o.y,o.rotation,o.scaleX,o.scaleY);var a=o.blendMode!==-1;a||r.setBlendMode(0);var f=o._alpha,c=o.scrollFactorX,u=o.scrollFactorY;o.mask&&o.mask.preRenderCanvas(r,null,y);for(var v=0;v<h.length;v++){var p=h[v];if(p.willRender(y)){var m=p.alpha,x=p.scrollFactorX,C=p.scrollFactorY;!a&&p.blendMode!==r.currentBlendMode&&r.setBlendMode(p.blendMode),p.setScrollFactor(x*c,C*u),p.setAlpha(m*f),p.renderCanvas(r,p,y,l),p.setAlpha(m),p.setScrollFactor(x,C)}}o.mask&&o.mask.postRenderCanvas(r)}};n.exports=T}),77143:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(25305),y=r(31559),d=r(44603),h=r(23568),l=r(95540);d.register("container",function(a,f){a===void 0&&(a={});var c=h(a,"x",0),u=h(a,"y",0),v=l(a,"children",null),p=new y(this.scene,c,u,v);return f!==void 0&&(a.add=f),o(this.scene,p,a),p})}),24961:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(31559),y=r(39429);y.register("container",function(d,h,l){return this.displayList.add(new o(this.scene,d,h,l))})}),29959:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),y=o,d=o;y=r(72249),d=r(53584),n.exports={renderWebGL:y,renderCanvas:d}}),72249:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y,d){y.addToRenderList(o);var h=o.list,l=h.length;if(l!==0){var a=o.localTransform;d?(a.loadIdentity(),a.multiply(d),a.translate(o.x,o.y),a.rotate(o.rotation),a.scale(o.scaleX,o.scaleY)):a.applyITRS(o.x,o.y,o.rotation,o.scaleX,o.scaleY),r.pipelines.preBatch(o);var f=o.blendMode!==-1;f||r.setBlendMode(0);for(var c=o.alpha,u=o.scrollFactorX,v=o.scrollFactorY,p=0;p<l;p++){var m=h[p];if(m.willRender(y)){var x,C,P,w;if(m.alphaTopLeft!==void 0)x=m.alphaTopLeft,C=m.alphaTopRight,P=m.alphaBottomLeft,w=m.alphaBottomRight;else{var M=m.alpha;x=M,C=M,P=M,w=M}var R=m.scrollFactorX,A=m.scrollFactorY;!f&&m.blendMode!==r.currentBlendMode&&r.setBlendMode(m.blendMode);var L=m.mask;L&&L.preRenderWebGL(r,m,y);var F=m.type;F!==r.currentType&&(r.newType=!0,r.currentType=F),r.nextTypeMatch=p<l-1?h[p+1].type===r.currentType:!1,m.setScrollFactor(R*u,A*v),m.setAlpha(x*c,C*c,P*c,w*c),m.renderWebGL(r,m,y,a,o),m.setAlpha(x,C,P,w),m.setScrollFactor(R,A),L&&L.postRenderWebGL(r,y),r.newType=!1}}r.pipelines.postBatch(o)}};n.exports=T}),47407:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports=["normal","multiply","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}),3069:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(31401),d=r(441),h=r(95643),l=r(41212),a=r(35846),f=r(44594),c=r(61369),u=new o({Extends:h,Mixins:[y.AlphaSingle,y.BlendMode,y.Depth,y.Origin,y.ScrollFactor,y.Transform,y.Visible,d],initialize:function(p,m,x,C,P,w){h.call(this,p,"DOMElement"),this.parent=p.sys.game.domContainer,this.cache=p.sys.cache.html,this.node,this.transformOnly=!1,this.skewX=0,this.skewY=0,this.rotate3d=new c,this.rotate3dAngle="deg",this.pointerEvents="auto",this.width=0,this.height=0,this.displayWidth=0,this.displayHeight=0,this.handler=this.dispatchNativeEvent.bind(this),this.setPosition(m,x),typeof C=="string"?C[0]==="#"?this.setElement(C.substr(1),P,w):this.createElement(C,P,w):C&&this.setElement(C,P,w),p.sys.events.on(f.SLEEP,this.handleSceneEvent,this),p.sys.events.on(f.WAKE,this.handleSceneEvent,this),p.sys.events.on(f.PRE_RENDER,this.preRender,this)},handleSceneEvent:function(v){var p=this.node,m=p.style;p&&(m.display=v.settings.visible?"block":"none")},setSkew:function(v,p){return v===void 0&&(v=0),p===void 0&&(p=v),this.skewX=v,this.skewY=p,this},setPerspective:function(v){return this.parent.style.perspective=v+"px",this},perspective:{get:function(){return parseFloat(this.parent.style.perspective)},set:function(v){this.parent.style.perspective=v+"px"}},addListener:function(v){if(this.node){v=v.split(" ");for(var p=0;p<v.length;p++)this.node.addEventListener(v[p],this.handler,!1)}return this},removeListener:function(v){if(this.node){v=v.split(" ");for(var p=0;p<v.length;p++)this.node.removeEventListener(v[p],this.handler)}return this},dispatchNativeEvent:function(v){this.emit(v.type,v)},createElement:function(v,p,m){return this.setElement(document.createElement(v),p,m)},setElement:function(v,p,m){this.removeElement();var x;if(typeof v=="string"?(v[0]==="#"&&(v=v.substr(1)),x=document.getElementById(v)):typeof v=="object"&&v.nodeType===1&&(x=v),!x)return this;if(this.node=x,p&&l(p))for(var C in p)x.style[C]=p[C];else typeof p=="string"&&(x.style=p);return x.style.zIndex="0",x.style.display="inline",x.style.position="absolute",x.phaser=this,this.parent&&this.parent.appendChild(x),m&&(x.innerText=m),this.updateSize()},createFromCache:function(v,p){var m=this.cache.get(v);return m&&this.createFromHTML(m,p),this},createFromHTML:function(v,p){p===void 0&&(p="div"),this.removeElement();var m=document.createElement(p);return this.node=m,m.style.zIndex="0",m.style.display="inline",m.style.position="absolute",m.phaser=this,this.parent&&this.parent.appendChild(m),m.innerHTML=v,this.updateSize()},removeElement:function(){return this.node&&(a(this.node),this.node=null),this},updateSize:function(){var v=this.node;return this.width=v.clientWidth,this.height=v.clientHeight,this.displayWidth=this.width*this.scaleX,this.displayHeight=this.height*this.scaleY,this},getChildByProperty:function(v,p){if(this.node){for(var m=this.node.querySelectorAll("*"),x=0;x<m.length;x++)if(m[x][v]===p)return m[x]}return null},getChildByID:function(v){return this.getChildByProperty("id",v)},getChildByName:function(v){return this.getChildByProperty("name",v)},setClassName:function(v){return this.node&&(this.node.className=v,this.updateSize()),this},setText:function(v){return this.node&&(this.node.innerText=v,this.updateSize()),this},setHTML:function(v){return this.node&&(this.node.innerHTML=v,this.updateSize()),this},preRender:function(){var v=this.parentContainer,p=this.node;p&&v&&!v.willRender()&&(p.style.display="none")},willRender:function(){return!0},preDestroy:function(){this.removeElement(),this.scene.sys.events.off(f.SLEEP,this.handleSceneEvent,this),this.scene.sys.events.off(f.WAKE,this.handleSceneEvent,this),this.scene.sys.events.off(f.PRE_RENDER,this.preRender,this)}});n.exports=u}),49381:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(47407),y=r(95643),d=r(61340),h=new d,l=new d,a=new d,f=function(c,u,v,p){if(u.node){var m=u.node.style,x=u.scene.sys.settings;if(!m||!x.visible||y.RENDER_MASK!==u.renderFlags||u.cameraFilter!==0&&u.cameraFilter&v.id||u.parentContainer&&!u.parentContainer.willRender()){m.display="none";return}var C=u.parentContainer,P=v.alpha*u.alpha;C&&(P*=C.alpha);var w=h,M=l,R=a,A=0,L=0,F="0%",G="0%";p?(A=u.width*u.scaleX*u.originX,L=u.height*u.scaleY*u.originY,M.applyITRS(u.x-A,u.y-L,u.rotation,u.scaleX,u.scaleY),w.copyFrom(v.matrix),w.multiplyWithOffset(p,-v.scrollX*u.scrollFactorX,-v.scrollY*u.scrollFactorY),M.e=u.x-A,M.f=u.y-L,w.multiply(M,R)):(A=u.width*u.originX,L=u.height*u.originY,M.applyITRS(u.x,u.y,u.rotation,u.scaleX,u.scaleY),w.copyFrom(v.matrix),F=100*u.originX+"%",G=100*u.originY+"%",M.e-=v.scrollX*u.scrollFactorX,M.f-=v.scrollY*u.scrollFactorY,w.multiply(M,R),R.e-=A,R.f-=L),u.transformOnly||(m.display="block",m.opacity=P,m.zIndex=u._depth,m.pointerEvents=u.pointerEvents,m.mixBlendMode=o[u._blendMode]),m.transform=R.getCSSMatrix()+" skew("+u.skewX+"rad, "+u.skewY+"rad) rotate3d("+u.rotate3d.x+","+u.rotate3d.y+","+u.rotate3d.z+","+u.rotate3d.w+u.rotate3dAngle+")",m.transformOrigin=F+" "+G}};n.exports=f}),2611:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(3069),y=r(39429);y.register("dom",function(d,h,l,a,f){var c=new o(this.scene,d,h,l,a,f);return this.displayList.add(c),c})}),441:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),y=o,d=o;y=r(49381),d=r(49381),n.exports={renderWebGL:y,renderCanvas:d}}),62980:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="addedtoscene"}),41337:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="destroy"}),44947:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="removedfromscene"}),49358:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="complete"}),35163:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="created"}),97249:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="error"}),19483:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="locked"}),56059:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="loop"}),26772:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="metadata"}),64437:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="playing"}),83411:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="play"}),75780:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="seeked"}),67799:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="seeking"}),63500:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="stalled"}),55541:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="stop"}),53208:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="textureready"}),4992:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="unlocked"}),12:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="unsupported"}),51708:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ADDED_TO_SCENE:r(62980),DESTROY:r(41337),REMOVED_FROM_SCENE:r(44947),VIDEO_COMPLETE:r(49358),VIDEO_CREATED:r(35163),VIDEO_ERROR:r(97249),VIDEO_LOCKED:r(19483),VIDEO_LOOP:r(56059),VIDEO_METADATA:r(26772),VIDEO_PLAY:r(83411),VIDEO_PLAYING:r(64437),VIDEO_SEEKED:r(75780),VIDEO_SEEKING:r(67799),VIDEO_STALLED:r(63500),VIDEO_STOP:r(55541),VIDEO_TEXTURE:r(53208),VIDEO_UNLOCKED:r(4992),VIDEO_UNSUPPORTED:r(12)}}),42421:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(31401),d=r(95643),h=r(64993),l=new o({Extends:d,Mixins:[y.Alpha,y.BlendMode,y.Depth,y.Flip,y.Origin,y.ScrollFactor,y.Size,y.Texture,y.Tint,y.Transform,y.Visible,h],initialize:function(f){d.call(this,f,"Extern")},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(){},render:function(){}});n.exports=l}),70217:(()=>{}),56315:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(42421),y=r(39429);y.register("extern",function(){var d=new o(this.scene);return this.displayList.add(d),d})}),64993:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),y=o,d=o;y=r(80287),d=r(70217),n.exports={renderWebGL:y,renderCanvas:d}}),80287:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(91296),y=function(d,h,l,a){d.pipelines.clear();var f=o(h,l,a).calc;h.render.call(h,d,l,f),d.pipelines.rebind()};n.exports=y}),85592:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ARC:0,BEGIN_PATH:1,CLOSE_PATH:2,FILL_RECT:3,LINE_TO:4,MOVE_TO:5,LINE_STYLE:6,FILL_STYLE:7,FILL_PATH:8,STROKE_PATH:9,FILL_TRIANGLE:10,STROKE_TRIANGLE:11,SAVE:14,RESTORE:15,TRANSLATE:16,SCALE:17,ROTATE:18,GRADIENT_FILL_STYLE:21,GRADIENT_LINE_STYLE:22}}),43831:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(71911),y=r(83419),d=r(85592),h=r(31401),l=r(8497),a=r(95643),f=r(95540),c=r(35154),u=r(36383),v=r(84503),p=new y({Extends:a,Mixins:[h.AlphaSingle,h.BlendMode,h.Depth,h.Mask,h.Pipeline,h.PostPipeline,h.Transform,h.Visible,h.ScrollFactor,v],initialize:function(x,C){var P=c(C,"x",0),w=c(C,"y",0);a.call(this,x,"Graphics"),this.setPosition(P,w),this.initPipeline(),this.initPostPipeline(),this.displayOriginX=0,this.displayOriginY=0,this.commandBuffer=[],this.defaultFillColor=-1,this.defaultFillAlpha=1,this.defaultStrokeWidth=1,this.defaultStrokeColor=-1,this.defaultStrokeAlpha=1,this._lineWidth=1,this.lineStyle(1,0,0),this.fillStyle(0,0),this.setDefaultStyles(C)},setDefaultStyles:function(m){return c(m,"lineStyle",null)&&(this.defaultStrokeWidth=c(m,"lineStyle.width",1),this.defaultStrokeColor=c(m,"lineStyle.color",16777215),this.defaultStrokeAlpha=c(m,"lineStyle.alpha",1),this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha)),c(m,"fillStyle",null)&&(this.defaultFillColor=c(m,"fillStyle.color",16777215),this.defaultFillAlpha=c(m,"fillStyle.alpha",1),this.fillStyle(this.defaultFillColor,this.defaultFillAlpha)),this},lineStyle:function(m,x,C){return C===void 0&&(C=1),this.commandBuffer.push(d.LINE_STYLE,m,x,C),this._lineWidth=m,this},fillStyle:function(m,x){return x===void 0&&(x=1),this.commandBuffer.push(d.FILL_STYLE,m,x),this},fillGradientStyle:function(m,x,C,P,w,M,R,A){return w===void 0&&(w=1),M===void 0&&(M=w),R===void 0&&(R=w),A===void 0&&(A=w),this.commandBuffer.push(d.GRADIENT_FILL_STYLE,w,M,R,A,m,x,C,P),this},lineGradientStyle:function(m,x,C,P,w,M){return M===void 0&&(M=1),this.commandBuffer.push(d.GRADIENT_LINE_STYLE,m,M,x,C,P,w),this},beginPath:function(){return this.commandBuffer.push(d.BEGIN_PATH),this},closePath:function(){return this.commandBuffer.push(d.CLOSE_PATH),this},fillPath:function(){return this.commandBuffer.push(d.FILL_PATH),this},fill:function(){return this.commandBuffer.push(d.FILL_PATH),this},strokePath:function(){return this.commandBuffer.push(d.STROKE_PATH),this},stroke:function(){return this.commandBuffer.push(d.STROKE_PATH),this},fillCircleShape:function(m){return this.fillCircle(m.x,m.y,m.radius)},strokeCircleShape:function(m){return this.strokeCircle(m.x,m.y,m.radius)},fillCircle:function(m,x,C){return this.beginPath(),this.arc(m,x,C,0,u.PI2),this.fillPath(),this},strokeCircle:function(m,x,C){return this.beginPath(),this.arc(m,x,C,0,u.PI2),this.strokePath(),this},fillRectShape:function(m){return this.fillRect(m.x,m.y,m.width,m.height)},strokeRectShape:function(m){return this.strokeRect(m.x,m.y,m.width,m.height)},fillRect:function(m,x,C,P){return this.commandBuffer.push(d.FILL_RECT,m,x,C,P),this},strokeRect:function(m,x,C,P){var w=this._lineWidth/2,M=m-w,R=m+w;return this.beginPath(),this.moveTo(m,x),this.lineTo(m,x+P),this.strokePath(),this.beginPath(),this.moveTo(m+C,x),this.lineTo(m+C,x+P),this.strokePath(),this.beginPath(),this.moveTo(M,x),this.lineTo(R+C,x),this.strokePath(),this.beginPath(),this.moveTo(M,x+P),this.lineTo(R+C,x+P),this.strokePath(),this},fillRoundedRect:function(m,x,C,P,w){w===void 0&&(w=20);var M=w,R=w,A=w,L=w;typeof w!="number"&&(M=f(w,"tl",20),R=f(w,"tr",20),A=f(w,"bl",20),L=f(w,"br",20));var F=M>=0,G=R>=0,I=A>=0,B=L>=0;return M=Math.abs(M),R=Math.abs(R),A=Math.abs(A),L=Math.abs(L),this.beginPath(),this.moveTo(m+M,x),this.lineTo(m+C-R,x),G?this.arc(m+C-R,x+R,R,-u.TAU,0):this.arc(m+C,x,R,Math.PI,u.TAU,!0),this.lineTo(m+C,x+P-L),B?this.arc(m+C-L,x+P-L,L,0,u.TAU):this.arc(m+C,x+P,L,-u.TAU,Math.PI,!0),this.lineTo(m+A,x+P),I?this.arc(m+A,x+P-A,A,u.TAU,Math.PI):this.arc(m,x+P,A,0,-u.TAU,!0),this.lineTo(m,x+M),F?this.arc(m+M,x+M,M,-Math.PI,-u.TAU):this.arc(m,x,M,u.TAU,0,!0),this.fillPath(),this},strokeRoundedRect:function(m,x,C,P,w){w===void 0&&(w=20);var M=w,R=w,A=w,L=w,F=Math.min(C,P)/2;typeof w!="number"&&(M=f(w,"tl",20),R=f(w,"tr",20),A=f(w,"bl",20),L=f(w,"br",20));var G=M>=0,I=R>=0,B=A>=0,k=L>=0;return M=Math.min(Math.abs(M),F),R=Math.min(Math.abs(R),F),A=Math.min(Math.abs(A),F),L=Math.min(Math.abs(L),F),this.beginPath(),this.moveTo(m+M,x),this.lineTo(m+C-R,x),this.moveTo(m+C-R,x),I?this.arc(m+C-R,x+R,R,-u.TAU,0):this.arc(m+C,x,R,Math.PI,u.TAU,!0),this.lineTo(m+C,x+P-L),this.moveTo(m+C,x+P-L),k?this.arc(m+C-L,x+P-L,L,0,u.TAU):this.arc(m+C,x+P,L,-u.TAU,Math.PI,!0),this.lineTo(m+A,x+P),this.moveTo(m+A,x+P),B?this.arc(m+A,x+P-A,A,u.TAU,Math.PI):this.arc(m,x+P,A,0,-u.TAU,!0),this.lineTo(m,x+M),this.moveTo(m,x+M),G?this.arc(m+M,x+M,M,-Math.PI,-u.TAU):this.arc(m,x,M,u.TAU,0,!0),this.strokePath(),this},fillPointShape:function(m,x){return this.fillPoint(m.x,m.y,x)},fillPoint:function(m,x,C){return!C||C<1?C=1:(m-=C/2,x-=C/2),this.commandBuffer.push(d.FILL_RECT,m,x,C,C),this},fillTriangleShape:function(m){return this.fillTriangle(m.x1,m.y1,m.x2,m.y2,m.x3,m.y3)},strokeTriangleShape:function(m){return this.strokeTriangle(m.x1,m.y1,m.x2,m.y2,m.x3,m.y3)},fillTriangle:function(m,x,C,P,w,M){return this.commandBuffer.push(d.FILL_TRIANGLE,m,x,C,P,w,M),this},strokeTriangle:function(m,x,C,P,w,M){return this.commandBuffer.push(d.STROKE_TRIANGLE,m,x,C,P,w,M),this},strokeLineShape:function(m){return this.lineBetween(m.x1,m.y1,m.x2,m.y2)},lineBetween:function(m,x,C,P){return this.beginPath(),this.moveTo(m,x),this.lineTo(C,P),this.strokePath(),this},lineTo:function(m,x){return this.commandBuffer.push(d.LINE_TO,m,x),this},moveTo:function(m,x){return this.commandBuffer.push(d.MOVE_TO,m,x),this},strokePoints:function(m,x,C,P){x===void 0&&(x=!1),C===void 0&&(C=!1),P===void 0&&(P=m.length),this.beginPath(),this.moveTo(m[0].x,m[0].y);for(var w=1;w<P;w++)this.lineTo(m[w].x,m[w].y);return x&&this.lineTo(m[0].x,m[0].y),C&&this.closePath(),this.strokePath(),this},fillPoints:function(m,x,C,P){x===void 0&&(x=!1),C===void 0&&(C=!1),P===void 0&&(P=m.length),this.beginPath(),this.moveTo(m[0].x,m[0].y);for(var w=1;w<P;w++)this.lineTo(m[w].x,m[w].y);return x&&this.lineTo(m[0].x,m[0].y),C&&this.closePath(),this.fillPath(),this},strokeEllipseShape:function(m,x){x===void 0&&(x=32);var C=m.getPoints(x);return this.strokePoints(C,!0)},strokeEllipse:function(m,x,C,P,w){w===void 0&&(w=32);var M=new l(m,x,C,P),R=M.getPoints(w);return this.strokePoints(R,!0)},fillEllipseShape:function(m,x){x===void 0&&(x=32);var C=m.getPoints(x);return this.fillPoints(C,!0)},fillEllipse:function(m,x,C,P,w){w===void 0&&(w=32);var M=new l(m,x,C,P),R=M.getPoints(w);return this.fillPoints(R,!0)},arc:function(m,x,C,P,w,M,R){return M===void 0&&(M=!1),R===void 0&&(R=0),this.commandBuffer.push(d.ARC,m,x,C,P,w,M,R),this},slice:function(m,x,C,P,w,M,R){return M===void 0&&(M=!1),R===void 0&&(R=0),this.commandBuffer.push(d.BEGIN_PATH),this.commandBuffer.push(d.MOVE_TO,m,x),this.commandBuffer.push(d.ARC,m,x,C,P,w,M,R),this.commandBuffer.push(d.CLOSE_PATH),this},save:function(){return this.commandBuffer.push(d.SAVE),this},restore:function(){return this.commandBuffer.push(d.RESTORE),this},translateCanvas:function(m,x){return this.commandBuffer.push(d.TRANSLATE,m,x),this},scaleCanvas:function(m,x){return this.commandBuffer.push(d.SCALE,m,x),this},rotateCanvas:function(m){return this.commandBuffer.push(d.ROTATE,m),this},clear:function(){return this.commandBuffer.length=0,this.defaultFillColor>-1&&this.fillStyle(this.defaultFillColor,this.defaultFillAlpha),this.defaultStrokeColor>-1&&this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha),this},generateTexture:function(m,x,C){var P=this.scene.sys,w=P.game.renderer;x===void 0&&(x=P.scale.width),C===void 0&&(C=P.scale.height),p.TargetCamera.setScene(this.scene),p.TargetCamera.setViewport(0,0,x,C),p.TargetCamera.scrollX=this.x,p.TargetCamera.scrollY=this.y;var M,R,A={willReadFrequently:!0};if(typeof m=="string")if(P.textures.exists(m)){M=P.textures.get(m);var L=M.getSourceImage();L instanceof HTMLCanvasElement&&(R=L.getContext("2d",A))}else M=P.textures.createCanvas(m,x,C),R=M.getSourceImage().getContext("2d",A);else m instanceof HTMLCanvasElement&&(R=m.getContext("2d",A));return R&&(this.renderCanvas(w,this,p.TargetCamera,null,R,!1),M&&M.refresh()),this},preDestroy:function(){this.commandBuffer=[]}});p.TargetCamera=new o,n.exports=p}),32768:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(85592),y=r(20926),d=function(h,l,a,f,c,u){var v=l.commandBuffer,p=v.length,m=c||h.currentContext;if(!(p===0||!y(h,m,l,a,f))){a.addToRenderList(l);var x=1,C=1,P=0,w=0,M=1,R=0,A=0,L=0;m.beginPath();for(var F=0;F<p;++F){var G=v[F];switch(G){case o.ARC:m.arc(v[F+1],v[F+2],v[F+3],v[F+4],v[F+5],v[F+6]),F+=7;break;case o.LINE_STYLE:M=v[F+1],P=v[F+2],x=v[F+3],R=(P&16711680)>>>16,A=(P&65280)>>>8,L=P&255,m.strokeStyle="rgba("+R+","+A+","+L+","+x+")",m.lineWidth=M,F+=3;break;case o.FILL_STYLE:w=v[F+1],C=v[F+2],R=(w&16711680)>>>16,A=(w&65280)>>>8,L=w&255,m.fillStyle="rgba("+R+","+A+","+L+","+C+")",F+=2;break;case o.BEGIN_PATH:m.beginPath();break;case o.CLOSE_PATH:m.closePath();break;case o.FILL_PATH:u||m.fill();break;case o.STROKE_PATH:u||m.stroke();break;case o.FILL_RECT:u?m.rect(v[F+1],v[F+2],v[F+3],v[F+4]):m.fillRect(v[F+1],v[F+2],v[F+3],v[F+4]),F+=4;break;case o.FILL_TRIANGLE:m.beginPath(),m.moveTo(v[F+1],v[F+2]),m.lineTo(v[F+3],v[F+4]),m.lineTo(v[F+5],v[F+6]),m.closePath(),u||m.fill(),F+=6;break;case o.STROKE_TRIANGLE:m.beginPath(),m.moveTo(v[F+1],v[F+2]),m.lineTo(v[F+3],v[F+4]),m.lineTo(v[F+5],v[F+6]),m.closePath(),u||m.stroke(),F+=6;break;case o.LINE_TO:m.lineTo(v[F+1],v[F+2]),F+=2;break;case o.MOVE_TO:m.moveTo(v[F+1],v[F+2]),F+=2;break;case o.LINE_FX_TO:m.lineTo(v[F+1],v[F+2]),F+=5;break;case o.MOVE_FX_TO:m.moveTo(v[F+1],v[F+2]),F+=5;break;case o.SAVE:m.save();break;case o.RESTORE:m.restore();break;case o.TRANSLATE:m.translate(v[F+1],v[F+2]),F+=2;break;case o.SCALE:m.scale(v[F+1],v[F+2]),F+=2;break;case o.ROTATE:m.rotate(v[F+1]),F+=1;break;case o.GRADIENT_FILL_STYLE:F+=5;break;case o.GRADIENT_LINE_STYLE:F+=6;break}}m.restore()}};n.exports=d}),87079:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(44603),y=r(43831);o.register("graphics",function(d,h){d===void 0&&(d={}),h!==void 0&&(d.add=h);var l=new y(this.scene,d);return d.add&&this.scene.sys.displayList.add(l),l})}),1201:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(43831),y=r(39429);y.register("graphics",function(d){return this.displayList.add(new o(this.scene,d))})}),84503:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),y=o,d=o;y=r(77545),d=r(32768),d=r(32768),n.exports={renderWebGL:y,renderCanvas:d}}),77545:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(85592),y=r(91296),d=r(61340),h=r(70554),l=function(v,p,m){this.x=v,this.y=p,this.width=m},a=function(v,p,m){this.points=[],this.pointsLength=1,this.points[0]=new l(v,p,m)},f=[],c=new d,u=function(v,p,m,x){if(p.commandBuffer.length!==0){m.addToRenderList(p);var C=v.pipelines.set(p.pipeline,p);v.pipelines.preBatch(p);for(var P=y(p,m,x).calc,w=c.loadIdentity(),M=p.commandBuffer,R=m.alpha*p.alpha,A=1,L=C.fillTint,F=C.strokeTint,G=0,I=0,B=0,k=.01,U=Math.PI*2,H,X=[],j=0,Z=!0,Y=null,$=h.getTintAppendFloatAlpha,z=0;z<M.length;z++)switch(H=M[z],H){case o.BEGIN_PATH:{X.length=0,Y=null,Z=!0;break}case o.CLOSE_PATH:{Z=!1,Y&&Y.points.length&&Y.points.push(Y.points[0]);break}case o.FILL_PATH:{for(j=0;j<X.length;j++)C.batchFillPath(X[j].points,w,P);break}case o.STROKE_PATH:{for(j=0;j<X.length;j++)C.batchStrokePath(X[j].points,A,Z,w,P);break}case o.LINE_STYLE:{A=M[++z];var V=M[++z],K=M[++z]*R,Q=$(V,K);F.TL=Q,F.TR=Q,F.BL=Q,F.BR=Q;break}case o.FILL_STYLE:{var _=M[++z],tt=M[++z]*R,rt=$(_,tt);L.TL=rt,L.TR=rt,L.BL=rt,L.BR=rt;break}case o.GRADIENT_FILL_STYLE:{var ot=M[++z]*R,ft=M[++z]*R,ct=M[++z]*R,gt=M[++z]*R;L.TL=$(M[++z],ot),L.TR=$(M[++z],ft),L.BL=$(M[++z],ct),L.BR=$(M[++z],gt);break}case o.GRADIENT_LINE_STYLE:{A=M[++z];var xt=M[++z]*R;F.TL=$(M[++z],xt),F.TR=$(M[++z],xt),F.BL=$(M[++z],xt),F.BR=$(M[++z],xt);break}case o.ARC:{var Mt=0,St=M[++z],$t=M[++z],Yt=M[++z],Ht=M[++z],Ct=M[++z],Nt=M[++z],Vt=M[++z];for(Ct-=Ht,Nt?Ct<-U?Ct=-U:Ct>0&&(Ct=-U+Ct%U):Ct>U?Ct=U:Ct<0&&(Ct=U+Ct%U),Y===null&&(Y=new a(St+Math.cos(Ht)*Yt,$t+Math.sin(Ht)*Yt,A),X.push(Y),Mt+=k);Mt<1+Vt;)B=Ct*Mt+Ht,G=St+Math.cos(B)*Yt,I=$t+Math.sin(B)*Yt,Y.points.push(new l(G,I,A)),Mt+=k;B=Ct+Ht,G=St+Math.cos(B)*Yt,I=$t+Math.sin(B)*Yt,Y.points.push(new l(G,I,A));break}case o.FILL_RECT:{C.batchFillRect(M[++z],M[++z],M[++z],M[++z],w,P);break}case o.FILL_TRIANGLE:{C.batchFillTriangle(M[++z],M[++z],M[++z],M[++z],M[++z],M[++z],w,P);break}case o.STROKE_TRIANGLE:{C.batchStrokeTriangle(M[++z],M[++z],M[++z],M[++z],M[++z],M[++z],A,w,P);break}case o.LINE_TO:{Y!==null?Y.points.push(new l(M[++z],M[++z],A)):(Y=new a(M[++z],M[++z],A),X.push(Y));break}case o.MOVE_TO:{Y=new a(M[++z],M[++z],A),X.push(Y);break}case o.SAVE:{f.push(w.copyToArray());break}case o.RESTORE:{w.copyFromArray(f.pop());break}case o.TRANSLATE:{St=M[++z],$t=M[++z],w.translate(St,$t);break}case o.SCALE:{St=M[++z],$t=M[++z],w.scale(St,$t);break}case o.ROTATE:{w.rotate(M[++z]);break}}v.pipelines.postBatch(p)}};n.exports=u}),26479:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(61061),y=r(83419),d=r(51708),h=r(50792),l=r(46710),a=r(95540),f=r(35154),c=r(97022),u=r(41212),v=r(88492),p=r(35072),m=r(68287),x=new y({Extends:h,initialize:function(P,w,M){h.call(this),M?w&&!Array.isArray(w)&&(w=[w]):Array.isArray(w)?u(w[0])&&(M=w,w=null):u(w)&&(M=w,w=null),this.scene=P,this.children=new p,this.isParent=!0,this.type="Group",this.classType=a(M,"classType",m),this.name=a(M,"name",""),this.active=a(M,"active",!0),this.maxSize=a(M,"maxSize",-1),this.defaultKey=a(M,"defaultKey",null),this.defaultFrame=a(M,"defaultFrame",null),this.runChildUpdate=a(M,"runChildUpdate",!1),this.createCallback=a(M,"createCallback",null),this.removeCallback=a(M,"removeCallback",null),this.createMultipleCallback=a(M,"createMultipleCallback",null),this.internalCreateCallback=a(M,"internalCreateCallback",null),this.internalRemoveCallback=a(M,"internalRemoveCallback",null),w&&this.addMultiple(w),M&&this.createMultiple(M),this.on(d.ADDED_TO_SCENE,this.addedToScene,this),this.on(d.REMOVED_FROM_SCENE,this.removedFromScene,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},create:function(C,P,w,M,R,A){if(C===void 0&&(C=0),P===void 0&&(P=0),w===void 0&&(w=this.defaultKey),M===void 0&&(M=this.defaultFrame),R===void 0&&(R=!0),A===void 0&&(A=!0),this.isFull())return null;var L=new this.classType(this.scene,C,P,w,M);return L.addToDisplayList(this.scene.sys.displayList),L.addToUpdateList(),L.visible=R,L.setActive(A),this.add(L),L},createMultiple:function(C){if(this.isFull())return[];Array.isArray(C)||(C=[C]);var P=[];if(C[0].key)for(var w=0;w<C.length;w++){var M=this.createFromConfig(C[w]);P=P.concat(M)}return P},createFromConfig:function(C){if(this.isFull())return[];this.classType=a(C,"classType",this.classType);var P=a(C,"key",void 0),w=a(C,"frame",null),M=a(C,"visible",!0),R=a(C,"active",!0),A=[];if(P===void 0)return A;Array.isArray(P)||(P=[P]),Array.isArray(w)||(w=[w]);var L=a(C,"repeat",0),F=a(C,"randomKey",!1),G=a(C,"randomFrame",!1),I=a(C,"yoyo",!1),B=a(C,"quantity",!1),k=a(C,"frameQuantity",1),U=a(C,"max",0),H=v(P,w,{max:U,qty:B||k,random:F,randomB:G,repeat:L,yoyo:I});C.createCallback&&(this.createCallback=C.createCallback),C.removeCallback&&(this.removeCallback=C.removeCallback),C.internalCreateCallback&&(this.internalCreateCallback=C.internalCreateCallback),C.internalRemoveCallback&&(this.internalRemoveCallback=C.internalRemoveCallback);for(var X=0;X<H.length;X++){var j=this.create(0,0,H[X].a,H[X].b,M,R);if(!j)break;A.push(j)}if(c(C,"setXY")){var Z=f(C,"setXY.x",0),Y=f(C,"setXY.y",0),$=f(C,"setXY.stepX",0),z=f(C,"setXY.stepY",0);o.SetXY(A,Z,Y,$,z)}if(c(C,"setRotation")){var V=f(C,"setRotation.value",0),K=f(C,"setRotation.step",0);o.SetRotation(A,V,K)}if(c(C,"setScale")){var Q=f(C,"setScale.x",1),_=f(C,"setScale.y",Q),tt=f(C,"setScale.stepX",0),rt=f(C,"setScale.stepY",0);o.SetScale(A,Q,_,tt,rt)}if(c(C,"setOrigin")){var ot=f(C,"setOrigin.x",.5),ft=f(C,"setOrigin.y",ot),ct=f(C,"setOrigin.stepX",0),gt=f(C,"setOrigin.stepY",0);o.SetOrigin(A,ot,ft,ct,gt)}if(c(C,"setAlpha")){var xt=f(C,"setAlpha.value",1),Mt=f(C,"setAlpha.step",0);o.SetAlpha(A,xt,Mt)}if(c(C,"setDepth")){var St=f(C,"setDepth.value",0),$t=f(C,"setDepth.step",0);o.SetDepth(A,St,$t)}if(c(C,"setScrollFactor")){var Yt=f(C,"setScrollFactor.x",1),Ht=f(C,"setScrollFactor.y",Yt),Ct=f(C,"setScrollFactor.stepX",0),Nt=f(C,"setScrollFactor.stepY",0);o.SetScrollFactor(A,Yt,Ht,Ct,Nt)}var Vt=a(C,"hitArea",null),qt=a(C,"hitAreaCallback",null);Vt&&o.SetHitArea(A,Vt,qt);var Ce=a(C,"gridAlign",!1);return Ce&&o.GridAlign(A,Ce),this.createMultipleCallback&&this.createMultipleCallback.call(this,A),A},preUpdate:function(C,P){if(!(!this.runChildUpdate||this.children.size===0))for(var w=this.children.entries.slice(),M=0;M<w.length;M++){var R=w[M];R.active&&R.update(C,P)}},add:function(C,P){return P===void 0&&(P=!1),this.isFull()?this:(this.children.set(C),this.internalCreateCallback&&this.internalCreateCallback.call(this,C),this.createCallback&&this.createCallback.call(this,C),P&&(C.addToDisplayList(this.scene.sys.displayList),C.addToUpdateList()),C.on(d.DESTROY,this.remove,this),this)},addMultiple:function(C,P){if(P===void 0&&(P=!1),Array.isArray(C))for(var w=0;w<C.length;w++)this.add(C[w],P);return this},remove:function(C,P,w){return P===void 0&&(P=!1),w===void 0&&(w=!1),this.children.contains(C)?(this.children.delete(C),this.internalRemoveCallback&&this.internalRemoveCallback.call(this,C),this.removeCallback&&this.removeCallback.call(this,C),C.off(d.DESTROY,this.remove,this),w?C.destroy():P&&(C.removeFromDisplayList(),C.removeFromUpdateList()),this):this},clear:function(C,P){C===void 0&&(C=!1),P===void 0&&(P=!1);for(var w=this.children,M=0;M<w.size;M++){var R=w.entries[M];R.off(d.DESTROY,this.remove,this),P?R.destroy():C&&(R.removeFromDisplayList(),R.removeFromUpdateList())}return this.children.clear(),this},contains:function(C){return this.children.contains(C)},getChildren:function(){return this.children.entries},getLength:function(){return this.children.size},getMatching:function(C,P,w,M){return l(this.children.entries,C,P,w,M)},getFirst:function(C,P,w,M,R,A,L){return this.getHandler(!0,1,C,P,w,M,R,A,L)},getFirstNth:function(C,P,w,M,R,A,L,F){return this.getHandler(!0,C,P,w,M,R,A,L,F)},getLast:function(C,P,w,M,R,A,L){return this.getHandler(!1,1,C,P,w,M,R,A,L)},getLastNth:function(C,P,w,M,R,A,L,F){return this.getHandler(!1,C,P,w,M,R,A,L,F)},getHandler:function(C,P,w,M,R,A,L,F,G){w===void 0&&(w=!1),M===void 0&&(M=!1);var I,B,k=0,U=this.children.entries;if(C)for(B=0;B<U.length;B++)if(I=U[B],I.active===w){if(k++,k===P)break}else I=null;else for(B=U.length-1;B>=0;B--)if(I=U[B],I.active===w){if(k++,k===P)break}else I=null;return I?(typeof R=="number"&&(I.x=R),typeof A=="number"&&(I.y=A),I):M?this.create(R,A,L,F,G):null},get:function(C,P,w,M,R){return this.getFirst(!1,!0,C,P,w,M,R)},getFirstAlive:function(C,P,w,M,R,A){return this.getFirst(!0,C,P,w,M,R,A)},getFirstDead:function(C,P,w,M,R,A){return this.getFirst(!1,C,P,w,M,R,A)},playAnimation:function(C,P){return o.PlayAnimation(this.children.entries,C,P),this},isFull:function(){return this.maxSize===-1?!1:this.children.size>=this.maxSize},countActive:function(C){C===void 0&&(C=!0);for(var P=0,w=0;w<this.children.size;w++)this.children.entries[w].active===C&&P++;return P},getTotalUsed:function(){return this.countActive()},getTotalFree:function(){var C=this.getTotalUsed(),P=this.maxSize===-1?999999999999:this.maxSize;return P-C},setActive:function(C){return this.active=C,this},setName:function(C){return this.name=C,this},propertyValueSet:function(C,P,w,M,R){return o.PropertyValueSet(this.children.entries,C,P,w,M,R),this},propertyValueInc:function(C,P,w,M,R){return o.PropertyValueInc(this.children.entries,C,P,w,M,R),this},setX:function(C,P){return o.SetX(this.children.entries,C,P),this},setY:function(C,P){return o.SetY(this.children.entries,C,P),this},setXY:function(C,P,w,M){return o.SetXY(this.children.entries,C,P,w,M),this},incX:function(C,P){return o.IncX(this.children.entries,C,P),this},incY:function(C,P){return o.IncY(this.children.entries,C,P),this},incXY:function(C,P,w,M){return o.IncXY(this.children.entries,C,P,w,M),this},shiftPosition:function(C,P,w){return o.ShiftPosition(this.children.entries,C,P,w),this},angle:function(C,P){return o.Angle(this.children.entries,C,P),this},rotate:function(C,P){return o.Rotate(this.children.entries,C,P),this},rotateAround:function(C,P){return o.RotateAround(this.children.entries,C,P),this},rotateAroundDistance:function(C,P,w){return o.RotateAroundDistance(this.children.entries,C,P,w),this},setAlpha:function(C,P){return o.SetAlpha(this.children.entries,C,P),this},setTint:function(C,P,w,M){return o.SetTint(this.children.entries,C,P,w,M),this},setOrigin:function(C,P,w,M){return o.SetOrigin(this.children.entries,C,P,w,M),this},scaleX:function(C,P){return o.ScaleX(this.children.entries,C,P),this},scaleY:function(C,P){return o.ScaleY(this.children.entries,C,P),this},scaleXY:function(C,P,w,M){return o.ScaleXY(this.children.entries,C,P,w,M),this},setDepth:function(C,P){return o.SetDepth(this.children.entries,C,P),this},setBlendMode:function(C){return o.SetBlendMode(this.children.entries,C),this},setHitArea:function(C,P){return o.SetHitArea(this.children.entries,C,P),this},shuffle:function(){return o.Shuffle(this.children.entries),this},kill:function(C){this.children.contains(C)&&C.setActive(!1)},killAndHide:function(C){this.children.contains(C)&&(C.setActive(!1),C.setVisible(!1))},setVisible:function(C,P,w){return o.SetVisible(this.children.entries,C,P,w),this},toggleVisible:function(){return o.ToggleVisible(this.children.entries),this},destroy:function(C,P){C===void 0&&(C=!1),P===void 0&&(P=!1),!(!this.scene||this.ignoreDestroy)&&(this.emit(d.DESTROY,this),this.removeAllListeners(),this.scene.sys.updateList.remove(this),this.clear(P,C),this.scene=void 0,this.children=void 0)}});n.exports=x}),94975:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(44603),y=r(26479);o.register("group",function(d){return new y(this.scene,null,d)})}),3385:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(26479),y=r(39429);y.register("group",function(d,h){return this.updateList.add(new o(this.scene,d,h))})}),88571:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(31401),d=r(95643),h=r(59819),l=new o({Extends:d,Mixins:[y.Alpha,y.BlendMode,y.Depth,y.Flip,y.GetBounds,y.Mask,y.Origin,y.Pipeline,y.PostPipeline,y.ScrollFactor,y.Size,y.TextureCrop,y.Tint,y.Transform,y.Visible,h],initialize:function(f,c,u,v,p){d.call(this,f,"Image"),this._crop=this.resetCropObject(),this.setTexture(v,p),this.setPosition(c,u),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)}});n.exports=l}),40652:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y,d){y.addToRenderList(o),r.batchSprite(o,o.frame,y,d)};n.exports=T}),82459:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(25305),y=r(44603),d=r(23568),h=r(88571);y.register("image",function(l,a){l===void 0&&(l={});var f=d(l,"key",null),c=d(l,"frame",null),u=new h(this.scene,0,0,f,c);return a!==void 0&&(l.add=a),o(this.scene,u,l),u})}),2117:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(88571),y=r(39429);y.register("image",function(d,h,l,a){return this.displayList.add(new o(this.scene,d,h,l,a))})}),59819:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),y=o,d=o;y=r(99517),d=r(40652),n.exports={renderWebGL:y,renderCanvas:d}}),99517:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y,d){y.addToRenderList(o),this.pipeline.batchSprite(o,y,d)};n.exports=T}),77856:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={Events:r(51708),DisplayList:r(8050),GameObjectCreator:r(44603),GameObjectFactory:r(39429),UpdateList:r(45027),Components:r(31401),GetCalcMatrix:r(91296),BuildGameObject:r(25305),BuildGameObjectAnimation:r(13059),GameObject:r(95643),BitmapText:r(22186),Blitter:r(6107),Bob:r(46590),Container:r(31559),DOMElement:r(3069),DynamicBitmapText:r(2638),Extern:r(42421),Graphics:r(43831),Group:r(26479),Image:r(88571),Layer:r(93595),Particles:r(18404),PathFollower:r(1159),RenderTexture:r(591),RetroFont:r(196),Rope:r(77757),Sprite:r(68287),Text:r(50171),GetTextSize:r(14220),MeasureText:r(79557),TextStyle:r(35762),TileSprite:r(20839),Zone:r(41481),Video:r(18471),Shape:r(17803),Arc:r(23629),Curve:r(89),Ellipse:r(19921),Grid:r(30479),IsoBox:r(61475),IsoTriangle:r(16933),Line:r(57847),Polygon:r(24949),Rectangle:r(74561),Star:r(55911),Triangle:r(36931),Factories:{Blitter:r(12709),Container:r(24961),DOMElement:r(2611),DynamicBitmapText:r(72566),Extern:r(56315),Graphics:r(1201),Group:r(3385),Image:r(2117),Layer:r(20005),Particles:r(676),PathFollower:r(90145),RenderTexture:r(60505),Rope:r(96819),Sprite:r(46409),StaticBitmapText:r(34914),Text:r(68005),TileSprite:r(91681),Zone:r(84175),Video:r(89025),Arc:r(42563),Curve:r(40511),Ellipse:r(1543),Grid:r(34137),IsoBox:r(3933),IsoTriangle:r(49803),Line:r(2481),Polygon:r(64827),Rectangle:r(87959),Star:r(93697),Triangle:r(45245)},Creators:{Blitter:r(9403),Container:r(77143),DynamicBitmapText:r(11164),Graphics:r(87079),Group:r(94975),Image:r(82459),Layer:r(25179),Particles:r(92730),RenderTexture:r(34495),Rope:r(26209),Sprite:r(15567),StaticBitmapText:r(57336),Text:r(71259),TileSprite:r(14167),Zone:r(95261),Video:r(11511)}};o.Shader=r(20071),o.Mesh=r(4703),o.NineSlice=r(28103),o.PointLight=r(80321),o.Plane=r(33663),o.Factories.Shader=r(74177),o.Factories.Mesh=r(9225),o.Factories.NineSlice=r(47521),o.Factories.PointLight=r(71255),o.Factories.Plane=r(30985),o.Creators.Shader=r(54935),o.Creators.Mesh=r(20527),o.Creators.NineSlice=r(28279),o.Creators.PointLight=r(39829),o.Creators.Plane=r(56015),o.Light=r(41432),o.LightsManager=r(61356),o.LightsPlugin=r(88992),n.exports=o}),93595:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(10312),y=r(83419),d=r(31401),h=r(53774),l=r(45893),a=r(50792),f=r(51708),c=r(73162),u=r(33963),v=r(44594),p=r(19186),m=new y({Extends:c,Mixins:[d.AlphaSingle,d.BlendMode,d.Depth,d.Mask,d.PostPipeline,d.Visible,a,u],initialize:function(C,P){c.call(this,C),a.call(this),this.scene=C,this.displayList=null,this.type="Layer",this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.systems=C.sys,this.events=C.sys.events,this.sortChildrenFlag=!1,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.initPostPipeline(),this.clearAlpha(),this.setBlendMode(o.SKIP_CHECK),P&&this.add(P),C.sys.queueDepthSort()},setActive:function(x){return this.active=x,this},setName:function(x){return this.name=x,this},setState:function(x){return this.state=x,this},setDataEnabled:function(){return this.data||(this.data=new l(this)),this},setData:function(x,C){return this.data||(this.data=new l(this)),this.data.set(x,C),this},incData:function(x,C){return this.data||(this.data=new l(this)),this.data.inc(x,C),this},toggleData:function(x){return this.data||(this.data=new l(this)),this.data.toggle(x),this},getData:function(x){return this.data||(this.data=new l(this)),this.data.get(x)},setInteractive:function(){return this},disableInteractive:function(){return this},removeInteractive:function(){return this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return h(this)},willRender:function(x){return!(this.renderFlags!==15||this.list.length===0||this.cameraFilter!==0&&this.cameraFilter&x.id)},getIndexList:function(){for(var x=this,C=this.parentContainer,P=[];C&&(P.unshift(C.getIndex(x)),x=C,C.parentContainer);)C=C.parentContainer;return P.unshift(this.displayList.getIndex(x)),P},addChildCallback:function(x){var C=x.displayList;C&&C!==this&&x.removeFromDisplayList(),x.displayList||(this.queueDepthSort(),x.displayList=this,x.emit(f.ADDED_TO_SCENE,x,this.scene),this.events.emit(v.ADDED_TO_SCENE,x,this.scene))},removeChildCallback:function(x){this.queueDepthSort(),x.displayList=null,x.emit(f.REMOVED_FROM_SCENE,x,this.scene),this.events.emit(v.REMOVED_FROM_SCENE,x,this.scene)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(p(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(x,C){return x._depth-C._depth},getChildren:function(){return this.list},addToDisplayList:function(x){return x===void 0&&(x=this.scene.sys.displayList),this.displayList&&this.displayList!==x&&this.removeFromDisplayList(),x.exists(this)||(this.displayList=x,x.add(this,!0),x.queueDepthSort(),this.emit(f.ADDED_TO_SCENE,this,this.scene),x.events.emit(v.ADDED_TO_SCENE,this,this.scene)),this},removeFromDisplayList:function(){var x=this.displayList||this.scene.sys.displayList;return x.exists(this)&&(x.remove(this,!0),x.queueDepthSort(),this.displayList=null,this.emit(f.REMOVED_FROM_SCENE,this,this.scene),x.events.emit(v.REMOVED_FROM_SCENE,this,this.scene)),this},getDisplayList:function(){var x=null;return this.parentContainer?x=this.parentContainer.list:this.displayList&&(x=this.displayList.list),x},destroy:function(x){if(!(!this.scene||this.ignoreDestroy)){this.emit(f.DESTROY,this);for(var C=this.list;C.length;)C[0].destroy(x);this.removeAllListeners(),this.resetPostPipeline(!0),this.displayList&&(this.displayList.remove(this,!0,!1),this.displayList.queueDepthSort()),this.data&&(this.data.destroy(),this.data=void 0),this.active=!1,this.visible=!1,this.list=void 0,this.scene=void 0,this.displayList=void 0,this.systems=void 0,this.events=void 0}}});n.exports=m}),2956:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y){var d=o.list;if(d.length!==0){o.depthSort();var h=o.blendMode!==-1;h||r.setBlendMode(0);var l=o._alpha;o.mask&&o.mask.preRenderCanvas(r,null,y);for(var a=0;a<d.length;a++){var f=d[a];if(f.willRender(y)){var c=f.alpha;!h&&f.blendMode!==r.currentBlendMode&&r.setBlendMode(f.blendMode),f.setAlpha(c*l),f.renderCanvas(r,f,y),f.setAlpha(c)}}o.mask&&o.mask.postRenderCanvas(r)}};n.exports=T}),25179:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(25305),y=r(93595),d=r(44603),h=r(23568);d.register("layer",function(l,a){l===void 0&&(l={});var f=h(l,"children",null),c=new y(this.scene,f);return a!==void 0&&(l.add=a),o(this.scene,c,l),c})}),20005:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(93595),y=r(39429);y.register("layer",function(d){return this.displayList.add(new o(this.scene,d))})}),33963:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),y=o,d=o;y=r(15869),d=r(2956),n.exports={renderWebGL:y,renderCanvas:d}}),15869:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y){var d=o.list,h=d.length;if(h!==0){o.depthSort(),r.pipelines.preBatch(o);var l=o.blendMode!==-1;l||r.setBlendMode(0);for(var a=o.alpha,f=0;f<h;f++){var c=d[f];if(c.willRender(y)){var u,v,p,m;if(c.alphaTopLeft!==void 0)u=c.alphaTopLeft,v=c.alphaTopRight,p=c.alphaBottomLeft,m=c.alphaBottomRight;else{var x=c.alpha;u=x,v=x,p=x,m=x}!l&&c.blendMode!==r.currentBlendMode&&r.setBlendMode(c.blendMode);var C=c.mask;C&&C.preRenderWebGL(r,c,y);var P=c.type;P!==r.currentType&&(r.newType=!0,r.currentType=P),r.nextTypeMatch=f<h-1?d[f+1].type===r.currentType:!1,c.setAlpha(u*a,v*a,p*a,m*a),c.renderWebGL(r,c,y),c.setAlpha(u,v,p,m),C&&C.postRenderWebGL(r,y),r.newType=!1}}r.pipelines.postBatch(o)}};n.exports=T}),41432:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(96503),y=r(83419),d=r(31401),h=r(51767),l=r(70554),a=new y({Extends:o,Mixins:[d.Origin,d.ScrollFactor,d.Visible],initialize:function(c,u,v,p,m,x,C){o.call(this,c,u,v),this.color=new h(p,m,x),this.intensity=C,this.renderFlags=15,this.cameraFilter=0,this.setScrollFactor(1,1),this.setOrigin(),this.setDisplayOrigin(v)},displayWidth:{get:function(){return this.diameter},set:function(f){this.diameter=f}},displayHeight:{get:function(){return this.diameter},set:function(f){this.diameter=f}},width:{get:function(){return this.diameter},set:function(f){this.diameter=f}},height:{get:function(){return this.diameter},set:function(f){this.diameter=f}},willRender:function(f){return!(a.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&f.id)},setColor:function(f){var c=l.getFloatsFromUintRGB(f);return this.color.set(c[0],c[1],c[2]),this},setIntensity:function(f){return this.intensity=f,this},setRadius:function(f){return this.radius=f,this}});a.RENDER_MASK=15,n.exports=a}),61356:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(81491),y=r(83419),d=r(20339),h=r(41432),l=r(80321),a=r(51767),f=r(19133),c=r(19186),u=r(70554),v=new y({initialize:function(){this.lights=[],this.ambientColor=new a(.1,.1,.1),this.active=!1,this.maxLights=-1,this.visibleLights=0},addPointLight:function(p,m,x,C,P,w){return this.systems.displayList.add(new l(this.scene,p,m,x,C,P,w))},enable:function(){return this.maxLights===-1&&(this.maxLights=this.systems.renderer.config.maxLights),this.active=!0,this},disable:function(){return this.active=!1,this},getLights:function(p){for(var m=this.lights,x=p.worldView,C=[],P=0;P<m.length;P++){var w=m[P];w.willRender(p)&&o(w,x)&&C.push({light:w,distance:d(w.x,w.y,x.centerX,x.centerY)})}return C.length>this.maxLights&&(c(C,this.sortByDistance),C=C.slice(0,this.maxLights)),this.visibleLights=C.length,C},sortByDistance:function(p,m){return p.distance>=m.distance},setAmbientColor:function(p){var m=u.getFloatsFromUintRGB(p);return this.ambientColor.set(m[0],m[1],m[2]),this},getMaxVisibleLights:function(){return this.maxLights},getLightCount:function(){return this.lights.length},addLight:function(p,m,x,C,P){p===void 0&&(p=0),m===void 0&&(m=0),x===void 0&&(x=128),C===void 0&&(C=16777215),P===void 0&&(P=1);var w=u.getFloatsFromUintRGB(C),M=new h(p,m,x,w[0],w[1],w[2],P);return this.lights.push(M),M},removeLight:function(p){var m=this.lights.indexOf(p);return m>=0&&f(this.lights,m),this},shutdown:function(){this.lights.length=0},destroy:function(){this.shutdown()}});n.exports=v}),88992:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(61356),d=r(37277),h=r(44594),l=new o({Extends:y,initialize:function(f){this.scene=f,this.systems=f.sys,f.sys.settings.isBooted||f.sys.events.once(h.BOOT,this.boot,this),y.call(this)},boot:function(){var a=this.systems.events;a.on(h.SHUTDOWN,this.shutdown,this),a.on(h.DESTROY,this.destroy,this)},destroy:function(){this.shutdown(),this.scene=void 0,this.systems=void 0}});d.register("LightsPlugin",l,"lights"),n.exports=l}),4703:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(31401),d=r(39506),h=r(83997),l=r(95643),a=r(34684),f=r(92515),c=r(91296),u=r(37867),v=r(29807),p=r(43396),m=r(19186),x=r(25836),C=r(39318),P=new o({Extends:l,Mixins:[y.AlphaSingle,y.BlendMode,y.Depth,y.Mask,y.Pipeline,y.PostPipeline,y.ScrollFactor,y.Size,y.Texture,y.Transform,y.Visible,v],initialize:function(M,R,A,L,F,G,I,B,k,U,H,X){R===void 0&&(R=0),A===void 0&&(A=0),L===void 0&&(L="__WHITE"),l.call(this,M,"Mesh"),this.faces=[],this.vertices=[],this.tintFill=!1,this.debugCallback=null,this.debugGraphic=null,this.hideCCW=!0,this.modelPosition=new x,this.modelScale=new x(1,1,1),this.modelRotation=new x,this.dirtyCache=[0,0,0,0,0,0,0,0,0,0,0,0],this.transformMatrix=new u,this.viewPosition=new x,this.viewMatrix=new u,this.projectionMatrix=new u,this.totalRendered=0,this.totalFrame=0,this.ignoreDirtyCache=!1,this.fov,this.displayOriginX=0,this.displayOriginY=0;var j=M.sys.renderer;this.setPosition(R,A),this.setTexture(L,F),this.setSize(j.width,j.height),this.initPipeline(),this.initPostPipeline(),this.setPerspective(j.width,j.height),G&&this.addVertices(G,I,B,k,U,H,X)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},panX:function(w){return this.viewPosition.addScale(x.LEFT,w),this.dirtyCache[10]=1,this},panY:function(w){return this.viewPosition.y+=x.DOWN.y*w,this.dirtyCache[10]=1,this},panZ:function(w){return this.viewPosition.z+=w,this.dirtyCache[10]=1,this},setPerspective:function(w,M,R,A,L){return R===void 0&&(R=45),A===void 0&&(A=.01),L===void 0&&(L=1e3),this.fov=R,this.projectionMatrix.perspective(d(R),w/M,A,L),this.dirtyCache[10]=1,this.dirtyCache[11]=0,this},setOrtho:function(w,M,R,A){return w===void 0&&(w=this.scene.sys.renderer.getAspectRatio()),M===void 0&&(M=1),R===void 0&&(R=-1e3),A===void 0&&(A=1e3),this.fov=0,this.projectionMatrix.ortho(-w,w,-M,M,R,A),this.dirtyCache[10]=1,this.dirtyCache[11]=1,this},clear:function(){return this.faces.forEach(function(w){w.destroy()}),this.faces=[],this.vertices=[],this},addVerticesFromObj:function(w,M,R,A,L,F,G,I,B){var k=this.scene.sys.cache.obj.get(w),U;return k&&(U=a(k,this,M,R,A,L,F,G,I,B)),(!U||U.verts.length===0)&&console.warn("Mesh.addVerticesFromObj data empty:",w),this},sortByDepth:function(w,M){return w.depth-M.depth},depthSort:function(){return m(this.faces,this.sortByDepth),this},addVertex:function(w,M,R,A,L,F,G){var I=new C(w,M,R,A,L,F,G);return this.vertices.push(I),I},addFace:function(w,M,R){var A=new h(w,M,R);return this.faces.push(A),this.dirtyCache[9]=-1,A},addVertices:function(w,M,R,A,L,F,G){var I=f(w,M,R,A,L,F,G);return I?(this.faces=this.faces.concat(I.faces),this.vertices=this.vertices.concat(I.vertices)):console.warn("Mesh.addVertices data empty or invalid"),this.dirtyCache[9]=-1,this},getFaceCount:function(){return this.faces.length},getVertexCount:function(){return this.vertices.length},getFace:function(w){return this.faces[w]},hasFaceAt:function(w,M,R){R===void 0&&(R=this.scene.sys.cameras.main);for(var A=c(this,R).calc,L=this.faces,F=0;F<L.length;F++){var G=L[F];if(G.contains(w,M,A))return!0}return!1},getFaceAt:function(w,M,R){R===void 0&&(R=this.scene.sys.cameras.main);for(var A=c(this,R).calc,L=this.faces,F=[],G=0;G<L.length;G++){var I=L[G];I.contains(w,M,A)&&F.push(I)}return m(F,this.sortByDepth)},setDebug:function(w,M){return this.debugGraphic=w,!w&&!M?this.debugCallback=null:M?this.debugCallback=M:this.debugCallback=this.renderDebug,this},isDirty:function(){var w=this.modelPosition,M=this.modelRotation,R=this.modelScale,A=this.dirtyCache,L=w.x,F=w.y,G=w.z,I=M.x,B=M.y,k=M.z,U=R.x,H=R.y,X=R.z,j=this.getFaceCount(),Z=A[0],Y=A[1],$=A[2],z=A[3],V=A[4],K=A[5],Q=A[6],_=A[7],tt=A[8],rt=A[9];return A[0]=L,A[1]=F,A[2]=G,A[3]=I,A[4]=B,A[5]=k,A[6]=U,A[7]=H,A[8]=X,A[9]=j,Z!==L||Y!==F||$!==G||z!==I||V!==B||K!==k||Q!==U||_!==H||tt!==X||rt!==j},preUpdate:function(){this.totalRendered=this.totalFrame,this.totalFrame=0;var w=this.dirtyCache;if(!(!this.ignoreDirtyCache&&!w[10]&&!this.isDirty())){var M=this.width,R=this.height,A=this.viewMatrix,L=this.viewPosition;w[10]&&(A.identity(),A.translate(L),A.invert(),w[10]=0);var F=this.transformMatrix;F.setWorldMatrix(this.modelRotation,this.modelPosition,this.modelScale,this.viewMatrix,this.projectionMatrix);for(var G=L.z,I=this.faces,B=0;B<I.length;B++)I[B].transformCoordinatesLocal(F,M,R,G);this.depthSort()}},renderDebug:function(w,M){for(var R=w.debugGraphic,A=0;A<M.length;A++){var L=M[A],F=L.vertex1.tx,G=L.vertex1.ty,I=L.vertex2.tx,B=L.vertex2.ty,k=L.vertex3.tx,U=L.vertex3.ty;R.strokeTriangle(F,G,I,B,k,U)}},preDestroy:function(){this.clear(),this.debugCallback=null,this.debugGraphic=null},clearTint:function(){return this.setTint()},setInteractive:function(w){w===void 0&&(w={});var M=(function(R,A,L){for(var F=this.faces,G=0;G<F.length;G++){var I=F[G];if(I.contains(A,L))return!0}return!1}).bind(this);return this.scene.sys.input.enable(this,w,M),this},setTint:function(w){w===void 0&&(w=16777215);for(var M=this.vertices,R=0;R<M.length;R++)M[R].color=w;return this},uvScroll:function(w,M){for(var R=this.faces,A=0;A<R.length;A++)R[A].scrollUV(w,M);return this},uvScale:function(w,M){for(var R=this.faces,A=0;A<R.length;A++)R[A].scaleUV(w,M);return this},tint:{set:function(w){this.setTint(w)}},rotateX:{get:function(){return p(this.modelRotation.x)},set:function(w){this.modelRotation.x=d(w)}},rotateY:{get:function(){return p(this.modelRotation.y)},set:function(w){this.modelRotation.y=d(w)}},rotateZ:{get:function(){return p(this.modelRotation.z)},set:function(w){this.modelRotation.z=d(w)}}});n.exports=P}),36488:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(){};n.exports=T}),20527:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(25305),y=r(44603),d=r(23568),h=r(35154),l=r(4703);y.register("mesh",function(a,f){a===void 0&&(a={});var c=d(a,"key",null),u=d(a,"frame",null),v=h(a,"vertices",[]),p=h(a,"uvs",[]),m=h(a,"indicies",[]),x=h(a,"containsZ",!1),C=h(a,"normals",[]),P=h(a,"colors",16777215),w=h(a,"alphas",1),M=new l(this.scene,0,0,c,u,v,p,m,x,C,P,w);return f!==void 0&&(a.add=f),o(this.scene,M,a),M})}),9225:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(4703),y=r(39429);y.register("mesh",function(d,h,l,a,f,c,u,v,p,m,x){return this.displayList.add(new o(this.scene,d,h,l,a,f,c,u,v,p,m,x))})}),29807:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),y=o,d=o;y=r(48833),d=r(36488),n.exports={renderWebGL:y,renderCanvas:d}}),48833:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(91296),y=function(d,h,l,a){var f=h.faces,c=f.length;if(c!==0){l.addToRenderList(h);var u=d.pipelines.set(h.pipeline,h),v=o(h,l,a).calc;d.pipelines.preBatch(h);for(var p=u.setGameObject(h),m=u.vertexViewF32,x=u.vertexViewU32,C=u.vertexCount*u.currentShader.vertexComponentCount-1,P=h.tintFill,w=[],M=h.debugCallback,R=v.a,A=v.b,L=v.c,F=v.d,G=v.e,I=v.f,B=h.viewPosition.z,k=h.hideCCW,U=l.roundPixels,H=l.alpha*h.alpha,X=0,j=0;j<c;j++){var Z=f[j];Z.isInView(l,k,B,H,R,A,L,F,G,I,U)&&(u.shouldFlush(3)&&(u.flush(),p=u.setGameObject(h),C=u.vertexCount*u.currentShader.vertexComponentCount-1),C=Z.load(m,x,C,p,P),X++,u.vertexCount+=3,u.currentBatch.count=u.vertexCount-u.currentBatch.start,M&&w.push(Z))}h.totalFrame+=X,M&&M.call(h,h,w),d.pipelines.postBatch(h)}};n.exports=y}),28103:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(31401),d=r(95643),h=r(78023),l=r(39318),a=new o({Extends:d,Mixins:[y.AlphaSingle,y.BlendMode,y.Depth,y.GetBounds,y.Mask,y.Origin,y.Pipeline,y.PostPipeline,y.ScrollFactor,y.Texture,y.Transform,y.Visible,h],initialize:function(c,u,v,p,m,x,C,P,w,M,R){d.call(this,c,"NineSlice"),this._width,this._height,this._originX=.5,this._originY=.5,this._sizeComponent=!0,this.vertices=[],this.leftWidth,this.rightWidth,this.topHeight,this.bottomHeight,this.tint=16777215,this.tintFill=!1;var A=c.textures.getFrame(p,m);this.is3Slice=!M&&!R,A&&A.scale9&&(this.is3Slice=A.is3Slice);for(var L=this.is3Slice?18:54,F=0;F<L;F++)this.vertices.push(new l);this.setPosition(u,v),this.setTexture(p,m),this.setSlices(x,C,P,w,M,R,!1),this.updateDisplayOrigin(),this.initPipeline(),this.initPostPipeline()},setSlices:function(f,c,u,v,p,m,x){u===void 0&&(u=10),v===void 0&&(v=10),p===void 0&&(p=0),m===void 0&&(m=0),x===void 0&&(x=!1);var C=this.frame,P=!1;if(this.is3Slice&&x&&p!==0&&m!==0&&(P=!0),P)console.warn("Cannot change 9 slice to 3 slice");else{if(C&&C.scale9&&!x){var w=C.data.scale9Borders,M=w.x,R=w.y;u=M,v=C.width-w.w-M,p=R,m=C.height-w.h-R,f===void 0&&(f=C.width),c===void 0&&(c=C.height)}else f===void 0&&(f=256),c===void 0&&(c=256);this._width=f,this._height=c,this.leftWidth=u,this.rightWidth=v,this.topHeight=p,this.bottomHeight=m,this.is3Slice&&(c=C.height,this._height=c,this.topHeight=c,this.bottomHeight=0),this.updateVertices(),this.updateUVs()}return this},updateUVs:function(){var f=this.leftWidth,c=this.rightWidth,u=this.topHeight,v=this.bottomHeight,p=this.frame.width,m=this.frame.height;this.updateQuadUVs(0,0,0,f/p,u/m),this.updateQuadUVs(6,f/p,0,1-c/p,u/m),this.updateQuadUVs(12,1-c/p,0,1,u/m),this.is3Slice||(this.updateQuadUVs(18,0,u/m,f/p,1-v/m),this.updateQuadUVs(24,f/p,u/m,1-c/p,1-v/m),this.updateQuadUVs(30,1-c/p,u/m,1,1-v/m),this.updateQuadUVs(36,0,1-v/m,f/p,1),this.updateQuadUVs(42,f/p,1-v/m,1-c/p,1),this.updateQuadUVs(48,1-c/p,1-v/m,1,1))},updateVertices:function(){var f=this.leftWidth,c=this.rightWidth,u=this.topHeight,v=this.bottomHeight,p=this.width,m=this.height;this.updateQuad(0,-.5,.5,-.5+f/p,.5-u/m),this.updateQuad(6,-.5+f/p,.5,.5-c/p,.5-u/m),this.updateQuad(12,.5-c/p,.5,.5,.5-u/m),this.is3Slice||(this.updateQuad(18,-.5,.5-u/m,-.5+f/p,-.5+v/m),this.updateQuad(24,-.5+f/p,.5-u/m,.5-c/p,-.5+v/m),this.updateQuad(30,.5-c/p,.5-u/m,.5,-.5+v/m),this.updateQuad(36,-.5,-.5+v/m,-.5+f/p,-.5),this.updateQuad(42,-.5+f/p,-.5+v/m,.5-c/p,-.5),this.updateQuad(48,.5-c/p,-.5+v/m,.5,-.5))},updateQuad:function(f,c,u,v,p){var m=this.width,x=this.height,C=this.originX,P=this.originY,w=this.vertices;w[f+0].resize(c,u,m,x,C,P),w[f+1].resize(c,p,m,x,C,P),w[f+2].resize(v,u,m,x,C,P),w[f+3].resize(c,p,m,x,C,P),w[f+4].resize(v,p,m,x,C,P),w[f+5].resize(v,u,m,x,C,P)},updateQuadUVs:function(f,c,u,v,p){var m=this.vertices,x=this.frame,C=x.u0,P=x.v0,w=x.u1,M=x.v1;if(C!==0||w!==1){var R=w-C;c=C+c*R,v=C+v*R}if(P!==0||M!==1){var A=M-P;u=P+u*A,p=P+p*A}m[f+0].setUVs(c,u),m[f+1].setUVs(c,p),m[f+2].setUVs(v,u),m[f+3].setUVs(c,p),m[f+4].setUVs(v,p),m[f+5].setUVs(v,u)},clearTint:function(){return this.setTint(16777215),this},setTint:function(f){return f===void 0&&(f=16777215),this.tint=f,this.tintFill=!1,this},setTintFill:function(f){return this.setTint(f),this.tintFill=!0,this},isTinted:{get:function(){return this.tint!==16777215}},width:{get:function(){return this._width},set:function(f){this._width=Math.max(f,this.leftWidth+this.rightWidth),this.updateVertices()}},height:{get:function(){return this._height},set:function(f){this.is3Slice||(this._height=Math.max(f,this.topHeight+this.bottomHeight),this.updateVertices())}},displayWidth:{get:function(){return this.scaleX*this.width},set:function(f){this.scaleX=f/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(f){this.scaleY=f/this.height}},setSize:function(f,c){this.width=f,this.height=c,this.updateDisplayOrigin();var u=this.input;return u&&!u.customHitArea&&(u.hitArea.width=this.width,u.hitArea.height=this.height),this},setDisplaySize:function(f,c){return this.displayWidth=f,this.displayHeight=c,this},originX:{get:function(){return this._originX},set:function(f){this._originX=f,this.updateVertices()}},originY:{get:function(){return this._originY},set:function(f){this._originY=f,this.updateVertices()}},setOrigin:function(f,c){return f===void 0&&(f=.5),c===void 0&&(c=f),this._originX=f,this._originY=c,this.updateVertices(),this.updateDisplayOrigin()},setSizeToFrame:function(){if(this.is3Slice){var f=this.frame.height;this._height=f,this.topHeight=f,this.bottomHeight=0}return this.updateUVs(),this},preDestroy:function(){this.vertices=[]}});n.exports=a}),28279:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(25305),y=r(44603),d=r(23568),h=r(35154),l=r(28103);y.register("nineslice",function(a,f){a===void 0&&(a={});var c=d(a,"key",null),u=d(a,"frame",null),v=h(a,"width",256),p=h(a,"height",256),m=h(a,"leftWidth",10),x=h(a,"rightWidth",10),C=h(a,"topHeight",0),P=h(a,"bottomHeight",0),w=new l(this.scene,0,0,c,u,v,p,m,x,C,P);return f!==void 0&&(a.add=f),o(this.scene,w,a),w})}),47521:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(28103),y=r(39429);y.register("nineslice",function(d,h,l,a,f,c,u,v,p,m){return this.displayList.add(new o(this.scene,d,h,l,a,f,c,u,v,p,m))})}),78023:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),y=o,d=o;y=r(52230),n.exports={renderWebGL:y,renderCanvas:d}}),52230:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(91296),y=r(70554),d=function(h,l,a,f){var c=l.vertices,u=c.length;if(u!==0){a.addToRenderList(l);var v=h.pipelines.set(l.pipeline,l),p=o(l,a,f,!1).calc;h.pipelines.preBatch(l);var m=v.setGameObject(l),x=v.vertexViewF32,C=v.vertexViewU32,P=v.vertexCount*v.currentShader.vertexComponentCount-1,w=a.roundPixels,M=l.tintFill,R=a.alpha*l.alpha,A=y.getTintAppendFloatAlpha(l.tint,R),L=v.vertexAvailable(),F=-1;L<u&&(F=L);for(var G=0;G<u;G++){var I=c[G];G===F&&(v.flush(),m=v.setGameObject(l),P=0),x[++P]=p.getXRound(I.vx,I.vy,w),x[++P]=p.getYRound(I.vx,I.vy,w),x[++P]=I.u,x[++P]=I.v,x[++P]=m,x[++P]=M,C[++P]=A,v.vertexCount++,v.currentBatch.count=v.vertexCount-v.currentBatch.start}h.pipelines.postBatch(l)}};n.exports=d}),76472:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(44777),d=r(37589),h=r(6113),l=r(91389),a=r(90664),f=new o({Extends:y,initialize:function(u){y.call(this,u,null,!1),this.active=!1,this.easeName="Linear",this.r=[],this.g=[],this.b=[]},getMethod:function(){return this.propertyValue===null?0:9},setMethods:function(){var c=this.propertyValue,u=c,v=this.defaultEmit,p=this.defaultUpdate;if(this.method===9){this.start=c[0],this.ease=h("Linear"),this.interpolation=l("linear"),v=this.easedValueEmit,p=this.easeValueUpdate,u=c[0],this.active=!0;for(var m=0;m<c.length;m++){var x=a(c[m]);this.r.push(x.r),this.g.push(x.g),this.b.push(x.b)}}return this.onEmit=v,this.onUpdate=p,this.current=u,this},setEase:function(c){this.easeName=c,this.ease=h(c)},easedValueEmit:function(){return this.current=this.start,this.start},easeValueUpdate:function(c,u,v){var p=this.ease(v),m=this.interpolation(this.r,p),x=this.interpolation(this.g,p),C=this.interpolation(this.b,p),P=d(m,x,C);return this.current=P,P}});n.exports=f}),44777:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(30976),y=r(45319),d=r(83419),h=r(99472),l=r(6113),a=r(95540),f=r(91389),c=r(77720),u=r(15994),v=new d({initialize:function(m,x,C){C===void 0&&(C=!1),this.propertyKey=m,this.propertyValue=x,this.defaultValue=x,this.steps=0,this.counter=0,this.yoyo=!1,this.direction=0,this.start=0,this.current=0,this.end=0,this.ease=null,this.interpolation=null,this.emitOnly=C,this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,this.active=!0,this.method=0,this._onEmit,this._onUpdate},loadConfig:function(p,m){p===void 0&&(p={}),m&&(this.propertyKey=m),this.propertyValue=a(p,this.propertyKey,this.defaultValue),this.method=this.getMethod(),this.setMethods(),this.emitOnly&&(this.onUpdate=this.defaultUpdate)},toJSON:function(){return JSON.stringify(this.propertyValue)},onChange:function(p){var m;switch(this.method){case 1:case 3:case 8:m=p;break;case 2:this.propertyValue.indexOf(p)>=0&&(m=p);break;case 4:var x=(this.end-this.start)/this.steps;m=c(p,x),this.counter=m;break;case 5:case 6:case 7:m=y(p,this.start,this.end);break;case 9:m=this.start[0];break}return this.current=m,this},getMethod:function(){var p=this.propertyValue;if(p===null)return 0;var m=typeof p;if(m==="number")return 1;if(Array.isArray(p))return 2;if(m==="function")return 3;if(m==="object"){if(this.hasBoth(p,"start","end"))return this.has(p,"steps")?4:5;if(this.hasBoth(p,"min","max"))return 6;if(this.has(p,"random"))return 7;if(this.hasEither(p,"onEmit","onUpdate"))return 8;if(this.hasEither(p,"values","interpolation"))return 9}return 0},setMethods:function(){var p=this.propertyValue,m=p,x=this.defaultEmit,C=this.defaultUpdate;switch(this.method){case 1:x=this.staticValueEmit;break;case 2:x=this.randomStaticValueEmit,m=p[0];break;case 3:this._onEmit=p,x=this.proxyEmit,m=this.defaultValue;break;case 4:this.start=p.start,this.end=p.end,this.steps=p.steps,this.counter=this.start,this.yoyo=this.has(p,"yoyo")?p.yoyo:!1,this.direction=0,x=this.steppedEmit,m=this.start;break;case 5:this.start=p.start,this.end=p.end;var P=this.has(p,"ease")?p.ease:"Linear";this.ease=l(P,p.easeParams),x=this.has(p,"random")&&p.random?this.randomRangedValueEmit:this.easedValueEmit,C=this.easeValueUpdate,m=this.start;break;case 6:this.start=p.min,this.end=p.max,x=this.has(p,"int")&&p.int?this.randomRangedIntEmit:this.randomRangedValueEmit,m=this.start;break;case 7:var w=p.random;Array.isArray(w)&&(this.start=w[0],this.end=w[1]),x=this.randomRangedIntEmit,m=this.start;break;case 8:this._onEmit=this.has(p,"onEmit")?p.onEmit:this.defaultEmit,this._onUpdate=this.has(p,"onUpdate")?p.onUpdate:this.defaultUpdate,x=this.proxyEmit,C=this.proxyUpdate,m=this.defaultValue;break;case 9:this.start=p.values;var M=this.has(p,"ease")?p.ease:"Linear";this.ease=l(M,p.easeParams),this.interpolation=f(p.interpolation),x=this.easedValueEmit,C=this.easeValueUpdate,m=this.start[0];break}return this.onEmit=x,this.onUpdate=C,this.current=m,this},has:function(p,m){return p.hasOwnProperty(m)},hasBoth:function(p,m,x){return p.hasOwnProperty(m)&&p.hasOwnProperty(x)},hasEither:function(p,m,x){return p.hasOwnProperty(m)||p.hasOwnProperty(x)},defaultEmit:function(){return this.defaultValue},defaultUpdate:function(p,m,x,C){return C},proxyEmit:function(p,m,x){var C=this._onEmit(p,m,x);return this.current=C,C},proxyUpdate:function(p,m,x,C){var P=this._onUpdate(p,m,x,C);return this.current=P,P},staticValueEmit:function(){return this.current},staticValueUpdate:function(){return this.current},randomStaticValueEmit:function(){var p=Math.floor(Math.random()*this.propertyValue.length);return this.current=this.propertyValue[p],this.current},randomRangedValueEmit:function(p,m){var x=h(this.start,this.end);return p&&p.data[m]&&(p.data[m].min=x,p.data[m].max=this.end),this.current=x,x},randomRangedIntEmit:function(p,m){var x=o(this.start,this.end);return p&&p.data[m]&&(p.data[m].min=x,p.data[m].max=this.end),this.current=x,x},steppedEmit:function(){var p=this.counter,m=p,x=(this.end-this.start)/this.steps;if(this.yoyo){var C;this.direction===0?(m+=x,m>=this.end&&(C=m-this.end,m=this.end-C,this.direction=1)):(m-=x,m<=this.start&&(C=this.start-m,m=this.start+C,this.direction=0)),this.counter=m}else this.counter=u(m+x,this.start,this.end);return this.current=p,p},easedValueEmit:function(p,m){if(p&&p.data[m]){var x=p.data[m];x.min=this.start,x.max=this.end}return this.current=this.start,this.start},easeValueUpdate:function(p,m,x){var C=p.data[m],P,w=this.ease(x);return this.interpolation?P=this.interpolation(this.start,w):P=(C.max-C.min)*w+C.min,this.current=P,P},destroy:function(){this.propertyValue=null,this.defaultValue=null,this.ease=null,this.interpolation=null,this._onEmit=null,this._onUpdate=null}});n.exports=v}),24502:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(95540),d=r(20286),h=new o({Extends:d,initialize:function(a,f,c,u,v){if(typeof a=="object"){var p=a;a=y(p,"x",0),f=y(p,"y",0),c=y(p,"power",0),u=y(p,"epsilon",100),v=y(p,"gravity",50)}else a===void 0&&(a=0),f===void 0&&(f=0),c===void 0&&(c=0),u===void 0&&(u=100),v===void 0&&(v=50);d.call(this,a,f,!0),this._gravity=v,this._power=c*v,this._epsilon=u*u},update:function(l,a){var f=this.x-l.x,c=this.y-l.y,u=f*f+c*c;if(u!==0){var v=Math.sqrt(u);u<this._epsilon&&(u=this._epsilon);var p=this._power*a/(u*v)*100;l.velocityX+=f*p,l.velocityY+=c*p}},epsilon:{get:function(){return Math.sqrt(this._epsilon)},set:function(l){this._epsilon=l*l}},power:{get:function(){return this._power/this._gravity},set:function(l){this._power=l*this._gravity}},gravity:{get:function(){return this._gravity},set:function(l){var a=this.power;this._gravity=l,this.power=a}}});n.exports=h}),56480:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(9674),y=r(45319),d=r(83419),h=r(39506),l=r(87841),a=r(11520),f=r(26099),c=new d({initialize:function(v){this.emitter=v,this.texture=null,this.frame=null,this.x=0,this.y=0,this.worldPosition=new f,this.velocityX=0,this.velocityY=0,this.accelerationX=0,this.accelerationY=0,this.maxVelocityX=1e4,this.maxVelocityY=1e4,this.bounce=0,this.scaleX=1,this.scaleY=1,this.alpha=1,this.angle=0,this.rotation=0,this.tint=16777215,this.life=1e3,this.lifeCurrent=1e3,this.delayCurrent=0,this.holdCurrent=0,this.lifeT=0,this.data={tint:{min:16777215,max:16777215},alpha:{min:1,max:1},rotate:{min:0,max:0},scaleX:{min:1,max:1},scaleY:{min:1,max:1},x:{min:0,max:0},y:{min:0,max:0},accelerationX:{min:0,max:0},accelerationY:{min:0,max:0},maxVelocityX:{min:0,max:0},maxVelocityY:{min:0,max:0},moveToX:{min:0,max:0},moveToY:{min:0,max:0},bounce:{min:0,max:0}},this.isCropped=!1,this.scene=v.scene,this.anims=null,this.emitter.anims.length>0&&(this.anims=new o(this)),this.bounds=new l},emit:function(u,v,p,m,x,C){return this.emitter.emit(u,v,p,m,x,C)},isAlive:function(){return this.lifeCurrent>0},kill:function(){this.lifeCurrent=0},setPosition:function(u,v){u===void 0&&(u=0),v===void 0&&(v=0),this.x=u,this.y=v},fire:function(u,v){var p=this.emitter,m=p.ops,x=p.getAnim();if(x?this.anims.play(x):(this.frame=p.getFrame(),this.texture=this.frame.texture),!this.frame)throw new Error("Particle has no texture frame");if(p.getEmitZone(this),u===void 0?this.x+=m.x.onEmit(this,"x"):m.x.steps>0?this.x+=u+m.x.onEmit(this,"x"):this.x+=u,v===void 0?this.y+=m.y.onEmit(this,"y"):m.y.steps>0?this.y+=v+m.y.onEmit(this,"y"):this.y+=v,this.life=m.lifespan.onEmit(this,"lifespan"),this.lifeCurrent=this.life,this.lifeT=0,this.delayCurrent=m.delay.onEmit(this,"delay"),this.holdCurrent=m.hold.onEmit(this,"hold"),this.scaleX=m.scaleX.onEmit(this,"scaleX"),this.scaleY=m.scaleY.active?m.scaleY.onEmit(this,"scaleY"):this.scaleX,this.angle=m.rotate.onEmit(this,"rotate"),this.rotation=h(this.angle),p.worldMatrix.transformPoint(this.x,this.y,this.worldPosition),this.delayCurrent===0&&p.getDeathZone(this))return this.lifeCurrent=0,!1;var C=m.speedX.onEmit(this,"speedX"),P=m.speedY.active?m.speedY.onEmit(this,"speedY"):C;if(p.radial){var w=h(m.angle.onEmit(this,"angle"));this.velocityX=Math.cos(w)*Math.abs(C),this.velocityY=Math.sin(w)*Math.abs(P)}else if(p.moveTo){var M=m.moveToX.onEmit(this,"moveToX"),R=m.moveToY.onEmit(this,"moveToY"),A=this.life/1e3;this.velocityX=(M-this.x)/A,this.velocityY=(R-this.y)/A}else this.velocityX=C,this.velocityY=P;return p.acceleration&&(this.accelerationX=m.accelerationX.onEmit(this,"accelerationX"),this.accelerationY=m.accelerationY.onEmit(this,"accelerationY")),this.maxVelocityX=m.maxVelocityX.onEmit(this,"maxVelocityX"),this.maxVelocityY=m.maxVelocityY.onEmit(this,"maxVelocityY"),this.bounce=m.bounce.onEmit(this,"bounce"),this.alpha=m.alpha.onEmit(this,"alpha"),m.color.active?this.tint=m.color.onEmit(this,"tint"):this.tint=m.tint.onEmit(this,"tint"),!0},update:function(u,v,p){if(this.lifeCurrent<=0)return this.holdCurrent>0?(this.holdCurrent-=u,this.holdCurrent<=0):!0;if(this.delayCurrent>0)return this.delayCurrent-=u,!1;this.anims&&this.anims.update(0,u);var m=this.emitter,x=m.ops,C=1-this.lifeCurrent/this.life;if(this.lifeT=C,this.x=x.x.onUpdate(this,"x",C,this.x),this.y=x.y.onUpdate(this,"y",C,this.y),m.moveTo){var P=x.moveToX.onUpdate(this,"moveToX",C,m.moveToX),w=x.moveToY.onUpdate(this,"moveToY",C,m.moveToY),M=this.lifeCurrent/1e3;this.velocityX=(P-this.x)/M,this.velocityY=(w-this.y)/M}return this.computeVelocity(m,u,v,p,C),this.scaleX=x.scaleX.onUpdate(this,"scaleX",C,this.scaleX),x.scaleY.active?this.scaleY=x.scaleY.onUpdate(this,"scaleY",C,this.scaleY):this.scaleY=this.scaleX,this.angle=x.rotate.onUpdate(this,"rotate",C,this.angle),this.rotation=h(this.angle),m.getDeathZone(this)?(this.lifeCurrent=0,!0):(this.alpha=y(x.alpha.onUpdate(this,"alpha",C,this.alpha),0,1),x.color.active?this.tint=x.color.onUpdate(this,"color",C,this.tint):this.tint=x.tint.onUpdate(this,"tint",C,this.tint),this.lifeCurrent-=u,this.lifeCurrent<=0&&this.holdCurrent<=0)},computeVelocity:function(u,v,p,m,x){var C=u.ops,P=this.velocityX,w=this.velocityY,M=C.accelerationX.onUpdate(this,"accelerationX",x,this.accelerationX),R=C.accelerationY.onUpdate(this,"accelerationY",x,this.accelerationY),A=C.maxVelocityX.onUpdate(this,"maxVelocityX",x,this.maxVelocityX),L=C.maxVelocityY.onUpdate(this,"maxVelocityY",x,this.maxVelocityY);this.bounce=C.bounce.onUpdate(this,"bounce",x,this.bounce),P+=u.gravityX*p+M*p,w+=u.gravityY*p+R*p,P=y(P,-A,A),w=y(w,-L,L),this.velocityX=P,this.velocityY=w,this.x+=P*p,this.y+=w*p,u.worldMatrix.transformPoint(this.x,this.y,this.worldPosition);for(var F=0;F<m.length;F++){var G=m[F];G.active&&G.update(this,v,p,x)}},setSizeToFrame:function(){},getBounds:function(u){u===void 0&&(u=this.emitter.getWorldTransformMatrix());var v=Math.abs(u.scaleX)*this.scaleX,p=Math.abs(u.scaleY)*this.scaleY,m=this.x,x=this.y,C=this.rotation,P=this.frame.width*v/2,w=this.frame.height*p/2,M=this.bounds,R=new f(m-P,x-w),A=new f(m+P,x-w),L=new f(m-P,x+w),F=new f(m+P,x+w);return C!==0&&(a(R,m,x,C),a(A,m,x,C),a(L,m,x,C),a(F,m,x,C)),u.transformPoint(R.x,R.y,R),u.transformPoint(A.x,A.y,A),u.transformPoint(L.x,L.y,L),u.transformPoint(F.x,F.y,F),M.x=Math.min(R.x,A.x,L.x,F.x),M.y=Math.min(R.y,A.y,L.y,F.y),M.width=Math.max(R.x,A.x,L.x,F.x)-M.x,M.height=Math.max(R.y,A.y,L.y,F.y)-M.y,M},destroy:function(){this.anims&&this.anims.destroy(),this.anims=null,this.emitter=null,this.texture=null,this.frame=null,this.scene=null}});n.exports=c}),69601:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(20286),d=r(87841),h=new o({Extends:y,initialize:function(a,f,c,u,v,p,m,x){v===void 0&&(v=!0),p===void 0&&(p=!0),m===void 0&&(m=!0),x===void 0&&(x=!0),y.call(this,a,f,!0),this.bounds=new d(a,f,c,u),this.collideLeft=v,this.collideRight=p,this.collideTop=m,this.collideBottom=x},update:function(l){var a=this.bounds,f=-l.bounce,c=l.worldPosition;c.x<a.x&&this.collideLeft?(l.x+=a.x-c.x,l.velocityX*=f):c.x>a.right&&this.collideRight&&(l.x-=c.x-a.right,l.velocityX*=f),c.y<a.y&&this.collideTop?(l.y+=a.y-c.y,l.velocityY*=f):c.y>a.bottom&&this.collideBottom&&(l.y-=c.y-a.bottom,l.velocityY*=f)}});n.exports=h}),31600:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(31401),d=r(53774),h=r(43459),l=r(26388),a=r(19909),f=r(76472),c=r(44777),u=r(20696),v=r(95643),p=r(95540),m=r(26546),x=r(24502),C=r(1985),P=r(97022),w=r(86091),M=r(73162),R=r(20074),A=r(269),L=r(56480),F=r(69601),G=r(68875),I=r(87841),B=r(59996),k=r(72905),U=r(90668),H=r(19186),X=r(61340),j=r(26099),Z=r(15994),Y=["active","advance","blendMode","colorEase","deathCallback","deathCallbackScope","duration","emitCallback","emitCallbackScope","follow","frequency","gravityX","gravityY","maxAliveParticles","maxParticles","name","emitting","particleBringToTop","particleClass","radial","sortCallback","sortOrderAsc","sortProperty","stopAfter","tintFill","timeScale","trackVisible","visible"],$=["accelerationX","accelerationY","alpha","angle","bounce","color","delay","hold","lifespan","maxVelocityX","maxVelocityY","moveToX","moveToY","quantity","rotate","scaleX","scaleY","speedX","speedY","tint","x","y"],z=new o({Extends:v,Mixins:[y.AlphaSingle,y.BlendMode,y.Depth,y.Mask,y.Pipeline,y.PostPipeline,y.ScrollFactor,y.Texture,y.Transform,y.Visible,U],initialize:function(K,Q,_,tt,rt){v.call(this,K,"ParticleEmitter"),this.particleClass=L,this.config=null,this.ops={accelerationX:new c("accelerationX",0),accelerationY:new c("accelerationY",0),alpha:new c("alpha",1),angle:new c("angle",{min:0,max:360},!0),bounce:new c("bounce",0),color:new f("color"),delay:new c("delay",0,!0),hold:new c("hold",0,!0),lifespan:new c("lifespan",1e3,!0),maxVelocityX:new c("maxVelocityX",1e4),maxVelocityY:new c("maxVelocityY",1e4),moveToX:new c("moveToX",0),moveToY:new c("moveToY",0),quantity:new c("quantity",1,!0),rotate:new c("rotate",0),scaleX:new c("scaleX",1),scaleY:new c("scaleY",1),speedX:new c("speedX",0,!0),speedY:new c("speedY",0,!0),tint:new c("tint",16777215),x:new c("x",0),y:new c("y",0)},this.radial=!0,this.gravityX=0,this.gravityY=0,this.acceleration=!1,this.moveTo=!1,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.maxParticles=0,this.maxAliveParticles=0,this.stopAfter=0,this.duration=0,this.frequency=0,this.emitting=!0,this.particleBringToTop=!0,this.timeScale=1,this.emitZones=[],this.deathZones=[],this.viewBounds=null,this.follow=null,this.followOffset=new j,this.trackVisible=!1,this.frames=[],this.randomFrame=!0,this.frameQuantity=1,this.anims=[],this.randomAnim=!0,this.animQuantity=1,this.dead=[],this.alive=[],this.counters=new Float32Array(10),this.skipping=!1,this.worldMatrix=new X,this.sortProperty="",this.sortOrderAsc=!0,this.sortCallback=this.depthSortCallback,this.processors=new M(this),this.tintFill=!1,this.initPipeline(),this.initPostPipeline(),this.setPosition(Q,_),this.setTexture(tt),rt&&this.setConfig(rt)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},setConfig:function(V){if(!V)return this;this.config=V;var K=0,Q="",_=this.ops;for(K=0;K<$.length;K++)Q=$[K],_[Q].loadConfig(V);for(K=0;K<Y.length;K++)Q=Y[K],P(V,Q)&&(this[Q]=p(V,Q));if(this.acceleration=this.accelerationX!==0||this.accelerationY!==0,this.moveTo=this.moveToX!==0&&this.moveToY!==0,P(V,"speed")&&(_.speedX.loadConfig(V,"speed"),_.speedY.active=!1),(C(V,["speedX","speedY"])||this.moveTo)&&(this.radial=!1),P(V,"scale")&&(_.scaleX.loadConfig(V,"scale"),_.scaleY.active=!1),P(V,"callbackScope")){var tt=p(V,"callbackScope",null);this.emitCallbackScope=tt,this.deathCallbackScope=tt}if(P(V,"emitZone")&&this.addEmitZone(V.emitZone),P(V,"deathZone")&&this.addDeathZone(V.deathZone),P(V,"bounds")){var rt=this.addParticleBounds(V.bounds);rt.collideLeft=p(V,"collideLeft",!0),rt.collideRight=p(V,"collideRight",!0),rt.collideTop=p(V,"collideTop",!0),rt.collideBottom=p(V,"collideBottom",!0)}return P(V,"followOffset")&&this.followOffset.setFromObject(p(V,"followOffset",0)),P(V,"texture")&&this.setTexture(V.texture),P(V,"frame")?this.setEmitterFrame(V.frame):P(V,"anim")&&this.setAnim(V.anim),P(V,"reserve")&&this.reserve(V.reserve),P(V,"advance")&&this.fastForward(V.advance),this.resetCounters(this.frequency,this.emitting),this.emitting&&this.emit(u.START,this),this},updateConfig:function(V){return V&&(this.config?this.setConfig(A(this.config,V)):this.setConfig(V)),this},toJSON:function(){var V=d(this),K=0,Q="";for(K=0;K<Y.length;K++)Q=Y[K],V[Q]=this[Q];var _=this.ops;for(K=0;K<$.length;K++)Q=$[K],_[Q]&&(V[Q]=_[Q].toJSON());return _.speedY.active||(delete V.speedX,V.speed=_.speedX.toJSON()),this.scaleX===this.scaleY&&(delete V.scaleX,delete V.scaleY,V.scale=_.scaleX.toJSON()),V},resetCounters:function(V,K){var Q=this.counters;Q.fill(0),Q[0]=V,K&&(Q[5]=1)},startFollow:function(V,K,Q,_){return K===void 0&&(K=0),Q===void 0&&(Q=0),_===void 0&&(_=!1),this.follow=V,this.followOffset.set(K,Q),this.trackVisible=_,this},stopFollow:function(){return this.follow=null,this.followOffset.set(0,0),this.trackVisible=!1,this},getFrame:function(){var V=this.frames,K=V.length,Q;return K===1?Q=V[0]:this.randomFrame?Q=m(V):(Q=V[this.currentFrame],this.frameCounter++,this.frameCounter===this.frameQuantity&&(this.frameCounter=0,this.currentFrame++,this.currentFrame===K&&(this.currentFrame=0))),this.texture.get(Q)},setEmitterFrame:function(V,K,Q){K===void 0&&(K=!0),Q===void 0&&(Q=1),this.randomFrame=K,this.frameQuantity=Q,this.currentFrame=0;var _=typeof V;if(this.frames.length=0,Array.isArray(V))this.frames=this.frames.concat(V);else if(_==="string"||_==="number")this.frames.push(V);else if(_==="object"){var tt=V;V=p(tt,"frames",null),V&&(this.frames=this.frames.concat(V));var rt=p(tt,"cycle",!1);this.randomFrame=!rt,this.frameQuantity=p(tt,"quantity",Q)}return this.frames.length===1&&(this.frameQuantity=1,this.randomFrame=!1),this},getAnim:function(){var V=this.anims,K=V.length;if(K===0)return null;if(K===1)return V[0];if(this.randomAnim)return m(V);var Q=V[this.currentAnim];return this.animCounter++,this.animCounter>=this.animQuantity&&(this.animCounter=0,this.currentAnim=Z(this.currentAnim+1,0,K)),Q},setAnim:function(V,K,Q){K===void 0&&(K=!0),Q===void 0&&(Q=1),this.randomAnim=K,this.animQuantity=Q,this.currentAnim=0;var _=typeof V;if(this.anims.length=0,Array.isArray(V))this.anims=this.anims.concat(V);else if(_==="string")this.anims.push(V);else if(_==="object"){var tt=V;V=p(tt,"anims",null),V&&(this.anims=this.anims.concat(V));var rt=p(tt,"cycle",!1);this.randomAnim=!rt,this.animQuantity=p(tt,"quantity",Q)}return this.anims.length===1&&(this.animQuantity=1,this.randomAnim=!1),this},setRadial:function(V){return V===void 0&&(V=!0),this.radial=V,this},addParticleBounds:function(V,K,Q,_,tt,rt,ot,ft){if(typeof V=="object"){var ct=V;V=ct.x,K=ct.y,Q=P(ct,"w")?ct.w:ct.width,_=P(ct,"h")?ct.h:ct.height}return this.addParticleProcessor(new F(V,K,Q,_,tt,rt,ot,ft))},setParticleSpeed:function(V,K){return K===void 0&&(K=V),this.ops.speedX.onChange(V),V===K?this.ops.speedY.active=!1:this.ops.speedY.onChange(K),this.radial=!0,this},setParticleScale:function(V,K){return V===void 0&&(V=1),K===void 0&&(K=V),this.ops.scaleX.onChange(V),this.ops.scaleY.onChange(K),this},setParticleGravity:function(V,K){return this.gravityX=V,this.gravityY=K,this},setParticleAlpha:function(V){return this.ops.alpha.onChange(V),this},setParticleTint:function(V){return this.ops.tint.onChange(V),this},setEmitterAngle:function(V){return this.ops.angle.onChange(V),this},setParticleLifespan:function(V){return this.ops.lifespan.onChange(V),this},setQuantity:function(V){return this.quantity=V,this},setFrequency:function(V,K){return this.frequency=V,this.flowCounter=V>0?V:0,K&&(this.quantity=K),this},addDeathZone:function(V){Array.isArray(V)||(V=[V]);for(var K,Q=[],_=0;_<V.length;_++)if(K=V[_],K instanceof l)Q.push(K);else if(typeof K.contains=="function")K=new l(K,!0),Q.push(K);else{var tt=p(K,"type","onEnter"),rt=p(K,"source",null);if(rt&&typeof rt.contains=="function"){var ot=tt==="onEnter";K=new l(rt,ot),Q.push(K)}}return this.deathZones=this.deathZones.concat(Q),Q},removeDeathZone:function(V){return k(this.deathZones,V),this},clearDeathZones:function(){return this.deathZones.length=0,this},addEmitZone:function(V){Array.isArray(V)||(V=[V]);for(var K,Q=[],_=0;_<V.length;_++)if(K=V[_],K instanceof G||K instanceof a)Q.push(K);else{var tt=p(K,"source",null);if(tt){var rt=p(K,"type","random");if(rt==="random"&&typeof tt.getRandomPoint=="function")K=new G(tt),Q.push(K);else if(rt==="edge"&&typeof tt.getPoints=="function"){var ot=p(K,"quantity",1),ft=p(K,"stepRate",0),ct=p(K,"yoyo",!1),gt=p(K,"seamless",!0),xt=p(K,"total",-1);K=new a(tt,ot,ft,ct,gt,xt),Q.push(K)}}}return this.emitZones=this.emitZones.concat(Q),Q},removeEmitZone:function(V){return k(this.emitZones,V),this.zoneIndex=0,this},clearEmitZones:function(){return this.emitZones.length=0,this.zoneIndex=0,this},getEmitZone:function(V){var K=this.emitZones,Q=K.length;if(Q!==0){var _=K[this.zoneIndex];_.getPoint(V),_.total>-1&&(this.zoneTotal++,this.zoneTotal===_.total&&(this.zoneTotal=0,this.zoneIndex++,this.zoneIndex===Q&&(this.zoneIndex=0)))}},getDeathZone:function(V){for(var K=this.deathZones,Q=0;Q<K.length;Q++){var _=K[Q];if(_.willKill(V))return this.emit(u.DEATH_ZONE,this,V,_),!0}return!1},setEmitZone:function(V){var K;return isFinite(V)?K=V:K=this.emitZones.indexOf(V),K>=0&&(this.zoneIndex=K),this},addParticleProcessor:function(V){return this.processors.exists(V)||(V.emitter&&V.emitter.removeParticleProcessor(V),this.processors.add(V),V.emitter=this),V},removeParticleProcessor:function(V){return this.processors.exists(V)&&(this.processors.remove(V,!0),V.emitter=null),V},getProcessors:function(){return this.processors.getAll("active",!0)},createGravityWell:function(V){return this.addParticleProcessor(new x(V))},reserve:function(V){var K=this.dead;if(this.maxParticles>0){var Q=this.getParticleCount();Q+V>this.maxParticles&&(V=this.maxParticles-(Q+V))}for(var _=0;_<V;_++)K.push(new this.particleClass(this));return this},getAliveParticleCount:function(){return this.alive.length},getDeadParticleCount:function(){return this.dead.length},getParticleCount:function(){return this.getAliveParticleCount()+this.getDeadParticleCount()},atLimit:function(){return this.maxParticles>0&&this.getParticleCount()>=this.maxParticles?!0:this.maxAliveParticles>0&&this.getAliveParticleCount()>=this.maxAliveParticles},onParticleEmit:function(V,K){return V===void 0?(this.emitCallback=null,this.emitCallbackScope=null):typeof V=="function"&&(this.emitCallback=V,K&&(this.emitCallbackScope=K)),this},onParticleDeath:function(V,K){return V===void 0?(this.deathCallback=null,this.deathCallbackScope=null):typeof V=="function"&&(this.deathCallback=V,K&&(this.deathCallbackScope=K)),this},killAll:function(){for(var V=this.dead,K=this.alive;K.length>0;)V.push(K.pop());return this},forEachAlive:function(V,K){for(var Q=this.alive,_=Q.length,tt=0;tt<_;tt++)V.call(K,Q[tt],this);return this},forEachDead:function(V,K){for(var Q=this.dead,_=Q.length,tt=0;tt<_;tt++)V.call(K,Q[tt],this);return this},start:function(V,K){return V===void 0&&(V=0),this.emitting||(V>0&&this.fastForward(V),this.emitting=!0,this.resetCounters(this.frequency,!0),K!==void 0&&(this.duration=Math.abs(K)),this.emit(u.START,this)),this},stop:function(V){return V===void 0&&(V=!1),this.emitting&&(this.emitting=!1,V&&this.killAll(),this.emit(u.STOP,this)),this},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},setSortProperty:function(V,K){return V===void 0&&(V=""),K===void 0&&(K=this.true),this.sortProperty=V,this.sortOrderAsc=K,this.sortCallback=this.depthSortCallback,this},setSortCallback:function(V){return this.sortProperty!==""?V=this.depthSortCallback:V=null,this.sortCallback=V,this},depthSort:function(){return H(this.alive,this.sortCallback.bind(this)),this},depthSortCallback:function(V,K){var Q=this.sortProperty;return this.sortOrderAsc?V[Q]-K[Q]:K[Q]-V[Q]},flow:function(V,K,Q){return K===void 0&&(K=1),this.emitting=!1,this.frequency=V,this.quantity=K,Q!==void 0&&(this.stopAfter=Q),this.start()},explode:function(V,K,Q){this.frequency=-1,this.resetCounters(-1,!0);var _=this.emitParticle(V,K,Q);return this.emit(u.EXPLODE,this,_),_},emitParticleAt:function(V,K,Q){return this.emitParticle(Q,V,K)},emitParticle:function(V,K,Q){if(!this.atLimit()){V===void 0&&(V=this.ops.quantity.onEmit());for(var _=this.dead,tt=this.stopAfter,rt=this.follow?this.follow.x+this.followOffset.x:K,ot=this.follow?this.follow.y+this.followOffset.y:Q,ft=0;ft<V;ft++){var ct=_.pop();if(ct||(ct=new this.particleClass(this)),ct.fire(rt,ot)?(this.particleBringToTop?this.alive.push(ct):this.alive.unshift(ct),this.emitCallback&&this.emitCallback.call(this.emitCallbackScope,ct,this)):this.dead.push(ct),tt>0&&(this.stopCounter++,this.stopCounter>=tt)||this.atLimit())break}return ct}},fastForward:function(V,K){K===void 0&&(K=1e3/60);var Q=0;for(this.skipping=!0;Q<Math.abs(V);)this.preUpdate(0,K),Q+=K;return this.skipping=!1,this},preUpdate:function(V,K){K*=this.timeScale;var Q=K/1e3;this.trackVisible&&(this.visible=this.follow.visible),this.getWorldTransformMatrix(this.worldMatrix);var _=this.getProcessors(),tt=this.alive,rt=this.dead,ot=0,ft=[],ct=tt.length;for(ot=0;ot<ct;ot++){var gt=tt[ot];gt.update(K,Q,_)&&ft.push({index:ot,particle:gt})}if(ct=ft.length,ct>0){var xt=this.deathCallback,Mt=this.deathCallbackScope;for(ot=ct-1;ot>=0;ot--){var St=ft[ot];tt.splice(St.index,1),rt.push(St.particle),xt&&xt.call(Mt,St.particle),St.particle.setPosition()}}if(!this.emitting&&!this.skipping){this.completeFlag===1&&tt.length===0&&(this.completeFlag=0,this.emit(u.COMPLETE,this));return}if(this.frequency===0)this.emitParticle();else if(this.frequency>0)for(this.flowCounter-=K;this.flowCounter<=0;)this.emitParticle(),this.flowCounter+=this.frequency;this.skipping||(this.duration>0&&(this.elapsed+=K,this.elapsed>=this.duration&&this.stop()),this.stopAfter>0&&this.stopCounter>=this.stopAfter&&this.stop())},overlap:function(V){for(var K=this.getWorldTransformMatrix(),Q=this.alive,_=Q.length,tt=[],rt=0;rt<_;rt++){var ot=Q[rt];B(V,ot.getBounds(K))&&tt.push(ot)}return tt},getBounds:function(V,K,Q,_){V===void 0&&(V=0),K===void 0&&(K=0),Q===void 0&&(Q=1e3/60),_===void 0&&(_=new I);var tt=this.getWorldTransformMatrix(),rt,ot,ft=this.alive,ct=!1;if(_.setTo(0,0,0,0),K>0){var gt=0;for(this.skipping=!0;gt<Math.abs(K);){for(this.preUpdate(0,Q),rt=0;rt<ft.length;rt++)ot=ft[rt].getBounds(tt),ct?R(_,ot):(ct=!0,h(ot,_));gt+=Q}this.skipping=!1}else for(rt=0;rt<ft.length;rt++)ot=ft[rt].getBounds(tt),ct?R(_,ot):(ct=!0,h(ot,_));return V>0&&w(_,V,V),_},createEmitter:function(){throw new Error("createEmitter removed. See ParticleEmitter docs for info")},particleX:{get:function(){return this.ops.x.current},set:function(V){this.ops.x.onChange(V)}},particleY:{get:function(){return this.ops.y.current},set:function(V){this.ops.y.onChange(V)}},accelerationX:{get:function(){return this.ops.accelerationX.current},set:function(V){this.ops.accelerationX.onChange(V)}},accelerationY:{get:function(){return this.ops.accelerationY.current},set:function(V){this.ops.accelerationY.onChange(V)}},maxVelocityX:{get:function(){return this.ops.maxVelocityX.current},set:function(V){this.ops.maxVelocityX.onChange(V)}},maxVelocityY:{get:function(){return this.ops.maxVelocityY.current},set:function(V){this.ops.maxVelocityY.onChange(V)}},speed:{get:function(){return this.ops.speedX.current},set:function(V){this.ops.speedX.onChange(V),this.ops.speedY.onChange(V)}},speedX:{get:function(){return this.ops.speedX.current},set:function(V){this.ops.speedX.onChange(V)}},speedY:{get:function(){return this.ops.speedY.current},set:function(V){this.ops.speedY.onChange(V)}},moveToX:{get:function(){return this.ops.moveToX.current},set:function(V){this.ops.moveToX.onChange(V)}},moveToY:{get:function(){return this.ops.moveToY.current},set:function(V){this.ops.moveToY.onChange(V)}},bounce:{get:function(){return this.ops.bounce.current},set:function(V){this.ops.bounce.onChange(V)}},particleScaleX:{get:function(){return this.ops.scaleX.current},set:function(V){this.ops.scaleX.onChange(V)}},particleScaleY:{get:function(){return this.ops.scaleY.current},set:function(V){this.ops.scaleY.onChange(V)}},particleColor:{get:function(){return this.ops.color.current},set:function(V){this.ops.color.onChange(V)}},colorEase:{get:function(){return this.ops.color.easeName},set:function(V){this.ops.color.setEase(V)}},particleTint:{get:function(){return this.ops.tint.current},set:function(V){this.ops.tint.onChange(V)}},particleAlpha:{get:function(){return this.ops.alpha.current},set:function(V){this.ops.alpha.onChange(V)}},lifespan:{get:function(){return this.ops.lifespan.current},set:function(V){this.ops.lifespan.onChange(V)}},particleAngle:{get:function(){return this.ops.angle.current},set:function(V){this.ops.angle.onChange(V)}},particleRotate:{get:function(){return this.ops.rotate.current},set:function(V){this.ops.rotate.onChange(V)}},quantity:{get:function(){return this.ops.quantity.current},set:function(V){this.ops.quantity.onChange(V)}},delay:{get:function(){return this.ops.delay.current},set:function(V){this.ops.delay.onChange(V)}},hold:{get:function(){return this.ops.hold.current},set:function(V){this.ops.hold.onChange(V)}},flowCounter:{get:function(){return this.counters[0]},set:function(V){this.counters[0]=V}},frameCounter:{get:function(){return this.counters[1]},set:function(V){this.counters[1]=V}},animCounter:{get:function(){return this.counters[2]},set:function(V){this.counters[2]=V}},elapsed:{get:function(){return this.counters[3]},set:function(V){this.counters[3]=V}},stopCounter:{get:function(){return this.counters[4]},set:function(V){this.counters[4]=V}},completeFlag:{get:function(){return this.counters[5]},set:function(V){this.counters[5]=V}},zoneIndex:{get:function(){return this.counters[6]},set:function(V){this.counters[6]=V}},zoneTotal:{get:function(){return this.counters[7]},set:function(V){this.counters[7]=V}},currentFrame:{get:function(){return this.counters[8]},set:function(V){this.counters[8]=V}},currentAnim:{get:function(){return this.counters[9]},set:function(V){this.counters[9]=V}},preDestroy:function(){this.texture=null,this.frames=null,this.anims=null,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.emitZones=null,this.deathZones=null,this.bounds=null,this.follow=null,this.counters=null;var V,K=this.ops;for(V=0;V<$.length;V++){var Q=$[V];K[Q].destroy()}for(V=0;V<this.alive.length;V++)this.alive[V].destroy();for(V=0;V<this.dead.length;V++)this.dead[V].destroy();this.ops=null,this.alive=[],this.dead=[],this.worldMatrix.destroy()}});n.exports=z}),9871:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(59996),y=r(61340),d=new y,h=new y,l=new y,a=new y,f=function(c,u,v,p){var m=d,x=h,C=l,P=a;p?(P.loadIdentity(),P.multiply(p),P.translate(u.x,u.y),P.rotate(u.rotation),P.scale(u.scaleX,u.scaleY)):P.applyITRS(u.x,u.y,u.rotation,u.scaleX,u.scaleY);var w=c.currentContext,M=v.roundPixels,R=v.alpha,A=u.alpha,L=u.alive,F=L.length,G=u.viewBounds;if(!(!u.visible||F===0||G&&!o(G,v.worldView))){u.sortCallback&&u.depthSort(),v.addToRenderList(u);var I=u.scrollFactorX,B=u.scrollFactorY;w.save(),w.globalCompositeOperation=c.blendModes[u.blendMode];for(var k=0;k<F;k++){var U=L[k],H=U.alpha*A*R;if(!(H<=0||U.scaleX===0||U.scaleY===0)){C.applyITRS(U.x,U.y,U.rotation,U.scaleX,U.scaleY),m.copyFrom(v.matrix),m.multiplyWithOffset(P,-v.scrollX*I,-v.scrollY*B),C.e=U.x,C.f=U.y,m.multiply(C,x);var X=U.frame,j=X.canvasData;if(j.width>0&&j.height>0){var Z=-X.halfWidth,Y=-X.halfHeight;w.globalAlpha=H,w.save(),x.setToContext(w),M&&(Z=Math.round(Z),Y=Math.round(Y)),w.imageSmoothingEnabled=!X.source.scaleMode,w.drawImage(X.source.image,j.x,j.y,j.width,j.height,Z,Y,j.width,j.height),w.restore()}}}w.restore()}};n.exports=f}),92730:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(25305),y=r(44603),d=r(23568),h=r(95540),l=r(31600);y.register("particles",function(a,f){a===void 0&&(a={});var c=d(a,"key",null),u=h(a,"config",null),v=new l(this.scene,0,0,c);return f!==void 0&&(a.add=f),o(this.scene,v,a),u&&v.setConfig(u),v})}),676:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(39429),y=r(31600);o.register("particles",function(d,h,l,a){return d!==void 0&&typeof d=="string"&&console.warn("ParticleEmitterManager was removed in Phaser 3.60. See documentation for details"),this.displayList.add(new y(this.scene,d,h,l,a))})}),90668:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),y=o,d=o;y=r(21188),d=r(9871),n.exports={renderWebGL:y,renderCanvas:d}}),21188:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(59996),y=r(61340),d=r(70554),h=new y,l=new y,a=new y,f=new y,c=function(u,v,p,m){var x=u.pipelines.set(v.pipeline),C=h,P=l,w=a,M=f;m?(M.loadIdentity(),M.multiply(m),M.translate(v.x,v.y),M.rotate(v.rotation),M.scale(v.scaleX,v.scaleY)):M.applyITRS(v.x,v.y,v.rotation,v.scaleX,v.scaleY);var R=d.getTintAppendFloatAlpha,A=p.alpha,L=v.alpha;u.pipelines.preBatch(v);var F=v.alive,G=F.length,I=v.viewBounds;if(!(G===0||I&&!o(I,p.worldView))){v.sortCallback&&v.depthSort(),p.addToRenderList(v),C.copyFrom(p.matrix),C.multiplyWithOffset(M,-p.scrollX*v.scrollFactorX,-p.scrollY*v.scrollFactorY),u.setBlendMode(v.blendMode),v.mask&&(v.mask.preRenderWebGL(u,v,p),u.pipelines.set(v.pipeline));for(var B=v.tintFill,k,U,H=0;H<G;H++){var X=F[H],j=X.alpha*L*A;if(!(j<=0||X.scaleX===0||X.scaleY===0)){w.applyITRS(X.x,X.y,X.rotation,X.scaleX,X.scaleY),w.e=X.x,w.f=X.y,C.multiply(w,P);var Z=X.frame;Z.glTexture!==U&&(U=Z.glTexture,k=x.setGameObject(v,Z));var Y=-Z.halfWidth,$=-Z.halfHeight,z=P.setQuad(Y,$,Y+Z.width,$+Z.height),V=R(X.tint,j);x.shouldFlush(6)&&(x.flush(),k=x.setGameObject(v,Z)),x.batchQuad(v,z[0],z[1],z[2],z[3],z[4],z[5],z[6],z[7],Z.u0,Z.v0,Z.u1,Z.v1,V,V,V,V,B,U,k)}}v.mask&&v.mask.postRenderWebGL(u,p),u.pipelines.postBatch(v)}};n.exports=c}),20286:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=new o({initialize:function(h,l,a){h===void 0&&(h=0),l===void 0&&(l=0),a===void 0&&(a=!0),this.emitter,this.x=h,this.y=l,this.active=a},update:function(){},destroy:function(){this.emitter=null}});n.exports=y}),9774:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="complete"}),812:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="deathzone"}),30522:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="explode"}),96695:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="start"}),18677:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="stop"}),20696:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={COMPLETE:r(9774),DEATH_ZONE:r(812),EXPLODE:r(30522),START:r(96695),STOP:r(18677)}}),18404:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={EmitterColorOp:r(76472),EmitterOp:r(44777),Events:r(20696),GravityWell:r(24502),Particle:r(56480),ParticleBounds:r(69601),ParticleEmitter:r(31600),ParticleProcessor:r(20286),Zones:r(21024)}}),26388:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=new o({initialize:function(h,l){this.source=h,this.killOnEnter=l},willKill:function(d){var h=d.worldPosition,l=this.source.contains(h.x,h.y);return l&&this.killOnEnter||!l&&!this.killOnEnter}});n.exports=y}),19909:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=new o({initialize:function(h,l,a,f,c,u){f===void 0&&(f=!1),c===void 0&&(c=!0),u===void 0&&(u=-1),this.source=h,this.points=[],this.quantity=l,this.stepRate=a,this.yoyo=f,this.counter=-1,this.seamless=c,this._length=0,this._direction=0,this.total=u,this.updateSource()},updateSource:function(){if(this.points=this.source.getPoints(this.quantity,this.stepRate),this.seamless){var d=this.points[0],h=this.points[this.points.length-1];d.x===h.x&&d.y===h.y&&this.points.pop()}var l=this._length;return this._length=this.points.length,this._length<l&&this.counter>this._length&&(this.counter=this._length-1),this},changeSource:function(d){return this.source=d,this.updateSource()},getPoint:function(d){this._direction===0?(this.counter++,this.counter>=this._length&&(this.yoyo?(this._direction=1,this.counter=this._length-1):this.counter=0)):(this.counter--,this.counter===-1&&(this.yoyo?(this._direction=0,this.counter=0):this.counter=this._length-1));var h=this.points[this.counter];h&&(d.x=h.x,d.y=h.y)}});n.exports=y}),68875:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(26099),d=new o({initialize:function(l){this.source=l,this._tempVec=new y,this.total=-1},getPoint:function(h){var l=this._tempVec;this.source.getRandomPoint(l),h.x=l.x,h.y=l.y}});n.exports=d}),21024:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={DeathZone:r(26388),EdgeZone:r(19909),RandomZone:r(68875)}}),1159:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(31401),d=r(68287),h=new o({Extends:d,Mixins:[y.PathFollower],initialize:function(a,f,c,u,v,p){d.call(this,a,c,u,v,p),this.path=f},preUpdate:function(l,a){this.anims.update(l,a),this.pathUpdate(l)}});n.exports=h}),90145:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(39429),y=r(1159);o.register("follower",function(d,h,l,a,f){var c=new y(this.scene,d,h,l,a,f);return this.displayList.add(c),this.updateList.add(c),c})}),33663:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(9674),y=r(83419),d=r(48803),h=r(90664),l=r(4703),a=r(45650),f=new y({Extends:l,initialize:function(u,v,p,m,x,C,P,w){m||(m="__DEFAULT"),l.call(this,u,v,p,m,x),this.type="Plane",this.anims=new o(this),this.gridWidth,this.gridHeight,this.isTiled,this._checkerboard=null,this.hideCCW=!1,this.setGridSize(C,P,w),this.setSizeToFrame(!1),this.setViewHeight()},originX:{get:function(){return .5}},originY:{get:function(){return .5}},setGridSize:function(c,u,v){c===void 0&&(c=8),u===void 0&&(u=8),v===void 0&&(v=!1);var p=!1;return v&&(p=!0),this.gridWidth=c,this.gridHeight=u,this.isTiled=v,this.clear(),d({mesh:this,widthSegments:c,heightSegments:u,isOrtho:!1,tile:v,flipY:p}),this},setSizeToFrame:function(c){c===void 0&&(c=!0);var u=this.frame;if(this.setPerspective(this.width/u.width,this.height/u.height),this._checkerboard&&this._checkerboard!==this.texture&&this.removeCheckerboard(),!c)return this;var v=this.gridWidth,p=this.gridHeight,m=this.vertices,x=u.u0,C=u.u1,P=u.v0,w=u.v1,M,R,A=0;if(this.isTiled)for(P=u.v1,w=u.v0,R=0;R<p;R++)for(M=0;M<v;M++)m[A++].setUVs(x,w),m[A++].setUVs(x,P),m[A++].setUVs(C,w),m[A++].setUVs(x,P),m[A++].setUVs(C,P),m[A++].setUVs(C,w);else{var L=v+1,F=p+1,G=C-x,I=w-P,B=[];for(R=0;R<F;R++)for(M=0;M<L;M++){var k=x+G*(M/v),U=P+I*(R/p);B.push(k,U)}for(R=0;R<p;R++)for(M=0;M<v;M++){var H=(M+L*R)*2,X=(M+L*(R+1))*2,j=(M+1+L*(R+1))*2,Z=(M+1+L*R)*2;m[A++].setUVs(B[H],B[H+1]),m[A++].setUVs(B[X],B[X+1]),m[A++].setUVs(B[Z],B[Z+1]),m[A++].setUVs(B[X],B[X+1]),m[A++].setUVs(B[j],B[j+1]),m[A++].setUVs(B[Z],B[Z+1])}}return this},setViewHeight:function(c){c===void 0&&(c=this.frame.height);var u=this.fov*(Math.PI/180);this.viewPosition.z=this.height/c/Math.tan(u/2),this.dirtyCache[10]=1},createCheckerboard:function(c,u,v,p,m){c===void 0&&(c=16777215),u===void 0&&(u=255),v===void 0&&(v=255),p===void 0&&(p=255),m===void 0&&(m=128);for(var x=h(c),C=h(u),P=[],w=0;w<16;w++)for(var M=0;M<16;M++)w<8&&M<8||w>7&&M>7?P.push(x.r,x.g,x.b,v):P.push(C.r,C.g,C.b,p);var R=this.scene.sys.textures.addUint8Array(a(),new Uint8Array(P),16,16);return this.removeCheckerboard(),this.setTexture(R),this.setSizeToFrame(),this.setViewHeight(m),this},removeCheckerboard:function(){this._checkerboard&&(this._checkerboard.destroy(),this._checkerboard=null)},play:function(c,u){return this.anims.play(c,u)},playReverse:function(c,u){return this.anims.playReverse(c,u)},playAfterDelay:function(c,u){return this.anims.playAfterDelay(c,u)},playAfterRepeat:function(c,u){return this.anims.playAfterRepeat(c,u)},stop:function(){return this.anims.stop()},stopAfterDelay:function(c){return this.anims.stopAfterDelay(c)},stopAfterRepeat:function(c){return this.anims.stopAfterRepeat(c)},stopOnFrame:function(c){return this.anims.stopOnFrame(c)},preUpdate:function(c,u){l.prototype.preUpdate.call(this,c,u),this.anims.update(c,u)},preDestroy:function(){this.clear(),this.removeCheckerboard(),this.anims.destroy(),this.anims=void 0,this.debugCallback=null,this.debugGraphic=null}});n.exports=f}),56015:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(25305),y=r(13059),d=r(44603),h=r(23568),l=r(35154),a=r(33663);d.register("plane",function(f,c){f===void 0&&(f={});var u=h(f,"key",null),v=h(f,"frame",null),p=l(f,"width",8),m=l(f,"height",8),x=l(f,"tile",!1),C=new a(this.scene,0,0,u,v,p,m,x);c!==void 0&&(f.add=c);var P=l(f,"checkerboard",null);if(P){var w=l(P,"color1",16777215),M=l(P,"color2",255),R=l(P,"alpha1",255),A=l(P,"alpha2",255),L=l(P,"height",128);C.createCheckerboard(w,M,R,A,L)}return o(this.scene,C,f),y(C,f),C})}),30985:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(33663),y=r(39429);y.register("plane",function(d,h,l,a,f,c,u){return this.displayList.add(new o(this.scene,d,h,l,a,f,c,u))})}),80321:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(31401),d=r(95643),h=r(30100),l=r(36060),a=r(67277),f=new o({Extends:d,Mixins:[y.AlphaSingle,y.BlendMode,y.Depth,y.Mask,y.Pipeline,y.PostPipeline,y.ScrollFactor,y.Transform,y.Visible,a],initialize:function(u,v,p,m,x,C,P){m===void 0&&(m=16777215),x===void 0&&(x=128),C===void 0&&(C=1),P===void 0&&(P=.1),d.call(this,u,"PointLight"),this.initPipeline(l.POINTLIGHT_PIPELINE),this.initPostPipeline(),this.setPosition(v,p),this.color=h(m),this.intensity=C,this.attenuation=P,this.width=x*2,this.height=x*2,this._radius=x},radius:{get:function(){return this._radius},set:function(c){this._radius=c,this.width=c*2,this.height=c*2}},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this._radius}},displayOriginY:{get:function(){return this._radius}}});n.exports=f}),39829:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(25305),y=r(44603),d=r(23568),h=r(80321);y.register("pointlight",function(l,a){l===void 0&&(l={});var f=d(l,"color",16777215),c=d(l,"radius",128),u=d(l,"intensity",1),v=d(l,"attenuation",.1),p=new h(this.scene,0,0,f,c,u,v);return a!==void 0&&(l.add=a),o(this.scene,p,l),p})}),71255:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(39429),y=r(80321);o.register("pointlight",function(d,h,l,a,f,c){return this.displayList.add(new y(this.scene,d,h,l,a,f,c))})}),67277:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),y=o,d=o;y=r(57787),n.exports={renderWebGL:y,renderCanvas:d}}),57787:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(91296),y=function(d,h,l,a){l.addToRenderList(h);var f=d.pipelines.set(h.pipeline),c=o(h,l,a).calc,u=h.width,v=h.height,p=-h._radius,m=-h._radius,x=p+u,C=m+v,P=c.getX(0,0),w=c.getY(0,0),M=c.getX(p,m),R=c.getY(p,m),A=c.getX(p,C),L=c.getY(p,C),F=c.getX(x,C),G=c.getY(x,C),I=c.getX(x,m),B=c.getY(x,m);d.pipelines.preBatch(h),f.batchPointLight(h,l,M,R,A,L,F,G,I,B,P,w),d.pipelines.postBatch(h)};n.exports=y}),591:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(81320),d=r(88571),h=new o({Extends:d,initialize:function(a,f,c,u,v,p){f===void 0&&(f=0),c===void 0&&(c=0),u===void 0&&(u=32),v===void 0&&(v=32),p===void 0&&(p=!0);var m=new y(a.sys.textures,"",u,v,p);d.call(this,a,f,c,m),this.type="RenderTexture",this.camera=this.texture.camera,this._saved=!1},setSize:function(l,a){this.width=l,this.height=a,this.updateDisplayOrigin();var f=this.input;return f&&!f.customHitArea&&(f.hitArea.width=l,f.hitArea.height=a),this},resize:function(l,a,f){return this.texture.setSize(l,a,f),this.setSize(this.texture.width,this.texture.height),this},saveTexture:function(l){var a=this.texture;return a.key=l,a.manager.addDynamicTexture(a)&&(this._saved=!0),a},fill:function(l,a,f,c,u,v){return this.texture.fill(l,a,f,c,u,v),this},clear:function(){return this.texture.clear(),this},stamp:function(l,a,f,c,u){return this.texture.stamp(l,a,f,c,u),this},erase:function(l,a,f){return this.texture.erase(l,a,f),this},draw:function(l,a,f,c,u){return this.texture.draw(l,a,f,c,u),this},drawFrame:function(l,a,f,c,u,v){return this.texture.drawFrame(l,a,f,c,u,v),this},repeat:function(l,a,f,c,u,v,p,m,x){return this.texture.repeat(l,a,f,c,u,v,p,m,x),this},beginDraw:function(){return this.texture.beginDraw(),this},batchDraw:function(l,a,f,c,u){return this.texture.batchDraw(l,a,f,c,u),this},batchDrawFrame:function(l,a,f,c,u,v){return this.texture.batchDrawFrame(l,a,f,c,u,v),this},endDraw:function(l){return this.texture.endDraw(l),this},snapshotArea:function(l,a,f,c,u,v,p){return this.texture.snapshotArea(l,a,f,c,u,v,p),this},snapshot:function(l,a,f){return this.snapshotArea(0,0,this.width,this.height,l,a,f)},snapshotPixel:function(l,a,f){return this.snapshotArea(l,a,1,1,f,"pixel")},preDestroy:function(){this.camera=null,this._saved||this.texture.destroy()}});n.exports=h}),34495:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(25305),y=r(44603),d=r(23568),h=r(591);y.register("renderTexture",function(l,a){l===void 0&&(l={});var f=d(l,"x",0),c=d(l,"y",0),u=d(l,"width",32),v=d(l,"height",32),p=new h(this.scene,f,c,u,v);return a!==void 0&&(l.add=a),o(this.scene,p,l),p})}),60505:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(39429),y=r(591);o.register("renderTexture",function(d,h,l,a){return this.displayList.add(new y(this.scene,d,h,l,a))})}),77757:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(9674),y=r(83419),d=r(31401),h=r(95643),l=r(36060),a=r(38745),f=r(26099),c=new y({Extends:h,Mixins:[d.AlphaSingle,d.BlendMode,d.Depth,d.Flip,d.Mask,d.Pipeline,d.PostPipeline,d.Size,d.Texture,d.Transform,d.Visible,d.ScrollFactor,a],initialize:function(v,p,m,x,C,P,w,M,R){x===void 0&&(x="__DEFAULT"),P===void 0&&(P=2),w===void 0&&(w=!0),h.call(this,v,"Rope"),this.anims=new o(this),this.points=P,this.vertices,this.uv,this.colors,this.alphas,this.tintFill=x==="__DEFAULT",this.dirty=!1,this.horizontal=w,this._flipX=!1,this._flipY=!1,this._perp=new f,this.debugCallback=null,this.debugGraphic=null,this.setTexture(x,C),this.setPosition(p,m),this.setSizeToFrame(),this.initPipeline(l.ROPE_PIPELINE),this.initPostPipeline(),Array.isArray(P)&&this.resizeArrays(P.length),this.setPoints(P,M,R),this.updateVertices()},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(u,v){var p=this.anims.currentFrame;this.anims.update(u,v),this.anims.currentFrame!==p&&(this.updateUVs(),this.updateVertices())},play:function(u,v,p){return this.anims.play(u,v,p),this},setDirty:function(){return this.dirty=!0,this},setHorizontal:function(u,v,p){return u===void 0&&(u=this.points.length),this.horizontal?this:(this.horizontal=!0,this.setPoints(u,v,p))},setVertical:function(u,v,p){return u===void 0&&(u=this.points.length),this.horizontal?(this.horizontal=!1,this.setPoints(u,v,p)):this},setTintFill:function(u){return u===void 0&&(u=!1),this.tintFill=u,this},setAlphas:function(u,v){var p=this.points.length;if(p<1)return this;var m=this.alphas;u===void 0?u=[1]:!Array.isArray(u)&&v===void 0&&(u=[u]);var x,C=0;if(v!==void 0)for(x=0;x<p;x++)C=x*2,m[C]=u,m[C+1]=v;else if(u.length===p)for(x=0;x<p;x++)C=x*2,m[C]=u[x],m[C+1]=u[x];else{var P=u[0];for(x=0;x<p;x++)C=x*2,u.length>C&&(P=u[C]),m[C]=P,u.length>C+1&&(P=u[C+1]),m[C+1]=P}return this},setColors:function(u){var v=this.points.length;if(v<1)return this;var p=this.colors;u===void 0?u=[16777215]:Array.isArray(u)||(u=[u]);var m,x=0;if(u.length===v)for(m=0;m<v;m++)x=m*2,p[x]=u[m],p[x+1]=u[m];else{var C=u[0];for(m=0;m<v;m++)x=m*2,u.length>x&&(C=u[x]),p[x]=C,u.length>x+1&&(C=u[x+1]),p[x+1]=C}return this},setPoints:function(u,v,p){if(u===void 0&&(u=2),typeof u=="number"){var m=u;m<2&&(m=2),u=[];var x,C,P;if(this.horizontal)for(P=-this.frame.halfWidth,C=this.frame.width/(m-1),x=0;x<m;x++)u.push({x:P+x*C,y:0});else for(P=-this.frame.halfHeight,C=this.frame.height/(m-1),x=0;x<m;x++)u.push({x:0,y:P+x*C})}var w=u.length,M=this.points.length;return w<1?(console.warn("Rope: Not enough points given"),this):(w===1&&(u.unshift({x:0,y:0}),w++),M!==w&&this.resizeArrays(w),this.dirty=!0,this.points=u,this.updateUVs(),v!=null&&this.setColors(v),p!=null&&this.setAlphas(p),this)},updateUVs:function(){for(var u=this.uv,v=this.points.length,p=this.frame.u0,m=this.frame.v0,x=this.frame.u1,C=this.frame.v1,P=(x-p)/(v-1),w=(C-m)/(v-1),M=0;M<v;M++){var R=M*4,A,L,F,G;this.horizontal?(this._flipX?(A=x-M*P,F=x-M*P):(A=p+M*P,F=p+M*P),this._flipY?(L=C,G=m):(L=m,G=C)):(this._flipX?(A=p,F=x):(A=x,F=p),this._flipY?(L=C-M*w,G=C-M*w):(L=m+M*w,G=m+M*w)),u[R+0]=A,u[R+1]=L,u[R+2]=F,u[R+3]=G}return this},resizeArrays:function(u){var v=this.colors,p=this.alphas;this.vertices=new Float32Array(u*4),this.uv=new Float32Array(u*4),v=new Uint32Array(u*2),p=new Float32Array(u*2);for(var m=0;m<u*2;m++)v[m]=16777215,p[m]=1;return this.colors=v,this.alphas=p,this.dirty=!0,this},updateVertices:function(){var u=this._perp,v=this.points,p=this.vertices,m=v.length;if(this.dirty=!1,!(m<1)){for(var x,C=v[0],P=this.horizontal?this.frame.halfHeight:this.frame.halfWidth,w=0;w<m;w++){var M=v[w],R=w*4;w<m-1?x=v[w+1]:x=M,u.x=x.y-C.y,u.y=-(x.x-C.x);var A=u.length();u.x/=A,u.y/=A,u.x*=P,u.y*=P,p[R]=M.x+u.x,p[R+1]=M.y+u.y,p[R+2]=M.x-u.x,p[R+3]=M.y-u.y,C=M}return this}},setDebug:function(u,v){return this.debugGraphic=u,!u&&!v?this.debugCallback=null:v?this.debugCallback=v:this.debugCallback=this.renderDebugVerts,this},renderDebugVerts:function(u,v,p){var m=u.debugGraphic,x=p[0],C=p[1],P=p[2],w=p[3];m.lineBetween(x,C,P,w);for(var M=4;M<v;M+=4){var R=p[M+0],A=p[M+1],L=p[M+2],F=p[M+3];m.lineBetween(x,C,R,A),m.lineBetween(P,w,L,F),m.lineBetween(P,w,R,A),m.lineBetween(R,A,L,F),x=R,C=A,P=L,w=F}},preDestroy:function(){this.anims.destroy(),this.anims=void 0,this.points=null,this.vertices=null,this.uv=null,this.colors=null,this.alphas=null,this.debugCallback=null,this.debugGraphic=null},flipX:{get:function(){return this._flipX},set:function(u){return this._flipX=u,this.updateUVs()}},flipY:{get:function(){return this._flipY},set:function(u){return this._flipY=u,this.updateUVs()}}});n.exports=c}),95262:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(){};n.exports=T}),26209:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(25305),y=r(44603),d=r(23568),h=r(35154),l=r(77757);y.register("rope",function(a,f){a===void 0&&(a={});var c=d(a,"key",null),u=d(a,"frame",null),v=d(a,"horizontal",!0),p=h(a,"points",void 0),m=h(a,"colors",void 0),x=h(a,"alphas",void 0),C=new l(this.scene,0,0,c,u,p,v,m,x);return f!==void 0&&(a.add=f),o(this.scene,C,a),C})}),96819:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(77757),y=r(39429);y.register("rope",function(d,h,l,a,f,c,u,v){return this.displayList.add(new o(this.scene,d,h,l,a,f,c,u,v))})}),38745:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),y=o,d=o;y=r(20439),d=r(95262),n.exports={renderWebGL:y,renderCanvas:d}}),20439:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(91296),y=r(70554),d=function(h,l,a,f){a.addToRenderList(l);var c=h.pipelines.set(l.pipeline,l),u=o(l,a,f).calc,v=l.vertices,p=l.uv,m=l.colors,x=l.alphas,C=l.alpha,P=y.getTintAppendFloatAlpha,w=a.roundPixels,M=v.length,R=Math.floor(M*.5);c.flush(),h.pipelines.preBatch(l);var A=c.setGameObject(l),L=c.vertexViewF32,F=c.vertexViewU32,G=c.vertexCount*c.currentShader.vertexComponentCount-1,I=0,B=l.tintFill;l.dirty&&l.updateVertices();for(var k=l.debugCallback,U=[],H=0;H<M;H+=2){var X=v[H+0],j=v[H+1],Z=X*u.a+j*u.c+u.e,Y=X*u.b+j*u.d+u.f;w&&(Z=Math.round(Z),Y=Math.round(Y)),L[++G]=Z,L[++G]=Y,L[++G]=p[H+0],L[++G]=p[H+1],L[++G]=A,L[++G]=B,F[++G]=P(m[I],a.alpha*(x[I]*C)),I++,k&&(U[H+0]=Z,U[H+1]=Y)}k&&k.call(l,l,M,U),c.vertexCount+=R,c.currentBatch.count=c.vertexCount-c.currentBatch.start,h.pipelines.postBatch(l)};n.exports=d}),20071:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(31401),d=r(95643),h=r(95540),l=r(79291),a=r(61622),f=r(25479),c=r(61340),u=r(95428),v=r(92503),p=new o({Extends:d,Mixins:[y.ComputedSize,y.Depth,y.GetBounds,y.Mask,y.Origin,y.ScrollFactor,y.Transform,y.Visible,f],initialize:function(x,C,P,w,M,R,A,L){P===void 0&&(P=0),w===void 0&&(w=0),M===void 0&&(M=128),R===void 0&&(R=128),d.call(this,x,"Shader"),this.blendMode=-1,this.shader;var F=x.sys.renderer;this.renderer=F,this.gl=F.gl,this.vertexData=new ArrayBuffer(6*(Float32Array.BYTES_PER_ELEMENT*2)),this.vertexBuffer=F.createVertexBuffer(this.vertexData.byteLength,this.gl.STREAM_DRAW),this._deferSetShader=null,this._deferProjOrtho=null,this.program=null,this.bytes=new Uint8Array(this.vertexData),this.vertexViewF32=new Float32Array(this.vertexData),this._tempMatrix1=new c,this._tempMatrix2=new c,this._tempMatrix3=new c,this.viewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.uniforms={},this.pointer=null,this._rendererWidth=F.width,this._rendererHeight=F.height,this._textureCount=0,this.framebuffer=null,this.glTexture=null,this.renderToTexture=!1,this.texture=null,this.setPosition(P,w),this.setSize(M,R),this.setOrigin(.5,.5),this.setShader(C,A,L),this.renderer.on(v.RESTORE_WEBGL,this.onContextRestored,this)},willRender:function(m){return this.renderToTexture?!0:!(d.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&m.id)},setRenderToTexture:function(m,x){if(!this.renderToTexture){var C=this.width,P=this.height,w=this.renderer;this.glTexture=w.createTextureFromSource(null,C,P,0),this.framebuffer=w.createFramebuffer(C,P,this.glTexture,!1),this._rendererWidth=C,this._rendererHeight=P,this.renderToTexture=!0,this.projOrtho(0,this.width,this.height,0),m&&(this.texture=this.scene.sys.textures.addGLTexture(m,this.glTexture))}return this.shader&&(w.pipelines.clear(),this.load(),this.flush(),w.pipelines.rebind()),this},setShader:function(m,x,C){if(this.renderer.contextLost)return this._deferSetShader={key:m,textures:x,textureData:C},this;if(x===void 0&&(x=[]),typeof m=="string"){var P=this.scene.sys.cache.shader;if(!P.has(m))return console.warn("Shader missing: "+m),this;this.shader=P.get(m)}else this.shader=m;var w=this.gl,M=this.renderer;this.program&&M.deleteProgram(this.program);var R=M.createProgram(this.shader.vertexSrc,this.shader.fragmentSrc);w.uniformMatrix4fv(w.getUniformLocation(R.webGLProgram,"uViewMatrix"),!1,this.viewMatrix),w.uniformMatrix4fv(w.getUniformLocation(R.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),w.uniform2f(w.getUniformLocation(R.webGLProgram,"uResolution"),this.width,this.height),this.program=R;var A=new Date,L={resolution:{type:"2f",value:{x:this.width,y:this.height}},time:{type:"1f",value:0},mouse:{type:"2f",value:{x:this.width/2,y:this.height/2}},date:{type:"4fv",value:[A.getFullYear(),A.getMonth(),A.getDate(),A.getHours()*60*60+A.getMinutes()*60+A.getSeconds()]},sampleRate:{type:"1f",value:44100},iChannel0:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel1:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel2:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel3:{type:"sampler2D",value:null,textureData:{repeat:!0}}};this.shader.uniforms?this.uniforms=l(!0,{},this.shader.uniforms,L):this.uniforms=L;for(var F=0;F<4;F++)x[F]&&this.setSampler2D("iChannel"+F,x[F],F,C);return this.initUniforms(),this.projOrtho(0,this._rendererWidth,this._rendererHeight,0),this},setPointer:function(m){return this.pointer=m,this},projOrtho:function(m,x,C,P){if(this.renderer.contextLost){this._deferProjOrtho={left:m,right:x,bottom:C,top:P};return}var w=-1e3,M=1e3,R=1/(m-x),A=1/(C-P),L=1/(w-M),F=this.projectionMatrix;F[0]=-2*R,F[5]=-2*A,F[10]=2*L,F[12]=(m+x)*R,F[13]=(P+C)*A,F[14]=(M+w)*L;var G=this.program,I=this.gl,B=this.renderer;B.setProgram(G),I.uniformMatrix4fv(I.getUniformLocation(G.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),this._rendererWidth=x,this._rendererHeight=C},initUniforms:function(){var m=this.renderer.glFuncMap,x=this.program;this._textureCount=0;for(var C in this.uniforms){var P=this.uniforms[C],w=P.type,M=m[w];P.uniformLocation=this.renderer.createUniformLocation(x,C),w!=="sampler2D"&&(P.glMatrix=M.matrix,P.glValueLength=M.length,P.glFunc=M.func)}},setSampler2DBuffer:function(m,x,C,P,w,M){w===void 0&&(w=0),M===void 0&&(M={});var R=this.uniforms[m];return R.value=x,M.width=C,M.height=P,R.textureData=M,this._textureCount=w,this.initSampler2D(R),this},setSampler2D:function(m,x,C,P){C===void 0&&(C=0);var w=this.scene.sys.textures;if(w.exists(x)){var M=w.getFrame(x);if(M.glTexture&&M.glTexture.isRenderTexture)return this.setSampler2DBuffer(m,M.glTexture,M.width,M.height,C,P);var R=this.uniforms[m],A=M.source;R.textureKey=x,R.source=A.image,R.value=M.glTexture,A.isGLTexture&&(P||(P={}),P.width=A.width,P.height=A.height),P&&(R.textureData=P),this._textureCount=C,this.initSampler2D(R)}return this},setUniform:function(m,x){return a(this.uniforms,m,x),this},getUniform:function(m){return h(this.uniforms,m,null)},setChannel0:function(m,x){return this.setSampler2D("iChannel0",m,0,x)},setChannel1:function(m,x){return this.setSampler2D("iChannel1",m,1,x)},setChannel2:function(m,x){return this.setSampler2D("iChannel2",m,2,x)},setChannel3:function(m,x){return this.setSampler2D("iChannel3",m,3,x)},initSampler2D:function(m){if(m.value){var x=m.textureData;if(x&&!m.value.isRenderTexture){var C=this.gl,P=m.value,w=C[h(x,"magFilter","linear").toUpperCase()],M=C[h(x,"minFilter","linear").toUpperCase()],R=C[h(x,"wrapS","repeat").toUpperCase()],A=C[h(x,"wrapT","repeat").toUpperCase()],L=C[h(x,"format","rgba").toUpperCase()],F=h(x,"flipY",!1),G=h(x,"width",P.width),I=h(x,"height",P.height),B=h(x,"source",P.pixels);x.repeat&&(R=C.REPEAT,A=C.REPEAT),x.width&&(B=null),P.update(B,G,I,F,R,A,M,w,L)}this.renderer.setProgram(this.program),this._textureCount++}},syncUniforms:function(){var m=this.gl,x=this.uniforms,C,P,w,M,R,A=0;for(var L in x)C=x[L],w=C.glFunc,P=C.glValueLength,M=C.uniformLocation,R=C.value,R!==null&&(P===1?C.glMatrix?w.call(m,M.webGLUniformLocation,C.transpose,R):w.call(m,M.webGLUniformLocation,R):P===2?w.call(m,M.webGLUniformLocation,R.x,R.y):P===3?w.call(m,M.webGLUniformLocation,R.x,R.y,R.z):P===4?w.call(m,M.webGLUniformLocation,R.x,R.y,R.z,R.w):C.type==="sampler2D"&&(m.activeTexture(m.TEXTURE0+A),m.bindTexture(m.TEXTURE_2D,R.webGLTexture),m.uniform1i(M.webGLUniformLocation,A),A++))},load:function(m){var x=this.gl,C=this.width,P=this.height,w=this.renderer,M=this.program,R=this.viewMatrix;if(!this.renderToTexture){var A=-this._displayOriginX,L=-this._displayOriginY;R[0]=m[0],R[1]=m[1],R[4]=m[2],R[5]=m[3],R[8]=m[4],R[9]=m[5],R[12]=R[0]*A+R[4]*L,R[13]=R[1]*A+R[5]*L}x.useProgram(M.webGLProgram),x.uniformMatrix4fv(x.getUniformLocation(M.webGLProgram,"uViewMatrix"),!1,R),x.uniformMatrix4fv(x.getUniformLocation(M.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),x.uniform2f(x.getUniformLocation(M.webGLProgram,"uResolution"),this.width,this.height);var F=this.uniforms,G=F.resolution;G.value.x=C,G.value.y=P,F.time.value=w.game.loop.getDuration();var I=this.pointer;if(I){var B=F.mouse,k=I.x/C,U=1-I.y/P;B.value.x=k.toFixed(2),B.value.y=U.toFixed(2)}this.syncUniforms()},flush:function(){var m=this.width,x=this.height,C=this.program,P=this.gl,w=this.vertexBuffer,M=this.renderer,R=Float32Array.BYTES_PER_ELEMENT*2;this.renderToTexture&&(M.setFramebuffer(this.framebuffer),P.clearColor(0,0,0,0),P.clear(P.COLOR_BUFFER_BIT)),P.bindBuffer(P.ARRAY_BUFFER,w.webGLBuffer);var A=P.getAttribLocation(C.webGLProgram,"inPosition");A!==-1&&(P.enableVertexAttribArray(A),P.vertexAttribPointer(A,2,P.FLOAT,!1,R,0));var L=this.vertexViewF32;L[3]=x,L[4]=m,L[5]=x,L[8]=m,L[9]=x,L[10]=m;var F=6;P.bufferSubData(P.ARRAY_BUFFER,0,this.bytes.subarray(0,F*R)),P.drawArrays(P.TRIANGLES,0,F),this.renderToTexture&&M.setFramebuffer(null,!1)},setAlpha:function(){},setBlendMode:function(){},onContextRestored:function(){if(this._deferSetShader!==null){var m=this._deferSetShader.key,x=this._deferSetShader.textures,C=this._deferSetShader.textureData;this._deferSetShader=null,this.setShader(m,x,C)}if(this._deferProjOrtho!==null){var P=this._deferProjOrtho.left,w=this._deferProjOrtho.right,M=this._deferProjOrtho.bottom,R=this._deferProjOrtho.top;this._deferProjOrtho=null,this.projOrtho(P,w,M,R)}},preDestroy:function(){var m=this.renderer;m.off(v.RESTORE_WEBGL,this.onContextRestored,this),m.deleteProgram(this.program),m.deleteBuffer(this.vertexBuffer),this.renderToTexture&&(m.deleteFramebuffer(this.framebuffer),this.texture.destroy(),this.framebuffer=null,this.glTexture=null,this.texture=null),u(this.uniforms,function(x){m.deleteUniformLocation(x.uniformLocation),x.uniformLocation=null})}});n.exports=p}),80464:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(){};n.exports=T}),54935:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(25305),y=r(44603),d=r(23568),h=r(20071);y.register("shader",function(l,a){l===void 0&&(l={});var f=d(l,"key",null),c=d(l,"x",0),u=d(l,"y",0),v=d(l,"width",128),p=d(l,"height",128),m=new h(this.scene,f,c,u,v,p);return a!==void 0&&(l.add=a),o(this.scene,m,l),m})}),74177:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(20071),y=r(39429);y.register("shader",function(d,h,l,a,f,c,u){return this.displayList.add(new o(this.scene,d,h,l,a,f,c,u))})}),25479:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),y=o,d=o;y=r(19257),d=r(80464),n.exports={renderWebGL:y,renderCanvas:d}}),19257:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(91296),y=function(d,h,l,a){if(h.shader){if(l.addToRenderList(h),d.pipelines.clear(),h.renderToTexture)h.load(),h.flush();else{var f=o(h,l,a).calc;(d.width!==h._rendererWidth||d.height!==h._rendererHeight)&&h.projOrtho(0,d.width,d.height,0),h.load(f.matrix),h.flush()}d.pipelines.rebind()}};n.exports=y}),10441:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(70554),y=function(d,h,l,a,f,c){for(var u=o.getTintAppendFloatAlpha(l.fillColor,l.fillAlpha*a),v=l.pathData,p=l.pathIndexes,m=0;m<p.length;m+=3){var x=p[m]*2,C=p[m+1]*2,P=p[m+2]*2,w=v[x+0]-f,M=v[x+1]-c,R=v[C+0]-f,A=v[C+1]-c,L=v[P+0]-f,F=v[P+1]-c,G=h.getX(w,M),I=h.getY(w,M),B=h.getX(R,A),k=h.getY(R,A),U=h.getX(L,F),H=h.getY(L,F);d.batchTri(l,G,I,B,k,U,H,0,0,1,1,u,u,u,2)}};n.exports=y}),65960:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y,d){var h=y||o.fillColor,l=d||o.fillAlpha,a=(h&16711680)>>>16,f=(h&65280)>>>8,c=h&255;r.fillStyle="rgba("+a+","+f+","+c+","+l+")"};n.exports=T}),75177:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y,d){var h=y||o.strokeColor,l=d||o.strokeAlpha,a=(h&16711680)>>>16,f=(h&65280)>>>8,c=h&255;r.strokeStyle="rgba("+a+","+f+","+c+","+l+")",r.lineWidth=o.lineWidth};n.exports=T}),17803:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(31401),d=r(95643),h=r(23031),l=new o({Extends:d,Mixins:[y.AlphaSingle,y.BlendMode,y.Depth,y.GetBounds,y.Mask,y.Origin,y.Pipeline,y.PostPipeline,y.ScrollFactor,y.Transform,y.Visible],initialize:function(f,c,u){c===void 0&&(c="Shape"),d.call(this,f,c),this.geom=u,this.pathData=[],this.pathIndexes=[],this.fillColor=16777215,this.fillAlpha=1,this.strokeColor=16777215,this.strokeAlpha=1,this.lineWidth=1,this.isFilled=!1,this.isStroked=!1,this.closePath=!0,this._tempLine=new h,this.width=0,this.height=0,this.initPipeline(),this.initPostPipeline()},setFillStyle:function(a,f){return f===void 0&&(f=1),a===void 0?this.isFilled=!1:(this.fillColor=a,this.fillAlpha=f,this.isFilled=!0),this},setStrokeStyle:function(a,f,c){return c===void 0&&(c=1),a===void 0?this.isStroked=!1:(this.lineWidth=a,this.strokeColor=f,this.strokeAlpha=c,this.isStroked=!0),this},setClosePath:function(a){return this.closePath=a,this},setSize:function(a,f){return this.width=a,this.height=f,this},setDisplaySize:function(a,f){return this.displayWidth=a,this.displayHeight=f,this},preDestroy:function(){this.geom=null,this._tempLine=null,this.pathData=[],this.pathIndexes=[]},displayWidth:{get:function(){return this.scaleX*this.width},set:function(a){this.scaleX=a/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(a){this.scaleY=a/this.height}}});n.exports=l}),34682:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(70554),y=function(d,h,l,a,f){var c=d.strokeTint,u=o.getTintAppendFloatAlpha(h.strokeColor,h.strokeAlpha*l);c.TL=u,c.TR=u,c.BL=u,c.BR=u;var v=h.pathData,p=v.length-1,m=h.lineWidth,x=m/2,C=v[0]-a,P=v[1]-f;h.closePath||(p-=2);for(var w=2;w<p;w+=2){var M=v[w]-a,R=v[w+1]-f;d.batchLine(C,P,M,R,x,x,m,w-2,h.closePath?w===p-1:!1),C=M,P=R}};n.exports=y}),23629:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(13609),y=r(83419),d=r(39506),h=r(94811),l=r(96503),a=r(36383),f=r(17803),c=new y({Extends:f,Mixins:[o],initialize:function(v,p,m,x,C,P,w,M,R){p===void 0&&(p=0),m===void 0&&(m=0),x===void 0&&(x=128),C===void 0&&(C=0),P===void 0&&(P=360),w===void 0&&(w=!1),f.call(this,v,"Arc",new l(0,0,x)),this._startAngle=C,this._endAngle=P,this._anticlockwise=w,this._iterations=.01,this.setPosition(p,m);var A=this.geom.radius*2;this.setSize(A,A),M!==void 0&&this.setFillStyle(M,R),this.updateDisplayOrigin(),this.updateData()},iterations:{get:function(){return this._iterations},set:function(u){this._iterations=u,this.updateData()}},radius:{get:function(){return this.geom.radius},set:function(u){this.geom.radius=u;var v=u*2;this.setSize(v,v),this.updateDisplayOrigin(),this.updateData()}},startAngle:{get:function(){return this._startAngle},set:function(u){this._startAngle=u,this.updateData()}},endAngle:{get:function(){return this._endAngle},set:function(u){this._endAngle=u,this.updateData()}},anticlockwise:{get:function(){return this._anticlockwise},set:function(u){this._anticlockwise=u,this.updateData()}},setRadius:function(u){return this.radius=u,this},setIterations:function(u){return u===void 0&&(u=.01),this.iterations=u,this},setStartAngle:function(u,v){return this._startAngle=u,v!==void 0&&(this._anticlockwise=v),this.updateData()},setEndAngle:function(u,v){return this._endAngle=u,v!==void 0&&(this._anticlockwise=v),this.updateData()},updateData:function(){var u=this._iterations,v=u,p=this.geom.radius,m=d(this._startAngle),x=d(this._endAngle),C=this._anticlockwise,P=p,w=p;x-=m,C?x<-a.PI2?x=-a.PI2:x>0&&(x=-a.PI2+x%a.PI2):x>a.PI2?x=a.PI2:x<0&&(x=a.PI2+x%a.PI2);for(var M=[P+Math.cos(m)*p,w+Math.sin(m)*p],R;v<1;)R=x*v+m,M.push(P+Math.cos(R)*p,w+Math.sin(R)*p),v+=u;return R=x+m,M.push(P+Math.cos(R)*p,w+Math.sin(R)*p),M.push(P+Math.cos(m)*p,w+Math.sin(m)*p),this.pathIndexes=h(M),this.pathData=M,this}});n.exports=c}),42542:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(39506),y=r(65960),d=r(75177),h=r(20926),l=function(a,f,c,u){c.addToRenderList(f);var v=a.currentContext;if(h(a,v,f,c,u)){var p=f.radius;v.beginPath(),v.arc(p-f.originX*(p*2),p-f.originY*(p*2),p,o(f._startAngle),o(f._endAngle),f.anticlockwise),f.closePath&&v.closePath(),f.isFilled&&(y(v,f),v.fill()),f.isStroked&&(d(v,f),v.stroke()),v.restore()}};n.exports=l}),42563:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(23629),y=r(39429);y.register("arc",function(d,h,l,a,f,c,u,v){return this.displayList.add(new o(this.scene,d,h,l,a,f,c,u,v))}),y.register("circle",function(d,h,l,a,f){return this.displayList.add(new o(this.scene,d,h,l,0,360,!1,a,f))})}),13609:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),y=o,d=o;y=r(41447),d=r(42542),n.exports={renderWebGL:y,renderCanvas:d}}),41447:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(91296),y=r(10441),d=r(34682),h=function(l,a,f,c){f.addToRenderList(a);var u=l.pipelines.set(a.pipeline),v=o(a,f,c),p=u.calcMatrix.copyFrom(v.calc),m=a._displayOriginX,x=a._displayOriginY,C=f.alpha*a.alpha;l.pipelines.preBatch(a),a.isFilled&&y(u,p,a,C,m,x),a.isStroked&&d(u,a,C,m,x),l.pipelines.postBatch(a)};n.exports=h}),89:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(33141),d=r(94811),h=r(87841),l=r(17803),a=new o({Extends:l,Mixins:[y],initialize:function(c,u,v,p,m,x){u===void 0&&(u=0),v===void 0&&(v=0),l.call(this,c,"Curve",p),this._smoothness=32,this._curveBounds=new h,this.closePath=!1,this.setPosition(u,v),m!==void 0&&this.setFillStyle(m,x),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(f){this._smoothness=f,this.updateData()}},setSmoothness:function(f){return this._smoothness=f,this.updateData()},updateData:function(){var f=this._curveBounds,c=this._smoothness;this.geom.getBounds(f,c),this.setSize(f.width,f.height),this.updateDisplayOrigin();for(var u=[],v=this.geom.getPoints(c),p=0;p<v.length;p++)u.push(v[p].x,v[p].y);return u.push(v[0].x,v[0].y),this.pathIndexes=d(u),this.pathData=u,this}});n.exports=a}),3170:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(65960),y=r(75177),d=r(20926),h=function(l,a,f,c){f.addToRenderList(a);var u=l.currentContext;if(d(l,u,a,f,c)){var v=a._displayOriginX+a._curveBounds.x,p=a._displayOriginY+a._curveBounds.y,m=a.pathData,x=m.length-1,C=m[0]-v,P=m[1]-p;u.beginPath(),u.moveTo(C,P),a.closePath||(x-=2);for(var w=2;w<x;w+=2){var M=m[w]-v,R=m[w+1]-p;u.lineTo(M,R)}a.closePath&&u.closePath(),a.isFilled&&(o(u,a),u.fill()),a.isStroked&&(y(u,a),u.stroke()),u.restore()}};n.exports=h}),40511:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(39429),y=r(89);o.register("curve",function(d,h,l,a,f){return this.displayList.add(new y(this.scene,d,h,l,a,f))})}),33141:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),y=o,d=o;y=r(53987),d=r(3170),n.exports={renderWebGL:y,renderCanvas:d}}),53987:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(10441),y=r(91296),d=r(34682),h=function(l,a,f,c){f.addToRenderList(a);var u=l.pipelines.set(a.pipeline),v=y(a,f,c),p=u.calcMatrix.copyFrom(v.calc),m=a._displayOriginX+a._curveBounds.x,x=a._displayOriginY+a._curveBounds.y,C=f.alpha*a.alpha;l.pipelines.preBatch(a),a.isFilled&&o(u,p,a,C,m,x),a.isStroked&&d(u,a,C,m,x),l.pipelines.postBatch(a)};n.exports=h}),19921:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(94811),d=r(54205),h=r(8497),l=r(17803),a=new o({Extends:l,Mixins:[d],initialize:function(c,u,v,p,m,x,C){u===void 0&&(u=0),v===void 0&&(v=0),p===void 0&&(p=128),m===void 0&&(m=128),l.call(this,c,"Ellipse",new h(p/2,m/2,p,m)),this._smoothness=64,this.setPosition(u,v),this.width=p,this.height=m,x!==void 0&&this.setFillStyle(x,C),this.updateDisplayOrigin(),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(f){this._smoothness=f,this.updateData()}},setSize:function(f,c){return this.width=f,this.height=c,this.geom.setPosition(f/2,c/2),this.geom.setSize(f,c),this.updateDisplayOrigin(),this.updateData()},setSmoothness:function(f){return this._smoothness=f,this.updateData()},updateData:function(){for(var f=[],c=this.geom.getPoints(this._smoothness),u=0;u<c.length;u++)f.push(c[u].x,c[u].y);return f.push(c[0].x,c[0].y),this.pathIndexes=y(f),this.pathData=f,this}});n.exports=a}),7930:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(65960),y=r(75177),d=r(20926),h=function(l,a,f,c){f.addToRenderList(a);var u=l.currentContext;if(d(l,u,a,f,c)){var v=a._displayOriginX,p=a._displayOriginY,m=a.pathData,x=m.length-1,C=m[0]-v,P=m[1]-p;u.beginPath(),u.moveTo(C,P),a.closePath||(x-=2);for(var w=2;w<x;w+=2){var M=m[w]-v,R=m[w+1]-p;u.lineTo(M,R)}u.closePath(),a.isFilled&&(o(u,a),u.fill()),a.isStroked&&(y(u,a),u.stroke()),u.restore()}};n.exports=h}),1543:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(19921),y=r(39429);y.register("ellipse",function(d,h,l,a,f,c){return this.displayList.add(new o(this.scene,d,h,l,a,f,c))})}),54205:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),y=o,d=o;y=r(19467),d=r(7930),n.exports={renderWebGL:y,renderCanvas:d}}),19467:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(10441),y=r(91296),d=r(34682),h=function(l,a,f,c){f.addToRenderList(a);var u=l.pipelines.set(a.pipeline),v=y(a,f,c),p=u.calcMatrix.copyFrom(v.calc),m=a._displayOriginX,x=a._displayOriginY,C=f.alpha*a.alpha;l.pipelines.preBatch(a),a.isFilled&&o(u,p,a,C,m,x),a.isStroked&&d(u,a,C,m,x),l.pipelines.postBatch(a)};n.exports=h}),30479:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(17803),d=r(26015),h=new o({Extends:y,Mixins:[d],initialize:function(a,f,c,u,v,p,m,x,C,P,w){f===void 0&&(f=0),c===void 0&&(c=0),u===void 0&&(u=128),v===void 0&&(v=128),p===void 0&&(p=32),m===void 0&&(m=32),y.call(this,a,"Grid",null),this.cellWidth=p,this.cellHeight=m,this.showCells=!0,this.outlineFillColor=0,this.outlineFillAlpha=0,this.showOutline=!0,this.showAltCells=!1,this.altFillColor,this.altFillAlpha,this.setPosition(f,c),this.setSize(u,v),this.setFillStyle(x,C),P!==void 0&&this.setOutlineStyle(P,w),this.updateDisplayOrigin()},setFillStyle:function(l,a){return a===void 0&&(a=1),l===void 0?this.showCells=!1:(this.fillColor=l,this.fillAlpha=a,this.showCells=!0),this},setAltFillStyle:function(l,a){return a===void 0&&(a=1),l===void 0?this.showAltCells=!1:(this.altFillColor=l,this.altFillAlpha=a,this.showAltCells=!0),this},setOutlineStyle:function(l,a){return a===void 0&&(a=1),l===void 0?this.showOutline=!1:(this.outlineFillColor=l,this.outlineFillAlpha=a,this.showOutline=!0),this}});n.exports=h}),49912:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(65960),y=r(75177),d=r(20926),h=function(l,a,f,c){f.addToRenderList(a);var u=l.currentContext;if(d(l,u,a,f,c)){var v=-a._displayOriginX,p=-a._displayOriginY,m=f.alpha*a.alpha,x=a.width,C=a.height,P=a.cellWidth,w=a.cellHeight,M=Math.ceil(x/P),R=Math.ceil(C/w),A=P,L=w,F=P-(M*P-x),G=w-(R*w-C),I=a.showCells,B=a.showAltCells,k=a.showOutline,U=0,H=0,X=0,j=0,Z=0;if(k&&(A--,L--,F===P&&F--,G===w&&G--),I&&a.fillAlpha>0)for(o(u,a),H=0;H<R;H++)for(B&&(X=H%2),U=0;U<M;U++){if(B&&X){X=0;continue}X++,j=U<M-1?A:F,Z=H<R-1?L:G,u.fillRect(v+U*P,p+H*w,j,Z)}if(B&&a.altFillAlpha>0)for(o(u,a,a.altFillColor,a.altFillAlpha*m),H=0;H<R;H++)for(B&&(X=H%2),U=0;U<M;U++){if(B&&!X){X=1;continue}X=0,j=U<M-1?A:F,Z=H<R-1?L:G,u.fillRect(v+U*P,p+H*w,j,Z)}if(k&&a.outlineFillAlpha>0){for(y(u,a,a.outlineFillColor,a.outlineFillAlpha*m),U=1;U<M;U++){var Y=U*P;u.beginPath(),u.moveTo(Y+v,p),u.lineTo(Y+v,C+p),u.stroke()}for(H=1;H<R;H++){var $=H*w;u.beginPath(),u.moveTo(v,$+p),u.lineTo(v+x,$+p),u.stroke()}}u.restore()}};n.exports=h}),34137:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(39429),y=r(30479);o.register("grid",function(d,h,l,a,f,c,u,v,p,m){return this.displayList.add(new y(this.scene,d,h,l,a,f,c,u,v,p,m))})}),26015:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),y=o,d=o;y=r(46161),d=r(49912),n.exports={renderWebGL:y,renderCanvas:d}}),46161:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(91296),y=r(70554),d=function(h,l,a,f){a.addToRenderList(l);var c=h.pipelines.set(l.pipeline),u=o(l,a,f),v=c.calcMatrix.copyFrom(u.calc);v.translate(-l._displayOriginX,-l._displayOriginY);var p=a.alpha*l.alpha,m=l.width,x=l.height,C=l.cellWidth,P=l.cellHeight,w=Math.ceil(m/C),M=Math.ceil(x/P),R=C,A=P,L=C-(w*C-m),F=P-(M*P-x),G,I,B=l.showCells,k=l.showAltCells,U=l.showOutline,H=0,X=0,j=0,Z=0,Y=0;if(U&&(R--,A--,L===C&&L--,F===P&&F--),h.pipelines.preBatch(l),B&&l.fillAlpha>0)for(G=c.fillTint,I=y.getTintAppendFloatAlpha(l.fillColor,l.fillAlpha*p),G.TL=I,G.TR=I,G.BL=I,G.BR=I,X=0;X<M;X++)for(k&&(j=X%2),H=0;H<w;H++){if(k&&j){j=0;continue}j++,Z=H<w-1?R:L,Y=X<M-1?A:F,c.batchFillRect(H*C,X*P,Z,Y)}if(k&&l.altFillAlpha>0)for(G=c.fillTint,I=y.getTintAppendFloatAlpha(l.altFillColor,l.altFillAlpha*p),G.TL=I,G.TR=I,G.BL=I,G.BR=I,X=0;X<M;X++)for(k&&(j=X%2),H=0;H<w;H++){if(k&&!j){j=1;continue}j=0,Z=H<w-1?R:L,Y=X<M-1?A:F,c.batchFillRect(H*C,X*P,Z,Y)}if(U&&l.outlineFillAlpha>0){var $=c.strokeTint,z=y.getTintAppendFloatAlpha(l.outlineFillColor,l.outlineFillAlpha*p);for($.TL=z,$.TR=z,$.BL=z,$.BR=z,H=1;H<w;H++){var V=H*C;c.batchLine(V,0,V,x,1,1,1,0,!1)}for(X=1;X<M;X++){var K=X*P;c.batchLine(0,K,m,K,1,1,1,0,!1)}}h.pipelines.postBatch(l)};n.exports=d}),61475:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(99651),y=r(83419),d=r(17803),h=new y({Extends:d,Mixins:[o],initialize:function(a,f,c,u,v,p,m,x){f===void 0&&(f=0),c===void 0&&(c=0),u===void 0&&(u=48),v===void 0&&(v=32),p===void 0&&(p=15658734),m===void 0&&(m=10066329),x===void 0&&(x=13421772),d.call(this,a,"IsoBox",null),this.projection=4,this.fillTop=p,this.fillLeft=m,this.fillRight=x,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isFilled=!0,this.setPosition(f,c),this.setSize(u,v),this.updateDisplayOrigin()},setProjection:function(l){return this.projection=l,this},setFaces:function(l,a,f){return l===void 0&&(l=!0),a===void 0&&(a=!0),f===void 0&&(f=!0),this.showTop=l,this.showLeft=a,this.showRight=f,this},setFillStyle:function(l,a,f){return this.fillTop=l,this.fillLeft=a,this.fillRight=f,this.isFilled=!0,this}});n.exports=h}),11508:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(65960),y=r(20926),d=function(h,l,a,f){a.addToRenderList(l);var c=h.currentContext;if(y(h,c,l,a,f)&&l.isFilled){var u=l.width,v=l.height,p=u/2,m=u/l.projection;l.showTop&&(o(c,l,l.fillTop),c.beginPath(),c.moveTo(-p,-v),c.lineTo(0,-m-v),c.lineTo(p,-v),c.lineTo(p,-1),c.lineTo(0,m-1),c.lineTo(-p,-1),c.lineTo(-p,-v),c.fill()),l.showLeft&&(o(c,l,l.fillLeft),c.beginPath(),c.moveTo(-p,0),c.lineTo(0,m),c.lineTo(0,m-v),c.lineTo(-p,-v),c.lineTo(-p,0),c.fill()),l.showRight&&(o(c,l,l.fillRight),c.beginPath(),c.moveTo(p,0),c.lineTo(0,m),c.lineTo(0,m-v),c.lineTo(p,-v),c.lineTo(p,0),c.fill()),c.restore()}};n.exports=d}),3933:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(39429),y=r(61475);o.register("isobox",function(d,h,l,a,f,c,u){return this.displayList.add(new y(this.scene,d,h,l,a,f,c,u))})}),99651:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),y=o,d=o;y=r(68149),d=r(11508),n.exports={renderWebGL:y,renderCanvas:d}}),68149:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(91296),y=r(70554),d=function(h,l,a,f){a.addToRenderList(l);var c=h.pipelines.set(l.pipeline),u=o(l,a,f),v=c.calcMatrix.copyFrom(u.calc),p=l.width,m=l.height,x=p/2,C=p/l.projection,P=a.alpha*l.alpha;if(l.isFilled){var w,M,R,A,L,F,G,I,B;h.pipelines.preBatch(l),l.showTop&&(w=y.getTintAppendFloatAlpha(l.fillTop,P),M=v.getX(-x,-m),R=v.getY(-x,-m),A=v.getX(0,-C-m),L=v.getY(0,-C-m),F=v.getX(x,-m),G=v.getY(x,-m),I=v.getX(0,C-m),B=v.getY(0,C-m),c.batchQuad(l,M,R,A,L,F,G,I,B,0,0,1,1,w,w,w,w,2)),l.showLeft&&(w=y.getTintAppendFloatAlpha(l.fillLeft,P),M=v.getX(-x,0),R=v.getY(-x,0),A=v.getX(0,C),L=v.getY(0,C),F=v.getX(0,C-m),G=v.getY(0,C-m),I=v.getX(-x,-m),B=v.getY(-x,-m),c.batchQuad(l,M,R,A,L,F,G,I,B,0,0,1,1,w,w,w,w,2)),l.showRight&&(w=y.getTintAppendFloatAlpha(l.fillRight,P),M=v.getX(x,0),R=v.getY(x,0),A=v.getX(0,C),L=v.getY(0,C),F=v.getX(0,C-m),G=v.getY(0,C-m),I=v.getX(x,-m),B=v.getY(x,-m),c.batchQuad(l,M,R,A,L,F,G,I,B,0,0,1,1,w,w,w,w,2)),h.pipelines.postBatch(l)}};n.exports=d}),16933:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(60561),d=r(17803),h=new o({Extends:d,Mixins:[y],initialize:function(a,f,c,u,v,p,m,x,C){f===void 0&&(f=0),c===void 0&&(c=0),u===void 0&&(u=48),v===void 0&&(v=32),p===void 0&&(p=!1),m===void 0&&(m=15658734),x===void 0&&(x=10066329),C===void 0&&(C=13421772),d.call(this,a,"IsoTriangle",null),this.projection=4,this.fillTop=m,this.fillLeft=x,this.fillRight=C,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isReversed=p,this.isFilled=!0,this.setPosition(f,c),this.setSize(u,v),this.updateDisplayOrigin()},setProjection:function(l){return this.projection=l,this},setReversed:function(l){return this.isReversed=l,this},setFaces:function(l,a,f){return l===void 0&&(l=!0),a===void 0&&(a=!0),f===void 0&&(f=!0),this.showTop=l,this.showLeft=a,this.showRight=f,this},setFillStyle:function(l,a,f){return this.fillTop=l,this.fillLeft=a,this.fillRight=f,this.isFilled=!0,this}});n.exports=h}),79590:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(65960),y=r(20926),d=function(h,l,a,f){a.addToRenderList(l);var c=h.currentContext;if(y(h,c,l,a,f)&&l.isFilled){var u=l.width,v=l.height,p=u/2,m=u/l.projection,x=l.isReversed;l.showTop&&x&&(o(c,l,l.fillTop),c.beginPath(),c.moveTo(-p,-v),c.lineTo(0,-m-v),c.lineTo(p,-v),c.lineTo(0,m-v),c.fill()),l.showLeft&&(o(c,l,l.fillLeft),c.beginPath(),x?(c.moveTo(-p,-v),c.lineTo(0,m),c.lineTo(0,m-v)):(c.moveTo(-p,0),c.lineTo(0,m),c.lineTo(0,m-v)),c.fill()),l.showRight&&(o(c,l,l.fillRight),c.beginPath(),x?(c.moveTo(p,-v),c.lineTo(0,m),c.lineTo(0,m-v)):(c.moveTo(p,0),c.lineTo(0,m),c.lineTo(0,m-v)),c.fill()),c.restore()}};n.exports=d}),49803:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(39429),y=r(16933);o.register("isotriangle",function(d,h,l,a,f,c,u,v){return this.displayList.add(new y(this.scene,d,h,l,a,f,c,u,v))})}),60561:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),y=o,d=o;y=r(51503),d=r(79590),n.exports={renderWebGL:y,renderCanvas:d}}),51503:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(91296),y=r(70554),d=function(h,l,a,f){a.addToRenderList(l);var c=h.pipelines.set(l.pipeline),u=o(l,a,f),v=c.calcMatrix.copyFrom(u.calc),p=l.width,m=l.height,x=p/2,C=p/l.projection,P=l.isReversed,w=a.alpha*l.alpha;if(l.isFilled){h.pipelines.preBatch(l);var M,R,A,L,F,G,I;if(l.showTop&&P){M=y.getTintAppendFloatAlpha(l.fillTop,w),R=v.getX(-x,-m),A=v.getY(-x,-m),L=v.getX(0,-C-m),F=v.getY(0,-C-m),G=v.getX(x,-m),I=v.getY(x,-m);var B=v.getX(0,C-m),k=v.getY(0,C-m);c.batchQuad(l,R,A,L,F,G,I,B,k,0,0,1,1,M,M,M,M,2)}l.showLeft&&(M=y.getTintAppendFloatAlpha(l.fillLeft,w),P?(R=v.getX(-x,-m),A=v.getY(-x,-m),L=v.getX(0,C),F=v.getY(0,C),G=v.getX(0,C-m),I=v.getY(0,C-m)):(R=v.getX(-x,0),A=v.getY(-x,0),L=v.getX(0,C),F=v.getY(0,C),G=v.getX(0,C-m),I=v.getY(0,C-m)),c.batchTri(l,R,A,L,F,G,I,0,0,1,1,M,M,M,2)),l.showRight&&(M=y.getTintAppendFloatAlpha(l.fillRight,w),P?(R=v.getX(x,-m),A=v.getY(x,-m),L=v.getX(0,C),F=v.getY(0,C),G=v.getX(0,C-m),I=v.getY(0,C-m)):(R=v.getX(x,0),A=v.getY(x,0),L=v.getX(0,C),F=v.getY(0,C),G=v.getX(0,C-m),I=v.getY(0,C-m)),c.batchTri(l,R,A,L,F,G,I,0,0,1,1,M,M,M,2)),h.pipelines.postBatch(l)}};n.exports=d}),57847:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(17803),d=r(23031),h=r(36823),l=new o({Extends:y,Mixins:[h],initialize:function(f,c,u,v,p,m,x,C,P){c===void 0&&(c=0),u===void 0&&(u=0),v===void 0&&(v=0),p===void 0&&(p=0),m===void 0&&(m=128),x===void 0&&(x=0),y.call(this,f,"Line",new d(v,p,m,x));var w=Math.max(1,this.geom.right-this.geom.left),M=Math.max(1,this.geom.bottom-this.geom.top);this.lineWidth=1,this._startWidth=1,this._endWidth=1,this.setPosition(c,u),this.setSize(w,M),C!==void 0&&this.setStrokeStyle(1,C,P),this.updateDisplayOrigin()},setLineWidth:function(a,f){return f===void 0&&(f=a),this._startWidth=a,this._endWidth=f,this.lineWidth=a,this},setTo:function(a,f,c,u){return this.geom.setTo(a,f,c,u),this}});n.exports=l}),17440:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(75177),y=r(20926),d=function(h,l,a,f){a.addToRenderList(l);var c=h.currentContext;if(y(h,c,l,a,f)){var u=l._displayOriginX,v=l._displayOriginY;l.isStroked&&(o(c,l),c.beginPath(),c.moveTo(l.geom.x1-u,l.geom.y1-v),c.lineTo(l.geom.x2-u,l.geom.y2-v),c.stroke()),c.restore()}};n.exports=d}),2481:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(39429),y=r(57847);o.register("line",function(d,h,l,a,f,c,u,v){return this.displayList.add(new y(this.scene,d,h,l,a,f,c,u,v))})}),36823:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),y=o,d=o;y=r(77385),d=r(17440),n.exports={renderWebGL:y,renderCanvas:d}}),77385:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(91296),y=r(70554),d=function(h,l,a,f){a.addToRenderList(l);var c=h.pipelines.set(l.pipeline),u=o(l,a,f);c.calcMatrix.copyFrom(u.calc);var v=l._displayOriginX,p=l._displayOriginY,m=a.alpha*l.alpha;if(h.pipelines.preBatch(l),l.isStroked){var x=c.strokeTint,C=y.getTintAppendFloatAlpha(l.strokeColor,l.strokeAlpha*m);x.TL=C,x.TR=C,x.BL=C,x.BR=C,c.batchLine(l.geom.x1-v,l.geom.y1-p,l.geom.x2-v,l.geom.y2-p,l._startWidth/2,l._endWidth/2,1,0,!1,u.sprite,u.camera)}h.pipelines.postBatch(l)};n.exports=d}),24949:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(90273),y=r(83419),d=r(94811),h=r(13829),l=r(25717),a=r(17803),f=r(5469),c=new y({Extends:a,Mixins:[o],initialize:function(v,p,m,x,C,P){p===void 0&&(p=0),m===void 0&&(m=0),a.call(this,v,"Polygon",new l(x));var w=h(this.geom);this.setPosition(p,m),this.setSize(w.width,w.height),C!==void 0&&this.setFillStyle(C,P),this.updateDisplayOrigin(),this.updateData()},smooth:function(u){u===void 0&&(u=1);for(var v=0;v<u;v++)f(this.geom);return this.updateData()},setTo:function(u){this.geom.setTo(u);var v=h(this.geom);return this.setSize(v.width,v.height),this.updateDisplayOrigin(),this.updateData()},updateData:function(){for(var u=[],v=this.geom.points,p=0;p<v.length;p++)u.push(v[p].x,v[p].y);return u.push(v[0].x,v[0].y),this.pathIndexes=d(u),this.pathData=u,this}});n.exports=c}),38710:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(65960),y=r(75177),d=r(20926),h=function(l,a,f,c){f.addToRenderList(a);var u=l.currentContext;if(d(l,u,a,f,c)){var v=a._displayOriginX,p=a._displayOriginY,m=a.pathData,x=m.length-1,C=m[0]-v,P=m[1]-p;u.beginPath(),u.moveTo(C,P),a.closePath||(x-=2);for(var w=2;w<x;w+=2){var M=m[w]-v,R=m[w+1]-p;u.lineTo(M,R)}a.closePath&&u.closePath(),a.isFilled&&(o(u,a),u.fill()),a.isStroked&&(y(u,a),u.stroke()),u.restore()}};n.exports=h}),64827:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(39429),y=r(24949);o.register("polygon",function(d,h,l,a,f){return this.displayList.add(new y(this.scene,d,h,l,a,f))})}),90273:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),y=o,d=o;y=r(73695),d=r(38710),n.exports={renderWebGL:y,renderCanvas:d}}),73695:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(10441),y=r(91296),d=r(34682),h=function(l,a,f,c){f.addToRenderList(a);var u=l.pipelines.set(a.pipeline),v=y(a,f,c),p=u.calcMatrix.copyFrom(v.calc),m=a._displayOriginX,x=a._displayOriginY,C=f.alpha*a.alpha;l.pipelines.preBatch(a),a.isFilled&&o(u,p,a,C,m,x),a.isStroked&&d(u,a,C,m,x),l.pipelines.postBatch(a)};n.exports=h}),74561:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(87841),d=r(17803),h=r(95597),l=new o({Extends:d,Mixins:[h],initialize:function(f,c,u,v,p,m,x){c===void 0&&(c=0),u===void 0&&(u=0),v===void 0&&(v=128),p===void 0&&(p=128),d.call(this,f,"Rectangle",new y(0,0,v,p)),this.setPosition(c,u),this.setSize(v,p),m!==void 0&&this.setFillStyle(m,x),this.updateDisplayOrigin(),this.updateData()},setSize:function(a,f){this.width=a,this.height=f,this.geom.setSize(a,f),this.updateData(),this.updateDisplayOrigin();var c=this.input;return c&&!c.customHitArea&&(c.hitArea.width=a,c.hitArea.height=f),this},updateData:function(){var a=[],f=this.geom,c=this._tempLine;return f.getLineA(c),a.push(c.x1,c.y1,c.x2,c.y2),f.getLineB(c),a.push(c.x2,c.y2),f.getLineC(c),a.push(c.x2,c.y2),f.getLineD(c),a.push(c.x2,c.y2),this.pathData=a,this}});n.exports=l}),48682:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(65960),y=r(75177),d=r(20926),h=function(l,a,f,c){f.addToRenderList(a);var u=l.currentContext;if(d(l,u,a,f,c)){var v=a._displayOriginX,p=a._displayOriginY;a.isFilled&&(o(u,a),u.fillRect(-v,-p,a.width,a.height)),a.isStroked&&(y(u,a),u.beginPath(),u.rect(-v,-p,a.width,a.height),u.stroke()),u.restore()}};n.exports=h}),87959:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(39429),y=r(74561);o.register("rectangle",function(d,h,l,a,f,c){return this.displayList.add(new y(this.scene,d,h,l,a,f,c))})}),95597:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),y=o,d=o;y=r(52059),d=r(48682),n.exports={renderWebGL:y,renderCanvas:d}}),52059:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(91296),y=r(34682),d=r(70554),h=function(l,a,f,c){f.addToRenderList(a);var u=l.pipelines.set(a.pipeline),v=o(a,f,c);u.calcMatrix.copyFrom(v.calc);var p=a._displayOriginX,m=a._displayOriginY,x=f.alpha*a.alpha;if(l.pipelines.preBatch(a),a.isFilled){var C=u.fillTint,P=d.getTintAppendFloatAlpha(a.fillColor,a.fillAlpha*x);C.TL=P,C.TR=P,C.BL=P,C.BR=P,u.batchFillRect(-p,-m,a.width,a.height)}a.isStroked&&y(u,a,x,p,m),l.pipelines.postBatch(a)};n.exports=h}),55911:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(81991),y=r(83419),d=r(94811),h=r(17803),l=new y({Extends:h,Mixins:[o],initialize:function(f,c,u,v,p,m,x,C){c===void 0&&(c=0),u===void 0&&(u=0),v===void 0&&(v=5),p===void 0&&(p=32),m===void 0&&(m=64),h.call(this,f,"Star",null),this._points=v,this._innerRadius=p,this._outerRadius=m,this.setPosition(c,u),this.setSize(m*2,m*2),x!==void 0&&this.setFillStyle(x,C),this.updateDisplayOrigin(),this.updateData()},setPoints:function(a){return this._points=a,this.updateData()},setInnerRadius:function(a){return this._innerRadius=a,this.updateData()},setOuterRadius:function(a){return this._outerRadius=a,this.updateData()},points:{get:function(){return this._points},set:function(a){this._points=a,this.updateData()}},innerRadius:{get:function(){return this._innerRadius},set:function(a){this._innerRadius=a,this.updateData()}},outerRadius:{get:function(){return this._outerRadius},set:function(a){this._outerRadius=a,this.updateData()}},updateData:function(){var a=[],f=this._points,c=this._innerRadius,u=this._outerRadius,v=Math.PI/2*3,p=Math.PI/f,m=u,x=u;a.push(m,x+-u);for(var C=0;C<f;C++)a.push(m+Math.cos(v)*u,x+Math.sin(v)*u),v+=p,a.push(m+Math.cos(v)*c,x+Math.sin(v)*c),v+=p;return a.push(m,x+-u),this.pathIndexes=d(a),this.pathData=a,this}});n.exports=l}),64272:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(65960),y=r(75177),d=r(20926),h=function(l,a,f,c){f.addToRenderList(a);var u=l.currentContext;if(d(l,u,a,f,c)){var v=a._displayOriginX,p=a._displayOriginY,m=a.pathData,x=m.length-1,C=m[0]-v,P=m[1]-p;u.beginPath(),u.moveTo(C,P),a.closePath||(x-=2);for(var w=2;w<x;w+=2){var M=m[w]-v,R=m[w+1]-p;u.lineTo(M,R)}u.closePath(),a.isFilled&&(o(u,a),u.fill()),a.isStroked&&(y(u,a),u.stroke()),u.restore()}};n.exports=h}),93697:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(55911),y=r(39429);y.register("star",function(d,h,l,a,f,c,u){return this.displayList.add(new o(this.scene,d,h,l,a,f,c,u))})}),81991:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),y=o,d=o;y=r(57017),d=r(64272),n.exports={renderWebGL:y,renderCanvas:d}}),57017:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(10441),y=r(91296),d=r(34682),h=function(l,a,f,c){f.addToRenderList(a);var u=l.pipelines.set(a.pipeline),v=y(a,f,c),p=u.calcMatrix.copyFrom(v.calc),m=a._displayOriginX,x=a._displayOriginY,C=f.alpha*a.alpha;l.pipelines.preBatch(a),a.isFilled&&o(u,p,a,C,m,x),a.isStroked&&d(u,a,C,m,x),l.pipelines.postBatch(a)};n.exports=h}),36931:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(17803),d=r(16483),h=r(96195),l=new o({Extends:y,Mixins:[h],initialize:function(f,c,u,v,p,m,x,C,P,w,M){c===void 0&&(c=0),u===void 0&&(u=0),v===void 0&&(v=0),p===void 0&&(p=128),m===void 0&&(m=64),x===void 0&&(x=0),C===void 0&&(C=128),P===void 0&&(P=128),y.call(this,f,"Triangle",new d(v,p,m,x,C,P));var R=this.geom.right-this.geom.left,A=this.geom.bottom-this.geom.top;this.setPosition(c,u),this.setSize(R,A),w!==void 0&&this.setFillStyle(w,M),this.updateDisplayOrigin(),this.updateData()},setTo:function(a,f,c,u,v,p){return this.geom.setTo(a,f,c,u,v,p),this.updateData()},updateData:function(){var a=[],f=this.geom,c=this._tempLine;return f.getLineA(c),a.push(c.x1,c.y1,c.x2,c.y2),f.getLineB(c),a.push(c.x2,c.y2),f.getLineC(c),a.push(c.x2,c.y2),this.pathData=a,this}});n.exports=l}),85172:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(65960),y=r(75177),d=r(20926),h=function(l,a,f,c){f.addToRenderList(a);var u=l.currentContext;if(d(l,u,a,f,c)){var v=a._displayOriginX,p=a._displayOriginY,m=a.geom.x1-v,x=a.geom.y1-p,C=a.geom.x2-v,P=a.geom.y2-p,w=a.geom.x3-v,M=a.geom.y3-p;u.beginPath(),u.moveTo(m,x),u.lineTo(C,P),u.lineTo(w,M),u.closePath(),a.isFilled&&(o(u,a),u.fill()),a.isStroked&&(y(u,a),u.stroke()),u.restore()}};n.exports=h}),45245:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(39429),y=r(36931);o.register("triangle",function(d,h,l,a,f,c,u,v,p,m){return this.displayList.add(new y(this.scene,d,h,l,a,f,c,u,v,p,m))})}),96195:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),y=o,d=o;y=r(83253),d=r(85172),n.exports={renderWebGL:y,renderCanvas:d}}),83253:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(91296),y=r(34682),d=r(70554),h=function(l,a,f,c){f.addToRenderList(a);var u=l.pipelines.set(a.pipeline),v=o(a,f,c);u.calcMatrix.copyFrom(v.calc);var p=a._displayOriginX,m=a._displayOriginY,x=f.alpha*a.alpha;if(l.pipelines.preBatch(a),a.isFilled){var C=u.fillTint,P=d.getTintAppendFloatAlpha(a.fillColor,a.fillAlpha*x);C.TL=P,C.TR=P,C.BL=P,C.BR=P;var w=a.geom.x1-p,M=a.geom.y1-m,R=a.geom.x2-p,A=a.geom.y2-m,L=a.geom.x3-p,F=a.geom.y3-m;u.batchFillTriangle(w,M,R,A,L,F,v.sprite,v.camera)}a.isStroked&&y(u,a,x,p,m),l.pipelines.postBatch(a)};n.exports=h}),68287:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(9674),y=r(83419),d=r(31401),h=r(95643),l=r(92751),a=new y({Extends:h,Mixins:[d.Alpha,d.BlendMode,d.Depth,d.Flip,d.GetBounds,d.Mask,d.Origin,d.Pipeline,d.PostPipeline,d.ScrollFactor,d.Size,d.TextureCrop,d.Tint,d.Transform,d.Visible,l],initialize:function(c,u,v,p,m){h.call(this,c,"Sprite"),this._crop=this.resetCropObject(),this.anims=new o(this),this.setTexture(p,m),this.setPosition(u,v),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(f,c){this.anims.update(f,c)},play:function(f,c){return this.anims.play(f,c)},playReverse:function(f,c){return this.anims.playReverse(f,c)},playAfterDelay:function(f,c){return this.anims.playAfterDelay(f,c)},playAfterRepeat:function(f,c){return this.anims.playAfterRepeat(f,c)},chain:function(f){return this.anims.chain(f)},stop:function(){return this.anims.stop()},stopAfterDelay:function(f){return this.anims.stopAfterDelay(f)},stopAfterRepeat:function(f){return this.anims.stopAfterRepeat(f)},stopOnFrame:function(f){return this.anims.stopOnFrame(f)},toJSON:function(){return d.ToJSON(this)},preDestroy:function(){this.anims.destroy(),this.anims=void 0}});n.exports=a}),76552:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y,d){y.addToRenderList(o),r.batchSprite(o,o.frame,y,d)};n.exports=T}),15567:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(25305),y=r(13059),d=r(44603),h=r(23568),l=r(68287);d.register("sprite",function(a,f){a===void 0&&(a={});var c=h(a,"key",null),u=h(a,"frame",null),v=new l(this.scene,0,0,c,u);return f!==void 0&&(a.add=f),o(this.scene,v,a),y(v,a),v})}),46409:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(39429),y=r(68287);o.register("sprite",function(d,h,l,a){return this.displayList.add(new y(this.scene,d,h,l,a))})}),92751:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),y=o,d=o;y=r(9409),d=r(76552),n.exports={renderWebGL:y,renderCanvas:d}}),9409:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y,d){y.addToRenderList(o),o.pipeline.batchSprite(o,y,d)};n.exports=T}),14220:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y){var d=r.canvas,h=r.context,l=r.style,a=[],f=0,c=y.length;l.maxLines>0&&l.maxLines<y.length&&(c=l.maxLines),l.syncFont(d,h);for(var u=r.letterSpacing,v=0;v<c;v++){var p=l.strokeThickness;if(u===0)p+=h.measureText(y[v]).width;else{for(var m=y[v],x=0;x<m.length;x++)p+=h.measureText(m[x]).width;m.length>1&&(p+=u*(m.length-1))}l.wordWrap&&(p-=h.measureText(" ").width),a[v]=Math.ceil(p),f=Math.max(f,a[v])}var C=o.fontSize+l.strokeThickness,P=C*c,w=r.lineSpacing;return c>1&&(P+=w*(c-1)),{width:f,height:P,lines:c,lineWidths:a,lineSpacing:w,lineHeight:C}};n.exports=T}),79557:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(27919),y=function(d){var h=o.create(this),l=h.getContext("2d",{willReadFrequently:!0});d.syncFont(h,l);var a=l.measureText(d.testString);if("actualBoundingBoxAscent"in a){var f=a.actualBoundingBoxAscent,c=a.actualBoundingBoxDescent;return o.remove(h),{ascent:f,descent:c,fontSize:f+c}}var u=Math.ceil(a.width*d.baselineX),v=u,p=2*v;v=v*d.baselineY|0,h.width=u,h.height=p,l.fillStyle="#f00",l.fillRect(0,0,u,p),l.font=d._font,l.textBaseline="alphabetic",l.fillStyle="#000",l.fillText(d.testString,0,v);var m={ascent:0,descent:0,fontSize:0},x=l.getImageData(0,0,u,p);if(!x)return m.ascent=v,m.descent=v+6,m.fontSize=m.ascent+m.descent,o.remove(h),m;var C=x.data,P=C.length,w=u*4,M,R,A=0,L=!1;for(M=0;M<v;M++){for(R=0;R<w;R+=4)if(C[A+R]!==255){L=!0;break}if(!L)A+=w;else break}for(m.ascent=v-M,A=P-w,L=!1,M=p;M>v;M--){for(R=0;R<w;R+=4)if(C[A+R]!==255){L=!0;break}if(!L)A-=w;else break}return m.descent=M-v,m.fontSize=m.ascent+m.descent,o.remove(h),m};n.exports=y}),50171:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(40366),y=r(27919),d=r(83419),h=r(31401),l=r(95643),a=r(14220),f=r(35154),c=r(35846),u=r(61771),v=r(35762),p=r(45650),m=new d({Extends:l,Mixins:[h.Alpha,h.BlendMode,h.ComputedSize,h.Crop,h.Depth,h.Flip,h.GetBounds,h.Mask,h.Origin,h.Pipeline,h.PostPipeline,h.ScrollFactor,h.Tint,h.Transform,h.Visible,u],initialize:function(C,P,w,M,R){P===void 0&&(P=0),w===void 0&&(w=0),l.call(this,C,"Text"),this.renderer=C.sys.renderer,this.setPosition(P,w),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(!0),this.canvas=y.create(this),this.context,this.style=new v(this,R),this.autoRound=!0,this.splitRegExp=/(?:\r\n|\r|\n)/,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.lineSpacing=0,this.letterSpacing=0,this.style.resolution===0&&(this.style.resolution=1),this._crop=this.resetCropObject(),this._textureKey=p(),this.texture=C.sys.textures.addCanvas(this._textureKey,this.canvas),this.context=this.texture.context,this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.initRTL(),this.setText(M),R&&R.padding&&this.setPadding(R.padding),R&&R.lineSpacing&&this.setLineSpacing(R.lineSpacing),R&&R.letterSpacing&&this.setLetterSpacing(R.letterSpacing)},initRTL:function(){this.style.rtl&&(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",o(this.canvas,this.scene.sys.canvas),this.originX=1)},runWordWrap:function(x){var C=this.style;if(C.wordWrapCallback){var P=C.wordWrapCallback.call(C.wordWrapCallbackScope,x,this);return Array.isArray(P)&&(P=P.join(`
`)),P}else return C.wordWrapWidth?C.wordWrapUseAdvanced?this.advancedWordWrap(x,this.context,this.style.wordWrapWidth):this.basicWordWrap(x,this.context,this.style.wordWrapWidth):x},advancedWordWrap:function(x,C,P){for(var w="",M=x.replace(/ +/gi," ").split(this.splitRegExp),R=M.length,A=0;A<R;A++){var L=M[A],F="";L=L.replace(/^ *|\s*$/gi,"");var G=L.length*this.letterSpacing,I=C.measureText(L).width+G;if(I<P){w+=L+`
`;continue}for(var B=P,k=L.split(" "),U=0;U<k.length;U++){var H=k[U],X=H+" ",j=X.length*this.letterSpacing,Z=C.measureText(X).width+j;if(console.log(k.length,H),Z>B){if(U===0){for(var Y=X;Y.length;){Y=Y.slice(0,-1);var $=Y.length*this.letterSpacing;if(Z=C.measureText(Y).width+$,Z<=B)break}if(!Y.length)throw new Error("wordWrapWidth < a single character");var z=H.substr(Y.length);k[U]=z,F+=Y}var V=k[U].length?U:U+1,K=k.slice(V).join(" ").replace(/[ \n]*$/gi,"");M.splice(A+1,0,K),R=M.length;break}else F+=X,B-=Z}w+=F.replace(/[ \n]*$/gi,"")+`
`}return w=w.replace(/[\s|\n]*$/gi,""),w},basicWordWrap:function(x,C,P){for(var w="",M=x.split(this.splitRegExp),R=M.length-1,A=C.measureText(" ").width,L=0;L<=R;L++){for(var F=P,G=M[L].split(" "),I=G.length-1,B=0;B<=I;B++){var k=G[B],U=k.length*this.letterSpacing,H=C.measureText(k).width+U,X=H;B<I&&(X+=A),X>F&&B>0&&(w+=`
`,F=P),w+=k,B<I?(w+=" ",F-=X):F-=H}L<R&&(w+=`
`)}return w},getWrappedText:function(x){x===void 0&&(x=this._text),this.style.syncFont(this.canvas,this.context);var C=this.runWordWrap(x);return C.split(this.splitRegExp)},setText:function(x){return!x&&x!==0&&(x=""),Array.isArray(x)&&(x=x.join(`
`)),x!==this._text&&(this._text=x.toString(),this.updateText()),this},appendText:function(x,C){C===void 0&&(C=!0),!x&&x!==0&&(x=""),Array.isArray(x)&&(x=x.join(`
`)),x=x.toString();var P=this._text.concat(C?`
`+x:x);return P!==this._text&&(this._text=P,this.updateText()),this},setStyle:function(x){return this.style.setStyle(x)},setFont:function(x){return this.style.setFont(x)},setFontFamily:function(x){return this.style.setFontFamily(x)},setFontSize:function(x){return this.style.setFontSize(x)},setFontStyle:function(x){return this.style.setFontStyle(x)},setFixedSize:function(x,C){return this.style.setFixedSize(x,C)},setBackgroundColor:function(x){return this.style.setBackgroundColor(x)},setFill:function(x){return this.style.setFill(x)},setColor:function(x){return this.style.setColor(x)},setStroke:function(x,C){return this.style.setStroke(x,C)},setShadow:function(x,C,P,w,M,R){return this.style.setShadow(x,C,P,w,M,R)},setShadowOffset:function(x,C){return this.style.setShadowOffset(x,C)},setShadowColor:function(x){return this.style.setShadowColor(x)},setShadowBlur:function(x){return this.style.setShadowBlur(x)},setShadowStroke:function(x){return this.style.setShadowStroke(x)},setShadowFill:function(x){return this.style.setShadowFill(x)},setWordWrapWidth:function(x,C){return this.style.setWordWrapWidth(x,C)},setWordWrapCallback:function(x,C){return this.style.setWordWrapCallback(x,C)},setAlign:function(x){return this.style.setAlign(x)},setResolution:function(x){return this.style.setResolution(x)},setLineSpacing:function(x){return this.lineSpacing=x,this.updateText()},setLetterSpacing:function(x){return this.letterSpacing=x,this.updateText()},setPadding:function(x,C,P,w){if(typeof x=="object"){var M=x,R=f(M,"x",null);R!==null?(x=R,P=R):(x=f(M,"left",0),P=f(M,"right",x));var A=f(M,"y",null);A!==null?(C=A,w=A):(C=f(M,"top",0),w=f(M,"bottom",C))}else x===void 0&&(x=0),C===void 0&&(C=x),P===void 0&&(P=x),w===void 0&&(w=C);return this.padding.left=x,this.padding.top=C,this.padding.right=P,this.padding.bottom=w,this.updateText()},setMaxLines:function(x){return this.style.setMaxLines(x)},setRTL:function(x){x===void 0&&(x=!0);var C=this.style;return C.rtl===x?this:(C.rtl=x,x?(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",o(this.canvas,this.scene.sys.canvas)):(this.canvas.dir="ltr",this.context.direction="ltr"),C.align==="left"?C.align="right":C.align==="right"&&(C.align="left"),this)},updateText:function(){var x=this.canvas,C=this.context,P=this.style,w=P.resolution,M=P.metrics;P.syncFont(x,C);var R=this._text;(P.wordWrapWidth||P.wordWrapCallback)&&(R=this.runWordWrap(this._text));var A=R.split(this.splitRegExp),L=a(this,M,A),F=this.padding,G;P.fixedWidth===0?(this.width=L.width+F.left+F.right,G=L.width):(this.width=P.fixedWidth,G=this.width-F.left-F.right,G<L.width&&(G=L.width)),P.fixedHeight===0?this.height=L.height+F.top+F.bottom:this.height=P.fixedHeight;var I=this.width,B=this.height;this.updateDisplayOrigin(),I*=w,B*=w,I=Math.max(I,1),B=Math.max(B,1),x.width!==I||x.height!==B?(x.width=I,x.height=B,this.frame.setSize(I,B),P.syncFont(x,C),P.rtl&&(C.direction="rtl")):C.clearRect(0,0,I,B),C.save(),C.scale(w,w),P.backgroundColor&&(C.fillStyle=P.backgroundColor,C.fillRect(0,0,I,B)),P.syncStyle(x,C),C.translate(F.left,F.top);for(var k,U,H=0;H<L.lines;H++){if(k=P.strokeThickness/2,U=P.strokeThickness/2+H*L.lineHeight+M.ascent,H>0&&(U+=L.lineSpacing*H),P.rtl)k=I-k-F.left-F.right;else if(P.align==="right")k+=G-L.lineWidths[H];else if(P.align==="center")k+=(G-L.lineWidths[H])/2;else if(P.align==="justify"){var X=.85;if(L.lineWidths[H]/L.width>=X){var j=L.width-L.lineWidths[H],Z=C.measureText(" ").width,Y=A[H].trim(),$=Y.split(" ");j+=(A[H].length-Y.length)*Z;for(var z=Math.floor(j/Z),V=0;z>0;)$[V]+=" ",V=(V+1)%($.length-1||1),--z;A[H]=$.join(" ")}}this.autoRound&&(k=Math.round(k),U=Math.round(U));var K=this.letterSpacing;if(P.strokeThickness&&K===0&&(P.syncShadow(C,P.shadowStroke),C.strokeText(A[H],k,U)),P.color)if(P.syncShadow(C,P.shadowFill),K!==0)for(var Q=0,_=A[H].split(""),tt=0;tt<_.length;tt++)P.strokeThickness&&(P.syncShadow(C,P.shadowStroke),C.strokeText(_[tt],k+Q,U),P.syncShadow(C,P.shadowFill)),C.fillText(_[tt],k+Q,U),Q+=C.measureText(_[tt]).width+K;else C.fillText(A[H],k,U)}C.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(x,this.frame.source.glTexture,!0));var rt=this.input;return rt&&!rt.customHitArea&&(rt.hitArea.width=this.width,rt.hitArea.height=this.height),this},getTextMetrics:function(){return this.style.getTextMetrics()},text:{get:function(){return this._text},set:function(x){this.setText(x)}},toJSON:function(){var x=h.ToJSON(this),C={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return x.data=C,x},preDestroy:function(){c(this.canvas),y.remove(this.canvas);var x=this.texture;x&&x.destroy()}});n.exports=m}),79724:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y,d){o.width===0||o.height===0||(y.addToRenderList(o),r.batchSprite(o,o.frame,y,d))};n.exports=T}),71259:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(25305),y=r(44603),d=r(23568),h=r(50171);y.register("text",function(l,a){l===void 0&&(l={});var f=d(l,"text",""),c=d(l,"style",null),u=d(l,"padding",null);u!==null&&(c.padding=u);var v=new h(this.scene,0,0,f,c);return a!==void 0&&(l.add=a),o(this.scene,v,l),v.autoRound=d(l,"autoRound",!0),v.resolution=d(l,"resolution",1),v})}),68005:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(50171),y=r(39429);y.register("text",function(d,h,l,a){return this.displayList.add(new o(this.scene,d,h,l,a))})}),61771:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),y=o,d=o;y=r(34397),d=r(79724),n.exports={renderWebGL:y,renderCanvas:d}}),35762:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(23568),d=r(35154),h=r(79557),l={fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],backgroundColor:["backgroundColor",null],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],align:["align","left"],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],rtl:["rtl",!1],testString:["testString","|Mqgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wordWrapWidth:["wordWrap.width",null],wordWrapCallback:["wordWrap.callback",null],wordWrapCallbackScope:["wordWrap.callbackScope",null],wordWrapUseAdvanced:["wordWrap.useAdvancedWrap",!1]},a=new o({initialize:function(c,u){this.parent=c,this.fontFamily,this.fontSize,this.fontStyle,this.backgroundColor,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.align,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.rtl,this.testString,this.baselineX,this.baselineY,this.wordWrapWidth,this.wordWrapCallback,this.wordWrapCallbackScope,this.wordWrapUseAdvanced,this._font,this.setStyle(u,!1,!0)},setStyle:function(f,c,u){c===void 0&&(c=!0),u===void 0&&(u=!1);for(var v in l){var p=u?l[v][1]:this[v];v==="wordWrapCallback"||v==="wordWrapCallbackScope"?this[v]=d(f,l[v][0],p):f&&v==="fontSize"&&typeof f.fontSize=="number"?this[v]=f.fontSize.toString()+"px":this[v]=y(f,l[v][0],p)}var m=d(f,"font",null);m!==null&&this.setFont(m,!1),this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim();var x=d(f,"fill",null);x!==null&&(this.color=x);var C=d(f,"metrics",!1);return C?this.metrics={ascent:d(C,"ascent",0),descent:d(C,"descent",0),fontSize:d(C,"fontSize",0)}:(c||!this.metrics)&&(this.metrics=h(this)),c?this.parent.updateText():this.parent},syncFont:function(f,c){c.font=this._font},syncStyle:function(f,c){c.textBaseline="alphabetic",c.fillStyle=this.color,c.strokeStyle=this.stroke,c.lineWidth=this.strokeThickness,c.lineCap="round",c.lineJoin="round"},syncShadow:function(f,c){c?(f.shadowOffsetX=this.shadowOffsetX,f.shadowOffsetY=this.shadowOffsetY,f.shadowColor=this.shadowColor,f.shadowBlur=this.shadowBlur):(f.shadowOffsetX=0,f.shadowOffsetY=0,f.shadowColor=0,f.shadowBlur=0)},update:function(f){return f&&(this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim(),this.metrics=h(this)),this.parent.updateText()},setFont:function(f,c){c===void 0&&(c=!0);var u=f,v="",p="";if(typeof f!="string")u=d(f,"fontFamily","Courier"),v=d(f,"fontSize","16px"),p=d(f,"fontStyle","");else{var m=f.split(" "),x=0;p=m.length>2?m[x++]:"",v=m[x++]||"16px",u=m[x++]||"Courier"}return(u!==this.fontFamily||v!==this.fontSize||p!==this.fontStyle)&&(this.fontFamily=u,this.fontSize=v,this.fontStyle=p,c&&this.update(!0)),this.parent},setFontFamily:function(f){return this.fontFamily!==f&&(this.fontFamily=f,this.update(!0)),this.parent},setFontStyle:function(f){return this.fontStyle!==f&&(this.fontStyle=f,this.update(!0)),this.parent},setFontSize:function(f){return typeof f=="number"&&(f=f.toString()+"px"),this.fontSize!==f&&(this.fontSize=f,this.update(!0)),this.parent},setTestString:function(f){return this.testString=f,this.update(!0)},setFixedSize:function(f,c){return this.fixedWidth=f,this.fixedHeight=c,f&&(this.parent.width=f),c&&(this.parent.height=c),this.update(!1)},setBackgroundColor:function(f){return this.backgroundColor=f,this.update(!1)},setFill:function(f){return this.color=f,this.update(!1)},setColor:function(f){return this.color=f,this.update(!1)},setResolution:function(f){return this.resolution=f,this.update(!1)},setStroke:function(f,c){return c===void 0&&(c=this.strokeThickness),f===void 0&&this.strokeThickness!==0?(this.strokeThickness=0,this.update(!0)):(this.stroke!==f||this.strokeThickness!==c)&&(this.stroke=f,this.strokeThickness=c,this.update(!0)),this.parent},setShadow:function(f,c,u,v,p,m){return f===void 0&&(f=0),c===void 0&&(c=0),u===void 0&&(u="#000"),v===void 0&&(v=0),p===void 0&&(p=!1),m===void 0&&(m=!0),this.shadowOffsetX=f,this.shadowOffsetY=c,this.shadowColor=u,this.shadowBlur=v,this.shadowStroke=p,this.shadowFill=m,this.update(!1)},setShadowOffset:function(f,c){return f===void 0&&(f=0),c===void 0&&(c=f),this.shadowOffsetX=f,this.shadowOffsetY=c,this.update(!1)},setShadowColor:function(f){return f===void 0&&(f="#000"),this.shadowColor=f,this.update(!1)},setShadowBlur:function(f){return f===void 0&&(f=0),this.shadowBlur=f,this.update(!1)},setShadowStroke:function(f){return this.shadowStroke=f,this.update(!1)},setShadowFill:function(f){return this.shadowFill=f,this.update(!1)},setWordWrapWidth:function(f,c){return c===void 0&&(c=!1),this.wordWrapWidth=f,this.wordWrapUseAdvanced=c,this.update(!1)},setWordWrapCallback:function(f,c){return c===void 0&&(c=null),this.wordWrapCallback=f,this.wordWrapCallbackScope=c,this.update(!1)},setAlign:function(f){return f===void 0&&(f="left"),this.align=f,this.update(!1)},setMaxLines:function(f){return f===void 0&&(f=0),this.maxLines=f,this.update(!1)},getTextMetrics:function(){var f=this.metrics;return{ascent:f.ascent,descent:f.descent,fontSize:f.fontSize}},toJSON:function(){var f={};for(var c in l)f[c]=this[c];return f.metrics=this.getTextMetrics(),f},destroy:function(){this.parent=void 0}});n.exports=a}),34397:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(70554),y=function(d,h,l,a){if(!(h.width===0||h.height===0)){l.addToRenderList(h);var f=h.frame,c=f.width,u=f.height,v=o.getTintAppendFloatAlpha,p=d.pipelines.set(h.pipeline,h),m=p.setTexture2D(f.glTexture,h);p.batchTexture(h,f.glTexture,c,u,h.x,h.y,c/h.style.resolution,u/h.style.resolution,h.scaleX,h.scaleY,h.rotation,h.flipX,h.flipY,h.scrollFactorX,h.scrollFactorY,h.displayOriginX,h.displayOriginY,0,0,c,u,v(h.tintTopLeft,l.alpha*h._alphaTL),v(h.tintTopRight,l.alpha*h._alphaTR),v(h.tintBottomLeft,l.alpha*h._alphaBL),v(h.tintBottomRight,l.alpha*h._alphaBR),h.tintFill,0,0,l,a,!1,m)}};n.exports=y}),20839:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(27919),y=r(83419),d=r(31401),h=r(95643),l=r(98439),a=r(68703),f=r(56295),c=r(45650),u=r(26099),v=8,p=new y({Extends:h,Mixins:[d.Alpha,d.BlendMode,d.ComputedSize,d.Crop,d.Depth,d.Flip,d.GetBounds,d.Mask,d.Origin,d.Pipeline,d.PostPipeline,d.ScrollFactor,d.Tint,d.Transform,d.Visible,f],initialize:function(x,C,P,w,M,R,A){var L=x.sys.renderer;h.call(this,x,"TileSprite");var F=x.sys.textures.get(R),G=F.get(A);G.source.compressionAlgorithm&&(console.warn("TileSprite cannot use compressed texture"),F=x.sys.textures.get("__MISSING"),G=F.get()),F.type==="DynamicTexture"&&(console.warn("TileSprite cannot use Dynamic Texture"),F=x.sys.textures.get("__MISSING"),G=F.get()),!w||!M?(w=w||G.width,M=M||G.height):(w=Math.floor(w),M=Math.floor(M)),this._tilePosition=new u,this._tileScale=new u(1,1),this.dirty=!1,this.renderer=L,this.canvas=o.create(this,w,M),this.context=this.canvas.getContext("2d",{willReadFrequently:!1}),this.displayTexture=F,this.displayFrame=G,this._crop=this.resetCropObject(),this._textureKey=c(),this.texture=x.sys.textures.addCanvas(this._textureKey,this.canvas),this.frame=this.texture.get(),this.potWidth=l(G.width),this.potHeight=l(G.height),this.fillCanvas=o.create2D(this,this.potWidth,this.potHeight),this.fillContext=this.fillCanvas.getContext("2d",{willReadFrequently:!1}),this.fillPattern=null,this.setPosition(C,P),this.setSize(w,M),this.setFrame(A),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},setTexture:function(m,x){return this.displayTexture=this.scene.sys.textures.get(m),this.setFrame(x)},setFrame:function(m){var x=this.displayTexture.get(m);return this.potWidth=l(x.width),this.potHeight=l(x.height),this.canvas.width=0,!x.cutWidth||!x.cutHeight?this.renderFlags&=~v:this.renderFlags|=v,this.displayFrame=x,this.dirty=!0,this.updateTileTexture(),this},setTilePosition:function(m,x){return m!==void 0&&(this.tilePositionX=m),x!==void 0&&(this.tilePositionY=x),this},setTileScale:function(m,x){return m===void 0&&(m=this.tileScaleX),x===void 0&&(x=m),this.tileScaleX=m,this.tileScaleY=x,this},updateTileTexture:function(){if(!(!this.dirty||!this.renderer)){var m=this.displayFrame;if(m.source.isRenderTexture||m.source.isGLTexture){console.warn("TileSprites can only use Image or Canvas based textures"),this.dirty=!1;return}var x=this.fillContext,C=this.fillCanvas,P=this.potWidth,w=this.potHeight;(!this.renderer||!this.renderer.gl)&&(P=m.cutWidth,w=m.cutHeight),x.clearRect(0,0,P,w),C.width=P,C.height=w,x.drawImage(m.source.image,m.cutX,m.cutY,m.cutWidth,m.cutHeight,0,0,P,w),this.renderer&&this.renderer.gl?this.fillPattern=this.renderer.canvasToTexture(C,this.fillPattern):this.fillPattern=x.createPattern(C,"repeat"),this.updateCanvas(),this.dirty=!1}},updateCanvas:function(){var m=this.canvas;if((m.width!==this.width||m.height!==this.height)&&(m.width=this.width,m.height=this.height,this.frame.setSize(this.width,this.height),this.updateDisplayOrigin(),this.dirty=!0),!this.dirty||this.renderer&&this.renderer.gl){this.dirty=!1;return}var x=this.context;this.scene.sys.game.config.antialias||a.disable(x);var C=this._tileScale.x,P=this._tileScale.y,w=this._tilePosition.x,M=this._tilePosition.y;x.clearRect(0,0,this.width,this.height),x.save(),x.scale(C,P),x.translate(-w,-M),x.fillStyle=this.fillPattern,x.fillRect(w,M,this.width/C,this.height/P),x.restore(),this.dirty=!1},preDestroy:function(){this.renderer&&this.renderer.gl&&this.renderer.deleteTexture(this.fillPattern),o.remove(this.canvas),o.remove(this.fillCanvas),this.fillPattern=null,this.fillContext=null,this.fillCanvas=null,this.displayTexture=null,this.displayFrame=null;var m=this.texture;m&&m.destroy(),this.renderer=null},tilePositionX:{get:function(){return this._tilePosition.x},set:function(m){this._tilePosition.x=m,this.dirty=!0}},tilePositionY:{get:function(){return this._tilePosition.y},set:function(m){this._tilePosition.y=m,this.dirty=!0}},tileScaleX:{get:function(){return this._tileScale.x},set:function(m){this._tileScale.x=m,this.dirty=!0}},tileScaleY:{get:function(){return this._tileScale.y},set:function(m){this._tileScale.y=m,this.dirty=!0}}});n.exports=p}),46992:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y,d){o.updateCanvas(),y.addToRenderList(o),r.batchSprite(o,o.frame,y,d)};n.exports=T}),14167:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(25305),y=r(44603),d=r(23568),h=r(20839);y.register("tileSprite",function(l,a){l===void 0&&(l={});var f=d(l,"x",0),c=d(l,"y",0),u=d(l,"width",512),v=d(l,"height",512),p=d(l,"key",""),m=d(l,"frame",""),x=new h(this.scene,f,c,u,v,p,m);return a!==void 0&&(l.add=a),o(this.scene,x,l),x})}),91681:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(20839),y=r(39429);y.register("tileSprite",function(d,h,l,a,f,c){return this.displayList.add(new o(this.scene,d,h,l,a,f,c))})}),56295:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),y=o,d=o;y=r(18553),d=r(46992),n.exports={renderWebGL:y,renderCanvas:d}}),18553:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(70554),y=function(d,h,l,a){h.updateCanvas();var f=h.width,c=h.height;if(!(f===0||c===0)){l.addToRenderList(h);var u=o.getTintAppendFloatAlpha,v=d.pipelines.set(h.pipeline,h),p=v.setTexture2D(h.fillPattern,h);v.batchTexture(h,h.fillPattern,h.displayFrame.width*h.tileScaleX,h.displayFrame.height*h.tileScaleY,h.x,h.y,f,c,h.scaleX,h.scaleY,h.rotation,h.flipX,h.flipY,h.scrollFactorX,h.scrollFactorY,h.originX*f,h.originY*c,0,0,f,c,u(h.tintTopLeft,l.alpha*h._alphaTL),u(h.tintTopRight,l.alpha*h._alphaTR),u(h.tintBottomLeft,l.alpha*h._alphaBL),u(h.tintBottomRight,l.alpha*h._alphaBR),h.tintFill,h.tilePositionX%h.displayFrame.width/h.displayFrame.width,h.tilePositionY%h.displayFrame.height/h.displayFrame.height,l,a,!1,p)}};n.exports=y}),18471:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(45319),y=r(83419),d=r(31401),h=r(51708),l=r(8443),a=r(95643),f=r(36383),c=r(14463),u=r(45650),v=r(10247),p=new y({Extends:a,Mixins:[d.Alpha,d.BlendMode,d.ComputedSize,d.Depth,d.Flip,d.GetBounds,d.Mask,d.Origin,d.Pipeline,d.PostPipeline,d.ScrollFactor,d.TextureCrop,d.Tint,d.Transform,d.Visible,v],initialize:function(x,C,P,w){a.call(this,x,"Video"),this.video,this.videoTexture,this.videoTextureSource,this.snapshotTexture,this.flipY=!1,this._key=u(),this.touchLocked=!1,this.playWhenUnlocked=!1,this.frameReady=!1,this.isStalled=!1,this.failedPlayAttempts=0,this.metadata,this.retry=0,this.retryInterval=500,this._systemMuted=!1,this._codeMuted=!1,this._systemPaused=!1,this._codePaused=!1,this._callbacks={ended:this.completeHandler.bind(this),legacy:this.legacyPlayHandler.bind(this),playing:this.playingHandler.bind(this),seeked:this.seekedHandler.bind(this),seeking:this.seekingHandler.bind(this),stalled:this.stalledHandler.bind(this),suspend:this.stalledHandler.bind(this),waiting:this.stalledHandler.bind(this)},this._loadCallbackHandler=this.loadErrorHandler.bind(this),this._metadataCallbackHandler=this.metadataHandler.bind(this),this._crop=this.resetCropObject(),this.markers={},this._markerIn=0,this._markerOut=0,this._playingMarker=!1,this._lastUpdate=0,this.cacheKey="",this.isSeeking=!1,this._playCalled=!1,this._getFrame=!1,this._rfvCallbackId=0;var M=x.sys.game;this._device=M.device.video,this.setPosition(C,P),this.setSize(256,256),this.initPipeline(),this.initPostPipeline(!0),M.events.on(l.PAUSE,this.globalPause,this),M.events.on(l.RESUME,this.globalResume,this);var R=x.sys.sound;R&&R.on(c.GLOBAL_MUTE,this.globalMute,this),w&&this.load(w)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},load:function(m){var x=this.scene.sys.cache.video.get(m);return x?(this.cacheKey=m,this.loadHandler(x.url,x.noAudio,x.crossOrigin)):console.warn("No video in cache for key: "+m),this},changeSource:function(m,x,C,P,w){x===void 0&&(x=!0),C===void 0&&(C=!1),this.cacheKey!==m&&(this.load(m),x&&this.play(C,P,w))},getVideoKey:function(){return this.cacheKey},loadURL:function(m,x,C){x===void 0&&(x=!1);var P=this._device.getVideoURL(m);return P?(this.cacheKey="",this.loadHandler(P.url,x,C)):console.warn("No supported video format found for "+m),this},loadMediaStream:function(m,x,C){return this.loadHandler(null,x,C,m)},loadHandler:function(m,x,C,P){x||(x=!1);var w=this.video;if(w?(this.removeLoadEventHandlers(),this.stop()):(w=document.createElement("video"),w.controls=!1,w.setAttribute("playsinline","playsinline"),w.setAttribute("preload","auto"),w.setAttribute("disablePictureInPicture","true")),x?(w.muted=!0,w.defaultMuted=!0,w.setAttribute("autoplay","autoplay")):(w.muted=!1,w.defaultMuted=!1,w.removeAttribute("autoplay")),C?w.setAttribute("crossorigin",C):w.removeAttribute("crossorigin"),P)if("srcObject"in w)try{w.srcObject=P}catch(R){if(R.name!=="TypeError")throw R;w.src=URL.createObjectURL(P)}else w.src=URL.createObjectURL(P);else w.src=m;this.retry=0,this.video=w,this._playCalled=!1,w.load(),this.addLoadEventHandlers();var M=this.scene.sys.textures.get(this._key);return this.setTexture(M),this},requestVideoFrame:function(m,x){var C=this.video;if(C){var P=x.width,w=x.height,M=this.videoTexture,R=this.videoTextureSource,A=!M||R.source!==C;A?(this._codePaused=C.paused,this._codeMuted=C.muted,M?(R.source=C,R.width=P,R.height=w,M.get().setSize(P,w)):(M=this.scene.sys.textures.create(this._key,C,P,w),M.add("__BASE",0,0,0,P,w),this.setTexture(M),this.videoTexture=M,this.videoTextureSource=M.source[0],this.videoTextureSource.setFlipY(this.flipY),this.emit(h.VIDEO_TEXTURE,this,M)),this.setSizeToFrame(),this.updateDisplayOrigin()):R.update(),this.isStalled=!1,this.metadata=x;var L=x.mediaTime;A&&(this._lastUpdate=L,this.emit(h.VIDEO_CREATED,this,P,w),this.frameReady||(this.frameReady=!0,this.emit(h.VIDEO_PLAY,this))),this._playingMarker?L>=this._markerOut&&(C.loop?(C.currentTime=this._markerIn,this.emit(h.VIDEO_LOOP,this)):(this.stop(!1),this.emit(h.VIDEO_COMPLETE,this))):L<this._lastUpdate&&this.emit(h.VIDEO_LOOP,this),this._lastUpdate=L,this._getFrame?(this.removeEventHandlers(),C.pause(),this._getFrame=!1):this._rfvCallbackId=this.video.requestVideoFrameCallback(this.requestVideoFrame.bind(this))}},play:function(m,x,C){x===void 0&&(x=-1),C===void 0&&(C=f.MAX_SAFE_INTEGER);var P=this.video;return!P||this.isPlaying()?(P||console.warn("Video not loaded"),this):(m===void 0&&(m=P.loop),P.loop=m,this._markerIn=x,this._markerOut=C,this._playingMarker=x>-1&&C>x&&C<f.MAX_SAFE_INTEGER,this._playCalled||(this._getFrame=!1,this._rfvCallbackId=P.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this._playCalled=!0,this.createPlayPromise()),this)},getFirstFrame:function(){var m=this.video;return!m||this.isPlaying()?(m||console.warn("Video not loaded"),this):(this._playCalled||(this._getFrame=!0,this._rfvCallbackId=m.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this.createPlayPromise()),this)},addLoadEventHandlers:function(){var m=this.video;m&&(m.addEventListener("error",this._loadCallbackHandler),m.addEventListener("abort",this._loadCallbackHandler),m.addEventListener("loadedmetadata",this._metadataCallbackHandler))},removeLoadEventHandlers:function(){var m=this.video;m&&(m.removeEventListener("error",this._loadCallbackHandler),m.removeEventListener("abort",this._loadCallbackHandler))},addEventHandlers:function(){var m=this.video;if(m){var x=this._callbacks;for(var C in x)m.addEventListener(C,x[C])}},removeEventHandlers:function(){var m=this.video;if(m){var x=this._callbacks;for(var C in x)m.removeEventListener(C,x[C])}},createPlayPromise:function(m){m===void 0&&(m=!0);var x=this.video,C=x.play();if(C!==void 0){var P=this.playSuccess.bind(this),w=this.playError.bind(this);if(!m){var M=this;w=function(){M.failedPlayAttempts++}}C.then(P).catch(w)}else x.addEventListener("playing",this._callbacks.legacy),m||this.failedPlayAttempts++},addMarker:function(m,x,C){return!isNaN(x)&&x>=0&&!isNaN(C)&&C>x&&(this.markers[m]=[x,C]),this},playMarker:function(m,x){var C=this.markers[m];return C&&this.play(x,C[0],C[1]),this},removeMarker:function(m){return delete this.markers[m],this},snapshot:function(m,x){return m===void 0&&(m=this.width),x===void 0&&(x=this.height),this.snapshotArea(0,0,this.width,this.height,m,x)},snapshotArea:function(m,x,C,P,w,M){m===void 0&&(m=0),x===void 0&&(x=0),C===void 0&&(C=this.width),P===void 0&&(P=this.height),w===void 0&&(w=C),M===void 0&&(M=P);var R=this.video,A=this.snapshotTexture;return A?(A.setSize(w,M),R&&A.context.drawImage(R,m,x,C,P,0,0,w,M)):(A=this.scene.sys.textures.createCanvas(u(),w,M),this.snapshotTexture=A,R&&A.context.drawImage(R,m,x,C,P,0,0,w,M)),A.update()},saveSnapshotTexture:function(m){return this.snapshotTexture?this.scene.sys.textures.renameTexture(this.snapshotTexture.key,m):this.snapshotTexture=this.scene.sys.textures.createCanvas(m,this.width,this.height),this.snapshotTexture},playSuccess:function(){if(this._playCalled){this.addEventHandlers(),this._codePaused=!1,this.touchLocked&&(this.touchLocked=!1,this.emit(h.VIDEO_UNLOCKED,this));var m=this.scene.sys.sound;m&&m.mute&&this.setMute(!0),this._markerIn>-1&&(this.video.currentTime=this._markerIn)}},playError:function(m){var x=m.name;x==="NotAllowedError"?(this.touchLocked=!0,this.playWhenUnlocked=!0,this.failedPlayAttempts=1,this.emit(h.VIDEO_LOCKED,this)):x==="NotSupportedError"?(this.stop(!1),this.emit(h.VIDEO_UNSUPPORTED,this,m)):(this.stop(!1),this.emit(h.VIDEO_ERROR,this,m))},legacyPlayHandler:function(){var m=this.video;m&&(this.playSuccess(),m.removeEventListener("playing",this._callbacks.legacy))},playingHandler:function(){this.isStalled=!1,this.emit(h.VIDEO_PLAYING,this)},loadErrorHandler:function(m){this.stop(!1),this.emit(h.VIDEO_ERROR,this,m)},metadataHandler:function(m){this.emit(h.VIDEO_METADATA,this,m)},setSizeToFrame:function(m){m||(m=this.frame),this.width=m.realWidth,this.height=m.realHeight,this.scaleX!==1&&(this.scaleX=this.displayWidth/this.width),this.scaleY!==1&&(this.scaleY=this.displayHeight/this.height);var x=this.input;return x&&!x.customHitArea&&(x.hitArea.width=this.width,x.hitArea.height=this.height),this},stalledHandler:function(m){this.isStalled=!0,this.emit(h.VIDEO_STALLED,this,m)},completeHandler:function(){this._playCalled=!1,this.emit(h.VIDEO_COMPLETE,this)},preUpdate:function(m,x){var C=this.video;!C||!this._playCalled||this.touchLocked&&this.playWhenUnlocked&&(this.retry+=x,this.retry>=this.retryInterval&&(this.createPlayPromise(!1),this.retry=0))},seekTo:function(m){var x=this.video;if(x){var C=x.duration;if(C!==1/0&&!isNaN(C)){var P=C*m;this.setCurrentTime(P)}}return this},getCurrentTime:function(){return this.video?this.video.currentTime:0},setCurrentTime:function(m){var x=this.video;if(x){if(typeof m=="string"){var C=m[0],P=parseFloat(m.substr(1));C==="+"?m=x.currentTime+P:C==="-"&&(m=x.currentTime-P)}x.currentTime=m}return this},seekingHandler:function(){this.isSeeking=!0,this.emit(h.VIDEO_SEEKING,this)},seekedHandler:function(){this.isSeeking=!1,this.emit(h.VIDEO_SEEKED,this)},getProgress:function(){var m=this.video;if(m){var x=m.duration;if(x!==1/0&&!isNaN(x))return m.currentTime/x}return-1},getDuration:function(){return this.video?this.video.duration:0},setMute:function(m){m===void 0&&(m=!0),this._codeMuted=m;var x=this.video;return x&&(x.muted=this._systemMuted?!0:m),this},isMuted:function(){return this._codeMuted},globalMute:function(m,x){this._systemMuted=x;var C=this.video;C&&(C.muted=this._codeMuted?!0:x)},globalPause:function(){this._systemPaused=!0,this.video&&!this.video.ended&&(this.removeEventHandlers(),this.video.pause())},globalResume:function(){this._systemPaused=!1,this.video&&!this._codePaused&&!this.video.ended&&this.createPlayPromise()},setPaused:function(m){m===void 0&&(m=!0);var x=this.video;return this._codePaused=m,x&&!x.ended&&(m?x.paused||(this.removeEventHandlers(),x.pause()):m||(this._playCalled?x.paused&&!this._systemPaused&&this.createPlayPromise():this.play())),this},pause:function(){return this.setPaused(!0)},resume:function(){return this.setPaused(!1)},getVolume:function(){return this.video?this.video.volume:1},setVolume:function(m){return m===void 0&&(m=1),this.video&&(this.video.volume=o(m,0,1)),this},getPlaybackRate:function(){return this.video?this.video.playbackRate:1},setPlaybackRate:function(m){return this.video&&(this.video.playbackRate=m),this},getLoop:function(){return this.video?this.video.loop:!1},setLoop:function(m){return m===void 0&&(m=!0),this.video&&(this.video.loop=m),this},isPlaying:function(){return this.video?!(this.video.paused||this.video.ended):!1},isPaused:function(){return this.video&&this._playCalled&&this.video.paused||this._codePaused||this._systemPaused},saveTexture:function(m,x){return x===void 0&&(x=!1),this.videoTexture&&(this.scene.sys.textures.renameTexture(this._key,m),this.videoTextureSource.setFlipY(x)),this._key=m,this.flipY=x,!!this.videoTexture},stop:function(m){m===void 0&&(m=!0);var x=this.video;return x&&(this.removeEventHandlers(),x.cancelVideoFrameCallback(this._rfvCallbackId),x.pause()),this.retry=0,this._playCalled=!1,m&&this.emit(h.VIDEO_STOP,this),this},removeVideoElement:function(){var m=this.video;if(m){for(m.parentNode&&m.parentNode.removeChild(m);m.hasChildNodes();)m.removeChild(m.firstChild);m.removeAttribute("autoplay"),m.removeAttribute("src"),this.video=null}},preDestroy:function(){this.stop(!1),this.removeLoadEventHandlers(),this.removeVideoElement();var m=this.scene.sys.game.events;m.off(l.PAUSE,this.globalPause,this),m.off(l.RESUME,this.globalResume,this);var x=this.scene.sys.sound;x&&x.off(c.GLOBAL_MUTE,this.globalMute,this)}});n.exports=p}),58352:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y,d){o.videoTexture&&(y.addToRenderList(o),r.batchSprite(o,o.frame,y,d))};n.exports=T}),11511:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(25305),y=r(44603),d=r(23568),h=r(18471);y.register("video",function(l,a){l===void 0&&(l={});var f=d(l,"key",null),c=new h(this.scene,0,0,f);return a!==void 0&&(l.add=a),o(this.scene,c,l),c})}),89025:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(18471),y=r(39429);y.register("video",function(d,h,l){return this.displayList.add(new o(this.scene,d,h,l))})}),10247:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),y=o,d=o;y=r(29849),d=r(58352),n.exports={renderWebGL:y,renderCanvas:d}}),29849:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y,d){o.videoTexture&&(y.addToRenderList(o),o.pipeline.batchSprite(o,y,d))};n.exports=T}),41481:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(10312),y=r(96503),d=r(87902),h=r(83419),l=r(31401),a=r(95643),f=r(87841),c=r(37303),u=new h({Extends:a,Mixins:[l.Depth,l.GetBounds,l.Origin,l.Transform,l.ScrollFactor,l.Visible],initialize:function(p,m,x,C,P){C===void 0&&(C=1),P===void 0&&(P=C),a.call(this,p,"Zone"),this.setPosition(m,x),this.width=C,this.height=P,this.blendMode=o.NORMAL,this.updateDisplayOrigin()},displayWidth:{get:function(){return this.scaleX*this.width},set:function(v){this.scaleX=v/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(v){this.scaleY=v/this.height}},setSize:function(v,p,m){m===void 0&&(m=!0),this.width=v,this.height=p,this.updateDisplayOrigin();var x=this.input;return m&&x&&!x.customHitArea&&(x.hitArea.width=v,x.hitArea.height=p),this},setDisplaySize:function(v,p){return this.displayWidth=v,this.displayHeight=p,this},setCircleDropZone:function(v){return this.setDropZone(new y(0,0,v),d)},setRectangleDropZone:function(v,p){return this.setDropZone(new f(0,0,v,p),c)},setDropZone:function(v,p){return this.input||this.setInteractive(v,p,!0),this},setAlpha:function(){},setBlendMode:function(){},renderCanvas:function(v,p,m){m.addToRenderList(p)},renderWebGL:function(v,p,m){m.addToRenderList(p)}});n.exports=u}),95261:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(44603),y=r(23568),d=r(41481);o.register("zone",function(h){var l=y(h,"x",0),a=y(h,"y",0),f=y(h,"width",1),c=y(h,"height",f);return new d(this.scene,l,a,f,c)})}),84175:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(41481),y=r(39429);y.register("zone",function(d,h,l,a){return this.displayList.add(new o(this.scene,d,h,l,a))})}),95166:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r.radius>0?Math.PI*r.radius*r.radius:0};n.exports=T}),96503:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(87902),d=r(26241),h=r(79124),l=r(23777),a=r(28176),f=new o({initialize:function(u,v,p){u===void 0&&(u=0),v===void 0&&(v=0),p===void 0&&(p=0),this.type=l.CIRCLE,this.x=u,this.y=v,this._radius=p,this._diameter=p*2},contains:function(c,u){return y(this,c,u)},getPoint:function(c,u){return d(this,c,u)},getPoints:function(c,u,v){return h(this,c,u,v)},getRandomPoint:function(c){return a(this,c)},setTo:function(c,u,v){return this.x=c,this.y=u,this._radius=v,this._diameter=v*2,this},setEmpty:function(){return this._radius=0,this._diameter=0,this},setPosition:function(c,u){return u===void 0&&(u=c),this.x=c,this.y=u,this},isEmpty:function(){return this._radius<=0},radius:{get:function(){return this._radius},set:function(c){this._radius=c,this._diameter=c*2}},diameter:{get:function(){return this._diameter},set:function(c){this._diameter=c,this._radius=c*.5}},left:{get:function(){return this.x-this._radius},set:function(c){this.x=c+this._radius}},right:{get:function(){return this.x+this._radius},set:function(c){this.x=c-this._radius}},top:{get:function(){return this.y-this._radius},set:function(c){this.y=c+this._radius}},bottom:{get:function(){return this.y+this._radius},set:function(c){this.y=c-this._radius}}});n.exports=f}),71562:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return 2*(Math.PI*r.radius)};n.exports=T}),92110:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141),y=function(d,h,l){return l===void 0&&(l=new o),l.x=d.x+d.radius*Math.cos(h),l.y=d.y+d.radius*Math.sin(h),l};n.exports=y}),42250:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(96503),y=function(d){return new o(d.x,d.y,d.radius)};n.exports=y}),87902:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y){if(r.radius>0&&o>=r.left&&o<=r.right&&y>=r.top&&y<=r.bottom){var d=(r.x-o)*(r.x-o),h=(r.y-y)*(r.y-y);return d+h<=r.radius*r.radius}else return!1};n.exports=T}),5698:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(87902),y=function(d,h){return o(d,h.x,h.y)};n.exports=y}),70588:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(87902),y=function(d,h){return o(d,h.x,h.y)&&o(d,h.right,h.y)&&o(d,h.x,h.bottom)&&o(d,h.right,h.bottom)};n.exports=y}),26394:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return o.setTo(r.x,r.y,r.radius)};n.exports=T}),76278:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return r.x===o.x&&r.y===o.y&&r.radius===o.radius};n.exports=T}),2074:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(87841),y=function(d,h){return h===void 0&&(h=new o),h.x=d.left,h.y=d.top,h.width=d.diameter,h.height=d.diameter,h};n.exports=y}),26241:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(92110),y=r(62945),d=r(36383),h=r(2141),l=function(a,f,c){c===void 0&&(c=new h);var u=y(f,0,d.PI2);return o(a,u,c)};n.exports=l}),79124:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(71562),y=r(92110),d=r(62945),h=r(36383),l=function(a,f,c,u){u===void 0&&(u=[]),!f&&c>0&&(f=o(a)/c);for(var v=0;v<f;v++){var p=d(v/f,0,h.PI2);u.push(y(a,p))}return u};n.exports=l}),50884:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y){return r.x+=o,r.y+=y,r};n.exports=T}),39212:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return r.x+=o.x,r.y+=o.y,r};n.exports=T}),28176:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141),y=function(d,h){h===void 0&&(h=new o);var l=2*Math.PI*Math.random(),a=Math.random()+Math.random(),f=a>1?2-a:a,c=f*Math.cos(l),u=f*Math.sin(l);return h.x=d.x+c*d.radius,h.y=d.y+u*d.radius,h};n.exports=y}),88911:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(96503);o.Area=r(95166),o.Circumference=r(71562),o.CircumferencePoint=r(92110),o.Clone=r(42250),o.Contains=r(87902),o.ContainsPoint=r(5698),o.ContainsRect=r(70588),o.CopyFrom=r(26394),o.Equals=r(76278),o.GetBounds=r(2074),o.GetPoint=r(26241),o.GetPoints=r(79124),o.Offset=r(50884),o.OffsetPoint=r(39212),o.Random=r(28176),n.exports=o}),23777:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={CIRCLE:0,ELLIPSE:1,LINE:2,POINT:3,POLYGON:4,RECTANGLE:5,TRIANGLE:6};n.exports=T}),78874:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r.isEmpty()?0:r.getMajorRadius()*r.getMinorRadius()*Math.PI};n.exports=T}),92990:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){var o=r.width/2,y=r.height/2,d=Math.pow(o-y,2)/Math.pow(o+y,2);return Math.PI*(o+y)*(1+3*d/(10+Math.sqrt(4-3*d)))};n.exports=T}),79522:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141),y=function(d,h,l){l===void 0&&(l=new o);var a=d.width/2,f=d.height/2;return l.x=d.x+a*Math.cos(h),l.y=d.y+f*Math.sin(h),l};n.exports=y}),58102:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(8497),y=function(d){return new o(d.x,d.y,d.width,d.height)};n.exports=y}),81154:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y){if(r.width<=0||r.height<=0)return!1;var d=(o-r.x)/r.width,h=(y-r.y)/r.height;return d*=d,h*=h,d+h<.25};n.exports=T}),46662:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(81154),y=function(d,h){return o(d,h.x,h.y)};n.exports=y}),1632:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(81154),y=function(d,h){return o(d,h.x,h.y)&&o(d,h.right,h.y)&&o(d,h.x,h.bottom)&&o(d,h.right,h.bottom)};n.exports=y}),65534:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return o.setTo(r.x,r.y,r.width,r.height)};n.exports=T}),8497:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(81154),d=r(90549),h=r(48320),l=r(23777),a=r(24820),f=new o({initialize:function(u,v,p,m){u===void 0&&(u=0),v===void 0&&(v=0),p===void 0&&(p=0),m===void 0&&(m=0),this.type=l.ELLIPSE,this.x=u,this.y=v,this.width=p,this.height=m},contains:function(c,u){return y(this,c,u)},getPoint:function(c,u){return d(this,c,u)},getPoints:function(c,u,v){return h(this,c,u,v)},getRandomPoint:function(c){return a(this,c)},setTo:function(c,u,v,p){return this.x=c,this.y=u,this.width=v,this.height=p,this},setEmpty:function(){return this.width=0,this.height=0,this},setPosition:function(c,u){return u===void 0&&(u=c),this.x=c,this.y=u,this},setSize:function(c,u){return u===void 0&&(u=c),this.width=c,this.height=u,this},isEmpty:function(){return this.width<=0||this.height<=0},getMinorRadius:function(){return Math.min(this.width,this.height)/2},getMajorRadius:function(){return Math.max(this.width,this.height)/2},left:{get:function(){return this.x-this.width/2},set:function(c){this.x=c+this.width/2}},right:{get:function(){return this.x+this.width/2},set:function(c){this.x=c-this.width/2}},top:{get:function(){return this.y-this.height/2},set:function(c){this.y=c+this.height/2}},bottom:{get:function(){return this.y+this.height/2},set:function(c){this.y=c-this.height/2}}});n.exports=f}),36146:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return r.x===o.x&&r.y===o.y&&r.width===o.width&&r.height===o.height};n.exports=T}),23694:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(87841),y=function(d,h){return h===void 0&&(h=new o),h.x=d.left,h.y=d.top,h.width=d.width,h.height=d.height,h};n.exports=y}),90549:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(79522),y=r(62945),d=r(36383),h=r(2141),l=function(a,f,c){c===void 0&&(c=new h);var u=y(f,0,d.PI2);return o(a,u,c)};n.exports=l}),48320:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(92990),y=r(79522),d=r(62945),h=r(36383),l=function(a,f,c,u){u===void 0&&(u=[]),!f&&c>0&&(f=o(a)/c);for(var v=0;v<f;v++){var p=d(v/f,0,h.PI2);u.push(y(a,p))}return u};n.exports=l}),73424:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y){return r.x+=o,r.y+=y,r};n.exports=T}),44808:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return r.x+=o.x,r.y+=o.y,r};n.exports=T}),24820:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141),y=function(d,h){h===void 0&&(h=new o);var l=Math.random()*Math.PI*2,a=Math.sqrt(Math.random());return h.x=d.x+a*Math.cos(l)*d.width/2,h.y=d.y+a*Math.sin(l)*d.height/2,h};n.exports=y}),49203:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(8497);o.Area=r(78874),o.Circumference=r(92990),o.CircumferencePoint=r(79522),o.Clone=r(58102),o.Contains=r(81154),o.ContainsPoint=r(46662),o.ContainsRect=r(1632),o.CopyFrom=r(65534),o.Equals=r(36146),o.GetBounds=r(23694),o.GetPoint=r(90549),o.GetPoints=r(48320),o.Offset=r(73424),o.OffsetPoint=r(44808),o.Random=r(24820),n.exports=o}),55738:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(23777),y=r(79291),d={Circle:r(88911),Ellipse:r(49203),Intersects:r(91865),Line:r(2529),Mesh:r(73090),Point:r(43711),Polygon:r(58423),Rectangle:r(93232),Triangle:r(84435)};d=y(!1,d,o),n.exports=d}),2044:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(20339),y=function(d,h){return o(d.x,d.y,h.x,h.y)<=d.radius+h.radius};n.exports=y}),81491:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){var y=o.width/2,d=o.height/2,h=Math.abs(r.x-o.x-y),l=Math.abs(r.y-o.y-d),a=y+r.radius,f=d+r.radius;if(h>a||l>f)return!1;if(h<=y||l<=d)return!0;var c=h-y,u=l-d,v=c*c,p=u*u,m=r.radius*r.radius;return v+p<=m};n.exports=T}),63376:((n,T,r)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141),y=r(2044),d=function(h,l,a){if(a===void 0&&(a=[]),y(h,l)){var f=h.x,c=h.y,u=h.radius,v=l.x,p=l.y,m=l.radius,x,C,P,w,M;if(c===p)M=(m*m-u*u-v*v+f*f)/(2*(f-v)),x=1,C=-2*p,P=v*v+M*M-2*v*M+p*p-m*m,w=C*C-4*x*P,w===0?a.push(new o(M,-C/(2*x))):w>0&&(a.push(new o(M,(-C+Math.sqrt(w))/(2*x))),a.push(new o(M,(-C-Math.sqrt(w))/(2*x))));else{var R=(f-v)/(c-p),A=(m*m-u*u-v*v+f*f-p*p+c*c)/(2*(c-p));x=R*R+1,C=2*c*R-2*A*R-2*f,P=f*f+c*c+A*A-u*u-2*c*A,w=C*C-4*x*P,w===0?(M=-C/(2*x),a.push(new o(M,A-M*R))):w>0&&(M=(-C+Math.sqrt(w))/(2*x),a.push(new o(M,A-M*R)),M=(-C-Math.sqrt(w))/(2*x),a.push(new o(M,A-M*R)))}}return a};n.exports=d}),97439:((n,T,r)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(4042),y=r(81491),d=function(h,l,a){if(a===void 0&&(a=[]),y(h,l)){var f=l.getLineA(),c=l.getLineB(),u=l.getLineC(),v=l.getLineD();o(f,h,a),o(c,h,a),o(u,h,a),o(v,h,a)}return a};n.exports=d}),4042:((n,T,r)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141),y=r(80462),d=function(h,l,a){if(a===void 0&&(a=[]),y(h,l)){var f=h.x1,c=h.y1,u=h.x2,v=h.y2,p=l.x,m=l.y,x=l.radius,C=u-f,P=v-c,w=f-p,M=c-m,R=C*C+P*P,A=2*(C*w+P*M),L=w*w+M*M-x*x,F=A*A-4*R*L,G,I;if(F===0){var B=-A/(2*R);G=f+B*C,I=c+B*P,B>=0&&B<=1&&a.push(new o(G,I))}else if(F>0){var k=(-A-Math.sqrt(F))/(2*R);G=f+k*C,I=c+k*P,k>=0&&k<=1&&a.push(new o(G,I));var U=(-A+Math.sqrt(F))/(2*R);G=f+U*C,I=c+U*P,U>=0&&U<=1&&a.push(new o(G,I))}}return a};n.exports=d}),36100:((n,T,r)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(25836),y=function(d,h,l,a){l===void 0&&(l=!1);var f=d.x1,c=d.y1,u=d.x2,v=d.y2,p=h.x1,m=h.y1,x=h.x2,C=h.y2,P=u-f,w=v-c,M=x-p,R=C-m,A=P*R-w*M;if(A===0)return null;var L,F,G;if(l){if(L=(P*(m-c)+w*(f-p))/(M*w-R*P),P!==0)F=(p+M*L-f)/P;else if(w!==0)F=(m+R*L-c)/w;else return null;if(F<0||L<0||L>1)return null;G=F}else{if(L=((p-f)*R-(m-c)*M)/A,F=((c-m)*P-(f-p)*w)/A,L<0||L>1||F<0||F>1)return null;G=L}return a===void 0&&(a=new o),a.set(f+P*G,c+w*G,G)};n.exports=y}),3073:((n,T,r)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(36100),y=r(23031),d=r(25836),h=new y,l=new d,a=function(f,c,u,v){u===void 0&&(u=!1),v===void 0&&(v=new d);var p=!1;v.set(),l.set();for(var m=c[c.length-1],x=0;x<c.length;x++){var C=c[x];h.setTo(m.x,m.y,C.x,C.y),m=C,o(f,h,u,l)&&(!p||l.z<v.z)&&(v.copy(l),p=!0)}return p?v:null};n.exports=a}),56362:((n,T,r)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(25836),y=r(61369),d=r(3073),h=new o,l=function(a,f,c,u){u===void 0&&(u=new y),Array.isArray(f)||(f=[f]);var v=!1;u.set(),h.set();for(var p=0;p<f.length;p++)d(a,f[p].points,c,h)&&(!v||h.z<u.z)&&(u.set(h.x,h.y,h.z,p),v=!0);return v?u:null};n.exports=l}),60646:((n,T,r)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141),y=r(76112),d=r(92773),h=function(l,a,f){if(f===void 0&&(f=[]),d(l,a))for(var c=a.getLineA(),u=a.getLineB(),v=a.getLineC(),p=a.getLineD(),m=[new o,new o,new o,new o],x=[y(c,l,m[0]),y(u,l,m[1]),y(v,l,m[2]),y(p,l,m[3])],C=0;C<4;C++)x[C]&&f.push(m[C]);return f};n.exports=h}),71147:((n,T,r)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(61369),y=r(56362),d=r(23031),h=new d;function l(c,u,v,p,m){var x=Math.cos(c),C=Math.sin(c);h.setTo(u,v,u+x,v+C);var P=y(h,p,!0);P&&m.push(new o(P.x,P.y,c,P.w))}function a(c,u){return c.z-u.z}var f=function(c,u,v){Array.isArray(v)||(v=[v]);for(var p=[],m=[],x=0;x<v.length;x++)for(var C=v[x].points,P=0;P<C.length;P++){var w=Math.atan2(C[P].y-u,C[P].x-c);m.indexOf(w)===-1&&(l(w,c,u,v,p),l(w-1e-5,c,u,v,p),l(w+1e-5,c,u,v,p),m.push(w))}return p.sort(a)};n.exports=f}),68389:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(87841),y=r(59996),d=function(h,l,a){return a===void 0&&(a=new o),y(h,l)&&(a.x=Math.max(h.x,l.x),a.y=Math.max(h.y,l.y),a.width=Math.min(h.right,l.right)-a.x,a.height=Math.min(h.bottom,l.bottom)-a.y),a};n.exports=d}),52784:((n,T,r)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(60646),y=r(59996),d=function(h,l,a){if(a===void 0&&(a=[]),y(h,l)){var f=h.getLineA(),c=h.getLineB(),u=h.getLineC(),v=h.getLineD();o(f,l,a),o(c,l,a),o(u,l,a),o(v,l,a)}return a};n.exports=d}),26341:((n,T,r)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(89265),y=r(60646),d=function(h,l,a){if(a===void 0&&(a=[]),o(h,l)){var f=l.getLineA(),c=l.getLineB(),u=l.getLineC();y(f,h,a),y(c,h,a),y(u,h,a)}return a};n.exports=d}),38720:((n,T,r)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(4042),y=r(67636),d=function(h,l,a){if(a===void 0&&(a=[]),y(h,l)){var f=h.getLineA(),c=h.getLineB(),u=h.getLineC();o(f,l,a),o(c,l,a),o(u,l,a)}return a};n.exports=d}),13882:((n,T,r)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141),y=r(2822),d=r(76112),h=function(l,a,f){if(f===void 0&&(f=[]),y(l,a))for(var c=l.getLineA(),u=l.getLineB(),v=l.getLineC(),p=[new o,new o,new o],m=[d(c,a,p[0]),d(u,a,p[1]),d(v,a,p[2])],x=0;x<3;x++)m[x]&&f.push(p[x]);return f};n.exports=h}),75636:((n,T,r)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(82944),y=r(13882),d=function(h,l,a){if(a===void 0&&(a=[]),o(h,l)){var f=l.getLineA(),c=l.getLineB(),u=l.getLineC();y(h,f,a),y(h,c,a),y(h,u,a)}return a};n.exports=d}),80462:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(87902),y=r(2141),d=new y,h=function(l,a,f){if(f===void 0&&(f=d),o(a,l.x1,l.y1))return f.x=l.x1,f.y=l.y1,!0;if(o(a,l.x2,l.y2))return f.x=l.x2,f.y=l.y2,!0;var c=l.x2-l.x1,u=l.y2-l.y1,v=a.x-l.x1,p=a.y-l.y1,m=c*c+u*u,x=c,C=u;if(m>0){var P=(v*c+p*u)/m;x*=P,C*=P}f.x=l.x1+x,f.y=l.y1+C;var w=x*x+C*C;return w<=m&&x*c+C*u>=0&&o(a,f.x,f.y)};n.exports=h}),76112:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y){var d=r.x1,h=r.y1,l=r.x2,a=r.y2,f=o.x1,c=o.y1,u=o.x2,v=o.y2;if(d===l&&h===a||f===u&&c===v)return!1;var p=(v-c)*(l-d)-(u-f)*(a-h);if(p===0)return!1;var m=((u-f)*(h-c)-(v-c)*(d-f))/p,x=((l-d)*(h-c)-(a-h)*(d-f))/p;return m<0||m>1||x<0||x>1?!1:(y&&(y.x=d+m*(l-d),y.y=h+m*(a-h)),!0)};n.exports=T}),92773:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){var y=r.x1,d=r.y1,h=r.x2,l=r.y2,a=o.x,f=o.y,c=o.right,u=o.bottom,v=0;if(y>=a&&y<=c&&d>=f&&d<=u||h>=a&&h<=c&&l>=f&&l<=u)return!0;if(y<a&&h>=a){if(v=d+(l-d)*(a-y)/(h-y),v>f&&v<=u)return!0}else if(y>c&&h<=c&&(v=d+(l-d)*(c-y)/(h-y),v>=f&&v<=u))return!0;if(d<f&&l>=f){if(v=y+(h-y)*(f-d)/(l-d),v>=a&&v<=c)return!0}else if(d>u&&l<=u&&(v=y+(h-y)*(u-d)/(l-d),v>=a&&v<=c))return!0;return!1};n.exports=T}),16204:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y){y===void 0&&(y=1);var d=o.x1,h=o.y1,l=o.x2,a=o.y2,f=r.x,c=r.y,u=(l-d)*(l-d)+(a-h)*(a-h);if(u===0)return!1;var v=((f-d)*(l-d)+(c-h)*(a-h))/u;if(v<0)return Math.sqrt((d-f)*(d-f)+(h-c)*(h-c))<=y;if(v>=0&&v<=1){var p=((h-c)*(l-d)-(d-f)*(a-h))/u;return Math.abs(p)*Math.sqrt(u)<=y}else return Math.sqrt((l-f)*(l-f)+(a-c)*(a-c))<=y};n.exports=T}),14199:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(16204),y=function(d,h){if(!o(d,h))return!1;var l=Math.min(h.x1,h.x2),a=Math.max(h.x1,h.x2),f=Math.min(h.y1,h.y2),c=Math.max(h.y1,h.y2);return d.x>=l&&d.x<=a&&d.y>=f&&d.y<=c};n.exports=y}),59996:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return r.width<=0||r.height<=0||o.width<=0||o.height<=0?!1:!(r.right<o.x||r.bottom<o.y||r.x>o.right||r.y>o.bottom)};n.exports=T}),89265:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(76112),y=r(37303),d=r(48653),h=r(77493),l=function(a,f){if(f.left>a.right||f.right<a.left||f.top>a.bottom||f.bottom<a.top)return!1;var c=f.getLineA(),u=f.getLineB(),v=f.getLineC();if(y(a,c.x1,c.y1)||y(a,c.x2,c.y2)||y(a,u.x1,u.y1)||y(a,u.x2,u.y2)||y(a,v.x1,v.y1)||y(a,v.x2,v.y2))return!0;var p=a.getLineA(),m=a.getLineB(),x=a.getLineC(),C=a.getLineD();if(o(c,p)||o(c,m)||o(c,x)||o(c,C)||o(u,p)||o(u,m)||o(u,x)||o(u,C)||o(v,p)||o(v,m)||o(v,x)||o(v,C))return!0;var P=h(a),w=d(f,P,!0);return w.length>0};n.exports=l}),84411:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y,d,h,l){return l===void 0&&(l=0),!(o>r.right+l||y<r.left-l||d>r.bottom+l||h<r.top-l)};n.exports=T}),67636:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(80462),y=r(10690),d=function(h,l){return h.left>l.right||h.right<l.left||h.top>l.bottom||h.bottom<l.top?!1:!!(y(h,l.x,l.y)||o(h.getLineA(),l)||o(h.getLineB(),l)||o(h.getLineC(),l))};n.exports=d}),2822:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(76112),y=function(d,h){return!!(d.contains(h.x1,h.y1)||d.contains(h.x2,h.y2)||o(d.getLineA(),h)||o(d.getLineB(),h)||o(d.getLineC(),h))};n.exports=y}),82944:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(48653),y=r(71694),d=r(76112),h=function(l,a){if(l.left>a.right||l.right<a.left||l.top>a.bottom||l.bottom<a.top)return!1;var f=l.getLineA(),c=l.getLineB(),u=l.getLineC(),v=a.getLineA(),p=a.getLineB(),m=a.getLineC();if(d(f,v)||d(f,p)||d(f,m)||d(c,v)||d(c,p)||d(c,m)||d(u,v)||d(u,p)||d(u,m))return!0;var x=y(l),C=o(a,x,!0);return C.length>0||(x=y(a),C=o(l,x,!0),C.length>0)};n.exports=h}),91865:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={CircleToCircle:r(2044),CircleToRectangle:r(81491),GetCircleToCircle:r(63376),GetCircleToRectangle:r(97439),GetLineToCircle:r(4042),GetLineToLine:r(36100),GetLineToPoints:r(3073),GetLineToPolygon:r(56362),GetLineToRectangle:r(60646),GetRaysFromPointToPolygon:r(71147),GetRectangleIntersection:r(68389),GetRectangleToRectangle:r(52784),GetRectangleToTriangle:r(26341),GetTriangleToCircle:r(38720),GetTriangleToLine:r(13882),GetTriangleToTriangle:r(75636),LineToCircle:r(80462),LineToLine:r(76112),LineToRectangle:r(92773),PointToLine:r(16204),PointToLineSegment:r(14199),RectangleToRectangle:r(59996),RectangleToTriangle:r(89265),RectangleToValues:r(84411),TriangleToCircle:r(67636),TriangleToLine:r(2822),TriangleToTriangle:r(82944)}}),91938:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return Math.atan2(r.y2-r.y1,r.x2-r.x1)};n.exports=T}),84993:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y){o===void 0&&(o=1),y===void 0&&(y=[]);var d=Math.round(r.x1),h=Math.round(r.y1),l=Math.round(r.x2),a=Math.round(r.y2),f=Math.abs(l-d),c=Math.abs(a-h),u=d<l?1:-1,v=h<a?1:-1,p=f-c;y.push({x:d,y:h});for(var m=1;!(d===l&&h===a);){var x=p<<1;x>-c&&(p-=c,d+=u),x<f&&(p+=f,h+=v),m%o===0&&y.push({x:d,y:h}),m++}return y};n.exports=T}),36469:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y){var d=o-(r.x1+r.x2)/2,h=y-(r.y1+r.y2)/2;return r.x1+=d,r.y1+=h,r.x2+=d,r.y2+=h,r};n.exports=T}),31116:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(23031),y=function(d){return new o(d.x1,d.y1,d.x2,d.y2)};n.exports=y}),59944:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return o.setTo(r.x1,r.y1,r.x2,r.y2)};n.exports=T}),59220:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return r.x1===o.x1&&r.y1===o.y1&&r.x2===o.x2&&r.y2===o.y2};n.exports=T}),78177:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(35001),y=function(d,h,l){l===void 0&&(l=h);var a=o(d),f=d.x2-d.x1,c=d.y2-d.y1;return h&&(d.x1=d.x1-f/a*h,d.y1=d.y1-c/a*h),l&&(d.x2=d.x2+f/a*l,d.y2=d.y2+c/a*l),d};n.exports=y}),26708:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(52816),y=r(6113),d=r(2141),h=function(l,a,f,c,u){c===void 0&&(c=0),u===void 0&&(u=[]);var v=[],p=l.x1,m=l.y1,x=l.x2-p,C=l.y2-m,P=y(a,u),w,M,R=f-1;for(w=0;w<R;w++)M=P(w/R),v.push(new d(p+x*M,m+C*M));if(M=P(1),v.push(new d(p+x*M,m+C*M)),c>0){var A=v[0],L=[A];for(w=1;w<v.length-1;w++){var F=v[w];o(A,F)>=c&&(L.push(F),A=F)}var G=v[v.length-1];return o(A,G)<c&&L.pop(),L.push(G),L}else return v};n.exports=h}),32125:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141),y=function(d,h){return h===void 0&&(h=new o),h.x=(d.x1+d.x2)/2,h.y=(d.y1+d.y2)/2,h};n.exports=y}),99569:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141),y=function(d,h,l){l===void 0&&(l=new o);var a=d.x1,f=d.y1,c=d.x2,u=d.y2,v=(c-a)*(c-a)+(u-f)*(u-f);if(v===0)return l;var p=((h.x-a)*(c-a)+(h.y-f)*(u-f))/v;return l.x=a+p*(c-a),l.y=f+p*(u-f),l};n.exports=y}),34638:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(36383),y=r(91938),d=r(2141),h=function(l,a){a===void 0&&(a=new d);var f=y(l)-o.TAU;return a.x=Math.cos(f),a.y=Math.sin(f),a};n.exports=h}),13151:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141),y=function(d,h,l){return l===void 0&&(l=new o),l.x=d.x1+(d.x2-d.x1)*h,l.y=d.y1+(d.y2-d.y1)*h,l};n.exports=y}),15258:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(35001),y=r(2141),d=function(h,l,a,f){f===void 0&&(f=[]),!l&&a>0&&(l=o(h)/a);for(var c=h.x1,u=h.y1,v=h.x2,p=h.y2,m=0;m<l;m++){var x=m/l,C=c+(v-c)*x,P=u+(p-u)*x;f.push(new y(C,P))}return f};n.exports=d}),26408:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){var y=r.x1,d=r.y1,h=r.x2,l=r.y2,a=(h-y)*(h-y)+(l-d)*(l-d);if(a===0)return!1;var f=((d-o.y)*(h-y)-(y-o.x)*(l-d))/a;return Math.abs(f)*Math.sqrt(a)};n.exports=T}),98770:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return Math.abs(r.y1-r.y2)};n.exports=T}),35001:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return Math.sqrt((r.x2-r.x1)*(r.x2-r.x1)+(r.y2-r.y1)*(r.y2-r.y1))};n.exports=T}),23031:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(13151),d=r(15258),h=r(23777),l=r(65822),a=r(26099),f=new o({initialize:function(u,v,p,m){u===void 0&&(u=0),v===void 0&&(v=0),p===void 0&&(p=0),m===void 0&&(m=0),this.type=h.LINE,this.x1=u,this.y1=v,this.x2=p,this.y2=m},getPoint:function(c,u){return y(this,c,u)},getPoints:function(c,u,v){return d(this,c,u,v)},getRandomPoint:function(c){return l(this,c)},setTo:function(c,u,v,p){return c===void 0&&(c=0),u===void 0&&(u=0),v===void 0&&(v=0),p===void 0&&(p=0),this.x1=c,this.y1=u,this.x2=v,this.y2=p,this},setFromObjects:function(c,u){return this.x1=c.x,this.y1=c.y,this.x2=u.x,this.y2=u.y,this},getPointA:function(c){return c===void 0&&(c=new a),c.set(this.x1,this.y1),c},getPointB:function(c){return c===void 0&&(c=new a),c.set(this.x2,this.y2),c},left:{get:function(){return Math.min(this.x1,this.x2)},set:function(c){this.x1<=this.x2?this.x1=c:this.x2=c}},right:{get:function(){return Math.max(this.x1,this.x2)},set:function(c){this.x1>this.x2?this.x1=c:this.x2=c}},top:{get:function(){return Math.min(this.y1,this.y2)},set:function(c){this.y1<=this.y2?this.y1=c:this.y2=c}},bottom:{get:function(){return Math.max(this.y1,this.y2)},set:function(c){this.y1>this.y2?this.y1=c:this.y2=c}}});n.exports=f}),64795:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(36383),y=r(15994),d=r(91938),h=function(l){var a=d(l)-o.TAU;return y(a,-Math.PI,Math.PI)};n.exports=h}),52616:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(36383),y=r(91938),d=function(h){return Math.cos(y(h)-o.TAU)};n.exports=d}),87231:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(36383),y=r(91938),d=function(h){return Math.sin(y(h)-o.TAU)};n.exports=d}),89662:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y){return r.x1+=o,r.y1+=y,r.x2+=o,r.y2+=y,r};n.exports=T}),71165:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return-((r.x2-r.x1)/(r.y2-r.y1))};n.exports=T}),65822:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141),y=function(d,h){h===void 0&&(h=new o);var l=Math.random();return h.x=d.x1+l*(d.x2-d.x1),h.y=d.y1+l*(d.y2-d.y1),h};n.exports=y}),69777:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(91938),y=r(64795),d=function(h,l){return 2*y(l)-Math.PI-o(h)};n.exports=d}),39706:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(64400),y=function(d,h){var l=(d.x1+d.x2)/2,a=(d.y1+d.y2)/2;return o(d,l,a,h)};n.exports=y}),82585:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(64400),y=function(d,h,l){return o(d,h.x,h.y,l)};n.exports=y}),64400:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y,d){var h=Math.cos(d),l=Math.sin(d),a=r.x1-o,f=r.y1-y;return r.x1=a*h-f*l+o,r.y1=a*l+f*h+y,a=r.x2-o,f=r.y2-y,r.x2=a*h-f*l+o,r.y2=a*l+f*h+y,r};n.exports=T}),62377:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y,d,h){return r.x1=o,r.y1=y,r.x2=o+Math.cos(d)*h,r.y2=y+Math.sin(d)*h,r};n.exports=T}),71366:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return(r.y2-r.y1)/(r.x2-r.x1)};n.exports=T}),10809:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return Math.abs(r.x1-r.x2)};n.exports=T}),2529:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(23031);o.Angle=r(91938),o.BresenhamPoints=r(84993),o.CenterOn=r(36469),o.Clone=r(31116),o.CopyFrom=r(59944),o.Equals=r(59220),o.Extend=r(78177),o.GetEasedPoints=r(26708),o.GetMidPoint=r(32125),o.GetNearestPoint=r(99569),o.GetNormal=r(34638),o.GetPoint=r(13151),o.GetPoints=r(15258),o.GetShortestDistance=r(26408),o.Height=r(98770),o.Length=r(35001),o.NormalAngle=r(64795),o.NormalX=r(52616),o.NormalY=r(87231),o.Offset=r(89662),o.PerpSlope=r(71165),o.Random=r(65822),o.ReflectAngle=r(69777),o.Rotate=r(39706),o.RotateAroundPoint=r(82585),o.RotateAroundXY=r(64400),o.SetToAngle=r(62377),o.Slope=r(71366),o.Width=r(10809),n.exports=o}),83997:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(87841),d=r(26099);function h(a,f,c,u){var v=a-c,p=f-u,m=v*v+p*p;return Math.sqrt(m)}var l=new o({initialize:function(f,c,u){this.vertex1=f,this.vertex2=c,this.vertex3=u,this.bounds=new y,this._inCenter=new d},getInCenter:function(a){a===void 0&&(a=!0);var f=this.vertex1,c=this.vertex2,u=this.vertex3,v,p,m,x,C,P;a?(v=f.x,p=f.y,m=c.x,x=c.y,C=u.x,P=u.y):(v=f.vx,p=f.vy,m=c.vx,x=c.vy,C=u.vx,P=u.vy);var w=h(C,P,m,x),M=h(v,p,C,P),R=h(m,x,v,p),A=w+M+R;return this._inCenter.set((v*w+m*M+C*R)/A,(p*w+x*M+P*R)/A)},contains:function(a,f,c){var u=this.vertex1,v=this.vertex2,p=this.vertex3,m=u.vx,x=u.vy,C=v.vx,P=v.vy,w=p.vx,M=p.vy;if(c){var R=c.a,A=c.b,L=c.c,F=c.d,G=c.e,I=c.f;m=u.vx*R+u.vy*L+G,x=u.vx*A+u.vy*F+I,C=v.vx*R+v.vy*L+G,P=v.vx*A+v.vy*F+I,w=p.vx*R+p.vy*L+G,M=p.vx*A+p.vy*F+I}var B=w-m,k=M-x,U=C-m,H=P-x,X=a-m,j=f-x,Z=B*B+k*k,Y=B*U+k*H,$=B*X+k*j,z=U*U+H*H,V=U*X+H*j,K=Z*z-Y*Y,Q=K===0?0:1/K,_=(z*$-Y*V)*Q,tt=(Z*V-Y*$)*Q;return _>=0&&tt>=0&&_+tt<1},isCounterClockwise:function(a){var f=this.vertex1,c=this.vertex2,u=this.vertex3,v=(c.vx-f.vx)*(u.vy-f.vy)-(c.vy-f.vy)*(u.vx-f.vx);return a<=0?v>=0:v<0},load:function(a,f,c,u,v){return c=this.vertex1.load(a,f,c,u,v),c=this.vertex2.load(a,f,c,u,v),c=this.vertex3.load(a,f,c,u,v),c},transformCoordinatesLocal:function(a,f,c,u){return this.vertex1.transformCoordinatesLocal(a,f,c,u),this.vertex2.transformCoordinatesLocal(a,f,c,u),this.vertex3.transformCoordinatesLocal(a,f,c,u),this},updateBounds:function(){var a=this.vertex1,f=this.vertex2,c=this.vertex3,u=this.bounds;return u.x=Math.min(a.vx,f.vx,c.vx),u.y=Math.min(a.vy,f.vy,c.vy),u.width=Math.max(a.vx,f.vx,c.vx)-u.x,u.height=Math.max(a.vy,f.vy,c.vy)-u.y,this},isInView:function(a,f,c,u,v,p,m,x,C,P,w){this.update(u,v,p,m,x,C,P,w);var M=this.vertex1,R=this.vertex2,A=this.vertex3;if(M.ta<=0&&R.ta<=0&&A.ta<=0||f&&!this.isCounterClockwise(c))return!1;var L=this.bounds;L.x=Math.min(M.tx,R.tx,A.tx),L.y=Math.min(M.ty,R.ty,A.ty),L.width=Math.max(M.tx,R.tx,A.tx)-L.x,L.height=Math.max(M.ty,R.ty,A.ty)-L.y;var F=a.x+a.width,G=a.y+a.height;return L.width<=0||L.height<=0||a.width<=0||a.height<=0?!1:!(L.right<a.x||L.bottom<a.y||L.x>F||L.y>G)},scrollUV:function(a,f){return this.vertex1.scrollUV(a,f),this.vertex2.scrollUV(a,f),this.vertex3.scrollUV(a,f),this},scaleUV:function(a,f){return this.vertex1.scaleUV(a,f),this.vertex2.scaleUV(a,f),this.vertex3.scaleUV(a,f),this},setColor:function(a){return this.vertex1.color=a,this.vertex2.color=a,this.vertex3.color=a,this},update:function(a,f,c,u,v,p,m,x){return this.vertex1.update(f,c,u,v,p,m,x,a),this.vertex2.update(f,c,u,v,p,m,x,a),this.vertex3.update(f,c,u,v,p,m,x,a),this},translate:function(a,f){f===void 0&&(f=0);var c=this.vertex1,u=this.vertex2,v=this.vertex3;return c.x+=a,c.y+=f,u.x+=a,u.y+=f,v.x+=a,v.y+=f,this},x:{get:function(){return this.getInCenter().x},set:function(a){var f=this.getInCenter();this.translate(a-f.x,0)}},y:{get:function(){return this.getInCenter().y},set:function(a){var f=this.getInCenter();this.translate(0,a-f.y)}},alpha:{get:function(){var a=this.vertex1,f=this.vertex2,c=this.vertex3;return(a.alpha+f.alpha+c.alpha)/3},set:function(a){this.vertex1.alpha=a,this.vertex2.alpha=a,this.vertex3.alpha=a}},depth:{get:function(){var a=this.vertex1,f=this.vertex2,c=this.vertex3;return(a.vz+f.vz+c.vz)/3}},destroy:function(){this.vertex1=null,this.vertex2=null,this.vertex3=null}});n.exports=l}),48803:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83997),y=r(95540),d=r(37867),h=r(25836),l=r(39318),a=new h,f=new h,c=new d,u=function(v){var p=y(v,"mesh"),m=y(v,"texture",null),x=y(v,"frame"),C=y(v,"width",1),P=y(v,"height",C),w=y(v,"widthSegments",1),M=y(v,"heightSegments",w),R=y(v,"x",0),A=y(v,"y",0),L=y(v,"z",0),F=y(v,"rotateX",0),G=y(v,"rotateY",0),I=y(v,"rotateZ",0),B=y(v,"zIsUp",!0),k=y(v,"isOrtho",p?p.dirtyCache[11]:!1),U=y(v,"colors",[16777215]),H=y(v,"alphas",[1]),X=y(v,"tile",!1),j=y(v,"flipY",!1),Z=y(v,"width",null),Y={faces:[],verts:[]};a.set(R,A,L),f.set(F,G,I),c.fromRotationXYTranslation(f,a,B);var $;if(!m&&p)m=p.texture,x||($=p.frame);else if(p&&typeof m=="string")m=p.scene.sys.textures.get(m);else if(!m)return Y;$||($=m.get(x)),!Z&&k&&m&&p&&(C=$.width/p.height,P=$.height/p.height);var z=C/2,V=P/2,K=Math.floor(w),Q=Math.floor(M),_=K+1,tt=Q+1,rt=C/K,ot=P/Q,ft=[],ct=[],gt,xt,Mt=0,St=1,$t=0,Yt=1;$&&(Mt=$.u0,St=$.u1,j?($t=$.v1,Yt=$.v0):($t=$.v0,Yt=$.v1));var Ht=St-Mt,Ct=Yt-$t;for(xt=0;xt<tt;xt++){var Nt=xt*ot-V;for(gt=0;gt<_;gt++){var Vt=gt*rt-z;ct.push(Vt,-Nt);var qt=Mt+Ht*(gt/K),Ce=$t+Ct*(xt/Q);ft.push(qt,Ce)}}Array.isArray(U)||(U=[U]),Array.isArray(H)||(H=[H]);var ze=0,ye=0;for(xt=0;xt<Q;xt++)for(gt=0;gt<K;gt++){var Be=(gt+_*xt)*2,Gt=(gt+_*(xt+1))*2,Xt=(gt+1+_*(xt+1))*2,ee=(gt+1+_*xt)*2,Se=U[ye],we=H[ze],Ze=new l(ct[Be],ct[Be+1],0,ft[Be],ft[Be+1],Se,we).transformMat4(c),gi=new l(ct[Gt],ct[Gt+1],0,ft[Gt],ft[Gt+1],Se,we).transformMat4(c),ki=new l(ct[ee],ct[ee+1],0,ft[ee],ft[ee+1],Se,we).transformMat4(c),mi=new l(ct[Gt],ct[Gt+1],0,ft[Gt],ft[Gt+1],Se,we).transformMat4(c),ri=new l(ct[Xt],ct[Xt+1],0,ft[Xt],ft[Xt+1],Se,we).transformMat4(c),fi=new l(ct[ee],ct[ee+1],0,ft[ee],ft[ee+1],Se,we).transformMat4(c);X&&(Ze.setUVs(Mt,Yt),gi.setUVs(Mt,$t),ki.setUVs(St,Yt),mi.setUVs(Mt,$t),ri.setUVs(St,$t),fi.setUVs(St,Yt)),ye++,ye===U.length&&(ye=0),ze++,ze===H.length&&(ze=0),Y.verts.push(Ze,gi,ki,mi,ri,fi),Y.faces.push(new o(Ze,gi,ki),new o(mi,ri,fi))}return p&&(p.faces=p.faces.concat(Y.faces),p.vertices=p.vertices.concat(Y.verts)),Y};n.exports=u}),34684:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83997),y=r(37867),d=r(25836),h=r(39318),l=new d,a=new d,f=new y,c=function(u,v,p,m,x,C,P,w,M,R){p===void 0&&(p=1),m===void 0&&(m=0),x===void 0&&(x=0),C===void 0&&(C=0),P===void 0&&(P=0),w===void 0&&(w=0),M===void 0&&(M=0),R===void 0&&(R=!0);var A={faces:[],verts:[]},L=u.materials;l.set(m,x,C),a.set(P,w,M),f.fromRotationXYTranslation(a,l,R);for(var F=0;F<u.models.length;F++)for(var G=u.models[F],I=G.vertices,B=G.textureCoords,k=G.faces,U=0;U<k.length;U++){var H=k[U],X=H.vertices[0],j=H.vertices[1],Z=H.vertices[2],Y=I[X.vertexIndex],$=I[j.vertexIndex],z=I[Z.vertexIndex],V=X.textureCoordsIndex,K=j.textureCoordsIndex,Q=Z.textureCoordsIndex,_=V===-1?{u:0,v:1}:B[V],tt=K===-1?{u:0,v:0}:B[K],rt=Q===-1?{u:1,v:1}:B[Q],ot=16777215;H.material!==""&&L[H.material]&&(ot=L[H.material]);var ft=new h(Y.x*p,Y.y*p,Y.z*p,_.u,_.v,ot).transformMat4(f),ct=new h($.x*p,$.y*p,$.z*p,tt.u,tt.v,ot).transformMat4(f),gt=new h(z.x*p,z.y*p,z.z*p,rt.u,rt.v,ot).transformMat4(f);A.verts.push(ft,ct,gt),A.faces.push(new o(ft,ct,gt))}return v&&(v.faces=v.faces.concat(A.faces),v.vertices=v.vertices.concat(A.verts)),A};n.exports=c}),92515:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83997),y=r(39318),d=function(h,l,a,f,c,u,v,p){if(f===void 0&&(f=!1),u===void 0&&(u=16777215),v===void 0&&(v=1),p===void 0&&(p=!1),h.length!==l.length&&!f){console.warn("GenerateVerts: vertices and uvs count not equal");return}var m={faces:[],vertices:[]},x,C,P,w,M,R,A,L,F,G,I,B=f?3:2,k=Array.isArray(u),U=Array.isArray(v);if(Array.isArray(a)&&a.length>0)for(x=0;x<a.length;x++){var H=a[x],X=a[x]*2,j=a[x]*B;C=h[j],P=h[j+1],w=f?h[j+2]:0,M=l[X],R=l[X+1],p&&(R=1-R),A=k?u[H]:u,L=U?v[H]:v,F=0,G=0,I=0,c&&(F=c[j],G=c[j+1],I=f?c[j+2]:0),m.vertices.push(new y(C,P,w,M,R,A,L,F,G,I))}else{var Z=0,Y=0;for(x=0;x<h.length;x+=B)C=h[x],P=h[x+1],w=f?h[x+2]:0,M=l[Z],R=l[Z+1],A=k?u[Y]:u,L=U?v[Y]:v,F=0,G=0,I=0,c&&(F=c[x],G=c[x+1],I=f?c[x+2]:0),m.vertices.push(new y(C,P,w,M,R,A,L,F,G,I)),Z+=2,Y++}for(x=0;x<m.vertices.length;x+=3){var $=m.vertices[x],z=m.vertices[x+1],V=m.vertices[x+2];m.faces.push(new o($,z,V))}return m};n.exports=d}),85048:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=!0,r="untitled",o="",y="";function d(C){var P=C.indexOf("#");return P>-1?C.substring(0,P):C}function h(C){return C.models.length===0&&C.models.push({faces:[],name:r,textureCoords:[],vertexNormals:[],vertices:[]}),o="",C.models[C.models.length-1]}function l(C,P){var w=C.length>=2?C[1]:r;P.models.push({faces:[],name:w,textureCoords:[],vertexNormals:[],vertices:[]}),o=""}function a(C){C.length===2&&(o=C[1])}function f(C,P){var w=C.length,M=w>=2?parseFloat(C[1]):0,R=w>=3?parseFloat(C[2]):0,A=w>=4?parseFloat(C[3]):0;h(P).vertices.push({x:M,y:R,z:A})}function c(C,P){var w=C.length,M=w>=2?parseFloat(C[1]):0,R=w>=3?parseFloat(C[2]):0,A=w>=4?parseFloat(C[3]):0;isNaN(M)&&(M=0),isNaN(R)&&(R=0),isNaN(A)&&(A=0),T&&(R=1-R),h(P).textureCoords.push({u:M,v:R,w:A})}function u(C,P){var w=C.length,M=w>=2?parseFloat(C[1]):0,R=w>=3?parseFloat(C[2]):0,A=w>=4?parseFloat(C[3]):0;h(P).vertexNormals.push({x:M,y:R,z:A})}function v(C,P){var w=C.length-1;if(!(w<3)){for(var M={group:o,material:y,vertices:[]},R=0;R<w;R++){var A=C[R+1],L=A.split("/"),F=L.length;if(!(F<1||F>3)){var G=0,I=0,B=0;G=parseInt(L[0],10),F>1&&L[1]!==""&&(I=parseInt(L[1],10)),F>2&&(B=parseInt(L[2],10)),G!==0&&(G<0&&(G=h(P).vertices.length+1+G),I-=1,G-=1,B-=1,M.vertices.push({textureCoordsIndex:I,vertexIndex:G,vertexNormalIndex:B}))}}h(P).faces.push(M)}}function p(C,P){C.length>=2&&P.materialLibraries.push(C[1])}function m(C){C.length>=2&&(y=C[1])}var x=function(C,P){P===void 0&&(P=!0),T=P;var w={materials:{},materialLibraries:[],models:[]};o="",y="";for(var M=C.split(`
`),R=0;R<M.length;R++){var A=d(M[R]),L=A.replace(/\s\s+/g," ").trim().split(" ");switch(L[0].toLowerCase()){case"o":l(L,w);break;case"g":a(L);break;case"v":f(L,w);break;case"vt":c(L,w);break;case"vn":u(L,w);break;case"f":v(L,w);break;case"mtllib":p(L,w);break;case"usemtl":m(L);break}}return w};n.exports=x}),61485:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(37589),y=function(d){for(var h={},l=d.split(`
`),a="",f=0;f<l.length;f++){var c=l[f].trim();if(!(c.indexOf("#")===0||c==="")){var u=c.replace(/\s\s+/g," ").trim().split(" ");switch(u[0].toLowerCase()){case"newmtl":{a=u[1];break}case"kd":{var v=Math.floor(u[1]*255),p=u.length>=2?Math.floor(u[2]*255):v,m=u.length>=3?Math.floor(u[3]*255):v;h[a]=o(v,p,m);break}}}}return h};n.exports=y}),92570:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y,d){var h,l;if(y===void 0&&d===void 0){var a=r.getInCenter();h=a.x,l=a.y}var f=Math.cos(o),c=Math.sin(o),u=r.vertex1,v=r.vertex2,p=r.vertex3,m=u.x-h,x=u.y-l;u.set(m*f-x*c+h,m*c+x*f+l),m=v.x-h,x=v.y-l,v.set(m*f-x*c+h,m*c+x*f+l),m=p.x-h,x=p.y-l,p.set(m*f-x*c+h,m*c+x*f+l)};n.exports=T}),39318:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(70554),d=r(25836),h=new o({Extends:d,initialize:function(a,f,c,u,v,p,m,x,C,P){p===void 0&&(p=16777215),m===void 0&&(m=1),x===void 0&&(x=0),C===void 0&&(C=0),P===void 0&&(P=0),d.call(this,a,f,c),this.vx=0,this.vy=0,this.vz=0,this.nx=x,this.ny=C,this.nz=P,this.u=u,this.v=v,this.color=p,this.alpha=m,this.tx=0,this.ty=0,this.ta=0,this.tu=u,this.tv=v},setUVs:function(l,a){return this.u=l,this.v=a,this.tu=l,this.tv=a,this},scrollUV:function(l,a){return this.tu+=l,this.tv+=a,this},scaleUV:function(l,a){return this.tu=this.u*l,this.tv=this.v*a,this},transformCoordinatesLocal:function(l,a,f,c){var u=this.x,v=this.y,p=this.z,m=l.val,x=u*m[0]+v*m[4]+p*m[8]+m[12],C=u*m[1]+v*m[5]+p*m[9]+m[13],P=u*m[2]+v*m[6]+p*m[10]+m[14],w=u*m[3]+v*m[7]+p*m[11]+m[15];this.vx=x/w*a,this.vy=-(C/w)*f,c<=0?this.vz=P/w:this.vz=-(P/w)},resize:function(l,a,f,c,u,v){return this.x=l,this.y=a,this.vx=this.x*f,this.vy=-this.y*c,this.vz=0,u<.5?this.vx+=f*(.5-u):u>.5&&(this.vx-=f*(u-.5)),v<.5?this.vy+=c*(.5-v):v>.5&&(this.vy-=c*(v-.5)),this},update:function(l,a,f,c,u,v,p,m){var x=this.vx*l+this.vy*f+u,C=this.vx*a+this.vy*c+v;return p&&(x=Math.round(x),C=Math.round(C)),this.tx=x,this.ty=C,this.ta=this.alpha*m,this},load:function(l,a,f,c,u){return l[++f]=this.tx,l[++f]=this.ty,l[++f]=this.tu,l[++f]=this.tv,l[++f]=c,l[++f]=u,a[++f]=y.getTintAppendFloatAlpha(this.color,this.ta),f}});n.exports=h}),73090:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={Face:r(83997),GenerateGridVerts:r(48803),GenerateObjVerts:r(34684),GenerateVerts:r(92515),ParseObj:r(85048),ParseObjMaterial:r(61485),RotateFace:r(92570),Vertex:r(39318)};n.exports=o}),96550:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r.setTo(Math.ceil(r.x),Math.ceil(r.y))};n.exports=T}),99706:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141),y=function(d){return new o(d.x,d.y)};n.exports=y}),68010:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return o.setTo(r.x,r.y)};n.exports=T}),27814:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return r.x===o.x&&r.y===o.y};n.exports=T}),73565:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r.setTo(Math.floor(r.x),Math.floor(r.y))};n.exports=T}),87555:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141),y=function(d,h){if(h===void 0&&(h=new o),!Array.isArray(d))throw new Error("GetCentroid points argument must be an array");var l=d.length;if(l<1)throw new Error("GetCentroid points array must not be empty");if(l===1)h.x=d[0].x,h.y=d[0].y;else{for(var a=0;a<l;a++)h.x+=d[a].x,h.y+=d[a].y;h.x/=l,h.y/=l}return h};n.exports=y}),28793:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return Math.sqrt(r.x*r.x+r.y*r.y)};n.exports=T}),44405:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r.x*r.x+r.y*r.y};n.exports=T}),20873:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(87841),y=function(d,h){h===void 0&&(h=new o);for(var l=Number.NEGATIVE_INFINITY,a=Number.POSITIVE_INFINITY,f=Number.NEGATIVE_INFINITY,c=Number.POSITIVE_INFINITY,u=0;u<d.length;u++){var v=d[u];v.x>l&&(l=v.x),v.x<a&&(a=v.x),v.y>f&&(f=v.y),v.y<c&&(c=v.y)}return h.x=a,h.y=c,h.width=l-a,h.height=f-c,h};n.exports=y}),26152:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141),y=function(d,h,l,a){return l===void 0&&(l=0),a===void 0&&(a=new o),a.x=d.x+(h.x-d.x)*l,a.y=d.y+(h.y-d.y)*l,a};n.exports=y}),55767:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r.setTo(r.y,r.x)};n.exports=T}),79432:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141),y=function(d,h){return h===void 0&&(h=new o),h.setTo(-d.x,-d.y)};n.exports=y}),2141:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(23777),d=new o({initialize:function(l,a){l===void 0&&(l=0),a===void 0&&(a=l),this.type=y.POINT,this.x=l,this.y=a},setTo:function(h,l){return h===void 0&&(h=0),l===void 0&&(l=h),this.x=h,this.y=l,this}});n.exports=d}),72930:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141),y=r(44405),d=function(h,l,a){a===void 0&&(a=new o);var f=h.x*l.x+h.y*l.y,c=f/y(l);return c!==0&&(a.x=c*l.x,a.y=c*l.y),a};n.exports=d}),62880:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141),y=function(d,h,l){l===void 0&&(l=new o);var a=d.x*h.x+d.y*h.y;return a!==0&&(l.x=a*h.x,l.y=a*h.y),l};n.exports=y}),15093:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(28793),y=function(d,h){if(d.x!==0||d.y!==0){var l=o(d);d.x/=l,d.y/=l}return d.x*=h,d.y*=h,d};n.exports=y}),43711:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141);o.Ceil=r(96550),o.Clone=r(99706),o.CopyFrom=r(68010),o.Equals=r(27814),o.Floor=r(73565),o.GetCentroid=r(87555),o.GetMagnitude=r(28793),o.GetMagnitudeSq=r(44405),o.GetRectangleFromPoints=r(20873),o.Interpolate=r(26152),o.Invert=r(55767),o.Negative=r(79432),o.Project=r(72930),o.ProjectUnit=r(62880),o.SetMagnitude=r(15093),n.exports=o}),12306:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(25717),y=function(d){return new o(d.points)};n.exports=y}),63814:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y){for(var d=!1,h=-1,l=r.points.length-1;++h<r.points.length;l=h){var a=r.points[h].x,f=r.points[h].y,c=r.points[l].x,u=r.points[l].y;(f<=y&&y<u||u<=y&&y<f)&&o<(c-a)*(y-f)/(u-f)+a&&(d=!d)}return d};n.exports=T}),99338:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(63814),y=function(d,h){return o(d,h.x,h.y)};n.exports=y}),94811:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function T(Y,$,z){z=z||2;var V=$&&$.length,K=V?$[0]*z:Y.length,Q=r(Y,0,K,z,!0),_=[];if(!Q||Q.next===Q.prev)return _;var tt,rt,ot,ft,ct,gt,xt;if(V&&(Q=f(Y,$,Q,z)),Y.length>80*z){tt=ot=Y[0],rt=ft=Y[1];for(var Mt=z;Mt<K;Mt+=z)ct=Y[Mt],gt=Y[Mt+1],ct<tt&&(tt=ct),gt<rt&&(rt=gt),ct>ot&&(ot=ct),gt>ft&&(ft=gt);xt=Math.max(ot-tt,ft-rt),xt=xt!==0?32767/xt:0}return y(Q,_,z,tt,rt,xt,0),_}function r(Y,$,z,V,K){var Q,_;if(K===Z(Y,$,z,V)>0)for(Q=$;Q<z;Q+=V)_=H(Q,Y[Q],Y[Q+1],_);else for(Q=z-V;Q>=$;Q-=V)_=H(Q,Y[Q],Y[Q+1],_);return _&&A(_,_.next)&&(X(_),_=_.next),_}function o(Y,$){if(!Y)return Y;$||($=Y);var z=Y,V;do if(V=!1,!z.steiner&&(A(z,z.next)||R(z.prev,z,z.next)===0)){if(X(z),z=$=z.prev,z===z.next)break;V=!0}else z=z.next;while(V||z!==$);return $}function y(Y,$,z,V,K,Q,_){if(Y){!_&&Q&&m(Y,V,K,Q);for(var tt=Y,rt,ot;Y.prev!==Y.next;){if(rt=Y.prev,ot=Y.next,Q?h(Y,V,K,Q):d(Y)){$.push(rt.i/z|0),$.push(Y.i/z|0),$.push(ot.i/z|0),X(Y),Y=ot.next,tt=ot.next;continue}if(Y=ot,Y===tt){_?_===1?(Y=l(o(Y),$,z),y(Y,$,z,V,K,Q,2)):_===2&&a(Y,$,z,V,K,Q):y(o(Y),$,z,V,K,Q,1);break}}}}function d(Y){var $=Y.prev,z=Y,V=Y.next;if(R($,z,V)>=0)return!1;for(var K=$.x,Q=z.x,_=V.x,tt=$.y,rt=z.y,ot=V.y,ft=K<Q?K<_?K:_:Q<_?Q:_,ct=tt<rt?tt<ot?tt:ot:rt<ot?rt:ot,gt=K>Q?K>_?K:_:Q>_?Q:_,xt=tt>rt?tt>ot?tt:ot:rt>ot?rt:ot,Mt=V.next;Mt!==$;){if(Mt.x>=ft&&Mt.x<=gt&&Mt.y>=ct&&Mt.y<=xt&&w(K,tt,Q,rt,_,ot,Mt.x,Mt.y)&&R(Mt.prev,Mt,Mt.next)>=0)return!1;Mt=Mt.next}return!0}function h(Y,$,z,V){var K=Y.prev,Q=Y,_=Y.next;if(R(K,Q,_)>=0)return!1;for(var tt=K.x,rt=Q.x,ot=_.x,ft=K.y,ct=Q.y,gt=_.y,xt=tt<rt?tt<ot?tt:ot:rt<ot?rt:ot,Mt=ft<ct?ft<gt?ft:gt:ct<gt?ct:gt,St=tt>rt?tt>ot?tt:ot:rt>ot?rt:ot,$t=ft>ct?ft>gt?ft:gt:ct>gt?ct:gt,Yt=C(xt,Mt,$,z,V),Ht=C(St,$t,$,z,V),Ct=Y.prevZ,Nt=Y.nextZ;Ct&&Ct.z>=Yt&&Nt&&Nt.z<=Ht;){if(Ct.x>=xt&&Ct.x<=St&&Ct.y>=Mt&&Ct.y<=$t&&Ct!==K&&Ct!==_&&w(tt,ft,rt,ct,ot,gt,Ct.x,Ct.y)&&R(Ct.prev,Ct,Ct.next)>=0||(Ct=Ct.prevZ,Nt.x>=xt&&Nt.x<=St&&Nt.y>=Mt&&Nt.y<=$t&&Nt!==K&&Nt!==_&&w(tt,ft,rt,ct,ot,gt,Nt.x,Nt.y)&&R(Nt.prev,Nt,Nt.next)>=0))return!1;Nt=Nt.nextZ}for(;Ct&&Ct.z>=Yt;){if(Ct.x>=xt&&Ct.x<=St&&Ct.y>=Mt&&Ct.y<=$t&&Ct!==K&&Ct!==_&&w(tt,ft,rt,ct,ot,gt,Ct.x,Ct.y)&&R(Ct.prev,Ct,Ct.next)>=0)return!1;Ct=Ct.prevZ}for(;Nt&&Nt.z<=Ht;){if(Nt.x>=xt&&Nt.x<=St&&Nt.y>=Mt&&Nt.y<=$t&&Nt!==K&&Nt!==_&&w(tt,ft,rt,ct,ot,gt,Nt.x,Nt.y)&&R(Nt.prev,Nt,Nt.next)>=0)return!1;Nt=Nt.nextZ}return!0}function l(Y,$,z){var V=Y;do{var K=V.prev,Q=V.next.next;!A(K,Q)&&L(K,V,V.next,Q)&&B(K,Q)&&B(Q,K)&&($.push(K.i/z|0),$.push(V.i/z|0),$.push(Q.i/z|0),X(V),X(V.next),V=Y=Q),V=V.next}while(V!==Y);return o(V)}function a(Y,$,z,V,K,Q){var _=Y;do{for(var tt=_.next.next;tt!==_.prev;){if(_.i!==tt.i&&M(_,tt)){var rt=U(_,tt);_=o(_,_.next),rt=o(rt,rt.next),y(_,$,z,V,K,Q,0),y(rt,$,z,V,K,Q,0);return}tt=tt.next}_=_.next}while(_!==Y)}function f(Y,$,z,V){var K=[],Q,_,tt,rt,ot;for(Q=0,_=$.length;Q<_;Q++)tt=$[Q]*V,rt=Q<_-1?$[Q+1]*V:Y.length,ot=r(Y,tt,rt,V,!1),ot===ot.next&&(ot.steiner=!0),K.push(P(ot));for(K.sort(c),Q=0;Q<K.length;Q++)z=u(K[Q],z);return z}function c(Y,$){return Y.x-$.x}function u(Y,$){var z=v(Y,$);if(!z)return $;var V=U(z,Y);return o(V,V.next),o(z,z.next)}function v(Y,$){var z=$,V=Y.x,K=Y.y,Q=-1/0,_;do{if(K<=z.y&&K>=z.next.y&&z.next.y!==z.y){var tt=z.x+(K-z.y)*(z.next.x-z.x)/(z.next.y-z.y);if(tt<=V&&tt>Q&&(Q=tt,_=z.x<z.next.x?z:z.next,tt===V))return _}z=z.next}while(z!==$);if(!_)return null;var rt=_,ot=_.x,ft=_.y,ct=1/0,gt;z=_;do V>=z.x&&z.x>=ot&&V!==z.x&&w(K<ft?V:Q,K,ot,ft,K<ft?Q:V,K,z.x,z.y)&&(gt=Math.abs(K-z.y)/(V-z.x),B(z,Y)&&(gt<ct||gt===ct&&(z.x>_.x||z.x===_.x&&p(_,z)))&&(_=z,ct=gt)),z=z.next;while(z!==rt);return _}function p(Y,$){return R(Y.prev,Y,$.prev)<0&&R($.next,Y,Y.next)<0}function m(Y,$,z,V){var K=Y;do K.z===0&&(K.z=C(K.x,K.y,$,z,V)),K.prevZ=K.prev,K.nextZ=K.next,K=K.next;while(K!==Y);K.prevZ.nextZ=null,K.prevZ=null,x(K)}function x(Y){var $,z,V,K,Q,_,tt,rt,ot=1;do{for(z=Y,Y=null,Q=null,_=0;z;){for(_++,V=z,tt=0,$=0;$<ot&&(tt++,V=V.nextZ,!!V);$++);for(rt=ot;tt>0||rt>0&&V;)tt!==0&&(rt===0||!V||z.z<=V.z)?(K=z,z=z.nextZ,tt--):(K=V,V=V.nextZ,rt--),Q?Q.nextZ=K:Y=K,K.prevZ=Q,Q=K;z=V}Q.nextZ=null,ot*=2}while(_>1);return Y}function C(Y,$,z,V,K){return Y=(Y-z)*K|0,$=($-V)*K|0,Y=(Y|Y<<8)&16711935,Y=(Y|Y<<4)&252645135,Y=(Y|Y<<2)&858993459,Y=(Y|Y<<1)&1431655765,$=($|$<<8)&16711935,$=($|$<<4)&252645135,$=($|$<<2)&858993459,$=($|$<<1)&1431655765,Y|$<<1}function P(Y){var $=Y,z=Y;do($.x<z.x||$.x===z.x&&$.y<z.y)&&(z=$),$=$.next;while($!==Y);return z}function w(Y,$,z,V,K,Q,_,tt){return(K-_)*($-tt)>=(Y-_)*(Q-tt)&&(Y-_)*(V-tt)>=(z-_)*($-tt)&&(z-_)*(Q-tt)>=(K-_)*(V-tt)}function M(Y,$){return Y.next.i!==$.i&&Y.prev.i!==$.i&&!I(Y,$)&&(B(Y,$)&&B($,Y)&&k(Y,$)&&(R(Y.prev,Y,$.prev)||R(Y,$.prev,$))||A(Y,$)&&R(Y.prev,Y,Y.next)>0&&R($.prev,$,$.next)>0)}function R(Y,$,z){return($.y-Y.y)*(z.x-$.x)-($.x-Y.x)*(z.y-$.y)}function A(Y,$){return Y.x===$.x&&Y.y===$.y}function L(Y,$,z,V){var K=G(R(Y,$,z)),Q=G(R(Y,$,V)),_=G(R(z,V,Y)),tt=G(R(z,V,$));return!!(K!==Q&&_!==tt||K===0&&F(Y,z,$)||Q===0&&F(Y,V,$)||_===0&&F(z,Y,V)||tt===0&&F(z,$,V))}function F(Y,$,z){return $.x<=Math.max(Y.x,z.x)&&$.x>=Math.min(Y.x,z.x)&&$.y<=Math.max(Y.y,z.y)&&$.y>=Math.min(Y.y,z.y)}function G(Y){return Y>0?1:Y<0?-1:0}function I(Y,$){var z=Y;do{if(z.i!==Y.i&&z.next.i!==Y.i&&z.i!==$.i&&z.next.i!==$.i&&L(z,z.next,Y,$))return!0;z=z.next}while(z!==Y);return!1}function B(Y,$){return R(Y.prev,Y,Y.next)<0?R(Y,$,Y.next)>=0&&R(Y,Y.prev,$)>=0:R(Y,$,Y.prev)<0||R(Y,Y.next,$)<0}function k(Y,$){var z=Y,V=!1,K=(Y.x+$.x)/2,Q=(Y.y+$.y)/2;do z.y>Q!=z.next.y>Q&&z.next.y!==z.y&&K<(z.next.x-z.x)*(Q-z.y)/(z.next.y-z.y)+z.x&&(V=!V),z=z.next;while(z!==Y);return V}function U(Y,$){var z=new j(Y.i,Y.x,Y.y),V=new j($.i,$.x,$.y),K=Y.next,Q=$.prev;return Y.next=$,$.prev=Y,z.next=K,K.prev=z,V.next=z,z.prev=V,Q.next=V,V.prev=Q,V}function H(Y,$,z,V){var K=new j(Y,$,z);return V?(K.next=V.next,K.prev=V,V.next.prev=K,V.next=K):(K.prev=K,K.next=K),K}function X(Y){Y.next.prev=Y.prev,Y.prev.next=Y.next,Y.prevZ&&(Y.prevZ.nextZ=Y.nextZ),Y.nextZ&&(Y.nextZ.prevZ=Y.prevZ)}function j(Y,$,z){this.i=Y,this.x=$,this.y=z,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}T.deviation=function(Y,$,z,V){var K=$&&$.length,Q=K?$[0]*z:Y.length,_=Math.abs(Z(Y,0,Q,z));if(K)for(var tt=0,rt=$.length;tt<rt;tt++){var ot=$[tt]*z,ft=tt<rt-1?$[tt+1]*z:Y.length;_-=Math.abs(Z(Y,ot,ft,z))}var ct=0;for(tt=0;tt<V.length;tt+=3){var gt=V[tt]*z,xt=V[tt+1]*z,Mt=V[tt+2]*z;ct+=Math.abs((Y[gt]-Y[Mt])*(Y[xt+1]-Y[gt+1])-(Y[gt]-Y[xt])*(Y[Mt+1]-Y[gt+1]))}return _===0&&ct===0?0:Math.abs((ct-_)/_)};function Z(Y,$,z,V){for(var K=0,Q=$,_=z-V;Q<z;Q+=V)K+=(Y[_]-Y[Q])*(Y[Q+1]+Y[_+1]),_=Q;return K}T.flatten=function(Y){for(var $=Y[0][0].length,z={vertices:[],holes:[],dimensions:$},V=0,K=0;K<Y.length;K++){for(var Q=0;Q<Y[K].length;Q++)for(var _=0;_<$;_++)z.vertices.push(Y[K][Q][_]);K>0&&(V+=Y[K-1].length,z.holes.push(V))}return z},n.exports=T}),13829:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(87841),y=function(d,h){h===void 0&&(h=new o);for(var l=1/0,a=1/0,f=-l,c=-a,u,v=0;v<d.points.length;v++)u=d.points[v],l=Math.min(l,u.x),a=Math.min(a,u.y),f=Math.max(f,u.x),c=Math.max(c,u.y);return h.x=l,h.y=a,h.width=f-l,h.height=c-a,h};n.exports=y}),26173:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){o===void 0&&(o=[]);for(var y=0;y<r.points.length;y++)o.push(r.points[y].x),o.push(r.points[y].y);return o};n.exports=T}),9564:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(35001),y=r(23031),d=r(30052),h=function(l,a,f,c){c===void 0&&(c=[]);var u=l.points,v=d(l);!a&&f>0&&(a=v/f);for(var p=0;p<a;p++)for(var m=v*(p/a),x=0,C=0;C<u.length;C++){var P=u[C],w=u[(C+1)%u.length],M=new y(P.x,P.y,w.x,w.y),R=o(M);if(m<x||m>x+R){x+=R;continue}var A=M.getPoint((m-x)/R);c.push(A);break}return c};n.exports=h}),30052:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(35001),y=r(23031),d=function(h){for(var l=h.points,a=0,f=0;f<l.length;f++){var c=l[f],u=l[(f+1)%l.length],v=new y(c.x,c.y,u.x,u.y);a+=o(v)}return a};n.exports=d}),25717:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(63814),d=r(9564),h=r(23777),l=new o({initialize:function(f){this.type=h.POLYGON,this.area=0,this.points=[],f&&this.setTo(f)},contains:function(a,f){return y(this,a,f)},setTo:function(a){if(this.area=0,this.points=[],typeof a=="string"&&(a=a.split(" ")),!Array.isArray(a))return this;for(var f,c=0;c<a.length;c++)f={x:0,y:0},typeof a[c]=="number"||typeof a[c]=="string"?(f.x=parseFloat(a[c]),f.y=parseFloat(a[c+1]),c++):Array.isArray(a[c])?(f.x=a[c][0],f.y=a[c][1]):(f.x=a[c].x,f.y=a[c].y),this.points.push(f);return this.calculateArea(),this},calculateArea:function(){if(this.points.length<3)return this.area=0,this.area;for(var a=0,f,c,u=0;u<this.points.length-1;u++)f=this.points[u],c=this.points[u+1],a+=(c.x-f.x)*(f.y+c.y);return f=this.points[0],c=this.points[this.points.length-1],a+=(f.x-c.x)*(c.y+f.y),this.area=-a*.5,this.area},getPoints:function(a,f,c){return d(this,a,f,c)}});n.exports=l}),8133:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r.points.reverse(),r};n.exports=T}),29524:(n=>{function T(l,a){var f=l.x-a.x,c=l.y-a.y;return f*f+c*c}function r(l,a,f){var c=a.x,u=a.y,v=f.x-c,p=f.y-u;if(v!==0||p!==0){var m=((l.x-c)*v+(l.y-u)*p)/(v*v+p*p);m>1?(c=f.x,u=f.y):m>0&&(c+=v*m,u+=p*m)}return v=l.x-c,p=l.y-u,v*v+p*p}function o(l,a){for(var f=l[0],c=[f],u,v=1,p=l.length;v<p;v++)u=l[v],T(u,f)>a&&(c.push(u),f=u);return f!==u&&c.push(u),c}function y(l,a,f,c,u){for(var v=c,p,m=a+1;m<f;m++){var x=r(l[m],l[a],l[f]);x>v&&(p=m,v=x)}v>c&&(p-a>1&&y(l,a,p,c,u),u.push(l[p]),f-p>1&&y(l,p,f,c,u))}function d(l,a){var f=l.length-1,c=[l[0]];return y(l,0,f,a,c),c.push(l[f]),c}var h=function(l,a,f){a===void 0&&(a=1),f===void 0&&(f=!1);var c=l.points;if(c.length>2){var u=a*a;f||(c=o(c,u)),l.setTo(d(c,u))}return l};n.exports=h}),5469:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Igor Ognichenko <ognichenko.igor@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(o,y){return o[0]=y[0],o[1]=y[1],o},r=function(o){var y,d=[],h=o.points;for(y=0;y<h.length;y++)d.push([h[y].x,h[y].y]);var l=[];for(d.length>0&&l.push(T([0,0],d[0])),y=0;y<d.length-1;y++){var a=d[y],f=d[y+1],c=a[0],u=a[1],v=f[0],p=f[1];l.push([.85*c+.15*v,.85*u+.15*p]),l.push([.15*c+.85*v,.15*u+.85*p])}return d.length>1&&l.push(T([0,0],d[d.length-1])),o.setTo(l)};n.exports=r}),24709:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y){for(var d=r.points,h=0;h<d.length;h++)d[h].x+=o,d[h].y+=y;return r};n.exports=T}),58423:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(25717);o.Clone=r(12306),o.Contains=r(63814),o.ContainsPoint=r(99338),o.Earcut=r(94811),o.GetAABB=r(13829),o.GetNumberArray=r(26173),o.GetPoints=r(9564),o.Perimeter=r(30052),o.Reverse=r(8133),o.Simplify=r(29524),o.Smooth=r(5469),o.Translate=r(24709),n.exports=o}),62224:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r.width*r.height};n.exports=T}),98615:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r.x=Math.ceil(r.x),r.y=Math.ceil(r.y),r};n.exports=T}),31688:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r.x=Math.ceil(r.x),r.y=Math.ceil(r.y),r.width=Math.ceil(r.width),r.height=Math.ceil(r.height),r};n.exports=T}),67502:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y){return r.x=o-r.width/2,r.y=y-r.height/2,r};n.exports=T}),65085:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(87841),y=function(d){return new o(d.x,d.y,d.width,d.height)};n.exports=y}),37303:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y){return r.width<=0||r.height<=0?!1:r.x<=o&&r.x+r.width>=o&&r.y<=y&&r.y+r.height>=y};n.exports=T}),96553:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(37303),y=function(d,h){return o(d,h.x,h.y)};n.exports=y}),70273:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return o.width*o.height>r.width*r.height?!1:o.x>r.x&&o.x<r.right&&o.right>r.x&&o.right<r.right&&o.y>r.y&&o.y<r.bottom&&o.bottom>r.y&&o.bottom<r.bottom};n.exports=T}),43459:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return o.setTo(r.x,r.y,r.width,r.height)};n.exports=T}),77493:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return o===void 0&&(o=[]),o.push({x:r.x,y:r.y}),o.push({x:r.right,y:r.y}),o.push({x:r.right,y:r.bottom}),o.push({x:r.x,y:r.bottom}),o};n.exports=T}),9219:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return r.x===o.x&&r.y===o.y&&r.width===o.width&&r.height===o.height};n.exports=T}),53751:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(8249),y=function(d,h){var l=o(d);return l<o(h)?d.setSize(h.height*l,h.height):d.setSize(h.width,h.width/l),d.setPosition(h.centerX-d.width/2,h.centerY-d.height/2)};n.exports=y}),16088:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(8249),y=function(d,h){var l=o(d);return l>o(h)?d.setSize(h.height*l,h.height):d.setSize(h.width,h.width/l),d.setPosition(h.centerX-d.width/2,h.centerY-d.height/2)};n.exports=y}),80774:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r.x=Math.floor(r.x),r.y=Math.floor(r.y),r};n.exports=T}),83859:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r.x=Math.floor(r.x),r.y=Math.floor(r.y),r.width=Math.floor(r.width),r.height=Math.floor(r.height),r};n.exports=T}),19217:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(87841),y=r(36383),d=function(h,l){if(l===void 0&&(l=new o),h.length===0)return l;for(var a=Number.MAX_VALUE,f=Number.MAX_VALUE,c=y.MIN_SAFE_INTEGER,u=y.MIN_SAFE_INTEGER,v,p,m,x=0;x<h.length;x++)v=h[x],Array.isArray(v)?(p=v[0],m=v[1]):(p=v.x,m=v.y),a=Math.min(a,p),f=Math.min(f,m),c=Math.max(c,p),u=Math.max(u,m);return l.x=a,l.y=f,l.width=c-a,l.height=u-f,l};n.exports=d}),9477:((n,T,r)=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(87841),y=function(d,h,l,a,f){return f===void 0&&(f=new o),f.setTo(Math.min(d,l),Math.min(h,a),Math.abs(d-l),Math.abs(h-a))};n.exports=y}),8249:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r.height===0?NaN:r.width/r.height};n.exports=T}),27165:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141),y=function(d,h){return h===void 0&&(h=new o),h.x=d.centerX,h.y=d.centerY,h};n.exports=y}),20812:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(13019),y=r(2141),d=function(h,l,a){if(a===void 0&&(a=new y),l<=0||l>=1)return a.x=h.x,a.y=h.y,a;var f=o(h)*l;return l>.5?(f-=h.width+h.height,f<=h.width?(a.x=h.right-f,a.y=h.bottom):(a.x=h.x,a.y=h.bottom-(f-h.width))):f<=h.width?(a.x=h.x+f,a.y=h.y):(a.x=h.right,a.y=h.y+(f-h.width)),a};n.exports=d}),34819:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(20812),y=r(13019),d=function(h,l,a,f){f===void 0&&(f=[]),!l&&a>0&&(l=y(h)/a);for(var c=0;c<l;c++){var u=c/l;f.push(o(h,u))}return f};n.exports=d}),51313:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141),y=function(d,h){return h===void 0&&(h=new o),h.x=d.width,h.y=d.height,h};n.exports=y}),86091:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(67502),y=function(d,h,l){var a=d.centerX,f=d.centerY;return d.setSize(d.width+h*2,d.height+l*2),o(d,a,f)};n.exports=y}),53951:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(87841),y=r(59996),d=function(h,l,a){return a===void 0&&(a=new o),y(h,l)?(a.x=Math.max(h.x,l.x),a.y=Math.max(h.y,l.y),a.width=Math.min(h.right,l.right)-a.x,a.height=Math.min(h.bottom,l.bottom)-a.y):a.setEmpty(),a};n.exports=d}),14649:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(13019),y=r(2141),d=function(h,l,a,f){if(f===void 0&&(f=[]),!l&&!a)return f;l?a=Math.round(o(h)/l):l=o(h)/a;for(var c=h.x,u=h.y,v=0,p=0;p<a;p++)switch(f.push(new y(c,u)),v){case 0:c+=l,c>=h.right&&(v=1,u+=c-h.right,c=h.right);break;case 1:u+=l,u>=h.bottom&&(v=2,c-=u-h.bottom,u=h.bottom);break;case 2:c-=l,c<=h.left&&(v=3,u-=h.left-c,c=h.left);break;case 3:u-=l,u<=h.top&&(v=0,u=h.top);break}return f};n.exports=d}),33595:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){for(var y=r.x,d=r.right,h=r.y,l=r.bottom,a=0;a<o.length;a++)y=Math.min(y,o[a].x),d=Math.max(d,o[a].x),h=Math.min(h,o[a].y),l=Math.max(l,o[a].y);return r.x=y,r.y=h,r.width=d-y,r.height=l-h,r};n.exports=T}),20074:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){var y=Math.min(r.x,o.x),d=Math.max(r.right,o.right);r.x=y,r.width=d-y;var h=Math.min(r.y,o.y),l=Math.max(r.bottom,o.bottom);return r.y=h,r.height=l-h,r};n.exports=T}),92171:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y){var d=Math.min(r.x,o),h=Math.max(r.right,o);r.x=d,r.width=h-d;var l=Math.min(r.y,y),a=Math.max(r.bottom,y);return r.y=l,r.height=a-l,r};n.exports=T}),42981:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y){return r.x+=o,r.y+=y,r};n.exports=T}),46907:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return r.x+=o.x,r.y+=o.y,r};n.exports=T}),60170:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return r.x<o.right&&r.right>o.x&&r.y<o.bottom&&r.bottom>o.y};n.exports=T}),13019:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return 2*(r.width+r.height)};n.exports=T}),85133:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141),y=r(39506),d=function(h,l,a){a===void 0&&(a=new o),l=y(l);var f=Math.sin(l),c=Math.cos(l),u=c>0?h.width/2:h.width/-2,v=f>0?h.height/2:h.height/-2;return Math.abs(u*f)<Math.abs(v*c)?v=u*f/c:u=v*c/f,a.x=u+h.centerX,a.y=v+h.centerY,a};n.exports=d}),26597:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141),y=function(d,h){return h===void 0&&(h=new o),h.x=d.x+Math.random()*d.width,h.y=d.y+Math.random()*d.height,h};n.exports=y}),86470:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(30976),y=r(70273),d=r(2141),h=function(l,a,f){if(f===void 0&&(f=new d),y(l,a))switch(o(0,3)){case 0:f.x=l.x+Math.random()*(a.right-l.x),f.y=l.y+Math.random()*(a.top-l.y);break;case 1:f.x=a.x+Math.random()*(l.right-a.x),f.y=a.bottom+Math.random()*(l.bottom-a.bottom);break;case 2:f.x=l.x+Math.random()*(a.x-l.x),f.y=a.y+Math.random()*(l.bottom-a.y);break;case 3:f.x=a.right+Math.random()*(l.right-a.right),f.y=l.y+Math.random()*(a.bottom-l.y);break}return f};n.exports=h}),87841:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(37303),d=r(20812),h=r(34819),l=r(23777),a=r(23031),f=r(26597),c=new o({initialize:function(v,p,m,x){v===void 0&&(v=0),p===void 0&&(p=0),m===void 0&&(m=0),x===void 0&&(x=0),this.type=l.RECTANGLE,this.x=v,this.y=p,this.width=m,this.height=x},contains:function(u,v){return y(this,u,v)},getPoint:function(u,v){return d(this,u,v)},getPoints:function(u,v,p){return h(this,u,v,p)},getRandomPoint:function(u){return f(this,u)},setTo:function(u,v,p,m){return this.x=u,this.y=v,this.width=p,this.height=m,this},setEmpty:function(){return this.setTo(0,0,0,0)},setPosition:function(u,v){return v===void 0&&(v=u),this.x=u,this.y=v,this},setSize:function(u,v){return v===void 0&&(v=u),this.width=u,this.height=v,this},isEmpty:function(){return this.width<=0||this.height<=0},getLineA:function(u){return u===void 0&&(u=new a),u.setTo(this.x,this.y,this.right,this.y),u},getLineB:function(u){return u===void 0&&(u=new a),u.setTo(this.right,this.y,this.right,this.bottom),u},getLineC:function(u){return u===void 0&&(u=new a),u.setTo(this.right,this.bottom,this.x,this.bottom),u},getLineD:function(u){return u===void 0&&(u=new a),u.setTo(this.x,this.bottom,this.x,this.y),u},left:{get:function(){return this.x},set:function(u){u>=this.right?this.width=0:this.width=this.right-u,this.x=u}},right:{get:function(){return this.x+this.width},set:function(u){u<=this.x?this.width=0:this.width=u-this.x}},top:{get:function(){return this.y},set:function(u){u>=this.bottom?this.height=0:this.height=this.bottom-u,this.y=u}},bottom:{get:function(){return this.y+this.height},set:function(u){u<=this.y?this.height=0:this.height=u-this.y}},centerX:{get:function(){return this.x+this.width/2},set:function(u){this.x=u-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(u){this.y=u-this.height/2}}});n.exports=c}),94845:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return r.width===o.width&&r.height===o.height};n.exports=T}),31730:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y){return y===void 0&&(y=o),r.width*=o,r.height*=y,r};n.exports=T}),36899:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(87841),y=function(d,h,l){l===void 0&&(l=new o);var a=Math.min(d.x,h.x),f=Math.min(d.y,h.y),c=Math.max(d.right,h.right)-a,u=Math.max(d.bottom,h.bottom)-f;return l.setTo(a,f,c,u)};n.exports=y}),93232:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(87841);o.Area=r(62224),o.Ceil=r(98615),o.CeilAll=r(31688),o.CenterOn=r(67502),o.Clone=r(65085),o.Contains=r(37303),o.ContainsPoint=r(96553),o.ContainsRect=r(70273),o.CopyFrom=r(43459),o.Decompose=r(77493),o.Equals=r(9219),o.FitInside=r(53751),o.FitOutside=r(16088),o.Floor=r(80774),o.FloorAll=r(83859),o.FromPoints=r(19217),o.FromXY=r(9477),o.GetAspectRatio=r(8249),o.GetCenter=r(27165),o.GetPoint=r(20812),o.GetPoints=r(34819),o.GetSize=r(51313),o.Inflate=r(86091),o.Intersection=r(53951),o.MarchingAnts=r(14649),o.MergePoints=r(33595),o.MergeRect=r(20074),o.MergeXY=r(92171),o.Offset=r(42981),o.OffsetPoint=r(46907),o.Overlaps=r(60170),o.Perimeter=r(13019),o.PerimeterPoint=r(85133),o.Random=r(26597),o.RandomOutside=r(86470),o.SameDimensions=r(94845),o.Scale=r(31730),o.Union=r(36899),n.exports=o}),41658:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){var o=r.x1,y=r.y1,d=r.x2,h=r.y2,l=r.x3,a=r.y3;return Math.abs(((l-o)*(h-y)-(d-o)*(a-y))/2)};n.exports=T}),39208:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(16483),y=function(d,h,l){var a=l*(Math.sqrt(3)/2),f=d,c=h,u=d+l/2,v=h+a,p=d-l/2,m=h+a;return new o(f,c,u,v,p,m)};n.exports=y}),39545:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(94811),y=r(16483),d=function(h,l,a,f,c){l===void 0&&(l=null),a===void 0&&(a=1),f===void 0&&(f=1),c===void 0&&(c=[]);for(var u=o(h,l),v,p,m,x,C,P,w,M,R,A=0;A<u.length;A+=3)v=u[A],p=u[A+1],m=u[A+2],x=h[v*2]*a,C=h[v*2+1]*f,P=h[p*2]*a,w=h[p*2+1]*f,M=h[m*2]*a,R=h[m*2+1]*f,c.push(new y(x,C,P,w,M,R));return c};n.exports=d}),90301:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(16483),y=function(d,h,l,a){a===void 0&&(a=l);var f=d,c=h,u=d,v=h-a,p=d+l,m=h;return new o(f,c,u,v,p,m)};n.exports=y}),23707:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(97523),y=r(13584),d=function(h,l,a,f){f===void 0&&(f=o);var c=f(h),u=l-c.x,v=a-c.y;return y(h,u,v)};n.exports=d}),97523:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141),y=function(d,h){return h===void 0&&(h=new o),h.x=(d.x1+d.x2+d.x3)/3,h.y=(d.y1+d.y2+d.y3)/3,h};n.exports=y}),24951:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(26099);function y(h,l,a,f){return h*f-l*a}var d=function(h,l){l===void 0&&(l=new o);var a=h.x3,f=h.y3,c=h.x1-a,u=h.y1-f,v=h.x2-a,p=h.y2-f,m=2*y(c,u,v,p),x=y(u,c*c+u*u,p,v*v+p*p),C=y(c,c*c+u*u,v,v*v+p*p);return l.x=a-x/m,l.y=f+C/m,l};n.exports=d}),85614:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(96503),y=function(d,h){h===void 0&&(h=new o);var l=d.x1,a=d.y1,f=d.x2,c=d.y2,u=d.x3,v=d.y3,p=f-l,m=c-a,x=u-l,C=v-a,P=p*(l+f)+m*(a+c),w=x*(l+u)+C*(a+v),M=2*(p*(v-c)-m*(u-f)),R,A;if(Math.abs(M)<1e-6){var L=Math.min(l,f,u),F=Math.min(a,c,v);R=(Math.max(l,f,u)-L)*.5,A=(Math.max(a,c,v)-F)*.5,h.x=L+R,h.y=F+A,h.radius=Math.sqrt(R*R+A*A)}else h.x=(C*P-m*w)/M,h.y=(p*w-x*P)/M,R=h.x-l,A=h.y-a,h.radius=Math.sqrt(R*R+A*A);return h};n.exports=y}),74422:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(16483),y=function(d){return new o(d.x1,d.y1,d.x2,d.y2,d.x3,d.y3)};n.exports=y}),10690:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y){var d=r.x3-r.x1,h=r.y3-r.y1,l=r.x2-r.x1,a=r.y2-r.y1,f=o-r.x1,c=y-r.y1,u=d*d+h*h,v=d*l+h*a,p=d*f+h*c,m=l*l+a*a,x=l*f+a*c,C=u*m-v*v,P=C===0?0:1/C,w=(m*p-v*x)*P,M=(u*x-v*p)*P;return w>=0&&M>=0&&w+M<1};n.exports=T}),48653:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y,d){y===void 0&&(y=!1),d===void 0&&(d=[]);for(var h=r.x3-r.x1,l=r.y3-r.y1,a=r.x2-r.x1,f=r.y2-r.y1,c=h*h+l*l,u=h*a+l*f,v=a*a+f*f,p=c*v-u*u,m=p===0?0:1/p,x,C,P,w,M,R,A=r.x1,L=r.y1,F=0;F<o.length&&(P=o[F].x-A,w=o[F].y-L,M=h*P+l*w,R=a*P+f*w,x=(v*M-u*R)*m,C=(c*R-u*M)*m,!(x>=0&&C>=0&&x+C<1&&(d.push({x:o[F].x,y:o[F].y}),y)));F++);return d};n.exports=T}),96006:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(10690),y=function(d,h){return o(d,h.x,h.y)};n.exports=y}),71326:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return o.setTo(r.x1,r.y1,r.x2,r.y2,r.x3,r.y3)};n.exports=T}),71694:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return o===void 0&&(o=[]),o.push({x:r.x1,y:r.y1}),o.push({x:r.x2,y:r.y2}),o.push({x:r.x3,y:r.y3}),o};n.exports=T}),33522:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return r.x1===o.x1&&r.y1===o.y1&&r.x2===o.x2&&r.y2===o.y2&&r.x3===o.x3&&r.y3===o.y3};n.exports=T}),20437:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141),y=r(35001),d=function(h,l,a){a===void 0&&(a=new o);var f=h.getLineA(),c=h.getLineB(),u=h.getLineC();if(l<=0||l>=1)return a.x=f.x1,a.y=f.y1,a;var v=y(f),p=y(c),m=y(u),x=v+p+m,C=x*l,P=0;return C<v?(P=C/v,a.x=f.x1+(f.x2-f.x1)*P,a.y=f.y1+(f.y2-f.y1)*P):C>v+p?(C-=v+p,P=C/m,a.x=u.x1+(u.x2-u.x1)*P,a.y=u.y1+(u.y2-u.y1)*P):(C-=v,P=C/p,a.x=c.x1+(c.x2-c.x1)*P,a.y=c.y1+(c.y2-c.y1)*P),a};n.exports=d}),80672:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(35001),y=r(2141),d=function(h,l,a,f){f===void 0&&(f=[]);var c=h.getLineA(),u=h.getLineB(),v=h.getLineC(),p=o(c),m=o(u),x=o(v),C=p+m+x;!l&&a>0&&(l=C/a);for(var P=0;P<l;P++){var w=C*(P/l),M=0,R=new y;w<p?(M=w/p,R.x=c.x1+(c.x2-c.x1)*M,R.y=c.y1+(c.y2-c.y1)*M):w>p+m?(w-=p+m,M=w/x,R.x=v.x1+(v.x2-v.x1)*M,R.y=v.y1+(v.y2-v.y1)*M):(w-=p,M=w/m,R.x=u.x1+(u.x2-u.x1)*M,R.y=u.y1+(u.y2-u.y1)*M),f.push(R)}return f};n.exports=d}),39757:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141);function y(h,l,a,f){var c=h-a,u=l-f,v=c*c+u*u;return Math.sqrt(v)}var d=function(h,l){l===void 0&&(l=new o);var a=h.x1,f=h.y1,c=h.x2,u=h.y2,v=h.x3,p=h.y3,m=y(v,p,c,u),x=y(a,f,v,p),C=y(c,u,a,f),P=m+x+C;return l.x=(a*m+c*x+v*C)/P,l.y=(f*m+u*x+p*C)/P,l};n.exports=d}),13584:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y){return r.x1+=o,r.y1+=y,r.x2+=o,r.y2+=y,r.x3+=o,r.y3+=y,r};n.exports=T}),1376:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(35001),y=function(d){var h=d.getLineA(),l=d.getLineB(),a=d.getLineC();return o(h)+o(l)+o(a)};n.exports=y}),90260:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141),y=function(d,h){h===void 0&&(h=new o);var l=d.x2-d.x1,a=d.y2-d.y1,f=d.x3-d.x1,c=d.y3-d.y1,u=Math.random(),v=Math.random();return u+v>=1&&(u=1-u,v=1-v),h.x=d.x1+(l*u+f*v),h.y=d.y1+(a*u+c*v),h};n.exports=y}),52172:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(99614),y=r(39757),d=function(h,l){var a=y(h);return o(h,a.x,a.y,l)};n.exports=d}),49907:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(99614),y=function(d,h,l){return o(d,h.x,h.y,l)};n.exports=y}),99614:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y,d){var h=Math.cos(d),l=Math.sin(d),a=r.x1-o,f=r.y1-y;return r.x1=a*h-f*l+o,r.y1=a*l+f*h+y,a=r.x2-o,f=r.y2-y,r.x2=a*h-f*l+o,r.y2=a*l+f*h+y,a=r.x3-o,f=r.y3-y,r.x3=a*h-f*l+o,r.y3=a*l+f*h+y,r};n.exports=T}),16483:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(10690),d=r(20437),h=r(80672),l=r(23777),a=r(23031),f=r(90260),c=new o({initialize:function(v,p,m,x,C,P){v===void 0&&(v=0),p===void 0&&(p=0),m===void 0&&(m=0),x===void 0&&(x=0),C===void 0&&(C=0),P===void 0&&(P=0),this.type=l.TRIANGLE,this.x1=v,this.y1=p,this.x2=m,this.y2=x,this.x3=C,this.y3=P},contains:function(u,v){return y(this,u,v)},getPoint:function(u,v){return d(this,u,v)},getPoints:function(u,v,p){return h(this,u,v,p)},getRandomPoint:function(u){return f(this,u)},setTo:function(u,v,p,m,x,C){return u===void 0&&(u=0),v===void 0&&(v=0),p===void 0&&(p=0),m===void 0&&(m=0),x===void 0&&(x=0),C===void 0&&(C=0),this.x1=u,this.y1=v,this.x2=p,this.y2=m,this.x3=x,this.y3=C,this},getLineA:function(u){return u===void 0&&(u=new a),u.setTo(this.x1,this.y1,this.x2,this.y2),u},getLineB:function(u){return u===void 0&&(u=new a),u.setTo(this.x2,this.y2,this.x3,this.y3),u},getLineC:function(u){return u===void 0&&(u=new a),u.setTo(this.x3,this.y3,this.x1,this.y1),u},left:{get:function(){return Math.min(this.x1,this.x2,this.x3)},set:function(u){var v=0;this.x1<=this.x2&&this.x1<=this.x3?v=this.x1-u:this.x2<=this.x1&&this.x2<=this.x3?v=this.x2-u:v=this.x3-u,this.x1-=v,this.x2-=v,this.x3-=v}},right:{get:function(){return Math.max(this.x1,this.x2,this.x3)},set:function(u){var v=0;this.x1>=this.x2&&this.x1>=this.x3?v=this.x1-u:this.x2>=this.x1&&this.x2>=this.x3?v=this.x2-u:v=this.x3-u,this.x1-=v,this.x2-=v,this.x3-=v}},top:{get:function(){return Math.min(this.y1,this.y2,this.y3)},set:function(u){var v=0;this.y1<=this.y2&&this.y1<=this.y3?v=this.y1-u:this.y2<=this.y1&&this.y2<=this.y3?v=this.y2-u:v=this.y3-u,this.y1-=v,this.y2-=v,this.y3-=v}},bottom:{get:function(){return Math.max(this.y1,this.y2,this.y3)},set:function(u){var v=0;this.y1>=this.y2&&this.y1>=this.y3?v=this.y1-u:this.y2>=this.y1&&this.y2>=this.y3?v=this.y2-u:v=this.y3-u,this.y1-=v,this.y2-=v,this.y3-=v}}});n.exports=c}),84435:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(16483);o.Area=r(41658),o.BuildEquilateral=r(39208),o.BuildFromPolygon=r(39545),o.BuildRight=r(90301),o.CenterOn=r(23707),o.Centroid=r(97523),o.CircumCenter=r(24951),o.CircumCircle=r(85614),o.Clone=r(74422),o.Contains=r(10690),o.ContainsArray=r(48653),o.ContainsPoint=r(96006),o.CopyFrom=r(71326),o.Decompose=r(71694),o.Equals=r(33522),o.GetPoint=r(20437),o.GetPoints=r(80672),o.InCenter=r(39757),o.Perimeter=r(1376),o.Offset=r(13584),o.Random=r(90260),o.Rotate=r(52172),o.RotateAroundPoint=r(49907),o.RotateAroundXY=r(99614),n.exports=o}),74457:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y){return{gameObject:r,enabled:!0,draggable:!1,dropZone:!1,cursor:!1,target:null,camera:null,hitArea:o,hitAreaCallback:y,hitAreaDebug:null,customHitArea:!1,localX:0,localY:0,dragState:0,dragStartX:0,dragStartY:0,dragStartXGlobal:0,dragStartYGlobal:0,dragStartCamera:null,dragX:0,dragY:0}};n.exports=T}),84409:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return function(y,d,h,l){var a=r.getPixelAlpha(d,h,l.texture.key,l.frame.name);return a&&a>=o}};n.exports=T}),7003:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(93301),d=r(50792),h=r(8214),l=r(8443),a=r(78970),f=r(85098),c=r(42515),u=r(36210),v=r(61340),p=r(85955),m=new o({initialize:function(C,P){this.game=C,this.scaleManager,this.canvas,this.config=P,this.enabled=!0,this.events=new d,this.isOver=!0,this.defaultCursor="",this.keyboard=P.inputKeyboard?new a(this):null,this.mouse=P.inputMouse?new f(this):null,this.touch=P.inputTouch?new u(this):null,this.pointers=[],this.pointersTotal=P.inputActivePointers;for(var w=0;w<=this.pointersTotal;w++){var M=new c(this,w);M.smoothFactor=P.inputSmoothFactor,this.pointers.push(M)}this.mousePointer=P.inputMouse?this.pointers[0]:null,this.activePointer=this.pointers[0],this.globalTopOnly=!0,this.time=0,this._tempPoint={x:0,y:0},this._tempHitTest=[],this._tempMatrix=new v,this._tempMatrix2=new v,this._tempSkip=!1,this.mousePointerContainer=[this.mousePointer],C.events.once(l.BOOT,this.boot,this)},boot:function(){var x=this.game,C=x.events;this.canvas=x.canvas,this.scaleManager=x.scale,this.events.emit(h.MANAGER_BOOT),C.on(l.PRE_RENDER,this.preRender,this),C.once(l.DESTROY,this.destroy,this)},setCanvasOver:function(x){this.isOver=!0,this.events.emit(h.GAME_OVER,x)},setCanvasOut:function(x){this.isOver=!1,this.events.emit(h.GAME_OUT,x)},preRender:function(){var x=this.game.loop.now,C=this.game.loop.delta,P=this.game.scene.getScenes(!0,!0);this.time=x,this.events.emit(h.MANAGER_UPDATE);for(var w=0;w<P.length;w++){var M=P[w];if(M.sys.input&&M.sys.input.updatePoll(x,C)&&this.globalTopOnly)return}},setDefaultCursor:function(x){this.defaultCursor=x,this.canvas.style.cursor!==x&&(this.canvas.style.cursor=x)},setCursor:function(x){x.cursor&&(this.canvas.style.cursor=x.cursor)},resetCursor:function(x,C){(C||x&&x.cursor)&&this.canvas&&(this.canvas.style.cursor=this.defaultCursor)},addPointer:function(x){x===void 0&&(x=1);var C=[];this.pointersTotal+x>10&&(x=10-this.pointersTotal);for(var P=0;P<x;P++){var w=this.pointers.length,M=new c(this,w);M.smoothFactor=this.config.inputSmoothFactor,this.pointers.push(M),this.pointersTotal++,C.push(M)}return C},updateInputPlugins:function(x,C){var P=this.game.scene.getScenes(!1,!0);this._tempSkip=!1;for(var w=0;w<P.length;w++){var M=P[w];if(M.sys.input){var R=M.sys.input.update(x,C);if(R&&this.globalTopOnly||this._tempSkip)return}}},onTouchStart:function(x){for(var C=this.pointers,P=[],w=0;w<x.changedTouches.length;w++)for(var M=x.changedTouches[w],R=1;R<C.length;R++){var A=C[R];if(!A.active){A.touchstart(M,x),this.activePointer=A,P.push(A);break}}this.updateInputPlugins(y.TOUCH_START,P)},onTouchMove:function(x){for(var C=this.pointers,P=[],w=0;w<x.changedTouches.length;w++)for(var M=x.changedTouches[w],R=1;R<C.length;R++){var A=C[R];if(A.active&&A.identifier===M.identifier){var L=document.elementFromPoint(M.clientX,M.clientY),F=L===this.canvas;!this.isOver&&F?this.setCanvasOver(x):this.isOver&&!F&&this.setCanvasOut(x),this.isOver&&(A.touchmove(M,x),this.activePointer=A,P.push(A));break}}this.updateInputPlugins(y.TOUCH_MOVE,P)},onTouchEnd:function(x){for(var C=this.pointers,P=[],w=0;w<x.changedTouches.length;w++)for(var M=x.changedTouches[w],R=1;R<C.length;R++){var A=C[R];if(A.active&&A.identifier===M.identifier){A.touchend(M,x),P.push(A);break}}this.updateInputPlugins(y.TOUCH_END,P)},onTouchCancel:function(x){for(var C=this.pointers,P=[],w=0;w<x.changedTouches.length;w++)for(var M=x.changedTouches[w],R=1;R<C.length;R++){var A=C[R];if(A.active&&A.identifier===M.identifier){A.touchcancel(M,x),P.push(A);break}}this.updateInputPlugins(y.TOUCH_CANCEL,P)},onMouseDown:function(x){var C=this.mousePointer;C.down(x),C.updateMotion(),this.activePointer=C,this.updateInputPlugins(y.MOUSE_DOWN,this.mousePointerContainer)},onMouseMove:function(x){var C=this.mousePointer;C.move(x),C.updateMotion(),this.activePointer=C,this.updateInputPlugins(y.MOUSE_MOVE,this.mousePointerContainer)},onMouseUp:function(x){var C=this.mousePointer;C.up(x),C.updateMotion(),this.activePointer=C,this.updateInputPlugins(y.MOUSE_UP,this.mousePointerContainer)},onMouseWheel:function(x){var C=this.mousePointer;C.wheel(x),this.activePointer=C,this.updateInputPlugins(y.MOUSE_WHEEL,this.mousePointerContainer)},onPointerLockChange:function(x){var C=this.mouse.locked;this.mousePointer.locked=C,this.events.emit(h.POINTERLOCK_CHANGE,x,C)},inputCandidate:function(x,C){var P=x.input;if(!P||!P.enabled||!x.willRender(C))return!1;var w=!0,M=x.parentContainer;if(M)do{if(!M.willRender(C)){w=!1;break}M=M.parentContainer}while(M);return w},hitTest:function(x,C,P,w){w===void 0&&(w=this._tempHitTest);var M=this._tempPoint,R=P.scrollX,A=P.scrollY;w.length=0;var L=x.x,F=x.y;P.getWorldPoint(L,F,M),x.worldX=M.x,x.worldY=M.y;for(var G={x:0,y:0},I=this._tempMatrix,B=this._tempMatrix2,k=0;k<C.length;k++){var U=C[k];if(this.inputCandidate(U,P)){var H=M.x+R*U.scrollFactorX-R,X=M.y+A*U.scrollFactorY-A;U.parentContainer?(U.getWorldTransformMatrix(I,B),I.applyInverse(H,X,G)):p(H,X,U.x,U.y,U.rotation,U.scaleX,U.scaleY,G),this.pointWithinHitArea(U,G.x,G.y)&&w.push(U)}}return w},pointWithinHitArea:function(x,C,P){C+=x.displayOriginX,P+=x.displayOriginY;var w=x.input;return w&&w.hitAreaCallback(w.hitArea,C,P,x)?(w.localX=C,w.localY=P,!0):!1},pointWithinInteractiveObject:function(x,C,P){return x.hitArea?(C+=x.gameObject.displayOriginX,P+=x.gameObject.displayOriginY,x.localX=C,x.localY=P,x.hitAreaCallback(x.hitArea,C,P,x)):!1},transformPointer:function(x,C,P,w){var M=x.position,R=x.prevPosition;R.x=M.x,R.y=M.y;var A=this.scaleManager.transformX(C),L=this.scaleManager.transformY(P),F=x.smoothFactor;!w||F===0?(M.x=A,M.y=L):(M.x=A*F+R.x*(1-F),M.y=L*F+R.y*(1-F))},destroy:function(){this.events.removeAllListeners(),this.game.events.off(l.PRE_RENDER),this.keyboard&&this.keyboard.destroy(),this.mouse&&this.mouse.destroy(),this.touch&&this.touch.destroy();for(var x=0;x<this.pointers.length;x++)this.pointers[x].destroy();this.pointers=[],this._tempHitTest=[],this._tempMatrix.destroy(),this.canvas=null,this.game=null}});n.exports=m}),48205:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(96503),y=r(87902),d=r(83419),h=r(93301),l=r(74457),a=r(84409),f=r(20339),c=r(8497),u=r(81154),v=r(8214),p=r(50792),m=r(95540),x=r(23777),C=r(89639),P=r(41212),w=r(37277),M=r(87841),R=r(37303),A=r(44594),L=r(16483),F=r(10690),G=new d({Extends:p,initialize:function(B){p.call(this),this.scene=B,this.systems=B.sys,this.settings=B.sys.settings,this.manager=B.sys.game.input,this.pluginEvents=new p,this.enabled=!0,this.displayList,this.cameras,C.install(this),this.mouse=this.manager.mouse,this.topOnly=!0,this.pollRate=-1,this._pollTimer=0;var k={cancelled:!1};this._eventContainer={stopPropagation:function(){k.cancelled=!0}},this._eventData=k,this.dragDistanceThreshold=0,this.dragTimeThreshold=0,this._temp=[],this._tempZones=[],this._list=[],this._pendingInsertion=[],this._pendingRemoval=[],this._draggable=[],this._drag={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._dragState=[],this._over={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._validTypes=["onDown","onUp","onOver","onOut","onMove","onDragStart","onDrag","onDragEnd","onDragEnter","onDragLeave","onDragOver","onDrop"],this._updatedThisFrame=!1,B.sys.events.once(A.BOOT,this.boot,this),B.sys.events.on(A.START,this.start,this)},boot:function(){this.cameras=this.systems.cameras,this.displayList=this.systems.displayList,this.systems.events.once(A.DESTROY,this.destroy,this),this.pluginEvents.emit(v.BOOT)},start:function(){var I=this.systems.events;I.on(A.TRANSITION_START,this.transitionIn,this),I.on(A.TRANSITION_OUT,this.transitionOut,this),I.on(A.TRANSITION_COMPLETE,this.transitionComplete,this),I.on(A.PRE_UPDATE,this.preUpdate,this),I.once(A.SHUTDOWN,this.shutdown,this),this.manager.events.on(v.GAME_OUT,this.onGameOut,this),this.manager.events.on(v.GAME_OVER,this.onGameOver,this),this.enabled=!0,this._dragState=[0,0,0,0,0,0,0,0,0,0],this.pluginEvents.emit(v.START)},onGameOver:function(I){this.isActive()&&this.emit(v.GAME_OVER,I.timeStamp,I)},onGameOut:function(I){this.isActive()&&this.emit(v.GAME_OUT,I.timeStamp,I)},preUpdate:function(){this.pluginEvents.emit(v.PRE_UPDATE);var I=this._pendingRemoval,B=this._pendingInsertion,k=I.length,U=B.length;if(!(k===0&&U===0)){for(var H=this._list,X=0;X<k;X++){var j=I[X],Z=H.indexOf(j);Z>-1&&(H.splice(Z,1),this.clear(j,!0))}this._pendingRemoval.length=0,this._list=H.concat(B.splice(0))}},isActive:function(){return this.manager&&this.manager.enabled&&this.enabled&&this.scene.sys.canInput()},setCursor:function(I){this.manager&&this.manager.setCursor(I)},resetCursor:function(){this.manager&&this.manager.resetCursor(null,!0)},updatePoll:function(I,B){if(!this.isActive())return!1;if(this.pluginEvents.emit(v.UPDATE,I,B),this._updatedThisFrame)return this._updatedThisFrame=!1,!1;var k,U=this.manager,H=U.pointers;for(k=0;k<H.length;k++)H[k].updateMotion();if(this._list.length===0)return!1;var X=this.pollRate;if(X===-1)return!1;if(X>0)if(this._pollTimer-=B,this._pollTimer<0)this._pollTimer=this.pollRate;else return!1;var j=!1;for(k=0;k<H.length;k++){var Z=0,Y=H[k];this._tempZones=[],this._temp=this.hitTestPointer(Y),this.sortGameObjects(this._temp,Y),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),Z+=this.processOverOutEvents(Y),this.getDragState(Y)===2&&this.processDragThresholdEvent(Y,I),Z>0&&(j=!0)}return j},update:function(I,B){if(!this.isActive())return!1;for(var k=!1,U=0;U<B.length;U++){var H=0,X=B[U];switch(this._tempZones=[],this._temp=this.hitTestPointer(X),this.sortGameObjects(this._temp,X),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),I){case h.MOUSE_DOWN:H+=this.processDragDownEvent(X),H+=this.processDownEvents(X),H+=this.processOverOutEvents(X);break;case h.MOUSE_UP:H+=this.processDragUpEvent(X),H+=this.processUpEvents(X),H+=this.processOverOutEvents(X);break;case h.TOUCH_START:H+=this.processDragDownEvent(X),H+=this.processDownEvents(X),H+=this.processOverEvents(X);break;case h.TOUCH_END:case h.TOUCH_CANCEL:H+=this.processDragUpEvent(X),H+=this.processUpEvents(X),H+=this.processOutEvents(X);break;case h.MOUSE_MOVE:case h.TOUCH_MOVE:H+=this.processDragMoveEvent(X),H+=this.processMoveEvents(X),H+=this.processOverOutEvents(X);break;case h.MOUSE_WHEEL:H+=this.processWheelEvent(X);break}H>0&&(k=!0)}return this._updatedThisFrame=!0,k},clear:function(I,B){B===void 0&&(B=!1),this.disable(I);var k=I.input;k&&(this.removeDebug(I),this.manager.resetCursor(k),k.gameObject=void 0,k.target=void 0,k.hitArea=void 0,k.hitAreaCallback=void 0,k.callbackContext=void 0,I.input=null),B||this.queueForRemoval(I);var U=this._draggable.indexOf(I);return U>-1&&this._draggable.splice(U,1),I},disable:function(I,B){B===void 0&&(B=!1);var k=I.input;k&&(k.enabled=!1,k.dragState=0);for(var U=this._drag,H=this._over,X=this.manager,j=0,Z;j<X.pointers.length;j++)Z=U[j].indexOf(I),Z>-1&&U[j].splice(Z,1),Z=H[j].indexOf(I),Z>-1&&H[j].splice(Z,1);return B&&this.resetCursor(),this},enable:function(I,B,k,U){return U===void 0&&(U=!1),I.input?I.input.enabled=!0:this.setHitArea(I,B,k),I.input&&U&&!I.input.dropZone&&(I.input.dropZone=U),this},hitTestPointer:function(I){for(var B=this.cameras.getCamerasBelowPointer(I),k=0;k<B.length;k++){for(var U=B[k],H=this.manager.hitTest(I,this._list,U),X=0;X<H.length;X++){var j=H[X];j.input.dropZone&&this._tempZones.push(j)}if(H.length>0)return I.camera=U,H}return I.camera=B[0],[]},processDownEvents:function(I){var B=0,k=this._temp,U=this._eventData,H=this._eventContainer;U.cancelled=!1;for(var X=0;X<k.length;X++){var j=k[X];if(!(!j.input||!j.input.enabled)&&(B++,j.emit(v.GAMEOBJECT_POINTER_DOWN,I,j.input.localX,j.input.localY,H),U.cancelled||!this.isActive()||j.input&&j.input.enabled&&(this.emit(v.GAMEOBJECT_DOWN,I,j,H),U.cancelled||!this.isActive())))break}return!U.cancelled&&this.isActive()&&(I.downElement===this.manager.game.canvas?this.emit(v.POINTER_DOWN,I,k):this.emit(v.POINTER_DOWN_OUTSIDE,I)),B},getDragState:function(I){return this._dragState[I.id]},setDragState:function(I,B){this._dragState[I.id]=B},processDragThresholdEvent:function(I,B){var k=!1,U=this.dragTimeThreshold,H=this.dragDistanceThreshold;if((H>0&&f(I.x,I.y,I.downX,I.downY)>=H||U>0&&B>=I.downTime+U)&&(k=!0),k)return this.setDragState(I,3),this.processDragStartList(I)},processDragStartList:function(I){if(this.getDragState(I)!==3)return 0;var B=this._drag[I.id];B.length>1&&(B=B.slice(0));for(var k=0;k<B.length;k++){var U=B[k],H=U.input;H.dragState=2,H.dragStartX=U.x,H.dragStartY=U.y,H.dragStartXGlobal=I.worldX,H.dragStartYGlobal=I.worldY,H.dragStartCamera=I.camera,H.dragX=H.dragStartXGlobal-H.dragStartX,H.dragY=H.dragStartYGlobal-H.dragStartY,U.emit(v.GAMEOBJECT_DRAG_START,I,H.dragX,H.dragY),this.emit(v.DRAG_START,I,U)}return this.setDragState(I,4),B.length},processDragDownEvent:function(I){var B=this._temp;if(this._draggable.length===0||B.length===0||!I.primaryDown||this.getDragState(I)!==0)return 0;this.setDragState(I,1);for(var k=[],U=0;U<B.length;U++){var H=B[U];H.input.draggable&&H.input.dragState===0&&k.push(H)}return k.length===0?(this.setDragState(I,0),0):(k.length>1&&(this.sortGameObjects(k,I),this.topOnly&&k.splice(1)),this._drag[I.id]=k,this.dragDistanceThreshold===0&&this.dragTimeThreshold===0?(this.setDragState(I,3),this.processDragStartList(I)):(this.setDragState(I,2),0))},processDragMoveEvent:function(I){if(this.getDragState(I)===2&&this.processDragThresholdEvent(I,this.manager.game.loop.now),this.getDragState(I)!==4)return 0;var B=this._tempZones,k=this._drag[I.id];k.length>1&&(k=k.slice(0));for(var U=0;U<k.length;U++){var H=k[U],X=H.input,j=X.target;if(j){var Z=B.indexOf(j);Z===0?(H.emit(v.GAMEOBJECT_DRAG_OVER,I,j),this.emit(v.DRAG_OVER,I,H,j)):Z>0?(H.emit(v.GAMEOBJECT_DRAG_LEAVE,I,j),this.emit(v.DRAG_LEAVE,I,H,j),X.target=B[0],j=X.target,H.emit(v.GAMEOBJECT_DRAG_ENTER,I,j),this.emit(v.DRAG_ENTER,I,H,j)):(H.emit(v.GAMEOBJECT_DRAG_LEAVE,I,j),this.emit(v.DRAG_LEAVE,I,H,j),B[0]?(X.target=B[0],j=X.target,H.emit(v.GAMEOBJECT_DRAG_ENTER,I,j),this.emit(v.DRAG_ENTER,I,H,j)):X.target=null)}else!j&&B[0]&&(X.target=B[0],j=X.target,H.emit(v.GAMEOBJECT_DRAG_ENTER,I,j),this.emit(v.DRAG_ENTER,I,H,j));var Y,$,z=I.positionToCamera(X.dragStartCamera);if(!H.parentContainer)Y=z.x-X.dragX,$=z.y-X.dragY;else{var V=z.x-X.dragStartXGlobal,K=z.y-X.dragStartYGlobal,Q=H.getParentRotation(),_=V*Math.cos(Q)+K*Math.sin(Q),tt=K*Math.cos(Q)-V*Math.sin(Q);_*=1/H.parentContainer.scaleX,tt*=1/H.parentContainer.scaleY,Y=_+X.dragStartX,$=tt+X.dragStartY}H.emit(v.GAMEOBJECT_DRAG,I,Y,$),this.emit(v.DRAG,I,H,Y,$)}return k.length},processDragUpEvent:function(I){var B=this._drag[I.id];B.length>1&&(B=B.slice(0));for(var k=0;k<B.length;k++){var U=B[k],H=U.input;if(H&&H.dragState===2){H.dragState=0,H.dragX=H.localX-U.displayOriginX,H.dragY=H.localY-U.displayOriginY,H.dragStartCamera=null;var X=!1,j=H.target;j&&(U.emit(v.GAMEOBJECT_DROP,I,j),this.emit(v.DROP,I,U,j),H.target=null,X=!0),U.input&&U.input.enabled&&(U.emit(v.GAMEOBJECT_DRAG_END,I,H.dragX,H.dragY,X),this.emit(v.DRAG_END,I,U,X))}}return this.setDragState(I,0),B.splice(0),0},processMoveEvents:function(I){var B=0,k=this._temp,U=this._eventData,H=this._eventContainer;U.cancelled=!1;for(var X=0;X<k.length;X++){var j=k[X];if(!(!j.input||!j.input.enabled)&&(B++,j.emit(v.GAMEOBJECT_POINTER_MOVE,I,j.input.localX,j.input.localY,H),U.cancelled||!this.isActive()||j.input&&j.input.enabled&&(this.emit(v.GAMEOBJECT_MOVE,I,j,H),U.cancelled||!this.isActive()||this.topOnly)))break}return!U.cancelled&&this.isActive()&&this.emit(v.POINTER_MOVE,I,k),B},processWheelEvent:function(I){var B=0,k=this._temp,U=this._eventData,H=this._eventContainer;U.cancelled=!1;for(var X=I.deltaX,j=I.deltaY,Z=I.deltaZ,Y=0;Y<k.length;Y++){var $=k[Y];if(!(!$.input||!$.input.enabled)&&(B++,$.emit(v.GAMEOBJECT_POINTER_WHEEL,I,X,j,Z,H),U.cancelled||!this.isActive()||$.input&&$.input.enabled&&(this.emit(v.GAMEOBJECT_WHEEL,I,$,X,j,Z,H),U.cancelled||!this.isActive())))break}return!U.cancelled&&this.isActive()&&this.emit(v.POINTER_WHEEL,I,k,X,j,Z),B},processOverEvents:function(I){var B=this._temp,k=0,U=B.length,H=[];if(U>0){var X=this.manager,j=this._eventData,Z=this._eventContainer;j.cancelled=!1;for(var Y=0;Y<U;Y++){var $=B[Y];if(!(!$.input||!$.input.enabled)&&(H.push($),X.setCursor($.input),$.emit(v.GAMEOBJECT_POINTER_OVER,I,$.input.localX,$.input.localY,Z),k++,j.cancelled||!this.isActive()||$.input&&$.input.enabled&&(this.emit(v.GAMEOBJECT_OVER,I,$,Z),j.cancelled||!this.isActive())))break}!j.cancelled&&this.isActive()&&this.emit(v.POINTER_OVER,I,H)}return this._over[I.id]=H,k},processOutEvents:function(I){var B=this._over[I.id],k=0,U=B.length;if(U>0){var H=this.manager,X=this._eventData,j=this._eventContainer;X.cancelled=!1,this.sortGameObjects(B,I);for(var Z=0;Z<U;Z++){var Y=B[Z];if(Y=B[Z],!(!Y.input||!Y.input.enabled)&&(H.resetCursor(Y.input),Y.emit(v.GAMEOBJECT_POINTER_OUT,I,j),k++,X.cancelled||!this.isActive()||Y.input&&Y.input.enabled&&(this.emit(v.GAMEOBJECT_OUT,I,Y,j),X.cancelled||!this.isActive())))break}!X.cancelled&&this.isActive()&&this.emit(v.POINTER_OUT,I,B),this._over[I.id]=[]}return k},processOverOutEvents:function(I){var B=this._temp,k,U,H=[],X=[],j=[],Z=this._over[I.id],Y=this._drag[I.id],$=this.manager;for(k=0;k<Z.length;k++)U=Z[k],B.indexOf(U)===-1&&Y.indexOf(U)===-1?H.push(U):j.push(U);for(k=0;k<B.length;k++)U=B[k],Z.indexOf(U)===-1&&X.push(U);var z=H.length,V=0,K=this._eventData,Q=this._eventContainer;if(K.cancelled=!1,z>0){for(this.sortGameObjects(H,I),k=0;k<z&&(U=H[k],!(!(!U.input||!U.input.enabled)&&($.resetCursor(U.input),U.emit(v.GAMEOBJECT_POINTER_OUT,I,Q),V++,K.cancelled||!this.isActive()||U.input&&U.input.enabled&&(this.emit(v.GAMEOBJECT_OUT,I,U,Q),K.cancelled||!this.isActive()))));k++);(!K.cancelled||this.isActive())&&this.emit(v.POINTER_OUT,I,H)}if(z=X.length,K.cancelled=!1,z>0){for(this.sortGameObjects(X,I),k=0;k<z&&(U=X[k],!(!(!U.input||!U.input.enabled)&&($.setCursor(U.input),U.emit(v.GAMEOBJECT_POINTER_OVER,I,U.input.localX,U.input.localY,Q),V++,K.cancelled||!this.isActive()||U.input&&U.input.enabled&&(this.emit(v.GAMEOBJECT_OVER,I,U,Q),K.cancelled||!this.isActive()))));k++);!K.cancelled&&this.isActive()&&this.emit(v.POINTER_OVER,I,X)}return Z=j.concat(X),this._over[I.id]=this.sortGameObjects(Z,I),V},processUpEvents:function(I){var B=this._temp,k=this._eventData,U=this._eventContainer;k.cancelled=!1;for(var H=0;H<B.length;H++){var X=B[H];if(!(!X.input||!X.input.enabled)&&(X.emit(v.GAMEOBJECT_POINTER_UP,I,X.input.localX,X.input.localY,U),k.cancelled||!this.isActive()||X.input&&X.input.enabled&&(this.emit(v.GAMEOBJECT_UP,I,X,U),k.cancelled||!this.isActive())))break}return!k.cancelled&&this.isActive()&&(I.upElement===this.manager.game.canvas?this.emit(v.POINTER_UP,I,B):this.emit(v.POINTER_UP_OUTSIDE,I)),B.length},forceDownState:function(I,B){this.forceState(I,B,v.GAMEOBJECT_POINTER_DOWN,v.GAMEOBJECT_DOWN,!1)},forceUpState:function(I,B){this.forceState(I,B,v.GAMEOBJECT_POINTER_UP,v.GAMEOBJECT_UP,!1)},forceOverState:function(I,B){this.forceState(I,B,v.GAMEOBJECT_POINTER_OVER,v.GAMEOBJECT_OVER,!0)},forceOutState:function(I,B){this.forceState(I,B,v.GAMEOBJECT_POINTER_OUT,v.GAMEOBJECT_OUT,!1)},forceState:function(I,B,k,U,H){var X=this._eventData,j=this._eventContainer;X.cancelled=!1,B.input&&B.input.enabled&&(B.emit(k,I,B.input.localX,B.input.localY,j),H&&this.setCursor(B.input),!X.cancelled&&this.isActive()&&B.input&&B.input.enabled&&this.emit(U,I,B,j))},queueForInsertion:function(I){return this._pendingInsertion.indexOf(I)===-1&&this._list.indexOf(I)===-1&&this._pendingInsertion.push(I),this},queueForRemoval:function(I){return this._pendingRemoval.push(I),this},setDraggable:function(I,B){B===void 0&&(B=!0),Array.isArray(I)||(I=[I]);for(var k=0;k<I.length;k++){var U=I[k];U.input.draggable=B;var H=this._draggable.indexOf(U);B&&H===-1?this._draggable.push(U):!B&&H>-1&&this._draggable.splice(H,1)}return this},makePixelPerfect:function(I){I===void 0&&(I=1);var B=this.systems.textures;return a(B,I)},setHitArea:function(I,B,k){if(B===void 0)return this.setHitAreaFromTexture(I);Array.isArray(I)||(I=[I]);var U=!1,H=!1,X=!1,j=!1,Z=!1,Y=!0;if(P(B)&&Object.keys(B).length){var $=B,z=I.some(function(tt){return tt.hasOwnProperty("faces")});if(!z){B=m($,"hitArea",null),k=m($,"hitAreaCallback",null),Z=m($,"pixelPerfect",!1);var V=m($,"alphaTolerance",1);Z&&(B={},k=this.makePixelPerfect(V))}U=m($,"draggable",!1),H=m($,"dropZone",!1),X=m($,"cursor",!1),j=m($,"useHandCursor",!1),(!B||!k)&&(this.setHitAreaFromTexture(I),Y=!1)}else typeof B=="function"&&!k&&(k=B,B={});for(var K=0;K<I.length;K++){var Q=I[K];if(Z&&Q.type==="Container"){console.warn("Cannot pixelPerfect test a Container. Use a custom callback.");continue}var _=Q.input?Q.input:l(Q,B,k);_.customHitArea=Y,_.dropZone=H,_.cursor=j?"pointer":X,Q.input=_,U&&this.setDraggable(Q),this.queueForInsertion(Q)}return this},setHitAreaCircle:function(I,B,k,U,H){H===void 0&&(H=y);var X=new o(B,k,U);return this.setHitArea(I,X,H)},setHitAreaEllipse:function(I,B,k,U,H,X){X===void 0&&(X=u);var j=new c(B,k,U,H);return this.setHitArea(I,j,X)},setHitAreaFromTexture:function(I,B){B===void 0&&(B=R),Array.isArray(I)||(I=[I]);for(var k=0;k<I.length;k++){var U=I[k],H=U.frame,X=0,j=0;if(U.width?(X=U.width,j=U.height):H&&(X=H.realWidth,j=H.realHeight),U.type==="Container"&&(X===0||j===0)){console.warn("Container.setInteractive must specify a Shape or call setSize() first");continue}X!==0&&j!==0&&(U.input=l(U,new M(0,0,X,j),B),this.queueForInsertion(U))}return this},setHitAreaRectangle:function(I,B,k,U,H,X){X===void 0&&(X=R);var j=new M(B,k,U,H);return this.setHitArea(I,j,X)},setHitAreaTriangle:function(I,B,k,U,H,X,j,Z){Z===void 0&&(Z=F);var Y=new L(B,k,U,H,X,j);return this.setHitArea(I,Y,Z)},enableDebug:function(I,B){B===void 0&&(B=65280);var k=I.input;if(!k||!k.hitArea)return this;var U=k.hitArea,H=U.type,X=k.hitAreaDebug,j=this.systems.add,Z=this.systems.updateList;X&&(Z.remove(X),X.destroy(),X=null);var Y=0,$=0;switch(H){case x.CIRCLE:X=j.arc(0,0,U.radius),Y=U.x-U.radius,$=U.y-U.radius;break;case x.ELLIPSE:X=j.ellipse(0,0,U.width,U.height),Y=U.x-U.width/2,$=U.y-U.height/2;break;case x.LINE:X=j.line(0,0,U.x1,U.y1,U.x2,U.y2);break;case x.POLYGON:X=j.polygon(0,0,U.points);break;case x.RECTANGLE:X=j.rectangle(0,0,U.width,U.height),Y=U.x,$=U.y;break;case x.TRIANGLE:X=j.triangle(0,0,U.x1,U.y1,U.x2,U.y2,U.x3,U.y3);break}return X&&(X.isFilled=!1,X.strokeColor=B,X.preUpdate=function(){X.setVisible(I.visible),X.setStrokeStyle(1/I.scale,X.strokeColor),X.setDisplayOrigin(I.displayOriginX,I.displayOriginY);var z=I.x,V=I.y,K=I.rotation,Q=I.scaleX,_=I.scaleY;if(I.parentContainer){var tt=I.getWorldTransformMatrix();z=tt.tx,V=tt.ty,K=tt.rotation,Q=tt.scaleX,_=tt.scaleY}X.setRotation(K),X.setScale(Q,_),X.setPosition(z+Y*Q,V+$*_),X.setScrollFactor(I.scrollFactorX,I.scrollFactorY),X.setDepth(I.depth)},Z.add(X),k.hitAreaDebug=X),this},removeDebug:function(I){var B=I.input;if(B&&B.hitAreaDebug){var k=B.hitAreaDebug;k.destroy(),B.hitAreaDebug=null}return this},setPollAlways:function(){return this.setPollRate(0)},setPollOnMove:function(){return this.setPollRate(-1)},setPollRate:function(I){return this.pollRate=I,this._pollTimer=0,this},setGlobalTopOnly:function(I){return this.manager.globalTopOnly=I,this},setTopOnly:function(I){return this.topOnly=I,this},sortGameObjects:function(I,B){if(I.length<2||!B.camera)return I;var k=B.camera.renderList;return I.sort(function(U,H){var X=Math.max(k.indexOf(U),0),j=Math.max(k.indexOf(H),0);return j-X})},sortDropZones:function(I){return I.length<2?I:(this.scene.sys.depthSort(),I.sort(this.sortDropZoneHandler.bind(this)))},sortDropZoneHandler:function(I,B){if(!I.parentContainer&&!B.parentContainer)return this.displayList.getIndex(B)-this.displayList.getIndex(I);if(I.parentContainer===B.parentContainer)return B.parentContainer.getIndex(B)-I.parentContainer.getIndex(I);if(I.parentContainer===B)return-1;if(B.parentContainer===I)return 1;for(var k=I.getIndexList(),U=B.getIndexList(),H=Math.min(k.length,U.length),X=0;X<H;X++){var j=k[X],Z=U[X];if(j!==Z)return Z-j}return U.length-k.length},stopPropagation:function(){return this.manager._tempSkip=!0,this},addPointer:function(I){return this.manager.addPointer(I)},setDefaultCursor:function(I){return this.manager.setDefaultCursor(I),this},transitionIn:function(){this.enabled=this.settings.transitionAllowInput},transitionComplete:function(){this.settings.transitionAllowInput||(this.enabled=!0)},transitionOut:function(){this.enabled=this.settings.transitionAllowInput},shutdown:function(){this.pluginEvents.emit(v.SHUTDOWN),this._temp.length=0,this._list.length=0,this._draggable.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0,this._dragState.length=0;for(var I=0;I<10;I++)this._drag[I]=[],this._over[I]=[];this.removeAllListeners();var B=this.manager;B.canvas.style.cursor=B.defaultCursor;var k=this.systems.events;k.off(A.TRANSITION_START,this.transitionIn,this),k.off(A.TRANSITION_OUT,this.transitionOut,this),k.off(A.TRANSITION_COMPLETE,this.transitionComplete,this),k.off(A.PRE_UPDATE,this.preUpdate,this),B.events.off(v.GAME_OUT,this.onGameOut,this),B.events.off(v.GAME_OVER,this.onGameOver,this),k.off(A.SHUTDOWN,this.shutdown,this)},resetPointers:function(){for(var I=this.manager.pointers,B=0;B<I.length;B++)I[B].reset()},destroy:function(){this.shutdown(),this.pluginEvents.emit(v.DESTROY),this.pluginEvents.removeAllListeners(),this.scene.sys.events.off(A.START,this.start,this),this.scene=null,this.cameras=null,this.manager=null,this.events=null,this.mouse=null},x:{get:function(){return this.manager.activePointer.x}},y:{get:function(){return this.manager.activePointer.y}},isOver:{get:function(){return this.manager.isOver}},mousePointer:{get:function(){return this.manager.mousePointer}},activePointer:{get:function(){return this.manager.activePointer}},pointer1:{get:function(){return this.manager.pointers[1]}},pointer2:{get:function(){return this.manager.pointers[2]}},pointer3:{get:function(){return this.manager.pointers[3]}},pointer4:{get:function(){return this.manager.pointers[4]}},pointer5:{get:function(){return this.manager.pointers[5]}},pointer6:{get:function(){return this.manager.pointers[6]}},pointer7:{get:function(){return this.manager.pointers[7]}},pointer8:{get:function(){return this.manager.pointers[8]}},pointer9:{get:function(){return this.manager.pointers[9]}},pointer10:{get:function(){return this.manager.pointers[10]}}});w.register("InputPlugin",G,"input"),n.exports=G}),89639:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(35154),y={},d={};d.register=function(h,l,a,f,c){y[h]={plugin:l,mapping:a,settingsKey:f,configKey:c}},d.getPlugin=function(h){return y[h]},d.install=function(h){var l=h.scene.sys,a=l.settings.input,f=l.game.config;for(var c in y){var u=y[c].plugin,v=y[c].mapping,p=y[c].settingsKey,m=y[c].configKey;o(a,p,f[m])&&(h[v]=new u(h))}},d.remove=function(h){y.hasOwnProperty(h)&&delete y[h]},n.exports=d}),42515:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(31040),y=r(83419),d=r(20339),h=r(43855),l=r(47235),a=r(26099),f=r(25892),c=new y({initialize:function(v,p){this.manager=v,this.id=p,this.event,this.downElement,this.upElement,this.camera=null,this.button=0,this.buttons=0,this.position=new a,this.prevPosition=new a,this.midPoint=new a(-1,-1),this.velocity=new a,this.angle=0,this.distance=0,this.smoothFactor=0,this.motionFactor=.2,this.worldX=0,this.worldY=0,this.moveTime=0,this.downX=0,this.downY=0,this.downTime=0,this.upX=0,this.upY=0,this.upTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.active=p===0,this.locked=!1,this.deltaX=0,this.deltaY=0,this.deltaZ=0},updateWorldPoint:function(u){var v=u.getWorldPoint(this.x,this.y);return this.worldX=v.x,this.worldY=v.y,this},positionToCamera:function(u,v){return u.getWorldPoint(this.x,this.y,v)},updateMotion:function(){var u=this.position.x,v=this.position.y,p=this.midPoint.x,m=this.midPoint.y;if(!(u===p&&v===m)){var x=l(this.motionFactor,p,u),C=l(this.motionFactor,m,v);h(x,u,.1)&&(x=u),h(C,v,.1)&&(C=v),this.midPoint.set(x,C);var P=u-x,w=v-C;this.velocity.set(P,w),this.angle=o(x,C,u,v),this.distance=Math.sqrt(P*P+w*w)}},up:function(u){"buttons"in u&&(this.buttons=u.buttons),this.event=u,this.button=u.button,this.upElement=u.target,this.manager.transformPointer(this,u.pageX,u.pageY,!1),u.button===0&&(this.primaryDown=!1,this.upX=this.x,this.upY=this.y),this.buttons===0&&(this.isDown=!1,this.upTime=u.timeStamp,this.wasTouch=!1)},down:function(u){"buttons"in u&&(this.buttons=u.buttons),this.event=u,this.button=u.button,this.downElement=u.target,this.manager.transformPointer(this,u.pageX,u.pageY,!1),u.button===0&&(this.primaryDown=!0,this.downX=this.x,this.downY=this.y),f.macOS&&u.ctrlKey&&(this.buttons=2,this.primaryDown=!1),this.isDown||(this.isDown=!0,this.downTime=u.timeStamp),this.wasTouch=!1},move:function(u){"buttons"in u&&(this.buttons=u.buttons),this.event=u,this.manager.transformPointer(this,u.pageX,u.pageY,!0),this.locked&&(this.movementX=u.movementX||u.mozMovementX||u.webkitMovementX||0,this.movementY=u.movementY||u.mozMovementY||u.webkitMovementY||0),this.moveTime=u.timeStamp,this.wasTouch=!1},wheel:function(u){"buttons"in u&&(this.buttons=u.buttons),this.event=u,this.manager.transformPointer(this,u.pageX,u.pageY,!1),this.deltaX=u.deltaX,this.deltaY=u.deltaY,this.deltaZ=u.deltaZ,this.wasTouch=!1},touchstart:function(u,v){u.pointerId&&(this.pointerId=u.pointerId),this.identifier=u.identifier,this.target=u.target,this.active=!0,this.buttons=1,this.event=v,this.downElement=u.target,this.manager.transformPointer(this,u.pageX,u.pageY,!1),this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=v.timeStamp,this.isDown=!0,this.wasTouch=!0,this.wasCanceled=!1,this.updateMotion()},touchmove:function(u,v){this.event=v,this.manager.transformPointer(this,u.pageX,u.pageY,!0),this.moveTime=v.timeStamp,this.wasTouch=!0,this.updateMotion()},touchend:function(u,v){this.buttons=0,this.event=v,this.upElement=u.target,this.manager.transformPointer(this,u.pageX,u.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=v.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!1,this.active=!1,this.updateMotion()},touchcancel:function(u,v){this.buttons=0,this.event=v,this.upElement=u.target,this.manager.transformPointer(this,u.pageX,u.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=v.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!0,this.active=!1},noButtonDown:function(){return this.buttons===0},leftButtonDown:function(){return!!(this.buttons&1)},rightButtonDown:function(){return!!(this.buttons&2)},middleButtonDown:function(){return!!(this.buttons&4)},backButtonDown:function(){return!!(this.buttons&8)},forwardButtonDown:function(){return!!(this.buttons&16)},leftButtonReleased:function(){return this.buttons===0?this.button===0&&!this.isDown:this.button===0},rightButtonReleased:function(){return this.buttons===0?this.button===2&&!this.isDown:this.button===2},middleButtonReleased:function(){return this.buttons===0?this.button===1&&!this.isDown:this.button===1},backButtonReleased:function(){return this.buttons===0?this.button===3&&!this.isDown:this.button===3},forwardButtonReleased:function(){return this.buttons===0?this.button===4&&!this.isDown:this.button===4},getDistance:function(){return this.isDown?d(this.downX,this.downY,this.x,this.y):d(this.downX,this.downY,this.upX,this.upY)},getDistanceX:function(){return this.isDown?Math.abs(this.downX-this.x):Math.abs(this.downX-this.upX)},getDistanceY:function(){return this.isDown?Math.abs(this.downY-this.y):Math.abs(this.downY-this.upY)},getDuration:function(){return this.isDown?this.manager.time-this.downTime:this.upTime-this.downTime},getAngle:function(){return this.isDown?o(this.downX,this.downY,this.x,this.y):o(this.downX,this.downY,this.upX,this.upY)},getInterpolatedPosition:function(u,v){u===void 0&&(u=10),v===void 0&&(v=[]);for(var p=this.prevPosition.x,m=this.prevPosition.y,x=this.position.x,C=this.position.y,P=0;P<u;P++){var w=1/u*P;v[P]={x:l(w,p,x),y:l(w,m,C)}}return v},reset:function(){this.event=null,this.downElement=null,this.upElement=null,this.button=0,this.buttons=0,this.position.set(0,0),this.prevPosition.set(0,0),this.midPoint.set(-1,-1),this.velocity.set(0,0),this.angle=0,this.distance=0,this.worldX=0,this.worldY=0,this.downX=0,this.downY=0,this.upX=0,this.upY=0,this.moveTime=0,this.upTime=0,this.downTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.deltaX=0,this.deltaY=0,this.deltaZ=0,this.active=this.id===0},destroy:function(){this.camera=null,this.manager=null,this.position=null},x:{get:function(){return this.position.x},set:function(u){this.position.x=u}},y:{get:function(){return this.position.y},set:function(u){this.position.y=u}},time:{get:function(){return this.event?this.event.timeStamp:0}}});n.exports=c}),93301:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={MOUSE_DOWN:0,MOUSE_MOVE:1,MOUSE_UP:2,TOUCH_START:3,TOUCH_MOVE:4,TOUCH_END:5,POINTER_LOCK_CHANGE:6,TOUCH_CANCEL:7,MOUSE_WHEEL:8};n.exports=T}),7179:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="boot"}),85375:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="destroy"}),39843:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragend"}),23388:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragenter"}),16133:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="drag"}),27829:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragleave"}),53904:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragover"}),56058:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragstart"}),2642:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="drop"}),88171:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="gameobjectdown"}),36147:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragend"}),71692:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragenter"}),96149:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="drag"}),81285:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragleave"}),74048:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragover"}),21322:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragstart"}),49378:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="drop"}),86754:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="gameobjectmove"}),86433:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="gameobjectout"}),60709:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="gameobjectover"}),24081:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerdown"}),11172:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointermove"}),18907:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerout"}),95579:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerover"}),35368:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerup"}),26972:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="wheel"}),47078:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="gameobjectup"}),73802:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="gameobjectwheel"}),56718:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="gameout"}),25936:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="gameover"}),27503:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="boot"}),50852:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="process"}),96438:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="update"}),59152:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerlockchange"}),47777:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerdown"}),27957:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerdownoutside"}),19444:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointermove"}),54251:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerout"}),18667:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerover"}),27192:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerup"}),24652:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerupoutside"}),45132:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="wheel"}),44512:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="preupdate"}),15757:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="shutdown"}),41637:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="start"}),93802:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="update"}),8214:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={BOOT:r(7179),DESTROY:r(85375),DRAG_END:r(39843),DRAG_ENTER:r(23388),DRAG:r(16133),DRAG_LEAVE:r(27829),DRAG_OVER:r(53904),DRAG_START:r(56058),DROP:r(2642),GAME_OUT:r(56718),GAME_OVER:r(25936),GAMEOBJECT_DOWN:r(88171),GAMEOBJECT_DRAG_END:r(36147),GAMEOBJECT_DRAG_ENTER:r(71692),GAMEOBJECT_DRAG:r(96149),GAMEOBJECT_DRAG_LEAVE:r(81285),GAMEOBJECT_DRAG_OVER:r(74048),GAMEOBJECT_DRAG_START:r(21322),GAMEOBJECT_DROP:r(49378),GAMEOBJECT_MOVE:r(86754),GAMEOBJECT_OUT:r(86433),GAMEOBJECT_OVER:r(60709),GAMEOBJECT_POINTER_DOWN:r(24081),GAMEOBJECT_POINTER_MOVE:r(11172),GAMEOBJECT_POINTER_OUT:r(18907),GAMEOBJECT_POINTER_OVER:r(95579),GAMEOBJECT_POINTER_UP:r(35368),GAMEOBJECT_POINTER_WHEEL:r(26972),GAMEOBJECT_UP:r(47078),GAMEOBJECT_WHEEL:r(73802),MANAGER_BOOT:r(27503),MANAGER_PROCESS:r(50852),MANAGER_UPDATE:r(96438),POINTER_DOWN:r(47777),POINTER_DOWN_OUTSIDE:r(27957),POINTER_MOVE:r(19444),POINTER_OUT:r(54251),POINTER_OVER:r(18667),POINTER_UP:r(27192),POINTER_UP_OUTSIDE:r(24652),POINTER_WHEEL:r(45132),POINTERLOCK_CHANGE:r(59152),PRE_UPDATE:r(44512),SHUTDOWN:r(15757),START:r(41637),UPDATE:r(93802)}}),97421:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=new o({initialize:function(h,l){this.pad=h,this.events=h.events,this.index=l,this.value=0,this.threshold=.1},update:function(d){this.value=d},getValue:function(){return Math.abs(this.value)<this.threshold?0:this.value},destroy:function(){this.pad=null,this.events=null}});n.exports=y}),28884:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(92734),d=new o({initialize:function(l,a){this.pad=l,this.events=l.manager,this.index=a,this.value=0,this.threshold=1,this.pressed=!1},update:function(h){this.value=h;var l=this.pad,a=this.index;h>=this.threshold?this.pressed||(this.pressed=!0,this.events.emit(y.BUTTON_DOWN,l,this,h),this.pad.emit(y.GAMEPAD_BUTTON_DOWN,a,h,this)):this.pressed&&(this.pressed=!1,this.events.emit(y.BUTTON_UP,l,this,h),this.pad.emit(y.GAMEPAD_BUTTON_UP,a,h,this))},destroy:function(){this.pad=null,this.events=null}});n.exports=d}),99125:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(97421),y=r(28884),d=r(83419),h=r(50792),l=r(26099),a=new d({Extends:h,initialize:function(c,u){h.call(this),this.manager=c,this.pad=u,this.id=u.id,this.index=u.index;for(var v=[],p=0;p<u.buttons.length;p++)v.push(new y(this,p));this.buttons=v;var m=[];for(p=0;p<u.axes.length;p++)m.push(new o(this,p));this.axes=m,this.vibration=u.vibrationActuator;var x={value:0,pressed:!1};this._LCLeft=v[14]?v[14]:x,this._LCRight=v[15]?v[15]:x,this._LCTop=v[12]?v[12]:x,this._LCBottom=v[13]?v[13]:x,this._RCLeft=v[2]?v[2]:x,this._RCRight=v[1]?v[1]:x,this._RCTop=v[3]?v[3]:x,this._RCBottom=v[0]?v[0]:x,this._FBLeftTop=v[4]?v[4]:x,this._FBLeftBottom=v[6]?v[6]:x,this._FBRightTop=v[5]?v[5]:x,this._FBRightBottom=v[7]?v[7]:x;var C={value:0};this._HAxisLeft=m[0]?m[0]:C,this._VAxisLeft=m[1]?m[1]:C,this._HAxisRight=m[2]?m[2]:C,this._VAxisRight=m[3]?m[3]:C,this.leftStick=new l,this.rightStick=new l,this._created=performance.now()},getAxisTotal:function(){return this.axes.length},getAxisValue:function(f){return this.axes[f].getValue()},setAxisThreshold:function(f){for(var c=0;c<this.axes.length;c++)this.axes[c].threshold=f},getButtonTotal:function(){return this.buttons.length},getButtonValue:function(f){return this.buttons[f].value},isButtonDown:function(f){return this.buttons[f].pressed},update:function(f){if(!(f.timestamp<this._created)){var c,u=this.buttons,v=f.buttons,p=u.length;for(c=0;c<p;c++)u[c].update(v[c].value);var m=this.axes,x=f.axes;for(p=m.length,c=0;c<p;c++)m[c].update(x[c]);p>=2&&(this.leftStick.set(m[0].getValue(),m[1].getValue()),p>=4&&this.rightStick.set(m[2].getValue(),m[3].getValue()))}},destroy:function(){this.removeAllListeners(),this.manager=null,this.pad=null;var f;for(f=0;f<this.buttons.length;f++)this.buttons[f].destroy();for(f=0;f<this.axes.length;f++)this.axes[f].destroy();this.buttons=[],this.axes=[]},connected:{get:function(){return this.pad.connected}},timestamp:{get:function(){return this.pad.timestamp}},left:{get:function(){return this._LCLeft.pressed}},right:{get:function(){return this._LCRight.pressed}},up:{get:function(){return this._LCTop.pressed}},down:{get:function(){return this._LCBottom.pressed}},A:{get:function(){return this._RCBottom.pressed}},Y:{get:function(){return this._RCTop.pressed}},X:{get:function(){return this._RCLeft.pressed}},B:{get:function(){return this._RCRight.pressed}},L1:{get:function(){return this._FBLeftTop.value}},L2:{get:function(){return this._FBLeftBottom.value}},R1:{get:function(){return this._FBRightTop.value}},R2:{get:function(){return this._FBRightBottom.value}}});n.exports=a}),56654:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(50792),d=r(92734),h=r(99125),l=r(35154),a=r(89639),f=r(8214),c=new o({Extends:y,initialize:function(v){y.call(this),this.scene=v.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=v,this.enabled=!0,this.target,this.gamepads=[],this.queue=[],this.onGamepadHandler,this._pad1,this._pad2,this._pad3,this._pad4,v.pluginEvents.once(f.BOOT,this.boot,this),v.pluginEvents.on(f.START,this.start,this)},boot:function(){var u=this.scene.sys.game,v=this.settings.input,p=u.config;this.enabled=l(v,"gamepad",p.inputGamepad)&&u.device.input.gamepads,this.target=l(v,"gamepad.target",p.inputGamepadEventTarget),this.sceneInputPlugin.pluginEvents.once(f.DESTROY,this.destroy,this)},start:function(){this.enabled&&(this.startListeners(),this.refreshPads()),this.sceneInputPlugin.pluginEvents.once(f.SHUTDOWN,this.shutdown,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},startListeners:function(){var u=this,v=this.target,p=function(m){m.defaultPrevented||!u.isActive()||(u.refreshPads(),u.queue.push(m))};this.onGamepadHandler=p,v.addEventListener("gamepadconnected",p,!1),v.addEventListener("gamepaddisconnected",p,!1),this.sceneInputPlugin.pluginEvents.on(f.UPDATE,this.update,this)},stopListeners:function(){this.target.removeEventListener("gamepadconnected",this.onGamepadHandler),this.target.removeEventListener("gamepaddisconnected",this.onGamepadHandler),this.sceneInputPlugin.pluginEvents.off(f.UPDATE,this.update);for(var u=0;u<this.gamepads.length;u++)this.gamepads[u].removeAllListeners()},disconnectAll:function(){for(var u=0;u<this.gamepads.length;u++)this.gamepads[u].pad.connected=!1},refreshPads:function(){var u=navigator.getGamepads();if(!u)this.disconnectAll();else for(var v=this.gamepads,p=0;p<u.length;p++){var m=u[p];if(m){var x=m.id,C=m.index,P=v[C];if(P)P.id!==x?(P.destroy(),v[C]=new h(this,m)):P.update(m);else{var w=new h(this,m);v[C]=w,this._pad1?this._pad2?this._pad3?this._pad4||(this._pad4=w):this._pad3=w:this._pad2=w:this._pad1=w}}}},getAll:function(){for(var u=[],v=this.gamepads,p=0;p<v.length;p++)v[p]&&u.push(v[p]);return u},getPad:function(u){for(var v=this.gamepads,p=0;p<v.length;p++)if(v[p]&&v[p].index===u)return v[p]},update:function(){if(this.enabled){this.refreshPads();var u=this.queue.length;if(u!==0)for(var v=this.queue.splice(0,u),p=0;p<u;p++){var m=v[p],x=this.getPad(m.gamepad.index);m.type==="gamepadconnected"?this.emit(d.CONNECTED,x,m):m.type==="gamepaddisconnected"&&this.emit(d.DISCONNECTED,x,m)}}},shutdown:function(){this.stopListeners(),this.removeAllListeners()},destroy:function(){this.shutdown();for(var u=0;u<this.gamepads.length;u++)this.gamepads[u]&&this.gamepads[u].destroy();this.gamepads=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.target=null},total:{get:function(){return this.gamepads.length}},pad1:{get:function(){return this._pad1}},pad2:{get:function(){return this._pad2}},pad3:{get:function(){return this._pad3}},pad4:{get:function(){return this._pad4}}});a.register("GamepadPlugin",c,"gamepad","gamepad","inputGamepad"),n.exports=c}),89651:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SELECT:8,START:9,B:0,A:1,Y:2,X:3,LEFT_SHOULDER:4,RIGHT_SHOULDER:5}}),65294:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SHARE:8,OPTIONS:9,PS:16,TOUCHBAR:17,X:0,CIRCLE:1,SQUARE:2,TRIANGLE:3,L1:4,R1:5,L2:6,R2:7,L3:10,R3:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}}),90089:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,MENU:16,A:0,B:1,X:2,Y:3,LB:4,RB:5,LT:6,RT:7,BACK:8,START:9,LS:10,RS:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}}),64894:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={DUALSHOCK_4:r(65294),SNES_USB:r(89651),XBOX_360:r(90089)}}),46008:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="down"}),7629:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="up"}),42206:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="connected"}),86544:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="disconnected"}),94784:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="down"}),14325:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="up"}),92734:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={BUTTON_DOWN:r(46008),BUTTON_UP:r(7629),CONNECTED:r(42206),DISCONNECTED:r(86544),GAMEPAD_BUTTON_DOWN:r(94784),GAMEPAD_BUTTON_UP:r(14325)}}),48646:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Axis:r(97421),Button:r(28884),Events:r(92734),Gamepad:r(99125),GamepadPlugin:r(56654),Configs:r(64894)}}),14350:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(93301),y=r(79291),d={CreatePixelPerfectHandler:r(84409),CreateInteractiveObject:r(74457),Events:r(8214),Gamepad:r(48646),InputManager:r(7003),InputPlugin:r(48205),InputPluginCache:r(89639),Keyboard:r(51442),Mouse:r(87078),Pointer:r(42515),Touch:r(95618)};d=y(!1,d,o),n.exports=d}),78970:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(72905),y=r(83419),d=r(8443),h=r(8214),l=r(46032),a=r(29747),f=new y({initialize:function(u){this.manager=u,this.queue=[],this.preventDefault=!0,this.captures=[],this.enabled=!1,this.target,this.onKeyDown=a,this.onKeyUp=a,u.events.once(h.MANAGER_BOOT,this.boot,this)},boot:function(){var c=this.manager.config;this.enabled=c.inputKeyboard,this.target=c.inputKeyboardEventTarget,this.addCapture(c.inputKeyboardCapture),!this.target&&window&&(this.target=window),this.enabled&&this.target&&this.startListeners(),this.manager.game.events.on(d.POST_STEP,this.postUpdate,this)},startListeners:function(){var c=this;this.onKeyDown=function(v){if(!(v.defaultPrevented||!c.enabled||!c.manager)){c.queue.push(v),c.manager.events.emit(h.MANAGER_PROCESS);var p=v.altKey||v.ctrlKey||v.shiftKey||v.metaKey;c.preventDefault&&!p&&c.captures.indexOf(v.keyCode)>-1&&v.preventDefault()}},this.onKeyUp=function(v){if(!(v.defaultPrevented||!c.enabled||!c.manager)){c.queue.push(v),c.manager.events.emit(h.MANAGER_PROCESS);var p=v.altKey||v.ctrlKey||v.shiftKey||v.metaKey;c.preventDefault&&!p&&c.captures.indexOf(v.keyCode)>-1&&v.preventDefault()}};var u=this.target;u&&(u.addEventListener("keydown",this.onKeyDown,!1),u.addEventListener("keyup",this.onKeyUp,!1),this.enabled=!0)},stopListeners:function(){var c=this.target;c.removeEventListener("keydown",this.onKeyDown,!1),c.removeEventListener("keyup",this.onKeyUp,!1),this.enabled=!1},postUpdate:function(){this.queue=[]},addCapture:function(c){typeof c=="string"&&(c=c.split(",")),Array.isArray(c)||(c=[c]);for(var u=this.captures,v=0;v<c.length;v++){var p=c[v];typeof p=="string"&&(p=l[p.trim().toUpperCase()]),u.indexOf(p)===-1&&u.push(p)}this.preventDefault=u.length>0},removeCapture:function(c){typeof c=="string"&&(c=c.split(",")),Array.isArray(c)||(c=[c]);for(var u=this.captures,v=0;v<c.length;v++){var p=c[v];typeof p=="string"&&(p=l[p.toUpperCase()]),o(u,p)}this.preventDefault=u.length>0},clearCaptures:function(){this.captures=[],this.preventDefault=!1},destroy:function(){this.stopListeners(),this.clearCaptures(),this.queue=[],this.manager.game.events.off(d.POST_RENDER,this.postUpdate,this),this.target=null,this.enabled=!1,this.manager=null}});n.exports=f}),28846:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(50792),d=r(95922),h=r(8443),l=r(35154),a=r(8214),f=r(89639),c=r(30472),u=r(46032),v=r(87960),p=r(74600),m=r(44594),x=r(56583),C=new o({Extends:y,initialize:function(w){y.call(this),this.game=w.systems.game,this.scene=w.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=w,this.manager=w.manager.keyboard,this.enabled=!0,this.keys=[],this.combos=[],this.prevCode=null,this.prevTime=0,this.prevType=null,w.pluginEvents.once(a.BOOT,this.boot,this),w.pluginEvents.on(a.START,this.start,this)},boot:function(){var P=this.settings.input;this.enabled=l(P,"keyboard",!0);var w=l(P,"keyboard.capture",null);w&&this.addCaptures(w),this.sceneInputPlugin.pluginEvents.once(a.DESTROY,this.destroy,this)},start:function(){this.sceneInputPlugin.manager.events.on(a.MANAGER_PROCESS,this.update,this),this.sceneInputPlugin.pluginEvents.once(a.SHUTDOWN,this.shutdown,this),this.game.events.on(h.BLUR,this.resetKeys,this),this.scene.sys.events.on(m.PAUSE,this.resetKeys,this),this.scene.sys.events.on(m.SLEEP,this.resetKeys,this)},isActive:function(){return this.enabled&&this.scene.sys.canInput()},addCapture:function(P){return this.manager.addCapture(P),this},removeCapture:function(P){return this.manager.removeCapture(P),this},getCaptures:function(){return this.manager.captures},enableGlobalCapture:function(){return this.manager.preventDefault=!0,this},disableGlobalCapture:function(){return this.manager.preventDefault=!1,this},clearCaptures:function(){return this.manager.clearCaptures(),this},createCursorKeys:function(){return this.addKeys({up:u.UP,down:u.DOWN,left:u.LEFT,right:u.RIGHT,space:u.SPACE,shift:u.SHIFT})},addKeys:function(P,w,M){w===void 0&&(w=!0),M===void 0&&(M=!1);var R={};if(typeof P=="string"){P=P.split(",");for(var A=0;A<P.length;A++){var L=P[A].trim();L&&(R[L]=this.addKey(L,w,M))}}else for(var F in P)R[F]=this.addKey(P[F],w,M);return R},addKey:function(P,w,M){w===void 0&&(w=!0),M===void 0&&(M=!1);var R=this.keys;if(P instanceof c){var A=R.indexOf(P);return A>-1?R[A]=P:R[P.keyCode]=P,w&&this.addCapture(P.keyCode),P.setEmitOnRepeat(M),P}return typeof P=="string"&&(P=u[P.toUpperCase()]),R[P]||(R[P]=new c(this,P),w&&this.addCapture(P),R[P].setEmitOnRepeat(M)),R[P]},removeKey:function(P,w,M){w===void 0&&(w=!1),M===void 0&&(M=!1);var R=this.keys,A;if(P instanceof c){var L=R.indexOf(P);L>-1&&(A=this.keys[L],this.keys[L]=void 0)}else typeof P=="string"&&(P=u[P.toUpperCase()]);return R[P]&&(A=R[P],R[P]=void 0),A&&(A.plugin=null,M&&this.removeCapture(A.keyCode),w&&A.destroy()),this},removeAllKeys:function(P,w){P===void 0&&(P=!1),w===void 0&&(w=!1);for(var M=this.keys,R=0;R<M.length;R++){var A=M[R];A&&(M[R]=void 0,w&&this.removeCapture(A.keyCode),P&&A.destroy())}return this},createCombo:function(P,w){return new v(this,P,w)},checkDown:function(P,w){if(w===void 0&&(w=0),this.enabled&&P.isDown){var M=x(this.time-P.timeDown,w);if(M>P._tick)return P._tick=M,!0}return!1},update:function(){var P=this.manager.queue,w=P.length;if(!(!this.isActive()||w===0))for(var M=this.keys,R=0;R<w;R++){var A=P[R],L=A.keyCode,F=M[L],G=!1;A.cancelled===void 0&&(A.cancelled=0,A.stopImmediatePropagation=function(){A.cancelled=1},A.stopPropagation=function(){A.cancelled=-1}),A.cancelled!==-1&&(L===this.prevCode&&A.timeStamp===this.prevTime&&A.type===this.prevType||(this.prevCode=L,this.prevTime=A.timeStamp,this.prevType=A.type,A.type==="keydown"?(F&&(G=F.isDown,F.onDown(A)),!A.cancelled&&(!F||!G)&&(p[L]&&this.emit(d.KEY_DOWN+p[L],A),A.cancelled||this.emit(d.ANY_KEY_DOWN,A))):(F&&F.onUp(A),A.cancelled||(p[L]&&this.emit(d.KEY_UP+p[L],A),A.cancelled||this.emit(d.ANY_KEY_UP,A))),A.cancelled===1&&(A.cancelled=0)))}},resetKeys:function(){for(var P=this.keys,w=0;w<P.length;w++)P[w]&&P[w].reset();return this},shutdown:function(){this.removeAllKeys(!0),this.removeAllListeners(),this.sceneInputPlugin.manager.events.off(a.MANAGER_PROCESS,this.update,this),this.game.events.off(h.BLUR,this.resetKeys),this.scene.sys.events.off(m.PAUSE,this.resetKeys,this),this.scene.sys.events.off(m.SLEEP,this.resetKeys,this),this.queue=[]},destroy:function(){this.shutdown();for(var P=this.keys,w=0;w<P.length;w++)P[w]&&P[w].destroy();this.keys=[],this.combos=[],this.queue=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.manager=null},time:{get:function(){return this.sceneInputPlugin.manager.time}}});f.register("KeyboardPlugin",C,"keyboard","keyboard","inputKeyboard"),n.exports=C}),66970:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return o.timeLastMatched=r.timeStamp,o.index++,o.index===o.size?!0:(o.current=o.keyCodes[o.index],!1)};n.exports=T}),87960:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(95922),d=r(95540),h=r(68769),l=r(92803),a=new o({initialize:function(c,u,v){if(v===void 0&&(v={}),u.length<2)return!1;this.manager=c,this.enabled=!0,this.keyCodes=[];for(var p=0;p<u.length;p++){var m=u[p];typeof m=="string"?this.keyCodes.push(m.toUpperCase().charCodeAt(0)):typeof m=="number"?this.keyCodes.push(m):m.hasOwnProperty("keyCode")&&this.keyCodes.push(m.keyCode)}this.current=this.keyCodes[0],this.index=0,this.size=this.keyCodes.length,this.timeLastMatched=0,this.matched=!1,this.timeMatched=0,this.resetOnWrongKey=d(v,"resetOnWrongKey",!0),this.maxKeyDelay=d(v,"maxKeyDelay",0),this.resetOnMatch=d(v,"resetOnMatch",!1),this.deleteOnMatch=d(v,"deleteOnMatch",!1);var x=this,C=function(P){if(!(x.matched||!x.enabled)){var w=h(P,x);w&&(x.manager.emit(y.COMBO_MATCH,x,P),x.resetOnMatch?l(x):x.deleteOnMatch&&x.destroy())}};this.onKeyDown=C,this.manager.on(y.ANY_KEY_DOWN,this.onKeyDown)},progress:{get:function(){return this.index/this.size}},destroy:function(){this.enabled=!1,this.keyCodes=[],this.manager.off(y.ANY_KEY_DOWN,this.onKeyDown),this.manager=null}});n.exports=a}),68769:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(66970),y=function(d,h){if(h.matched)return!0;var l=!1,a=!1;if(d.keyCode===h.current)if(h.index>0&&h.maxKeyDelay>0){var f=h.timeLastMatched+h.maxKeyDelay;d.timeStamp<=f&&(a=!0,l=o(d,h))}else a=!0,l=o(d,h);return!a&&h.resetOnWrongKey&&(h.index=0,h.current=h.keyCodes[0]),l&&(h.timeLastMatched=d.timeStamp,h.matched=!0,h.timeMatched=d.timeStamp),l};n.exports=y}),92803:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r.current=r.keyCodes[0],r.index=0,r.timeLastMatched=0,r.matched=!1,r.timeMatched=0,r};n.exports=T}),92612:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="keydown"}),23345:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="keyup"}),21957:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="keycombomatch"}),44743:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="down"}),3771:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="keydown-"}),46358:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="keyup-"}),75674:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="up"}),95922:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ANY_KEY_DOWN:r(92612),ANY_KEY_UP:r(23345),COMBO_MATCH:r(21957),DOWN:r(44743),KEY_DOWN:r(3771),KEY_UP:r(46358),UP:r(75674)}}),51442:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Events:r(95922),KeyboardManager:r(78970),KeyboardPlugin:r(28846),Key:r(30472),KeyCodes:r(46032),KeyCombo:r(87960),AdvanceKeyCombo:r(66970),ProcessKeyCombo:r(68769),ResetKeyCombo:r(92803),JustDown:r(90229),JustUp:r(38796),DownDuration:r(37015),UpDuration:r(41170)}}),37015:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){o===void 0&&(o=50);var y=r.plugin.game.loop.time-r.timeDown;return r.isDown&&y<o};n.exports=T}),90229:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r._justDown?(r._justDown=!1,!0):!1};n.exports=T}),38796:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r._justUp?(r._justUp=!1,!0):!1};n.exports=T}),30472:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(50792),d=r(95922),h=new o({Extends:y,initialize:function(a,f){y.call(this),this.plugin=a,this.keyCode=f,this.originalEvent=void 0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.location=0,this.timeDown=0,this.duration=0,this.timeUp=0,this.emitOnRepeat=!1,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1},setEmitOnRepeat:function(l){return this.emitOnRepeat=l,this},onDown:function(l){this.originalEvent=l,this.enabled&&(this.altKey=l.altKey,this.ctrlKey=l.ctrlKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.location=l.location,this.repeats++,this.isDown?this.emitOnRepeat&&this.emit(d.DOWN,this,l):(this.isDown=!0,this.isUp=!1,this.timeDown=l.timeStamp,this.duration=0,this._justDown=!0,this._justUp=!1,this.emit(d.DOWN,this,l)))},onUp:function(l){this.originalEvent=l,this.enabled&&(this.isDown=!1,this.isUp=!0,this.timeUp=l.timeStamp,this.duration=this.timeUp-this.timeDown,this.repeats=0,this._justDown=!1,this._justUp=!0,this._tick=-1,this.emit(d.UP,this,l))},reset:function(){return this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.timeDown=0,this.duration=0,this.timeUp=0,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1,this},getDuration:function(){return this.isDown?this.plugin.game.loop.time-this.timeDown:0},destroy:function(){this.removeAllListeners(),this.originalEvent=null,this.plugin=null}});n.exports=h}),46032:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:42,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ADD:107,NUMPAD_SUBTRACT:109,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,PLUS:187,COMMA:188,MINUS:189,PERIOD:190,FORWARD_SLASH:191,BACK_SLASH:220,QUOTES:222,BACKTICK:192,OPEN_BRACKET:219,CLOSED_BRACKET:221,SEMICOLON_FIREFOX:59,COLON:58,COMMA_FIREFOX_WINDOWS:60,COMMA_FIREFOX:62,BRACKET_RIGHT_FIREFOX:174,BRACKET_LEFT_FIREFOX:175};n.exports=T}),74600:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(46032),y={};for(var d in o)y[o[d]]=d;n.exports=y}),41170:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){o===void 0&&(o=50);var y=r.plugin.game.loop.time-r.timeUp;return r.isUp&&y<o};n.exports=T}),85098:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(89357),d=r(8214),h=r(29747),l=new o({initialize:function(f){this.manager=f,this.preventDefaultDown=!0,this.preventDefaultUp=!0,this.preventDefaultMove=!0,this.preventDefaultWheel=!1,this.enabled=!1,this.target,this.locked=!1,this.onMouseMove=h,this.onMouseDown=h,this.onMouseUp=h,this.onMouseDownWindow=h,this.onMouseUpWindow=h,this.onMouseOver=h,this.onMouseOut=h,this.onMouseWheel=h,this.pointerLockChange=h,this.isTop=!0,f.events.once(d.MANAGER_BOOT,this.boot,this)},boot:function(){var a=this.manager.config;this.enabled=a.inputMouse,this.target=a.inputMouseEventTarget,this.passive=a.inputMousePassive,this.preventDefaultDown=a.inputMousePreventDefaultDown,this.preventDefaultUp=a.inputMousePreventDefaultUp,this.preventDefaultMove=a.inputMousePreventDefaultMove,this.preventDefaultWheel=a.inputMousePreventDefaultWheel,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,a.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(a){return a.preventDefault(),!1}),this},requestPointerLock:function(){if(y.pointerLock){var a=this.target;a.requestPointerLock=a.requestPointerLock||a.mozRequestPointerLock||a.webkitRequestPointerLock,a.requestPointerLock()}},releasePointerLock:function(){y.pointerLock&&(document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,document.exitPointerLock())},startListeners:function(){var a=this.target;if(a){var f=this,c=this.manager,u=c.canvas,v=window&&window.focus&&c.game.config.autoFocus;this.onMouseMove=function(m){!m.defaultPrevented&&f.enabled&&c&&c.enabled&&(c.onMouseMove(m),f.preventDefaultMove&&m.preventDefault())},this.onMouseDown=function(m){v&&window.focus(),!m.defaultPrevented&&f.enabled&&c&&c.enabled&&(c.onMouseDown(m),f.preventDefaultDown&&m.target===u&&m.preventDefault())},this.onMouseDownWindow=function(m){m.sourceCapabilities&&m.sourceCapabilities.firesTouchEvents||!m.defaultPrevented&&f.enabled&&c&&c.enabled&&m.target!==u&&c.onMouseDown(m)},this.onMouseUp=function(m){!m.defaultPrevented&&f.enabled&&c&&c.enabled&&(c.onMouseUp(m),f.preventDefaultUp&&m.target===u&&m.preventDefault())},this.onMouseUpWindow=function(m){m.sourceCapabilities&&m.sourceCapabilities.firesTouchEvents||!m.defaultPrevented&&f.enabled&&c&&c.enabled&&m.target!==u&&c.onMouseUp(m)},this.onMouseOver=function(m){!m.defaultPrevented&&f.enabled&&c&&c.enabled&&c.setCanvasOver(m)},this.onMouseOut=function(m){!m.defaultPrevented&&f.enabled&&c&&c.enabled&&c.setCanvasOut(m)},this.onMouseWheel=function(m){!m.defaultPrevented&&f.enabled&&c&&c.enabled&&c.onMouseWheel(m),f.preventDefaultWheel&&m.target===u&&m.preventDefault()};var p={passive:!0};if(a.addEventListener("mousemove",this.onMouseMove),a.addEventListener("mousedown",this.onMouseDown),a.addEventListener("mouseup",this.onMouseUp),a.addEventListener("mouseover",this.onMouseOver,p),a.addEventListener("mouseout",this.onMouseOut,p),this.preventDefaultWheel?a.addEventListener("wheel",this.onMouseWheel,{passive:!1}):a.addEventListener("wheel",this.onMouseWheel,p),window&&c.game.config.inputWindowEvents)try{window.top.addEventListener("mousedown",this.onMouseDownWindow,p),window.top.addEventListener("mouseup",this.onMouseUpWindow,p)}catch{window.addEventListener("mousedown",this.onMouseDownWindow,p),window.addEventListener("mouseup",this.onMouseUpWindow,p),this.isTop=!1}y.pointerLock&&(this.pointerLockChange=function(m){var x=f.target;f.locked=document.pointerLockElement===x||document.mozPointerLockElement===x||document.webkitPointerLockElement===x,c.onPointerLockChange(m)},document.addEventListener("pointerlockchange",this.pointerLockChange,!0),document.addEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.addEventListener("webkitpointerlockchange",this.pointerLockChange,!0)),this.enabled=!0}},stopListeners:function(){var a=this.target;a.removeEventListener("mousemove",this.onMouseMove),a.removeEventListener("mousedown",this.onMouseDown),a.removeEventListener("mouseup",this.onMouseUp),a.removeEventListener("mouseover",this.onMouseOver),a.removeEventListener("mouseout",this.onMouseOut),window&&(a=this.isTop?window.top:window,a.removeEventListener("mousedown",this.onMouseDownWindow),a.removeEventListener("mouseup",this.onMouseUpWindow)),y.pointerLock&&(document.removeEventListener("pointerlockchange",this.pointerLockChange,!0),document.removeEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.removeEventListener("webkitpointerlockchange",this.pointerLockChange,!0))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});n.exports=l}),87078:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={MouseManager:r(85098)}}),36210:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(8214),d=r(29747),h=new o({initialize:function(a){this.manager=a,this.capture=!0,this.enabled=!1,this.target,this.onTouchStart=d,this.onTouchStartWindow=d,this.onTouchMove=d,this.onTouchEnd=d,this.onTouchEndWindow=d,this.onTouchCancel=d,this.onTouchCancelWindow=d,this.isTop=!0,a.events.once(y.MANAGER_BOOT,this.boot,this)},boot:function(){var l=this.manager.config;this.enabled=l.inputTouch,this.target=l.inputTouchEventTarget,this.capture=l.inputTouchCapture,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,l.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(l){return l.preventDefault(),!1}),this},startListeners:function(){var l=this.target;if(l){var a=this,f=this.manager,c=f.canvas,u=window&&window.focus&&f.game.config.autoFocus;this.onTouchMove=function(x){!x.defaultPrevented&&a.enabled&&f&&f.enabled&&(f.onTouchMove(x),a.capture&&x.cancelable&&x.preventDefault())},this.onTouchStart=function(x){u&&window.focus(),!x.defaultPrevented&&a.enabled&&f&&f.enabled&&(f.onTouchStart(x),a.capture&&x.cancelable&&x.target===c&&x.preventDefault())},this.onTouchStartWindow=function(x){!x.defaultPrevented&&a.enabled&&f&&f.enabled&&x.target!==c&&f.onTouchStart(x)},this.onTouchEnd=function(x){!x.defaultPrevented&&a.enabled&&f&&f.enabled&&(f.onTouchEnd(x),a.capture&&x.cancelable&&x.target===c&&x.preventDefault())},this.onTouchEndWindow=function(x){!x.defaultPrevented&&a.enabled&&f&&f.enabled&&x.target!==c&&f.onTouchEnd(x)},this.onTouchCancel=function(x){!x.defaultPrevented&&a.enabled&&f&&f.enabled&&(f.onTouchCancel(x),a.capture&&x.preventDefault())},this.onTouchCancelWindow=function(x){!x.defaultPrevented&&a.enabled&&f&&f.enabled&&f.onTouchCancel(x)};var v=this.capture,p={passive:!0},m={passive:!1};if(l.addEventListener("touchstart",this.onTouchStart,v?m:p),l.addEventListener("touchmove",this.onTouchMove,v?m:p),l.addEventListener("touchend",this.onTouchEnd,v?m:p),l.addEventListener("touchcancel",this.onTouchCancel,v?m:p),window&&f.game.config.inputWindowEvents)try{window.top.addEventListener("touchstart",this.onTouchStartWindow,m),window.top.addEventListener("touchend",this.onTouchEndWindow,m),window.top.addEventListener("touchcancel",this.onTouchCancelWindow,m)}catch{window.addEventListener("touchstart",this.onTouchStartWindow,m),window.addEventListener("touchend",this.onTouchEndWindow,m),window.addEventListener("touchcancel",this.onTouchCancelWindow,m),this.isTop=!1}this.enabled=!0}},stopListeners:function(){var l=this.target;l.removeEventListener("touchstart",this.onTouchStart),l.removeEventListener("touchmove",this.onTouchMove),l.removeEventListener("touchend",this.onTouchEnd),l.removeEventListener("touchcancel",this.onTouchCancel),window&&(l=this.isTop?window.top:window,l.removeEventListener("touchstart",this.onTouchStartWindow),l.removeEventListener("touchend",this.onTouchEndWindow),l.removeEventListener("touchcancel",this.onTouchCancelWindow))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});n.exports=h}),95618:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={TouchManager:r(36210)}}),41299:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(23906),d=r(54899),h=r(95540),l=r(98356),a=r(3374),f=r(84376),c=r(92638),u=new o({initialize:function(p,m){if(this.loader=p,this.cache=h(m,"cache",!1),this.type=h(m,"type",!1),!this.type)throw new Error("Invalid File type: "+this.type);this.key=h(m,"key",!1);var x=this.key;if(p.prefix&&p.prefix!==""&&(this.key=p.prefix+x),!this.key)throw new Error("Invalid File key: "+this.key);var C=h(m,"url");C===void 0?C=p.path+x+"."+h(m,"extension",""):typeof C=="string"&&!C.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)&&(C=p.path+C),this.url=C,this.src="",this.xhrSettings=c(h(m,"responseType",void 0)),h(m,"xhrSettings",!1)&&(this.xhrSettings=a(this.xhrSettings,h(m,"xhrSettings",{}))),this.xhrLoader=null,this.state=typeof this.url=="function"?y.FILE_POPULATED:y.FILE_PENDING,this.bytesTotal=0,this.bytesLoaded=-1,this.percentComplete=-1,this.crossOrigin=void 0,this.data=void 0,this.config=h(m,"config",{}),this.multiFile,this.linkFile,this.base64=typeof C=="string"&&C.indexOf("data:")===0,this.retryAttempts=h(m,"maxRetries",p.maxRetries)},setLink:function(v){this.linkFile=v,v.linkFile=this},resetXHR:function(){this.xhrLoader&&(this.xhrLoader.onload=void 0,this.xhrLoader.onerror=void 0,this.xhrLoader.onprogress=void 0)},load:function(){if(this.state===y.FILE_POPULATED)this.loader.nextFile(this,!0);else{if(this.state=y.FILE_LOADING,this.src=l(this,this.loader.baseURL),!this.src)throw new Error("URL Error in File: "+this.key+" from: "+this.url);this.src.indexOf("data:")===0&&(this.base64=!0),this.xhrLoader=f(this,this.loader.xhr)}},onLoad:function(v,p){var m=v.responseURL&&this.loader.localSchemes.some(function(P){return v.responseURL.indexOf(P)===0}),x=m&&p.target.status===0,C=!(p.target&&p.target.status!==200)||x;v.readyState===4&&v.status>=400&&v.status<=599&&(C=!1),this.state=y.FILE_LOADED,this.resetXHR(),this.loader.nextFile(this,C)},onBase64Load:function(v){this.xhrLoader=v,this.state=y.FILE_LOADED,this.percentComplete=1,this.loader.emit(d.FILE_PROGRESS,this,this.percentComplete),this.loader.nextFile(this,!0)},onError:function(){this.resetXHR(),this.retryAttempts>0?(this.retryAttempts--,this.load()):this.loader.nextFile(this,!1)},onProgress:function(v){v.lengthComputable&&(this.bytesLoaded=v.loaded,this.bytesTotal=v.total,this.percentComplete=Math.min(this.bytesLoaded/this.bytesTotal,1),this.loader.emit(d.FILE_PROGRESS,this,this.percentComplete))},onProcess:function(){this.state=y.FILE_PROCESSING,this.onProcessComplete()},onProcessComplete:function(){this.state=y.FILE_COMPLETE,this.multiFile&&this.multiFile.onFileComplete(this),this.loader.fileProcessComplete(this)},onProcessError:function(){console.error('Failed to process file: %s "%s"',this.type,this.key),this.state=y.FILE_ERRORED,this.multiFile&&this.multiFile.onFileFailed(this),this.loader.fileProcessComplete(this)},hasCacheConflict:function(){return this.cache&&this.cache.exists(this.key)},addToCache:function(){this.cache&&this.data&&this.cache.add(this.key,this.data)},pendingDestroy:function(v){if(this.state!==y.FILE_PENDING_DESTROY){v===void 0&&(v=this.data);var p=this.key,m=this.type;this.loader.emit(d.FILE_COMPLETE,p,m,v),this.loader.emit(d.FILE_KEY_COMPLETE+m+"-"+p,p,m,v),this.loader.flagForRemoval(this),this.state=y.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.cache=null,this.xhrSettings=null,this.multiFile=null,this.linkFile=null,this.data=null}});u.createObjectURL=function(v,p,m){if(typeof URL=="function")v.src=URL.createObjectURL(p);else{var x=new FileReader;x.onload=function(){v.removeAttribute("crossOrigin"),v.src="data:"+(p.type||m)+";base64,"+x.result.split(",")[1]},x.onerror=v.onerror,x.readAsDataURL(p)}},u.revokeObjectURL=function(v){typeof URL=="function"&&URL.revokeObjectURL(v.src)},n.exports=u}),74099:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={},r={install:function(o){for(var y in T)o[y]=T[y]},register:function(o,y){T[o]=y},destroy:function(){T={}}};n.exports=r}),98356:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return r.url?r.url.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)?r.url:o+r.url:!1};n.exports=T}),74261:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(23906),d=r(35072),h=r(50792),l=r(54899),a=r(74099),f=r(95540),c=r(35154),u=r(41212),v=r(37277),p=r(44594),m=r(92638),x=new o({Extends:h,initialize:function(P){h.call(this);var w=P.sys.game.config,M=P.sys.settings.loader;this.scene=P,this.systems=P.sys,this.cacheManager=P.sys.cache,this.textureManager=P.sys.textures,this.sceneManager=P.sys.game.scene,a.install(this),this.prefix="",this.path="",this.baseURL="",this.setBaseURL(f(M,"baseURL",w.loaderBaseURL)),this.setPath(f(M,"path",w.loaderPath)),this.setPrefix(f(M,"prefix",w.loaderPrefix)),this.maxParallelDownloads=f(M,"maxParallelDownloads",w.loaderMaxParallelDownloads),this.xhr=m(f(M,"responseType",w.loaderResponseType),f(M,"async",w.loaderAsync),f(M,"user",w.loaderUser),f(M,"password",w.loaderPassword),f(M,"timeout",w.loaderTimeout),f(M,"withCredentials",w.loaderWithCredentials)),this.crossOrigin=f(M,"crossOrigin",w.loaderCrossOrigin),this.imageLoadType=f(M,"imageLoadType",w.loaderImageLoadType),this.localSchemes=f(M,"localScheme",w.loaderLocalScheme),this.totalToLoad=0,this.progress=0,this.list=new d,this.inflight=new d,this.queue=new d,this._deleteQueue=new d,this.totalFailed=0,this.totalComplete=0,this.state=y.LOADER_IDLE,this.multiKeyIndex=0,this.maxRetries=f(M,"maxRetries",w.loaderMaxRetries),P.sys.events.once(p.BOOT,this.boot,this),P.sys.events.on(p.START,this.pluginStart,this)},boot:function(){this.systems.events.once(p.DESTROY,this.destroy,this)},pluginStart:function(){this.systems.events.once(p.SHUTDOWN,this.shutdown,this)},setBaseURL:function(C){return C===void 0&&(C=""),C!==""&&C.substr(-1)!=="/"&&(C=C.concat("/")),this.baseURL=C,this},setPath:function(C){return C===void 0&&(C=""),C!==""&&C.substr(-1)!=="/"&&(C=C.concat("/")),this.path=C,this},setPrefix:function(C){return C===void 0&&(C=""),this.prefix=C,this},setCORS:function(C){return this.crossOrigin=C,this},addFile:function(C){Array.isArray(C)||(C=[C]);for(var P=0;P<C.length;P++){var w=C[P];this.keyExists(w)||(this.list.set(w),this.emit(l.ADD,w.key,w.type,this,w),this.isLoading()&&(this.totalToLoad++,this.updateProgress()))}},keyExists:function(C){var P=C.hasCacheConflict();return P||this.list.iterate(function(w){if(w.type===C.type&&w.key===C.key)return P=!0,!1}),!P&&this.isLoading()&&(this.inflight.iterate(function(w){if(w.type===C.type&&w.key===C.key)return P=!0,!1}),this.queue.iterate(function(w){if(w.type===C.type&&w.key===C.key)return P=!0,!1})),P},addPack:function(C,P){if(typeof P=="string"){var w=c(C,P);w&&(C={packKey:w})}var M=0,R=this.baseURL,A=this.path,L=this.prefix;for(var F in C)if(Object.prototype.hasOwnProperty.call(C,F)){var G=C[F],I=f(G,"baseURL",R),B=f(G,"path",A),k=f(G,"prefix",L),U=f(G,"files",null),H=f(G,"defaultType","void");if(Array.isArray(U)){this.setBaseURL(I),this.setPath(B),this.setPrefix(k);for(var X=0;X<U.length;X++){var j=U[X],Z=j.hasOwnProperty("type")?j.type:H;this[Z]&&(this[Z](j),M++)}}}return this.setBaseURL(R),this.setPath(A),this.setPrefix(L),M>0},removePack:function(C,P){var w=this.systems.anims,M=this.cacheManager,R=this.textureManager,A={animation:"json",aseprite:"json",audio:"audio",audioSprite:"audio",binary:"binary",bitmapFont:"bitmapFont",css:null,glsl:"shader",html:"html",json:"json",obj:"obj",plugin:null,scenePlugin:null,script:null,spine:"json",text:"text",tilemapCSV:"tilemap",tilemapImpact:"tilemap",tilemapTiledJSON:"tilemap",video:"video",xml:"xml"},L;if(u(C))L=C;else if(L=M.json.get(C),!L){console.warn("Asset Pack not found in JSON cache:",C);return}P&&(L={_:L[P]});for(var F in L){var G=L[F],I=f(G,"prefix",""),B=f(G,"files"),k=f(G,"defaultType");if(Array.isArray(B))for(var U=0;U<B.length;U++){var H=B[U],X=H.hasOwnProperty("type")?H.type:k;if(!X){console.warn("No type:",H);continue}var j=I+H.key;if(X==="animation"&&w.remove(j),!((X==="aseprite"||X==="atlas"||X==="atlasXML"||X==="htmlTexture"||X==="image"||X==="multiatlas"||X==="spritesheet"||X==="svg"||X==="texture"||X==="unityAtlas")&&(R.remove(j),!A[X]))){if(X==="pack"){this.removePack(j,H.dataKey);continue}if(X==="spine"){var Z=M.custom.spine.get(j);if(!Z)continue;var Y=Z.prefix===void 0?"":Z.prefix;M.custom.spine.remove(j);var $=M.custom.spineTextures.get(j);if(!$)continue;M.custom.spineTextures.remove(j);for(var z=0;z<$.pages.length;z++){var V=$.pages[z],K=Y+V.name,Q=j+":"+K;R.exists(Q)?R.remove(Q):R.remove(K)}}var _=A[X];if(_!==null){if(!_){console.warn("Unknown type:",X);continue}var tt=M[_];tt.remove(j)}}}}},isLoading:function(){return this.state===y.LOADER_LOADING||this.state===y.LOADER_PROCESSING},isReady:function(){return this.state===y.LOADER_IDLE||this.state===y.LOADER_COMPLETE},start:function(){this.isReady()&&(this.progress=0,this.totalFailed=0,this.totalComplete=0,this.totalToLoad=this.list.size,this.emit(l.START,this),this.list.size===0?this.loadComplete():(this.state=y.LOADER_LOADING,this.inflight.clear(),this.queue.clear(),this.updateProgress(),this.checkLoadQueue(),this.systems.events.on(p.UPDATE,this.update,this)))},updateProgress:function(){this.progress=1-(this.list.size+this.inflight.size)/this.totalToLoad,this.emit(l.PROGRESS,this.progress)},update:function(){this.state===y.LOADER_LOADING&&this.list.size>0&&this.inflight.size<this.maxParallelDownloads&&this.checkLoadQueue()},checkLoadQueue:function(){this.list.each(function(C){if((C.state===y.FILE_POPULATED||C.state===y.FILE_PENDING&&this.inflight.size<this.maxParallelDownloads)&&(this.inflight.set(C),this.list.delete(C),C.crossOrigin||(C.crossOrigin=this.crossOrigin),C.load()),this.inflight.size===this.maxParallelDownloads)return!1},this)},nextFile:function(C,P){this.inflight&&(this.inflight.delete(C),this.updateProgress(),P?(this.totalComplete++,this.queue.set(C),this.emit(l.FILE_LOAD,C),C.onProcess()):(this.totalFailed++,this._deleteQueue.set(C),this.emit(l.FILE_LOAD_ERROR,C),this.fileProcessComplete(C)))},fileProcessComplete:function(C){!this.scene||!this.systems||!this.systems.game||this.systems.game.pendingDestroy||(C.state===y.FILE_ERRORED?C.multiFile&&C.multiFile.onFileFailed(C):C.state===y.FILE_COMPLETE&&(C.multiFile?C.multiFile.isReadyToProcess()&&(C.multiFile.addToCache(),C.multiFile.pendingDestroy()):(C.addToCache(),C.pendingDestroy())),this.queue.delete(C),this.list.size===0&&this.inflight.size===0&&this.queue.size===0&&this.loadComplete())},loadComplete:function(){this.emit(l.POST_PROCESS,this),this.list.clear(),this.inflight.clear(),this.queue.clear(),this.progress=1,this.state=y.LOADER_COMPLETE,this.systems.events.off(p.UPDATE,this.update,this),this._deleteQueue.iterateLocal("destroy"),this._deleteQueue.clear(),this.emit(l.COMPLETE,this,this.totalComplete,this.totalFailed)},flagForRemoval:function(C){this._deleteQueue.set(C)},saveJSON:function(C,P){return this.save(JSON.stringify(C),P)},save:function(C,P,w){P===void 0&&(P="file.json"),w===void 0&&(w="application/json");var M=new Blob([C],{type:w}),R=URL.createObjectURL(M),A=document.createElement("a");return A.download=P,A.textContent="Download "+P,A.href=R,A.click(),this},reset:function(){this.list.clear(),this.inflight.clear(),this.queue.clear();var C=this.systems.game.config,P=this.systems.settings.loader;this.setBaseURL(f(P,"baseURL",C.loaderBaseURL)),this.setPath(f(P,"path",C.loaderPath)),this.setPrefix(f(P,"prefix",C.loaderPrefix)),this.state=y.LOADER_IDLE},shutdown:function(){this.reset(),this.state=y.LOADER_SHUTDOWN,this.removeAllListeners(),this.systems.events.off(p.UPDATE,this.update,this),this.systems.events.off(p.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.state=y.LOADER_DESTROYED,this.systems.events.off(p.UPDATE,this.update,this),this.systems.events.off(p.START,this.pluginStart,this),this.list=null,this.inflight=null,this.queue=null,this.scene=null,this.systems=null,this.textureManager=null,this.cacheManager=null,this.sceneManager=null}});v.register("Loader",x,"load"),n.exports=x}),3374:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(79291),y=r(92638),d=function(h,l){var a=h===void 0?y():o({},h);if(l)for(var f in l)l[f]!==void 0&&(a[f]=l[f]);return a};n.exports=d}),26430:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(23906),d=r(54899),h=new o({initialize:function(a,f,c,u){var v=[];u.forEach(function(x){x&&v.push(x)}),this.loader=a,this.type=f,this.key=c;var p=this.key;a.prefix&&a.prefix!==""&&(this.key=a.prefix+p),this.multiKeyIndex=a.multiKeyIndex++,this.files=v,this.state=y.FILE_PENDING,this.complete=!1,this.pending=v.length,this.failed=0,this.config={},this.baseURL=a.baseURL,this.path=a.path,this.prefix=a.prefix;for(var m=0;m<v.length;m++)v[m].multiFile=this},isReadyToProcess:function(){return this.pending===0&&this.failed===0&&!this.complete},addToMultiFile:function(l){return this.files.push(l),l.multiFile=this,this.pending++,this.complete=!1,this},onFileComplete:function(l){var a=this.files.indexOf(l);a!==-1&&this.pending--},onFileFailed:function(l){var a=this.files.indexOf(l);a!==-1&&(this.failed++,console.error('File failed: %s "%s" (via %s "%s")',this.type,this.key,l.type,l.key))},pendingDestroy:function(){if(this.state!==y.FILE_PENDING_DESTROY){var l=this.key,a=this.type;this.loader.emit(d.FILE_COMPLETE,l,a),this.loader.emit(d.FILE_KEY_COMPLETE+a+"-"+l,l,a),this.loader.flagForRemoval(this);for(var f=0;f<this.files.length;f++)this.files[f].pendingDestroy();this.state=y.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.files=null,this.config=null}});n.exports=h}),84376:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(3374),y=function(d,h){var l=o(h,d.xhrSettings);if(d.base64){var a=d.url.split(";base64,").pop()||d.url.split(",").pop(),f={responseText:atob(a)};d.onBase64Load(f);return}var c=new XMLHttpRequest;if(c.open("GET",d.src,l.async,l.user,l.password),c.responseType=d.xhrSettings.responseType,c.timeout=l.timeout,l.headers)for(var u in l.headers)c.setRequestHeader(u,l.headers[u]);return l.header&&l.headerValue&&c.setRequestHeader(l.header,l.headerValue),l.requestedWith&&c.setRequestHeader("X-Requested-With",l.requestedWith),l.overrideMimeType&&c.overrideMimeType(l.overrideMimeType),l.withCredentials&&(c.withCredentials=!0),c.onload=d.onLoad.bind(d,c),c.onerror=d.onError.bind(d,c),c.onprogress=d.onProgress.bind(d),c.ontimeout=d.onError.bind(d,c),c.send(),c};n.exports=y}),92638:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y,d,h,l){return r===void 0&&(r=""),o===void 0&&(o=!0),y===void 0&&(y=""),d===void 0&&(d=""),h===void 0&&(h=0),l===void 0&&(l=!1),{responseType:r,async:o,user:y,password:d,timeout:h,headers:void 0,header:void 0,headerValue:void 0,requestedWith:!1,overrideMimeType:void 0,withCredentials:l}};n.exports=T}),23906:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={LOADER_IDLE:0,LOADER_LOADING:1,LOADER_PROCESSING:2,LOADER_COMPLETE:3,LOADER_SHUTDOWN:4,LOADER_DESTROYED:5,FILE_PENDING:10,FILE_LOADING:11,FILE_LOADED:12,FILE_FAILED:13,FILE_PROCESSING:14,FILE_ERRORED:16,FILE_COMPLETE:17,FILE_DESTROYED:18,FILE_POPULATED:19,FILE_PENDING_DESTROY:20};n.exports=T}),42155:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="addfile"}),38991:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="complete"}),27540:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="filecomplete"}),87464:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="filecomplete-"}),94486:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="loaderror"}),13035:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="load"}),38144:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="fileprogress"}),97520:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="postprocess"}),85595:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="progress"}),55680:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="start"}),54899:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ADD:r(42155),COMPLETE:r(38991),FILE_COMPLETE:r(27540),FILE_KEY_COMPLETE:r(87464),FILE_LOAD_ERROR:r(94486),FILE_LOAD:r(13035),FILE_PROGRESS:r(38144),POST_PROCESS:r(97520),PROGRESS:r(85595),START:r(55680)}}),14135:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(74099),d=r(518),h=r(54899),l=new o({Extends:d,initialize:function(f,c,u,v,p){d.call(this,f,c,u,v,p),this.type="animationJSON"},onProcess:function(){this.loader.once(h.POST_PROCESS,this.onLoadComplete,this),d.prototype.onProcess.call(this)},onLoadComplete:function(){this.loader.systems.anims.fromJSON(this.data)}});y.register("animation",function(a,f,c,u){if(Array.isArray(a))for(var v=0;v<a.length;v++)this.addFile(new l(this,a[v]));else this.addFile(new l(this,a,f,u,c));return this}),n.exports=l}),76272:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(74099),d=r(95540),h=r(19550),l=r(41212),a=r(518),f=r(26430),c=new o({Extends:f,initialize:function(v,p,m,x,C,P){var w,M;if(l(p)){var R=p;p=d(R,"key"),w=new h(v,{key:p,url:d(R,"textureURL"),extension:d(R,"textureExtension","png"),normalMap:d(R,"normalMap"),xhrSettings:d(R,"textureXhrSettings")}),M=new a(v,{key:p,url:d(R,"atlasURL"),extension:d(R,"atlasExtension","json"),xhrSettings:d(R,"atlasXhrSettings")})}else w=new h(v,p,m,C),M=new a(v,p,x,P);w.linkFile?f.call(this,v,"atlasjson",p,[w,M,w.linkFile]):f.call(this,v,"atlasjson",p,[w,M])},addToCache:function(){if(this.isReadyToProcess()){var u=this.files[0],v=this.files[1],p=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(u.key,u.data,v.data,p),v.addToCache(),this.complete=!0}}});y.register("aseprite",function(u,v,p,m,x){var C;if(Array.isArray(u))for(var P=0;P<u.length;P++)C=new c(this,u[P]),this.addFile(C.files);else C=new c(this,u,v,p,m,x),this.addFile(C.files);return this}),n.exports=c}),38734:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(74099),d=r(95540),h=r(19550),l=r(41212),a=r(518),f=r(26430),c=new o({Extends:f,initialize:function(v,p,m,x,C,P){var w,M;if(l(p)){var R=p;p=d(R,"key"),w=new h(v,{key:p,url:d(R,"textureURL"),extension:d(R,"textureExtension","png"),normalMap:d(R,"normalMap"),xhrSettings:d(R,"textureXhrSettings")}),M=new a(v,{key:p,url:d(R,"atlasURL"),extension:d(R,"atlasExtension","json"),xhrSettings:d(R,"atlasXhrSettings")})}else w=new h(v,p,m,C),M=new a(v,p,x,P);w.linkFile?f.call(this,v,"atlasjson",p,[w,M,w.linkFile]):f.call(this,v,"atlasjson",p,[w,M])},addToCache:function(){if(this.isReadyToProcess()){var u=this.files[0],v=this.files[1],p=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(u.key,u.data,v.data,p),this.complete=!0}}});y.register("atlas",function(u,v,p,m,x){var C;if(Array.isArray(u))for(var P=0;P<u.length;P++)C=new c(this,u[P]),this.addFile(C.files);else C=new c(this,u,v,p,m,x),this.addFile(C.files);return this}),n.exports=c}),74599:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(74099),d=r(95540),h=r(19550),l=r(41212),a=r(26430),f=r(57318),c=new o({Extends:a,initialize:function(v,p,m,x,C,P){var w,M;if(l(p)){var R=p;p=d(R,"key"),w=new h(v,{key:p,url:d(R,"textureURL"),extension:d(R,"textureExtension","png"),normalMap:d(R,"normalMap"),xhrSettings:d(R,"textureXhrSettings")}),M=new f(v,{key:p,url:d(R,"atlasURL"),extension:d(R,"atlasExtension","xml"),xhrSettings:d(R,"atlasXhrSettings")})}else w=new h(v,p,m,C),M=new f(v,p,x,P);w.linkFile?a.call(this,v,"atlasxml",p,[w,M,w.linkFile]):a.call(this,v,"atlasxml",p,[w,M])},addToCache:function(){if(this.isReadyToProcess()){var u=this.files[0],v=this.files[1],p=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlasXML(u.key,u.data,v.data,p),this.complete=!0}}});y.register("atlasXML",function(u,v,p,m,x){var C;if(Array.isArray(u))for(var P=0;P<u.length;P++)C=new c(this,u[P]),this.addFile(C.files);else C=new c(this,u,v,p,m,x),this.addFile(C.files);return this}),n.exports=c}),21097:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(23906),d=r(41299),h=r(74099),l=r(95540),a=r(89749),f=r(41212),c=new o({Extends:d,initialize:function(v,p,m,x,C){if(f(p)){var P=p;p=l(P,"key"),x=l(P,"xhrSettings"),C=l(P,"context",C)}var w={type:"audio",cache:v.cacheManager.audio,extension:m.type,responseType:"arraybuffer",key:p,url:m.url,xhrSettings:x,config:{context:C}};d.call(this,v,w)},onProcess:function(){this.state=y.FILE_PROCESSING;var u=this;this.config.context.decodeAudioData(this.xhrLoader.response,function(v){u.data=v,u.onProcessComplete()},function(v){console.error("Error decoding audio: "+u.key+" - ",v?v.message:null),u.onProcessError()}),this.config.context=null}});c.create=function(u,v,p,m,x){var C=u.systems.game,P=C.config.audio,w=C.device.audio;f(v)&&(p=l(v,"url",[]),m=l(v,"config",{}));var M=c.getAudioURL(C,p);return M?w.webAudio&&!P.disableWebAudio?new c(u,v,M,x,C.sound.context):new a(u,v,M,m):(console.warn('No audio URLs for "%s" can play on this device',v),null)},c.getAudioURL=function(u,v){Array.isArray(v)||(v=[v]);for(var p=0;p<v.length;p++){var m=l(v[p],"url",v[p]);if(m.indexOf("blob:")===0||m.indexOf("data:")===0)return{url:m,type:""};var x=m.match(/\.([a-zA-Z0-9]+)($|\?)/);if(x=l(v[p],"type",x?x[1]:"").toLowerCase(),u.device.audio[x])return{url:m,type:x}}return null},h.register("audio",function(u,v,p,m){var x=this.systems.game,C=x.config.audio,P=x.device.audio;if(C.noAudio||!P.webAudio&&!P.audioData)return this;var w;if(Array.isArray(u))for(var M=0;M<u.length;M++)w=c.create(this,u[M]),w&&this.addFile(w);else w=c.create(this,u,v,p,m),w&&this.addFile(w);return this}),n.exports=c}),89524:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(21097),y=r(83419),d=r(74099),h=r(95540),l=r(41212),a=r(518),f=r(26430),c=new y({Extends:f,initialize:function(v,p,m,x,C,P,w){if(l(p)){var M=p;p=h(M,"key"),m=h(M,"jsonURL"),x=h(M,"audioURL"),C=h(M,"audioConfig"),P=h(M,"audioXhrSettings"),w=h(M,"jsonXhrSettings")}var R;if(!x)R=new a(v,p,m,w),f.call(this,v,"audiosprite",p,[R]),this.config.resourceLoad=!0,this.config.audioConfig=C,this.config.audioXhrSettings=P;else{var A=o.create(v,p,x,C,P);A&&(R=new a(v,p,m,w),f.call(this,v,"audiosprite",p,[A,R]),this.config.resourceLoad=!1)}},onFileComplete:function(u){var v=this.files.indexOf(u);if(v!==-1&&(this.pending--,this.config.resourceLoad&&u.type==="json"&&u.data.hasOwnProperty("resources"))){var p=u.data.resources,m=h(this.config,"audioConfig"),x=h(this.config,"audioXhrSettings"),C=o.create(this.loader,u.key,p,m,x);C&&(this.addToMultiFile(C),this.loader.addFile(C))}},addToCache:function(){if(this.isReadyToProcess()){var u=this.files[0],v=this.files[1];u.addToCache(),v.addToCache(),this.complete=!0}}});d.register("audioSprite",function(u,v,p,m,x,C){var P=this.systems.game,w=P.config.audio,M=P.device.audio;if(w&&w.noAudio||!M.webAudio&&!M.audioData)return this;var R;if(Array.isArray(u))for(var A=0;A<u.length;A++)R=new c(this,u[A]),R.files&&this.addFile(R.files);else R=new c(this,u,v,p,m,x,C),R.files&&this.addFile(R.files);return this})}),85722:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(23906),d=r(41299),h=r(74099),l=r(95540),a=r(41212),f=new o({Extends:d,initialize:function(u,v,p,m,x){var C="bin";if(a(v)){var P=v;v=l(P,"key"),p=l(P,"url"),m=l(P,"xhrSettings"),C=l(P,"extension",C),x=l(P,"dataType",x)}var w={type:"binary",cache:u.cacheManager.binary,extension:C,responseType:"arraybuffer",key:v,url:p,xhrSettings:m,config:{dataType:x}};d.call(this,u,w)},onProcess:function(){this.state=y.FILE_PROCESSING;var c=this.config.dataType;this.data=c?new c(this.xhrLoader.response):this.xhrLoader.response,this.onProcessComplete()}});h.register("binary",function(c,u,v,p){if(Array.isArray(c))for(var m=0;m<c.length;m++)this.addFile(new f(this,c[m]));else this.addFile(new f(this,c,u,p,v));return this}),n.exports=f}),97025:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(74099),d=r(95540),h=r(19550),l=r(41212),a=r(26430),f=r(21859),c=r(57318),u=new o({Extends:a,initialize:function(p,m,x,C,P,w){var M,R;if(l(m)){var A=m;m=d(A,"key"),M=new h(p,{key:m,url:d(A,"textureURL"),extension:d(A,"textureExtension","png"),normalMap:d(A,"normalMap"),xhrSettings:d(A,"textureXhrSettings")}),R=new c(p,{key:m,url:d(A,"fontDataURL"),extension:d(A,"fontDataExtension","xml"),xhrSettings:d(A,"fontDataXhrSettings")})}else M=new h(p,m,x,P),R=new c(p,m,C,w);M.linkFile?a.call(this,p,"bitmapfont",m,[M,R,M.linkFile]):a.call(this,p,"bitmapfont",m,[M,R])},addToCache:function(){if(this.isReadyToProcess()){var v=this.files[0],p=this.files[1];v.addToCache();var m=v.cache.get(v.key),x=f(p.data,v.cache.getFrame(v.key),0,0,m);this.loader.cacheManager.bitmapFont.add(v.key,{data:x,texture:v.key,frame:null}),this.complete=!0}}});y.register("bitmapFont",function(v,p,m,x,C){var P;if(Array.isArray(v))for(var w=0;w<v.length;w++)P=new u(this,v[w]),this.addFile(P.files);else P=new u(this,v,p,m,x,C),this.addFile(P.files);return this}),n.exports=u}),16024:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(23906),d=r(41299),h=r(74099),l=r(95540),a=r(41212),f=new o({Extends:d,initialize:function(u,v,p,m){var x="css";if(a(v)){var C=v;v=l(C,"key"),p=l(C,"url"),m=l(C,"xhrSettings"),x=l(C,"extension",x)}var P={type:"script",cache:!1,extension:x,responseType:"text",key:v,url:p,xhrSettings:m};d.call(this,u,P)},onProcess:function(){this.state=y.FILE_PROCESSING,this.data=document.createElement("style"),this.data.defer=!1,this.data.innerHTML=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});h.register("css",function(c,u,v){if(Array.isArray(c))for(var p=0;p<c.length;p++)this.addFile(new f(this,c[p]));else this.addFile(new f(this,c,u,v));return this}),n.exports=f}),69559:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(38734),y=r(85722),d=r(83419),h=r(74099),l=r(95540),a=r(19550),f=r(41212),c=r(518),u=r(31403),v=r(46975),p=r(59327),m=r(26430),x=r(82038),C=r(55222),P=new d({Extends:m,initialize:function(M,R,A,L){if(A.multiAtlasURL){var F=new c(M,{key:R,url:A.multiAtlasURL,xhrSettings:L,config:A});m.call(this,M,"texture",R,[F])}else{var G=A.textureURL.substr(A.textureURL.length-3);A.type||(A.type=G.toLowerCase()==="ktx"?"KTX":"PVR");var I=new y(M,{key:R,url:A.textureURL,extension:G,xhrSettings:L,config:A});if(A.atlasURL){var B=new c(M,{key:R,url:A.atlasURL,xhrSettings:L,config:A});m.call(this,M,"texture",R,[I,B])}else m.call(this,M,"texture",R,[I])}this.config=A},onFileComplete:function(w){var M=this.files.indexOf(w);if(M!==-1){if(this.pending--,!this.config.multiAtlasURL)return;if(w.type==="json"&&w.data.hasOwnProperty("textures")){var R=w.data.textures,A=this.config,L=this.loader,F=L.baseURL,G=L.path,I=L.prefix,B=l(A,"multiBaseURL",this.baseURL),k=l(A,"multiPath",this.path),U=l(A,"prefix",this.prefix),H=l(A,"textureXhrSettings");B&&L.setBaseURL(B),k&&L.setPath(k),U&&L.setPrefix(U);for(var X=0;X<R.length;X++){var j=R[X].image,Z="CMA"+this.multiKeyIndex+"_"+j,Y=new y(L,Z,j,H);if(this.addToMultiFile(Y),L.addFile(Y),R[X].normalMap){var $=new y(L,Z,R[X].normalMap,H);$.type="normalMap",Y.setLink($),this.addToMultiFile($),L.addFile($)}}L.setBaseURL(F),L.setPath(G),L.setPrefix(I)}}},addToCache:function(){function w(B){console.warn('Compressed Texture Invalid: "'+F.key+'". '+B)}if(this.isReadyToProcess()){var M=this.config;if(M.multiAtlasURL)this.addMultiToCache();else{var R=this.loader.systems.renderer,A=this.loader.textureManager,L,F=this.files[0],G=this.files[1];if(M.type==="PVR"?L=x(F.data):M.type==="KTX"&&(L=u(F.data),L||w("KTX file contains unsupported format.")),L&&!C(L)&&(w("Texture dimensions failed verification. Check the texture format specifications for "+M.format+" 0x"+L.internalFormat.toString(16)+"."),L=null),L&&!R.supportsCompressedTexture(M.format,L.internalFormat)&&(w("Texture format "+M.format+" with internal format "+L.internalFormat+" not supported by the GPU. Texture invalid. This is often due to the texture using sRGB instead of linear RGB."),L=null),L){L.format=R.getCompressedTextureName(M.format,L.internalFormat);var I=G&&G.data?G.data:null;A.addCompressedTexture(F.key,L,I)}}this.complete=!0}},addMultiToCache:function(){for(var w=this.config,M=this.files[0],R=[],A=[],L=[],F=this.loader.systems.renderer,G=this.loader.textureManager,I,B=1;B<this.files.length;B++){var k=this.files[B];if(k.type!=="normalMap")for(var U=k.key.indexOf("_"),H=k.key.substr(U+1),X=k.data,j=0;j<M.data.textures.length;j++){var Z=M.data.textures[j];if(Z.image===H){w.type==="PVR"?I=x(X):w.type==="KTX"&&(I=u(X)),I&&F.supportsCompressedTexture(w.format,I.internalFormat)&&(I.format=F.getCompressedTextureName(w.format,I.internalFormat),A.push(I),R.push(Z),k.linkFile&&L.push(k.linkFile.data));break}}}L.length===0&&(L=void 0),G.addAtlasJSONArray(this.key,A,R,L),this.complete=!0}});h.register("texture",function(w,M,R){var A=this.systems.renderer,L=function(G,I,B,k){var U={format:null,type:null,textureURL:void 0,atlasURL:void 0,multiAtlasURL:void 0,multiPath:void 0,multiBaseURL:void 0};if(f(I)){var H=I;I=l(H,"key"),B=l(H,"url"),k=l(H,"xhrSettings")}var X=!1;for(var j in B)if(A.supportsCompressedTexture(j)){var Z=B[j];typeof Z=="string"?U.textureURL=Z:U=v(Z,U),U.format=j.toUpperCase(),X=!0;break}if(!X)console.warn("No supported compressed texture format or IMG fallback",I);else if(U.format==="IMG"){var Y,$;U.multiAtlasURL?($=new p(G,I,U.multiAtlasURL,U.multiPath,U.multiBaseURL,k),Y=$.files):U.atlasURL?($=new o(G,I,U.textureURL,U.atlasURL,k),Y=$.files):Y=new a(G,I,U.textureURL,k),G.addFile(Y)}else{var z=new P(G,I,U,k);G.addFile(z.files)}};if(Array.isArray(w))for(var F=0;F<w.length;F++)L(this,w[F]);else L(this,w,M,R);return this}),n.exports=P}),87674:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(23906),d=r(41299),h=r(74099),l=r(95540),a=r(98356),f=r(41212),c=new o({Extends:d,initialize:function(v,p,m,x,C,P){var w="ttf";if(f(p)){var M=p;p=l(M,"key"),m=l(M,"url"),x=l(M,"format","truetype"),C=l(M,"descriptors",null),P=l(M,"xhrSettings"),w=l(M,"extension",w)}else x===void 0&&(x="truetype");var R={type:"font",cache:!1,extension:w,responseType:"text",key:p,url:m,xhrSettings:P};d.call(this,v,R),this.data={format:x,descriptors:C},this.state=y.FILE_POPULATED},onProcess:function(){this.state=y.FILE_PROCESSING,this.src=a(this,this.loader.baseURL);var u,v=this.key,p="url("+this.src+') format("'+this.data.format+'")';this.data.descriptors?u=new FontFace(v,p,this.data.descriptors):u=new FontFace(v,p);var m=this;u.load().then(function(){document.fonts.add(u),document.body.classList.add("fonts-loaded"),m.onProcessComplete()}).catch(function(){console.warn("Font failed to load",p),m.onProcessComplete()})}});h.register("font",function(u,v,p,m,x){if(Array.isArray(u))for(var C=0;C<u.length;C++)this.addFile(new c(this,u[C]));else this.addFile(new c(this,u,v,p,m,x));return this}),n.exports=c}),47931:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(23906),d=r(41299),h=r(74099),l=r(95540),a=r(41212),f=r(73894),c=new o({Extends:d,initialize:function(v,p,m,x,C){var P="glsl";if(a(p)){var w=p;p=l(w,"key"),m=l(w,"url"),x=l(w,"shaderType","fragment"),C=l(w,"xhrSettings"),P=l(w,"extension",P)}else x===void 0&&(x="fragment");var M={type:"glsl",cache:v.cacheManager.shader,extension:P,responseType:"text",key:p,url:m,config:{shaderType:x},xhrSettings:C};d.call(this,v,M)},onProcess:function(){this.state=y.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var u=this.data.split(`
`),v=this.extractBlock(u,0);if(v)for(;v;){var p=this.getShaderName(v.header),m=this.getShaderType(v.header),x=this.getShaderUniforms(v.header),C=v.shader;if(this.cache.has(p)){var P=this.cache.get(p);m==="fragment"?P.fragmentSrc=C:P.vertexSrc=C,P.uniforms||(P.uniforms=x)}else m==="fragment"?this.cache.add(p,new f(p,C,"",x)):this.cache.add(p,new f(p,"",C,x));v=this.extractBlock(u,v.offset)}else this.config.shaderType==="fragment"?this.cache.add(this.key,new f(this.key,this.data)):this.cache.add(this.key,new f(this.key,"",this.data))},getShaderName:function(u){for(var v=0;v<u.length;v++){var p=u[v].trim();if(p.substring(0,5)==="name:")return p.substring(5).trim()}return this.key},getShaderType:function(u){for(var v=0;v<u.length;v++){var p=u[v].trim();if(p.substring(0,5)==="type:")return p.substring(5).trim()}return this.config.shaderType},getShaderUniforms:function(u){for(var v={},p=0;p<u.length;p++){var m=u[p].trim();if(m.substring(0,8)==="uniform."){var x=m.indexOf(":");if(x){var C=m.substring(8,x);try{v[C]=JSON.parse(m.substring(x+1))}catch{console.warn("Invalid uniform JSON: "+C)}}}}return v},extractBlock:function(u,v){for(var p=-1,m=-1,x=-1,C=!1,P=!1,w=[],M=[],R=v;R<u.length;R++){var A=u[R].trim();if(A==="---")if(p===-1)p=R,C=!0;else if(C)m=R,C=!1,P=!0;else{P=!1;break}else C?w.push(A):P&&(M.push(A),x=R)}return!C&&m!==-1?{header:w,shader:M.join(`
`),offset:x}:null}});h.register("glsl",function(u,v,p,m){if(Array.isArray(u))for(var x=0;x<u.length;x++)this.addFile(new c(this,u[x]));else this.addFile(new c(this,u,v,p,m));return this}),n.exports=c}),89749:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(54899),d=r(41299),h=r(95540),l=r(98356),a=r(41212),f=new o({Extends:d,initialize:function(u,v,p,m){if(a(v)){var x=v;v=h(x,"key"),m=h(x,"config",m)}var C={type:"audio",cache:u.cacheManager.audio,extension:p.type,key:v,url:p.url,config:m};d.call(this,u,C),this.locked="ontouchstart"in window,this.loaded=!1,this.filesLoaded=0,this.filesTotal=0},onLoad:function(){this.loaded||(this.loaded=!0,this.loader.nextFile(this,!0))},onError:function(){for(var c=0;c<this.data.length;c++){var u=this.data[c];u.oncanplaythrough=null,u.onerror=null}this.loader.nextFile(this,!1)},onProgress:function(c){var u=c.target;u.oncanplaythrough=null,u.onerror=null,this.filesLoaded++,this.percentComplete=Math.min(this.filesLoaded/this.filesTotal,1),this.loader.emit(y.FILE_PROGRESS,this,this.percentComplete),this.filesLoaded===this.filesTotal&&this.onLoad()},load:function(){this.data=[];var c=this.config&&this.config.instances||1;this.filesTotal=c,this.filesLoaded=0,this.percentComplete=0;for(var u=0;u<c;u++){var v=new Audio;v.dataset||(v.dataset={}),v.dataset.name=this.key+("0"+u).slice(-2),v.dataset.used="false",this.locked?v.dataset.locked="true":(v.dataset.locked="false",v.preload="auto",v.oncanplaythrough=this.onProgress.bind(this),v.onerror=this.onError.bind(this)),this.data.push(v)}for(u=0;u<this.data.length;u++)v=this.data[u],v.src=l(this,this.loader.baseURL),this.locked||v.load();this.locked&&setTimeout(this.onLoad.bind(this))}});n.exports=f}),88470:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(23906),d=r(41299),h=r(74099),l=r(95540),a=r(41212),f=new o({Extends:d,initialize:function(u,v,p,m){var x="html";if(a(v)){var C=v;v=l(C,"key"),p=l(C,"url"),m=l(C,"xhrSettings"),x=l(C,"extension",x)}var P={type:"text",cache:u.cacheManager.html,extension:x,responseType:"text",key:v,url:p,xhrSettings:m};d.call(this,u,P)},onProcess:function(){this.state=y.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});h.register("html",function(c,u,v){if(Array.isArray(c))for(var p=0;p<c.length;p++)this.addFile(new f(this,c[p]));else this.addFile(new f(this,c,u,v));return this}),n.exports=f}),14643:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(23906),d=r(41299),h=r(74099),l=r(95540),a=r(41212),f=new o({Extends:d,initialize:function(u,v,p,m,x,C){m===void 0&&(m=512),x===void 0&&(x=512);var P="html";if(a(v)){var w=v;v=l(w,"key"),p=l(w,"url"),C=l(w,"xhrSettings"),P=l(w,"extension",P),m=l(w,"width",m),x=l(w,"height",x)}var M={type:"html",cache:u.textureManager,extension:P,responseType:"text",key:v,url:p,xhrSettings:C,config:{width:m,height:x}};d.call(this,u,M)},onProcess:function(){this.state=y.FILE_PROCESSING;var c=this.config.width,u=this.config.height,v=[];v.push('<svg width="'+c+'px" height="'+u+'px" viewBox="0 0 '+c+" "+u+'" xmlns="http://www.w3.org/2000/svg">'),v.push('<foreignObject width="100%" height="100%">'),v.push('<body xmlns="http://www.w3.org/1999/xhtml">'),v.push(this.xhrLoader.responseText),v.push("</body>"),v.push("</foreignObject>"),v.push("</svg>");var p=[v.join(`
`)],m=this;try{var x=new window.Blob(p,{type:"image/svg+xml;charset=utf-8"})}catch{m.state=y.FILE_ERRORED,m.onProcessComplete();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin,this.data.onload=function(){d.revokeObjectURL(m.data),m.onProcessComplete()},this.data.onerror=function(){d.revokeObjectURL(m.data),m.onProcessError()},d.createObjectURL(this.data,x,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});h.register("htmlTexture",function(c,u,v,p,m){if(Array.isArray(c))for(var x=0;x<c.length;x++)this.addFile(new f(this,c[x]));else this.addFile(new f(this,c,u,v,p,m));return this}),n.exports=f}),19550:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(23906),d=r(41299),h=r(74099),l=r(95540),a=r(41212),f=r(98356),c=new o({Extends:d,initialize:function u(v,p,m,x,C){var P="png",w;if(a(p)){var M=p;p=l(M,"key"),m=l(M,"url"),w=l(M,"normalMap"),x=l(M,"xhrSettings"),P=l(M,"extension",P),C=l(M,"frameConfig")}Array.isArray(m)&&(w=m[1],m=m[0]);var R={type:"image",cache:v.textureManager,extension:P,responseType:"blob",key:p,url:m,xhrSettings:x,config:C};if(d.call(this,v,R),w){var A=new u(v,this.key,w,x,C);A.type="normalMap",this.setLink(A),v.addFile(A)}this.useImageElementLoad=v.imageLoadType==="HTMLImageElement"||this.base64,this.useImageElementLoad&&(this.load=this.loadImage,this.onProcess=this.onProcessImage)},onProcess:function(){this.state=y.FILE_PROCESSING,this.data=new Image,this.data.crossOrigin=this.crossOrigin;var u=this;this.data.onload=function(){d.revokeObjectURL(u.data),u.onProcessComplete()},this.data.onerror=function(){d.revokeObjectURL(u.data),u.onProcessError()},d.createObjectURL(this.data,this.xhrLoader.response,"image/png")},onProcessImage:function(){var u=this.state;this.state=y.FILE_PROCESSING,u===y.FILE_LOADED?this.onProcessComplete():this.onProcessError()},loadImage:function(){this.state=y.FILE_LOADING,this.src=f(this,this.loader.baseURL),this.data=new Image,this.data.crossOrigin=this.crossOrigin;var u=this;this.data.onload=function(){u.state=y.FILE_LOADED,u.loader.nextFile(u,!0)},this.data.onerror=function(){u.loader.nextFile(u,!1)},this.data.src=this.src},addToCache:function(){var u=this.linkFile;u?u.state>=y.FILE_COMPLETE&&(u.type==="spritesheet"?u.addToCache():this.type==="normalMap"?this.cache.addImage(this.key,u.data,this.data):this.cache.addImage(this.key,this.data,u.data)):this.cache.addImage(this.key,this.data)}});h.register("image",function(u,v,p){if(Array.isArray(u))for(var m=0;m<u.length;m++)this.addFile(new c(this,u[m]));else this.addFile(new c(this,u,v,p));return this}),n.exports=c}),518:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(23906),d=r(41299),h=r(74099),l=r(95540),a=r(35154),f=r(41212),c=new o({Extends:d,initialize:function(v,p,m,x,C){var P="json";if(f(p)){var w=p;p=l(w,"key"),m=l(w,"url"),x=l(w,"xhrSettings"),P=l(w,"extension",P),C=l(w,"dataKey",C)}var M={type:"json",cache:v.cacheManager.json,extension:P,responseType:"text",key:p,url:m,xhrSettings:x,config:C};d.call(this,v,M),f(m)&&(C?this.data=a(m,C):this.data=m,this.state=y.FILE_POPULATED)},onProcess:function(){if(this.state!==y.FILE_POPULATED){this.state=y.FILE_PROCESSING;try{var u=JSON.parse(this.xhrLoader.responseText)}catch(p){throw this.onProcessError(),p}var v=this.config;typeof v=="string"?this.data=a(u,v,u):this.data=u}this.onProcessComplete()}});h.register("json",function(u,v,p,m){if(Array.isArray(u))for(var x=0;x<u.length;x++)this.addFile(new c(this,u[x]));else this.addFile(new c(this,u,v,m,p));return this}),n.exports=c}),59327:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(74099),d=r(95540),h=r(19550),l=r(41212),a=r(518),f=r(26430),c=new o({Extends:f,initialize:function(v,p,m,x,C,P,w){if(l(p)){var M=p;p=d(M,"key"),d(M,"url",!1)?m=d(M,"url"):m=d(M,"atlasURL"),P=d(M,"xhrSettings"),x=d(M,"path"),C=d(M,"baseURL"),w=d(M,"textureXhrSettings")}var R=new a(v,p,m,P);f.call(this,v,"multiatlas",p,[R]),this.config.path=x,this.config.baseURL=C,this.config.textureXhrSettings=w},onFileComplete:function(u){var v=this.files.indexOf(u);if(v!==-1&&(this.pending--,u.type==="json"&&u.data.hasOwnProperty("textures"))){var p=u.data.textures,m=this.config,x=this.loader,C=x.baseURL,P=x.path,w=x.prefix,M=d(m,"baseURL",this.baseURL),R=d(m,"path",this.path),A=d(m,"prefix",this.prefix),L=d(m,"textureXhrSettings");x.setBaseURL(M),x.setPath(R),x.setPrefix(A);for(var F=0;F<p.length;F++){var G=p[F].image,I="MA"+this.multiKeyIndex+"_"+G,B=new h(x,I,G,L);if(this.addToMultiFile(B),x.addFile(B),p[F].normalMap){var k=new h(x,I,p[F].normalMap,L);k.type="normalMap",B.setLink(k),this.addToMultiFile(k),x.addFile(k)}}x.setBaseURL(C),x.setPath(P),x.setPrefix(w)}},addToCache:function(){if(this.isReadyToProcess()){for(var u=this.files[0],v=[],p=[],m=[],x=1;x<this.files.length;x++){var C=this.files[x];if(C.type!=="normalMap")for(var P=C.key.indexOf("_"),w=C.key.substr(P+1),M=C.data,R=0;R<u.data.textures.length;R++){var A=u.data.textures[R];if(A.image===w){p.push(M),v.push(A),C.linkFile&&m.push(C.linkFile.data);break}}}m.length===0&&(m=void 0),this.loader.textureManager.addAtlasJSONArray(this.key,p,v,m),this.complete=!0}}});y.register("multiatlas",function(u,v,p,m,x){var C;if(Array.isArray(u))for(var P=0;P<u.length;P++)C=new c(this,u[P]),this.addFile(C.files);else C=new c(this,u,v,p,m,x),this.addFile(C.files);return this}),n.exports=c}),99297:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(74099),d=r(95540),h=r(41212),l=r(26430),a=r(34328),f=new o({Extends:l,initialize:function(u,v,p,m){var x="js",C=[];if(h(v)){var P=v;v=d(P,"key"),p=d(P,"url"),m=d(P,"xhrSettings"),x=d(P,"extension",x)}Array.isArray(p)||(p=[p]);for(var w=0;w<p.length;w++){var M=new a(u,{key:v+"_"+w.toString(),url:p[w],extension:x,xhrSettings:m});M.onProcess=function(){this.onProcessComplete()},C.push(M)}l.call(this,u,"scripts",v,C)},addToCache:function(){if(this.isReadyToProcess()){for(var c=0;c<this.files.length;c++){var u=this.files[c];u.data=document.createElement("script"),u.data.language="javascript",u.data.type="text/javascript",u.data.defer=!1,u.data.text=u.xhrLoader.responseText,document.head.appendChild(u.data)}this.complete=!0}}});y.register("scripts",function(c,u,v){var p;if(Array.isArray(c))for(var m=0;m<c.length;m++)p=new f(this,c[m]),this.addFile(p.files);else p=new f(this,c,u,v),this.addFile(p.files);return this}),n.exports=f}),41846:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(74099),d=r(95540),h=r(41212),l=r(26430),a=r(85048),f=r(61485),c=r(78776),u=new o({Extends:l,initialize:function(p,m,x,C,P,w){var M,R,A=p.cacheManager.obj;if(h(m)){var L=m;m=d(L,"key"),M=new c(p,{key:m,type:"obj",cache:A,url:d(L,"url"),extension:d(L,"extension","obj"),xhrSettings:d(L,"xhrSettings"),config:{flipUV:d(L,"flipUV",P)}}),C=d(L,"matURL"),C&&(R=new c(p,{key:m,type:"mat",cache:A,url:C,extension:d(L,"matExtension","mat"),xhrSettings:d(L,"xhrSettings")}))}else M=new c(p,{key:m,url:x,type:"obj",cache:A,extension:"obj",xhrSettings:w,config:{flipUV:P}}),C&&(R=new c(p,{key:m,url:C,type:"mat",cache:A,extension:"mat",xhrSettings:w}));l.call(this,p,"obj",m,[M,R])},addToCache:function(){if(this.isReadyToProcess()){var v=this.files[0],p=this.files[1],m=a(v.data,v.config.flipUV);p&&(m.materials=f(p.data)),v.cache.add(v.key,m),this.complete=!0}}});y.register("obj",function(v,p,m,x,C){var P;if(Array.isArray(v))for(var w=0;w<v.length;w++)P=new u(this,v[w]),this.addFile(P.files);else P=new u(this,v,p,m,x,C),this.addFile(P.files);return this}),n.exports=u}),58610:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(23906),d=r(74099),h=r(518),l=new o({Extends:h,initialize:function(f,c,u,v,p){h.call(this,f,c,u,v,p),this.type="packfile"},onProcess:function(){if(this.state!==y.FILE_POPULATED&&(this.state=y.FILE_PROCESSING,this.data=JSON.parse(this.xhrLoader.responseText)),this.data.hasOwnProperty("files")&&this.config){var a={};a[this.config]=this.data,this.data=a}this.loader.addPack(this.data,this.config),this.onProcessComplete()}});d.register("pack",function(a,f,c,u){if(Array.isArray(a))for(var v=0;v<a.length;v++)this.addFile(new l(this,a[v]));else this.addFile(new l(this,a,f,u,c));return this}),n.exports=l}),48988:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(23906),d=r(41299),h=r(74099),l=r(95540),a=r(41212),f=new o({Extends:d,initialize:function(u,v,p,m,x,C){var P="js";if(a(v)){var w=v;v=l(w,"key"),p=l(w,"url"),C=l(w,"xhrSettings"),P=l(w,"extension",P),m=l(w,"start"),x=l(w,"mapping")}var M={type:"plugin",cache:!1,extension:P,responseType:"text",key:v,url:p,xhrSettings:C,config:{start:m,mapping:x}};d.call(this,u,M),typeof p=="function"&&(this.data=p,this.state=y.FILE_POPULATED)},onProcess:function(){var c=this.loader.systems.plugins,u=this.config,v=l(u,"start",!1),p=l(u,"mapping",null);if(this.state===y.FILE_POPULATED)c.install(this.key,this.data,v,p);else{this.state=y.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data);var m=c.install(this.key,window[this.key],v,p);(v||p)&&(this.loader.systems[p]=m,this.loader.scene[p]=m)}this.onProcessComplete()}});h.register("plugin",function(c,u,v,p,m){if(Array.isArray(c))for(var x=0;x<c.length;x++)this.addFile(new f(this,c[x]));else this.addFile(new f(this,c,u,v,p,m));return this}),n.exports=f}),67397:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(23906),d=r(41299),h=r(74099),l=r(95540),a=r(41212),f=new o({Extends:d,initialize:function(u,v,p,m,x){var C="svg";if(a(v)){var P=v;v=l(P,"key"),p=l(P,"url"),m=l(P,"svgConfig",{}),x=l(P,"xhrSettings"),C=l(P,"extension",C)}var w={type:"svg",cache:u.textureManager,extension:C,responseType:"text",key:v,url:p,xhrSettings:x,config:{width:l(m,"width"),height:l(m,"height"),scale:l(m,"scale")}};d.call(this,u,w)},onProcess:function(){this.state=y.FILE_PROCESSING;var c=this.xhrLoader.responseText,u=[c],v=this.config.width,p=this.config.height,m=this.config.scale;t:if(v&&p||m){var x=null,C=new DOMParser;x=C.parseFromString(c,"text/xml");var P=x.getElementsByTagName("svg")[0],w=P.hasAttribute("viewBox"),M=parseFloat(P.getAttribute("width")),R=parseFloat(P.getAttribute("height"));if(!w&&M&&R)P.setAttribute("viewBox","0  0 "+M+" "+R);else if(w&&!M&&!R){var A=P.getAttribute("viewBox").split(/\s+|,/);M=A[2],R=A[3]}if(m)if(M&&R)v=M*m,p=R*m;else break t;P.setAttribute("width",v.toString()+"px"),P.setAttribute("height",p.toString()+"px"),u=[new XMLSerializer().serializeToString(P)]}try{var L=new window.Blob(u,{type:"image/svg+xml;charset=utf-8"})}catch{this.onProcessError();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin;var F=this,G=!1;this.data.onload=function(){G||d.revokeObjectURL(F.data),F.onProcessComplete()},this.data.onerror=function(){G?F.onProcessError():(G=!0,d.revokeObjectURL(F.data),F.data.src="data:image/svg+xml,"+encodeURIComponent(u.join("")))},d.createObjectURL(this.data,L,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});h.register("svg",function(c,u,v,p){if(Array.isArray(c))for(var m=0;m<c.length;m++)this.addFile(new f(this,c[m]));else this.addFile(new f(this,c,u,v,p));return this}),n.exports=f}),88423:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(23906),d=r(41299),h=r(74099),l=r(95540),a=r(41212),f=new o({Extends:d,initialize:function(u,v,p,m){var x="js";if(a(v)){var C=v;v=l(C,"key"),p=l(C,"url"),m=l(C,"xhrSettings"),x=l(C,"extension",x)}var P={type:"text",extension:x,responseType:"text",key:v,url:p,xhrSettings:m};d.call(this,u,P)},onProcess:function(){this.state=y.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var c=this.data.concat(`(function(){
return new `+this.key+`();
}).call(this);`),u=eval;this.loader.sceneManager.add(this.key,u(c)),this.complete=!0}});h.register("sceneFile",function(c,u,v){if(Array.isArray(c))for(var p=0;p<c.length;p++)this.addFile(new f(this,c[p]));else this.addFile(new f(this,c,u,v));return this}),n.exports=f}),56812:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(23906),d=r(41299),h=r(74099),l=r(95540),a=r(41212),f=new o({Extends:d,initialize:function(u,v,p,m,x,C){var P="js";if(a(v)){var w=v;v=l(w,"key"),p=l(w,"url"),C=l(w,"xhrSettings"),P=l(w,"extension",P),m=l(w,"systemKey"),x=l(w,"sceneKey")}var M={type:"scenePlugin",cache:!1,extension:P,responseType:"text",key:v,url:p,xhrSettings:C,config:{systemKey:m,sceneKey:x}};d.call(this,u,M),typeof p=="function"&&(this.data=p,this.state=y.FILE_POPULATED)},onProcess:function(){var c=this.loader.systems.plugins,u=this.config,v=this.key,p=l(u,"systemKey",v),m=l(u,"sceneKey",v);this.state===y.FILE_POPULATED?c.installScenePlugin(p,this.data,m,this.loader.scene,!0):(this.state=y.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),c.installScenePlugin(p,window[this.key],m,this.loader.scene,!0)),this.onProcessComplete()}});h.register("scenePlugin",function(c,u,v,p,m){if(Array.isArray(c))for(var x=0;x<c.length;x++)this.addFile(new f(this,c[x]));else this.addFile(new f(this,c,u,v,p,m));return this}),n.exports=f}),34328:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(23906),d=r(41299),h=r(74099),l=r(95540),a=r(41212),f=new o({Extends:d,initialize:function(u,v,p,m,x){var C="js";if(a(v)){var P=v;v=l(P,"key"),p=l(P,"url"),m=l(P,"type","script"),x=l(P,"xhrSettings"),C=l(P,"extension",C)}else m===void 0&&(m="script");var w={type:m,cache:!1,extension:C,responseType:"text",key:v,url:p,xhrSettings:x};d.call(this,u,w)},onProcess:function(){this.state=y.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});h.register("script",function(c,u,v,p){if(Array.isArray(c))for(var m=0;m<c.length;m++)this.addFile(new f(this,c[m]));else this.addFile(new f(this,c,u,v,p));return this}),n.exports=f}),85035:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(23906),d=r(74099),h=r(19550),l=new o({Extends:h,initialize:function(f,c,u,v,p){h.call(this,f,c,u,p,v),this.type="spritesheet"},addToCache:function(){var a=this.linkFile;a?a.state>=y.FILE_COMPLETE&&(this.type==="normalMap"?this.cache.addSpriteSheet(this.key,a.data,this.config,this.data):this.cache.addSpriteSheet(this.key,this.data,this.config,a.data)):this.cache.addSpriteSheet(this.key,this.data,this.config)}});d.register("spritesheet",function(a,f,c,u){if(Array.isArray(a))for(var v=0;v<a.length;v++)this.addFile(new l(this,a[v]));else this.addFile(new l(this,a,f,c,u));return this}),n.exports=l}),78776:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(23906),d=r(41299),h=r(74099),l=r(95540),a=r(41212),f=new o({Extends:d,initialize:function(u,v,p,m){var x="text",C="txt",P=u.cacheManager.text;if(a(v)){var w=v;v=l(w,"key"),p=l(w,"url"),m=l(w,"xhrSettings"),C=l(w,"extension",C),x=l(w,"type",x),P=l(w,"cache",P)}var M={type:x,cache:P,extension:C,responseType:"text",key:v,url:p,xhrSettings:m};d.call(this,u,M)},onProcess:function(){this.state=y.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});h.register("text",function(c,u,v){if(Array.isArray(c))for(var p=0;p<c.length;p++)this.addFile(new f(this,c[p]));else this.addFile(new f(this,c,u,v));return this}),n.exports=f}),49477:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(23906),d=r(41299),h=r(74099),l=r(95540),a=r(41212),f=r(80341),c=new o({Extends:d,initialize:function(v,p,m,x){var C="csv";if(a(p)){var P=p;p=l(P,"key"),m=l(P,"url"),x=l(P,"xhrSettings"),C=l(P,"extension",C)}var w={type:"tilemapCSV",cache:v.cacheManager.tilemap,extension:C,responseType:"text",key:p,url:m,xhrSettings:x};d.call(this,v,w),this.tilemapFormat=f.CSV},onProcess:function(){this.state=y.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var u={format:this.tilemapFormat,data:this.data};this.cache.add(this.key,u)}});h.register("tilemapCSV",function(u,v,p){if(Array.isArray(u))for(var m=0;m<u.length;m++)this.addFile(new c(this,u[m]));else this.addFile(new c(this,u,v,p));return this}),n.exports=c}),40807:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(74099),d=r(518),h=r(80341),l=new o({Extends:d,initialize:function(f,c,u,v){d.call(this,f,c,u,v),this.type="tilemapJSON",this.cache=f.cacheManager.tilemap},addToCache:function(){var a={format:h.WELTMEISTER,data:this.data};this.cache.add(this.key,a)}});y.register("tilemapImpact",function(a,f,c){if(Array.isArray(a))for(var u=0;u<a.length;u++)this.addFile(new l(this,a[u]));else this.addFile(new l(this,a,f,c));return this}),n.exports=l}),56775:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(74099),d=r(518),h=r(80341),l=new o({Extends:d,initialize:function(f,c,u,v){d.call(this,f,c,u,v),this.type="tilemapJSON",this.cache=f.cacheManager.tilemap},addToCache:function(){var a={format:h.TILED_JSON,data:this.data};this.cache.add(this.key,a)}});y.register("tilemapTiledJSON",function(a,f,c){if(Array.isArray(a))for(var u=0;u<a.length;u++)this.addFile(new l(this,a[u]));else this.addFile(new l(this,a,f,c));return this}),n.exports=l}),25771:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(74099),d=r(95540),h=r(19550),l=r(41212),a=r(26430),f=r(78776),c=new o({Extends:a,initialize:function(v,p,m,x,C,P){var w,M;if(l(p)){var R=p;p=d(R,"key"),w=new h(v,{key:p,url:d(R,"textureURL"),extension:d(R,"textureExtension","png"),normalMap:d(R,"normalMap"),xhrSettings:d(R,"textureXhrSettings")}),M=new f(v,{key:p,url:d(R,"atlasURL"),extension:d(R,"atlasExtension","txt"),xhrSettings:d(R,"atlasXhrSettings")})}else w=new h(v,p,m,C),M=new f(v,p,x,P);w.linkFile?a.call(this,v,"unityatlas",p,[w,M,w.linkFile]):a.call(this,v,"unityatlas",p,[w,M])},addToCache:function(){if(this.isReadyToProcess()){var u=this.files[0],v=this.files[1],p=this.files[2]?this.files[2].data:null;this.loader.textureManager.addUnityAtlas(u.key,u.data,v.data,p),this.complete=!0}}});y.register("unityAtlas",function(u,v,p,m,x){var C;if(Array.isArray(u))for(var P=0;P<u.length;P++)C=new c(this,u[P]),this.addFile(C.files);else C=new c(this,u,v,p,m,x),this.addFile(C.files);return this}),n.exports=c}),33720:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(23906),d=r(41299),h=r(74099),l=r(98356),a=r(95540),f=r(41212),c=new o({Extends:d,initialize:function(v,p,m,x){if(x===void 0&&(x=!1),f(p)){var C=p;p=a(C,"key"),m=a(C,"url",[]),x=a(C,"noAudio",!1)}var P=v.systems.game.device.video.getVideoURL(m);P||console.warn("VideoFile: No supported format for "+p);var w={type:"video",cache:v.cacheManager.video,extension:P.type,key:p,url:P.url,config:{noAudio:x}};d.call(this,v,w)},onProcess:function(){this.data={url:this.src,noAudio:this.config.noAudio,crossOrigin:this.crossOrigin},this.onProcessComplete()},load:function(){this.src=l(this,this.loader.baseURL),this.state=y.FILE_LOADED,this.loader.nextFile(this,!0)}});h.register("video",function(u,v,p){if(Array.isArray(u))for(var m=0;m<u.length;m++)this.addFile(new c(this,u[m]));else this.addFile(new c(this,u,v,p));return this}),n.exports=c}),57318:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(23906),d=r(41299),h=r(74099),l=r(95540),a=r(41212),f=r(56836),c=new o({Extends:d,initialize:function(v,p,m,x){var C="xml";if(a(p)){var P=p;p=l(P,"key"),m=l(P,"url"),x=l(P,"xhrSettings"),C=l(P,"extension",C)}var w={type:"xml",cache:v.cacheManager.xml,extension:C,responseType:"text",key:p,url:m,xhrSettings:x};d.call(this,v,w)},onProcess:function(){this.state=y.FILE_PROCESSING,this.data=f(this.xhrLoader.responseText),this.data?this.onProcessComplete():this.onProcessError()}});h.register("xml",function(u,v,p){if(Array.isArray(u))for(var m=0;m<u.length;m++)this.addFile(new c(this,u[m]));else this.addFile(new c(this,u,v,p));return this}),n.exports=c}),64589:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={AnimationJSONFile:r(14135),AsepriteFile:r(76272),AtlasJSONFile:r(38734),AtlasXMLFile:r(74599),AudioFile:r(21097),AudioSpriteFile:r(89524),BinaryFile:r(85722),BitmapFontFile:r(97025),CompressedTextureFile:r(69559),CSSFile:r(16024),FontFile:r(87674),GLSLFile:r(47931),HTML5AudioFile:r(89749),HTMLFile:r(88470),HTMLTextureFile:r(14643),ImageFile:r(19550),JSONFile:r(518),MultiAtlasFile:r(59327),MultiScriptFile:r(99297),OBJFile:r(41846),PackFile:r(58610),PluginFile:r(48988),SceneFile:r(88423),ScenePluginFile:r(56812),ScriptFile:r(34328),SpriteSheetFile:r(85035),SVGFile:r(67397),TextFile:r(78776),TilemapCSVFile:r(49477),TilemapImpactFile:r(40807),TilemapJSONFile:r(56775),UnityAtlasFile:r(25771),VideoFile:r(33720),XMLFile:r(57318)}}),57777:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(23906),y=r(79291),d={Events:r(54899),FileTypes:r(64589),File:r(41299),FileTypesManager:r(74099),GetURL:r(98356),LoaderPlugin:r(74261),MergeXHRSettings:r(3374),MultiFile:r(26430),XHRLoader:r(84376),XHRSettings:r(92638)};d=y(!1,d,o),n.exports=d}),53307:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){for(var o=0,y=0;y<r.length;y++)o+=+r[y];return o/r.length};n.exports=T}),85710:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(6411),y=function(d,h){return o(d)/o(h)/o(d-h)};n.exports=y}),30976:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return Math.floor(Math.random()*(o-r+1)+r)};n.exports=T}),87842:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y,d,h){var l=(d-o)*.5,a=(h-y)*.5,f=r*r,c=r*f;return(2*y-2*d+l+a)*c+(-3*y+3*d-2*l-a)*f+l*r+y};n.exports=T}),26302:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y){o===void 0&&(o=0),y===void 0&&(y=10);var d=Math.pow(y,-o);return Math.ceil(r*d)/d};n.exports=T}),45319:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y){return Math.max(o,Math.min(y,r))};n.exports=T}),39506:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(36383),y=function(d){return d*o.DEG_TO_RAD};n.exports=y}),61241:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return Math.abs(r-o)};n.exports=T}),38857:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(45319),y=r(83419),d=r(37867),h=r(29747),l=new d,a=new y({initialize:function f(c,u,v,p){c===void 0&&(c=0),u===void 0&&(u=0),v===void 0&&(v=0),p===void 0&&(p=f.DefaultOrder),this._x=c,this._y=u,this._z=v,this._order=p,this.onChangeCallback=h},x:{get:function(){return this._x},set:function(f){this._x=f,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(f){this._y=f,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(f){this._z=f,this.onChangeCallback(this)}},order:{get:function(){return this._order},set:function(f){this._order=f,this.onChangeCallback(this)}},set:function(f,c,u,v){return v===void 0&&(v=this._order),this._x=f,this._y=c,this._z=u,this._order=v,this.onChangeCallback(this),this},copy:function(f){return this.set(f.x,f.y,f.z,f.order)},setFromQuaternion:function(f,c,u){return c===void 0&&(c=this._order),u===void 0&&(u=!1),l.fromQuat(f),this.setFromRotationMatrix(l,c,u)},setFromRotationMatrix:function(f,c,u){c===void 0&&(c=this._order),u===void 0&&(u=!1);var v=f.val,p=v[0],m=v[4],x=v[8],C=v[1],P=v[5],w=v[9],M=v[2],R=v[6],A=v[10],L=0,F=0,G=0,I=.99999;switch(c){case"XYZ":{F=Math.asin(o(x,-1,1)),Math.abs(x)<I?(L=Math.atan2(-w,A),G=Math.atan2(-m,p)):L=Math.atan2(R,P);break}case"YXZ":{L=Math.asin(-o(w,-1,1)),Math.abs(w)<I?(F=Math.atan2(x,A),G=Math.atan2(C,P)):F=Math.atan2(-M,p);break}case"ZXY":{L=Math.asin(o(R,-1,1)),Math.abs(R)<I?(F=Math.atan2(-M,A),G=Math.atan2(-m,P)):G=Math.atan2(C,p);break}case"ZYX":{F=Math.asin(-o(M,-1,1)),Math.abs(M)<I?(L=Math.atan2(R,A),G=Math.atan2(C,p)):G=Math.atan2(-m,P);break}case"YZX":{G=Math.asin(o(C,-1,1)),Math.abs(C)<I?(L=Math.atan2(-w,P),F=Math.atan2(-M,p)):F=Math.atan2(x,A);break}case"XZY":{G=Math.asin(-o(m,-1,1)),Math.abs(m)<I?(L=Math.atan2(R,P),F=Math.atan2(x,p)):L=Math.atan2(-w,A);break}}return this._x=L,this._y=F,this._z=G,this._order=c,u&&this.onChangeCallback(this),this}});a.RotationOrders=["XYZ","YXZ","ZXY","ZYX","YZX","XZY"],a.DefaultOrder="XYZ",n.exports=a}),6411:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){if(r===0)return 1;for(var o=r;--r;)o*=r;return o};n.exports=T}),99472:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return Math.random()*(o-r)+r};n.exports=T}),77623:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y){o===void 0&&(o=0),y===void 0&&(y=10);var d=Math.pow(y,-o);return Math.floor(r*d)/d};n.exports=T}),62945:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(45319),y=function(d,h,l){return d=o(d,0,1),(l-h)*d+h};n.exports=y}),38265:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return r/o/1e3};n.exports=T}),78702:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r==parseFloat(r)?!(r%2):void 0};n.exports=T}),94883:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r===parseFloat(r)?!(r%2):void 0};n.exports=T}),28915:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y){return(o-r)*y+r};n.exports=T}),94908:(n=>{/**
 * @author       Greg McLean <GregDevProjects>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y){return y===void 0&&(y=0),r.clone().lerp(o,y)};n.exports=T}),94434:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=new o({initialize:function(h){this.val=new Float32Array(9),h?this.copy(h):this.identity()},clone:function(){return new y(this)},set:function(d){return this.copy(d)},copy:function(d){var h=this.val,l=d.val;return h[0]=l[0],h[1]=l[1],h[2]=l[2],h[3]=l[3],h[4]=l[4],h[5]=l[5],h[6]=l[6],h[7]=l[7],h[8]=l[8],this},fromMat4:function(d){var h=d.val,l=this.val;return l[0]=h[0],l[1]=h[1],l[2]=h[2],l[3]=h[4],l[4]=h[5],l[5]=h[6],l[6]=h[8],l[7]=h[9],l[8]=h[10],this},fromArray:function(d){var h=this.val;return h[0]=d[0],h[1]=d[1],h[2]=d[2],h[3]=d[3],h[4]=d[4],h[5]=d[5],h[6]=d[6],h[7]=d[7],h[8]=d[8],this},identity:function(){var d=this.val;return d[0]=1,d[1]=0,d[2]=0,d[3]=0,d[4]=1,d[5]=0,d[6]=0,d[7]=0,d[8]=1,this},transpose:function(){var d=this.val,h=d[1],l=d[2],a=d[5];return d[1]=d[3],d[2]=d[6],d[3]=h,d[5]=d[7],d[6]=l,d[7]=a,this},invert:function(){var d=this.val,h=d[0],l=d[1],a=d[2],f=d[3],c=d[4],u=d[5],v=d[6],p=d[7],m=d[8],x=m*c-u*p,C=-m*f+u*v,P=p*f-c*v,w=h*x+l*C+a*P;return w?(w=1/w,d[0]=x*w,d[1]=(-m*l+a*p)*w,d[2]=(u*l-a*c)*w,d[3]=C*w,d[4]=(m*h-a*v)*w,d[5]=(-u*h+a*f)*w,d[6]=P*w,d[7]=(-p*h+l*v)*w,d[8]=(c*h-l*f)*w,this):null},adjoint:function(){var d=this.val,h=d[0],l=d[1],a=d[2],f=d[3],c=d[4],u=d[5],v=d[6],p=d[7],m=d[8];return d[0]=c*m-u*p,d[1]=a*p-l*m,d[2]=l*u-a*c,d[3]=u*v-f*m,d[4]=h*m-a*v,d[5]=a*f-h*u,d[6]=f*p-c*v,d[7]=l*v-h*p,d[8]=h*c-l*f,this},determinant:function(){var d=this.val,h=d[0],l=d[1],a=d[2],f=d[3],c=d[4],u=d[5],v=d[6],p=d[7],m=d[8];return h*(m*c-u*p)+l*(-m*f+u*v)+a*(p*f-c*v)},multiply:function(d){var h=this.val,l=h[0],a=h[1],f=h[2],c=h[3],u=h[4],v=h[5],p=h[6],m=h[7],x=h[8],C=d.val,P=C[0],w=C[1],M=C[2],R=C[3],A=C[4],L=C[5],F=C[6],G=C[7],I=C[8];return h[0]=P*l+w*c+M*p,h[1]=P*a+w*u+M*m,h[2]=P*f+w*v+M*x,h[3]=R*l+A*c+L*p,h[4]=R*a+A*u+L*m,h[5]=R*f+A*v+L*x,h[6]=F*l+G*c+I*p,h[7]=F*a+G*u+I*m,h[8]=F*f+G*v+I*x,this},translate:function(d){var h=this.val,l=d.x,a=d.y;return h[6]=l*h[0]+a*h[3]+h[6],h[7]=l*h[1]+a*h[4]+h[7],h[8]=l*h[2]+a*h[5]+h[8],this},rotate:function(d){var h=this.val,l=h[0],a=h[1],f=h[2],c=h[3],u=h[4],v=h[5],p=Math.sin(d),m=Math.cos(d);return h[0]=m*l+p*c,h[1]=m*a+p*u,h[2]=m*f+p*v,h[3]=m*c-p*l,h[4]=m*u-p*a,h[5]=m*v-p*f,this},scale:function(d){var h=this.val,l=d.x,a=d.y;return h[0]=l*h[0],h[1]=l*h[1],h[2]=l*h[2],h[3]=a*h[3],h[4]=a*h[4],h[5]=a*h[5],this},fromQuat:function(d){var h=d.x,l=d.y,a=d.z,f=d.w,c=h+h,u=l+l,v=a+a,p=h*c,m=h*u,x=h*v,C=l*u,P=l*v,w=a*v,M=f*c,R=f*u,A=f*v,L=this.val;return L[0]=1-(C+w),L[3]=m+A,L[6]=x-R,L[1]=m-A,L[4]=1-(p+w),L[7]=P+M,L[2]=x+R,L[5]=P-M,L[8]=1-(p+C),this},normalFromMat4:function(d){var h=d.val,l=this.val,a=h[0],f=h[1],c=h[2],u=h[3],v=h[4],p=h[5],m=h[6],x=h[7],C=h[8],P=h[9],w=h[10],M=h[11],R=h[12],A=h[13],L=h[14],F=h[15],G=a*p-f*v,I=a*m-c*v,B=a*x-u*v,k=f*m-c*p,U=f*x-u*p,H=c*x-u*m,X=C*A-P*R,j=C*L-w*R,Z=C*F-M*R,Y=P*L-w*A,$=P*F-M*A,z=w*F-M*L,V=G*z-I*$+B*Y+k*Z-U*j+H*X;return V?(V=1/V,l[0]=(p*z-m*$+x*Y)*V,l[1]=(m*Z-v*z-x*j)*V,l[2]=(v*$-p*Z+x*X)*V,l[3]=(c*$-f*z-u*Y)*V,l[4]=(a*z-c*Z+u*j)*V,l[5]=(f*Z-a*$-u*X)*V,l[6]=(A*H-L*U+F*k)*V,l[7]=(L*B-R*H-F*I)*V,l[8]=(R*U-A*B+F*G)*V,this):null}});n.exports=y}),37867:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(25836),d=1e-6,h=new o({initialize:function(p){this.val=new Float32Array(16),p?this.copy(p):this.identity()},clone:function(){return new h(this)},set:function(v){return this.copy(v)},setValues:function(v,p,m,x,C,P,w,M,R,A,L,F,G,I,B,k){var U=this.val;return U[0]=v,U[1]=p,U[2]=m,U[3]=x,U[4]=C,U[5]=P,U[6]=w,U[7]=M,U[8]=R,U[9]=A,U[10]=L,U[11]=F,U[12]=G,U[13]=I,U[14]=B,U[15]=k,this},copy:function(v){var p=v.val;return this.setValues(p[0],p[1],p[2],p[3],p[4],p[5],p[6],p[7],p[8],p[9],p[10],p[11],p[12],p[13],p[14],p[15])},fromArray:function(v){return this.setValues(v[0],v[1],v[2],v[3],v[4],v[5],v[6],v[7],v[8],v[9],v[10],v[11],v[12],v[13],v[14],v[15])},zero:function(){return this.setValues(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)},transform:function(v,p,m){var x=l.fromQuat(m),C=x.val,P=p.x,w=p.y,M=p.z;return this.setValues(C[0]*P,C[1]*P,C[2]*P,0,C[4]*w,C[5]*w,C[6]*w,0,C[8]*M,C[9]*M,C[10]*M,0,v.x,v.y,v.z,1)},xyz:function(v,p,m){this.identity();var x=this.val;return x[12]=v,x[13]=p,x[14]=m,this},scaling:function(v,p,m){this.zero();var x=this.val;return x[0]=v,x[5]=p,x[10]=m,x[15]=1,this},identity:function(){return this.setValues(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},transpose:function(){var v=this.val,p=v[1],m=v[2],x=v[3],C=v[6],P=v[7],w=v[11];return v[1]=v[4],v[2]=v[8],v[3]=v[12],v[4]=p,v[6]=v[9],v[7]=v[13],v[8]=m,v[9]=C,v[11]=v[14],v[12]=x,v[13]=P,v[14]=w,this},getInverse:function(v){return this.copy(v),this.invert()},invert:function(){var v=this.val,p=v[0],m=v[1],x=v[2],C=v[3],P=v[4],w=v[5],M=v[6],R=v[7],A=v[8],L=v[9],F=v[10],G=v[11],I=v[12],B=v[13],k=v[14],U=v[15],H=p*w-m*P,X=p*M-x*P,j=p*R-C*P,Z=m*M-x*w,Y=m*R-C*w,$=x*R-C*M,z=A*B-L*I,V=A*k-F*I,K=A*U-G*I,Q=L*k-F*B,_=L*U-G*B,tt=F*U-G*k,rt=H*tt-X*_+j*Q+Z*K-Y*V+$*z;return rt?(rt=1/rt,this.setValues((w*tt-M*_+R*Q)*rt,(x*_-m*tt-C*Q)*rt,(B*$-k*Y+U*Z)*rt,(F*Y-L*$-G*Z)*rt,(M*K-P*tt-R*V)*rt,(p*tt-x*K+C*V)*rt,(k*j-I*$-U*X)*rt,(A*$-F*j+G*X)*rt,(P*_-w*K+R*z)*rt,(m*K-p*_-C*z)*rt,(I*Y-B*j+U*H)*rt,(L*j-A*Y-G*H)*rt,(w*V-P*Q-M*z)*rt,(p*Q-m*V+x*z)*rt,(B*X-I*Z-k*H)*rt,(A*Z-L*X+F*H)*rt)):this},adjoint:function(){var v=this.val,p=v[0],m=v[1],x=v[2],C=v[3],P=v[4],w=v[5],M=v[6],R=v[7],A=v[8],L=v[9],F=v[10],G=v[11],I=v[12],B=v[13],k=v[14],U=v[15];return this.setValues(w*(F*U-G*k)-L*(M*U-R*k)+B*(M*G-R*F),-(m*(F*U-G*k)-L*(x*U-C*k)+B*(x*G-C*F)),m*(M*U-R*k)-w*(x*U-C*k)+B*(x*R-C*M),-(m*(M*G-R*F)-w*(x*G-C*F)+L*(x*R-C*M)),-(P*(F*U-G*k)-A*(M*U-R*k)+I*(M*G-R*F)),p*(F*U-G*k)-A*(x*U-C*k)+I*(x*G-C*F),-(p*(M*U-R*k)-P*(x*U-C*k)+I*(x*R-C*M)),p*(M*G-R*F)-P*(x*G-C*F)+A*(x*R-C*M),P*(L*U-G*B)-A*(w*U-R*B)+I*(w*G-R*L),-(p*(L*U-G*B)-A*(m*U-C*B)+I*(m*G-C*L)),p*(w*U-R*B)-P*(m*U-C*B)+I*(m*R-C*w),-(p*(w*G-R*L)-P*(m*G-C*L)+A*(m*R-C*w)),-(P*(L*k-F*B)-A*(w*k-M*B)+I*(w*F-M*L)),p*(L*k-F*B)-A*(m*k-x*B)+I*(m*F-x*L),-(p*(w*k-M*B)-P*(m*k-x*B)+I*(m*M-x*w)),p*(w*F-M*L)-P*(m*F-x*L)+A*(m*M-x*w))},determinant:function(){var v=this.val,p=v[0],m=v[1],x=v[2],C=v[3],P=v[4],w=v[5],M=v[6],R=v[7],A=v[8],L=v[9],F=v[10],G=v[11],I=v[12],B=v[13],k=v[14],U=v[15],H=p*w-m*P,X=p*M-x*P,j=p*R-C*P,Z=m*M-x*w,Y=m*R-C*w,$=x*R-C*M,z=A*B-L*I,V=A*k-F*I,K=A*U-G*I,Q=L*k-F*B,_=L*U-G*B,tt=F*U-G*k;return H*tt-X*_+j*Q+Z*K-Y*V+$*z},multiply:function(v){var p=this.val,m=p[0],x=p[1],C=p[2],P=p[3],w=p[4],M=p[5],R=p[6],A=p[7],L=p[8],F=p[9],G=p[10],I=p[11],B=p[12],k=p[13],U=p[14],H=p[15],X=v.val,j=X[0],Z=X[1],Y=X[2],$=X[3];return p[0]=j*m+Z*w+Y*L+$*B,p[1]=j*x+Z*M+Y*F+$*k,p[2]=j*C+Z*R+Y*G+$*U,p[3]=j*P+Z*A+Y*I+$*H,j=X[4],Z=X[5],Y=X[6],$=X[7],p[4]=j*m+Z*w+Y*L+$*B,p[5]=j*x+Z*M+Y*F+$*k,p[6]=j*C+Z*R+Y*G+$*U,p[7]=j*P+Z*A+Y*I+$*H,j=X[8],Z=X[9],Y=X[10],$=X[11],p[8]=j*m+Z*w+Y*L+$*B,p[9]=j*x+Z*M+Y*F+$*k,p[10]=j*C+Z*R+Y*G+$*U,p[11]=j*P+Z*A+Y*I+$*H,j=X[12],Z=X[13],Y=X[14],$=X[15],p[12]=j*m+Z*w+Y*L+$*B,p[13]=j*x+Z*M+Y*F+$*k,p[14]=j*C+Z*R+Y*G+$*U,p[15]=j*P+Z*A+Y*I+$*H,this},multiplyLocal:function(v){var p=this.val,m=v.val;return this.setValues(p[0]*m[0]+p[1]*m[4]+p[2]*m[8]+p[3]*m[12],p[0]*m[1]+p[1]*m[5]+p[2]*m[9]+p[3]*m[13],p[0]*m[2]+p[1]*m[6]+p[2]*m[10]+p[3]*m[14],p[0]*m[3]+p[1]*m[7]+p[2]*m[11]+p[3]*m[15],p[4]*m[0]+p[5]*m[4]+p[6]*m[8]+p[7]*m[12],p[4]*m[1]+p[5]*m[5]+p[6]*m[9]+p[7]*m[13],p[4]*m[2]+p[5]*m[6]+p[6]*m[10]+p[7]*m[14],p[4]*m[3]+p[5]*m[7]+p[6]*m[11]+p[7]*m[15],p[8]*m[0]+p[9]*m[4]+p[10]*m[8]+p[11]*m[12],p[8]*m[1]+p[9]*m[5]+p[10]*m[9]+p[11]*m[13],p[8]*m[2]+p[9]*m[6]+p[10]*m[10]+p[11]*m[14],p[8]*m[3]+p[9]*m[7]+p[10]*m[11]+p[11]*m[15],p[12]*m[0]+p[13]*m[4]+p[14]*m[8]+p[15]*m[12],p[12]*m[1]+p[13]*m[5]+p[14]*m[9]+p[15]*m[13],p[12]*m[2]+p[13]*m[6]+p[14]*m[10]+p[15]*m[14],p[12]*m[3]+p[13]*m[7]+p[14]*m[11]+p[15]*m[15])},premultiply:function(v){return this.multiplyMatrices(v,this)},multiplyMatrices:function(v,p){var m=v.val,x=p.val,C=m[0],P=m[4],w=m[8],M=m[12],R=m[1],A=m[5],L=m[9],F=m[13],G=m[2],I=m[6],B=m[10],k=m[14],U=m[3],H=m[7],X=m[11],j=m[15],Z=x[0],Y=x[4],$=x[8],z=x[12],V=x[1],K=x[5],Q=x[9],_=x[13],tt=x[2],rt=x[6],ot=x[10],ft=x[14],ct=x[3],gt=x[7],xt=x[11],Mt=x[15];return this.setValues(C*Z+P*V+w*tt+M*ct,R*Z+A*V+L*tt+F*ct,G*Z+I*V+B*tt+k*ct,U*Z+H*V+X*tt+j*ct,C*Y+P*K+w*rt+M*gt,R*Y+A*K+L*rt+F*gt,G*Y+I*K+B*rt+k*gt,U*Y+H*K+X*rt+j*gt,C*$+P*Q+w*ot+M*xt,R*$+A*Q+L*ot+F*xt,G*$+I*Q+B*ot+k*xt,U*$+H*Q+X*ot+j*xt,C*z+P*_+w*ft+M*Mt,R*z+A*_+L*ft+F*Mt,G*z+I*_+B*ft+k*Mt,U*z+H*_+X*ft+j*Mt)},translate:function(v){return this.translateXYZ(v.x,v.y,v.z)},translateXYZ:function(v,p,m){var x=this.val;return x[12]=x[0]*v+x[4]*p+x[8]*m+x[12],x[13]=x[1]*v+x[5]*p+x[9]*m+x[13],x[14]=x[2]*v+x[6]*p+x[10]*m+x[14],x[15]=x[3]*v+x[7]*p+x[11]*m+x[15],this},scale:function(v){return this.scaleXYZ(v.x,v.y,v.z)},scaleXYZ:function(v,p,m){var x=this.val;return x[0]=x[0]*v,x[1]=x[1]*v,x[2]=x[2]*v,x[3]=x[3]*v,x[4]=x[4]*p,x[5]=x[5]*p,x[6]=x[6]*p,x[7]=x[7]*p,x[8]=x[8]*m,x[9]=x[9]*m,x[10]=x[10]*m,x[11]=x[11]*m,this},makeRotationAxis:function(v,p){var m=Math.cos(p),x=Math.sin(p),C=1-m,P=v.x,w=v.y,M=v.z,R=C*P,A=C*w;return this.setValues(R*P+m,R*w-x*M,R*M+x*w,0,R*w+x*M,A*w+m,A*M-x*P,0,R*M-x*w,A*M+x*P,C*M*M+m,0,0,0,0,1)},rotate:function(v,p){var m=this.val,x=p.x,C=p.y,P=p.z,w=Math.sqrt(x*x+C*C+P*P);if(Math.abs(w)<d)return this;w=1/w,x*=w,C*=w,P*=w;var M=Math.sin(v),R=Math.cos(v),A=1-R,L=m[0],F=m[1],G=m[2],I=m[3],B=m[4],k=m[5],U=m[6],H=m[7],X=m[8],j=m[9],Z=m[10],Y=m[11],$=m[12],z=m[13],V=m[14],K=m[15],Q=x*x*A+R,_=C*x*A+P*M,tt=P*x*A-C*M,rt=x*C*A-P*M,ot=C*C*A+R,ft=P*C*A+x*M,ct=x*P*A+C*M,gt=C*P*A-x*M,xt=P*P*A+R;return this.setValues(L*Q+B*_+X*tt,F*Q+k*_+j*tt,G*Q+U*_+Z*tt,I*Q+H*_+Y*tt,L*rt+B*ot+X*ft,F*rt+k*ot+j*ft,G*rt+U*ot+Z*ft,I*rt+H*ot+Y*ft,L*ct+B*gt+X*xt,F*ct+k*gt+j*xt,G*ct+U*gt+Z*xt,I*ct+H*gt+Y*xt,$,z,V,K)},rotateX:function(v){var p=this.val,m=Math.sin(v),x=Math.cos(v),C=p[4],P=p[5],w=p[6],M=p[7],R=p[8],A=p[9],L=p[10],F=p[11];return p[4]=C*x+R*m,p[5]=P*x+A*m,p[6]=w*x+L*m,p[7]=M*x+F*m,p[8]=R*x-C*m,p[9]=A*x-P*m,p[10]=L*x-w*m,p[11]=F*x-M*m,this},rotateY:function(v){var p=this.val,m=Math.sin(v),x=Math.cos(v),C=p[0],P=p[1],w=p[2],M=p[3],R=p[8],A=p[9],L=p[10],F=p[11];return p[0]=C*x-R*m,p[1]=P*x-A*m,p[2]=w*x-L*m,p[3]=M*x-F*m,p[8]=C*m+R*x,p[9]=P*m+A*x,p[10]=w*m+L*x,p[11]=M*m+F*x,this},rotateZ:function(v){var p=this.val,m=Math.sin(v),x=Math.cos(v),C=p[0],P=p[1],w=p[2],M=p[3],R=p[4],A=p[5],L=p[6],F=p[7];return p[0]=C*x+R*m,p[1]=P*x+A*m,p[2]=w*x+L*m,p[3]=M*x+F*m,p[4]=R*x-C*m,p[5]=A*x-P*m,p[6]=L*x-w*m,p[7]=F*x-M*m,this},fromRotationTranslation:function(v,p){var m=v.x,x=v.y,C=v.z,P=v.w,w=m+m,M=x+x,R=C+C,A=m*w,L=m*M,F=m*R,G=x*M,I=x*R,B=C*R,k=P*w,U=P*M,H=P*R;return this.setValues(1-(G+B),L+H,F-U,0,L-H,1-(A+B),I+k,0,F+U,I-k,1-(A+G),0,p.x,p.y,p.z,1)},fromQuat:function(v){var p=v.x,m=v.y,x=v.z,C=v.w,P=p+p,w=m+m,M=x+x,R=p*P,A=p*w,L=p*M,F=m*w,G=m*M,I=x*M,B=C*P,k=C*w,U=C*M;return this.setValues(1-(F+I),A+U,L-k,0,A-U,1-(R+I),G+B,0,L+k,G-B,1-(R+F),0,0,0,0,1)},frustum:function(v,p,m,x,C,P){var w=1/(p-v),M=1/(x-m),R=1/(C-P);return this.setValues(C*2*w,0,0,0,0,C*2*M,0,0,(p+v)*w,(x+m)*M,(P+C)*R,-1,0,0,P*C*2*R,0)},perspective:function(v,p,m,x){var C=1/Math.tan(v/2),P=1/(m-x);return this.setValues(C/p,0,0,0,0,C,0,0,0,0,(x+m)*P,-1,0,0,2*x*m*P,0)},perspectiveLH:function(v,p,m,x){return this.setValues(2*m/v,0,0,0,0,2*m/p,0,0,0,0,-x/(m-x),1,0,0,m*x/(m-x),0)},ortho:function(v,p,m,x,C,P){var w=v-p,M=m-x,R=C-P;return w=w===0?w:1/w,M=M===0?M:1/M,R=R===0?R:1/R,this.setValues(-2*w,0,0,0,0,-2*M,0,0,0,0,2*R,0,(v+p)*w,(x+m)*M,(P+C)*R,1)},lookAtRH:function(v,p,m){var x=this.val;return u.subVectors(v,p),u.lengthSq()===0&&(u.z=1),u.normalize(),f.crossVectors(m,u),f.lengthSq()===0&&(Math.abs(m.z)===1?u.x+=1e-4:u.z+=1e-4,u.normalize(),f.crossVectors(m,u)),f.normalize(),c.crossVectors(u,f),x[0]=f.x,x[1]=f.y,x[2]=f.z,x[4]=c.x,x[5]=c.y,x[6]=c.z,x[8]=u.x,x[9]=u.y,x[10]=u.z,this},lookAt:function(v,p,m){var x=v.x,C=v.y,P=v.z,w=m.x,M=m.y,R=m.z,A=p.x,L=p.y,F=p.z;if(Math.abs(x-A)<d&&Math.abs(C-L)<d&&Math.abs(P-F)<d)return this.identity();var G=x-A,I=C-L,B=P-F,k=1/Math.sqrt(G*G+I*I+B*B);G*=k,I*=k,B*=k;var U=M*B-R*I,H=R*G-w*B,X=w*I-M*G;k=Math.sqrt(U*U+H*H+X*X),k?(k=1/k,U*=k,H*=k,X*=k):(U=0,H=0,X=0);var j=I*X-B*H,Z=B*U-G*X,Y=G*H-I*U;return k=Math.sqrt(j*j+Z*Z+Y*Y),k?(k=1/k,j*=k,Z*=k,Y*=k):(j=0,Z=0,Y=0),this.setValues(U,j,G,0,H,Z,I,0,X,Y,B,0,-(U*x+H*C+X*P),-(j*x+Z*C+Y*P),-(G*x+I*C+B*P),1)},yawPitchRoll:function(v,p,m){this.zero(),l.zero(),a.zero();var x=this.val,C=l.val,P=a.val,w=Math.sin(m),M=Math.cos(m);return x[10]=1,x[15]=1,x[0]=M,x[1]=w,x[4]=-w,x[5]=M,w=Math.sin(p),M=Math.cos(p),C[0]=1,C[15]=1,C[5]=M,C[10]=M,C[9]=-w,C[6]=w,w=Math.sin(v),M=Math.cos(v),P[5]=1,P[15]=1,P[0]=M,P[2]=-w,P[8]=w,P[10]=M,this.multiplyLocal(l),this.multiplyLocal(a),this},setWorldMatrix:function(v,p,m,x,C){return this.yawPitchRoll(v.y,v.x,v.z),l.scaling(m.x,m.y,m.z),a.xyz(p.x,p.y,p.z),this.multiplyLocal(l),this.multiplyLocal(a),x&&this.multiplyLocal(x),C&&this.multiplyLocal(C),this},multiplyToMat4:function(v,p){var m=this.val,x=v.val,C=m[0],P=m[1],w=m[2],M=m[3],R=m[4],A=m[5],L=m[6],F=m[7],G=m[8],I=m[9],B=m[10],k=m[11],U=m[12],H=m[13],X=m[14],j=m[15],Z=x[0],Y=x[1],$=x[2],z=x[3],V=x[4],K=x[5],Q=x[6],_=x[7],tt=x[8],rt=x[9],ot=x[10],ft=x[11],ct=x[12],gt=x[13],xt=x[14],Mt=x[15];return p.setValues(Z*C+Y*R+$*G+z*U,Y*P+Y*A+$*I+z*H,$*w+Y*L+$*B+z*X,z*M+Y*F+$*k+z*j,V*C+K*R+Q*G+_*U,V*P+K*A+Q*I+_*H,V*w+K*L+Q*B+_*X,V*M+K*F+Q*k+_*j,tt*C+rt*R+ot*G+ft*U,tt*P+rt*A+ot*I+ft*H,tt*w+rt*L+ot*B+ft*X,tt*M+rt*F+ot*k+ft*j,ct*C+gt*R+xt*G+Mt*U,ct*P+gt*A+xt*I+Mt*H,ct*w+gt*L+xt*B+Mt*X,ct*M+gt*F+xt*k+Mt*j)},fromRotationXYTranslation:function(v,p,m){var x=p.x,C=p.y,P=p.z,w=Math.sin(v.x),M=Math.cos(v.x),R=Math.sin(v.y),A=Math.cos(v.y),L=x,F=C,G=P,I=-w,B=0-I*R,k=0-M*R,U=I*A,H=M*A;return m||(L=A*x+R*P,F=B*x+M*C+U*P,G=k*x+w*C+H*P),this.setValues(A,B,k,0,0,M,w,0,R,U,H,0,L,F,G,1)},getMaxScaleOnAxis:function(){var v=this.val,p=v[0]*v[0]+v[1]*v[1]+v[2]*v[2],m=v[4]*v[4]+v[5]*v[5]+v[6]*v[6],x=v[8]*v[8]+v[9]*v[9]+v[10]*v[10];return Math.sqrt(Math.max(p,m,x))}}),l=new h,a=new h,f=new y,c=new y,u=new y;n.exports=h}),86883:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y){return Math.min(r+o,y)};n.exports=T}),50040:(n=>{/**
 * @author       Vladislav Forsh <vlad@robowhale.com>
 * @copyright    2021 RoboWhale
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){var o=r.length;if(o===0)return 0;r.sort(function(d,h){return d-h});var y=Math.floor(o/2);return o%2===0?(r[y]+r[y-1])/2:r[y]};n.exports=T}),37204:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y){return Math.max(r-o,y)};n.exports=T}),65201:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y,d){y===void 0&&(y=o+1);var h=(r-o)/(y-o);return h>1?d!==void 0?(h=(d-r)/(d-y),h<0&&(h=0)):h=1:h<0&&(h=0),h};n.exports=T}),15746:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(94434),d=r(29747),h=r(25836),l=1e-6,a=new Int8Array([1,2,0]),f=new Float32Array([0,0,0]),c=new h(1,0,0),u=new h(0,1,0),v=new h,p=new y,m=new o({initialize:function(C,P,w,M){this.onChangeCallback=d,this.set(C,P,w,M)},x:{get:function(){return this._x},set:function(x){this._x=x,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(x){this._y=x,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(x){this._z=x,this.onChangeCallback(this)}},w:{get:function(){return this._w},set:function(x){this._w=x,this.onChangeCallback(this)}},copy:function(x){return this.set(x)},set:function(x,C,P,w,M){return M===void 0&&(M=!0),typeof x=="object"?(this._x=x.x||0,this._y=x.y||0,this._z=x.z||0,this._w=x.w||0):(this._x=x||0,this._y=C||0,this._z=P||0,this._w=w||0),M&&this.onChangeCallback(this),this},add:function(x){return this._x+=x.x,this._y+=x.y,this._z+=x.z,this._w+=x.w,this.onChangeCallback(this),this},subtract:function(x){return this._x-=x.x,this._y-=x.y,this._z-=x.z,this._w-=x.w,this.onChangeCallback(this),this},scale:function(x){return this._x*=x,this._y*=x,this._z*=x,this._w*=x,this.onChangeCallback(this),this},length:function(){var x=this.x,C=this.y,P=this.z,w=this.w;return Math.sqrt(x*x+C*C+P*P+w*w)},lengthSq:function(){var x=this.x,C=this.y,P=this.z,w=this.w;return x*x+C*C+P*P+w*w},normalize:function(){var x=this.x,C=this.y,P=this.z,w=this.w,M=x*x+C*C+P*P+w*w;return M>0&&(M=1/Math.sqrt(M),this._x=x*M,this._y=C*M,this._z=P*M,this._w=w*M),this.onChangeCallback(this),this},dot:function(x){return this.x*x.x+this.y*x.y+this.z*x.z+this.w*x.w},lerp:function(x,C){C===void 0&&(C=0);var P=this.x,w=this.y,M=this.z,R=this.w;return this.set(P+C*(x.x-P),w+C*(x.y-w),M+C*(x.z-M),R+C*(x.w-R))},rotationTo:function(x,C){var P=x.x*C.x+x.y*C.y+x.z*C.z;return P<-.999999?(v.copy(c).cross(x).length()<l&&v.copy(u).cross(x),v.normalize(),this.setAxisAngle(v,Math.PI)):P>.999999?this.set(0,0,0,1):(v.copy(x).cross(C),this._x=v.x,this._y=v.y,this._z=v.z,this._w=1+P,this.normalize())},setAxes:function(x,C,P){var w=p.val;return w[0]=C.x,w[3]=C.y,w[6]=C.z,w[1]=P.x,w[4]=P.y,w[7]=P.z,w[2]=-x.x,w[5]=-x.y,w[8]=-x.z,this.fromMat3(p).normalize()},identity:function(){return this.set(0,0,0,1)},setAxisAngle:function(x,C){C=C*.5;var P=Math.sin(C);return this.set(P*x.x,P*x.y,P*x.z,Math.cos(C))},multiply:function(x){var C=this.x,P=this.y,w=this.z,M=this.w,R=x.x,A=x.y,L=x.z,F=x.w;return this.set(C*F+M*R+P*L-w*A,P*F+M*A+w*R-C*L,w*F+M*L+C*A-P*R,M*F-C*R-P*A-w*L)},slerp:function(x,C){var P=this.x,w=this.y,M=this.z,R=this.w,A=x.x,L=x.y,F=x.z,G=x.w,I=P*A+w*L+M*F+R*G;I<0&&(I=-I,A=-A,L=-L,F=-F,G=-G);var B=1-C,k=C;if(1-I>l){var U=Math.acos(I),H=Math.sin(U);B=Math.sin((1-C)*U)/H,k=Math.sin(C*U)/H}return this.set(B*P+k*A,B*w+k*L,B*M+k*F,B*R+k*G)},invert:function(){var x=this.x,C=this.y,P=this.z,w=this.w,M=x*x+C*C+P*P+w*w,R=M?1/M:0;return this.set(-x*R,-C*R,-P*R,w*R)},conjugate:function(){return this._x=-this.x,this._y=-this.y,this._z=-this.z,this.onChangeCallback(this),this},rotateX:function(x){x*=.5;var C=this.x,P=this.y,w=this.z,M=this.w,R=Math.sin(x),A=Math.cos(x);return this.set(C*A+M*R,P*A+w*R,w*A-P*R,M*A-C*R)},rotateY:function(x){x*=.5;var C=this.x,P=this.y,w=this.z,M=this.w,R=Math.sin(x),A=Math.cos(x);return this.set(C*A-w*R,P*A+M*R,w*A+C*R,M*A-P*R)},rotateZ:function(x){x*=.5;var C=this.x,P=this.y,w=this.z,M=this.w,R=Math.sin(x),A=Math.cos(x);return this.set(C*A+P*R,P*A-C*R,w*A+M*R,M*A-w*R)},calculateW:function(){var x=this.x,C=this.y,P=this.z;return this.w=-Math.sqrt(1-x*x-C*C-P*P),this},setFromEuler:function(x,C){var P=x.x/2,w=x.y/2,M=x.z/2,R=Math.cos(P),A=Math.cos(w),L=Math.cos(M),F=Math.sin(P),G=Math.sin(w),I=Math.sin(M);switch(x.order){case"XYZ":{this.set(F*A*L+R*G*I,R*G*L-F*A*I,R*A*I+F*G*L,R*A*L-F*G*I,C);break}case"YXZ":{this.set(F*A*L+R*G*I,R*G*L-F*A*I,R*A*I-F*G*L,R*A*L+F*G*I,C);break}case"ZXY":{this.set(F*A*L-R*G*I,R*G*L+F*A*I,R*A*I+F*G*L,R*A*L-F*G*I,C);break}case"ZYX":{this.set(F*A*L-R*G*I,R*G*L+F*A*I,R*A*I-F*G*L,R*A*L+F*G*I,C);break}case"YZX":{this.set(F*A*L+R*G*I,R*G*L+F*A*I,R*A*I-F*G*L,R*A*L-F*G*I,C);break}case"XZY":{this.set(F*A*L-R*G*I,R*G*L-F*A*I,R*A*I+F*G*L,R*A*L+F*G*I,C);break}}return this},setFromRotationMatrix:function(x){var C=x.val,P=C[0],w=C[4],M=C[8],R=C[1],A=C[5],L=C[9],F=C[2],G=C[6],I=C[10],B=P+A+I,k;return B>0?(k=.5/Math.sqrt(B+1),this.set((G-L)*k,(M-F)*k,(R-w)*k,.25/k)):P>A&&P>I?(k=2*Math.sqrt(1+P-A-I),this.set(.25*k,(w+R)/k,(M+F)/k,(G-L)/k)):A>I?(k=2*Math.sqrt(1+A-P-I),this.set((w+R)/k,.25*k,(L+G)/k,(M-F)/k)):(k=2*Math.sqrt(1+I-P-A),this.set((M+F)/k,(L+G)/k,.25*k,(R-w)/k)),this},fromMat3:function(x){var C=x.val,P=C[0]+C[4]+C[8],w;if(P>0)w=Math.sqrt(P+1),this.w=.5*w,w=.5/w,this._x=(C[7]-C[5])*w,this._y=(C[2]-C[6])*w,this._z=(C[3]-C[1])*w;else{var M=0;C[4]>C[0]&&(M=1),C[8]>C[M*3+M]&&(M=2);var R=a[M],A=a[R];w=Math.sqrt(C[M*3+M]-C[R*3+R]-C[A*3+A]+1),f[M]=.5*w,w=.5/w,f[R]=(C[R*3+M]+C[M*3+R])*w,f[A]=(C[A*3+M]+C[M*3+A])*w,this._x=f[0],this._y=f[1],this._z=f[2],this._w=(C[A*3+R]-C[R*3+A])*w}return this.onChangeCallback(this),this}});n.exports=m}),43396:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(36383),y=function(d){return d*o.RAD_TO_DEG};n.exports=y}),74362:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){o===void 0&&(o=1);var y=Math.random()*2*Math.PI;return r.x=Math.cos(y)*o,r.y=Math.sin(y)*o,r};n.exports=T}),60706:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){o===void 0&&(o=1);var y=Math.random()*2*Math.PI,d=Math.random()*2-1,h=Math.sqrt(1-d*d)*o;return r.x=Math.cos(y)*h,r.y=Math.sin(y)*h,r.z=d*o,r};n.exports=T}),67421:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return o===void 0&&(o=1),r.x=(Math.random()*2-1)*o,r.y=(Math.random()*2-1)*o,r.z=(Math.random()*2-1)*o,r.w=(Math.random()*2-1)*o,r};n.exports=T}),36305:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){var y=r.x,d=r.y;return r.x=y*Math.cos(o)-d*Math.sin(o),r.y=y*Math.sin(o)+d*Math.cos(o),r};n.exports=T}),11520:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y,d){var h=Math.cos(d),l=Math.sin(d),a=r.x-o,f=r.y-y;return r.x=a*h-f*l+o,r.y=a*l+f*h+y,r};n.exports=T}),1163:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y,d,h){var l=d+Math.atan2(r.y-y,r.x-o);return r.x=o+h*Math.cos(l),r.y=y+h*Math.sin(l),r};n.exports=T}),70336:(n=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y,d,h){return r.x=o+h*Math.cos(d),r.y=y+h*Math.sin(d),r};n.exports=T}),72678:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(25836),y=r(37867),d=r(15746),h=new y,l=new d,a=new o,f=function(c,u,v){return l.setAxisAngle(u,v),h.fromRotationTranslation(l,a.set(0,0,0)),c.transformMat4(h)};n.exports=f}),2284:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r>0?Math.ceil(r):Math.floor(r)};n.exports=T}),41013:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y){o===void 0&&(o=0),y===void 0&&(y=10);var d=Math.pow(y,-o);return Math.round(r*d)/d};n.exports=T}),16922:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y,d){o===void 0&&(o=1),y===void 0&&(y=1),d===void 0&&(d=1),d*=Math.PI/r;for(var h=[],l=[],a=0;a<r;a++)y-=o*d,o+=y*d,h[a]=y,l[a]=o;return{sin:l,cos:h,length:r}};n.exports=T}),7602:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y){return r<=o?0:r>=y?1:(r=(r-o)/(y-o),r*r*(3-2*r))};n.exports=T}),54261:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y){return r=Math.max(0,Math.min(1,(r-o)/(y-o))),r*r*r*(r*(r*6-15)+10)};n.exports=T}),44408:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(26099),y=function(d,h,l,a){a===void 0&&(a=new o);var f=0,c=0,u=h*l;return d>0&&d<=u&&(d>h-1?(c=Math.floor(d/h),f=d-c*h):f=d),a.set(f,c)};n.exports=y}),85955:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(26099),y=function(d,h,l,a,f,c,u,v){v===void 0&&(v=new o);var p=Math.sin(f),m=Math.cos(f),x=m*c,C=p*c,P=-p*u,w=m*u,M=1/(x*w+P*-C);return v.x=w*M*d+-P*M*h+(a*P-l*w)*M,v.y=x*M*h+-C*M*d+(-a*x+l*C)*M,v};n.exports=y}),26099:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(43855),d=new o({initialize:function(l,a){this.x=0,this.y=0,typeof l=="object"?(this.x=l.x||0,this.y=l.y||0):(a===void 0&&(a=l),this.x=l||0,this.y=a||0)},clone:function(){return new d(this.x,this.y)},copy:function(h){return this.x=h.x||0,this.y=h.y||0,this},setFromObject:function(h){return this.x=h.x||0,this.y=h.y||0,this},set:function(h,l){return l===void 0&&(l=h),this.x=h,this.y=l,this},setTo:function(h,l){return this.set(h,l)},setToPolar:function(h,l){return l==null&&(l=1),this.x=Math.cos(h)*l,this.y=Math.sin(h)*l,this},equals:function(h){return this.x===h.x&&this.y===h.y},fuzzyEquals:function(h,l){return y(this.x,h.x,l)&&y(this.y,h.y,l)},angle:function(){var h=Math.atan2(this.y,this.x);return h<0&&(h+=2*Math.PI),h},setAngle:function(h){return this.setToPolar(h,this.length())},add:function(h){return this.x+=h.x,this.y+=h.y,this},subtract:function(h){return this.x-=h.x,this.y-=h.y,this},multiply:function(h){return this.x*=h.x,this.y*=h.y,this},scale:function(h){return isFinite(h)?(this.x*=h,this.y*=h):(this.x=0,this.y=0),this},divide:function(h){return this.x/=h.x,this.y/=h.y,this},negate:function(){return this.x=-this.x,this.y=-this.y,this},distance:function(h){var l=h.x-this.x,a=h.y-this.y;return Math.sqrt(l*l+a*a)},distanceSq:function(h){var l=h.x-this.x,a=h.y-this.y;return l*l+a*a},length:function(){var h=this.x,l=this.y;return Math.sqrt(h*h+l*l)},setLength:function(h){return this.normalize().scale(h)},lengthSq:function(){var h=this.x,l=this.y;return h*h+l*l},normalize:function(){var h=this.x,l=this.y,a=h*h+l*l;return a>0&&(a=1/Math.sqrt(a),this.x=h*a,this.y=l*a),this},normalizeRightHand:function(){var h=this.x;return this.x=this.y*-1,this.y=h,this},normalizeLeftHand:function(){var h=this.x;return this.x=this.y,this.y=h*-1,this},dot:function(h){return this.x*h.x+this.y*h.y},cross:function(h){return this.x*h.y-this.y*h.x},lerp:function(h,l){l===void 0&&(l=0);var a=this.x,f=this.y;return this.x=a+l*(h.x-a),this.y=f+l*(h.y-f),this},transformMat3:function(h){var l=this.x,a=this.y,f=h.val;return this.x=f[0]*l+f[3]*a+f[6],this.y=f[1]*l+f[4]*a+f[7],this},transformMat4:function(h){var l=this.x,a=this.y,f=h.val;return this.x=f[0]*l+f[4]*a+f[12],this.y=f[1]*l+f[5]*a+f[13],this},reset:function(){return this.x=0,this.y=0,this},limit:function(h){var l=this.length();return l&&l>h&&this.scale(h/l),this},reflect:function(h){return h=h.clone().normalize(),this.subtract(h.scale(2*this.dot(h)))},mirror:function(h){return this.reflect(h).negate()},rotate:function(h){var l=Math.cos(h),a=Math.sin(h);return this.set(l*this.x-a*this.y,a*this.x+l*this.y)},project:function(h){var l=this.dot(h)/h.dot(h);return this.copy(h).scale(l)}});d.ZERO=new d,d.RIGHT=new d(1,0),d.LEFT=new d(-1,0),d.UP=new d(0,-1),d.DOWN=new d(0,1),d.ONE=new d(1,1),n.exports=d}),25836:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=new o({initialize:function(h,l,a){this.x=0,this.y=0,this.z=0,typeof h=="object"?(this.x=h.x||0,this.y=h.y||0,this.z=h.z||0):(this.x=h||0,this.y=l||0,this.z=a||0)},up:function(){return this.x=0,this.y=1,this.z=0,this},min:function(d){return this.x=Math.min(this.x,d.x),this.y=Math.min(this.y,d.y),this.z=Math.min(this.z,d.z),this},max:function(d){return this.x=Math.max(this.x,d.x),this.y=Math.max(this.y,d.y),this.z=Math.max(this.z,d.z),this},clone:function(){return new y(this.x,this.y,this.z)},addVectors:function(d,h){return this.x=d.x+h.x,this.y=d.y+h.y,this.z=d.z+h.z,this},subVectors:function(d,h){return this.x=d.x-h.x,this.y=d.y-h.y,this.z=d.z-h.z,this},crossVectors:function(d,h){var l=d.x,a=d.y,f=d.z,c=h.x,u=h.y,v=h.z;return this.x=a*v-f*u,this.y=f*c-l*v,this.z=l*u-a*c,this},equals:function(d){return this.x===d.x&&this.y===d.y&&this.z===d.z},copy:function(d){return this.x=d.x,this.y=d.y,this.z=d.z||0,this},set:function(d,h,l){return typeof d=="object"?(this.x=d.x||0,this.y=d.y||0,this.z=d.z||0):(this.x=d||0,this.y=h||0,this.z=l||0),this},setFromMatrixPosition:function(d){return this.fromArray(d.val,12)},setFromMatrixColumn:function(d,h){return this.fromArray(d.val,h*4)},fromArray:function(d,h){return h===void 0&&(h=0),this.x=d[h],this.y=d[h+1],this.z=d[h+2],this},add:function(d){return this.x+=d.x,this.y+=d.y,this.z+=d.z||0,this},addScalar:function(d){return this.x+=d,this.y+=d,this.z+=d,this},addScale:function(d,h){return this.x+=d.x*h,this.y+=d.y*h,this.z+=d.z*h||0,this},subtract:function(d){return this.x-=d.x,this.y-=d.y,this.z-=d.z||0,this},multiply:function(d){return this.x*=d.x,this.y*=d.y,this.z*=d.z||1,this},scale:function(d){return isFinite(d)?(this.x*=d,this.y*=d,this.z*=d):(this.x=0,this.y=0,this.z=0),this},divide:function(d){return this.x/=d.x,this.y/=d.y,this.z/=d.z||1,this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},distance:function(d){var h=d.x-this.x,l=d.y-this.y,a=d.z-this.z||0;return Math.sqrt(h*h+l*l+a*a)},distanceSq:function(d){var h=d.x-this.x,l=d.y-this.y,a=d.z-this.z||0;return h*h+l*l+a*a},length:function(){var d=this.x,h=this.y,l=this.z;return Math.sqrt(d*d+h*h+l*l)},lengthSq:function(){var d=this.x,h=this.y,l=this.z;return d*d+h*h+l*l},normalize:function(){var d=this.x,h=this.y,l=this.z,a=d*d+h*h+l*l;return a>0&&(a=1/Math.sqrt(a),this.x=d*a,this.y=h*a,this.z=l*a),this},dot:function(d){return this.x*d.x+this.y*d.y+this.z*d.z},cross:function(d){var h=this.x,l=this.y,a=this.z,f=d.x,c=d.y,u=d.z;return this.x=l*u-a*c,this.y=a*f-h*u,this.z=h*c-l*f,this},lerp:function(d,h){h===void 0&&(h=0);var l=this.x,a=this.y,f=this.z;return this.x=l+h*(d.x-l),this.y=a+h*(d.y-a),this.z=f+h*(d.z-f),this},applyMatrix3:function(d){var h=this.x,l=this.y,a=this.z,f=d.val;return this.x=f[0]*h+f[3]*l+f[6]*a,this.y=f[1]*h+f[4]*l+f[7]*a,this.z=f[2]*h+f[5]*l+f[8]*a,this},applyMatrix4:function(d){var h=this.x,l=this.y,a=this.z,f=d.val,c=1/(f[3]*h+f[7]*l+f[11]*a+f[15]);return this.x=(f[0]*h+f[4]*l+f[8]*a+f[12])*c,this.y=(f[1]*h+f[5]*l+f[9]*a+f[13])*c,this.z=(f[2]*h+f[6]*l+f[10]*a+f[14])*c,this},transformMat3:function(d){var h=this.x,l=this.y,a=this.z,f=d.val;return this.x=h*f[0]+l*f[3]+a*f[6],this.y=h*f[1]+l*f[4]+a*f[7],this.z=h*f[2]+l*f[5]+a*f[8],this},transformMat4:function(d){var h=this.x,l=this.y,a=this.z,f=d.val;return this.x=f[0]*h+f[4]*l+f[8]*a+f[12],this.y=f[1]*h+f[5]*l+f[9]*a+f[13],this.z=f[2]*h+f[6]*l+f[10]*a+f[14],this},transformCoordinates:function(d){var h=this.x,l=this.y,a=this.z,f=d.val,c=h*f[0]+l*f[4]+a*f[8]+f[12],u=h*f[1]+l*f[5]+a*f[9]+f[13],v=h*f[2]+l*f[6]+a*f[10]+f[14],p=h*f[3]+l*f[7]+a*f[11]+f[15];return this.x=c/p,this.y=u/p,this.z=v/p,this},transformQuat:function(d){var h=this.x,l=this.y,a=this.z,f=d.x,c=d.y,u=d.z,v=d.w,p=v*h+c*a-u*l,m=v*l+u*h-f*a,x=v*a+f*l-c*h,C=-f*h-c*l-u*a;return this.x=p*v+C*-f+m*-u-x*-c,this.y=m*v+C*-c+x*-f-p*-u,this.z=x*v+C*-u+p*-c-m*-f,this},project:function(d){var h=this.x,l=this.y,a=this.z,f=d.val,c=f[0],u=f[1],v=f[2],p=f[3],m=f[4],x=f[5],C=f[6],P=f[7],w=f[8],M=f[9],R=f[10],A=f[11],L=f[12],F=f[13],G=f[14],I=f[15],B=1/(h*p+l*P+a*A+I);return this.x=(h*c+l*m+a*w+L)*B,this.y=(h*u+l*x+a*M+F)*B,this.z=(h*v+l*C+a*R+G)*B,this},projectViewMatrix:function(d,h){return this.applyMatrix4(d).applyMatrix4(h)},unprojectViewMatrix:function(d,h){return this.applyMatrix4(d).applyMatrix4(h)},unproject:function(d,h){var l=d.x,a=d.y,f=d.z,c=d.w,u=this.x-l,v=c-this.y-1-a,p=this.z;return this.x=2*u/f-1,this.y=2*v/c-1,this.z=2*p-1,this.project(h)},reset:function(){return this.x=0,this.y=0,this.z=0,this}});y.ZERO=new y,y.RIGHT=new y(1,0,0),y.LEFT=new y(-1,0,0),y.UP=new y(0,-1,0),y.DOWN=new y(0,1,0),y.FORWARD=new y(0,0,1),y.BACK=new y(0,0,-1),y.ONE=new y(1,1,1),n.exports=y}),61369:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=new o({initialize:function(h,l,a,f){this.x=0,this.y=0,this.z=0,this.w=0,typeof h=="object"?(this.x=h.x||0,this.y=h.y||0,this.z=h.z||0,this.w=h.w||0):(this.x=h||0,this.y=l||0,this.z=a||0,this.w=f||0)},clone:function(){return new y(this.x,this.y,this.z,this.w)},copy:function(d){return this.x=d.x,this.y=d.y,this.z=d.z||0,this.w=d.w||0,this},equals:function(d){return this.x===d.x&&this.y===d.y&&this.z===d.z&&this.w===d.w},set:function(d,h,l,a){return typeof d=="object"?(this.x=d.x||0,this.y=d.y||0,this.z=d.z||0,this.w=d.w||0):(this.x=d||0,this.y=h||0,this.z=l||0,this.w=a||0),this},add:function(d){return this.x+=d.x,this.y+=d.y,this.z+=d.z||0,this.w+=d.w||0,this},subtract:function(d){return this.x-=d.x,this.y-=d.y,this.z-=d.z||0,this.w-=d.w||0,this},scale:function(d){return this.x*=d,this.y*=d,this.z*=d,this.w*=d,this},length:function(){var d=this.x,h=this.y,l=this.z,a=this.w;return Math.sqrt(d*d+h*h+l*l+a*a)},lengthSq:function(){var d=this.x,h=this.y,l=this.z,a=this.w;return d*d+h*h+l*l+a*a},normalize:function(){var d=this.x,h=this.y,l=this.z,a=this.w,f=d*d+h*h+l*l+a*a;return f>0&&(f=1/Math.sqrt(f),this.x=d*f,this.y=h*f,this.z=l*f,this.w=a*f),this},dot:function(d){return this.x*d.x+this.y*d.y+this.z*d.z+this.w*d.w},lerp:function(d,h){h===void 0&&(h=0);var l=this.x,a=this.y,f=this.z,c=this.w;return this.x=l+h*(d.x-l),this.y=a+h*(d.y-a),this.z=f+h*(d.z-f),this.w=c+h*(d.w-c),this},multiply:function(d){return this.x*=d.x,this.y*=d.y,this.z*=d.z||1,this.w*=d.w||1,this},divide:function(d){return this.x/=d.x,this.y/=d.y,this.z/=d.z||1,this.w/=d.w||1,this},distance:function(d){var h=d.x-this.x,l=d.y-this.y,a=d.z-this.z||0,f=d.w-this.w||0;return Math.sqrt(h*h+l*l+a*a+f*f)},distanceSq:function(d){var h=d.x-this.x,l=d.y-this.y,a=d.z-this.z||0,f=d.w-this.w||0;return h*h+l*l+a*a+f*f},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},transformMat4:function(d){var h=this.x,l=this.y,a=this.z,f=this.w,c=d.val;return this.x=c[0]*h+c[4]*l+c[8]*a+c[12]*f,this.y=c[1]*h+c[5]*l+c[9]*a+c[13]*f,this.z=c[2]*h+c[6]*l+c[10]*a+c[14]*f,this.w=c[3]*h+c[7]*l+c[11]*a+c[15]*f,this},transformQuat:function(d){var h=this.x,l=this.y,a=this.z,f=d.x,c=d.y,u=d.z,v=d.w,p=v*h+c*a-u*l,m=v*l+u*h-f*a,x=v*a+f*l-c*h,C=-f*h-c*l-u*a;return this.x=p*v+C*-f+m*-u-x*-c,this.y=m*v+C*-c+x*-f-p*-u,this.z=x*v+C*-u+p*-c-m*-f,this},reset:function(){return this.x=0,this.y=0,this.z=0,this.w=0,this}});y.prototype.sub=y.prototype.subtract,y.prototype.mul=y.prototype.multiply,y.prototype.div=y.prototype.divide,y.prototype.dist=y.prototype.distance,y.prototype.distSq=y.prototype.distanceSq,y.prototype.len=y.prototype.length,y.prototype.lenSq=y.prototype.lengthSq,n.exports=y}),60417:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y){return Math.abs(r-o)<=y};n.exports=T}),15994:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y){var d=y-o;return o+((r-o)%d+d)%d};n.exports=T}),31040:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y,d){return Math.atan2(d-o,y-r)};n.exports=T}),55495:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return Math.atan2(o.y-r.y,o.x-r.x)};n.exports=T}),128:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return Math.atan2(o.x-r.x,o.y-r.y)};n.exports=T}),41273:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y,d){return Math.atan2(y-r,d-o)};n.exports=T}),1432:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(36383),y=function(d){return d>Math.PI&&(d-=o.PI2),Math.abs(((d+o.TAU)%o.PI2-o.PI2)%o.PI2)};n.exports=y}),12407:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r=r%(2*Math.PI),r>=0?r:r+2*Math.PI};n.exports=T}),53993:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       @samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(99472),y=function(){return o(-Math.PI,Math.PI)};n.exports=y}),86564:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       @samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(99472),y=function(){return o(-180,180)};n.exports=y}),90154:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(12407),y=function(d){return o(d+Math.PI)};n.exports=y}),48736:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(36383),y=function(d,h,l){return l===void 0&&(l=.05),d===h||(Math.abs(h-d)<=l||Math.abs(h-d)>=o.PI2-l?d=h:(Math.abs(h-d)>Math.PI&&(h<d?h+=o.PI2:h-=o.PI2),h>d?d+=l:h<d&&(d-=l))),d};n.exports=y}),61430:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){var y=o-r;if(y===0)return 0;var d=Math.floor((y- -180)/360);return y-d*360};n.exports=T}),86554:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(15994),y=function(d){return o(d,-Math.PI,Math.PI)};n.exports=y}),30954:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(15994),y=function(d){return o(d,-180,180)};n.exports=y}),25588:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Between:r(31040),BetweenPoints:r(55495),BetweenPointsY:r(128),BetweenY:r(41273),CounterClockwise:r(1432),Normalize:r(12407),Random:r(53993),RandomDegrees:r(86564),Reverse:r(90154),RotateTo:r(48736),ShortestBetween:r(61430),Wrap:r(86554),WrapDegrees:r(30954)}}),36383:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={PI2:Math.PI*2,TAU:Math.PI*.5,EPSILON:1e-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,RND:null,MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991};n.exports=T}),20339:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y,d){var h=r-y,l=o-d;return Math.sqrt(h*h+l*l)};n.exports=T}),52816:(n=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){var y=r.x-o.x,d=r.y-o.y;return Math.sqrt(y*y+d*d)};n.exports=T}),64559:(n=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){var y=r.x-o.x,d=r.y-o.y;return y*y+d*d};n.exports=T}),82340:(n=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y,d){return Math.max(Math.abs(r-y),Math.abs(o-d))};n.exports=T}),14390:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y,d,h){return h===void 0&&(h=2),Math.sqrt(Math.pow(y-r,h)+Math.pow(d-o,h))};n.exports=T}),2243:(n=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y,d){return Math.abs(r-y)+Math.abs(o-d)};n.exports=T}),89774:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y,d){var h=r-y,l=o-d;return h*h+l*l};n.exports=T}),50994:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Between:r(20339),BetweenPoints:r(52816),BetweenPointsSquared:r(64559),Chebyshev:r(82340),Power:r(14390),Snake:r(2243),Squared:r(89774)}}),62640:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(54178),y=r(41521),d=r(79980),h=r(85433),l=r(99140),a=r(48857),f=r(81596),c=r(59133),u=r(98516),v=r(35248),p=r(82500),m=r(49752);n.exports={Power0:f,Power1:c.Out,Power2:h.Out,Power3:u.Out,Power4:v.Out,Linear:f,Quad:c.Out,Cubic:h.Out,Quart:u.Out,Quint:v.Out,Sine:p.Out,Expo:a.Out,Circ:d.Out,Elastic:l.Out,Back:o.Out,Bounce:y.Out,Stepped:m,"Quad.easeIn":c.In,"Cubic.easeIn":h.In,"Quart.easeIn":u.In,"Quint.easeIn":v.In,"Sine.easeIn":p.In,"Expo.easeIn":a.In,"Circ.easeIn":d.In,"Elastic.easeIn":l.In,"Back.easeIn":o.In,"Bounce.easeIn":y.In,"Quad.easeOut":c.Out,"Cubic.easeOut":h.Out,"Quart.easeOut":u.Out,"Quint.easeOut":v.Out,"Sine.easeOut":p.Out,"Expo.easeOut":a.Out,"Circ.easeOut":d.Out,"Elastic.easeOut":l.Out,"Back.easeOut":o.Out,"Bounce.easeOut":y.Out,"Quad.easeInOut":c.InOut,"Cubic.easeInOut":h.InOut,"Quart.easeInOut":u.InOut,"Quint.easeInOut":v.InOut,"Sine.easeInOut":p.InOut,"Expo.easeInOut":a.InOut,"Circ.easeInOut":d.InOut,"Elastic.easeInOut":l.InOut,"Back.easeInOut":o.InOut,"Bounce.easeInOut":y.InOut}}),1639:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return o===void 0&&(o=1.70158),r*r*((o+1)*r-o)};n.exports=T}),50099:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){o===void 0&&(o=1.70158);var y=o*1.525;return(r*=2)<1?.5*(r*r*((y+1)*r-y)):.5*((r-=2)*r*((y+1)*r+y)+2)};n.exports=T}),41286:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return o===void 0&&(o=1.70158),--r*r*((o+1)*r+o)+1};n.exports=T}),54178:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={In:r(1639),Out:r(41286),InOut:r(50099)}}),59590:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r=1-r,r<.36363636363636365?1-7.5625*r*r:r<.7272727272727273?1-(7.5625*(r-=.5454545454545454)*r+.75):r<.9090909090909091?1-(7.5625*(r-=.8181818181818182)*r+.9375):1-(7.5625*(r-=.9545454545454546)*r+.984375)};n.exports=T}),41788:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){var o=!1;return r<.5?(r=1-r*2,o=!0):r=r*2-1,r<.36363636363636365?r=7.5625*r*r:r<.7272727272727273?r=7.5625*(r-=.5454545454545454)*r+.75:r<.9090909090909091?r=7.5625*(r-=.8181818181818182)*r+.9375:r=7.5625*(r-=.9545454545454546)*r+.984375,o?(1-r)*.5:r*.5+.5};n.exports=T}),69905:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r<.36363636363636365?7.5625*r*r:r<.7272727272727273?7.5625*(r-=.5454545454545454)*r+.75:r<.9090909090909091?7.5625*(r-=.8181818181818182)*r+.9375:7.5625*(r-=.9545454545454546)*r+.984375};n.exports=T}),41521:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={In:r(59590),Out:r(69905),InOut:r(41788)}}),91861:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return 1-Math.sqrt(1-r*r)};n.exports=T}),4177:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return(r*=2)<1?-.5*(Math.sqrt(1-r*r)-1):.5*(Math.sqrt(1-(r-=2)*r)+1)};n.exports=T}),57512:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return Math.sqrt(1- --r*r)};n.exports=T}),79980:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={In:r(91861),Out:r(57512),InOut:r(4177)}}),51150:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r*r*r};n.exports=T}),82820:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return(r*=2)<1?.5*r*r*r:.5*((r-=2)*r*r+2)};n.exports=T}),35033:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return--r*r*r+1};n.exports=T}),85433:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={In:r(51150),Out:r(35033),InOut:r(82820)}}),69965:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y){if(o===void 0&&(o=.1),y===void 0&&(y=.1),r===0)return 0;if(r===1)return 1;var d=y/4;return o<1?o=1:d=y*Math.asin(1/o)/(2*Math.PI),-(o*Math.pow(2,10*(r-=1))*Math.sin((r-d)*(2*Math.PI)/y))};n.exports=T}),50665:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y){if(o===void 0&&(o=.1),y===void 0&&(y=.1),r===0)return 0;if(r===1)return 1;var d=y/4;return o<1?o=1:d=y*Math.asin(1/o)/(2*Math.PI),(r*=2)<1?-.5*(o*Math.pow(2,10*(r-=1))*Math.sin((r-d)*(2*Math.PI)/y)):o*Math.pow(2,-10*(r-=1))*Math.sin((r-d)*(2*Math.PI)/y)*.5+1};n.exports=T}),7744:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y){if(o===void 0&&(o=.1),y===void 0&&(y=.1),r===0)return 0;if(r===1)return 1;var d=y/4;return o<1?o=1:d=y*Math.asin(1/o)/(2*Math.PI),o*Math.pow(2,-10*r)*Math.sin((r-d)*(2*Math.PI)/y)+1};n.exports=T}),99140:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={In:r(69965),Out:r(7744),InOut:r(50665)}}),24590:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return Math.pow(2,10*(r-1))-.001};n.exports=T}),87844:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return(r*=2)<1?.5*Math.pow(2,10*(r-1)):.5*(2-Math.pow(2,-10*(r-1)))};n.exports=T}),89433:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return 1-Math.pow(2,-10*r)};n.exports=T}),48857:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={In:r(24590),Out:r(89433),InOut:r(87844)}}),48820:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Back:r(54178),Bounce:r(41521),Circular:r(79980),Cubic:r(85433),Elastic:r(99140),Expo:r(48857),Linear:r(81596),Quadratic:r(59133),Quartic:r(98516),Quintic:r(35248),Sine:r(82500),Stepped:r(49752)}}),7147:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r};n.exports=T}),81596:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports=r(7147)}),34826:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r*r};n.exports=T}),20544:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return(r*=2)<1?.5*r*r:-.5*(--r*(r-2)-1)};n.exports=T}),92029:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r*(2-r)};n.exports=T}),59133:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={In:r(34826),Out:r(92029),InOut:r(20544)}}),64413:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r*r*r*r};n.exports=T}),78137:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return(r*=2)<1?.5*r*r*r*r:-.5*((r-=2)*r*r*r-2)};n.exports=T}),45840:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return 1- --r*r*r*r};n.exports=T}),98516:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={In:r(64413),Out:r(45840),InOut:r(78137)}}),87745:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r*r*r*r*r};n.exports=T}),16509:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return(r*=2)<1?.5*r*r*r*r*r:.5*((r-=2)*r*r*r*r+2)};n.exports=T}),17868:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return--r*r*r*r*r+1};n.exports=T}),35248:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={In:r(87745),Out:r(17868),InOut:r(16509)}}),80461:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r===0?0:r===1?1:1-Math.cos(r*Math.PI/2)};n.exports=T}),34025:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r===0?0:r===1?1:.5*(1-Math.cos(Math.PI*r))};n.exports=T}),52768:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r===0?0:r===1?1:Math.sin(r*Math.PI/2)};n.exports=T}),82500:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={In:r(80461),Out:r(52768),InOut:r(34025)}}),72251:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return o===void 0&&(o=1),r<=0?0:r>=1?1:((o*r|0)+1)*(1/o)};n.exports=T}),49752:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports=r(72251)}),75698:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return o===void 0&&(o=1e-4),Math.ceil(r-o)};n.exports=T}),43855:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y){return y===void 0&&(y=1e-4),Math.abs(r-o)<y};n.exports=T}),25777:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return o===void 0&&(o=1e-4),Math.floor(r+o)};n.exports=T}),5470:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y){return y===void 0&&(y=1e-4),r>o-y};n.exports=T}),94977:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y){return y===void 0&&(y=1e-4),r<o+y};n.exports=T}),48379:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Ceil:r(75698),Equal:r(43855),Floor:r(25777),GreaterThan:r(5470),LessThan:r(94977)}}),75508:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(36383),y=r(79291),d={Angle:r(25588),Distance:r(50994),Easing:r(48820),Fuzzy:r(48379),Interpolation:r(38289),Pow2:r(49001),Snap:r(73697),RandomDataGenerator:r(28453),Average:r(53307),Bernstein:r(85710),Between:r(30976),CatmullRom:r(87842),CeilTo:r(26302),Clamp:r(45319),DegToRad:r(39506),Difference:r(61241),Euler:r(38857),Factorial:r(6411),FloatBetween:r(99472),FloorTo:r(77623),FromPercent:r(62945),GetSpeed:r(38265),IsEven:r(78702),IsEvenStrict:r(94883),Linear:r(28915),LinearXY:r(94908),MaxAdd:r(86883),Median:r(50040),MinSub:r(37204),Percent:r(65201),RadToDeg:r(43396),RandomXY:r(74362),RandomXYZ:r(60706),RandomXYZW:r(67421),Rotate:r(36305),RotateAround:r(11520),RotateAroundDistance:r(1163),RotateTo:r(70336),RoundAwayFromZero:r(2284),RoundTo:r(41013),SinCosTableGenerator:r(16922),SmootherStep:r(54261),SmoothStep:r(7602),ToXY:r(44408),TransformXY:r(85955),Within:r(60417),Wrap:r(15994),Vector2:r(26099),Vector3:r(25836),Vector4:r(61369),Matrix3:r(94434),Matrix4:r(37867),Quaternion:r(15746),RotateVec3:r(72678)};d=y(!1,d,o),n.exports=d}),89318:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(85710),y=function(d,h){for(var l=0,a=d.length-1,f=0;f<=a;f++)l+=Math.pow(1-h,a-f)*Math.pow(h,f)*d[f]*o(a,f);return l};n.exports=y}),77259:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(87842),y=function(d,h){var l=d.length-1,a=l*h,f=Math.floor(a);return d[0]===d[l]?(h<0&&(f=Math.floor(a=l*(1+h))),o(a-f,d[(f-1+l)%l],d[f],d[(f+1)%l],d[(f+2)%l])):h<0?d[0]-(o(-a,d[0],d[0],d[1],d[1])-d[0]):h>1?d[l]-(o(a-l,d[l],d[l],d[l-1],d[l-1])-d[l]):o(a-f,d[f?f-1:0],d[f],d[l<f+1?l:f+1],d[l<f+2?l:f+2])};n.exports=y}),36316:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function T(h,l){var a=1-h;return a*a*a*l}function r(h,l){var a=1-h;return 3*a*a*h*l}function o(h,l){return 3*(1-h)*h*h*l}function y(h,l){return h*h*h*l}var d=function(h,l,a,f,c){return T(h,l)+r(h,a)+o(h,f)+y(h,c)};n.exports=d}),28392:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(28915),y=function(d,h){var l=d.length-1,a=l*h,f=Math.floor(a);return h<0?o(d[0],d[1],a):h>1?o(d[l],d[l-1],l-a):o(d[f],d[f+1>l?l:f+1],a-f)};n.exports=y}),32112:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function T(d,h){var l=1-d;return l*l*h}function r(d,h){return 2*(1-d)*d*h}function o(d,h){return d*d*h}var y=function(d,h,l,a){return T(d,h)+r(d,l)+o(d,a)};n.exports=y}),47235:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(7602),y=function(d,h,l){return h+(l-h)*o(d,0,1)};n.exports=y}),50178:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(54261),y=function(d,h,l){return h+(l-h)*o(d,0,1)};n.exports=y}),38289:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Bezier:r(89318),CatmullRom:r(77259),CubicBezier:r(36316),Linear:r(28392),QuadraticBezier:r(32112),SmoothStep:r(47235),SmootherStep:r(50178)}}),98439:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){var o=Math.log(r)/.6931471805599453;return 1<<Math.ceil(o)};n.exports=T}),50030:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return r>0&&(r&r-1)===0&&o>0&&(o&o-1)===0};n.exports=T}),81230:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r>0&&(r&r-1)===0};n.exports=T}),49001:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={GetNext:r(98439),IsSize:r(50030),IsValue:r(81230)}}),28453:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=new o({initialize:function(h){h===void 0&&(h=[(Date.now()*Math.random()).toString()]),this.c=1,this.s0=0,this.s1=0,this.s2=0,this.n=0,this.signs=[-1,1],h&&this.init(h)},rnd:function(){var d=2091639*this.s0+this.c*23283064365386963e-26;return this.c=d|0,this.s0=this.s1,this.s1=this.s2,this.s2=d-this.c,this.s2},hash:function(d){var h,l=this.n;d=d.toString();for(var a=0;a<d.length;a++)l+=d.charCodeAt(a),h=.02519603282416938*l,l=h>>>0,h-=l,h*=l,l=h>>>0,h-=l,l+=h*4294967296;return this.n=l,(l>>>0)*23283064365386963e-26},init:function(d){typeof d=="string"?this.state(d):this.sow(d)},sow:function(d){if(this.n=4022871197,this.s0=this.hash(" "),this.s1=this.hash(" "),this.s2=this.hash(" "),this.c=1,!!d)for(var h=0;h<d.length&&d[h]!=null;h++){var l=d[h];this.s0-=this.hash(l),this.s0+=~~(this.s0<0),this.s1-=this.hash(l),this.s1+=~~(this.s1<0),this.s2-=this.hash(l),this.s2+=~~(this.s2<0)}},integer:function(){return this.rnd()*4294967296},frac:function(){return this.rnd()+(this.rnd()*2097152|0)*11102230246251565e-32},real:function(){return this.integer()+this.frac()},integerInRange:function(d,h){return Math.floor(this.realInRange(0,h-d+1)+d)},between:function(d,h){return Math.floor(this.realInRange(0,h-d+1)+d)},realInRange:function(d,h){return this.frac()*(h-d)+d},normal:function(){return 1-2*this.frac()},uuid:function(){var d="",h="";for(h=d="";d++<36;h+=~d%5|d*3&4?(d^15?8^this.frac()*(d^20?16:4):4).toString(16):"-");return h},pick:function(d){return d[this.integerInRange(0,d.length-1)]},sign:function(){return this.pick(this.signs)},weightedPick:function(d){return d[~~(Math.pow(this.frac(),2)*(d.length-.5)+.5)]},timestamp:function(d,h){return this.realInRange(d||9466848e5,h||1577862e6)},angle:function(){return this.integerInRange(-180,180)},rotation:function(){return this.realInRange(-3.1415926,3.1415926)},state:function(d){return typeof d=="string"&&d.match(/^!rnd/)&&(d=d.split(","),this.c=parseFloat(d[1]),this.s0=parseFloat(d[2]),this.s1=parseFloat(d[3]),this.s2=parseFloat(d[4])),["!rnd",this.c,this.s0,this.s1,this.s2].join(",")},shuffle:function(d){for(var h=d.length-1,l=h;l>0;l--){var a=Math.floor(this.frac()*(l+1)),f=d[a];d[a]=d[l],d[l]=f}return d}});n.exports=y}),63448:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y,d){return y===void 0&&(y=0),o===0?r:(r-=y,r=o*Math.ceil(r/o),d?(y+r)/o:y+r)};n.exports=T}),56583:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y,d){return y===void 0&&(y=0),o===0?r:(r-=y,r=o*Math.floor(r/o),d?(y+r)/o:y+r)};n.exports=T}),77720:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y,d){return y===void 0&&(y=0),o===0?r:(r-=y,r=o*Math.round(r/o),d?(y+r)/o:y+r)};n.exports=T}),73697:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Ceil:r(63448),Floor:r(56583),To:r(77720)}}),85454:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r(63595);var o=r(8054),y=r(79291),d={Actions:r(61061),Animations:r(60421),BlendModes:r(10312),Cache:r(83388),Cameras:r(26638),Core:r(42857),Class:r(83419),Create:r(15822),Curves:r(25410),Data:r(44965),Display:r(27460),DOM:r(84902),Events:r(93055),FX:r(66064),Game:r(50127),GameObjects:r(77856),Geom:r(55738),Input:r(14350),Loader:r(57777),Math:r(75508),Physics:r(44563),Plugins:r(18922),Renderer:r(36909),Scale:r(93364),ScaleModes:r(29795),Scene:r(97482),Scenes:r(62194),Structs:r(41392),Textures:r(27458),Tilemaps:r(62501),Time:r(90291),Tweens:r(43066),Utils:r(91799)};d.Sound=r(23717),d=y(!1,d,o),n.exports=d,r.g.Phaser=d}),71289:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(92209),d=r(88571),h=new o({Extends:d,Mixins:[y.Acceleration,y.Angular,y.Bounce,y.Collision,y.Debug,y.Drag,y.Enable,y.Friction,y.Gravity,y.Immovable,y.Mass,y.Pushable,y.Size,y.Velocity],initialize:function(a,f,c,u,v){d.call(this,a,f,c,u,v),this.body=null}});n.exports=h}),86689:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(39506),d=r(20339),h=r(89774),l=r(66022),a=r(95540),f=r(46975),c=r(72441),u=r(47956),v=r(37277),p=r(44594),m=r(26099),x=r(82248),C=new o({initialize:function(w){this.scene=w,this.systems=w.sys,this.config=this.getConfig(),this.world,this.add,this._category=1,w.sys.events.once(p.BOOT,this.boot,this),w.sys.events.on(p.START,this.start,this)},boot:function(){this.world=new x(this.scene,this.config),this.add=new l(this.world),this.systems.events.once(p.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new x(this.scene,this.config),this.add=new l(this.world));var P=this.systems.events;a(this.config,"customUpdate",!1)||P.on(p.UPDATE,this.world.update,this.world),P.on(p.POST_UPDATE,this.world.postUpdate,this.world),P.once(p.SHUTDOWN,this.shutdown,this)},enableUpdate:function(){this.systems.events.on(p.UPDATE,this.world.update,this.world)},disableUpdate:function(){this.systems.events.off(p.UPDATE,this.world.update,this.world)},getConfig:function(){var P=this.systems.game.config.physics,w=this.systems.settings.physics,M=f(a(w,"arcade",{}),a(P,"arcade",{}));return M},nextCategory:function(){return this._category=this._category<<1,this._category},overlap:function(P,w,M,R,A){return M===void 0&&(M=null),R===void 0&&(R=null),A===void 0&&(A=M),this.world.collideObjects(P,w,M,R,A,!0)},collide:function(P,w,M,R,A){return M===void 0&&(M=null),R===void 0&&(R=null),A===void 0&&(A=M),this.world.collideObjects(P,w,M,R,A,!1)},collideTiles:function(P,w,M,R,A){return this.world.collideTiles(P,w,M,R,A)},overlapTiles:function(P,w,M,R,A){return this.world.overlapTiles(P,w,M,R,A)},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},accelerateTo:function(P,w,M,R,A,L){R===void 0&&(R=60);var F=Math.atan2(M-P.y,w-P.x);return P.body.acceleration.setToPolar(F,R),A!==void 0&&L!==void 0&&P.body.maxVelocity.set(A,L),F},accelerateToObject:function(P,w,M,R,A){return this.accelerateTo(P,w.x,w.y,M,R,A)},closest:function(P,w){w||(w=this.world.bodies.entries);for(var M=Number.MAX_VALUE,R=null,A=P.x,L=P.y,F=w.length,G=0;G<F;G++){var I=w[G],B=I.body||I;if(!(P===I||P===B||P===B.gameObject||P===B.center)){var k=h(A,L,B.center.x,B.center.y);k<M&&(R=I,M=k)}}return R},furthest:function(P,w){w||(w=this.world.bodies.entries);for(var M=-1,R=null,A=P.x,L=P.y,F=w.length,G=0;G<F;G++){var I=w[G],B=I.body||I;if(!(P===I||P===B||P===B.gameObject||P===B.center)){var k=h(A,L,B.center.x,B.center.y);k>M&&(R=I,M=k)}}return R},moveTo:function(P,w,M,R,A){R===void 0&&(R=60),A===void 0&&(A=0);var L=Math.atan2(M-P.y,w-P.x);return A>0&&(R=d(P.x,P.y,w,M)/(A/1e3)),P.body.velocity.setToPolar(L,R),L},moveToObject:function(P,w,M,R){return this.moveTo(P,w.x,w.y,M,R)},velocityFromAngle:function(P,w,M){return w===void 0&&(w=60),M===void 0&&(M=new m),M.setToPolar(y(P),w)},velocityFromRotation:function(P,w,M){return w===void 0&&(w=60),M===void 0&&(M=new m),M.setToPolar(P,w)},overlapRect:function(P,w,M,R,A,L){return u(this.world,P,w,M,R,A,L)},overlapCirc:function(P,w,M,R,A){return c(this.world,P,w,M,R,A)},shutdown:function(){if(this.world){var P=this.systems.events;P.off(p.UPDATE,this.world.update,this.world),P.off(p.POST_UPDATE,this.world.postUpdate,this.world),P.off(p.SHUTDOWN,this.shutdown,this),this.add.destroy(),this.world.destroy(),this.add=null,this.world=null,this._category=1}},destroy:function(){this.shutdown(),this.scene.sys.events.off(p.START,this.start,this),this.scene=null,this.systems=null}});v.register("ArcadePhysics",C,"arcadePhysics"),n.exports=C}),13759:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(92209),d=r(68287),h=new o({Extends:d,Mixins:[y.Acceleration,y.Angular,y.Bounce,y.Collision,y.Debug,y.Drag,y.Enable,y.Friction,y.Gravity,y.Immovable,y.Mass,y.Pushable,y.Size,y.Velocity],initialize:function(a,f,c,u,v){d.call(this,a,f,c,u,v),this.body=null}});n.exports=h}),37742:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(78389),d=r(37747),h=r(63012),l=r(43396),a=r(87841),f=r(37303),c=r(95829),u=r(26099),v=new o({Mixins:[y],initialize:function(m,x){var C=64,P=64,w={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},M=x!==void 0;M&&x.displayWidth&&(C=x.displayWidth,P=x.displayHeight),M||(x=w),this.world=m,this.gameObject=M?x:void 0,this.isBody=!0,this.transform={x:x.x,y:x.y,rotation:x.angle,scaleX:x.scaleX,scaleY:x.scaleY,displayOriginX:x.displayOriginX,displayOriginY:x.displayOriginY},this.debugShowBody=m.defaults.debugShowBody,this.debugShowVelocity=m.defaults.debugShowVelocity,this.debugBodyColor=m.defaults.bodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new u,this.position=new u(x.x-x.scaleX*x.displayOriginX,x.y-x.scaleY*x.displayOriginY),this.prev=this.position.clone(),this.prevFrame=this.position.clone(),this.allowRotation=!0,this.rotation=x.angle,this.preRotation=x.angle,this.width=C,this.height=P,this.sourceWidth=C,this.sourceHeight=P,x.frame&&(this.sourceWidth=x.frame.realWidth,this.sourceHeight=x.frame.realHeight),this.halfWidth=Math.abs(C/2),this.halfHeight=Math.abs(P/2),this.center=new u(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=new u,this.newVelocity=new u,this.deltaMax=new u,this.acceleration=new u,this.allowDrag=!0,this.drag=new u,this.allowGravity=!0,this.gravity=new u,this.bounce=new u,this.worldBounce=null,this.customBoundsRectangle=m.bounds,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.maxVelocity=new u(1e4,1e4),this.maxSpeed=-1,this.friction=new u(1,0),this.useDamping=!1,this.angularVelocity=0,this.angularAcceleration=0,this.angularDrag=0,this.maxAngular=1e3,this.mass=1,this.angle=0,this.speed=0,this.facing=d.FACING_NONE,this.immovable=!1,this.pushable=!0,this.slideFactor=new u(1,1),this.moves=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=c(!1),this.touching=c(!0),this.wasTouching=c(!0),this.blocked=c(!0),this.syncBounds=!1,this.physicsType=d.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._sx=x.scaleX,this._sy=x.scaleY,this._dx=0,this._dy=0,this._tx=0,this._ty=0,this._bounds=new a,this.directControl=!1,this.autoFrame=this.position.clone()},updateBounds:function(){var p=this.gameObject,m=this.transform;if(p.parentContainer){var x=p.getWorldTransformMatrix(this.world._tempMatrix,this.world._tempMatrix2);m.x=x.tx,m.y=x.ty,m.rotation=l(x.rotation),m.scaleX=x.scaleX,m.scaleY=x.scaleY,m.displayOriginX=p.displayOriginX,m.displayOriginY=p.displayOriginY}else m.x=p.x,m.y=p.y,m.rotation=p.angle,m.scaleX=p.scaleX,m.scaleY=p.scaleY,m.displayOriginX=p.displayOriginX,m.displayOriginY=p.displayOriginY;var C=!1;if(this.syncBounds){var P=p.getBounds(this._bounds);this.width=P.width,this.height=P.height,C=!0}else{var w=Math.abs(m.scaleX),M=Math.abs(m.scaleY);(this._sx!==w||this._sy!==M)&&(this.width=this.sourceWidth*w,this.height=this.sourceHeight*M,this._sx=w,this._sy=M,C=!0)}C&&(this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter())},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},updateFromGameObject:function(){this.updateBounds();var p=this.transform;this.position.x=p.x+p.scaleX*(this.offset.x-p.displayOriginX),this.position.y=p.y+p.scaleY*(this.offset.y-p.displayOriginY),this.updateCenter()},resetFlags:function(p){p===void 0&&(p=!1);var m=this.wasTouching,x=this.touching,C=this.blocked;p?c(!0,m):(m.none=x.none,m.up=x.up,m.down=x.down,m.left=x.left,m.right=x.right),c(!0,x),c(!0,C),this.overlapR=0,this.overlapX=0,this.overlapY=0,this.embedded=!1},preUpdate:function(p,m){if(p&&this.resetFlags(),this.gameObject&&this.updateFromGameObject(),this.rotation=this.transform.rotation,this.preRotation=this.rotation,this.moves){var x=this.position;this.prev.x=x.x,this.prev.y=x.y,this.prevFrame.x=x.x,this.prevFrame.y=x.y}p&&this.update(m)},update:function(p){var m=this.prev,x=this.position,C=this.velocity;if(m.set(x.x,x.y),!this.moves){this._dx=x.x-m.x,this._dy=x.y-m.y;return}if(this.directControl){var P=this.autoFrame;C.set((x.x-P.x)/p,(x.y-P.y)/p),this.world.updateMotion(this,p),this._dx=x.x-P.x,this._dy=x.y-P.y}else this.world.updateMotion(this,p),this.newVelocity.set(C.x*p,C.y*p),x.add(this.newVelocity),this._dx=x.x-m.x,this._dy=x.y-m.y;var w=C.x,M=C.y;if(this.updateCenter(),this.angle=Math.atan2(M,w),this.speed=Math.sqrt(w*w+M*M),this.collideWorldBounds&&this.checkWorldBounds()&&this.onWorldBounds){var R=this.blocked;this.world.emit(h.WORLD_BOUNDS,this,R.up,R.down,R.left,R.right)}},postUpdate:function(){var p=this.position,m=p.x-this.prevFrame.x,x=p.y-this.prevFrame.y,C=this.gameObject;if(this.moves){var P=this.deltaMax.x,w=this.deltaMax.y;P!==0&&m!==0&&(m<0&&m<-P?m=-P:m>0&&m>P&&(m=P)),w!==0&&x!==0&&(x<0&&x<-w?x=-w:x>0&&x>w&&(x=w)),C&&(C.x+=m,C.y+=x)}m<0?this.facing=d.FACING_LEFT:m>0&&(this.facing=d.FACING_RIGHT),x<0?this.facing=d.FACING_UP:x>0&&(this.facing=d.FACING_DOWN),this.allowRotation&&C&&(C.angle+=this.deltaZ()),this._tx=m,this._ty=x,this.autoFrame.set(p.x,p.y)},setBoundsRectangle:function(p){return this.customBoundsRectangle=p||this.world.bounds,this},checkWorldBounds:function(){var p=this.position,m=this.velocity,x=this.blocked,C=this.customBoundsRectangle,P=this.world.checkCollision,w=this.worldBounce?-this.worldBounce.x:-this.bounce.x,M=this.worldBounce?-this.worldBounce.y:-this.bounce.y,R=!1;return p.x<C.x&&P.left?(p.x=C.x,m.x*=w,x.left=!0,R=!0):this.right>C.right&&P.right&&(p.x=C.right-this.width,m.x*=w,x.right=!0,R=!0),p.y<C.y&&P.up?(p.y=C.y,m.y*=M,x.up=!0,R=!0):this.bottom>C.bottom&&P.down&&(p.y=C.bottom-this.height,m.y*=M,x.down=!0,R=!0),R&&(this.blocked.none=!1,this.updateCenter()),R},setOffset:function(p,m){return m===void 0&&(m=p),this.offset.set(p,m),this},setGameObject:function(p,m){if(m===void 0&&(m=!0),!p||!p.hasTransformComponent)return this;var x=this.world;return this.gameObject&&this.gameObject.body&&(x.disable(this.gameObject),this.gameObject.body=null),p.body&&x.disable(p),this.gameObject=p,p.body=this,this.setSize(),this.enable=m,this},setSize:function(p,m,x){x===void 0&&(x=!0);var C=this.gameObject;if(C&&(!p&&C.frame&&(p=C.frame.realWidth),!m&&C.frame&&(m=C.frame.realHeight)),this.sourceWidth=p,this.sourceHeight=m,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter(),x&&C&&C.getCenter){var P=(C.width-p)/2,w=(C.height-m)/2;this.offset.set(P,w)}return this.isCircle=!1,this.radius=0,this},setCircle:function(p,m,x){return m===void 0&&(m=this.offset.x),x===void 0&&(x=this.offset.y),p>0?(this.isCircle=!0,this.radius=p,this.sourceWidth=p*2,this.sourceHeight=p*2,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(m,x),this.updateCenter()):this.isCircle=!1,this},reset:function(p,m){this.stop();var x=this.gameObject;x&&(x.setPosition(p,m),this.rotation=x.angle,this.preRotation=x.angle);var C=this.position;x&&x.getTopLeft?x.getTopLeft(C):C.set(p,m),this.prev.copy(C),this.prevFrame.copy(C),this.autoFrame.copy(C),x&&this.updateBounds(),this.updateCenter(),this.collideWorldBounds&&this.checkWorldBounds(),this.resetFlags(!0)},stop:function(){return this.velocity.set(0),this.acceleration.set(0),this.speed=0,this.angularVelocity=0,this.angularAcceleration=0,this},getBounds:function(p){return p.x=this.x,p.y=this.y,p.right=this.right,p.bottom=this.bottom,p},hitTest:function(p,m){if(!this.isCircle)return f(this,p,m);if(this.radius>0&&p>=this.left&&p<=this.right&&m>=this.top&&m<=this.bottom){var x=(this.center.x-p)*(this.center.x-p),C=(this.center.y-m)*(this.center.y-m);return x+C<=this.radius*this.radius}return!1},onFloor:function(){return this.blocked.down},onCeiling:function(){return this.blocked.up},onWall:function(){return this.blocked.left||this.blocked.right},deltaAbsX:function(){return this._dx>0?this._dx:-this._dx},deltaAbsY:function(){return this._dy>0?this._dy:-this._dy},deltaX:function(){return this._dx},deltaY:function(){return this._dy},deltaXFinal:function(){return this._tx},deltaYFinal:function(){return this._ty},deltaZ:function(){return this.rotation-this.preRotation},destroy:function(){this.enable=!1,this.world&&this.world.pendingDestroy.set(this)},drawDebug:function(p){var m=this.position,x=m.x+this.halfWidth,C=m.y+this.halfHeight;this.debugShowBody&&(p.lineStyle(p.defaultStrokeWidth,this.debugBodyColor),this.isCircle?p.strokeCircle(x,C,this.width/2):(this.checkCollision.up&&p.lineBetween(m.x,m.y,m.x+this.width,m.y),this.checkCollision.right&&p.lineBetween(m.x+this.width,m.y,m.x+this.width,m.y+this.height),this.checkCollision.down&&p.lineBetween(m.x,m.y+this.height,m.x+this.width,m.y+this.height),this.checkCollision.left&&p.lineBetween(m.x,m.y,m.x,m.y+this.height))),this.debugShowVelocity&&(p.lineStyle(p.defaultStrokeWidth,this.world.defaults.velocityDebugColor,1),p.lineBetween(x,C,x+this.velocity.x/2,C+this.velocity.y/2))},willDrawDebug:function(){return this.debugShowBody||this.debugShowVelocity},setDirectControl:function(p){return p===void 0&&(p=!0),this.directControl=p,this},setCollideWorldBounds:function(p,m,x,C){p===void 0&&(p=!0),this.collideWorldBounds=p;var P=m!==void 0,w=x!==void 0;return(P||w)&&(this.worldBounce||(this.worldBounce=new u),P&&(this.worldBounce.x=m),w&&(this.worldBounce.y=x)),C!==void 0&&(this.onWorldBounds=C),this},setVelocity:function(p,m){return this.velocity.set(p,m),p=this.velocity.x,m=this.velocity.y,this.speed=Math.sqrt(p*p+m*m),this},setVelocityX:function(p){return this.setVelocity(p,this.velocity.y)},setVelocityY:function(p){return this.setVelocity(this.velocity.x,p)},setMaxVelocity:function(p,m){return this.maxVelocity.set(p,m),this},setMaxVelocityX:function(p){return this.maxVelocity.x=p,this},setMaxVelocityY:function(p){return this.maxVelocity.y=p,this},setMaxSpeed:function(p){return this.maxSpeed=p,this},setSlideFactor:function(p,m){return this.slideFactor.set(p,m),this},setBounce:function(p,m){return this.bounce.set(p,m),this},setBounceX:function(p){return this.bounce.x=p,this},setBounceY:function(p){return this.bounce.y=p,this},setAcceleration:function(p,m){return this.acceleration.set(p,m),this},setAccelerationX:function(p){return this.acceleration.x=p,this},setAccelerationY:function(p){return this.acceleration.y=p,this},setAllowDrag:function(p){return p===void 0&&(p=!0),this.allowDrag=p,this},setAllowGravity:function(p){return p===void 0&&(p=!0),this.allowGravity=p,this},setAllowRotation:function(p){return p===void 0&&(p=!0),this.allowRotation=p,this},setDrag:function(p,m){return this.drag.set(p,m),this},setDamping:function(p){return this.useDamping=p,this},setDragX:function(p){return this.drag.x=p,this},setDragY:function(p){return this.drag.y=p,this},setGravity:function(p,m){return this.gravity.set(p,m),this},setGravityX:function(p){return this.gravity.x=p,this},setGravityY:function(p){return this.gravity.y=p,this},setFriction:function(p,m){return this.friction.set(p,m),this},setFrictionX:function(p){return this.friction.x=p,this},setFrictionY:function(p){return this.friction.y=p,this},setAngularVelocity:function(p){return this.angularVelocity=p,this},setAngularAcceleration:function(p){return this.angularAcceleration=p,this},setAngularDrag:function(p){return this.angularDrag=p,this},setMass:function(p){return this.mass=p,this},setImmovable:function(p){return p===void 0&&(p=!0),this.immovable=p,this},setEnable:function(p){return p===void 0&&(p=!0),this.enable=p,this},processX:function(p,m,x,C){this.x+=p,this.updateCenter(),m!==null&&(this.velocity.x=m*this.slideFactor.x);var P=this.blocked;x&&(P.left=!0,P.none=!1),C&&(P.right=!0,P.none=!1)},processY:function(p,m,x,C){this.y+=p,this.updateCenter(),m!==null&&(this.velocity.y=m*this.slideFactor.y);var P=this.blocked;x&&(P.up=!0,P.none=!1),C&&(P.down=!0,P.none=!1)},x:{get:function(){return this.position.x},set:function(p){this.position.x=p}},y:{get:function(){return this.position.y},set:function(p){this.position.y=p}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});n.exports=v}),79342:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=new o({initialize:function(h,l,a,f,c,u,v){this.world=h,this.name="",this.active=!0,this.overlapOnly=l,this.object1=a,this.object2=f,this.collideCallback=c,this.processCallback=u,this.callbackContext=v},setName:function(d){return this.name=d,this},update:function(){this.world.collideObjects(this.object1,this.object2,this.collideCallback,this.processCallback,this.callbackContext,this.overlapOnly)},destroy:function(){this.world.removeCollider(this),this.active=!1,this.world=null,this.object1=null,this.object2=null,this.collideCallback=null,this.processCallback=null,this.callbackContext=null}});n.exports=y}),66022:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(71289),y=r(13759),d=r(37742),h=r(83419),l=r(37747),a=r(60758),f=r(72624),c=r(71464),u=new h({initialize:function(p){this.world=p,this.scene=p.scene,this.sys=p.scene.sys},collider:function(v,p,m,x,C){return this.world.addCollider(v,p,m,x,C)},overlap:function(v,p,m,x,C){return this.world.addOverlap(v,p,m,x,C)},existing:function(v,p){var m=p?l.STATIC_BODY:l.DYNAMIC_BODY;return this.world.enableBody(v,m),v},staticImage:function(v,p,m,x){var C=new o(this.scene,v,p,m,x);return this.sys.displayList.add(C),this.world.enableBody(C,l.STATIC_BODY),C},image:function(v,p,m,x){var C=new o(this.scene,v,p,m,x);return this.sys.displayList.add(C),this.world.enableBody(C,l.DYNAMIC_BODY),C},staticSprite:function(v,p,m,x){var C=new y(this.scene,v,p,m,x);return this.sys.displayList.add(C),this.sys.updateList.add(C),this.world.enableBody(C,l.STATIC_BODY),C},sprite:function(v,p,m,x){var C=new y(this.scene,v,p,m,x);return this.sys.displayList.add(C),this.sys.updateList.add(C),this.world.enableBody(C,l.DYNAMIC_BODY),C},staticGroup:function(v,p){return this.sys.updateList.add(new c(this.world,this.world.scene,v,p))},group:function(v,p){return this.sys.updateList.add(new a(this.world,this.world.scene,v,p))},body:function(v,p,m,x){var C=new d(this.world);return C.position.set(v,p),m&&x&&C.setSize(m,x),this.world.add(C,l.DYNAMIC_BODY),C},staticBody:function(v,p,m,x){var C=new f(this.world);return C.position.set(v,p),m&&x&&C.setSize(m,x),this.world.add(C,l.STATIC_BODY),C},destroy:function(){this.world=null,this.scene=null,this.sys=null}});n.exports=u}),79599:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){var o=0;if(!Array.isArray(r))o=r;else for(var y=0;y<r.length;y++)o|=r[y];return o};n.exports=T}),64897:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(37747),y=function(d,h,l,a){var f=0,c=d.deltaAbsX()+h.deltaAbsX()+a;return d._dx===0&&h._dx===0?(d.embedded=!0,h.embedded=!0):d._dx>h._dx?(f=d.right-h.x,f>c&&!l||d.checkCollision.right===!1||h.checkCollision.left===!1?f=0:(d.touching.none=!1,d.touching.right=!0,h.touching.none=!1,h.touching.left=!0,h.physicsType===o.STATIC_BODY&&!l&&(d.blocked.none=!1,d.blocked.right=!0),d.physicsType===o.STATIC_BODY&&!l&&(h.blocked.none=!1,h.blocked.left=!0))):d._dx<h._dx&&(f=d.x-h.width-h.x,-f>c&&!l||d.checkCollision.left===!1||h.checkCollision.right===!1?f=0:(d.touching.none=!1,d.touching.left=!0,h.touching.none=!1,h.touching.right=!0,h.physicsType===o.STATIC_BODY&&!l&&(d.blocked.none=!1,d.blocked.left=!0),d.physicsType===o.STATIC_BODY&&!l&&(h.blocked.none=!1,h.blocked.right=!0))),d.overlapX=f,h.overlapX=f,f};n.exports=y}),45170:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(37747),y=function(d,h,l,a){var f=0,c=d.deltaAbsY()+h.deltaAbsY()+a;return d._dy===0&&h._dy===0?(d.embedded=!0,h.embedded=!0):d._dy>h._dy?(f=d.bottom-h.y,f>c&&!l||d.checkCollision.down===!1||h.checkCollision.up===!1?f=0:(d.touching.none=!1,d.touching.down=!0,h.touching.none=!1,h.touching.up=!0,h.physicsType===o.STATIC_BODY&&!l&&(d.blocked.none=!1,d.blocked.down=!0),d.physicsType===o.STATIC_BODY&&!l&&(h.blocked.none=!1,h.blocked.up=!0))):d._dy<h._dy&&(f=d.y-h.bottom,-f>c&&!l||d.checkCollision.up===!1||h.checkCollision.down===!1?f=0:(d.touching.none=!1,d.touching.up=!0,h.touching.none=!1,h.touching.down=!0,h.physicsType===o.STATIC_BODY&&!l&&(d.blocked.none=!1,d.blocked.up=!0),d.physicsType===o.STATIC_BODY&&!l&&(h.blocked.none=!1,h.blocked.down=!0))),d.overlapY=f,h.overlapY=f,f};n.exports=y}),60758:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(13759),y=r(83419),d=r(78389),h=r(37747),l=r(95540),a=r(26479),f=r(41212),c=new y({Extends:a,Mixins:[d],initialize:function(v,p,m,x){if(!m&&!x)x={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};else if(f(m))x=m,m=null,x.internalCreateCallback=this.createCallbackHandler,x.internalRemoveCallback=this.removeCallbackHandler;else if(Array.isArray(m)&&f(m[0])){var C=this;m.forEach(function(P){P.internalCreateCallback=C.createCallbackHandler,P.internalRemoveCallback=C.removeCallbackHandler,P.classType=l(P,"classType",o)}),x=null}else x={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};this.world=v,x&&(x.classType=l(x,"classType",o)),this.physicsType=h.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=2147483647,this.defaults={setCollideWorldBounds:l(x,"collideWorldBounds",!1),setBoundsRectangle:l(x,"customBoundsRectangle",null),setAccelerationX:l(x,"accelerationX",0),setAccelerationY:l(x,"accelerationY",0),setAllowDrag:l(x,"allowDrag",!0),setAllowGravity:l(x,"allowGravity",!0),setAllowRotation:l(x,"allowRotation",!0),setDamping:l(x,"useDamping",!1),setBounceX:l(x,"bounceX",0),setBounceY:l(x,"bounceY",0),setDragX:l(x,"dragX",0),setDragY:l(x,"dragY",0),setEnable:l(x,"enable",!0),setGravityX:l(x,"gravityX",0),setGravityY:l(x,"gravityY",0),setFrictionX:l(x,"frictionX",0),setFrictionY:l(x,"frictionY",0),setMaxSpeed:l(x,"maxSpeed",-1),setMaxVelocityX:l(x,"maxVelocityX",1e4),setMaxVelocityY:l(x,"maxVelocityY",1e4),setVelocityX:l(x,"velocityX",0),setVelocityY:l(x,"velocityY",0),setAngularVelocity:l(x,"angularVelocity",0),setAngularAcceleration:l(x,"angularAcceleration",0),setAngularDrag:l(x,"angularDrag",0),setMass:l(x,"mass",1),setImmovable:l(x,"immovable",!1)},a.call(this,p,m,x),this.type="PhysicsGroup"},createCallbackHandler:function(u){u.body||this.world.enableBody(u,h.DYNAMIC_BODY);var v=u.body;for(var p in this.defaults)v[p](this.defaults[p])},removeCallbackHandler:function(u){u.body&&this.world.disableBody(u)},setVelocity:function(u,v,p){p===void 0&&(p=0);for(var m=this.getChildren(),x=0;x<m.length;x++)m[x].body.velocity.set(u+x*p,v+x*p);return this},setVelocityX:function(u,v){v===void 0&&(v=0);for(var p=this.getChildren(),m=0;m<p.length;m++)p[m].body.velocity.x=u+m*v;return this},setVelocityY:function(u,v){v===void 0&&(v=0);for(var p=this.getChildren(),m=0;m<p.length;m++)p[m].body.velocity.y=u+m*v;return this}});n.exports=c}),3017:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T,r,o,y,d,h,l,a,f,c,u,v,p,m,x,C,P,w=function(G,I,B){T=G,r=I;var k=T.velocity.x,U=r.velocity.x;return o=T.pushable,f=T._dx<0,c=T._dx>0,u=T._dx===0,x=Math.abs(T.right-r.x)<=Math.abs(r.right-T.x),l=U-k*T.bounce.x,y=r.pushable,v=r._dx<0,p=r._dx>0,m=r._dx===0,C=!x,a=k-U*r.bounce.x,P=Math.abs(B),M()},M=function(){return c&&x&&r.blocked.right?(T.processX(-P,l,!1,!0),1):f&&C&&r.blocked.left?(T.processX(P,l,!0),1):p&&C&&T.blocked.right?(r.processX(-P,a,!1,!0),2):v&&x&&T.blocked.left?(r.processX(P,a,!0),2):0},R=function(){var G=T.velocity.x,I=r.velocity.x,B=Math.sqrt(I*I*r.mass/T.mass)*(I>0?1:-1),k=Math.sqrt(G*G*T.mass/r.mass)*(G>0?1:-1),U=(B+k)*.5;return B-=U,k-=U,d=U+B*T.bounce.x,h=U+k*r.bounce.x,f&&C?A(0):v&&x?A(1):c&&x?A(2):p&&C?A(3):!1},A=function(G){if(o&&y)P*=.5,G===0||G===3?(T.processX(P,d),r.processX(-P,h)):(T.processX(-P,d),r.processX(P,h));else if(o&&!y)G===0||G===3?T.processX(P,l,!0):T.processX(-P,l,!1,!0);else if(!o&&y)G===0||G===3?r.processX(-P,a,!1,!0):r.processX(P,a,!0);else{var I=P*.5;G===0?m?(T.processX(P,0,!0),r.processX(0,null,!1,!0)):p?(T.processX(I,0,!0),r.processX(-I,0,!1,!0)):(T.processX(I,r.velocity.x,!0),r.processX(-I,null,!1,!0)):G===1?u?(T.processX(0,null,!1,!0),r.processX(P,0,!0)):c?(T.processX(-I,0,!1,!0),r.processX(I,0,!0)):(T.processX(-I,null,!1,!0),r.processX(I,T.velocity.x,!0)):G===2?m?(T.processX(-P,0,!1,!0),r.processX(0,null,!0)):v?(T.processX(-I,0,!1,!0),r.processX(I,0,!0)):(T.processX(-I,r.velocity.x,!1,!0),r.processX(I,null,!0)):G===3&&(u?(T.processX(0,null,!0),r.processX(-P,0,!1,!0)):f?(T.processX(I,0,!0),r.processX(-I,0,!1,!0)):(T.processX(I,r.velocity.y,!0),r.processX(-I,null,!1,!0)))}return!0},L=function(G){if(G===1?r.velocity.x=0:x?r.processX(P,a,!0):r.processX(-P,a,!1,!0),T.moves){var I=T.directControl?T.y-T.autoFrame.y:T.y-T.prev.y;r.y+=I*T.friction.y,r._dy=r.y-r.prev.y}},F=function(G){if(G===2?T.velocity.x=0:C?T.processX(P,l,!0):T.processX(-P,l,!1,!0),r.moves){var I=r.directControl?r.y-r.autoFrame.y:r.y-r.prev.y;T.y+=I*r.friction.y,T._dy=T.y-T.prev.y}};n.exports={BlockCheck:M,Check:R,Set:w,Run:A,RunImmovableBody1:L,RunImmovableBody2:F}}),47962:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T,r,o,y,d,h,l,a,f,c,u,v,p,m,x,C,P,w=function(G,I,B){T=G,r=I;var k=T.velocity.y,U=r.velocity.y;return o=T.pushable,f=T._dy<0,c=T._dy>0,u=T._dy===0,x=Math.abs(T.bottom-r.y)<=Math.abs(r.bottom-T.y),l=U-k*T.bounce.y,y=r.pushable,v=r._dy<0,p=r._dy>0,m=r._dy===0,C=!x,a=k-U*r.bounce.y,P=Math.abs(B),M()},M=function(){return c&&x&&r.blocked.down?(T.processY(-P,l,!1,!0),1):f&&C&&r.blocked.up?(T.processY(P,l,!0),1):p&&C&&T.blocked.down?(r.processY(-P,a,!1,!0),2):v&&x&&T.blocked.up?(r.processY(P,a,!0),2):0},R=function(){var G=T.velocity.y,I=r.velocity.y,B=Math.sqrt(I*I*r.mass/T.mass)*(I>0?1:-1),k=Math.sqrt(G*G*T.mass/r.mass)*(G>0?1:-1),U=(B+k)*.5;return B-=U,k-=U,d=U+B*T.bounce.y,h=U+k*r.bounce.y,f&&C?A(0):v&&x?A(1):c&&x?A(2):p&&C?A(3):!1},A=function(G){if(o&&y)P*=.5,G===0||G===3?(T.processY(P,d),r.processY(-P,h)):(T.processY(-P,d),r.processY(P,h));else if(o&&!y)G===0||G===3?T.processY(P,l,!0):T.processY(-P,l,!1,!0);else if(!o&&y)G===0||G===3?r.processY(-P,a,!1,!0):r.processY(P,a,!0);else{var I=P*.5;G===0?m?(T.processY(P,0,!0),r.processY(0,null,!1,!0)):p?(T.processY(I,0,!0),r.processY(-I,0,!1,!0)):(T.processY(I,r.velocity.y,!0),r.processY(-I,null,!1,!0)):G===1?u?(T.processY(0,null,!1,!0),r.processY(P,0,!0)):c?(T.processY(-I,0,!1,!0),r.processY(I,0,!0)):(T.processY(-I,null,!1,!0),r.processY(I,T.velocity.y,!0)):G===2?m?(T.processY(-P,0,!1,!0),r.processY(0,null,!0)):v?(T.processY(-I,0,!1,!0),r.processY(I,0,!0)):(T.processY(-I,r.velocity.y,!1,!0),r.processY(I,null,!0)):G===3&&(u?(T.processY(0,null,!0),r.processY(-P,0,!1,!0)):f?(T.processY(I,0,!0),r.processY(-I,0,!1,!0)):(T.processY(I,r.velocity.y,!0),r.processY(-I,null,!1,!0)))}return!0},L=function(G){if(G===1?r.velocity.y=0:x?r.processY(P,a,!0):r.processY(-P,a,!1,!0),T.moves){var I=T.directControl?T.x-T.autoFrame.x:T.x-T.prev.x;r.x+=I*T.friction.x,r._dx=r.x-r.prev.x}},F=function(G){if(G===2?T.velocity.y=0:C?T.processY(P,l,!0):T.processY(-P,l,!1,!0),r.moves){var I=r.directControl?r.x-r.autoFrame.x:r.x-r.prev.x;T.x+=I*r.friction.x,T._dx=T.x-T.prev.x}};n.exports={BlockCheck:M,Check:R,Set:w,Run:A,RunImmovableBody1:L,RunImmovableBody2:F}}),14087:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(64897),y=r(3017),d=function(h,l,a,f,c){c===void 0&&(c=o(h,l,a,f));var u=h.immovable,v=l.immovable;if(a||c===0||u&&v||h.customSeparateX||l.customSeparateX)return c!==0||h.embedded&&l.embedded;var p=y.Set(h,l,c);return!u&&!v?p>0?!0:y.Check():(u?y.RunImmovableBody1(p):v&&y.RunImmovableBody2(p),!0)};n.exports=d}),89936:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(45170),y=r(47962),d=function(h,l,a,f,c){c===void 0&&(c=o(h,l,a,f));var u=h.immovable,v=l.immovable;if(a||c===0||u&&v||h.customSeparateY||l.customSeparateY)return c!==0||h.embedded&&l.embedded;var p=y.Set(h,l,c);return!u&&!v?p>0?!0:y.Check():(u?y.RunImmovableBody1(p):v&&y.RunImmovableBody2(p),!0)};n.exports=d}),95829:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return o===void 0&&(o={}),o.none=r,o.up=!1,o.down=!1,o.left=!1,o.right=!1,r||(o.up=!0,o.down=!0,o.left=!0,o.right=!0),o};n.exports=T}),72624:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(87902),y=r(83419),d=r(78389),h=r(37747),l=r(37303),a=r(95829),f=r(26099),c=new y({Mixins:[d],initialize:function(v,p){var m=64,x=64,C={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},P=p!==void 0;P&&p.displayWidth&&(m=p.displayWidth,x=p.displayHeight),P||(p=C),this.world=v,this.gameObject=P?p:void 0,this.isBody=!0,this.debugShowBody=v.defaults.debugShowStaticBody,this.debugBodyColor=v.defaults.staticBodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new f,this.position=new f(p.x-m*p.originX,p.y-x*p.originY),this.width=m,this.height=x,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center=new f(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=f.ZERO,this.allowGravity=!1,this.gravity=f.ZERO,this.bounce=f.ZERO,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.mass=1,this.immovable=!0,this.pushable=!1,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=a(!1),this.touching=a(!0),this.wasTouching=a(!0),this.blocked=a(!0),this.physicsType=h.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._dx=0,this._dy=0},setGameObject:function(u,v,p){if(v===void 0&&(v=!0),p===void 0&&(p=!0),!u||!u.hasTransformComponent)return this;var m=this.world;return this.gameObject&&this.gameObject.body&&(m.disable(this.gameObject),this.gameObject.body=null),u.body&&m.disable(u),this.gameObject=u,u.body=this,this.setSize(),v&&this.updateFromGameObject(),this.enable=p,this},updateFromGameObject:function(){this.world.staticTree.remove(this);var u=this.gameObject;return u.getTopLeft(this.position),this.width=u.displayWidth,this.height=u.displayHeight,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.world.staticTree.insert(this),this},setOffset:function(u,v){return v===void 0&&(v=u),this.world.staticTree.remove(this),this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(u,v),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this),this},setSize:function(u,v,p){p===void 0&&(p=!0);var m=this.gameObject;if(m&&m.frame&&(u||(u=m.frame.realWidth),v||(v=m.frame.realHeight)),this.world.staticTree.remove(this),this.width=u,this.height=v,this.halfWidth=Math.floor(u/2),this.halfHeight=Math.floor(v/2),p&&m&&m.getCenter){var x=m.displayWidth/2,C=m.displayHeight/2;this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(x-this.halfWidth,C-this.halfHeight),this.position.x+=this.offset.x,this.position.y+=this.offset.y}return this.updateCenter(),this.isCircle=!1,this.radius=0,this.world.staticTree.insert(this),this},setCircle:function(u,v,p){return v===void 0&&(v=this.offset.x),p===void 0&&(p=this.offset.y),u>0?(this.world.staticTree.remove(this),this.isCircle=!0,this.radius=u,this.width=u*2,this.height=u*2,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(v,p),this.updateCenter(),this.world.staticTree.insert(this)):this.isCircle=!1,this},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},reset:function(u,v){var p=this.gameObject;u===void 0&&(u=p.x),v===void 0&&(v=p.y),this.world.staticTree.remove(this),p.setPosition(u,v),p.getTopLeft(this.position),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this)},stop:function(){return this},getBounds:function(u){return u.x=this.x,u.y=this.y,u.right=this.right,u.bottom=this.bottom,u},hitTest:function(u,v){return this.isCircle?o(this,u,v):l(this,u,v)},postUpdate:function(){},deltaAbsX:function(){return 0},deltaAbsY:function(){return 0},deltaX:function(){return 0},deltaY:function(){return 0},deltaZ:function(){return 0},destroy:function(){this.enable=!1,this.world.pendingDestroy.set(this)},drawDebug:function(u){var v=this.position,p=v.x+this.halfWidth,m=v.y+this.halfHeight;this.debugShowBody&&(u.lineStyle(u.defaultStrokeWidth,this.debugBodyColor,1),this.isCircle?u.strokeCircle(p,m,this.width/2):u.strokeRect(v.x,v.y,this.width,this.height))},willDrawDebug:function(){return this.debugShowBody},setMass:function(u){return u<=0&&(u=.1),this.mass=u,this},x:{get:function(){return this.position.x},set:function(u){this.world.staticTree.remove(this),this.position.x=u,this.world.staticTree.insert(this)}},y:{get:function(){return this.position.y},set:function(u){this.world.staticTree.remove(this),this.position.y=u,this.world.staticTree.insert(this)}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});n.exports=c}),71464:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(13759),y=r(83419),d=r(78389),h=r(37747),l=r(95540),a=r(26479),f=r(41212),c=new y({Extends:a,Mixins:[d],initialize:function(v,p,m,x){!m&&!x?x={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler,createMultipleCallback:this.createMultipleCallbackHandler,classType:o}:f(m)?(x=m,m=null,x.internalCreateCallback=this.createCallbackHandler,x.internalRemoveCallback=this.removeCallbackHandler,x.createMultipleCallback=this.createMultipleCallbackHandler,x.classType=l(x,"classType",o)):Array.isArray(m)&&f(m[0])?(x=m,m=null,x.forEach(function(C){C.internalCreateCallback=this.createCallbackHandler,C.internalRemoveCallback=this.removeCallbackHandler,C.createMultipleCallback=this.createMultipleCallbackHandler,C.classType=l(C,"classType",o)})):x={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler},this.world=v,this.physicsType=h.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,a.call(this,p,m,x),this.type="StaticPhysicsGroup"},createCallbackHandler:function(u){u.body||this.world.enableBody(u,h.STATIC_BODY)},removeCallbackHandler:function(u){u.body&&this.world.disableBody(u)},createMultipleCallbackHandler:function(){this.refresh()},refresh:function(){for(var u=this.children.entries,v=0;v<u.length;v++)u[v].body.reset();return this}});n.exports=c}),82248:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(55495),y=r(37742),d=r(45319),h=r(83419),l=r(79342),a=r(37747),f=r(20339),c=r(52816),u=r(50792),v=r(63012),p=r(43855),m=r(5470),x=r(94977),C=r(64897),P=r(45170),w=r(96523),M=r(35154),R=r(36383),A=r(25774),L=r(96602),F=r(87841),G=r(59542),I=r(40012),B=r(14087),k=r(89936),U=r(35072),H=r(72624),X=r(2483),j=r(61340),Z=r(26099),Y=r(15994),$=new h({Extends:u,initialize:function(V,K){u.call(this),this.scene=V,this.bodies=new U,this.staticBodies=new U,this.pendingDestroy=new U,this.colliders=new A,this.gravity=new Z(M(K,"gravity.x",0),M(K,"gravity.y",0)),this.bounds=new F(M(K,"x",0),M(K,"y",0),M(K,"width",V.sys.scale.width),M(K,"height",V.sys.scale.height)),this.checkCollision={up:M(K,"checkCollision.up",!0),down:M(K,"checkCollision.down",!0),left:M(K,"checkCollision.left",!0),right:M(K,"checkCollision.right",!0)},this.fps=M(K,"fps",60),this.fixedStep=M(K,"fixedStep",!0),this._elapsed=0,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this.stepsLastFrame=0,this.timeScale=M(K,"timeScale",1),this.OVERLAP_BIAS=M(K,"overlapBias",4),this.TILE_BIAS=M(K,"tileBias",16),this.forceX=M(K,"forceX",!1),this.isPaused=M(K,"isPaused",!1),this._total=0,this.drawDebug=M(K,"debug",!1),this.debugGraphic,this.defaults={debugShowBody:M(K,"debugShowBody",!0),debugShowStaticBody:M(K,"debugShowStaticBody",!0),debugShowVelocity:M(K,"debugShowVelocity",!0),bodyDebugColor:M(K,"debugBodyColor",16711935),staticBodyDebugColor:M(K,"debugStaticBodyColor",255),velocityDebugColor:M(K,"debugVelocityColor",65280)},this.maxEntries=M(K,"maxEntries",16),this.useTree=M(K,"useTree",!0),this.tree=new G(this.maxEntries),this.staticTree=new G(this.maxEntries),this.treeMinMax={minX:0,minY:0,maxX:0,maxY:0},this._tempMatrix=new j,this._tempMatrix2=new j,this.tileFilterOptions={isColliding:!0,isNotEmpty:!0,hasInterestingFace:!0},this.drawDebug&&this.createDebugGraphic()},enable:function(z,V){V===void 0&&(V=a.DYNAMIC_BODY),Array.isArray(z)||(z=[z]);for(var K=0;K<z.length;K++){var Q=z[K];if(Q.isParent)for(var _=Q.getChildren(),tt=0;tt<_.length;tt++){var rt=_[tt];rt.isParent?this.enable(rt,V):this.enableBody(rt,V)}else this.enableBody(Q,V)}},enableBody:function(z,V){return V===void 0&&(V=a.DYNAMIC_BODY),z.hasTransformComponent&&(z.body||(V===a.DYNAMIC_BODY?z.body=new y(this,z):V===a.STATIC_BODY&&(z.body=new H(this,z))),this.add(z.body)),z},add:function(z){return z.physicsType===a.DYNAMIC_BODY?this.bodies.set(z):z.physicsType===a.STATIC_BODY&&(this.staticBodies.set(z),this.staticTree.insert(z)),z.enable=!0,z},disable:function(z){Array.isArray(z)||(z=[z]);for(var V=0;V<z.length;V++){var K=z[V];if(K.isParent)for(var Q=K.getChildren(),_=0;_<Q.length;_++){var tt=Q[_];tt.isParent?this.disable(tt):this.disableBody(tt.body)}else this.disableBody(K.body)}},disableBody:function(z){this.remove(z),z.enable=!1},remove:function(z){z.physicsType===a.DYNAMIC_BODY?(this.tree.remove(z),this.bodies.delete(z)):z.physicsType===a.STATIC_BODY&&(this.staticBodies.delete(z),this.staticTree.remove(z))},createDebugGraphic:function(){var z=this.scene.sys.add.graphics({x:0,y:0});return z.setDepth(Number.MAX_VALUE),this.debugGraphic=z,this.drawDebug=!0,z},setBounds:function(z,V,K,Q,_,tt,rt,ot){return this.bounds.setTo(z,V,K,Q),_!==void 0&&this.setBoundsCollision(_,tt,rt,ot),this},setBoundsCollision:function(z,V,K,Q){return z===void 0&&(z=!0),V===void 0&&(V=!0),K===void 0&&(K=!0),Q===void 0&&(Q=!0),this.checkCollision.left=z,this.checkCollision.right=V,this.checkCollision.up=K,this.checkCollision.down=Q,this},pause:function(){return this.isPaused=!0,this.emit(v.PAUSE),this},resume:function(){return this.isPaused=!1,this.emit(v.RESUME),this},addCollider:function(z,V,K,Q,_){K===void 0&&(K=null),Q===void 0&&(Q=null),_===void 0&&(_=K);var tt=new l(this,!1,z,V,K,Q,_);return this.colliders.add(tt),tt},addOverlap:function(z,V,K,Q,_){K===void 0&&(K=null),Q===void 0&&(Q=null),_===void 0&&(_=K);var tt=new l(this,!0,z,V,K,Q,_);return this.colliders.add(tt),tt},removeCollider:function(z){return this.colliders.remove(z),this},setFPS:function(z){return this.fps=z,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this},update:function(z,V){if(!(this.isPaused||this.bodies.size===0)){var K,Q=this._frameTime,_=this._frameTimeMS*this.timeScale;this._elapsed+=V;var tt,rt=this.bodies.entries,ot=this._elapsed>=_;for(this.fixedStep||(Q=V*.001,ot=!0,this._elapsed=0),K=0;K<rt.length;K++)tt=rt[K],tt.enable&&tt.preUpdate(ot,Q);if(ot){this._elapsed-=_,this.stepsLastFrame=1,this.useTree&&(this.tree.clear(),this.tree.load(rt));var ft=this.colliders.update();for(K=0;K<ft.length;K++){var ct=ft[K];ct.active&&ct.update()}this.emit(v.WORLD_STEP,Q)}for(;this._elapsed>=_;)this._elapsed-=_,this.step(Q)}},step:function(z){var V,K,Q=this.bodies.entries,_=Q.length;for(V=0;V<_;V++)K=Q[V],K.enable&&K.update(z);this.useTree&&(this.tree.clear(),this.tree.load(Q));var tt=this.colliders.update();for(V=0;V<tt.length;V++){var rt=tt[V];rt.active&&rt.update()}this.emit(v.WORLD_STEP,z),this.stepsLastFrame++},singleStep:function(){this.update(0,this._frameTimeMS),this.postUpdate()},postUpdate:function(){var z,V,K=this.bodies.entries,Q=K.length,_=this.bodies,tt=this.staticBodies;if(this.stepsLastFrame)for(this.stepsLastFrame=0,z=0;z<Q;z++)V=K[z],V.enable&&V.postUpdate();if(this.drawDebug){var rt=this.debugGraphic;for(rt.clear(),z=0;z<Q;z++)V=K[z],V.willDrawDebug()&&V.drawDebug(rt);for(K=tt.entries,Q=K.length,z=0;z<Q;z++)V=K[z],V.willDrawDebug()&&V.drawDebug(rt)}var ot=this.pendingDestroy;if(ot.size>0){var ft=this.tree,ct=this.staticTree;for(K=ot.entries,Q=K.length,z=0;z<Q;z++)V=K[z],V.physicsType===a.DYNAMIC_BODY?(ft.remove(V),_.delete(V)):V.physicsType===a.STATIC_BODY&&(ct.remove(V),tt.delete(V)),V.world=void 0,V.gameObject=void 0;ot.clear()}},updateMotion:function(z,V){z.allowRotation&&this.computeAngularVelocity(z,V),this.computeVelocity(z,V)},computeAngularVelocity:function(z,V){var K=z.angularVelocity,Q=z.angularAcceleration,_=z.angularDrag,tt=z.maxAngular;Q?K+=Q*V:z.allowDrag&&_&&(_*=V,m(K-_,0,.1)?K-=_:x(K+_,0,.1)?K+=_:K=0),K=d(K,-tt,tt);var rt=K-z.angularVelocity;z.angularVelocity+=rt,z.rotation+=z.angularVelocity*V},computeVelocity:function(z,V){var K=z.velocity.x,Q=z.acceleration.x,_=z.drag.x,tt=z.maxVelocity.x,rt=z.velocity.y,ot=z.acceleration.y,ft=z.drag.y,ct=z.maxVelocity.y,gt=z.speed,xt=z.maxSpeed,Mt=z.allowDrag,St=z.useDamping;z.allowGravity&&(K+=(this.gravity.x+z.gravity.x)*V,rt+=(this.gravity.y+z.gravity.y)*V),Q?K+=Q*V:Mt&&_&&(St?(_=Math.pow(_,V),K*=_,gt=Math.sqrt(K*K+rt*rt),p(gt,0,.001)&&(K=0)):(_*=V,m(K-_,0,.01)?K-=_:x(K+_,0,.01)?K+=_:K=0)),ot?rt+=ot*V:Mt&&ft&&(St?(ft=Math.pow(ft,V),rt*=ft,gt=Math.sqrt(K*K+rt*rt),p(gt,0,.001)&&(rt=0)):(ft*=V,m(rt-ft,0,.01)?rt-=ft:x(rt+ft,0,.01)?rt+=ft:rt=0)),K=d(K,-tt,tt),rt=d(rt,-ct,ct),z.velocity.set(K,rt),xt>-1&&z.velocity.length()>xt&&(z.velocity.normalize().scale(xt),gt=xt),z.speed=gt},separate:function(z,V,K,Q,_){var tt,rt,ot=!1,ft=!0;if(!z.enable||!V.enable||z.checkCollision.none||V.checkCollision.none||!this.intersects(z,V)||K&&K.call(Q,z.gameObject||z,V.gameObject||V)===!1)return ot;if(z.isCircle||V.isCircle){var ct=this.separateCircle(z,V,_);ct.result?(ot=!0,ft=!1):(tt=ct.x,rt=ct.y,ft=!0)}if(ft){var gt=!1,xt=!1,Mt=this.OVERLAP_BIAS;_?(gt=B(z,V,_,Mt,tt),xt=k(z,V,_,Mt,rt)):this.forceX||Math.abs(this.gravity.y+z.gravity.y)<Math.abs(this.gravity.x+z.gravity.x)?(gt=B(z,V,_,Mt,tt),this.intersects(z,V)&&(xt=k(z,V,_,Mt,rt))):(xt=k(z,V,_,Mt,rt),this.intersects(z,V)&&(gt=B(z,V,_,Mt,tt))),ot=gt||xt}return ot&&(_?(z.onOverlap||V.onOverlap)&&this.emit(v.OVERLAP,z.gameObject,V.gameObject,z,V):(z.onCollide||V.onCollide)&&this.emit(v.COLLIDE,z.gameObject,V.gameObject,z,V)),ot},separateCircle:function(z,V,K){C(z,V,!1,0),P(z,V,!1,0);var Q=z.isCircle,_=V.isCircle,tt=z.center,rt=V.center,ot=z.immovable,ft=V.immovable,ct=z.velocity,gt=V.velocity,xt=0,Mt=!0;if(Q!==_){Mt=!1;var St=tt.x,$t=tt.y,Yt=z.halfWidth,Ht=V.position.x,Ct=V.position.y,Nt=V.right,Vt=V.bottom;_&&(St=rt.x,$t=rt.y,Yt=V.halfWidth,Ht=z.position.x,Ct=z.position.y,Nt=z.right,Vt=z.bottom),$t<Ct?St<Ht?xt=f(St,$t,Ht,Ct)-Yt:St>Nt&&(xt=f(St,$t,Nt,Ct)-Yt):$t>Vt&&(St<Ht?xt=f(St,$t,Ht,Vt)-Yt:St>Nt&&(xt=f(St,$t,Nt,Vt)-Yt)),xt*=-1}else xt=z.halfWidth+V.halfWidth-c(tt,rt);z.overlapR=xt,V.overlapR=xt;var qt=o(tt,rt),Ce=(xt+R.EPSILON)*Math.cos(qt),ze=(xt+R.EPSILON)*Math.sin(qt),ye={overlap:xt,result:!1,x:Ce,y:ze};if(K&&(!Mt||Mt&&xt!==0))return ye.result=!0,ye;if(!Mt&&xt===0||ot&&ft||z.customSeparateX||V.customSeparateX)return ye.x=void 0,ye.y=void 0,ye;var Be=!z.pushable&&!V.pushable;if(Mt){var Gt=tt.x-rt.x,Xt=tt.y-rt.y,ee=Math.sqrt(Math.pow(Gt,2)+Math.pow(Xt,2)),Se=(rt.x-tt.x)/ee||0,we=(rt.y-tt.y)/ee||0,Ze=2*(ct.x*Se+ct.y*we-gt.x*Se-gt.y*we)/(z.mass+V.mass);(ot||ft||!z.pushable||!V.pushable)&&(Ze*=2),!ot&&z.pushable&&(ct.x=ct.x-Ze/z.mass*Se,ct.y=ct.y-Ze/z.mass*we,ct.multiply(z.bounce)),!ft&&V.pushable&&(gt.x=gt.x+Ze/V.mass*Se,gt.y=gt.y+Ze/V.mass*we,gt.multiply(V.bounce)),!ot&&!ft&&(Ce*=.5,ze*=.5),(!ot||z.pushable||Be)&&(z.x-=Ce,z.y-=ze,z.updateCenter()),(!ft||V.pushable||Be)&&(V.x+=Ce,V.y+=ze,V.updateCenter()),ye.result=!0}else(!ot||z.pushable||Be)&&(z.x-=Ce,z.y-=ze,z.updateCenter()),(!ft||V.pushable||Be)&&(V.x+=Ce,V.y+=ze,V.updateCenter()),ye.x=void 0,ye.y=void 0;return ye},intersects:function(z,V){return z===V?!1:!z.isCircle&&!V.isCircle?!(z.right<=V.left||z.bottom<=V.top||z.left>=V.right||z.top>=V.bottom):z.isCircle?V.isCircle?c(z.center,V.center)<=z.halfWidth+V.halfWidth:this.circleBodyIntersects(z,V):this.circleBodyIntersects(V,z)},circleBodyIntersects:function(z,V){var K=d(z.center.x,V.left,V.right),Q=d(z.center.y,V.top,V.bottom),_=(z.center.x-K)*(z.center.x-K),tt=(z.center.y-Q)*(z.center.y-Q);return _+tt<=z.halfWidth*z.halfWidth},overlap:function(z,V,K,Q,_){return K===void 0&&(K=null),Q===void 0&&(Q=null),_===void 0&&(_=K),this.collideObjects(z,V,K,Q,_,!0)},collide:function(z,V,K,Q,_){return K===void 0&&(K=null),Q===void 0&&(Q=null),_===void 0&&(_=K),this.collideObjects(z,V,K,Q,_,!1)},collideObjects:function(z,V,K,Q,_,tt){var rt,ot;z.isParent&&(z.physicsType===void 0||V===void 0||z===V)&&(z=z.children.entries),V&&V.isParent&&V.physicsType===void 0&&(V=V.children.entries);var ft=Array.isArray(z),ct=Array.isArray(V);if(this._total=0,!ft&&!ct)this.collideHandler(z,V,K,Q,_,tt);else if(!ft&&ct)for(rt=0;rt<V.length;rt++)this.collideHandler(z,V[rt],K,Q,_,tt);else if(ft&&!ct)if(V)for(rt=0;rt<z.length;rt++)this.collideHandler(z[rt],V,K,Q,_,tt);else for(rt=0;rt<z.length;rt++){var gt=z[rt];for(ot=rt+1;ot<z.length;ot++)rt!==ot&&this.collideHandler(gt,z[ot],K,Q,_,tt)}else for(rt=0;rt<z.length;rt++)for(ot=0;ot<V.length;ot++)this.collideHandler(z[rt],V[ot],K,Q,_,tt);return this._total>0},collideHandler:function(z,V,K,Q,_,tt){if(V===void 0&&z.isParent)return this.collideGroupVsGroup(z,z,K,Q,_,tt);if(!z||!V)return!1;if(z.body||z.isBody){if(V.body||V.isBody)return this.collideSpriteVsSprite(z,V,K,Q,_,tt);if(V.isParent)return this.collideSpriteVsGroup(z,V,K,Q,_,tt);if(V.isTilemap)return this.collideSpriteVsTilemapLayer(z,V,K,Q,_,tt)}else if(z.isParent){if(V.body||V.isBody)return this.collideSpriteVsGroup(V,z,K,Q,_,tt);if(V.isParent)return this.collideGroupVsGroup(z,V,K,Q,_,tt);if(V.isTilemap)return this.collideGroupVsTilemapLayer(z,V,K,Q,_,tt)}else if(z.isTilemap){if(V.body||V.isBody)return this.collideSpriteVsTilemapLayer(V,z,K,Q,_,tt);if(V.isParent)return this.collideGroupVsTilemapLayer(V,z,K,Q,_,tt)}},canCollide:function(z,V){return z&&V&&(z.collisionMask&V.collisionCategory)!==0&&(V.collisionMask&z.collisionCategory)!==0},collideSpriteVsSprite:function(z,V,K,Q,_,tt){var rt=z.isBody?z:z.body,ot=V.isBody?V:V.body;return this.canCollide(rt,ot)?(this.separate(rt,ot,Q,_,tt)&&(K&&K.call(_,z,V),this._total++),!0):!1},collideSpriteVsGroup:function(z,V,K,Q,_,tt){var rt=z.isBody?z:z.body;if(!(V.getLength()===0||!rt||!rt.enable||rt.checkCollision.none||!this.canCollide(rt,V))){var ot,ft,ct;if(this.useTree||V.physicsType===a.STATIC_BODY){var gt=this.treeMinMax;gt.minX=rt.left,gt.minY=rt.top,gt.maxX=rt.right,gt.maxY=rt.bottom;var xt=V.physicsType===a.DYNAMIC_BODY?this.tree.search(gt):this.staticTree.search(gt);for(ft=xt.length,ot=0;ot<ft;ot++)ct=xt[ot],!(rt===ct||!ct.enable||ct.checkCollision.none||!V.contains(ct.gameObject))&&this.separate(rt,ct,Q,_,tt)&&(K&&K.call(_,rt.gameObject,ct.gameObject),this._total++)}else{var Mt=V.getChildren(),St=V.children.entries.indexOf(z);for(ft=Mt.length,ot=0;ot<ft;ot++)ct=Mt[ot].body,!(!ct||ot===St||!ct.enable)&&this.separate(rt,ct,Q,_,tt)&&(K&&K.call(_,rt.gameObject,ct.gameObject),this._total++)}}},collideGroupVsTilemapLayer:function(z,V,K,Q,_,tt){if(!this.canCollide(z,V))return!1;var rt=z.getChildren();if(rt.length===0)return!1;for(var ot=!1,ft=0;ft<rt.length;ft++)(rt[ft].body||rt[ft].isBody)&&this.collideSpriteVsTilemapLayer(rt[ft],V,K,Q,_,tt)&&(ot=!0);return ot},collideTiles:function(z,V,K,Q,_){return V.length===0||z.body&&!z.body.enable||z.isBody&&!z.enable?!1:this.collideSpriteVsTilesHandler(z,V,K,Q,_,!1,!1)},overlapTiles:function(z,V,K,Q,_){return V.length===0||z.body&&!z.body.enable||z.isBody&&!z.enable?!1:this.collideSpriteVsTilesHandler(z,V,K,Q,_,!0,!1)},collideSpriteVsTilemapLayer:function(z,V,K,Q,_,tt){var rt=z.isBody?z:z.body;if(!rt.enable||rt.checkCollision.none||!this.canCollide(rt,V))return!1;var ot=V.layer,ft=rt.x-ot.tileWidth*V.scaleX,ct=rt.y-ot.tileHeight*V.scaleY,gt=rt.width+ot.tileWidth*V.scaleX,xt=rt.height+ot.tileHeight*V.scaleY,Mt=tt?null:this.tileFilterOptions,St=w(ft,ct,gt,xt,Mt,V.scene.cameras.main,V.layer);return St.length===0?!1:this.collideSpriteVsTilesHandler(z,St,K,Q,_,tt,!0)},collideSpriteVsTilesHandler:function(z,V,K,Q,_,tt,rt){for(var ot=z.isBody?z:z.body,ft,ct={left:0,right:0,top:0,bottom:0},gt,xt=!1,Mt=0;Mt<V.length;Mt++){ft=V[Mt],gt=ft.tilemapLayer;var St=gt.tileToWorldXY(ft.x,ft.y);ct.left=St.x,ct.top=St.y,ct.right=ct.left+ft.width*gt.scaleX,ct.bottom=ct.top+ft.height*gt.scaleY,X(ct,ot)&&(!Q||Q.call(_,z,ft))&&L(ft,z)&&(tt||I(Mt,ot,ft,ct,gt,this.TILE_BIAS,rt))&&(this._total++,xt=!0,K&&K.call(_,z,ft),tt&&ot.onOverlap?this.emit(v.TILE_OVERLAP,z,ft,ot):ot.onCollide&&this.emit(v.TILE_COLLIDE,z,ft,ot))}return xt},collideGroupVsGroup:function(z,V,K,Q,_,tt){if(!(z.getLength()===0||V.getLength()===0||!this.canCollide(z,V)))for(var rt=z.getChildren(),ot=0;ot<rt.length;ot++)this.collideSpriteVsGroup(rt[ot],V,K,Q,_,tt)},wrap:function(z,V){z.body?this.wrapObject(z,V):z.getChildren?this.wrapArray(z.getChildren(),V):Array.isArray(z)?this.wrapArray(z,V):this.wrapObject(z,V)},wrapArray:function(z,V){for(var K=0;K<z.length;K++)this.wrapObject(z[K],V)},wrapObject:function(z,V){V===void 0&&(V=0),z.x=Y(z.x,this.bounds.left-V,this.bounds.right+V),z.y=Y(z.y,this.bounds.top-V,this.bounds.bottom+V)},shutdown:function(){this.tree.clear(),this.staticTree.clear(),this.bodies.clear(),this.staticBodies.clear(),this.colliders.destroy(),this.removeAllListeners()},destroy:function(){this.shutdown(),this.scene=null,this.debugGraphic&&(this.debugGraphic.destroy(),this.debugGraphic=null)}});n.exports=$}),1093:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setAcceleration:function(r,o){return this.body.acceleration.set(r,o),this},setAccelerationX:function(r){return this.body.acceleration.x=r,this},setAccelerationY:function(r){return this.body.acceleration.y=r,this}};n.exports=T}),59023:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setAngularVelocity:function(r){return this.body.angularVelocity=r,this},setAngularAcceleration:function(r){return this.body.angularAcceleration=r,this},setAngularDrag:function(r){return this.body.angularDrag=r,this}};n.exports=T}),62069:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setBounce:function(r,o){return this.body.bounce.set(r,o),this},setBounceX:function(r){return this.body.bounce.x=r,this},setBounceY:function(r){return this.body.bounce.y=r,this},setCollideWorldBounds:function(r,o,y,d){return this.body.setCollideWorldBounds(r,o,y,d),this}};n.exports=T}),78389:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(79599),y={setCollisionCategory:function(d){var h=this.body?this.body:this;return h.collisionCategory=d,this},willCollideWith:function(d){var h=this.body?this.body:this;return(h.collisionMask&d)!==0},addCollidesWith:function(d){var h=this.body?this.body:this;return h.collisionMask=h.collisionMask|d,this},removeCollidesWith:function(d){var h=this.body?this.body:this;return h.collisionMask=h.collisionMask&~d,this},setCollidesWith:function(d){var h=this.body?this.body:this;return h.collisionMask=o(d),this},resetCollisionCategory:function(){var d=this.body?this.body:this;return d.collisionCategory=1,d.collisionMask=2147483647,this}};n.exports=y}),87118:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setDebug:function(r,o,y){return this.debugShowBody=r,this.debugShowVelocity=o,this.debugBodyColor=y,this},setDebugBodyColor:function(r){return this.body.debugBodyColor=r,this},debugShowBody:{get:function(){return this.body.debugShowBody},set:function(r){this.body.debugShowBody=r}},debugShowVelocity:{get:function(){return this.body.debugShowVelocity},set:function(r){this.body.debugShowVelocity=r}},debugBodyColor:{get:function(){return this.body.debugBodyColor},set:function(r){this.body.debugBodyColor=r}}};n.exports=T}),52819:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setDrag:function(r,o){return this.body.drag.set(r,o),this},setDragX:function(r){return this.body.drag.x=r,this},setDragY:function(r){return this.body.drag.y=r,this},setDamping:function(r){return this.body.useDamping=r,this}};n.exports=T}),4074:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setDirectControl:function(r){return this.body.setDirectControl(r),this},enableBody:function(r,o,y,d,h){return r&&this.body.reset(o,y),d&&(this.body.gameObject.active=!0),h&&(this.body.gameObject.visible=!0),this.body.enable=!0,this},disableBody:function(r,o){return r===void 0&&(r=!1),o===void 0&&(o=!1),this.body.stop(),this.body.enable=!1,r&&(this.body.gameObject.active=!1),o&&(this.body.gameObject.visible=!1),this},refreshBody:function(){return this.body.updateFromGameObject(),this}};n.exports=T}),40831:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setFriction:function(r,o){return this.body.friction.set(r,o),this},setFrictionX:function(r){return this.body.friction.x=r,this},setFrictionY:function(r){return this.body.friction.y=r,this}};n.exports=T}),26775:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setGravity:function(r,o){return this.body.gravity.set(r,o),this},setGravityX:function(r){return this.body.gravity.x=r,this},setGravityY:function(r){return this.body.gravity.y=r,this}};n.exports=T}),9437:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setImmovable:function(r){return r===void 0&&(r=!0),this.body.immovable=r,this}};n.exports=T}),30621:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setMass:function(r){return this.body.mass=r,this}};n.exports=T}),72441:((n,T,r)=>{var o=r(47956),y=r(96503),d=r(2044),h=r(81491),l=function(a,f,c,u,v,p){var m=o(a,f-u,c-u,2*u,2*u,v,p);if(m.length===0)return m;for(var x=new y(f,c,u),C=new y,P=[],w=0;w<m.length;w++){var M=m[w];M.isCircle?(C.setTo(M.center.x,M.center.y,M.halfWidth),d(x,C)&&P.push(M)):h(x,M)&&P.push(M)}return P};n.exports=l}),47956:(n=>{var T=function(r,o,y,d,h,l,a){l===void 0&&(l=!0),a===void 0&&(a=!1);var f=[],c=[],u=r.treeMinMax;if(u.minX=o,u.minY=y,u.maxX=o+d,u.maxY=y+h,a&&(c=r.staticTree.search(u)),l&&r.useTree)f=r.tree.search(u);else if(l){var v=r.bodies,p={position:{x:o,y},left:o,top:y,right:o+d,bottom:y+h,isCircle:!1},m=r.intersects;v.iterate(function(x){m(x,p)&&f.push(x)})}return c.concat(f)};n.exports=T}),62121:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setPushable:function(r){return r===void 0&&(r=!0),this.body.pushable=r,this}};n.exports=T}),29384:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setOffset:function(r,o){return this.body.setOffset(r,o),this},setSize:function(r,o,y){return this.body.setSize(r,o,y),this},setBodySize:function(r,o,y){return this.body.setSize(r,o,y),this},setCircle:function(r,o,y){return this.body.setCircle(r,o,y),this}};n.exports=T}),15098:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setVelocity:function(r,o){return this.body.setVelocity(r,o),this},setVelocityX:function(r){return this.body.setVelocityX(r),this},setVelocityY:function(r){return this.body.setVelocityY(r),this},setMaxVelocity:function(r,o){return this.body.maxVelocity.set(r,o),this}};n.exports=T}),92209:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Acceleration:r(1093),Angular:r(59023),Bounce:r(62069),Collision:r(78389),Debug:r(87118),Drag:r(52819),Enable:r(4074),Friction:r(40831),Gravity:r(26775),Immovable:r(9437),Mass:r(30621),OverlapCirc:r(72441),OverlapRect:r(47956),Pushable:r(62121),Size:r(29384),Velocity:r(15098)}}),37747:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={DYNAMIC_BODY:0,STATIC_BODY:1,GROUP:2,TILEMAPLAYER:3,FACING_NONE:10,FACING_UP:11,FACING_DOWN:12,FACING_LEFT:13,FACING_RIGHT:14};n.exports=T}),20009:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="collide"}),36768:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="overlap"}),60473:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pause"}),89954:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="resume"}),61804:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="tilecollide"}),7161:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="tileoverlap"}),34689:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="worldbounds"}),16006:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="worldstep"}),63012:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={COLLIDE:r(20009),OVERLAP:r(36768),PAUSE:r(60473),RESUME:r(89954),TILE_COLLIDE:r(61804),TILE_OVERLAP:r(7161),WORLD_BOUNDS:r(34689),WORLD_STEP:r(16006)}}),27064:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(37747),y=r(79291),d={ArcadePhysics:r(86689),Body:r(37742),Collider:r(79342),Components:r(92209),Events:r(63012),Factory:r(66022),GetCollidesWith:r(79599),GetOverlapX:r(64897),GetOverlapY:r(45170),SeparateX:r(14087),SeparateY:r(89936),Group:r(60758),Image:r(71289),Sprite:r(13759),StaticBody:r(72624),StaticGroup:r(71464),Tilemap:r(55173),World:r(82248)};d=y(!1,d,o),n.exports=d}),96602:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return r.collisionCallback?!r.collisionCallback.call(r.collisionCallbackContext,o,r):r.layer.callbacks[r.index]?!r.layer.callbacks[r.index].callback.call(r.layer.callbacks[r.index].callbackContext,o,r):!0};n.exports=T}),36294:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){o<0?(r.blocked.none=!1,r.blocked.left=!0):o>0&&(r.blocked.none=!1,r.blocked.right=!0),r.position.x-=o,r.updateCenter(),r.bounce.x===0?r.velocity.x=0:r.velocity.x=-r.velocity.x*r.bounce.x};n.exports=T}),67013:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){o<0?(r.blocked.none=!1,r.blocked.up=!0):o>0&&(r.blocked.none=!1,r.blocked.down=!0),r.position.y-=o,r.updateCenter(),r.bounce.y===0?r.velocity.y=0:r.velocity.y=-r.velocity.y*r.bounce.y};n.exports=T}),40012:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(21329),y=r(53442),d=r(2483),h=function(l,a,f,c,u,v,p){var m=c.left,x=c.top,C=c.right,P=c.bottom,w=f.faceLeft||f.faceRight,M=f.faceTop||f.faceBottom;if(p||(w=!0,M=!0),!w&&!M)return!1;var R=0,A=0,L=0,F=1;if(a.deltaAbsX()>a.deltaAbsY()?L=-1:a.deltaAbsX()<a.deltaAbsY()&&(F=-1),a.deltaX()!==0&&a.deltaY()!==0&&w&&M&&(L=Math.min(Math.abs(a.position.x-C),Math.abs(a.right-m)),F=Math.min(Math.abs(a.position.y-P),Math.abs(a.bottom-x))),L<F){if(w&&(R=o(a,f,m,C,v,p),R!==0&&!d(c,a)))return!0;M&&(A=y(a,f,x,P,v,p))}else{if(M&&(A=y(a,f,x,P,v,p),A!==0&&!d(c,a)))return!0;w&&(R=o(a,f,m,C,v,p))}return R!==0||A!==0};n.exports=h}),21329:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(36294),y=function(d,h,l,a,f,c){var u=0,v=h.faceLeft,p=h.faceRight,m=h.collideLeft,x=h.collideRight;return c||(v=!0,p=!0,m=!0,x=!0),d.deltaX()<0&&x&&d.checkCollision.left?p&&d.x<a&&(u=d.x-a,u<-f&&(u=0)):d.deltaX()>0&&m&&d.checkCollision.right&&v&&d.right>l&&(u=d.right-l,u>f&&(u=0)),u!==0&&(d.customSeparateX?d.overlapX=u:o(d,u)),u};n.exports=y}),53442:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(67013),y=function(d,h,l,a,f,c){var u=0,v=h.faceTop,p=h.faceBottom,m=h.collideUp,x=h.collideDown;return c||(v=!0,p=!0,m=!0,x=!0),d.deltaY()<0&&x&&d.checkCollision.up?p&&d.y<a&&(u=d.y-a,u<-f&&(u=0)):d.deltaY()>0&&m&&d.checkCollision.down&&v&&d.bottom>l&&(u=d.bottom-l,u>f&&(u=0)),u!==0&&(d.customSeparateY?d.overlapY=u:o(d,u)),u};n.exports=y}),2483:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return!(o.right<=r.left||o.bottom<=r.top||o.position.x>=r.right||o.position.y>=r.bottom)};n.exports=T}),55173:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={ProcessTileCallbacks:r(96602),ProcessTileSeparationX:r(36294),ProcessTileSeparationY:r(67013),SeparateTile:r(40012),TileCheckX:r(21329),TileCheckY:r(53442),TileIntersectsBody:r(2483)};n.exports=o}),44563:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Arcade:r(27064),Matter:r(3875)}}),68174:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(26099),d=new o({initialize:function(){this.boundsCenter=new y,this.centerDiff=new y},parseBody:function(h){if(h=h.hasOwnProperty("body")?h.body:h,!h.hasOwnProperty("bounds")||!h.hasOwnProperty("centerOfMass"))return!1;var l=this.boundsCenter,a=this.centerDiff,f=h.bounds.max.x-h.bounds.min.x,c=h.bounds.max.y-h.bounds.min.y,u=f*h.centerOfMass.x,v=c*h.centerOfMass.y;return l.set(f/2,c/2),a.set(u-l.x,v-l.y),!0},getTopLeft:function(h,l,a){if(l===void 0&&(l=0),a===void 0&&(a=0),this.parseBody(h)){var f=this.boundsCenter,c=this.centerDiff;return new y(l+f.x+c.x,a+f.y+c.y)}return!1},getTopCenter:function(h,l,a){if(l===void 0&&(l=0),a===void 0&&(a=0),this.parseBody(h)){var f=this.boundsCenter,c=this.centerDiff;return new y(l+c.x,a+f.y+c.y)}return!1},getTopRight:function(h,l,a){if(l===void 0&&(l=0),a===void 0&&(a=0),this.parseBody(h)){var f=this.boundsCenter,c=this.centerDiff;return new y(l-(f.x-c.x),a+f.y+c.y)}return!1},getLeftCenter:function(h,l,a){if(l===void 0&&(l=0),a===void 0&&(a=0),this.parseBody(h)){var f=this.boundsCenter,c=this.centerDiff;return new y(l+f.x+c.x,a+c.y)}return!1},getCenter:function(h,l,a){if(l===void 0&&(l=0),a===void 0&&(a=0),this.parseBody(h)){var f=this.centerDiff;return new y(l+f.x,a+f.y)}return!1},getRightCenter:function(h,l,a){if(l===void 0&&(l=0),a===void 0&&(a=0),this.parseBody(h)){var f=this.boundsCenter,c=this.centerDiff;return new y(l-(f.x-c.x),a+c.y)}return!1},getBottomLeft:function(h,l,a){if(l===void 0&&(l=0),a===void 0&&(a=0),this.parseBody(h)){var f=this.boundsCenter,c=this.centerDiff;return new y(l+f.x+c.x,a-(f.y-c.y))}return!1},getBottomCenter:function(h,l,a){if(l===void 0&&(l=0),a===void 0&&(a=0),this.parseBody(h)){var f=this.boundsCenter,c=this.centerDiff;return new y(l+c.x,a-(f.y-c.y))}return!1},getBottomRight:function(h,l,a){if(l===void 0&&(l=0),a===void 0&&(a=0),this.parseBody(h)){var f=this.boundsCenter,c=this.centerDiff;return new y(l-(f.x-c.x),a-(f.y-c.y))}return!1}});n.exports=d}),19933:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(6790);o.Body=r(22562),o.Composite=r(69351),o.World=r(4372),o.Collision=r(52284),o.Detector=r(81388),o.Pairs=r(99561),o.Pair=r(4506),o.Query=r(73296),o.Resolver=r(66272),o.Constraint=r(48140),o.Common=r(53402),o.Engine=r(48413),o.Events=r(35810),o.Sleeping=r(53614),o.Plugin=r(73832),o.Bodies=r(66280),o.Composites=r(74116),o.Axes=r(66615),o.Bounds=r(15647),o.Svg=r(74058),o.Vector=r(31725),o.Vertices=r(41598),o.World.add=o.Composite.add,o.World.remove=o.Composite.remove,o.World.addComposite=o.Composite.addComposite,o.World.addBody=o.Composite.addBody,o.World.addConstraint=o.Composite.addConstraint,o.World.clear=o.Composite.clear,n.exports=o}),28137:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(66280),y=r(83419),d=r(74116),h=r(48140),l=r(74058),a=r(75803),f=r(23181),c=r(34803),u=r(73834),v=r(19496),p=r(85791),m=r(98713),x=r(41598),C=new y({initialize:function(w){this.world=w,this.scene=w.scene,this.sys=w.scene.sys},rectangle:function(P,w,M,R,A){var L=o.rectangle(P,w,M,R,A);return this.world.add(L),L},trapezoid:function(P,w,M,R,A,L){var F=o.trapezoid(P,w,M,R,A,L);return this.world.add(F),F},circle:function(P,w,M,R,A){var L=o.circle(P,w,M,R,A);return this.world.add(L),L},polygon:function(P,w,M,R,A){var L=o.polygon(P,w,M,R,A);return this.world.add(L),L},fromVertices:function(P,w,M,R,A,L,F){typeof M=="string"&&(M=x.fromPath(M));var G=o.fromVertices(P,w,M,R,A,L,F);return this.world.add(G),G},fromPhysicsEditor:function(P,w,M,R,A){A===void 0&&(A=!0);var L=v.parseBody(P,w,M,R);return A&&!this.world.has(L)&&this.world.add(L),L},fromSVG:function(P,w,M,R,A,L){R===void 0&&(R=1),A===void 0&&(A={}),L===void 0&&(L=!0);for(var F=M.getElementsByTagName("path"),G=[],I=0;I<F.length;I++){var B=l.pathToVertices(F[I],30);R!==1&&x.scale(B,R,R),G.push(B)}var k=o.fromVertices(P,w,G,A);return L&&this.world.add(k),k},fromJSON:function(P,w,M,R,A){R===void 0&&(R={}),A===void 0&&(A=!0);var L=p.parseBody(P,w,M,R);return L&&A&&this.world.add(L),L},imageStack:function(P,w,M,R,A,L,F,G,I){F===void 0&&(F=0),G===void 0&&(G=0),I===void 0&&(I={});var B=this.world,k=this.sys.displayList;I.addToWorld=!1;var U=d.stack(M,R,A,L,F,G,function(H,X){var j=new f(B,H,X,P,w,I);return k.add(j),j.body});return B.add(U),U},stack:function(P,w,M,R,A,L,F){var G=d.stack(P,w,M,R,A,L,F);return this.world.add(G),G},pyramid:function(P,w,M,R,A,L,F){var G=d.pyramid(P,w,M,R,A,L,F);return this.world.add(G),G},chain:function(P,w,M,R,A,L){return d.chain(P,w,M,R,A,L)},mesh:function(P,w,M,R,A){return d.mesh(P,w,M,R,A)},newtonsCradle:function(P,w,M,R,A){var L=d.newtonsCradle(P,w,M,R,A);return this.world.add(L),L},car:function(P,w,M,R,A){var L=d.car(P,w,M,R,A);return this.world.add(L),L},softBody:function(P,w,M,R,A,L,F,G,I,B){var k=d.softBody(P,w,M,R,A,L,F,G,I,B);return this.world.add(k),k},joint:function(P,w,M,R,A){return this.constraint(P,w,M,R,A)},spring:function(P,w,M,R,A){return this.constraint(P,w,M,R,A)},constraint:function(P,w,M,R,A){R===void 0&&(R=1),A===void 0&&(A={}),A.bodyA=P.type==="body"?P:P.body,A.bodyB=w.type==="body"?w:w.body,isNaN(M)||(A.length=M),A.stiffness=R;var L=h.create(A);return this.world.add(L),L},worldConstraint:function(P,w,M,R){M===void 0&&(M=1),R===void 0&&(R={}),R.bodyB=P.type==="body"?P:P.body,isNaN(w)||(R.length=w),R.stiffness=M;var A=h.create(R);return this.world.add(A),A},mouseSpring:function(P){return this.pointerConstraint(P)},pointerConstraint:function(P){P===void 0&&(P={}),P.hasOwnProperty("render")||(P.render={visible:!1});var w=new m(this.scene,this.world,P);return this.world.add(w.constraint),w},image:function(P,w,M,R,A){var L=new f(this.world,P,w,M,R,A);return this.sys.displayList.add(L),L},tileBody:function(P,w){return new u(this.world,P,w)},sprite:function(P,w,M,R,A){var L=new c(this.world,P,w,M,R,A);return this.sys.displayList.add(L),this.sys.updateList.add(L),L},gameObject:function(P,w,M){return a(this.world,P,w,M)},destroy:function(){this.world=null,this.scene=null,this.sys=null}});n.exports=C}),75803:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(31884),y=r(95540),d=r(26099);function h(a){return!!a.get&&typeof a.get=="function"||!!a.set&&typeof a.set=="function"}var l=function(a,f,c,u){c===void 0&&(c={}),u===void 0&&(u=!0);var v=f.x,p=f.y;f.body={temp:!0,position:{x:v,y:p}};var m=[o.Bounce,o.Collision,o.Force,o.Friction,o.Gravity,o.Mass,o.Sensor,o.SetBody,o.Sleep,o.Static,o.Transform,o.Velocity];if(m.forEach(function(C){for(var P in C)h(C[P])?Object.defineProperty(f,P,{get:C[P].get,set:C[P].set}):Object.defineProperty(f,P,{value:C[P]})}),f.world=a,f._tempVec2=new d(v,p),c.hasOwnProperty("type")&&c.type==="body")f.setExistingBody(c,u);else{var x=y(c,"shape",null);x||(x="rectangle"),c.addToWorld=u,f.setBody(x,c)}return f};n.exports=l}),23181:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(31884),d=r(95643),h=r(95540),l=r(88571),a=r(72699),f=r(26099),c=new o({Extends:l,Mixins:[y.Bounce,y.Collision,y.Force,y.Friction,y.Gravity,y.Mass,y.Sensor,y.SetBody,y.Sleep,y.Static,y.Transform,y.Velocity,a],initialize:function(v,p,m,x,C,P){d.call(this,v.scene,"Image"),this._crop=this.resetCropObject(),this.setTexture(x,C),this.setSizeToFrame(),this.setOrigin(),this.world=v,this._tempVec2=new f(p,m);var w=h(P,"shape",null);w?this.setBody(w,P):this.setRectangle(this.width,this.height,P),this.setPosition(p,m),this.initPipeline(),this.initPostPipeline(!0)}});n.exports=c}),42045:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(60461),y=r(66615),d=r(66280),h=r(22562),l=r(68174),a=r(15647),f=r(83419),c=r(52284),u=r(53402),v=r(69351),p=r(74116),m=r(48140),x=r(81388),C=r(20339),P=r(28137),w=r(95540),M=r(35154),R=r(46975),A=r(4506),L=r(99561),F=r(37277),G=r(73296),I=r(66272),B=r(44594),k=r(74058),U=r(31725),H=r(41598),X=r(68243);u.setDecomp(r(55973));var j=new f({initialize:function(Y){this.scene=Y,this.systems=Y.sys,this.config=this.getConfig(),this.world,this.add,this.bodyBounds,this.body=h,this.composite=v,this.collision=c,this.detector=x,this.pair=A,this.pairs=L,this.query=G,this.resolver=I,this.constraint=m,this.bodies=d,this.composites=p,this.axes=y,this.bounds=a,this.svg=k,this.vector=U,this.vertices=H,this.verts=H,this._tempVec2=U.create(),I._restingThresh=M(this.config,"restingThresh",4),I._restingThreshTangent=M(this.config,"restingThreshTangent",6),I._positionDampen=M(this.config,"positionDampen",.9),I._positionWarming=M(this.config,"positionWarming",.8),I._frictionNormalMultiplier=M(this.config,"frictionNormalMultiplier",5),Y.sys.events.once(B.BOOT,this.boot,this),Y.sys.events.on(B.START,this.start,this)},boot:function(){this.world=new X(this.scene,this.config),this.add=new P(this.world),this.bodyBounds=new l,this.systems.events.once(B.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new X(this.scene,this.config),this.add=new P(this.world));var Z=this.systems.events;Z.on(B.UPDATE,this.world.update,this.world),Z.on(B.POST_UPDATE,this.world.postUpdate,this.world),Z.once(B.SHUTDOWN,this.shutdown,this)},getConfig:function(){var Z=this.systems.game.config.physics,Y=this.systems.settings.physics,$=R(w(Y,"matter",{}),w(Z,"matter",{}));return $},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},set60Hz:function(){return this.world.getDelta=this.world.update60Hz,this.world.autoUpdate=!0,this},set30Hz:function(){return this.world.getDelta=this.world.update30Hz,this.world.autoUpdate=!0,this},step:function(Z,Y){this.world.step(Z,Y)},containsPoint:function(Z,Y,$){Z=this.getMatterBodies(Z);var z=U.create(Y,$),V=G.point(Z,z);return V.length>0},intersectPoint:function(Z,Y,$){$=this.getMatterBodies($);var z=U.create(Z,Y),V=[],K=G.point($,z);return K.forEach(function(Q){V.indexOf(Q)===-1&&V.push(Q)}),V},intersectRect:function(Z,Y,$,z,V,K){V===void 0&&(V=!1),K=this.getMatterBodies(K);var Q={min:{x:Z,y:Y},max:{x:Z+$,y:Y+z}},_=[],tt=G.region(K,Q,V);return tt.forEach(function(rt){_.indexOf(rt)===-1&&_.push(rt)}),_},intersectRay:function(Z,Y,$,z,V,K){V===void 0&&(V=1),K=this.getMatterBodies(K);for(var Q=[],_=G.ray(K,U.create(Z,Y),U.create($,z),V),tt=0;tt<_.length;tt++)Q.push(_[tt].body);return Q},intersectBody:function(Z,Y){Y=this.getMatterBodies(Y);for(var $=[],z=G.collides(Z,Y),V=0;V<z.length;V++){var K=z[V];K.bodyA===Z?$.push(K.bodyB):$.push(K.bodyA)}return $},overlap:function(Z,Y,$,z,V){$===void 0&&($=null),z===void 0&&(z=null),V===void 0&&(V=$),Array.isArray(Z)||(Z=[Z]),Z=this.getMatterBodies(Z),Y=this.getMatterBodies(Y);for(var K=!1,Q=0;Q<Z.length;Q++)for(var _=Z[Q],tt=G.collides(_,Y),rt=0;rt<tt.length;rt++){var ot=tt[rt],ft=ot.bodyA.id===_.id?ot.bodyB:ot.bodyA;if(!z||z.call(V,_,ft,ot)){if(K=!0,$)$.call(V,_,ft,ot);else if(!z)return!0}}return K},setCollisionCategory:function(Z,Y){return Z=this.getMatterBodies(Z),Z.forEach(function($){$.collisionFilter.category=Y}),this},setCollisionGroup:function(Z,Y){return Z=this.getMatterBodies(Z),Z.forEach(function($){$.collisionFilter.group=Y}),this},setCollidesWith:function(Z,Y){Z=this.getMatterBodies(Z);var $=0;if(!Array.isArray(Y))$=Y;else for(var z=0;z<Y.length;z++)$|=Y[z];return Z.forEach(function(V){V.collisionFilter.mask=$}),this},getMatterBodies:function(Z){if(!Z)return this.world.getAllBodies();Array.isArray(Z)||(Z=[Z]);for(var Y=[],$=0;$<Z.length;$++){var z=Z[$].hasOwnProperty("body")?Z[$].body:Z[$];Y.push(z)}return Y},setVelocity:function(Z,Y,$){Z=this.getMatterBodies(Z);var z=this._tempVec2;return z.x=Y,z.y=$,Z.forEach(function(V){h.setVelocity(V,z)}),this},setVelocityX:function(Z,Y){Z=this.getMatterBodies(Z);var $=this._tempVec2;return $.x=Y,Z.forEach(function(z){$.y=z.velocity.y,h.setVelocity(z,$)}),this},setVelocityY:function(Z,Y){Z=this.getMatterBodies(Z);var $=this._tempVec2;return $.y=Y,Z.forEach(function(z){$.x=z.velocity.x,h.setVelocity(z,$)}),this},setAngularVelocity:function(Z,Y){return Z=this.getMatterBodies(Z),Z.forEach(function($){h.setAngularVelocity($,Y)}),this},applyForce:function(Z,Y){Z=this.getMatterBodies(Z);var $=this._tempVec2;return Z.forEach(function(z){$.x=z.position.x,$.y=z.position.y,h.applyForce(z,$,Y)}),this},applyForceFromPosition:function(Z,Y,$,z){Z=this.getMatterBodies(Z);var V=this._tempVec2;return Z.forEach(function(K){z===void 0&&(z=K.angle),V.x=$*Math.cos(z),V.y=$*Math.sin(z),h.applyForce(K,Y,V)}),this},applyForceFromAngle:function(Z,Y,$){Z=this.getMatterBodies(Z);var z=this._tempVec2;return Z.forEach(function(V){$===void 0&&($=V.angle),z.x=Y*Math.cos($),z.y=Y*Math.sin($),h.applyForce(V,{x:V.position.x,y:V.position.y},z)}),this},getConstraintLength:function(Z){var Y=Z.pointA.x,$=Z.pointA.y,z=Z.pointB.x,V=Z.pointB.y;return Z.bodyA&&(Y+=Z.bodyA.position.x,$+=Z.bodyA.position.y),Z.bodyB&&(z+=Z.bodyB.position.x,V+=Z.bodyB.position.y),C(Y,$,z,V)},alignBody:function(Z,Y,$,z){Z=Z.hasOwnProperty("body")?Z.body:Z;var V;switch(z){case o.TOP_LEFT:case o.LEFT_TOP:V=this.bodyBounds.getTopLeft(Z,Y,$);break;case o.TOP_CENTER:V=this.bodyBounds.getTopCenter(Z,Y,$);break;case o.TOP_RIGHT:case o.RIGHT_TOP:V=this.bodyBounds.getTopRight(Z,Y,$);break;case o.LEFT_CENTER:V=this.bodyBounds.getLeftCenter(Z,Y,$);break;case o.CENTER:V=this.bodyBounds.getCenter(Z,Y,$);break;case o.RIGHT_CENTER:V=this.bodyBounds.getRightCenter(Z,Y,$);break;case o.LEFT_BOTTOM:case o.BOTTOM_LEFT:V=this.bodyBounds.getBottomLeft(Z,Y,$);break;case o.BOTTOM_CENTER:V=this.bodyBounds.getBottomCenter(Z,Y,$);break;case o.BOTTOM_RIGHT:case o.RIGHT_BOTTOM:V=this.bodyBounds.getBottomRight(Z,Y,$);break}return V&&h.setPosition(Z,V),this},shutdown:function(){var Z=this.systems.events;this.world&&(Z.off(B.UPDATE,this.world.update,this.world),Z.off(B.POST_UPDATE,this.world.postUpdate,this.world)),Z.off(B.SHUTDOWN,this.shutdown,this),this.add&&this.add.destroy(),this.world&&this.world.destroy(),this.add=null,this.world=null},destroy:function(){this.shutdown(),this.scene.sys.events.off(B.START,this.start,this),this.scene=null,this.systems=null}});F.register("MatterPhysics",j,"matterPhysics"),n.exports=j}),34803:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(9674),y=r(83419),d=r(31884),h=r(95643),l=r(95540),a=r(72699),f=r(68287),c=r(26099),u=new y({Extends:f,Mixins:[d.Bounce,d.Collision,d.Force,d.Friction,d.Gravity,d.Mass,d.Sensor,d.SetBody,d.Sleep,d.Static,d.Transform,d.Velocity,a],initialize:function(p,m,x,C,P,w){h.call(this,p.scene,"Sprite"),this._crop=this.resetCropObject(),this.anims=new o(this),this.setTexture(C,P),this.setSizeToFrame(),this.setOrigin(),this.world=p,this._tempVec2=new c(m,x);var M=l(w,"shape",null);M?this.setBody(M,w):this.setRectangle(this.width,this.height,w),this.setPosition(m,x),this.initPipeline(),this.initPostPipeline(!0)}});n.exports=u}),73834:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(66280),y=r(22562),d=r(83419),h=r(31884),l=r(62644),a=r(50792),f=r(95540),c=r(97022),u=r(41598),v=new d({Extends:a,Mixins:[h.Bounce,h.Collision,h.Friction,h.Gravity,h.Mass,h.Sensor,h.Sleep,h.Static],initialize:function(m,x,C){a.call(this),this.tile=x,this.world=m,x.physics.matterBody&&x.physics.matterBody.destroy(),x.physics.matterBody=this;var P=f(C,"body",null),w=f(C,"addToWorld",!0);if(P)this.setBody(P,w);else{var M=x.getCollisionGroup(),R=f(M,"objects",[]);R.length>0?this.setFromTileCollision(C):this.setFromTileRectangle(C)}if(x.flipX||x.flipY){var A={x:x.getCenterX(),y:x.getCenterY()},L=x.flipX?-1:1,F=x.flipY?-1:1;y.scale(P,L,F,A)}},setFromTileRectangle:function(p){p===void 0&&(p={}),c(p,"isStatic")||(p.isStatic=!0),c(p,"addToWorld")||(p.addToWorld=!0);var m=this.tile.getBounds(),x=m.x+m.width/2,C=m.y+m.height/2,P=o.rectangle(x,C,m.width,m.height,p);return this.setBody(P,p.addToWorld),this},setFromTileCollision:function(p){p===void 0&&(p={}),c(p,"isStatic")||(p.isStatic=!0),c(p,"addToWorld")||(p.addToWorld=!0);for(var m=this.tile.tilemapLayer.scaleX,x=this.tile.tilemapLayer.scaleY,C=this.tile.getLeft(),P=this.tile.getTop(),w=this.tile.getCollisionGroup(),M=f(w,"objects",[]),R=[],A=0;A<M.length;A++){var L=M[A],F=C+L.x*m,G=P+L.y*x,I=L.width*m,B=L.height*x,k=null;if(L.rectangle)k=o.rectangle(F+I/2,G+B/2,I,B,p);else if(L.ellipse)k=o.circle(F+I/2,G+B/2,I/2,p);else if(L.polygon||L.polyline){var U=L.polygon?L.polygon:L.polyline,H=U.map(function(Y){return{x:Y.x*m,y:Y.y*x}}),X=u.create(H),j=u.centre(X);F+=j.x,G+=j.y,k=o.fromVertices(F,G,X,p)}k&&R.push(k)}if(R.length===1)this.setBody(R[0],p.addToWorld);else if(R.length>1){var Z=l(p);Z.parts=R,this.setBody(y.create(Z),Z.addToWorld)}return this},setBody:function(p,m){return m===void 0&&(m=!0),this.body&&this.removeBody(),this.body=p,this.body.gameObject=this,m&&this.world.add(this.body),this},removeBody:function(){return this.body&&(this.world.remove(this.body),this.body.gameObject=void 0,this.body=void 0),this},destroy:function(){this.removeBody(),this.tile.physics.matterBody=void 0,this.removeAllListeners()}});n.exports=v}),19496:((n,T,r)=>{/**
 * @author       Joachim Grill <joachim@codeandweb.com>
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2018 CodeAndWeb GmbH
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(66280),y=r(22562),d=r(53402),h=r(95540),l=r(41598),a={parseBody:function(f,c,u,v){v===void 0&&(v={});for(var p=h(u,"fixtures",[]),m=[],x=0;x<p.length;x++)for(var C=this.parseFixture(p[x]),P=0;P<C.length;P++)m.push(C[P]);var w=d.clone(u,!0);d.extend(w,v,!0),delete w.fixtures,delete w.type;var M=y.create(w);return y.setParts(M,m),y.setPosition(M,{x:f,y:c}),M},parseFixture:function(f){var c=d.extend({},!1,f);delete c.circle,delete c.vertices;var u;if(f.circle){var v=h(f.circle,"x"),p=h(f.circle,"y"),m=h(f.circle,"radius");u=[o.circle(v,p,m,c)]}else f.vertices&&(u=this.parseVertices(f.vertices,c));return u},parseVertices:function(f,c){c===void 0&&(c={});for(var u=[],v=0;v<f.length;v++)l.clockwiseSort(f[v]),u.push(y.create(d.extend({position:l.centre(f[v]),vertices:f[v]},c)));return o.flagCoincidentParts(u)}};n.exports=a}),85791:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(66280),y=r(22562),d={parseBody:function(h,l,a,f){f===void 0&&(f={});var c,u=a.vertices;if(u.length===1)f.vertices=u[0],c=y.create(f),o.flagCoincidentParts(c.parts);else{for(var v=[],p=0;p<u.length;p++){var m=y.create({vertices:u[p]});v.push(m)}o.flagCoincidentParts(v),f.parts=v,c=y.create(f)}return c.label=a.label,y.setPosition(c,{x:h,y:l}),c}};n.exports=d}),98713:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(15647),y=r(83419),d=r(69351),h=r(48140),l=r(81388),a=r(1121),f=r(8214),c=r(46975),u=r(53614),v=r(26099),p=r(41598),m=new y({initialize:function(C,P,w){w===void 0&&(w={});var M={label:"Pointer Constraint",pointA:{x:0,y:0},pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,collisionFilter:{category:1,mask:4294967295,group:0}};this.scene=C,this.world=P,this.camera=null,this.pointer=null,this.active=!0,this.position=new v,this.body=null,this.part=null,this.constraint=h.create(c(w,M)),this.world.on(a.BEFORE_UPDATE,this.update,this),C.sys.input.on(f.POINTER_DOWN,this.onDown,this),C.sys.input.on(f.POINTER_UP,this.onUp,this)},onDown:function(x){this.pointer||(this.pointer=x,this.camera=x.camera)},onUp:function(x){x===this.pointer&&(this.pointer=null)},getBody:function(x){var C=this.position,P=this.constraint;this.camera.getWorldPoint(x.x,x.y,C);for(var w=d.allBodies(this.world.localWorld),M=0;M<w.length;M++){var R=w[M];if(!R.ignorePointer&&o.contains(R.bounds,C)&&l.canCollide(R.collisionFilter,P.collisionFilter)&&this.hitTestBody(R,C))return this.world.emit(a.DRAG_START,R,this.part,this),!0}return!1},hitTestBody:function(x,C){for(var P=this.constraint,w=x.parts.length,M=w>1?1:0,R=M;R<w;R++){var A=x.parts[R];if(p.contains(A.vertices,C))return P.pointA=C,P.pointB={x:C.x-x.position.x,y:C.y-x.position.y},P.bodyB=x,P.angleB=x.angle,u.set(x,!1),this.part=A,this.body=x,!0}return!1},update:function(){var x=this.pointer,C=this.body;if(!this.active||!x){C&&this.stopDrag();return}if(!x.isDown&&C){this.stopDrag();return}else if(x.isDown){if(!this.camera||!C&&!this.getBody(x))return;C=this.body;var P=this.position,w=this.constraint;this.camera.getWorldPoint(x.x,x.y,P),w.pointA.x=P.x,w.pointA.y=P.y,u.set(C,!1),this.world.emit(a.DRAG,C,this)}},stopDrag:function(){var x=this.body,C=this.constraint;C.bodyB=null,C.pointB=null,this.pointer=null,this.body=null,this.part=null,x&&this.world.emit(a.DRAG_END,x,this)},destroy:function(){this.world.removeConstraint(this.constraint),this.pointer=null,this.constraint=null,this.body=null,this.part=null,this.world.off(a.BEFORE_UPDATE,this.update),this.scene.sys.input.off(f.POINTER_DOWN,this.onDown,this),this.scene.sys.input.off(f.POINTER_UP,this.onUp,this)}});n.exports=m}),68243:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(66280),y=r(22562),d=r(83419),h=r(53402),l=r(69351),a=r(48413),f=r(50792),c=r(1121),u=r(95540),v=r(35154),p=r(22562),m=r(35810),x=r(73834),C=r(4372),P=r(13037),w=r(31725),M=new d({Extends:f,initialize:function(A,L){f.call(this),this.scene=A,this.engine=a.create(L),this.localWorld=this.engine.world;var F=v(L,"gravity",null);F?this.setGravity(F.x,F.y,F.scale):F===!1&&this.setGravity(0,0,0),this.walls={left:null,right:null,top:null,bottom:null},this.enabled=v(L,"enabled",!0),this.getDelta=v(L,"getDelta",this.update60Hz);var G=u(L,"runner",{}),I=u(G,"fps",!1);I&&(G.delta=1e3/u(G,"fps",60)),this.runner=P.create(G),this.autoUpdate=v(L,"autoUpdate",!0);var B=v(L,"debug",!1);if(this.drawDebug=typeof B=="object"?!0:B,this.debugGraphic,this.debugConfig={showAxes:u(B,"showAxes",!1),showAngleIndicator:u(B,"showAngleIndicator",!1),angleColor:u(B,"angleColor",15208787),showBroadphase:u(B,"showBroadphase",!1),broadphaseColor:u(B,"broadphaseColor",16757760),showBounds:u(B,"showBounds",!1),boundsColor:u(B,"boundsColor",16777215),showVelocity:u(B,"showVelocity",!1),velocityColor:u(B,"velocityColor",44783),showCollisions:u(B,"showCollisions",!1),collisionColor:u(B,"collisionColor",16094476),showSeparations:u(B,"showSeparations",!1),separationColor:u(B,"separationColor",16753920),showBody:u(B,"showBody",!0),showStaticBody:u(B,"showStaticBody",!0),showInternalEdges:u(B,"showInternalEdges",!1),renderFill:u(B,"renderFill",!1),renderLine:u(B,"renderLine",!0),fillColor:u(B,"fillColor",1075465),fillOpacity:u(B,"fillOpacity",1),lineColor:u(B,"lineColor",2678297),lineOpacity:u(B,"lineOpacity",1),lineThickness:u(B,"lineThickness",1),staticFillColor:u(B,"staticFillColor",857979),staticLineColor:u(B,"staticLineColor",1255396),showSleeping:u(B,"showSleeping",!1),staticBodySleepOpacity:u(B,"staticBodySleepOpacity",.7),sleepFillColor:u(B,"sleepFillColor",4605510),sleepLineColor:u(B,"sleepLineColor",10066585),showSensors:u(B,"showSensors",!0),sensorFillColor:u(B,"sensorFillColor",857979),sensorLineColor:u(B,"sensorLineColor",1255396),showPositions:u(B,"showPositions",!0),positionSize:u(B,"positionSize",4),positionColor:u(B,"positionColor",14697178),showJoint:u(B,"showJoint",!0),jointColor:u(B,"jointColor",14737474),jointLineOpacity:u(B,"jointLineOpacity",1),jointLineThickness:u(B,"jointLineThickness",2),pinSize:u(B,"pinSize",4),pinColor:u(B,"pinColor",4382944),springColor:u(B,"springColor",14697184),anchorColor:u(B,"anchorColor",15724527),anchorSize:u(B,"anchorSize",4),showConvexHulls:u(B,"showConvexHulls",!1),hullColor:u(B,"hullColor",14091216)},this.drawDebug&&this.createDebugGraphic(),this.setEventsProxy(),u(L,"setBounds",!1)){var k=L.setBounds;if(typeof k=="boolean")this.setBounds();else{var U=u(k,"x",0),H=u(k,"y",0),X=u(k,"width",A.sys.scale.width),j=u(k,"height",A.sys.scale.height),Z=u(k,"thickness",64),Y=u(k,"left",!0),$=u(k,"right",!0),z=u(k,"top",!0),V=u(k,"bottom",!0);this.setBounds(U,H,X,j,Z,Y,$,z,V)}}},setCompositeRenderStyle:function(R){var A=R.bodies,L=R.constraints,F=R.composites,G,I,B;for(G=0;G<A.length;G++)I=A[G],B=I.render,this.setBodyRenderStyle(I,B.lineColor,B.lineOpacity,B.lineThickness,B.fillColor,B.fillOpacity);for(G=0;G<L.length;G++)I=L[G],B=I.render,this.setConstraintRenderStyle(I,B.lineColor,B.lineOpacity,B.lineThickness,B.pinSize,B.anchorColor,B.anchorSize);for(G=0;G<F.length;G++)I=F[G],this.setCompositeRenderStyle(I);return this},setBodyRenderStyle:function(R,A,L,F,G,I){var B=R.render,k=this.debugConfig;return B?(A==null&&(A=R.isStatic?k.staticLineColor:k.lineColor),L==null&&(L=k.lineOpacity),F==null&&(F=k.lineThickness),G==null&&(G=R.isStatic?k.staticFillColor:k.fillColor),I==null&&(I=k.fillOpacity),A!==!1&&(B.lineColor=A),L!==!1&&(B.lineOpacity=L),F!==!1&&(B.lineThickness=F),G!==!1&&(B.fillColor=G),I!==!1&&(B.fillOpacity=I),this):this},setConstraintRenderStyle:function(R,A,L,F,G,I,B){var k=R.render,U=this.debugConfig;if(!k)return this;if(A==null){var H=k.type;H==="line"?A=U.jointColor:H==="pin"?A=U.pinColor:H==="spring"&&(A=U.springColor)}return L==null&&(L=U.jointLineOpacity),F==null&&(F=U.jointLineThickness),G==null&&(G=U.pinSize),I==null&&(I=U.anchorColor),B==null&&(B=U.anchorSize),A!==!1&&(k.lineColor=A),L!==!1&&(k.lineOpacity=L),F!==!1&&(k.lineThickness=F),G!==!1&&(k.pinSize=G),I!==!1&&(k.anchorColor=I),B!==!1&&(k.anchorSize=B),this},setEventsProxy:function(){var R=this,A=this.engine,L=this.localWorld;this.drawDebug&&(m.on(L,"compositeModified",function(F){R.setCompositeRenderStyle(F)}),m.on(L,"beforeAdd",function(F){for(var G=[].concat(F.object),I=0;I<G.length;I++){var B=G[I],k=B.render;B.type==="body"?R.setBodyRenderStyle(B,k.lineColor,k.lineOpacity,k.lineThickness,k.fillColor,k.fillOpacity):B.type==="composite"?R.setCompositeRenderStyle(B):B.type==="constraint"&&R.setConstraintRenderStyle(B,k.lineColor,k.lineOpacity,k.lineThickness,k.pinSize,k.anchorColor,k.anchorSize)}})),m.on(L,"beforeAdd",function(F){R.emit(c.BEFORE_ADD,F)}),m.on(L,"afterAdd",function(F){R.emit(c.AFTER_ADD,F)}),m.on(L,"beforeRemove",function(F){R.emit(c.BEFORE_REMOVE,F)}),m.on(L,"afterRemove",function(F){R.emit(c.AFTER_REMOVE,F)}),m.on(A,"beforeUpdate",function(F){R.emit(c.BEFORE_UPDATE,F)}),m.on(A,"afterUpdate",function(F){R.emit(c.AFTER_UPDATE,F)}),m.on(A,"collisionStart",function(F){var G=F.pairs,I,B;G.length>0&&G.map(function(k){I=k.bodyA,B=k.bodyB,I.gameObject&&I.gameObject.emit("collide",I,B,k),B.gameObject&&B.gameObject.emit("collide",B,I,k),m.trigger(I,"onCollide",{pair:k}),m.trigger(B,"onCollide",{pair:k}),I.onCollideCallback&&I.onCollideCallback(k),B.onCollideCallback&&B.onCollideCallback(k),I.onCollideWith[B.id]&&I.onCollideWith[B.id](B,k),B.onCollideWith[I.id]&&B.onCollideWith[I.id](I,k)}),R.emit(c.COLLISION_START,F,I,B)}),m.on(A,"collisionActive",function(F){var G=F.pairs,I,B;G.length>0&&G.map(function(k){I=k.bodyA,B=k.bodyB,I.gameObject&&I.gameObject.emit("collideActive",I,B,k),B.gameObject&&B.gameObject.emit("collideActive",B,I,k),m.trigger(I,"onCollideActive",{pair:k}),m.trigger(B,"onCollideActive",{pair:k}),I.onCollideActiveCallback&&I.onCollideActiveCallback(k),B.onCollideActiveCallback&&B.onCollideActiveCallback(k)}),R.emit(c.COLLISION_ACTIVE,F,I,B)}),m.on(A,"collisionEnd",function(F){var G=F.pairs,I,B;G.length>0&&G.map(function(k){I=k.bodyA,B=k.bodyB,I.gameObject&&I.gameObject.emit("collideEnd",I,B,k),B.gameObject&&B.gameObject.emit("collideEnd",B,I,k),m.trigger(I,"onCollideEnd",{pair:k}),m.trigger(B,"onCollideEnd",{pair:k}),I.onCollideEndCallback&&I.onCollideEndCallback(k),B.onCollideEndCallback&&B.onCollideEndCallback(k)}),R.emit(c.COLLISION_END,F,I,B)})},setBounds:function(R,A,L,F,G,I,B,k,U){return R===void 0&&(R=0),A===void 0&&(A=0),L===void 0&&(L=this.scene.sys.scale.width),F===void 0&&(F=this.scene.sys.scale.height),G===void 0&&(G=64),I===void 0&&(I=!0),B===void 0&&(B=!0),k===void 0&&(k=!0),U===void 0&&(U=!0),this.updateWall(I,"left",R-G,A-G,G,F+G*2),this.updateWall(B,"right",R+L,A-G,G,F+G*2),this.updateWall(k,"top",R,A-G,L,G),this.updateWall(U,"bottom",R,A+F,L,G),this},updateWall:function(R,A,L,F,G,I){var B=this.walls[A];R?(B&&C.remove(this.localWorld,B),L+=G/2,F+=I/2,this.walls[A]=this.create(L,F,G,I,{isStatic:!0,friction:0,frictionStatic:0})):(B&&C.remove(this.localWorld,B),this.walls[A]=null)},createDebugGraphic:function(){var R=this.scene.sys.add.graphics({x:0,y:0});return R.setDepth(Number.MAX_VALUE),this.debugGraphic=R,this.drawDebug=!0,R},disableGravity:function(){return this.localWorld.gravity.x=0,this.localWorld.gravity.y=0,this.localWorld.gravity.scale=0,this},setGravity:function(R,A,L){return R===void 0&&(R=0),A===void 0&&(A=1),L===void 0&&(L=.001),this.localWorld.gravity.x=R,this.localWorld.gravity.y=A,this.localWorld.gravity.scale=L,this},create:function(R,A,L,F,G){var I=o.rectangle(R,A,L,F,G);return C.add(this.localWorld,I),I},add:function(R){return C.add(this.localWorld,R),this},remove:function(R,A){Array.isArray(R)||(R=[R]);for(var L=0;L<R.length;L++){var F=R[L],G=F.body?F.body:F;l.remove(this.localWorld,G,A)}return this},removeConstraint:function(R,A){return l.remove(this.localWorld,R,A),this},convertTilemapLayer:function(R,A){var L=R.layer,F=R.getTilesWithin(0,0,L.width,L.height,{isColliding:!0});return this.convertTiles(F,A),this},convertTiles:function(R,A){if(R.length===0)return this;for(var L=0;L<R.length;L++)new x(this,R[L],A);return this},nextGroup:function(R){return p.nextGroup(R)},nextCategory:function(){return p.nextCategory()},pause:function(){return this.enabled=!1,this.emit(c.PAUSE),this},resume:function(){return this.enabled=!0,this.runner.timeLastTick=h.now(),this.emit(c.RESUME),this},update:function(R){if(!(!this.enabled||!this.autoUpdate)){var A=this.engine,L=this.runner,F=h.now(),G=L.delta,I=0,B=R-L.timeLastTick;if((!B||!L.timeLastTick||B>Math.max(P._maxFrameDelta,L.maxFrameTime))&&(B=L.frameDelta||P._frameDeltaFallback),L.frameDeltaSmoothing){L.frameDeltaHistory.push(B),L.frameDeltaHistory=L.frameDeltaHistory.slice(-L.frameDeltaHistorySize);var k=L.frameDeltaHistory.slice(0).sort(),U=L.frameDeltaHistory.slice(k.length*P._smoothingLowerBound,k.length*P._smoothingUpperBound),H=P._mean(U);B=H||B}L.frameDeltaSnapping&&(B=1e3/Math.round(1e3/B)),L.frameDelta=B,L.timeLastTick=R,L.timeBuffer+=L.frameDelta,L.timeBuffer=h.clamp(L.timeBuffer,0,L.frameDelta+G*P._timeBufferMargin),L.lastUpdatesDeferred=0;for(var X=L.maxUpdates||Math.ceil(L.maxFrameTime/G),j=h.now();G>0&&L.timeBuffer>=G*P._timeBufferMargin;){a.update(A,G),L.timeBuffer-=G,I+=1;var Z=h.now()-F,Y=h.now()-j,$=Z+P._elapsedNextEstimate*Y/I;if(I>=X||$>L.maxFrameTime){L.lastUpdatesDeferred=Math.round(Math.max(0,L.timeBuffer/G-P._timeBufferMargin));break}}}},step:function(R){a.update(this.engine,R)},update60Hz:function(){return 1e3/60},update30Hz:function(){return 1e3/30},has:function(R){var A=R.hasOwnProperty("body")?R.body:R;return l.get(this.localWorld,A.id,A.type)!==null},getAllBodies:function(){return l.allBodies(this.localWorld)},getAllConstraints:function(){return l.allConstraints(this.localWorld)},getAllComposites:function(){return l.allComposites(this.localWorld)},postUpdate:function(){if(this.drawDebug){var R=this.debugConfig,A=this.engine,L=this.debugGraphic,F=l.allBodies(this.localWorld);this.debugGraphic.clear(),R.showBroadphase&&A.broadphase.controller&&this.renderGrid(A.broadphase,L,R.broadphaseColor,.5),R.showBounds&&this.renderBodyBounds(F,L,R.boundsColor,.5),(R.showBody||R.showStaticBody)&&this.renderBodies(F),R.showJoint&&this.renderJoints(),(R.showAxes||R.showAngleIndicator)&&this.renderBodyAxes(F,L,R.showAxes,R.angleColor,.5),R.showVelocity&&this.renderBodyVelocity(F,L,R.velocityColor,1,2),R.showSeparations&&this.renderSeparations(A.pairs.list,L,R.separationColor),R.showCollisions&&this.renderCollisions(A.pairs.list,L,R.collisionColor)}},renderGrid:function(R,A,L,F){A.lineStyle(1,L,F);for(var G=h.keys(R.buckets),I=0;I<G.length;I++){var B=G[I];if(!(R.buckets[B].length<2)){var k=B.split(/C|R/);A.strokeRect(parseInt(k[1],10)*R.bucketWidth,parseInt(k[2],10)*R.bucketHeight,R.bucketWidth,R.bucketHeight)}}return this},renderSeparations:function(R,A,L){A.lineStyle(1,L,1);for(var F=0;F<R.length;F++){var G=R[F];if(G.isActive){var I=G.collision,B=I.bodyA,k=I.bodyB,U=B.position,H=k.position,X=I.penetration,j=!B.isStatic&&!k.isStatic?4:1;k.isStatic&&(j=0),A.lineBetween(H.x,H.y,H.x-X.x*j,H.y-X.y*j),j=!B.isStatic&&!k.isStatic?4:1,B.isStatic&&(j=0),A.lineBetween(U.x,U.y,U.x-X.x*j,U.y-X.y*j)}}return this},renderCollisions:function(R,A,L){A.lineStyle(1,L,.5),A.fillStyle(L,1);var F,G;for(F=0;F<R.length;F++)if(G=R[F],!!G.isActive)for(var I=0;I<G.contactCount;I++){var B=G.contacts[I],k=B.vertex;k&&A.fillRect(k.x-2,k.y-2,5,5)}for(F=0;F<R.length;F++)if(G=R[F],!!G.isActive){var U=G.collision,H=G.contacts;if(G.contactCount>0){var X=H[0].vertex.x,j=H[0].vertex.y;G.contactCount===2&&(X=(H[0].vertex.x+H[1].vertex.x)/2,j=(H[0].vertex.y+H[1].vertex.y)/2),U.bodyB===U.supports[0].body||U.bodyA.isStatic?A.lineBetween(X-U.normal.x*8,j-U.normal.y*8,X,j):A.lineBetween(X+U.normal.x*8,j+U.normal.y*8,X,j)}}return this},renderBodyBounds:function(R,A,L,F){A.lineStyle(1,L,F);for(var G=0;G<R.length;G++){var I=R[G];if(I.render.visible){var B=I.bounds;if(B)A.strokeRect(B.min.x,B.min.y,B.max.x-B.min.x,B.max.y-B.min.y);else for(var k=I.parts,U=k.length>1?1:0;U<k.length;U++){var H=k[U];A.strokeRect(H.bounds.min.x,H.bounds.min.y,H.bounds.max.x-H.bounds.min.x,H.bounds.max.y-H.bounds.min.y)}}}return this},renderBodyAxes:function(R,A,L,F,G){A.lineStyle(1,F,G);for(var I=0;I<R.length;I++){var B=R[I],k=B.parts;if(B.render.visible){var U,H,X;if(L)for(H=k.length>1?1:0;H<k.length;H++)for(U=k[H],X=0;X<U.axes.length;X++){var j=U.axes[X];A.lineBetween(U.position.x,U.position.y,U.position.x+j.x*20,U.position.y+j.y*20)}else for(H=k.length>1?1:0;H<k.length;H++)for(U=k[H],X=0;X<U.axes.length;X++)A.lineBetween(U.position.x,U.position.y,(U.vertices[0].x+U.vertices[U.vertices.length-1].x)/2,(U.vertices[0].y+U.vertices[U.vertices.length-1].y)/2)}}return this},renderBodyVelocity:function(R,A,L,F,G){A.lineStyle(G,L,F);for(var I=0;I<R.length;I++){var B=R[I];B.render.visible&&A.lineBetween(B.position.x,B.position.y,B.position.x+(B.position.x-B.positionPrev.x)*2,B.position.y+(B.position.y-B.positionPrev.y)*2)}return this},renderBodies:function(R){for(var A=this.debugGraphic,L=this.debugConfig,F=L.showBody,G=L.showStaticBody,I=L.showSleeping,B=L.showInternalEdges,k=L.showConvexHulls,U=L.renderFill,H=L.renderLine,X=L.staticBodySleepOpacity,j=L.sleepFillColor,Z=L.sleepLineColor,Y=L.hullColor,$=0;$<R.length;$++){var z=R[$];if(z.render.visible&&!(!G&&z.isStatic||!F&&!z.isStatic)){var V=z.render.lineColor,K=z.render.lineOpacity,Q=z.render.lineThickness,_=z.render.fillColor,tt=z.render.fillOpacity;I&&z.isSleeping&&(z.isStatic?(K*=X,tt*=X):(V=Z,_=j)),U||(_=null),H||(V=null),this.renderBody(z,A,B,V,K,Q,_,tt);var rt=z.parts.length;k&&rt>1&&this.renderConvexHull(z,A,Y,Q)}}},renderBody:function(R,A,L,F,G,I,B,k){F===void 0&&(F=null),G===void 0&&(G=null),I===void 0&&(I=1),B===void 0&&(B=null),k===void 0&&(k=null);for(var U=this.debugConfig,H=U.sensorFillColor,X=U.sensorLineColor,j=R.parts,Z=j.length,Y=Z>1?1:0;Y<Z;Y++){var $=j[Y],z=$.render,V=z.opacity;if(!(!z.visible||V===0||$.isSensor&&!U.showSensors)){var K=$.circleRadius;if(A.beginPath(),$.isSensor?(B!==null&&A.fillStyle(H,k*V),F!==null&&A.lineStyle(I,X,G*V)):(B!==null&&A.fillStyle(B,k*V),F!==null&&A.lineStyle(I,F,G*V)),K)A.arc($.position.x,$.position.y,K,0,2*Math.PI);else{var Q=$.vertices,_=Q.length;A.moveTo(Q[0].x,Q[0].y);for(var tt=1;tt<_;tt++){var rt=Q[tt];if(!Q[tt-1].isInternal||L?A.lineTo(rt.x,rt.y):A.moveTo(rt.x,rt.y),tt<_&&rt.isInternal&&!L){var ot=(tt+1)%_;A.moveTo(Q[ot].x,Q[ot].y)}}A.closePath()}B!==null&&A.fillPath(),F!==null&&A.strokePath()}}if(U.showPositions&&!R.isStatic){var ft=R.position.x,ct=R.position.y,gt=Math.ceil(U.positionSize/2);A.fillStyle(U.positionColor,1),A.fillRect(ft-gt,ct-gt,U.positionSize,U.positionSize)}return this},renderConvexHull:function(R,A,L,F){F===void 0&&(F=1);var G=R.parts,I=G.length;if(I>1){var B=R.vertices;A.lineStyle(F,L),A.beginPath(),A.moveTo(B[0].x,B[0].y);for(var k=1;k<B.length;k++)A.lineTo(B[k].x,B[k].y);A.lineTo(B[0].x,B[0].y),A.strokePath()}return this},renderJoints:function(){for(var R=this.debugGraphic,A=l.allConstraints(this.localWorld),L=0;L<A.length;L++){var F=A[L].render,G=F.lineColor,I=F.lineOpacity,B=F.lineThickness,k=F.pinSize,U=F.anchorColor,H=F.anchorSize;this.renderConstraint(A[L],R,G,I,B,k,U,H)}},renderConstraint:function(R,A,L,F,G,I,B,k){var U=R.render;if(!U.visible||!R.pointA||!R.pointB)return this;A.lineStyle(G,L,F);var H=R.bodyA,X=R.bodyB,j,Z;if(H?j=w.add(H.position,R.pointA):j=R.pointA,U.type==="pin")A.strokeCircle(j.x,j.y,I);else{if(X?Z=w.add(X.position,R.pointB):Z=R.pointB,A.beginPath(),A.moveTo(j.x,j.y),U.type==="spring")for(var Y=w.sub(Z,j),$=w.perp(w.normalise(Y)),z=Math.ceil(h.clamp(R.length/5,12,20)),V,K=1;K<z;K+=1)V=K%2===0?1:-1,A.lineTo(j.x+Y.x*(K/z)+$.x*V*4,j.y+Y.y*(K/z)+$.y*V*4);A.lineTo(Z.x,Z.y)}return A.strokePath(),U.anchors&&k>0&&(A.fillStyle(B),A.fillCircle(j.x,j.y,k),A.fillCircle(Z.x,Z.y,k)),this},resetCollisionIDs:function(){return y._nextCollidingGroupId=1,y._nextNonCollidingGroupId=-1,y._nextCategory=1,this},shutdown:function(){m.off(this.engine),this.removeAllListeners(),C.clear(this.localWorld,!1),a.clear(this.engine),this.drawDebug&&this.debugGraphic.destroy()},destroy:function(){this.shutdown()}});n.exports=M}),70410:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setBounce:function(r){return this.body.restitution=r,this}};n.exports=T}),66968:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setCollisionCategory:function(r){return this.body.collisionFilter.category=r,this},setCollisionGroup:function(r){return this.body.collisionFilter.group=r,this},setCollidesWith:function(r){var o=0;if(!Array.isArray(r))o=r;else for(var y=0;y<r.length;y++)o|=r[y];return this.body.collisionFilter.mask=o,this},setOnCollide:function(r){return this.body.onCollideCallback=r,this},setOnCollideEnd:function(r){return this.body.onCollideEndCallback=r,this},setOnCollideActive:function(r){return this.body.onCollideActiveCallback=r,this},setOnCollideWith:function(r,o){Array.isArray(r)||(r=[r]);for(var y=0;y<r.length;y++){var d=r[y].hasOwnProperty("body")?r[y].body:r[y];this.body.setOnCollideWith(d,o)}return this}};n.exports=T}),51607:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(22562),y={applyForce:function(d){return this._tempVec2.set(this.body.position.x,this.body.position.y),o.applyForce(this.body,this._tempVec2,d),this},applyForceFrom:function(d,h){return o.applyForce(this.body,d,h),this},thrust:function(d){var h=this.body.angle;return this._tempVec2.set(d*Math.cos(h),d*Math.sin(h)),o.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustLeft:function(d){var h=this.body.angle-Math.PI/2;return this._tempVec2.set(d*Math.cos(h),d*Math.sin(h)),o.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustRight:function(d){var h=this.body.angle+Math.PI/2;return this._tempVec2.set(d*Math.cos(h),d*Math.sin(h)),o.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustBack:function(d){var h=this.body.angle-Math.PI;return this._tempVec2.set(d*Math.cos(h),d*Math.sin(h)),o.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this}};n.exports=y}),5436:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setFriction:function(r,o,y){return this.body.friction=r,o!==void 0&&(this.body.frictionAir=o),y!==void 0&&(this.body.frictionStatic=y),this},setFrictionAir:function(r){return this.body.frictionAir=r,this},setFrictionStatic:function(r){return this.body.frictionStatic=r,this}};n.exports=T}),39858:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setIgnoreGravity:function(r){return this.body.ignoreGravity=r,this}};n.exports=T}),37302:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(22562),y=r(26099),d={setMass:function(h){return o.setMass(this.body,h),this},setDensity:function(h){return o.setDensity(this.body,h),this},centerOfMass:{get:function(){return new y(this.body.centerOfMass.x,this.body.centerOfMass.y)}}};n.exports=d}),39132:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setSensor:function(r){return this.body.isSensor=r,this},isSensor:function(){return this.body.isSensor}};n.exports=T}),57772:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(66280),y=r(22562),d=r(43855),h=r(95540),l=r(19496),a=r(85791),f=r(41598),c={setRectangle:function(u,v,p){return this.setBody({type:"rectangle",width:u,height:v},p)},setCircle:function(u,v){return this.setBody({type:"circle",radius:u},v)},setPolygon:function(u,v,p){return this.setBody({type:"polygon",sides:v,radius:u},p)},setTrapezoid:function(u,v,p,m){return this.setBody({type:"trapezoid",width:u,height:v,slope:p},m)},setExistingBody:function(u,v){v===void 0&&(v=!0),this.body&&this.world.remove(this.body,!0),this.body=u;for(var p=0;p<u.parts.length;p++)u.parts[p].gameObject=this;var m=this;if(u.destroy=function(){m.world.remove(m.body,!0),m.body.gameObject=null},v&&(this.world.has(u)&&this.world.remove(u,!0),this.world.add(u)),this._originComponent){var x=u.render.sprite.xOffset,C=u.render.sprite.yOffset,P=u.centerOfMass.x,w=u.centerOfMass.y;if(d(P,.5)&&d(w,.5))this.setOrigin(x+.5,C+.5);else{var M=u.centerOffset.x,R=u.centerOffset.y;this.setOrigin(x+M/this.displayWidth,C+R/this.displayHeight)}}return this},setBody:function(u,v){if(!u)return this;var p;typeof u=="string"&&(u={type:u});var m=h(u,"type","rectangle"),x=h(u,"x",this._tempVec2.x),C=h(u,"y",this._tempVec2.y),P=h(u,"width",this.width),w=h(u,"height",this.height);switch(m){case"rectangle":p=o.rectangle(x,C,P,w,v);break;case"circle":var M=h(u,"radius",Math.max(P,w)/2),R=h(u,"maxSides",25);p=o.circle(x,C,M,v,R);break;case"trapezoid":var A=h(u,"slope",.5);p=o.trapezoid(x,C,P,w,A,v);break;case"polygon":var L=h(u,"sides",5),F=h(u,"radius",Math.max(P,w)/2);p=o.polygon(x,C,L,F,v);break;case"fromVertices":case"fromVerts":var G=h(u,"verts",null);if(G)if(typeof G=="string"&&(G=f.fromPath(G)),this.body&&!this.body.hasOwnProperty("temp"))y.setVertices(this.body,G),p=this.body;else{var I=h(u,"flagInternal",!1),B=h(u,"removeCollinear",.01),k=h(u,"minimumArea",10);p=o.fromVertices(x,C,G,v,I,B,k)}break;case"fromPhysicsEditor":p=l.parseBody(x,C,u,v);break;case"fromPhysicsTracer":p=a.parseBody(x,C,u,v);break}return p&&this.setExistingBody(p,u.addToWorld),this}};n.exports=c}),38083:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(1121),y=r(53614),d=r(35810),h={setToSleep:function(){return y.set(this.body,!0),this},setAwake:function(){return y.set(this.body,!1),this},setSleepThreshold:function(l){return l===void 0&&(l=60),this.body.sleepThreshold=l,this},setSleepEvents:function(l,a){return this.setSleepStartEvent(l),this.setSleepEndEvent(a),this},setSleepStartEvent:function(l){if(l){var a=this.world;d.on(this.body,"sleepStart",function(f){a.emit(o.SLEEP_START,f,this)})}else d.off(this.body,"sleepStart");return this},setSleepEndEvent:function(l){if(l){var a=this.world;d.on(this.body,"sleepEnd",function(f){a.emit(o.SLEEP_END,f,this)})}else d.off(this.body,"sleepEnd");return this}};n.exports=h}),90556:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(22562),y={setStatic:function(d){return o.setStatic(this.body,d),this},isStatic:function(){return this.body.isStatic}};n.exports=y}),85436:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(22562),y=r(36383),d=r(86554),h=r(30954),l=4,a={x:{get:function(){return this.body.position.x},set:function(f){this._tempVec2.set(f,this.y),o.setPosition(this.body,this._tempVec2)}},y:{get:function(){return this.body.position.y},set:function(f){this._tempVec2.set(this.x,f),o.setPosition(this.body,this._tempVec2)}},scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(f){this.setScale(f,f)}},scaleX:{get:function(){return this._scaleX},set:function(f){var c=1/this._scaleX,u=1/this._scaleY;this._scaleX=f,this._scaleX===0?this.renderFlags&=~l:this.renderFlags|=l,o.scale(this.body,c,u),o.scale(this.body,f,this._scaleY)}},scaleY:{get:function(){return this._scaleY},set:function(f){var c=1/this._scaleX,u=1/this._scaleY;this._scaleY=f,this._scaleY===0?this.renderFlags&=~l:this.renderFlags|=l,o.scale(this.body,c,u),o.scale(this.body,this._scaleX,f)}},angle:{get:function(){return h(this.body.angle*y.RAD_TO_DEG)},set:function(f){this.rotation=h(f)*y.DEG_TO_RAD}},rotation:{get:function(){return this.body.angle},set:function(f){this._rotation=d(f),o.setAngle(this.body,this._rotation)}},setPosition:function(f,c){return f===void 0&&(f=0),c===void 0&&(c=f),this._tempVec2.set(f,c),o.setPosition(this.body,this._tempVec2),this},setRotation:function(f){return f===void 0&&(f=0),this._rotation=d(f),o.setAngle(this.body,f),this},setFixedRotation:function(){return o.setInertia(this.body,1/0),this},setAngle:function(f){return f===void 0&&(f=0),this.angle=f,o.setAngle(this.body,this.rotation),this},setScale:function(f,c,u){f===void 0&&(f=1),c===void 0&&(c=f);var v=1/this._scaleX,p=1/this._scaleY;return this._scaleX=f,this._scaleY=c,o.scale(this.body,v,p,u),o.scale(this.body,f,c,u),this}};n.exports=a}),42081:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(22562),y={setVelocityX:function(d){return this._tempVec2.set(d,this.body.velocity.y),o.setVelocity(this.body,this._tempVec2),this},setVelocityY:function(d){return this._tempVec2.set(this.body.velocity.x,d),o.setVelocity(this.body,this._tempVec2),this},setVelocity:function(d,h){return this._tempVec2.set(d,h),o.setVelocity(this.body,this._tempVec2),this},getVelocity:function(){return o.getVelocity(this.body)},setAngularVelocity:function(d){return o.setAngularVelocity(this.body,d),this},getAngularVelocity:function(){return o.getAngularVelocity(this.body)},setAngularSpeed:function(d){return o.setAngularSpeed(this.body,d),this},getAngularSpeed:function(){return o.getAngularSpeed(this.body)}};n.exports=y}),31884:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Bounce:r(70410),Collision:r(66968),Force:r(51607),Friction:r(5436),Gravity:r(39858),Mass:r(37302),Sensor:r(39132),SetBody:r(57772),Sleep:r(38083),Static:r(90556),Transform:r(85436),Velocity:r(42081)}}),85608:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="afteradd"}),1213:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="afterremove"}),25968:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="afterupdate"}),67205:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="beforeadd"}),39438:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="beforeremove"}),44823:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="beforeupdate"}),92593:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="collisionactive"}),60128:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="collisionend"}),76861:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="collisionstart"}),92362:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragend"}),76408:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="drag"}),93971:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragstart"}),5656:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pause"}),47861:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="resume"}),79099:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="sleepend"}),35906:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="sleepstart"}),1121:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={AFTER_ADD:r(85608),AFTER_REMOVE:r(1213),AFTER_UPDATE:r(25968),BEFORE_ADD:r(67205),BEFORE_REMOVE:r(39438),BEFORE_UPDATE:r(44823),COLLISION_ACTIVE:r(92593),COLLISION_END:r(60128),COLLISION_START:r(76861),DRAG_END:r(92362),DRAG:r(76408),DRAG_START:r(93971),PAUSE:r(5656),RESUME:r(47861),SLEEP_END:r(79099),SLEEP_START:r(35906)}}),3875:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={BodyBounds:r(68174),Components:r(31884),Events:r(1121),Factory:r(28137),MatterGameObject:r(75803),Image:r(23181),Matter:r(19933),MatterPhysics:r(42045),PolyDecomp:r(55973),Sprite:r(34803),TileBody:r(73834),PhysicsEditorParser:r(19496),PhysicsJSONParser:r(85791),PointerConstraint:r(98713),World:r(68243)}}),22562:((n,T,r)=>{var o={};n.exports=o;var y=r(41598),d=r(31725),h=r(53614),l=r(53402),a=r(15647),f=r(66615);(function(){o._timeCorrection=!0,o._inertiaScale=4,o._nextCollidingGroupId=1,o._nextNonCollidingGroupId=-1,o._nextCategory=1,o._baseDelta=16.666666666666668,o.create=function(u){var v={id:l.nextId(),type:"body",label:"Body",parts:[],plugin:{},attractors:u.attractors||[],wrapBounds:null,angle:0,vertices:null,position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inverseMass:0,inertia:0,deltaTime:16.666666666666668,inverseInertia:0,_original:null,render:{visible:!0,opacity:1,sprite:{xOffset:0,yOffset:0},fillColor:null,fillOpacity:null,lineColor:null,lineOpacity:null,lineThickness:null},gameObject:null,scale:{x:1,y:1},centerOfMass:{x:0,y:0},centerOffset:{x:0,y:0},gravityScale:{x:1,y:1},ignoreGravity:!1,ignorePointer:!1,onCollideCallback:null,onCollideEndCallback:null,onCollideActiveCallback:null,onCollideWith:{}};!u.hasOwnProperty("position")&&u.hasOwnProperty("vertices")?u.position=y.centre(u.vertices):u.hasOwnProperty("vertices")||(v.vertices=y.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"));var p=l.extend(v,u);return c(p,u),p.setOnCollideWith=function(m,x){return x?this.onCollideWith[m.id]=x:delete this.onCollideWith[m.id],this},p},o.nextGroup=function(u){return u?o._nextNonCollidingGroupId--:o._nextCollidingGroupId++},o.nextCategory=function(){return o._nextCategory=o._nextCategory<<1,o._nextCategory};var c=function(u,v){if(v=v||{},o.set(u,{bounds:u.bounds||a.create(u.vertices),positionPrev:u.positionPrev||d.clone(u.position),anglePrev:u.anglePrev||u.angle,vertices:u.vertices,parts:u.parts||[u],isStatic:u.isStatic,isSleeping:u.isSleeping,parent:u.parent||u}),y.rotate(u.vertices,u.angle,u.position),f.rotate(u.axes,u.angle),a.update(u.bounds,u.vertices,u.velocity),o.set(u,{axes:v.axes||u.axes,area:v.area||u.area,mass:v.mass||u.mass,inertia:v.inertia||u.inertia}),u.parts.length===1){var p=u.bounds,m=u.centerOfMass,x=u.centerOffset,C=p.max.x-p.min.x,P=p.max.y-p.min.y;m.x=-(p.min.x-u.position.x)/C,m.y=-(p.min.y-u.position.y)/P,x.x=C*m.x,x.y=P*m.y}};o.set=function(u,v,p){var m;typeof v=="string"&&(m=v,v={},v[m]=p);for(m in v)if(Object.prototype.hasOwnProperty.call(v,m))switch(p=v[m],m){case"isStatic":o.setStatic(u,p);break;case"isSleeping":h.set(u,p);break;case"mass":o.setMass(u,p);break;case"density":o.setDensity(u,p);break;case"inertia":o.setInertia(u,p);break;case"vertices":o.setVertices(u,p);break;case"position":o.setPosition(u,p);break;case"angle":o.setAngle(u,p);break;case"velocity":o.setVelocity(u,p);break;case"angularVelocity":o.setAngularVelocity(u,p);break;case"speed":o.setSpeed(u,p);break;case"angularSpeed":o.setAngularSpeed(u,p);break;case"parts":o.setParts(u,p);break;case"centre":o.setCentre(u,p);break;default:u[m]=p}},o.setStatic=function(u,v){for(var p=0;p<u.parts.length;p++){var m=u.parts[p];v?(m.isStatic||(m._original={restitution:m.restitution,friction:m.friction,mass:m.mass,inertia:m.inertia,density:m.density,inverseMass:m.inverseMass,inverseInertia:m.inverseInertia}),m.restitution=0,m.friction=1,m.mass=m.inertia=m.density=1/0,m.inverseMass=m.inverseInertia=0,m.positionPrev.x=m.position.x,m.positionPrev.y=m.position.y,m.anglePrev=m.angle,m.angularVelocity=0,m.speed=0,m.angularSpeed=0,m.motion=0):m._original&&(m.restitution=m._original.restitution,m.friction=m._original.friction,m.mass=m._original.mass,m.inertia=m._original.inertia,m.density=m._original.density,m.inverseMass=m._original.inverseMass,m.inverseInertia=m._original.inverseInertia,m._original=null),m.isStatic=v}},o.setMass=function(u,v){var p=u.inertia/(u.mass/6);u.inertia=p*(v/6),u.inverseInertia=1/u.inertia,u.mass=v,u.inverseMass=1/u.mass,u.density=u.mass/u.area},o.setDensity=function(u,v){o.setMass(u,v*u.area),u.density=v},o.setInertia=function(u,v){u.inertia=v,u.inverseInertia=1/u.inertia},o.setVertices=function(u,v){v[0].body===u?u.vertices=v:u.vertices=y.create(v,u),u.axes=f.fromVertices(u.vertices),u.area=y.area(u.vertices),o.setMass(u,u.density*u.area);var p=y.centre(u.vertices);y.translate(u.vertices,p,-1),o.setInertia(u,o._inertiaScale*y.inertia(u.vertices,u.mass)),y.translate(u.vertices,u.position),a.update(u.bounds,u.vertices,u.velocity)},o.setParts=function(u,v,p){var m;for(v=v.slice(0),u.parts.length=0,u.parts.push(u),u.parent=u,m=0;m<v.length;m++){var x=v[m];x!==u&&(x.parent=u,u.parts.push(x))}if(u.parts.length!==1){if(p=typeof p<"u"?p:!0,p){var C=[];for(m=0;m<v.length;m++)C=C.concat(v[m].vertices);y.clockwiseSort(C);var P=y.hull(C),w=y.centre(P);o.setVertices(u,P),y.translate(u.vertices,w)}var M=o._totalProperties(u),R=M.centre.x,A=M.centre.y,L=u.bounds,F=u.centerOfMass,G=u.centerOffset;a.update(L,u.vertices,u.velocity),F.x=-(L.min.x-R)/(L.max.x-L.min.x),F.y=-(L.min.y-A)/(L.max.y-L.min.y),G.x=R,G.y=A,u.area=M.area,u.parent=u,u.position.x=R,u.position.y=A,u.positionPrev.x=R,u.positionPrev.y=A,o.setMass(u,M.mass),o.setInertia(u,M.inertia),o.setPosition(u,M.centre)}},o.setCentre=function(u,v,p){p?(u.positionPrev.x+=v.x,u.positionPrev.y+=v.y,u.position.x+=v.x,u.position.y+=v.y):(u.positionPrev.x=v.x-(u.position.x-u.positionPrev.x),u.positionPrev.y=v.y-(u.position.y-u.positionPrev.y),u.position.x=v.x,u.position.y=v.y)},o.setPosition=function(u,v,p){var m=d.sub(v,u.position);p?(u.positionPrev.x=u.position.x,u.positionPrev.y=u.position.y,u.velocity.x=m.x,u.velocity.y=m.y,u.speed=d.magnitude(m)):(u.positionPrev.x+=m.x,u.positionPrev.y+=m.y);for(var x=0;x<u.parts.length;x++){var C=u.parts[x];C.position.x+=m.x,C.position.y+=m.y,y.translate(C.vertices,m),a.update(C.bounds,C.vertices,u.velocity)}},o.setAngle=function(u,v,p){var m=v-u.angle;p?(u.anglePrev=u.angle,u.angularVelocity=m,u.angularSpeed=Math.abs(m)):u.anglePrev+=m;for(var x=0;x<u.parts.length;x++){var C=u.parts[x];C.angle+=m,y.rotate(C.vertices,m,u.position),f.rotate(C.axes,m),a.update(C.bounds,C.vertices,u.velocity),x>0&&d.rotateAbout(C.position,m,u.position,C.position)}},o.setVelocity=function(u,v){var p=u.deltaTime/o._baseDelta;u.positionPrev.x=u.position.x-v.x*p,u.positionPrev.y=u.position.y-v.y*p,u.velocity.x=(u.position.x-u.positionPrev.x)/p,u.velocity.y=(u.position.y-u.positionPrev.y)/p,u.speed=d.magnitude(u.velocity)},o.getVelocity=function(u){var v=o._baseDelta/u.deltaTime;return{x:(u.position.x-u.positionPrev.x)*v,y:(u.position.y-u.positionPrev.y)*v}},o.getSpeed=function(u){return d.magnitude(o.getVelocity(u))},o.setSpeed=function(u,v){o.setVelocity(u,d.mult(d.normalise(o.getVelocity(u)),v))},o.setAngularVelocity=function(u,v){var p=u.deltaTime/o._baseDelta;u.anglePrev=u.angle-v*p,u.angularVelocity=(u.angle-u.anglePrev)/p,u.angularSpeed=Math.abs(u.angularVelocity)},o.getAngularVelocity=function(u){return(u.angle-u.anglePrev)*o._baseDelta/u.deltaTime},o.getAngularSpeed=function(u){return Math.abs(o.getAngularVelocity(u))},o.setAngularSpeed=function(u,v){o.setAngularVelocity(u,l.sign(o.getAngularVelocity(u))*v)},o.translate=function(u,v,p){o.setPosition(u,d.add(u.position,v),p)},o.rotate=function(u,v,p,m){if(!p)o.setAngle(u,u.angle+v,m);else{var x=Math.cos(v),C=Math.sin(v),P=u.position.x-p.x,w=u.position.y-p.y;o.setPosition(u,{x:p.x+(P*x-w*C),y:p.y+(P*C+w*x)},m),o.setAngle(u,u.angle+v,m)}},o.scale=function(u,v,p,m){var x=0,C=0;m=m||u.position;for(var P=u.inertia===1/0,w=0;w<u.parts.length;w++){var M=u.parts[w];M.scale.x=v,M.scale.y=p,y.scale(M.vertices,v,p,m),M.axes=f.fromVertices(M.vertices),M.area=y.area(M.vertices),o.setMass(M,u.density*M.area),y.translate(M.vertices,{x:-M.position.x,y:-M.position.y}),o.setInertia(M,o._inertiaScale*y.inertia(M.vertices,M.mass)),y.translate(M.vertices,{x:M.position.x,y:M.position.y}),w>0&&(x+=M.area,C+=M.inertia),M.position.x=m.x+(M.position.x-m.x)*v,M.position.y=m.y+(M.position.y-m.y)*p,a.update(M.bounds,M.vertices,u.velocity)}u.parts.length>1&&(u.area=x,u.isStatic||(o.setMass(u,u.density*x),o.setInertia(u,C))),u.circleRadius&&(v===p?u.circleRadius*=v:u.circleRadius=null),P&&o.setInertia(u,1/0)},o.update=function(u,v){v=(typeof v<"u"?v:16.666666666666668)*u.timeScale;var p=v*v,m=o._timeCorrection?v/(u.deltaTime||v):1,x=1-u.frictionAir*(v/l._baseDelta),C=(u.position.x-u.positionPrev.x)*m,P=(u.position.y-u.positionPrev.y)*m;u.velocity.x=C*x+u.force.x/u.mass*p,u.velocity.y=P*x+u.force.y/u.mass*p,u.positionPrev.x=u.position.x,u.positionPrev.y=u.position.y,u.position.x+=u.velocity.x,u.position.y+=u.velocity.y,u.deltaTime=v,u.angularVelocity=(u.angle-u.anglePrev)*x*m+u.torque/u.inertia*p,u.anglePrev=u.angle,u.angle+=u.angularVelocity,u.speed=d.magnitude(u.velocity),u.angularSpeed=Math.abs(u.angularVelocity);for(var w=0;w<u.parts.length;w++){var M=u.parts[w];y.translate(M.vertices,u.velocity),w>0&&(M.position.x+=u.velocity.x,M.position.y+=u.velocity.y),u.angularVelocity!==0&&(y.rotate(M.vertices,u.angularVelocity,u.position),f.rotate(M.axes,u.angularVelocity),w>0&&d.rotateAbout(M.position,u.angularVelocity,u.position,M.position)),a.update(M.bounds,M.vertices,u.velocity)}},o.updateVelocities=function(u){var v=o._baseDelta/u.deltaTime,p=u.velocity;p.x=(u.position.x-u.positionPrev.x)*v,p.y=(u.position.y-u.positionPrev.y)*v,u.speed=Math.sqrt(p.x*p.x+p.y*p.y),u.angularVelocity=(u.angle-u.anglePrev)*v,u.angularSpeed=Math.abs(u.angularVelocity)},o.applyForce=function(u,v,p){var m={x:v.x-u.position.x,y:v.y-u.position.y};u.force.x+=p.x,u.force.y+=p.y,u.torque+=m.x*p.y-m.y*p.x},o._totalProperties=function(u){for(var v={mass:0,area:0,inertia:0,centre:{x:0,y:0}},p=u.parts.length===1?0:1;p<u.parts.length;p++){var m=u.parts[p],x=m.mass!==1/0?m.mass:1;v.mass+=x,v.area+=m.area,v.inertia+=m.inertia,v.centre=d.add(v.centre,d.mult(m.position,x))}return v.centre=d.div(v.centre,v.mass),v},o.wrap=function(u,v){var p=a.wrap(u.bounds,v);return p&&o.translate(u,p),p}})()}),69351:((n,T,r)=>{var o={};n.exports=o;var y=r(35810),d=r(53402),h=r(15647),l=r(22562);(function(){o.create=function(a){return d.extend({id:d.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},wrapBounds:null,cache:{allBodies:null,allConstraints:null,allComposites:null}},a)},o.setModified=function(a,f,c,u){if(y.trigger(a,"compositeModified",a),a.isModified=f,f&&a.cache&&(a.cache.allBodies=null,a.cache.allConstraints=null,a.cache.allComposites=null),c&&a.parent&&o.setModified(a.parent,f,c,u),u)for(var v=0;v<a.composites.length;v++){var p=a.composites[v];o.setModified(p,f,c,u)}},o.add=function(a,f){var c=[].concat(f);y.trigger(a,"beforeAdd",{object:f});for(var u=0;u<c.length;u++){var v=c[u];switch(v.type){case"body":if(v.parent!==v){d.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}o.addBody(a,v);break;case"constraint":o.addConstraint(a,v);break;case"composite":o.addComposite(a,v);break;case"mouseConstraint":o.addConstraint(a,v.constraint);break}}return y.trigger(a,"afterAdd",{object:f}),a},o.remove=function(a,f,c){var u=[].concat(f);y.trigger(a,"beforeRemove",{object:f});for(var v=0;v<u.length;v++){var p=u[v];switch(p.type){case"body":o.removeBody(a,p,c);break;case"constraint":o.removeConstraint(a,p,c);break;case"composite":o.removeComposite(a,p,c);break;case"mouseConstraint":o.removeConstraint(a,p.constraint);break}}return y.trigger(a,"afterRemove",{object:f}),a},o.addComposite=function(a,f){return a.composites.push(f),f.parent=a,o.setModified(a,!0,!0,!1),a},o.removeComposite=function(a,f,c){var u=d.indexOf(a.composites,f);if(u!==-1){var v=o.allBodies(f);o.removeCompositeAt(a,u);for(var p=0;p<v.length;p++)v[p].sleepCounter=0}if(c)for(var p=0;p<a.composites.length;p++)o.removeComposite(a.composites[p],f,!0);return a},o.removeCompositeAt=function(a,f){return a.composites.splice(f,1),o.setModified(a,!0,!0,!1),a},o.addBody=function(a,f){return a.bodies.push(f),o.setModified(a,!0,!0,!1),a},o.removeBody=function(a,f,c){var u=d.indexOf(a.bodies,f);if(u!==-1&&(o.removeBodyAt(a,u),f.sleepCounter=0),c)for(var v=0;v<a.composites.length;v++)o.removeBody(a.composites[v],f,!0);return a},o.removeBodyAt=function(a,f){return a.bodies.splice(f,1),o.setModified(a,!0,!0,!1),a},o.addConstraint=function(a,f){return a.constraints.push(f),o.setModified(a,!0,!0,!1),a},o.removeConstraint=function(a,f,c){var u=d.indexOf(a.constraints,f);if(u!==-1&&o.removeConstraintAt(a,u),c)for(var v=0;v<a.composites.length;v++)o.removeConstraint(a.composites[v],f,!0);return a},o.removeConstraintAt=function(a,f){return a.constraints.splice(f,1),o.setModified(a,!0,!0,!1),a},o.clear=function(a,f,c){if(c)for(var u=0;u<a.composites.length;u++)o.clear(a.composites[u],f,!0);return f?a.bodies=a.bodies.filter(function(v){return v.isStatic}):a.bodies.length=0,a.constraints.length=0,a.composites.length=0,o.setModified(a,!0,!0,!1),a},o.allBodies=function(a){if(a.cache&&a.cache.allBodies)return a.cache.allBodies;for(var f=[].concat(a.bodies),c=0;c<a.composites.length;c++)f=f.concat(o.allBodies(a.composites[c]));return a.cache&&(a.cache.allBodies=f),f},o.allConstraints=function(a){if(a.cache&&a.cache.allConstraints)return a.cache.allConstraints;for(var f=[].concat(a.constraints),c=0;c<a.composites.length;c++)f=f.concat(o.allConstraints(a.composites[c]));return a.cache&&(a.cache.allConstraints=f),f},o.allComposites=function(a){if(a.cache&&a.cache.allComposites)return a.cache.allComposites;for(var f=[].concat(a.composites),c=0;c<a.composites.length;c++)f=f.concat(o.allComposites(a.composites[c]));return a.cache&&(a.cache.allComposites=f),f},o.get=function(a,f,c){var u,v;switch(c){case"body":u=o.allBodies(a);break;case"constraint":u=o.allConstraints(a);break;case"composite":u=o.allComposites(a).concat(a);break}return u?(v=u.filter(function(p){return p.id.toString()===f.toString()}),v.length===0?null:v[0]):null},o.move=function(a,f,c){return o.remove(a,f),o.add(c,f),a},o.rebase=function(a){for(var f=o.allBodies(a).concat(o.allConstraints(a)).concat(o.allComposites(a)),c=0;c<f.length;c++)f[c].id=d.nextId();return a},o.translate=function(a,f,c){for(var u=c?o.allBodies(a):a.bodies,v=0;v<u.length;v++)l.translate(u[v],f);return a},o.rotate=function(a,f,c,u){for(var v=Math.cos(f),p=Math.sin(f),m=u?o.allBodies(a):a.bodies,x=0;x<m.length;x++){var C=m[x],P=C.position.x-c.x,w=C.position.y-c.y;l.setPosition(C,{x:c.x+(P*v-w*p),y:c.y+(P*p+w*v)}),l.rotate(C,f)}return a},o.scale=function(a,f,c,u,v){for(var p=v?o.allBodies(a):a.bodies,m=0;m<p.length;m++){var x=p[m],C=x.position.x-u.x,P=x.position.y-u.y;l.setPosition(x,{x:u.x+C*f,y:u.y+P*c}),l.scale(x,f,c)}return a},o.bounds=function(a){for(var f=o.allBodies(a),c=[],u=0;u<f.length;u+=1){var v=f[u];c.push(v.bounds.min,v.bounds.max)}return h.create(c)},o.wrap=function(a,f){var c=h.wrap(o.bounds(a),f);return c&&o.translate(a,c),c}})()}),4372:((n,T,r)=>{var o={};n.exports=o;var y=r(69351);(function(){o.create=y.create,o.add=y.add,o.remove=y.remove,o.clear=y.clear,o.addComposite=y.addComposite,o.addBody=y.addBody,o.addConstraint=y.addConstraint})()}),52284:((n,T,r)=>{var o={};n.exports=o;var y=r(41598),d=r(4506);(function(){var h=[],l={overlap:0,axis:null},a={overlap:0,axis:null};o.create=function(f,c){return{pair:null,collided:!1,bodyA:f,bodyB:c,parentA:f.parent,parentB:c.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[null,null],supportCount:0}},o.collides=function(f,c,u){if(o._overlapAxes(l,f.vertices,c.vertices,f.axes),l.overlap<=0||(o._overlapAxes(a,c.vertices,f.vertices,c.axes),a.overlap<=0))return null;var v=u&&u.table[d.id(f,c)],p;v?p=v.collision:(p=o.create(f,c),p.collided=!0,p.bodyA=f.id<c.id?f:c,p.bodyB=f.id<c.id?c:f,p.parentA=p.bodyA.parent,p.parentB=p.bodyB.parent),f=p.bodyA,c=p.bodyB;var m;l.overlap<a.overlap?m=l:m=a;var x=p.normal,C=p.tangent,P=p.penetration,w=p.supports,M=m.overlap,R=m.axis,A=R.x,L=R.y,F=c.position.x-f.position.x,G=c.position.y-f.position.y;A*F+L*G>=0&&(A=-A,L=-L),x.x=A,x.y=L,C.x=-L,C.y=A,P.x=A*M,P.y=L*M,p.depth=M;var I=o._findSupports(f,c,x,1),B=0;if(y.contains(f.vertices,I[0])&&(w[B++]=I[0]),y.contains(f.vertices,I[1])&&(w[B++]=I[1]),B<2){var k=o._findSupports(c,f,x,-1);y.contains(c.vertices,k[0])&&(w[B++]=k[0]),B<2&&y.contains(c.vertices,k[1])&&(w[B++]=k[1])}return B===0&&(w[B++]=I[0]),p.supportCount=B,p},o._overlapAxes=function(f,c,u,v){var p=c.length,m=u.length,x=c[0].x,C=c[0].y,P=u[0].x,w=u[0].y,M=v.length,R=Number.MAX_VALUE,A=0,L,F,G,I,B,k;for(B=0;B<M;B++){var U=v[B],H=U.x,X=U.y,j=x*H+C*X,Z=P*H+w*X,Y=j,$=Z;for(k=1;k<p;k+=1)I=c[k].x*H+c[k].y*X,I>Y?Y=I:I<j&&(j=I);for(k=1;k<m;k+=1)I=u[k].x*H+u[k].y*X,I>$?$=I:I<Z&&(Z=I);if(F=Y-Z,G=$-j,L=F<G?F:G,L<R&&(R=L,A=B,L<=0))break}f.axis=v[A],f.overlap=R},o._findSupports=function(f,c,u,v){var p=c.vertices,m=p.length,x=f.position.x,C=f.position.y,P=u.x*v,w=u.y*v,M=p[0],R=M,A=P*(x-R.x)+w*(C-R.y),L,F,G;for(G=1;G<m;G+=1)R=p[G],F=P*(x-R.x)+w*(C-R.y),F<A&&(A=F,M=R);return L=p[(m+M.index-1)%m],A=P*(x-L.x)+w*(C-L.y),R=p[(M.index+1)%m],P*(x-R.x)+w*(C-R.y)<A?(h[0]=M,h[1]=R,h):(h[0]=M,h[1]=L,h)}})()}),43424:(n=>{var T={};n.exports=T,(function(){T.create=function(r){return{vertex:r,normalImpulse:0,tangentImpulse:0}}})()}),81388:((n,T,r)=>{var o={};n.exports=o;var y=r(53402),d=r(52284);(function(){o.create=function(h){var l={bodies:[],collisions:[],pairs:null};return y.extend(l,h)},o.setBodies=function(h,l){h.bodies=l.slice(0)},o.clear=function(h){h.bodies=[],h.collisions=[]},o.collisions=function(h){var l=h.pairs,a=h.bodies,f=a.length,c=o.canCollide,u=d.collides,v=h.collisions,p=0,m,x;for(a.sort(o._compareBoundsX),m=0;m<f;m++){var C=a[m],P=C.bounds,w=C.bounds.max.x,M=C.bounds.max.y,R=C.bounds.min.y,A=C.isStatic||C.isSleeping,L=C.parts.length,F=L===1;for(x=m+1;x<f;x++){var G=a[x],I=G.bounds;if(I.min.x>w)break;if(!(M<I.min.y||R>I.max.y)&&!(A&&(G.isStatic||G.isSleeping))&&c(C.collisionFilter,G.collisionFilter)){var B=G.parts.length;if(F&&B===1){var k=u(C,G,l);k&&(v[p++]=k)}else for(var U=L>1?1:0,H=B>1?1:0,X=U;X<L;X++)for(var j=C.parts[X],P=j.bounds,Z=H;Z<B;Z++){var Y=G.parts[Z],I=Y.bounds;if(!(P.min.x>I.max.x||P.max.x<I.min.x||P.max.y<I.min.y||P.min.y>I.max.y)){var k=u(j,Y,l);k&&(v[p++]=k)}}}}}return v.length!==p&&(v.length=p),v},o.canCollide=function(h,l){return h.group===l.group&&h.group!==0?h.group>0:(h.mask&l.category)!==0&&(l.mask&h.category)!==0},o._compareBoundsX=function(h,l){return h.bounds.min.x-l.bounds.min.x}})()}),4506:((n,T,r)=>{var o={};n.exports=o;var y=r(43424);(function(){o.create=function(d,h){var l=d.bodyA,a=d.bodyB,f={id:o.id(l,a),bodyA:l,bodyB:a,collision:d,contacts:[y.create(),y.create()],contactCount:0,separation:0,isActive:!0,isSensor:l.isSensor||a.isSensor,timeCreated:h,timeUpdated:h,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return o.update(f,d,h),f},o.update=function(d,h,l){var a=h.supports,f=h.supportCount,c=d.contacts,u=h.parentA,v=h.parentB;d.isActive=!0,d.timeUpdated=l,d.collision=h,d.separation=h.depth,d.inverseMass=u.inverseMass+v.inverseMass,d.friction=u.friction<v.friction?u.friction:v.friction,d.frictionStatic=u.frictionStatic>v.frictionStatic?u.frictionStatic:v.frictionStatic,d.restitution=u.restitution>v.restitution?u.restitution:v.restitution,d.slop=u.slop>v.slop?u.slop:v.slop,d.contactCount=f,h.pair=d;var p=a[0],m=c[0],x=a[1],C=c[1];(C.vertex===p||m.vertex===x)&&(c[1]=m,c[0]=m=C,C=c[1]),m.vertex=p,C.vertex=x},o.setActive=function(d,h,l){h?(d.isActive=!0,d.timeUpdated=l):(d.isActive=!1,d.contactCount=0)},o.id=function(d,h){return d.id<h.id?d.id.toString(36)+":"+h.id.toString(36):h.id.toString(36)+":"+d.id.toString(36)}})()}),99561:((n,T,r)=>{var o={};n.exports=o;var y=r(4506),d=r(53402);(function(){o.create=function(h){return d.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},h)},o.update=function(h,l,a){var f=y.update,c=y.create,u=y.setActive,v=h.table,p=h.list,m=p.length,x=m,C=h.collisionStart,P=h.collisionEnd,w=h.collisionActive,M=l.length,R=0,A=0,L=0,F,G,I;for(I=0;I<M;I++)F=l[I],G=F.pair,G?(G.isActive&&(w[L++]=G),f(G,F,a)):(G=c(F,a),v[G.id]=G,C[R++]=G,p[x++]=G);for(x=0,m=p.length,I=0;I<m;I++)G=p[I],G.timeUpdated>=a?p[x++]=G:(u(G,!1,a),G.collision.bodyA.sleepCounter>0&&G.collision.bodyB.sleepCounter>0?p[x++]=G:(P[A++]=G,delete v[G.id]));p.length!==x&&(p.length=x),C.length!==R&&(C.length=R),P.length!==A&&(P.length=A),w.length!==L&&(w.length=L)},o.clear=function(h){return h.table={},h.list.length=0,h.collisionStart.length=0,h.collisionActive.length=0,h.collisionEnd.length=0,h}})()}),73296:((n,T,r)=>{var o={};n.exports=o;var y=r(31725),d=r(52284),h=r(15647),l=r(66280),a=r(41598);(function(){o.collides=function(f,c){for(var u=[],v=c.length,p=f.bounds,m=d.collides,x=h.overlaps,C=0;C<v;C++){var P=c[C],w=P.parts.length,M=w===1?0:1;if(f!==P&&x(P.bounds,p))for(var R=M;R<w;R++){var A=P.parts[R];if(x(A.bounds,p)){var L=m(A,f);if(L){u.push(L);break}}}}return u},o.ray=function(f,c,u,v){v=v||1e-100;for(var p=y.angle(c,u),m=y.magnitude(y.sub(c,u)),x=(u.x+c.x)*.5,C=(u.y+c.y)*.5,P=l.rectangle(x,C,m,v,{angle:p}),w=o.collides(P,f),M=0;M<w.length;M+=1){var R=w[M];R.body=R.bodyB=R.bodyA}return w},o.region=function(f,c,u){for(var v=[],p=0;p<f.length;p++){var m=f[p],x=h.overlaps(m.bounds,c);(x&&!u||!x&&u)&&v.push(m)}return v},o.point=function(f,c){for(var u=[],v=0;v<f.length;v++){var p=f[v];if(h.contains(p.bounds,c))for(var m=p.parts.length===1?0:1;m<p.parts.length;m++){var x=p.parts[m];if(h.contains(x.bounds,c)&&a.contains(x.vertices,c)){u.push(p);break}}}return u}})()}),66272:((n,T,r)=>{var o={};n.exports=o;var y=r(41598),d=r(53402),h=r(15647);(function(){o._restingThresh=2,o._restingThreshTangent=Math.sqrt(6),o._positionDampen=.9,o._positionWarming=.8,o._frictionNormalMultiplier=5,o._frictionMaxStatic=Number.MAX_VALUE,o.preSolvePosition=function(l){var a,f,c,u=l.length;for(a=0;a<u;a++)f=l[a],f.isActive&&(c=f.contactCount,f.collision.parentA.totalContacts+=c,f.collision.parentB.totalContacts+=c)},o.solvePosition=function(l,a,f){var c,u,v,p,m,x,C,P,w=o._positionDampen*(f||1),M=d.clamp(a/d._baseDelta,0,1),R=l.length;for(c=0;c<R;c++)u=l[c],!(!u.isActive||u.isSensor)&&(v=u.collision,p=v.parentA,m=v.parentB,x=v.normal,u.separation=v.depth+x.x*(m.positionImpulse.x-p.positionImpulse.x)+x.y*(m.positionImpulse.y-p.positionImpulse.y));for(c=0;c<R;c++)u=l[c],!(!u.isActive||u.isSensor)&&(v=u.collision,p=v.parentA,m=v.parentB,x=v.normal,P=u.separation-u.slop*M,(p.isStatic||m.isStatic)&&(P*=2),p.isStatic||p.isSleeping||(C=w/p.totalContacts,p.positionImpulse.x+=x.x*P*C,p.positionImpulse.y+=x.y*P*C),m.isStatic||m.isSleeping||(C=w/m.totalContacts,m.positionImpulse.x-=x.x*P*C,m.positionImpulse.y-=x.y*P*C))},o.postSolvePosition=function(l){for(var a=o._positionWarming,f=l.length,c=y.translate,u=h.update,v=0;v<f;v++){var p=l[v],m=p.positionImpulse,x=m.x,C=m.y,P=p.velocity;if(p.totalContacts=0,x!==0||C!==0){for(var w=0;w<p.parts.length;w++){var M=p.parts[w];c(M.vertices,m),u(M.bounds,M.vertices,P),M.position.x+=x,M.position.y+=C}p.positionPrev.x+=x,p.positionPrev.y+=C,x*P.x+C*P.y<0?(m.x=0,m.y=0):(m.x*=a,m.y*=a)}}},o.preSolveVelocity=function(l){var a=l.length,f,c;for(f=0;f<a;f++){var u=l[f];if(!(!u.isActive||u.isSensor)){var v=u.contacts,p=u.contactCount,m=u.collision,x=m.parentA,C=m.parentB,P=m.normal,w=m.tangent;for(c=0;c<p;c++){var M=v[c],R=M.vertex,A=M.normalImpulse,L=M.tangentImpulse;if(A!==0||L!==0){var F=P.x*A+w.x*L,G=P.y*A+w.y*L;x.isStatic||x.isSleeping||(x.positionPrev.x+=F*x.inverseMass,x.positionPrev.y+=G*x.inverseMass,x.anglePrev+=x.inverseInertia*((R.x-x.position.x)*G-(R.y-x.position.y)*F)),C.isStatic||C.isSleeping||(C.positionPrev.x-=F*C.inverseMass,C.positionPrev.y-=G*C.inverseMass,C.anglePrev-=C.inverseInertia*((R.x-C.position.x)*G-(R.y-C.position.y)*F))}}}}},o.solveVelocity=function(l,a){var f=a/d._baseDelta,c=f*f,u=c*f,v=-o._restingThresh*f,p=o._restingThreshTangent,m=o._frictionNormalMultiplier*f,x=o._frictionMaxStatic,C=l.length,P,w,M,R;for(M=0;M<C;M++){var A=l[M];if(!(!A.isActive||A.isSensor)){var L=A.collision,F=L.parentA,G=L.parentB,I=L.normal.x,B=L.normal.y,k=L.tangent.x,U=L.tangent.y,H=A.inverseMass,X=A.friction*A.frictionStatic*m,j=A.contacts,Z=A.contactCount,Y=1/Z,$=F.position.x-F.positionPrev.x,z=F.position.y-F.positionPrev.y,V=F.angle-F.anglePrev,K=G.position.x-G.positionPrev.x,Q=G.position.y-G.positionPrev.y,_=G.angle-G.anglePrev;for(R=0;R<Z;R++){var tt=j[R],rt=tt.vertex,ot=rt.x-F.position.x,ft=rt.y-F.position.y,ct=rt.x-G.position.x,gt=rt.y-G.position.y,xt=$-ft*V,Mt=z+ot*V,St=K-gt*_,$t=Q+ct*_,Yt=xt-St,Ht=Mt-$t,Ct=I*Yt+B*Ht,Nt=k*Yt+U*Ht,Vt=A.separation+Ct,qt=Math.min(Vt,1);qt=Vt<0?0:qt;var Ce=qt*X;Nt<-Ce||Nt>Ce?(w=Nt>0?Nt:-Nt,P=A.friction*(Nt>0?1:-1)*u,P<-w?P=-w:P>w&&(P=w)):(P=Nt,w=x);var ze=ot*B-ft*I,ye=ct*B-gt*I,Be=Y/(H+F.inverseInertia*ze*ze+G.inverseInertia*ye*ye),Gt=(1+A.restitution)*Ct*Be;if(P*=Be,Ct<v)tt.normalImpulse=0;else{var Xt=tt.normalImpulse;tt.normalImpulse+=Gt,tt.normalImpulse>0&&(tt.normalImpulse=0),Gt=tt.normalImpulse-Xt}if(Nt<-p||Nt>p)tt.tangentImpulse=0;else{var ee=tt.tangentImpulse;tt.tangentImpulse+=P,tt.tangentImpulse<-w&&(tt.tangentImpulse=-w),tt.tangentImpulse>w&&(tt.tangentImpulse=w),P=tt.tangentImpulse-ee}var Se=I*Gt+k*P,we=B*Gt+U*P;F.isStatic||F.isSleeping||(F.positionPrev.x+=Se*F.inverseMass,F.positionPrev.y+=we*F.inverseMass,F.anglePrev+=(ot*we-ft*Se)*F.inverseInertia),G.isStatic||G.isSleeping||(G.positionPrev.x-=Se*G.inverseMass,G.positionPrev.y-=we*G.inverseMass,G.anglePrev-=(ct*we-gt*Se)*G.inverseInertia)}}}}})()}),48140:((n,T,r)=>{var o={};n.exports=o;var y=r(41598),d=r(31725),h=r(53614),l=r(15647),a=r(66615),f=r(53402);(function(){o._warming=.4,o._torqueDampen=1,o._minLength=1e-6,o.create=function(c){var u=c;u.bodyA&&!u.pointA&&(u.pointA={x:0,y:0}),u.bodyB&&!u.pointB&&(u.pointB={x:0,y:0});var v=u.bodyA?d.add(u.bodyA.position,u.pointA):u.pointA,p=u.bodyB?d.add(u.bodyB.position,u.pointB):u.pointB,m=d.magnitude(d.sub(v,p));u.length=typeof u.length<"u"?u.length:m,u.id=u.id||f.nextId(),u.label=u.label||"Constraint",u.type="constraint",u.stiffness=u.stiffness||(u.length>0?1:.7),u.damping=u.damping||0,u.angularStiffness=u.angularStiffness||0,u.angleA=u.bodyA?u.bodyA.angle:u.angleA,u.angleB=u.bodyB?u.bodyB.angle:u.angleB,u.plugin={};var x={visible:!0,type:"line",anchors:!0,lineColor:null,lineOpacity:null,lineThickness:null,pinSize:null,anchorColor:null,anchorSize:null};return u.length===0&&u.stiffness>.1?(x.type="pin",x.anchors=!1):u.stiffness<.9&&(x.type="spring"),u.render=f.extend(x,u.render),u},o.preSolveAll=function(c){for(var u=0;u<c.length;u+=1){var v=c[u],p=v.constraintImpulse;v.isStatic||p.x===0&&p.y===0&&p.angle===0||(v.position.x+=p.x,v.position.y+=p.y,v.angle+=p.angle)}},o.solveAll=function(c,u){for(var v=f.clamp(u/f._baseDelta,0,1),p=0;p<c.length;p+=1){var m=c[p],x=!m.bodyA||m.bodyA&&m.bodyA.isStatic,C=!m.bodyB||m.bodyB&&m.bodyB.isStatic;(x||C)&&o.solve(c[p],v)}for(p=0;p<c.length;p+=1)m=c[p],x=!m.bodyA||m.bodyA&&m.bodyA.isStatic,C=!m.bodyB||m.bodyB&&m.bodyB.isStatic,!x&&!C&&o.solve(c[p],v)},o.solve=function(c,u){var v=c.bodyA,p=c.bodyB,m=c.pointA,x=c.pointB;if(!(!v&&!p)){v&&!v.isStatic&&(d.rotate(m,v.angle-c.angleA,m),c.angleA=v.angle),p&&!p.isStatic&&(d.rotate(x,p.angle-c.angleB,x),c.angleB=p.angle);var C=m,P=x;if(v&&(C=d.add(v.position,m)),p&&(P=d.add(p.position,x)),!(!C||!P)){var w=d.sub(C,P),M=d.magnitude(w);M<o._minLength&&(M=o._minLength);var R=(M-c.length)/M,A=c.stiffness>=1||c.length===0,L=A?c.stiffness*u:c.stiffness*u*u,F=c.damping*u,G=d.mult(w,R*L),I=(v?v.inverseMass:0)+(p?p.inverseMass:0),B=(v?v.inverseInertia:0)+(p?p.inverseInertia:0),k=I+B,U,H,X,j,Z;if(F>0){var Y=d.create();X=d.div(w,M),Z=d.sub(p&&d.sub(p.position,p.positionPrev)||Y,v&&d.sub(v.position,v.positionPrev)||Y),j=d.dot(X,Z)}v&&!v.isStatic&&(H=v.inverseMass/I,v.constraintImpulse.x-=G.x*H,v.constraintImpulse.y-=G.y*H,v.position.x-=G.x*H,v.position.y-=G.y*H,F>0&&(v.positionPrev.x-=F*X.x*j*H,v.positionPrev.y-=F*X.y*j*H),U=d.cross(m,G)/k*o._torqueDampen*v.inverseInertia*(1-c.angularStiffness),v.constraintImpulse.angle-=U,v.angle-=U),p&&!p.isStatic&&(H=p.inverseMass/I,p.constraintImpulse.x+=G.x*H,p.constraintImpulse.y+=G.y*H,p.position.x+=G.x*H,p.position.y+=G.y*H,F>0&&(p.positionPrev.x+=F*X.x*j*H,p.positionPrev.y+=F*X.y*j*H),U=d.cross(x,G)/k*o._torqueDampen*p.inverseInertia*(1-c.angularStiffness),p.constraintImpulse.angle+=U,p.angle+=U)}}},o.postSolveAll=function(c){for(var u=0;u<c.length;u++){var v=c[u],p=v.constraintImpulse;if(!(v.isStatic||p.x===0&&p.y===0&&p.angle===0)){h.set(v,!1);for(var m=0;m<v.parts.length;m++){var x=v.parts[m];y.translate(x.vertices,p),m>0&&(x.position.x+=p.x,x.position.y+=p.y),p.angle!==0&&(y.rotate(x.vertices,p.angle,v.position),a.rotate(x.axes,p.angle),m>0&&d.rotateAbout(x.position,p.angle,v.position,x.position)),l.update(x.bounds,x.vertices,v.velocity)}p.angle*=o._warming,p.x*=o._warming,p.y*=o._warming}}},o.pointAWorld=function(c){return{x:(c.bodyA?c.bodyA.position.x:0)+(c.pointA?c.pointA.x:0),y:(c.bodyA?c.bodyA.position.y:0)+(c.pointA?c.pointA.y:0)}},o.pointBWorld=function(c){return{x:(c.bodyB?c.bodyB.position.x:0)+(c.pointB?c.pointB.x:0),y:(c.bodyB?c.bodyB.position.y:0)+(c.pointB?c.pointB.y:0)}},o.currentLength=function(c){var u=(c.bodyA?c.bodyA.position.x:0)+(c.pointA?c.pointA.x:0),v=(c.bodyA?c.bodyA.position.y:0)+(c.pointA?c.pointA.y:0),p=(c.bodyB?c.bodyB.position.x:0)+(c.pointB?c.pointB.x:0),m=(c.bodyB?c.bodyB.position.y:0)+(c.pointB?c.pointB.y:0),x=u-p,C=v-m;return Math.sqrt(x*x+C*C)}})()}),53402:((n,T,r)=>{var o={};n.exports=o,(function(){o._baseDelta=16.666666666666668,o._nextId=0,o._seed=0,o._nowStartTime=+new Date,o._warnedOnce={},o._decomp=null,o.extend=function(d,h){var l,a;typeof h=="boolean"?(l=2,a=h):(l=1,a=!0);for(var f=l;f<arguments.length;f++){var c=arguments[f];if(c)for(var u in c)a&&c[u]&&c[u].constructor===Object&&(!d[u]||d[u].constructor===Object)?(d[u]=d[u]||{},o.extend(d[u],a,c[u])):d[u]=c[u]}return d},o.clone=function(d,h){return o.extend({},h,d)},o.keys=function(d){if(Object.keys)return Object.keys(d);var h=[];for(var l in d)h.push(l);return h},o.values=function(d){var h=[];if(Object.keys){for(var l=Object.keys(d),a=0;a<l.length;a++)h.push(d[l[a]]);return h}for(var f in d)h.push(d[f]);return h},o.get=function(d,h,l,a){h=h.split(".").slice(l,a);for(var f=0;f<h.length;f+=1)d=d[h[f]];return d},o.set=function(d,h,l,a,f){var c=h.split(".").slice(a,f);return o.get(d,h,0,-1)[c[c.length-1]]=l,l},o.shuffle=function(d){for(var h=d.length-1;h>0;h--){var l=Math.floor(o.random()*(h+1)),a=d[h];d[h]=d[l],d[l]=a}return d},o.choose=function(d){return d[Math.floor(o.random()*d.length)]},o.isElement=function(d){return typeof HTMLElement<"u"?d instanceof HTMLElement:!!(d&&d.nodeType&&d.nodeName)},o.isArray=function(d){return Object.prototype.toString.call(d)==="[object Array]"},o.isFunction=function(d){return typeof d=="function"},o.isPlainObject=function(d){return typeof d=="object"&&d.constructor===Object},o.isString=function(d){return toString.call(d)==="[object String]"},o.clamp=function(d,h,l){return d<h?h:d>l?l:d},o.sign=function(d){return d<0?-1:1},o.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-o._nowStartTime},o.random=function(d,h){return d=typeof d<"u"?d:0,h=typeof h<"u"?h:1,d+y()*(h-d)};var y=function(){return o._seed=(o._seed*9301+49297)%233280,o._seed/233280};o.colorToNumber=function(d){return d=d.replace("#",""),d.length==3&&(d=d.charAt(0)+d.charAt(0)+d.charAt(1)+d.charAt(1)+d.charAt(2)+d.charAt(2)),parseInt(d,16)},o.logLevel=1,o.log=function(){console&&o.logLevel>0&&o.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},o.info=function(){console&&o.logLevel>0&&o.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},o.warn=function(){console&&o.logLevel>0&&o.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},o.warnOnce=function(){var d=Array.prototype.slice.call(arguments).join(" ");o._warnedOnce[d]||(o.warn(d),o._warnedOnce[d]=!0)},o.deprecated=function(d,h,l){d[h]=o.chain(function(){o.warnOnce(" deprecated ",l)},d[h])},o.nextId=function(){return o._nextId++},o.indexOf=function(d,h){if(d.indexOf)return d.indexOf(h);for(var l=0;l<d.length;l++)if(d[l]===h)return l;return-1},o.map=function(d,h){if(d.map)return d.map(h);for(var l=[],a=0;a<d.length;a+=1)l.push(h(d[a]));return l},o.topologicalSort=function(d){var h=[],l=[],a=[];for(var f in d)!l[f]&&!a[f]&&o._topologicalSort(f,l,a,d,h);return h},o._topologicalSort=function(d,h,l,a,f){var c=a[d]||[];l[d]=!0;for(var u=0;u<c.length;u+=1){var v=c[u];l[v]||h[v]||o._topologicalSort(v,h,l,a,f)}l[d]=!1,h[d]=!0,f.push(d)},o.chain=function(){for(var d=[],h=0;h<arguments.length;h+=1){var l=arguments[h];l._chained?d.push.apply(d,l._chained):d.push(l)}var a=function(){for(var f,c=new Array(arguments.length),u=0,v=arguments.length;u<v;u++)c[u]=arguments[u];for(u=0;u<d.length;u+=1){var p=d[u].apply(f,c);typeof p<"u"&&(f=p)}return f};return a._chained=d,a},o.chainPathBefore=function(d,h,l){return o.set(d,h,o.chain(l,o.get(d,h)))},o.chainPathAfter=function(d,h,l){return o.set(d,h,o.chain(o.get(d,h),l))},o.setDecomp=function(d){o._decomp=d},o.getDecomp=function(){var d=o._decomp;try{!d&&typeof window<"u"&&(d=window.decomp),!d&&typeof r.g<"u"&&(d=r.g.decomp)}catch{d=null}return d}})()}),48413:((n,T,r)=>{var o={};n.exports=o;var y=r(53614),d=r(66272),h=r(81388),l=r(99561),a=r(35810),f=r(69351),c=r(48140),u=r(53402),v=r(22562);(function(){o._deltaMax=16.666666666666668,o.create=function(p){p=p||{};var m={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0,lastUpdatesPerFrame:0}},x=u.extend(m,p);return x.world=p.world||f.create({label:"World"}),x.pairs=p.pairs||l.create(),x.detector=p.detector||h.create(),x.detector.pairs=x.pairs,x.grid={buckets:[]},x.world.gravity=x.gravity,x.broadphase=x.grid,x.metrics={},x},o.update=function(p,m){var x=u.now(),C=p.world,P=p.detector,w=p.pairs,M=p.timing,R=M.timestamp,A;m>o._deltaMax&&u.warnOnce("Matter.Engine.update: delta argument is recommended to be less than or equal to",o._deltaMax.toFixed(3),"ms."),m=typeof m<"u"?m:u._baseDelta,m*=M.timeScale,M.timestamp+=m,M.lastDelta=m;var L={timestamp:M.timestamp,delta:m};a.trigger(p,"beforeUpdate",L);var F=f.allBodies(C),G=f.allConstraints(C),I=f.allComposites(C);for(C.isModified&&(h.setBodies(P,F),f.setModified(C,!1,!1,!0)),p.enableSleeping&&y.update(F,m),o._bodiesApplyGravity(F,p.gravity),o.wrap(F,I),o.attractors(F),m>0&&o._bodiesUpdate(F,m),a.trigger(p,"beforeSolve",L),c.preSolveAll(F),A=0;A<p.constraintIterations;A++)c.solveAll(G,m);c.postSolveAll(F);var B=h.collisions(P);l.update(w,B,R),p.enableSleeping&&y.afterCollisions(w.list),w.collisionStart.length>0&&a.trigger(p,"collisionStart",{pairs:w.collisionStart,timestamp:M.timestamp,delta:m});var k=u.clamp(20/p.positionIterations,0,1);for(d.preSolvePosition(w.list),A=0;A<p.positionIterations;A++)d.solvePosition(w.list,m,k);for(d.postSolvePosition(F),c.preSolveAll(F),A=0;A<p.constraintIterations;A++)c.solveAll(G,m);for(c.postSolveAll(F),d.preSolveVelocity(w.list),A=0;A<p.velocityIterations;A++)d.solveVelocity(w.list,m);return o._bodiesUpdateVelocities(F),w.collisionActive.length>0&&a.trigger(p,"collisionActive",{pairs:w.collisionActive,timestamp:M.timestamp,delta:m}),w.collisionEnd.length>0&&a.trigger(p,"collisionEnd",{pairs:w.collisionEnd,timestamp:M.timestamp,delta:m}),o._bodiesClearForces(F),a.trigger(p,"afterUpdate",L),p.timing.lastElapsed=u.now()-x,p},o.merge=function(p,m){if(u.extend(p,m),m.world){p.world=m.world,o.clear(p);for(var x=f.allBodies(p.world),C=0;C<x.length;C++){var P=x[C];y.set(P,!1),P.id=u.nextId()}}},o.clear=function(p){l.clear(p.pairs),h.clear(p.detector)},o._bodiesClearForces=function(p){for(var m=p.length,x=0;x<m;x++){var C=p[x];C.force.x=0,C.force.y=0,C.torque=0}},o._bodiesApplyGravity=function(p,m){var x=typeof m.scale<"u"?m.scale:.001,C=p.length;if(!(m.x===0&&m.y===0||x===0))for(var P=0;P<C;P++){var w=p[P];w.ignoreGravity||w.isStatic||w.isSleeping||(w.force.y+=w.mass*m.y*x,w.force.x+=w.mass*m.x*x)}},o._bodiesUpdate=function(p,m){for(var x=p.length,C=0;C<x;C++){var P=p[C];P.isStatic||P.isSleeping||v.update(P,m)}},o._bodiesUpdateVelocities=function(p){for(var m=p.length,x=0;x<m;x++)v.updateVelocities(p[x])},o.wrap=function(p,m){for(var x=0;x<p.length;x+=1){var C=p[x];C.wrapBounds!==null&&v.wrap(C,C.wrapBounds)}for(x=0;x<m.length;x+=1){var P=m[x];P.wrapBounds!==null&&f.wrap(P,P.wrapBounds)}},o.attractors=function(p){for(var m=0;m<p.length;m++){var x=p[m],C=x.attractors;if(C&&C.length>0)for(var P=0;P<p.length;P++){var w=p[P];if(m!==P)for(var M=0;M<C.length;M++){var R=C[M],A=R;u.isFunction(R)&&(A=R(x,w)),A&&v.applyForce(w,w.position,A)}}}}})()}),35810:((n,T,r)=>{var o={};n.exports=o;var y=r(53402);(function(){o.on=function(d,h,l){for(var a=h.split(" "),f,c=0;c<a.length;c++)f=a[c],d.events=d.events||{},d.events[f]=d.events[f]||[],d.events[f].push(l);return l},o.off=function(d,h,l){if(!h){d.events={};return}typeof h=="function"&&(l=h,h=y.keys(d.events).join(" "));for(var a=h.split(" "),f=0;f<a.length;f++){var c=d.events[a[f]],u=[];if(l&&c)for(var v=0;v<c.length;v++)c[v]!==l&&u.push(c[v]);d.events[a[f]]=u}},o.trigger=function(d,h,l){var a,f,c,u,v=d.events;if(v&&y.keys(v).length>0){l||(l={}),a=h.split(" ");for(var p=0;p<a.length;p++)if(f=a[p],c=v[f],c){u=y.clone(l,!1),u.name=f,u.source=d;for(var m=0;m<c.length;m++)c[m].apply(d,[u])}}}})()}),6790:((n,T,r)=>{var o={};n.exports=o;var y=r(73832),d=r(53402);(function(){o.name="matter-js",o.version="0.20.0",o.uses=[],o.used=[],o.use=function(){y.use(o,Array.prototype.slice.call(arguments))},o.before=function(h,l){return h=h.replace(/^Matter./,""),d.chainPathBefore(o,h,l)},o.after=function(h,l){return h=h.replace(/^Matter./,""),d.chainPathAfter(o,h,l)}})()}),73832:((n,T,r)=>{var o={};n.exports=o;var y=r(53402);(function(){o._registry={},o.register=function(d){if(o.isPlugin(d)||y.warn("Plugin.register:",o.toString(d),"does not implement all required fields."),d.name in o._registry){var h=o._registry[d.name],l=o.versionParse(d.version).number,a=o.versionParse(h.version).number;l>a?(y.warn("Plugin.register:",o.toString(h),"was upgraded to",o.toString(d)),o._registry[d.name]=d):l<a?y.warn("Plugin.register:",o.toString(h),"can not be downgraded to",o.toString(d)):d!==h&&y.warn("Plugin.register:",o.toString(d),"is already registered to different plugin object")}else o._registry[d.name]=d;return d},o.resolve=function(d){return o._registry[o.dependencyParse(d).name]},o.toString=function(d){return typeof d=="string"?d:(d.name||"anonymous")+"@"+(d.version||d.range||"0.0.0")},o.isPlugin=function(d){return d&&d.name&&d.version&&d.install},o.isUsed=function(d,h){return d.used.indexOf(h)>-1},o.isFor=function(d,h){var l=d.for&&o.dependencyParse(d.for);return!d.for||h.name===l.name&&o.versionSatisfies(h.version,l.range)},o.use=function(d,h){if(d.uses=(d.uses||[]).concat(h||[]),d.uses.length===0){y.warn("Plugin.use:",o.toString(d),"does not specify any dependencies to install.");return}for(var l=o.dependencies(d),a=y.topologicalSort(l),f=[],c=0;c<a.length;c+=1)if(a[c]!==d.name){var u=o.resolve(a[c]);if(!u){f.push(" "+a[c]);continue}o.isUsed(d,u.name)||(o.isFor(u,d)||(y.warn("Plugin.use:",o.toString(u),"is for",u.for,"but installed on",o.toString(d)+"."),u._warned=!0),u.install?u.install(d):(y.warn("Plugin.use:",o.toString(u),"does not specify an install function."),u._warned=!0),u._warned?(f.push(" "+o.toString(u)),delete u._warned):f.push(" "+o.toString(u)),d.used.push(u.name))}f.length>0&&!u.silent&&y.info(f.join("  "))},o.dependencies=function(d,h){var l=o.dependencyParse(d),a=l.name;if(h=h||{},!(a in h)){d=o.resolve(d)||d,h[a]=y.map(d.uses||[],function(c){o.isPlugin(c)&&o.register(c);var u=o.dependencyParse(c),v=o.resolve(c);return v&&!o.versionSatisfies(v.version,u.range)?(y.warn("Plugin.dependencies:",o.toString(v),"does not satisfy",o.toString(u),"used by",o.toString(l)+"."),v._warned=!0,d._warned=!0):v||(y.warn("Plugin.dependencies:",o.toString(c),"used by",o.toString(l),"could not be resolved."),d._warned=!0),u.name});for(var f=0;f<h[a].length;f+=1)o.dependencies(h[a][f],h);return h}},o.dependencyParse=function(d){if(y.isString(d)){var h=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return h.test(d)||y.warn("Plugin.dependencyParse:",d,"is not a valid dependency string."),{name:d.split("@")[0],range:d.split("@")[1]||"*"}}return{name:d.name,range:d.range||d.version}},o.versionParse=function(d){var h=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;h.test(d)||y.warn("Plugin.versionParse:",d,"is not a valid version or range.");var l=h.exec(d),a=Number(l[4]),f=Number(l[5]),c=Number(l[6]);return{isRange:!!(l[1]||l[2]),version:l[3],range:d,operator:l[1]||l[2]||"",major:a,minor:f,patch:c,parts:[a,f,c],prerelease:l[7],number:a*1e8+f*1e4+c}},o.versionSatisfies=function(d,h){h=h||"*";var l=o.versionParse(h),a=o.versionParse(d);if(l.isRange){if(l.operator==="*"||d==="*")return!0;if(l.operator===">")return a.number>l.number;if(l.operator===">=")return a.number>=l.number;if(l.operator==="~")return a.major===l.major&&a.minor===l.minor&&a.patch>=l.patch;if(l.operator==="^")return l.major>0?a.major===l.major&&a.number>=l.number:l.minor>0?a.minor===l.minor&&a.patch>=l.patch:a.patch===l.patch}return d===h||d==="*"}})()}),13037:((n,T,r)=>{var o={};n.exports=o;var y=r(35810),d=r(48413),h=r(53402);(function(){o._maxFrameDelta=66.66666666666667,o._frameDeltaFallback=16.666666666666668,o._timeBufferMargin=1.5,o._elapsedNextEstimate=1,o._smoothingLowerBound=.1,o._smoothingUpperBound=.9,o.create=function(a){var f={delta:16.666666666666668,frameDelta:null,frameDeltaSmoothing:!0,frameDeltaSnapping:!0,frameDeltaHistory:[],frameDeltaHistorySize:100,frameRequestId:null,timeBuffer:0,timeLastTick:null,maxUpdates:null,maxFrameTime:33.333333333333336,lastUpdatesDeferred:0,enabled:!0},c=h.extend(f,a);return c.fps=0,c},o.run=function(a,f){return a.timeBuffer=o._frameDeltaFallback,(function c(u){a.frameRequestId=o._onNextFrame(a,c),u&&a.enabled&&o.tick(a,f,u)})(),a},o.tick=function(a,f,c){var u=h.now(),v=a.delta,p=0,m=c-a.timeLastTick;if((!m||!a.timeLastTick||m>Math.max(o._maxFrameDelta,a.maxFrameTime))&&(m=a.frameDelta||o._frameDeltaFallback),a.frameDeltaSmoothing){a.frameDeltaHistory.push(m),a.frameDeltaHistory=a.frameDeltaHistory.slice(-a.frameDeltaHistorySize);var x=a.frameDeltaHistory.slice(0).sort(),C=a.frameDeltaHistory.slice(x.length*o._smoothingLowerBound,x.length*o._smoothingUpperBound),P=l(C);m=P||m}a.frameDeltaSnapping&&(m=1e3/Math.round(1e3/m)),a.frameDelta=m,a.timeLastTick=c,a.timeBuffer+=a.frameDelta,a.timeBuffer=h.clamp(a.timeBuffer,0,a.frameDelta+v*o._timeBufferMargin),a.lastUpdatesDeferred=0;var w=a.maxUpdates||Math.ceil(a.maxFrameTime/v),M={timestamp:f.timing.timestamp};y.trigger(a,"beforeTick",M),y.trigger(a,"tick",M);for(var R=h.now();v>0&&a.timeBuffer>=v*o._timeBufferMargin;){y.trigger(a,"beforeUpdate",M),d.update(f,v),y.trigger(a,"afterUpdate",M),a.timeBuffer-=v,p+=1;var A=h.now()-u,L=h.now()-R,F=A+o._elapsedNextEstimate*L/p;if(p>=w||F>a.maxFrameTime){a.lastUpdatesDeferred=Math.round(Math.max(0,a.timeBuffer/v-o._timeBufferMargin));break}}f.timing.lastUpdatesPerFrame=p,y.trigger(a,"afterTick",M),a.frameDeltaHistory.length>=100&&(a.lastUpdatesDeferred&&Math.round(a.frameDelta/v)>w?h.warnOnce("Matter.Runner: runner reached runner.maxUpdates, see docs."):a.lastUpdatesDeferred&&h.warnOnce("Matter.Runner: runner reached runner.maxFrameTime, see docs."),typeof a.isFixed<"u"&&h.warnOnce("Matter.Runner: runner.isFixed is now redundant, see docs."),(a.deltaMin||a.deltaMax)&&h.warnOnce("Matter.Runner: runner.deltaMin and runner.deltaMax were removed, see docs."),a.fps!==0&&h.warnOnce("Matter.Runner: runner.fps was replaced by runner.delta, see docs."))},o.stop=function(a){o._cancelNextFrame(a)},o._onNextFrame=function(a,f){if(typeof window<"u"&&window.requestAnimationFrame)a.frameRequestId=window.requestAnimationFrame(f);else throw new Error("Matter.Runner: missing required global window.requestAnimationFrame.");return a.frameRequestId},o._cancelNextFrame=function(a){if(typeof window<"u"&&window.cancelAnimationFrame)window.cancelAnimationFrame(a.frameRequestId);else throw new Error("Matter.Runner: missing required global window.cancelAnimationFrame.")};var l=function(a){for(var f=0,c=a.length,u=0;u<c;u+=1)f+=a[u];return f/c||0};o._mean=l})()}),53614:((n,T,r)=>{var o={};n.exports=o;var y=r(22562),d=r(35810),h=r(53402);(function(){o._motionWakeThreshold=.18,o._motionSleepThreshold=.08,o._minBias=.9,o.update=function(l,a){for(var f=a/h._baseDelta,c=o._motionSleepThreshold,u=0;u<l.length;u++){var v=l[u],p=y.getSpeed(v),m=y.getAngularSpeed(v),x=p*p+m*m;if(v.force.x!==0||v.force.y!==0){o.set(v,!1);continue}var C=Math.min(v.motion,x),P=Math.max(v.motion,x);v.motion=o._minBias*C+(1-o._minBias)*P,v.sleepThreshold>0&&v.motion<c?(v.sleepCounter+=1,v.sleepCounter>=v.sleepThreshold/f&&o.set(v,!0)):v.sleepCounter>0&&(v.sleepCounter-=1)}},o.afterCollisions=function(l){for(var a=o._motionSleepThreshold,f=0;f<l.length;f++){var c=l[f];if(c.isActive){var u=c.collision,v=u.bodyA.parent,p=u.bodyB.parent;if(!(v.isSleeping&&p.isSleeping||v.isStatic||p.isStatic)&&(v.isSleeping||p.isSleeping)){var m=v.isSleeping&&!v.isStatic?v:p,x=m===v?p:v;!m.isStatic&&x.motion>a&&o.set(m,!1)}}}},o.set=function(l,a){var f=l.isSleeping;a?(l.isSleeping=!0,l.sleepCounter=l.sleepThreshold,l.positionImpulse.x=0,l.positionImpulse.y=0,l.positionPrev.x=l.position.x,l.positionPrev.y=l.position.y,l.anglePrev=l.angle,l.speed=0,l.angularSpeed=0,l.motion=0,f||d.trigger(l,"sleepStart")):(l.isSleeping=!1,l.sleepCounter=0,f&&d.trigger(l,"sleepEnd"))}})()}),66280:((n,T,r)=>{var o={};n.exports=o;var y=r(41598),d=r(53402),h=r(22562),l=r(15647),a=r(31725);(function(){o.rectangle=function(f,c,u,v,p){p=p||{};var m={label:"Rectangle Body",position:{x:f,y:c},vertices:y.fromPath("L 0 0 L "+u+" 0 L "+u+" "+v+" L 0 "+v)};if(p.chamfer){var x=p.chamfer;m.vertices=y.chamfer(m.vertices,x.radius,x.quality,x.qualityMin,x.qualityMax),delete p.chamfer}return h.create(d.extend({},m,p))},o.trapezoid=function(f,c,u,v,p,m){m=m||{},p>=1&&d.warn("Bodies.trapezoid: slope parameter must be < 1."),p*=.5;var x=(1-p*2)*u,C=u*p,P=C+x,w=P+C,M;p<.5?M="L 0 0 L "+C+" "+-v+" L "+P+" "+-v+" L "+w+" 0":M="L 0 0 L "+P+" "+-v+" L "+w+" 0";var R={label:"Trapezoid Body",position:{x:f,y:c},vertices:y.fromPath(M)};if(m.chamfer){var A=m.chamfer;R.vertices=y.chamfer(R.vertices,A.radius,A.quality,A.qualityMin,A.qualityMax),delete m.chamfer}return h.create(d.extend({},R,m))},o.circle=function(f,c,u,v,p){v=v||{};var m={label:"Circle Body",circleRadius:u};p=p||25;var x=Math.ceil(Math.max(10,Math.min(p,u)));return x%2===1&&(x+=1),o.polygon(f,c,x,u,d.extend({},m,v))},o.polygon=function(f,c,u,v,p){if(p=p||{},u<3)return o.circle(f,c,v,p);for(var m=2*Math.PI/u,x="",C=m*.5,P=0;P<u;P+=1){var w=C+P*m,M=Math.cos(w)*v,R=Math.sin(w)*v;x+="L "+M.toFixed(3)+" "+R.toFixed(3)+" "}var A={label:"Polygon Body",position:{x:f,y:c},vertices:y.fromPath(x)};if(p.chamfer){var L=p.chamfer;A.vertices=y.chamfer(A.vertices,L.radius,L.quality,L.qualityMin,L.qualityMax),delete p.chamfer}return h.create(d.extend({},A,p))},o.fromVertices=function(f,c,u,v,p,m,x,C){var P=d.getDecomp(),w,M,R,A,L,F,G,I,B,k,U;for(w=!!(P&&P.quickDecomp),v=v||{},R=[],p=typeof p<"u"?p:!1,m=typeof m<"u"?m:.01,x=typeof x<"u"?x:10,C=typeof C<"u"?C:.01,d.isArray(u[0])||(u=[u]),k=0;k<u.length;k+=1)if(F=u[k],A=y.isConvex(F),L=!A,L&&!w&&d.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),A||!w)A?F=y.clockwiseSort(F):F=y.hull(F),R.push({position:{x:f,y:c},vertices:F});else{var H=F.map(function(tt){return[tt.x,tt.y]});P.makeCCW(H),m!==!1&&P.removeCollinearPoints(H,m),C!==!1&&P.removeDuplicatePoints&&P.removeDuplicatePoints(H,C);var X=P.quickDecomp(H);for(G=0;G<X.length;G++){var j=X[G],Z=j.map(function(tt){return{x:tt[0],y:tt[1]}});x>0&&y.area(Z)<x||R.push({position:y.centre(Z),vertices:Z})}}for(G=0;G<R.length;G++)R[G]=h.create(d.extend(R[G],v));if(p){var Y=5;for(G=0;G<R.length;G++){var $=R[G];for(I=G+1;I<R.length;I++){var z=R[I];if(l.overlaps($.bounds,z.bounds)){var V=$.vertices,K=z.vertices;for(B=0;B<$.vertices.length;B++)for(U=0;U<z.vertices.length;U++){var Q=a.magnitudeSquared(a.sub(V[(B+1)%V.length],K[U])),_=a.magnitudeSquared(a.sub(V[B],K[(U+1)%K.length]));Q<Y&&_<Y&&(V[B].isInternal=!0,K[U].isInternal=!0)}}}}}return R.length>1?(M=h.create(d.extend({parts:R.slice(0)},v)),h.setPosition(M,{x:f,y:c}),M):R[0]},o.flagCoincidentParts=function(f,c){c===void 0&&(c=5);for(var u=0;u<f.length;u++)for(var v=f[u],p=u+1;p<f.length;p++){var m=f[p];if(l.overlaps(v.bounds,m.bounds))for(var x=v.vertices,C=m.vertices,P=0;P<v.vertices.length;P++)for(var w=0;w<m.vertices.length;w++){var M=a.magnitudeSquared(a.sub(x[(P+1)%x.length],C[w])),R=a.magnitudeSquared(a.sub(x[P],C[(w+1)%C.length]));M<c&&R<c&&(x[P].isInternal=!0,C[w].isInternal=!0)}}return f}})()}),74116:((n,T,r)=>{var o={};n.exports=o;var y=r(69351),d=r(48140),h=r(53402),l=r(22562),a=r(66280);(function(){o.stack=function(f,c,u,v,p,m,x){for(var C=y.create({label:"Stack"}),P=f,w=c,M,R=0,A=0;A<v;A++){for(var L=0,F=0;F<u;F++){var G=x(P,w,F,A,M,R);if(G){var I=G.bounds.max.y-G.bounds.min.y,B=G.bounds.max.x-G.bounds.min.x;I>L&&(L=I),l.translate(G,{x:B*.5,y:I*.5}),P=G.bounds.max.x+p,y.addBody(C,G),M=G,R+=1}else P+=p}w+=L+m,P=f}return C},o.chain=function(f,c,u,v,p,m){for(var x=f.bodies,C=1;C<x.length;C++){var P=x[C-1],w=x[C],M=P.bounds.max.y-P.bounds.min.y,R=P.bounds.max.x-P.bounds.min.x,A=w.bounds.max.y-w.bounds.min.y,L=w.bounds.max.x-w.bounds.min.x,F={bodyA:P,pointA:{x:R*c,y:M*u},bodyB:w,pointB:{x:L*v,y:A*p}},G=h.extend(F,m);y.addConstraint(f,d.create(G))}return f.label+=" Chain",f},o.mesh=function(f,c,u,v,p){var m=f.bodies,x,C,P,w,M;for(x=0;x<u;x++){for(C=1;C<c;C++)P=m[C-1+x*c],w=m[C+x*c],y.addConstraint(f,d.create(h.extend({bodyA:P,bodyB:w},p)));if(x>0)for(C=0;C<c;C++)P=m[C+(x-1)*c],w=m[C+x*c],y.addConstraint(f,d.create(h.extend({bodyA:P,bodyB:w},p))),v&&C>0&&(M=m[C-1+(x-1)*c],y.addConstraint(f,d.create(h.extend({bodyA:M,bodyB:w},p)))),v&&C<c-1&&(M=m[C+1+(x-1)*c],y.addConstraint(f,d.create(h.extend({bodyA:M,bodyB:w},p))))}return f.label+=" Mesh",f},o.pyramid=function(f,c,u,v,p,m,x){return o.stack(f,c,u,v,p,m,function(C,P,w,M,R,A){var L=Math.min(v,Math.ceil(u/2)),F=R?R.bounds.max.x-R.bounds.min.x:0;if(!(M>L)){M=L-M;var G=M,I=u-1-M;if(!(w<G||w>I)){A===1&&l.translate(R,{x:(w+(u%2===1?1:-1))*F,y:0});var B=R?w*F:0;return x(f+B+w*p,P,w,M,R,A)}}})},o.newtonsCradle=function(f,c,u,v,p){for(var m=y.create({label:"Newtons Cradle"}),x=0;x<u;x++){var C=1.9,P=a.circle(f+x*(v*C),c+p,v,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),w=d.create({pointA:{x:f+x*(v*C),y:c},bodyB:P});y.addBody(m,P),y.addConstraint(m,w)}return m},o.car=function(f,c,u,v,p){var m=l.nextGroup(!0),x=20,C=-u*.5+x,P=u*.5-x,w=0,M=y.create({label:"Car"}),R=a.rectangle(f,c,u,v,{collisionFilter:{group:m},chamfer:{radius:v*.5},density:2e-4}),A=a.circle(f+C,c+w,p,{collisionFilter:{group:m},friction:.8}),L=a.circle(f+P,c+w,p,{collisionFilter:{group:m},friction:.8}),F=d.create({bodyB:R,pointB:{x:C,y:w},bodyA:A,stiffness:1,length:0}),G=d.create({bodyB:R,pointB:{x:P,y:w},bodyA:L,stiffness:1,length:0});return y.addBody(M,R),y.addBody(M,A),y.addBody(M,L),y.addConstraint(M,F),y.addConstraint(M,G),M},o.softBody=function(f,c,u,v,p,m,x,C,P,w){P=h.extend({inertia:1/0},P),w=h.extend({stiffness:.2,render:{type:"line",anchors:!1}},w);var M=o.stack(f,c,u,v,p,m,function(R,A){return a.circle(R,A,C,P)});return o.mesh(M,u,v,x,w),M.label="Soft Body",M}})()}),66615:((n,T,r)=>{var o={};n.exports=o;var y=r(31725),d=r(53402);(function(){o.fromVertices=function(h){for(var l={},a=0;a<h.length;a++){var f=(a+1)%h.length,c=y.normalise({x:h[f].y-h[a].y,y:h[a].x-h[f].x}),u=c.y===0?1/0:c.x/c.y;u=u.toFixed(3).toString(),l[u]=c}return d.values(l)},o.rotate=function(h,l){if(l!==0)for(var a=Math.cos(l),f=Math.sin(l),c=0;c<h.length;c++){var u=h[c],v;v=u.x*a-u.y*f,u.y=u.x*f+u.y*a,u.x=v}}})()}),15647:(n=>{var T={};n.exports=T,(function(){T.create=function(r){var o={min:{x:0,y:0},max:{x:0,y:0}};return r&&T.update(o,r),o},T.update=function(r,o,y){r.min.x=1/0,r.max.x=-1/0,r.min.y=1/0,r.max.y=-1/0;for(var d=0;d<o.length;d++){var h=o[d];h.x>r.max.x&&(r.max.x=h.x),h.x<r.min.x&&(r.min.x=h.x),h.y>r.max.y&&(r.max.y=h.y),h.y<r.min.y&&(r.min.y=h.y)}y&&(y.x>0?r.max.x+=y.x:r.min.x+=y.x,y.y>0?r.max.y+=y.y:r.min.y+=y.y)},T.contains=function(r,o){return o.x>=r.min.x&&o.x<=r.max.x&&o.y>=r.min.y&&o.y<=r.max.y},T.overlaps=function(r,o){return r.min.x<=o.max.x&&r.max.x>=o.min.x&&r.max.y>=o.min.y&&r.min.y<=o.max.y},T.translate=function(r,o){r.min.x+=o.x,r.max.x+=o.x,r.min.y+=o.y,r.max.y+=o.y},T.shift=function(r,o){var y=r.max.x-r.min.x,d=r.max.y-r.min.y;r.min.x=o.x,r.max.x=o.x+y,r.min.y=o.y,r.max.y=o.y+d},T.wrap=function(r,o,y){var d=null,h=null;if(typeof o.min.x<"u"&&typeof o.max.x<"u"&&(r.min.x>o.max.x?d=o.min.x-r.max.x:r.max.x<o.min.x&&(d=o.max.x-r.min.x)),typeof o.min.y<"u"&&typeof o.max.y<"u"&&(r.min.y>o.max.y?h=o.min.y-r.max.y:r.max.y<o.min.y&&(h=o.max.y-r.min.y)),d!==null||h!==null)return{x:d||0,y:h||0}}})()}),74058:((n,T,r)=>{var o={};n.exports=o,r(15647);var y=r(53402);(function(){o.pathToVertices=function(d,h){typeof window<"u"&&!("SVGPathSeg"in window)&&y.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var l,a,f,c,u,v,p,m,x,C,P=[],w,M,R=0,A=0,L=0;h=h||15;var F=function(I,B,k){var U=k%2===1&&k>1;if(!x||I!=x.x||B!=x.y){x&&U?(w=x.x,M=x.y):(w=0,M=0);var H={x:w+I,y:M+B};(U||!x)&&(x=H),P.push(H),A=w+I,L=M+B}},G=function(I){var B=I.pathSegTypeAsLetter.toUpperCase();if(B!=="Z"){switch(B){case"M":case"L":case"T":case"C":case"S":case"Q":A=I.x,L=I.y;break;case"H":A=I.x;break;case"V":L=I.y;break}F(A,L,I.pathSegType)}};for(o._svgPathToAbsolute(d),f=d.getTotalLength(),v=[],l=0;l<d.pathSegList.numberOfItems;l+=1)v.push(d.pathSegList.getItem(l));for(p=v.concat();R<f;){if(C=d.getPathSegAtLength(R),u=v[C],u!=m){for(;p.length&&p[0]!=u;)G(p.shift());m=u}switch(u.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":c=d.getPointAtLength(R),F(c.x,c.y,0);break}R+=h}for(l=0,a=p.length;l<a;++l)G(p[l]);return P},o._svgPathToAbsolute=function(d){for(var h,l,a,f,c,u,v=d.pathSegList,p=0,m=0,x=v.numberOfItems,C=0;C<x;++C){var P=v.getItem(C),w=P.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(w))"x"in P&&(p=P.x),"y"in P&&(m=P.y);else switch("x1"in P&&(a=p+P.x1),"x2"in P&&(c=p+P.x2),"y1"in P&&(f=m+P.y1),"y2"in P&&(u=m+P.y2),"x"in P&&(p+=P.x),"y"in P&&(m+=P.y),w){case"m":v.replaceItem(d.createSVGPathSegMovetoAbs(p,m),C);break;case"l":v.replaceItem(d.createSVGPathSegLinetoAbs(p,m),C);break;case"h":v.replaceItem(d.createSVGPathSegLinetoHorizontalAbs(p),C);break;case"v":v.replaceItem(d.createSVGPathSegLinetoVerticalAbs(m),C);break;case"c":v.replaceItem(d.createSVGPathSegCurvetoCubicAbs(p,m,a,f,c,u),C);break;case"s":v.replaceItem(d.createSVGPathSegCurvetoCubicSmoothAbs(p,m,c,u),C);break;case"q":v.replaceItem(d.createSVGPathSegCurvetoQuadraticAbs(p,m,a,f),C);break;case"t":v.replaceItem(d.createSVGPathSegCurvetoQuadraticSmoothAbs(p,m),C);break;case"a":v.replaceItem(d.createSVGPathSegArcAbs(p,m,P.r1,P.r2,P.angle,P.largeArcFlag,P.sweepFlag),C);break;case"z":case"Z":p=h,m=l;break}(w=="M"||w=="m")&&(h=p,l=m)}}})()}),31725:(n=>{var T={};n.exports=T,(function(){T.create=function(r,o){return{x:r||0,y:o||0}},T.clone=function(r){return{x:r.x,y:r.y}},T.magnitude=function(r){return Math.sqrt(r.x*r.x+r.y*r.y)},T.magnitudeSquared=function(r){return r.x*r.x+r.y*r.y},T.rotate=function(r,o,y){var d=Math.cos(o),h=Math.sin(o);y||(y={});var l=r.x*d-r.y*h;return y.y=r.x*h+r.y*d,y.x=l,y},T.rotateAbout=function(r,o,y,d){var h=Math.cos(o),l=Math.sin(o);d||(d={});var a=y.x+((r.x-y.x)*h-(r.y-y.y)*l);return d.y=y.y+((r.x-y.x)*l+(r.y-y.y)*h),d.x=a,d},T.normalise=function(r){var o=T.magnitude(r);return o===0?{x:0,y:0}:{x:r.x/o,y:r.y/o}},T.dot=function(r,o){return r.x*o.x+r.y*o.y},T.cross=function(r,o){return r.x*o.y-r.y*o.x},T.cross3=function(r,o,y){return(o.x-r.x)*(y.y-r.y)-(o.y-r.y)*(y.x-r.x)},T.add=function(r,o,y){return y||(y={}),y.x=r.x+o.x,y.y=r.y+o.y,y},T.sub=function(r,o,y){return y||(y={}),y.x=r.x-o.x,y.y=r.y-o.y,y},T.mult=function(r,o){return{x:r.x*o,y:r.y*o}},T.div=function(r,o){return{x:r.x/o,y:r.y/o}},T.perp=function(r,o){return o=o===!0?-1:1,{x:o*-r.y,y:o*r.x}},T.neg=function(r){return{x:-r.x,y:-r.y}},T.angle=function(r,o){return Math.atan2(o.y-r.y,o.x-r.x)},T._temp=[T.create(),T.create(),T.create(),T.create(),T.create(),T.create()]})()}),41598:((n,T,r)=>{var o={};n.exports=o;var y=r(31725),d=r(53402);(function(){o.create=function(h,l){for(var a=[],f=0;f<h.length;f++){var c=h[f],u={x:c.x,y:c.y,index:f,body:l,isInternal:!1};a.push(u)}return a},o.fromPath=function(h,l){var a=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,f=[];return h.replace(a,function(c,u,v){f.push({x:parseFloat(u),y:parseFloat(v)})}),o.create(f,l)},o.centre=function(h){for(var l=o.area(h,!0),a={x:0,y:0},f,c,u,v=0;v<h.length;v++)u=(v+1)%h.length,f=y.cross(h[v],h[u]),c=y.mult(y.add(h[v],h[u]),f),a=y.add(a,c);return y.div(a,6*l)},o.mean=function(h){for(var l={x:0,y:0},a=0;a<h.length;a++)l.x+=h[a].x,l.y+=h[a].y;return y.div(l,h.length)},o.area=function(h,l){for(var a=0,f=h.length-1,c=0;c<h.length;c++)a+=(h[f].x-h[c].x)*(h[f].y+h[c].y),f=c;return l?a/2:Math.abs(a)/2},o.inertia=function(h,l){for(var a=0,f=0,c=h,u,v,p=0;p<c.length;p++)v=(p+1)%c.length,u=Math.abs(y.cross(c[v],c[p])),a+=u*(y.dot(c[v],c[v])+y.dot(c[v],c[p])+y.dot(c[p],c[p])),f+=u;return l/6*(a/f)},o.translate=function(h,l,a){a=typeof a<"u"?a:1;var f=h.length,c=l.x*a,u=l.y*a,v;for(v=0;v<f;v++)h[v].x+=c,h[v].y+=u;return h},o.rotate=function(h,l,a){if(l!==0){var f=Math.cos(l),c=Math.sin(l),u=a.x,v=a.y,p=h.length,m,x,C,P;for(P=0;P<p;P++)m=h[P],x=m.x-u,C=m.y-v,m.x=u+(x*f-C*c),m.y=v+(x*c+C*f);return h}},o.contains=function(h,l){for(var a=l.x,f=l.y,c=h.length,u=h[c-1],v,p=0;p<c;p++){if(v=h[p],(a-u.x)*(v.y-u.y)+(f-u.y)*(u.x-v.x)>0)return!1;u=v}return!0},o.scale=function(h,l,a,f){if(l===1&&a===1)return h;f=f||o.centre(h);for(var c,u,v=0;v<h.length;v++)c=h[v],u=y.sub(c,f),h[v].x=f.x+u.x*l,h[v].y=f.y+u.y*a;return h},o.chamfer=function(h,l,a,f,c){typeof l=="number"?l=[l]:l=l||[8],a=typeof a<"u"?a:-1,f=f||2,c=c||14;for(var u=[],v=0;v<h.length;v++){var p=h[v-1>=0?v-1:h.length-1],m=h[v],x=h[(v+1)%h.length],C=l[v<l.length?v:l.length-1];if(C===0){u.push(m);continue}var P=y.normalise({x:m.y-p.y,y:p.x-m.x}),w=y.normalise({x:x.y-m.y,y:m.x-x.x}),M=Math.sqrt(2*Math.pow(C,2)),R=y.mult(d.clone(P),C),A=y.normalise(y.mult(y.add(P,w),.5)),L=y.sub(m,y.mult(A,M)),F=a;a===-1&&(F=Math.pow(C,.32)*1.75),F=d.clamp(F,f,c),F%2===1&&(F+=1);for(var G=Math.acos(y.dot(P,w)),I=G/F,B=0;B<F;B++)u.push(y.add(y.rotate(R,I*B),L))}return u},o.clockwiseSort=function(h){var l=o.mean(h);return h.sort(function(a,f){return y.angle(l,a)-y.angle(l,f)}),h},o.isConvex=function(h){var l=0,a=h.length,f,c,u,v;if(a<3)return null;for(f=0;f<a;f++)if(c=(f+1)%a,u=(f+2)%a,v=(h[c].x-h[f].x)*(h[u].y-h[c].y),v-=(h[c].y-h[f].y)*(h[u].x-h[c].x),v<0?l|=1:v>0&&(l|=2),l===3)return!1;return l!==0?!0:null},o.hull=function(h){var l=[],a=[],f,c;for(h=h.slice(0),h.sort(function(u,v){var p=u.x-v.x;return p!==0?p:u.y-v.y}),c=0;c<h.length;c+=1){for(f=h[c];a.length>=2&&y.cross3(a[a.length-2],a[a.length-1],f)<=0;)a.pop();a.push(f)}for(c=h.length-1;c>=0;c-=1){for(f=h[c];l.length>=2&&y.cross3(l[l.length-2],l[l.length-1],f)<=0;)l.pop();l.push(f)}return l.pop(),a.pop(),l.concat(a)}})()}),55973:(n=>{/**
 * @author       Stefan Hedman <schteppe@gmail.com> (http://steffe.se)
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={decomp:G,quickDecomp:U,isSimple:B,removeCollinearPoints:H,removeDuplicatePoints:X,makeCCW:x};function T(Y,$,z){z=z||0;var V=[0,0],K,Q,_,tt,rt,ot,ft;return K=Y[1][1]-Y[0][1],Q=Y[0][0]-Y[1][0],_=K*Y[0][0]+Q*Y[0][1],tt=$[1][1]-$[0][1],rt=$[0][0]-$[1][0],ot=tt*$[0][0]+rt*$[0][1],ft=K*rt-tt*Q,j(ft,0,z)||(V[0]=(rt*_-Q*ot)/ft,V[1]=(K*ot-tt*_)/ft),V}function r(Y,$,z,V){var K=$[0]-Y[0],Q=$[1]-Y[1],_=V[0]-z[0],tt=V[1]-z[1];if(_*Q-tt*K===0)return!1;var rt=(K*(z[1]-Y[1])+Q*(Y[0]-z[0]))/(_*Q-tt*K),ot=(_*(Y[1]-z[1])+tt*(z[0]-Y[0]))/(tt*K-_*Q);return rt>=0&&rt<=1&&ot>=0&&ot<=1}function o(Y,$,z){return($[0]-Y[0])*(z[1]-Y[1])-(z[0]-Y[0])*($[1]-Y[1])}function y(Y,$,z){return o(Y,$,z)>0}function d(Y,$,z){return o(Y,$,z)>=0}function h(Y,$,z){return o(Y,$,z)<0}function l(Y,$,z){return o(Y,$,z)<=0}var a=[],f=[];function c(Y,$,z,V){if(V){var K=a,Q=f;K[0]=$[0]-Y[0],K[1]=$[1]-Y[1],Q[0]=z[0]-$[0],Q[1]=z[1]-$[1];var _=K[0]*Q[0]+K[1]*Q[1],tt=Math.sqrt(K[0]*K[0]+K[1]*K[1]),rt=Math.sqrt(Q[0]*Q[0]+Q[1]*Q[1]),ot=Math.acos(_/(tt*rt));return ot<V}else return o(Y,$,z)===0}function u(Y,$){var z=$[0]-Y[0],V=$[1]-Y[1];return z*z+V*V}function v(Y,$){var z=Y.length;return Y[$<0?$%z+z:$%z]}function p(Y){Y.length=0}function m(Y,$,z,V){for(var K=z;K<V;K++)Y.push($[K])}function x(Y){for(var $=0,z=Y,V=1;V<Y.length;++V)(z[V][1]<z[$][1]||z[V][1]===z[$][1]&&z[V][0]>z[$][0])&&($=V);return y(v(Y,$-1),v(Y,$),v(Y,$+1))?!1:(C(Y),!0)}function C(Y){for(var $=[],z=Y.length,V=0;V!==z;V++)$.push(Y.pop());for(var V=0;V!==z;V++)Y[V]=$[V]}function P(Y,$){return h(v(Y,$-1),v(Y,$),v(Y,$+1))}var w=[],M=[];function R(Y,$,z){var V,K,Q=w,_=M;if(d(v(Y,$+1),v(Y,$),v(Y,z))&&l(v(Y,$-1),v(Y,$),v(Y,z)))return!1;K=u(v(Y,$),v(Y,z));for(var tt=0;tt!==Y.length;++tt)if(!((tt+1)%Y.length===$||tt===$)&&d(v(Y,$),v(Y,z),v(Y,tt+1))&&l(v(Y,$),v(Y,z),v(Y,tt))&&(Q[0]=v(Y,$),Q[1]=v(Y,z),_[0]=v(Y,tt),_[1]=v(Y,tt+1),V=T(Q,_),u(v(Y,$),V)<K))return!1;return!0}function A(Y,$,z){for(var V=0;V!==Y.length;++V)if(!(V===$||V===z||(V+1)%Y.length===$||(V+1)%Y.length===z)&&r(v(Y,$),v(Y,z),v(Y,V),v(Y,V+1)))return!1;return!0}function L(Y,$,z,V){var K=V||[];if(p(K),$<z)for(var Q=$;Q<=z;Q++)K.push(Y[Q]);else{for(var Q=0;Q<=z;Q++)K.push(Y[Q]);for(var Q=$;Q<Y.length;Q++)K.push(Y[Q])}return K}function F(Y){for(var $=[],z=[],V=[],K=[],Q=Number.MAX_VALUE,_=0;_<Y.length;++_)if(P(Y,_)){for(var tt=0;tt<Y.length;++tt)if(R(Y,_,tt)){z=F(L(Y,_,tt,K)),V=F(L(Y,tt,_,K));for(var rt=0;rt<V.length;rt++)z.push(V[rt]);z.length<Q&&($=z,Q=z.length,$.push([v(Y,_),v(Y,tt)]))}}return $}function G(Y){var $=F(Y);return $.length>0?I(Y,$):[Y]}function I(Y,$){if($.length===0)return[Y];if($ instanceof Array&&$.length&&$[0]instanceof Array&&$[0].length===2&&$[0][0]instanceof Array){for(var z=[Y],V=0;V<$.length;V++)for(var K=$[V],Q=0;Q<z.length;Q++){var _=z[Q],tt=I(_,K);if(tt){z.splice(Q,1),z.push(tt[0],tt[1]);break}}return z}else{var K=$,V=Y.indexOf(K[0]),Q=Y.indexOf(K[1]);return V!==-1&&Q!==-1?[L(Y,V,Q),L(Y,Q,V)]:!1}}function B(Y){var $=Y,z;for(z=0;z<$.length-1;z++)for(var V=0;V<z-1;V++)if(r($[z],$[z+1],$[V],$[V+1]))return!1;for(z=1;z<$.length-2;z++)if(r($[0],$[$.length-1],$[z],$[z+1]))return!1;return!0}function k(Y,$,z,V,K){K=K||0;var Q=$[1]-Y[1],_=Y[0]-$[0],tt=Q*Y[0]+_*Y[1],rt=V[1]-z[1],ot=z[0]-V[0],ft=rt*z[0]+ot*z[1],ct=Q*ot-rt*_;return j(ct,0,K)?[0,0]:[(ot*tt-_*ft)/ct,(Q*ft-rt*tt)/ct]}function U(Y,$,z,V,K,Q,_){Q=Q||100,_=_||0,K=K||25,$=typeof $<"u"?$:[],z=z||[],V=V||[];var tt=[0,0],rt=[0,0],ot=[0,0],ft=0,ct=0,gt=0,xt=0,Mt=0,St=0,$t=0,Yt=[],Ht=[],Ct=Y,Nt=Y;if(Nt.length<3)return $;if(_++,_>Q)return console.warn("quickDecomp: max level ("+Q+") reached."),$;for(var Vt=0;Vt<Y.length;++Vt)if(P(Ct,Vt)){z.push(Ct[Vt]),ft=ct=Number.MAX_VALUE;for(var qt=0;qt<Y.length;++qt)y(v(Ct,Vt-1),v(Ct,Vt),v(Ct,qt))&&l(v(Ct,Vt-1),v(Ct,Vt),v(Ct,qt-1))&&(ot=k(v(Ct,Vt-1),v(Ct,Vt),v(Ct,qt),v(Ct,qt-1)),h(v(Ct,Vt+1),v(Ct,Vt),ot)&&(gt=u(Ct[Vt],ot),gt<ct&&(ct=gt,rt=ot,St=qt))),y(v(Ct,Vt+1),v(Ct,Vt),v(Ct,qt+1))&&l(v(Ct,Vt+1),v(Ct,Vt),v(Ct,qt))&&(ot=k(v(Ct,Vt+1),v(Ct,Vt),v(Ct,qt),v(Ct,qt+1)),y(v(Ct,Vt-1),v(Ct,Vt),ot)&&(gt=u(Ct[Vt],ot),gt<ft&&(ft=gt,tt=ot,Mt=qt)));if(St===(Mt+1)%Y.length)ot[0]=(rt[0]+tt[0])/2,ot[1]=(rt[1]+tt[1])/2,V.push(ot),Vt<Mt?(m(Yt,Ct,Vt,Mt+1),Yt.push(ot),Ht.push(ot),St!==0&&m(Ht,Ct,St,Ct.length),m(Ht,Ct,0,Vt+1)):(Vt!==0&&m(Yt,Ct,Vt,Ct.length),m(Yt,Ct,0,Mt+1),Yt.push(ot),Ht.push(ot),m(Ht,Ct,St,Vt+1));else{if(St>Mt&&(Mt+=Y.length),xt=Number.MAX_VALUE,Mt<St)return $;for(var qt=St;qt<=Mt;++qt)d(v(Ct,Vt-1),v(Ct,Vt),v(Ct,qt))&&l(v(Ct,Vt+1),v(Ct,Vt),v(Ct,qt))&&(gt=u(v(Ct,Vt),v(Ct,qt)),gt<xt&&A(Ct,Vt,qt)&&(xt=gt,$t=qt%Y.length));Vt<$t?(m(Yt,Ct,Vt,$t+1),$t!==0&&m(Ht,Ct,$t,Nt.length),m(Ht,Ct,0,Vt+1)):(Vt!==0&&m(Yt,Ct,Vt,Nt.length),m(Yt,Ct,0,$t+1),m(Ht,Ct,$t,Vt+1))}return Yt.length<Ht.length?(U(Yt,$,z,V,K,Q,_),U(Ht,$,z,V,K,Q,_)):(U(Ht,$,z,V,K,Q,_),U(Yt,$,z,V,K,Q,_)),$}return $.push(Y),$}function H(Y,$){for(var z=0,V=Y.length-1;Y.length>3&&V>=0;--V)c(v(Y,V-1),v(Y,V),v(Y,V+1),$)&&(Y.splice(V%Y.length,1),z++);return z}function X(Y,$){for(var z=Y.length-1;z>=1;--z)for(var V=Y[z],K=z-1;K>=0;--K)if(Z(V,Y[K],$)){Y.splice(z,1);continue}}function j(Y,$,z){return z=z||0,Math.abs(Y-$)<=z}function Z(Y,$,z){return j(Y[0],$[0],z)&&j(Y[1],$[1],z)}}),52018:((n,T,r)=>{/**
* @author       Richard Davey <rich@phaser.io>
* @copyright    2013-2025 Phaser Studio Inc.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var o=r(83419),y=new o({initialize:function(h){this.pluginManager=h,this.game=h.game},init:function(){},start:function(){},stop:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});n.exports=y}),42363:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={Global:["game","anims","cache","plugins","registry","scale","sound","textures","renderer"],CoreScene:["EventEmitter","CameraManager","GameObjectCreator","GameObjectFactory","ScenePlugin","DisplayList","UpdateList"],DefaultScene:["Clock","DataManagerPlugin","InputPlugin","Loader","TweenManager","LightsPlugin"]};n.exports=T}),37277:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={},r={},o={};o.register=function(y,d,h,l){l===void 0&&(l=!1),T[y]={plugin:d,mapping:h,custom:l}},o.registerCustom=function(y,d,h,l){r[y]={plugin:d,mapping:h,data:l}},o.hasCore=function(y){return T.hasOwnProperty(y)},o.hasCustom=function(y){return r.hasOwnProperty(y)},o.getCore=function(y){return T[y]},o.getCustom=function(y){return r[y]},o.getCustomClass=function(y){return r.hasOwnProperty(y)?r[y].plugin:null},o.remove=function(y){T.hasOwnProperty(y)&&delete T[y]},o.removeCustom=function(y){r.hasOwnProperty(y)&&delete r[y]},o.destroyCorePlugins=function(){for(var y in T)T.hasOwnProperty(y)&&delete T[y]},o.destroyCustomPlugins=function(){for(var y in r)r.hasOwnProperty(y)&&delete r[y]},n.exports=o}),77332:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(8443),d=r(50792),h=r(74099),l=r(44603),a=r(39429),f=r(95540),c=r(37277),u=r(72905),v=r(8054),p=new o({Extends:d,initialize:function(x){d.call(this),this.game=x,this.plugins=[],this.scenePlugins=[],this._pendingGlobal=[],this._pendingScene=[],x.isBooted||x.config.renderType===v.HEADLESS?this.boot():x.events.once(y.BOOT,this.boot,this)},boot:function(){var m,x,C,P,w,M,R,A=this.game.config,L=A.installGlobalPlugins;for(L=L.concat(this._pendingGlobal),m=0;m<L.length;m++)x=L[m],C=f(x,"key",null),P=f(x,"plugin",null),w=f(x,"start",!1),M=f(x,"mapping",null),R=f(x,"data",null),C&&(P?this.install(C,P,w,M,R):console.warn("Missing `plugin` for key: "+C));for(L=A.installScenePlugins,L=L.concat(this._pendingScene),m=0;m<L.length;m++)x=L[m],C=f(x,"key",null),P=f(x,"plugin",null),M=f(x,"mapping",null),C&&(P?this.installScenePlugin(C,P,M):console.warn("Missing `plugin` for key: "+C));this._pendingGlobal=[],this._pendingScene=[],this.game.events.once(y.DESTROY,this.destroy,this)},addToScene:function(m,x,C){var P,w,M,R=this.game,A=m.scene,L=m.settings.map,F=m.settings.isBooted;for(P=0;P<x.length;P++)w=x[P],R[w]?(m[w]=R[w],L.hasOwnProperty(w)&&(A[L[w]]=m[w])):w==="game"&&L.hasOwnProperty(w)&&(A[L[w]]=R);for(var G=0;G<C.length;G++)for(M=C[G],P=0;P<M.length;P++)if(w=M[P],!!c.hasCore(w)){var I=c.getCore(w),B=I.mapping,k=new I.plugin(A,this,B);m[B]=k,I.custom?A[B]=k:L.hasOwnProperty(B)&&(A[L[B]]=k),F&&k.boot()}for(M=this.plugins,P=0;P<M.length;P++){var U=M[P];U.mapping&&(A[U.mapping]=U.plugin)}},getDefaultScenePlugins:function(){var m=this.game.config.defaultPlugins;return m=m.concat(this.scenePlugins),m},installScenePlugin:function(m,x,C,P,w){if(w===void 0&&(w=!1),typeof x!="function"){console.warn("Invalid Scene Plugin: "+m);return}if(c.hasCore(m)||c.register(m,x,C,!0),this.scenePlugins.indexOf(m)===-1)this.scenePlugins.push(m);else if(!w&&c.hasCore(m)){console.warn("Scene Plugin key in use: "+m);return}if(P){var M=new x(P,this,m);P.sys[m]=M,C&&C!==""&&(P[C]=M),M.boot()}},install:function(m,x,C,P,w){if(C===void 0&&(C=!1),P===void 0&&(P=null),w===void 0&&(w=null),typeof x!="function")return console.warn("Invalid Plugin: "+m),null;if(c.hasCustom(m))return console.warn("Plugin key in use: "+m),null;if(P!==null&&(C=!0),!this.game.isBooted)this._pendingGlobal.push({key:m,plugin:x,start:C,mapping:P,data:w});else if(c.registerCustom(m,x,P,w),C)return this.start(m);return null},getIndex:function(m){for(var x=this.plugins,C=0;C<x.length;C++){var P=x[C];if(P.key===m)return C}return-1},getEntry:function(m){var x=this.getIndex(m);if(x!==-1)return this.plugins[x]},isActive:function(m){var x=this.getEntry(m);return x&&x.active},start:function(m,x){x===void 0&&(x=m);var C=this.getEntry(x);return C&&!C.active?(C.active=!0,C.plugin.start()):C||(C=this.createEntry(m,x)),C?C.plugin:null},createEntry:function(m,x){var C=c.getCustom(m);if(C){var P=new C.plugin(this);C={key:x,plugin:P,active:!0,mapping:C.mapping,data:C.data},this.plugins.push(C),P.init(C.data),P.start()}return C},stop:function(m){var x=this.getEntry(m);return x&&x.active&&(x.active=!1,x.plugin.stop()),this},get:function(m,x){x===void 0&&(x=!0);var C=this.getEntry(m);if(C)return C.plugin;var P=this.getClass(m);return P&&x?(C=this.createEntry(m,m),C?C.plugin:null):P||null},getClass:function(m){return c.getCustomClass(m)},removeGlobalPlugin:function(m){var x=this.getEntry(m);x&&u(this.plugins,x),c.removeCustom(m)},removeScenePlugin:function(m){u(this.scenePlugins,m),c.remove(m)},registerGameObject:function(m,x,C){return x&&a.register(m,x),C&&l.register(m,C),this},removeGameObject:function(m,x,C){return x===void 0&&(x=!0),C===void 0&&(C=!0),x&&a.remove(m),C&&l.remove(m),this},registerFileType:function(m,x,C){h.register(m,x),C&&C.sys.load&&(C.sys.load[m]=x)},destroy:function(){for(var m=0;m<this.plugins.length;m++)this.plugins[m].plugin.destroy();c.destroyCustomPlugins(),this.game.noReturn&&c.destroyCorePlugins(),this.game=null,this.plugins=[],this.scenePlugins=[]}});n.exports=p}),45145:((n,T,r)=>{/**
* @author       Richard Davey <rich@phaser.io>
* @copyright    2013-2025 Phaser Studio Inc.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var o=r(52018),y=r(83419),d=r(44594),h=new y({Extends:o,initialize:function(a,f,c){o.call(this,f),this.scene=a,this.systems=a.sys,this.pluginKey=c,a.sys.events.once(d.BOOT,this.boot,this)},boot:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});n.exports=h}),18922:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={BasePlugin:r(52018),DefaultPlugins:r(42363),PluginCache:r(37277),PluginManager:r(77332),ScenePlugin:r(45145)}}),63595:(()=>{typeof HTMLVideoElement<"u"&&!("requestVideoFrameCallback"in HTMLVideoElement.prototype)&&"getVideoPlaybackQuality"in HTMLVideoElement.prototype&&(HTMLVideoElement.prototype._rvfcpolyfillmap={},HTMLVideoElement.prototype.requestVideoFrameCallback=function(n){const T=performance.now(),r=this.getVideoPlaybackQuality(),o=this.mozPresentedFrames||this.mozPaintedFrames||r.totalVideoFrames-r.droppedVideoFrames,y=(d,h)=>{const l=this.getVideoPlaybackQuality(),a=this.mozPresentedFrames||this.mozPaintedFrames||l.totalVideoFrames-l.droppedVideoFrames;if(a>o){const f=this.mozFrameDelay||l.totalFrameDelay-r.totalFrameDelay||0,c=h-d;n(h,{presentationTime:h+f*1e3,expectedDisplayTime:h+c,width:this.videoWidth,height:this.videoHeight,mediaTime:Math.max(0,this.currentTime||0)+c/1e3,presentedFrames:a,processingDuration:f}),delete this._rvfcpolyfillmap[T]}else this._rvfcpolyfillmap[T]=requestAnimationFrame(f=>y(h,f))};return this._rvfcpolyfillmap[T]=requestAnimationFrame(d=>y(T,d)),T},HTMLVideoElement.prototype.cancelVideoFrameCallback=function(n){cancelAnimationFrame(this._rvfcpolyfillmap[n]),delete this._rvfcpolyfillmap[n]})}),10312:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={SKIP_CHECK:-1,NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,ERASE:17,SOURCE_IN:18,SOURCE_OUT:19,SOURCE_ATOP:20,DESTINATION_OVER:21,DESTINATION_IN:22,DESTINATION_OUT:23,DESTINATION_ATOP:24,LIGHTER:25,COPY:26,XOR:27}}),29795:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={DEFAULT:0,LINEAR:0,NEAREST:1};n.exports=T}),68627:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(19715),y=r(32880),d=r(83419),h=r(8054),l=r(50792),a=r(92503),f=r(56373),c=r(97480),u=r(69442),v=r(8443),p=r(61340),m=new d({Extends:l,initialize:function(C){l.call(this);var P=C.config;this.config={clearBeforeRender:P.clearBeforeRender,backgroundColor:P.backgroundColor,antialias:P.antialias,roundPixels:P.roundPixels,transparent:P.transparent},this.game=C,this.type=h.CANVAS,this.drawCount=0,this.width=0,this.height=0,this.gameCanvas=C.canvas;var w={alpha:P.transparent,desynchronized:P.desynchronized,willReadFrequently:!1};this.gameContext=P.context?P.context:this.gameCanvas.getContext("2d",w),this.currentContext=this.gameContext,this.antialias=P.antialias,this.blendModes=f(),this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92},this._tempMatrix1=new p,this._tempMatrix2=new p,this._tempMatrix3=new p,this.isBooted=!1,this.init()},init:function(){var x=this.game;x.events.once(v.BOOT,function(){var C=this.config;if(!C.transparent){var P=this.gameContext,w=this.gameCanvas;P.fillStyle=C.backgroundColor.rgba,P.fillRect(0,0,w.width,w.height)}},this),x.textures.once(u.READY,this.boot,this)},boot:function(){var x=this.game,C=x.scale.baseSize;this.width=C.width,this.height=C.height,this.isBooted=!0,x.scale.on(c.RESIZE,this.onResize,this),this.resize(C.width,C.height)},onResize:function(x,C){(C.width!==this.width||C.height!==this.height)&&this.resize(C.width,C.height)},resize:function(x,C){this.width=x,this.height=C,this.emit(a.RESIZE,x,C)},resetTransform:function(){this.currentContext.setTransform(1,0,0,1,0,0)},setBlendMode:function(x){return this.currentContext.globalCompositeOperation=x,this},setContext:function(x){return this.currentContext=x||this.gameContext,this},setAlpha:function(x){return this.currentContext.globalAlpha=x,this},preRender:function(){var x=this.gameContext,C=this.config,P=this.width,w=this.height;x.globalAlpha=1,x.globalCompositeOperation="source-over",x.setTransform(1,0,0,1,0,0),this.emit(a.PRE_RENDER_CLEAR),C.clearBeforeRender&&(x.clearRect(0,0,P,w),C.transparent||(x.fillStyle=C.backgroundColor.rgba,x.fillRect(0,0,P,w))),x.save(),this.drawCount=0,this.emit(a.PRE_RENDER)},render:function(x,C,P){var w=C.length;this.emit(a.RENDER,x,P);var M=P.x,R=P.y,A=P.width,L=P.height,F=P.renderToTexture?P.context:x.sys.context;F.save(),this.game.scene.customViewports&&(F.beginPath(),F.rect(M,R,A,L),F.clip()),P.emit(o.PRE_RENDER,P),this.currentContext=F;var G=P.mask;G&&G.preRenderCanvas(this,null,P._maskCamera),P.transparent||(F.fillStyle=P.backgroundColor.rgba,F.fillRect(M,R,A,L)),F.globalAlpha=P.alpha,F.globalCompositeOperation="source-over",this.drawCount+=w,P.renderToTexture&&P.emit(o.PRE_RENDER,P),P.matrix.copyToContext(F);for(var I=0;I<w;I++){var B=C[I];B.mask&&B.mask.preRenderCanvas(this,B,P),B.renderCanvas(this,B,P),B.mask&&B.mask.postRenderCanvas(this,B,P)}F.setTransform(1,0,0,1,0,0),F.globalCompositeOperation="source-over",F.globalAlpha=1,P.flashEffect.postRenderCanvas(F),P.fadeEffect.postRenderCanvas(F),P.dirty=!1,G&&G.postRenderCanvas(this),F.restore(),P.renderToTexture&&(P.emit(o.POST_RENDER,P),P.renderToGame&&x.sys.context.drawImage(P.canvas,M,R)),P.emit(o.POST_RENDER,P)},postRender:function(){var x=this.gameContext;x.restore(),this.emit(a.POST_RENDER);var C=this.snapshotState;C.callback&&(y(this.gameCanvas,C),C.callback=null)},snapshotCanvas:function(x,C,P,w,M,R,A,L,F){P===void 0&&(P=!1),this.snapshotArea(w,M,R,A,C,L,F);var G=this.snapshotState;return G.getPixel=P,y(x,G),G.callback=null,this},snapshot:function(x,C,P){return this.snapshotArea(0,0,this.gameCanvas.width,this.gameCanvas.height,x,C,P)},snapshotArea:function(x,C,P,w,M,R,A){var L=this.snapshotState;return L.callback=M,L.type=R,L.encoder=A,L.getPixel=!1,L.x=x,L.y=C,L.width=Math.min(P,this.gameCanvas.width),L.height=Math.min(w,this.gameCanvas.height),this},snapshotPixel:function(x,C,P){return this.snapshotArea(x,C,1,1,P),this.snapshotState.getPixel=!0,this},batchSprite:function(x,C,P,w){var M=P.alpha*x.alpha;if(M!==0){var R=this.currentContext,A=this._tempMatrix1,L=this._tempMatrix2,F=C.canvasData,G=F.x,I=F.y,B=C.cutWidth,k=C.cutHeight,U=C.customPivot,H=C.source.resolution,X=x.displayOriginX,j=x.displayOriginY,Z=-X+C.x,Y=-j+C.y;if(x.isCropped){var $=x._crop;($.flipX!==x.flipX||$.flipY!==x.flipY)&&C.updateCropUVs($,x.flipX,x.flipY),B=$.cw,k=$.ch,G=$.cx,I=$.cy,Z=-X+$.x,Y=-j+$.y,x.flipX&&(Z>=0?Z=-(Z+B):Z<0&&(Z=Math.abs(Z)-B)),x.flipY&&(Y>=0?Y=-(Y+k):Y<0&&(Y=Math.abs(Y)-k))}var z=1,V=1;x.flipX&&(U||(Z+=-C.realWidth+X*2),z=-1),x.flipY&&(U||(Y+=-C.realHeight+j*2),V=-1);var K=x.x,Q=x.y;if(P.roundPixels&&(K=Math.floor(K),Q=Math.floor(Q)),L.applyITRS(K,Q,x.rotation,x.scaleX*z,x.scaleY*V),A.copyFrom(P.matrix),w?(A.multiplyWithOffset(w,-P.scrollX*x.scrollFactorX,-P.scrollY*x.scrollFactorY),L.e=K,L.f=Q):(L.e-=P.scrollX*x.scrollFactorX,L.f-=P.scrollY*x.scrollFactorY),A.multiply(L),P.renderRoundPixels&&(A.e=Math.floor(A.e+.5),A.f=Math.floor(A.f+.5)),R.save(),A.setToContext(R),R.globalCompositeOperation=this.blendModes[x.blendMode],R.globalAlpha=M,R.imageSmoothingEnabled=!C.source.scaleMode,x.mask&&x.mask.preRenderCanvas(this,x,P),B>0&&k>0){var _=B/H,tt=k/H;P.roundPixels&&(Z=Math.floor(Z+.5),Y=Math.floor(Y+.5),_+=.5,tt+=.5),R.drawImage(C.source.image,G,I,B,k,Z,Y,_,tt)}x.mask&&x.mask.postRenderCanvas(this,x,P),R.restore()}},destroy:function(){this.removeAllListeners(),this.game=null,this.gameCanvas=null,this.gameContext=null}});n.exports=m}),55830:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={CanvasRenderer:r(68627),GetBlendModes:r(56373),SetTransform:r(20926)}}),56373:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(10312),y=r(89289),d=function(){var h=[],l=y.supportNewBlendModes,a="source-over";return h[o.NORMAL]=a,h[o.ADD]="lighter",h[o.MULTIPLY]=l?"multiply":a,h[o.SCREEN]=l?"screen":a,h[o.OVERLAY]=l?"overlay":a,h[o.DARKEN]=l?"darken":a,h[o.LIGHTEN]=l?"lighten":a,h[o.COLOR_DODGE]=l?"color-dodge":a,h[o.COLOR_BURN]=l?"color-burn":a,h[o.HARD_LIGHT]=l?"hard-light":a,h[o.SOFT_LIGHT]=l?"soft-light":a,h[o.DIFFERENCE]=l?"difference":a,h[o.EXCLUSION]=l?"exclusion":a,h[o.HUE]=l?"hue":a,h[o.SATURATION]=l?"saturation":a,h[o.COLOR]=l?"color":a,h[o.LUMINOSITY]=l?"luminosity":a,h[o.ERASE]="destination-out",h[o.SOURCE_IN]="source-in",h[o.SOURCE_OUT]="source-out",h[o.SOURCE_ATOP]="source-atop",h[o.DESTINATION_OVER]="destination-over",h[o.DESTINATION_IN]="destination-in",h[o.DESTINATION_OUT]="destination-out",h[o.DESTINATION_ATOP]="destination-atop",h[o.LIGHTER]="lighter",h[o.COPY]="copy",h[o.XOR]="xor",h};n.exports=d}),20926:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(91296),y=function(d,h,l,a,f){var c=a.alpha*l.alpha;if(c<=0)return!1;var u=o(l,a,f).calc;return h.globalCompositeOperation=d.blendModes[l.blendMode],h.globalAlpha=c,h.save(),u.setToContext(h),h.imageSmoothingEnabled=l.frame?!l.frame.source.scaleMode:d.antialias,!0};n.exports=y}),63899:(n=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="losewebgl"}),6119:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="postrender"}),48070:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="prerender"}),15640:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="render"}),8912:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="resize"}),87124:(n=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="restorewebgl"}),92503:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={LOSE_WEBGL:r(63899),POST_RENDER:r(6119),PRE_RENDER:r(48070),RENDER:r(15640),RESIZE:r(8912),RESTORE_WEBGL:r(87124)}}),36909:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Events:r(92503),Snapshot:r(89966)},n.exports.Canvas=r(55830),n.exports.WebGL=r(4159)}),32880:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(27919),y=r(40987),d=r(95540),h=function(l,a){var f=d(a,"callback"),c=d(a,"type","image/png"),u=d(a,"encoder",.92),v=Math.abs(Math.round(d(a,"x",0))),p=Math.abs(Math.round(d(a,"y",0))),m=Math.floor(d(a,"width",l.width)),x=Math.floor(d(a,"height",l.height)),C=d(a,"getPixel",!1);if(C){var P=l.getContext("2d",{willReadFrequently:!1}),w=P.getImageData(v,p,1,1),M=w.data;f.call(null,new y(M[0],M[1],M[2],M[3]))}else if(v!==0||p!==0||m!==l.width||x!==l.height){var R=o.createWebGL(this,m,x),A=R.getContext("2d",{willReadFrequently:!0});m>0&&x>0&&A.drawImage(l,v,p,m,x,0,0,m,x);var L=new Image;L.onerror=function(){f.call(null),o.remove(R)},L.onload=function(){f.call(null,L),o.remove(R)},L.src=R.toDataURL(c,u)}else{var F=new Image;F.onerror=function(){f.call(null)},F.onload=function(){f.call(null,F)},F.src=l.toDataURL(c,u)}};n.exports=h}),88815:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(27919),y=r(40987),d=r(95540),h=function(l,a){var f=l,c=d(a,"callback"),u=d(a,"type","image/png"),v=d(a,"encoder",.92),p=Math.abs(Math.round(d(a,"x",0))),m=Math.abs(Math.round(d(a,"y",0))),x=d(a,"getPixel",!1),C=d(a,"isFramebuffer",!1),P=C?d(a,"bufferWidth",1):f.drawingBufferWidth,w=C?d(a,"bufferHeight",1):f.drawingBufferHeight;if(x){var M=new Uint8Array(4),R=C?m:w-m;f.readPixels(p,R,1,1,f.RGBA,f.UNSIGNED_BYTE,M),c.call(null,new y(M[0],M[1],M[2],M[3]))}else{var A=Math.floor(d(a,"width",P)),L=Math.floor(d(a,"height",w)),F=A*L*4,G=new Uint8Array(F);f.readPixels(p,w-m-L,A,L,f.RGBA,f.UNSIGNED_BYTE,G);for(var I=o.createWebGL(this,A,L),B=I.getContext("2d",{willReadFrequently:!0}),k=B.getImageData(0,0,A,L),U=k.data,H=0;H<L;H++)for(var X=0;X<A;X++){var j=((L-H-1)*A+X)*4,Z=C?F-(H*A+(A-X))*4:(H*A+X)*4;U[Z+0]=G[j+0],U[Z+1]=G[j+1],U[Z+2]=G[j+2],U[Z+3]=G[j+3]}B.putImageData(k,0,0);var Y=new Image;Y.onerror=function(){c.call(null),o.remove(I)},Y.onload=function(){c.call(null,Y),o.remove(I)},Y.src=I.toDataURL(u,v)}};n.exports=h}),89966:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Canvas:r(32880),WebGL:r(88815)}}),7530:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(36060),d=r(90330),h=r(82264),l=r(95540),a=r(32302),f=r(63448),c=r(31302),u=r(58918),v=r(14811),p=r(92651),m=r(96569),x=r(56527),C=r(57516),P=r(43439),w=r(81041),M=r(12385),R=r(7589),A=r(95428),L=r(72905),F=new o({initialize:function(I){this.game=I.game,this.renderer=I,this.classes=new d([[y.UTILITY_PIPELINE,R],[y.MULTI_PIPELINE,C],[y.BITMAPMASK_PIPELINE,c],[y.SINGLE_PIPELINE,M],[y.ROPE_PIPELINE,w],[y.LIGHT_PIPELINE,m],[y.POINTLIGHT_PIPELINE,P],[y.MOBILE_PIPELINE,x]]),this.postPipelineClasses=new d,this.pipelines=new d,this.postPipelineInstances=[],this.default=null,this.current=null,this.previous=null,this.MULTI_PIPELINE=null,this.BITMAPMASK_PIPELINE=null,this.UTILITY_PIPELINE=null,this.MOBILE_PIPELINE=null,this.FX_PIPELINE=null,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderTargets=[],this.maxDimension=0,this.frameInc=32,this.targetIndex=0},boot:function(G,I,B){var k=this.renderer,U=this.renderTargets;this.frameInc=Math.floor(l(G,"frameInc",32));var H=k.width,X=k.height,j=this.game.config.disablePreFX,Z=this.game.config.disablePostFX;if(Z||this.postPipelineClasses.setAll([[String(v.BARREL),u.Barrel],[String(v.BLOOM),u.Bloom],[String(v.BLUR),u.Blur],[String(v.BOKEH),u.Bokeh],[String(v.CIRCLE),u.Circle],[String(v.COLOR_MATRIX),u.ColorMatrix],[String(v.DISPLACEMENT),u.Displacement],[String(v.GLOW),u.Glow],[String(v.GRADIENT),u.Gradient],[String(v.PIXELATE),u.Pixelate],[String(v.SHADOW),u.Shadow],[String(v.SHINE),u.Shine],[String(v.VIGNETTE),u.Vignette],[String(v.WIPE),u.Wipe]]),!j){this.classes.set(y.FX_PIPELINE,p);for(var Y=Math.min(H,X),$=Math.ceil(Y/this.frameInc),z=1;z<$;z++){var V=z*this.frameInc;U.push(new a(k,V,V)),U.push(new a(k,V,V)),U.push(new a(k,V,V)),this.maxDimension=V}U.push(new a(k,H,X,1,0,!0,!0)),U.push(new a(k,H,X,1,0,!0,!0)),U.push(new a(k,H,X,1,0,!0,!0))}var K,Q,_=this,tt=this.game;if(this.classes.each(function(ot,ft){K=_.add(ot,new ft({game:tt})),ot===y.UTILITY_PIPELINE&&(_.UTILITY_PIPELINE=K,_.fullFrame1=K.fullFrame1,_.fullFrame2=K.fullFrame2,_.halfFrame1=K.halfFrame1,_.halfFrame2=K.halfFrame2)}),this.MULTI_PIPELINE=this.get(y.MULTI_PIPELINE),this.BITMAPMASK_PIPELINE=this.get(y.BITMAPMASK_PIPELINE),this.MOBILE_PIPELINE=this.get(y.MOBILE_PIPELINE),j||(this.FX_PIPELINE=this.get(y.FX_PIPELINE)),G)for(Q in G){var rt=G[Q];K=new rt(tt),K.name=Q,K.isPostFX?this.postPipelineClasses.set(Q,rt):this.has(Q)||(this.classes.set(Q,rt),this.add(Q,K))}this.default=this.get(I),B&&!h.os.desktop&&(this.default=this.MOBILE_PIPELINE)},setDefaultPipeline:function(G){var I=this.get(G);return I&&(this.default=I),I},add:function(G,I){if(I.isPostFX){console.warn(G+" is a Post Pipeline. Use `addPostPipeline` instead");return}var B=this.pipelines,k=this.renderer;return B.has(G)?console.warn("Pipeline exists: "+G):(I.name=G,I.manager=this,B.set(G,I)),I.hasBooted||I.boot(),k.width!==0&&k.height!==0&&!I.isPreFX&&I.resize(k.width,k.height),I},addPostPipeline:function(G,I){this.postPipelineClasses.has(G)||this.postPipelineClasses.set(G,I)},flush:function(){this.current&&this.current.flush()},has:function(G){var I=this.pipelines;return typeof G=="string"?I.has(G):!!I.contains(G)},get:function(G){var I=this.pipelines;if(typeof G=="string")return I.get(G);if(I.contains(G))return G},getPostPipeline:function(G,I,B){var k=this.postPipelineClasses,U,H="",X=typeof G;if(X==="string"||X==="number"?(U=k.get(G),H=G):X==="function"?(k.contains(G)&&(U=G),H=G.name):X==="object"&&(U=k.get(G.name),H=G.name),U){var j=new U(this.game,B);return j.name=H,I&&(j.gameObject=I),this.postPipelineInstances.push(j),j}},removePostPipeline:function(G){L(this.postPipelineInstances,G)},remove:function(G,I,B){I===void 0&&(I=!0),B===void 0&&(B=!0),this.pipelines.delete(G),I&&this.classes.delete(G),B&&this.postPipelineClasses.delete(G)},set:function(G,I,B){if(!G.isPostFX)return this.isCurrent(G,B)||(this.flush(),this.current&&this.current.unbind(),this.current=G,G.bind(B)),G.updateProjectionMatrix(),G.onBind(I),G},preBatch:function(G){if(G.hasPostPipeline){this.flush();for(var I=G.postPipelines,B=I.length-1;B>=0;B--){var k=I[B];k.active&&k.preBatch(G)}}},postBatch:function(G){if(G.hasPostPipeline){this.flush();for(var I=G.postPipelines,B=0;B<I.length;B++){var k=I[B];k.active&&k.postBatch(G)}}},preBatchCamera:function(G){if(G.hasPostPipeline){this.flush();for(var I=G.postPipelines,B=I.length-1;B>=0;B--){var k=I[B];k.active&&k.preBatch(G)}}},postBatchCamera:function(G){if(G.hasPostPipeline){this.flush();for(var I=G.postPipelines,B=0;B<I.length;B++){var k=I[B];k.active&&k.postBatch(G)}}},isCurrent:function(G,I){var B=this.renderer,k=this.current;return k&&!I&&(I=k.currentShader),!(k!==G||I.program!==B.currentProgram)},copyFrame:function(G,I,B,k,U){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyFrame(G,I,B,k,U),this},copyToGame:function(G){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyToGame(G),this},drawFrame:function(G,I,B,k){return this.setUtility(this.UTILITY_PIPELINE.colorMatrixShader).drawFrame(G,I,B,k),this},blendFrames:function(G,I,B,k,U){return this.setUtility(this.UTILITY_PIPELINE.linearShader).blendFrames(G,I,B,k,U),this},blendFramesAdditive:function(G,I,B,k,U){return this.setUtility(this.UTILITY_PIPELINE.addShader).blendFramesAdditive(G,I,B,k,U),this},clearFrame:function(G,I){return this.UTILITY_PIPELINE.clearFrame(G,I),this},blitFrame:function(G,I,B,k,U,H){return this.setUtility(this.UTILITY_PIPELINE.copyShader).blitFrame(G,I,B,k,U,H),this},copyFrameRect:function(G,I,B,k,U,H,X,j){return this.UTILITY_PIPELINE.copyFrameRect(G,I,B,k,U,H,X,j),this},forceZero:function(){return this.current&&this.current.forceZero},setMulti:function(){return this.set(this.MULTI_PIPELINE)},setUtility:function(G){return this.UTILITY_PIPELINE.bind(G)},setFX:function(){return this.set(this.FX_PIPELINE)},restoreContext:function(){this.rebind(),this.pipelines.each(function(G,I){I.restoreContext()}),A(this.postPipelineInstances,function(G){G.restoreContext()})},rebind:function(G){G===void 0&&this.previous&&(G=this.previous);var I=this.renderer,B=I.gl;B.disable(B.DEPTH_TEST),B.disable(B.CULL_FACE),I.hasActiveStencilMask()?B.clear(B.DEPTH_BUFFER_BIT):(B.disable(B.STENCIL_TEST),B.clear(B.DEPTH_BUFFER_BIT|B.STENCIL_BUFFER_BIT)),B.viewport(0,0,I.width,I.height),I.currentProgram=null,I.setBlendMode(0,!0);var k=I.vaoExtension;k&&k.bindVertexArrayOES(null);var U=this.pipelines.entries;for(var H in U)U[H].glReset=!0;G&&(this.current=G,G.rebind())},clear:function(){var G=this.renderer;this.flush(),this.current?(this.current.unbind(),this.previous=this.current,this.current=null):this.previous=null,G.currentProgram=null,G.setBlendMode(0,!0);var I=G.vaoExtension;I&&I.bindVertexArrayOES(null)},getRenderTarget:function(G){var I=this.renderTargets,B=3;if(G>this.maxDimension)return this.targetIndex=I.length-B,I[this.targetIndex];var k=(f(G,this.frameInc,0,!0)-1)*B;return this.targetIndex=k,I[k]},getSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+1]},getAltSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+2]},destroy:function(){this.flush(),this.classes.clear(),this.postPipelineClasses.clear(),this.pipelines.clear(),this.renderer=null,this.game=null,this.classes=null,this.postPipelineClasses=null,this.pipelines=null,this.default=null,this.current=null,this.previous=null}});n.exports=F}),32302:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(92503),d=new o({initialize:function(l,a,f,c,u,v,p,m,x){c===void 0&&(c=1),u===void 0&&(u=0),v===void 0&&(v=!0),p===void 0&&(p=!1),m===void 0&&(m=!0),x===void 0&&(x=!0),this.renderer=l,this.framebuffer=null,this.texture=null,this.width=0,this.height=0,this.scale=c,this.minFilter=u,this.autoClear=v,this.autoResize=!0,this.hasDepthBuffer=m,this.forceClamp=x,this.init(a,f),p?this.renderer.on(y.RESIZE,this.resize,this):this.autoResize=!1},init:function(h,l){var a=this.renderer;this.texture=a.createTextureFromSource(null,h,l,this.minFilter,this.forceClamp),this.framebuffer=a.createFramebuffer(h,l,this.texture,this.hasDepthBuffer),this.width=h,this.height=l},setAutoResize:function(h){return h&&!this.autoResize?(this.renderer.on(y.RESIZE,this.resize,this),this.autoResize=!0):!h&&this.autoResize&&(this.renderer.off(y.RESIZE,this.resize,this),this.autoResize=!1),this},resize:function(h,l){if(this.autoResize&&this.willResize(h,l)){var a=this.renderer;a.deleteFramebuffer(this.framebuffer),a.deleteTexture(this.texture),this.texture=a.createTextureFromSource(null,h,l,this.minFilter,this.forceClamp),this.framebuffer=a.createFramebuffer(h,l,this.texture,this.hasDepthBuffer),this.width=h,this.height=l}return this},willResize:function(h,l){return typeof h!="number"||typeof l!="number"?!1:(h=Math.round(h*this.scale),l=Math.round(l*this.scale),h=Math.max(h,1),l=Math.max(l,1),h!==this.width||l!==this.height)},bind:function(h,l,a){h===void 0&&(h=!1);var f=this.renderer;if(h&&f.flush(),l&&a&&this.resize(l,a),f.pushFramebuffer(this.framebuffer,!1,!1),h&&this.adjustViewport(),this.autoClear){var c=this.renderer.gl;c.clearColor(0,0,0,0),c.clear(c.COLOR_BUFFER_BIT)}f.clearStencilMask()},adjustViewport:function(){var h=this.renderer.gl;h.viewport(0,0,this.width,this.height),h.disable(h.SCISSOR_TEST)},clear:function(h,l,a,f){var c=this.renderer,u=c.gl;c.pushFramebuffer(this.framebuffer),h!==void 0&&l!==void 0&&a!==void 0&&f!==void 0?(u.enable(u.SCISSOR_TEST),u.scissor(h,l,a,f)):u.disable(u.SCISSOR_TEST),u.clearColor(0,0,0,0),u.clear(u.COLOR_BUFFER_BIT),c.popFramebuffer(),c.resetScissor()},unbind:function(h){h===void 0&&(h=!1);var l=this.renderer;return h&&l.flush(),l.popFramebuffer()},destroy:function(){var h=this.renderer;h.off(y.RESIZE,this.resize,this),h.deleteFramebuffer(this.framebuffer),h.deleteTexture(this.texture),this.renderer=null,this.framebuffer=null,this.texture=null}});n.exports=d}),70554:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @author       Matthew Groves <@doormat>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={getTintFromFloats:function(T,r,o,y){var d=(T*255|0)&255,h=(r*255|0)&255,l=(o*255|0)&255,a=(y*255|0)&255;return(a<<24|d<<16|h<<8|l)>>>0},getTintAppendFloatAlpha:function(T,r){var o=(r*255|0)&255;return(o<<24|T)>>>0},getTintAppendFloatAlphaAndSwap:function(T,r){var o=(T>>16|0)&255,y=(T>>8|0)&255,d=(T|0)&255,h=(r*255|0)&255;return(h<<24|d<<16|y<<8|o)>>>0},getFloatsFromUintRGB:function(T){var r=(T>>16|0)&255,o=(T>>8|0)&255,y=(T|0)&255;return[r/255,o/255,y/255]},checkShaderMax:function(T,r){var o=Math.min(16,T.getParameter(T.MAX_TEXTURE_IMAGE_UNITS));return!r||r===-1?o:Math.min(o,r)},parseFragmentShaderMaxTextures:function(T,r){if(!T)return"";for(var o="",y=0;y<r;y++)y>0&&(o+=`
	else `),y<r-1&&(o+="if (outTexId < "+y+".5)"),o+=`
	{`,o+=`
		texture = texture2D(uMainSampler[`+y+"], outTexCoord);",o+=`
	}`;return T=T.replace(/%count%/gi,r.toString()),T.replace(/%forloop%/gi,o)},setGlowQuality:function(T,r,o,y){return o===void 0&&(o=r.config.glowFXQuality),y===void 0&&(y=r.config.glowFXDistance),T=T.replace(/__SIZE__/gi,(1/o/y).toFixed(7)),T=T.replace(/__DIST__/gi,y.toFixed(0)+".0"),T}}}),29100:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(62644),d=r(50792),h=r(77085),l=r(95540),a=r(37867),f=r(92503),c=r(32302),u=r(70554),v=r(38683),p=new o({Extends:d,initialize:function(x){d.call(this);var C=x.game,P=C.renderer,w=P.gl;this.name=l(x,"name","WebGLPipeline"),this.game=C,this.renderer=P,this.manager,this.gl=w,this.view=C.canvas,this.width=0,this.height=0,this.vertexCount=0,this.vertexCapacity=0,this.vertexData,this.vertexBuffer,this.activeBuffer,this.topology=l(x,"topology",w.TRIANGLES),this.bytes,this.vertexViewF32,this.vertexViewU32,this.active=!0,this.forceZero=l(x,"forceZero",!1),this.hasBooted=!1,this.isPostFX=!1,this.isPreFX=!1,this.renderTargets=[],this.currentRenderTarget,this.shaders=[],this.currentShader,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.config=x,this.glReset=!1,this.batch=[],this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.activeTextures=[],this.resizeUniform=l(x,"resizeUniform","")},boot:function(){var m,x=this.gl,C=this.config,P=this.renderer;this.isPostFX||(this.projectionMatrix=new a().identity());var w=this.renderTargets,M=l(C,"renderTarget",!1);typeof M=="boolean"&&M&&(M=1);var R=P.width,A=P.height;if(typeof M=="number")for(m=0;m<M;m++)w.push(new c(P,R,A,1,0,!0));else if(Array.isArray(M))for(m=0;m<M.length;m++){var L=l(M[m],"scale",1),F=l(M[m],"minFilter",0),G=l(M[m],"autoClear",1),I=l(M[m],"autoResize",!1),B=l(M[m],"width",null),k=l(M[m],"height",B);B?w.push(new c(P,B,k,1,F,G,I)):w.push(new c(P,R,A,L,F,G,I))}w.length&&(this.currentRenderTarget=w[0]),this.setShadersFromConfig(C);var U=this.shaders,H=0;for(m=0;m<U.length;m++)U[m].vertexSize>H&&(H=U[m].vertexSize);var X=l(C,"batchSize",P.config.batchSize);this.vertexCapacity=X*6;var j=new ArrayBuffer(this.vertexCapacity*H);this.vertexData=j,this.bytes=new Uint8Array(j),this.vertexViewF32=new Float32Array(j),this.vertexViewU32=new Uint32Array(j);var Z=l(C,"vertices",null);for(Z?(this.vertexViewF32.set(Z),this.vertexBuffer=P.createVertexBuffer(j,x.STATIC_DRAW)):this.vertexBuffer=P.createVertexBuffer(j.byteLength,x.DYNAMIC_DRAW),this.setVertexBuffer(),m=U.length-1;m>=0;m--)U[m].rebind();this.hasBooted=!0,P.on(f.RESIZE,this.resize,this),P.on(f.PRE_RENDER,this.onPreRender,this),P.on(f.RENDER,this.onRender,this),P.on(f.POST_RENDER,this.onPostRender,this),this.emit(h.BOOT,this),this.onBoot()},onBoot:function(){},onResize:function(){},setShader:function(m,x,C){var P=this.renderer;if(m!==this.currentShader||P.currentProgram!==this.currentShader.program){this.flush();var w=this.setVertexBuffer(C);w&&!x&&(x=!0),m.bind(x,!1),this.currentShader=m}return this},getShaderByName:function(m){for(var x=this.shaders,C=0;C<x.length;C++)if(x[C].name===m)return x[C]},setShadersFromConfig:function(m){var x,C=this.shaders,P=this.renderer;for(x=0;x<C.length;x++)C[x].destroy();var w="vertShader",M="fragShader",R="attributes",A=l(m,w,null),L=u.parseFragmentShaderMaxTextures(l(m,M,null),P.maxTextures),F=l(m,R,null),G=l(m,"shaders",[]),I=G.length;if(I===0)A&&L&&(this.shaders=[new v(this,"default",A,L,y(F))]);else{var B=[];for(x=0;x<I;x++){var k=G[x],U,H,X,j;if(typeof k=="string"?(U="default",H=A,X=u.parseFragmentShaderMaxTextures(k,P.maxTextures),j=F):(U=l(k,"name","default"),H=l(k,w,A),X=u.parseFragmentShaderMaxTextures(l(k,M,L),P.maxTextures),j=l(k,R,F)),U==="default"){var Z=X.split(`
`),Y=Z[0].trim();Y.indexOf("#define SHADER_NAME")>-1&&(U=Y.substring(20))}H&&X&&B.push(new v(this,U,H,X,y(j)))}this.shaders=B}return this.shaders.length===0?console.warn("Pipeline: "+this.name+" - Invalid shader config"):this.currentShader=this.shaders[0],this},createBatch:function(m){return this.currentBatch={start:this.vertexCount,count:0,texture:[m],unit:0,maxUnit:0},this.currentUnit=0,this.currentTexture=m,this.batch.push(this.currentBatch),0},addTextureToBatch:function(m){var x=this.currentBatch;x&&(x.texture.push(m),x.unit++,x.maxUnit++)},pushBatch:function(m){if(!this.currentBatch||this.forceZero&&m!==this.currentTexture)return this.createBatch(m);if(m===this.currentTexture)return this.currentUnit;var x=this.currentBatch,C=x.texture.indexOf(m);return C===-1?x.texture.length===this.renderer.maxTextures?this.createBatch(m):(x.unit++,x.maxUnit++,x.texture.push(m),this.currentUnit=x.unit,this.currentTexture=m,x.unit):(this.currentUnit=C,this.currentTexture=m,C)},setGameObject:function(m,x){return x===void 0&&(x=m.frame),this.pushBatch(x.source.glTexture)},shouldFlush:function(m){return m===void 0&&(m=0),this.vertexCount+m>this.vertexCapacity},vertexAvailable:function(){return this.vertexCapacity-this.vertexCount},resize:function(m,x){(m!==this.width||x!==this.height)&&this.flush(),this.width=m,this.height=x;for(var C=this.renderTargets,P=0;P<C.length;P++)C[P].resize(m,x);return this.setProjectionMatrix(m,x),this.resizeUniform&&this.set2f(this.resizeUniform,m,x),this.emit(h.RESIZE,m,x,this),this.onResize(m,x),this},setProjectionMatrix:function(m,x){var C=this.projectionMatrix;if(!C)return this;this.projectionWidth=m,this.projectionHeight=x,C.ortho(0,m,x,0,-1e3,1e3);for(var P=this.shaders,w="uProjectionMatrix",M=0;M<P.length;M++){var R=P[M];R.hasUniform(w)&&(R.resetUniform(w),R.setMatrix4fv(w,!1,C.val,R))}return this},flipProjectionMatrix:function(m){m===void 0&&(m=!0);var x=this.projectionMatrix;if(!x)return this;var C=this.projectionWidth,P=this.projectionHeight;m?x.ortho(0,C,0,P,-1e3,1e3):x.ortho(0,C,P,0,-1e3,1e3),this.setMatrix4fv("uProjectionMatrix",!1,x.val)},updateProjectionMatrix:function(){if(this.projectionMatrix){var m=this.renderer.projectionWidth,x=this.renderer.projectionHeight;(this.projectionWidth!==m||this.projectionHeight!==x)&&this.setProjectionMatrix(m,x)}},bind:function(m){if(m===void 0&&(m=this.currentShader),this.glReset)return this.rebind(m);var x=!1,C=this.gl;return C.getParameter(C.ARRAY_BUFFER_BINDING)!==this.vertexBuffer&&(C.bindBuffer(C.ARRAY_BUFFER,this.vertexBuffer.webGLBuffer),this.activeBuffer=this.vertexBuffer,x=!0),m.bind(x),this.currentShader=m,this.activeTextures.length=0,this.emit(h.BIND,this,m),this.onActive(m),this},rebind:function(m){this.activeBuffer=null,this.setVertexBuffer();for(var x=this.shaders,C=x.length-1;C>=0;C--){var P=x[C].rebind();(!m||P===m)&&(this.currentShader=P)}return this.activeTextures.length=0,this.emit(h.REBIND,this.currentShader),this.onActive(this.currentShader),this.onRebind(),this.glReset=!1,this},restoreContext:function(){var m=this.shaders,x=!!this.vertexBuffer;this.activeBuffer=null,this.activeTextures.length=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,x&&this.setVertexBuffer();for(var C=0;C<m.length;C++){var P=m[C];P.syncUniforms(),x&&P.rebind()}},setVertexBuffer:function(m){if(m===void 0&&(m=this.vertexBuffer),m!==this.activeBuffer){var x=this.gl;return this.gl.bindBuffer(x.ARRAY_BUFFER,m.webGLBuffer),this.activeBuffer=m,!0}return!1},preBatch:function(m){return this.currentRenderTarget&&this.currentRenderTarget.bind(),this.onPreBatch(m),this},postBatch:function(m){return this.onDraw(this.currentRenderTarget),this.onPostBatch(m),this},onDraw:function(){},unbind:function(){this.currentRenderTarget&&this.currentRenderTarget.unbind()},flush:function(m){if(m===void 0&&(m=!1),this.vertexCount>0){this.emit(h.BEFORE_FLUSH,this,m),this.onBeforeFlush(m);var x=this.gl,C=this.vertexCount,P=this.currentShader.vertexSize,w=this.topology;if(this.active){this.setVertexBuffer(),C===this.vertexCapacity?x.bufferData(x.ARRAY_BUFFER,this.vertexData,x.DYNAMIC_DRAW):x.bufferSubData(x.ARRAY_BUFFER,0,this.bytes.subarray(0,C*P));var M,R,A,L=this.batch,F=this.activeTextures;if(this.forceZero)for(F[0]||x.activeTexture(x.TEXTURE0),M=0;M<L.length;M++)R=L[M],A=R.texture[0],F[0]!==A&&(x.bindTexture(x.TEXTURE_2D,A.webGLTexture),F[0]=A),x.drawArrays(w,R.start,R.count);else for(M=0;M<L.length;M++){R=L[M];for(var G=0;G<=R.maxUnit;G++)A=R.texture[G],F[G]!==A&&(x.activeTexture(x.TEXTURE0+G),x.bindTexture(x.TEXTURE_2D,A.webGLTexture),F[G]=A);x.drawArrays(w,R.start,R.count)}}this.vertexCount=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.emit(h.AFTER_FLUSH,this,m),this.onAfterFlush(m)}return this},onActive:function(){},onBind:function(){},onRebind:function(){},onBatch:function(){},onPreBatch:function(){},onPostBatch:function(){},onPreRender:function(){},onRender:function(){},onPostRender:function(){},onBeforeFlush:function(){},onAfterFlush:function(){},batchVert:function(m,x,C,P,w,M,R){var A=this.vertexViewF32,L=this.vertexViewU32,F=this.vertexCount*this.currentShader.vertexComponentCount-1;A[++F]=m,A[++F]=x,A[++F]=C,A[++F]=P,A[++F]=w,A[++F]=M,L[++F]=R,this.vertexCount++,this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchQuad:function(m,x,C,P,w,M,R,A,L,F,G,I,B,k,U,H,X,j,Z,Y){Y===void 0&&(Y=this.currentUnit);var $=!1;this.shouldFlush(6)&&(this.flush(),$=!0),this.currentBatch||(Y=this.setTexture2D(Z));var z=this.vertexViewF32,V=this.vertexViewU32,K=this.vertexCount*this.currentShader.vertexComponentCount-1;return z[++K]=x,z[++K]=C,z[++K]=F,z[++K]=G,z[++K]=Y,z[++K]=j,V[++K]=k,z[++K]=P,z[++K]=w,z[++K]=F,z[++K]=B,z[++K]=Y,z[++K]=j,V[++K]=H,z[++K]=M,z[++K]=R,z[++K]=I,z[++K]=B,z[++K]=Y,z[++K]=j,V[++K]=X,z[++K]=x,z[++K]=C,z[++K]=F,z[++K]=G,z[++K]=Y,z[++K]=j,V[++K]=k,z[++K]=M,z[++K]=R,z[++K]=I,z[++K]=B,z[++K]=Y,z[++K]=j,V[++K]=X,z[++K]=A,z[++K]=L,z[++K]=I,z[++K]=G,z[++K]=Y,z[++K]=j,V[++K]=U,this.vertexCount+=6,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(m),$},batchTri:function(m,x,C,P,w,M,R,A,L,F,G,I,B,k,U,H,X){X===void 0&&(X=this.currentUnit);var j=!1;this.shouldFlush(3)&&(this.flush(),j=!0),this.currentBatch||(X=this.setTexture2D(H));var Z=this.vertexViewF32,Y=this.vertexViewU32,$=this.vertexCount*this.currentShader.vertexComponentCount-1;return Z[++$]=x,Z[++$]=C,Z[++$]=A,Z[++$]=L,Z[++$]=X,Z[++$]=U,Y[++$]=I,Z[++$]=P,Z[++$]=w,Z[++$]=A,Z[++$]=G,Z[++$]=X,Z[++$]=U,Y[++$]=B,Z[++$]=M,Z[++$]=R,Z[++$]=F,Z[++$]=G,Z[++$]=X,Z[++$]=U,Y[++$]=k,this.vertexCount+=3,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(m),j},drawFillRect:function(m,x,C,P,w,M,R,A){R===void 0&&(R=this.renderer.whiteTexture),A===void 0&&(A=!0),m=Math.floor(m),x=Math.floor(x);var L=Math.floor(m+C),F=Math.floor(x+P),G=this.setTexture2D(R),I=u.getTintAppendFloatAlphaAndSwap(w,M),B=0,k=0,U=1,H=1;A&&(k=1,H=0),this.batchQuad(null,m,x,m,F,L,F,L,x,B,k,U,H,I,I,I,I,0,R,G)},setTexture2D:function(m){return m===void 0&&(m=this.renderer.whiteTexture),this.pushBatch(m)},bindTexture:function(m,x){x===void 0&&(x=0);var C=this.gl;return C.activeTexture(C.TEXTURE0+x),C.bindTexture(C.TEXTURE_2D,m.webGLTexture),this},bindRenderTarget:function(m,x){return this.bindTexture(m.texture,x)},setTime:function(m,x){return this.set1f(m,this.game.loop.getDuration(),x),this},setBoolean:function(m,x,C){return C===void 0&&(C=this.currentShader),C.setBoolean(m,x),this},set1f:function(m,x,C){return C===void 0&&(C=this.currentShader),C.set1f(m,x),this},set2f:function(m,x,C,P){return P===void 0&&(P=this.currentShader),P.set2f(m,x,C),this},set3f:function(m,x,C,P,w){return w===void 0&&(w=this.currentShader),w.set3f(m,x,C,P),this},set4f:function(m,x,C,P,w,M){return M===void 0&&(M=this.currentShader),M.set4f(m,x,C,P,w),this},set1fv:function(m,x,C){return C===void 0&&(C=this.currentShader),C.set1fv(m,x),this},set2fv:function(m,x,C){return C===void 0&&(C=this.currentShader),C.set2fv(m,x),this},set3fv:function(m,x,C){return C===void 0&&(C=this.currentShader),C.set3fv(m,x),this},set4fv:function(m,x,C){return C===void 0&&(C=this.currentShader),C.set4fv(m,x),this},set1iv:function(m,x,C){return C===void 0&&(C=this.currentShader),C.set1iv(m,x),this},set2iv:function(m,x,C){return C===void 0&&(C=this.currentShader),C.set2iv(m,x),this},set3iv:function(m,x,C){return C===void 0&&(C=this.currentShader),C.set3iv(m,x),this},set4iv:function(m,x,C){return C===void 0&&(C=this.currentShader),C.set4iv(m,x),this},set1i:function(m,x,C){return C===void 0&&(C=this.currentShader),C.set1i(m,x),this},set2i:function(m,x,C,P){return P===void 0&&(P=this.currentShader),P.set2i(m,x,C),this},set3i:function(m,x,C,P,w){return w===void 0&&(w=this.currentShader),w.set3i(m,x,C,P),this},set4i:function(m,x,C,P,w,M){return M===void 0&&(M=this.currentShader),M.set4i(m,x,C,P,w),this},setMatrix2fv:function(m,x,C,P){return P===void 0&&(P=this.currentShader),P.setMatrix2fv(m,x,C),this},setMatrix3fv:function(m,x,C,P){return P===void 0&&(P=this.currentShader),P.setMatrix3fv(m,x,C),this},setMatrix4fv:function(m,x,C,P){return P===void 0&&(P=this.currentShader),P.setMatrix4fv(m,x,C),this},destroy:function(){this.emit(h.DESTROY,this);var m,x=this.shaders;for(m=0;m<x.length;m++)x[m].destroy();var C=this.renderTargets;for(m=0;m<C.length;m++)C[m].destroy();var P=this.renderer;return P.deleteBuffer(this.vertexBuffer),P.off(f.RESIZE,this.resize,this),P.off(f.PRE_RENDER,this.onPreRender,this),P.off(f.RENDER,this.onRender,this),P.off(f.POST_RENDER,this.onPostRender,this),this.removeAllListeners(),this.game=null,this.renderer=null,this.manager=null,this.gl=null,this.view=null,this.shaders=null,this.renderTargets=null,this.bytes=null,this.vertexViewF32=null,this.vertexViewU32=null,this.vertexData=null,this.vertexBuffer=null,this.currentShader=null,this.currentRenderTarget=null,this.activeTextures=null,this}});n.exports=p}),74797:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(95428),y=r(72905),d=r(19715),h=r(83419),l=r(8054),a=r(50792),f=r(92503),c=r(50030),u=r(37867),v=r(29747),p=r(7530),m=r(32302),x=r(97480),C=r(69442),P=r(70554),w=r(88815),M=r(26128),R=r(1482),A=r(82751),L=r(84387),F=r(93567),G=r(57183),I=new h({Extends:a,initialize:function(k){a.call(this);var U=k.config,H={alpha:U.transparent,desynchronized:U.desynchronized,depth:!0,antialias:U.antialiasGL,premultipliedAlpha:U.premultipliedAlpha,stencil:!0,failIfMajorPerformanceCaveat:U.failIfMajorPerformanceCaveat,powerPreference:U.powerPreference,preserveDrawingBuffer:U.preserveDrawingBuffer,willReadFrequently:!1};this.config={clearBeforeRender:U.clearBeforeRender,antialias:U.antialias,backgroundColor:U.backgroundColor,contextCreation:H,roundPixels:U.roundPixels,maxTextures:U.maxTextures,maxTextureSize:U.maxTextureSize,batchSize:U.batchSize,maxLights:U.maxLights,mipmapFilter:U.mipmapFilter},this.game=k,this.type=l.WEBGL,this.pipelines=null,this.width=0,this.height=0,this.canvas=k.canvas,this.blendModes=[],this.contextLost=!1,this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92,isFramebuffer:!1,bufferWidth:0,bufferHeight:0},this.maxTextures=0,this.textureIndexes,this.glBufferWrappers=[],this.glProgramWrappers=[],this.glTextureWrappers=[],this.glFramebufferWrappers=[],this.glAttribLocationWrappers=[],this.glUniformLocationWrappers=[],this.currentFramebuffer=null,this.fboStack=[],this.currentProgram=null,this.currentBlendMode=1/0,this.currentScissorEnabled=!1,this.currentScissor=null,this.scissorStack=[],this.contextLostHandler=v,this.contextRestoredHandler=v,this.previousContextLostHandler=v,this.previousContextRestoredHandler=v,this.gl=null,this.supportedExtensions=null,this.instancedArraysExtension=null,this.vaoExtension=null,this.extensions={},this.glFormats,this.compression,this.drawingBufferHeight=0,this.blankTexture=null,this.normalTexture=null,this.whiteTexture=null,this.maskCount=0,this.maskStack=[],this.currentMask={mask:null,camera:null},this.currentCameraMask={mask:null,camera:null},this.glFuncMap=null,this.currentType="",this.newType=!1,this.nextTypeMatch=!1,this.finalType=!1,this.mipmapFilter=null,this.defaultScissor=[0,0,0,0],this.isBooted=!1,this.renderTarget=null,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.maskSource=null,this.maskTarget=null,this.spector=null,this._debugCapture=!1,this.init(this.config)},init:function(B){var k,U=this.game,H=this.canvas,X=B.backgroundColor;if(U.config.context?k=U.config.context:k=H.getContext("webgl",B.contextCreation)||H.getContext("experimental-webgl",B.contextCreation),!k||k.isContextLost())throw this.contextLost=!0,new Error("WebGL unsupported");this.gl=k,this.setExtensions(),this.setContextHandlers(),U.context=k;for(var j=0;j<=27;j++)this.blendModes.push({func:[k.ONE,k.ONE_MINUS_SRC_ALPHA],equation:k.FUNC_ADD});this.blendModes[1].func=[k.ONE,k.DST_ALPHA],this.blendModes[2].func=[k.DST_COLOR,k.ONE_MINUS_SRC_ALPHA],this.blendModes[3].func=[k.ONE,k.ONE_MINUS_SRC_COLOR],this.blendModes[17]={func:[k.ZERO,k.ONE_MINUS_SRC_ALPHA],equation:k.FUNC_REVERSE_SUBTRACT},this.glFormats=[k.BYTE,k.SHORT,k.UNSIGNED_BYTE,k.UNSIGNED_SHORT,k.FLOAT],this.glFuncMap={mat2:{func:k.uniformMatrix2fv,length:1,matrix:!0},mat3:{func:k.uniformMatrix3fv,length:1,matrix:!0},mat4:{func:k.uniformMatrix4fv,length:1,matrix:!0},"1f":{func:k.uniform1f,length:1},"1fv":{func:k.uniform1fv,length:1},"1i":{func:k.uniform1i,length:1},"1iv":{func:k.uniform1iv,length:1},"2f":{func:k.uniform2f,length:2},"2fv":{func:k.uniform2fv,length:1},"2i":{func:k.uniform2i,length:2},"2iv":{func:k.uniform2iv,length:1},"3f":{func:k.uniform3f,length:3},"3fv":{func:k.uniform3fv,length:1},"3i":{func:k.uniform3i,length:3},"3iv":{func:k.uniform3iv,length:1},"4f":{func:k.uniform4f,length:4},"4fv":{func:k.uniform4fv,length:1},"4i":{func:k.uniform4i,length:4},"4iv":{func:k.uniform4iv,length:1}},(!B.maxTextures||B.maxTextures===-1)&&(B.maxTextures=k.getParameter(k.MAX_TEXTURE_IMAGE_UNITS)),B.maxTextureSize||(B.maxTextureSize=k.getParameter(k.MAX_TEXTURE_SIZE)),this.compression=this.getCompressedTextures(),k.disable(k.DEPTH_TEST),k.disable(k.CULL_FACE),k.enable(k.BLEND),k.clearColor(X.redGL,X.greenGL,X.blueGL,X.alphaGL),k.clear(k.COLOR_BUFFER_BIT);var Z=["NEAREST","LINEAR","NEAREST_MIPMAP_NEAREST","LINEAR_MIPMAP_NEAREST","NEAREST_MIPMAP_LINEAR","LINEAR_MIPMAP_LINEAR"];return Z.indexOf(B.mipmapFilter)!==-1&&(this.mipmapFilter=k[B.mipmapFilter]),this.maxTextures=P.checkShaderMax(k,B.maxTextures),this.textureIndexes=[],this.createTemporaryTextures(),this.pipelines=new p(this),this.setBlendMode(l.BlendModes.NORMAL),this.projectionMatrix=new u().identity(),U.textures.once(C.READY,this.boot,this),this},boot:function(){var B=this.game,k=this.pipelines,U=B.scale.baseSize,H=U.width,X=U.height;this.width=H,this.height=X,this.isBooted=!0,this.renderTarget=new m(this,H,X,1,0,!0,!0),this.maskTarget=new m(this,H,X,1,0,!0,!0),this.maskSource=new m(this,H,X,1,0,!0,!0);var j=B.config;k.boot(j.pipeline,j.defaultPipeline,j.autoMobilePipeline),this.blankTexture=B.textures.getFrame("__DEFAULT").glTexture,this.normalTexture=B.textures.getFrame("__NORMAL").glTexture,this.whiteTexture=B.textures.getFrame("__WHITE").glTexture;var Z=this.gl;Z.bindFramebuffer(Z.FRAMEBUFFER,null),Z.enable(Z.SCISSOR_TEST),B.scale.on(x.RESIZE,this.onResize,this),this.resize(H,X)},setExtensions:function(){var B=this.gl,k=B.getSupportedExtensions();this.supportedExtensions=k;var U="ANGLE_instanced_arrays";this.instancedArraysExtension=k.indexOf(U)>-1?B.getExtension(U):null;var H="OES_vertex_array_object";this.vaoExtension=k.indexOf(H)>-1?B.getExtension(H):null},setContextHandlers:function(B,k){this.previousContextLostHandler&&this.canvas.removeEventListener("webglcontextlost",this.previousContextLostHandler,!1),this.previousContextRestoredHandler&&this.canvas.removeEventListener("webglcontextlost",this.previousContextRestoredHandler,!1),typeof B=="function"?this.contextLostHandler=B.bind(this):this.contextLostHandler=this.dispatchContextLost.bind(this),typeof k=="function"?this.contextRestoredHandler=k.bind(this):this.contextRestoredHandler=this.dispatchContextRestored.bind(this),this.canvas.addEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.addEventListener("webglcontextrestored",this.contextRestoredHandler,!1),this.previousContextLostHandler=this.contextLostHandler,this.previousContextRestoredHandler=this.contextRestoredHandler},dispatchContextLost:function(B){this.contextLost=!0,console&&console.warn("WebGL Context lost. Renderer disabled"),this.emit(f.LOSE_WEBGL,this),B.preventDefault()},dispatchContextRestored:function(B){var k=this.gl;if(k.isContextLost()){console&&console.log("WebGL Context restored, but context is still lost");return}this.currentProgram=null,this.currentFramebuffer=null,this.setBlendMode(l.BlendModes.NORMAL),k.disable(k.BLEND),k.disable(k.DEPTH_TEST),k.enable(k.CULL_FACE),this.compression=this.getCompressedTextures();var U=function(H){H.createResource()};o(this.glTextureWrappers,U),o(this.glBufferWrappers,U),o(this.glFramebufferWrappers,U),o(this.glProgramWrappers,U),o(this.glAttribLocationWrappers,U),o(this.glUniformLocationWrappers,U),this.createTemporaryTextures(),this.pipelines.restoreContext(),this.resize(this.game.scale.baseSize.width,this.game.scale.baseSize.height),this.setExtensions(),this.contextLost=!1,console&&console.warn("WebGL Context restored. Renderer running again."),this.emit(f.RESTORE_WEBGL,this),B.preventDefault()},createTemporaryTextures:function(){for(var B=this.gl,k=0;k<this.maxTextures;k++){var U=B.createTexture();B.activeTexture(B.TEXTURE0+k),B.bindTexture(B.TEXTURE_2D,U),B.texImage2D(B.TEXTURE_2D,0,B.RGBA,1,1,0,B.RGBA,B.UNSIGNED_BYTE,new Uint8Array([0,0,255,255])),this.textureIndexes.push(k)}},captureFrame:function(B,k){},captureNextFrame:function(){},getFps:function(){},log:function(){},startCapture:function(B,k,U){},stopCapture:function(){},onCapture:function(B){},onResize:function(B,k){(k.width!==this.width||k.height!==this.height)&&this.resize(k.width,k.height)},beginCapture:function(B,k){B===void 0&&(B=this.width),k===void 0&&(k=this.height),this.renderTarget.bind(!0,B,k),this.setProjectionMatrix(B,k)},endCapture:function(){return this.renderTarget.unbind(!0),this.resetProjectionMatrix(),this.renderTarget},resize:function(B,k){var U=this.gl;return this.width=B,this.height=k,this.setProjectionMatrix(B,k),U.viewport(0,0,B,k),this.drawingBufferHeight=U.drawingBufferHeight,U.scissor(0,U.drawingBufferHeight-k,B,k),this.defaultScissor[2]=B,this.defaultScissor[3]=k,this.emit(f.RESIZE,B,k),this},getCompressedTextures:function(){var B="WEBGL_compressed_texture_",k="WEBKIT_"+B,U="EXT_texture_compression_",H=function(j,Z){var Y=j.getExtension(B+Z)||j.getExtension(k+Z)||j.getExtension(U+Z);if(Y){var $={};for(var z in Y)$[Y[z]]=z;return $}},X=this.gl;return{ETC:H(X,"etc"),ETC1:H(X,"etc1"),ATC:H(X,"atc"),ASTC:H(X,"astc"),BPTC:H(X,"bptc"),RGTC:H(X,"rgtc"),PVRTC:H(X,"pvrtc"),S3TC:H(X,"s3tc"),S3TCSRGB:H(X,"s3tc_srgb"),IMG:!0}},getCompressedTextureName:function(B,k){var U=this.compression[B.toUpperCase()];if(k in U)return U[k]},supportsCompressedTexture:function(B,k){var U=this.compression[B.toUpperCase()];return U?k?k in U:!0:!1},getAspectRatio:function(){return this.width/this.height},setProjectionMatrix:function(B,k){return(B!==this.projectionWidth||k!==this.projectionHeight)&&(this.projectionWidth=B,this.projectionHeight=k,this.projectionMatrix.ortho(0,B,k,0,-1e3,1e3)),this},resetProjectionMatrix:function(){return this.setProjectionMatrix(this.width,this.height)},hasExtension:function(B){return this.supportedExtensions?this.supportedExtensions.indexOf(B):!1},getExtension:function(B){return this.hasExtension(B)?(B in this.extensions||(this.extensions[B]=this.gl.getExtension(B)),this.extensions[B]):null},flush:function(){this.pipelines.flush()},pushScissor:function(B,k,U,H,X){X===void 0&&(X=this.drawingBufferHeight);var j=this.scissorStack,Z=[B,k,U,H];return j.push(Z),this.setScissor(B,k,U,H,X),this.currentScissor=Z,Z},setScissor:function(B,k,U,H,X){X===void 0&&(X=this.drawingBufferHeight);var j=this.gl,Z=this.currentScissor,Y=U>0&&H>0;if(Z&&Y){var $=Z[0],z=Z[1],V=Z[2],K=Z[3];Y=$!==B||z!==k||V!==U||K!==H}Y&&(this.flush(),j.scissor(B,X-k-H,U,H))},resetScissor:function(){var B=this.gl;B.enable(B.SCISSOR_TEST);var k=this.currentScissor;if(k){var U=k[0],H=k[1],X=k[2],j=k[3];X>0&&j>0&&B.scissor(U,this.drawingBufferHeight-H-j,X,j)}},popScissor:function(){var B=this.scissorStack;B.pop();var k=B[B.length-1];k&&this.setScissor(k[0],k[1],k[2],k[3]),this.currentScissor=k},hasActiveStencilMask:function(){var B=this.currentMask.mask,k=this.currentCameraMask.mask;return B&&B.isStencil||k&&k.isStencil},resetViewport:function(){var B=this.gl;B.viewport(0,0,this.width,this.height),this.drawingBufferHeight=B.drawingBufferHeight},setBlendMode:function(B,k){k===void 0&&(k=!1);var U=this.gl,H=this.blendModes[B];return k||B!==l.BlendModes.SKIP_CHECK&&this.currentBlendMode!==B?(this.flush(),U.enable(U.BLEND),U.blendEquation(H.equation),H.func.length>2?U.blendFuncSeparate(H.func[0],H.func[1],H.func[2],H.func[3]):U.blendFunc(H.func[0],H.func[1]),this.currentBlendMode=B,!0):!1},addBlendMode:function(B,k){var U=this.blendModes.push({func:B,equation:k});return U-1},updateBlendMode:function(B,k,U){return this.blendModes[B]&&(this.blendModes[B].func=k,U&&(this.blendModes[B].equation=U)),this},removeBlendMode:function(B){return B>17&&this.blendModes[B]&&this.blendModes.splice(B,1),this},pushFramebuffer:function(B,k,U,H,X){return B===this.currentFramebuffer?this:(this.fboStack.push(B),this.setFramebuffer(B,k,U,H,X))},setFramebuffer:function(B,k,U,H,X){if(k===void 0&&(k=!1),U===void 0&&(U=!0),H===void 0&&(H=null),X===void 0&&(X=!1),B===this.currentFramebuffer)return this;var j=this.gl,Z=this.width,Y=this.height;return B&&B.renderTexture&&U?(Z=B.renderTexture.width,Y=B.renderTexture.height):this.flush(),B?j.bindFramebuffer(j.FRAMEBUFFER,B.webGLFramebuffer):j.bindFramebuffer(j.FRAMEBUFFER,null),U&&j.viewport(0,0,Z,Y),H&&j.framebufferTexture2D(j.FRAMEBUFFER,j.COLOR_ATTACHMENT0,j.TEXTURE_2D,H.webGLTexture,0),X&&(j.clearColor(0,0,0,0),j.clear(j.COLOR_BUFFER_BIT)),k&&(B?(this.drawingBufferHeight=Y,this.pushScissor(0,0,Z,Y)):(this.drawingBufferHeight=this.height,this.popScissor())),this.currentFramebuffer=B,this},popFramebuffer:function(B,k){B===void 0&&(B=!1),k===void 0&&(k=!0);var U=this.fboStack;U.pop();var H=U[U.length-1];return H||(H=null),this.setFramebuffer(H,B,k),H},restoreFramebuffer:function(B,k){B===void 0&&(B=!1),k===void 0&&(k=!0);var U=this.fboStack,H=U[U.length-1];H||(H=null),this.currentFramebuffer=null,this.setFramebuffer(H,B,k)},setProgram:function(B){return B!==this.currentProgram?(this.flush(),this.gl.useProgram(B.webGLProgram),this.currentProgram=B,!0):!1},resetProgram:function(){return this.gl.useProgram(this.currentProgram.webGLProgramWrapper),this},createTextureFromSource:function(B,k,U,H,X){X===void 0&&(X=!1);var j=this.gl,Z=j.NEAREST,Y=j.NEAREST,$=j.CLAMP_TO_EDGE,z=null;k=B?B.width:k,U=B?B.height:U;var V=c(k,U);if(V&&!X&&($=j.REPEAT),H===l.ScaleModes.LINEAR&&this.config.antialias){var K=B&&B.compressed,Q=!K&&V||K&&B.mipmaps.length>1;Z=this.mipmapFilter&&Q?this.mipmapFilter:j.LINEAR,Y=j.LINEAR}return!B&&typeof k=="number"&&typeof U=="number"?z=this.createTexture2D(0,Z,Y,$,$,j.RGBA,null,k,U):z=this.createTexture2D(0,Z,Y,$,$,j.RGBA,B),z},createTexture2D:function(B,k,U,H,X,j,Z,Y,$,z,V,K){typeof Y!="number"&&(Y=Z?Z.width:1),typeof $!="number"&&($=Z?Z.height:1);var Q=new A(this.gl,B,k,U,H,X,j,Z,Y,$,z,V,K);return this.glTextureWrappers.push(Q),Q},createFramebuffer:function(B,k,U,H){this.currentFramebuffer=null;var X=new L(this.gl,B,k,U,H);return this.glFramebufferWrappers.push(X),X},beginBitmapMask:function(B,k){var U=this.gl;U&&(this.flush(),this.maskTarget.bind(!0),this.currentCameraMask.mask!==B&&(this.currentMask.mask=B,this.currentMask.camera=k))},drawBitmapMask:function(B,k,U){this.flush(),this.maskSource.bind(),this.setBlendMode(0,!0),B.renderWebGL(this,B,k),this.maskSource.unbind(!0),this.maskTarget.unbind();var H=this.gl,X=this.getCurrentStencilMask();X?(H.enable(H.STENCIL_TEST),X.mask.applyStencil(this,X.camera,!0)):this.currentMask.mask=null,this.pipelines.set(U),H.activeTexture(H.TEXTURE0),H.bindTexture(H.TEXTURE_2D,this.maskTarget.texture.webGLTexture),H.activeTexture(H.TEXTURE1),H.bindTexture(H.TEXTURE_2D,this.maskSource.texture.webGLTexture)},createProgram:function(B,k){var U=new R(this.gl,B,k);return this.glProgramWrappers.push(U),U},createVertexBuffer:function(B,k){var U=this.gl,H=new M(U,B,U.ARRAY_BUFFER,k);return this.glBufferWrappers.push(H),H},createAttribLocation:function(B,k){var U=new F(this.gl,B,k);return this.glAttribLocationWrappers.push(U),U},createUniformLocation:function(B,k){var U=new G(this.gl,B,k);return this.glUniformLocationWrappers.push(U),U},createIndexBuffer:function(B,k){var U=this.gl,H=new M(U,B,U.ELEMENT_ARRAY_BUFFER,k);return this.glBufferWrappers.push(H),H},deleteTexture:function(B){if(B)return y(this.glTextureWrappers,B),B.destroy(),this},deleteFramebuffer:function(B){return B?(y(this.fboStack,B),y(this.glFramebufferWrappers,B),B.destroy(),this):this},deleteProgram:function(B){return B&&(y(this.glProgramWrappers,B),B.destroy()),this},deleteAttribLocation:function(B){return B&&(y(this.glAttribLocationWrappers,B),B.destroy()),this},deleteUniformLocation:function(B){return B&&(y(this.glUniformLocationWrappers,B),B.destroy()),this},deleteBuffer:function(B){return B?(y(this.glBufferWrappers,B),B.destroy(),this):this},preRenderCamera:function(B){var k=B.x,U=B.y,H=B.width,X=B.height,j=B.backgroundColor;if(B.emit(d.PRE_RENDER,B),this.pipelines.preBatchCamera(B),this.pushScissor(k,U,H,X),B.mask&&(this.currentCameraMask.mask=B.mask,this.currentCameraMask.camera=B._maskCamera,B.mask.preRenderWebGL(this,B,B._maskCamera)),j.alphaGL>0){var Z=this.pipelines.setMulti();Z.drawFillRect(k,U,H,X,P.getTintFromFloats(j.blueGL,j.greenGL,j.redGL,1),j.alphaGL)}},getCurrentStencilMask:function(){var B=null,k=this.maskStack,U=this.currentCameraMask;return k.length>0?B=k[k.length-1]:U.mask&&U.mask.isStencil&&(B=U),B},postRenderCamera:function(B){var k=B.flashEffect,U=B.fadeEffect;if(k.isRunning||U.isRunning||U.isComplete){var H=this.pipelines.setMulti();k.postRenderWebGL(H,P.getTintFromFloats),U.postRenderWebGL(H,P.getTintFromFloats)}B.dirty=!1,this.popScissor(),B.mask&&(this.currentCameraMask.mask=null,B.mask.postRenderWebGL(this,B._maskCamera)),this.pipelines.postBatchCamera(B),B.emit(d.POST_RENDER,B)},preRender:function(){if(!this.contextLost){var B=this.gl;if(B.bindFramebuffer(B.FRAMEBUFFER,null),this.emit(f.PRE_RENDER_CLEAR),this.config.clearBeforeRender){var k=this.config.backgroundColor;B.clearColor(k.redGL,k.greenGL,k.blueGL,k.alphaGL),B.clear(B.COLOR_BUFFER_BIT|B.DEPTH_BUFFER_BIT|B.STENCIL_BUFFER_BIT)}B.enable(B.SCISSOR_TEST),this.currentScissor=this.defaultScissor,this.scissorStack.length=0,this.scissorStack.push(this.currentScissor),this.game.scene.customViewports&&B.scissor(0,this.drawingBufferHeight-this.height,this.width,this.height),this.currentMask.mask=null,this.currentCameraMask.mask=null,this.maskStack.length=0,this.emit(f.PRE_RENDER)}},render:function(B,k,U){if(!this.contextLost){var H=k.length;if(this.emit(f.RENDER,B,U),this.preRenderCamera(U),H===0){this.setBlendMode(l.BlendModes.NORMAL),this.postRenderCamera(U);return}this.currentType="";for(var X=this.currentMask,j=0;j<H;j++){this.finalType=j===H-1;var Z=k[j],Y=Z.mask;X=this.currentMask,X.mask&&X.mask!==Y&&X.mask.postRenderWebGL(this,X.camera),Y&&X.mask!==Y&&Y.preRenderWebGL(this,Z,U),Z.blendMode!==this.currentBlendMode&&this.setBlendMode(Z.blendMode);var $=Z.type;$!==this.currentType&&(this.newType=!0,this.currentType=$),this.finalType?this.nextTypeMatch=!1:this.nextTypeMatch=k[j+1].type===this.currentType,Z.renderWebGL(this,Z,U),this.newType=!1}X=this.currentMask,X.mask&&X.mask.postRenderWebGL(this,X.camera),this.setBlendMode(l.BlendModes.NORMAL),this.postRenderCamera(U)}},postRender:function(){if(!this.contextLost){this.flush(),this.emit(f.POST_RENDER);var B=this.snapshotState;B.callback&&(w(this.gl,B),B.callback=null)}},clearStencilMask:function(){this.gl.disable(this.gl.STENCIL_TEST)},restoreStencilMask:function(){var B=this.gl,k=this.getCurrentStencilMask();if(k){var U=k.mask;B.enable(B.STENCIL_TEST),U.invertAlpha?B.stencilFunc(B.NOTEQUAL,U.level,255):B.stencilFunc(B.EQUAL,U.level,255)}},snapshot:function(B,k,U){return this.snapshotArea(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight,B,k,U)},snapshotArea:function(B,k,U,H,X,j,Z){var Y=this.snapshotState;return Y.callback=X,Y.type=j,Y.encoder=Z,Y.getPixel=!1,Y.x=B,Y.y=k,Y.width=U,Y.height=H,this},snapshotPixel:function(B,k,U){return this.snapshotArea(B,k,1,1,U),this.snapshotState.getPixel=!0,this},snapshotFramebuffer:function(B,k,U,H,X,j,Z,Y,$,z,V){X===void 0&&(X=!1),j===void 0&&(j=0),Z===void 0&&(Z=0),Y===void 0&&(Y=k),$===void 0&&($=U),z==="pixel"&&(X=!0,z="image/png");var K=this.currentFramebuffer;this.snapshotArea(j,Z,Y,$,H,z,V);var Q=this.snapshotState;return Q.getPixel=X,Q.isFramebuffer=!0,Q.bufferWidth=k,Q.bufferHeight=U,Q.width=Math.min(Q.width,k),Q.height=Math.min(Q.height,U),this.setFramebuffer(B),w(this.gl,Q),this.setFramebuffer(K),Q.callback=null,Q.isFramebuffer=!1,this},canvasToTexture:function(B,k,U,H){U===void 0&&(U=!1),H===void 0&&(H=!1);var X=this.gl,j=X.NEAREST,Z=X.NEAREST,Y=B.width,$=B.height,z=X.CLAMP_TO_EDGE,V=c(Y,$);return!U&&V&&(z=X.REPEAT),this.config.antialias&&(j=V&&this.mipmapFilter?this.mipmapFilter:X.LINEAR,Z=X.LINEAR),k?(k.update(B,Y,$,H,z,z,j,Z,k.format),k):this.createTexture2D(0,j,Z,z,z,X.RGBA,B,Y,$,!0,!1,H)},createCanvasTexture:function(B,k,U){return k===void 0&&(k=!1),U===void 0&&(U=!1),this.canvasToTexture(B,null,k,U)},updateCanvasTexture:function(B,k,U,H){return U===void 0&&(U=!1),H===void 0&&(H=!1),this.canvasToTexture(B,k,H,U)},videoToTexture:function(B,k,U,H){U===void 0&&(U=!1),H===void 0&&(H=!1);var X=this.gl,j=X.NEAREST,Z=X.NEAREST,Y=B.videoWidth,$=B.videoHeight,z=X.CLAMP_TO_EDGE,V=c(Y,$);return!U&&V&&(z=X.REPEAT),this.config.antialias&&(j=V&&this.mipmapFilter?this.mipmapFilter:X.LINEAR,Z=X.LINEAR),k?(k.update(B,Y,$,H,z,z,j,Z,k.format),k):this.createTexture2D(0,j,Z,z,z,X.RGBA,B,Y,$,!0,!0,H)},createVideoTexture:function(B,k,U){return k===void 0&&(k=!1),U===void 0&&(U=!1),this.videoToTexture(B,null,k,U)},updateVideoTexture:function(B,k,U,H){return U===void 0&&(U=!1),H===void 0&&(H=!1),this.videoToTexture(B,k,H,U)},createUint8ArrayTexture:function(B,k,U){var H=this.gl,X=H.NEAREST,j=H.NEAREST,Z=H.CLAMP_TO_EDGE,Y=c(k,U);return Y&&(Z=H.REPEAT),this.createTexture2D(0,X,j,Z,Z,H.RGBA,B,k,U)},setTextureFilter:function(B,k){var U=this.gl,H=k===0?U.LINEAR:U.NEAREST;U.activeTexture(U.TEXTURE0);var X=U.getParameter(U.TEXTURE_BINDING_2D);return U.bindTexture(U.TEXTURE_2D,B.webGLTexture),U.texParameteri(U.TEXTURE_2D,U.TEXTURE_MIN_FILTER,H),U.texParameteri(U.TEXTURE_2D,U.TEXTURE_MAG_FILTER,H),B.minFilter=H,B.magFilter=H,X&&U.bindTexture(U.TEXTURE_2D,X),this},getMaxTextureSize:function(){return this.config.maxTextureSize},destroy:function(){this.canvas.removeEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.removeEventListener("webglcontextrestored",this.contextRestoredHandler,!1);var B=function(k){k.destroy()};o(this.glAttribLocationWrappers,B),o(this.glBufferWrappers,B),o(this.glFramebufferWrappers,B),o(this.glProgramWrappers,B),o(this.glTextureWrappers,B),o(this.glUniformLocationWrappers,B),this.maskTarget.destroy(),this.maskSource.destroy(),this.pipelines.destroy(),this.removeAllListeners(),this.fboStack=[],this.maskStack=[],this.extensions={},this.textureIndexes=[],this.gl=null,this.game=null,this.canvas=null,this.contextLost=!0,this.currentMask=null,this.currentCameraMask=null}});n.exports=I}),38683:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(95428),d=r(95540),h=r(14500),l=new o({initialize:function(f,c,u,v,p){this.pipeline=f,this.name=c,this.renderer=f.renderer,this.gl=this.renderer.gl,this.fragSrc=v,this.vertSrc=u,this.program=this.renderer.createProgram(u,v),this.attributes,this.vertexComponentCount=0,this.vertexSize=0,this.uniforms={},this.createAttributes(p),this.createUniforms()},createAttributes:function(a){var f=0,c=0,u=[];this.vertexComponentCount=0;for(var v=0;v<a.length;v++){var p=a[v],m=p.name,x=d(p,"size",1),C=d(p,"type",h.FLOAT),P=C.enum,w=C.size,M=!!p.normalized;u.push({name:m,size:x,type:P,normalized:M,offset:c,enabled:!1,location:-1}),w===4?f+=x:f++,c+=x*w}this.vertexSize=c,this.vertexComponentCount=f,this.attributes=u},bind:function(a,f){return a===void 0&&(a=!1),f===void 0&&(f=!1),f&&this.pipeline.flush(),this.renderer.setProgram(this.program),a&&this.setAttribPointers(),this},rebind:function(){return this.renderer.setProgram(this.program),this.setAttribPointers(!0),this},setAttribPointers:function(a){a===void 0&&(a=!1);for(var f=this.gl,c=this.renderer,u=this.vertexSize,v=this.attributes,p=this.program,m=0;m<v.length;m++){var x=v[m],C=x.size,P=x.type,w=x.offset,M=x.enabled,R=x.location,A=!!x.normalized;if(a){R!==-1&&c.deleteAttribLocation(R);var L=this.renderer.createAttribLocation(p,x.name);L.webGLAttribLocation>=0?(f.enableVertexAttribArray(L.webGLAttribLocation),f.vertexAttribPointer(L.webGLAttribLocation,C,P,A,u,w),x.enabled=!0,x.location=L):L.webGLAttribLocation!==-1&&f.disableVertexAttribArray(L.webGLAttribLocation)}else M?f.vertexAttribPointer(R.webGLAttribLocation,C,P,A,u,w):!M&&R!==-1&&R.webGLAttribLocation>-1&&(f.disableVertexAttribArray(R.webGLAttribLocation),x.location=-1)}return this},createUniforms:function(){var a=this.gl,f=this.program,c=this.uniforms,u,v,p,m=a.getProgramParameter(f.webGLProgram,a.ACTIVE_UNIFORMS);for(u=0;u<m;u++){var x=a.getActiveUniform(f.webGLProgram,u);if(x){v=x.name,p=this.renderer.createUniformLocation(f,v),p!==null&&(c[v]={name:v,location:p,setter:null,value1:null,value2:null,value3:null,value4:null});var C=v.indexOf("[");C>0&&(v=v.substr(0,C),c.hasOwnProperty(v)||(p=this.renderer.createUniformLocation(f,v),p!==null&&(c[v]={name:v,location:p,setter:null,value1:null,value2:null,value3:null,value4:null})))}}return this},syncUniforms:function(){var a=this.gl;this.renderer.setProgram(this.program);for(var f in this.uniforms){var c=this.uniforms[f];c.setter&&c.setter.call(a,c.location.webGLUniformLocation,c.value1,c.value2,c.value3,c.value4)}},hasUniform:function(a){return this.uniforms.hasOwnProperty(a)},resetUniform:function(a){var f=this.uniforms[a];return f&&(f.value1=null,f.value2=null,f.value3=null,f.value4=null),this},setUniform1:function(a,f,c,u){var v=this.uniforms[f];return v?((u||v.value1!==c)&&(v.setter||(v.setter=a),v.value1=c,this.renderer.setProgram(this.program),a.call(this.gl,v.location.webGLUniformLocation,c),this.pipeline.currentShader=this),this):this},setUniform2:function(a,f,c,u,v){var p=this.uniforms[f];return p?((v||p.value1!==c||p.value2!==u)&&(p.setter||(p.setter=a),p.value1=c,p.value2=u,this.renderer.setProgram(this.program),a.call(this.gl,p.location.webGLUniformLocation,c,u),this.pipeline.currentShader=this),this):this},setUniform3:function(a,f,c,u,v,p){var m=this.uniforms[f];return m?((p||m.value1!==c||m.value2!==u||m.value3!==v)&&(m.setter||(m.setter=a),m.value1=c,m.value2=u,m.value3=v,this.renderer.setProgram(this.program),a.call(this.gl,m.location.webGLUniformLocation,c,u,v),this.pipeline.currentShader=this),this):this},setUniform4:function(a,f,c,u,v,p,m){var x=this.uniforms[f];return x?((m||x.value1!==c||x.value2!==u||x.value3!==v||x.value4!==p)&&(x.setter||(x.setter=a),x.value1=c,x.value2=u,x.value3=v,x.value4=p,this.renderer.setProgram(this.program),a.call(this.gl,x.location.webGLUniformLocation,c,u,v,p),this.pipeline.currentShader=this),this):this},setBoolean:function(a,f){return this.setUniform1(this.gl.uniform1i,a,Number(f))},set1f:function(a,f){return this.setUniform1(this.gl.uniform1f,a,f)},set2f:function(a,f,c){return this.setUniform2(this.gl.uniform2f,a,f,c)},set3f:function(a,f,c,u){return this.setUniform3(this.gl.uniform3f,a,f,c,u)},set4f:function(a,f,c,u,v){return this.setUniform4(this.gl.uniform4f,a,f,c,u,v)},set1fv:function(a,f){return this.setUniform1(this.gl.uniform1fv,a,f,!0)},set2fv:function(a,f){return this.setUniform1(this.gl.uniform2fv,a,f,!0)},set3fv:function(a,f){return this.setUniform1(this.gl.uniform3fv,a,f,!0)},set4fv:function(a,f){return this.setUniform1(this.gl.uniform4fv,a,f,!0)},set1iv:function(a,f){return this.setUniform1(this.gl.uniform1iv,a,f,!0)},set2iv:function(a,f){return this.setUniform1(this.gl.uniform2iv,a,f,!0)},set3iv:function(a,f){return this.setUniform1(this.gl.uniform3iv,a,f,!0)},set4iv:function(a,f){return this.setUniform1(this.gl.uniform4iv,a,f,!0)},set1i:function(a,f){return this.setUniform1(this.gl.uniform1i,a,f)},set2i:function(a,f,c){return this.setUniform2(this.gl.uniform2i,a,f,c)},set3i:function(a,f,c,u){return this.setUniform3(this.gl.uniform3i,a,f,c,u)},set4i:function(a,f,c,u,v){return this.setUniform4(this.gl.uniform4i,a,f,c,u,v)},setMatrix2fv:function(a,f,c){return this.setUniform2(this.gl.uniformMatrix2fv,a,f,c,!0)},setMatrix3fv:function(a,f,c){return this.setUniform2(this.gl.uniformMatrix3fv,a,f,c,!0)},setMatrix4fv:function(a,f,c){return this.setUniform2(this.gl.uniformMatrix4fv,a,f,c,!0)},createProgram:function(a,f){return a===void 0&&(a=this.vertSrc),f===void 0&&(f=this.fragSrc),this.program&&this.renderer.deleteProgram(this.program),this.vertSrc=a,this.fragSrc=f,this.program=this.renderer.createProgram(a,f),this.createUniforms(),this.rebind()},destroy:function(){var a=this.renderer;y(this.uniforms,function(f){a.deleteUniformLocation(f.location)}),this.uniforms=null,y(this.attributes,function(f){a.deleteAttribLocation(f.location)}),this.attributes=null,a.deleteProgram(this.program),this.pipeline=null,this.renderer=null,this.gl=null,this.program=null}});n.exports=l}),14500:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={BYTE:{enum:5120,size:1},UNSIGNED_BYTE:{enum:5121,size:1},SHORT:{enum:5122,size:2},UNSIGNED_SHORT:{enum:5123,size:2},INT:{enum:5124,size:4},UNSIGNED_INT:{enum:5125,size:4},FLOAT:{enum:5126,size:4}};n.exports=T}),4159:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(14500),y=r(79291),d={PipelineManager:r(7530),Pipelines:r(96615),RenderTarget:r(32302),Utils:r(70554),WebGLPipeline:r(29100),WebGLRenderer:r(74797),WebGLShader:r(38683),Wrappers:r(9503)};d=y(!1,d,o),n.exports=d}),31302:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(95540),d=r(78908),h=r(85191),l=r(14500),a=r(29100),f=new o({Extends:a,initialize:function(u){u.fragShader=y(u,"fragShader",d),u.vertShader=y(u,"vertShader",h),u.batchSize=y(u,"batchSize",1),u.vertices=y(u,"vertices",[-1,1,-1,-7,7,1]),u.attributes=y(u,"attributes",[{name:"inPosition",size:2,type:l.FLOAT}]),a.call(this,u)},boot:function(){a.prototype.boot.call(this),this.set1i("uMainSampler",0),this.set1i("uMaskSampler",1)},resize:function(c,u){a.prototype.resize.call(this,c,u),this.set2f("uResolution",c,u)},beginMask:function(c,u,v){this.renderer.beginBitmapMask(c,v)},endMask:function(c,u,v){var p=this.gl,m=this.renderer,x=c.bitmapMask;x&&p&&(m.drawBitmapMask(x,u,this),v&&this.set2f("uResolution",v.width,v.height),this.set1i("uInvertMaskAlpha",c.invertAlpha),p.drawArrays(this.topology,0,3),v&&this.set2f("uResolution",this.width,this.height),p.bindTexture(p.TEXTURE_2D,null))}});n.exports=f}),92651:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(58918),d=r(14811),h=r(95540),l=r(43558),a=r(89350),f=r(70554),c=new o({Extends:l,initialize:function(v){v.shaders=[f.setGlowQuality(a.FXGlowFrag,v.game),a.FXShadowFrag,a.FXPixelateFrag,a.FXVignetteFrag,a.FXShineFrag,a.FXBlurLowFrag,a.FXBlurMedFrag,a.FXBlurHighFrag,a.FXGradientFrag,a.FXBloomFrag,a.ColorMatrixFrag,a.FXCircleFrag,a.FXBarrelFrag,a.FXDisplacementFrag,a.FXWipeFrag,a.FXBokehFrag],l.call(this,v);var p=this.game;this.glow=new y.Glow(p),this.shadow=new y.Shadow(p),this.pixelate=new y.Pixelate(p),this.vignette=new y.Vignette(p),this.shine=new y.Shine(p),this.gradient=new y.Gradient(p),this.circle=new y.Circle(p),this.barrel=new y.Barrel(p),this.wipe=new y.Wipe(p),this.bokeh=new y.Bokeh(p);var m=[];m[d.GLOW]=this.onGlow,m[d.SHADOW]=this.onShadow,m[d.PIXELATE]=this.onPixelate,m[d.VIGNETTE]=this.onVignette,m[d.SHINE]=this.onShine,m[d.BLUR]=this.onBlur,m[d.GRADIENT]=this.onGradient,m[d.BLOOM]=this.onBloom,m[d.COLOR_MATRIX]=this.onColorMatrix,m[d.CIRCLE]=this.onCircle,m[d.BARREL]=this.onBarrel,m[d.DISPLACEMENT]=this.onDisplacement,m[d.WIPE]=this.onWipe,m[d.BOKEH]=this.onBokeh,this.fxHandlers=m,this.source,this.target,this.swap},onDraw:function(u,v,p){this.source=u,this.target=v,this.swap=p;var m=u.width,x=u.height,C=this.tempSprite,P=this.fxHandlers;if(C&&C.preFX)for(var w=C.preFX.list,M=0;M<w.length;M++){var R=w[M];R.active&&P[R.type].call(this,R,m,x)}this.drawToGame(this.source)},runDraw:function(){var u=this.source,v=this.target;this.copy(u,v),this.source=v,this.target=u},onGlow:function(u,v,p){var m=this.shaders[d.GLOW];this.setShader(m),this.glow.onPreRender(u,m,v,p),this.runDraw()},onShadow:function(u){var v=this.shaders[d.SHADOW];this.setShader(v),this.shadow.onPreRender(u,v),this.runDraw()},onPixelate:function(u,v,p){var m=this.shaders[d.PIXELATE];this.setShader(m),this.pixelate.onPreRender(u,m,v,p),this.runDraw()},onVignette:function(u){var v=this.shaders[d.VIGNETTE];this.setShader(v),this.vignette.onPreRender(u,v),this.runDraw()},onShine:function(u,v,p){var m=this.shaders[d.SHINE];this.setShader(m),this.shine.onPreRender(u,m,v,p),this.runDraw()},onBlur:function(u,v,p){var m=h(u,"quality"),x=this.shaders[d.BLUR+m];this.setShader(x),this.set1i("uMainSampler",0),this.set2f("resolution",v,p),this.set1f("strength",h(u,"strength")),this.set3fv("color",h(u,"glcolor"));for(var C=h(u,"x"),P=h(u,"y"),w=h(u,"steps"),M=0;M<w;M++)this.set2f("offset",C,0),this.runDraw(),this.set2f("offset",0,P),this.runDraw()},onGradient:function(u){var v=this.shaders[d.GRADIENT];this.setShader(v),this.gradient.onPreRender(u,v),this.runDraw()},onBloom:function(u,v,p){var m=this.shaders[d.BLOOM];this.copySprite(this.source,this.swap),this.setShader(m),this.set1i("uMainSampler",0),this.set1f("strength",h(u,"blurStrength")),this.set3fv("color",h(u,"glcolor"));for(var x=2/v*h(u,"offsetX"),C=2/p*h(u,"offsetY"),P=h(u,"steps"),w=0;w<P;w++)this.set2f("offset",x,0),this.runDraw(),this.set2f("offset",0,C),this.runDraw();this.blendFrames(this.swap,this.source,this.target,h(u,"strength")),this.copySprite(this.target,this.source)},onColorMatrix:function(u){this.setShader(this.colorMatrixShader),this.set1fv("uColorMatrix",u.getData()),this.set1f("uAlpha",u.alpha),this.runDraw()},onCircle:function(u,v,p){var m=this.shaders[d.CIRCLE];this.setShader(m),this.circle.onPreRender(u,m,v,p),this.runDraw()},onBarrel:function(u){var v=this.shaders[d.BARREL];this.setShader(v),this.barrel.onPreRender(u,v),this.runDraw()},onDisplacement:function(u){this.setShader(this.shaders[d.DISPLACEMENT]),this.set1i("uDisplacementSampler",1),this.set2f("amount",u.x,u.y),this.bindTexture(u.glTexture,1),this.runDraw()},onWipe:function(u){var v=this.shaders[d.WIPE];this.setShader(v),this.wipe.onPreRender(u,v),this.runDraw()},onBokeh:function(u,v,p){var m=this.shaders[d.BOKEH];this.setShader(m),this.bokeh.onPreRender(u,m,v,p),this.runDraw()},destroy:function(){return this.glow.destroy(),this.shadow.destroy(),this.pixelate.destroy(),this.vignette.destroy(),this.shine.destroy(),this.gradient.destroy(),this.circle.destroy(),this.barrel.destroy(),this.wipe.destroy(),this.bokeh.destroy(),this.fxHandlers=null,this.source=null,this.target=null,this.swap=null,l.prototype.destroy.call(this),this}});n.exports=c}),96569:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(95540),d=r(31063),h=r(57516),l=r(61340),a=r(26099),f=r(29100),c=new o({Extends:h,initialize:function(v){var p=y(v,"fragShader",d);v.fragShader=p.replace("%LIGHT_COUNT%",v.game.renderer.config.maxLights),h.call(this,v),this.inverseRotationMatrix=new Float32Array([1,0,0,0,1,0,0,0,1]),this.currentNormalMap,this.lightsActive=!0,this.tempVec2=new a,this._tempMatrix=new l,this._tempMatrix2=new l},boot:function(){f.prototype.boot.call(this)},onRender:function(u,v){var p=u.sys.lights;if(this.lightsActive=!1,!(!p||!p.active)){var m=p.getLights(v),x=m.length;this.lightsActive=!0;var C,P=this.renderer,w=P.height,M=v.matrix,R=this.tempVec2;for(this.set1i("uMainSampler",0),this.set1i("uNormSampler",1),this.set2f("uResolution",this.width/2,this.height/2),this.set4f("uCamera",v.x,v.y,v.rotation,v.zoom),this.set3f("uAmbientLightColor",p.ambientColor.r,p.ambientColor.g,p.ambientColor.b),this.set1i("uLightCount",x),C=0;C<x;C++){var A=m[C].light,L=A.color,F="uLights["+C+"].";M.transformPoint(A.x,A.y,R),this.set2f(F+"position",R.x-v.scrollX*A.scrollFactorX*v.zoom,w-(R.y-v.scrollY*A.scrollFactorY*v.zoom)),this.set3f(F+"color",L.r,L.g,L.b),this.set1f(F+"intensity",A.intensity),this.set1f(F+"radius",A.radius)}this.currentNormalMapRotation=null}},setNormalMapRotation:function(u){if(u!==this.currentNormalMapRotation||this.vertexCount===0){this.vertexCount>0&&this.flush();var v=this.inverseRotationMatrix;if(u){var p=-u,m=Math.cos(p),x=Math.sin(p);v[1]=x,v[3]=-x,v[0]=v[4]=m}else v[0]=v[4]=1,v[1]=v[3]=0;this.setMatrix3fv("uInverseRotationMatrix",!1,v),this.currentNormalMapRotation=u}},setTexture2D:function(u,v){var p=this.renderer;u===void 0&&(u=p.whiteTexture);var m=this.getNormalMap(v);this.isNewNormalMap(u,m)&&(this.flush(),this.createBatch(u),this.addTextureToBatch(m),this.currentNormalMap=m);var x=0;if(v&&v.parentContainer){var C=v.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);x=C.rotationNormalized}else v&&(x=v.rotation);return this.currentBatch===null&&(this.createBatch(u),this.addTextureToBatch(m)),this.setNormalMapRotation(x),0},setGameObject:function(u,v){v===void 0&&(v=u.frame);var p=v.glTexture,m=this.getNormalMap(u);if(this.isNewNormalMap(p,m)&&(this.flush(),this.createBatch(p),this.addTextureToBatch(m),this.currentNormalMap=m),u.parentContainer){var x=u.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);this.setNormalMapRotation(x.rotationNormalized)}else this.setNormalMapRotation(u.rotation);return this.currentBatch===null&&(this.createBatch(p),this.addTextureToBatch(m)),0},isNewNormalMap:function(u,v){return this.currentTexture!==u||this.currentNormalMap!==v},getNormalMap:function(u){var v;if(u)u.displayTexture?v=u.displayTexture.dataSource[u.displayFrame.sourceIndex]:u.texture?v=u.texture.dataSource[u.frame.sourceIndex]:u.tileset&&(Array.isArray(u.tileset)?v=u.tileset[0].image.dataSource[0]:v=u.tileset.image.dataSource[0]);else return this.renderer.normalTexture;return v?v.glTexture:this.renderer.normalTexture},batchSprite:function(u,v,p){this.lightsActive&&h.prototype.batchSprite.call(this,u,v,p)},batchTexture:function(u,v,p,m,x,C,P,w,M,R,A,L,F,G,I,B,k,U,H,X,j,Z,Y,$,z,V,K,Q,_,tt,rt,ot){this.lightsActive&&h.prototype.batchTexture.call(this,u,v,p,m,x,C,P,w,M,R,A,L,F,G,I,B,k,U,H,X,j,Z,Y,$,z,V,K,Q,_,tt,rt,ot)},batchTextureFrame:function(u,v,p,m,x,C,P){this.lightsActive&&h.prototype.batchTextureFrame.call(this,u,v,p,m,x,C,P)}});n.exports=c}),56527:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(95540),d=r(57516),h=r(45561),l=r(60722),a=r(14500),f=r(29100),c=new o({Extends:d,initialize:function(v){v.fragShader=y(v,"fragShader",h),v.vertShader=y(v,"vertShader",l),v.attributes=y(v,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:a.UNSIGNED_BYTE,normalized:!0}]),v.forceZero=!0,v.resizeUniform="uResolution",d.call(this,v)},boot:function(){f.prototype.boot.call(this);var u=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",u.width,u.height)}});n.exports=c}),57516:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(94811),d=r(95540),h=r(98840),l=r(44667),a=r(61340),f=r(70554),c=r(14500),u=r(29100),v=new o({Extends:u,initialize:function(m){var x=m.game.renderer,C=d(m,"fragShader",h);m.fragShader=f.parseFragmentShaderMaxTextures(C,x.maxTextures),m.vertShader=d(m,"vertShader",l),m.attributes=d(m,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:c.UNSIGNED_BYTE,normalized:!0}]),m.resizeUniform="uResolution",u.call(this,m),this._tempMatrix1=new a,this._tempMatrix2=new a,this._tempMatrix3=new a,this.calcMatrix=new a,this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0,0],this.prevQuad=[0,0,0,0,0],this.polygonCache=[]},boot:function(){u.prototype.boot.call(this);var p=this.renderer;this.set1iv("uMainSampler",p.textureIndexes),this.set2f("uResolution",p.width,p.height)},batchSprite:function(p,m,x){this.manager.set(this,p);var C=this._tempMatrix1,P=this._tempMatrix2,w=this._tempMatrix3,M=p.frame,R=M.glTexture,A=M.u0,L=M.v0,F=M.u1,G=M.v1,I=M.x,B=M.y,k=M.cutWidth,U=M.cutHeight,H=M.customPivot,X=p.displayOriginX,j=p.displayOriginY,Z=-X+I,Y=-j+B;if(p.isCropped){var $=p._crop;($.flipX!==p.flipX||$.flipY!==p.flipY)&&M.updateCropUVs($,p.flipX,p.flipY),A=$.u0,L=$.v0,F=$.u1,G=$.v1,k=$.width,U=$.height,I=$.x,B=$.y,Z=-X+I,Y=-j+B}var z=1,V=1;p.flipX&&(H||(Z+=-M.realWidth+X*2),z=-1),p.flipY&&(H||(Y+=-M.realHeight+j*2),V=-1);var K=p.x,Q=p.y;m.roundPixels&&(K=Math.floor(K),Q=Math.floor(Q)),P.applyITRS(K,Q,p.rotation,p.scaleX*z,p.scaleY*V),C.copyFrom(m.matrix),x?(C.multiplyWithOffset(x,-m.scrollX*p.scrollFactorX,-m.scrollY*p.scrollFactorY),P.e=K,P.f=Q):(P.e-=m.scrollX*p.scrollFactorX,P.f-=m.scrollY*p.scrollFactorY),C.multiply(P,w);var _=w.setQuad(Z,Y,Z+k,Y+U,m.renderRoundPixels),tt=f.getTintAppendFloatAlpha,rt=m.alpha,ot=tt(p.tintTopLeft,rt*p._alphaTL),ft=tt(p.tintTopRight,rt*p._alphaTR),ct=tt(p.tintBottomLeft,rt*p._alphaBL),gt=tt(p.tintBottomRight,rt*p._alphaBR);this.shouldFlush(6)&&this.flush();var xt=this.setGameObject(p,M);this.manager.preBatch(p),this.batchQuad(p,_[0],_[1],_[2],_[3],_[4],_[5],_[6],_[7],A,L,F,G,ot,ft,ct,gt,p.tintFill,R,xt),this.manager.postBatch(p)},batchTexture:function(p,m,x,C,P,w,M,R,A,L,F,G,I,B,k,U,H,X,j,Z,Y,$,z,V,K,Q,_,tt,rt,ot,ft,ct,gt){gt===void 0&&(gt=!1),this.manager.set(this,p);var xt=this._tempMatrix1,Mt=this._tempMatrix2,St=this._tempMatrix3,$t=X/x+_,Yt=j/C+tt,Ht=(X+Z)/x+_,Ct=(j+Y)/C+tt,Nt=M,Vt=R,qt=-U,Ce=-H;if(p.isCropped){var ze=p._crop,ye=ze.width,Be=ze.height;Nt=ye,Vt=Be,M=ye,R=Be,X=ze.x,j=ze.y;var Gt=X,Xt=j;G&&(Gt=Z-ze.x-ye),I&&(Xt=Y-ze.y-Be),$t=Gt/x+_,Yt=Xt/C+tt,Ht=(Gt+ye)/x+_,Ct=(Xt+Be)/C+tt,qt=-U+X,Ce=-H+j}I=I^(!ft&&m.isRenderTexture?1:0),G&&(Nt*=-1,qt+=M),I&&(Vt*=-1,Ce+=R),rt.roundPixels&&(P=Math.floor(P),w=Math.floor(w)),Mt.applyITRS(P,w,F,A,L),xt.copyFrom(rt.matrix),ot?(xt.multiplyWithOffset(ot,-rt.scrollX*B,-rt.scrollY*k),Mt.e=P,Mt.f=w):(Mt.e-=rt.scrollX*B,Mt.f-=rt.scrollY*k),xt.multiply(Mt,St);var ee=St.setQuad(qt,Ce,qt+Nt,Ce+Vt,rt.renderRoundPixels);ct==null&&(ct=this.setTexture2D(m)),p&&!gt&&this.manager.preBatch(p),this.batchQuad(p,ee[0],ee[1],ee[2],ee[3],ee[4],ee[5],ee[6],ee[7],$t,Yt,Ht,Ct,$,z,V,K,Q,m,ct),p&&!gt&&this.manager.postBatch(p)},batchTextureFrame:function(p,m,x,C,P,w,M){this.manager.set(this);var R=this._tempMatrix1.copyFrom(w),A=this._tempMatrix2;M?R.multiply(M,A):A=R;var L=A.setQuad(m,x,m+p.width,x+p.height),F=this.setTexture2D(p.source.glTexture);C=f.getTintAppendFloatAlpha(C,P),this.batchQuad(null,L[0],L[1],L[2],L[3],L[4],L[5],L[6],L[7],p.u0,p.v0,p.u1,p.v1,C,C,C,C,0,p.glTexture,F)},batchFillRect:function(p,m,x,C,P,w){this.renderer.pipelines.set(this);var M=this.calcMatrix;w&&w.multiply(P,M);var R=M.setQuad(p,m,p+x,m+C),A=this.fillTint;this.batchQuad(null,R[0],R[1],R[2],R[3],R[4],R[5],R[6],R[7],0,0,1,1,A.TL,A.TR,A.BL,A.BR,2)},batchFillTriangle:function(p,m,x,C,P,w,M,R){this.renderer.pipelines.set(this);var A=this.calcMatrix;R&&R.multiply(M,A);var L=A.getX(p,m),F=A.getY(p,m),G=A.getX(x,C),I=A.getY(x,C),B=A.getX(P,w),k=A.getY(P,w),U=this.fillTint;this.batchTri(null,L,F,G,I,B,k,0,0,1,1,U.TL,U.TR,U.BL,2)},batchStrokeTriangle:function(p,m,x,C,P,w,M,R,A){var L=this.tempTriangle;L[0].x=p,L[0].y=m,L[0].width=M,L[1].x=x,L[1].y=C,L[1].width=M,L[2].x=P,L[2].y=w,L[2].width=M,L[3].x=p,L[3].y=m,L[3].width=M,this.batchStrokePath(L,M,!1,R,A)},batchFillPath:function(p,m,x){this.renderer.pipelines.set(this);var C=this.calcMatrix;x&&x.multiply(m,C);for(var P=p.length,w=this.polygonCache,M,R,A=this.fillTint.TL,L=this.fillTint.TR,F=this.fillTint.BL,G=0;G<P;++G)R=p[G],w.push(R.x,R.y);M=y(w),P=M.length;for(var I=0;I<P;I+=3){var B=M[I+0]*2,k=M[I+1]*2,U=M[I+2]*2,H=w[B+0],X=w[B+1],j=w[k+0],Z=w[k+1],Y=w[U+0],$=w[U+1],z=C.getX(H,X),V=C.getY(H,X),K=C.getX(j,Z),Q=C.getY(j,Z),_=C.getX(Y,$),tt=C.getY(Y,$);this.batchTri(null,z,V,K,Q,_,tt,0,0,1,1,A,L,F,2)}w.length=0},batchStrokePath:function(p,m,x,C,P){this.renderer.pipelines.set(this),this.prevQuad[4]=0,this.firstQuad[4]=0;for(var w=p.length-1,M=0;M<w;M++){var R=p[M],A=p[M+1];this.batchLine(R.x,R.y,A.x,A.y,R.width/2,A.width/2,m,M,!x&&M===w-1,C,P)}},batchLine:function(p,m,x,C,P,w,M,R,A,L,F){this.renderer.pipelines.set(this);var G=this.calcMatrix;F&&F.multiply(L,G);var I=x-p,B=C-m,k=Math.sqrt(I*I+B*B);if(k!==0){var U=P*(C-m)/k,H=P*(p-x)/k,X=w*(C-m)/k,j=w*(p-x)/k,Z=x-X,Y=C-j,$=p-U,z=m-H,V=x+X,K=C+j,Q=p+U,_=m+H,tt=G.getX(Z,Y),rt=G.getY(Z,Y),ot=G.getX($,z),ft=G.getY($,z),ct=G.getX(V,K),gt=G.getY(V,K),xt=G.getX(Q,_),Mt=G.getY(Q,_),St=this.strokeTint,$t=St.TL,Yt=St.TR,Ht=St.BL,Ct=St.BR;if(this.batchQuad(null,xt,Mt,ot,ft,tt,rt,ct,gt,0,0,1,1,$t,Yt,Ht,Ct,2),!(M<=2)){var Nt=this.prevQuad,Vt=this.firstQuad;R>0&&Nt[4]?this.batchQuad(null,xt,Mt,ot,ft,Nt[0],Nt[1],Nt[2],Nt[3],0,0,1,1,$t,Yt,Ht,Ct,2):(Vt[0]=xt,Vt[1]=Mt,Vt[2]=ot,Vt[3]=ft,Vt[4]=1),A&&Vt[4]?this.batchQuad(null,tt,rt,ct,gt,Vt[0],Vt[1],Vt[2],Vt[3],0,0,1,1,$t,Yt,Ht,Ct,2):(Nt[0]=tt,Nt[1]=rt,Nt[2]=ct,Nt[3]=gt,Nt[4]=1)}}},destroy:function(){return this._tempMatrix1.destroy(),this._tempMatrix2.destroy(),this._tempMatrix3.destroy(),this._tempMatrix1=null,this._tempMatrix1=null,this._tempMatrix1=null,u.prototype.destroy.call(this),this}});n.exports=v}),43439:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(95540),d=r(4127),h=r(89924),l=r(29100),a=new o({Extends:l,initialize:function(c){c.vertShader=y(c,"vertShader",h),c.fragShader=y(c,"fragShader",d),c.attributes=y(c,"attributes",[{name:"inPosition",size:2},{name:"inLightPosition",size:2},{name:"inLightRadius"},{name:"inLightAttenuation"},{name:"inLightColor",size:4}]),l.call(this,c)},onRender:function(f,c){this.set2f("uResolution",this.width,this.height),this.set1f("uCameraZoom",c.zoom)},batchPointLight:function(f,c,u,v,p,m,x,C,P,w,M,R){var A=f.color,L=f.intensity,F=f.radius,G=f.attenuation,I=A.r*L,B=A.g*L,k=A.b*L,U=c.alpha*f.alpha;this.shouldFlush(6)&&this.flush(),this.currentBatch||this.setTexture2D(),this.batchLightVert(u,v,M,R,F,G,I,B,k,U),this.batchLightVert(p,m,M,R,F,G,I,B,k,U),this.batchLightVert(x,C,M,R,F,G,I,B,k,U),this.batchLightVert(u,v,M,R,F,G,I,B,k,U),this.batchLightVert(x,C,M,R,F,G,I,B,k,U),this.batchLightVert(P,w,M,R,F,G,I,B,k,U),this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchLightVert:function(f,c,u,v,p,m,x,C,P,w){var M=this.vertexViewF32,R=this.vertexCount*this.currentShader.vertexComponentCount-1;M[++R]=f,M[++R]=c,M[++R]=u,M[++R]=v,M[++R]=p,M[++R]=m,M[++R]=x,M[++R]=C,M[++R]=P,M[++R]=w,this.vertexCount++}});n.exports=a}),84057:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(89422),d=r(95540),h=r(27681),l=r(49627),a=r(29100),f=new o({Extends:a,initialize:function(u){u.renderTarget=d(u,"renderTarget",1),u.fragShader=d(u,"fragShader",h),u.vertShader=d(u,"vertShader",l),u.attributes=d(u,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),u.batchSize=1,u.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],a.call(this,u),this.isPostFX=!0,this.gameObject,this.controller,this.colorMatrix=new y,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderer.isBooted&&(this.manager=this.renderer.pipelines)},bootFX:function(){a.prototype.boot.call(this);var c=this.manager.UTILITY_PIPELINE;this.fullFrame1=c.fullFrame1,this.fullFrame2=c.fullFrame2,this.halfFrame1=c.halfFrame1,this.halfFrame2=c.halfFrame2;var u=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",u.width,u.height);for(var v=this.renderTargets,p=0;p<v.length;p++)v[p].autoResize=!0},postBatch:function(c){return this.hasBooted||(this.bootFX(),this.currentRenderTarget&&this.currentRenderTarget.bind()),this.onDraw(this.currentRenderTarget),this.onPostBatch(c),this},onDraw:function(c){this.bindAndDraw(c)},getController:function(c){return c!==void 0?c:this.controller?this.controller:this},copySprite:function(c,u,v){v===void 0&&(v=!1);var p=this.gl;p.activeTexture(p.TEXTURE0),p.bindTexture(p.TEXTURE_2D,c.texture.webGLTexture);var m=p.getParameter(p.FRAMEBUFFER_BINDING);p.bindFramebuffer(p.FRAMEBUFFER,u.framebuffer.webGLFramebuffer),p.framebufferTexture2D(p.FRAMEBUFFER,p.COLOR_ATTACHMENT0,p.TEXTURE_2D,u.texture.webGLTexture,0),p.clearColor(0,0,0,0),p.clear(p.COLOR_BUFFER_BIT),p.bufferData(p.ARRAY_BUFFER,this.vertexData,p.STATIC_DRAW),p.drawArrays(p.TRIANGLES,0,6),v&&(p.bindTexture(p.TEXTURE_2D,null),p.bindFramebuffer(p.FRAMEBUFFER,m))},copyFrame:function(c,u,v,p,m){this.manager.copyFrame(c,u,v,p,m)},copyToGame:function(c){this.manager.copyToGame(c)},drawFrame:function(c,u,v){this.manager.drawFrame(c,u,v,this.colorMatrix)},blendFrames:function(c,u,v,p,m){this.manager.blendFrames(c,u,v,p,m)},blendFramesAdditive:function(c,u,v,p,m){this.manager.blendFramesAdditive(c,u,v,p,m)},clearFrame:function(c,u){this.manager.clearFrame(c,u)},blitFrame:function(c,u,v,p,m,x){this.manager.blitFrame(c,u,v,p,m,x)},copyFrameRect:function(c,u,v,p,m,x,C,P){this.manager.copyFrameRect(c,u,v,p,m,x,C,P)},bindAndDraw:function(c,u,v,p,m){v===void 0&&(v=!0),p===void 0&&(p=!0);var x=this.gl,C=this.renderer;this.bind(m),this.set1i("uMainSampler",0),u?(x.viewport(0,0,u.width,u.height),x.bindFramebuffer(x.FRAMEBUFFER,u.framebuffer.webGLFramebuffer),x.framebufferTexture2D(x.FRAMEBUFFER,x.COLOR_ATTACHMENT0,x.TEXTURE_2D,u.texture.webGLTexture,0),v&&(p?x.clearColor(0,0,0,0):x.clearColor(0,0,0,1),x.clear(x.COLOR_BUFFER_BIT))):(C.popFramebuffer(!1,!1),C.currentFramebuffer||x.viewport(0,0,C.width,C.height)),C.restoreStencilMask(),x.activeTexture(x.TEXTURE0),x.bindTexture(x.TEXTURE_2D,c.texture.webGLTexture),x.bufferData(x.ARRAY_BUFFER,this.vertexData,x.STATIC_DRAW),x.drawArrays(x.TRIANGLES,0,6),u&&(x.bindTexture(x.TEXTURE_2D,null),x.bindFramebuffer(x.FRAMEBUFFER,C.currentFramebuffer.webGLFramebuffer))},destroy:function(){return this.controller&&this.controller.destroy(),this.gameObject=null,this.controller=null,this.colorMatrix=null,this.fullFrame1=null,this.fullFrame2=null,this.halfFrame1=null,this.halfFrame2=null,this.manager.removePostPipeline(this),a.prototype.destroy.call(this),this}});n.exports=f}),43558:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(10312),y=r(67502),d=r(83419),h=r(96293),l=r(95540),a=r(57516),f=r(27681),c=r(87841),u=r(32302),v=r(45561),p=r(60722),m=r(29100),x=new d({Extends:a,initialize:function(P){var w=l(P,"fragShader",f),M=l(P,"vertShader",p),R=l(P,"drawShader",f),A=[{name:"DrawSprite",fragShader:v,vertShader:p},{name:"CopySprite",fragShader:w,vertShader:M},{name:"DrawGame",fragShader:R,vertShader:p},{name:"ColorMatrix",fragShader:h}],L=l(P,"shaders",[]);P.shaders=A.concat(L),P.vertShader||(P.vertShader=M),P.batchSize=1,a.call(this,P),this.isPreFX=!0,this.customMainSampler=null,this.drawSpriteShader,this.copyShader,this.gameShader,this.colorMatrixShader,this.quadVertexData,this.quadVertexBuffer,this.quadVertexViewF32,this.spriteBounds=new c,this.targetBounds=new c,this.fsTarget,this.tempSprite,this.renderer.isBooted&&(this.manager=this.renderer.pipelines,this.boot())},boot:function(){m.prototype.boot.call(this);var C=this.shaders,P=this.renderer;this.drawSpriteShader=C[0],this.copyShader=C[1],this.gameShader=C[2],this.colorMatrixShader=C[3],this.fsTarget=new u(P,P.width,P.height,1,0,!0,!0),this.renderTargets=this.manager.renderTargets.concat(this.fsTarget);var w=new ArrayBuffer(168);this.quadVertexData=w,this.quadVertexViewF32=new Float32Array(w),this.quadVertexBuffer=P.createVertexBuffer(w,this.gl.STATIC_DRAW),this.onResize(P.width,P.height),this.currentShader=this.copyShader,this.set2f("uResolution",P.width,P.height)},onResize:function(C,P){var w=this.quadVertexViewF32;w[1]=P,w[22]=P,w[14]=C,w[28]=C,w[35]=C,w[36]=P},batchQuad:function(C,P,w,M,R,A,L,F,G,I,B,k,U,H,X,j,Z,Y,$){var z=Math.min(P,M,A,F),V=Math.min(w,R,L,G),K=Math.max(P,M,A,F),Q=Math.max(w,R,L,G),_=K-z,tt=Q-V,rt=this.spriteBounds.setTo(z,V,_,tt),ot=C?C.preFX.padding:0,ft=_+ot*2,ct=tt+ot*2,gt=Math.abs(Math.max(ft,ct)),xt=this.manager.getRenderTarget(gt),Mt=this.targetBounds.setTo(0,0,xt.width,xt.height);y(Mt,Math.round(rt.centerX),Math.round(rt.centerY)),this.tempSprite=C;var St=this.gl,$t=this.renderer;$t.clearStencilMask(),this.setShader(this.drawSpriteShader),this.set1i("uMainSampler",0),this.set2f("uResolution",$t.width,$t.height),this.flipProjectionMatrix(!0),C&&(this.onDrawSprite(C,xt),C.preFX.onFX(this));var Yt=this.fsTarget;return this.flush(),St.viewport(0,0,$t.width,$t.height),St.bindFramebuffer(St.FRAMEBUFFER,Yt.framebuffer.webGLFramebuffer),St.framebufferTexture2D(St.FRAMEBUFFER,St.COLOR_ATTACHMENT0,St.TEXTURE_2D,Yt.texture.webGLTexture,0),St.clearColor(0,0,0,0),St.clear(St.COLOR_BUFFER_BIT),this.setTexture2D($),this.batchVert(P,w,I,B,0,Y,H),this.batchVert(M,R,I,U,0,Y,j),this.batchVert(A,L,k,U,0,Y,Z),this.batchVert(P,w,I,B,0,Y,H),this.batchVert(A,L,k,U,0,Y,Z),this.batchVert(F,G,k,B,0,Y,X),this.flush(),this.flipProjectionMatrix(!1),St.activeTexture(St.TEXTURE0),St.bindTexture(St.TEXTURE_2D,xt.texture.webGLTexture),St.copyTexSubImage2D(St.TEXTURE_2D,0,0,0,Mt.x,Mt.y,Mt.width,Mt.height),St.bindFramebuffer(St.FRAMEBUFFER,null),St.bindTexture(St.TEXTURE_2D,null),this.onBatch(C),this.currentShader=this.copyShader,this.onDraw(xt,this.manager.getSwapRenderTarget(),this.manager.getAltSwapRenderTarget()),!0},onDrawSprite:function(){},onCopySprite:function(){},copySprite:function(C,P,w,M,R,A,L){w===void 0&&(w=!0),M===void 0&&(M=!0),R===void 0&&(R=!1),L===void 0&&(L=this.copyShader);var F=this.gl,G=this.tempSprite;A&&(L=this.colorMatrixShader),this.currentShader=L;var I=this.setVertexBuffer(this.quadVertexBuffer);L.bind(I,!1);var B=this.renderer;if(this.set1i("uMainSampler",0),this.set2f("uResolution",B.width,B.height),G.preFX.onFXCopy(this),this.onCopySprite(C,P,G),A&&(this.set1fv("uColorMatrix",A.getData()),this.set1f("uAlpha",A.alpha)),F.activeTexture(F.TEXTURE0),F.bindTexture(F.TEXTURE_2D,C.texture.webGLTexture),C.height>P.height)F.viewport(0,0,C.width,C.height),this.setTargetUVs(C,P);else{var k=P.height-C.height;F.viewport(0,k,C.width,C.height),this.resetUVs()}if(F.bindFramebuffer(F.FRAMEBUFFER,P.framebuffer.webGLFramebuffer),F.framebufferTexture2D(F.FRAMEBUFFER,F.COLOR_ATTACHMENT0,F.TEXTURE_2D,P.texture.webGLTexture,0),w&&(F.clearColor(0,0,0,+!M),F.clear(F.COLOR_BUFFER_BIT)),R){var U=this.renderer.currentBlendMode;this.renderer.setBlendMode(o.ERASE)}F.bufferData(F.ARRAY_BUFFER,this.quadVertexData,F.STATIC_DRAW),F.drawArrays(F.TRIANGLES,0,6),R&&this.renderer.setBlendMode(U),F.bindFramebuffer(F.FRAMEBUFFER,null)},copy:function(C,P){var w=this.gl;this.set1i("uMainSampler",0),w.activeTexture(w.TEXTURE0),w.bindTexture(w.TEXTURE_2D,C.texture.webGLTexture),w.viewport(0,0,C.width,C.height),this.setUVs(0,0,0,1,1,1,1,0),w.bindFramebuffer(w.FRAMEBUFFER,P.framebuffer.webGLFramebuffer),w.framebufferTexture2D(w.FRAMEBUFFER,w.COLOR_ATTACHMENT0,w.TEXTURE_2D,P.texture.webGLTexture,0),w.clearColor(0,0,0,0),w.clear(w.COLOR_BUFFER_BIT),w.bufferData(w.ARRAY_BUFFER,this.quadVertexData,w.STATIC_DRAW),w.drawArrays(w.TRIANGLES,0,6),w.bindFramebuffer(w.FRAMEBUFFER,null)},blendFrames:function(C,P,w,M,R){this.manager.blendFrames(C,P,w,M,R)},blendFramesAdditive:function(C,P,w,M,R){this.manager.blendFramesAdditive(C,P,w,M,R)},drawToGame:function(C){this.currentShader=null,this.setShader(this.copyShader),this.bindAndDraw(C)},copyToGame:function(C){this.currentShader=null,this.setShader(this.gameShader),this.bindAndDraw(C)},bindAndDraw:function(C){var P=this.gl,w=this.renderer;this.set1i("uMainSampler",0),this.customMainSampler?this.setTexture2D(this.customMainSampler):this.setTexture2D(C.texture);var M=this._tempMatrix1.loadIdentity(),R=this.targetBounds.x,A=this.targetBounds.y,L=R+C.width,F=A+C.height,G=M.getX(R,A),I=M.getX(R,F),B=M.getX(L,F),k=M.getX(L,A),U=M.getY(R,A),H=M.getY(R,F),X=M.getY(L,F),j=M.getY(L,A),Z=16777215;this.batchVert(G,U,0,0,0,0,Z),this.batchVert(I,H,0,1,0,0,Z),this.batchVert(B,X,1,1,0,0,Z),this.batchVert(G,U,0,0,0,0,Z),this.batchVert(B,X,1,1,0,0,Z),this.batchVert(k,j,1,0,0,0,Z),w.restoreFramebuffer(!1,!0),w.currentFramebuffer||P.viewport(0,0,w.width,w.height),w.restoreStencilMask(),this.flush(),this.tempSprite=null},onDraw:function(C){this.drawToGame(C)},setUVs:function(C,P,w,M,R,A,L,F){var G=this.quadVertexViewF32;G[2]=C,G[3]=P,G[9]=w,G[10]=M,G[16]=R,G[17]=A,G[23]=C,G[24]=P,G[30]=R,G[31]=A,G[37]=L,G[38]=F},setTargetUVs:function(C,P){var w=P.height/C.height;w>.5?w=.5-(w-.5):w=.5+(.5-w),this.setUVs(0,w,0,1+w,1,1+w,1,w)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)},destroy:function(){return this.renderer.deleteBuffer(this.quadVertexBuffer),this.drawSpriteShader=null,this.copyShader=null,this.gameShader=null,this.colorMatrixShader=null,this.quadVertexData=null,this.quadVertexBuffer=null,this.quadVertexViewF32=null,this.fsTarget=null,this.tempSprite=null,a.prototype.destroy.call(this),this}});n.exports=x}),81041:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(95540),d=r(57516),h=new o({Extends:d,initialize:function(a){a.topology=5,a.batchSize=y(a,"batchSize",256),d.call(this,a)}});n.exports=h}),12385:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(95540),d=r(57516),h=r(45561),l=r(60722),a=r(29100),f=new o({Extends:d,initialize:function(u){u.fragShader=y(u,"fragShader",h),u.vertShader=y(u,"vertShader",l),u.forceZero=!0,d.call(this,u)},boot:function(){a.prototype.boot.call(this);var c=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",c.width,c.height)}});n.exports=f}),7589:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(35407),y=r(10312),d=r(83419),h=r(89422),l=r(96293),a=r(36682),f=r(95540),c=r(48247),u=r(49627),v=r(29100),p=new d({Extends:v,initialize:function(x){x.renderTarget=f(x,"renderTarget",[{scale:1,autoResize:!0},{scale:1,autoResize:!0},{scale:.5,autoResize:!0},{scale:.5,autoResize:!0}]),x.vertShader=f(x,"vertShader",u),x.shaders=f(x,"shaders",[{name:"Copy",fragShader:a},{name:"AddBlend",fragShader:o},{name:"LinearBlend",fragShader:c},{name:"ColorMatrix",fragShader:l}]),x.attributes=f(x,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),x.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],x.batchSize=1,v.call(this,x),this.colorMatrix=new h,this.copyShader,this.addShader,this.linearShader,this.colorMatrixShader,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2},boot:function(){v.prototype.boot.call(this);var m=this.shaders,x=this.renderTargets;this.copyShader=m[0],this.addShader=m[1],this.linearShader=m[2],this.colorMatrixShader=m[3],this.fullFrame1=x[0],this.fullFrame2=x[1],this.halfFrame1=x[2],this.halfFrame2=x[3]},copyFrame:function(m,x,C,P,w){C===void 0&&(C=1),P===void 0&&(P=!0),w===void 0&&(w=!0);var M=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",C),M.activeTexture(M.TEXTURE0),M.bindTexture(M.TEXTURE_2D,m.texture.webGLTexture),x?(M.viewport(0,0,x.width,x.height),M.bindFramebuffer(M.FRAMEBUFFER,x.framebuffer.webGLFramebuffer),M.framebufferTexture2D(M.FRAMEBUFFER,M.COLOR_ATTACHMENT0,M.TEXTURE_2D,x.texture.webGLTexture,0)):M.viewport(0,0,m.width,m.height),P&&(w?M.clearColor(0,0,0,0):M.clearColor(0,0,0,1),M.clear(M.COLOR_BUFFER_BIT)),M.bufferData(M.ARRAY_BUFFER,this.vertexData,M.STATIC_DRAW),M.drawArrays(M.TRIANGLES,0,6),M.bindFramebuffer(M.FRAMEBUFFER,null),M.bindTexture(M.TEXTURE_2D,null)},blitFrame:function(m,x,C,P,w,M,R){C===void 0&&(C=1),P===void 0&&(P=!0),w===void 0&&(w=!0),M===void 0&&(M=!1),R===void 0&&(R=!1);var A=this.gl;if(this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",C),A.activeTexture(A.TEXTURE0),A.bindTexture(A.TEXTURE_2D,m.texture.webGLTexture),m.height>x.height)A.viewport(0,0,m.width,m.height),this.setTargetUVs(m,x);else{var L=x.height-m.height;A.viewport(0,L,m.width,m.height)}if(A.bindFramebuffer(A.FRAMEBUFFER,x.framebuffer.webGLFramebuffer),A.framebufferTexture2D(A.FRAMEBUFFER,A.COLOR_ATTACHMENT0,A.TEXTURE_2D,x.texture.webGLTexture,0),P&&(w?A.clearColor(0,0,0,0):A.clearColor(0,0,0,1),A.clear(A.COLOR_BUFFER_BIT)),M){var F=this.renderer.currentBlendMode;this.renderer.setBlendMode(y.ERASE)}R&&this.flipY(),A.bufferData(A.ARRAY_BUFFER,this.vertexData,A.STATIC_DRAW),A.drawArrays(A.TRIANGLES,0,6),M&&this.renderer.setBlendMode(F),A.bindFramebuffer(A.FRAMEBUFFER,null),A.bindTexture(A.TEXTURE_2D,null),this.resetUVs()},copyFrameRect:function(m,x,C,P,w,M,R,A){R===void 0&&(R=!0),A===void 0&&(A=!0);var L=this.gl;L.bindFramebuffer(L.FRAMEBUFFER,m.framebuffer.webGLFramebuffer),L.framebufferTexture2D(L.FRAMEBUFFER,L.COLOR_ATTACHMENT0,L.TEXTURE_2D,m.texture.webGLTexture,0),R&&(A?L.clearColor(0,0,0,0):L.clearColor(0,0,0,1),L.clear(L.COLOR_BUFFER_BIT)),L.activeTexture(L.TEXTURE0),L.bindTexture(L.TEXTURE_2D,x.texture.webGLTexture),L.copyTexSubImage2D(L.TEXTURE_2D,0,0,0,C,P,w,M),L.bindFramebuffer(L.FRAMEBUFFER,null),L.bindTexture(L.TEXTURE_2D,null)},copyToGame:function(m){var x=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",1),this.renderer.popFramebuffer(),x.activeTexture(x.TEXTURE0),x.bindTexture(x.TEXTURE_2D,m.texture.webGLTexture),x.bufferData(x.ARRAY_BUFFER,this.vertexData,x.STATIC_DRAW),x.drawArrays(x.TRIANGLES,0,6)},drawFrame:function(m,x,C,P){C===void 0&&(C=!0),P===void 0&&(P=this.colorMatrix);var w=this.gl;this.setShader(this.colorMatrixShader),this.set1i("uMainSampler",0),this.set1fv("uColorMatrix",P.getData()),this.set1f("uAlpha",P.alpha),w.activeTexture(w.TEXTURE0),w.bindTexture(w.TEXTURE_2D,m.texture.webGLTexture),x?(w.viewport(0,0,x.width,x.height),w.bindFramebuffer(w.FRAMEBUFFER,x.framebuffer.webGLFramebuffer),w.framebufferTexture2D(w.FRAMEBUFFER,w.COLOR_ATTACHMENT0,w.TEXTURE_2D,x.texture.webGLTexture,0)):w.viewport(0,0,m.width,m.height),C?w.clearColor(0,0,0,0):w.clearColor(0,0,0,1),w.clear(w.COLOR_BUFFER_BIT),w.bufferData(w.ARRAY_BUFFER,this.vertexData,w.STATIC_DRAW),w.drawArrays(w.TRIANGLES,0,6),w.bindFramebuffer(w.FRAMEBUFFER,null),w.bindTexture(w.TEXTURE_2D,null)},blendFrames:function(m,x,C,P,w,M){P===void 0&&(P=1),w===void 0&&(w=!0),M===void 0&&(M=this.linearShader);var R=this.gl;this.setShader(M),this.set1i("uMainSampler1",0),this.set1i("uMainSampler2",1),this.set1f("uStrength",P),R.activeTexture(R.TEXTURE0),R.bindTexture(R.TEXTURE_2D,m.texture.webGLTexture),R.activeTexture(R.TEXTURE1),R.bindTexture(R.TEXTURE_2D,x.texture.webGLTexture),C?(R.bindFramebuffer(R.FRAMEBUFFER,C.framebuffer.webGLFramebuffer),R.framebufferTexture2D(R.FRAMEBUFFER,R.COLOR_ATTACHMENT0,R.TEXTURE_2D,C.texture.webGLTexture,0),R.viewport(0,0,C.width,C.height)):R.viewport(0,0,m.width,m.height),w?R.clearColor(0,0,0,0):R.clearColor(0,0,0,1),R.clear(R.COLOR_BUFFER_BIT),R.bufferData(R.ARRAY_BUFFER,this.vertexData,R.STATIC_DRAW),R.drawArrays(R.TRIANGLES,0,6),R.bindFramebuffer(R.FRAMEBUFFER,null),R.bindTexture(R.TEXTURE_2D,null)},blendFramesAdditive:function(m,x,C,P,w){this.blendFrames(m,x,C,P,w,this.addShader)},clearFrame:function(m,x){x===void 0&&(x=!0);var C=this.gl;C.viewport(0,0,m.width,m.height),C.bindFramebuffer(C.FRAMEBUFFER,m.framebuffer.webGLFramebuffer),x?C.clearColor(0,0,0,0):C.clearColor(0,0,0,1),C.clear(C.COLOR_BUFFER_BIT);var P=this.renderer.currentFramebuffer;C.bindFramebuffer(C.FRAMEBUFFER,P.webGLFramebuffer)},setUVs:function(m,x,C,P,w,M,R,A){var L=this.vertexViewF32;L[2]=m,L[3]=x,L[6]=C,L[7]=P,L[10]=w,L[11]=M,L[14]=m,L[15]=x,L[18]=w,L[19]=M,L[22]=R,L[23]=A},setTargetUVs:function(m,x){var C=x.height/m.height;C>.5?C=.5-(C-.5):C=.5+(.5-C),this.setUVs(0,C,0,1+C,1,1+C,1,C)},flipX:function(){this.setUVs(1,0,1,1,0,1,0,0)},flipY:function(){this.setUVs(0,1,0,0,1,0,1,1)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)}});n.exports=p}),36060:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={BITMAPMASK_PIPELINE:"BitmapMaskPipeline",LIGHT_PIPELINE:"Light2D",POINTLIGHT_PIPELINE:"PointLightPipeline",SINGLE_PIPELINE:"SinglePipeline",MULTI_PIPELINE:"MultiPipeline",ROPE_PIPELINE:"RopePipeline",GRAPHICS_PIPELINE:"GraphicsPipeline",POSTFX_PIPELINE:"PostFXPipeline",UTILITY_PIPELINE:"UtilityPipeline",MOBILE_PIPELINE:"MobilePipeline",FX_PIPELINE:"FxPipeline"};n.exports=T}),84817:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pipelineafterflush"}),36712:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pipelinebeforeflush"}),40285:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pipelinebind"}),65918:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pipelineboot"}),92852:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pipelinedestroy"}),56072:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pipelinerebind"}),57566:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pipelineresize"}),77085:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={AFTER_FLUSH:r(84817),BEFORE_FLUSH:r(36712),BIND:r(40285),BOOT:r(65918),DESTROY:r(92852),REBIND:r(56072),RESIZE:r(57566)}}),54812:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(99155),d=r(84057),h=new o({Extends:d,initialize:function(a){d.call(this,{game:a,fragShader:y}),this.amount=1},onPreRender:function(l,a){l=this.getController(l),this.set1f("amount",l.amount,a)}});n.exports=h}),67329:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(24400),d=r(84057),h=new o({Extends:d,initialize:function(a){d.call(this,{game:a,fragShader:y}),this.steps=4,this.offsetX=1,this.offsetY=1,this.blurStrength=1,this.strength=1,this.glcolor=[1,1,1]},onPreRender:function(l){l=this.getController(l),this.set1f("strength",l.blurStrength),this.set3fv("color",l.glcolor)},onDraw:function(l){var a=this.getController(),f=this.fullFrame1,c=this.fullFrame2;this.copyFrame(l,c);for(var u=2/l.width*a.offsetX,v=2/l.height*a.offsetY,p=0;p<a.steps;p++)this.set2f("offset",u,0),this.copySprite(l,f),this.set2f("offset",0,v),this.copySprite(f,l);this.blendFrames(c,l,f,a.strength),this.copyToGame(f)}});n.exports=h}),8861:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(41514),d=r(51078),h=r(94328),l=r(84057),a=new o({Extends:l,initialize:function(c){l.call(this,{game:c,shaders:[{name:"Gaussian5",fragShader:y},{name:"Gaussian9",fragShader:d},{name:"Gaussian13",fragShader:h}]}),this.activeShader=this.shaders[0],this.x=2,this.y=2,this.steps=4,this.strength=1,this.glcolor=[1,1,1]},setQualityLow:function(){return this.activeShader=this.shaders[0],this},setQualityMedium:function(){return this.activeShader=this.shaders[1],this},setQualityHigh:function(){return this.activeShader=this.shaders[2],this},onDraw:function(f){var c=this.getController(),u=this.gl,v=this.fullFrame1,p=u.getParameter(u.FRAMEBUFFER_BINDING);this.bind(this.shaders[c.quality]),u.activeTexture(u.TEXTURE0),u.viewport(0,0,f.width,f.height),this.set1i("uMainSampler",0),this.set2f("resolution",f.width,f.height),this.set1f("strength",c.strength),this.set3fv("color",c.glcolor);for(var m=0;m<c.steps;m++)this.set2f("offset",c.x,0),this.copySprite(f,v),this.set2f("offset",0,c.y),this.copySprite(v,f);u.bindFramebuffer(u.FRAMEBUFFER,p),u.bindTexture(u.TEXTURE_2D,null),this.copyToGame(f)}});n.exports=a}),51051:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(90610),d=r(84057),h=new o({Extends:d,initialize:function(a){d.call(this,{game:a,fragShader:y}),this.isTiltShift=!1,this.strength=1,this.blurX=1,this.blurY=1,this.radius=.5,this.amount=1,this.contrast=.2},onPreRender:function(l,a,f,c){l=this.getController(l),this.set1f("radius",l.radius,a),this.set1f("amount",l.amount,a),this.set1f("contrast",l.contrast,a),this.set1f("strength",l.strength,a),this.set2f("blur",l.blurX,l.blurY,a),this.setBoolean("isTiltShift",l.isTiltShift,a),f&&c&&this.set2f("resolution",f,c,a)},onDraw:function(l){this.set2f("resolution",l.width,l.height),this.bindAndDraw(l)}});n.exports=h}),89428:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(91899),d=r(84057),h=new o({Extends:d,initialize:function(a){d.call(this,{game:a,fragShader:y}),this.scale=1,this.feather=.005,this.thickness=8,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4]},onPreRender:function(l,a,f,c){l=this.getController(l),this.set1f("scale",l.scale,a),this.set1f("feather",l.feather,a),this.set1f("thickness",l.thickness,a),this.set3fv("color",l.glcolor,a),this.set4fv("backgroundColor",l.glcolor2,a),f&&c&&this.set2f("resolution",f,c,a)},onDraw:function(l){this.set2f("resolution",l.width,l.height),this.bindAndDraw(l)}});n.exports=h}),88904:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(84057),d=new o({Extends:y,initialize:function(l){y.call(this,{game:l})},onDraw:function(h){var l=this.fullFrame1;this.controller?this.manager.drawFrame(h,l,!0,this.controller):this.drawFrame(h,l),this.copyToGame(l)}});n.exports=d}),63563:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(47838),d=r(84057),h=new o({Extends:d,initialize:function(a){d.call(this,{game:a,fragShader:y}),this.x=.005,this.y=.005,this.glTexture},onBoot:function(){this.setTexture("__WHITE")},setTexture:function(l){var a=this.game.textures.getFrame(l);a&&(this.glTexture=a.glTexture)},onDraw:function(l){var a=this.getController(),f=this.fullFrame1;this.bind(),this.set1i("uMainSampler",0),this.set1i("uDisplacementSampler",1),this.set2f("amount",a.x,a.y),this.bindTexture(a.glTexture,1),this.copySprite(l,f),this.copyToGame(f)}});n.exports=h}),94045:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(95540),d=r(98656),h=r(84057),l=r(70554),a=new o({Extends:h,initialize:function(c,u){var v=y(u,"quality",.1),p=y(u,"distance",10);h.call(this,{game:c,fragShader:l.setGlowQuality(d,c,v,p)}),this.outerStrength=4,this.innerStrength=0,this.knockout=!1,this.glcolor=[1,1,1,1]},onPreRender:function(f,c,u,v){f=this.getController(f),this.set1f("outerStrength",f.outerStrength,c),this.set1f("innerStrength",f.innerStrength,c),this.set4fv("glowColor",f.glcolor,c),this.setBoolean("knockout",f.knockout,c),u&&v&&this.set2f("resolution",u,v,c)},onDraw:function(f){this.set2f("resolution",f.width,f.height),this.bindAndDraw(f)}});n.exports=a}),74088:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(70463),d=r(84057),h=new o({Extends:d,initialize:function(a){d.call(this,{game:a,fragShader:y}),this.alpha=.2,this.size=0,this.fromX=0,this.fromY=0,this.toX=0,this.toY=1,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0]},onPreRender:function(l,a){l=this.getController(l),this.set1f("alpha",l.alpha,a),this.set1i("size",l.size,a),this.set3fv("color1",l.glcolor1,a),this.set3fv("color2",l.glcolor2,a),this.set2f("positionFrom",l.fromX,l.fromY,a),this.set2f("positionTo",l.toX,l.toY,a)}});n.exports=h}),99636:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(50831),d=r(84057),h=new o({Extends:d,initialize:function(a){d.call(this,{game:a,fragShader:y}),this.amount=1},onPreRender:function(l,a,f,c){l=this.getController(l),this.set1f("amount",l.amount,a),f&&c&&this.set2f("resolution",f,c,a)},onDraw:function(l){this.set2f("resolution",l.width,l.height),this.bindAndDraw(l)}});n.exports=h}),34700:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(92595),d=r(84057),h=new o({Extends:d,initialize:function(a){d.call(this,{game:a,fragShader:y}),this.x=0,this.y=0,this.decay=.1,this.power=1,this.glcolor=[0,0,0,1],this.samples=6,this.intensity=1},onPreRender:function(l,a){l=this.getController(l);var f=l.samples;this.set1i("samples",f,a),this.set1f("intensity",l.intensity,a),this.set1f("decay",l.decay,a),this.set1f("power",l.power/f,a),this.set2f("lightPosition",l.x,l.y,a),this.set4fv("color",l.glcolor,a)}});n.exports=h}),91157:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(72464),d=r(84057),h=new o({Extends:d,initialize:function(a){d.call(this,{game:a,fragShader:y}),this.speed=.5,this.lineWidth=.5,this.gradient=3,this.reveal=!1},onPreRender:function(l,a,f,c){l=this.getController(l),this.setTime("time",a),this.set1f("speed",l.speed,a),this.set1f("lineWidth",l.lineWidth,a),this.set1f("gradient",l.gradient,a),this.setBoolean("reveal",l.reveal,a),f&&c&&this.set2f("resolution",f,c,a)},onDraw:function(l){this.set2f("resolution",l.width,l.height),this.bindAndDraw(l)}});n.exports=h}),27797:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(39249),d=r(84057),h=new o({Extends:d,initialize:function(a){d.call(this,{game:a,fragShader:y}),this.x=.5,this.y=.5,this.radius=.5,this.strength=.5},onPreRender:function(l,a){l=this.getController(l),this.set1f("radius",l.radius,a),this.set1f("strength",l.strength,a),this.set2f("position",l.x,l.y,a)}});n.exports=h}),67603:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(2878),d=r(84057),h=new o({Extends:d,initialize:function(a){d.call(this,{game:a,fragShader:y}),this.progress=0,this.wipeWidth=.1,this.direction=0,this.axis=0,this.reveal=!1},onPreRender:function(l,a){l=this.getController(l);var f=l.progress,c=l.wipeWidth,u=l.direction,v=l.axis;this.set4f("config",f,c,u,v,a),this.setBoolean("reveal",l.reveal,a)}});n.exports=h}),58918:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={Barrel:r(54812),Bloom:r(67329),Blur:r(8861),Bokeh:r(51051),Circle:r(89428),ColorMatrix:r(88904),Displacement:r(63563),Glow:r(94045),Gradient:r(74088),Pixelate:r(99636),Shadow:r(34700),Shine:r(91157),Vignette:r(27797),Wipe:r(67603)};n.exports=o}),96615:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(36060),y=r(79291),d={FX:r(58918),BitmapMaskPipeline:r(31302),Events:r(77085),FXPipeline:r(92651),LightPipeline:r(96569),MobilePipeline:r(56527),MultiPipeline:r(57516),PointLightPipeline:r(43439),PostFXPipeline:r(84057),PreFXPipeline:r(43558),RopePipeline:r(81041),SinglePipeline:r(12385),UtilityPipeline:r(7589)};d=y(!1,d,o),n.exports=d}),35407:(n=>{n.exports=["#define SHADER_NAME PHASER_ADD_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = frame1 + frame2 * uStrength;","}"].join(`
`)}),78908:(n=>{n.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_FS","precision mediump float;","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uMaskSampler;","uniform bool uInvertMaskAlpha;","void main ()","{","    vec2 uv = gl_FragCoord.xy / uResolution;","    vec4 mainColor = texture2D(uMainSampler, uv);","    vec4 maskColor = texture2D(uMaskSampler, uv);","    if (!uInvertMaskAlpha)","    {","        mainColor *= maskColor.a;","    }","    else","    {","        mainColor *= (1.0 - maskColor.a);","    }","    gl_FragColor = mainColor;","}"].join(`
`)}),85191:(n=>{n.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_VS","precision mediump float;","attribute vec2 inPosition;","void main ()","{","    gl_Position = vec4(inPosition, 0.0, 1.0);","}"].join(`
`)}),96293:(n=>{n.exports=["#define SHADER_NAME PHASER_COLORMATRIX_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uColorMatrix[20];","uniform float uAlpha;","varying vec2 outTexCoord;","void main ()","{","    vec4 c = texture2D(uMainSampler, outTexCoord);","    if (uAlpha == 0.0)","    {","        gl_FragColor = c;","        return;","    }","    if (c.a > 0.0)","    {","        c.rgb /= c.a;","    }","    vec4 result;","    result.r = (uColorMatrix[0] * c.r) + (uColorMatrix[1] * c.g) + (uColorMatrix[2] * c.b) + (uColorMatrix[3] * c.a) + uColorMatrix[4];","    result.g = (uColorMatrix[5] * c.r) + (uColorMatrix[6] * c.g) + (uColorMatrix[7] * c.b) + (uColorMatrix[8] * c.a) + uColorMatrix[9];","    result.b = (uColorMatrix[10] * c.r) + (uColorMatrix[11] * c.g) + (uColorMatrix[12] * c.b) + (uColorMatrix[13] * c.a) + uColorMatrix[14];","    result.a = (uColorMatrix[15] * c.r) + (uColorMatrix[16] * c.g) + (uColorMatrix[17] * c.b) + (uColorMatrix[18] * c.a) + uColorMatrix[19];","    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);","    rgb *= result.a;","    gl_FragColor = vec4(rgb, result.a);","}"].join(`
`)}),36682:(n=>{n.exports=["#define SHADER_NAME PHASER_COPY_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uBrightness;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord) * uBrightness;","}"].join(`
`)}),99155:(n=>{n.exports=["#define SHADER_NAME BARREL_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float amount;","varying vec2 outTexCoord;","vec2 Distort(vec2 p)","{","    float theta  = atan(p.y, p.x);","    float radius = length(p);","    radius = pow(radius, amount);","    p.x = radius * cos(theta);","    p.y = radius * sin(theta);","    return 0.5 * (p + 1.0);","}","void main()","{","    vec2 xy = 2.0 * outTexCoord - 1.0;","    vec2 texCoord = outTexCoord;","    if (length(xy) < 1.0)","    {","        texCoord = Distort(xy);","    }","    gl_FragColor = texture2D(uMainSampler, texCoord);","}"].join(`
`)}),24400:(n=>{n.exports=["#define SHADER_NAME BLOOM_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec4 sum = texture2D(uMainSampler, outTexCoord) * 0.204164 * strength;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord - offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 3.294215) * 0.093913;","    gl_FragColor = (sum + texture2D(uMainSampler, outTexCoord - offset * 3.294215) * 0.093913) * vec4(color, 1);","}"].join(`
`)}),94328:(n=>{n.exports=["#define SHADER_NAME BLUR_HIGH_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.411764705882353) * offset * strength;","    vec2 off2 = vec2(3.2941176470588234) * offset * strength;","    vec2 off3 = vec2(5.176470588235294) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.1964825501511404;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv + (off3 / resolution)) * 0.010381362401148057;","    col += texture2D(uMainSampler, uv - (off3 / resolution)) * 0.010381362401148057;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)}),41514:(n=>{n.exports=["#define SHADER_NAME BLUR_LOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 offset = vec2(1.333) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.29411764705882354;","    col += texture2D(uMainSampler, uv + (offset / resolution)) * 0.35294117647058826;","    col += texture2D(uMainSampler, uv - (offset / resolution)) * 0.35294117647058826;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)}),51078:(n=>{n.exports=["#define SHADER_NAME BLUR_MED_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.3846153846) * offset * strength;","    vec2 off2 = vec2(3.2307692308) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.2270270270;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.0702702703;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.0702702703;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)}),90610:(n=>{n.exports=["#define SHADER_NAME BOKEH_FS","precision mediump float;","#define ITERATIONS 100.0","#define ONEOVER_ITR 1.0 / ITERATIONS","#define PI 3.141596","#define GOLDEN_ANGLE 2.39996323","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float radius;","uniform float amount;","uniform float contrast;","uniform bool isTiltShift;","uniform float strength;","uniform vec2 blur;","varying vec2 outTexCoord;","vec2 Sample (in float theta, inout float r)","{","    r += 1.0 / r;","    return (r - 1.0) * vec2(cos(theta), sin(theta)) * 0.06;","}","vec3 Bokeh (sampler2D tex, vec2 uv, float radius)","{","    vec3 acc = vec3(0.0);","    vec3 div = vec3(0.0);","    vec2 pixel = vec2(resolution.y / resolution.x, 1.0) * radius * .025;","    float r = 1.0;","    for (float j = 0.0; j < GOLDEN_ANGLE * ITERATIONS; j += GOLDEN_ANGLE)","    {","        vec3 col = texture2D(tex, uv + pixel * Sample(j, r)).xyz;","        col = contrast > 0.0 ? col * col * (1.0 + contrast) : col;","        vec3 bokeh = vec3(0.5) + pow(col, vec3(10.0)) * amount;","        acc += col * bokeh;","        div += bokeh;","    }","    return acc / div;","}","void main ()","{","    float shift = 1.0;","    if (isTiltShift)","    {","        vec2 uv = vec2(gl_FragCoord.xy / resolution + vec2(-0.5, -0.5)) * 2.0;","        float centerStrength = 1.0;","        shift = length(uv * blur * strength) * centerStrength;","    }","    gl_FragColor = vec4(Bokeh(uMainSampler, outTexCoord * vec2(1.0, 1.0), radius * shift), 0.0);","}"].join(`
`)}),91899:(n=>{n.exports=["#define SHADER_NAME CIRCLE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec3 color;","uniform vec4 backgroundColor;","uniform float thickness;","uniform float scale;","uniform float feather;","varying vec2 outTexCoord;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 position = (gl_FragCoord.xy / resolution.xy) * 2.0 - 1.0;","    float aspectRatio = resolution.x / resolution.y;","    position.x *= aspectRatio;","    float grad = length(position);","    float outer = aspectRatio;","    float inner = outer - (thickness * 2.0 / resolution.y);","    if (aspectRatio >= 1.0)","    {","        float f = 2.0 + (resolution.y / resolution.x);","        outer = 1.0;","        inner = 1.0 - (thickness * f / resolution.x);","    }","    outer *= scale;","    inner *= scale;","    float circle = smoothstep(outer, outer - 0.01, grad);","    float ring = circle - smoothstep(inner, inner - feather, grad);","    texture = mix(backgroundColor * backgroundColor.a, texture, texture.a);","    texture = (texture * (circle - ring));","    gl_FragColor = vec4(texture.rgb + (ring * color), texture.a);","}"].join(`
`)}),47838:(n=>{n.exports=["#define SHADER_NAME DISPLACEMENT_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform sampler2D uDisplacementSampler;","uniform vec2 amount;","varying vec2 outTexCoord;","void main ()","{","    vec2 disp = (-vec2(0.5, 0.5) + texture2D(uDisplacementSampler, outTexCoord).rr) * amount;","    gl_FragColor = texture2D(uMainSampler, outTexCoord + disp).rgba;","}"].join(`
`)}),98656:(n=>{n.exports=["#define SHADER_NAME GLOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform float outerStrength;","uniform float innerStrength;","uniform vec2 resolution;","uniform vec4 glowColor;","uniform bool knockout;","const float PI = 3.14159265358979323846264;","const float DIST = __DIST__;","const float SIZE = min(__SIZE__, PI * 2.0);","const float STEP = ceil(PI * 2.0 / SIZE);","const float MAX_ALPHA = STEP * DIST * (DIST + 1.0) / 2.0;","void main ()","{","    vec2 px = vec2(1.0 / resolution.x, 1.0 / resolution.y);","    float totalAlpha = 0.0;","    vec2 direction;","    vec2 displaced;","    vec4 color;","    for (float angle = 0.0; angle < PI * 2.0; angle += SIZE)","    {","        direction = vec2(cos(angle), sin(angle)) * px;","        for (float curDistance = 0.0; curDistance < DIST; curDistance++)","        {","            displaced = outTexCoord + direction * (curDistance + 1.0);","            color = texture2D(uMainSampler, displaced);","            totalAlpha += (DIST - curDistance) * color.a;","        }","    }","    color = texture2D(uMainSampler, outTexCoord);","    float alphaRatio = (totalAlpha / MAX_ALPHA);","    float innerGlowAlpha = (1.0 - alphaRatio) * innerStrength * color.a;","    float innerGlowStrength = min(1.0, innerGlowAlpha);","    vec4 innerColor = mix(color, glowColor, innerGlowStrength);","    float outerGlowAlpha = alphaRatio * outerStrength * (1.0 - color.a);","    float outerGlowStrength = min(1.0 - innerColor.a, outerGlowAlpha);","    vec4 outerGlowColor = outerGlowStrength * glowColor.rgba;","    if (knockout)","    {","        float resultAlpha = outerGlowAlpha + innerGlowAlpha;","        gl_FragColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);","    }","    else","    {","        gl_FragColor = innerColor + outerGlowColor;","    }","}"].join(`
`)}),70463:(n=>{n.exports=["#define SHADER_NAME GRADIENT_FS","#define SRGB_TO_LINEAR(c) pow((c), vec3(2.2))","#define LINEAR_TO_SRGB(c) pow((c), vec3(1.0 / 2.2))","#define SRGB(r, g, b) SRGB_TO_LINEAR(vec3(float(r), float(g), float(b)) / 255.0)","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 positionFrom;","uniform vec2 positionTo;","uniform vec3 color1;","uniform vec3 color2;","uniform float alpha;","uniform int size;","varying vec2 outTexCoord;","float gradientNoise(in vec2 uv)","{","    const vec3 magic = vec3(0.06711056, 0.00583715, 52.9829189);","    return fract(magic.z * fract(dot(uv, magic.xy)));","}","float stepped (in float s, in float scale, in int steps)","{","    return steps > 0 ? floor( s / ((1.0 * scale) / float(steps))) * 1.0 / float(steps - 1) : s;","}","void main ()","{","    vec2 a = positionFrom;","    vec2 b = positionTo;","    vec2 ba = b - a;","    float d = dot(outTexCoord - a, ba) / dot(ba, ba);","    float t = size > 0 ? stepped(d, 1.0, size) : d;","    t = smoothstep(0.0, 1.0, clamp(t, 0.0, 1.0));","    vec3 color = mix(SRGB(color1.r, color1.g, color1.b), SRGB(color2.r, color2.g, color2.b), t);","    color = LINEAR_TO_SRGB(color);","    color += (1.0 / 255.0) * gradientNoise(outTexCoord) - (0.5 / 255.0);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = vec4(mix(color.rgb, texture.rgb, alpha), 1.0) * texture.a;","}"].join(`
`)}),50831:(n=>{n.exports=["#define SHADER_NAME PIXELATE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float amount;","varying vec2 outTexCoord;","void main ()","{","    float pixelSize = floor(2.0 + amount);","    vec2 center = pixelSize * floor(outTexCoord * resolution / pixelSize) + pixelSize * vec2(0.5, 0.5);","    vec2 corner1 = center + pixelSize * vec2(-0.5, -0.5);","    vec2 corner2 = center + pixelSize * vec2(+0.5, -0.5);","    vec2 corner3 = center + pixelSize * vec2(+0.5, +0.5);","    vec2 corner4 = center + pixelSize * vec2(-0.5, +0.5);","    vec4 pixel = 0.4 * texture2D(uMainSampler, center / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner1 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner2 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner3 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner4 / resolution);","    gl_FragColor = pixel;","}"].join(`
`)}),92595:(n=>{n.exports=["#define SHADER_NAME SHADOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform vec2 lightPosition;","uniform vec4 color;","uniform float decay;","uniform float power;","uniform float intensity;","uniform int samples;","const int MAX = 12;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 pc = (lightPosition - outTexCoord) * intensity;","    float shadow = 0.0;","    float limit = max(float(MAX), float(samples));","    for (int i = 0; i < MAX; ++i)","    {","        if (i >= samples)","        {","            break;","        }","        shadow += texture2D(uMainSampler, outTexCoord + float(i) * decay / limit * pc).a * power;","    }","    float mask = 1.0 - texture.a;","    gl_FragColor = mix(texture, color, shadow * mask);","}"].join(`
`)}),72464:(n=>{n.exports=["#define SHADER_NAME SHINE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform bool reveal;","uniform float speed;","uniform float time;","uniform float lineWidth;","uniform float gradient;","varying vec2 outTexCoord;","void main ()","{","	vec2 uv = gl_FragCoord.xy / resolution.xy;","    vec4 tex = texture2D(uMainSampler, outTexCoord);","    vec4 col1 = vec4(0.3, 0.0, 0.0, 1.0);","    vec4 col2 = vec4(0.85, 0.85, 0.85, 1.0);","    uv.x = uv.x - mod(time * speed, 2.0) + 0.5;","    float y = uv.x * gradient;","    float s = smoothstep(y - lineWidth, y, uv.y) - smoothstep(y, y + lineWidth, uv.y);","    gl_FragColor = (((s * col1) + (s * col2)) * tex);","    if (!reveal)","    {","        gl_FragColor += tex;","    }","}"].join(`
`)}),39249:(n=>{n.exports=["#define SHADER_NAME VIGNETTE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float radius;","uniform float strength;","uniform vec2 position;","varying vec2 outTexCoord;","void main ()","{","    vec4 col = vec4(1.0);","    float d = length(outTexCoord - position);","    if (d <= radius)","    {","        float g = d / radius;","        g = sin(g * 3.14 * strength);","    	col = vec4(g * g * g);","    }","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = texture * (1.0 - col);","}"].join(`
`)}),2878:(n=>{n.exports=["#define SHADER_NAME WIPE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec4 config;","uniform bool reveal;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 color0;","    vec4 color1;","    if (reveal)","    {","        color0 = vec4(0);","        color1 = texture2D(uMainSampler, uv);","    }","    else","    {","        color0 = texture2D(uMainSampler, uv);","        color1 = vec4(0);","    }","    float distance = config.x;","    float width = config.y;","    float direction = config.z;","    float axis = uv.x;","    if (config.w == 1.0)","    {","        axis = uv.y;","    }","    float adjust = mix(width, -width, distance);","    float value = smoothstep(distance - width, distance + width, abs(direction - axis) + adjust);","    gl_FragColor = mix(color1, color0, value);","}"].join(`
`)}),31063:(n=>{n.exports=["#define SHADER_NAME PHASER_LIGHT_FS","precision mediump float;","struct Light","{","    vec2 position;","    vec3 color;","    float intensity;","    float radius;","};","const int kMaxLights = %LIGHT_COUNT%;","uniform vec4 uCamera; /* x, y, rotation, zoom */","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uNormSampler;","uniform vec3 uAmbientLightColor;","uniform Light uLights[kMaxLights];","uniform mat3 uInverseRotationMatrix;","uniform int uLightCount;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec3 finalColor = vec3(0.0, 0.0, 0.0);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    vec3 normalMap = texture2D(uNormSampler, outTexCoord).rgb;","    vec3 normal = normalize(uInverseRotationMatrix * vec3(normalMap * 2.0 - 1.0));","    vec2 res = vec2(min(uResolution.x, uResolution.y)) * uCamera.w;","    for (int index = 0; index < kMaxLights; ++index)","    {","        if (index < uLightCount)","        {","            Light light = uLights[index];","            vec3 lightDir = vec3((light.position.xy / res) - (gl_FragCoord.xy / res), 0.1);","            vec3 lightNormal = normalize(lightDir);","            float distToSurf = length(lightDir) * uCamera.w;","            float diffuseFactor = max(dot(normal, lightNormal), 0.0);","            float radius = (light.radius / res.x * uCamera.w) * uCamera.w;","            float attenuation = clamp(1.0 - distToSurf * distToSurf / (radius * radius), 0.0, 1.0);","            vec3 diffuse = light.color * diffuseFactor;","            finalColor += (attenuation * diffuse) * light.intensity;","        }","    }","    vec4 colorOutput = vec4(uAmbientLightColor + finalColor, 1.0);","    gl_FragColor = color * vec4(colorOutput.rgb * colorOutput.a, colorOutput.a);","}"].join(`
`)}),48247:(n=>{n.exports=["#define SHADER_NAME PHASER_LINEAR_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = mix(frame1, frame2 * uStrength, 0.5);","}"].join(`
`)}),41214:(n=>{n.exports=["#define SHADER_NAME PHASER_MESH_FS","precision mediump float;","uniform vec3 uLightPosition;","uniform vec3 uLightAmbient;","uniform vec3 uLightDiffuse;","uniform vec3 uLightSpecular;","uniform vec3 uFogColor;","uniform float uFogNear;","uniform float uFogFar;","uniform vec3 uMaterialAmbient;","uniform vec3 uMaterialDiffuse;","uniform vec3 uMaterialSpecular;","uniform float uMaterialShine;","uniform vec3 uCameraPosition;","uniform sampler2D uTexture;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main (void)","{","    vec4 color = texture2D(uTexture, vTextureCoord);","    vec3 ambient = uLightAmbient * uMaterialAmbient;","    vec3 norm = normalize(vNormal);","    vec3 lightDir = normalize(uLightPosition - vPosition);","    float diff = max(dot(norm, lightDir), 0.0);","    vec3 diffuse = uLightDiffuse * (diff * uMaterialDiffuse);","    vec3 viewDir = normalize(uCameraPosition - vPosition);","    vec3 reflectDir = reflect(-lightDir, norm);","    float spec = pow(max(dot(viewDir, reflectDir), 0.0), uMaterialShine);","    vec3 specular = uLightSpecular * (spec * uMaterialSpecular);","    vec3 result = (ambient + diffuse + specular) * color.rgb;","    float depth = gl_FragCoord.z / gl_FragCoord.w;","    float fogFactor = smoothstep(uFogNear, uFogFar, depth);","    gl_FragColor.rgb = mix(result.rgb, uFogColor, fogFactor);","    gl_FragColor.a = color.a;","}"].join(`
`)}),39653:(n=>{n.exports=["#define SHADER_NAME PHASER_MESH_VS","precision mediump float;","attribute vec3 aVertexPosition;","attribute vec3 aVertexNormal;","attribute vec2 aTextureCoord;","uniform mat4 uViewProjectionMatrix;","uniform mat4 uModelMatrix;","uniform mat4 uNormalMatrix;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main ()","{","    vTextureCoord = aTextureCoord;","    vPosition = vec3(uModelMatrix * vec4(aVertexPosition, 1.0));","    vNormal = vec3(uNormalMatrix * vec4(aVertexNormal, 1.0));","    gl_Position = uViewProjectionMatrix * uModelMatrix * vec4(aVertexPosition, 1.0);","}"].join(`
`)}),62143:(n=>{n.exports=["#define SHADER_NAME PHASER_MOBILE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)}),47940:(n=>{n.exports=["#define SHADER_NAME PHASER_MOBILE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)}),98840:(n=>{n.exports=["#define SHADER_NAME PHASER_MULTI_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler[%count%];","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture;","    %forloop%","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)}),44667:(n=>{n.exports=["#define SHADER_NAME PHASER_MULTI_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTexId = inTexId;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)}),4127:(n=>{n.exports=["#define SHADER_NAME PHASER_POINTLIGHT_FS","precision mediump float;","uniform vec2 uResolution;","uniform float uCameraZoom;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    vec2 center = (lightPosition.xy + 1.0) * (uResolution.xy * 0.5);","    float distToSurf = length(center - gl_FragCoord.xy);","    float radius = 1.0 - distToSurf / (lightRadius * uCameraZoom);","    float intensity = smoothstep(0.0, 1.0, radius * lightAttenuation);","    vec4 color = vec4(intensity, intensity, intensity, 0.0) * lightColor;","    gl_FragColor = vec4(color.rgb * lightColor.a, color.a);","}"].join(`
`)}),89924:(n=>{n.exports=["#define SHADER_NAME PHASER_POINTLIGHT_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","attribute vec2 inPosition;","attribute vec2 inLightPosition;","attribute vec4 inLightColor;","attribute float inLightRadius;","attribute float inLightAttenuation;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    lightColor = inLightColor;","    lightRadius = inLightRadius;","    lightAttenuation = inLightAttenuation;","    lightPosition = uProjectionMatrix * vec4(inLightPosition, 1.0, 1.0);","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","}"].join(`
`)}),27681:(n=>{n.exports=["#define SHADER_NAME PHASER_POSTFX_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord);","}"].join(`
`)}),49627:(n=>{n.exports=["#define SHADER_NAME PHASER_QUAD_VS","precision mediump float;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","varying vec2 outFragCoord;","varying vec2 outTexCoord;","void main ()","{","    outFragCoord = inPosition.xy * 0.5 + 0.5;","    outTexCoord = inTexCoord;","    gl_Position = vec4(inPosition, 0, 1);","}"].join(`
`)}),45561:(n=>{n.exports=["#define SHADER_NAME PHASER_SINGLE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)}),60722:(n=>{n.exports=["#define SHADER_NAME PHASER_SINGLE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)}),89350:((n,T,r)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={AddBlendFrag:r(35407),BitmapMaskFrag:r(78908),BitmapMaskVert:r(85191),ColorMatrixFrag:r(96293),CopyFrag:r(36682),FXBarrelFrag:r(99155),FXBloomFrag:r(24400),FXBlurHighFrag:r(94328),FXBlurLowFrag:r(41514),FXBlurMedFrag:r(51078),FXBokehFrag:r(90610),FXCircleFrag:r(91899),FXDisplacementFrag:r(47838),FXGlowFrag:r(98656),FXGradientFrag:r(70463),FXPixelateFrag:r(50831),FXShadowFrag:r(92595),FXShineFrag:r(72464),FXVignetteFrag:r(39249),FXWipeFrag:r(2878),LightFrag:r(31063),LinearBlendFrag:r(48247),MeshFrag:r(41214),MeshVert:r(39653),MobileFrag:r(62143),MobileVert:r(47940),MultiFrag:r(98840),MultiVert:r(44667),PointLightFrag:r(4127),PointLightVert:r(89924),PostFXFrag:r(27681),QuadVert:r(49627),SingleFrag:r(45561),SingleVert:r(60722)}}),93567:((n,T,r)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=new o({initialize:function(h,l,a){this.webGLAttribLocation=-1,this.gl=h,this.program=l,this.name=a,this.createResource()},createResource:function(){if(this.program.webGLProgram===null){this.webGLAttribLocation=-1;return}var d=this.gl;d.isContextLost()||(this.webGLAttribLocation=d.getAttribLocation(this.program.webGLProgram,this.name))},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLAttribLocation=-1}});n.exports=y}),26128:((n,T,r)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=new o({initialize:function(h,l,a,f){this.webGLBuffer=null,this.gl=h,this.initialDataOrSize=l,this.bufferType=a,this.bufferUsage=f,this.createResource()},createResource:function(){if(this.initialDataOrSize!==null){var d=this.gl;if(!d.isContextLost()){var h=this.bufferType,l=d.createBuffer();this.webGLBuffer=l,d.bindBuffer(h,this.webGLBuffer),d.bufferData(h,this.initialDataOrSize,this.bufferUsage),d.bindBuffer(h,null)}}},destroy:function(){var d=this.gl;d.isContextLost()||d.deleteBuffer(this.webGLBuffer),this.webGLBuffer=null,this.initialDataOrSize=null,this.gl=null}});n.exports=y}),84387:((n,T,r)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y={36054:"Incomplete Attachment",36055:"Missing Attachment",36057:"Incomplete Dimensions",36061:"Framebuffer Unsupported"},d=new o({initialize:function(l,a,f,c,u){this.webGLFramebuffer=null,this.gl=l,this.width=a,this.height=f,this.renderTexture=c,this.addDepthStencilBuffer=!!u,this.createResource()},createResource:function(){var h=this.gl;if(!h.isContextLost()){var l=this.renderTexture,a=0,f=h.createFramebuffer();if(this.webGLFramebuffer=f,h.bindFramebuffer(h.FRAMEBUFFER,f),l.isRenderTexture=!0,l.isAlphaPremultiplied=!1,h.framebufferTexture2D(h.FRAMEBUFFER,h.COLOR_ATTACHMENT0,h.TEXTURE_2D,l.webGLTexture,0),a=h.checkFramebufferStatus(h.FRAMEBUFFER),a!==h.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer status: "+(y[a]||a));if(this.addDepthStencilBuffer){var c=h.createRenderbuffer();h.bindRenderbuffer(h.RENDERBUFFER,c),h.renderbufferStorage(h.RENDERBUFFER,h.DEPTH_STENCIL,this.width,this.height),h.framebufferRenderbuffer(h.FRAMEBUFFER,h.DEPTH_STENCIL_ATTACHMENT,h.RENDERBUFFER,c)}h.bindFramebuffer(h.FRAMEBUFFER,null)}},destroy:function(){if(this.webGLFramebuffer!==null){var h=this.gl;if(!h.isContextLost()){h.bindFramebuffer(h.FRAMEBUFFER,this.webGLFramebuffer);var l=h.getFramebufferAttachmentParameter(h.FRAMEBUFFER,h.COLOR_ATTACHMENT0,h.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);l!==null&&(h.framebufferTexture2D(h.FRAMEBUFFER,h.COLOR_ATTACHMENT0,h.TEXTURE_2D,null,0),h.deleteTexture(l));var a=h.getFramebufferAttachmentParameter(h.FRAMEBUFFER,h.DEPTH_STENCIL_ATTACHMENT,h.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);a!==null&&h.deleteRenderbuffer(a),h.bindFramebuffer(h.FRAMEBUFFER,null),h.deleteFramebuffer(this.webGLFramebuffer)}this.renderTexture=null,this.webGLFramebuffer=null,this.gl=null}}});n.exports=d}),1482:((n,T,r)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=new o({initialize:function(h,l,a){this.webGLProgram=null,this.gl=h,this.vertexSource=l,this.fragmentSource=a,this.createResource()},createResource:function(){var d=this.gl;if(!d.isContextLost()){var h=d.createProgram(),l=d.createShader(d.VERTEX_SHADER),a=d.createShader(d.FRAGMENT_SHADER);d.shaderSource(l,this.vertexSource),d.shaderSource(a,this.fragmentSource),d.compileShader(l),d.compileShader(a);var f=`Shader failed:
`;if(!d.getShaderParameter(l,d.COMPILE_STATUS))throw new Error("Vertex "+f+d.getShaderInfoLog(l));if(!d.getShaderParameter(a,d.COMPILE_STATUS))throw new Error("Fragment "+f+d.getShaderInfoLog(a));if(d.attachShader(h,l),d.attachShader(h,a),d.linkProgram(h),!d.getProgramParameter(h,d.LINK_STATUS))throw new Error("Link "+f+d.getProgramInfoLog(h));d.useProgram(h),this.webGLProgram=h}},destroy:function(){this.webGLProgram&&(this.gl.isContextLost()||this.gl.deleteProgram(this.webGLProgram),this.webGLProgram=null,this.gl=null)}});n.exports=y}),82751:((n,T,r)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(50030),d=new o({initialize:function(l,a,f,c,u,v,p,m,x,C,P,w,M){this.webGLTexture=null,this.isRenderTexture=!1,this.gl=l,this.mipLevel=a,this.minFilter=f,this.magFilter=c,this.wrapT=u,this.wrapS=v,this.format=p,this.pixels=m,this.width=x,this.height=C,this.pma=P??!0,this.forceSize=!!w,this.flipY=!!M,this.__SPECTOR_Metadata={},this.createResource()},createResource:function(){var h=this.gl;if(!h.isContextLost()){if(this.pixels instanceof d){this.webGLTexture=this.pixels.webGLTexture;return}var l=h.createTexture();l.__SPECTOR_Metadata=this.__SPECTOR_Metadata,this.webGLTexture=l,this._processTexture()}},update:function(h,l,a,f,c,u,v,p,m){if(!(l===0||a===0)){this.pixels=h,this.width=l,this.height=a,this.flipY=f,this.wrapS=c,this.wrapT=u,this.minFilter=v,this.magFilter=p,this.format=m;var x=this.gl;x.isContextLost()||this._processTexture()}},_processTexture:function(){var h=this.gl;h.activeTexture(h.TEXTURE0);var l=h.getParameter(h.TEXTURE_BINDING_2D);h.bindTexture(h.TEXTURE_2D,this.webGLTexture),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,this.minFilter),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,this.magFilter),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,this.wrapS),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,this.wrapT),h.pixelStorei(h.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.pma),h.pixelStorei(h.UNPACK_FLIP_Y_WEBGL,this.flipY);var a=this.pixels,f=this.mipLevel,c=this.width,u=this.height,v=this.format,p=!1;if(a==null)h.texImage2D(h.TEXTURE_2D,f,v,c,u,0,v,h.UNSIGNED_BYTE,null),p=y(c,u);else if(a.compressed){c=a.width,u=a.height,p=a.generateMipmap;for(var m=0;m<a.mipmaps.length;m++)h.compressedTexImage2D(h.TEXTURE_2D,m,a.internalFormat,a.mipmaps[m].width,a.mipmaps[m].height,0,a.mipmaps[m].data)}else a instanceof Uint8Array?(h.texImage2D(h.TEXTURE_2D,f,v,c,u,0,v,h.UNSIGNED_BYTE,a),p=y(c,u)):(this.forceSize||(c=a.width,u=a.height),h.texImage2D(h.TEXTURE_2D,f,v,v,h.UNSIGNED_BYTE,a),p=y(c,u));p&&h.generateMipmap(h.TEXTURE_2D),l?h.bindTexture(h.TEXTURE_2D,l):h.bindTexture(h.TEXTURE_2D,null)},spectorMetadata:{get:function(){return this.__SPECTOR_Metadata},set:function(h){this.__SPECTOR_Metadata=h,this.gl.isContextLost()||(this.webGLTexture.__SPECTOR_Metadata=h)}},destroy:function(){this.webGLTexture!==null&&(this.gl.isContextLost()||this.pixels instanceof d||this.gl.deleteTexture(this.webGLTexture),this.pixels=null,this.webGLTexture=null,this.gl=null)}});n.exports=d}),57183:((n,T,r)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=new o({initialize:function(h,l,a){this.webGLUniformLocation=null,this.gl=h,this.program=l,this.name=a,this.createResource()},createResource:function(){if(this.program.webGLProgram===null){this.webGLUniformLocation=null;return}var d=this.gl;d.isContextLost()||(this.webGLUniformLocation=d.getUniformLocation(this.program.webGLProgram,this.name))},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLUniformLocation=null}});n.exports=y}),9503:((n,T,r)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={WebGLAttribLocationWrapper:r(93567),WebGLBufferWrapper:r(26128),WebGLProgramWrapper:r(1482),WebGLTextureWrapper:r(82751),WebGLFramebufferWrapper:r(84387),WebGLUniformLocationWrapper:r(57183)};n.exports=o}),76531:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(13560),y=r(83419),d=r(50792),h=r(97480),l=r(8443),a=r(57811),f=r(74403),c=r(45818),u=r(29747),v=r(87841),p=r(86555),m=r(56583),x=r(26099),C=r(38058),P=new y({Extends:d,initialize:function(M){d.call(this),this.game=M,this.canvas,this.canvasBounds=new v,this.parent=null,this.parentIsWindow=!1,this.parentSize=new p,this.gameSize=new p,this.baseSize=new p,this.displaySize=new p,this.scaleMode=o.SCALE_MODE.NONE,this.zoom=1,this._resetZoom=!1,this.displayScale=new x(1,1),this.autoRound=!1,this.autoCenter=o.CENTER.NO_CENTER,this.orientation=o.ORIENTATION.LANDSCAPE,this.fullscreen,this.fullscreenTarget=null,this._createdFullscreenTarget=!1,this.dirty=!1,this.resizeInterval=500,this._lastCheck=0,this._checkOrientation=!1,this.domlisteners={orientationChange:u,windowResize:u,fullScreenChange:u,fullScreenError:u}},preBoot:function(){this.parseConfig(this.game.config),this.game.events.once(l.BOOT,this.boot,this)},boot:function(){var w=this.game;this.canvas=w.canvas,this.fullscreen=w.device.fullscreen;var M=this.scaleMode;M!==o.SCALE_MODE.RESIZE&&M!==o.SCALE_MODE.EXPAND&&this.displaySize.setAspectMode(M),M===o.SCALE_MODE.NONE?this.resize(this.width,this.height):(this.getParentBounds(),this.parentSize.width>0&&this.parentSize.height>0&&this.displaySize.setParent(this.parentSize),this.refresh()),w.events.on(l.PRE_STEP,this.step,this),w.events.once(l.READY,this.refresh,this),w.events.once(l.DESTROY,this.destroy,this),this.startListeners()},parseConfig:function(w){this.getParent(w),this.getParentBounds();var M=w.width,R=w.height,A=w.scaleMode,L=w.zoom,F=w.autoRound;if(typeof M=="string")if(M.substr(-1)!=="%")M=parseInt(M,10);else{var G=this.parentSize.width;G===0&&(G=window.innerWidth);var I=parseInt(M,10)/100;M=Math.floor(G*I)}if(typeof R=="string")if(R.substr(-1)!=="%")R=parseInt(R,10);else{var B=this.parentSize.height;B===0&&(B=window.innerHeight);var k=parseInt(R,10)/100;R=Math.floor(B*k)}this.scaleMode=A,this.autoRound=F,this.autoCenter=w.autoCenter,this.resizeInterval=w.resizeInterval,F&&(M=Math.floor(M),R=Math.floor(R)),this.gameSize.setSize(M,R),L===o.ZOOM.MAX_ZOOM&&(L=this.getMaxZoom()),this.zoom=L,L!==1&&(this._resetZoom=!0),this.baseSize.setSize(M,R),F&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),w.minWidth>0&&this.displaySize.setMin(w.minWidth*L,w.minHeight*L),w.maxWidth>0&&this.displaySize.setMax(w.maxWidth*L,w.maxHeight*L),this.displaySize.setSize(M,R),(w.snapWidth>0||w.snapHeight>0)&&this.displaySize.setSnap(w.snapWidth,w.snapHeight),this.orientation=c(M,R)},getParent:function(w){var M=w.parent;if(M!==null){if(this.parent=f(M),this.parentIsWindow=this.parent===document.body,w.expandParent&&w.scaleMode!==o.SCALE_MODE.NONE){var R=this.parent.getBoundingClientRect();(this.parentIsWindow||R.height===0)&&(document.documentElement.style.height="100%",document.body.style.height="100%",R=this.parent.getBoundingClientRect(),!this.parentIsWindow&&R.height===0&&(this.parent.style.overflow="hidden",this.parent.style.width="100%",this.parent.style.height="100%"))}w.fullscreenTarget&&!this.fullscreenTarget&&(this.fullscreenTarget=f(w.fullscreenTarget))}},getParentBounds:function(){if(!this.parent)return!1;var w=this.parentSize,M=this.parent.getBoundingClientRect();this.parentIsWindow&&this.game.device.os.iOS&&(M.height=a(!0));var R=M.width,A=M.height;if(w.width!==R||w.height!==A)return w.setSize(R,A),!0;if(this.canvas){var L=this.canvasBounds,F=this.canvas.getBoundingClientRect();if(F.x!==L.x||F.y!==L.y)return!0}return!1},lockOrientation:function(w){var M=screen.lockOrientation||screen.mozLockOrientation||screen.msLockOrientation;return M?M.call(screen,w):!1},setParentSize:function(w,M){return this.parentSize.setSize(w,M),this.refresh()},setGameSize:function(w,M){var R=this.autoRound;R&&(w=Math.floor(w),M=Math.floor(M));var A=this.width,L=this.height;return this.gameSize.resize(w,M),this.baseSize.resize(w,M),R&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setAspectRatio(w/M),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height,this.refresh(A,L)},resize:function(w,M){var R=this.zoom,A=this.autoRound;A&&(w=Math.floor(w),M=Math.floor(M));var L=this.width,F=this.height;this.gameSize.resize(w,M),this.baseSize.resize(w,M),A&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setSize(w*R,M*R),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height;var G=this.canvas.style,I=w*R,B=M*R;return A&&(I=Math.floor(I),B=Math.floor(B)),(I!==w||B!==M)&&(G.width=I+"px",G.height=B+"px"),this.refresh(L,F)},setZoom:function(w){return this.zoom=w,this._resetZoom=!0,this.refresh()},setMaxZoom:function(){return this.zoom=this.getMaxZoom(),this._resetZoom=!0,this.refresh()},setSnap:function(w,M){return w===void 0&&(w=0),M===void 0&&(M=w),this.displaySize.setSnap(w,M),this.refresh()},refresh:function(w,M){w===void 0&&(w=this.width),M===void 0&&(M=this.height),this.updateScale(),this.updateBounds(),this.updateOrientation(),this.displayScale.set(this.baseSize.width/this.canvasBounds.width,this.baseSize.height/this.canvasBounds.height);var R=this.game.domContainer;if(R){this.baseSize.setCSS(R);var A=this.canvas.style,L=R.style;L.transform="scale("+this.displaySize.width/this.baseSize.width+","+this.displaySize.height/this.baseSize.height+")",L.marginLeft=A.marginLeft,L.marginTop=A.marginTop}return this.emit(h.RESIZE,this.gameSize,this.baseSize,this.displaySize,w,M),this},updateOrientation:function(){if(this._checkOrientation){this._checkOrientation=!1;var w=c(this.width,this.height);w!==this.orientation&&(this.orientation=w,this.emit(h.ORIENTATION_CHANGE,w))}},updateScale:function(){var w=this.canvas.style,M=this.gameSize.width,R=this.gameSize.height,A,L,F=this.zoom,G=this.autoRound;if(this.scaleMode===o.SCALE_MODE.NONE)this.displaySize.setSize(M*F,R*F),A=this.displaySize.width,L=this.displaySize.height,G&&(A=Math.floor(A),L=Math.floor(L)),this._resetZoom&&(w.width=A+"px",w.height=L+"px",this._resetZoom=!1);else if(this.scaleMode===o.SCALE_MODE.RESIZE)this.displaySize.setSize(this.parentSize.width,this.parentSize.height),this.gameSize.setSize(this.displaySize.width,this.displaySize.height),this.baseSize.setSize(this.displaySize.width,this.displaySize.height),A=this.displaySize.width,L=this.displaySize.height,G&&(A=Math.floor(A),L=Math.floor(L)),this.canvas.width=A,this.canvas.height=L;else if(this.scaleMode===o.SCALE_MODE.EXPAND){var I=this.game.config.width,B=this.game.config.height;this.displaySize.setSize(this.parentSize.width,this.parentSize.height),A=this.displaySize.width,L=this.displaySize.height,G&&(A=Math.floor(A),L=Math.floor(L)),w.width=A+"px",w.height=L+"px";var k=this.parentSize.width/I,U=this.parentSize.height/B;k<U&&k!==0?this.baseSize.setSize(I,this.parentSize.height/k):U!==0&&this.baseSize.setSize(this.displaySize.width/U,B),this.gameSize.setSize(this.baseSize.width,this.baseSize.height),A=this.baseSize.width,L=this.baseSize.height,G&&(A=Math.floor(A),L=Math.floor(L)),this.canvas.width=A,this.canvas.height=L}else this.displaySize.setSize(this.parentSize.width,this.parentSize.height),A=this.displaySize.width,L=this.displaySize.height,G&&(A=Math.floor(A),L=Math.floor(L)),w.width=A+"px",w.height=L+"px";this.getParentBounds(),this.updateCenter()},getMaxZoom:function(){var w=m(this.parentSize.width,this.gameSize.width,0,!0),M=m(this.parentSize.height,this.gameSize.height,0,!0);return Math.max(Math.min(w,M),1)},updateCenter:function(){var w=this.autoCenter;if(w!==o.CENTER.NO_CENTER){var M=this.canvas,R=M.style,A=M.getBoundingClientRect(),L=A.width,F=A.height,G=Math.floor((this.parentSize.width-L)/2),I=Math.floor((this.parentSize.height-F)/2);w===o.CENTER.CENTER_HORIZONTALLY?I=0:w===o.CENTER.CENTER_VERTICALLY&&(G=0),R.marginLeft=G+"px",R.marginTop=I+"px"}},updateBounds:function(){var w=this.canvasBounds,M=this.canvas.getBoundingClientRect();w.x=M.left+(window.pageXOffset||0)-(document.documentElement.clientLeft||0),w.y=M.top+(window.pageYOffset||0)-(document.documentElement.clientTop||0),w.width=M.width,w.height=M.height},transformX:function(w){return(w-this.canvasBounds.left)*this.displayScale.x},transformY:function(w){return(w-this.canvasBounds.top)*this.displayScale.y},startFullscreen:function(w){w===void 0&&(w={navigationUI:"hide"});var M=this.fullscreen;if(!M.available){this.emit(h.FULLSCREEN_UNSUPPORTED);return}if(!M.active){var R=this.getFullscreenTarget();M.keyboard?R[M.request](Element.ALLOW_KEYBOARD_INPUT):R[M.request](w)}},fullscreenSuccessHandler:function(){this.getParentBounds(),this.refresh(),this.emit(h.ENTER_FULLSCREEN)},fullscreenErrorHandler:function(w){this.removeFullscreenTarget(),this.emit(h.FULLSCREEN_FAILED,w)},getFullscreenTarget:function(){if(!this.fullscreenTarget){var w=document.createElement("div");w.style.margin="0",w.style.padding="0",w.style.width="100%",w.style.height="100%",this.fullscreenTarget=w,this._createdFullscreenTarget=!0}if(this._createdFullscreenTarget){var M=this.canvas.parentNode;M.insertBefore(this.fullscreenTarget,this.canvas),this.fullscreenTarget.appendChild(this.canvas)}return this.fullscreenTarget},removeFullscreenTarget:function(){if(this._createdFullscreenTarget){var w=this.fullscreenTarget;if(w&&w.parentNode){var M=w.parentNode;M.insertBefore(this.canvas,w),M.removeChild(w)}}},stopFullscreen:function(){var w=this.fullscreen;if(!w.available)return this.emit(h.FULLSCREEN_UNSUPPORTED),!1;w.active&&document[w.cancel](),this.removeFullscreenTarget()},leaveFullScreenSuccessHandler:function(){this.getParentBounds(),this.emit(h.LEAVE_FULLSCREEN),this.refresh()},toggleFullscreen:function(w){this.fullscreen.active?this.stopFullscreen():this.startFullscreen(w)},startListeners:function(){var w=this,M=this.domlisteners;if(M.orientationChange=function(){w.updateBounds(),w._checkOrientation=!0,w.dirty=!0,w.refresh()},M.windowResize=function(){w.updateBounds(),w.dirty=!0},screen.orientation&&screen.orientation.addEventListener?screen.orientation.addEventListener("change",M.orientationChange,!1):window.addEventListener("orientationchange",M.orientationChange,!1),window.addEventListener("resize",M.windowResize,!1),this.fullscreen.available){M.fullScreenChange=function(A){return w.onFullScreenChange(A)},M.fullScreenError=function(A){return w.onFullScreenError(A)};var R=["webkit","moz",""];R.forEach(function(A){document.addEventListener(A+"fullscreenchange",M.fullScreenChange,!1),document.addEventListener(A+"fullscreenerror",M.fullScreenError,!1)}),document.addEventListener("MSFullscreenChange",M.fullScreenChange,!1),document.addEventListener("MSFullscreenError",M.fullScreenError,!1)}},onFullScreenChange:function(){document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.mozFullScreenElement?this.fullscreenSuccessHandler():(this.stopFullscreen(),this.leaveFullScreenSuccessHandler())},onFullScreenError:function(){this.removeFullscreenTarget()},getViewPort:function(w,M){w instanceof C||(M=w,w=void 0),M===void 0&&(M=new v);var R=this.baseSize,A=this.parentSize,L=this.canvasBounds,F=this.displayScale,G=L.x>=0?0:-(L.x*F.x),I=L.y>=0?0:-(L.y*F.y),B;A.width>=L.width?B=R.width:B=R.width-(L.width-A.width)*F.x;var k;return A.height>=L.height?k=R.height:k=R.height-(L.height-A.height)*F.y,M.setTo(G,I,B,k),w&&(M.width/=w.zoomX,M.height/=w.zoomY,M.centerX=w.centerX+w.scrollX,M.centerY=w.centerY+w.scrollY),M},step:function(w,M){this.parent&&(this._lastCheck+=M,(this.dirty||this._lastCheck>this.resizeInterval)&&(this.getParentBounds()&&this.refresh(),this.dirty=!1,this._lastCheck=0))},stopListeners:function(){var w=this.domlisteners;screen.orientation&&screen.orientation.addEventListener?screen.orientation.removeEventListener("change",w.orientationChange,!1):window.removeEventListener("orientationchange",w.orientationChange,!1),window.removeEventListener("resize",w.windowResize,!1);var M=["webkit","moz",""];M.forEach(function(R){document.removeEventListener(R+"fullscreenchange",w.fullScreenChange,!1),document.removeEventListener(R+"fullscreenerror",w.fullScreenError,!1)}),document.removeEventListener("MSFullscreenChange",w.fullScreenChange,!1),document.removeEventListener("MSFullscreenError",w.fullScreenError,!1)},destroy:function(){this.removeAllListeners(),this.stopListeners(),this.game=null,this.canvas=null,this.canvasBounds=null,this.parent=null,this.fullscreenTarget=null,this.parentSize.destroy(),this.gameSize.destroy(),this.baseSize.destroy(),this.displaySize.destroy()},isFullscreen:{get:function(){return this.fullscreen.active}},width:{get:function(){return this.gameSize.width}},height:{get:function(){return this.gameSize.height}},isPortrait:{get:function(){return this.orientation===o.ORIENTATION.PORTRAIT}},isLandscape:{get:function(){return this.orientation===o.ORIENTATION.LANDSCAPE}},isGamePortrait:{get:function(){return this.height>this.width}},isGameLandscape:{get:function(){return this.width>this.height}}});n.exports=P}),64743:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={NO_CENTER:0,CENTER_BOTH:1,CENTER_HORIZONTALLY:2,CENTER_VERTICALLY:3}}),39218:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={LANDSCAPE:"landscape-primary",LANDSCAPE_SECONDARY:"landscape-secondary",PORTRAIT:"portrait-primary",PORTRAIT_SECONDARY:"portrait-secondary"}}),81050:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={NONE:0,WIDTH_CONTROLS_HEIGHT:1,HEIGHT_CONTROLS_WIDTH:2,FIT:3,ENVELOP:4,RESIZE:5,EXPAND:6}}),80805:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={NO_ZOOM:1,ZOOM_2X:2,ZOOM_4X:4,MAX_ZOOM:-1}}),13560:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={CENTER:r(64743),ORIENTATION:r(39218),SCALE_MODE:r(81050),ZOOM:r(80805)};n.exports=o}),56139:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="enterfullscreen"}),2336:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="fullscreenfailed"}),47412:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="fullscreenunsupported"}),51452:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="leavefullscreen"}),20666:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="orientationchange"}),47945:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="resize"}),97480:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ENTER_FULLSCREEN:r(56139),FULLSCREEN_FAILED:r(2336),FULLSCREEN_UNSUPPORTED:r(47412),LEAVE_FULLSCREEN:r(51452),ORIENTATION_CHANGE:r(20666),RESIZE:r(47945)}}),93364:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(79291),y=r(13560),d={Center:r(64743),Events:r(97480),Orientation:r(39218),ScaleManager:r(76531),ScaleModes:r(81050),Zoom:r(80805)};d=o(!1,d,y.CENTER),d=o(!1,d,y.ORIENTATION),d=o(!1,d,y.SCALE_MODE),d=o(!1,d,y.ZOOM),n.exports=d}),27397:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(95540),y=r(35355),d=function(h){var l=h.game.config.defaultPhysicsSystem,a=o(h.settings,"physics",!1);if(!(!l&&!a)){var f=[];if(l&&f.push(y(l+"Physics")),a)for(var c in a)c=y(c.concat("Physics")),f.indexOf(c)===-1&&f.push(c);return f}};n.exports=d}),52106:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(95540),y=function(d){var h=d.plugins.getDefaultScenePlugins(),l=o(d.settings,"plugins",!1);return Array.isArray(l)?l:h||[]};n.exports=y}),87033:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={game:"game",renderer:"renderer",anims:"anims",cache:"cache",plugins:"plugins",registry:"registry",scale:"scale",sound:"sound",textures:"textures",events:"events",cameras:"cameras",add:"add",make:"make",scenePlugin:"scene",displayList:"children",lights:"lights",data:"data",input:"input",load:"load",time:"time",tweens:"tweens",arcadePhysics:"physics",impactPhysics:"impact",matterPhysics:"matter"};n.exports=T}),97482:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(2368),d=new o({initialize:function(l){this.sys=new y(this,l),this.game,this.anims,this.cache,this.registry,this.sound,this.textures,this.events,this.cameras,this.add,this.make,this.scene,this.children,this.lights,this.data,this.input,this.load,this.time,this.tweens,this.physics,this.matter,this.scale,this.plugins,this.renderer},update:function(){}});n.exports=d}),60903:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(89993),d=r(44594),h=r(8443),l=r(35154),a=r(54899),f=r(29747),c=r(97482),u=r(2368),v=new o({initialize:function(m,x){if(this.game=m,this.keys={},this.scenes=[],this._pending=[],this._start=[],this._queue=[],this._data={},this.isProcessing=!1,this.isBooted=!1,this.customViewports=0,this.systemScene,x){Array.isArray(x)||(x=[x]);for(var C=0;C<x.length;C++)this._pending.push({key:"default",scene:x[C],autoStart:C===0,data:{}})}m.events.once(h.READY,this.bootQueue,this)},bootQueue:function(){if(!this.isBooted){this.systemScene=this.createSceneFromInstance("__SYSTEM",new c),this.game.events.emit(h.SYSTEM_READY,this.systemScene,this);var p,m,x,C;for(p=0;p<this._pending.length;p++){m=this._pending[p],x=m.key,C=m.scene;var P;C instanceof c?P=this.createSceneFromInstance(x,C):typeof C=="object"?P=this.createSceneFromObject(x,C):typeof C=="function"&&(P=this.createSceneFromFunction(x,C)),x=P.sys.settings.key,this.keys[x]=P,this.scenes.push(P),this._data[x]&&(P.sys.settings.data=this._data[x].data,this._data[x].autoStart&&(m.autoStart=!0)),(m.autoStart||P.sys.settings.active)&&this._start.push(x)}for(this._pending.length=0,this._data={},this.isBooted=!0,p=0;p<this._start.length;p++)m=this._start[p],this.start(m);this._start.length=0}},processQueue:function(){var p=this._pending.length,m=this._queue.length;if(!(p===0&&m===0)){var x,C;if(p){for(x=0;x<p;x++)C=this._pending[x],this.add(C.key,C.scene,C.autoStart,C.data);for(x=0;x<this._start.length;x++)C=this._start[x],this.start(C);this._start.length=0,this._pending.length=0}for(x=0;x<this._queue.length;x++)C=this._queue[x],this[C.op](C.keyA,C.keyB,C.data);this._queue.length=0}},add:function(p,m,x,C){if(x===void 0&&(x=!1),C===void 0&&(C={}),this.isProcessing||!this.isBooted)return this._pending.push({key:p,scene:m,autoStart:x,data:C}),this.isBooted||(this._data[p]={data:C}),null;p=this.getKey(p,m);var P;return m instanceof c?P=this.createSceneFromInstance(p,m):typeof m=="object"?(m.key=p,P=this.createSceneFromObject(p,m)):typeof m=="function"&&(P=this.createSceneFromFunction(p,m)),P.sys.settings.data=C,p=P.sys.settings.key,this.keys[p]=P,this.scenes.push(P),(x||P.sys.settings.active)&&(this._pending.length?this._start.push(p):this.start(p)),P},remove:function(p){if(this.isProcessing)return this.queueOp("remove",p);var m=this.getScene(p);if(!m||m.sys.isTransitioning())return this;var x=this.scenes.indexOf(m),C=m.sys.settings.key;return x>-1&&(delete this.keys[C],this.scenes.splice(x,1),this._start.indexOf(C)>-1&&(x=this._start.indexOf(C),this._start.splice(x,1)),m.sys.destroy()),this},bootScene:function(p){var m=p.sys,x=m.settings;m.sceneUpdate=f,p.init&&(p.init.call(p,x.data),x.status=y.INIT,x.isTransition&&m.events.emit(d.TRANSITION_INIT,x.transitionFrom,x.transitionDuration));var C;m.load&&(C=m.load,C.reset()),C&&p.preload?(p.preload.call(p),x.status=y.LOADING,C.once(a.COMPLETE,this.loadComplete,this),C.start()):this.create(p)},loadComplete:function(p){this.create(p.scene)},payloadComplete:function(p){this.bootScene(p.scene)},update:function(p,m){this.processQueue(),this.isProcessing=!0;for(var x=this.scenes.length-1;x>=0;x--){var C=this.scenes[x].sys;C.settings.status>y.START&&C.settings.status<=y.RUNNING&&C.step(p,m),C.scenePlugin&&C.scenePlugin._target&&C.scenePlugin.step(p,m)}},render:function(p){for(var m=0;m<this.scenes.length;m++){var x=this.scenes[m].sys;x.settings.visible&&x.settings.status>=y.LOADING&&x.settings.status<y.SLEEPING&&x.render(p)}this.isProcessing=!1},create:function(p){var m=p.sys,x=m.settings;p.create&&(x.status=y.CREATING,p.create.call(p,x.data),x.status===y.DESTROYED)||(x.isTransition&&m.events.emit(d.TRANSITION_START,x.transitionFrom,x.transitionDuration),p.update&&(m.sceneUpdate=p.update),x.status=y.RUNNING,m.events.emit(d.CREATE,p))},createSceneFromFunction:function(p,m){var x=new m;if(x instanceof c){var C=x.sys.settings.key;if(C!==""&&(p=C),this.keys.hasOwnProperty(p))throw new Error("Cannot add Scene with duplicate key: "+p);return this.createSceneFromInstance(p,x)}else return x.sys=new u(x),x.sys.settings.key=p,x.sys.init(this.game),x},createSceneFromInstance:function(p,m){var x=m.sys.settings.key;return x===""&&(m.sys.settings.key=p),m.sys.init(this.game),m},createSceneFromObject:function(p,m){var x=new c(m),C=x.sys.settings.key;C!==""?p=C:x.sys.settings.key=p,x.sys.init(this.game);for(var P=["init","preload","create","update","render"],w=0;w<P.length;w++){var M=l(m,P[w],null);M&&(x[P[w]]=M)}if(m.hasOwnProperty("extend")){for(var R in m.extend)if(m.extend.hasOwnProperty(R)){var A=m.extend[R];R==="data"&&x.hasOwnProperty("data")&&typeof A=="object"?x.data.merge(A):R!=="sys"&&(x[R]=A)}}return x},getKey:function(p,m){if(p||(p="default"),typeof m=="function")return p;if(m instanceof c?p=m.sys.settings.key:typeof m=="object"&&m.hasOwnProperty("key")&&(p=m.key),this.keys.hasOwnProperty(p))throw new Error("Cannot add Scene with duplicate key: "+p);return p},getScenes:function(p,m){p===void 0&&(p=!0),m===void 0&&(m=!1);for(var x=[],C=this.scenes,P=0;P<C.length;P++){var w=C[P];w&&(!p||p&&w.sys.isActive())&&x.push(w)}return m?x.reverse():x},getScene:function(p){if(typeof p=="string"){if(this.keys[p])return this.keys[p]}else for(var m=0;m<this.scenes.length;m++)if(p===this.scenes[m])return p;return null},isActive:function(p){var m=this.getScene(p);return m?m.sys.isActive():null},isPaused:function(p){var m=this.getScene(p);return m?m.sys.isPaused():null},isVisible:function(p){var m=this.getScene(p);return m?m.sys.isVisible():null},isSleeping:function(p){var m=this.getScene(p);return m?m.sys.isSleeping():null},pause:function(p,m){var x=this.getScene(p);return x&&x.sys.pause(m),this},resume:function(p,m){var x=this.getScene(p);return x&&x.sys.resume(m),this},sleep:function(p,m){var x=this.getScene(p);return x&&!x.sys.isTransitioning()&&x.sys.sleep(m),this},wake:function(p,m){var x=this.getScene(p);return x&&x.sys.wake(m),this},run:function(p,m){var x=this.getScene(p);if(!x){for(var C=0;C<this._pending.length;C++)if(this._pending[C].key===p){this.queueOp("start",p,m);break}return this}x.sys.isSleeping()?x.sys.wake(m):x.sys.isPaused()?x.sys.resume(m):this.start(p,m)},start:function(p,m){if(!this.isBooted)return this._data[p]={autoStart:!0,data:m},this;var x=this.getScene(p);if(!x)return console.warn("Scene key not found: "+p),this;var C=x.sys,P=C.settings.status;if(P>=y.START&&P<=y.CREATING)return this;if(P>=y.RUNNING&&P<=y.SLEEPING)C.shutdown(),C.sceneUpdate=f,C.start(m);else{C.sceneUpdate=f,C.start(m);var w;if(C.load&&(w=C.load),w&&C.settings.hasOwnProperty("pack")&&(w.reset(),w.addPack({payload:C.settings.pack})))return C.settings.status=y.LOADING,w.once(a.COMPLETE,this.payloadComplete,this),w.start(),this}return this.bootScene(x),this},stop:function(p,m){var x=this.getScene(p);if(x&&!x.sys.isTransitioning()&&x.sys.settings.status!==y.SHUTDOWN){var C=x.sys.load;C&&(C.off(a.COMPLETE,this.loadComplete,this),C.off(a.COMPLETE,this.payloadComplete,this)),x.sys.shutdown(m)}return this},switch:function(p,m,x){var C=this.getScene(p),P=this.getScene(m);return C&&P&&C!==P&&(this.sleep(p),this.isSleeping(m)?this.wake(m,x):this.start(m,x)),this},getAt:function(p){return this.scenes[p]},getIndex:function(p){var m=this.getScene(p);return this.scenes.indexOf(m)},bringToTop:function(p){if(this.isProcessing)return this.queueOp("bringToTop",p);var m=this.getIndex(p),x=this.scenes;if(m!==-1&&m<x.length){var C=this.getScene(p);x.splice(m,1),x.push(C)}return this},sendToBack:function(p){if(this.isProcessing)return this.queueOp("sendToBack",p);var m=this.getIndex(p);if(m!==-1&&m>0){var x=this.getScene(p);this.scenes.splice(m,1),this.scenes.unshift(x)}return this},moveDown:function(p){if(this.isProcessing)return this.queueOp("moveDown",p);var m=this.getIndex(p);if(m>0){var x=m-1,C=this.getScene(p),P=this.getAt(x);this.scenes[m]=P,this.scenes[x]=C}return this},moveUp:function(p){if(this.isProcessing)return this.queueOp("moveUp",p);var m=this.getIndex(p);if(m<this.scenes.length-1){var x=m+1,C=this.getScene(p),P=this.getAt(x);this.scenes[m]=P,this.scenes[x]=C}return this},moveAbove:function(p,m){if(p===m)return this;if(this.isProcessing)return this.queueOp("moveAbove",p,m);var x=this.getIndex(p),C=this.getIndex(m);if(x!==-1&&C!==-1&&C<x){var P=this.getAt(C);this.scenes.splice(C,1),this.scenes.splice(x+(C>x),0,P)}return this},moveBelow:function(p,m){if(p===m)return this;if(this.isProcessing)return this.queueOp("moveBelow",p,m);var x=this.getIndex(p),C=this.getIndex(m);if(x!==-1&&C!==-1&&C>x){var P=this.getAt(C);this.scenes.splice(C,1),x===0?this.scenes.unshift(P):this.scenes.splice(x-(C<x),0,P)}return this},queueOp:function(p,m,x,C){return this._queue.push({op:p,keyA:m,keyB:x,data:C}),this},swapPosition:function(p,m){if(p===m)return this;if(this.isProcessing)return this.queueOp("swapPosition",p,m);var x=this.getIndex(p),C=this.getIndex(m);if(x!==C&&x!==-1&&C!==-1){var P=this.getAt(x);this.scenes[x]=this.scenes[C],this.scenes[C]=P}return this},dump:function(){for(var p=[],m=["pending","init","start","loading","creating","running","paused","sleeping","shutdown","destroyed"],x=0;x<this.scenes.length;x++){var C=this.scenes[x].sys,P=C.settings.visible&&(C.settings.status===y.RUNNING||C.settings.status===y.PAUSED)?"[*] ":"[-] ";P+=C.settings.key+" ("+m[C.settings.status]+")",p.push(P)}console.log(p.join(`
`))},destroy:function(){for(var p=0;p<this.scenes.length;p++){var m=this.scenes[p].sys;m.destroy()}this.systemScene.sys.destroy(),this.update=f,this.scenes=[],this._pending=[],this._start=[],this._queue=[],this.game=null,this.systemScene=null}});n.exports=v}),52209:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(45319),y=r(83419),d=r(44594),h=r(95540),l=r(37277),a=new y({initialize:function(c){this.scene=c,this.systems=c.sys,this.settings=c.sys.settings,this.key=c.sys.settings.key,this.manager=c.sys.game.scene,this.transitionProgress=0,this._elapsed=0,this._target=null,this._duration=0,this._onUpdate,this._onUpdateScope,this._willSleep=!1,this._willRemove=!1,c.sys.events.once(d.BOOT,this.boot,this),c.sys.events.on(d.START,this.pluginStart,this)},boot:function(){this.systems.events.once(d.DESTROY,this.destroy,this)},pluginStart:function(){this._target=null,this.systems.events.once(d.SHUTDOWN,this.shutdown,this)},start:function(f,c){return f===void 0&&(f=this.key),this.manager.queueOp("stop",this.key),this.manager.queueOp("start",f,c),this},restart:function(f){var c=this.key;return this.manager.queueOp("stop",c),this.manager.queueOp("start",c,f),this},transition:function(f){f===void 0&&(f={});var c=h(f,"target",!1),u=this.manager.getScene(c);if(!c||!this.checkValidTransition(u))return!1;var v=h(f,"duration",1e3);this._elapsed=0,this._target=u,this._duration=v,this._willSleep=h(f,"sleep",!1),this._willRemove=h(f,"remove",!1);var p=h(f,"onUpdate",null);p&&(this._onUpdate=p,this._onUpdateScope=h(f,"onUpdateScope",this.scene));var m=h(f,"allowInput",!1);this.settings.transitionAllowInput=m;var x=u.sys.settings;x.isTransition=!0,x.transitionFrom=this.scene,x.transitionDuration=v,x.transitionAllowInput=m,h(f,"moveAbove",!1)?this.manager.moveAbove(this.key,c):h(f,"moveBelow",!1)&&this.manager.moveBelow(this.key,c),u.sys.isSleeping()?u.sys.wake(h(f,"data")):this.manager.start(c,h(f,"data"));var C=h(f,"onStart",null),P=h(f,"onStartScope",this.scene);return C&&C.call(P,this.scene,u,v),this.systems.events.emit(d.TRANSITION_OUT,u,v),!0},checkValidTransition:function(f){return!(!f||f.sys.isActive()||f.sys.isTransitioning()||f===this.scene||this.systems.isTransitioning())},step:function(f,c){this._elapsed+=c,this.transitionProgress=o(this._elapsed/this._duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.transitionProgress),this._elapsed>=this._duration&&this.transitionComplete()},transitionComplete:function(){var f=this._target.sys,c=this._target.sys.settings;f.events.emit(d.TRANSITION_COMPLETE,this.scene),c.isTransition=!1,c.transitionFrom=null,this._duration=0,this._target=null,this._onUpdate=null,this._onUpdateScope=null,this._willRemove?this.manager.remove(this.key):this._willSleep?this.systems.sleep():this.manager.stop(this.key)},add:function(f,c,u,v){return this.manager.add(f,c,u,v)},launch:function(f,c){return f&&f!==this.key&&this.manager.queueOp("start",f,c),this},run:function(f,c){return f&&f!==this.key&&this.manager.queueOp("run",f,c),this},pause:function(f,c){return f===void 0&&(f=this.key),this.manager.queueOp("pause",f,c),this},resume:function(f,c){return f===void 0&&(f=this.key),this.manager.queueOp("resume",f,c),this},sleep:function(f,c){return f===void 0&&(f=this.key),this.manager.queueOp("sleep",f,c),this},wake:function(f,c){return f===void 0&&(f=this.key),this.manager.queueOp("wake",f,c),this},switch:function(f,c){return f!==this.key&&this.manager.queueOp("switch",this.key,f,c),this},stop:function(f,c){return f===void 0&&(f=this.key),this.manager.queueOp("stop",f,c),this},setActive:function(f,c,u){c===void 0&&(c=this.key);var v=this.manager.getScene(c);return v&&v.sys.setActive(f,u),this},setVisible:function(f,c){c===void 0&&(c=this.key);var u=this.manager.getScene(c);return u&&u.sys.setVisible(f),this},isSleeping:function(f){return f===void 0&&(f=this.key),this.manager.isSleeping(f)},isActive:function(f){return f===void 0&&(f=this.key),this.manager.isActive(f)},isPaused:function(f){return f===void 0&&(f=this.key),this.manager.isPaused(f)},isVisible:function(f){return f===void 0&&(f=this.key),this.manager.isVisible(f)},swapPosition:function(f,c){return c===void 0&&(c=this.key),f!==c&&this.manager.swapPosition(f,c),this},moveAbove:function(f,c){return c===void 0&&(c=this.key),f!==c&&this.manager.moveAbove(f,c),this},moveBelow:function(f,c){return c===void 0&&(c=this.key),f!==c&&this.manager.moveBelow(f,c),this},remove:function(f){return f===void 0&&(f=this.key),this.manager.remove(f),this},moveUp:function(f){return f===void 0&&(f=this.key),this.manager.moveUp(f),this},moveDown:function(f){return f===void 0&&(f=this.key),this.manager.moveDown(f),this},bringToTop:function(f){return f===void 0&&(f=this.key),this.manager.bringToTop(f),this},sendToBack:function(f){return f===void 0&&(f=this.key),this.manager.sendToBack(f),this},get:function(f){return this.manager.getScene(f)},getStatus:function(f){var c=this.manager.getScene(f);if(c)return c.sys.getStatus()},getIndex:function(f){return f===void 0&&(f=this.key),this.manager.getIndex(f)},shutdown:function(){var f=this.systems.events;f.off(d.SHUTDOWN,this.shutdown,this),f.off(d.TRANSITION_OUT)},destroy:function(){this.shutdown(),this.scene.sys.events.off(d.START,this.start,this),this.scene=null,this.systems=null,this.settings=null,this.manager=null}});l.register("ScenePlugin",a,"scenePlugin"),n.exports=a}),55681:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(89993),y=r(35154),d=r(46975),h=r(87033),l={create:function(a){return typeof a=="string"?a={key:a}:a===void 0&&(a={}),{status:o.PENDING,key:y(a,"key",""),active:y(a,"active",!1),visible:y(a,"visible",!0),isBooted:!1,isTransition:!1,transitionFrom:null,transitionDuration:0,transitionAllowInput:!0,data:{},pack:y(a,"pack",!1),cameras:y(a,"cameras",null),map:y(a,"map",d(h,y(a,"mapAdd",{}))),physics:y(a,"physics",{}),loader:y(a,"loader",{}),plugins:y(a,"plugins",!1),input:y(a,"input",{})}}};n.exports=l}),2368:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(89993),d=r(42363),h=r(44594),l=r(27397),a=r(52106),f=r(29747),c=r(55681),u=new o({initialize:function(p,m){this.scene=p,this.game,this.renderer,this.config=m,this.settings=c.create(m),this.canvas,this.context,this.anims,this.cache,this.plugins,this.registry,this.scale,this.sound,this.textures,this.add,this.cameras,this.displayList,this.events,this.make,this.scenePlugin,this.updateList,this.sceneUpdate=f},init:function(v){this.settings.status=y.INIT,this.sceneUpdate=f,this.game=v,this.renderer=v.renderer,this.canvas=v.canvas,this.context=v.context;var p=v.plugins;this.plugins=p,p.addToScene(this,d.Global,[d.CoreScene,a(this),l(this)]),this.events.emit(h.BOOT,this),this.settings.isBooted=!0},step:function(v,p){var m=this.events;m.emit(h.PRE_UPDATE,v,p),m.emit(h.UPDATE,v,p),this.sceneUpdate.call(this.scene,v,p),m.emit(h.POST_UPDATE,v,p)},render:function(v){var p=this.displayList;p.depthSort(),this.events.emit(h.PRE_RENDER,v),this.cameras.render(v,p),this.events.emit(h.RENDER,v)},queueDepthSort:function(){this.displayList.queueDepthSort()},depthSort:function(){this.displayList.depthSort()},pause:function(v){var p=this.settings,m=this.getStatus();return m!==y.CREATING&&m!==y.RUNNING?console.warn("Cannot pause non-running Scene",p.key):this.settings.active&&(p.status=y.PAUSED,p.active=!1,this.events.emit(h.PAUSE,this,v)),this},resume:function(v){var p=this.events,m=this.settings;return this.settings.active||(m.status=y.RUNNING,m.active=!0,p.emit(h.RESUME,this,v)),this},sleep:function(v){var p=this.settings,m=this.getStatus();return m!==y.CREATING&&m!==y.RUNNING?console.warn("Cannot sleep non-running Scene",p.key):(p.status=y.SLEEPING,p.active=!1,p.visible=!1,this.events.emit(h.SLEEP,this,v)),this},wake:function(v){var p=this.events,m=this.settings;return m.status=y.RUNNING,m.active=!0,m.visible=!0,p.emit(h.WAKE,this,v),m.isTransition&&p.emit(h.TRANSITION_WAKE,m.transitionFrom,m.transitionDuration),this},getData:function(){return this.settings.data},getStatus:function(){return this.settings.status},canInput:function(){var v=this.settings.status;return v>y.PENDING&&v<=y.RUNNING},isSleeping:function(){return this.settings.status===y.SLEEPING},isActive:function(){return this.settings.status===y.RUNNING},isPaused:function(){return this.settings.status===y.PAUSED},isTransitioning:function(){return this.settings.isTransition||this.scenePlugin._target!==null},isTransitionOut:function(){return this.scenePlugin._target!==null&&this.scenePlugin._duration>0},isTransitionIn:function(){return this.settings.isTransition},isVisible:function(){return this.settings.visible},setVisible:function(v){return this.settings.visible=v,this},setActive:function(v,p){return v?this.resume(p):this.pause(p)},start:function(v){var p=this.events,m=this.settings;v&&(m.data=v),m.status=y.START,m.active=!0,m.visible=!0,p.emit(h.START,this),p.emit(h.READY,this,v)},shutdown:function(v){var p=this.events,m=this.settings;p.off(h.TRANSITION_INIT),p.off(h.TRANSITION_START),p.off(h.TRANSITION_COMPLETE),p.off(h.TRANSITION_OUT),m.status=y.SHUTDOWN,m.active=!1,m.visible=!1,p.emit(h.SHUTDOWN,this,v)},destroy:function(){var v=this.events,p=this.settings;p.status=y.DESTROYED,p.active=!1,p.visible=!1,v.emit(h.DESTROY,this),v.removeAllListeners();for(var m=["scene","game","anims","cache","plugins","registry","sound","textures","add","camera","displayList","events","make","scenePlugin","updateList"],x=0;x<m.length;x++)this[m[x]]=null}});n.exports=u}),89993:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={PENDING:0,INIT:1,START:2,LOADING:3,CREATING:4,RUNNING:5,PAUSED:6,SLEEPING:7,SHUTDOWN:8,DESTROYED:9};n.exports=T}),69830:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="addedtoscene"}),7919:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="boot"}),46763:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="create"}),11763:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="destroy"}),71555:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pause"}),36735:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="postupdate"}),3809:(n=>{/**
 * @author       samme
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="prerender"}),90716:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="preupdate"}),58262:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="ready"}),91633:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="removedfromscene"}),10319:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="render"}),87132:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="resume"}),81961:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="shutdown"}),90194:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="sleep"}),6265:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="start"}),33178:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="transitioncomplete"}),43063:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="transitioninit"}),11259:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="transitionout"}),61611:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="transitionstart"}),45209:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="transitionwake"}),22966:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="update"}),21747:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="wake"}),44594:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ADDED_TO_SCENE:r(69830),BOOT:r(7919),CREATE:r(46763),DESTROY:r(11763),PAUSE:r(71555),POST_UPDATE:r(36735),PRE_RENDER:r(3809),PRE_UPDATE:r(90716),READY:r(58262),REMOVED_FROM_SCENE:r(91633),RENDER:r(10319),RESUME:r(87132),SHUTDOWN:r(81961),SLEEP:r(90194),START:r(6265),TRANSITION_COMPLETE:r(33178),TRANSITION_INIT:r(43063),TRANSITION_OUT:r(11259),TRANSITION_START:r(61611),TRANSITION_WAKE:r(45209),UPDATE:r(22966),WAKE:r(21747)}}),62194:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(89993),y=r(79291),d={Events:r(44594),GetPhysicsPlugins:r(27397),GetScenePlugins:r(52106),SceneManager:r(60903),ScenePlugin:r(52209),Settings:r(55681),Systems:r(2368)};d=y(!1,d,o),n.exports=d}),30341:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(50792),d=r(14463),h=r(79291),l=r(29747),a=new o({Extends:y,initialize:function(c,u,v){y.call(this),this.manager=c,this.key=u,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=this.duration||0,this.totalDuration=this.totalDuration||0,this.config={mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},this.currentConfig=this.config,this.config=h(this.config,v),this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:function(f){return!f||!f.name||typeof f.name!="string"?!1:this.markers[f.name]?(console.error("addMarker "+f.name+" already exists in Sound"),!1):(f=h(!0,{name:"",start:0,duration:this.totalDuration-(f.start||0),config:{mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0}},f),this.markers[f.name]=f,!0)},updateMarker:function(f){return!f||!f.name||typeof f.name!="string"?!1:this.markers[f.name]?(this.markers[f.name]=h(!0,this.markers[f.name],f),!0):(console.warn("Audio Marker: "+f.name+" missing in Sound: "+this.key),!1)},removeMarker:function(f){var c=this.markers[f];return c?(this.markers[f]=null,c):null},play:function(f,c){if(f===void 0&&(f=""),typeof f=="object"&&(c=f,f=""),typeof f!="string")return!1;if(!f)this.currentMarker=null,this.currentConfig=this.config,this.duration=this.totalDuration;else{if(!this.markers[f])return console.warn("Marker: "+f+" missing in Sound: "+this.key),!1;this.currentMarker=this.markers[f],this.currentConfig=this.currentMarker.config,this.duration=this.currentMarker.duration}return this.resetConfig(),this.currentConfig=h(this.currentConfig,c),this.isPlaying=!0,this.isPaused=!1,!0},pause:function(){return this.isPaused||!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!0,!0)},resume:function(){return!this.isPaused||this.isPlaying?!1:(this.isPlaying=!0,this.isPaused=!1,!0)},stop:function(){return!this.isPaused&&!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!1,this.resetConfig(),!0)},applyConfig:function(){this.mute=this.currentConfig.mute,this.volume=this.currentConfig.volume,this.rate=this.currentConfig.rate,this.detune=this.currentConfig.detune,this.loop=this.currentConfig.loop,this.pan=this.currentConfig.pan},resetConfig:function(){this.currentConfig.seek=0,this.currentConfig.delay=0},update:l,calculateRate:function(){var f=1.0005777895065548,c=this.currentConfig.detune+this.manager.detune,u=Math.pow(f,c);this.totalRate=this.currentConfig.rate*this.manager.rate*u},destroy:function(){this.pendingRemove||(this.stop(),this.emit(d.DESTROY,this),this.removeAllListeners(),this.pendingRemove=!0,this.manager=null,this.config=null,this.currentConfig=null,this.markers=null,this.currentMarker=null)}});n.exports=a}),85034:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(41786),d=r(50792),h=r(14463),l=r(8443),a=r(46710),f=r(58731),c=r(29747),u=r(26099),v=new o({Extends:d,initialize:function(m){d.call(this),this.game=m,this.jsonCache=m.cache.json,this.sounds=[],this.mute=!1,this.volume=1,this.pauseOnBlur=!0,this._rate=1,this._detune=0,this.locked=this.locked||!1,this.unlocked=!1,this.gameLostFocus=!1,this.listenerPosition=new u;var x=m.events;x.on(l.BLUR,this.onGameBlur,this),x.on(l.FOCUS,this.onGameFocus,this),x.on(l.PRE_STEP,this.update,this),x.once(l.DESTROY,this.destroy,this)},add:c,addAudioSprite:function(p,m){m===void 0&&(m={});var x=this.add(p,m);x.spritemap=this.jsonCache.get(p).spritemap;for(var C in x.spritemap)if(x.spritemap.hasOwnProperty(C)){var P=y(m),w=x.spritemap[C];P.loop=w.hasOwnProperty("loop")?w.loop:!1,x.addMarker({name:C,start:w.start,duration:w.end-w.start,config:P})}return x},get:function(p){return f(this.sounds,"key",p)},getAll:function(p){return p?a(this.sounds,"key",p):a(this.sounds)},getAllPlaying:function(){return a(this.sounds,"isPlaying",!0)},play:function(p,m){var x=this.add(p);return x.once(h.COMPLETE,x.destroy,x),m?m.name?(x.addMarker(m),x.play(m.name)):x.play(m):x.play()},playAudioSprite:function(p,m,x){var C=this.addAudioSprite(p);return C.once(h.COMPLETE,C.destroy,C),C.play(m,x)},remove:function(p){var m=this.sounds.indexOf(p);return m!==-1?(p.destroy(),this.sounds.splice(m,1),!0):!1},removeAll:function(){this.sounds.forEach(function(p){p.destroy()}),this.sounds.length=0},removeByKey:function(p){for(var m=0,x=this.sounds.length-1;x>=0;x--){var C=this.sounds[x];C.key===p&&(C.destroy(),this.sounds.splice(x,1),m++)}return m},pauseAll:function(){this.forEachActiveSound(function(p){p.pause()}),this.emit(h.PAUSE_ALL,this)},resumeAll:function(){this.forEachActiveSound(function(p){p.resume()}),this.emit(h.RESUME_ALL,this)},setListenerPosition:c,stopAll:function(){this.forEachActiveSound(function(p){p.stop()}),this.emit(h.STOP_ALL,this)},stopByKey:function(p){var m=0;return this.getAll(p).forEach(function(x){x.stop()&&m++}),m},isPlaying:function(p){var m=this.sounds,x=m.length-1,C;if(p===void 0){for(;x>=0;x--)if(C=this.sounds[x],C.isPlaying)return!0}else for(;x>=0;x--)if(C=this.sounds[x],C.key===p&&C.isPlaying)return!0;return!1},unlock:c,onBlur:c,onFocus:c,onGameBlur:function(){this.gameLostFocus=!0,this.pauseOnBlur&&this.onBlur()},onGameFocus:function(){this.gameLostFocus=!1,this.pauseOnBlur&&this.onFocus()},update:function(p,m){this.unlocked&&(this.unlocked=!1,this.locked=!1,this.emit(h.UNLOCKED,this));for(var x=this.sounds.length-1;x>=0;x--)this.sounds[x].pendingRemove&&this.sounds.splice(x,1);this.sounds.forEach(function(C){C.update(p,m)})},destroy:function(){this.game.events.off(l.BLUR,this.onGameBlur,this),this.game.events.off(l.FOCUS,this.onGameFocus,this),this.game.events.off(l.PRE_STEP,this.update,this),this.removeAllListeners(),this.removeAll(),this.sounds.length=0,this.sounds=null,this.listenerPosition=null,this.game=null},forEachActiveSound:function(p,m){var x=this;this.sounds.forEach(function(C,P){C&&!C.pendingRemove&&p.call(m||x,C,P,x.sounds)})},setRate:function(p){return this.rate=p,this},rate:{get:function(){return this._rate},set:function(p){this._rate=p,this.forEachActiveSound(function(m){m.calculateRate()}),this.emit(h.GLOBAL_RATE,this,p)}},setDetune:function(p){return this.detune=p,this},detune:{get:function(){return this._detune},set:function(p){this._detune=p,this.forEachActiveSound(function(m){m.calculateRate()}),this.emit(h.GLOBAL_DETUNE,this,p)}}});n.exports=v}),14747:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(33684),y=r(25960),d=r(57490),h={create:function(l){var a=l.config.audio,f=l.device.audio;return a.noAudio||!f.webAudio&&!f.audioData?new y(l):f.webAudio&&!a.disableWebAudio?new d(l):new o(l)}};n.exports=h}),19723:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="complete"}),98882:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="decodedall"}),57506:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="decoded"}),73146:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="destroy"}),11305:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="detune"}),40577:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="detune"}),30333:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="mute"}),20394:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="rate"}),21802:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="volume"}),1299:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="looped"}),99190:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="loop"}),97125:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="mute"}),89259:(n=>{/**
 * @author       pi-kei
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pan"}),79986:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pauseall"}),17586:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pause"}),19618:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="play"}),42306:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="rate"}),10387:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="resumeall"}),48959:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="resume"}),9960:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="seek"}),19180:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="stopall"}),98328:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="stop"}),50401:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="unlocked"}),52498:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="volume"}),14463:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={COMPLETE:r(19723),DECODED:r(57506),DECODED_ALL:r(98882),DESTROY:r(73146),DETUNE:r(11305),GLOBAL_DETUNE:r(40577),GLOBAL_MUTE:r(30333),GLOBAL_RATE:r(20394),GLOBAL_VOLUME:r(21802),LOOP:r(99190),LOOPED:r(1299),MUTE:r(97125),PAN:r(89259),PAUSE_ALL:r(79986),PAUSE:r(17586),PLAY:r(19618),RATE:r(42306),RESUME_ALL:r(10387),RESUME:r(48959),SEEK:r(9960),STOP_ALL:r(19180),STOP:r(98328),UNLOCKED:r(50401),VOLUME:r(52498)}}),64895:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(30341),y=r(83419),d=r(14463),h=r(45319),l=new y({Extends:o,initialize:function(f,c,u){if(u===void 0&&(u={}),this.tags=f.game.cache.audio.get(c),!this.tags)throw new Error('No cached audio asset with key "'+c);this.audio=null,this.startTime=0,this.previousTime=0,this.duration=this.tags[0].duration,this.totalDuration=this.tags[0].duration,o.call(this,f,c,u)},play:function(a,f){return this.manager.isLocked(this,"play",[a,f])||!o.prototype.play.call(this,a,f)||!this.pickAndPlayAudioTag()?!1:(this.emit(d.PLAY,this),!0)},pause:function(){return this.manager.isLocked(this,"pause")||this.startTime>0||!o.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.stopAndReleaseAudioTag(),this.emit(d.PAUSE,this),!0)},resume:function(){return this.manager.isLocked(this,"resume")||this.startTime>0||!o.prototype.resume.call(this)||!this.pickAndPlayAudioTag()?!1:(this.emit(d.RESUME,this),!0)},stop:function(){return this.manager.isLocked(this,"stop")||!o.prototype.stop.call(this)?!1:(this.stopAndReleaseAudioTag(),this.emit(d.STOP,this),!0)},pickAndPlayAudioTag:function(){if(!this.pickAudioTag())return this.reset(),!1;var a=this.currentConfig.seek,f=this.currentConfig.delay,c=(this.currentMarker?this.currentMarker.start:0)+a;return this.previousTime=c,this.audio.currentTime=c,this.applyConfig(),f===0?(this.startTime=0,this.audio.paused&&this.playCatchPromise()):(this.startTime=window.performance.now()+f*1e3,this.audio.paused||this.audio.pause()),this.resetConfig(),!0},pickAudioTag:function(){if(this.audio)return!0;for(var a=0;a<this.tags.length;a++){var f=this.tags[a];if(f.dataset.used==="false")return f.dataset.used="true",this.audio=f,!0}if(!this.manager.override)return!1;var c=[];this.manager.forEachActiveSound(function(v){v.key===this.key&&v.audio&&c.push(v)},this),c.sort(function(v,p){return v.loop===p.loop?p.seek/p.duration-v.seek/v.duration:v.loop?1:-1});var u=c[0];return this.audio=u.audio,u.reset(),u.audio=null,u.startTime=0,u.previousTime=0,!0},playCatchPromise:function(){var a=this.audio.play();a&&a.catch(function(f){console.warn(f)})},stopAndReleaseAudioTag:function(){this.startTime=0,this.previousTime=0,this.audio&&(this.audio.pause(),this.audio.dataset.used="false",this.audio=null)},reset:function(){o.prototype.stop.call(this)},onBlur:function(){this.isPlaying=!1,this.isPaused=!0,this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.currentConfig.delay=Math.max(0,(this.startTime-window.performance.now())/1e3),this.stopAndReleaseAudioTag()},onFocus:function(){this.isPlaying=!0,this.isPaused=!1,this.pickAndPlayAudioTag()},update:function(a){if(this.isPlaying){if(this.startTime>0){this.startTime<a-this.manager.audioPlayDelay&&(this.audio.currentTime+=Math.max(0,a-this.startTime)/1e3,this.startTime=0,this.previousTime=this.audio.currentTime,this.playCatchPromise());return}var f=this.currentMarker?this.currentMarker.start:0,c=f+this.duration,u=this.audio.currentTime;if(this.currentConfig.loop)u>=c-this.manager.loopEndOffset?(this.audio.currentTime=f+Math.max(0,u-c),u=this.audio.currentTime):u<f&&(this.audio.currentTime+=f,u=this.audio.currentTime),u<this.previousTime&&this.emit(d.LOOPED,this);else if(u>=c){this.reset(),this.stopAndReleaseAudioTag(),this.emit(d.COMPLETE,this);return}this.previousTime=u}},destroy:function(){o.prototype.destroy.call(this),this.tags=null,this.audio&&this.stopAndReleaseAudioTag()},updateMute:function(){this.audio&&(this.audio.muted=this.currentConfig.mute||this.manager.mute)},updateVolume:function(){this.audio&&(this.audio.volume=h(this.currentConfig.volume*this.manager.volume,0,1))},calculateRate:function(){o.prototype.calculateRate.call(this),this.audio&&(this.audio.playbackRate=this.totalRate)},mute:{get:function(){return this.currentConfig.mute},set:function(a){this.currentConfig.mute=a,!this.manager.isLocked(this,"mute",a)&&(this.updateMute(),this.emit(d.MUTE,this,a))}},setMute:function(a){return this.mute=a,this},volume:{get:function(){return this.currentConfig.volume},set:function(a){this.currentConfig.volume=a,!this.manager.isLocked(this,"volume",a)&&(this.updateVolume(),this.emit(d.VOLUME,this,a))}},setVolume:function(a){return this.volume=a,this},rate:{get:function(){return this.currentConfig.rate},set:function(a){this.currentConfig.rate=a,!this.manager.isLocked(this,d.RATE,a)&&(this.calculateRate(),this.emit(d.RATE,this,a))}},setRate:function(a){return this.rate=a,this},detune:{get:function(){return this.currentConfig.detune},set:function(a){this.currentConfig.detune=a,!this.manager.isLocked(this,d.DETUNE,a)&&(this.calculateRate(),this.emit(d.DETUNE,this,a))}},setDetune:function(a){return this.detune=a,this},seek:{get:function(){return this.isPlaying?this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0):this.isPaused?this.currentConfig.seek:0},set:function(a){this.manager.isLocked(this,"seek",a)||this.startTime>0||(this.isPlaying||this.isPaused)&&(a=Math.min(Math.max(0,a),this.duration),this.isPlaying?(this.previousTime=a,this.audio.currentTime=a):this.isPaused&&(this.currentConfig.seek=a),this.emit(d.SEEK,this,a))}},setSeek:function(a){return this.seek=a,this},loop:{get:function(){return this.currentConfig.loop},set:function(a){this.currentConfig.loop=a,!this.manager.isLocked(this,"loop",a)&&(this.audio&&(this.audio.loop=a),this.emit(d.LOOP,this,a))}},setLoop:function(a){return this.loop=a,this},pan:{get:function(){return this.currentConfig.pan},set:function(a){this.currentConfig.pan=a,this.emit(d.PAN,this,a)}},setPan:function(a){return this.pan=a,this}});n.exports=l}),33684:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(85034),y=r(83419),d=r(14463),h=r(64895),l=new y({Extends:o,initialize:function(f){this.override=!0,this.audioPlayDelay=.1,this.loopEndOffset=.05,this.onBlurPausedSounds=[],this.locked="ontouchstart"in window,this.lockedActionsQueue=this.locked?[]:null,this._mute=!1,this._volume=1,o.call(this,f)},add:function(a,f){var c=new h(this,a,f);return this.sounds.push(c),c},unlock:function(){this.locked=!1;var a=this;if(this.game.cache.audio.entries.each(function(v,p){for(var m=0;m<p.length;m++)if(p[m].dataset.locked==="true")return a.locked=!0,!1;return!0}),!!this.locked){var f=!1,c=function(){f=!0},u=function(){if(f){f=!1;return}document.body.removeEventListener("touchmove",c),document.body.removeEventListener("touchend",u);var v=[];if(a.game.cache.audio.entries.each(function(m,x){for(var C=0;C<x.length;C++){var P=x[C];P.dataset.locked==="true"&&v.push(P)}return!0}),v.length!==0){var p=v[v.length-1];p.oncanplaythrough=function(){p.oncanplaythrough=null,v.forEach(function(m){m.dataset.locked="false"}),a.unlocked=!0},v.forEach(function(m){m.load()})}};this.once(d.UNLOCKED,function(){for(this.forEachActiveSound(function(p){p.currentMarker===null&&p.duration===0&&(p.duration=p.tags[0].duration),p.totalDuration=p.tags[0].duration});this.lockedActionsQueue.length;){var v=this.lockedActionsQueue.shift();v.sound[v.prop].apply?v.sound[v.prop].apply(v.sound,v.value||[]):v.sound[v.prop]=v.value}},this),document.body.addEventListener("touchmove",c,!1),document.body.addEventListener("touchend",u,!1)}},onBlur:function(){this.forEachActiveSound(function(a){a.isPlaying&&(this.onBlurPausedSounds.push(a),a.onBlur())})},onFocus:function(){this.onBlurPausedSounds.forEach(function(a){a.onFocus()}),this.onBlurPausedSounds.length=0},destroy:function(){o.prototype.destroy.call(this),this.onBlurPausedSounds.length=0,this.onBlurPausedSounds=null},isLocked:function(a,f,c){return a.tags[0].dataset.locked==="true"?(this.lockedActionsQueue.push({sound:a,prop:f,value:c}),!0):!1},setMute:function(a){return this.mute=a,this},mute:{get:function(){return this._mute},set:function(a){this._mute=a,this.forEachActiveSound(function(f){f.updateMute()}),this.emit(d.GLOBAL_MUTE,this,a)}},setVolume:function(a){return this.volume=a,this},volume:{get:function(){return this._volume},set:function(a){this._volume=a,this.forEachActiveSound(function(f){f.updateVolume()}),this.emit(d.GLOBAL_VOLUME,this,a)}}});n.exports=l}),23717:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={SoundManagerCreator:r(14747),Events:r(14463),BaseSound:r(30341),BaseSoundManager:r(85034),WebAudioSound:r(71741),WebAudioSoundManager:r(57490),HTML5AudioSound:r(64895),HTML5AudioSoundManager:r(33684),NoAudioSound:r(4603),NoAudioSoundManager:r(25960)}}),4603:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(30341),y=r(83419),d=r(50792),h=r(79291),l=r(29747),a=function(){return!1},f=function(){return null},c=function(){return this},u=new y({Extends:d,initialize:function(p,m,x){x===void 0&&(x={}),d.call(this),this.manager=p,this.key=m,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=0,this.totalDuration=0,this.config=h({mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},x),this.currentConfig=this.config,this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.seek=0,this.loop=!1,this.pan=0,this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:a,updateMarker:a,removeMarker:f,play:a,pause:a,resume:a,stop:a,setMute:c,setVolume:c,setRate:c,setDetune:c,setSeek:c,setLoop:c,setPan:c,applyConfig:f,resetConfig:f,update:l,calculateRate:f,destroy:function(){o.prototype.destroy.call(this)}});n.exports=u}),25960:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(85034),y=r(83419),d=r(50792),h=r(4603),l=r(29747),a=new y({Extends:d,initialize:function(c){d.call(this),this.game=c,this.sounds=[],this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.pauseOnBlur=!0,this.locked=!1},add:function(f,c){var u=new h(this,f,c);return this.sounds.push(u),u},addAudioSprite:function(f,c){var u=this.add(f,c);return u.spritemap={},u},get:function(f){return o.prototype.get.call(this,f)},getAll:function(f){return o.prototype.getAll.call(this,f)},play:function(f,c){return!1},playAudioSprite:function(f,c,u){return!1},remove:function(f){return o.prototype.remove.call(this,f)},removeAll:function(){return o.prototype.removeAll.call(this)},removeByKey:function(f){return o.prototype.removeByKey.call(this,f)},stopByKey:function(f){return o.prototype.stopByKey.call(this,f)},onBlur:l,onFocus:l,onGameBlur:l,onGameFocus:l,pauseAll:l,resumeAll:l,stopAll:l,update:l,setRate:l,setDetune:l,setMute:l,setVolume:l,unlock:l,forEachActiveSound:function(f,c){o.prototype.forEachActiveSound.call(this,f,c)},destroy:function(){o.prototype.destroy.call(this)}});n.exports=a}),71741:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(30341),y=r(83419),d=r(14463),h=r(95540),l=new y({Extends:o,initialize:function(f,c,u){if(u===void 0&&(u={}),this.audioBuffer=f.game.cache.audio.get(c),!this.audioBuffer)throw new Error('Audio key "'+c+'" not found in cache');this.source=null,this.loopSource=null,this.muteNode=f.context.createGain(),this.volumeNode=f.context.createGain(),this.pannerNode=null,this.spatialNode=null,this.spatialSource=null,this.playTime=0,this.startTime=0,this.loopTime=0,this.rateUpdates=[],this.hasEnded=!1,this.hasLooped=!1,this.muteNode.connect(this.volumeNode),f.context.createPanner&&(this.spatialNode=f.context.createPanner(),this.volumeNode.connect(this.spatialNode)),f.context.createStereoPanner?(this.pannerNode=f.context.createStereoPanner(),f.context.createPanner?this.spatialNode.connect(this.pannerNode):this.volumeNode.connect(this.pannerNode),this.pannerNode.connect(f.destination)):f.context.createPanner?this.spatialNode.connect(f.destination):this.volumeNode.connect(f.destination),this.duration=this.audioBuffer.duration,this.totalDuration=this.audioBuffer.duration,o.call(this,f,c,u)},play:function(a,f){return o.prototype.play.call(this,a,f)?(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource(),this.emit(d.PLAY,this),!0):!1},pause:function(){return this.manager.context.currentTime<this.startTime||!o.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.getCurrentTime(),this.stopAndRemoveBufferSource(),this.emit(d.PAUSE,this),!0)},resume:function(){return this.manager.context.currentTime<this.startTime||!o.prototype.resume.call(this)?!1:(this.createAndStartBufferSource(),this.emit(d.RESUME,this),!0)},stop:function(){return o.prototype.stop.call(this)?(this.stopAndRemoveBufferSource(),this.emit(d.STOP,this),!0):!1},createAndStartBufferSource:function(){var a=this.currentConfig.seek,f=this.currentConfig.delay,c=this.manager.context.currentTime+f,u=(this.currentMarker?this.currentMarker.start:0)+a,v=this.duration-a;this.playTime=c-a,this.startTime=c,this.source=this.createBufferSource(),this.applyConfig(),this.source.start(Math.max(0,c),Math.max(0,u),Math.max(0,v)),this.resetConfig()},createAndStartLoopBufferSource:function(){var a=this.getLoopTime(),f=this.currentMarker?this.currentMarker.start:0,c=this.duration;this.loopTime=a,this.loopSource=this.createBufferSource(),this.loopSource.playbackRate.setValueAtTime(this.totalRate,0),this.loopSource.start(Math.max(0,a),Math.max(0,f),Math.max(0,c))},createBufferSource:function(){var a=this,f=this.manager.context.createBufferSource();return f.buffer=this.audioBuffer,f.connect(this.muteNode),f.onended=function(c){var u=c.target;(u===a.source||u===a.loopSource)&&(a.currentConfig.loop?a.hasLooped=!0:a.hasEnded=!0)},f},stopAndRemoveBufferSource:function(){if(this.source){var a=this.source;this.source=null,a.stop(),a.disconnect()}this.playTime=0,this.startTime=0,this.hasEnded=!1,this.stopAndRemoveLoopBufferSource()},stopAndRemoveLoopBufferSource:function(){this.loopSource&&(this.loopSource.stop(),this.loopSource.disconnect(),this.loopSource=null),this.loopTime=0},applyConfig:function(){this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:1});var a=this.currentConfig.source;if(a&&this.manager.context.createPanner){var f=this.spatialNode;f.panningModel=h(a,"panningModel","equalpower"),f.distanceModel=h(a,"distanceModel","inverse"),f.orientationX.value=h(a,"orientationX",0),f.orientationY.value=h(a,"orientationY",0),f.orientationZ.value=h(a,"orientationZ",-1),f.refDistance=h(a,"refDistance",1),f.maxDistance=h(a,"maxDistance",1e4),f.rolloffFactor=h(a,"rolloffFactor",1),f.coneInnerAngle=h(a,"coneInnerAngle",360),f.coneOuterAngle=h(a,"coneOuterAngle",0),f.coneOuterGain=h(a,"coneOuterGain",0),this.spatialSource=h(a,"follow",null),this.spatialSource||(f.positionX.value=h(a,"x",0),f.positionY.value=h(a,"y",0),f.positionZ.value=h(a,"z",0))}o.prototype.applyConfig.call(this)},x:{get:function(){return this.spatialNode?this.spatialNode.positionX:0},set:function(a){this.spatialNode&&(this.spatialNode.positionX.value=a)}},y:{get:function(){return this.spatialNode?this.spatialNode.positionY:0},set:function(a){this.spatialNode&&(this.spatialNode.positionY.value=a)}},update:function(){if(this.isPlaying&&this.spatialSource){var a=h(this.spatialSource,"x",null),f=h(this.spatialSource,"y",null);a&&a!==this._spatialx&&(this._spatialx=this.spatialNode.positionX.value=a),f&&f!==this._spatialy&&(this._spatialy=this.spatialNode.positionY.value=f)}this.hasEnded?(o.prototype.stop.call(this),this.stopAndRemoveBufferSource(),this.emit(d.COMPLETE,this)):this.hasLooped&&(this.hasLooped=!1,this.source=this.loopSource,this.loopSource=null,this.playTime=this.startTime=this.loopTime,this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:this.totalRate}),this.createAndStartLoopBufferSource(),this.emit(d.LOOPED,this))},destroy:function(){this.pendingRemove||(o.prototype.destroy.call(this),this.audioBuffer=null,this.stopAndRemoveBufferSource(),this.muteNode.disconnect(),this.muteNode=null,this.volumeNode.disconnect(),this.volumeNode=null,this.pannerNode&&(this.pannerNode.disconnect(),this.pannerNode=null),this.spatialNode&&(this.spatialNode.disconnect(),this.spatialNode=null,this.spatialSource=null),this.rateUpdates.length=0,this.rateUpdates=null)},calculateRate:function(){o.prototype.calculateRate.call(this);var a=this.manager.context.currentTime;this.source&&typeof this.totalRate=="number"&&this.source.playbackRate.setValueAtTime(this.totalRate,a),this.isPlaying&&(this.rateUpdates.push({time:Math.max(this.startTime,a)-this.playTime,rate:this.totalRate}),this.loopSource&&(this.stopAndRemoveLoopBufferSource(),this.createAndStartLoopBufferSource()))},getCurrentTime:function(){for(var a=0,f=0;f<this.rateUpdates.length;f++){var c=0;f<this.rateUpdates.length-1?c=this.rateUpdates[f+1].time:c=this.manager.context.currentTime-this.playTime,a+=(c-this.rateUpdates[f].time)*this.rateUpdates[f].rate}return a},getLoopTime:function(){for(var a=0,f=0;f<this.rateUpdates.length-1;f++)a+=(this.rateUpdates[f+1].time-this.rateUpdates[f].time)*this.rateUpdates[f].rate;var c=this.rateUpdates[this.rateUpdates.length-1];return this.playTime+c.time+(this.duration-a)/c.rate},rate:{get:function(){return this.currentConfig.rate},set:function(a){this.currentConfig.rate=a,this.calculateRate(),this.emit(d.RATE,this,a)}},setRate:function(a){return this.rate=a,this},detune:{get:function(){return this.currentConfig.detune},set:function(a){this.currentConfig.detune=a,this.calculateRate(),this.emit(d.DETUNE,this,a)}},setDetune:function(a){return this.detune=a,this},mute:{get:function(){return this.muteNode.gain.value===0},set:function(a){this.currentConfig.mute=a,this.muteNode.gain.setValueAtTime(a?0:1,0),this.emit(d.MUTE,this,a)}},setMute:function(a){return this.mute=a,this},volume:{get:function(){return this.volumeNode.gain.value},set:function(a){this.currentConfig.volume=a,this.volumeNode.gain.setValueAtTime(a,0),this.emit(d.VOLUME,this,a)}},setVolume:function(a){return this.volume=a,this},seek:{get:function(){return this.isPlaying?this.manager.context.currentTime<this.startTime?this.startTime-this.playTime:this.getCurrentTime():this.isPaused?this.currentConfig.seek:0},set:function(a){this.manager.context.currentTime<this.startTime||(this.isPlaying||this.isPaused)&&(a=Math.min(Math.max(0,a),this.duration),this.currentConfig.seek=a,this.isPlaying&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource()),this.emit(d.SEEK,this,a))}},setSeek:function(a){return this.seek=a,this},loop:{get:function(){return this.currentConfig.loop},set:function(a){this.currentConfig.loop=a,this.isPlaying&&(this.stopAndRemoveLoopBufferSource(),a&&this.createAndStartLoopBufferSource()),this.emit(d.LOOP,this,a)}},setLoop:function(a){return this.loop=a,this},pan:{get:function(){return this.pannerNode?this.pannerNode.pan.value:0},set:function(a){this.currentConfig.pan=a,this.pannerNode&&this.pannerNode.pan.setValueAtTime(a,this.manager.context.currentTime),this.emit(d.PAN,this,a)}},setPan:function(a){return this.pan=a,this}});n.exports=l}),57490:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(53134),y=r(85034),d=r(83419),h=r(14463),l=r(8443),a=r(71741),f=r(95540),c=new d({Extends:y,initialize:function(v){this.context=this.createAudioContext(v),this.masterMuteNode=this.context.createGain(),this.masterVolumeNode=this.context.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(this.context.destination),this.destination=this.masterMuteNode,this.locked=this.context.state==="suspended",y.call(this,v),this.locked&&(v.isBooted?this.unlock():v.events.once(l.BOOT,this.unlock,this)),v.events.on(l.VISIBLE,this.onGameVisible,this)},onGameVisible:function(){var u=this.context;window.setTimeout(function(){u&&(u.suspend(),u.resume())},100)},createAudioContext:function(u){var v=u.config.audio;if(v.context)return v.context.resume(),v.context;if(window.hasOwnProperty("AudioContext"))return new AudioContext;if(window.hasOwnProperty("webkitAudioContext"))return new window.webkitAudioContext},setAudioContext:function(u){return this.context&&this.context.close(),this.masterMuteNode&&this.masterMuteNode.disconnect(),this.masterVolumeNode&&this.masterVolumeNode.disconnect(),this.context=u,this.masterMuteNode=u.createGain(),this.masterVolumeNode=u.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(u.destination),this.destination=this.masterMuteNode,this},add:function(u,v){var p=new a(this,u,v);return this.sounds.push(p),p},decodeAudio:function(u,v){var p;Array.isArray(u)?p=u:p=[{key:u,data:v}];for(var m=this.game.cache.audio,x=p.length,C=0;C<p.length;C++){var P=p[C],w=P.key,M=P.data;typeof M=="string"&&(M=o(M));var R=(function(L,F){m.add(L,F),this.emit(h.DECODED,L),x--,x===0&&this.emit(h.DECODED_ALL)}).bind(this,w),A=(function(L,F){console.error("Error decoding audio: "+L+" - ",F?F.message:""),x--,x===0&&this.emit(h.DECODED_ALL)}).bind(this,w);this.context.decodeAudioData(M,R,A)}},setListenerPosition:function(u,v){return u===void 0&&(u=this.game.scale.width/2),v===void 0&&(v=this.game.scale.height/2),this.listenerPosition.set(u,v),this},unlock:function(){var u=this,v=document.body,p=function m(){if(u.context&&v){var x=v.removeEventListener.bind(v);u.context.resume().then(function(){x("touchstart",m),x("touchend",m),x("mousedown",m),x("mouseup",m),x("keydown",m),u.unlocked=!0},function(){x("touchstart",m),x("touchend",m),x("mousedown",m),x("mouseup",m),x("keydown",m)})}};v&&(v.addEventListener("touchstart",p,!1),v.addEventListener("touchend",p,!1),v.addEventListener("mousedown",p,!1),v.addEventListener("mouseup",p,!1),v.addEventListener("keydown",p,!1))},onBlur:function(){this.locked||this.context.suspend()},onFocus:function(){var u=this.context;u&&!this.locked&&(u.state==="suspended"||u.state==="interrupted")&&u.resume()},update:function(u,v){var p=this.context.listener;if(p&&p.positionX!==void 0){var m=f(this.listenerPosition,"x",null),x=f(this.listenerPosition,"y",null);m&&m!==this._spatialx&&(this._spatialx=p.positionX.value=m),x&&x!==this._spatialy&&(this._spatialy=p.positionY.value=x)}y.prototype.update.call(this,u,v),this.gameLostFocus||this.onFocus()},destroy:function(){if(this.destination=null,this.masterVolumeNode.disconnect(),this.masterVolumeNode=null,this.masterMuteNode.disconnect(),this.masterMuteNode=null,this.game.config.audio.context)this.context.suspend();else{var u=this;this.context.close().then(function(){u.context=null})}this.game.events.off(l.VISIBLE,this.onGameVisible,this),y.prototype.destroy.call(this)},setMute:function(u){return this.mute=u,this},mute:{get:function(){return this.masterMuteNode.gain.value===0},set:function(u){this.masterMuteNode.gain.setValueAtTime(u?0:1,0),this.emit(h.GLOBAL_MUTE,this,u)}},setVolume:function(u){return this.volume=u,this},volume:{get:function(){return this.masterVolumeNode.gain.value},set:function(u){this.masterVolumeNode.gain.setValueAtTime(u,0),this.emit(h.GLOBAL_VOLUME,this,u)}}});n.exports=c}),73162:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(37105),y=r(83419),d=r(29747),h=r(19186),l=new y({initialize:function(f){this.parent=f,this.list=[],this.position=0,this.addCallback=d,this.removeCallback=d,this._sortKey=""},add:function(a,f){return f?o.Add(this.list,a):o.Add(this.list,a,0,this.addCallback,this)},addAt:function(a,f,c){return c?o.AddAt(this.list,a,f):o.AddAt(this.list,a,f,0,this.addCallback,this)},getAt:function(a){return this.list[a]},getIndex:function(a){return this.list.indexOf(a)},sort:function(a,f){return a?(f===void 0&&(f=function(c,u){return c[a]-u[a]}),h(this.list,f),this):this},getByName:function(a){return o.GetFirst(this.list,"name",a)},getRandom:function(a,f){return o.GetRandom(this.list,a,f)},getFirst:function(a,f,c,u){return o.GetFirst(this.list,a,f,c,u)},getAll:function(a,f,c,u){return o.GetAll(this.list,a,f,c,u)},count:function(a,f){return o.CountAllMatching(this.list,a,f)},swap:function(a,f){o.Swap(this.list,a,f)},moveTo:function(a,f){return o.MoveTo(this.list,a,f)},moveAbove:function(a,f){return o.MoveAbove(this.list,a,f)},moveBelow:function(a,f){return o.MoveBelow(this.list,a,f)},remove:function(a,f){return f?o.Remove(this.list,a):o.Remove(this.list,a,this.removeCallback,this)},removeAt:function(a,f){return f?o.RemoveAt(this.list,a):o.RemoveAt(this.list,a,this.removeCallback,this)},removeBetween:function(a,f,c){return c?o.RemoveBetween(this.list,a,f):o.RemoveBetween(this.list,a,f,this.removeCallback,this)},removeAll:function(a){for(var f=this.list.length;f--;)this.remove(this.list[f],a);return this},bringToTop:function(a){return o.BringToTop(this.list,a)},sendToBack:function(a){return o.SendToBack(this.list,a)},moveUp:function(a){return o.MoveUp(this.list,a),a},moveDown:function(a){return o.MoveDown(this.list,a),a},reverse:function(){return this.list.reverse(),this},shuffle:function(){return o.Shuffle(this.list),this},replace:function(a,f){return o.Replace(this.list,a,f)},exists:function(a){return this.list.indexOf(a)>-1},setAll:function(a,f,c,u){return o.SetAll(this.list,a,f,c,u),this},each:function(a,f){for(var c=[null],u=2;u<arguments.length;u++)c.push(arguments[u]);for(u=0;u<this.list.length;u++)c[0]=this.list[u],a.apply(f,c)},shutdown:function(){this.removeAll(),this.list=[]},destroy:function(){this.removeAll(),this.parent=null,this.addCallback=null,this.removeCallback=null},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}}});n.exports=l}),90330:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=new o({initialize:function(h){this.entries={},this.size=0,this.setAll(h)},setAll:function(d){if(Array.isArray(d))for(var h=0;h<d.length;h++)this.set(d[h][0],d[h][1]);return this},set:function(d,h){return this.has(d)||this.size++,this.entries[d]=h,this},get:function(d){if(this.has(d))return this.entries[d]},getArray:function(){var d=[],h=this.entries;for(var l in h)d.push(h[l]);return d},has:function(d){return this.entries.hasOwnProperty(d)},delete:function(d){return this.has(d)&&(delete this.entries[d],this.size--),this},clear:function(){return Object.keys(this.entries).forEach(function(d){delete this.entries[d]},this),this.size=0,this},keys:function(){return Object.keys(this.entries)},values:function(){var d=[],h=this.entries;for(var l in h)d.push(h[l]);return d},dump:function(){var d=this.entries;console.group("Map");for(var h in d)console.log(h,d[h]);console.groupEnd()},each:function(d){var h=this.entries;for(var l in h)if(d(l,h[l])===!1)break;return this},contains:function(d){var h=this.entries;for(var l in h)if(h[l]===d)return!0;return!1},merge:function(d,h){h===void 0&&(h=!1);var l=this.entries,a=d.entries;for(var f in a)l.hasOwnProperty(f)&&h?l[f]=a[f]:this.set(f,a[f]);return this}});n.exports=y}),25774:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(50792),d=r(82348),h=new o({Extends:y,initialize:function(){y.call(this),this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,this.checkQueue=!1},isActive:function(l){return this._active.indexOf(l)>-1},isPending:function(l){return this._toProcess>0&&this._pending.indexOf(l)>-1},isDestroying:function(l){return this._destroy.indexOf(l)>-1},add:function(l){return this.checkQueue&&this.isActive(l)&&!this.isDestroying(l)||this.isPending(l)||(this._pending.push(l),this._toProcess++),l},remove:function(l){if(this.isPending(l)){var a=this._pending,f=a.indexOf(l);f!==-1&&a.splice(f,1)}else this.isActive(l)&&(this._destroy.push(l),this._toProcess++);return l},removeAll:function(){for(var l=this._active,a=this._destroy,f=l.length;f--;)a.push(l[f]),this._toProcess++;return this},update:function(){if(this._toProcess===0)return this._active;var l=this._destroy,a=this._active,f,c;for(f=0;f<l.length;f++){c=l[f];var u=a.indexOf(c);u!==-1&&(a.splice(u,1),this.emit(d.PROCESS_QUEUE_REMOVE,c))}for(l.length=0,l=this._pending,f=0;f<l.length;f++)c=l[f],(!this.checkQueue||this.checkQueue&&a.indexOf(c)===-1)&&(a.push(c),this.emit(d.PROCESS_QUEUE_ADD,c));return l.length=0,this._toProcess=0,a},getActive:function(){return this._active},length:{get:function(){return this._active.length}},destroy:function(){this._toProcess=0,this._pending=[],this._active=[],this._destroy=[]}});n.exports=h}),59542:((n,T,r)=>{/**
 * @author       Vladimir Agafonkin
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(43886);function y(M){if(!(this instanceof y))return new y(M);this._maxEntries=Math.max(4,M||9),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}y.prototype={all:function(){return this._all(this.data,[])},search:function(M){var R=this.data,A=[],L=this.toBBox;if(!C(M,R))return A;for(var F=[],G,I,B,k;R;){for(G=0,I=R.children.length;G<I;G++)B=R.children[G],k=R.leaf?L(B):B,C(M,k)&&(R.leaf?A.push(B):x(M,k)?this._all(B,A):F.push(B));R=F.pop()}return A},collides:function(M){var R=this.data,A=this.toBBox;if(!C(M,R))return!1;for(var L=[],F,G,I,B;R;){for(F=0,G=R.children.length;F<G;F++)if(I=R.children[F],B=R.leaf?A(I):I,C(M,B)){if(R.leaf||x(M,B))return!0;L.push(I)}R=L.pop()}return!1},load:function(M){if(!(M&&M.length))return this;if(M.length<this._minEntries){for(var R=0,A=M.length;R<A;R++)this.insert(M[R]);return this}var L=this._build(M.slice(),0,M.length-1,0);if(!this.data.children.length)this.data=L;else if(this.data.height===L.height)this._splitRoot(this.data,L);else{if(this.data.height<L.height){var F=this.data;this.data=L,L=F}this._insert(L,this.data.height-L.height-1,!0)}return this},insert:function(M){return M&&this._insert(M,this.data.height-1),this},clear:function(){return this.data=P([]),this},remove:function(M,R){if(!M)return this;for(var A=this.data,L=this.toBBox(M),F=[],G=[],I,B,k,U;A||F.length;){if(A||(A=F.pop(),B=F[F.length-1],I=G.pop(),U=!0),A.leaf&&(k=d(M,A.children,R),k!==-1))return A.children.splice(k,1),F.push(A),this._condense(F),this;!U&&!A.leaf&&x(A,L)?(F.push(A),G.push(I),I=0,B=A,A=A.children[0]):B?(I++,A=B.children[I],U=!1):A=null}return this},toBBox:function(M){return M},compareMinX:f,compareMinY:c,toJSON:function(){return this.data},fromJSON:function(M){return this.data=M,this},_all:function(M,R){for(var A=[];M;)M.leaf?R.push.apply(R,M.children):A.push.apply(A,M.children),M=A.pop();return R},_build:function(M,R,A,L){var F=A-R+1,G=this._maxEntries,I;if(F<=G)return I=P(M.slice(R,A+1)),h(I,this.toBBox),I;L||(L=Math.ceil(Math.log(F)/Math.log(G)),G=Math.ceil(F/Math.pow(G,L-1))),I=P([]),I.leaf=!1,I.height=L;var B=Math.ceil(F/G),k=B*Math.ceil(Math.sqrt(G)),U,H,X,j;for(w(M,R,A,k,this.compareMinX),U=R;U<=A;U+=k)for(X=Math.min(U+k-1,A),w(M,U,X,B,this.compareMinY),H=U;H<=X;H+=B)j=Math.min(H+B-1,X),I.children.push(this._build(M,H,j,L-1));return h(I,this.toBBox),I},_chooseSubtree:function(M,R,A,L){for(var F,G,I,B,k,U,H,X;L.push(R),!(R.leaf||L.length-1===A);){for(H=X=1/0,F=0,G=R.children.length;F<G;F++)I=R.children[F],k=u(I),U=p(M,I)-k,U<X?(X=U,H=k<H?k:H,B=I):U===X&&k<H&&(H=k,B=I);R=B||R.children[0]}return R},_insert:function(M,R,A){var L=this.toBBox,F=A?M:L(M),G=[],I=this._chooseSubtree(F,this.data,R,G);for(I.children.push(M),a(I,F);R>=0&&G[R].children.length>this._maxEntries;)this._split(G,R),R--;this._adjustParentBBoxes(F,G,R)},_split:function(M,R){var A=M[R],L=A.children.length,F=this._minEntries;this._chooseSplitAxis(A,F,L);var G=this._chooseSplitIndex(A,F,L),I=P(A.children.splice(G,A.children.length-G));I.height=A.height,I.leaf=A.leaf,h(A,this.toBBox),h(I,this.toBBox),R?M[R-1].children.push(I):this._splitRoot(A,I)},_splitRoot:function(M,R){this.data=P([M,R]),this.data.height=M.height+1,this.data.leaf=!1,h(this.data,this.toBBox)},_chooseSplitIndex:function(M,R,A){var L,F,G,I,B,k,U,H;for(k=U=1/0,L=R;L<=A-R;L++)F=l(M,0,L,this.toBBox),G=l(M,L,A,this.toBBox),I=m(F,G),B=u(F)+u(G),I<k?(k=I,H=L,U=B<U?B:U):I===k&&B<U&&(U=B,H=L);return H},_chooseSplitAxis:function(M,R,A){var L=M.leaf?this.compareMinX:f,F=M.leaf?this.compareMinY:c,G=this._allDistMargin(M,R,A,L),I=this._allDistMargin(M,R,A,F);G<I&&M.children.sort(L)},_allDistMargin:function(M,R,A,L){M.children.sort(L);var F=this.toBBox,G=l(M,0,R,F),I=l(M,A-R,A,F),B=v(G)+v(I),k,U;for(k=R;k<A-R;k++)U=M.children[k],a(G,M.leaf?F(U):U),B+=v(G);for(k=A-R-1;k>=R;k--)U=M.children[k],a(I,M.leaf?F(U):U),B+=v(I);return B},_adjustParentBBoxes:function(M,R,A){for(var L=A;L>=0;L--)a(R[L],M)},_condense:function(M){for(var R=M.length-1,A;R>=0;R--)M[R].children.length===0?R>0?(A=M[R-1].children,A.splice(A.indexOf(M[R]),1)):this.clear():h(M[R],this.toBBox)},compareMinX:function(M,R){return M.left-R.left},compareMinY:function(M,R){return M.top-R.top},toBBox:function(M){return{minX:M.left,minY:M.top,maxX:M.right,maxY:M.bottom}}};function d(M,R,A){if(!A)return R.indexOf(M);for(var L=0;L<R.length;L++)if(A(M,R[L]))return L;return-1}function h(M,R){l(M,0,M.children.length,R,M)}function l(M,R,A,L,F){F||(F=P(null)),F.minX=1/0,F.minY=1/0,F.maxX=-1/0,F.maxY=-1/0;for(var G=R,I;G<A;G++)I=M.children[G],a(F,M.leaf?L(I):I);return F}function a(M,R){return M.minX=Math.min(M.minX,R.minX),M.minY=Math.min(M.minY,R.minY),M.maxX=Math.max(M.maxX,R.maxX),M.maxY=Math.max(M.maxY,R.maxY),M}function f(M,R){return M.minX-R.minX}function c(M,R){return M.minY-R.minY}function u(M){return(M.maxX-M.minX)*(M.maxY-M.minY)}function v(M){return M.maxX-M.minX+(M.maxY-M.minY)}function p(M,R){return(Math.max(R.maxX,M.maxX)-Math.min(R.minX,M.minX))*(Math.max(R.maxY,M.maxY)-Math.min(R.minY,M.minY))}function m(M,R){var A=Math.max(M.minX,R.minX),L=Math.max(M.minY,R.minY),F=Math.min(M.maxX,R.maxX),G=Math.min(M.maxY,R.maxY);return Math.max(0,F-A)*Math.max(0,G-L)}function x(M,R){return M.minX<=R.minX&&M.minY<=R.minY&&R.maxX<=M.maxX&&R.maxY<=M.maxY}function C(M,R){return R.minX<=M.maxX&&R.minY<=M.maxY&&R.maxX>=M.minX&&R.maxY>=M.minY}function P(M){return{children:M,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function w(M,R,A,L,F){for(var G=[R,A],I;G.length;)A=G.pop(),R=G.pop(),!(A-R<=L)&&(I=R+Math.ceil((A-R)/L/2)*L,o(M,I,R,A,F),G.push(R,I,I,A))}n.exports=y}),35072:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=new o({initialize:function(h){if(this.entries=[],Array.isArray(h))for(var l=0;l<h.length;l++)this.set(h[l])},set:function(d){return this.entries.indexOf(d)===-1&&this.entries.push(d),this},get:function(d,h){for(var l=0;l<this.entries.length;l++){var a=this.entries[l];if(a[d]===h)return a}},getArray:function(){return this.entries.slice(0)},delete:function(d){var h=this.entries.indexOf(d);return h>-1&&this.entries.splice(h,1),this},dump:function(){console.group("Set");for(var d=0;d<this.entries.length;d++){var h=this.entries[d];console.log(h)}console.groupEnd()},each:function(d,h){var l,a=this.entries.slice(),f=a.length;if(h)for(l=0;l<f&&d.call(h,a[l],l)!==!1;l++);else for(l=0;l<f&&d(a[l],l)!==!1;l++);return this},iterate:function(d,h){var l,a=this.entries.length;if(h)for(l=0;l<a&&d.call(h,this.entries[l],l)!==!1;l++);else for(l=0;l<a&&d(this.entries[l],l)!==!1;l++);return this},iterateLocal:function(d){var h,l=[];for(h=1;h<arguments.length;h++)l.push(arguments[h]);var a=this.entries.length;for(h=0;h<a;h++){var f=this.entries[h];f[d].apply(f,l)}return this},clear:function(){return this.entries.length=0,this},contains:function(d){return this.entries.indexOf(d)>-1},union:function(d){var h=new y;return d.entries.forEach(function(l){h.set(l)}),this.entries.forEach(function(l){h.set(l)}),h},intersect:function(d){var h=new y;return this.entries.forEach(function(l){d.contains(l)&&h.set(l)}),h},difference:function(d){var h=new y;return this.entries.forEach(function(l){d.contains(l)||h.set(l)}),h},size:{get:function(){return this.entries.length},set:function(d){return d<this.entries.length?this.entries.length=d:this.entries.length}}});n.exports=y}),86555:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(45319),y=r(83419),d=r(56583),h=r(26099),l=new y({initialize:function(f,c,u,v){f===void 0&&(f=0),c===void 0&&(c=f),u===void 0&&(u=0),v===void 0&&(v=null),this._width=f,this._height=c,this._parent=v,this.aspectMode=u,this.aspectRatio=c===0?1:f/c,this.minWidth=0,this.minHeight=0,this.maxWidth=Number.MAX_VALUE,this.maxHeight=Number.MAX_VALUE,this.snapTo=new h},setAspectMode:function(a){return a===void 0&&(a=0),this.aspectMode=a,this.setSize(this._width,this._height)},setSnap:function(a,f){return a===void 0&&(a=0),f===void 0&&(f=a),this.snapTo.set(a,f),this.setSize(this._width,this._height)},setParent:function(a){return this._parent=a,this.setSize(this._width,this._height)},setMin:function(a,f){return a===void 0&&(a=0),f===void 0&&(f=a),this.minWidth=o(a,0,this.maxWidth),this.minHeight=o(f,0,this.maxHeight),this.setSize(this._width,this._height)},setMax:function(a,f){return a===void 0&&(a=Number.MAX_VALUE),f===void 0&&(f=a),this.maxWidth=o(a,this.minWidth,Number.MAX_VALUE),this.maxHeight=o(f,this.minHeight,Number.MAX_VALUE),this.setSize(this._width,this._height)},setSize:function(a,f){switch(a===void 0&&(a=0),f===void 0&&(f=a),this.aspectMode){case l.NONE:this._width=this.getNewWidth(d(a,this.snapTo.x)),this._height=this.getNewHeight(d(f,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height;break;case l.WIDTH_CONTROLS_HEIGHT:this._width=this.getNewWidth(d(a,this.snapTo.x)),this._height=this.getNewHeight(this._width*(1/this.aspectRatio),!1);break;case l.HEIGHT_CONTROLS_WIDTH:this._height=this.getNewHeight(d(f,this.snapTo.y)),this._width=this.getNewWidth(this._height*this.aspectRatio,!1);break;case l.FIT:this.constrain(a,f,!0);break;case l.ENVELOP:this.constrain(a,f,!1);break}return this},setAspectRatio:function(a){return this.aspectRatio=a,this.setSize(this._width,this._height)},resize:function(a,f){return this._width=this.getNewWidth(d(a,this.snapTo.x)),this._height=this.getNewHeight(d(f,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height,this},getNewWidth:function(a,f){return f===void 0&&(f=!0),a=o(a,this.minWidth,this.maxWidth),f&&this._parent&&a>this._parent.width&&(a=Math.max(this.minWidth,this._parent.width)),a},getNewHeight:function(a,f){return f===void 0&&(f=!0),a=o(a,this.minHeight,this.maxHeight),f&&this._parent&&a>this._parent.height&&(a=Math.max(this.minHeight,this._parent.height)),a},constrain:function(a,f,c){a===void 0&&(a=0),f===void 0&&(f=a),c===void 0&&(c=!0),a=this.getNewWidth(a),f=this.getNewHeight(f);var u=this.snapTo,v=f===0?1:a/f;return c&&this.aspectRatio>v||!c&&this.aspectRatio<v?(a=d(a,u.x),f=a/this.aspectRatio,u.y>0&&(f=d(f,u.y),a=f*this.aspectRatio)):(c&&this.aspectRatio<v||!c&&this.aspectRatio>v)&&(f=d(f,u.y),a=f*this.aspectRatio,u.x>0&&(a=d(a,u.x),f=a*(1/this.aspectRatio))),this._width=a,this._height=f,this},fitTo:function(a,f){return this.constrain(a,f,!0)},envelop:function(a,f){return this.constrain(a,f,!1)},setWidth:function(a){return this.setSize(a,this._height)},setHeight:function(a){return this.setSize(this._width,a)},toString:function(){return"[{ Size (width="+this._width+" height="+this._height+" aspectRatio="+this.aspectRatio+" aspectMode="+this.aspectMode+") }]"},setCSS:function(a){a&&a.style&&(a.style.width=this._width+"px",a.style.height=this._height+"px")},copy:function(a){return a.setAspectMode(this.aspectMode),a.aspectRatio=this.aspectRatio,a.setSize(this.width,this.height)},destroy:function(){this._parent=null,this.snapTo=null},width:{get:function(){return this._width},set:function(a){this.setSize(a,this._height)}},height:{get:function(){return this._height},set:function(a){this.setSize(this._width,a)}}});l.NONE=0,l.WIDTH_CONTROLS_HEIGHT=1,l.HEIGHT_CONTROLS_WIDTH=2,l.FIT=3,l.ENVELOP=4,n.exports=l}),15238:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="add"}),56187:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="remove"}),82348:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={PROCESS_QUEUE_ADD:r(15238),PROCESS_QUEUE_REMOVE:r(56187)}}),41392:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Events:r(82348),List:r(73162),Map:r(90330),ProcessQueue:r(25774),RTree:r(59542),Set:r(35072),Size:r(86555)}}),57382:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(45319),d=r(40987),h=r(8054),l=r(50030),a=r(79237),f=new o({Extends:a,initialize:function(u,v,p,m,x){a.call(this,u,v,p,m,x),this.add("__BASE",0,0,0,m,x),this._source=this.frames.__BASE.source,this.canvas=this._source.image,this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.width=m,this.height=x,this.imageData=this.context.getImageData(0,0,m,x),this.data=null,this.imageData&&(this.data=this.imageData.data),this.pixels=null,this.buffer,this.data&&(this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data)},update:function(){return this.imageData=this.context.getImageData(0,0,this.width,this.height),this.data=this.imageData.data,this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data,this.manager.game.config.renderType===h.WEBGL&&this.refresh(),this},draw:function(c,u,v,p){return p===void 0&&(p=!0),this.context.drawImage(v,c,u),p&&this.update(),this},drawFrame:function(c,u,v,p,m){v===void 0&&(v=0),p===void 0&&(p=0),m===void 0&&(m=!0);var x=this.manager.getFrame(c,u);if(x){var C=x.canvasData,P=x.cutWidth,w=x.cutHeight,M=x.source.resolution;this.context.drawImage(x.source.image,C.x,C.y,P,w,v,p,P/M,w/M),m&&this.update()}return this},setPixel:function(c,u,v,p,m,x){x===void 0&&(x=255),c=Math.abs(Math.floor(c)),u=Math.abs(Math.floor(u));var C=this.getIndex(c,u);if(C>-1){var P=this.context.getImageData(c,u,1,1);P.data[0]=v,P.data[1]=p,P.data[2]=m,P.data[3]=x,this.context.putImageData(P,c,u)}return this},putData:function(c,u,v,p,m,x,C){return p===void 0&&(p=0),m===void 0&&(m=0),x===void 0&&(x=c.width),C===void 0&&(C=c.height),this.context.putImageData(c,u,v,p,m,x,C),this},getData:function(c,u,v,p){c=y(Math.floor(c),0,this.width-1),u=y(Math.floor(u),0,this.height-1),v=y(v,1,this.width-c),p=y(p,1,this.height-u);var m=this.context.getImageData(c,u,v,p);return m},getPixel:function(c,u,v){v||(v=new d);var p=this.getIndex(c,u);if(p>-1){var m=this.data,x=m[p+0],C=m[p+1],P=m[p+2],w=m[p+3];v.setTo(x,C,P,w)}return v},getPixels:function(c,u,v,p){c===void 0&&(c=0),u===void 0&&(u=0),v===void 0&&(v=this.width),p===void 0&&(p=v),c=Math.abs(Math.round(c)),u=Math.abs(Math.round(u));for(var m=y(c,0,this.width),x=y(c+v,0,this.width),C=y(u,0,this.height),P=y(u+p,0,this.height),w=new d,M=[],R=C;R<P;R++){for(var A=[],L=m;L<x;L++)w=this.getPixel(L,R,w),A.push({x:L,y:R,color:w.color,alpha:w.alphaGL});M.push(A)}return M},getIndex:function(c,u){return c=Math.abs(Math.round(c)),u=Math.abs(Math.round(u)),c<this.width&&u<this.height?(c+u*this.width)*4:-1},refresh:function(){return this._source.update(),this},getCanvas:function(){return this.canvas},getContext:function(){return this.context},clear:function(c,u,v,p,m){return c===void 0&&(c=0),u===void 0&&(u=0),v===void 0&&(v=this.width),p===void 0&&(p=this.height),m===void 0&&(m=!0),this.context.clearRect(c,u,v,p),m&&this.update(),this},setSize:function(c,u){return u===void 0&&(u=c),(c!==this.width||u!==this.height)&&(this.canvas.width=c,this.canvas.height=u,this._source.width=c,this._source.height=u,this._source.isPowerOf2=l(c,u),this.frames.__BASE.setSize(c,u,0,0),this.width=c,this.height=u,this.refresh()),this},destroy:function(){a.prototype.destroy.call(this),this._source=null,this.canvas=null,this.context=null,this.imageData=null,this.data=null,this.pixels=null,this.buffer=null}});n.exports=f}),81320:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(10312),y=r(38058),d=r(27919),h=r(83419),l=r(8054),a=r(4327),f=r(95540),c=r(36060),u=r(32302),v=r(79237),p=r(70554),m=new h({Extends:v,initialize:function(C,P,w,M,R){w===void 0&&(w=256),M===void 0&&(M=256),R===void 0&&(R=!0),this.type="DynamicTexture";var A=C.game.renderer,L=A&&A.type===l.CANVAS,F=L?d.create2D(this,w,M):[this];v.call(this,C,P,F,w,M),this.add("__BASE",0,0,0,w,M),this.renderer=A,this.width=-1,this.height=-1,this.isDrawing=!1,this.canvas=L?F:null,this.context=L?F.getContext("2d",{willReadFrequently:!0}):null,this.dirty=!1,this.isSpriteTexture=!0,this._eraseMode=!1,this.camera=new y(0,0,w,M).setScene(C.game.scene.systemScene,!1),this.renderTarget=L?null:new u(A,w,M,1,0,!1,!1,!0,!1),this.pipeline=L?null:A.pipelines.get(c.SINGLE_PIPELINE),this.setSize(w,M,R)},setSize:function(x,C,P){C===void 0&&(C=x),P===void 0&&(P=!0),P&&(x=Math.floor(x),C=Math.floor(C),x%2!==0&&x++,C%2!==0&&C++);var w=this.get(),M=w.source;if(x!==this.width||C!==this.height){this.canvas&&(this.canvas.width=x,this.canvas.height=C);var R=this.renderTarget;R&&(R.willResize(x,C)&&R.resize(x,C),R.texture!==M.glTexture&&this.renderer.deleteTexture(M.glTexture),this.setFromRenderTarget()),this.camera.setSize(x,C),M.width=x,M.height=C,w.setSize(x,C),this.width=x,this.height=C}else{var A=this.getSourceImage();w.cutX+x>A.width&&(x=A.width-w.cutX),w.cutY+C>A.height&&(C=A.height-w.cutY),w.setSize(x,C,w.cutX,w.cutY)}return this},setFromRenderTarget:function(){var x=this.get(),C=x.source,P=this.renderTarget;return C.isRenderTexture=!0,C.isGLTexture=!0,C.glTexture=P.texture,this},setIsSpriteTexture:function(x){return this.isSpriteTexture=x,this},fill:function(x,C,P,w,M,R){var A=this.camera,L=this.renderer;C===void 0&&(C=1),P===void 0&&(P=0),w===void 0&&(w=0),M===void 0&&(M=this.width),R===void 0&&(R=this.height);var F=x>>16&255,G=x>>8&255,I=x&255,B=this.renderTarget;if(A.preRender(),B){B.bind(!0);var k=this.pipeline.manager.set(this.pipeline),U=L.width/B.width,H=L.height/B.height,X=B.height-(w+R);k.drawFillRect(P*U,X*H,M*U,R*H,p.getTintFromFloats(I/255,G/255,F/255,1),C),B.unbind(!0)}else{var j=this.context;L.setContext(j),j.globalCompositeOperation="source-over",j.fillStyle="rgba("+F+","+G+","+I+","+C+")",j.fillRect(P,w,M,R),L.setContext()}return this.dirty=!0,this},clear:function(x,C,P,w){if(this.dirty){var M=this.context,R=this.renderTarget;R?R.clear(x,C,P,w):M&&(x!==void 0&&C!==void 0&&P!==void 0&&w!==void 0?M.clearRect(x,C,P,w):(M.save(),M.setTransform(1,0,0,1,0,0),M.clearRect(0,0,this.width,this.height),M.restore())),this.dirty=!1}return this},stamp:function(x,C,P,w,M){P===void 0&&(P=0),w===void 0&&(w=0);var R=f(M,"alpha",1),A=f(M,"tint",16777215),L=f(M,"angle",0),F=f(M,"rotation",0),G=f(M,"scale",1),I=f(M,"scaleX",G),B=f(M,"scaleY",G),k=f(M,"originX",.5),U=f(M,"originY",.5),H=f(M,"blendMode",0),X=f(M,"erase",!1),j=f(M,"skipBatch",!1),Z=this.manager.resetStamp(R,A);return Z.setAngle(0),L!==0?Z.setAngle(L):F!==0&&Z.setRotation(F),Z.setScale(I,B),Z.setTexture(x,C),Z.setOrigin(k,U),Z.setBlendMode(H),X&&(this._eraseMode=!0),j?this.batchGameObject(Z,P,w):this.draw(Z,P,w),X&&(this._eraseMode=!1),this},erase:function(x,C,P){return this._eraseMode=!0,this.draw(x,C,P),this._eraseMode=!1,this},draw:function(x,C,P,w,M){return this.beginDraw(),this.batchDraw(x,C,P,w,M),this.endDraw(),this},drawFrame:function(x,C,P,w,M,R){return this.beginDraw(),this.batchDrawFrame(x,C,P,w,M,R),this.endDraw(),this},repeat:function(x,C,P,w,M,R,A,L,F){if(P===void 0&&(P=0),w===void 0&&(w=0),M===void 0&&(M=this.width),R===void 0&&(R=this.height),A===void 0&&(A=1),L===void 0&&(L=16777215),F===void 0&&(F=!1),x instanceof a?C=x:C=this.manager.getFrame(x,C),!C)return this;var G=this.manager.resetStamp(A,L);G.setFrame(C),G.setOrigin(0);var I=C.width,B=C.height;M=Math.floor(M),R=Math.floor(R);var k=Math.ceil(M/I),U=Math.ceil(R/B),H=k*I-M,X=U*B-R;H>0&&(H=I-H),X>0&&(X=B-X),P<0&&(k+=Math.ceil(Math.abs(P)/I)),w<0&&(U+=Math.ceil(Math.abs(w)/B));var j=P,Z=w,Y=!1,$=this.manager.stampCrop.setTo(0,0,I,B);F||this.beginDraw();for(var z=0;z<U;z++){if(Z+B<0){Z+=B;continue}for(var V=0;V<k;V++){if(Y=!1,j+I<0){j+=I;continue}else j<0&&(Y=!0,$.width=I+j,$.x=I-$.width);Z<0&&(Y=!0,$.height=B+Z,$.y=B-$.height),H>0&&V===k-1&&(Y=!0,$.width=H),X>0&&z===U-1&&(Y=!0,$.height=X),Y&&G.setCrop($),this.batchGameObject(G,j,Z),G.isCropped=!1,$.setTo(0,0,I,B),j+=I}j=P,Z+=B}return F||this.endDraw(),this},beginDraw:function(){if(!this.isDrawing){var x=this.camera,C=this.renderer,P=this.renderTarget;x.preRender(),P?C.beginCapture(P.width,P.height):C.setContext(this.context),this.isDrawing=!0}return this},batchDraw:function(x,C,P,w,M){return Array.isArray(x)||(x=[x]),this.batchList(x,C,P,w,M),this},batchDrawFrame:function(x,C,P,w,M,R){P===void 0&&(P=0),w===void 0&&(w=0),M===void 0&&(M=1),R===void 0&&(R=16777215);var A=this.manager.getFrame(x,C);return A&&(this.renderTarget?this.pipeline.batchTextureFrame(A,P,w,R,M,this.camera.matrix,null):this.batchTextureFrame(A,P,w,M,R)),this},endDraw:function(x){if(x===void 0&&(x=this._eraseMode),this.isDrawing){var C=this.renderer,P=this.renderTarget;if(P){var w=C.endCapture(),M=C.pipelines.setUtility();M.blitFrame(w,P,1,!1,!1,x,this.isSpriteTexture),C.resetScissor(),C.resetViewport()}else C.setContext();this.dirty=!0,this.isDrawing=!1}return this},batchList:function(x,C,P,w,M){var R=x.length;if(R!==0)for(var A=0;A<R;A++){var L=x[A];!L||L===this||(L.renderWebGL||L.renderCanvas?this.batchGameObject(L,C,P):L.isParent||L.list?this.batchGroup(L.getChildren(),C,P):typeof L=="string"?this.batchTextureFrameKey(L,null,C,P,w,M):L instanceof a?this.batchTextureFrame(L,C,P,w,M):Array.isArray(L)&&this.batchList(L,C,P,w,M))}},batchGroup:function(x,C,P){C===void 0&&(C=0),P===void 0&&(P=0);for(var w=0;w<x.length;w++){var M=x[w];M.willRender(this.camera)&&this.batchGameObject(M,M.x+C,M.y+P)}},batchGameObject:function(x,C,P){C===void 0&&(C=x.x),P===void 0&&(P=x.y);var w=x.x,M=x.y,R=this.camera,A=this.renderer,L=this._eraseMode,F=x.mask;if(x.setPosition(C,P),this.canvas){if(L){var G=x.blendMode;x.blendMode=o.ERASE}F&&F.preRenderCanvas(A,x,R),x.renderCanvas(A,x,R,null),F&&F.postRenderCanvas(A,x,R),L&&(x.blendMode=G)}else A&&(F&&F.preRenderWebGL(A,x,R),L||A.setBlendMode(x.blendMode),x.renderWebGL(A,x,R),F&&F.postRenderWebGL(A,R,this.renderTarget));x.setPosition(w,M)},batchTextureFrameKey:function(x,C,P,w,M,R){var A=this.manager.getFrame(x,C);A&&this.batchTextureFrame(A,P,w,M,R)},batchTextureFrame:function(x,C,P,w,M){C===void 0&&(C=0),P===void 0&&(P=0),w===void 0&&(w=1),M===void 0&&(M=16777215);var R=this.camera.matrix,A=this.renderTarget;if(A)this.pipeline.batchTextureFrame(x,C,P,M,w,R,null);else{var L=this.context,F=x.canvasData,G=x.source.image;L.save(),L.globalCompositeOperation=this._eraseMode?"destination-out":"source-over",L.globalAlpha=w,R.setToContext(L),F.width>0&&F.height>0&&L.drawImage(G,F.x,F.y,F.width,F.height,C,P,F.width,F.height),L.restore()}},snapshotArea:function(x,C,P,w,M,R,A){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,M,!1,x,C,P,w,R,A):this.renderer.snapshotCanvas(this.canvas,M,!1,x,C,P,w,R,A),this},snapshot:function(x,C,P){return this.snapshotArea(0,0,this.width,this.height,x,C,P)},snapshotPixel:function(x,C,P){return this.snapshotArea(x,C,1,1,P,"pixel")},getWebGLTexture:function(){if(this.renderTarget)return this.renderTarget.texture},renderWebGL:function(x,C,P,w){var M=this.manager.resetStamp();M.setTexture(this),M.setOrigin(0),M.renderWebGL(x,M,P,w)},renderCanvas:function(){},destroy:function(){var x=this.manager.stamp;x&&x.texture===this&&this.manager.resetStamp(),v.prototype.destroy.call(this),d.remove(this.canvas),this.renderTarget&&this.renderTarget.destroy(),this.camera.destroy(),this.canvas=null,this.context=null,this.renderer=null}});n.exports=m}),4327:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(45319),d=r(79291),h=new o({initialize:function(a,f,c,u,v,p,m){this.texture=a,this.name=f,this.source=a.source[c],this.sourceIndex=c,this.cutX,this.cutY,this.cutWidth,this.cutHeight,this.x=0,this.y=0,this.width,this.height,this.halfWidth,this.halfHeight,this.centerX,this.centerY,this.pivotX=0,this.pivotY=0,this.customPivot=!1,this.rotated=!1,this.autoRound=-1,this.customData={},this.u0=0,this.v0=0,this.u1=0,this.v1=0,this.data={cut:{x:0,y:0,w:0,h:0,r:0,b:0},trim:!1,sourceSize:{w:0,h:0},spriteSourceSize:{x:0,y:0,w:0,h:0,r:0,b:0},radius:0,drawImage:{x:0,y:0,width:0,height:0},is3Slice:!1,scale9:!1,scale9Borders:{x:0,y:0,w:0,h:0}},this.setSize(p,m,u,v)},setCutPosition:function(l,a){return l===void 0&&(l=0),a===void 0&&(a=0),this.cutX=l,this.cutY=a,this.updateUVs()},setCutSize:function(l,a){return this.cutWidth=l,this.cutHeight=a,this.updateUVs()},setSize:function(l,a,f,c){f===void 0&&(f=0),c===void 0&&(c=0),this.setCutPosition(f,c),this.setCutSize(l,a),this.width=l,this.height=a,this.halfWidth=Math.floor(l*.5),this.halfHeight=Math.floor(a*.5),this.centerX=Math.floor(l/2),this.centerY=Math.floor(a/2);var u=this.data,v=u.cut;v.x=f,v.y=c,v.w=l,v.h=a,v.r=f+l,v.b=c+a,u.sourceSize.w=l,u.sourceSize.h=a,u.spriteSourceSize.w=l,u.spriteSourceSize.h=a,u.radius=.5*Math.sqrt(l*l+a*a);var p=u.drawImage;return p.x=f,p.y=c,p.width=l,p.height=a,this.updateUVs()},setTrim:function(l,a,f,c,u,v){var p=this.data,m=p.spriteSourceSize;return p.trim=!0,p.sourceSize.w=l,p.sourceSize.h=a,m.x=f,m.y=c,m.w=u,m.h=v,m.r=f+u,m.b=c+v,this.x=f,this.y=c,this.width=u,this.height=v,this.halfWidth=u*.5,this.halfHeight=v*.5,this.centerX=Math.floor(u/2),this.centerY=Math.floor(v/2),this.updateUVs()},setScale9:function(l,a,f,c){var u=this.data;return u.scale9=!0,u.is3Slice=a===0&&c===this.height,u.scale9Borders.x=l,u.scale9Borders.y=a,u.scale9Borders.w=f,u.scale9Borders.h=c,this},setCropUVs:function(l,a,f,c,u,v,p){var m=this.cutX,x=this.cutY,C=this.cutWidth,P=this.cutHeight,w=this.realWidth,M=this.realHeight;a=y(a,0,w),f=y(f,0,M),c=y(c,0,w-a),u=y(u,0,M-f);var R=m+a,A=x+f,L=c,F=u,G=this.data;if(G.trim){var I=G.spriteSourceSize;c=y(c,0,I.x+C-a),u=y(u,0,I.y+P-f);var B=a+c,k=f+u,U=!(I.r<a||I.b<f||I.x>B||I.y>k);if(U){var H=Math.max(I.x,a),X=Math.max(I.y,f),j=Math.min(I.r,B)-H,Z=Math.min(I.b,k)-X;L=j,F=Z,v?R=m+(C-(H-I.x)-j):R=m+(H-I.x),p?A=x+(P-(X-I.y)-Z):A=x+(X-I.y),a=H,f=X,c=j,u=Z}else R=0,A=0,L=0,F=0}else v&&(R=m+(C-a-c)),p&&(A=x+(P-f-u));var Y=this.source.width,$=this.source.height;return l.u0=Math.max(0,R/Y),l.v0=Math.max(0,A/$),l.u1=Math.min(1,(R+L)/Y),l.v1=Math.min(1,(A+F)/$),l.x=a,l.y=f,l.cx=R,l.cy=A,l.cw=L,l.ch=F,l.width=c,l.height=u,l.flipX=v,l.flipY=p,l},updateCropUVs:function(l,a,f){return this.setCropUVs(l,l.x,l.y,l.width,l.height,a,f)},setUVs:function(l,a,f,c,u,v){var p=this.data.drawImage;return p.width=l,p.height=a,this.u0=f,this.v0=c,this.u1=u,this.v1=v,this},updateUVs:function(){var l=this.cutX,a=this.cutY,f=this.cutWidth,c=this.cutHeight,u=this.data.drawImage;u.width=f,u.height=c;var v=this.source.width,p=this.source.height;return this.u0=l/v,this.v0=a/p,this.u1=(l+f)/v,this.v1=(a+c)/p,this},updateUVsInverted:function(){var l=this.source.width,a=this.source.height;return this.u0=(this.cutX+this.cutHeight)/l,this.v0=this.cutY/a,this.u1=this.cutX/l,this.v1=(this.cutY+this.cutWidth)/a,this},clone:function(){var l=new h(this.texture,this.name,this.sourceIndex);return l.cutX=this.cutX,l.cutY=this.cutY,l.cutWidth=this.cutWidth,l.cutHeight=this.cutHeight,l.x=this.x,l.y=this.y,l.width=this.width,l.height=this.height,l.halfWidth=this.halfWidth,l.halfHeight=this.halfHeight,l.centerX=this.centerX,l.centerY=this.centerY,l.rotated=this.rotated,l.data=d(!0,l.data,this.data),l.updateUVs(),l},destroy:function(){this.texture=null,this.source=null,this.customData=null,this.data=null},glTexture:{get:function(){return this.source.glTexture}},realWidth:{get:function(){return this.data.sourceSize.w}},realHeight:{get:function(){return this.data.sourceSize.h}},radius:{get:function(){return this.data.radius}},trimmed:{get:function(){return this.data.trim}},scale9:{get:function(){return this.data.scale9}},is3Slice:{get:function(){return this.data.is3Slice}},canvasData:{get:function(){return this.data.drawImage}}});n.exports=h}),79237:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(4327),d=r(11876),h='Texture "%s" has no frame "%s"',l=new o({initialize:function(f,c,u,v,p){Array.isArray(u)||(u=[u]),this.manager=f,this.key=c,this.source=[],this.dataSource=[],this.frames={},this.customData={},this.firstFrame="__BASE",this.frameTotal=0;for(var m=0;m<u.length;m++)this.source.push(new d(this,u[m],v,p))},add:function(a,f,c,u,v,p){if(this.has(a))return null;var m=new y(this,a,f,c,u,v,p);return this.frames[a]=m,this.firstFrame==="__BASE"&&(this.firstFrame=a),this.frameTotal++,m},remove:function(a){if(this.has(a)){var f=this.get(a);return f.destroy(),delete this.frames[a],!0}return!1},has:function(a){return this.frames.hasOwnProperty(a)},get:function(a){a||(a=this.firstFrame);var f=this.frames[a];return f||(console.warn(h,this.key,a),f=this.frames[this.firstFrame]),f},getTextureSourceIndex:function(a){for(var f=0;f<this.source.length;f++)if(this.source[f]===a)return f;return-1},getFramesFromTextureSource:function(a,f){f===void 0&&(f=!1);var c=[];for(var u in this.frames)if(!(u==="__BASE"&&!f)){var v=this.frames[u];v.sourceIndex===a&&c.push(v)}return c},getFrameBounds:function(a){a===void 0&&(a=0);for(var f=this.getFramesFromTextureSource(a,!0),c=f[0],u=c.cutX,v=c.cutY,p=c.cutX+c.cutWidth,m=c.cutY+c.cutHeight,x=1;x<f.length;x++){var C=f[x];C.cutX<u&&(u=C.cutX),C.cutY<v&&(v=C.cutY),C.cutX+C.cutWidth>p&&(p=C.cutX+C.cutWidth),C.cutY+C.cutHeight>m&&(m=C.cutY+C.cutHeight)}return{x:u,y:v,width:p-u,height:m-v}},getFrameNames:function(a){a===void 0&&(a=!1);var f=Object.keys(this.frames);if(!a){var c=f.indexOf("__BASE");c!==-1&&f.splice(c,1)}return f},getSourceImage:function(a){(a==null||this.frameTotal===1)&&(a="__BASE");var f=this.frames[a];return f?f.source.image:(console.warn(h,this.key,a),this.frames.__BASE.source.image)},getDataSourceImage:function(a){(a==null||this.frameTotal===1)&&(a="__BASE");var f=this.frames[a],c;return f?c=f.sourceIndex:(console.warn(h,this.key,a),c=this.frames.__BASE.sourceIndex),this.dataSource[c].image},setDataSource:function(a){Array.isArray(a)||(a=[a]);for(var f=0;f<a.length;f++){var c=this.source[f];this.dataSource.push(new d(this,a[f],c.width,c.height))}},setFilter:function(a){var f;for(f=0;f<this.source.length;f++)this.source[f].setFilter(a);for(f=0;f<this.dataSource.length;f++)this.dataSource[f].setFilter(a)},destroy:function(){var a,f=this.source,c=this.dataSource;for(a=0;a<f.length;a++)f[a]&&f[a].destroy();for(a=0;a<c.length;a++)c[a]&&c[a].destroy();for(var u in this.frames){var v=this.frames[u];v&&v.destroy()}this.source=[],this.dataSource=[],this.frames={},this.manager.removeKey(this.key),this.manager=null}});n.exports=l}),17130:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(27919),y=r(57382),d=r(83419),h=r(40987),l=r(8054),a=r(81320),f=r(50792),c=r(69442),u=r(4327),v=r(8443),p=r(99584),m=r(35154),x=r(88571),C=r(41212),P=r(61309),w=r(87841),M=r(79237),R=new d({Extends:f,initialize:function(L){f.call(this),this.game=L,this.name="TextureManager",this.list={},this._tempCanvas=o.create2D(this),this._tempContext=this._tempCanvas.getContext("2d",{willReadFrequently:!0}),this._pending=0,this.stamp,this.stampCrop=new w,this.silentWarnings=!1,L.events.once(v.BOOT,this.boot,this)},boot:function(){this._pending=3,this.on(c.LOAD,this.updatePending,this),this.on(c.ERROR,this.updatePending,this);var A=this.game.config;A.defaultImage!==null&&this.addBase64("__DEFAULT",A.defaultImage),A.missingImage!==null&&this.addBase64("__MISSING",A.missingImage),A.whiteImage!==null&&this.addBase64("__WHITE",A.whiteImage),this.game.renderer&&this.game.renderer.gl&&this.addUint8Array("__NORMAL",new Uint8Array([127,127,255,255]),1,1),this.game.events.once(v.DESTROY,this.destroy,this),this.game.events.once(v.SYSTEM_READY,function(L){this.stamp=new x(L).setOrigin(0)},this)},updatePending:function(){this._pending--,this._pending===0&&(this.off(c.LOAD),this.off(c.ERROR),this.emit(c.READY))},checkKey:function(A){return!A||typeof A!="string"||this.exists(A)?(this.silentWarnings||console.error("Texture key already in use: "+A),!1):!0},remove:function(A){if(typeof A=="string")if(this.exists(A))A=this.get(A);else return this.silentWarnings||console.warn("No texture found matching key: "+A),this;var L=A.key;return this.list.hasOwnProperty(L)&&(A.destroy(),this.emit(c.REMOVE,L),this.emit(c.REMOVE_KEY+L)),this},removeKey:function(A){return this.list.hasOwnProperty(A)&&delete this.list[A],this},addBase64:function(A,L){if(this.checkKey(A)){var F=this,G=new Image;G.onerror=function(){F.emit(c.ERROR,A)},G.onload=function(){var I=F.create(A,G);I&&(P.Image(I,0),F.emit(c.ADD,A,I),F.emit(c.ADD_KEY+A,I),F.emit(c.LOAD,A,I))},G.src=L}return this},getBase64:function(A,L,F,G){F===void 0&&(F="image/png"),G===void 0&&(G=.92);var I="",B=this.getFrame(A,L);if(B&&(B.source.isRenderTexture||B.source.isGLTexture))this.silentWarnings||console.warn("Cannot getBase64 from WebGL Texture");else if(B){var k=B.canvasData,U=o.create2D(this,k.width,k.height),H=U.getContext("2d",{willReadFrequently:!0});k.width>0&&k.height>0&&H.drawImage(B.source.image,k.x,k.y,k.width,k.height,0,0,k.width,k.height),I=U.toDataURL(F,G),o.remove(U)}return I},addImage:function(A,L,F){var G=null;return this.checkKey(A)&&(G=this.create(A,L),P.Image(G,0),F&&G.setDataSource(F),this.emit(c.ADD,A,G),this.emit(c.ADD_KEY+A,G)),G},addGLTexture:function(A,L){var F=null;if(this.checkKey(A)){var G=L.width,I=L.height;F=this.create(A,L,G,I),F.add("__BASE",0,0,0,G,I),this.emit(c.ADD,A,F),this.emit(c.ADD_KEY+A,F)}return F},addCompressedTexture:function(A,L,F){var G=null;if(this.checkKey(A)){if(G=this.create(A,L),G.add("__BASE",0,0,0,L.width,L.height),F){var I=function(k,U,H){Array.isArray(H.textures)||Array.isArray(H.frames)?P.JSONArray(k,U,H):P.JSONHash(k,U,H)};if(Array.isArray(F))for(var B=0;B<F.length;B++)I(G,B,F[B]);else I(G,0,F)}this.emit(c.ADD,A,G),this.emit(c.ADD_KEY+A,G)}return G},addRenderTexture:function(A,L){var F=null;return this.checkKey(A)&&(F=this.create(A,L),F.add("__BASE",0,0,0,L.width,L.height),this.emit(c.ADD,A,F),this.emit(c.ADD_KEY+A,F)),F},generate:function(A,L){if(this.checkKey(A)){var F=o.create(this,1,1);return L.canvas=F,p(L),this.addCanvas(A,F)}else return null},createCanvas:function(A,L,F){if(L===void 0&&(L=256),F===void 0&&(F=256),this.checkKey(A)){var G=o.create(this,L,F,l.CANVAS,!0);return this.addCanvas(A,G)}return null},addCanvas:function(A,L,F){F===void 0&&(F=!1);var G=null;return F?G=new y(this,A,L,L.width,L.height):this.checkKey(A)&&(G=new y(this,A,L,L.width,L.height),this.list[A]=G,this.emit(c.ADD,A,G),this.emit(c.ADD_KEY+A,G)),G},addDynamicTexture:function(A,L,F){var G=null;return typeof A=="string"&&!this.exists(A)?G=new a(this,A,L,F):(G=A,A=G.key),this.checkKey(A)?(this.list[A]=G,this.emit(c.ADD,A,G),this.emit(c.ADD_KEY+A,G)):G=null,G},addAtlas:function(A,L,F,G){return Array.isArray(F.textures)||Array.isArray(F.frames)?this.addAtlasJSONArray(A,L,F,G):this.addAtlasJSONHash(A,L,F,G)},addAtlasJSONArray:function(A,L,F,G){var I=null;if(L instanceof M?(A=L.key,I=L):this.checkKey(A)&&(I=this.create(A,L)),I){if(Array.isArray(F))for(var B=F.length===1,k=0;k<I.source.length;k++){var U=B?F[0]:F[k];P.JSONArray(I,k,U)}else P.JSONArray(I,0,F);G&&I.setDataSource(G),this.emit(c.ADD,A,I),this.emit(c.ADD_KEY+A,I)}return I},addAtlasJSONHash:function(A,L,F,G){var I=null;if(L instanceof M?(A=L.key,I=L):this.checkKey(A)&&(I=this.create(A,L)),I){if(Array.isArray(F))for(var B=0;B<F.length;B++)P.JSONHash(I,B,F[B]);else P.JSONHash(I,0,F);G&&I.setDataSource(G),this.emit(c.ADD,A,I),this.emit(c.ADD_KEY+A,I)}return I},addAtlasXML:function(A,L,F,G){var I=null;return L instanceof M?(A=L.key,I=L):this.checkKey(A)&&(I=this.create(A,L)),I&&(P.AtlasXML(I,0,F),G&&I.setDataSource(G),this.emit(c.ADD,A,I),this.emit(c.ADD_KEY+A,I)),I},addUnityAtlas:function(A,L,F,G){var I=null;return L instanceof M?(A=L.key,I=L):this.checkKey(A)&&(I=this.create(A,L)),I&&(P.UnityYAML(I,0,F),G&&I.setDataSource(G),this.emit(c.ADD,A,I),this.emit(c.ADD_KEY+A,I)),I},addSpriteSheet:function(A,L,F,G){var I=null;if(L instanceof M?(A=L.key,I=L):this.checkKey(A)&&(I=this.create(A,L)),I){var B=I.source[0].width,k=I.source[0].height;P.SpriteSheet(I,0,0,0,B,k,F),G&&I.setDataSource(G),this.emit(c.ADD,A,I),this.emit(c.ADD_KEY+A,I)}return I},addSpriteSheetFromAtlas:function(A,L){if(!this.checkKey(A))return null;var F=m(L,"atlas",null),G=m(L,"frame",null);if(!(!F||!G)){var I=this.get(F),B=I.get(G);if(B){var k=B.source.image;k||(k=B.source.glTexture);var U=this.create(A,k);return B.trimmed?P.SpriteSheetFromAtlas(U,B,L):P.SpriteSheet(U,0,B.cutX,B.cutY,B.cutWidth,B.cutHeight,L),this.emit(c.ADD,A,U),this.emit(c.ADD_KEY+A,U),U}}},addUint8Array:function(A,L,F,G){if(!this.checkKey(A)||L.length/4!==F*G)return null;var I=this.create(A,L,F,G);return I.add("__BASE",0,0,0,F,G),this.emit(c.ADD,A,I),this.emit(c.ADD_KEY+A,I),I},create:function(A,L,F,G){var I=null;return this.checkKey(A)&&(I=new M(this,A,L,F,G),this.list[A]=I),I},exists:function(A){return this.list.hasOwnProperty(A)},get:function(A){return A===void 0&&(A="__DEFAULT"),this.list[A]?this.list[A]:A instanceof M?A:A instanceof u?A.texture:this.list.__MISSING},cloneFrame:function(A,L){if(this.list[A])return this.list[A].get(L).clone()},getFrame:function(A,L){if(this.list[A])return this.list[A].get(L)},parseFrame:function(A){if(A){if(typeof A=="string")return this.getFrame(A);if(Array.isArray(A)&&A.length===2)return this.getFrame(A[0],A[1]);if(C(A))return this.getFrame(A.key,A.frame);if(A instanceof M)return A.get();if(A instanceof u)return A}else return},getTextureKeys:function(){var A=[];for(var L in this.list)L!=="__DEFAULT"&&L!=="__MISSING"&&L!=="__WHITE"&&L!=="__NORMAL"&&A.push(L);return A},getPixel:function(A,L,F,G){var I=this.getFrame(F,G);if(I){A-=I.x,L-=I.y;var B=I.data.cut;if(A+=B.x,L+=B.y,A>=B.x&&A<B.r&&L>=B.y&&L<B.b){var k=this._tempContext;k.clearRect(0,0,1,1),k.drawImage(I.source.image,A,L,1,1,0,0,1,1);var U=k.getImageData(0,0,1,1);return new h(U.data[0],U.data[1],U.data[2],U.data[3])}}return null},getPixelAlpha:function(A,L,F,G){var I=this.getFrame(F,G);if(I){A-=I.x,L-=I.y;var B=I.data.cut;if(A+=B.x,L+=B.y,A>=B.x&&A<B.r&&L>=B.y&&L<B.b){var k=this._tempContext;k.clearRect(0,0,1,1),k.drawImage(I.source.image,A,L,1,1,0,0,1,1);var U=k.getImageData(0,0,1,1);return U.data[3]}}return null},setTexture:function(A,L,F){return this.list[L]&&(A.texture=this.list[L],A.frame=A.texture.get(F)),A},renameTexture:function(A,L){var F=this.get(A);return F&&A!==L?(F.key=L,this.list[L]=F,delete this.list[A],!0):!1},each:function(A,L){for(var F=[null],G=1;G<arguments.length;G++)F.push(arguments[G]);for(var I in this.list)F[0]=this.list[I],A.apply(L,F)},resetStamp:function(A,L){A===void 0&&(A=1),L===void 0&&(L=16777215);var F=this.stamp;return F.setCrop(),F.setPosition(0),F.setAngle(0),F.setScale(1),F.setAlpha(A),F.setTint(L),F.setTexture("__WHITE"),F},destroy:function(){for(var A in this.list)this.list[A].destroy();this.list={},this.stamp.destroy(),this.game=null,this.stamp=null,o.remove(this._tempCanvas)}});n.exports=R}),11876:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(27919),y=r(83419),d=r(50030),h=r(29795),l=r(82751),a=new y({initialize:function(c,u,v,p,m){m===void 0&&(m=!1);var x=c.manager.game;this.renderer=x.renderer,this.texture=c,this.source=u,this.image=u.compressed?null:u,this.compressionAlgorithm=u.compressed?u.format:null,this.resolution=1,this.width=v||u.naturalWidth||u.videoWidth||u.width||0,this.height=p||u.naturalHeight||u.videoHeight||u.height||0,this.scaleMode=h.DEFAULT,this.isCanvas=u instanceof HTMLCanvasElement,this.isVideo=window.hasOwnProperty("HTMLVideoElement")&&u instanceof HTMLVideoElement,this.isRenderTexture=u.type==="RenderTexture"||u.type==="DynamicTexture",this.isGLTexture=u instanceof l,this.isPowerOf2=d(this.width,this.height),this.glTexture=null,this.flipY=m,this.init(x)},init:function(f){var c=this.renderer;if(c){var u=this.source;if(c.gl){var v=this.image,p=this.flipY,m=this.width,x=this.height,C=this.scaleMode;this.isCanvas?this.glTexture=c.createCanvasTexture(v,!1,p):this.isVideo?this.glTexture=c.createVideoTexture(v,!1,p):this.isRenderTexture?this.glTexture=c.createTextureFromSource(null,m,x,C):this.isGLTexture?this.glTexture=u:this.compressionAlgorithm?this.glTexture=c.createTextureFromSource(u,void 0,void 0,C):u instanceof Uint8Array?this.glTexture=c.createUint8ArrayTexture(u,m,x,C):this.glTexture=c.createTextureFromSource(v,m,x,C)}else this.isRenderTexture&&(this.image=u.canvas)}f.config.antialias||this.setFilter(1)},setFilter:function(f){this.renderer&&this.renderer.gl&&this.renderer.setTextureFilter(this.glTexture,f),this.scaleMode=f},setFlipY:function(f){return f===void 0&&(f=!0),f===this.flipY?this:(this.flipY=f,this.update(),this)},update:function(){var f=this.renderer,c=this.image,u=this.flipY,v=f.gl;v&&this.isCanvas?f.updateCanvasTexture(c,this.glTexture,u):v&&this.isVideo&&f.updateVideoTexture(c,this.glTexture,u)},destroy:function(){this.glTexture&&this.renderer.deleteTexture(this.glTexture),this.isCanvas&&o.remove(this.image),this.renderer=null,this.texture=null,this.source=null,this.image=null,this.glTexture=null}});n.exports=a}),19673:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={LINEAR:0,NEAREST:1};n.exports=T}),44538:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="addtexture"}),63486:(n=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="addtexture-"}),94851:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="onerror"}),29099:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="onload"}),8678:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="ready"}),86415:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="removetexture"}),30879:(n=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="removetexture-"}),69442:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ADD:r(44538),ADD_KEY:r(63486),ERROR:r(94851),LOAD:r(29099),READY:r(8678),REMOVE:r(86415),REMOVE_KEY:r(30879)}}),27458:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(79291),y=r(19673),d={CanvasTexture:r(57382),DynamicTexture:r(81320),Events:r(69442),FilterMode:y,Frame:r(4327),Parsers:r(61309),Texture:r(79237),TextureManager:r(17130),TextureSource:r(11876)};d=o(!1,d,y),n.exports=d}),89905:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y){if(!y.getElementsByTagName("TextureAtlas")){console.warn("Invalid Texture Atlas XML given");return}var d=r.source[o];r.add("__BASE",o,0,0,d.width,d.height);for(var h=y.getElementsByTagName("SubTexture"),l,a=0;a<h.length;a++){var f=h[a].attributes,c=f.name.value,u=parseInt(f.x.value,10),v=parseInt(f.y.value,10),p=parseInt(f.width.value,10),m=parseInt(f.height.value,10);if(l=r.add(c,o,u,v,p,m),f.frameX){var x=Math.abs(parseInt(f.frameX.value,10)),C=Math.abs(parseInt(f.frameY.value,10)),P=parseInt(f.frameWidth.value,10),w=parseInt(f.frameHeight.value,10);l.setTrim(p,m,x,C,P,w)}}return r};n.exports=T}),72893:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){var y=r.source[o];return r.add("__BASE",o,0,0,y.width,y.height),r};n.exports=T}),4832:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){var y=r.source[o];return r.add("__BASE",o,0,0,y.width,y.height),r};n.exports=T}),78566:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(41786),y=function(d,h,l){if(!l.frames&&!l.textures){console.warn("Invalid Texture Atlas JSON Array");return}var a=d.source[h];d.add("__BASE",h,0,0,a.width,a.height);for(var f=Array.isArray(l.textures)?l.textures[h].frames:l.frames,c,u=0;u<f.length;u++){var v=f[u];if(c=d.add(v.filename,h,v.frame.x,v.frame.y,v.frame.w,v.frame.h),!c){console.warn("Invalid atlas json, frame already exists: "+v.filename);continue}v.trimmed&&c.setTrim(v.sourceSize.w,v.sourceSize.h,v.spriteSourceSize.x,v.spriteSourceSize.y,v.spriteSourceSize.w,v.spriteSourceSize.h),v.rotated&&(c.rotated=!0,c.updateUVsInverted());var p=v.anchor||v.pivot;p&&(c.customPivot=!0,c.pivotX=p.x,c.pivotY=p.y),v.scale9Borders&&c.setScale9(v.scale9Borders.x,v.scale9Borders.y,v.scale9Borders.w,v.scale9Borders.h),c.customData=o(v)}for(var m in l)m!=="frames"&&(Array.isArray(l[m])?d.customData[m]=l[m].slice(0):d.customData[m]=l[m]);return d};n.exports=y}),39711:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(41786),y=function(d,h,l){if(!l.frames){console.warn("Invalid Texture Atlas JSON Hash given, missing 'frames' Object");return}var a=d.source[h];d.add("__BASE",h,0,0,a.width,a.height);var f=l.frames,c;for(var u in f)if(f.hasOwnProperty(u)){var v=f[u];if(c=d.add(u,h,v.frame.x,v.frame.y,v.frame.w,v.frame.h),!c){console.warn("Invalid atlas json, frame already exists: "+u);continue}v.trimmed&&c.setTrim(v.sourceSize.w,v.sourceSize.h,v.spriteSourceSize.x,v.spriteSourceSize.y,v.spriteSourceSize.w,v.spriteSourceSize.h),v.rotated&&(c.rotated=!0,c.updateUVsInverted());var p=v.anchor||v.pivot;p&&(c.customPivot=!0,c.pivotX=p.x,c.pivotY=p.y),v.scale9Borders&&c.setScale9(v.scale9Borders.x,v.scale9Borders.y,v.scale9Borders.w,v.scale9Borders.h),c.customData=o(v)}for(var m in l)m!=="frames"&&(Array.isArray(l[m])?d.customData[m]=l[m].slice(0):d.customData[m]=l[m]);return d};n.exports=y}),31403:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){var o=[171,75,84,88,32,49,49,187,13,10,26,10],y,d=new Uint8Array(r,0,12);for(y=0;y<d.length;y++)if(d[y]!==o[y]){console.warn("KTXParser - Invalid file format");return}var h=Uint32Array.BYTES_PER_ELEMENT,l=new DataView(r,12,13*h),a=l.getUint32(0,!0)===67305985,f=l.getUint32(1*h,a);if(f!==0){console.warn("KTXParser - Only compressed formats supported");return}var c=l.getUint32(4*h,a),u=l.getUint32(6*h,a),v=l.getUint32(7*h,a),p=Math.max(1,l.getUint32(11*h,a)),m=l.getUint32(12*h,a),x=new Array(p),C=64+m,P=u,w=v;for(y=0;y<p;y++){var M=new Int32Array(r,C,1)[0];C+=4,x[y]={data:new Uint8Array(r,C,M),width:P,height:w},P=Math.max(1,P>>1),w=Math.max(1,w>>1),C+=M}return{mipmaps:x,width:u,height:v,internalFormat:c,compressed:!0,generateMipmap:!1}};n.exports=T}),82038:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function T(L,F,G,I,B,k,U){return U===void 0&&(U=16),Math.floor((L+G)/B)*Math.floor((F+I)/k)*U}function r(L,F){return L=Math.max(L,16),F=Math.max(F,8),L*F/4}function o(L,F){return L=Math.max(L,8),F=Math.max(F,8),L*F/2}function y(L,F){return Math.ceil(L/4)*Math.ceil(F/4)*16}function d(L,F){return T(L,F,3,3,4,4,8)}function h(L,F){return T(L,F,3,3,4,4)}function l(L,F){return T(L,F,4,3,5,4)}function a(L,F){return T(L,F,4,4,5,5)}function f(L,F){return T(L,F,5,4,6,5)}function c(L,F){return T(L,F,5,5,6,6)}function u(L,F){return T(L,F,7,4,8,5)}function v(L,F){return T(L,F,7,5,8,6)}function p(L,F){return T(L,F,7,7,8,8)}function m(L,F){return T(L,F,9,4,10,5)}function x(L,F){return T(L,F,9,5,10,6)}function C(L,F){return T(L,F,9,7,10,8)}function P(L,F){return T(L,F,9,9,10,10)}function w(L,F){return T(L,F,11,9,12,10)}function M(L,F){return T(L,F,11,11,12,12)}var R={0:{sizeFunc:r,glFormat:[35841]},1:{sizeFunc:r,glFormat:[35843]},2:{sizeFunc:o,glFormat:[35840]},3:{sizeFunc:o,glFormat:[35842]},6:{sizeFunc:d,glFormat:[36196]},7:{sizeFunc:d,glFormat:[33776,35916]},8:{sizeFunc:h,glFormat:[33777,35917]},9:{sizeFunc:h,glFormat:[33778,35918]},11:{sizeFunc:h,glFormat:[33779,35919]},14:{sizeFunc:y,glFormat:[36494,36495]},15:{sizeFunc:y,glFormat:[36492,36493]},22:{sizeFunc:d,glFormat:[37492,37493]},23:{sizeFunc:h,glFormat:[37496,37497]},24:{sizeFunc:d,glFormat:[37494,37495]},25:{sizeFunc:d,glFormat:[37488]},26:{sizeFunc:h,glFormat:[37490]},27:{sizeFunc:h,glFormat:[37808,37840]},28:{sizeFunc:l,glFormat:[37809,37841]},29:{sizeFunc:a,glFormat:[37810,37842]},30:{sizeFunc:f,glFormat:[37811,37843]},31:{sizeFunc:c,glFormat:[37812,37844]},32:{sizeFunc:u,glFormat:[37813,37845]},33:{sizeFunc:v,glFormat:[37814,37846]},34:{sizeFunc:p,glFormat:[37815,37847]},35:{sizeFunc:m,glFormat:[37816,37848]},36:{sizeFunc:x,glFormat:[37817,37849]},37:{sizeFunc:C,glFormat:[37818,37850]},38:{sizeFunc:P,glFormat:[37819,37851]},39:{sizeFunc:w,glFormat:[37820,37852]},40:{sizeFunc:M,glFormat:[37821,37853]}},A=function(L){for(var F=new Uint32Array(L,0,13),G=F[0],I=G===55727696,B=I?F[2]:F[3],k=F[4],U=R[B].glFormat[k],H=R[B].sizeFunc,X=F[11],j=F[7],Z=F[6],Y=52+F[12],$=new Uint8Array(L,Y),z=new Array(X),V=0,K=j,Q=Z,_=0;_<X;_++){var tt=H(K,Q);z[_]={data:new Uint8Array($.buffer,$.byteOffset+V,tt),width:K,height:Q},K=Math.max(1,K>>1),Q=Math.max(1,Q>>1),V+=tt}return{mipmaps:z,width:j,height:Z,internalFormat:U,compressed:!0,generateMipmap:!1}};n.exports=A}),75549:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(95540),y=function(d,h,l,a,f,c,u){var v=o(u,"frameWidth",null),p=o(u,"frameHeight",v);if(v===null)throw new Error("TextureManager.SpriteSheet: Invalid frameWidth given.");var m=d.source[h];d.add("__BASE",h,0,0,m.width,m.height);var x=o(u,"startFrame",0),C=o(u,"endFrame",-1),P=o(u,"margin",0),w=o(u,"spacing",0),M=Math.floor((f-P+w)/(v+w)),R=Math.floor((c-P+w)/(p+w)),A=M*R;A===0&&console.warn("SpriteSheet frame dimensions will result in zero frames for texture:",d.key),(x>A||x<-A)&&(x=0),x<0&&(x=A+x),(C===-1||C>A||C<x)&&(C=A);for(var L=P,F=P,G=0,I=0,B=0,k=0;k<A;k++){G=0,I=0;var U=L+v,H=F+p;U>f&&(G=U-f),H>c&&(I=H-c),k>=x&&k<=C&&(d.add(B,h,l+L,a+F,v-G,p-I),B++),L+=v+w,L+v>f&&(L=P,F+=p+w)}return d};n.exports=y}),47534:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(95540),y=function(d,h,l){var a=o(l,"frameWidth",null),f=o(l,"frameHeight",a);if(!a)throw new Error("TextureManager.SpriteSheetFromAtlas: Invalid frameWidth given.");var c=d.source[0];d.add("__BASE",0,0,0,c.width,c.height),o(l,"startFrame",0),o(l,"endFrame",-1);for(var u=o(l,"margin",0),v=o(l,"spacing",0),p=h.cutX,m=h.cutY,x=h.cutWidth,C=h.cutHeight,P=h.realWidth,w=h.realHeight,M=Math.floor((P-u+v)/(a+v)),R=Math.floor((w-u+v)/(f+v)),A=h.x,L=a-A,F=a-(P-x-A),G=h.y,I=f-G,B=f-(w-C-G),k,U=u,H=u,X=0,j=0,Z=0;Z<R;Z++){for(var Y=Z===0,$=Z===R-1,z=0;z<M;z++){var V=z===0,K=z===M-1;if(k=d.add(X,j,p+U,m+H,a,f),V||Y||K||$){var Q=V?A:0,_=Y?G:0,tt=0,rt=0;V&&(tt+=a-L),K&&(tt+=a-F),Y&&(rt+=f-I),$&&(rt+=f-B);var ot=a-tt,ft=f-rt;k.cutWidth=ot,k.cutHeight=ft,k.setTrim(a,f,Q,_,ot,ft)}U+=v,V?U+=L:K?U+=F:U+=a,X++}U=u,H+=v,Y?H+=I:$?H+=B:H+=f}return d};n.exports=y}),86147:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=0,r=function(y,d,h,l){var a=T-l.y-l.height;y.add(h,d,l.x,a,l.width,l.height)},o=function(y,d,h){var l=y.source[d];y.add("__BASE",d,0,0,l.width,l.height),T=l.height;for(var a=h.split(`
`),f=/^[ ]*(- )*(\w+)+[: ]+(.*)/,c="",u="",v={x:0,y:0,width:0,height:0},p=0;p<a.length;p++){var m=a[p].match(f);if(m){var x=m[1]==="- ",C=m[2],P=m[3];if(x&&(u!==c&&(r(y,d,u,v),c=u),v={x:0,y:0,width:0,height:0}),C==="name"){u=P;continue}switch(C){case"x":case"y":case"width":case"height":v[C]=parseInt(P,10);break}}}return u!==c&&r(y,d,u,v),y};n.exports=o}),55222:((n,T,r)=>{/**
 * @author       Ben Richards <benjamindrichards@gmail.com>
 * @copyright    2024 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(50030),y=function(c){for(var u=c.mipmaps,v=1;v<u.length;v++){var p=u[v].width,m=u[v].height;if(!o(p,m))return console.warn("Mip level "+v+" is not a power-of-two size: "+p+"x"+m),!1}var x=f[c.internalFormat];return x?x(c):(console.warn("No format checker found for internal format "+c.internalFormat+". Assuming valid."),!0)};function d(c){for(var u=c.mipmaps,v=0;v<u.length;v++){var p=u[v].width,m=u[v].height;if((p<<v)%4!==0||(m<<v)%4!==0)return console.warn("BPTC, RGTC, and S3TC dimensions must be a multiple of 4 pixels, and each successive mip level must be half the size of the previous level, rounded down. Mip level "+v+" is "+p+"x"+m),!1}return!0}function h(){return!0}function l(c){var u=c.mipmaps,v=u[0];return o(v.width,v.height)?!0:(console.warn("PVRTC base dimensions must be power of two. Base level is "+v.width+"x"+v.height),!1)}function a(c){var u=c.mipmaps,v=u[0];return v.width%4!==0||v.height%4!==0?(console.warn("S3TC SRGB base dimensions must be a multiple of 4 pixels. Base level is "+v.width+"x"+v.height+" pixels"),!1):!0}var f={37488:h,37489:h,37490:h,37491:h,37492:h,37493:h,37494:h,37495:h,37496:h,37497:h,36196:h,37808:h,37809:h,37810:h,37811:h,37812:h,37813:h,37814:h,37815:h,37816:h,37817:h,37818:h,37819:h,37820:h,37821:h,37840:h,37841:h,37842:h,37843:h,37844:h,37845:h,37846:h,37847:h,37848:h,37849:h,37850:h,37851:h,37852:h,37853:h,36492:d,36493:d,36494:d,36495:d,36283:d,36284:d,36285:d,36286:d,35840:l,35841:l,35842:l,35843:l,33776:d,33777:d,33778:d,33779:d,35916:a,35917:a,35918:a,35919:a};n.exports=y}),61309:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={AtlasXML:r(89905),Canvas:r(72893),Image:r(4832),JSONArray:r(78566),JSONHash:r(39711),KTXParser:r(31403),PVRParser:r(82038),SpriteSheet:r(75549),SpriteSheetFromAtlas:r(47534),UnityYAML:r(86147)}}),80341:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={CSV:0,TILED_JSON:1,ARRAY_2D:2,WELTMEISTER:3}}),16536:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=new o({initialize:function(h,l,a,f,c,u,v){(a===void 0||a<=0)&&(a=32),(f===void 0||f<=0)&&(f=32),c===void 0&&(c=0),u===void 0&&(u=0),this.name=h,this.firstgid=l|0,this.imageWidth=a|0,this.imageHeight=f|0,this.imageMargin=c|0,this.imageSpacing=u|0,this.properties=v||{},this.images=[],this.total=0},containsImageIndex:function(d){return d>=this.firstgid&&d<this.firstgid+this.total},addImage:function(d,h,l,a){return this.images.push({gid:d,image:h,width:l,height:a}),this.total++,this}});n.exports=y}),27462:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=new o({initialize:function(h){if(this.gids=[],h!==void 0)for(var l=0;l<h.length;++l)for(var a=h[l],f=0;f<a.total;++f)this.gids[a.firstgid+f]=a;this._gids=this.gids},enabled:{get:function(){return!!this.gids},set:function(d){this.gids=d?this._gids:void 0}},getTypeIncludingTile:function(d){if(d.type!==void 0&&d.type!=="")return d.type;if(!(!this.gids||d.gid===void 0)){var h=this.gids[d.gid];if(h){var l=h.getTileData(d.gid);if(l)return l.type}}},setTextureAndFrame:function(d,h,l,a){if(h===null&&this.gids&&a.gid!==void 0){var f=this.gids[a.gid];f&&(h===null&&f.image!==void 0&&(h=f.image.key),l===null&&(l=a.gid-f.firstgid),d.scene.textures.getFrame(h,l)||(h=null,l=null))}d.setTexture(h,l)},setPropertiesFromTiledObject:function(d,h){if(this.gids!==void 0&&h.gid!==void 0){var l=this.gids[h.gid];l!==void 0&&this.setFromJSON(d,l.getTileProperties(h.gid))}this.setFromJSON(d,h.properties)},setFromJSON:function(d,h){if(h){if(Array.isArray(h)){for(var l=0;l<h.length;l++){var a=h[l];d[a.name]!==void 0?d[a.name]=a.value:d.setData(a.name,a.value)}return}for(var f in h)d[f]!==void 0?d[f]=h[f]:d.setData(f,h[f])}}});n.exports=y}),31989:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(80341),y=r(87010),d=r(46177),h=r(49075),l=function(a,f,c,u,v,p,m,x){c===void 0&&(c=32),u===void 0&&(u=32),v===void 0&&(v=10),p===void 0&&(p=10),x===void 0&&(x=!1);var C=null;if(Array.isArray(m)){var P=f!==void 0?f:"map";C=d(P,o.ARRAY_2D,m,c,u,x)}else if(f!==void 0){var w=a.cache.tilemap.get(f);w?C=d(f,w.format,w.data,c,u,x):console.warn("No map data found for key "+f)}return C===null&&(C=new y({tileWidth:c,tileHeight:u,width:v,height:p})),new h(a,C)};n.exports=l}),23029:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(31401),d=r(91907),h=r(62644),l=r(93232),a=new o({Mixins:[y.AlphaSingle,y.Flip,y.Visible],initialize:function(c,u,v,p,m,x,C,P){this.layer=c,this.index=u,this.x=v,this.y=p,this.width=m,this.height=x,this.right,this.bottom,this.baseWidth=C!==void 0?C:m,this.baseHeight=P!==void 0?P:x,this.pixelX=0,this.pixelY=0,this.updatePixelXY(),this.properties={},this.rotation=0,this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceLeft=!1,this.faceRight=!1,this.faceTop=!1,this.faceBottom=!1,this.collisionCallback=void 0,this.collisionCallbackContext=this,this.tint=16777215,this.tintFill=!1,this.physics={}},containsPoint:function(f,c){return!(f<this.pixelX||c<this.pixelY||f>this.right||c>this.bottom)},copy:function(f){return this.index=f.index,this.alpha=f.alpha,this.properties=h(f.properties),this.visible=f.visible,this.setFlip(f.flipX,f.flipY),this.tint=f.tint,this.rotation=f.rotation,this.collideUp=f.collideUp,this.collideDown=f.collideDown,this.collideLeft=f.collideLeft,this.collideRight=f.collideRight,this.collisionCallback=f.collisionCallback,this.collisionCallbackContext=f.collisionCallbackContext,this},getCollisionGroup:function(){return this.tileset?this.tileset.getTileCollisionGroup(this.index):null},getTileData:function(){return this.tileset?this.tileset.getTileData(this.index):null},getLeft:function(f){var c=this.tilemapLayer;if(c){var u=c.tileToWorldXY(this.x,this.y,void 0,f);return u.x}return this.x*this.baseWidth},getRight:function(f){var c=this.tilemapLayer;return c?this.getLeft(f)+this.width*c.scaleX:this.getLeft(f)+this.width},getTop:function(f){var c=this.tilemapLayer;if(c){var u=c.tileToWorldXY(this.x,this.y,void 0,f);return u.y}return this.y*this.baseWidth-(this.height-this.baseHeight)},getBottom:function(f){var c=this.tilemapLayer;return c?this.getTop(f)+this.height*c.scaleY:this.getTop(f)+this.height},getBounds:function(f,c){return c===void 0&&(c=new l),c.x=this.getLeft(f),c.y=this.getTop(f),c.width=this.getRight(f)-c.x,c.height=this.getBottom(f)-c.y,c},getCenterX:function(f){return(this.getLeft(f)+this.getRight(f))/2},getCenterY:function(f){return(this.getTop(f)+this.getBottom(f))/2},intersects:function(f,c,u,v){return!(u<=this.pixelX||v<=this.pixelY||f>=this.right||c>=this.bottom)},isInteresting:function(f,c){return f&&c?this.canCollide||this.hasInterestingFace:f?this.collides:c?this.hasInterestingFace:!1},resetCollision:function(f){if(f===void 0&&(f=!0),this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,f){var c=this.tilemapLayer;c&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},resetFaces:function(){return this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,this},setCollision:function(f,c,u,v,p){if(c===void 0&&(c=f),u===void 0&&(u=f),v===void 0&&(v=f),p===void 0&&(p=!0),this.collideLeft=f,this.collideRight=c,this.collideUp=u,this.collideDown=v,this.faceLeft=f,this.faceRight=c,this.faceTop=u,this.faceBottom=v,p){var m=this.tilemapLayer;m&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},setCollisionCallback:function(f,c){return f===null?(this.collisionCallback=void 0,this.collisionCallbackContext=void 0):(this.collisionCallback=f,this.collisionCallbackContext=c),this},setSize:function(f,c,u,v){return f!==void 0&&(this.width=f),c!==void 0&&(this.height=c),u!==void 0&&(this.baseWidth=u),v!==void 0&&(this.baseHeight=v),this.updatePixelXY(),this},updatePixelXY:function(){var f=this.layer.orientation;if(f===d.ORTHOGONAL)this.pixelX=this.x*this.baseWidth,this.pixelY=this.y*this.baseHeight;else if(f===d.ISOMETRIC)this.pixelX=(this.x-this.y)*this.baseWidth*.5,this.pixelY=(this.x+this.y)*this.baseHeight*.5;else if(f===d.STAGGERED)this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2),this.pixelY=this.y*(this.baseHeight/2);else if(f===d.HEXAGONAL){var c=this.layer.staggerAxis,u=this.layer.staggerIndex,v=this.layer.hexSideLength,p,m;c==="y"?(m=(this.baseHeight-v)/2+v,u==="odd"?this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2):this.pixelX=this.x*this.baseWidth-this.y%2*(this.baseWidth/2),this.pixelY=this.y*m):c==="x"&&(p=(this.baseWidth-v)/2+v,this.pixelX=this.x*p,u==="odd"?this.pixelY=this.y*this.baseHeight+this.x%2*(this.baseHeight/2):this.pixelY=this.y*this.baseHeight-this.x%2*(this.baseHeight/2))}return this.right=this.pixelX+this.baseWidth,this.bottom=this.pixelY+this.baseHeight,this},destroy:function(){this.collisionCallback=void 0,this.collisionCallbackContext=void 0,this.properties=void 0},canCollide:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown||this.collisionCallback!==void 0}},collides:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown}},hasInterestingFace:{get:function(){return this.faceTop||this.faceBottom||this.faceLeft||this.faceRight}},tileset:{get:function(){var f=this.layer.tilemapLayer;if(f){var c=f.gidMap[this.index];if(c)return c}return null}},tilemapLayer:{get:function(){return this.layer.tilemapLayer}},tilemap:{get:function(){var f=this.tilemapLayer;return f?f.tilemap:null}}});n.exports=a}),49075:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(84101),y=r(83419),d=r(39506),h=r(80341),l=r(95540),a=r(14977),f=r(27462),c=r(91907),u=r(36305),v=r(19133),p=r(68287),m=r(23029),x=r(81086),C=r(20442),P=r(33629),w=new y({initialize:function(R,A){this.scene=R,this.tileWidth=A.tileWidth,this.tileHeight=A.tileHeight,this.width=A.width,this.height=A.height,this.orientation=A.orientation,this.renderOrder=A.renderOrder,this.format=A.format,this.version=A.version,this.properties=A.properties,this.widthInPixels=A.widthInPixels,this.heightInPixels=A.heightInPixels,this.imageCollections=A.imageCollections,this.images=A.images,this.layers=A.layers,this.tiles=A.tiles,this.tilesets=A.tilesets,this.objects=A.objects,this.currentLayerIndex=0,this.hexSideLength=A.hexSideLength;var L=this.orientation;this._convert={WorldToTileXY:x.GetWorldToTileXYFunction(L),WorldToTileX:x.GetWorldToTileXFunction(L),WorldToTileY:x.GetWorldToTileYFunction(L),TileToWorldXY:x.GetTileToWorldXYFunction(L),TileToWorldX:x.GetTileToWorldXFunction(L),TileToWorldY:x.GetTileToWorldYFunction(L),GetTileCorners:x.GetTileCornersFunction(L)}},setRenderOrder:function(M){var R=["right-down","left-down","right-up","left-up"];return typeof M=="number"&&(M=R[M]),R.indexOf(M)>-1&&(this.renderOrder=M),this},addTilesetImage:function(M,R,A,L,F,G,I,B){if(M===void 0)return null;R==null&&(R=M);var k=this.scene.sys.textures;if(!k.exists(R))return console.warn('Texture key "%s" not found',R),null;var U=k.get(R),H=this.getTilesetIndex(M);if(H===null&&this.format===h.TILED_JSON)return console.warn('Tilemap has no tileset "%s". Its tilesets are %o',M,this.tilesets),null;var X=this.tilesets[H];return X?((A||L)&&X.setTileSize(A,L),(F||G)&&X.setSpacing(F,G),X.setImage(U),X):(A===void 0&&(A=this.tileWidth),L===void 0&&(L=this.tileHeight),F===void 0&&(F=0),G===void 0&&(G=0),I===void 0&&(I=0),B===void 0&&(B={x:0,y:0}),X=new P(M,I,A,L,F,G,void 0,void 0,B),X.setImage(U),this.tilesets.push(X),this.tiles=o(this),X)},copy:function(M,R,A,L,F,G,I,B){return B=this.getLayer(B),B!==null?(x.Copy(M,R,A,L,F,G,I,B),this):null},createBlankLayer:function(M,R,A,L,F,G,I,B){A===void 0&&(A=0),L===void 0&&(L=0),F===void 0&&(F=this.width),G===void 0&&(G=this.height),I===void 0&&(I=this.tileWidth),B===void 0&&(B=this.tileHeight);var k=this.getLayerIndex(M);if(k!==null)return console.warn("Invalid Tilemap Layer ID: "+M),null;for(var U=new a({name:M,tileWidth:I,tileHeight:B,width:F,height:G,orientation:this.orientation,hexSideLength:this.hexSideLength}),H,X=0;X<G;X++){H=[];for(var j=0;j<F;j++)H.push(new m(U,-1,j,X,I,B,this.tileWidth,this.tileHeight));U.data.push(H)}this.layers.push(U),this.currentLayerIndex=this.layers.length-1;var Z=new C(this.scene,this,this.currentLayerIndex,R,A,L);return Z.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(Z),Z},createLayer:function(M,R,A,L){var F=this.getLayerIndex(M);if(F===null)return console.warn("Invalid Tilemap Layer ID: "+M),typeof M=="string"&&console.warn("Valid tilelayer names: %o",this.getTileLayerNames()),null;var G=this.layers[F];if(G.tilemapLayer)return console.warn("Tilemap Layer ID already exists:"+M),null;this.currentLayerIndex=F,A===void 0&&(A=G.x),L===void 0&&(L=G.y);var I=new C(this.scene,this,F,R,A,L);return I.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(I),I},createFromObjects:function(M,R,A){A===void 0&&(A=!0);var L=[],F=this.getObjectLayer(M);if(!F)return console.warn("createFromObjects: Invalid objectLayerName given: "+M),L;var G=new f(A?this.tilesets:void 0);Array.isArray(R)||(R=[R]);for(var I=F.objects,B=0;B<R.length;B++){var k=R[B],U=l(k,"id",null),H=l(k,"gid",null),X=l(k,"name",null),j=l(k,"type",null);G.enabled=!l(k,"ignoreTileset",null);for(var Z,Y=[],$=0;$<I.length;$++)Z=I[$],(U===null&&H===null&&X===null&&j===null||U!==null&&Z.id===U||H!==null&&Z.gid===H||X!==null&&Z.name===X||j!==null&&G.getTypeIncludingTile(Z)===j)&&Y.push(Z);for(var z=l(k,"classType",p),V=l(k,"scene",this.scene),K=l(k,"container",null),Q=l(k,"key",null),_=l(k,"frame",null),tt=0;tt<Y.length;tt++){Z=Y[tt];var rt=new z(V);if(rt.setName(Z.name),rt.setPosition(Z.x,Z.y),G.setTextureAndFrame(rt,Q,_,Z),Z.width&&(rt.displayWidth=Z.width),Z.height&&(rt.displayHeight=Z.height),this.orientation===c.ISOMETRIC){var ot=this.tileWidth/this.tileHeight,ft={x:rt.x-rt.y,y:(rt.x+rt.y)/ot};rt.x=ft.x,rt.y=ft.y}var ct={x:rt.originX*Z.width,y:(rt.originY-(Z.gid?1:0))*Z.height};if(Z.rotation){var gt=d(Z.rotation);u(ct,gt),rt.rotation=gt}rt.x+=ct.x,rt.y+=ct.y,(Z.flippedHorizontal!==void 0||Z.flippedVertical!==void 0)&&rt.setFlip(Z.flippedHorizontal,Z.flippedVertical),Z.visible||(rt.visible=!1),G.setPropertiesFromTiledObject(rt,Z),K?K.add(rt):V.add.existing(rt),L.push(rt)}}return L},createFromTiles:function(M,R,A,L,F,G){return G=this.getLayer(G),G===null?null:x.CreateFromTiles(M,R,A,L,F,G)},fill:function(M,R,A,L,F,G,I){return G===void 0&&(G=!0),I=this.getLayer(I),I===null?null:(x.Fill(M,R,A,L,F,G,I),this)},filterObjects:function(M,R,A){if(typeof M=="string"){var L=M;if(M=this.getObjectLayer(M),!M)return console.warn("No object layer found with the name: "+L),null}return M.objects.filter(R,A)},filterTiles:function(M,R,A,L,F,G,I,B){return B=this.getLayer(B),B===null?null:x.FilterTiles(M,R,A,L,F,G,I,B)},findByIndex:function(M,R,A,L){return L=this.getLayer(L),L===null?null:x.FindByIndex(M,R,A,L)},findObject:function(M,R,A){if(typeof M=="string"){var L=M;if(M=this.getObjectLayer(M),!M)return console.warn("No object layer found with the name: "+L),null}return M.objects.find(R,A)||null},findTile:function(M,R,A,L,F,G,I,B){return B=this.getLayer(B),B===null?null:x.FindTile(M,R,A,L,F,G,I,B)},forEachTile:function(M,R,A,L,F,G,I,B){return B=this.getLayer(B),B===null?null:(x.ForEachTile(M,R,A,L,F,G,I,B),this)},getImageIndex:function(M){return this.getIndex(this.images,M)},getImageLayerNames:function(){return!this.images||!Array.isArray(this.images)?[]:this.images.map(function(M){return M.name})},getIndex:function(M,R){for(var A=0;A<M.length;A++)if(M[A].name===R)return A;return null},getLayer:function(M){var R=this.getLayerIndex(M);return R!==null?this.layers[R]:null},getObjectLayer:function(M){var R=this.getIndex(this.objects,M);return R!==null?this.objects[R]:null},getObjectLayerNames:function(){return!this.objects||!Array.isArray(this.objects)?[]:this.objects.map(function(M){return M.name})},getLayerIndex:function(M){return M===void 0?this.currentLayerIndex:typeof M=="string"?this.getLayerIndexByName(M):typeof M=="number"&&M<this.layers.length?M:M instanceof C&&M.tilemap===this?M.layerIndex:null},getLayerIndexByName:function(M){return this.getIndex(this.layers,M)},getTileAt:function(M,R,A,L){return L=this.getLayer(L),L===null?null:x.GetTileAt(M,R,A,L)},getTileAtWorldXY:function(M,R,A,L,F){return F=this.getLayer(F),F===null?null:x.GetTileAtWorldXY(M,R,A,L,F)},getTileLayerNames:function(){return!this.layers||!Array.isArray(this.layers)?[]:this.layers.map(function(M){return M.name})},getTilesWithin:function(M,R,A,L,F,G){return G=this.getLayer(G),G===null?null:x.GetTilesWithin(M,R,A,L,F,G)},getTilesWithinShape:function(M,R,A,L){return L=this.getLayer(L),L===null?null:x.GetTilesWithinShape(M,R,A,L)},getTilesWithinWorldXY:function(M,R,A,L,F,G,I){return I=this.getLayer(I),I===null?null:x.GetTilesWithinWorldXY(M,R,A,L,F,G,I)},getTileset:function(M){var R=this.getIndex(this.tilesets,M);return R!==null?this.tilesets[R]:null},getTilesetIndex:function(M){return this.getIndex(this.tilesets,M)},hasTileAt:function(M,R,A){return A=this.getLayer(A),A===null?null:x.HasTileAt(M,R,A)},hasTileAtWorldXY:function(M,R,A,L){return L=this.getLayer(L),L===null?null:x.HasTileAtWorldXY(M,R,A,L)},layer:{get:function(){return this.layers[this.currentLayerIndex]},set:function(M){this.setLayer(M)}},putTileAt:function(M,R,A,L,F){return L===void 0&&(L=!0),F=this.getLayer(F),F===null?null:x.PutTileAt(M,R,A,L,F)},putTileAtWorldXY:function(M,R,A,L,F,G){return L===void 0&&(L=!0),G=this.getLayer(G),G===null?null:x.PutTileAtWorldXY(M,R,A,L,F,G)},putTilesAt:function(M,R,A,L,F){return L===void 0&&(L=!0),F=this.getLayer(F),F===null?null:(x.PutTilesAt(M,R,A,L,F),this)},randomize:function(M,R,A,L,F,G){return G=this.getLayer(G),G===null?null:(x.Randomize(M,R,A,L,F,G),this)},calculateFacesAt:function(M,R,A){return A=this.getLayer(A),A===null?null:(x.CalculateFacesAt(M,R,A),this)},calculateFacesWithin:function(M,R,A,L,F){return F=this.getLayer(F),F===null?null:(x.CalculateFacesWithin(M,R,A,L,F),this)},removeLayer:function(M){var R=this.getLayerIndex(M);if(R!==null){v(this.layers,R);for(var A=R;A<this.layers.length;A++)this.layers[A].tilemapLayer&&this.layers[A].tilemapLayer.layerIndex--;return this.currentLayerIndex===R&&(this.currentLayerIndex=0),this}else return null},destroyLayer:function(M){var R=this.getLayerIndex(M);return R!==null?(M=this.layers[R],M.tilemapLayer.destroy(),v(this.layers,R),this.currentLayerIndex===R&&(this.currentLayerIndex=0),this):null},removeAllLayers:function(){for(var M=this.layers,R=0;R<M.length;R++)M[R].tilemapLayer&&M[R].tilemapLayer.destroy(!1);return M.length=0,this.currentLayerIndex=0,this},removeTile:function(M,R,A){R===void 0&&(R=-1),A===void 0&&(A=!0);var L=[];Array.isArray(M)||(M=[M]);for(var F=0;F<M.length;F++){var G=M[F];L.push(this.removeTileAt(G.x,G.y,!0,A,G.tilemapLayer)),R>-1&&this.putTileAt(R,G.x,G.y,A,G.tilemapLayer)}return L},removeTileAt:function(M,R,A,L,F){return A===void 0&&(A=!0),L===void 0&&(L=!0),F=this.getLayer(F),F===null?null:x.RemoveTileAt(M,R,A,L,F)},removeTileAtWorldXY:function(M,R,A,L,F,G){return A===void 0&&(A=!0),L===void 0&&(L=!0),G=this.getLayer(G),G===null?null:x.RemoveTileAtWorldXY(M,R,A,L,F,G)},renderDebug:function(M,R,A){return A=this.getLayer(A),A===null?null:(this.orientation===c.ORTHOGONAL&&x.RenderDebug(M,R,A),this)},renderDebugFull:function(M,R){for(var A=this.layers,L=0;L<A.length;L++)x.RenderDebug(M,R,A[L]);return this},replaceByIndex:function(M,R,A,L,F,G,I){return I=this.getLayer(I),I===null?null:(x.ReplaceByIndex(M,R,A,L,F,G,I),this)},setCollision:function(M,R,A,L,F){return R===void 0&&(R=!0),A===void 0&&(A=!0),F===void 0&&(F=!0),L=this.getLayer(L),L===null?null:(x.SetCollision(M,R,A,L,F),this)},setCollisionBetween:function(M,R,A,L,F){return A===void 0&&(A=!0),L===void 0&&(L=!0),F=this.getLayer(F),F===null?null:(x.SetCollisionBetween(M,R,A,L,F),this)},setCollisionByProperty:function(M,R,A,L){return R===void 0&&(R=!0),A===void 0&&(A=!0),L=this.getLayer(L),L===null?null:(x.SetCollisionByProperty(M,R,A,L),this)},setCollisionByExclusion:function(M,R,A,L){return R===void 0&&(R=!0),A===void 0&&(A=!0),L=this.getLayer(L),L===null?null:(x.SetCollisionByExclusion(M,R,A,L),this)},setCollisionFromCollisionGroup:function(M,R,A){return M===void 0&&(M=!0),R===void 0&&(R=!0),A=this.getLayer(A),A===null?null:(x.SetCollisionFromCollisionGroup(M,R,A),this)},setTileIndexCallback:function(M,R,A,L){return L=this.getLayer(L),L===null?null:(x.SetTileIndexCallback(M,R,A,L),this)},setTileLocationCallback:function(M,R,A,L,F,G,I){return I=this.getLayer(I),I===null?null:(x.SetTileLocationCallback(M,R,A,L,F,G,I),this)},setLayer:function(M){var R=this.getLayerIndex(M);return R!==null&&(this.currentLayerIndex=R),this},setBaseTileSize:function(M,R){this.tileWidth=M,this.tileHeight=R,this.widthInPixels=this.width*M,this.heightInPixels=this.height*R;for(var A=0;A<this.layers.length;A++){this.layers[A].baseTileWidth=M,this.layers[A].baseTileHeight=R;for(var L=this.layers[A].data,F=this.layers[A].width,G=this.layers[A].height,I=0;I<G;I++)for(var B=0;B<F;B++){var k=L[I][B];k!==null&&k.setSize(void 0,void 0,M,R)}}return this},setLayerTileSize:function(M,R,A){if(A=this.getLayer(A),A===null)return this;A.tileWidth=M,A.tileHeight=R;for(var L=A.data,F=A.width,G=A.height,I=0;I<G;I++)for(var B=0;B<F;B++){var k=L[I][B];k!==null&&k.setSize(M,R)}return this},shuffle:function(M,R,A,L,F){return F=this.getLayer(F),F===null?null:(x.Shuffle(M,R,A,L,F),this)},swapByIndex:function(M,R,A,L,F,G,I){return I=this.getLayer(I),I===null?null:(x.SwapByIndex(M,R,A,L,F,G,I),this)},tileToWorldX:function(M,R,A){return A=this.getLayer(A),A===null?null:this._convert.TileToWorldX(M,R,A)},tileToWorldY:function(M,R,A){return A=this.getLayer(A),A===null?null:this._convert.TileToWorldY(M,R,A)},tileToWorldXY:function(M,R,A,L,F){return F=this.getLayer(F),F===null?null:this._convert.TileToWorldXY(M,R,A,L,F)},getTileCorners:function(M,R,A,L){return L=this.getLayer(L),L===null?null:this._convert.GetTileCorners(M,R,A,L)},weightedRandomize:function(M,R,A,L,F,G){return G=this.getLayer(G),G===null?null:(x.WeightedRandomize(R,A,L,F,M,G),this)},worldToTileX:function(M,R,A,L){return L=this.getLayer(L),L===null?null:this._convert.WorldToTileX(M,R,A,L)},worldToTileY:function(M,R,A,L){return L=this.getLayer(L),L===null?null:this._convert.WorldToTileY(M,R,A,L)},worldToTileXY:function(M,R,A,L,F,G){return G=this.getLayer(G),G===null?null:this._convert.WorldToTileXY(M,R,A,L,F,G)},destroy:function(){this.removeAllLayers(),this.tiles.length=0,this.tilesets.length=0,this.objects.length=0,this.scene=null}});n.exports=w}),45939:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(44603),y=r(31989);o.register("tilemap",function(d){var h=d!==void 0?d:{};return y(this.scene,h.key,h.tileWidth,h.tileHeight,h.width,h.height,h.data,h.insertNull)})}),46029:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(39429),y=r(31989);o.register("tilemap",function(d,h,l,a,f,c,u){return d===null&&(d=void 0),h===null&&(h=void 0),l===null&&(l=void 0),a===null&&(a=void 0),f===null&&(f=void 0),y(this.scene,d,h,l,a,f,c,u)})}),20442:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(78389),d=r(31401),h=r(95643),l=r(81086),a=r(19218),f=r(26099),c=new o({Extends:h,Mixins:[d.Alpha,d.BlendMode,d.ComputedSize,d.Depth,d.Flip,d.GetBounds,d.Mask,d.Origin,d.Pipeline,d.PostPipeline,d.Transform,d.Visible,d.ScrollFactor,y,a],initialize:function(v,p,m,x,C,P){h.call(this,v,"TilemapLayer"),this.isTilemap=!0,this.tilemap=p,this.layerIndex=m,this.layer=p.layers[m],this.layer.tilemapLayer=this,this.tileset=[],this.tilesDrawn=0,this.tilesTotal=this.layer.width*this.layer.height,this.culledTiles=[],this.skipCull=!1,this.cullPaddingX=1,this.cullPaddingY=1,this.cullCallback=l.GetCullTilesFunction(this.layer.orientation),this._renderOrder=0,this.gidMap=[],this.tempVec=new f,this.collisionCategory=1,this.collisionMask=1,this.setTilesets(x),this.setAlpha(this.layer.alpha),this.setPosition(C,P),this.setOrigin(0,0),this.setSize(p.tileWidth*this.layer.width,p.tileHeight*this.layer.height),this.initPipeline(),this.initPostPipeline(!1)},setTilesets:function(u){var v=[],p=[],m=this.tilemap;Array.isArray(u)||(u=[u]);for(var x=0;x<u.length;x++){var C=u[x];if(typeof C=="string"&&(C=m.getTileset(C)),C){p.push(C);for(var P=C.firstgid,w=0;w<C.total;w++)v[P+w]=C}}this.gidMap=v,this.tileset=p},setRenderOrder:function(u){var v=["right-down","left-down","right-up","left-up"];return typeof u=="string"&&(u=v.indexOf(u)),u>=0&&u<4&&(this._renderOrder=u),this},calculateFacesAt:function(u,v){return l.CalculateFacesAt(u,v,this.layer),this},calculateFacesWithin:function(u,v,p,m){return l.CalculateFacesWithin(u,v,p,m,this.layer),this},createFromTiles:function(u,v,p,m,x){return l.CreateFromTiles(u,v,p,m,x,this.layer)},cull:function(u){return this.cullCallback(this.layer,u,this.culledTiles,this._renderOrder)},copy:function(u,v,p,m,x,C,P){return l.Copy(u,v,p,m,x,C,P,this.layer),this},fill:function(u,v,p,m,x,C){return l.Fill(u,v,p,m,x,C,this.layer),this},filterTiles:function(u,v,p,m,x,C,P){return l.FilterTiles(u,v,p,m,x,C,P,this.layer)},findByIndex:function(u,v,p){return l.FindByIndex(u,v,p,this.layer)},findTile:function(u,v,p,m,x,C,P){return l.FindTile(u,v,p,m,x,C,P,this.layer)},forEachTile:function(u,v,p,m,x,C,P){return l.ForEachTile(u,v,p,m,x,C,P,this.layer),this},setTint:function(u,v,p,m,x,C){u===void 0&&(u=16777215);var P=function(w){w.tint=u,w.tintFill=!1};return this.forEachTile(P,this,v,p,m,x,C)},setTintFill:function(u,v,p,m,x,C){u===void 0&&(u=16777215);var P=function(w){w.tint=u,w.tintFill=!0};return this.forEachTile(P,this,v,p,m,x,C)},getTileAt:function(u,v,p){return l.GetTileAt(u,v,p,this.layer)},getTileAtWorldXY:function(u,v,p,m){return l.GetTileAtWorldXY(u,v,p,m,this.layer)},getIsoTileAtWorldXY:function(u,v,p,m,x){p===void 0&&(p=!0);var C=this.tempVec;return l.IsometricWorldToTileXY(u,v,!0,C,x,this.layer,p),this.getTileAt(C.x,C.y,m)},getTilesWithin:function(u,v,p,m,x){return l.GetTilesWithin(u,v,p,m,x,this.layer)},getTilesWithinShape:function(u,v,p){return l.GetTilesWithinShape(u,v,p,this.layer)},getTilesWithinWorldXY:function(u,v,p,m,x,C){return l.GetTilesWithinWorldXY(u,v,p,m,x,C,this.layer)},hasTileAt:function(u,v){return l.HasTileAt(u,v,this.layer)},hasTileAtWorldXY:function(u,v,p){return l.HasTileAtWorldXY(u,v,p,this.layer)},putTileAt:function(u,v,p,m){return l.PutTileAt(u,v,p,m,this.layer)},putTileAtWorldXY:function(u,v,p,m,x){return l.PutTileAtWorldXY(u,v,p,m,x,this.layer)},putTilesAt:function(u,v,p,m){return l.PutTilesAt(u,v,p,m,this.layer),this},randomize:function(u,v,p,m,x){return l.Randomize(u,v,p,m,x,this.layer),this},removeTileAt:function(u,v,p,m){return l.RemoveTileAt(u,v,p,m,this.layer)},removeTileAtWorldXY:function(u,v,p,m,x){return l.RemoveTileAtWorldXY(u,v,p,m,x,this.layer)},renderDebug:function(u,v){return l.RenderDebug(u,v,this.layer),this},replaceByIndex:function(u,v,p,m,x,C){return l.ReplaceByIndex(u,v,p,m,x,C,this.layer),this},setSkipCull:function(u){return u===void 0&&(u=!0),this.skipCull=u,this},setCullPadding:function(u,v){return u===void 0&&(u=1),v===void 0&&(v=1),this.cullPaddingX=u,this.cullPaddingY=v,this},setCollision:function(u,v,p,m){return l.SetCollision(u,v,p,this.layer,m),this},setCollisionBetween:function(u,v,p,m){return l.SetCollisionBetween(u,v,p,m,this.layer),this},setCollisionByProperty:function(u,v,p){return l.SetCollisionByProperty(u,v,p,this.layer),this},setCollisionByExclusion:function(u,v,p){return l.SetCollisionByExclusion(u,v,p,this.layer),this},setCollisionFromCollisionGroup:function(u,v){return l.SetCollisionFromCollisionGroup(u,v,this.layer),this},setTileIndexCallback:function(u,v,p){return l.SetTileIndexCallback(u,v,p,this.layer),this},setTileLocationCallback:function(u,v,p,m,x,C){return l.SetTileLocationCallback(u,v,p,m,x,C,this.layer),this},shuffle:function(u,v,p,m){return l.Shuffle(u,v,p,m,this.layer),this},swapByIndex:function(u,v,p,m,x,C){return l.SwapByIndex(u,v,p,m,x,C,this.layer),this},tileToWorldX:function(u,v){return this.tilemap.tileToWorldX(u,v,this)},tileToWorldY:function(u,v){return this.tilemap.tileToWorldY(u,v,this)},tileToWorldXY:function(u,v,p,m){return this.tilemap.tileToWorldXY(u,v,p,m,this)},getTileCorners:function(u,v,p){return this.tilemap.getTileCorners(u,v,p,this)},weightedRandomize:function(u,v,p,m,x){return l.WeightedRandomize(v,p,m,x,u,this.layer),this},worldToTileX:function(u,v,p){return this.tilemap.worldToTileX(u,v,p,this)},worldToTileY:function(u,v,p){return this.tilemap.worldToTileY(u,v,p,this)},worldToTileXY:function(u,v,p,m,x){return this.tilemap.worldToTileXY(u,v,p,m,x,this)},destroy:function(u){u===void 0&&(u=!0),this.tilemap&&(this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=void 0),u&&this.tilemap.removeLayer(this),this.tilemap=void 0,this.layer=void 0,this.culledTiles.length=0,this.cullCallback=null,this.gidMap=[],this.tileset=[],h.prototype.destroy.call(this))}});n.exports=c}),16153:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(61340),y=new o,d=new o,h=new o,l=function(a,f,c,u){var v=f.cull(c),p=v.length,m=c.alpha*f.alpha;if(!(p===0||m<=0)){var x=y,C=d,P=h;C.applyITRS(f.x,f.y,f.rotation,f.scaleX,f.scaleY),x.copyFrom(c.matrix);var w=a.currentContext,M=f.gidMap;w.save(),u?(x.multiplyWithOffset(u,-c.scrollX*f.scrollFactorX,-c.scrollY*f.scrollFactorY),C.e=f.x,C.f=f.y,x.multiply(C,P),P.copyToContext(w)):(C.e-=c.scrollX*f.scrollFactorX,C.f-=c.scrollY*f.scrollFactorY,C.copyToContext(w)),(!a.antialias||f.scaleX>1||f.scaleY>1)&&(w.imageSmoothingEnabled=!1);for(var R=0;R<p;R++){var A=v[R],L=M[A.index];if(L){var F=L.image.getSourceImage(),G=L.getTileTextureCoordinates(A.index),I=L.tileWidth,B=L.tileHeight;if(!(G===null||I===0||B===0)){var k=I*.5,U=B*.5;G.x+=L.tileOffset.x,G.y+=L.tileOffset.y,w.save(),w.translate(A.pixelX+k,A.pixelY+U),A.rotation!==0&&w.rotate(A.rotation),(A.flipX||A.flipY)&&w.scale(A.flipX?-1:1,A.flipY?-1:1),w.globalAlpha=m*A.alpha,w.drawImage(F,G.x,G.y,I,B,-k,-U,I,B),w.restore()}}}w.restore()}};n.exports=l}),19218:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),y=o,d=o;y=r(99558),d=r(16153),n.exports={renderWebGL:y,renderCanvas:d}}),99558:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(70554),y=function(d,h,l){var a=h.cull(l),f=a.length,c=l.alpha*h.alpha;if(!(f===0||c<=0)){var u=h.gidMap,v=d.pipelines.set(h.pipeline,h),p=o.getTintAppendFloatAlpha,m=h.scrollFactorX,x=h.scrollFactorY,C=h.x,P=h.y,w=h.scaleX,M=h.scaleY;d.pipelines.preBatch(h);for(var R=0;R<f;R++){var A=a[R],L=u[A.index];if(L){var F=L.getTileTextureCoordinates(A.index),G=L.tileWidth,I=L.tileHeight;if(!(!F||G===0||I===0)){var B=G*.5,k=I*.5,U=L.glTexture,H=v.setTexture2D(U,h),X=G,j=I,Z=F.x,Y=F.y,$=L.tileOffset.x,z=L.tileOffset.y,V=p(A.tint,c*A.alpha);v.batchTexture(h,U,U.width,U.height,C+A.pixelX*w+(B*w-$),P+A.pixelY*M+(k*M-z),G,I,w,M,A.rotation,A.flipX,A.flipY,m,x,B,k,Z,Y,X,j,V,V,V,V,A.tintFill,0,0,l,null,!0,H,!0)}}}d.pipelines.postBatch(h)}};n.exports=y}),33629:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(26099),d=new o({initialize:function(l,a,f,c,u,v,p,m,x){(f===void 0||f<=0)&&(f=32),(c===void 0||c<=0)&&(c=32),u===void 0&&(u=0),v===void 0&&(v=0),p===void 0&&(p={}),m===void 0&&(m={}),this.name=l,this.firstgid=a,this.tileWidth=f,this.tileHeight=c,this.tileMargin=u,this.tileSpacing=v,this.tileProperties=p,this.tileData=m,this.tileOffset=new y,x!==void 0&&this.tileOffset.set(x.x,x.y),this.image=null,this.glTexture=null,this.rows=0,this.columns=0,this.total=0,this.texCoordinates=[]},getTileProperties:function(h){return this.containsTileIndex(h)?this.tileProperties[h-this.firstgid]:null},getTileData:function(h){return this.containsTileIndex(h)?this.tileData[h-this.firstgid]:null},getTileCollisionGroup:function(h){var l=this.getTileData(h);return l&&l.objectgroup?l.objectgroup:null},containsTileIndex:function(h){return h>=this.firstgid&&h<this.firstgid+this.total},getTileTextureCoordinates:function(h){return this.containsTileIndex(h)?this.texCoordinates[h-this.firstgid]:null},setImage:function(h){this.image=h;var l=h.get(),a=h.getFrameBounds();return this.glTexture=l.source.glTexture,l.width>a.width||l.height>a.height?this.updateTileData(l.width,l.height):this.updateTileData(a.width,a.height,a.x,a.y),this},setTileSize:function(h,l){return h!==void 0&&(this.tileWidth=h),l!==void 0&&(this.tileHeight=l),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setSpacing:function(h,l){return h!==void 0&&(this.tileMargin=h),l!==void 0&&(this.tileSpacing=l),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},updateTileData:function(h,l,a,f){a===void 0&&(a=0),f===void 0&&(f=0);var c=(l-this.tileMargin*2+this.tileSpacing)/(this.tileHeight+this.tileSpacing),u=(h-this.tileMargin*2+this.tileSpacing)/(this.tileWidth+this.tileSpacing);(c%1!==0||u%1!==0)&&console.warn("Image tile area not tile size multiple in: "+this.name),c=Math.floor(c),u=Math.floor(u),this.rows=c,this.columns=u,this.total=c*u,this.texCoordinates.length=0;for(var v=this.tileMargin+a,p=this.tileMargin+f,m=0;m<this.rows;m++){for(var x=0;x<this.columns;x++)this.texCoordinates.push({x:v,y:p}),v+=this.tileWidth+this.tileSpacing;v=this.tileMargin+a,p+=this.tileHeight+this.tileSpacing}return this}});n.exports=d}),72023:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(7423),y=function(d,h,l){var a=o(d,h,!0,l),f=o(d,h-1,!0,l),c=o(d,h+1,!0,l),u=o(d-1,h,!0,l),v=o(d+1,h,!0,l),p=a&&a.collides;return p&&(a.faceTop=!0,a.faceBottom=!0,a.faceLeft=!0,a.faceRight=!0),f&&f.collides&&(p&&(a.faceTop=!1),f.faceBottom=!p),c&&c.collides&&(p&&(a.faceBottom=!1),c.faceTop=!p),u&&u.collides&&(p&&(a.faceLeft=!1),u.faceRight=!p),v&&v.collides&&(p&&(a.faceRight=!1),v.faceLeft=!p),a&&!a.collides&&a.resetFaces(),a};n.exports=y}),42573:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(7423),y=r(7386),d=function(h,l,a,f,c){for(var u=null,v=null,p=null,m=null,x=y(h,l,a,f,null,c),C=0;C<x.length;C++){var P=x[C];P&&(P.collides?(u=o(P.x,P.y-1,!0,c),v=o(P.x,P.y+1,!0,c),p=o(P.x-1,P.y,!0,c),m=o(P.x+1,P.y,!0,c),P.faceTop=!(u&&u.collides),P.faceBottom=!(v&&v.collides),P.faceLeft=!(p&&p.collides),P.faceRight=!(m&&m.collides)):P.resetFaces())}};n.exports=d}),33528:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(26099),y=new o,d=function(h,l,a,f){var c=a.tilemapLayer,u=c.cullPaddingX,v=c.cullPaddingY,p=c.tilemap.tileToWorldXY(h,l,y,f,c);return p.x>f.worldView.x+c.scaleX*a.tileWidth*(-u-.5)&&p.x<f.worldView.right+c.scaleX*a.tileWidth*(u-.5)&&p.y>f.worldView.y+c.scaleY*a.tileHeight*(-v-1)&&p.y<f.worldView.bottom+c.scaleY*a.tileHeight*(v-.5)};n.exports=d}),1785:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(42573),y=r(7386),d=r(62991),h=r(23029),l=function(a,f,c,u,v,p,m,x){m===void 0&&(m=!0);var C=y(a,f,c,u,null,x),P=[];C.forEach(function(G){var I=new h(G.layer,G.index,G.x,G.y,G.width,G.height,G.baseWidth,G.baseHeight);I.copy(G),P.push(I)});for(var w=v-a,M=p-f,R=0;R<P.length;R++){var A=P[R],L=A.x+w,F=A.y+M;d(L,F,x)&&x.data[F][L]&&(A.x=L,A.y=F,A.updatePixelXY(),x.data[F][L]=A)}m&&o(v-1,p-1,c+2,u+2,x),C.length=0,P.length=0};n.exports=l}),78419:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(62644),y=r(7386),d=r(27987),h=function(l,a,f,c,u,v){f||(f={}),Array.isArray(l)||(l=[l]);var p=v.tilemapLayer;c||(c=p.scene),u||(u=c.cameras.main);var m=v.width,x=v.height,C=y(0,0,m,x,null,v),P=[],w,M=function(F,G,I){for(var B=0;B<I.length;B++){var k=I[B];F.hasOwnProperty(k)||(F[k]=G[k])}};for(w=0;w<C.length;w++){var R=C[w],A=o(f);if(l.indexOf(R.index)!==-1){var L=p.tileToWorldXY(R.x,R.y,void 0,u,v);A.x=L.x,A.y=L.y,M(A,R,["rotation","flipX","flipY","alpha","visible","tint"]),A.hasOwnProperty("origin")||(A.x+=R.width*.5,A.y+=R.height*.5),A.hasOwnProperty("useSpriteSheet")&&(A.key=R.tileset.image,A.frame=R.index-1),P.push(c.make.sprite(A))}}if(Array.isArray(a))for(w=0;w<l.length;w++)d(l[w],a[w],0,0,m,x,v);else if(a!==null)for(w=0;w<l.length;w++)d(l[w],a,0,0,m,x,v);return P};n.exports=h}),19545:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(87841),y=r(63448),d=r(56583),h=new o,l=function(a,f){var c=a.tilemapLayer.tilemap,u=a.tilemapLayer,v=Math.floor(c.tileWidth*u.scaleX),p=Math.floor(c.tileHeight*u.scaleY),m=d(f.worldView.x-u.x,v,0,!0)-u.cullPaddingX,x=y(f.worldView.right-u.x,v,0,!0)+u.cullPaddingX,C=d(f.worldView.y-u.y,p,0,!0)-u.cullPaddingY,P=y(f.worldView.bottom-u.y,p,0,!0)+u.cullPaddingY;return h.setTo(m,C,x-m,P-C)};n.exports=l}),30003:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(19545),y=r(32483),d=function(h,l,a,f){a===void 0&&(a=[]),f===void 0&&(f=0),a.length=0;var c=h.tilemapLayer,u=o(h,l);return(c.skipCull||c.scrollFactorX!==1||c.scrollFactorY!==1)&&(u.left=0,u.right=h.width,u.top=0,u.bottom=h.height),y(h,u,f,a),a};n.exports=d}),35137:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(7386),y=r(42573),d=r(20576),h=function(l,a,f,c,u,v,p){for(var m=p.collideIndexes.indexOf(l)!==-1,x=o(a,f,c,u,null,p),C=0;C<x.length;C++)x[C].index=l,d(x[C],m);v&&y(a-1,f-1,c+2,u+2,p)};n.exports=h}),40253:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(7386),y=function(d,h,l,a,f,c,u,v){var p=o(l,a,f,c,u,v);return p.filter(d,h)};n.exports=y}),52692:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y,d){o===void 0&&(o=0),y===void 0&&(y=!1);var h=0,l,a,f;if(y){for(a=d.height-1;a>=0;a--)for(l=d.width-1;l>=0;l--)if(f=d.data[a][l],f&&f.index===r){if(h===o)return f;h+=1}}else for(a=0;a<d.height;a++)for(l=0;l<d.width;l++)if(f=d.data[a][l],f&&f.index===r){if(h===o)return f;h+=1}return null};n.exports=T}),66151:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(7386),y=function(d,h,l,a,f,c,u,v){var p=o(l,a,f,c,u,v);return p.find(d,h)||null};n.exports=y}),97560:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(7386),y=function(d,h,l,a,f,c,u,v){var p=o(l,a,f,c,u,v);p.forEach(d,h)};n.exports=y}),43305:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(91907),y=r(30003),d=r(9474),h=r(14018),l=r(29747),a=r(54503),f=function(c){return c===o.ORTHOGONAL?y:c===o.HEXAGONAL?d:c===o.STAGGERED?a:c===o.ISOMETRIC?h:l};n.exports=f}),7423:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(62991),y=function(d,h,l,a){if(o(d,h,a)){var f=a.data[h][d]||null;return f?f.index===-1?l?f:null:f:null}else return null};n.exports=y}),60540:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(7423),y=r(26099),d=new y,h=function(l,a,f,c,u){return u.tilemapLayer.worldToTileXY(l,a,!0,d,c),o(d.x,d.y,f,u)};n.exports=h}),55826:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(26099),y=function(d,h,l,a){var f=a.baseTileWidth,c=a.baseTileHeight,u=a.tilemapLayer,v=0,p=0;u&&(l||(l=u.scene.cameras.main),v=u.x+l.scrollX*(1-u.scrollFactorX),p=u.y+l.scrollY*(1-u.scrollFactorY),f*=u.scaleX,c*=u.scaleY);var m=v+d*f,x=p+h*c;return[new o(m,x),new o(m+f,x),new o(m+f,x+c),new o(m,x+c)]};n.exports=y}),11758:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(91907),y=r(27229),d=r(29747),h=r(55826),l=function(a){return a===o.ORTHOGONAL?h:a===o.ISOMETRIC?d:a===o.HEXAGONAL?y:(a===o.STAGGERED,d)};n.exports=l}),39167:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(91907),y=r(29747),d=r(97281),h=function(l){return l===o.ORTHOGONAL?d:y};n.exports=h}),62e3:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(91907),y=r(19951),d=r(14127),h=r(29747),l=r(97202),a=r(70326),f=function(c){return c===o.ORTHOGONAL?a:c===o.ISOMETRIC?d:c===o.HEXAGONAL?y:c===o.STAGGERED?l:h};n.exports=f}),5984:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(91907),y=r(29747),d=r(28054),h=r(29650),l=function(a){return a===o.ORTHOGONAL?h:a===o.STAGGERED?d:y};n.exports=l}),7386:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(95540),y=function(d,h,l,a,f,c){d===void 0&&(d=0),h===void 0&&(h=0),l===void 0&&(l=c.width),a===void 0&&(a=c.height),f||(f={});var u=o(f,"isNotEmpty",!1),v=o(f,"isColliding",!1),p=o(f,"hasInterestingFace",!1);d<0&&(l+=d,d=0),h<0&&(a+=h,h=0),d+l>c.width&&(l=Math.max(c.width-d,0)),h+a>c.height&&(a=Math.max(c.height-h,0));for(var m=[],x=h;x<h+a;x++)for(var C=d;C<d+l;C++){var P=c.data[x][C];if(P!==null){if(u&&P.index===-1||v&&!P.collides||p&&!P.hasInterestingFace)continue;m.push(P)}}return m};n.exports=y}),91141:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(55738),y=r(7386),d=r(91865),h=r(29747),l=r(26099),a=r(91907),f=function(m,x){return d.RectangleToTriangle(x,m)},c=new l,u=new l,v=new l,p=function(m,x,C,P){if(P.orientation!==a.ORTHOGONAL)return console.warn("GetTilesWithinShape only works with orthogonal tilemaps"),[];if(m===void 0)return[];var w=h;m instanceof o.Circle?w=d.CircleToRectangle:m instanceof o.Rectangle?w=d.RectangleToRectangle:m instanceof o.Triangle?w=f:m instanceof o.Line&&(w=d.LineToRectangle),P.tilemapLayer.worldToTileXY(m.left,m.top,!0,u,C);var M=u.x,R=u.y;P.tilemapLayer.worldToTileXY(m.right,m.bottom,!1,v,C);var A=Math.ceil(v.x),L=Math.ceil(v.y),F=Math.max(A-M,1),G=Math.max(L-R,1),I=y(M,R,F,G,x,P),B=P.tileWidth,k=P.tileHeight;P.tilemapLayer&&(B*=P.tilemapLayer.scaleX,k*=P.tilemapLayer.scaleY);for(var U=[],H=new o.Rectangle(0,0,B,k),X=0;X<I.length;X++){var j=I[X];P.tilemapLayer.tileToWorldXY(j.x,j.y,c,C),H.x=c.x,H.y=c.y,w(m,H)&&U.push(j)}return U};n.exports=p}),96523:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(7386),y=r(26099),d=new y,h=new y,l=function(a,f,c,u,v,p,m){var x=m.tilemapLayer.tilemap._convert.WorldToTileXY;x(a,f,!0,d,p,m);var C=d.x,P=d.y;x(a+c,f+u,!1,h,p,m);var w=Math.ceil(h.x),M=Math.ceil(h.y);return o(C,P,w-C,M-P,v,m)};n.exports=l}),96113:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(91907),y=r(20242),d=r(10095),h=function(l){return l===o.ORTHOGONAL?d:y};n.exports=h}),16926:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(91907),y=r(86625),d=r(96897),h=r(29747),l=r(15108),a=r(85896),f=function(c){return c===o.ORTHOGONAL?a:c===o.ISOMETRIC?d:c===o.HEXAGONAL?y:c===o.STAGGERED?l:h};n.exports=f}),55762:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(91907),y=r(20242),d=r(51900),h=r(63288),l=function(a){return a===o.ORTHOGONAL?h:a===o.STAGGERED?d:y};n.exports=l}),45091:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(62991),y=function(d,h,l){if(o(d,h,l)){var a=l.data[h][d];return a!==null&&a.index>-1}else return!1};n.exports=y}),24152:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(45091),y=r(26099),d=new y,h=function(l,a,f,c){c.tilemapLayer.worldToTileXY(l,a,!0,d,f);var u=d.x,v=d.y;return o(u,v,c)};n.exports=h}),90454:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(63448),y=r(56583),d=function(h,l){var a=h.tilemapLayer.tilemap,f=h.tilemapLayer,c=Math.floor(a.tileWidth*f.scaleX),u=Math.floor(a.tileHeight*f.scaleY),v=h.hexSideLength,p,m,x,C;if(h.staggerAxis==="y"){var P=(u-v)/2+v;p=y(l.worldView.x-f.x,c,0,!0)-f.cullPaddingX,m=o(l.worldView.right-f.x,c,0,!0)+f.cullPaddingX,x=y(l.worldView.y-f.y,P,0,!0)-f.cullPaddingY,C=o(l.worldView.bottom-f.y,P,0,!0)+f.cullPaddingY}else{var w=(c-v)/2+v;p=y(l.worldView.x-f.x,w,0,!0)-f.cullPaddingX,m=o(l.worldView.right-f.x,w,0,!0)+f.cullPaddingX,x=y(l.worldView.y-f.y,u,0,!0)-f.cullPaddingY,C=o(l.worldView.bottom-f.y,u,0,!0)+f.cullPaddingY}return{left:p,right:m,top:x,bottom:C}};n.exports=d}),9474:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(90454),y=r(32483),d=function(h,l,a,f){a===void 0&&(a=[]),f===void 0&&(f=0),a.length=0;var c=h.tilemapLayer,u=o(h,l);return c.skipCull&&c.scrollFactorX===1&&c.scrollFactorY===1&&(u.left=0,u.right=h.width,u.top=0,u.bottom=h.height),y(h,u,f,a),a};n.exports=d}),27229:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(19951),y=r(26099),d=new y,h=function(l,a,f,c){var u=c.baseTileWidth,v=c.baseTileHeight,p=c.tilemapLayer;p&&(u*=p.scaleX,v*=p.scaleY);var m=o(l,a,d,f,c),x=[],C=.5773502691896257,P,w;c.staggerAxis==="y"?(P=C*u,w=v/2):(P=u/2,w=C*v);for(var M=0;M<6;M++){var R=2*Math.PI*(.5-M)/6;x.push(new y(m.x+P*Math.cos(R),m.y+w*Math.sin(R)))}return x};n.exports=h}),19951:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(26099),y=function(d,h,l,a,f){l||(l=new o);var c=f.baseTileWidth,u=f.baseTileHeight,v=f.tilemapLayer,p=0,m=0;v&&(a||(a=v.scene.cameras.main),p=v.x+a.scrollX*(1-v.scrollFactorX),m=v.y+a.scrollY*(1-v.scrollFactorY),c*=v.scaleX,u*=v.scaleY);var x=c/2,C=u/2,P,w,M=f.staggerAxis,R=f.staggerIndex;return M==="y"?(P=p+c*d+c,w=m+1.5*h*C+C,h%2===0&&(R==="odd"?P-=x:P+=x)):M==="x"&&R==="odd"&&(P=p+1.5*d*x+x,w=m+u*d+u,d%2===0&&(R==="odd"?w-=C:w+=C)),l.set(P,w)};n.exports=y}),86625:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(26099),y=function(d,h,l,a,f,c){a||(a=new o);var u=c.baseTileWidth,v=c.baseTileHeight,p=c.tilemapLayer;p&&(f||(f=p.scene.cameras.main),d=d-(p.x+f.scrollX*(1-p.scrollFactorX)),h=h-(p.y+f.scrollY*(1-p.scrollFactorY)),u*=p.scaleX,v*=p.scaleY);var m=.5773502691896257,x=-.3333333333333333,C=0,P=.6666666666666666,w=u/2,M=v/2,R,A,L,F,G;c.staggerAxis==="y"?(R=(d-w)/(m*u),A=(h-M)/M,L=m*R+x*A,F=C*R+P*A):(R=(d-w)/w,A=(h-M)/(m*v),L=x*R+m*A,F=P*R+C*A),G=-L-F;var I=Math.round(L),B=Math.round(F),k=Math.round(G),U=Math.abs(I-L),H=Math.abs(B-F),X=Math.abs(k-G);U>H&&U>X?I=-B-k:H>X&&(B=-I-k);var j,Z=B;return c.staggerIndex==="odd"?j=Z%2===0?B/2+I:B/2+I-.5:j=Z%2===0?B/2+I:B/2+I+.5,a.set(j,Z)};n.exports=y}),62991:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y){return r>=0&&r<y.width&&o>=0&&o<y.height};n.exports=T}),14018:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(33528),y=function(d,h,l,a){l===void 0&&(l=[]),a===void 0&&(a=0),l.length=0;var f=d.tilemapLayer,c=d.data,u=d.width,v=d.height,p=f.skipCull,m=0,x=u,C=0,P=v,w,M,R;if(a===0)for(M=C;M<P;M++)for(w=m;w<x;w++)R=c[M][w],!(!R||R.index===-1||!R.visible||R.alpha===0)&&(!p&&!o(w,M,d,h)||l.push(R));else if(a===1)for(M=C;M<P;M++)for(w=x;w>=m;w--)R=c[M][w],!(!R||R.index===-1||!R.visible||R.alpha===0)&&(!p&&!o(w,M,d,h)||l.push(R));else if(a===2)for(M=P;M>=C;M--)for(w=m;w<x;w++)R=c[M][w],!(!R||R.index===-1||!R.visible||R.alpha===0)&&(!p&&!o(w,M,d,h)||l.push(R));else if(a===3)for(M=P;M>=C;M--)for(w=x;w>=m;w--)R=c[M][w],!(!R||R.index===-1||!R.visible||R.alpha===0)&&(!p&&!o(w,M,d,h)||l.push(R));return f.tilesDrawn=l.length,f.tilesTotal=u*v,l};n.exports=y}),14127:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(26099),y=function(d,h,l,a,f){l||(l=new o);var c=f.baseTileWidth,u=f.baseTileHeight,v=f.tilemapLayer,p=0,m=0;v&&(a||(a=v.scene.cameras.main),p=v.x+a.scrollX*(1-v.scrollFactorX),c*=v.scaleX,m=v.y+a.scrollY*(1-v.scrollFactorY),u*=v.scaleY);var x=p+(d-h)*(c/2),C=m+(d+h)*(u/2);return l.set(x,C)};n.exports=y}),96897:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(26099),y=function(d,h,l,a,f,c,u){a||(a=new o);var v=c.baseTileWidth,p=c.baseTileHeight,m=c.tilemapLayer;m&&(f||(f=m.scene.cameras.main),h=h-(m.y+f.scrollY*(1-m.scrollFactorY)),p*=m.scaleY,d=d-(m.x+f.scrollX*(1-m.scrollFactorX)),v*=m.scaleX);var x=v/2,C=p/2;d=d-x,u||(h=h-p);var P=.5*(d/x+h/C),w=.5*(-d/x+h/C);return l&&(P=Math.floor(P),w=Math.floor(w)),a.set(P,w)};n.exports=y}),71558:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(23029),y=r(62991),d=r(72023),h=r(20576),l=function(a,f,c,u,v){if(u===void 0&&(u=!0),!y(f,c,v))return null;var p,m=v.data[c][f],x=m&&m.collides;a instanceof o?(v.data[c][f]===null&&(v.data[c][f]=new o(v,a.index,f,c,v.tileWidth,v.tileHeight)),v.data[c][f].copy(a)):(p=a,v.data[c][f]===null?v.data[c][f]=new o(v,p,f,c,v.tileWidth,v.tileHeight):v.data[c][f].index=p);var C=v.data[c][f],P=v.collideIndexes.indexOf(C.index)!==-1;if(p=a instanceof o?a.index:a,p===-1)C.width=v.tileWidth,C.height=v.tileHeight;else{var w=v.tilemapLayer.tilemap,M=w.tiles,R=M[p][2],A=w.tilesets[R];C.width=A.tileWidth,C.height=A.tileHeight}return h(C,P),u&&x!==C.collides&&d(f,c,v),C};n.exports=l}),26303:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(71558),y=r(26099),d=new y,h=function(l,a,f,c,u,v){return v.tilemapLayer.worldToTileXY(a,f,!0,d,u,v),o(l,d.x,d.y,c,v)};n.exports=h}),14051:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(42573),y=r(71558),d=function(h,l,a,f,c){if(f===void 0&&(f=!0),!Array.isArray(h))return null;Array.isArray(h[0])||(h=[h]);for(var u=h.length,v=h[0].length,p=0;p<u;p++)for(var m=0;m<v;m++){var x=h[p][m];y(x,l+m,a+p,!1,c)}f&&o(l-1,a-1,v+2,u+2,c)};n.exports=d}),77389:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(7386),y=r(26546),d=function(h,l,a,f,c,u){var v,p=o(h,l,a,f,{},u);if(!c)for(c=[],v=0;v<p.length;v++)c.indexOf(p[v].index)===-1&&c.push(p[v].index);for(v=0;v<p.length;v++)p[v].index=y(c)};n.exports=d}),63557:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(23029),y=r(62991),d=r(72023),h=function(l,a,f,c,u){if(f===void 0&&(f=!0),c===void 0&&(c=!0),!y(l,a,u))return null;var v=u.data[a][l];if(v)u.data[a][l]=f?null:new o(u,-1,l,a,u.tileWidth,u.tileHeight);else return null;return c&&v&&v.collides&&d(l,a,u),v};n.exports=h}),94178:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(63557),y=r(26099),d=new y,h=function(l,a,f,c,u,v){return v.tilemapLayer.worldToTileXY(l,a,!0,d,u,v),o(d.x,d.y,f,c,v)};n.exports=h}),15533:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(7386),y=r(3956),d=new y(105,210,231,150),h=new y(243,134,48,200),l=new y(40,39,37,150),a=function(f,c,u){c===void 0&&(c={});var v=c.tileColor!==void 0?c.tileColor:d,p=c.collidingTileColor!==void 0?c.collidingTileColor:h,m=c.faceColor!==void 0?c.faceColor:l,x=o(0,0,u.width,u.height,null,u);f.translateCanvas(u.tilemapLayer.x,u.tilemapLayer.y),f.scaleCanvas(u.tilemapLayer.scaleX,u.tilemapLayer.scaleY);for(var C=0;C<x.length;C++){var P=x[C],w=P.tileset?P.tileset.tileOffset:{x:0,y:0},M=P.width,R=P.height,A=P.pixelX-w.x,L=P.pixelY-w.y,F=P.collides?p:v;F!==null&&(f.fillStyle(F.color,F.alpha/255),f.fillRect(A,L,M,R)),A+=1,L+=1,M-=2,R-=2,m!==null&&(f.lineStyle(1,m.color,m.alpha/255),P.faceTop&&f.lineBetween(A,L,A+M,L),P.faceRight&&f.lineBetween(A+M,L,A+M,L+R),P.faceBottom&&f.lineBetween(A,L+R,A+M,L+R),P.faceLeft&&f.lineBetween(A,L,A,L+R))}};n.exports=a}),27987:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(7386),y=function(d,h,l,a,f,c,u){for(var v=o(l,a,f,c,null,u),p=0;p<v.length;p++)v[p]&&v[p].index===d&&(v[p].index=h)};n.exports=y}),32483:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y,d){var h=r.data,l=r.width,a=r.height,f=r.tilemapLayer,c=Math.max(0,o.left),u=Math.min(l,o.right),v=Math.max(0,o.top),p=Math.min(a,o.bottom),m,x,C;if(y===0)for(x=v;x<p;x++)for(m=c;h[x]&&m<u;m++)C=h[x][m],!(!C||C.index===-1||!C.visible||C.alpha===0)&&d.push(C);else if(y===1)for(x=v;x<p;x++)for(m=u;h[x]&&m>=c;m--)C=h[x][m],!(!C||C.index===-1||!C.visible||C.alpha===0)&&d.push(C);else if(y===2)for(x=p;x>=v;x--)for(m=c;h[x]&&m<u;m++)C=h[x][m],!(!C||C.index===-1||!C.visible||C.alpha===0)&&d.push(C);else if(y===3)for(x=p;x>=v;x--)for(m=u;h[x]&&m>=c;m--)C=h[x][m],!(!C||C.index===-1||!C.visible||C.alpha===0)&&d.push(C);return f.tilesDrawn=d.length,f.tilesTotal=l*a,d};n.exports=T}),57068:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(20576),y=r(42573),d=r(9589),h=function(l,a,f,c,u){a===void 0&&(a=!0),f===void 0&&(f=!0),u===void 0&&(u=!0),Array.isArray(l)||(l=[l]);for(var v=0;v<l.length;v++)d(l[v],a,c);if(u)for(var p=0;p<c.height;p++)for(var m=0;m<c.width;m++){var x=c.data[p][m];x&&l.indexOf(x.index)!==-1&&o(x,a)}f&&y(0,0,c.width,c.height,c)};n.exports=h}),37266:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(20576),y=r(42573),d=r(9589),h=function(l,a,f,c,u,v){if(f===void 0&&(f=!0),c===void 0&&(c=!0),v===void 0&&(v=!0),!(l>a)){for(var p=l;p<=a;p++)d(p,f,u);if(v)for(var m=0;m<u.height;m++)for(var x=0;x<u.width;x++){var C=u.data[m][x];C&&C.index>=l&&C.index<=a&&o(C,f)}c&&y(0,0,u.width,u.height,u)}};n.exports=h}),75661:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(20576),y=r(42573),d=r(9589),h=function(l,a,f,c){a===void 0&&(a=!0),f===void 0&&(f=!0),Array.isArray(l)||(l=[l]);for(var u=0;u<c.height;u++)for(var v=0;v<c.width;v++){var p=c.data[u][v];p&&l.indexOf(p.index)===-1&&(o(p,a),d(p.index,a,c))}f&&y(0,0,c.width,c.height,c)};n.exports=h}),64740:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(20576),y=r(42573),d=r(97022),h=function(l,a,f,c){a===void 0&&(a=!0),f===void 0&&(f=!0);for(var u=0;u<c.height;u++)for(var v=0;v<c.width;v++){var p=c.data[u][v];if(p){for(var m in l)if(d(p.properties,m)){var x=l[m];Array.isArray(x)||(x=[x]);for(var C=0;C<x.length;C++)p.properties[m]===x[C]&&o(p,a)}}}f&&y(0,0,c.width,c.height,c)};n.exports=h}),63307:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(20576),y=r(42573),d=function(h,l,a){h===void 0&&(h=!0),l===void 0&&(l=!0);for(var f=0;f<a.height;f++)for(var c=0;c<a.width;c++){var u=a.data[f][c];if(u){var v=u.getCollisionGroup();v&&v.objects&&v.objects.length>0&&o(u,h)}}l&&y(0,0,a.width,a.height,a)};n.exports=d}),9589:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y){var d=y.collideIndexes.indexOf(r);o&&d===-1?y.collideIndexes.push(r):!o&&d!==-1&&y.collideIndexes.splice(d,1)};n.exports=T}),20576:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){o?r.setCollision(!0,!0,!0,!0,!1):r.resetCollision(!1)};n.exports=T}),79583:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y,d){if(typeof r=="number")d.callbacks[r]=o!==null?{callback:o,callbackContext:y}:void 0;else for(var h=0,l=r.length;h<l;h++)d.callbacks[r[h]]=o!==null?{callback:o,callbackContext:y}:void 0};n.exports=T}),93254:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(7386),y=function(d,h,l,a,f,c,u){for(var v=o(d,h,l,a,null,u),p=0;p<v.length;p++)v[p].setCollisionCallback(f,c)};n.exports=y}),32903:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(7386),y=r(33680),d=function(h,l,a,f,c){var u=o(h,l,a,f,null,c),v=u.map(function(m){return m.index});y(v);for(var p=0;p<u.length;p++)u[p].index=v[p]};n.exports=d}),61325:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(63448),y=r(56583),d=function(h,l){var a=h.tilemapLayer.tilemap,f=h.tilemapLayer,c=Math.floor(a.tileWidth*f.scaleX),u=Math.floor(a.tileHeight*f.scaleY),v=y(l.worldView.x-f.x,c,0,!0)-f.cullPaddingX,p=o(l.worldView.right-f.x,c,0,!0)+f.cullPaddingX,m=y(l.worldView.y-f.y,u/2,0,!0)-f.cullPaddingY,x=o(l.worldView.bottom-f.y,u/2,0,!0)+f.cullPaddingY;return{left:v,right:p,top:m,bottom:x}};n.exports=d}),54503:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(61325),y=r(32483),d=function(h,l,a,f){a===void 0&&(a=[]),f===void 0&&(f=0),a.length=0;var c=h.tilemapLayer,u=o(h,l);return c.skipCull&&c.scrollFactorX===1&&c.scrollFactorY===1&&(u.left=0,u.right=h.width,u.top=0,u.bottom=h.height),y(h,u,f,a),a};n.exports=d}),97202:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(26099),y=function(d,h,l,a,f){l||(l=new o);var c=f.baseTileWidth,u=f.baseTileHeight,v=f.tilemapLayer,p=0,m=0;v&&(a||(a=v.scene.cameras.main),p=v.x+a.scrollX*(1-v.scrollFactorX),c*=v.scaleX,m=v.y+a.scrollY*(1-v.scrollFactorY),u*=v.scaleY);var x=p+d*c+h%2*(c/2),C=m+h*(u/2);return l.set(x,C)};n.exports=y}),28054:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y){var d=y.baseTileHeight,h=y.tilemapLayer,l=0;return h&&(o===void 0&&(o=h.scene.cameras.main),l=h.y+o.scrollY*(1-h.scrollFactorY),d*=h.scaleY),l+r*(d/2)+d};n.exports=T}),15108:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(26099),y=function(d,h,l,a,f,c){a||(a=new o);var u=c.baseTileWidth,v=c.baseTileHeight,p=c.tilemapLayer;p&&(f||(f=p.scene.cameras.main),h=h-(p.y+f.scrollY*(1-p.scrollFactorY)),v*=p.scaleY,d=d-(p.x+f.scrollX*(1-p.scrollFactorX)),u*=p.scaleX);var m=l?Math.floor(h/(v/2)):h/(v/2),x=l?Math.floor((d+m%2*.5*u)/u):(d+m%2*.5*u)/u;return a.set(x,m)};n.exports=y}),51900:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y,d){var h=d.baseTileHeight,l=d.tilemapLayer;return l&&(y||(y=l.scene.cameras.main),r=r-(l.y+y.scrollY*(1-l.scrollFactorY)),h*=l.scaleY),o?Math.floor(r/(h/2)):r/(h/2)};n.exports=T}),86560:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(7386),y=function(d,h,l,a,f,c,u){for(var v=o(l,a,f,c,null,u),p=0;p<v.length;p++)v[p]&&(v[p].index===d?v[p].index=h:v[p].index===h&&(v[p].index=d))};n.exports=y}),97281:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y){var d=y.baseTileWidth,h=y.tilemapLayer,l=0;return h&&(o||(o=h.scene.cameras.main),l=h.x+o.scrollX*(1-h.scrollFactorX),d*=h.scaleX),l+r*d};n.exports=T}),70326:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(97281),y=r(29650),d=r(26099),h=function(l,a,f,c,u){return f||(f=new d(0,0)),f.x=o(l,c,u),f.y=y(a,c,u),f};n.exports=h}),29650:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y){var d=y.baseTileHeight,h=y.tilemapLayer,l=0;return h&&(o||(o=h.scene.cameras.main),l=h.y+o.scrollY*(1-h.scrollFactorY),d*=h.scaleY),l+r*d};n.exports=T}),77366:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(7386),y=r(75508),d=function(h,l,a,f,c,u){if(c){var v,p=o(h,l,a,f,null,u),m=0;for(v=0;v<c.length;v++)m+=c[v].weight;if(!(m<=0))for(v=0;v<p.length;v++){for(var x=y.RND.frac()*m,C=0,P=-1,w=0;w<c.length;w++)if(C+=c[w].weight,x<=C){var M=c[w].index;P=Array.isArray(M)?M[Math.floor(y.RND.frac()*M.length)]:M;break}p[v].index=P}}};n.exports=d}),10095:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(85896),y=r(26099),d=new y,h=function(l,a,f,c){return o(l,0,a,d,f,c),d.x};n.exports=h}),85896:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(26099),y=function(d,h,l,a,f,c){l===void 0&&(l=!0),a||(a=new o);var u=c.baseTileWidth,v=c.baseTileHeight,p=c.tilemapLayer;p&&(f||(f=p.scene.cameras.main),d=d-(p.x+f.scrollX*(1-p.scrollFactorX)),h=h-(p.y+f.scrollY*(1-p.scrollFactorY)),u*=p.scaleX,v*=p.scaleY);var m=d/u,x=h/v;return l&&(m=Math.floor(m),x=Math.floor(x)),a.set(m,x)};n.exports=y}),63288:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(85896),y=r(26099),d=new y,h=function(l,a,f,c){return o(0,l,a,d,f,c),d.y};n.exports=h}),81086:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={CalculateFacesAt:r(72023),CalculateFacesWithin:r(42573),CheckIsoBounds:r(33528),Copy:r(1785),CreateFromTiles:r(78419),CullBounds:r(19545),CullTiles:r(30003),Fill:r(35137),FilterTiles:r(40253),FindByIndex:r(52692),FindTile:r(66151),ForEachTile:r(97560),GetCullTilesFunction:r(43305),GetTileAt:r(7423),GetTileAtWorldXY:r(60540),GetTileCorners:r(55826),GetTileCornersFunction:r(11758),GetTilesWithin:r(7386),GetTilesWithinShape:r(91141),GetTilesWithinWorldXY:r(96523),GetTileToWorldXFunction:r(39167),GetTileToWorldXYFunction:r(62e3),GetTileToWorldYFunction:r(5984),GetWorldToTileXFunction:r(96113),GetWorldToTileXYFunction:r(16926),GetWorldToTileYFunction:r(55762),HasTileAt:r(45091),HasTileAtWorldXY:r(24152),HexagonalCullBounds:r(90454),HexagonalCullTiles:r(9474),HexagonalGetTileCorners:r(27229),HexagonalTileToWorldXY:r(19951),HexagonalWorldToTileXY:r(86625),IsInLayerBounds:r(62991),IsometricCullTiles:r(14018),IsometricTileToWorldXY:r(14127),IsometricWorldToTileXY:r(96897),PutTileAt:r(71558),PutTileAtWorldXY:r(26303),PutTilesAt:r(14051),Randomize:r(77389),RemoveTileAt:r(63557),RemoveTileAtWorldXY:r(94178),RenderDebug:r(15533),ReplaceByIndex:r(27987),RunCull:r(32483),SetCollision:r(57068),SetCollisionBetween:r(37266),SetCollisionByExclusion:r(75661),SetCollisionByProperty:r(64740),SetCollisionFromCollisionGroup:r(63307),SetLayerCollisionIndex:r(9589),SetTileCollision:r(20576),SetTileIndexCallback:r(79583),SetTileLocationCallback:r(93254),Shuffle:r(32903),StaggeredCullBounds:r(61325),StaggeredCullTiles:r(54503),StaggeredTileToWorldXY:r(97202),StaggeredTileToWorldY:r(28054),StaggeredWorldToTileXY:r(15108),StaggeredWorldToTileY:r(51900),SwapByIndex:r(86560),TileToWorldX:r(97281),TileToWorldXY:r(70326),TileToWorldY:r(29650),WeightedRandomize:r(77366),WorldToTileX:r(10095),WorldToTileXY:r(85896),WorldToTileY:r(63288)}}),91907:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ORTHOGONAL:0,ISOMETRIC:1,STAGGERED:2,HEXAGONAL:3}}),21829:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={ORIENTATION:r(91907)};n.exports=o}),62501:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(79291),y=r(21829),d={Components:r(81086),Parsers:r(57442),Formats:r(80341),ImageCollection:r(16536),ParseToTilemap:r(31989),Tile:r(23029),Tilemap:r(49075),TilemapCreator:r(45939),TilemapFactory:r(46029),Tileset:r(33629),TilemapLayer:r(20442),Orientation:r(91907),LayerData:r(14977),MapData:r(87010),ObjectLayer:r(48700)};d=o(!1,d,y.ORIENTATION),n.exports=d}),14977:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(91907),d=r(95540),h=new o({initialize:function(a){a===void 0&&(a={}),this.name=d(a,"name","layer"),this.id=d(a,"id",0),this.x=d(a,"x",0),this.y=d(a,"y",0),this.width=d(a,"width",0),this.height=d(a,"height",0),this.tileWidth=d(a,"tileWidth",0),this.tileHeight=d(a,"tileHeight",0),this.baseTileWidth=d(a,"baseTileWidth",this.tileWidth),this.baseTileHeight=d(a,"baseTileHeight",this.tileHeight),this.orientation=d(a,"orientation",y.ORTHOGONAL),this.widthInPixels=d(a,"widthInPixels",this.width*this.baseTileWidth),this.heightInPixels=d(a,"heightInPixels",this.height*this.baseTileHeight),this.alpha=d(a,"alpha",1),this.visible=d(a,"visible",!0),this.properties=d(a,"properties",[]),this.indexes=d(a,"indexes",[]),this.collideIndexes=d(a,"collideIndexes",[]),this.callbacks=d(a,"callbacks",[]),this.bodies=d(a,"bodies",[]),this.data=d(a,"data",[]),this.tilemapLayer=d(a,"tilemapLayer",null),this.hexSideLength=d(a,"hexSideLength",0),this.staggerAxis=d(a,"staggerAxis","y"),this.staggerIndex=d(a,"staggerIndex","odd")}});n.exports=h}),87010:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(91907),d=r(95540),h=new o({initialize:function(a){a===void 0&&(a={}),this.name=d(a,"name","map"),this.width=d(a,"width",0),this.height=d(a,"height",0),this.infinite=d(a,"infinite",!1),this.tileWidth=d(a,"tileWidth",0),this.tileHeight=d(a,"tileHeight",0),this.widthInPixels=d(a,"widthInPixels",this.width*this.tileWidth),this.heightInPixels=d(a,"heightInPixels",this.height*this.tileHeight),this.format=d(a,"format",null),this.orientation=d(a,"orientation",y.ORTHOGONAL),this.renderOrder=d(a,"renderOrder","right-down"),this.version=d(a,"version","1"),this.properties=d(a,"properties",{}),this.layers=d(a,"layers",[]),this.images=d(a,"images",[]),this.objects=d(a,"objects",[]),Array.isArray(this.objects)||(this.objects=[]),this.collision=d(a,"collision",{}),this.tilesets=d(a,"tilesets",[]),this.imageCollections=d(a,"imageCollections",[]),this.tiles=d(a,"tiles",[]),this.hexSideLength=d(a,"hexSideLength",0),this.staggerAxis=d(a,"staggerAxis","y"),this.staggerIndex=d(a,"staggerIndex","odd")}});n.exports=h}),48700:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(95540),d=new o({initialize:function(l){l===void 0&&(l={}),this.name=y(l,"name","object layer"),this.id=y(l,"id",0),this.opacity=y(l,"opacity",1),this.properties=y(l,"properties",{}),this.propertyTypes=y(l,"propertytypes",{}),this.type=y(l,"type","objectgroup"),this.visible=y(l,"visible",!0),this.objects=y(l,"objects",[]),Array.isArray(this.objects)||(this.objects=[])}});n.exports=d}),6641:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(91907),y=function(d){return d=d.toLowerCase(),d==="isometric"?o.ISOMETRIC:d==="staggered"?o.STAGGERED:d==="hexagonal"?o.HEXAGONAL:o.ORTHOGONAL};n.exports=y}),46177:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(80341),y=r(2342),d=r(82593),h=r(46594),l=r(87021),a=function(f,c,u,v,p,m){var x;switch(c){case o.ARRAY_2D:x=y(f,u,v,p,m);break;case o.CSV:x=d(f,u,v,p,m);break;case o.TILED_JSON:x=h(f,u,m);break;case o.WELTMEISTER:x=l(f,u,m);break;default:console.warn("Unrecognized tilemap data format: "+c),x=null}return x};n.exports=a}),2342:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(80341),y=r(14977),d=r(87010),h=r(23029),l=function(a,f,c,u,v){for(var p=new y({tileWidth:c,tileHeight:u}),m=new d({name:a,tileWidth:c,tileHeight:u,format:o.ARRAY_2D,layers:[p]}),x=[],C=f.length,P=0,w=0;w<f.length;w++){x[w]=[];for(var M=f[w],R=0;R<M.length;R++){var A=parseInt(M[R],10);isNaN(A)||A===-1?x[w][R]=v?null:new h(p,-1,R,w,c,u):x[w][R]=new h(p,A,R,w,c,u)}P===0&&(P=M.length)}return m.width=p.width=P,m.height=p.height=C,m.widthInPixels=p.widthInPixels=P*c,m.heightInPixels=p.heightInPixels=C*u,p.data=x,m};n.exports=l}),82593:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(80341),y=r(2342),d=function(h,l,a,f,c){var u=l.trim().split(`
`).map(function(p){return p.split(",")}),v=y(h,u,a,f,c);return v.format=o.CSV,v};n.exports=d}),6656:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(14977),y=r(23029),d=function(h,l){for(var a=[],f=0;f<h.layer.length;f++){for(var c=h.layer[f],u=new o({name:c.name,width:c.width,height:c.height,tileWidth:c.tilesize,tileHeight:c.tilesize,visible:c.visible===1}),v=[],p=[],m=0;m<c.data.length;m++){for(var x=0;x<c.data[m].length;x++){var C=c.data[m][x]-1,P;C>-1?P=new y(u,C,x,m,c.tilesize,c.tilesize):P=l?null:new y(u,-1,x,m,c.tilesize,c.tilesize),v.push(P)}p.push(v),v=[]}u.data=p,a.push(u)}return a};n.exports=d}),96483:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(33629),y=function(d){for(var h=[],l=[],a=0;a<d.layer.length;a++){var f=d.layer[a],c=f.tilesetName;c!==""&&l.indexOf(c)===-1&&(l.push(c),h.push(new o(c,0,f.tilesize,f.tilesize,0,0)))}return h};n.exports=y}),87021:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(80341),y=r(87010),d=r(6656),h=r(96483),l=function(a,f,c){if(f.layer.length===0)return console.warn("No layers found in the Weltmeister map: "+a),null;for(var u=0,v=0,p=0;p<f.layer.length;p++)f.layer[p].width>u&&(u=f.layer[p].width),f.layer[p].height>v&&(v=f.layer[p].height);var m=new y({width:u,height:v,name:a,tileWidth:f.layer[0].tilesize,tileHeight:f.layer[0].tilesize,format:o.WELTMEISTER});return m.layers=d(f,c),m.tilesets=h(f),m};n.exports=l}),52833:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ParseTileLayers:r(6656),ParseTilesets:r(96483),ParseWeltmeister:r(87021)}}),57442:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={FromOrientationString:r(6641),Parse:r(46177),Parse2DArray:r(2342),ParseCSV:r(82593),Impact:r(52833),Tiled:r(96761)}}),51233:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(79291),y=function(d){for(var h,l,a,f,c,u=0;u<d.layers.length;u++){h=d.layers[u],f=null;for(var v=0;v<h.data.length;v++){c=h.data[v];for(var p=0;p<c.length;p++)l=c[p],!(l===null||l.index<0)&&(a=d.tiles[l.index][2],f=d.tilesets[a],l.width=f.tileWidth,l.height=f.tileHeight,f.tileProperties&&f.tileProperties[l.index-f.firstgid]&&(l.properties=o(l.properties,f.tileProperties[l.index-f.firstgid])))}}};n.exports=y}),41868:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){for(var o=window.atob(r),y=o.length,d=new Array(y/4),h=0;h<y;h+=4)d[h/4]=(o.charCodeAt(h)|o.charCodeAt(h+1)<<8|o.charCodeAt(h+2)<<16|o.charCodeAt(h+3)<<24)>>>0;return d};n.exports=T}),84101:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(33629),y=function(d){var h,l,a=[];for(h=0;h<d.imageCollections.length;h++)for(var f=d.imageCollections[h],c=f.images,u=0;u<c.length;u++){var v=c[u],p={x:0,y:v.height-d.tileHeight};l=new o(v.image,v.gid,v.width,v.height,0,0,null,null,p),l.updateTileData(v.width,v.height),d.tilesets.push(l)}for(h=0;h<d.tilesets.length;h++){l=d.tilesets[h];for(var m=l.tileMargin,x=l.tileMargin,C=0,P=0,w=0,M=l.firstgid;M<l.firstgid+l.total&&(a[M]=[m,x,h],m+=l.tileWidth+l.tileSpacing,C++,!(C===l.total||(P++,P===l.columns&&(m=l.tileMargin,x+=l.tileHeight+l.tileSpacing,P=0,w++,w===l.rows))));M++);}return a};n.exports=y}),79677:((n,T,r)=>{/**
 * @author       Seth Berrier <berriers@uwstout.edu>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(95540),y=function(d,h,l){if(!h)return{i:0,layers:d.layers,name:"",opacity:1,visible:!0,x:0,y:0};var a=h.x+o(h,"startx",0)*d.tilewidth+o(h,"offsetx",0),f=h.y+o(h,"starty",0)*d.tileheight+o(h,"offsety",0);return{i:0,layers:h.layers,name:l.name+h.name+"/",opacity:l.opacity*h.opacity,visible:l.visible&&h.visible,x:l.x+a,y:l.y+f}};n.exports=y}),29920:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=2147483648,r=1073741824,o=536870912,y=function(d){var h=!!(d&T),l=!!(d&r),a=!!(d&o);d=d&536870911;var f=0,c=!1;return h&&l&&a?(f=Math.PI/2,c=!0):h&&l&&!a?(f=Math.PI,c=!1):h&&!l&&a?(f=Math.PI/2,c=!1):h&&!l&&!a?(f=0,c=!0):!h&&l&&a?(f=3*Math.PI/2,c=!1):!h&&l&&!a?(f=Math.PI,c=!0):!h&&!l&&a?(f=3*Math.PI/2,c=!0):!h&&!l&&!a&&(f=0,c=!1),{gid:d,flippedHorizontal:h,flippedVertical:l,flippedAntiDiagonal:a,rotation:f,flipped:c}};n.exports=y}),12635:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(95540),y=r(79677),d=function(h){for(var l=[],a=[],f=y(h);f.i<f.layers.length||a.length>0;){if(f.i>=f.layers.length){if(a.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}f=a.pop();continue}var c=f.layers[f.i];if(f.i++,c.type!=="imagelayer"){if(c.type==="group"){var u=y(h,c,f);a.push(f),f=u}continue}var v=o(c,"offsetx",0)+o(c,"startx",0),p=o(c,"offsety",0)+o(c,"starty",0);l.push({name:f.name+c.name,image:c.image,x:f.x+v+c.x,y:f.y+p+c.y,alpha:f.opacity*c.opacity,visible:f.visible&&c.visible,properties:o(c,"properties",{})})}return l};n.exports=d}),46594:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(51233),y=r(84101),d=r(91907),h=r(62644),l=r(80341),a=r(6641),f=r(87010),c=r(12635),u=r(22611),v=r(28200),p=r(24619),m=function(x,C,P){var w=h(C),M=new f({width:w.width,height:w.height,name:x,tileWidth:w.tilewidth,tileHeight:w.tileheight,orientation:a(w.orientation),format:l.TILED_JSON,version:w.version,properties:w.properties,renderOrder:w.renderorder,infinite:w.infinite});if(M.orientation===d.HEXAGONAL)if(M.hexSideLength=w.hexsidelength,M.staggerAxis=w.staggeraxis,M.staggerIndex=w.staggerindex,M.staggerAxis==="y"){var R=(M.tileHeight-M.hexSideLength)/2;M.widthInPixels=M.tileWidth*(M.width+.5),M.heightInPixels=M.height*(M.hexSideLength+R)+R}else{var A=(M.tileWidth-M.hexSideLength)/2;M.widthInPixels=M.width*(M.hexSideLength+A)+A,M.heightInPixels=M.tileHeight*(M.height+.5)}M.layers=v(w,P),M.images=c(w);var L=p(w);return M.tilesets=L.tilesets,M.imageCollections=L.imageCollections,M.objects=u(w),M.tiles=y(M),o(M),M};n.exports=m}),52205:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(18254),y=r(29920),d=function(a){return{x:a.x,y:a.y}},h=["id","name","type","rotation","properties","visible","x","y","width","height"],l=function(a,f,c){f===void 0&&(f=0),c===void 0&&(c=0);var u=o(a,h);if(u.x+=f,u.y+=c,a.gid){var v=y(a.gid);u.gid=v.gid,u.flippedHorizontal=v.flippedHorizontal,u.flippedVertical=v.flippedVertical,u.flippedAntiDiagonal=v.flippedAntiDiagonal}else a.polyline?u.polyline=a.polyline.map(d):a.polygon?u.polygon=a.polygon.map(d):a.ellipse?u.ellipse=a.ellipse:a.text?u.text=a.text:a.point?u.point=!0:u.rectangle=!0;return u};n.exports=l}),22611:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(95540),y=r(52205),d=r(48700),h=r(79677),l=function(a){for(var f=[],c=[],u=h(a);u.i<u.layers.length||c.length>0;){if(u.i>=u.layers.length){if(c.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}u=c.pop();continue}var v=u.layers[u.i];if(u.i++,v.opacity*=u.opacity,v.visible=u.visible&&v.visible,v.type!=="objectgroup"){if(v.type==="group"){var p=h(a,v,u);c.push(u),u=p}continue}v.name=u.name+v.name;for(var m=u.x+o(v,"startx",0)+o(v,"offsetx",0),x=u.y+o(v,"starty",0)+o(v,"offsety",0),C=[],P=0;P<v.objects.length;P++){var w=y(v.objects[P],m,x);C.push(w)}var M=new d(v);M.objects=C,f.push(M)}return f};n.exports=l}),28200:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(41868),y=r(91907),d=r(79677),h=r(6641),l=r(95540),a=r(14977),f=r(29920),c=r(23029),u=function(v,p){for(var m=l(v,"infinite",!1),x=[],C=[],P=d(v);P.i<P.layers.length||C.length>0;){if(P.i>=P.layers.length){if(C.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}P=C.pop();continue}var w=P.layers[P.i];if(P.i++,w.type!=="tilelayer"){if(w.type==="group"){var M=d(v,w,P);C.push(P),P=M}continue}if(w.compression){console.warn("TilemapParser.parseTiledJSON - Layer compression is unsupported, skipping layer '"+w.name+"'");continue}else if(w.encoding&&w.encoding==="base64"){if(w.chunks)for(var R=0;R<w.chunks.length;R++)w.chunks[R].data=o(w.chunks[R].data);w.data&&(w.data=o(w.data)),delete w.encoding}var A,L,F,G,I,B,k=[],U=0;if(m){var H=l(w,"startx",0)+w.x,X=l(w,"starty",0)+w.y;A=new a({name:P.name+w.name,id:w.id,x:P.x+l(w,"offsetx",0)+H*v.tilewidth,y:P.y+l(w,"offsety",0)+X*v.tileheight,width:w.width,height:w.height,tileWidth:v.tilewidth,tileHeight:v.tileheight,alpha:P.opacity*w.opacity,visible:P.visible&&w.visible,properties:l(w,"properties",[]),orientation:h(v.orientation)}),A.orientation===y.HEXAGONAL&&(A.hexSideLength=v.hexsidelength,A.staggerAxis=v.staggeraxis,A.staggerIndex=v.staggerindex,A.staggerAxis==="y"?(I=(A.tileHeight-A.hexSideLength)/2,A.widthInPixels=A.tileWidth*(A.width+.5),A.heightInPixels=A.height*(A.hexSideLength+I)+I):(B=(A.tileWidth-A.hexSideLength)/2,A.widthInPixels=A.width*(A.hexSideLength+B)+B,A.heightInPixels=A.tileHeight*(A.height+.5)));for(var j=0;j<w.height;j++){k[j]=[null];for(var Z=0;Z<w.width;Z++)k[j][Z]=null}for(j=0,ft=w.chunks.length;j<ft;j++)for(var Y=w.chunks[j],$=Y.x-H,z=Y.y-X,V=0,K=0,Q=Y.data.length;K<Q;K++){var _=U+$,tt=V+z;L=f(Y.data[K]),L.gid>0?(F=new c(A,L.gid,_,tt,v.tilewidth,v.tileheight),F.rotation=L.rotation,F.flipX=L.flipped,k[tt][_]=F):(G=p?null:new c(A,-1,_,tt,v.tilewidth,v.tileheight),k[tt][_]=G),U++,U===Y.width&&(V++,U=0)}}else{A=new a({name:P.name+w.name,id:w.id,x:P.x+l(w,"offsetx",0)+w.x,y:P.y+l(w,"offsety",0)+w.y,width:w.width,height:w.height,tileWidth:v.tilewidth,tileHeight:v.tileheight,alpha:P.opacity*w.opacity,visible:P.visible&&w.visible,properties:l(w,"properties",[]),orientation:h(v.orientation)}),A.orientation===y.HEXAGONAL&&(A.hexSideLength=v.hexsidelength,A.staggerAxis=v.staggeraxis,A.staggerIndex=v.staggerindex,A.staggerAxis==="y"?(I=(A.tileHeight-A.hexSideLength)/2,A.widthInPixels=A.tileWidth*(A.width+.5),A.heightInPixels=A.height*(A.hexSideLength+I)+I):(B=(A.tileWidth-A.hexSideLength)/2,A.widthInPixels=A.width*(A.hexSideLength+B)+B,A.heightInPixels=A.tileHeight*(A.height+.5)));for(var rt=[],ot=0,ft=w.data.length;ot<ft;ot++)L=f(w.data[ot]),L.gid>0?(F=new c(A,L.gid,U,k.length,v.tilewidth,v.tileheight),F.rotation=L.rotation,F.flipX=L.flipped,rt.push(F)):(G=p?null:new c(A,-1,U,k.length,v.tilewidth,v.tileheight),rt.push(G)),U++,U===w.width&&(k.push(rt),U=0,rt=[])}A.data=k,x.push(A)}return x};n.exports=u}),24619:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(33629),y=r(16536),d=r(52205),h=r(57880),l=function(a){for(var f=[],c=[],u=null,v,p=0;p<a.tilesets.length;p++){var m=a.tilesets[p];if(m.source)console.warn("External tilesets unsupported. Use Embed Tileset and re-export");else if(m.image){var x=new o(m.name,m.firstgid,m.tilewidth,m.tileheight,m.margin,m.spacing,void 0,void 0,m.tileoffset);if(a.version>1){var C=void 0,P=void 0;if(Array.isArray(m.tiles)){C=C||{},P=P||{};for(var w=0;w<m.tiles.length;w++){var M=m.tiles[w];if(M.properties){var R={};M.properties.forEach(function(j){R[j.name]=j.value}),P[M.id]=R}if(M.objectgroup&&((C[M.id]||(C[M.id]={})).objectgroup=M.objectgroup,M.objectgroup.objects)){var A=M.objectgroup.objects.map(function(j){return d(j)});C[M.id].objectgroup.objects=A}M.animation&&((C[M.id]||(C[M.id]={})).animation=M.animation),M.type&&((C[M.id]||(C[M.id]={})).type=M.type)}}Array.isArray(m.wangsets)&&(C=C||{},P=P||{},h(m.wangsets,C)),C&&(x.tileData=C,x.tileProperties=P)}else if(m.tileproperties&&(x.tileProperties=m.tileproperties),m.tiles){x.tileData=m.tiles;for(v in x.tileData){var L=x.tileData[v].objectgroup;if(L&&L.objects){var F=L.objects.map(function(j){return d(j)});x.tileData[v].objectgroup.objects=F}}}x.updateTileData(m.imagewidth,m.imageheight),f.push(x)}else{var G=new y(m.name,m.firstgid,m.tilewidth,m.tileheight,m.margin,m.spacing,m.properties),I=0;for(w=0;w<m.tiles.length;w++){M=m.tiles[w];var B=M.image,k=parseInt(M.id,10),U=m.firstgid+k,H=M.imagewidth,X=M.imageheight;G.addImage(U,B,H,X),I=Math.max(k,I)}G.maxId=I,c.push(G)}u&&(u.lastgid=m.firstgid-1),u=m}return{tilesets:f,imageCollections:c}};n.exports=l}),57880:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){for(var y=0;y<r.length;y++){var d=r[y],h=y;if(d.name&&d.name!==""&&(h=d.name),Array.isArray(d.wangtiles)&&d.wangtiles.length>0){var l={},a={},f,c,u;if(Array.isArray(d.edgecolors))for(f=0;f<d.edgecolors.length;f++)u=1+f,c=d.edgecolors[f],c.name!==""&&(l[u]=c.name);if(Array.isArray(d.cornercolors))for(f=0;f<d.cornercolors.length;f++)u=1+f,c=d.cornercolors[f],c.name!==""&&(a[u]=c.name);if(Array.isArray(d.colors))for(f=0;f<d.colors.length;f++)c=d.colors[f],u=1+f,c.name!==""&&(l[u]=a[u]=c.name);for(var v=[l,a,l,a,l,a,l,a],p=0;p<d.wangtiles.length;p++){var m=d.wangtiles[p],x=o[m.tileid]||(o[m.tileid]={});x=x.wangid||(x.wangid={});for(var C=[],P=0;P<Math.min(v.length,m.wangid.length);P++){if(c=m.wangid[P],c===0){C.push(void 0);continue}var w=v[P][c];if(w!==void 0){C.push(w);continue}C.push(c)}x[h]=C}}}};n.exports=T}),96761:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={AssignTileProperties:r(51233),Base64Decode:r(41868),BuildTilesetIndex:r(84101),CreateGroupLayer:r(79677),ParseGID:r(29920),ParseImageLayers:r(12635),ParseJSONTiled:r(46594),ParseObject:r(52205),ParseObjectLayers:r(22611),ParseTileLayers:r(28200),ParseTilesets:r(24619)}}),33385:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(37277),d=r(44594),h=r(94880),l=r(72905),a=new o({initialize:function(c){this.scene=c,this.systems=c.sys,this.now=0,this.startTime=0,this.timeScale=1,this.paused=!1,this._active=[],this._pendingInsertion=[],this._pendingRemoval=[],c.sys.events.once(d.BOOT,this.boot,this),c.sys.events.on(d.START,this.start,this)},boot:function(){this.now=this.systems.game.loop.time,this.systems.events.once(d.DESTROY,this.destroy,this)},start:function(){this.startTime=this.systems.game.loop.time;var f=this.systems.events;f.on(d.PRE_UPDATE,this.preUpdate,this),f.on(d.UPDATE,this.update,this),f.once(d.SHUTDOWN,this.shutdown,this)},addEvent:function(f){var c;if(f instanceof h){if(c=f,this.removeEvent(c),c.elapsed=c.startAt,c.hasDispatched=!1,c.repeatCount=c.repeat===-1||c.loop?999999999999:c.repeat,c.delay<=0&&c.repeatCount>0)throw new Error("TimerEvent infinite loop created via zero delay")}else c=new h(f);return this._pendingInsertion.push(c),c},delayedCall:function(f,c,u,v){return this.addEvent({delay:f,callback:c,args:u,callbackScope:v})},clearPendingEvents:function(){return this._pendingInsertion=[],this},removeEvent:function(f){Array.isArray(f)||(f=[f]);for(var c=0;c<f.length;c++){var u=f[c];l(this._pendingRemoval,u),l(this._pendingInsertion,u),l(this._active,u)}return this},removeAllEvents:function(){return this._pendingRemoval=this._pendingRemoval.concat(this._active),this},preUpdate:function(){var f=this._pendingRemoval.length,c=this._pendingInsertion.length;if(!(f===0&&c===0)){var u,v;for(u=0;u<f;u++){v=this._pendingRemoval[u];var p=this._active.indexOf(v);p>-1&&this._active.splice(p,1),v.destroy()}for(u=0;u<c;u++)v=this._pendingInsertion[u],this._active.push(v);this._pendingRemoval.length=0,this._pendingInsertion.length=0}},update:function(f,c){if(this.now=f,!this.paused){c*=this.timeScale;for(var u=0;u<this._active.length;u++){var v=this._active[u];if(!v.paused&&(v.elapsed+=c*v.timeScale,v.elapsed>=v.delay)){var p=v.elapsed-v.delay;if(v.elapsed=v.delay,!v.hasDispatched&&v.callback&&(v.hasDispatched=!0,v.callback.apply(v.callbackScope,v.args)),v.repeatCount>0){if(v.repeatCount--,p>=v.delay)for(;p>=v.delay&&v.repeatCount>0;)v.callback&&v.callback.apply(v.callbackScope,v.args),p-=v.delay,v.repeatCount--;v.elapsed=p,v.hasDispatched=!1}else v.hasDispatched&&this._pendingRemoval.push(v)}}}},shutdown:function(){var f;for(f=0;f<this._pendingInsertion.length;f++)this._pendingInsertion[f].destroy();for(f=0;f<this._active.length;f++)this._active[f].destroy();for(f=0;f<this._pendingRemoval.length;f++)this._pendingRemoval[f].destroy();this._active.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0;var c=this.systems.events;c.off(d.PRE_UPDATE,this.preUpdate,this),c.off(d.UPDATE,this.update,this),c.off(d.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(d.START,this.start,this),this.scene=null,this.systems=null}});y.register("Clock",a,"time"),n.exports=a}),96120:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(50792),d=r(39429),h=r(95540),l=r(44594),a=r(89809),f=new o({Extends:y,initialize:function(u,v){y.call(this),this.scene=u,this.systems=u.sys,this.elapsed=0,this.timeScale=1,this.paused=!0,this.complete=!1,this.totalComplete=0,this.loop=0,this.iteration=0,this.events=[];var p=this.systems.events;p.on(l.PRE_UPDATE,this.preUpdate,this),p.on(l.UPDATE,this.update,this),p.once(l.SHUTDOWN,this.destroy,this),v&&this.add(v)},preUpdate:function(c,u){this.paused||(this.elapsed+=u*this.timeScale)},update:function(){if(!(this.paused||this.complete)){var c,u=this.events,v=!1,p=this.systems,m;for(c=0;c<u.length;c++){var x=u[c];if(!x.complete&&x.time<=this.elapsed){if(x.complete=!0,this.totalComplete++,m=x.target?x.target:this,x.if&&!x.if.call(m,x))continue;if(x.once&&(v=!0),x.set&&x.target)for(var C in x.set)x.target[C]=x.set[C];this.iteration&&x.repeat++,x.loop&&x.repeat&&x.loop.call(m),x.tween&&(x.tweenInstance=p.tweens.add(x.tween)),x.sound&&(typeof x.sound=="string"?p.sound.play(x.sound):p.sound.play(x.sound.key,x.sound.config)),x.event&&this.emit(x.event,m),x.run&&x.run.call(m),x.stop&&this.stop()}}if(v)for(c=0;c<u.length;c++)u[c].complete&&u[c].once&&(u.splice(c,1),c--);this.totalComplete>=u.length&&(this.loop!==0&&(this.loop===-1||this.loop>this.iteration)?(this.iteration++,this.reset(!0)):this.complete=!0),this.complete&&this.emit(a.COMPLETE,this)}},play:function(c){return c===void 0&&(c=!0),this.paused=!1,this.complete=!1,this.totalComplete=0,c&&this.reset(),this},pause:function(){this.paused=!0;for(var c=this.events,u=0;u<c.length;u++){var v=c[u];v.tweenInstance&&(v.tweenInstance.paused=!0)}return this},repeat:function(c){return(c===void 0||c===!0)&&(c=-1),c===!1&&(c=0),this.loop=c,this},resume:function(){this.paused=!1;for(var c=this.events,u=0;u<c.length;u++){var v=c[u];v.tweenInstance&&(v.tweenInstance.paused=!1)}return this},stop:function(){return this.paused=!0,this.complete=!0,this},reset:function(c){c===void 0&&(c=!1),this.elapsed=0,c||(this.iteration=0);for(var u=this.events,v=0;v<u.length;v++){var p=u[v];p.complete=!1,c||(p.repeat=0),p.tweenInstance&&p.tweenInstance.stop()}return this.play(!1)},add:function(c){Array.isArray(c)||(c=[c]);var u=this.events,v=0;u.length>0&&(v=u[u.length-1].time);for(var p=0;p<c.length;p++){var m=c[p],x=h(m,"at",0),C=h(m,"in",null);C!==null&&(x=this.elapsed+C);var P=h(m,"from",null);P!==null&&(x=v+P),u.push({complete:!1,time:x,repeat:0,if:h(m,"if",null),run:h(m,"run",null),loop:h(m,"loop",null),event:h(m,"event",null),target:h(m,"target",null),set:h(m,"set",null),tween:h(m,"tween",null),sound:h(m,"sound",null),once:h(m,"once",!1),stop:h(m,"stop",!1)}),v=x}return this.complete=!1,this},clear:function(){for(var c=this.events,u=0;u<c.length;u++){var v=c[u];v.tweenInstance&&v.tweenInstance.stop()}return c=[],this.elapsed=0,this.paused=!0,this},isPlaying:function(){return!this.paused&&!this.complete},getProgress:function(){var c=Math.min(this.totalComplete,this.events.length);return c/this.events.length},destroy:function(){var c=this.systems.events;c.off(l.PRE_UPDATE,this.preUpdate,this),c.off(l.UPDATE,this.update,this),c.off(l.SHUTDOWN,this.destroy,this),this.clear(),this.scene=null,this.systems=null}});d.register("timeline",function(c){return new f(this.scene,c)}),n.exports=f}),94880:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(95540),d=new o({initialize:function(l){this.delay=0,this.repeat=0,this.repeatCount=0,this.loop=!1,this.callback,this.callbackScope,this.args,this.timeScale=1,this.startAt=0,this.elapsed=0,this.paused=!1,this.hasDispatched=!1,this.reset(l)},reset:function(h){if(this.delay=y(h,"delay",0),this.repeat=y(h,"repeat",0),this.loop=y(h,"loop",!1),this.callback=y(h,"callback",void 0),this.callbackScope=y(h,"callbackScope",this),this.args=y(h,"args",[]),this.timeScale=y(h,"timeScale",1),this.startAt=y(h,"startAt",0),this.paused=y(h,"paused",!1),this.elapsed=this.startAt,this.hasDispatched=!1,this.repeatCount=this.repeat===-1||this.loop?999999999999:this.repeat,this.delay<=0&&this.repeatCount>0)throw new Error("TimerEvent infinite loop created via zero delay");return this},getProgress:function(){return this.elapsed/this.delay},getOverallProgress:function(){if(this.repeat>0){var h=this.delay+this.delay*this.repeat,l=this.elapsed+this.delay*(this.repeat-this.repeatCount);return l/h}else return this.getProgress()},getRepeatCount:function(){return this.repeatCount},getElapsed:function(){return this.elapsed},getElapsedSeconds:function(){return this.elapsed*.001},getRemaining:function(){return this.delay-this.elapsed},getRemainingSeconds:function(){return this.getRemaining()*.001},getOverallRemaining:function(){return this.delay*(1+this.repeatCount)-this.elapsed},getOverallRemainingSeconds:function(){return this.getOverallRemaining()*.001},remove:function(h){h===void 0&&(h=!1),this.elapsed=this.delay,this.hasDispatched=!h,this.repeatCount=0},destroy:function(){this.callback=void 0,this.callbackScope=void 0,this.args=[]}});n.exports=d}),35945:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="complete"}),89809:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={COMPLETE:r(35945)}}),90291:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Clock:r(33385),Events:r(89809),Timeline:r(96120),TimerEvent:r(94880)}}),40382:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(72905),y=r(83419),d=r(43491),h=r(88032),l=r(37277),a=r(44594),f=r(93109),c=r(86081),u=r(8357),v=r(43960),p=r(26012),m=new y({initialize:function(C){this.scene=C,this.events=C.sys.events,this.timeScale=1,this.paused=!1,this.processing=!1,this.tweens=[],this.time=0,this.startTime=0,this.nextTime=0,this.prevTime=0,this.maxLag=500,this.lagSkip=33,this.gap=1e3/240,this.events.once(a.BOOT,this.boot,this),this.events.on(a.START,this.start,this)},boot:function(){this.events.once(a.DESTROY,this.destroy,this)},start:function(){this.timeScale=1,this.paused=!1,this.startTime=Date.now(),this.prevTime=this.startTime,this.nextTime=this.gap,this.events.on(a.UPDATE,this.update,this),this.events.once(a.SHUTDOWN,this.shutdown,this)},create:function(x){Array.isArray(x)||(x=[x]);for(var C=[],P=0;P<x.length;P++){var w=x[P];w instanceof c||w instanceof v?C.push(w):Array.isArray(w.tweens)?C.push(p(this,w)):C.push(u(this,w))}return C.length===1?C[0]:C},add:function(x){var C=x,P=this.tweens;return C instanceof c||C instanceof v||(Array.isArray(C.tweens)?C=p(this,C):C=u(this,C)),P.push(C.reset()),C},addMultiple:function(x){for(var C,P=[],w=this.tweens,M=0;M<x.length;M++)C=x[M],C instanceof c||C instanceof v||(Array.isArray(C.tweens)?C=p(this,C):C=u(this,C)),w.push(C.reset()),P.push(C);return P},chain:function(x){var C=p(this,x);return this.tweens.push(C.init()),C},getChainedTweens:function(x){return x.getChainedTweens()},has:function(x){return this.tweens.indexOf(x)>-1},existing:function(x){return this.has(x)||this.tweens.push(x.reset()),this},addCounter:function(x){var C=h(this,x);return this.tweens.push(C.reset()),C},stagger:function(x,C){return f(x,C)},setLagSmooth:function(x,C){return x===void 0&&(x=1/1e-8),C===void 0&&(C=0),this.maxLag=x,this.lagSkip=Math.min(C,this.maxLag),this},setFps:function(x){return x===void 0&&(x=240),this.gap=1e3/x,this.nextTime=this.time*1e3+this.gap,this},getDelta:function(x){var C=Date.now()-this.prevTime;C>this.maxLag&&(this.startTime+=C-this.lagSkip),this.prevTime+=C;var P=this.prevTime-this.startTime,w=P-this.nextTime,M=P-this.time*1e3;return w>0||x?(P/=1e3,this.time=P,this.nextTime+=w+(w>=this.gap?4:this.gap-w)):M=0,M},tick:function(){return this.step(!0),this},update:function(){this.paused||this.step(!1)},step:function(x){x===void 0&&(x=!1);var C=this.getDelta(x);if(!(C<=0)){this.processing=!0;var P,w,M=[],R=this.tweens;for(P=0;P<R.length;P++)w=R[P],w.update(C)&&M.push(w);var A=M.length;if(A&&R.length>0){for(P=0;P<A;P++){w=M[P];var L=R.indexOf(w);L>-1&&(w.isPendingRemove()||w.isDestroyed())&&(R.splice(L,1),w.destroy())}M.length=0}this.processing=!1}},remove:function(x){return this.processing?x.setPendingRemoveState():(o(this.tweens,x),x.setRemovedState()),this},reset:function(x){return this.existing(x),x.seek(),x.setActiveState(),this},makeActive:function(x){return this.existing(x),x.setActiveState(),this},each:function(x,C){var P,w=[null];for(P=1;P<arguments.length;P++)w.push(arguments[P]);return this.tweens.forEach(function(M){w[0]=M,x.apply(C,w)}),this},getTweens:function(){return this.tweens.slice()},getTweensOf:function(x){var C=[],P=this.tweens;Array.isArray(x)?x=d(x):x=[x];for(var w=x.length,M=0;M<P.length;M++)for(var R=P[M],A=0;A<w;A++)!R.isDestroyed()&&R.hasTarget(x[A])&&C.push(R);return C},getGlobalTimeScale:function(){return this.timeScale},setGlobalTimeScale:function(x){return this.timeScale=x,this},isTweening:function(x){for(var C=this.tweens,P,w=0;w<C.length;w++)if(P=C[w],P.isPlaying()&&P.hasTarget(x))return!0;return!1},killAll:function(){for(var x=this.processing?this.getTweens():this.tweens,C=0;C<x.length;C++)x[C].destroy();return this.processing||(x.length=0),this},killTweensOf:function(x){for(var C=this.getTweensOf(x),P=0;P<C.length;P++)C[P].destroy();return this},pauseAll:function(){return this.paused=!0,this},resumeAll:function(){return this.paused=!1,this},shutdown:function(){this.killAll(),this.tweens=[],this.events.off(a.UPDATE,this.update,this),this.events.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(a.START,this.start,this),this.scene=null,this.events=null}});l.register("TweenManager",m,"tweens"),n.exports=m}),57355:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y){return r&&r.hasOwnProperty(o)?r[o]:y};n.exports=T}),6113:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(62640),y=r(35355),d=function(h,l){var a=o.Power0;if(typeof h=="string")if(o.hasOwnProperty(h))a=o[h];else{var f="";if(h.indexOf(".")){f=h.substring(h.indexOf(".")+1);var c=f.toLowerCase();c==="in"?f="easeIn":c==="out"?f="easeOut":c==="inout"&&(f="easeInOut")}h=y(h.substring(0,h.indexOf(".")+1)+f),o.hasOwnProperty(h)&&(a=o[h])}else typeof h=="function"&&(a=h);if(!l)return a;var u=l.slice(0);return u.unshift(0),function(v){return u[0]=v,a.apply(this,u)}};n.exports=d}),91389:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(89318),y=r(77259),d=r(28392),h={bezier:o,catmull:y,catmullrom:y,linear:d},l=function(a){if(a===null)return null;var f=h.linear;return typeof a=="string"?h.hasOwnProperty(a)&&(f=h[a]):typeof a=="function"&&(f=a),f};n.exports=l}),55292:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y){var d;if(r.hasOwnProperty(o)){var h=typeof r[o];h==="function"?d=function(l,a,f,c,u,v){return r[o](l,a,f,c,u,v)}:d=function(){return r[o]}}else typeof y=="function"?d=y:d=function(){return y};return d};n.exports=T}),82985:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(81076),y=function(d){var h,l=[];if(d.hasOwnProperty("props"))for(h in d.props)h.substring(0,1)!=="_"&&l.push({key:h,value:d.props[h]});else for(h in d)o.indexOf(h)===-1&&h.substring(0,1)!=="_"&&l.push({key:h,value:d[h]});return l};n.exports=y}),62329:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(35154),y=function(d){var h=o(d,"targets",null);return h===null||(typeof h=="function"&&(h=h.call()),Array.isArray(h)||(h=[h])),h};n.exports=y}),17777:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(30976),y=r(99472);function d(c){return!!c.getActive&&typeof c.getActive=="function"}function h(c){return!!c.getStart&&typeof c.getStart=="function"}function l(c){return!!c.getEnd&&typeof c.getEnd=="function"}function a(c){return h(c)||l(c)||d(c)}var f=function(c,u){var v,p=function(j,Z,Y){return Y},m=function(j,Z,Y){return Y},x=null,C=typeof u;if(C==="number")p=function(){return u};else if(Array.isArray(u))m=function(){return u[0]},p=function(){return u[u.length-1]};else if(C==="string"){var P=u.toLowerCase(),w=P.substring(0,6)==="random",M=P.substring(0,3)==="int";if(w||M){var R=P.indexOf("("),A=P.indexOf(")"),L=P.indexOf(",");if(R&&A&&L){var F=parseFloat(P.substring(R+1,L)),G=parseFloat(P.substring(L+1,A));w?p=function(){return y(F,G)}:p=function(){return o(F,G)}}else throw new Error("invalid random() format")}else{P=P[0];var I=parseFloat(u.substr(2));switch(P){case"+":p=function(j,Z,Y){return Y+I};break;case"-":p=function(j,Z,Y){return Y-I};break;case"*":p=function(j,Z,Y){return Y*I};break;case"/":p=function(j,Z,Y){return Y/I};break;default:p=function(){return parseFloat(u)}}}}else if(C==="function")p=u;else if(C==="object")if(a(u))d(u)&&(x=u.getActive),l(u)&&(p=u.getEnd),h(u)&&(m=u.getStart);else if(u.hasOwnProperty("value"))v=f(c,u.value);else{var B=u.hasOwnProperty("to"),k=u.hasOwnProperty("from"),U=u.hasOwnProperty("start");if(B&&(k||U)){if(v=f(c,u.to),U){var H=f(c,u.start);v.getActive=H.getEnd}if(k){var X=f(c,u.from);v.getStart=X.getEnd}}}return v||(v={getActive:x,getEnd:p,getStart:m}),v};n.exports=f}),88032:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(70402),y=r(69902),d=r(23568),h=r(57355),l=r(6113),a=r(95540),f=r(55292),c=r(35154),u=r(17777),v=r(269),p=r(86081),m=function(x,C,P){if(C instanceof p)return C.parent=x,C;P===void 0?P=y:P=v(y,P);var w=a(C,"from",0),M=a(C,"to",1),R=[{value:w}],A=a(C,"delay",P.delay),L=a(C,"easeParams",P.easeParams),F=a(C,"ease",P.ease),G=u("value",M),I=new p(x,R),B=I.add(0,"value",G.getEnd,G.getStart,G.getActive,l(a(C,"ease",F),a(C,"easeParams",L)),f(C,"delay",A),a(C,"duration",P.duration),h(C,"yoyo",P.yoyo),a(C,"hold",P.hold),a(C,"repeat",P.repeat),a(C,"repeatDelay",P.repeatDelay),!1,!1);B.start=w,B.current=w,I.completeDelay=d(C,"completeDelay",0),I.loop=Math.round(d(C,"loop",0)),I.loopDelay=Math.round(d(C,"loopDelay",0)),I.paused=h(C,"paused",!1),I.persist=h(C,"persist",!1),I.isNumberTween=!0,I.callbackScope=c(C,"callbackScope",I);for(var k=o.TYPES,U=0;U<k.length;U++){var H=k[U],X=c(C,H,!1);if(X){var j=c(C,H+"Params",[]);I.setCallback(H,X,j)}}return I};n.exports=m}),93109:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(6113),y=r(35154),d=r(36383),h=function(l,a){a===void 0&&(a={});var f,c=y(a,"start",0),u=y(a,"ease",null),v=y(a,"grid",null),p=y(a,"from",0),m=p==="first",x=p==="center",C=p==="last",P=typeof p=="number",w=Array.isArray(l),M=parseFloat(w?l[0]:l),R=w?parseFloat(l[1]):0,A=Math.max(M,R);if(w&&(c+=M),v){var L=v[0],F=v[1],G=0,I=0,B=0,k=0,U=[];C?(G=L-1,I=F-1):P?(G=p%L,I=Math.floor(p/L)):x&&(G=(L-1)/2,I=(F-1)/2);for(var H=d.MIN_SAFE_INTEGER,X=0;X<F;X++){U[X]=[];for(var j=0;j<L;j++){B=G-j,k=I-X;var Z=Math.sqrt(B*B+k*k);Z>H&&(H=Z),U[X][j]=Z}}}var Y=u?o(u):null;return v?f=function($,z,V,K){var Q=0,_=K%L,tt=Math.floor(K/L);_>=0&&_<L&&tt>=0&&tt<F&&(Q=U[tt][_]);var rt;if(w){var ot=R-M;Y?rt=Q/H*ot*Y(Q/H):rt=Q/H*ot}else Y?rt=Q*M*Y(Q/H):rt=Q*M;return rt+c}:f=function($,z,V,K,Q){Q--;var _;m?_=K:x?_=Math.abs(Q/2-K):C?_=Q-K:P&&(_=Math.abs(p-K));var tt;if(w){var rt;x?rt=(R-M)/Q*(_*2):rt=(R-M)/Q*_,Y?tt=rt*Y(_/Q):tt=rt}else Y?tt=Q*A*Y(_/Q):tt=_*M;return tt+c},f};n.exports=h}),8357:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(70402),y=r(69902),d=r(23568),h=r(57355),l=r(6113),a=r(95540),f=r(91389),c=r(55292),u=r(82985),v=r(62329),p=r(35154),m=r(17777),x=r(269),C=r(86081),P=function(w,M,R){if(M instanceof C)return M.parent=w,M;R===void 0?R=y:R=x(y,R);var A=v(M);!A&&R.targets&&(A=R.targets);for(var L=u(M),F=a(M,"delay",R.delay),G=a(M,"duration",R.duration),I=a(M,"easeParams",R.easeParams),B=a(M,"ease",R.ease),k=a(M,"hold",R.hold),U=a(M,"repeat",R.repeat),H=a(M,"repeatDelay",R.repeatDelay),X=h(M,"yoyo",R.yoyo),j=h(M,"flipX",R.flipX),Z=h(M,"flipY",R.flipY),Y=a(M,"interpolation",R.interpolation),$=function(gt,xt,Mt,St){if(Mt==="texture"){var $t=St,Yt=void 0;Array.isArray(St)?($t=St[0],Yt=St[1]):St.hasOwnProperty("value")?($t=St.value,Array.isArray(St.value)?($t=St.value[0],Yt=St.value[1]):typeof St.value=="string"&&($t=St.value)):typeof St=="string"&&($t=St),gt.addFrame(xt,$t,Yt,c(St,"delay",F),a(St,"duration",G),a(St,"hold",k),a(St,"repeat",U),a(St,"repeatDelay",H),h(St,"flipX",j),h(St,"flipY",Z))}else{var Ht=m(Mt,St),Ct=f(a(St,"interpolation",Y));gt.add(xt,Mt,Ht.getEnd,Ht.getStart,Ht.getActive,l(a(St,"ease",B),a(St,"easeParams",I)),c(St,"delay",F),a(St,"duration",G),h(St,"yoyo",X),a(St,"hold",k),a(St,"repeat",U),a(St,"repeatDelay",H),h(St,"flipX",j),h(St,"flipY",Z),Ct,Ct?St:null)}},z=new C(w,A),V=0;V<L.length;V++)for(var K=L[V].key,Q=L[V].value,_=0;_<A.length;_++)K==="scale"&&!A[_].hasOwnProperty("scale")?($(z,_,"scaleX",Q),$(z,_,"scaleY",Q)):$(z,_,K,Q);z.completeDelay=d(M,"completeDelay",0),z.loop=Math.round(d(M,"loop",0)),z.loopDelay=Math.round(d(M,"loopDelay",0)),z.paused=h(M,"paused",!1),z.persist=h(M,"persist",!1),z.callbackScope=a(M,"callbackScope",z);for(var tt=o.TYPES,rt=0;rt<tt.length;rt++){var ot=tt[rt],ft=p(M,ot,!1);if(ft){var ct=p(M,ot+"Params",[]);z.setCallback(ot,ft,ct)}}return z};n.exports=P}),26012:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(70402),y=r(23568),d=r(57355),h=r(62329),l=r(35154),a=r(8357),f=r(43960),c=function(u,v){if(v instanceof f)return v.parent=u,v;var p=new f(u);p.startDelay=l(v,"delay",0),p.completeDelay=y(v,"completeDelay",0),p.loop=Math.round(y(v,"loop",l(v,"repeat",0))),p.loopDelay=Math.round(y(v,"loopDelay",l(v,"repeatDelay",0))),p.paused=d(v,"paused",!1),p.persist=d(v,"persist",!1),p.callbackScope=l(v,"callbackScope",p);var m,x=o.TYPES;for(m=0;m<x.length;m++){var C=x[m],P=l(v,C,!1);if(P){var w=l(v,C+"Params",[]);p.setCallback(C,P,w)}}var M=l(v,"tweens",null);if(Array.isArray(M)){var R=[],A=h(v),L=void 0;for(A&&(L={targets:A}),m=0;m<M.length;m++)R.push(a(p,M[m],L));p.add(R)}return p};n.exports=c}),30231:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={GetBoolean:r(57355),GetEaseFunction:r(6113),GetInterpolationFunction:r(91389),GetNewValue:r(55292),GetProps:r(82985),GetTargets:r(62329),GetValueOp:r(17777),NumberTweenBuilder:r(88032),StaggerBuilder:r(93109),TweenBuilder:r(8357)}}),73685:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="active"}),98540:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="complete"}),67233:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="loop"}),2859:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pause"}),98336:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="repeat"}),25764:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="resume"}),32193:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="start"}),84371:(n=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="stop"}),70766:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="update"}),55659:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="yoyo"}),842:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={TWEEN_ACTIVE:r(73685),TWEEN_COMPLETE:r(98540),TWEEN_LOOP:r(67233),TWEEN_PAUSE:r(2859),TWEEN_RESUME:r(25764),TWEEN_REPEAT:r(98336),TWEEN_START:r(32193),TWEEN_STOP:r(84371),TWEEN_UPDATE:r(70766),TWEEN_YOYO:r(55659)}}),43066:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={States:r(86353),Builders:r(30231),Events:r(842),TweenManager:r(40382),Tween:r(86081),TweenData:r(48177),TweenFrameData:r(42220),BaseTween:r(70402),TweenChain:r(43960)};n.exports=o}),70402:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(50792),d=r(842),h=r(86353),l=new o({Extends:y,initialize:function(f){y.call(this),this.parent=f,this.data=[],this.totalData=0,this.startDelay=0,this.hasStarted=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.completeDelay=0,this.countdown=0,this.state=h.PENDING,this.paused=!1,this.callbacks={onActive:null,onComplete:null,onLoop:null,onPause:null,onRepeat:null,onResume:null,onStart:null,onStop:null,onUpdate:null,onYoyo:null},this.callbackScope,this.persist=!1},setTimeScale:function(a){return this.timeScale=a,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return!this.paused&&this.isActive()},isPaused:function(){return this.paused},pause:function(){return this.paused||(this.paused=!0,this.dispatchEvent(d.TWEEN_PAUSE,"onPause")),this},resume:function(){return this.paused&&(this.paused=!1,this.dispatchEvent(d.TWEEN_RESUME,"onResume")),this},makeActive:function(){this.parent.makeActive(this),this.dispatchEvent(d.TWEEN_ACTIVE,"onActive")},onCompleteHandler:function(){this.setPendingRemoveState(),this.dispatchEvent(d.TWEEN_COMPLETE,"onComplete")},complete:function(a){return a===void 0&&(a=0),a?(this.setCompleteDelayState(),this.countdown=a):this.onCompleteHandler(),this},completeAfterLoop:function(a){return a===void 0&&(a=0),this.loopCounter>a&&(this.loopCounter=a),this},remove:function(){return this.parent&&this.parent.remove(this),this},stop:function(){return this.parent&&!this.isRemoved()&&!this.isPendingRemove()&&!this.isDestroyed()&&(this.dispatchEvent(d.TWEEN_STOP,"onStop"),this.setPendingRemoveState()),this},updateLoopCountdown:function(a){this.countdown-=a,this.countdown<=0&&(this.setActiveState(),this.dispatchEvent(d.TWEEN_LOOP,"onLoop"))},updateStartCountdown:function(a){return this.countdown-=a,this.countdown<=0&&(this.hasStarted=!0,this.setActiveState(),this.dispatchEvent(d.TWEEN_START,"onStart"),a=0),a},updateCompleteDelay:function(a){this.countdown-=a,this.countdown<=0&&this.onCompleteHandler()},setCallback:function(a,f,c){return c===void 0&&(c=[]),this.callbacks.hasOwnProperty(a)&&(this.callbacks[a]={func:f,params:c}),this},setPendingState:function(){this.state=h.PENDING},setActiveState:function(){this.state=h.ACTIVE,this.hasStarted=!1},setLoopDelayState:function(){this.state=h.LOOP_DELAY},setCompleteDelayState:function(){this.state=h.COMPLETE_DELAY},setStartDelayState:function(){this.state=h.START_DELAY,this.countdown=this.startDelay,this.hasStarted=!1},setPendingRemoveState:function(){this.state=h.PENDING_REMOVE},setRemovedState:function(){this.state=h.REMOVED},setFinishedState:function(){this.state=h.FINISHED},setDestroyedState:function(){this.state=h.DESTROYED},isPending:function(){return this.state===h.PENDING},isActive:function(){return this.state===h.ACTIVE},isLoopDelayed:function(){return this.state===h.LOOP_DELAY},isCompleteDelayed:function(){return this.state===h.COMPLETE_DELAY},isStartDelayed:function(){return this.state===h.START_DELAY},isPendingRemove:function(){return this.state===h.PENDING_REMOVE},isRemoved:function(){return this.state===h.REMOVED},isFinished:function(){return this.state===h.FINISHED},isDestroyed:function(){return this.state===h.DESTROYED},destroy:function(){this.data&&this.data.forEach(function(a){a.destroy()}),this.removeAllListeners(),this.callbacks=null,this.data=null,this.parent=null,this.setDestroyedState()}});l.TYPES=["onActive","onComplete","onLoop","onPause","onRepeat","onResume","onStart","onStop","onUpdate","onYoyo"],n.exports=l}),95042:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),y=r(842),d=r(86353),h=new o({initialize:function(a,f,c,u,v,p,m,x,C,P){this.tween=a,this.targetIndex=f,this.duration=u<=0?.01:u,this.totalDuration=0,this.delay=0,this.getDelay=c,this.yoyo=v,this.hold=p,this.repeat=m,this.repeatDelay=x,this.repeatCounter=0,this.flipX=C,this.flipY=P,this.progress=0,this.elapsed=0,this.state=0,this.isCountdown=!1},getTarget:function(){return this.tween.targets[this.targetIndex]},setTargetValue:function(l){l===void 0&&(l=this.current),this.tween.targets[this.targetIndex][this.key]=l},setCreatedState:function(){this.state=d.CREATED,this.isCountdown=!1},setDelayState:function(){this.state=d.DELAY,this.isCountdown=!0},setPendingRenderState:function(){this.state=d.PENDING_RENDER,this.isCountdown=!1},setPlayingForwardState:function(){this.state=d.PLAYING_FORWARD,this.isCountdown=!1},setPlayingBackwardState:function(){this.state=d.PLAYING_BACKWARD,this.isCountdown=!1},setHoldState:function(){this.state=d.HOLD_DELAY,this.isCountdown=!0},setRepeatState:function(){this.state=d.REPEAT_DELAY,this.isCountdown=!0},setCompleteState:function(){this.state=d.COMPLETE,this.isCountdown=!1},isCreated:function(){return this.state===d.CREATED},isDelayed:function(){return this.state===d.DELAY},isPendingRender:function(){return this.state===d.PENDING_RENDER},isPlayingForward:function(){return this.state===d.PLAYING_FORWARD},isPlayingBackward:function(){return this.state===d.PLAYING_BACKWARD},isHolding:function(){return this.state===d.HOLD_DELAY},isRepeating:function(){return this.state===d.REPEAT_DELAY},isComplete:function(){return this.state===d.COMPLETE},setStateFromEnd:function(l){this.yoyo?this.onRepeat(l,!0,!0):this.repeatCounter>0?this.onRepeat(l,!0,!1):this.setCompleteState()},setStateFromStart:function(l){this.repeatCounter>0?this.onRepeat(l,!1):this.setCompleteState()},reset:function(){var l=this.tween,a=l.totalTargets,f=this.targetIndex,c=l.targets[f],u=this.key;this.progress=0,this.elapsed=0,this.delay=this.getDelay(c,u,0,f,a,l),this.repeatCounter=this.repeat===-1?d.MAX:this.repeat,this.setPendingRenderState();var v=this.duration+this.hold;this.yoyo&&(v+=this.duration);var p=v+this.repeatDelay;this.totalDuration=this.delay+v,this.repeat===-1?(this.totalDuration+=p*d.MAX,l.isInfinite=!0):this.repeat>0&&(this.totalDuration+=p*this.repeat),this.totalDuration>l.duration&&(l.duration=this.totalDuration),this.delay<l.startDelay&&(l.startDelay=this.delay),this.delay>0&&(this.elapsed=this.delay,this.setDelayState())},onRepeat:function(l,a,f){var c=this.tween,u=c.totalTargets,v=this.targetIndex,p=c.targets[v],m=this.key,x=m!=="texture";if(this.elapsed=l,this.progress=l/this.duration,this.flipX&&p.toggleFlipX(),this.flipY&&p.toggleFlipY(),x&&(a||f)&&(this.start=this.getStartValue(p,m,this.start,v,u,c)),f){this.setPlayingBackwardState(),this.dispatchEvent(y.TWEEN_YOYO,"onYoyo");return}this.repeatCounter--,x&&(this.end=this.getEndValue(p,m,this.start,v,u,c)),this.repeatDelay>0?(this.elapsed=this.repeatDelay-l,x&&(this.current=this.start,p[m]=this.current),this.setRepeatState()):(this.setPlayingForwardState(),this.dispatchEvent(y.TWEEN_REPEAT,"onRepeat"))},destroy:function(){this.tween=null,this.getDelay=null,this.setCompleteState()}});n.exports=h}),69902:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={targets:null,delay:0,duration:1e3,ease:"Power0",easeParams:null,hold:0,repeat:0,repeatDelay:0,yoyo:!1,flipX:!1,flipY:!1,persist:!1,interpolation:null};n.exports=T}),81076:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports=["callbackScope","completeDelay","delay","duration","ease","easeParams","flipX","flipY","hold","interpolation","loop","loopDelay","onActive","onActiveParams","onComplete","onCompleteParams","onLoop","onLoopParams","onPause","onPauseParams","onRepeat","onRepeatParams","onResume","onResumeParams","onStart","onStartParams","onStop","onStopParams","onUpdate","onUpdateParams","onYoyo","onYoyoParams","paused","persist","props","repeat","repeatDelay","targets","yoyo"]}),86081:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(70402),y=r(83419),d=r(842),h=r(44603),l=r(39429),a=r(36383),f=r(86353),c=r(48177),u=r(42220),v=new y({Extends:o,initialize:function(m,x){o.call(this,m),this.targets=x,this.totalTargets=x.length,this.isSeeking=!1,this.isInfinite=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0,this.isNumberTween=!1},add:function(p,m,x,C,P,w,M,R,A,L,F,G,I,B,k,U){var H=new c(this,p,m,x,C,P,w,M,R,A,L,F,G,I,B,k,U);return this.totalData=this.data.push(H),H},addFrame:function(p,m,x,C,P,w,M,R,A,L){var F=new u(this,p,m,x,C,P,w,M,R,A,L);return this.totalData=this.data.push(F),F},getValue:function(p){p===void 0&&(p=0);var m=null;return this.data&&(m=this.data[p].current),m},hasTarget:function(p){return this.targets&&this.targets.indexOf(p)!==-1},updateTo:function(p,m,x){if(x===void 0&&(x=!1),p!=="texture")for(var C=0;C<this.totalData;C++){var P=this.data[C];P.key===p&&(P.isPlayingForward()||P.isPlayingBackward())&&(P.end=m,x&&(P.start=P.current))}return this},restart:function(){switch(this.state){case f.REMOVED:case f.FINISHED:this.seek(),this.parent.makeActive(this);break;case f.PENDING:case f.PENDING_REMOVE:this.parent.reset(this);break;case f.DESTROYED:console.warn("Cannot restart destroyed Tween",this);break;default:this.seek();break}return this.paused=!1,this.hasStarted=!1,this},nextState:function(){if(this.loopCounter>0)this.elapsed=0,this.progress=0,this.loopCounter--,this.initTweenData(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(d.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},onCompleteHandler:function(){this.progress=1,this.totalProgress=1,o.prototype.onCompleteHandler.call(this)},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed Tween",this),this):((this.isPendingRemove()||this.isFinished())&&this.seek(),this.paused=!1,this.setActiveState(),this)},seek:function(p,m,x){if(p===void 0&&(p=0),m===void 0&&(m=16.6),x===void 0&&(x=!1),this.isDestroyed())return console.warn("Cannot seek destroyed Tween",this),this;x||(this.isSeeking=!0),this.reset(!0),this.initTweenData(!0),this.setActiveState(),this.dispatchEvent(d.TWEEN_ACTIVE,"onActive");var C=this.paused;if(this.paused=!1,p>0){for(var P=Math.floor(p/m),w=p-P*m,M=0;M<P;M++)this.update(m);w>0&&this.update(w)}return this.paused=C,this.isSeeking=!1,this},initTweenData:function(p){p===void 0&&(p=!1),this.duration=0,this.startDelay=a.MAX_SAFE_INTEGER;for(var m=this.data,x=0;x<this.totalData;x++)m[x].reset(p);this.duration=Math.max(this.duration,.01);var C=this.duration,P=this.completeDelay,w=this.loopCounter,M=this.loopDelay;w>0?this.totalDuration=C+P+(C+M)*w:this.totalDuration=C+P},reset:function(p){return p===void 0&&(p=!1),this.elapsed=0,this.totalElapsed=0,this.progress=0,this.totalProgress=0,this.loopCounter=this.loop,this.loop===-1&&(this.isInfinite=!0,this.loopCounter=f.MAX),p||(this.initTweenData(),this.setActiveState(),this.dispatchEvent(d.TWEEN_ACTIVE,"onActive")),this},update:function(p){if(this.isPendingRemove()||this.isDestroyed())return this.persist?(this.setFinishedState(),!1):!0;if(this.paused||this.isFinished())return!1;if(p*=this.timeScale*this.parent.timeScale,this.isLoopDelayed())return this.updateLoopCountdown(p),!1;if(this.isCompleteDelayed())return this.updateCompleteDelay(p),!1;this.hasStarted||(this.startDelay-=p,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchEvent(d.TWEEN_START,"onStart"),p=0));var m=!1;if(this.isActive())for(var x=this.data,C=0;C<this.totalData;C++)x[C].update(p)&&(m=!0);this.elapsed+=p,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=p,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),m||this.nextState();var P=this.isPendingRemove();return P&&this.persist&&(this.setFinishedState(),P=!1),P},forward:function(p){return this.update(p),this},rewind:function(p){return this.update(-p),this},dispatchEvent:function(p,m){if(!this.isSeeking){if(this.emit(p,this,this.targets),!this.callbacks)return;var x=this.callbacks[m];x&&x.func.apply(this.callbackScope,[this,this.targets].concat(x.params))}},destroy:function(){o.prototype.destroy.call(this),this.targets=null}});l.register("tween",function(p){return this.scene.sys.tweens.add(p)}),h.register("tween",function(p){return this.scene.sys.tweens.create(p)}),n.exports=v}),43960:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(72905),y=r(70402),d=r(83419),h=r(842),l=r(44603),a=r(39429),f=r(86353),c=new d({Extends:y,initialize:function(v){y.call(this,v),this.currentTween=null,this.currentIndex=0},init:function(){return this.loopCounter=this.loop===-1?f.MAX:this.loop,this.setCurrentTween(0),this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this},add:function(u){var v=this.parent.create(u);Array.isArray(v)||(v=[v]);for(var p=this.data,m=0;m<v.length;m++){var x=v[m];x.parent=this,p.push(x.reset())}return this.totalData=p.length,this},remove:function(u){return o(this.data,u),u.setRemovedState(),u===this.currentTween&&this.nextTween(),this.totalData=this.data.length,this},hasTarget:function(u){for(var v=this.data,p=0;p<this.totalData;p++)if(v[p].hasTarget(u))return!0;return!1},restart:function(){return this.isDestroyed()?(console.warn("Cannot restart destroyed TweenChain",this),this):(this.isRemoved()&&this.parent.makeActive(this),this.resetTweens(),this.paused=!1,this.init())},reset:function(u){return u.seek(),u.setActiveState(),this},makeActive:function(u){return u.reset(),u.setActiveState(),this},nextState:function(){if(this.loopCounter>0)this.loopCounter--,this.resetTweens(),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(h.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed TweenChain",this),this):((this.isPendingRemove()||this.isPending())&&this.resetTweens(),this.paused=!1,this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this)},resetTweens:function(){for(var u=this.data,v=this.totalData,p=0;p<v;p++)u[p].reset(!1);this.setCurrentTween(0)},update:function(u){if(this.isPendingRemove()||this.isDestroyed())return!0;if(this.isFinished()||this.paused)return!1;if(u*=this.parent.timeScale,this.isLoopDelayed())return this.updateLoopCountdown(u),!1;if(this.isCompleteDelayed())return this.updateCompleteDelay(u),!1;this.hasStarted||(this.startDelay-=u,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchEvent(h.TWEEN_START,"onStart"),u=0));var v=!1;return this.isActive()&&this.currentTween&&(this.currentTween.update(u)&&this.nextTween()&&this.nextState(),v=this.isPendingRemove(),v&&this.persist&&(this.setFinishedState(),v=!1)),v},nextTween:function(){return this.currentIndex++,this.currentIndex===this.totalData?!0:(this.setCurrentTween(this.currentIndex),!1)},setCurrentTween:function(u){this.currentIndex=u,this.currentTween=this.data[u],this.currentTween.setActiveState()},dispatchEvent:function(u,v){this.emit(u,this);var p=this.callbacks[v];p&&p.func.apply(this.callbackScope,[this].concat(p.params))},destroy:function(){y.prototype.destroy.call(this),this.currentTween=null}});a.register("tweenchain",function(u){return this.scene.sys.tweens.chain(u)}),l.register("tweenchain",function(u){return this.scene.sys.tweens.create(u)}),n.exports=c}),48177:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(95042),y=r(45319),d=r(83419),h=r(842),l=new d({Extends:o,initialize:function(f,c,u,v,p,m,x,C,P,w,M,R,A,L,F,G,I){o.call(this,f,c,C,P,w,M,R,A,L,F),this.key=u,this.getActiveValue=m,this.getEndValue=v,this.getStartValue=p,this.ease=x,this.start=0,this.previous=0,this.current=0,this.end=0,this.interpolation=G,this.interpolationData=I},reset:function(a){o.prototype.reset.call(this);var f=this.tween.targets[this.targetIndex],c=this.key;a&&(f[c]=this.start),this.start=0,this.previous=0,this.current=0,this.end=0,this.getActiveValue&&(f[c]=this.getActiveValue(f,c,0))},update:function(a){var f=this.tween,c=f.totalTargets,u=this.targetIndex,v=f.targets[u],p=this.key;if(!v)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=a,this.elapsed<=0&&(this.elapsed=0,a=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(h.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.start=this.getStartValue(v,p,v[p],u,c,f),this.end=this.getEndValue(v,p,this.start,u,c,f),this.current=this.start,v[p]=this.start,this.setPlayingForwardState(),!0;var m=this.isPlayingForward(),x=this.isPlayingBackward();if(m||x){var C=this.elapsed,P=this.duration,w=0,M=!1;C+=a,C>=P?(w=C-P,C=P,M=!0):C<0&&(C=0);var R=y(C/P,0,1);this.elapsed=C,this.progress=R,this.previous=this.current,m||(R=1-R);var A=this.ease(R);this.interpolation?this.current=this.interpolation(this.interpolationData,A):this.current=this.start+(this.end-this.start)*A,v[p]=this.current,M&&(m?(f.isNumberTween&&(this.current=this.end,v[p]=this.current),this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(w)):(f.isNumberTween&&(this.current=this.start,v[p]=this.current),this.setStateFromStart(w))),this.dispatchEvent(h.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(a,f){var c=this.tween;if(!c.isSeeking){var u=c.targets[this.targetIndex],v=this.key,p=this.current,m=this.previous;c.emit(a,c,v,u,p,m);var x=c.callbacks[f];x&&x.func.apply(c.callbackScope,[c,u,v,p,m].concat(x.params))}},destroy:function(){o.prototype.destroy.call(this),this.getActiveValue=null,this.getEndValue=null,this.getStartValue=null,this.ease=null}});n.exports=l}),42220:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(95042),y=r(45319),d=r(83419),h=r(842),l=new d({Extends:o,initialize:function(f,c,u,v,p,m,x,C,P,w,M){o.call(this,f,c,p,m,!1,x,C,P,w,M),this.key="texture",this.startTexture=null,this.endTexture=u,this.startFrame=null,this.endFrame=v,this.yoyo=C!==0},reset:function(a){o.prototype.reset.call(this);var f=this.tween.targets[this.targetIndex];this.startTexture||(this.startTexture=f.texture.key,this.startFrame=f.frame.name),a&&f.setTexture(this.startTexture,this.startFrame)},update:function(a){var f=this.tween,c=this.targetIndex,u=f.targets[c];if(!u)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=a,this.elapsed<=0&&(this.elapsed=0,a=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(h.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.startTexture&&u.setTexture(this.startTexture,this.startFrame),this.setPlayingForwardState(),!0;var v=this.isPlayingForward(),p=this.isPlayingBackward();if(v||p){var m=this.elapsed,x=this.duration,C=0,P=!1;m+=a,m>=x?(C=m-x,m=x,P=!0):m<0&&(m=0);var w=y(m/x,0,1);this.elapsed=m,this.progress=w,P&&(v?(u.setTexture(this.endTexture,this.endFrame),this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(C)):(u.setTexture(this.startTexture,this.startFrame),this.setStateFromStart(C))),this.dispatchEvent(h.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(a,f){var c=this.tween;if(!c.isSeeking){var u=c.targets[this.targetIndex],v=this.key;c.emit(a,c,v,u);var p=c.callbacks[f];p&&p.func.apply(c.callbackScope,[c,u,v].concat(p.params))}},destroy:function(){o.prototype.destroy.call(this),this.startTexture=null,this.endTexture=null,this.startFrame=null,this.endFrame=null}});n.exports=l}),86353:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={CREATED:0,DELAY:2,PENDING_RENDER:4,PLAYING_FORWARD:5,PLAYING_BACKWARD:6,HOLD_DELAY:7,REPEAT_DELAY:8,COMPLETE:9,PENDING:20,ACTIVE:21,LOOP_DELAY:22,COMPLETE_DELAY:23,START_DELAY:24,PENDING_REMOVE:25,REMOVED:26,FINISHED:27,DESTROYED:28,MAX:999999999999};n.exports=T}),83419:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function T(l){return!!l.get&&typeof l.get=="function"||!!l.set&&typeof l.set=="function"}function r(l,a,f){var c=f?l[a]:Object.getOwnPropertyDescriptor(l,a);return!f&&c.value&&typeof c.value=="object"&&(c=c.value),c&&T(c)?(typeof c.enumerable>"u"&&(c.enumerable=!0),typeof c.configurable>"u"&&(c.configurable=!0),c):!1}function o(l,a){var f=Object.getOwnPropertyDescriptor(l,a);return f?(f.value&&typeof f.value=="object"&&(f=f.value),f.configurable===!1):!1}function y(l,a,f,c){for(var u in a)if(a.hasOwnProperty(u)){var v=r(a,u,f);if(v!==!1){var p=c||l;if(o(p.prototype,u)){if(h.ignoreFinals)continue;throw new Error("cannot override final property '"+u+"', set Class.ignoreFinals = true to skip")}Object.defineProperty(l.prototype,u,v)}else l.prototype[u]=a[u]}}function d(l,a){if(a){Array.isArray(a)||(a=[a]);for(var f=0;f<a.length;f++)y(l,a[f].prototype||a[f])}}function h(l){l||(l={});var a,f;if(l.initialize){if(typeof l.initialize!="function")throw new Error("initialize must be a function");a=l.initialize,delete l.initialize}else if(l.Extends){var c=l.Extends;a=function(){c.apply(this,arguments)}}else a=function(){};l.Extends?(a.prototype=Object.create(l.Extends.prototype),a.prototype.constructor=a,f=l.Extends,delete l.Extends):a.prototype.constructor=a;var u=null;return l.Mixins&&(u=l.Mixins,delete l.Mixins),d(a,u),y(a,l,!0,f),a}h.extend=y,h.mixin=d,h.ignoreFinals=!1,n.exports=h}),29747:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(){};n.exports=T}),20242:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(){return null};n.exports=T}),71146:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y,d,h){if(h===void 0&&(h=r),y>0){var l=y-r.length;if(l<=0)return null}if(!Array.isArray(o))return r.indexOf(o)===-1?(r.push(o),d&&d.call(h,o),o):null;for(var a=o.length-1;a>=0;)r.indexOf(o[a])!==-1&&o.splice(a,1),a--;if(a=o.length,a===0)return null;y>0&&a>l&&(o.splice(l),a=l);for(var f=0;f<a;f++){var c=o[f];r.push(c),d&&d.call(h,c)}return o};n.exports=T}),51067:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y,d,h,l){if(y===void 0&&(y=0),l===void 0&&(l=r),d>0){var a=d-r.length;if(a<=0)return null}if(!Array.isArray(o))return r.indexOf(o)===-1?(r.splice(y,0,o),h&&h.call(l,o),o):null;for(var f=o.length-1;f>=0;)r.indexOf(o[f])!==-1&&o.pop(),f--;if(f=o.length,f===0)return null;d>0&&f>a&&(o.splice(a),f=a);for(var c=f-1;c>=0;c--){var u=o[c];r.splice(y,0,u),h&&h.call(l,u)}return o};n.exports=T}),66905:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){var y=r.indexOf(o);return y!==-1&&y<r.length&&(r.splice(y,1),r.push(o)),o};n.exports=T}),21612:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(82011),y=function(d,h,l,a,f){a===void 0&&(a=0),f===void 0&&(f=d.length);var c=0;if(o(d,a,f))for(var u=a;u<f;u++){var v=d[u];v[h]===l&&c++}return c};n.exports=y}),95428:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y){var d,h=[null];for(d=3;d<arguments.length;d++)h.push(arguments[d]);for(d=0;d<r.length;d++)h[0]=r[d],o.apply(y,h);return r};n.exports=T}),36914:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(82011),y=function(d,h,l,a,f){if(a===void 0&&(a=0),f===void 0&&(f=d.length),o(d,a,f)){var c,u=[null];for(c=5;c<arguments.length;c++)u.push(arguments[c]);for(c=a;c<f;c++)u[0]=d[c],h.apply(l,u)}return d};n.exports=y}),81957:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y){if(o.length){if(o.length===1)return o[0]}else return NaN;var d=1,h,l;if(y){if(r<o[0][y])return o[0];for(;o[d][y]<r;)d++}else for(;o[d]<r;)d++;return d>o.length&&(d=o.length),y?(h=o[d-1][y],l=o[d][y],l-r<=r-h?o[d]:o[d-1]):(h=o[d-1],l=o[d],l-r<=r-h?l:h)};n.exports=T}),43491:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){o===void 0&&(o=[]);for(var y=0;y<r.length;y++)Array.isArray(r[y])?T(r[y],o):o.push(r[y]);return o};n.exports=T}),46710:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(82011),y=function(d,h,l,a,f){a===void 0&&(a=0),f===void 0&&(f=d.length);var c=[];if(o(d,a,f))for(var u=a;u<f;u++){var v=d[u];(!h||h&&l===void 0&&v.hasOwnProperty(h)||h&&l!==void 0&&v[h]===l)&&c.push(v)}return c};n.exports=y}),58731:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(82011),y=function(d,h,l,a,f){if(a===void 0&&(a=0),f===void 0&&(f=d.length),a!==-1){if(o(d,a,f))for(var c=a;c<f;c++){var u=d[c];if(!h||h&&l===void 0&&u.hasOwnProperty(h)||h&&l!==void 0&&u[h]===l)return u}}else if(o(d,0,f))for(var c=f;c>=0;c--){var u=d[c];if(!h||h&&l===void 0&&u.hasOwnProperty(h)||h&&l!==void 0&&u[h]===l)return u}return null};n.exports=y}),26546:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y){o===void 0&&(o=0),y===void 0&&(y=r.length);var d=o+Math.floor(Math.random()*y);return r[d]===void 0?null:r[d]};n.exports=T}),85835:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y){if(o===y)return r;var d=r.indexOf(o),h=r.indexOf(y);if(d<0||h<0)throw new Error("Supplied items must be elements of the same array");return d>h||(r.splice(d,1),h=r.indexOf(y),r.splice(h+1,0,o)),r};n.exports=T}),83371:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y){if(o===y)return r;var d=r.indexOf(o),h=r.indexOf(y);if(d<0||h<0)throw new Error("Supplied items must be elements of the same array");return d<h||(r.splice(d,1),h===0?r.unshift(o):r.splice(h,0,o)),r};n.exports=T}),70864:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){var y=r.indexOf(o);if(y>0){var d=r[y-1],h=r.indexOf(d);r[y]=d,r[h]=o}return r};n.exports=T}),69693:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y){var d=r.indexOf(o);if(d===-1||y<0||y>=r.length)throw new Error("Supplied index out of bounds");return d!==y&&(r.splice(d,1),r.splice(y,0,o)),o};n.exports=T}),40853:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){var y=r.indexOf(o);if(y!==-1&&y<r.length-1){var d=r[y+1],h=r.indexOf(d);r[y]=d,r[h]=o}return r};n.exports=T}),20283:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y,d){var h=[],l,a=!1;if((y||d)&&(a=!0,y||(y=""),d||(d="")),o<r)for(l=r;l>=o;l--)a?h.push(y+l.toString()+d):h.push(l);else for(l=r;l<=o;l++)a?h.push(y+l.toString()+d):h.push(l);return h};n.exports=T}),593:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2284),y=function(d,h,l){d===void 0&&(d=0),h===void 0&&(h=null),l===void 0&&(l=1),h===null&&(h=d,d=0);for(var a=[],f=Math.max(o((h-d)/(l||1)),0),c=0;c<f;c++)a.push(d),d+=l;return a};n.exports=y}),43886:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function T(y,d,h){var l=y[d];y[d]=y[h],y[h]=l}function r(y,d){return y<d?-1:y>d?1:0}var o=function(y,d,h,l,a){for(h===void 0&&(h=0),l===void 0&&(l=y.length-1),a===void 0&&(a=r);l>h;){if(l-h>600){var f=l-h+1,c=d-h+1,u=Math.log(f),v=.5*Math.exp(2*u/3),p=.5*Math.sqrt(u*v*(f-v)/f)*(c-f/2<0?-1:1),m=Math.max(h,Math.floor(d-c*v/f+p)),x=Math.min(l,Math.floor(d+(f-c)*v/f+p));o(y,d,m,x,a)}var C=y[d],P=h,w=l;for(T(y,h,d),a(y[l],C)>0&&T(y,h,l);P<w;){for(T(y,P,w),P++,w--;a(y[P],C)<0;)P++;for(;a(y[w],C)>0;)w--}a(y[h],C)===0?T(y,h,w):(w++,T(y,w,l)),w<=d&&(h=w+1),d<=w&&(l=w-1)}};n.exports=o}),88492:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(35154),y=r(33680),d=function(l,a,f){for(var c=[],u=0;u<l.length;u++)for(var v=0;v<a.length;v++)for(var p=0;p<f;p++)c.push({a:l[u],b:a[v]});return c},h=function(l,a,f){var c=o(f,"max",0),u=o(f,"qty",1),v=o(f,"random",!1),p=o(f,"randomB",!1),m=o(f,"repeat",0),x=o(f,"yoyo",!1),C=[];if(p&&y(a),m===-1)if(c===0)m=0;else{var P=l.length*a.length*u;x&&(P*=2),m=Math.ceil(c/P)}for(var w=0;w<=m;w++){var M=d(l,a,u);v&&y(M),C=C.concat(M),x&&(M.reverse(),C=C.concat(M))}return c&&C.splice(c),C};n.exports=h}),72905:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(19133),y=function(d,h,l,a){a===void 0&&(a=d);var f;if(!Array.isArray(h))return f=d.indexOf(h),f!==-1?(o(d,f),l&&l.call(a,h),h):null;for(var c=h.length-1,u=[];c>=0;){var v=h[c];f=d.indexOf(v),f!==-1&&(o(d,f),u.push(v),l&&l.call(a,v)),c--}return u};n.exports=y}),60248:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(19133),y=function(d,h,l,a){if(a===void 0&&(a=d),h<0||h>d.length-1)throw new Error("Index out of bounds");var f=o(d,h);return l&&l.call(a,f),f};n.exports=y}),81409:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(82011),y=function(d,h,l,a,f){if(h===void 0&&(h=0),l===void 0&&(l=d.length),f===void 0&&(f=d),o(d,h,l)){var c=l-h,u=d.splice(h,c);if(a)for(var v=0;v<u.length;v++){var p=u[v];a.call(f,p)}return u}else return[]};n.exports=y}),31856:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(19133),y=function(d,h,l){h===void 0&&(h=0),l===void 0&&(l=d.length);var a=h+Math.floor(Math.random()*l);return o(d,a)};n.exports=y}),42169:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y){var d=r.indexOf(o),h=r.indexOf(y);return d!==-1&&h===-1?(r[d]=y,!0):!1};n.exports=T}),86003:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){o===void 0&&(o=1);for(var y=null,d=0;d<o;d++)y=r.shift(),r.push(y);return y};n.exports=T}),49498:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){o===void 0&&(o=1);for(var y=null,d=0;d<o;d++)y=r.pop(),r.unshift(y);return y};n.exports=T}),82011:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y,d){var h=r.length;if(o<0||o>=h||o>=y||y>h){if(d)throw new Error("Range Error: Values outside acceptable range");return!1}else return!0};n.exports=T}),89545:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){var y=r.indexOf(o);return y!==-1&&y>0&&(r.splice(y,1),r.unshift(o)),o};n.exports=T}),17810:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(82011),y=function(d,h,l,a,f){if(a===void 0&&(a=0),f===void 0&&(f=d.length),o(d,a,f))for(var c=a;c<f;c++){var u=d[c];u.hasOwnProperty(h)&&(u[h]=l)}return d};n.exports=y}),33680:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){for(var o=r.length-1;o>0;o--){var y=Math.floor(Math.random()*(o+1)),d=r[o];r[o]=r[y],r[y]=d}return r};n.exports=T}),90126:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){var o=/\D/g;return r.sort(function(y,d){return parseInt(y.replace(o,""),10)-parseInt(d.replace(o,""),10)}),r};n.exports=T}),19133:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){if(!(o>=r.length)){for(var y=r.length-1,d=r[o],h=o;h<y;h++)r[h]=r[h+1];return r.length=y,d}};n.exports=T}),19186:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Angry Bytes (and contributors)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(82264);function y(a,f){return String(a).localeCompare(f)}function d(a,f){var c=a.length;if(c<=1)return a;for(var u=new Array(c),v=1;v<c;v*=2){h(a,f,v,u);var p=a;a=u,u=p}return a}function h(a,f,c,u){var v=a.length,p=0,m=c*2,x,C,P,w,M;for(x=0;x<v;x+=m)for(C=x+c,P=C+c,C>v&&(C=v),P>v&&(P=v),w=x,M=C;;)if(w<C&&M<P)f(a[w],a[M])<=0?u[p++]=a[w++]:u[p++]=a[M++];else if(w<C)u[p++]=a[w++];else if(M<P)u[p++]=a[M++];else break}var l=function(a,f){if(f===void 0&&(f=y),!a||a.length<2)return a;if(o.features.stableSort)return a.sort(f);var c=d(a,f);return c!==a&&h(c,null,a.length,a),a};n.exports=l}),25630:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y){if(o===y)return r;var d=r.indexOf(o),h=r.indexOf(y);if(d<0||h<0)throw new Error("Supplied items must be elements of the same array");return r[d]=y,r[h]=o,r};n.exports=T}),37105:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Matrix:r(54915),Add:r(71146),AddAt:r(51067),BringToTop:r(66905),CountAllMatching:r(21612),Each:r(95428),EachInRange:r(36914),FindClosestInSorted:r(81957),Flatten:r(43491),GetAll:r(46710),GetFirst:r(58731),GetRandom:r(26546),MoveDown:r(70864),MoveTo:r(69693),MoveUp:r(40853),MoveAbove:r(85835),MoveBelow:r(83371),NumberArray:r(20283),NumberArrayStep:r(593),QuickSelect:r(43886),Range:r(88492),Remove:r(72905),RemoveAt:r(60248),RemoveBetween:r(81409),RemoveRandomElement:r(31856),Replace:r(42169),RotateLeft:r(86003),RotateRight:r(49498),SafeRange:r(82011),SendToBack:r(89545),SetAll:r(17810),Shuffle:r(33680),SortByDigits:r(90126),SpliceOne:r(19133),StableSort:r(19186),Swap:r(25630)}}),86922:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){if(!Array.isArray(r)||!Array.isArray(r[0]))return!1;for(var o=r[0].length,y=1;y<r.length;y++)if(r[y].length!==o)return!1;return!0};n.exports=T}),63362:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(41836),y=r(86922),d=function(h){var l="";if(!y(h))return l;for(var a=0;a<h.length;a++){for(var f=0;f<h[a].length;f++){var c=h[a][f].toString();c!=="undefined"?l+=o(c,2):l+="?",f<h[a].length-1&&(l+=" |")}if(a<h.length-1){l+=`
`;for(var u=0;u<h[a].length;u++)l+="---",u<h[a].length-1&&(l+="+");l+=`
`}}return l};n.exports=d}),92598:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r.reverse()};n.exports=T}),21224:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){for(var o=0;o<r.length;o++)r[o].reverse();return r};n.exports=T}),98717:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(37829),y=function(d){return o(d,180)};n.exports=y}),44657:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(37829),y=function(d,h){h===void 0&&(h=1);for(var l=0;l<h;l++)d=o(d,90);return d};n.exports=y}),37829:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(86922),y=r(2429),d=function(h,l){if(l===void 0&&(l=90),!o(h))return null;if(typeof l!="string"&&(l=(l%360+360)%360),l===90||l===-270||l==="rotateLeft")h=y(h),h.reverse();else if(l===-90||l===270||l==="rotateRight")h.reverse(),h=y(h);else if(Math.abs(l)===180||l==="rotate180"){for(var a=0;a<h.length;a++)h[a].reverse();h.reverse()}return h};n.exports=d}),92632:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(37829),y=function(d,h){h===void 0&&(h=1);for(var l=0;l<h;l++)d=o(d,-90);return d};n.exports=y}),69512:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(86003),y=r(49498),d=function(h,l,a){if(l===void 0&&(l=0),a===void 0&&(a=0),a!==0&&(a<0?o(h,Math.abs(a)):y(h,a)),l!==0)for(var f=0;f<h.length;f++){var c=h[f];l<0?o(c,Math.abs(l)):y(c,l)}return h};n.exports=d}),2429:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){for(var o=r.length,y=r[0].length,d=new Array(y),h=0;h<y;h++){d[h]=new Array(o);for(var l=o-1;l>-1;l--)d[h][l]=r[l][h]}return d};n.exports=T}),54915:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={CheckMatrix:r(86922),MatrixToString:r(63362),ReverseColumns:r(92598),ReverseRows:r(21224),Rotate180:r(98717),RotateLeft:r(44657),RotateMatrix:r(37829),RotateRight:r(92632),Translate:r(69512),TransposeMatrix:r(2429)}}),71334:(n=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=function(o,y){for(var d=new Uint8Array(o),h=d.length,l=y?"data:"+y+";base64,":"",a=0;a<h;a+=3)l+=T[d[a]>>2],l+=T[(d[a]&3)<<4|d[a+1]>>4],l+=T[(d[a+1]&15)<<2|d[a+2]>>6],l+=T[d[a+2]&63];return h%3===2?l=l.substring(0,l.length-1)+"=":h%3===1&&(l=l.substring(0,l.length-2)+"=="),l};n.exports=r}),53134:(n=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */for(var T="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=new Uint8Array(256),o=0;o<T.length;o++)r[T.charCodeAt(o)]=o;var y=function(d){d=d.substr(d.indexOf(",")+1);var h=d.length,l=h*.75,a=0,f,c,u,v;d[h-1]==="="&&(l--,d[h-2]==="="&&l--);for(var p=new ArrayBuffer(l),m=new Uint8Array(p),x=0;x<h;x+=4)f=r[d.charCodeAt(x)],c=r[d.charCodeAt(x+1)],u=r[d.charCodeAt(x+2)],v=r[d.charCodeAt(x+3)],m[a++]=f<<2|c>>4,m[a++]=(c&15)<<4|u>>2,m[a++]=(u&3)<<6|v&63;return p};n.exports=y}),65839:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ArrayBufferToBase64:r(71334),Base64ToArrayBuffer:r(53134)}}),91799:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Array:r(37105),Base64:r(65839),Objects:r(1183),String:r(31749),NOOP:r(29747),NULL:r(20242)}}),41786:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){var o={};for(var y in r)Array.isArray(r[y])?o[y]=r[y].slice(0):o[y]=r[y];return o};n.exports=T}),62644:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){var o,y,d;if(typeof r!="object"||r===null)return r;o=Array.isArray(r)?[]:{};for(d in r)y=r[d],o[d]=T(y);return o};n.exports=T}),79291:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(41212),y=function(){var d,h,l,a,f,c,u=arguments[0]||{},v=1,p=arguments.length,m=!1;for(typeof u=="boolean"&&(m=u,u=arguments[1]||{},v=2),p===v&&(u=this,--v);v<p;v++)if((d=arguments[v])!=null)for(h in d)l=u[h],a=d[h],u!==a&&(m&&a&&(o(a)||(f=Array.isArray(a)))?(f?(f=!1,c=l&&Array.isArray(l)?l:[]):c=l&&o(l)?l:{},u[h]=y(m,c,a)):a!==void 0&&(u[h]=a));return u};n.exports=y}),23568:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(75508),y=r(35154),d=function(h,l,a){var f=y(h,l,null);if(f===null)return a;if(Array.isArray(f))return o.RND.pick(f);if(typeof f=="object"){if(f.hasOwnProperty("randInt"))return o.RND.integerInRange(f.randInt[0],f.randInt[1]);if(f.hasOwnProperty("randFloat"))return o.RND.realInRange(f.randFloat[0],f.randFloat[1])}else if(typeof f=="function")return f(l);return f};n.exports=d}),95540:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y){var d=typeof r;return!r||d==="number"||d==="string"?y:r.hasOwnProperty(o)&&r[o]!==void 0?r[o]:y};n.exports=T}),82840:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(35154),y=r(45319),d=function(h,l,a,f,c){c===void 0&&(c=a);var u=o(h,l,c);return y(u,a,f)};n.exports=d}),35154:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y,d){if(!r&&!d||typeof r=="number")return y;if(r&&r.hasOwnProperty(o))return r[o];if(d&&d.hasOwnProperty(o))return d[o];if(o.indexOf(".")!==-1){for(var h=o.split("."),l=r,a=d,f=y,c=y,u=!0,v=!0,p=0;p<h.length;p++)l&&l.hasOwnProperty(h[p])?(f=l[h[p]],l=l[h[p]]):u=!1,a&&a.hasOwnProperty(h[p])?(c=a[h[p]],a=a[h[p]]):v=!1;return u?f:v?c:y}else return y};n.exports=T}),69036:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){for(var y=0;y<o.length;y++)if(!r.hasOwnProperty(o[y]))return!1;return!0};n.exports=T}),1985:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){for(var y=0;y<o.length;y++)if(r.hasOwnProperty(o[y]))return!0;return!1};n.exports=T}),97022:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return r.hasOwnProperty(o)};n.exports=T}),41212:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){if(!r||typeof r!="object"||r.nodeType||r===r.window)return!1;try{if(r.constructor&&!{}.hasOwnProperty.call(r.constructor.prototype,"isPrototypeOf"))return!1}catch{return!1}return!0};n.exports=T}),46975:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(41786),y=function(d,h){var l=o(d);for(var a in h)l.hasOwnProperty(a)||(l[a]=h[a]);return l};n.exports=y}),269:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(41786),y=function(d,h){var l=o(d);for(var a in h)l.hasOwnProperty(a)&&(l[a]=h[a]);return l};n.exports=y}),18254:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(97022),y=function(d,h){for(var l={},a=0;a<h.length;a++){var f=h[a];o(d,f)&&(l[f]=d[f])}return l};n.exports=y}),61622:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y){if(!r||typeof r=="number")return!1;if(r.hasOwnProperty(o))return r[o]=y,!0;if(o.indexOf(".")!==-1){for(var d=o.split("."),h=r,l=r,a=0;a<d.length;a++)if(h.hasOwnProperty(d[a]))l=h,h=h[d[a]];else return!1;return l[d[d.length-1]]=y,!0}return!1};n.exports=T}),1183:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Clone:r(41786),DeepCopy:r(62644),Extend:r(79291),GetAdvancedValue:r(23568),GetFastValue:r(95540),GetMinMaxValue:r(82840),GetValue:r(35154),HasAll:r(69036),HasAny:r(1985),HasValue:r(97022),IsPlainObject:r(41212),Merge:r(46975),MergeRight:r(269),Pick:r(18254),SetValue:r(61622)}}),27902:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return r.replace(/%([0-9]+)/g,function(y,d){return o[Number(d)-1]})};n.exports=T}),41836:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,y,d){o===void 0&&(o=0),y===void 0&&(y=" "),d===void 0&&(d=3),r=r.toString();var h=0;if(o+1>=r.length)switch(d){case 1:r=new Array(o+1-r.length).join(y)+r;break;case 3:var l=Math.ceil((h=o-r.length)/2),a=h-l;r=new Array(a+1).join(y)+r+new Array(l+1).join(y);break;default:r=r+new Array(o+1-r.length).join(y);break}return r};n.exports=T}),33628:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return o===0?r.slice(1):r.slice(0,o)+r.slice(o+1)};n.exports=T}),27671:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r.split("").reverse().join("")};n.exports=T}),45650:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){var o=Math.random()*16|0,y=r==="x"?o:o&3|8;return y.toString(16)})};n.exports=T}),35355:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r&&r[0].toUpperCase()+r.slice(1)};n.exports=T}),31749:((n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Format:r(27902),Pad:r(41836),RemoveAt:r(33628),Reverse:r(27671),UppercaseFirst:r(35355),UUID:r(45650)}})},s={};function g(n){var T=s[n];if(T!==void 0)return T.exports;var r=s[n]={exports:{}};return i[n](r,r.exports,g),r.exports}g.g=(function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}})();var E=g(85454);return E})())})(Zy)),Zy.exports}var Jd=U$();const Vp=Up(Jd),hF=500,Ur=class Ur{};Oe(Ur,"IS_DEV",!0),Oe(Ur,"USE_MOCK_CONTROLLER",!1),Oe(Ur,"API_URL","https://api.oracle-hut.ru"),Oe(Ur,"CLIENT_URL"),Oe(Ur,"APP_URL","https://t.me/OracleHutBot/oracle_hut"),Oe(Ur,"PLATFORM","tg"),Oe(Ur,"AMPLITUDE_TOKEN","12010e7e269f8f12db2919b81227ec7b"),Oe(Ur,"APP_UUID","f55d14d2-de23-4e4b-82ba-ca7ab1611a9a"),Oe(Ur,"DEVICE_PIXEL_RATIO",window.devicePixelRatio||1),Oe(Ur,"DISPLAY_WIDTH",window.innerWidth>hF?hF:window.innerWidth*Ur.DEVICE_PIXEL_RATIO),Oe(Ur,"DISPLAY_HEIGHT",window.innerHeight*Ur.DEVICE_PIXEL_RATIO),Oe(Ur,"BACKGROUND_COLOR","#ce8748"),Oe(Ur,"BASE_WIDTH",1080),Oe(Ur,"BASE_HEIGHT",1920),Oe(Ur,"BASE_TIME_VIBRATE",100);let Wi=Ur;const V$="Boot",v5="Preloader",p5="Oracle",z$="Error",g5="oracleBall",m5="logoEpicForgeGames",W$="gladeButton",y5="backButton",x5="shareStoryButton",T5="freeEssenceBtn",C5="balanceBoard",S5="freeBoard",E5="oracleBg",b5="oracleBgBlur",Y$="matchCell",X$="matchCellDark",_P=Wi.DISPLAY_WIDTH*.15,H$=1.145,jy=_P*H$;function Rh(e,t,i){const s=i.value;i.value=async function(...g){const E=`${e.constructor.name}.${t}`;console.log(`Calling method: ${E}`),console.time(`time_${E}`);const n=await s.apply(this,g);return console.timeEnd(`time_${E}`),n}}class $${}function P5(e,t){return function(){return e.apply(t,arguments)}}const{toString:K$}=Object.prototype,{getPrototypeOf:Bw}=Object,{iterator:Ox,toStringTag:w5}=Symbol,Lx=(e=>t=>{const i=K$.call(t);return e[i]||(e[i]=i.slice(8,-1).toLowerCase())})(Object.create(null)),Va=e=>(e=e.toLowerCase(),t=>Lx(t)===e),Dx=e=>t=>typeof t===e,{isArray:Zd}=Array,wp=Dx("undefined");function zp(e){return e!==null&&!wp(e)&&e.constructor!==null&&!wp(e.constructor)&&os(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const M5=Va("ArrayBuffer");function J$(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&M5(e.buffer),t}const Z$=Dx("string"),os=Dx("function"),R5=Dx("number"),Wp=e=>e!==null&&typeof e=="object",j$=e=>e===!0||e===!1,Qy=e=>{if(Lx(e)!=="object")return!1;const t=Bw(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(w5 in e)&&!(Ox in e)},Q$=e=>{if(!Wp(e)||zp(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},q$=Va("Date"),_$=Va("File"),tK=Va("Blob"),eK=Va("FileList"),iK=e=>Wp(e)&&os(e.pipe),rK=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||os(e.append)&&((t=Lx(e))==="formdata"||t==="object"&&os(e.toString)&&e.toString()==="[object FormData]"))},nK=Va("URLSearchParams"),[sK,aK,oK,lK]=["ReadableStream","Request","Response","Headers"].map(Va),hK=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Yp(e,t,{allOwnKeys:i=!1}={}){if(e===null||typeof e>"u")return;let s,g;if(typeof e!="object"&&(e=[e]),Zd(e))for(s=0,g=e.length;s<g;s++)t.call(null,e[s],s,e);else{if(zp(e))return;const E=i?Object.getOwnPropertyNames(e):Object.keys(e),n=E.length;let T;for(s=0;s<n;s++)T=E[s],t.call(null,e[T],T,e)}}function A5(e,t){if(zp(e))return null;t=t.toLowerCase();const i=Object.keys(e);let s=i.length,g;for(;s-- >0;)if(g=i[s],t===g.toLowerCase())return g;return null}const Gu=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,O5=e=>!wp(e)&&e!==Gu;function tw(){const{caseless:e}=O5(this)&&this||{},t={},i=(s,g)=>{const E=e&&A5(t,g)||g;Qy(t[E])&&Qy(s)?t[E]=tw(t[E],s):Qy(s)?t[E]=tw({},s):Zd(s)?t[E]=s.slice():t[E]=s};for(let s=0,g=arguments.length;s<g;s++)arguments[s]&&Yp(arguments[s],i);return t}const uK=(e,t,i,{allOwnKeys:s}={})=>(Yp(t,(g,E)=>{i&&os(g)?e[E]=P5(g,i):e[E]=g},{allOwnKeys:s}),e),fK=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),dK=(e,t,i,s)=>{e.prototype=Object.create(t.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),i&&Object.assign(e.prototype,i)},cK=(e,t,i,s)=>{let g,E,n;const T={};if(t=t||{},e==null)return t;do{for(g=Object.getOwnPropertyNames(e),E=g.length;E-- >0;)n=g[E],(!s||s(n,e,t))&&!T[n]&&(t[n]=e[n],T[n]=!0);e=i!==!1&&Bw(e)}while(e&&(!i||i(e,t))&&e!==Object.prototype);return t},vK=(e,t,i)=>{e=String(e),(i===void 0||i>e.length)&&(i=e.length),i-=t.length;const s=e.indexOf(t,i);return s!==-1&&s===i},pK=e=>{if(!e)return null;if(Zd(e))return e;let t=e.length;if(!R5(t))return null;const i=new Array(t);for(;t-- >0;)i[t]=e[t];return i},gK=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Bw(Uint8Array)),mK=(e,t)=>{const s=(e&&e[Ox]).call(e);let g;for(;(g=s.next())&&!g.done;){const E=g.value;t.call(e,E[0],E[1])}},yK=(e,t)=>{let i;const s=[];for(;(i=e.exec(t))!==null;)s.push(i);return s},xK=Va("HTMLFormElement"),TK=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(i,s,g){return s.toUpperCase()+g}),uF=(({hasOwnProperty:e})=>(t,i)=>e.call(t,i))(Object.prototype),CK=Va("RegExp"),L5=(e,t)=>{const i=Object.getOwnPropertyDescriptors(e),s={};Yp(i,(g,E)=>{let n;(n=t(g,E,e))!==!1&&(s[E]=n||g)}),Object.defineProperties(e,s)},SK=e=>{L5(e,(t,i)=>{if(os(e)&&["arguments","caller","callee"].indexOf(i)!==-1)return!1;const s=e[i];if(os(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")})}})},EK=(e,t)=>{const i={},s=g=>{g.forEach(E=>{i[E]=!0})};return Zd(e)?s(e):s(String(e).split(t)),i},bK=()=>{},PK=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function wK(e){return!!(e&&os(e.append)&&e[w5]==="FormData"&&e[Ox])}const MK=e=>{const t=new Array(10),i=(s,g)=>{if(Wp(s)){if(t.indexOf(s)>=0)return;if(zp(s))return s;if(!("toJSON"in s)){t[g]=s;const E=Zd(s)?[]:{};return Yp(s,(n,T)=>{const r=i(n,g+1);!wp(r)&&(E[T]=r)}),t[g]=void 0,E}}return s};return i(e,0)},RK=Va("AsyncFunction"),AK=e=>e&&(Wp(e)||os(e))&&os(e.then)&&os(e.catch),D5=((e,t)=>e?setImmediate:t?((i,s)=>(Gu.addEventListener("message",({source:g,data:E})=>{g===Gu&&E===i&&s.length&&s.shift()()},!1),g=>{s.push(g),Gu.postMessage(i,"*")}))(`axios@${Math.random()}`,[]):i=>setTimeout(i))(typeof setImmediate=="function",os(Gu.postMessage)),OK=typeof queueMicrotask<"u"?queueMicrotask.bind(Gu):typeof process<"u"&&process.nextTick||D5,LK=e=>e!=null&&os(e[Ox]),wt={isArray:Zd,isArrayBuffer:M5,isBuffer:zp,isFormData:rK,isArrayBufferView:J$,isString:Z$,isNumber:R5,isBoolean:j$,isObject:Wp,isPlainObject:Qy,isEmptyObject:Q$,isReadableStream:sK,isRequest:aK,isResponse:oK,isHeaders:lK,isUndefined:wp,isDate:q$,isFile:_$,isBlob:tK,isRegExp:CK,isFunction:os,isStream:iK,isURLSearchParams:nK,isTypedArray:gK,isFileList:eK,forEach:Yp,merge:tw,extend:uK,trim:hK,stripBOM:fK,inherits:dK,toFlatObject:cK,kindOf:Lx,kindOfTest:Va,endsWith:vK,toArray:pK,forEachEntry:mK,matchAll:yK,isHTMLForm:xK,hasOwnProperty:uF,hasOwnProp:uF,reduceDescriptors:L5,freezeMethods:SK,toObjectSet:EK,toCamelCase:TK,noop:bK,toFiniteNumber:PK,findKey:A5,global:Gu,isContextDefined:O5,isSpecCompliantForm:wK,toJSONObject:MK,isAsyncFn:RK,isThenable:AK,setImmediate:D5,asap:OK,isIterable:LK};function qe(e,t,i,s,g){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),i&&(this.config=i),s&&(this.request=s),g&&(this.response=g,this.status=g.status?g.status:null)}wt.inherits(qe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:wt.toJSONObject(this.config),code:this.code,status:this.status}}});const F5=qe.prototype,I5={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{I5[e]={value:e}});Object.defineProperties(qe,I5);Object.defineProperty(F5,"isAxiosError",{value:!0});qe.from=(e,t,i,s,g,E)=>{const n=Object.create(F5);return wt.toFlatObject(e,n,function(r){return r!==Error.prototype},T=>T!=="isAxiosError"),qe.call(n,e.message,t,i,s,g),n.cause=e,n.name=e.name,E&&Object.assign(n,E),n};const DK=null;function ew(e){return wt.isPlainObject(e)||wt.isArray(e)}function B5(e){return wt.endsWith(e,"[]")?e.slice(0,-2):e}function fF(e,t,i){return e?e.concat(t).map(function(g,E){return g=B5(g),!i&&E?"["+g+"]":g}).join(i?".":""):t}function FK(e){return wt.isArray(e)&&!e.some(ew)}const IK=wt.toFlatObject(wt,{},null,function(t){return/^is[A-Z]/.test(t)});function Fx(e,t,i){if(!wt.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,i=wt.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,function(f,c){return!wt.isUndefined(c[f])});const s=i.metaTokens,g=i.visitor||y,E=i.dots,n=i.indexes,r=(i.Blob||typeof Blob<"u"&&Blob)&&wt.isSpecCompliantForm(t);if(!wt.isFunction(g))throw new TypeError("visitor must be a function");function o(a){if(a===null)return"";if(wt.isDate(a))return a.toISOString();if(wt.isBoolean(a))return a.toString();if(!r&&wt.isBlob(a))throw new qe("Blob is not supported. Use a Buffer instead.");return wt.isArrayBuffer(a)||wt.isTypedArray(a)?r&&typeof Blob=="function"?new Blob([a]):Buffer.from(a):a}function y(a,f,c){let u=a;if(a&&!c&&typeof a=="object"){if(wt.endsWith(f,"{}"))f=s?f:f.slice(0,-2),a=JSON.stringify(a);else if(wt.isArray(a)&&FK(a)||(wt.isFileList(a)||wt.endsWith(f,"[]"))&&(u=wt.toArray(a)))return f=B5(f),u.forEach(function(p,m){!(wt.isUndefined(p)||p===null)&&t.append(n===!0?fF([f],m,E):n===null?f:f+"[]",o(p))}),!1}return ew(a)?!0:(t.append(fF(c,f,E),o(a)),!1)}const d=[],h=Object.assign(IK,{defaultVisitor:y,convertValue:o,isVisitable:ew});function l(a,f){if(!wt.isUndefined(a)){if(d.indexOf(a)!==-1)throw Error("Circular reference detected in "+f.join("."));d.push(a),wt.forEach(a,function(u,v){(!(wt.isUndefined(u)||u===null)&&g.call(t,u,wt.isString(v)?v.trim():v,f,h))===!0&&l(u,f?f.concat(v):[v])}),d.pop()}}if(!wt.isObject(e))throw new TypeError("data must be an object");return l(e),t}function dF(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return t[s]})}function Gw(e,t){this._pairs=[],e&&Fx(e,this,t)}const G5=Gw.prototype;G5.append=function(t,i){this._pairs.push([t,i])};G5.toString=function(t){const i=t?function(s){return t.call(this,s,dF)}:dF;return this._pairs.map(function(g){return i(g[0])+"="+i(g[1])},"").join("&")};function BK(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function k5(e,t,i){if(!t)return e;const s=i&&i.encode||BK;wt.isFunction(i)&&(i={serialize:i});const g=i&&i.serialize;let E;if(g?E=g(t,i):E=wt.isURLSearchParams(t)?t.toString():new Gw(t,i).toString(s),E){const n=e.indexOf("#");n!==-1&&(e=e.slice(0,n)),e+=(e.indexOf("?")===-1?"?":"&")+E}return e}class cF{constructor(){this.handlers=[]}use(t,i,s){return this.handlers.push({fulfilled:t,rejected:i,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){wt.forEach(this.handlers,function(s){s!==null&&t(s)})}}const N5={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},GK=typeof URLSearchParams<"u"?URLSearchParams:Gw,kK=typeof FormData<"u"?FormData:null,NK=typeof Blob<"u"?Blob:null,UK={isBrowser:!0,classes:{URLSearchParams:GK,FormData:kK,Blob:NK},protocols:["http","https","file","blob","url","data"]},kw=typeof window<"u"&&typeof document<"u",iw=typeof navigator=="object"&&navigator||void 0,VK=kw&&(!iw||["ReactNative","NativeScript","NS"].indexOf(iw.product)<0),zK=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",WK=kw&&window.location.href||"http://localhost",YK=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:kw,hasStandardBrowserEnv:VK,hasStandardBrowserWebWorkerEnv:zK,navigator:iw,origin:WK},Symbol.toStringTag,{value:"Module"})),wn={...YK,...UK};function XK(e,t){return Fx(e,new wn.classes.URLSearchParams,{visitor:function(i,s,g,E){return wn.isNode&&wt.isBuffer(i)?(this.append(s,i.toString("base64")),!1):E.defaultVisitor.apply(this,arguments)},...t})}function HK(e){return wt.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function $K(e){const t={},i=Object.keys(e);let s;const g=i.length;let E;for(s=0;s<g;s++)E=i[s],t[E]=e[E];return t}function U5(e){function t(i,s,g,E){let n=i[E++];if(n==="__proto__")return!0;const T=Number.isFinite(+n),r=E>=i.length;return n=!n&&wt.isArray(g)?g.length:n,r?(wt.hasOwnProp(g,n)?g[n]=[g[n],s]:g[n]=s,!T):((!g[n]||!wt.isObject(g[n]))&&(g[n]=[]),t(i,s,g[n],E)&&wt.isArray(g[n])&&(g[n]=$K(g[n])),!T)}if(wt.isFormData(e)&&wt.isFunction(e.entries)){const i={};return wt.forEachEntry(e,(s,g)=>{t(HK(s),g,i,0)}),i}return null}function KK(e,t,i){if(wt.isString(e))try{return(t||JSON.parse)(e),wt.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(i||JSON.stringify)(e)}const Xp={transitional:N5,adapter:["xhr","http","fetch"],transformRequest:[function(t,i){const s=i.getContentType()||"",g=s.indexOf("application/json")>-1,E=wt.isObject(t);if(E&&wt.isHTMLForm(t)&&(t=new FormData(t)),wt.isFormData(t))return g?JSON.stringify(U5(t)):t;if(wt.isArrayBuffer(t)||wt.isBuffer(t)||wt.isStream(t)||wt.isFile(t)||wt.isBlob(t)||wt.isReadableStream(t))return t;if(wt.isArrayBufferView(t))return t.buffer;if(wt.isURLSearchParams(t))return i.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let T;if(E){if(s.indexOf("application/x-www-form-urlencoded")>-1)return XK(t,this.formSerializer).toString();if((T=wt.isFileList(t))||s.indexOf("multipart/form-data")>-1){const r=this.env&&this.env.FormData;return Fx(T?{"files[]":t}:t,r&&new r,this.formSerializer)}}return E||g?(i.setContentType("application/json",!1),KK(t)):t}],transformResponse:[function(t){const i=this.transitional||Xp.transitional,s=i&&i.forcedJSONParsing,g=this.responseType==="json";if(wt.isResponse(t)||wt.isReadableStream(t))return t;if(t&&wt.isString(t)&&(s&&!this.responseType||g)){const n=!(i&&i.silentJSONParsing)&&g;try{return JSON.parse(t)}catch(T){if(n)throw T.name==="SyntaxError"?qe.from(T,qe.ERR_BAD_RESPONSE,this,null,this.response):T}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:wn.classes.FormData,Blob:wn.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};wt.forEach(["delete","get","head","post","put","patch"],e=>{Xp.headers[e]={}});const JK=wt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ZK=e=>{const t={};let i,s,g;return e&&e.split(`
`).forEach(function(n){g=n.indexOf(":"),i=n.substring(0,g).trim().toLowerCase(),s=n.substring(g+1).trim(),!(!i||t[i]&&JK[i])&&(i==="set-cookie"?t[i]?t[i].push(s):t[i]=[s]:t[i]=t[i]?t[i]+", "+s:s)}),t},vF=Symbol("internals");function Nv(e){return e&&String(e).trim().toLowerCase()}function qy(e){return e===!1||e==null?e:wt.isArray(e)?e.map(qy):String(e)}function jK(e){const t=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=i.exec(e);)t[s[1]]=s[2];return t}const QK=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function tb(e,t,i,s,g){if(wt.isFunction(s))return s.call(this,t,i);if(g&&(t=i),!!wt.isString(t)){if(wt.isString(s))return t.indexOf(s)!==-1;if(wt.isRegExp(s))return s.test(t)}}function qK(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,i,s)=>i.toUpperCase()+s)}function _K(e,t){const i=wt.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+i,{value:function(g,E,n){return this[s].call(this,t,g,E,n)},configurable:!0})})}let ls=class{constructor(t){t&&this.set(t)}set(t,i,s){const g=this;function E(T,r,o){const y=Nv(r);if(!y)throw new Error("header name must be a non-empty string");const d=wt.findKey(g,y);(!d||g[d]===void 0||o===!0||o===void 0&&g[d]!==!1)&&(g[d||r]=qy(T))}const n=(T,r)=>wt.forEach(T,(o,y)=>E(o,y,r));if(wt.isPlainObject(t)||t instanceof this.constructor)n(t,i);else if(wt.isString(t)&&(t=t.trim())&&!QK(t))n(ZK(t),i);else if(wt.isObject(t)&&wt.isIterable(t)){let T={},r,o;for(const y of t){if(!wt.isArray(y))throw TypeError("Object iterator must return a key-value pair");T[o=y[0]]=(r=T[o])?wt.isArray(r)?[...r,y[1]]:[r,y[1]]:y[1]}n(T,i)}else t!=null&&E(i,t,s);return this}get(t,i){if(t=Nv(t),t){const s=wt.findKey(this,t);if(s){const g=this[s];if(!i)return g;if(i===!0)return jK(g);if(wt.isFunction(i))return i.call(this,g,s);if(wt.isRegExp(i))return i.exec(g);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,i){if(t=Nv(t),t){const s=wt.findKey(this,t);return!!(s&&this[s]!==void 0&&(!i||tb(this,this[s],s,i)))}return!1}delete(t,i){const s=this;let g=!1;function E(n){if(n=Nv(n),n){const T=wt.findKey(s,n);T&&(!i||tb(s,s[T],T,i))&&(delete s[T],g=!0)}}return wt.isArray(t)?t.forEach(E):E(t),g}clear(t){const i=Object.keys(this);let s=i.length,g=!1;for(;s--;){const E=i[s];(!t||tb(this,this[E],E,t,!0))&&(delete this[E],g=!0)}return g}normalize(t){const i=this,s={};return wt.forEach(this,(g,E)=>{const n=wt.findKey(s,E);if(n){i[n]=qy(g),delete i[E];return}const T=t?qK(E):String(E).trim();T!==E&&delete i[E],i[T]=qy(g),s[T]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const i=Object.create(null);return wt.forEach(this,(s,g)=>{s!=null&&s!==!1&&(i[g]=t&&wt.isArray(s)?s.join(", "):s)}),i}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,i])=>t+": "+i).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...i){const s=new this(t);return i.forEach(g=>s.set(g)),s}static accessor(t){const s=(this[vF]=this[vF]={accessors:{}}).accessors,g=this.prototype;function E(n){const T=Nv(n);s[T]||(_K(g,n),s[T]=!0)}return wt.isArray(t)?t.forEach(E):E(t),this}};ls.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);wt.reduceDescriptors(ls.prototype,({value:e},t)=>{let i=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(s){this[i]=s}}});wt.freezeMethods(ls);function eb(e,t){const i=this||Xp,s=t||i,g=ls.from(s.headers);let E=s.data;return wt.forEach(e,function(T){E=T.call(i,E,g.normalize(),t?t.status:void 0)}),g.normalize(),E}function V5(e){return!!(e&&e.__CANCEL__)}function jd(e,t,i){qe.call(this,e??"canceled",qe.ERR_CANCELED,t,i),this.name="CanceledError"}wt.inherits(jd,qe,{__CANCEL__:!0});function z5(e,t,i){const s=i.config.validateStatus;!i.status||!s||s(i.status)?e(i):t(new qe("Request failed with status code "+i.status,[qe.ERR_BAD_REQUEST,qe.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))}function tJ(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function eJ(e,t){e=e||10;const i=new Array(e),s=new Array(e);let g=0,E=0,n;return t=t!==void 0?t:1e3,function(r){const o=Date.now(),y=s[E];n||(n=o),i[g]=r,s[g]=o;let d=E,h=0;for(;d!==g;)h+=i[d++],d=d%e;if(g=(g+1)%e,g===E&&(E=(E+1)%e),o-n<t)return;const l=y&&o-y;return l?Math.round(h*1e3/l):void 0}}function iJ(e,t){let i=0,s=1e3/t,g,E;const n=(o,y=Date.now())=>{i=y,g=null,E&&(clearTimeout(E),E=null),e(...o)};return[(...o)=>{const y=Date.now(),d=y-i;d>=s?n(o,y):(g=o,E||(E=setTimeout(()=>{E=null,n(g)},s-d)))},()=>g&&n(g)]}const fx=(e,t,i=3)=>{let s=0;const g=eJ(50,250);return iJ(E=>{const n=E.loaded,T=E.lengthComputable?E.total:void 0,r=n-s,o=g(r),y=n<=T;s=n;const d={loaded:n,total:T,progress:T?n/T:void 0,bytes:r,rate:o||void 0,estimated:o&&T&&y?(T-n)/o:void 0,event:E,lengthComputable:T!=null,[t?"download":"upload"]:!0};e(d)},i)},pF=(e,t)=>{const i=e!=null;return[s=>t[0]({lengthComputable:i,total:e,loaded:s}),t[1]]},gF=e=>(...t)=>wt.asap(()=>e(...t)),rJ=wn.hasStandardBrowserEnv?((e,t)=>i=>(i=new URL(i,wn.origin),e.protocol===i.protocol&&e.host===i.host&&(t||e.port===i.port)))(new URL(wn.origin),wn.navigator&&/(msie|trident)/i.test(wn.navigator.userAgent)):()=>!0,nJ=wn.hasStandardBrowserEnv?{write(e,t,i,s,g,E){const n=[e+"="+encodeURIComponent(t)];wt.isNumber(i)&&n.push("expires="+new Date(i).toGMTString()),wt.isString(s)&&n.push("path="+s),wt.isString(g)&&n.push("domain="+g),E===!0&&n.push("secure"),document.cookie=n.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function sJ(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function aJ(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function W5(e,t,i){let s=!sJ(t);return e&&(s||i==!1)?aJ(e,t):t}const mF=e=>e instanceof ls?{...e}:e;function Yu(e,t){t=t||{};const i={};function s(o,y,d,h){return wt.isPlainObject(o)&&wt.isPlainObject(y)?wt.merge.call({caseless:h},o,y):wt.isPlainObject(y)?wt.merge({},y):wt.isArray(y)?y.slice():y}function g(o,y,d,h){if(wt.isUndefined(y)){if(!wt.isUndefined(o))return s(void 0,o,d,h)}else return s(o,y,d,h)}function E(o,y){if(!wt.isUndefined(y))return s(void 0,y)}function n(o,y){if(wt.isUndefined(y)){if(!wt.isUndefined(o))return s(void 0,o)}else return s(void 0,y)}function T(o,y,d){if(d in t)return s(o,y);if(d in e)return s(void 0,o)}const r={url:E,method:E,data:E,baseURL:n,transformRequest:n,transformResponse:n,paramsSerializer:n,timeout:n,timeoutMessage:n,withCredentials:n,withXSRFToken:n,adapter:n,responseType:n,xsrfCookieName:n,xsrfHeaderName:n,onUploadProgress:n,onDownloadProgress:n,decompress:n,maxContentLength:n,maxBodyLength:n,beforeRedirect:n,transport:n,httpAgent:n,httpsAgent:n,cancelToken:n,socketPath:n,responseEncoding:n,validateStatus:T,headers:(o,y,d)=>g(mF(o),mF(y),d,!0)};return wt.forEach(Object.keys({...e,...t}),function(y){const d=r[y]||g,h=d(e[y],t[y],y);wt.isUndefined(h)&&d!==T||(i[y]=h)}),i}const Y5=e=>{const t=Yu({},e);let{data:i,withXSRFToken:s,xsrfHeaderName:g,xsrfCookieName:E,headers:n,auth:T}=t;t.headers=n=ls.from(n),t.url=k5(W5(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),T&&n.set("Authorization","Basic "+btoa((T.username||"")+":"+(T.password?unescape(encodeURIComponent(T.password)):"")));let r;if(wt.isFormData(i)){if(wn.hasStandardBrowserEnv||wn.hasStandardBrowserWebWorkerEnv)n.setContentType(void 0);else if((r=n.getContentType())!==!1){const[o,...y]=r?r.split(";").map(d=>d.trim()).filter(Boolean):[];n.setContentType([o||"multipart/form-data",...y].join("; "))}}if(wn.hasStandardBrowserEnv&&(s&&wt.isFunction(s)&&(s=s(t)),s||s!==!1&&rJ(t.url))){const o=g&&E&&nJ.read(E);o&&n.set(g,o)}return t},oJ=typeof XMLHttpRequest<"u",lJ=oJ&&function(e){return new Promise(function(i,s){const g=Y5(e);let E=g.data;const n=ls.from(g.headers).normalize();let{responseType:T,onUploadProgress:r,onDownloadProgress:o}=g,y,d,h,l,a;function f(){l&&l(),a&&a(),g.cancelToken&&g.cancelToken.unsubscribe(y),g.signal&&g.signal.removeEventListener("abort",y)}let c=new XMLHttpRequest;c.open(g.method.toUpperCase(),g.url,!0),c.timeout=g.timeout;function u(){if(!c)return;const p=ls.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders()),x={data:!T||T==="text"||T==="json"?c.responseText:c.response,status:c.status,statusText:c.statusText,headers:p,config:e,request:c};z5(function(P){i(P),f()},function(P){s(P),f()},x),c=null}"onloadend"in c?c.onloadend=u:c.onreadystatechange=function(){!c||c.readyState!==4||c.status===0&&!(c.responseURL&&c.responseURL.indexOf("file:")===0)||setTimeout(u)},c.onabort=function(){c&&(s(new qe("Request aborted",qe.ECONNABORTED,e,c)),c=null)},c.onerror=function(){s(new qe("Network Error",qe.ERR_NETWORK,e,c)),c=null},c.ontimeout=function(){let m=g.timeout?"timeout of "+g.timeout+"ms exceeded":"timeout exceeded";const x=g.transitional||N5;g.timeoutErrorMessage&&(m=g.timeoutErrorMessage),s(new qe(m,x.clarifyTimeoutError?qe.ETIMEDOUT:qe.ECONNABORTED,e,c)),c=null},E===void 0&&n.setContentType(null),"setRequestHeader"in c&&wt.forEach(n.toJSON(),function(m,x){c.setRequestHeader(x,m)}),wt.isUndefined(g.withCredentials)||(c.withCredentials=!!g.withCredentials),T&&T!=="json"&&(c.responseType=g.responseType),o&&([h,a]=fx(o,!0),c.addEventListener("progress",h)),r&&c.upload&&([d,l]=fx(r),c.upload.addEventListener("progress",d),c.upload.addEventListener("loadend",l)),(g.cancelToken||g.signal)&&(y=p=>{c&&(s(!p||p.type?new jd(null,e,c):p),c.abort(),c=null)},g.cancelToken&&g.cancelToken.subscribe(y),g.signal&&(g.signal.aborted?y():g.signal.addEventListener("abort",y)));const v=tJ(g.url);if(v&&wn.protocols.indexOf(v)===-1){s(new qe("Unsupported protocol "+v+":",qe.ERR_BAD_REQUEST,e));return}c.send(E||null)})},hJ=(e,t)=>{const{length:i}=e=e?e.filter(Boolean):[];if(t||i){let s=new AbortController,g;const E=function(o){if(!g){g=!0,T();const y=o instanceof Error?o:this.reason;s.abort(y instanceof qe?y:new jd(y instanceof Error?y.message:y))}};let n=t&&setTimeout(()=>{n=null,E(new qe(`timeout ${t} of ms exceeded`,qe.ETIMEDOUT))},t);const T=()=>{e&&(n&&clearTimeout(n),n=null,e.forEach(o=>{o.unsubscribe?o.unsubscribe(E):o.removeEventListener("abort",E)}),e=null)};e.forEach(o=>o.addEventListener("abort",E));const{signal:r}=s;return r.unsubscribe=()=>wt.asap(T),r}},uJ=function*(e,t){let i=e.byteLength;if(i<t){yield e;return}let s=0,g;for(;s<i;)g=s+t,yield e.slice(s,g),s=g},fJ=async function*(e,t){for await(const i of dJ(e))yield*uJ(i,t)},dJ=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:i,value:s}=await t.read();if(i)break;yield s}}finally{await t.cancel()}},yF=(e,t,i,s)=>{const g=fJ(e,t);let E=0,n,T=r=>{n||(n=!0,s&&s(r))};return new ReadableStream({async pull(r){try{const{done:o,value:y}=await g.next();if(o){T(),r.close();return}let d=y.byteLength;if(i){let h=E+=d;i(h)}r.enqueue(new Uint8Array(y))}catch(o){throw T(o),o}},cancel(r){return T(r),g.return()}},{highWaterMark:2})},Ix=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",X5=Ix&&typeof ReadableStream=="function",cJ=Ix&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),H5=(e,...t)=>{try{return!!e(...t)}catch{return!1}},vJ=X5&&H5(()=>{let e=!1;const t=new Request(wn.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),xF=64*1024,rw=X5&&H5(()=>wt.isReadableStream(new Response("").body)),dx={stream:rw&&(e=>e.body)};Ix&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!dx[t]&&(dx[t]=wt.isFunction(e[t])?i=>i[t]():(i,s)=>{throw new qe(`Response type '${t}' is not supported`,qe.ERR_NOT_SUPPORT,s)})})})(new Response);const pJ=async e=>{if(e==null)return 0;if(wt.isBlob(e))return e.size;if(wt.isSpecCompliantForm(e))return(await new Request(wn.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(wt.isArrayBufferView(e)||wt.isArrayBuffer(e))return e.byteLength;if(wt.isURLSearchParams(e)&&(e=e+""),wt.isString(e))return(await cJ(e)).byteLength},gJ=async(e,t)=>{const i=wt.toFiniteNumber(e.getContentLength());return i??pJ(t)},mJ=Ix&&(async e=>{let{url:t,method:i,data:s,signal:g,cancelToken:E,timeout:n,onDownloadProgress:T,onUploadProgress:r,responseType:o,headers:y,withCredentials:d="same-origin",fetchOptions:h}=Y5(e);o=o?(o+"").toLowerCase():"text";let l=hJ([g,E&&E.toAbortSignal()],n),a;const f=l&&l.unsubscribe&&(()=>{l.unsubscribe()});let c;try{if(r&&vJ&&i!=="get"&&i!=="head"&&(c=await gJ(y,s))!==0){let x=new Request(t,{method:"POST",body:s,duplex:"half"}),C;if(wt.isFormData(s)&&(C=x.headers.get("content-type"))&&y.setContentType(C),x.body){const[P,w]=pF(c,fx(gF(r)));s=yF(x.body,xF,P,w)}}wt.isString(d)||(d=d?"include":"omit");const u="credentials"in Request.prototype;a=new Request(t,{...h,signal:l,method:i.toUpperCase(),headers:y.normalize().toJSON(),body:s,duplex:"half",credentials:u?d:void 0});let v=await fetch(a,h);const p=rw&&(o==="stream"||o==="response");if(rw&&(T||p&&f)){const x={};["status","statusText","headers"].forEach(M=>{x[M]=v[M]});const C=wt.toFiniteNumber(v.headers.get("content-length")),[P,w]=T&&pF(C,fx(gF(T),!0))||[];v=new Response(yF(v.body,xF,P,()=>{w&&w(),f&&f()}),x)}o=o||"text";let m=await dx[wt.findKey(dx,o)||"text"](v,e);return!p&&f&&f(),await new Promise((x,C)=>{z5(x,C,{data:m,headers:ls.from(v.headers),status:v.status,statusText:v.statusText,config:e,request:a})})}catch(u){throw f&&f(),u&&u.name==="TypeError"&&/Load failed|fetch/i.test(u.message)?Object.assign(new qe("Network Error",qe.ERR_NETWORK,e,a),{cause:u.cause||u}):qe.from(u,u&&u.code,e,a)}}),nw={http:DK,xhr:lJ,fetch:mJ};wt.forEach(nw,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const TF=e=>`- ${e}`,yJ=e=>wt.isFunction(e)||e===null||e===!1,$5={getAdapter:e=>{e=wt.isArray(e)?e:[e];const{length:t}=e;let i,s;const g={};for(let E=0;E<t;E++){i=e[E];let n;if(s=i,!yJ(i)&&(s=nw[(n=String(i)).toLowerCase()],s===void 0))throw new qe(`Unknown adapter '${n}'`);if(s)break;g[n||"#"+E]=s}if(!s){const E=Object.entries(g).map(([T,r])=>`adapter ${T} `+(r===!1?"is not supported by the environment":"is not available in the build"));let n=t?E.length>1?`since :
`+E.map(TF).join(`
`):" "+TF(E[0]):"as no adapter specified";throw new qe("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return s},adapters:nw};function ib(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new jd(null,e)}function CF(e){return ib(e),e.headers=ls.from(e.headers),e.data=eb.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),$5.getAdapter(e.adapter||Xp.adapter)(e).then(function(s){return ib(e),s.data=eb.call(e,e.transformResponse,s),s.headers=ls.from(s.headers),s},function(s){return V5(s)||(ib(e),s&&s.response&&(s.response.data=eb.call(e,e.transformResponse,s.response),s.response.headers=ls.from(s.response.headers))),Promise.reject(s)})}const K5="1.11.0",Bx={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Bx[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});const SF={};Bx.transitional=function(t,i,s){function g(E,n){return"[Axios v"+K5+"] Transitional option '"+E+"'"+n+(s?". "+s:"")}return(E,n,T)=>{if(t===!1)throw new qe(g(n," has been removed"+(i?" in "+i:"")),qe.ERR_DEPRECATED);return i&&!SF[n]&&(SF[n]=!0,console.warn(g(n," has been deprecated since v"+i+" and will be removed in the near future"))),t?t(E,n,T):!0}};Bx.spelling=function(t){return(i,s)=>(console.warn(`${s} is likely a misspelling of ${t}`),!0)};function xJ(e,t,i){if(typeof e!="object")throw new qe("options must be an object",qe.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let g=s.length;for(;g-- >0;){const E=s[g],n=t[E];if(n){const T=e[E],r=T===void 0||n(T,E,e);if(r!==!0)throw new qe("option "+E+" must be "+r,qe.ERR_BAD_OPTION_VALUE);continue}if(i!==!0)throw new qe("Unknown option "+E,qe.ERR_BAD_OPTION)}}const _y={assertOptions:xJ,validators:Bx},oo=_y.validators;let Vu=class{constructor(t){this.defaults=t||{},this.interceptors={request:new cF,response:new cF}}async request(t,i){try{return await this._request(t,i)}catch(s){if(s instanceof Error){let g={};Error.captureStackTrace?Error.captureStackTrace(g):g=new Error;const E=g.stack?g.stack.replace(/^.+\n/,""):"";try{s.stack?E&&!String(s.stack).endsWith(E.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+E):s.stack=E}catch{}}throw s}}_request(t,i){typeof t=="string"?(i=i||{},i.url=t):i=t||{},i=Yu(this.defaults,i);const{transitional:s,paramsSerializer:g,headers:E}=i;s!==void 0&&_y.assertOptions(s,{silentJSONParsing:oo.transitional(oo.boolean),forcedJSONParsing:oo.transitional(oo.boolean),clarifyTimeoutError:oo.transitional(oo.boolean)},!1),g!=null&&(wt.isFunction(g)?i.paramsSerializer={serialize:g}:_y.assertOptions(g,{encode:oo.function,serialize:oo.function},!0)),i.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?i.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:i.allowAbsoluteUrls=!0),_y.assertOptions(i,{baseUrl:oo.spelling("baseURL"),withXsrfToken:oo.spelling("withXSRFToken")},!0),i.method=(i.method||this.defaults.method||"get").toLowerCase();let n=E&&wt.merge(E.common,E[i.method]);E&&wt.forEach(["delete","get","head","post","put","patch","common"],a=>{delete E[a]}),i.headers=ls.concat(n,E);const T=[];let r=!0;this.interceptors.request.forEach(function(f){typeof f.runWhen=="function"&&f.runWhen(i)===!1||(r=r&&f.synchronous,T.unshift(f.fulfilled,f.rejected))});const o=[];this.interceptors.response.forEach(function(f){o.push(f.fulfilled,f.rejected)});let y,d=0,h;if(!r){const a=[CF.bind(this),void 0];for(a.unshift(...T),a.push(...o),h=a.length,y=Promise.resolve(i);d<h;)y=y.then(a[d++],a[d++]);return y}h=T.length;let l=i;for(d=0;d<h;){const a=T[d++],f=T[d++];try{l=a(l)}catch(c){f.call(this,c);break}}try{y=CF.call(this,l)}catch(a){return Promise.reject(a)}for(d=0,h=o.length;d<h;)y=y.then(o[d++],o[d++]);return y}getUri(t){t=Yu(this.defaults,t);const i=W5(t.baseURL,t.url,t.allowAbsoluteUrls);return k5(i,t.params,t.paramsSerializer)}};wt.forEach(["delete","get","head","options"],function(t){Vu.prototype[t]=function(i,s){return this.request(Yu(s||{},{method:t,url:i,data:(s||{}).data}))}});wt.forEach(["post","put","patch"],function(t){function i(s){return function(E,n,T){return this.request(Yu(T||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:E,data:n}))}}Vu.prototype[t]=i(),Vu.prototype[t+"Form"]=i(!0)});let TJ=class J5{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let i;this.promise=new Promise(function(E){i=E});const s=this;this.promise.then(g=>{if(!s._listeners)return;let E=s._listeners.length;for(;E-- >0;)s._listeners[E](g);s._listeners=null}),this.promise.then=g=>{let E;const n=new Promise(T=>{s.subscribe(T),E=T}).then(g);return n.cancel=function(){s.unsubscribe(E)},n},t(function(E,n,T){s.reason||(s.reason=new jd(E,n,T),i(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const i=this._listeners.indexOf(t);i!==-1&&this._listeners.splice(i,1)}toAbortSignal(){const t=new AbortController,i=s=>{t.abort(s)};return this.subscribe(i),t.signal.unsubscribe=()=>this.unsubscribe(i),t.signal}static source(){let t;return{token:new J5(function(g){t=g}),cancel:t}}};function CJ(e){return function(i){return e.apply(null,i)}}function SJ(e){return wt.isObject(e)&&e.isAxiosError===!0}const sw={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(sw).forEach(([e,t])=>{sw[t]=e});function Z5(e){const t=new Vu(e),i=P5(Vu.prototype.request,t);return wt.extend(i,Vu.prototype,t,{allOwnKeys:!0}),wt.extend(i,t,null,{allOwnKeys:!0}),i.create=function(g){return Z5(Yu(e,g))},i}const gr=Z5(Xp);gr.Axios=Vu;gr.CanceledError=jd;gr.CancelToken=TJ;gr.isCancel=V5;gr.VERSION=K5;gr.toFormData=Fx;gr.AxiosError=qe;gr.Cancel=gr.CanceledError;gr.all=function(t){return Promise.all(t)};gr.spread=CJ;gr.isAxiosError=SJ;gr.mergeConfig=Yu;gr.AxiosHeaders=ls;gr.formToJSON=e=>U5(wt.isHTMLForm(e)?new FormData(e):e);gr.getAdapter=$5.getAdapter;gr.HttpStatusCode=sw;gr.default=gr;const{Axios:aMt,AxiosError:oMt,CanceledError:lMt,isCancel:hMt,CancelToken:uMt,VERSION:fMt,all:dMt,Cancel:cMt,isAxiosError:vMt,spread:pMt,toFormData:gMt,AxiosHeaders:mMt,HttpStatusCode:yMt,formToJSON:xMt,getAdapter:TMt,mergeConfig:CMt}=gr;class EJ{}var R0={},Uv={},EF={},bF;function bJ(){return bF||(bF=1,(function(){var e={},t="";try{t=location.hash.toString()}catch{}var i=r(t),s=u("initParams");if(s)for(var g in s)typeof i[g]>"u"&&(i[g]=s[g]);c("initParams",i);var E=!1,n;try{if(E=window.parent!=null&&window!=window.parent,E){window.addEventListener("message",function(v){if(v.source===window.parent){try{var p=JSON.parse(v.data)}catch{return}if(!(!p||!p.eventType))if(p.eventType=="set_custom_style")v.origin==="https://web.telegram.org"&&(n.innerHTML=p.eventData);else if(p.eventType=="reload_iframe"){try{window.parent.postMessage(JSON.stringify({eventType:"iframe_will_reload"}),"*")}catch{}location.reload()}else h(p.eventType,p.eventData)}}),n=document.createElement("style"),document.head.appendChild(n);try{window.parent.postMessage(JSON.stringify({eventType:"iframe_ready",eventData:{reload_supported:!0}}),"*")}catch{}}}catch{}function T(v){try{return v=v.replace(/\+/g,"%20"),decodeURIComponent(v)}catch{return v}}function r(v){v=v.replace(/^#/,"");var p={};if(!v.length)return p;if(v.indexOf("=")<0&&v.indexOf("?")<0)return p._path=T(v),p;var m=v.indexOf("?");if(m>=0){var x=v.substr(0,m);p._path=T(x),v=v.substr(m+1)}var C=o(v);for(var P in C)p[P]=C[P];return p}function o(v){var p={};if(!v.length)return p;var m=v.split("&"),x,C,P,w;for(x=0;x<m.length;x++)C=m[x].split("="),P=T(C[0]),w=C[1]==null?null:T(C[1]),p[P]=w;return p}function y(v,p){var m=v.indexOf("#");if(m<0)return v+"#"+p;var x=v.substr(m+1);return x.indexOf("=")>=0||x.indexOf("?")>=0?v+"&"+p:x.length>0?v+"?"+p:v+p}function d(v,p,m){if(p||(p=function(){}),m===void 0&&(m=""),console.log("[Telegram.WebView] > postEvent",v,m),window.TelegramWebviewProxy!==void 0)TelegramWebviewProxy.postEvent(v,JSON.stringify(m)),p();else if(window.external&&"notify"in window.external)window.external.notify(JSON.stringify({eventType:v,eventData:m})),p();else if(E)try{var x="https://web.telegram.org";x="*",window.parent.postMessage(JSON.stringify({eventType:v,eventData:m}),x),p()}catch(C){p(C)}else p({notAvailable:!0})}function h(v,p){console.log("[Telegram.WebView] < receiveEvent",v,p),l(v,function(m){m(v,p)})}function l(v,p){var m=e[v];if(!(m===void 0||!m.length))for(var x=0;x<m.length;x++)try{p(m[x])}catch{}}function a(v,p){e[v]===void 0&&(e[v]=[]);var m=e[v].indexOf(p);m===-1&&e[v].push(p)}function f(v,p){if(e[v]!==void 0){var m=e[v].indexOf(p);m!==-1&&e[v].splice(m,1)}}function c(v,p){try{return window.sessionStorage.setItem("__telegram__"+v,JSON.stringify(p)),!0}catch{}return!1}function u(v){try{return JSON.parse(window.sessionStorage.getItem("__telegram__"+v))}catch{}return null}window.Telegram||(window.Telegram={}),window.Telegram.WebView={initParams:i,isIframe:E,onEvent:a,offEvent:f,postEvent:d,receiveEvent:h,callEventCallbacks:l},window.Telegram.Utils={urlSafeDecode:T,urlParseQueryString:o,urlParseHashParams:r,urlAppendHashParams:y,sessionStorageSet:c,sessionStorageGet:u},window.TelegramGameProxy_receiveEvent=h,window.TelegramGameProxy={receiveEvent:h}})(),(function(){var e=window.Telegram.Utils,t=window.Telegram.WebView,i=t.initParams,s=t.isIframe,g={},E="",n={},T={},r="light",o="6.0",y="unknown",d=!0,h=!1,l=!1,a="bg_color",f="bg_color",c=null;if(i.tgWebAppData&&i.tgWebAppData.length){E=i.tgWebAppData,n=e.urlParseQueryString(E);for(var u in n){var v=n[u];try{(v.substr(0,1)=="{"&&v.substr(-1)=="}"||v.substr(0,1)=="["&&v.substr(-1)=="]")&&(n[u]=JSON.parse(v))}catch{}}}var p=e.sessionStorageGet("themeParams");if(i.tgWebAppThemeParams&&i.tgWebAppThemeParams.length){var m=i.tgWebAppThemeParams;try{var x=JSON.parse(m);x&&V(x)}catch{}}p&&V(p);var C=e.sessionStorageGet("defaultColors");if(i.tgWebAppDefaultColors&&i.tgWebAppDefaultColors.length){var P=i.tgWebAppDefaultColors;try{var w=JSON.parse(P);w&&K(w)}catch{}}C&&K(C),i.tgWebAppVersion&&(o=i.tgWebAppVersion),i.tgWebAppPlatform&&(y=i.tgWebAppPlatform);var M=e.sessionStorageGet("isFullscreen");i.tgWebAppFullscreen&&$(!0),M&&$(M=="yes");var R=e.sessionStorageGet("isOrientationLocked");R&&z(R=="yes");function A(st,lt){lt.theme_params&&(V(lt.theme_params),window.Telegram.WebApp.MainButton.setParams({}),window.Telegram.WebApp.SecondaryButton.setParams({}),fi(),fs(),ha(),X("themeChanged"))}var L=window.innerHeight;function F(st,lt){lt.height&&(window.removeEventListener("resize",G),ft(lt))}function G(st){L!=window.innerHeight&&(L=window.innerHeight,X("viewportChanged",{isStateStable:!0}))}function I(st,lt){lt&&gt(lt)}function B(st,lt){lt&&Mt(lt)}function k(st,lt){lt.is_visible?(d=!0,X("activated")):(d=!1,X("deactivated"))}function U(st){if(!(st.metaKey||st.ctrlKey)){for(var lt=st.target;lt.tagName!="A"&&lt.parentNode;)lt=lt.parentNode;lt.tagName=="A"&&lt.target!="_blank"&&(lt.protocol=="http:"||lt.protocol=="https:")&&lt.hostname=="t.me"&&(g.openTgLink(lt.href),st.preventDefault())}}function H(st){return st.toString().replace(/^\s+|\s+$/g,"")}function X(st){var lt=Array.prototype.slice.call(arguments);st=lt.shift(),t.callEventCallbacks("webview:"+st,function(dt){dt.apply(g,lt)})}function j(st,lt){t.onEvent("webview:"+st,lt)}function Z(st,lt){t.offEvent("webview:"+st,lt)}function Y(st,lt){var dt=document.documentElement;dt&&dt.style&&dt.style.setProperty&&dt.style.setProperty("--tg-"+st,lt)}function $(st){h=!!st,e.sessionStorageSet("isFullscreen",h?"yes":"no")}function z(st){l=!!st,e.sessionStorageSet("isOrientationLocked",l?"yes":"no")}function V(st){st.bg_color=="#1c1c1d"&&st.bg_color==st.secondary_bg_color&&(st.secondary_bg_color="#2c2c2e");var lt;for(var dt in st)(lt=Wr(st[dt]))&&(T[dt]=lt,dt=="bg_color"&&(r=Hn(lt)?"dark":"light",Y("color-scheme",r)),dt="theme-"+dt.split("_").join("-"),Y(dt,lt));e.sessionStorageSet("themeParams",T)}function K(st){r=="dark"?(st.bg_dark_color&&(a=st.bg_dark_color),st.header_dark_color&&(f=null,c=st.header_dark_color)):(st.bg_color&&(a=st.bg_color),st.header_color&&(f=null,c=st.header_color)),e.sessionStorageSet("defaultColors",st)}var Q={};function _(st){for(var lt=100;--lt;){for(var dt="",Et="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",Rt=Et.length,Kt=0;Kt<st;Kt++)dt+=Et[Math.floor(Math.random()*Rt)];if(!Q[dt])return Q[dt]={},dt}throw Error("WebAppCallbackIdGenerateFailed")}var tt=!1,rt=!1,ot=!0;function ft(st){typeof st<"u"&&(ot=!!st.is_expanded,tt=st.height,st.is_state_stable&&(rt=st.height),X("viewportChanged",{isStateStable:!!st.is_state_stable}));var lt,dt;tt!==!1?lt=tt-ue+"px":lt=ue?"calc(100vh - "+ue+"px)":"100vh",rt!==!1?dt=rt-ue+"px":dt=ue?"calc(100vh - "+ue+"px)":"100vh",Y("viewport-height",lt),Y("viewport-stable-height",dt)}var ct={top:0,bottom:0,left:0,right:0};function gt(st){typeof st<"u"&&(typeof st.top<"u"&&(ct.top=st.top),typeof st.bottom<"u"&&(ct.bottom=st.bottom),typeof st.left<"u"&&(ct.left=st.left),typeof st.right<"u"&&(ct.right=st.right),X("safeAreaChanged")),Y("safe-area-inset-top",ct.top+"px"),Y("safe-area-inset-bottom",ct.bottom+"px"),Y("safe-area-inset-left",ct.left+"px"),Y("safe-area-inset-right",ct.right+"px")}var xt={top:0,bottom:0,left:0,right:0};function Mt(st){typeof st<"u"&&(typeof st.top<"u"&&(xt.top=st.top),typeof st.bottom<"u"&&(xt.bottom=st.bottom),typeof st.left<"u"&&(xt.left=st.left),typeof st.right<"u"&&(xt.right=st.right),X("contentSafeAreaChanged")),Y("content-safe-area-inset-top",xt.top+"px"),Y("content-safe-area-inset-bottom",xt.bottom+"px"),Y("content-safe-area-inset-left",xt.left+"px"),Y("content-safe-area-inset-right",xt.right+"px")}var St=!1;function $t(st){if(!Re("6.2")){console.warn("[Telegram.WebApp] Closing confirmation is not supported in version "+o);return}St=!!st,t.postEvent("web_app_setup_closing_behavior",!1,{need_confirmation:St})}var Yt=!0;function Ht(st){if(!Re("7.7")){console.warn("[Telegram.WebApp] Changing swipes behavior is not supported in version "+o);return}Yt=!!st,t.postEvent("web_app_setup_swipe_behavior",!1,{allow_vertical_swipe:Yt})}function Ct(st,lt){$(lt.is_fullscreen),X("fullscreenChanged")}function Nt(st,lt){lt.error=="ALREADY_FULLSCREEN"&&!h&&$(!0),X("fullscreenFailed",{error:lt.error})}function Vt(st){if(!Re("8.0")){console.warn("[Telegram.WebApp] Orientation locking is not supported in version "+o);return}z(st),t.postEvent("web_app_toggle_orientation_lock",!1,{locked:l})}var qt=[];function Ce(st,lt){X("homeScreenAdded")}function ze(st,lt){var dt=lt.status||"unknown";if(qt.length>0){for(var Et=0;Et<qt.length;Et++){var Rt=qt[Et];Rt(dt)}qt=[]}X("homeScreenChecked",{status:dt})}var ye=!1;function Be(st,lt){if(ye){var dt=ye;ye=!1,dt.callback&&dt.callback(!0),X("shareMessageSent")}}function Gt(st,lt){if(ye){var dt=ye;ye=!1,dt.callback&&dt.callback(!1),X("shareMessageFailed",{error:lt.error})}}var Xt=!1;function ee(st,lt){if(Xt){var dt=Xt;Xt=!1,dt.callback&&dt.callback(!0),X("emojiStatusSet")}}function Se(st,lt){if(Xt){var dt=Xt;Xt=!1,dt.callback&&dt.callback(!1),X("emojiStatusFailed",{error:lt.error})}}var we=!1;function Ze(st,lt){if(we){var dt=we;we=!1,dt.callback&&dt.callback(lt.status=="allowed"),X("emojiStatusAccessRequested",{status:lt.status})}}var Yr=!1;function gi(){return f=="secondary_bg_color"?T.secondary_bg_color:f=="bg_color"?T.bg_color:c}function ki(st){if(!Re("6.1")){console.warn("[Telegram.WebApp] Header color is not supported in version "+o);return}Re("6.9")||(T.bg_color&&T.bg_color==st?st="bg_color":T.secondary_bg_color&&T.secondary_bg_color==st&&(st="secondary_bg_color"));var lt=null,dt=null;if(st=="bg_color"||st=="secondary_bg_color")dt=st;else if(Re("6.9")&&(lt=Wr(st),!lt))throw console.error("[Telegram.WebApp] Header color format is invalid",st),Error("WebAppHeaderColorInvalid");if(!Re("6.9")&&dt!="bg_color"&&dt!="secondary_bg_color")throw console.error("[Telegram.WebApp] Header color key should be one of Telegram.WebApp.themeParams.bg_color, Telegram.WebApp.themeParams.secondary_bg_color, 'bg_color', 'secondary_bg_color'",st),Error("WebAppHeaderColorKeyInvalid");f=dt,c=lt,fi()}var mi=null,ri=null;function fi(){(mi!=f||ri!=c)&&(mi=f,ri=c,ri?t.postEvent("web_app_set_header_color",!1,{color:c}):t.postEvent("web_app_set_header_color",!1,{color_key:f}))}function Xn(){return a=="secondary_bg_color"?T.secondary_bg_color:a=="bg_color"?T.bg_color:a}function us(st){if(!Re("6.1")){console.warn("[Telegram.WebApp] Background color is not supported in version "+o);return}var lt;if(st=="bg_color"||st=="secondary_bg_color")lt=st;else if(lt=Wr(st),!lt)throw console.error("[Telegram.WebApp] Background color format is invalid",st),Error("WebAppBackgroundColorInvalid");a=lt,fs()}var Ln=null;function fs(){var st=Xn();Ln!=st&&(Ln=st,t.postEvent("web_app_set_background_color",!1,{color:st}))}var la="bottom_bar_bg_color";function ds(){return la=="bottom_bar_bg_color"?T.bottom_bar_bg_color||T.secondary_bg_color||"#ffffff":la=="secondary_bg_color"?T.secondary_bg_color:la=="bg_color"?T.bg_color:la}function Tl(st){if(!Re("7.10")){console.warn("[Telegram.WebApp] Bottom bar color is not supported in version "+o);return}var lt;if(st=="bg_color"||st=="secondary_bg_color"||st=="bottom_bar_bg_color")lt=st;else if(lt=Wr(st),!lt)throw console.error("[Telegram.WebApp] Bottom bar color format is invalid",st),Error("WebAppBottomBarColorInvalid");la=lt,ha(),window.Telegram.WebApp.SecondaryButton.setParams({})}var Ro=null;function ha(){var st=ds();Ro!=st&&(Ro=st,t.postEvent("web_app_set_bottom_bar_color",!1,{color:st})),i.tgWebAppDebug&&Ee()}function Wr(st){st+="";var lt;if(lt=/^\s*#([0-9a-f]{6})\s*$/i.exec(st))return"#"+lt[1].toLowerCase();if(lt=/^\s*#([0-9a-f])([0-9a-f])([0-9a-f])\s*$/i.exec(st))return("#"+lt[1]+lt[1]+lt[2]+lt[2]+lt[3]+lt[3]).toLowerCase();if(lt=/^\s*rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+\.{0,1}\d*))?\)\s*$/.exec(st)){var dt=parseInt(lt[1]),Et=parseInt(lt[2]),Rt=parseInt(lt[3]);return dt=(dt<16?"0":"")+dt.toString(16),Et=(Et<16?"0":"")+Et.toString(16),Rt=(Rt<16?"0":"")+Rt.toString(16),"#"+dt+Et+Rt}return!1}function Hn(st){st=st.replace(/[\s#]/g,""),st.length==3&&(st=st[0]+st[0]+st[1]+st[1]+st[2]+st[2]);var lt=parseInt(st.substr(0,2),16),dt=parseInt(st.substr(2,2),16),Et=parseInt(st.substr(4,2),16),Rt=Math.sqrt(.299*(lt*lt)+.587*(dt*dt)+.114*(Et*Et));return Rt<120}function Dn(st,lt){typeof st!="string"&&(st=""),typeof lt!="string"&&(lt=""),st=st.replace(/^\s+|\s+$/g,"").split("."),lt=lt.replace(/^\s+|\s+$/g,"").split(".");var dt=Math.max(st.length,lt.length),Et,Rt,Kt;for(Et=0;Et<dt;Et++)if(Rt=parseInt(st[Et])||0,Kt=parseInt(lt[Et])||0,Rt!=Kt)return Rt>Kt?1:-1;return 0}function Re(st){return Dn(o,st)>=0}function Ao(st){if(window.Blob)try{return new Blob([st]).size}catch{}for(var lt=st.length,dt=st.length-1;dt>=0;dt--){var Et=st.charCodeAt(dt);Et>127&&Et<=2047?lt++:Et>2047&&Et<=65535&&(lt+=2),Et>=56320&&Et<=57343&&dt--}return lt}var ut=(function(){var st=!1,lt={};Object.defineProperty(lt,"isVisible",{set:function(pe){fe({is_visible:pe})},get:function(){return st},enumerable:!0});var dt=null;t.onEvent("back_button_pressed",Et);function Et(){X("backButtonClicked")}function Rt(){return{is_visible:st}}function Kt(pe){return typeof pe>"u"&&(pe=Rt()),JSON.stringify(pe)}function de(){return Re("6.1")?!0:(console.warn("[Telegram.WebApp] BackButton is not supported in version "+o),!1)}function le(){var pe=Rt(),We=Kt(pe);dt!==We&&(dt=We,t.postEvent("web_app_setup_back_button",!1,pe))}function fe(pe){return de()&&(typeof pe.is_visible<"u"&&(st=!!pe.is_visible),le()),lt}return lt.onClick=function(pe){return de()&&j("backButtonClicked",pe),lt},lt.offClick=function(pe){return de()&&Z("backButtonClicked",pe),lt},lt.show=function(){return fe({is_visible:!0})},lt.hide=function(){return fe({is_visible:!1})},lt})(),Bt=null,Jt={},ue=0;if(i.tgWebAppDebug){Bt=document.createElement("tg-bottom-bar");var ti={display:"flex",gap:"7px",font:"600 14px/18px sans-serif",width:"100%",background:ds(),position:"fixed",left:"0",right:"0",bottom:"0",margin:"0",padding:"7px",textAlign:"center",boxSizing:"border-box",zIndex:"10000"};for(var De in ti)Bt.style[De]=ti[De];document.addEventListener("DOMContentLoaded",function st(lt){document.removeEventListener("DOMContentLoaded",st),document.body.appendChild(Bt)});var Xe=document.createElement("style");Xe.innerHTML='tg-bottom-button.shine { position: relative; overflow: hidden; } tg-bottom-button.shine:before { content:""; position: absolute; top: 0; width: 100%; height: 100%; background: linear-gradient(120deg, transparent, rgba(255, 255, 255, .2), transparent); animation: tg-bottom-button-shine 5s ease-in-out infinite; } @-webkit-keyframes tg-bottom-button-shine { 0% {left: -100%;} 12%,100% {left: 100%}} @keyframes tg-bottom-button-shine { 0% {left: -100%;} 12%,100% {left: 100%}}',Bt.appendChild(Xe)}function Ee(){var st=Jt.main._bottomButton,lt=Jt.secondary._bottomButton;st.isVisible||lt.isVisible?(Bt.style.display="flex",ue=58,st.isVisible&&lt.isVisible&&(lt.position=="top"?(Bt.style.flexDirection="column-reverse",ue+=51):lt.position=="bottom"?(Bt.style.flexDirection="column",ue+=51):lt.position=="left"?Bt.style.flexDirection="row-reverse":lt.position=="right"&&(Bt.style.flexDirection="row"))):(Bt.style.display="none",ue=0),Bt.style.background=ds(),document.documentElement&&(document.documentElement.style.boxSizing="border-box",document.documentElement.style.paddingBottom=ue+"px"),ft()}var er=function(st){var lt=st=="main";if(lt)var dt="web_app_setup_main_button",Et="main_button_pressed",Rt="mainButtonClicked",Kt="Continue",de=function(){return T.button_color||"#2481cc"},le=function(){return T.button_text_color||"#ffffff"};else var dt="web_app_setup_secondary_button",Et="secondary_button_pressed",Rt="secondaryButtonClicked",Kt="Cancel",de=function(){return ds()},le=function(){return T.button_color||"#2481cc"};var fe=!1,pe=!0,We=!1,_t=!1,He=st,zt=Kt,se=!1,xe=!1,Hi="left",jt={};Object.defineProperty(jt,"type",{get:function(){return He},enumerable:!0}),Object.defineProperty(jt,"text",{set:function(ie){jt.setParams({text:ie})},get:function(){return zt},enumerable:!0}),Object.defineProperty(jt,"color",{set:function(ie){jt.setParams({color:ie})},get:function(){return se||de()},enumerable:!0}),Object.defineProperty(jt,"textColor",{set:function(ie){jt.setParams({text_color:ie})},get:function(){return xe||le()},enumerable:!0}),Object.defineProperty(jt,"isVisible",{set:function(ie){jt.setParams({is_visible:ie})},get:function(){return fe},enumerable:!0}),Object.defineProperty(jt,"isProgressVisible",{get:function(){return _t},enumerable:!0}),Object.defineProperty(jt,"isActive",{set:function(ie){jt.setParams({is_active:ie})},get:function(){return pe},enumerable:!0}),Object.defineProperty(jt,"hasShineEffect",{set:function(ie){jt.setParams({has_shine_effect:ie})},get:function(){return We},enumerable:!0}),lt||Object.defineProperty(jt,"position",{set:function(ie){jt.setParams({position:ie})},get:function(){return Hi},enumerable:!0});var Ye=null;t.onEvent(Et,$n);var ii=null;if(i.tgWebAppDebug){ii=document.createElement("tg-bottom-button");var yi={display:"none",width:"100%",height:"44px",borderRadius:"0",background:"no-repeat right center",padding:"13px 15px",textAlign:"center",boxSizing:"border-box"};for(var $i in yi)ii.style[$i]=yi[$i];Bt.appendChild(ii),ii.addEventListener("click",$n,!1),ii._bottomButton=jt,Jt[st]=ii}function $n(){pe&&X(Rt)}function nf(){var ie=jt.color,Xr=jt.textColor;if(fe){var Kn={is_visible:!0,is_active:pe,is_progress_visible:_t,text:zt,color:ie,text_color:Xr,has_shine_effect:We&&pe&&!_t};lt||(Kn.position=Hi)}else var Kn={is_visible:!1};return Kn}function Gh(ie){return typeof ie>"u"&&(ie=nf()),JSON.stringify(ie)}function bl(){var ie=nf(),Xr=Gh(ie);Ye!==Xr&&(Ye=Xr,t.postEvent(dt,!1,ie),i.tgWebAppDebug&&kh(ie))}function kh(ie){ie.is_visible?(ii.style.display="block",ii.style.opacity=ie.is_active?"1":"0.8",ii.style.cursor=ie.is_active?"pointer":"auto",ii.disabled=!ie.is_active,ii.innerText=ie.text,ii.className=ie.has_shine_effect?"shine":"",ii.style.backgroundImage=ie.is_progress_visible?"url('data:image/svg+xml,"+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewport="0 0 48 48" width="48px" height="48px"><circle cx="50%" cy="50%" stroke="'+ie.text_color+'" stroke-width="2.25" stroke-linecap="round" fill="none" stroke-dashoffset="106" r="9" stroke-dasharray="56.52" rotate="-90"><animate attributeName="stroke-dashoffset" attributeType="XML" dur="360s" from="0" to="12500" repeatCount="indefinite"></animate><animateTransform attributeName="transform" attributeType="XML" type="rotate" dur="1s" from="-90 24 24" to="630 24 24" repeatCount="indefinite"></animateTransform></circle></svg>')+"')":"none",ii.style.backgroundColor=ie.color,ii.style.color=ie.text_color):ii.style.display="none",Ee()}function Pl(ie){if(typeof ie.text<"u"){var Xr=H(ie.text);if(!Xr.length)throw console.error("[Telegram.WebApp] Bottom button text is required",ie.text),Error("WebAppBottomButtonParamInvalid");if(Xr.length>64)throw console.error("[Telegram.WebApp] Bottom button text is too long",Xr),Error("WebAppBottomButtonParamInvalid");zt=Xr}if(typeof ie.color<"u")if(ie.color===!1||ie.color===null)se=!1;else{var Kn=Wr(ie.color);if(!Kn)throw console.error("[Telegram.WebApp] Bottom button color format is invalid",ie.color),Error("WebAppBottomButtonParamInvalid");se=Kn}if(typeof ie.text_color<"u")if(ie.text_color===!1||ie.text_color===null)xe=!1;else{var wl=Wr(ie.text_color);if(!wl)throw console.error("[Telegram.WebApp] Bottom button text color format is invalid",ie.text_color),Error("WebAppBottomButtonParamInvalid");xe=wl}if(typeof ie.is_visible<"u"){if(ie.is_visible&&!jt.text.length)throw console.error("[Telegram.WebApp] Bottom button text is required"),Error("WebAppBottomButtonParamInvalid");fe=!!ie.is_visible}if(typeof ie.has_shine_effect<"u"&&(We=!!ie.has_shine_effect),!lt&&typeof ie.position<"u"){if(ie.position!="left"&&ie.position!="right"&&ie.position!="top"&&ie.position!="bottom")throw console.error("[Telegram.WebApp] Bottom button posiition is invalid",ie.position),Error("WebAppBottomButtonParamInvalid");Hi=ie.position}return typeof ie.is_active<"u"&&(pe=!!ie.is_active),bl(),jt}return jt.setText=function(ie){return jt.setParams({text:ie})},jt.onClick=function(ie){return j(Rt,ie),jt},jt.offClick=function(ie){return Z(Rt,ie),jt},jt.show=function(){return jt.setParams({is_visible:!0})},jt.hide=function(){return jt.setParams({is_visible:!1})},jt.enable=function(){return jt.setParams({is_active:!0})},jt.disable=function(){return jt.setParams({is_active:!1})},jt.showProgress=function(ie){return pe=!!ie,_t=!0,bl(),jt},jt.hideProgress=function(){return jt.isActive||(pe=!0),_t=!1,bl(),jt},jt.setParams=Pl,jt},Fi=er("main"),Ii=er("secondary"),Rr=(function(){var st=!1,lt={};Object.defineProperty(lt,"isVisible",{set:function(pe){fe({is_visible:pe})},get:function(){return st},enumerable:!0});var dt=null;t.onEvent("settings_button_pressed",Et);function Et(){X("settingsButtonClicked")}function Rt(){return{is_visible:st}}function Kt(pe){return typeof pe>"u"&&(pe=Rt()),JSON.stringify(pe)}function de(){return Re("6.10")?!0:(console.warn("[Telegram.WebApp] SettingsButton is not supported in version "+o),!1)}function le(){var pe=Rt(),We=Kt(pe);dt!==We&&(dt=We,t.postEvent("web_app_setup_settings_button",!1,pe))}function fe(pe){return de()&&(typeof pe.is_visible<"u"&&(st=!!pe.is_visible),le()),lt}return lt.onClick=function(pe){return de()&&j("settingsButtonClicked",pe),lt},lt.offClick=function(pe){return de()&&Z("settingsButtonClicked",pe),lt},lt.show=function(){return fe({is_visible:!0})},lt.hide=function(){return fe({is_visible:!1})},lt})(),Us=(function(){var st={};function lt(dt){if(!Re("6.1"))return console.warn("[Telegram.WebApp] HapticFeedback is not supported in version "+o),st;if(dt.type=="impact"){if(dt.impact_style!="light"&&dt.impact_style!="medium"&&dt.impact_style!="heavy"&&dt.impact_style!="rigid"&&dt.impact_style!="soft")throw console.error("[Telegram.WebApp] Haptic impact style is invalid",dt.impact_style),Error("WebAppHapticImpactStyleInvalid")}else if(dt.type=="notification"){if(dt.notification_type!="error"&&dt.notification_type!="success"&&dt.notification_type!="warning")throw console.error("[Telegram.WebApp] Haptic notification type is invalid",dt.notification_type),Error("WebAppHapticNotificationTypeInvalid")}else if(dt.type!="selection_change")throw console.error("[Telegram.WebApp] Haptic feedback type is invalid",dt.type),Error("WebAppHapticFeedbackTypeInvalid");return t.postEvent("web_app_trigger_haptic_feedback",!1,dt),st}return st.impactOccurred=function(dt){return lt({type:"impact",impact_style:dt})},st.notificationOccurred=function(dt){return lt({type:"notification",notification_type:dt})},st.selectionChanged=function(){return lt({type:"selection_change"})},st})(),cs=(function(){var st={};function lt(dt,Et,Rt){if(!Re("6.9"))throw console.error("[Telegram.WebApp] CloudStorage is not supported in version "+o),Error("WebAppMethodUnsupported");return fa(dt,Et,Rt),st}return st.setItem=function(dt,Et,Rt){return lt("saveStorageValue",{key:dt,value:Et},Rt)},st.getItem=function(dt,Et){return st.getItems([dt],Et?function(Rt,Kt){Rt?Et(Rt):Et(null,Kt[dt])}:null)},st.getItems=function(dt,Et){return lt("getStorageValues",{keys:dt},Et)},st.removeItem=function(dt,Et){return st.removeItems([dt],Et)},st.removeItems=function(dt,Et){return lt("deleteStorageValues",{keys:dt},Et)},st.getKeys=function(dt){return lt("getStorageKeys",{},dt)},st})(),fr=(function(){var st=!1,lt=!1,dt="unknown",Et=!1,Rt=!1,Kt=!1,de="",le={};Object.defineProperty(le,"isInited",{get:function(){return st},enumerable:!0}),Object.defineProperty(le,"isBiometricAvailable",{get:function(){return st&&lt},enumerable:!0}),Object.defineProperty(le,"biometricType",{get:function(){return dt||"unknown"},enumerable:!0}),Object.defineProperty(le,"isAccessRequested",{get:function(){return Et},enumerable:!0}),Object.defineProperty(le,"isAccessGranted",{get:function(){return Et&&Rt},enumerable:!0}),Object.defineProperty(le,"isBiometricTokenSaved",{get:function(){return Kt},enumerable:!0}),Object.defineProperty(le,"deviceId",{get:function(){return de||""},enumerable:!0});var fe={callbacks:[]},pe=!1,We=!1,_t=!1;t.onEvent("biometry_info_received",He),t.onEvent("biometry_auth_requested",zt),t.onEvent("biometry_token_updated",se);function He(jt,Ye){if(st=!0,Ye.available?(lt=!0,dt=Ye.type||"unknown",Ye.access_requested?(Et=!0,Rt=!!Ye.access_granted,Kt=!!Ye.token_saved):(Et=!1,Rt=!1,Kt=!1)):(lt=!1,dt="unknown",Et=!1,Rt=!1,Kt=!1),de=Ye.device_id||"",fe.callbacks.length>0){for(var ii=0;ii<fe.callbacks.length;ii++){var yi=fe.callbacks[ii];yi()}fe.callbacks=[]}if(pe){var $i=pe;pe=!1,$i.callback&&$i.callback(Rt)}X("biometricManagerUpdated")}function zt(jt,Ye){var ii=Ye.status=="authorized",yi=Ye.token||"";if(We){var $i=We;We=!1,$i.callback&&$i.callback(ii,ii?yi:null)}X("biometricAuthRequested",ii?{isAuthenticated:!0,biometricToken:yi}:{isAuthenticated:!1})}function se(jt,Ye){var ii=!1;if(lt&&Et&&(Ye.status=="updated"?(Kt=!0,ii=!0):Ye.status=="removed"&&(Kt=!1,ii=!0)),_t){var yi=_t;_t=!1,yi.callback&&yi.callback(ii)}X("biometricTokenUpdated",{isUpdated:ii})}function xe(){return Re("7.2")?!0:(console.warn("[Telegram.WebApp] BiometricManager is not supported in version "+o),!1)}function Hi(){if(!st)throw console.error("[Telegram.WebApp] BiometricManager should be inited before using."),Error("WebAppBiometricManagerNotInited");return!0}return le.init=function(jt){return!xe()||st||(jt&&fe.callbacks.push(jt),t.postEvent("web_app_biometry_get_info",!1)),le},le.requestAccess=function(jt,Ye){if(!xe())return le;if(Hi(),!lt)throw console.error("[Telegram.WebApp] Biometrics is not available on this device."),Error("WebAppBiometricManagerBiometricsNotAvailable");if(pe)throw console.error("[Telegram.WebApp] Access is already requested"),Error("WebAppBiometricManagerAccessRequested");var ii={};if(typeof jt.reason<"u"){var yi=H(jt.reason);if(yi.length>128)throw console.error("[Telegram.WebApp] Biometric reason is too long",yi),Error("WebAppBiometricRequestAccessParamInvalid");yi.length>0&&(ii.reason=yi)}return pe={callback:Ye},t.postEvent("web_app_biometry_request_access",!1,ii),le},le.authenticate=function(jt,Ye){if(!xe())return le;if(Hi(),!lt)throw console.error("[Telegram.WebApp] Biometrics is not available on this device."),Error("WebAppBiometricManagerBiometricsNotAvailable");if(!Rt)throw console.error("[Telegram.WebApp] Biometric access was not granted by the user."),Error("WebAppBiometricManagerBiometricAccessNotGranted");if(We)throw console.error("[Telegram.WebApp] Authentication request is already in progress."),Error("WebAppBiometricManagerAuthenticationRequested");var ii={};if(typeof jt.reason<"u"){var yi=H(jt.reason);if(yi.length>128)throw console.error("[Telegram.WebApp] Biometric reason is too long",yi),Error("WebAppBiometricRequestAccessParamInvalid");yi.length>0&&(ii.reason=yi)}return We={callback:Ye},t.postEvent("web_app_biometry_request_auth",!1,ii),le},le.updateBiometricToken=function(jt,Ye){if(!xe())return le;if(jt=jt||"",jt.length>1024)throw console.error("[Telegram.WebApp] Token is too long",jt),Error("WebAppBiometricManagerTokenInvalid");if(Hi(),!lt)throw console.error("[Telegram.WebApp] Biometrics is not available on this device."),Error("WebAppBiometricManagerBiometricsNotAvailable");if(!Rt)throw console.error("[Telegram.WebApp] Biometric access was not granted by the user."),Error("WebAppBiometricManagerBiometricAccessNotGranted");if(_t)throw console.error("[Telegram.WebApp] Token request is already in progress."),Error("WebAppBiometricManagerTokenUpdateRequested");return _t={callback:Ye},t.postEvent("web_app_biometry_update_token",!1,{token:jt}),le},le.openSettings=function(){if(!xe())return le;if(Hi(),!lt)throw console.error("[Telegram.WebApp] Biometrics is not available on this device."),Error("WebAppBiometricManagerBiometricsNotAvailable");if(!Et)throw console.error("[Telegram.WebApp] Biometric access was not requested yet."),Error("WebAppBiometricManagerBiometricsAccessNotRequested");return Rt?(console.warn("[Telegram.WebApp] Biometric access was granted by the user, no need to go to settings."),le):(t.postEvent("web_app_biometry_open_settings",!1),le)},le})(),Oo=(function(){var st=!1,lt=!1,dt=!1,Et=!1,Rt={};Object.defineProperty(Rt,"isInited",{get:function(){return st},enumerable:!0}),Object.defineProperty(Rt,"isLocationAvailable",{get:function(){return st&&lt},enumerable:!0}),Object.defineProperty(Rt,"isAccessRequested",{get:function(){return dt},enumerable:!0}),Object.defineProperty(Rt,"isAccessGranted",{get:function(){return dt&&Et},enumerable:!0});var Kt={callbacks:[]},de={callbacks:[]};t.onEvent("location_checked",le),t.onEvent("location_requested",fe);function le(He,zt){if(st=!0,zt.available?(lt=!0,zt.access_requested?(dt=!0,Et=!!zt.access_granted):(dt=!1,Et=!1)):(lt=!1,dt=!1,Et=!1),Kt.callbacks.length>0){for(var se=0;se<Kt.callbacks.length;se++){var xe=Kt.callbacks[se];xe()}Kt.callbacks=[]}X("locationManagerUpdated")}function fe(He,zt){if(!zt.available)se=null;else{var se={latitude:zt.latitude,longitude:zt.longitude,altitude:null,course:null,speed:null,horizontal_accuracy:null,vertical_accuracy:null,course_accuracy:null,speed_accuracy:null};typeof zt.altitude<"u"&&zt.altitude!==null&&(se.altitude=zt.altitude),typeof zt.course<"u"&&zt.course!==null&&(se.course=zt.course%360),typeof zt.speed<"u"&&zt.speed!==null&&(se.speed=zt.speed),typeof zt.horizontal_accuracy<"u"&&zt.horizontal_accuracy!==null&&(se.horizontal_accuracy=zt.horizontal_accuracy),typeof zt.vertical_accuracy<"u"&&zt.vertical_accuracy!==null&&(se.vertical_accuracy=zt.vertical_accuracy),typeof zt.course_accuracy<"u"&&zt.course_accuracy!==null&&(se.course_accuracy=zt.course_accuracy),typeof zt.speed_accuracy<"u"&&zt.speed_accuracy!==null&&(se.speed_accuracy=zt.speed_accuracy)}!zt.available||!lt||!dt||!Et?(Kt.callbacks.push(function(){pe(se)}),t.postEvent("web_app_check_location",!1)):pe(se)}function pe(He){if(de.callbacks.length>0){for(var zt=0;zt<de.callbacks.length;zt++){var se=de.callbacks[zt];se(He)}de.callbacks=[]}He!==null&&X("locationRequested",{locationData:He})}function We(){return Re("8.0")?!0:(console.warn("[Telegram.WebApp] LocationManager is not supported in version "+o),!1)}function _t(){if(!st)throw console.error("[Telegram.WebApp] LocationManager should be inited before using."),Error("WebAppLocationManagerNotInited");return!0}return Rt.init=function(He){return!We()||st||(He&&Kt.callbacks.push(He),t.postEvent("web_app_check_location",!1)),Rt},Rt.getLocation=function(He){if(!We())return Rt;if(_t(),!lt)throw console.error("[Telegram.WebApp] Location is not available on this device."),Error("WebAppLocationManagerLocationNotAvailable");return de.callbacks.push(He),t.postEvent("web_app_request_location"),Rt},Rt.openSettings=function(){if(!We())return Rt;if(_t(),!lt)throw console.error("[Telegram.WebApp] Location is not available on this device."),Error("WebAppLocationManagerLocationNotAvailable");if(!dt)throw console.error("[Telegram.WebApp] Location access was not requested yet."),Error("WebAppLocationManagerLocationAccessNotRequested");return Et?(console.warn("[Telegram.WebApp] Location access was granted by the user, no need to go to settings."),Rt):(t.postEvent("web_app_open_location_settings",!1),Rt)},Rt})(),vs=(function(){var st=!1,lt=null,dt=null,Et=null,Rt=[],Kt=[],de={};Object.defineProperty(de,"isStarted",{get:function(){return st},enumerable:!0}),Object.defineProperty(de,"x",{get:function(){return lt},enumerable:!0}),Object.defineProperty(de,"y",{get:function(){return dt},enumerable:!0}),Object.defineProperty(de,"z",{get:function(){return Et},enumerable:!0}),t.onEvent("accelerometer_started",le),t.onEvent("accelerometer_stopped",fe),t.onEvent("accelerometer_changed",pe),t.onEvent("accelerometer_failed",We);function le(He,zt){if(st=!0,Rt.length>0){for(var se=0;se<Rt.length;se++){var xe=Rt[se];xe(!0)}Rt=[]}X("accelerometerStarted")}function fe(He,zt){if(st=!1,Kt.length>0){for(var se=0;se<Kt.length;se++){var xe=Kt[se];xe(!0)}Kt=[]}X("accelerometerStopped")}function pe(He,zt){lt=zt.x,dt=zt.y,Et=zt.z,X("accelerometerChanged")}function We(He,zt){if(Rt.length>0){for(var se=0;se<Rt.length;se++){var xe=Rt[se];xe(!1)}Rt=[]}X("accelerometerFailed",{error:zt.error})}function _t(){return Re("8.0")?!0:(console.warn("[Telegram.WebApp] Accelerometer is not supported in version "+o),!1)}return de.start=function(He,zt){if(He=He||{},!_t())return de;var se={},xe=parseInt(He.refresh_rate||1e3);return isNaN(xe)||xe<20||xe>1e3?console.warn("[Telegram.WebApp] Accelerometer refresh_rate is invalid",xe):se.refresh_rate=xe,zt&&Rt.push(zt),t.postEvent("web_app_start_accelerometer",!1,se),de},de.stop=function(He){return _t()&&(He&&Kt.push(He),t.postEvent("web_app_stop_accelerometer")),de},de})(),je=(function(){var st=!1,lt=null,dt=null,Et=null,Rt=!1,Kt=[],de=[],le={};Object.defineProperty(le,"isStarted",{get:function(){return st},enumerable:!0}),Object.defineProperty(le,"absolute",{get:function(){return Rt},enumerable:!0}),Object.defineProperty(le,"alpha",{get:function(){return lt},enumerable:!0}),Object.defineProperty(le,"beta",{get:function(){return dt},enumerable:!0}),Object.defineProperty(le,"gamma",{get:function(){return Et},enumerable:!0}),t.onEvent("device_orientation_started",fe),t.onEvent("device_orientation_stopped",pe),t.onEvent("device_orientation_changed",We),t.onEvent("device_orientation_failed",_t);function fe(zt,se){if(st=!0,Kt.length>0){for(var xe=0;xe<Kt.length;xe++){var Hi=Kt[xe];Hi(!0)}Kt=[]}X("deviceOrientationStarted")}function pe(zt,se){if(st=!1,de.length>0){for(var xe=0;xe<de.length;xe++){var Hi=de[xe];Hi(!0)}de=[]}X("deviceOrientationStopped")}function We(zt,se){Rt=!!se.absolute,lt=se.alpha,dt=se.beta,Et=se.gamma,X("deviceOrientationChanged")}function _t(zt,se){if(Kt.length>0){for(var xe=0;xe<Kt.length;xe++){var Hi=Kt[xe];Hi(!1)}Kt=[]}X("deviceOrientationFailed",{error:se.error})}function He(){return Re("8.0")?!0:(console.warn("[Telegram.WebApp] DeviceOrientation is not supported in version "+o),!1)}return le.start=function(zt,se){if(zt=zt||{},!He())return le;var xe={},Hi=parseInt(zt.refresh_rate||1e3);return isNaN(Hi)||Hi<20||Hi>1e3?console.warn("[Telegram.WebApp] DeviceOrientation refresh_rate is invalid",Hi):xe.refresh_rate=Hi,xe.need_absolute=!!zt.need_absolute,se&&Kt.push(se),t.postEvent("web_app_start_device_orientation",!1,xe),le},le.stop=function(zt){return He()&&(zt&&de.push(zt),t.postEvent("web_app_stop_device_orientation")),le},le})(),Lo=(function(){var st=!1,lt=null,dt=null,Et=null,Rt=[],Kt=[],de={};Object.defineProperty(de,"isStarted",{get:function(){return st},enumerable:!0}),Object.defineProperty(de,"x",{get:function(){return lt},enumerable:!0}),Object.defineProperty(de,"y",{get:function(){return dt},enumerable:!0}),Object.defineProperty(de,"z",{get:function(){return Et},enumerable:!0}),t.onEvent("gyroscope_started",le),t.onEvent("gyroscope_stopped",fe),t.onEvent("gyroscope_changed",pe),t.onEvent("gyroscope_failed",We);function le(He,zt){if(st=!0,Rt.length>0){for(var se=0;se<Rt.length;se++){var xe=Rt[se];xe(!0)}Rt=[]}X("gyroscopeStarted")}function fe(He,zt){if(st=!1,Kt.length>0){for(var se=0;se<Kt.length;se++){var xe=Kt[se];xe(!0)}Kt=[]}X("gyroscopeStopped")}function pe(He,zt){lt=zt.x,dt=zt.y,Et=zt.z,X("gyroscopeChanged")}function We(He,zt){if(Rt.length>0){for(var se=0;se<Rt.length;se++){var xe=Rt[se];xe(!1)}Rt=[]}X("gyroscopeFailed",{error:zt.error})}function _t(){return Re("8.0")?!0:(console.warn("[Telegram.WebApp] Gyroscope is not supported in version "+o),!1)}return de.start=function(He,zt){if(He=He||{},!_t())return de;var se={},xe=parseInt(He.refresh_rate||1e3);return isNaN(xe)||xe<20||xe>1e3?console.warn("[Telegram.WebApp] Gyroscope refresh_rate is invalid",xe):se.refresh_rate=xe,zt&&Rt.push(zt),t.postEvent("web_app_start_gyroscope",!1,se),de},de.stop=function(He){return _t()&&(He&&Kt.push(He),t.postEvent("web_app_stop_gyroscope")),de},de})(),Ha={};function ef(st,lt){if(lt.slug&&Ha[lt.slug]){var dt=Ha[lt.slug];delete Ha[lt.slug],dt.callback&&dt.callback(lt.status),X("invoiceClosed",{url:dt.url,status:lt.status})}}var Yr=!1;function Cl(st,lt){if(Yr){var dt=Yr;Yr=!1;var Et=null;typeof lt.button_id<"u"&&(Et=lt.button_id),dt.callback&&dt.callback(Et),X("popupClosed",{button_id:Et})}}var ps=!1;function Fh(st,lt){if(ps){var dt=ps,Et=null;typeof lt.data<"u"&&(Et=lt.data),dt.callback&&dt.callback(Et)&&(ps=!1,t.postEvent("web_app_close_scan_qr_popup",!1)),X("qrTextReceived",{data:Et})}}function Ih(st,lt){ps=!1,X("scanQrPopupClosed")}function Bh(st,lt){if(lt.req_id&&Q[lt.req_id]){var dt=Q[lt.req_id];delete Q[lt.req_id];var Et=null;typeof lt.data<"u"&&(Et=lt.data),dt.callback&&dt.callback(Et),X("clipboardTextReceived",{data:Et})}}var $a=!1;function rf(st,lt){if($a){var dt=$a;$a=!1,dt.callback&&dt.callback(lt.status=="allowed"),X("writeAccessRequested",{status:lt.status})}}function Sl(st,lt){var dt,Et,Rt=0,Kt=function(){fa("getRequestedContact",{},function(le,fe){fe&&fe.length?(clearTimeout(Et),st(fe)):(Rt+=50,dt=setTimeout(Kt,Rt))})},de=function(){clearTimeout(dt),st("")};Et=setTimeout(de,lt),Kt()}var ua=!1;function Vs(st,lt){if(ua){var dt=ua;ua=!1;var Et=lt.status=="sent",Rt={status:lt.status};Et?Sl(function(Kt){if(Kt&&Kt.length){Rt.response=Kt,Rt.responseUnsafe=e.urlParseQueryString(Kt);for(var de in Rt.responseUnsafe){var le=Rt.responseUnsafe[de];try{(le.substr(0,1)=="{"&&le.substr(-1)=="}"||le.substr(0,1)=="["&&le.substr(-1)=="]")&&(Rt.responseUnsafe[de]=JSON.parse(le))}catch{}}}dt.callback&&dt.callback(Et,Rt),X("contactRequested",Rt)},3e3):(dt.callback&&dt.callback(Et,Rt),X("contactRequested",Rt))}}var gs=!1;function Ka(st,lt){if(gs){var dt=gs;gs=!1;var Et=lt.status=="downloading";dt.callback&&dt.callback(Et),X("fileDownloadRequested",{status:Et?"downloading":"cancelled"})}}function El(st,lt){if(lt.req_id&&Q[lt.req_id]){var dt=Q[lt.req_id];delete Q[lt.req_id];var Et=null,Rt=null;typeof lt.result<"u"&&(Et=lt.result),typeof lt.error<"u"&&(Rt=lt.error),dt.callback&&dt.callback(Rt,Et)}}function fa(st,lt,dt){if(!Re("6.9"))throw console.error("[Telegram.WebApp] Method invokeCustomMethod is not supported in version "+o),Error("WebAppMethodUnsupported");var Et=_(16),Rt={req_id:Et,method:st,params:lt||{}};Q[Et]={callback:dt},t.postEvent("web_app_invoke_custom_method",!1,Rt)}window.Telegram||(window.Telegram={}),Object.defineProperty(g,"initData",{get:function(){return E},enumerable:!0}),Object.defineProperty(g,"initDataUnsafe",{get:function(){return n},enumerable:!0}),Object.defineProperty(g,"version",{get:function(){return o},enumerable:!0}),Object.defineProperty(g,"platform",{get:function(){return y},enumerable:!0}),Object.defineProperty(g,"colorScheme",{get:function(){return r},enumerable:!0}),Object.defineProperty(g,"themeParams",{get:function(){return T},enumerable:!0}),Object.defineProperty(g,"isExpanded",{get:function(){return ot},enumerable:!0}),Object.defineProperty(g,"viewportHeight",{get:function(){return(tt===!1?window.innerHeight:tt)-ue},enumerable:!0}),Object.defineProperty(g,"viewportStableHeight",{get:function(){return(rt===!1?window.innerHeight:rt)-ue},enumerable:!0}),Object.defineProperty(g,"safeAreaInset",{get:function(){return ct},enumerable:!0}),Object.defineProperty(g,"contentSafeAreaInset",{get:function(){return xt},enumerable:!0}),Object.defineProperty(g,"isClosingConfirmationEnabled",{set:function(st){$t(st)},get:function(){return St},enumerable:!0}),Object.defineProperty(g,"isVerticalSwipesEnabled",{set:function(st){Ht(st)},get:function(){return Yt},enumerable:!0}),Object.defineProperty(g,"isFullscreen",{get:function(){return h},enumerable:!0}),Object.defineProperty(g,"isOrientationLocked",{set:function(st){Vt(st)},get:function(){return l},enumerable:!0}),Object.defineProperty(g,"isActive",{get:function(){return d},enumerable:!0}),Object.defineProperty(g,"headerColor",{set:function(st){ki(st)},get:function(){return gi()},enumerable:!0}),Object.defineProperty(g,"backgroundColor",{set:function(st){us(st)},get:function(){return Xn()},enumerable:!0}),Object.defineProperty(g,"bottomBarColor",{set:function(st){Tl(st)},get:function(){return ds()},enumerable:!0}),Object.defineProperty(g,"BackButton",{value:ut,enumerable:!0}),Object.defineProperty(g,"MainButton",{value:Fi,enumerable:!0}),Object.defineProperty(g,"SecondaryButton",{value:Ii,enumerable:!0}),Object.defineProperty(g,"SettingsButton",{value:Rr,enumerable:!0}),Object.defineProperty(g,"HapticFeedback",{value:Us,enumerable:!0}),Object.defineProperty(g,"CloudStorage",{value:cs,enumerable:!0}),Object.defineProperty(g,"BiometricManager",{value:fr,enumerable:!0}),Object.defineProperty(g,"Accelerometer",{value:vs,enumerable:!0}),Object.defineProperty(g,"DeviceOrientation",{value:je,enumerable:!0}),Object.defineProperty(g,"Gyroscope",{value:Lo,enumerable:!0}),Object.defineProperty(g,"LocationManager",{value:Oo,enumerable:!0}),g.isVersionAtLeast=function(st){return Re(st)},g.setHeaderColor=function(st){g.headerColor=st},g.setBackgroundColor=function(st){g.backgroundColor=st},g.setBottomBarColor=function(st){g.bottomBarColor=st},g.enableClosingConfirmation=function(){g.isClosingConfirmationEnabled=!0},g.disableClosingConfirmation=function(){g.isClosingConfirmationEnabled=!1},g.enableVerticalSwipes=function(){g.isVerticalSwipesEnabled=!0},g.disableVerticalSwipes=function(){g.isVerticalSwipesEnabled=!1},g.lockOrientation=function(){g.isOrientationLocked=!0},g.unlockOrientation=function(){g.isOrientationLocked=!1},g.requestFullscreen=function(){if(!Re("8.0"))throw console.error("[Telegram.WebApp] Method requestFullscreen is not supported in version "+o),Error("WebAppMethodUnsupported");t.postEvent("web_app_request_fullscreen")},g.exitFullscreen=function(){if(!Re("8.0"))throw console.error("[Telegram.WebApp] Method exitFullscreen is not supported in version "+o),Error("WebAppMethodUnsupported");t.postEvent("web_app_exit_fullscreen")},g.addToHomeScreen=function(){if(!Re("8.0"))throw console.error("[Telegram.WebApp] Method addToHomeScreen is not supported in version "+o),Error("WebAppMethodUnsupported");t.postEvent("web_app_add_to_home_screen")},g.checkHomeScreenStatus=function(st){if(!Re("8.0"))throw console.error("[Telegram.WebApp] Method checkHomeScreenStatus is not supported in version "+o),Error("WebAppMethodUnsupported");st&&qt.push(st),t.postEvent("web_app_check_home_screen")},g.onEvent=function(st,lt){j(st,lt)},g.offEvent=function(st,lt){Z(st,lt)},g.sendData=function(st){if(!st||!st.length)throw console.error("[Telegram.WebApp] Data is required",st),Error("WebAppDataInvalid");if(Ao(st)>4096)throw console.error("[Telegram.WebApp] Data is too long",st),Error("WebAppDataInvalid");t.postEvent("web_app_data_send",!1,{data:st})},g.switchInlineQuery=function(st,lt){if(!Re("6.6"))throw console.error("[Telegram.WebApp] Method switchInlineQuery is not supported in version "+o),Error("WebAppMethodUnsupported");if(!i.tgWebAppBotInline)throw console.error("[Telegram.WebApp] Inline mode is disabled for this bot. Read more about inline mode: https://core.telegram.org/bots/inline"),Error("WebAppInlineModeDisabled");if(st=st||"",st.length>256)throw console.error("[Telegram.WebApp] Inline query is too long",st),Error("WebAppInlineQueryInvalid");var dt=[];if(lt){if(!Array.isArray(lt))throw console.error("[Telegram.WebApp] Choose chat types should be an array",lt),Error("WebAppInlineChooseChatTypesInvalid");for(var Et={users:1,bots:1,groups:1,channels:1},Rt=0;Rt<lt.length;Rt++){var Kt=lt[Rt];if(!Et[Kt])throw console.error("[Telegram.WebApp] Choose chat type is invalid",Kt),Error("WebAppInlineChooseChatTypeInvalid");Et[Kt]!=2&&(Et[Kt]=2,dt.push(Kt))}}t.postEvent("web_app_switch_inline_query",!1,{query:st,chat_types:dt})},g.openLink=function(Et,lt){var dt=document.createElement("A");if(dt.href=Et,dt.protocol!="http:"&&dt.protocol!="https:")throw console.error("[Telegram.WebApp] Url protocol is not supported",Et),Error("WebAppTgUrlInvalid");var Et=dt.href;if(lt=lt||{},Re("6.1")){var Rt={url:Et};Re("6.4")&&lt.try_instant_view&&(Rt.try_instant_view=!0),Re("7.6")&&lt.try_browser&&(Rt.try_browser=lt.try_browser),t.postEvent("web_app_open_link",!1,Rt)}else window.open(Et,"_blank")},g.openTelegramLink=function(st,lt){var dt=document.createElement("A");if(dt.href=st,dt.protocol!="http:"&&dt.protocol!="https:")throw console.error("[Telegram.WebApp] Url protocol is not supported",st),Error("WebAppTgUrlInvalid");if(dt.hostname!="t.me")throw console.error("[Telegram.WebApp] Url host is not supported",st),Error("WebAppTgUrlInvalid");var Et=dt.pathname+dt.search;if(lt=lt||{},s||Re("6.1")){var Rt={path_full:Et};lt.force_request&&(Rt.force_request=!0),t.postEvent("web_app_open_tg_link",!1,Rt)}else location.href="https://t.me"+Et},g.openInvoice=function(st,lt){var dt=document.createElement("A"),Et,Rt;if(dt.href=st,dt.protocol!="http:"&&dt.protocol!="https:"||dt.hostname!="t.me"||!(Et=dt.pathname.match(/^\/(\$|invoice\/)([A-Za-z0-9\-_=]+)$/))||!(Rt=Et[2]))throw console.error("[Telegram.WebApp] Invoice url is invalid",st),Error("WebAppInvoiceUrlInvalid");if(!Re("6.1"))throw console.error("[Telegram.WebApp] Method openInvoice is not supported in version "+o),Error("WebAppMethodUnsupported");if(Ha[Rt])throw console.error("[Telegram.WebApp] Invoice is already opened"),Error("WebAppInvoiceOpened");Ha[Rt]={url:st,callback:lt},t.postEvent("web_app_open_invoice",!1,{slug:Rt})},g.showPopup=function(st,lt){if(!Re("6.2"))throw console.error("[Telegram.WebApp] Method showPopup is not supported in version "+o),Error("WebAppMethodUnsupported");if(Yr)throw console.error("[Telegram.WebApp] Popup is already opened"),Error("WebAppPopupOpened");var dt="",Et="",Rt=[],Kt={};if(typeof st.title<"u"){if(dt=H(st.title),dt.length>64)throw console.error("[Telegram.WebApp] Popup title is too long",dt),Error("WebAppPopupParamInvalid");dt.length>0&&(Kt.title=dt)}if(typeof st.message<"u"&&(Et=H(st.message)),!Et.length)throw console.error("[Telegram.WebApp] Popup message is required",st.message),Error("WebAppPopupParamInvalid");if(Et.length>256)throw console.error("[Telegram.WebApp] Popup message is too long",Et),Error("WebAppPopupParamInvalid");if(Kt.message=Et,typeof st.buttons<"u"){if(!Array.isArray(st.buttons))throw console.error("[Telegram.WebApp] Popup buttons should be an array",st.buttons),Error("WebAppPopupParamInvalid");for(var de=0;de<st.buttons.length;de++){var le=st.buttons[de],fe={},pe="";if(typeof le.id<"u"&&(pe=le.id.toString(),pe.length>64))throw console.error("[Telegram.WebApp] Popup button id is too long",pe),Error("WebAppPopupParamInvalid");fe.id=pe;var We=le.type;if(typeof We>"u"&&(We="default"),fe.type=We,!(We=="ok"||We=="close"||We=="cancel"))if(We=="default"||We=="destructive"){var _t="";if(typeof le.text<"u"&&(_t=H(le.text)),!_t.length)throw console.error("[Telegram.WebApp] Popup button text is required for type "+We,le.text),Error("WebAppPopupParamInvalid");if(_t.length>64)throw console.error("[Telegram.WebApp] Popup button text is too long",_t),Error("WebAppPopupParamInvalid");fe.text=_t}else throw console.error("[Telegram.WebApp] Popup button type is invalid",We),Error("WebAppPopupParamInvalid");Rt.push(fe)}}else Rt.push({id:"",type:"close"});if(Rt.length<1)throw console.error("[Telegram.WebApp] Popup should have at least one button"),Error("WebAppPopupParamInvalid");if(Rt.length>3)throw console.error("[Telegram.WebApp] Popup should not have more than 3 buttons"),Error("WebAppPopupParamInvalid");Kt.buttons=Rt,Yr={callback:lt},t.postEvent("web_app_open_popup",!1,Kt)},g.showAlert=function(st,lt){g.showPopup({message:st},lt?function(){lt()}:null)},g.showConfirm=function(st,lt){g.showPopup({message:st,buttons:[{type:"ok",id:"ok"},{type:"cancel"}]},lt?function(dt){lt(dt=="ok")}:null)},g.showScanQrPopup=function(st,lt){if(!Re("6.4"))throw console.error("[Telegram.WebApp] Method showScanQrPopup is not supported in version "+o),Error("WebAppMethodUnsupported");if(ps)throw console.error("[Telegram.WebApp] Popup is already opened"),Error("WebAppScanQrPopupOpened");var dt="",Et={};if(typeof st.text<"u"){if(dt=H(st.text),dt.length>64)throw console.error("[Telegram.WebApp] Scan QR popup text is too long",dt),Error("WebAppScanQrPopupParamInvalid");dt.length>0&&(Et.text=dt)}ps={callback:lt},t.postEvent("web_app_open_scan_qr_popup",!1,Et)},g.closeScanQrPopup=function(){if(!Re("6.4"))throw console.error("[Telegram.WebApp] Method closeScanQrPopup is not supported in version "+o),Error("WebAppMethodUnsupported");ps=!1,t.postEvent("web_app_close_scan_qr_popup",!1)},g.readTextFromClipboard=function(st){if(!Re("6.4"))throw console.error("[Telegram.WebApp] Method readTextFromClipboard is not supported in version "+o),Error("WebAppMethodUnsupported");var lt=_(16),dt={req_id:lt};Q[lt]={callback:st},t.postEvent("web_app_read_text_from_clipboard",!1,dt)},g.requestWriteAccess=function(st){if(!Re("6.9"))throw console.error("[Telegram.WebApp] Method requestWriteAccess is not supported in version "+o),Error("WebAppMethodUnsupported");if($a)throw console.error("[Telegram.WebApp] Write access is already requested"),Error("WebAppWriteAccessRequested");$a={callback:st},t.postEvent("web_app_request_write_access")},g.requestContact=function(st){if(!Re("6.9"))throw console.error("[Telegram.WebApp] Method requestContact is not supported in version "+o),Error("WebAppMethodUnsupported");if(ua)throw console.error("[Telegram.WebApp] Contact is already requested"),Error("WebAppContactRequested");ua={callback:st},t.postEvent("web_app_request_phone")},g.downloadFile=function(st,lt){if(!Re("8.0"))throw console.error("[Telegram.WebApp] Method downloadFile is not supported in version "+o),Error("WebAppMethodUnsupported");if(gs)throw console.error("[Telegram.WebApp] Popup is already opened"),Error("WebAppDownloadFilePopupOpened");var dt=document.createElement("A"),Et={};if(!st||!st.url||!st.url.length)throw console.error("[Telegram.WebApp] Url is required"),Error("WebAppDownloadFileParamInvalid");if(dt.href=st.url,dt.protocol!="https:")throw console.error("[Telegram.WebApp] Url protocol is not supported",url),Error("WebAppDownloadFileParamInvalid");if(Et.url=dt.href,!st||!st.file_name||!st.file_name.length)throw console.error("[Telegram.WebApp] File name is required"),Error("WebAppDownloadFileParamInvalid");Et.file_name=st.file_name,gs={callback:lt},t.postEvent("web_app_request_file_download",!1,Et)},g.shareToStory=function(st,lt){if(lt=lt||{},!Re("7.8"))throw console.error("[Telegram.WebApp] Method shareToStory is not supported in version "+o),Error("WebAppMethodUnsupported");var dt=document.createElement("A");if(dt.href=st,dt.protocol!="http:"&&dt.protocol!="https:")throw console.error("[Telegram.WebApp] Media url protocol is not supported",url),Error("WebAppMediaUrlInvalid");var Et={};if(Et.media_url=dt.href,typeof lt.text<"u"){var Rt=H(lt.text);if(Rt.length>2048)throw console.error("[Telegram.WebApp] Text is too long",Rt),Error("WebAppShareToStoryParamInvalid");Rt.length>0&&(Et.text=Rt)}if(typeof lt.widget_link<"u"){if(lt.widget_link=lt.widget_link||{},dt.href=lt.widget_link.url,dt.protocol!="http:"&&dt.protocol!="https:")throw console.error("[Telegram.WebApp] Link protocol is not supported",url),Error("WebAppShareToStoryParamInvalid");var Kt={url:dt.href};if(typeof lt.widget_link.name<"u"){var de=H(lt.widget_link.name);if(de.length>48)throw console.error("[Telegram.WebApp] Link name is too long",de),Error("WebAppShareToStoryParamInvalid");de.length>0&&(Kt.name=de)}Et.widget_link=Kt}t.postEvent("web_app_share_to_story",!1,Et)},g.shareMessage=function(st,lt){if(!Re("8.0"))throw console.error("[Telegram.WebApp] Method shareMessage is not supported in version "+o),Error("WebAppMethodUnsupported");if(ye)throw console.error("[Telegram.WebApp] Share message is already opened"),Error("WebAppShareMessageOpened");ye={callback:lt},t.postEvent("web_app_send_prepared_message",!1,{id:st})},g.setEmojiStatus=function(st,lt,dt){if(lt=lt||{},!Re("8.0"))throw console.error("[Telegram.WebApp] Method setEmojiStatus is not supported in version "+o),Error("WebAppMethodUnsupported");var Et={};if(Et.custom_emoji_id=st,typeof lt.duration<"u"&&(Et.duration=lt.duration),Xt)throw console.error("[Telegram.WebApp] Emoji status is already requested"),Error("WebAppEmojiStatusRequested");Xt={callback:dt},t.postEvent("web_app_set_emoji_status",!1,Et)},g.requestEmojiStatusAccess=function(st){if(!Re("8.0"))throw console.error("[Telegram.WebApp] Method requestEmojiStatusAccess is not supported in version "+o),Error("WebAppMethodUnsupported");if(we)throw console.error("[Telegram.WebApp] Emoji status permission is already requested"),Error("WebAppEmojiStatusAccessRequested");we={callback:st},t.postEvent("web_app_request_emoji_status_access")},g.invokeCustomMethod=function(st,lt,dt){fa(st,lt,dt)},g.ready=function(){t.postEvent("web_app_ready")},g.expand=function(){t.postEvent("web_app_expand")},g.close=function(st){st=st||{};var lt={};Re("7.6")&&st.return_back&&(lt.return_back=!0),t.postEvent("web_app_close",!1,lt)},window.Telegram.WebApp=g,fi(),fs(),ha(),ft(),i.tgWebAppShowSettings&&Rr.show(),window.addEventListener("resize",G),s&&document.addEventListener("click",U),t.onEvent("theme_changed",A),t.onEvent("viewport_changed",F),t.onEvent("safe_area_changed",I),t.onEvent("content_safe_area_changed",B),t.onEvent("visibility_changed",k),t.onEvent("invoice_closed",ef),t.onEvent("popup_closed",Cl),t.onEvent("qr_text_received",Fh),t.onEvent("scan_qr_popup_closed",Ih),t.onEvent("clipboard_text_received",Bh),t.onEvent("write_access_requested",rf),t.onEvent("phone_requested",Vs),t.onEvent("file_download_requested",Ka),t.onEvent("custom_method_invoked",El),t.onEvent("fullscreen_changed",Ct),t.onEvent("fullscreen_failed",Nt),t.onEvent("home_screen_added",Ce),t.onEvent("home_screen_checked",ze),t.onEvent("prepared_message_sent",Be),t.onEvent("prepared_message_failed",Gt),t.onEvent("emoji_status_set",ee),t.onEvent("emoji_status_failed",Se),t.onEvent("emoji_status_access_requested",Ze),t.postEvent("web_app_request_theme"),t.postEvent("web_app_request_viewport"),t.postEvent("web_app_request_safe_area"),t.postEvent("web_app_request_content_safe_area")})()),EF}var PF;function PJ(){if(PF)return Uv;PF=1,Object.defineProperty(Uv,"__esModule",{value:!0}),Uv.WebApp=void 0,bJ();var e=window;return Uv.WebApp=e.Telegram.WebApp,Uv}var wF;function wJ(){if(wF)return R0;wF=1,Object.defineProperty(R0,"__esModule",{value:!0});var e=PJ();return R0.default=e.WebApp,R0}var MJ=wJ();const RJ=Up(MJ);class AJ extends EJ{constructor(){super(...arguments);Oe(this,"webApp",RJ)}getAuthParams(){var i;return`?${(i=this.webApp)==null?void 0:i.initData}`}async shareToStory(i){this.webApp.shareToStory(i,{text:"  -     !",widget_link:{name:"  ",url:Wi.APP_URL}})}async vibrate(){var i,s;(s=(i=this.webApp)==null?void 0:i.HapticFeedback)!=null&&s.impactOccurred&&this.webApp.HapticFeedback.impactOccurred("rigid")}}const Nw=new AJ;class OJ extends $${constructor(){super();Oe(this,"instance");Oe(this,"authParams",Nw.getAuthParams());this.instance=gr.create({baseURL:`${Wi.API_URL}/profile`})}async getProfile(){const{data:i}=await this.instance.get(this.getUri(""));return i}async getPrediction(){const{data:i}=await this.instance.get(this.getUri("predictions/random"));return i}async getFreeEssence(){await this.instance.get(this.getUri("free-current"))}async getStoryPath(i){const{data:s}=await this.instance.post(this.getUri("stories"),{id:i});return{url:s.url}}async setLastLogin(){await this.instance.patch(this.getUri("last-login"))}getUri(i){return console.log("this.authParams",this.authParams),`${i}${this.authParams}`}}const ku=new OJ;var LJ=Object.defineProperty,DJ=Object.getOwnPropertyDescriptor,j5=(e,t,i,s)=>{for(var g=DJ(t,i),E=e.length-1,n;E>=0;E--)(n=e[E])&&(g=n(t,i,g)||g);return g&&LJ(t,i,g),g};class Uw extends Jd.Scene{constructor(){super(V$)}preload(){this.load.image(b5,"assets/bg_blur.png"),this.load.image(m5,"assets/logo-epic-forge-games.png"),ku.setLastLogin()}create(){this.scene.start(v5)}}j5([Rh],Uw.prototype,"preload");j5([Rh],Uw.prototype,"create");function Gx(e){return`${Math.round(e*Wi.DEVICE_PIXEL_RATIO)}px`}var wr=(e=>(e.BACK_BUTTON_ON_POINTERDOWN="backButton:onPointerdown",e.FREE_ESSENCE_BUTTON_ON_POINTERDOWN="freeEssenceButton:onPointerdown",e.SHARE_STORY_BUTTON_ON_POINTERDOWN="shareStoryButton:onPointerdown",e.BG_RETURNED="bg:returned",e.BG_SCALED="bg:scaled",e.BALL_ON_POINTERDOWN="ball:onPointerdown",e.PREDICTION_RECEIVED="prediction:received",e.FREE_ESSENCE_RECEIVED="freeEssence:received",e))(wr||{});const FJ=Gx(27),IJ=Gx(27),MF=.64;class Vw{constructor(){Oe(this,"ball");Oe(this,"predictionText");Oe(this,"initialText");Oe(this,"circle");Oe(this,"prediction");Oe(this,"oracleBallDefaultScale");Oe(this,"animationShowPrediction");Oe(this,"animationClosePrediction");Oe(this,"animationPulse");Oe(this,"container");Oe(this,"containerDefaultScale")}static async create(t){const i=new Vw;return await i.init(t),i}async init(t){this.initContainer(t),this.initBall(t),this.initCircle(t),this.initPredictionText(t),this.initInitialText(t),this.circle.on("pointerdown",async()=>{this.deactivateCircle(),this.circle.scene.events.emit(wr.BALL_ON_POINTERDOWN)}),this.animationShowPrediction=this.createAnimationShowPrediction(),this.animationClosePrediction=this.createAnimationClosePrediction(),this.animationPulse=this.createAnimationPulse(),await this.asyncPlayAnimationInitBall(),this.animationPulse.play()}initContainer(t){const i=t.scale.width/2,s=t.scale.height/2;this.container=t.add.container(i,s,[]),this.container.setAlpha(0),this.containerDefaultScale=this.container.scale}initBall(t){const i=t.scale.width/Wi.BASE_WIDTH,s=t.scale.height/Wi.BASE_HEIGHT,g=Math.max(i,s),E=0,n=28*g;this.ball=t.add.image(E,n,g5),this.ball.setOrigin(.5),this.ball.setScale(g),this.oracleBallDefaultScale=g,this.container.add(this.ball)}initPredictionText(t){this.predictionText=t.add.text(0,0,"",{fontFamily:"MonotypeCorsiva",fontSize:FJ,color:"#833414",align:"center",wordWrap:{width:this.ball.displayWidth+this.ball.displayWidth*MF*.8}}),this.predictionText.setOrigin(.5,.5),this.predictionText.setVisible(!1),this.predictionText.setY(0-this.ball.displayHeight*.13),this.container.add(this.predictionText)}initInitialText(t){this.initialText=t.add.text(0,0,"   ?",{fontFamily:"MonotypeCorsiva",fontSize:IJ,color:"#833414",align:"center",wordWrap:{width:this.ball.displayWidth-100}}),this.initialText.setOrigin(.5,.5),this.initialText.setY(0-this.circle.displayHeight*.05),this.container.add(this.initialText)}initCircle(t){const i=t.scale.width/Wi.BASE_WIDTH,s=t.scale.height/Wi.BASE_HEIGHT,g=Math.max(i,s),E=this.ball.width*g/2;this.circle=t.add.circle(0,0,E,0,0),this.circle.setY(this.ball.y-this.ball.height*.065),this.activateCircle(),this.container.add(this.circle)}shakeEffect(){this.container.scene.tweens.add({targets:this.container,angle:{from:-7,to:7},duration:50,yoyo:!0,repeat:5,onComplete:()=>{this.container.angle=0}})}handleBallClick(t){this.initialText.setVisible(!1),this.prediction=t,this.animationPulse.stop(),this.container.scene.tweens.add({targets:this.container,alpha:1,scale:this.containerDefaultScale,duration:300,ease:"Sine.easeOut"}),this.animationShowPrediction.play()}asyncPlayAnimationInitBall(){return new Promise(t=>{this.container.scene.tweens.add({targets:this.container,alpha:1,duration:600,ease:"Sine.easeOut",onComplete:t})})}createAnimationShowPrediction(){return this.ball.scene.tweens.add({targets:this.ball,scale:this.oracleBallDefaultScale+this.oracleBallDefaultScale*MF,duration:2e3,ease:"Power2",paused:!0,onComplete:()=>{this.showPrediction(),this.animationClosePrediction=this.createAnimationClosePrediction()}})}createAnimationClosePrediction(){return this.ball.scene.tweens.add({targets:this.ball,scale:this.oracleBallDefaultScale,duration:750,ease:"Power2",paused:!0,onComplete:()=>{this.ball.setInteractive(),this.initialText.setVisible(!0),this.animationShowPrediction=this.createAnimationShowPrediction(),this.animationPulse=this.createAnimationPulse(),this.animationPulse.play(),this.activateCircle()}})}createAnimationPulse(){return this.container.scene.tweens.add({targets:this.container,alpha:{from:1,to:.9},scale:{from:1,to:.95},duration:1500,repeatDelay:300,yoyo:!0,repeat:-1,ease:"Sine.easeInOut",paused:!0})}showPrediction(){this.predictionText.setText(this.prediction),this.predictionText.setVisible(!0)}hidePrediction(){this.predictionText.setVisible(!1),this.predictionText.setText("")}deactivateCircle(){this.circle.disableInteractive()}activateCircle(){this.circle.setInteractive()}reset(){this.hidePrediction(),this.animationClosePrediction.play()}}const RF=1440*60*1e3,BJ=Gx(11);class zw{constructor(t){Oe(this,"lastFreeCrediting",null);Oe(this,"text");Oe(this,"getButton");Oe(this,"board");Oe(this,"isBoardWithButtonVisible",!1);Oe(this,"isBoardWithTimerVisible",!1);Oe(this,"timerEvent");Oe(this,"container");Oe(this,"hidden",!1);this.lastFreeCrediting=t,console.log("constructor this.lastFreeCrediting",this.lastFreeCrediting)}static async create(t,i){const s=new zw(i);return await s.init(t),t.events.on(wr.BG_RETURNED,()=>{s.show()}),s}async init(t){this.initBoard(t),this.initContainer(t),this.initGetButton(t),this.initText(t),this.setState(),this.getButton.on("pointerdown",()=>{this.hide(),t.events.emit(wr.FREE_ESSENCE_BUTTON_ON_POINTERDOWN)})}initBoard(t){this.board=t.add.image(0,0,S5),this.board.setOrigin(0,0);const i=jy/this.board.height;this.board.setScale(i)}initGetButton(t){const{displayWidth:i,displayHeight:s}=this.board;this.getButton=t.add.image(i/2,s/2,T5),this.getButton.setInteractive(),this.getButton.setOrigin(.5,.5);const{width:g,height:E}=this.getButton,{width:n,height:T}=t.cameras.main,r=n/g*.2,o=T/E*.2,y=Math.min(r,o);this.getButton.setScale(y),this.getButton.setVisible(!1),this.container.add(this.getButton)}initText(t){this.text=t.add.text(0,0,"",{fontSize:BJ,color:"#fff",align:"center",wordWrap:{width:this.board.displayWidth}}),this.text.setOrigin(.5,.5),this.text.setX(this.board.displayWidth/2),this.text.setY(this.board.displayHeight/2),this.text.setVisible(!1),this.container.add(this.text)}initContainer(t){this.container=t.add.container(5,0-jy,[this.board])}async showHandler(){return this.hidden?null:new Promise(t=>{this.container.scene.tweens.add({targets:this.container,y:0,duration:500,ease:"Power2",onComplete:()=>{t(null)}})})}async hideHandler(){return new Promise(t=>{this.container.scene.tweens.add({targets:this.container,y:0-jy,duration:500,ease:"Power2",onComplete:()=>{t(null)}})})}async hideBoardWithTimer(){this.text.setVisible(!1),await this.hideHandler(),this.isBoardWithTimerVisible=!1}showBoardWithTimer(){this.isBoardWithButtonVisible?this.hideBoardWithButton().then(()=>{this.text.setVisible(!0),this.showHandler()}):(this.text.setVisible(!0),this.showHandler()),this.isBoardWithTimerVisible=!0}async hideBoardWithButton(){this.getButton.setVisible(!1),await this.hideHandler(),this.isBoardWithButtonVisible=!1}showBoardWithButton(){this.isBoardWithTimerVisible?this.hideBoardWithTimer().then(()=>{this.getButton.setVisible(!0),this.showHandler()}):(this.getButton.setVisible(!0),this.showHandler()),this.isBoardWithButtonVisible=!0}hide(){this.hidden=!0,this.hideHandler()}show(){this.hidden=!1,this.setState()}updateLastFreeCrediting(t){this.lastFreeCrediting!==t&&(this.lastFreeCrediting=t,this.setState())}setState(){const t=Date.now();RF-(t-(this.lastFreeCrediting||0))>0?this.runTimer():this.showBoardWithButton()}runTimer(){this.timerEvent=this.text.scene.time.addEvent({delay:1e3,callback:()=>this.updateTimer(),loop:!0})}stopTimer(){var t;(t=this.timerEvent)==null||t.remove()}updateTimer(){const t=Date.now(),i=RF-(t-(this.lastFreeCrediting||0));if(i>0){const s=Math.floor(i/36e5),g=Math.floor(i%(3600*1e3)/(60*1e3)),E=Math.floor(i%(60*1e3)/1e3);this.text.setText(`  
 ${s} ${g} ${E}`),this.showBoardWithTimer()}else this.stopTimer(),this.showBoardWithButton()}}const GJ=.1;class SMt extends Jd.GameObjects.Image{constructor(i,s,g,E,n){super(i,s,g,n?X$:Y$);Oe(this,"value",GJ);this.displayWidth=E,this.displayHeight=E,i.add.existing(this),console.log("CellEntity constructor")}accrueFunds(){this.scene.events.emit("increase_balance",this.value)}}class Q5 extends Vp.GameObjects.Image{constructor(i,s){const g=i.scale.width/2,E=i.scale.height/2;super(i,g,E,s?b5:E5);Oe(this,"bgDefaultScale");Oe(this,"blurEffect",null);const n=s?this.width:Wi.BASE_WIDTH,T=s?this.height:Wi.BASE_HEIGHT,r=i.scale.width/n,o=i.scale.height/T,y=Math.max(r,o);this.setOrigin(.5),this.setScale(y),this.setScrollFactor(0),this.bgDefaultScale=y,i.add.existing(this),s&&this.preFX&&(this.blurEffect=this.preFX.addBlur(2,2,2,1,16777215,4))}runScaleAnimation(){this.scene.tweens.add({targets:this,scale:this.bgDefaultScale+this.bgDefaultScale*.64,duration:2e3,ease:"Power2",onComplete:()=>{this.scene.events.emit(wr.BG_SCALED)}})}runReturnScaleAnimation(){this.scene.tweens.add({targets:this,scale:this.bgDefaultScale,duration:750,ease:"Power2",onComplete:()=>{this.scene.events.emit(wr.BG_RETURNED)}})}async cleanup(){if(this.blurEffect&&this.preFX)return new Promise(i=>{this.scene.tweens.add({targets:this.blurEffect,strength:0,duration:500,onComplete:()=>{var s;(s=this.preFX)==null||s.remove(this.blurEffect),this.blurEffect=null,i()}})})}}class kJ extends Vp.GameObjects.Image{constructor(t){super(t,0,0,x5);const i=t.cameras.main.width/Wi.BASE_WIDTH,s=t.cameras.main.height/Wi.BASE_HEIGHT,g=Math.max(i,s);this.setScale(g),this.setX(t.cameras.main.width/2),this.setY(t.cameras.main.height-75*Wi.DEVICE_PIXEL_RATIO),this.setVisible(!1),this.setInteractive(),this.setOrigin(.5,.5),t.add.existing(this),this.startPulseAnimation(),this.on("pointerdown",()=>{this.setVisible(!1),setTimeout(()=>{this.setVisible(!0)},2e3),t.events.emit(wr.SHARE_STORY_BUTTON_ON_POINTERDOWN)})}startPulseAnimation(){this.scene.tweens.add({targets:this,scale:this.scale*1.1,duration:800,ease:"Sine.easeInOut",yoyo:!0,repeat:-1})}onPointerdown(t){this.off("pointerdown"),this.on("pointerdown",t)}}class NJ extends Vp.GameObjects.Image{constructor(t){super(t,0,0,y5);const i=t.cameras.main.width/Wi.BASE_WIDTH,s=t.cameras.main.height/Wi.BASE_HEIGHT,g=Math.max(i,s);this.setScale(g),this.setX(this.width+10*g),this.setY(this.width+10*g),this.setVisible(!1),this.setInteractive(),t.add.existing(this),this.onPointerdown(()=>{t.events.emit(wr.BACK_BUTTON_ON_POINTERDOWN),this.setVisible(!1)})}onPointerdown(t){this.on("pointerdown",t)}}const q5=new Vp.Events.EventEmitter;function UJ(e,t){return`${e}_${t}`}function _5(e){return UJ("update_store",e)}var Fu=(e=>(e.PROFILE="profile",e))(Fu||{});class VJ{constructor(){Oe(this,"store",{})}set(t,i,s){this.store[t]=i,s!=null&&s.skipEmmit||q5.emit(_5(t),i)}get(t){return this.store[t]}}const xp=new VJ,zJ=Gx(15);class Ww{constructor(){Oe(this,"text");Oe(this,"board");Oe(this,"container")}static async create(t,i){const s=new Ww;return s.init(t,i),s}init(t,i){this.initBoard(t),this.initText(t),this.initContainer(t),this.updateBalance(i),this.show()}initBoard(t){this.board=t.add.image(0,0,C5),this.board.setOrigin(0,0);const i=_P/this.board.height;this.board.setScale(i)}initText(t){this.text=t.add.text(0,0,"",{fontSize:zJ,color:"#fff",wordWrap:{width:this.board.displayWidth}}),this.text.setOrigin(0,.5),this.text.setX(this.board.displayWidth/2),this.text.setY(this.board.displayHeight/2)}initContainer(t){this.container=t.add.container(t.cameras.main.width,jy-_P-4,[this.board,this.text]),this.container.setSize(this.board.width*this.board.scale,this.board.height*this.board.scale)}updateBalance(t){this.text.setText(String(t))}show(){this.container.scene.tweens.add({targets:this.container,x:this.container.scene.cameras.main.width-this.board.displayWidth-5,duration:500,ease:"Power2"})}hide(){this.container.scene.tweens.add({targets:this.container,x:this.container.scene.cameras.main.width+this.board.displayWidth+5,duration:500,ease:"Power2"})}}var aw=function(e,t){return aw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var g in s)Object.prototype.hasOwnProperty.call(s,g)&&(i[g]=s[g])},aw(e,t)};function Gs(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");aw(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}var Te=function(){return Te=Object.assign||function(t){for(var i,s=1,g=arguments.length;s<g;s++){i=arguments[s];for(var E in i)Object.prototype.hasOwnProperty.call(i,E)&&(t[E]=i[E])}return t},Te.apply(this,arguments)};function ow(e,t){var i={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(i[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var g=0,s=Object.getOwnPropertySymbols(e);g<s.length;g++)t.indexOf(s[g])<0&&Object.prototype.propertyIsEnumerable.call(e,s[g])&&(i[s[g]]=e[s[g]]);return i}function oe(e,t,i,s){function g(E){return E instanceof i?E:new i(function(n){n(E)})}return new(i||(i=Promise))(function(E,n){function T(y){try{o(s.next(y))}catch(d){n(d)}}function r(y){try{o(s.throw(y))}catch(d){n(d)}}function o(y){y.done?E(y.value):g(y.value).then(T,r)}o((s=s.apply(e,t||[])).next())})}function te(e,t){var i={label:0,sent:function(){if(E[0]&1)throw E[1];return E[1]},trys:[],ops:[]},s,g,E,n=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return n.next=T(0),n.throw=T(1),n.return=T(2),typeof Symbol=="function"&&(n[Symbol.iterator]=function(){return this}),n;function T(o){return function(y){return r([o,y])}}function r(o){if(s)throw new TypeError("Generator is already executing.");for(;n&&(n=0,o[0]&&(i=0)),i;)try{if(s=1,g&&(E=o[0]&2?g.return:o[0]?g.throw||((E=g.return)&&E.call(g),0):g.next)&&!(E=E.call(g,o[1])).done)return E;switch(g=0,E&&(o=[o[0]&2,E.value]),o[0]){case 0:case 1:E=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,g=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(E=i.trys,!(E=E.length>0&&E[E.length-1])&&(o[0]===6||o[0]===2)){i=0;continue}if(o[0]===3&&(!E||o[1]>E[0]&&o[1]<E[3])){i.label=o[1];break}if(o[0]===6&&i.label<E[1]){i.label=E[1],E=o;break}if(E&&i.label<E[2]){i.label=E[2],i.ops.push(o);break}E[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(y){o=[6,y],g=0}finally{s=E=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}function Mr(e){var t=typeof Symbol=="function"&&Symbol.iterator,i=t&&e[t],s=0;if(i)return i.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&s>=e.length&&(e=void 0),{value:e&&e[s++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Li(e,t){var i=typeof Symbol=="function"&&e[Symbol.iterator];if(!i)return e;var s=i.call(e),g,E=[],n;try{for(;(t===void 0||t-- >0)&&!(g=s.next()).done;)E.push(g.value)}catch(T){n={error:T}}finally{try{g&&!g.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return E}function tn(e,t,i){if(i||arguments.length===2)for(var s=0,g=t.length,E;s<g;s++)(E||!(s in t))&&(E||(E=Array.prototype.slice.call(t,0,s)),E[s]=t[s]);return e.concat(E||Array.prototype.slice.call(t))}function kd(e){return this instanceof kd?(this.v=e,this):new kd(e)}function WJ(e,t,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=i.apply(e,t||[]),g,E=[];return g=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),T("next"),T("throw"),T("return",n),g[Symbol.asyncIterator]=function(){return this},g;function n(l){return function(a){return Promise.resolve(a).then(l,d)}}function T(l,a){s[l]&&(g[l]=function(f){return new Promise(function(c,u){E.push([l,f,c,u])>1||r(l,f)})},a&&(g[l]=a(g[l])))}function r(l,a){try{o(s[l](a))}catch(f){h(E[0][3],f)}}function o(l){l.value instanceof kd?Promise.resolve(l.value.v).then(y,d):h(E[0][2],l)}function y(l){r("next",l)}function d(l){r("throw",l)}function h(l,a){l(a),E.shift(),E.length&&r(E[0][0],E[0][1])}}function YJ(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],i;return t?t.call(e):(e=typeof Mr=="function"?Mr(e):e[Symbol.iterator](),i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i);function s(E){i[E]=e[E]&&function(n){return new Promise(function(T,r){n=e[E](n),g(T,r,n.done,n.value)})}}function g(E,n,T,r){Promise.resolve(r).then(function(o){E({value:o,done:T})},n)}}var XJ="Event tracked successfully",HJ="Unexpected error occurred",$J="Event rejected due to exceeded retry count",KJ="Event skipped due to optOut config",JJ="Event rejected due to missing API key",ZJ="Invalid API key",jJ="Client not initialized",jr;(function(e){e.SET="$set",e.SET_ONCE="$setOnce",e.ADD="$add",e.APPEND="$append",e.PREPEND="$prepend",e.REMOVE="$remove",e.PREINSERT="$preInsert",e.POSTINSERT="$postInsert",e.UNSET="$unset",e.CLEAR_ALL="$clearAll"})(jr||(jr={}));var Iu;(function(e){e.REVENUE_PRODUCT_ID="$productId",e.REVENUE_QUANTITY="$quantity",e.REVENUE_PRICE="$price",e.REVENUE_TYPE="$revenueType",e.REVENUE="$revenue"})(Iu||(Iu={}));var Wd;(function(e){e.IDENTIFY="$identify",e.GROUP_IDENTIFY="$groupidentify",e.REVENUE="revenue_amount"})(Wd||(Wd={}));var Ds;(function(e){e[e.None=0]="None",e[e.Error=1]="Error",e[e.Warn=2]="Warn",e[e.Verbose=3]="Verbose",e[e.Debug=4]="Debug"})(Ds||(Ds={}));var cx;(function(e){e.US="US",e.EU="EU"})(cx||(cx={}));var hr;(function(e){e.Unknown="unknown",e.Skipped="skipped",e.Success="success",e.RateLimit="rate_limit",e.PayloadTooLarge="payload_too_large",e.Invalid="invalid",e.Failed="failed",e.Timeout="Timeout",e.SystemError="SystemError"})(hr||(hr={}));var QJ=null,qJ=["a","button","input","select","textarea","label","video","audio",'[contenteditable="true" i]',"[data-amp-default-track]",".amp-default-track"],_J="data-amp-track-",tZ=["div","span","h1","h2","h3","h4","h5","h6"],Nd=function(e,t,i){return t===void 0&&(t=0),i===void 0&&(i=hr.Unknown),{event:e,code:t,message:i}},Qd=function(e){return e?(e^Math.random()*16>>e/4).toString(16):(String(1e7)+String(-1e3)+String(-4e3)+String(-8e3)+String(-1e11)).replace(/[018]/g,Qd)},eZ=(function(){function e(t){this.client=t,this.queue=[],this.applying=!1,this.plugins=[]}return e.prototype.register=function(t,i){var s,g;return oe(this,void 0,void 0,function(){return te(this,function(E){switch(E.label){case 0:return this.plugins.some(function(n){return n.name===t.name})?(i.loggerProvider.warn("Plugin with name ".concat(t.name," already exists, skipping registration")),[2]):(t.name===void 0&&(t.name=Qd(),i.loggerProvider.warn(`Plugin name is undefined. 
      Generating a random UUID for plugin name: `.concat(t.name,`. 
      Set a name for the plugin to prevent it from being added multiple times.`))),t.type=(s=t.type)!==null&&s!==void 0?s:"enrichment",[4,(g=t.setup)===null||g===void 0?void 0:g.call(t,i,this.client)]);case 1:return E.sent(),this.plugins.push(t),[2]}})})},e.prototype.deregister=function(t,i){var s;return oe(this,void 0,void 0,function(){var g,E;return te(this,function(n){switch(n.label){case 0:return g=this.plugins.findIndex(function(T){return T.name===t}),g===-1?(i.loggerProvider.warn("Plugin with name ".concat(t," does not exist, skipping deregistration")),[2]):(E=this.plugins[g],this.plugins.splice(g,1),[4,(s=E.teardown)===null||s===void 0?void 0:s.call(E)]);case 1:return n.sent(),[2]}})})},e.prototype.reset=function(t){this.applying=!1;var i=this.plugins;i.map(function(s){var g;return(g=s.teardown)===null||g===void 0?void 0:g.call(s)}),this.plugins=[],this.client=t},e.prototype.push=function(t){var i=this;return new Promise(function(s){i.queue.push([t,s]),i.scheduleApply(0)})},e.prototype.scheduleApply=function(t){var i=this;this.applying||(this.applying=!0,setTimeout(function(){i.apply(i.queue.shift()).then(function(){i.applying=!1,i.queue.length>0&&i.scheduleApply(0)})},t))},e.prototype.apply=function(t){return oe(this,void 0,void 0,function(){var i,s,g,E,n,T,r,l,a,o,y,d,h,l,a,f,c,u,v,p,m,x;return te(this,function(C){switch(C.label){case 0:if(!t)return[2];i=Li(t,1),s=i[0],g=Li(t,2),E=g[1],n=this.plugins.filter(function(P){return P.type==="before"}),C.label=1;case 1:C.trys.push([1,6,7,8]),T=Mr(n),r=T.next(),C.label=2;case 2:return r.done?[3,5]:(l=r.value,l.execute?[4,l.execute(Te({},s))]:[3,4]);case 3:if(a=C.sent(),a===null)return E({event:s,code:0,message:""}),[2];s=a,C.label=4;case 4:return r=T.next(),[3,2];case 5:return[3,8];case 6:return o=C.sent(),v={error:o},[3,8];case 7:try{r&&!r.done&&(p=T.return)&&p.call(T)}finally{if(v)throw v.error}return[7];case 8:y=this.plugins.filter(function(P){return P.type==="enrichment"||P.type===void 0}),C.label=9;case 9:C.trys.push([9,14,15,16]),d=Mr(y),h=d.next(),C.label=10;case 10:return h.done?[3,13]:(l=h.value,l.execute?[4,l.execute(Te({},s))]:[3,12]);case 11:if(a=C.sent(),a===null)return E({event:s,code:0,message:""}),[2];s=a,C.label=12;case 12:return h=d.next(),[3,10];case 13:return[3,16];case 14:return f=C.sent(),m={error:f},[3,16];case 15:try{h&&!h.done&&(x=d.return)&&x.call(d)}finally{if(m)throw m.error}return[7];case 16:return c=this.plugins.filter(function(P){return P.type==="destination"}),u=c.map(function(P){var w=Te({},s);return P.execute(w).catch(function(M){return Nd(w,0,String(M))})}),Promise.all(u).then(function(P){var w=Li(P,1),M=w[0],R=M||Nd(s,100,"Event not tracked, no destination plugins on the instance");E(R)}),[2]}})})},e.prototype.flush=function(){return oe(this,void 0,void 0,function(){var t,i,s,g=this;return te(this,function(E){switch(E.label){case 0:return t=this.queue,this.queue=[],[4,Promise.all(t.map(function(n){return g.apply(n)}))];case 1:return E.sent(),i=this.plugins.filter(function(n){return n.type==="destination"}),s=i.map(function(n){return n.flush&&n.flush()}),[4,Promise.all(s)];case 2:return E.sent(),[2]}})})},e})(),AF="-",kx="AMP",iZ="".concat(kx,"_unsent"),t9="https://api2.amplitude.com/2/httpapi",rZ="https://api.eu.amplitude.com/2/httpapi",nZ="https://api2.amplitude.com/batch",sZ="https://api.eu.amplitude.com/batch",aZ=1e3,lw=function(e){if(Object.keys(e).length>aZ)return!1;for(var t in e){var i=e[t];if(!e9(t,i))return!1}return!0},e9=function(e,t){var i,s;if(typeof e!="string")return!1;if(Array.isArray(t)){var g=!0;try{for(var E=Mr(t),n=E.next();!n.done;n=E.next()){var T=n.value;if(Array.isArray(T))return!1;if(typeof T=="object")g=g&&lw(T);else if(!["number","string"].includes(typeof T))return!1;if(!g)return!1}}catch(r){i={error:r}}finally{try{n&&!n.done&&(s=E.return)&&s.call(E)}finally{if(i)throw i.error}}}else{if(t==null)return!1;if(typeof t=="object")return lw(t);if(!["number","string","boolean"].includes(typeof t))return!1}return!0},Yd=(function(){function e(){this._propertySet=new Set,this._properties={}}return e.prototype.getUserProperties=function(){return Te({},this._properties)},e.prototype.set=function(t,i){return this._safeSet(jr.SET,t,i),this},e.prototype.setOnce=function(t,i){return this._safeSet(jr.SET_ONCE,t,i),this},e.prototype.append=function(t,i){return this._safeSet(jr.APPEND,t,i),this},e.prototype.prepend=function(t,i){return this._safeSet(jr.PREPEND,t,i),this},e.prototype.postInsert=function(t,i){return this._safeSet(jr.POSTINSERT,t,i),this},e.prototype.preInsert=function(t,i){return this._safeSet(jr.PREINSERT,t,i),this},e.prototype.remove=function(t,i){return this._safeSet(jr.REMOVE,t,i),this},e.prototype.add=function(t,i){return this._safeSet(jr.ADD,t,i),this},e.prototype.unset=function(t){return this._safeSet(jr.UNSET,t,AF),this},e.prototype.clearAll=function(){return this._properties={},this._properties[jr.CLEAR_ALL]=AF,this},e.prototype._safeSet=function(t,i,s){if(this._validate(t,i,s)){var g=this._properties[t];return g===void 0&&(g={},this._properties[t]=g),g[i]=s,this._propertySet.add(i),!0}return!1},e.prototype._validate=function(t,i,s){return this._properties[jr.CLEAR_ALL]!==void 0||this._propertySet.has(i)?!1:t===jr.ADD?typeof s=="number":t!==jr.UNSET&&t!==jr.REMOVE?e9(i,s):!0},e})(),oZ=function(e,t,i){var s=typeof e=="string"?{event_type:e}:e;return Te(Te(Te({},s),i),t&&{event_properties:t})},i9=function(e,t){var i=Te(Te({},t),{event_type:Wd.IDENTIFY,user_properties:e.getUserProperties()});return i},lZ=function(e,t,i,s){var g,E=Te(Te({},s),{event_type:Wd.GROUP_IDENTIFY,group_properties:i.getUserProperties(),groups:(g={},g[e]=t,g)});return E},hZ=function(e,t,i){var s,g=new Yd;g.set(e,t);var E=Te(Te({},i),{event_type:Wd.IDENTIFY,user_properties:g.getUserProperties(),groups:(s={},s[e]=t,s)});return E},uZ=function(e,t){return Te(Te({},t),{event_type:Wd.REVENUE,event_properties:e.getEventProperties()})},as=function(e){return{promise:e||Promise.resolve()}},fZ=(function(){function e(t){t===void 0&&(t="$default"),this.initializing=!1,this.isReady=!1,this.q=[],this.dispatchQ=[],this.logEvent=this.track.bind(this),this.timeline=new eZ(this),this.name=t}return e.prototype._init=function(t){return oe(this,void 0,void 0,function(){return te(this,function(i){switch(i.label){case 0:return this.config=t,this.timeline.reset(this),[4,this.runQueuedFunctions("q")];case 1:return i.sent(),this.isReady=!0,[2]}})})},e.prototype.runQueuedFunctions=function(t){return oe(this,void 0,void 0,function(){var i,s,g,E,n,T,r,o;return te(this,function(y){switch(y.label){case 0:i=this[t],this[t]=[],y.label=1;case 1:y.trys.push([1,8,9,10]),s=Mr(i),g=s.next(),y.label=2;case 2:return g.done?[3,7]:(E=g.value,n=E(),n&&"promise"in n?[4,n.promise]:[3,4]);case 3:return y.sent(),[3,6];case 4:return[4,n];case 5:y.sent(),y.label=6;case 6:return g=s.next(),[3,2];case 7:return[3,10];case 8:return T=y.sent(),r={error:T},[3,10];case 9:try{g&&!g.done&&(o=s.return)&&o.call(s)}finally{if(r)throw r.error}return[7];case 10:return this[t].length?[4,this.runQueuedFunctions(t)]:[3,12];case 11:y.sent(),y.label=12;case 12:return[2]}})})},e.prototype.track=function(t,i,s){var g=oZ(t,i,s);return as(this.dispatch(g))},e.prototype.identify=function(t,i){var s=i9(t,i);return as(this.dispatch(s))},e.prototype.groupIdentify=function(t,i,s,g){var E=lZ(t,i,s,g);return as(this.dispatch(E))},e.prototype.setGroup=function(t,i,s){var g=hZ(t,i,s);return as(this.dispatch(g))},e.prototype.revenue=function(t,i){var s=uZ(t,i);return as(this.dispatch(s))},e.prototype.add=function(t){return this.isReady?this._addPlugin(t):(this.q.push(this._addPlugin.bind(this,t)),as())},e.prototype._addPlugin=function(t){return as(this.timeline.register(t,this.config))},e.prototype.remove=function(t){return this.isReady?this._removePlugin(t):(this.q.push(this._removePlugin.bind(this,t)),as())},e.prototype._removePlugin=function(t){return as(this.timeline.deregister(t,this.config))},e.prototype.dispatchWithCallback=function(t,i){if(!this.isReady)return i(Nd(t,0,jJ));this.process(t).then(i)},e.prototype.dispatch=function(t){return oe(this,void 0,void 0,function(){var i=this;return te(this,function(s){return this.isReady?[2,this.process(t)]:[2,new Promise(function(g){i.dispatchQ.push(i.dispatchWithCallback.bind(i,t,g))})]})})},e.prototype.process=function(t){return oe(this,void 0,void 0,function(){var g,i,s,g;return te(this,function(E){switch(E.label){case 0:return E.trys.push([0,2,,3]),this.config.optOut?[2,Nd(t,0,KJ)]:[4,this.timeline.push(t)];case 1:return g=E.sent(),g.code===200?this.config.loggerProvider.log(g.message):g.code===100?this.config.loggerProvider.warn(g.message):this.config.loggerProvider.error(g.message),[2,g];case 2:return i=E.sent(),s=String(i),this.config.loggerProvider.error(s),g=Nd(t,0,s),[2,g];case 3:return[2]}})})},e.prototype.setOptOut=function(t){if(!this.isReady){this.q.push(this._setOptOut.bind(this,!!t));return}this._setOptOut(t)},e.prototype._setOptOut=function(t){this.config.optOut=!!t},e.prototype.flush=function(){return as(this.timeline.flush())},e})(),dZ=(function(){function e(){this.productId="",this.quantity=1,this.price=0}return e.prototype.setProductId=function(t){return this.productId=t,this},e.prototype.setQuantity=function(t){return t>0&&(this.quantity=t),this},e.prototype.setPrice=function(t){return this.price=t,this},e.prototype.setRevenueType=function(t){return this.revenueType=t,this},e.prototype.setRevenue=function(t){return this.revenue=t,this},e.prototype.setEventProperties=function(t){return lw(t)&&(this.properties=t),this},e.prototype.getEventProperties=function(){var t=this.properties?Te({},this.properties):{};return t[Iu.REVENUE_PRODUCT_ID]=this.productId,t[Iu.REVENUE_QUANTITY]=this.quantity,t[Iu.REVENUE_PRICE]=this.price,t[Iu.REVENUE_TYPE]=this.revenueType,t[Iu.REVENUE]=this.revenue,t},e})(),cZ=function(e,t){var i=Math.max(t,1);return e.reduce(function(s,g,E){var n=Math.floor(E/i);return s[n]||(s[n]=[]),s[n].push(g),s},[])},A0="Amplitude Logger ",r9=(function(){function e(){this.logLevel=Ds.None}return e.prototype.disable=function(){this.logLevel=Ds.None},e.prototype.enable=function(t){t===void 0&&(t=Ds.Warn),this.logLevel=t},e.prototype.log=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];this.logLevel<Ds.Verbose||console.log("".concat(A0,"[Log]: ").concat(t.join(" ")))},e.prototype.warn=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];this.logLevel<Ds.Warn||console.warn("".concat(A0,"[Warn]: ").concat(t.join(" ")))},e.prototype.error=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];this.logLevel<Ds.Error||console.error("".concat(A0,"[Error]: ").concat(t.join(" ")))},e.prototype.debug=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];this.logLevel<Ds.Debug||console.log("".concat(A0,"[Debug]: ").concat(t.join(" ")))},e})(),tx=function(){return{flushMaxRetries:12,flushQueueSize:200,flushIntervalMillis:1e4,instanceName:"$default_instance",logLevel:Ds.Warn,loggerProvider:new r9,offline:!1,optOut:!1,serverUrl:t9,serverZone:"US",useBatch:!1}},vZ=(function(){function e(t){var i,s,g,E;this._optOut=!1;var n=tx();this.apiKey=t.apiKey,this.flushIntervalMillis=(i=t.flushIntervalMillis)!==null&&i!==void 0?i:n.flushIntervalMillis,this.flushMaxRetries=t.flushMaxRetries||n.flushMaxRetries,this.flushQueueSize=t.flushQueueSize||n.flushQueueSize,this.instanceName=t.instanceName||n.instanceName,this.loggerProvider=t.loggerProvider||n.loggerProvider,this.logLevel=(s=t.logLevel)!==null&&s!==void 0?s:n.logLevel,this.minIdLength=t.minIdLength,this.plan=t.plan,this.ingestionMetadata=t.ingestionMetadata,this.offline=t.offline!==void 0?t.offline:n.offline,this.optOut=(g=t.optOut)!==null&&g!==void 0?g:n.optOut,this.serverUrl=t.serverUrl,this.serverZone=t.serverZone||n.serverZone,this.storageProvider=t.storageProvider,this.transportProvider=t.transportProvider,this.useBatch=(E=t.useBatch)!==null&&E!==void 0?E:n.useBatch,this.loggerProvider.enable(this.logLevel);var T=n9(t.serverUrl,t.serverZone,t.useBatch);this.serverZone=T.serverZone,this.serverUrl=T.serverUrl}return Object.defineProperty(e.prototype,"optOut",{get:function(){return this._optOut},set:function(t){this._optOut=t},enumerable:!1,configurable:!0}),e})(),pZ=function(e,t){return e==="EU"?t?sZ:rZ:t?nZ:t9},n9=function(e,t,i){if(e===void 0&&(e=""),t===void 0&&(t=tx().serverZone),i===void 0&&(i=tx().useBatch),e)return{serverUrl:e,serverZone:void 0};var s=["US","EU"].includes(t)?t:tx().serverZone;return{serverZone:s,serverUrl:pZ(s,i)}},s9=(function(){function e(){this.sdk={metrics:{histogram:{}}}}return e.prototype.recordHistogram=function(t,i){this.sdk.metrics.histogram[t]=i},e})();function gZ(e){return e instanceof Error?e.message:String(e)}function O0(e){var t="";try{"body"in e&&(t=JSON.stringify(e.body,null,2))}catch{}return t}var mZ=(function(){function e(){this.name="amplitude",this.type="destination",this.retryTimeout=1e3,this.throttleTimeout=3e4,this.storageKey="",this.scheduled=null,this.queue=[]}return e.prototype.setup=function(t){var i;return oe(this,void 0,void 0,function(){var s,g=this;return te(this,function(E){switch(E.label){case 0:return this.config=t,this.storageKey="".concat(iZ,"_").concat(this.config.apiKey.substring(0,10)),[4,(i=this.config.storageProvider)===null||i===void 0?void 0:i.get(this.storageKey)];case 1:return s=E.sent(),s&&s.length>0&&Promise.all(s.map(function(n){return g.execute(n)})).catch(),[2,Promise.resolve(void 0)]}})})},e.prototype.execute=function(t){var i=this;return t.insert_id||(t.insert_id=Qd()),new Promise(function(s){var g={event:t,attempts:0,callback:function(E){return s(E)},timeout:0};i.addToQueue(g)})},e.prototype.getTryableList=function(t){var i=this;return t.filter(function(s){return s.attempts<i.config.flushMaxRetries?(s.attempts+=1,!0):(i.fulfillRequest([s],500,$J),!1)})},e.prototype.scheduleTryable=function(t,i){var s=this;i===void 0&&(i=!1),t.forEach(function(g){if(i&&(s.queue=s.queue.concat(g)),g.timeout===0){s.schedule(s.config.flushIntervalMillis);return}setTimeout(function(){g.timeout=0,s.schedule(0)},g.timeout)})},e.prototype.addToQueue=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var s=this.getTryableList(t);this.scheduleTryable(s,!0),this.saveEvents()},e.prototype.schedule=function(t){var i=this;this.scheduled||this.config.offline||(this.scheduled=setTimeout(function(){i.flush(!0).then(function(){i.queue.length>0&&i.schedule(t)})},t))},e.prototype.flush=function(t){return t===void 0&&(t=!1),oe(this,void 0,void 0,function(){var i,s,g,E=this;return te(this,function(n){switch(n.label){case 0:return this.config.offline?(this.config.loggerProvider.debug("Skipping flush while offline."),[2]):(i=[],s=[],this.queue.forEach(function(T){return T.timeout===0?i.push(T):s.push(T)}),this.scheduled&&(clearTimeout(this.scheduled),this.scheduled=null),g=cZ(i,this.config.flushQueueSize),[4,g.reduce(function(T,r){return oe(E,void 0,void 0,function(){return te(this,function(o){switch(o.label){case 0:return[4,T];case 1:return o.sent(),[4,this.send(r,t)];case 2:return[2,o.sent()]}})})},Promise.resolve())]);case 1:return n.sent(),this.scheduleTryable(s),[2]}})})},e.prototype.send=function(t,i){return i===void 0&&(i=!0),oe(this,void 0,void 0,function(){var s,g,E,n,T;return te(this,function(r){switch(r.label){case 0:if(!this.config.apiKey)return[2,this.fulfillRequest(t,400,JJ)];s={api_key:this.config.apiKey,events:t.map(function(o){var y=o.event;y.extra;var d=ow(y,["extra"]);return d}),options:{min_id_length:this.config.minIdLength},client_upload_time:new Date().toISOString(),request_metadata:this.config.requestMetadata},this.config.requestMetadata=new s9,r.label=1;case 1:return r.trys.push([1,3,,4]),g=n9(this.config.serverUrl,this.config.serverZone,this.config.useBatch).serverUrl,[4,this.config.transportProvider.send(g,s)];case 2:return E=r.sent(),E===null?(this.fulfillRequest(t,0,HJ),[2]):i?(this.handleResponse(E,t),[3,4]):("body"in E?this.fulfillRequest(t,E.statusCode,"".concat(E.status,": ").concat(O0(E))):this.fulfillRequest(t,E.statusCode,E.status),[2]);case 3:return n=r.sent(),T=gZ(n),this.config.loggerProvider.error(T),this.handleResponse({status:hr.Failed,statusCode:0},t),[3,4];case 4:return[2]}})})},e.prototype.handleResponse=function(t,i){var s=t.status;switch(s){case hr.Success:{this.handleSuccessResponse(t,i);break}case hr.Invalid:{this.handleInvalidResponse(t,i);break}case hr.PayloadTooLarge:{this.handlePayloadTooLargeResponse(t,i);break}case hr.RateLimit:{this.handleRateLimitResponse(t,i);break}default:{this.config.loggerProvider.warn(`{code: 0, error: "Status '`.concat(s,"' provided for ").concat(i.length,' events"}')),this.handleOtherResponse(i);break}}},e.prototype.handleSuccessResponse=function(t,i){this.fulfillRequest(i,t.statusCode,XJ)},e.prototype.handleInvalidResponse=function(t,i){var s=this;if(t.body.missingField||t.body.error.startsWith(ZJ)){this.fulfillRequest(i,t.statusCode,t.body.error);return}var g=tn(tn(tn(tn([],Li(Object.values(t.body.eventsWithInvalidFields)),!1),Li(Object.values(t.body.eventsWithMissingFields)),!1),Li(Object.values(t.body.eventsWithInvalidIdLengths)),!1),Li(t.body.silencedEvents),!1).flat(),E=new Set(g),n=i.filter(function(r,o){if(E.has(o)){s.fulfillRequest([r],t.statusCode,t.body.error);return}return!0});n.length>0&&this.config.loggerProvider.warn(O0(t));var T=this.getTryableList(n);this.scheduleTryable(T)},e.prototype.handlePayloadTooLargeResponse=function(t,i){if(i.length===1){this.fulfillRequest(i,t.statusCode,t.body.error);return}this.config.loggerProvider.warn(O0(t)),this.config.flushQueueSize/=2;var s=this.getTryableList(i);this.scheduleTryable(s)},e.prototype.handleRateLimitResponse=function(t,i){var s=this,g=Object.keys(t.body.exceededDailyQuotaUsers),E=Object.keys(t.body.exceededDailyQuotaDevices),n=t.body.throttledEvents,T=new Set(g),r=new Set(E),o=new Set(n),y=i.filter(function(h,l){if(h.event.user_id&&T.has(h.event.user_id)||h.event.device_id&&r.has(h.event.device_id)){s.fulfillRequest([h],t.statusCode,t.body.error);return}return o.has(l)&&(h.timeout=s.throttleTimeout),!0});y.length>0&&this.config.loggerProvider.warn(O0(t));var d=this.getTryableList(y);this.scheduleTryable(d)},e.prototype.handleOtherResponse=function(t){var i=this,s=t.map(function(E){return E.timeout=E.attempts*i.retryTimeout,E}),g=this.getTryableList(s);this.scheduleTryable(g)},e.prototype.fulfillRequest=function(t,i,s){this.removeEvents(t),t.forEach(function(g){return g.callback(Nd(g.event,i,s))})},e.prototype.saveEvents=function(){if(this.config.storageProvider){var t=this.queue.map(function(i){return i.event});this.config.storageProvider.set(this.storageKey,t)}},e.prototype.removeEvents=function(t){this.queue=this.queue.filter(function(i){return!t.some(function(s){return s.event.insert_id===i.event.insert_id})}),this.saveEvents()},e})(),yZ=function(e){var t=new Error().stack||"";return t.split(`
`).slice(2+e).map(function(i){return i.trim()})},Cr=function(e){return function(){var t=Te({},e.config),i=t.loggerProvider,s=t.logLevel;return{logger:i,logLevel:s}}},xZ=function(e,t){var i,s;t=t.replace(/\[(\w+)\]/g,".$1"),t=t.replace(/^\./,"");try{for(var g=Mr(t.split(".")),E=g.next();!E.done;E=g.next()){var n=E.value;if(n in e)e=e[n];else return}}catch(T){i={error:T}}finally{try{E&&!E.done&&(s=g.return)&&s.call(g)}finally{if(i)throw i.error}}return e},Sr=function(e,t){return function(){var i,s,g={};try{for(var E=Mr(t),n=E.next();!n.done;n=E.next()){var T=n.value;g[T]=xZ(e,T)}}catch(r){i={error:r}}finally{try{n&&!n.done&&(s=E.return)&&s.call(E)}finally{if(i)throw i.error}}return g}},Er=function(e,t,i,s,g){return g===void 0&&(g=null),function(){for(var E=[],n=0;n<arguments.length;n++)E[n]=arguments[n];var T=i(),r=T.logger,o=T.logLevel;if(o&&o<Ds.Debug||!o||!r)return e.apply(g,E);var y={type:"invoke public method",name:t,args:E,stacktrace:yZ(1),time:{start:new Date().toISOString()},states:{}};s&&y.states&&(y.states.before=s());var d=e.apply(g,E);return d&&d.promise?d.promise.then(function(){s&&y.states&&(y.states.after=s()),y.time&&(y.time.end=new Date().toISOString()),r.debug(JSON.stringify(y,null,2))}):(s&&y.states&&(y.states.after=s()),y.time&&(y.time.end=new Date().toISOString()),r.debug(JSON.stringify(y,null,2))),d}},Yw=(function(){function e(){this.memoryStorage=new Map}return e.prototype.isEnabled=function(){return oe(this,void 0,void 0,function(){return te(this,function(t){return[2,!0]})})},e.prototype.get=function(t){return oe(this,void 0,void 0,function(){return te(this,function(i){return[2,this.memoryStorage.get(t)]})})},e.prototype.getRaw=function(t){return oe(this,void 0,void 0,function(){var i;return te(this,function(s){switch(s.label){case 0:return[4,this.get(t)];case 1:return i=s.sent(),[2,i?JSON.stringify(i):void 0]}})})},e.prototype.set=function(t,i){return oe(this,void 0,void 0,function(){return te(this,function(s){return this.memoryStorage.set(t,i),[2]})})},e.prototype.remove=function(t){return oe(this,void 0,void 0,function(){return te(this,function(i){return this.memoryStorage.delete(t),[2]})})},e.prototype.reset=function(){return oe(this,void 0,void 0,function(){return te(this,function(t){return this.memoryStorage.clear(),[2]})})},e})(),Nx=(function(){function e(){}return e.prototype.send=function(t,i){return Promise.resolve(null)},e.prototype.buildResponse=function(t){var i,s,g,E,n,T,r,o,y,d,h,l,a,f,c,u,v,p,m,x,C,P;if(typeof t!="object")return null;var w=t.code||0,M=this.buildStatus(w);switch(M){case hr.Success:return{status:M,statusCode:w,body:{eventsIngested:(i=t.events_ingested)!==null&&i!==void 0?i:0,payloadSizeBytes:(s=t.payload_size_bytes)!==null&&s!==void 0?s:0,serverUploadTime:(g=t.server_upload_time)!==null&&g!==void 0?g:0}};case hr.Invalid:return{status:M,statusCode:w,body:{error:(E=t.error)!==null&&E!==void 0?E:"",missingField:(n=t.missing_field)!==null&&n!==void 0?n:"",eventsWithInvalidFields:(T=t.events_with_invalid_fields)!==null&&T!==void 0?T:{},eventsWithMissingFields:(r=t.events_with_missing_fields)!==null&&r!==void 0?r:{},eventsWithInvalidIdLengths:(o=t.events_with_invalid_id_lengths)!==null&&o!==void 0?o:{},epsThreshold:(y=t.eps_threshold)!==null&&y!==void 0?y:0,exceededDailyQuotaDevices:(d=t.exceeded_daily_quota_devices)!==null&&d!==void 0?d:{},silencedDevices:(h=t.silenced_devices)!==null&&h!==void 0?h:[],silencedEvents:(l=t.silenced_events)!==null&&l!==void 0?l:[],throttledDevices:(a=t.throttled_devices)!==null&&a!==void 0?a:{},throttledEvents:(f=t.throttled_events)!==null&&f!==void 0?f:[]}};case hr.PayloadTooLarge:return{status:M,statusCode:w,body:{error:(c=t.error)!==null&&c!==void 0?c:""}};case hr.RateLimit:return{status:M,statusCode:w,body:{error:(u=t.error)!==null&&u!==void 0?u:"",epsThreshold:(v=t.eps_threshold)!==null&&v!==void 0?v:0,throttledDevices:(p=t.throttled_devices)!==null&&p!==void 0?p:{},throttledUsers:(m=t.throttled_users)!==null&&m!==void 0?m:{},exceededDailyQuotaDevices:(x=t.exceeded_daily_quota_devices)!==null&&x!==void 0?x:{},exceededDailyQuotaUsers:(C=t.exceeded_daily_quota_users)!==null&&C!==void 0?C:{},throttledEvents:(P=t.throttled_events)!==null&&P!==void 0?P:[]}};case hr.Timeout:default:return{status:M,statusCode:w}}},e.prototype.buildStatus=function(t){return t>=200&&t<300?hr.Success:t===429?hr.RateLimit:t===413?hr.PayloadTooLarge:t===408?hr.Timeout:t>=400&&t<500?hr.Invalid:t>=500?hr.Failed:hr.Unknown},e})(),Ba=function(){var e="ampIntegrationContext";if(typeof globalThis<"u"&&typeof globalThis[e]<"u")return globalThis[e];if(typeof globalThis<"u")return globalThis;if(typeof window<"u")return window;if(typeof self<"u")return self;if(typeof global<"u")return global},vx=function(){var e,t=Ba();if(!(!((e=t==null?void 0:t.location)===null||e===void 0)&&e.search))return{};var i=t.location.search.substring(1).split("&").filter(Boolean),s=i.reduce(function(g,E){var n=E.split("=",2),T=OF(n[0]),r=OF(n[1]);return r&&(g[T]=r),g},{});return s},OF=function(e){e===void 0&&(e="");try{return decodeURIComponent(e)}catch{return""}},TZ="utm_campaign",CZ="utm_content",SZ="utm_id",EZ="utm_medium",bZ="utm_source",PZ="utm_term",LF="dclid",DF="fbclid",FF="gbraid",IF="gclid",BF="ko_click_id",GF="li_fat_id",kF="msclkid",NF="rtd_cid",UF="ttclid",VF="twclid",zF="wbraid",Ux={utm_campaign:void 0,utm_content:void 0,utm_id:void 0,utm_medium:void 0,utm_source:void 0,utm_term:void 0,referrer:void 0,referring_domain:void 0,dclid:void 0,gbraid:void 0,gclid:void 0,fbclid:void 0,ko_click_id:void 0,li_fat_id:void 0,msclkid:void 0,rtd_cid:void 0,ttclid:void 0,twclid:void 0,wbraid:void 0},a9=(function(){function e(){}return e.prototype.parse=function(){return oe(this,void 0,void 0,function(){return te(this,function(t){return[2,Te(Te(Te(Te({},Ux),this.getUtmParam()),this.getReferrer()),this.getClickIds())]})})},e.prototype.getUtmParam=function(){var t=vx(),i=t[TZ],s=t[CZ],g=t[SZ],E=t[EZ],n=t[bZ],T=t[PZ];return{utm_campaign:i,utm_content:s,utm_id:g,utm_medium:E,utm_source:n,utm_term:T}},e.prototype.getReferrer=function(){var t,i,s={referrer:void 0,referring_domain:void 0};try{s.referrer=document.referrer||void 0,s.referring_domain=(i=(t=s.referrer)===null||t===void 0?void 0:t.split("/")[2])!==null&&i!==void 0?i:void 0}catch{}return s},e.prototype.getClickIds=function(){var t,i=vx();return t={},t[LF]=i[LF],t[DF]=i[DF],t[FF]=i[FF],t[IF]=i[IF],t[BF]=i[BF],t[GF]=i[GF],t[kF]=i[kF],t[NF]=i[NF],t[UF]=i[UF],t[VF]=i[VF],t[zF]=i[zF],t},e})(),o9=function(e,t,i){return t===void 0&&(t=""),i===void 0&&(i=10),[kx,t,e.substring(0,i)].filter(Boolean).join("_")},wZ=function(e){return"".concat(kx.toLowerCase(),"_").concat(e.substring(0,6))},WF=function(e){var t=e.split(".");return t.length<=2?e:t.slice(t.length-2,t.length).join(".")},MZ=function(e){return Object.values(e).every(function(t){return!t})},RZ=function(e,t,i,s,g){g===void 0&&(g=!0),e.referrer;var E=e.referring_domain,n=ow(e,["referrer","referring_domain"]),T=t||{};T.referrer;var r=T.referring_domain,o=ow(T,["referrer","referring_domain"]);if(AZ(i.excludeReferrers,e.referring_domain))return s.debug("This is not a new campaign because ".concat(e.referring_domain," is in the exclude referrer list.")),!1;if(!g&&MZ(e)&&t)return s.debug("This is not a new campaign because this is a direct traffic in the same session."),!1;var y=JSON.stringify(n)!==JSON.stringify(o),d=WF(E||"")!==WF(r||""),h=!t||y||d;return h?s.debug("This is a new campaign. An $identify event will be sent."):s.debug("This is not a new campaign because it's the same as the previous one."),h},AZ=function(e,t){return e===void 0&&(e=[]),t===void 0&&(t=""),e.some(function(i){return i instanceof RegExp?i.test(t):i===t})},OZ=function(e,t){var i=Te(Te({},Ux),e),s=Object.entries(i).reduce(function(g,E){var n,T=Li(E,2),r=T[0],o=T[1];return g.setOnce("initial_".concat(r),(n=o??t.initialEmptyValue)!==null&&n!==void 0?n:"EMPTY"),o?g.set(r,o):g.unset(r)},new Yd);return i9(s)},LZ=function(e){var t=e;return t?(t.startsWith(".")&&(t=t.substring(1)),[new RegExp("".concat(t.replace(".","\\."),"$"))]):[]},DZ=function(e,t,i){return i===void 0&&(i=10),[kx,t,e.substring(0,i)].filter(Boolean).join("_")},l9=function(e,t){t===void 0&&(t=Date.now());var i=Date.now(),s=i-t;return s>e},FZ=(function(){function e(t,i){var s;this.shouldTrackNewCampaign=!1,this.options=Te({initialEmptyValue:"EMPTY",resetSessionOnNewCampaign:!1,excludeReferrers:LZ((s=i.cookieOptions)===null||s===void 0?void 0:s.domain)},t),this.storage=i.cookieStorage,this.storageKey=DZ(i.apiKey,"MKTG"),this.currentCampaign=Ux,this.sessionTimeout=i.sessionTimeout,this.lastEventTime=i.lastEventTime,this.logger=i.loggerProvider,i.loggerProvider.log("Installing web attribution tracking.")}return e.prototype.init=function(){return oe(this,void 0,void 0,function(){var t,i;return te(this,function(s){switch(s.label){case 0:return[4,this.fetchCampaign()];case 1:return i=Li.apply(void 0,[s.sent(),2]),this.currentCampaign=i[0],this.previousCampaign=i[1],t=this.lastEventTime?l9(this.sessionTimeout,this.lastEventTime):!0,RZ(this.currentCampaign,this.previousCampaign,this.options,this.logger,t)?(this.shouldTrackNewCampaign=!0,[4,this.storage.set(this.storageKey,this.currentCampaign)]):[3,3];case 2:s.sent(),s.label=3;case 3:return[2]}})})},e.prototype.fetchCampaign=function(){return oe(this,void 0,void 0,function(){return te(this,function(t){switch(t.label){case 0:return[4,Promise.all([new a9().parse(),this.storage.get(this.storageKey)])];case 1:return[2,t.sent()]}})})},e.prototype.generateCampaignEvent=function(t){this.shouldTrackNewCampaign=!1;var i=OZ(this.currentCampaign,this.options);return t&&(i.event_id=t),i},e.prototype.shouldSetSessionIdOnNewCampaign=function(){return this.shouldTrackNewCampaign&&!!this.options.resetSessionOnNewCampaign},e})(),hw=(function(){function e(t){this.options=Te({},t)}return e.prototype.isEnabled=function(){return oe(this,void 0,void 0,function(){var t,i,s;return te(this,function(g){switch(g.label){case 0:if(!Ba())return[2,!1];e.testValue=String(Date.now()),t=new e(this.options),i="AMP_TEST",g.label=1;case 1:return g.trys.push([1,4,5,7]),[4,t.set(i,e.testValue)];case 2:return g.sent(),[4,t.get(i)];case 3:return s=g.sent(),[2,s===e.testValue];case 4:return g.sent(),[2,!1];case 5:return[4,t.remove(i)];case 6:return g.sent(),[7];case 7:return[2]}})})},e.prototype.get=function(t){var i;return oe(this,void 0,void 0,function(){var s,g;return te(this,function(E){switch(E.label){case 0:return[4,this.getRaw(t)];case 1:if(s=E.sent(),!s)return[2,void 0];try{return g=(i=IZ(s))!==null&&i!==void 0?i:BZ(s),g===void 0?(console.error("Amplitude Logger [Error]: Failed to decode cookie value for key: ".concat(t,", value: ").concat(s)),[2,void 0]):[2,JSON.parse(g)]}catch{return console.error("Amplitude Logger [Error]: Failed to parse cookie value for key: ".concat(t,", value: ").concat(s)),[2,void 0]}return[2]}})})},e.prototype.getRaw=function(t){var i,s;return oe(this,void 0,void 0,function(){var g,E,n;return te(this,function(T){return g=Ba(),E=(s=(i=g==null?void 0:g.document)===null||i===void 0?void 0:i.cookie.split("; "))!==null&&s!==void 0?s:[],n=E.find(function(r){return r.indexOf(t+"=")===0}),n?[2,n.substring(t.length+1)]:[2,void 0]})})},e.prototype.set=function(t,i){var s;return oe(this,void 0,void 0,function(){var g,E,n,T,r,o,y;return te(this,function(d){try{g=(s=this.options.expirationDays)!==null&&s!==void 0?s:0,E=i!==null?g:-1,n=void 0,E&&(T=new Date,T.setTime(T.getTime()+E*24*60*60*1e3),n=T),r="".concat(t,"=").concat(btoa(encodeURIComponent(JSON.stringify(i)))),n&&(r+="; expires=".concat(n.toUTCString())),r+="; path=/",this.options.domain&&(r+="; domain=".concat(this.options.domain)),this.options.secure&&(r+="; Secure"),this.options.sameSite&&(r+="; SameSite=".concat(this.options.sameSite)),o=Ba(),o&&(o.document.cookie=r)}catch(h){y=h instanceof Error?h.message:String(h),console.error("Amplitude Logger [Error]: Failed to set cookie for key: ".concat(t,". Error: ").concat(y))}return[2]})})},e.prototype.remove=function(t){return oe(this,void 0,void 0,function(){return te(this,function(i){switch(i.label){case 0:return[4,this.set(t,null)];case 1:return i.sent(),[2]}})})},e.prototype.reset=function(){return oe(this,void 0,void 0,function(){return te(this,function(t){return[2]})})},e})(),IZ=function(e){try{return decodeURIComponent(atob(e))}catch{return}},BZ=function(e){try{return decodeURIComponent(atob(decodeURIComponent(e)))}catch{return}},GZ=(function(e){Gs(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.send=function(i,s){return oe(this,void 0,void 0,function(){var g,E,n;return te(this,function(T){switch(T.label){case 0:if(typeof fetch>"u")throw new Error("FetchTransport is not supported");return g={headers:{"Content-Type":"application/json",Accept:"*/*"},body:JSON.stringify(s),method:"POST"},[4,fetch(i,g)];case 1:return E=T.sent(),[4,E.text()];case 2:n=T.sent();try{return[2,this.buildResponse(JSON.parse(n))]}catch{return[2,this.buildResponse({code:E.status})]}return[2]}})})},t})(Nx),kZ=(function(){function e(){}return e.prototype.getApplicationContext=function(){return{versionName:this.versionName,language:NZ(),platform:"Web",os:void 0,deviceModel:void 0}},e})(),NZ=function(){return typeof navigator<"u"&&(navigator.languages&&navigator.languages[0]||navigator.language)||""},UZ=(function(){function e(){this.queue=[]}return e.prototype.logEvent=function(t){this.receiver?this.receiver(t):this.queue.length<512&&this.queue.push(t)},e.prototype.setEventReceiver=function(t){this.receiver=t,this.queue.length>0&&(this.queue.forEach(function(i){t(i)}),this.queue=[])},e})(),dh=function(){return dh=Object.assign||function(t){for(var i,s=1,g=arguments.length;s<g;s++){i=arguments[s];for(var E in i)Object.prototype.hasOwnProperty.call(i,E)&&(t[E]=i[E])}return t},dh.apply(this,arguments)};function ex(e){var t=typeof Symbol=="function"&&Symbol.iterator,i=t&&e[t],s=0;if(i)return i.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&s>=e.length&&(e=void 0),{value:e&&e[s++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function YF(e,t){var i=typeof Symbol=="function"&&e[Symbol.iterator];if(!i)return e;var s=i.call(e),g,E=[],n;try{for(;(t===void 0||t-- >0)&&!(g=s.next()).done;)E.push(g.value)}catch(T){n={error:T}}finally{try{g&&!g.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return E}var ix=function(e,t){var i,s,g=["string","number","boolean","undefined"],E=typeof e,n=typeof t;if(E!==n)return!1;try{for(var T=ex(g),r=T.next();!r.done;r=T.next()){var o=r.value;if(o===E)return e===t}}catch(c){i={error:c}}finally{try{r&&!r.done&&(s=T.return)&&s.call(T)}finally{if(i)throw i.error}}if(e==null&&t==null)return!0;if(e==null||t==null||e.length!==t.length)return!1;var y=Array.isArray(e),d=Array.isArray(t);if(y!==d)return!1;if(y&&d){for(var h=0;h<e.length;h++)if(!ix(e[h],t[h]))return!1}else{var l=Object.keys(e).sort(),a=Object.keys(t).sort();if(!ix(l,a))return!1;var f=!0;return Object.keys(e).forEach(function(c){ix(e[c],t[c])||(f=!1)}),f}return!0},VZ="$set",zZ="$unset",WZ="$clearAll";Object.entries||(Object.entries=function(e){for(var t=Object.keys(e),i=t.length,s=new Array(i);i--;)s[i]=[t[i],e[t[i]]];return s});var YZ=(function(){function e(){this.identity={userProperties:{}},this.listeners=new Set}return e.prototype.editIdentity=function(){var t=this,i=dh({},this.identity.userProperties),s=dh(dh({},this.identity),{userProperties:i});return{setUserId:function(g){return s.userId=g,this},setDeviceId:function(g){return s.deviceId=g,this},setUserProperties:function(g){return s.userProperties=g,this},setOptOut:function(g){return s.optOut=g,this},updateUserProperties:function(g){var E,n,T,r,o,y,d=s.userProperties||{};try{for(var h=ex(Object.entries(g)),l=h.next();!l.done;l=h.next()){var a=YF(l.value,2),f=a[0],c=a[1];switch(f){case VZ:try{for(var u=(T=void 0,ex(Object.entries(c))),v=u.next();!v.done;v=u.next()){var p=YF(v.value,2),m=p[0],x=p[1];d[m]=x}}catch(w){T={error:w}}finally{try{v&&!v.done&&(r=u.return)&&r.call(u)}finally{if(T)throw T.error}}break;case zZ:try{for(var C=(o=void 0,ex(Object.keys(c))),P=C.next();!P.done;P=C.next()){var m=P.value;delete d[m]}}catch(w){o={error:w}}finally{try{P&&!P.done&&(y=C.return)&&y.call(C)}finally{if(o)throw o.error}}break;case WZ:d={};break}}}catch(w){E={error:w}}finally{try{l&&!l.done&&(n=h.return)&&n.call(h)}finally{if(E)throw E.error}}return s.userProperties=d,this},commit:function(){return t.setIdentity(s),this}}},e.prototype.getIdentity=function(){return dh({},this.identity)},e.prototype.setIdentity=function(t){var i=dh({},this.identity);this.identity=dh({},t),ix(i,this.identity)||this.listeners.forEach(function(s){s(t)})},e.prototype.addIdentityListener=function(t){this.listeners.add(t)},e.prototype.removeIdentityListener=function(t){this.listeners.delete(t)},e})(),Vv=typeof globalThis<"u"?globalThis:typeof global<"u"?global:self,XZ=(function(){function e(){this.identityStore=new YZ,this.eventBridge=new UZ,this.applicationContextProvider=new kZ}return e.getInstance=function(t){return Vv.analyticsConnectorInstances||(Vv.analyticsConnectorInstances={}),Vv.analyticsConnectorInstances[t]||(Vv.analyticsConnectorInstances[t]=new e),Vv.analyticsConnectorInstances[t]},e})(),Mp=function(e){return e===void 0&&(e="$default_instance"),XZ.getInstance(e)},HZ=function(e,t){Mp(t).identityStore.editIdentity().setUserId(e).commit()},$Z=function(e,t){Mp(t).identityStore.editIdentity().setDeviceId(e).commit()},KZ=(function(){function e(){this.name="identity",this.type="before",this.identityStore=Mp().identityStore}return e.prototype.execute=function(t){return oe(this,void 0,void 0,function(){var i;return te(this,function(s){return i=t.user_properties,i&&this.identityStore.editIdentity().updateUserProperties(i).commit(),[2,t]})})},e.prototype.setup=function(t){return oe(this,void 0,void 0,function(){return te(this,function(i){return t.instanceName&&(this.identityStore=Mp(t.instanceName).identityStore),[2]})})},e})(),JZ=function(){var e,t,i,s;if(typeof navigator>"u")return"";var g=navigator.userLanguage;return(s=(i=(t=(e=navigator.languages)===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:navigator.language)!==null&&i!==void 0?i:g)!==null&&s!==void 0?s:""},Hp=function(e,t){return typeof e=="boolean"?e:(e==null?void 0:e[t])!==!1},h9=function(e){return Hp(e,"attribution")},ZZ=function(e){return Hp(e,"fileDownloads")},jZ=function(e){return Hp(e,"formInteractions")},u9=function(e){return Hp(e,"pageViews")},XF=function(e){return Hp(e,"sessions")},f9=function(e){return typeof e=="boolean"?e:typeof e=="object"&&(e.elementInteractions===!0||typeof e.elementInteractions=="object")},QZ=function(e){if(f9(e.autocapture)&&typeof e.autocapture=="object"&&typeof e.autocapture.elementInteractions=="object")return e.autocapture.elementInteractions},qZ=function(e){var t=function(){return!1},i=void 0,s,g=e.pageCounter,E=u9(e.defaultTracking);return E&&(t=void 0,s=void 0,e.defaultTracking&&typeof e.defaultTracking=="object"&&e.defaultTracking.pageViews&&typeof e.defaultTracking.pageViews=="object"&&("trackOn"in e.defaultTracking.pageViews&&(t=e.defaultTracking.pageViews.trackOn),"trackHistoryChanges"in e.defaultTracking.pageViews&&(i=e.defaultTracking.pageViews.trackHistoryChanges),"eventType"in e.defaultTracking.pageViews&&e.defaultTracking.pageViews.eventType&&(s=e.defaultTracking.pageViews.eventType))),{trackOn:t,trackHistoryChanges:i,eventType:s,pageCounter:g}},_Z=function(e){return h9(e.defaultTracking)&&e.defaultTracking&&typeof e.defaultTracking=="object"&&e.defaultTracking.attribution&&typeof e.defaultTracking.attribution=="object"?Te({},e.defaultTracking.attribution):{}},rb=function(e,t){for(var i=0;i<t.length;i++){var s=t[i],g=s.name,E=s.args,n=s.resolve,T=e&&e[g];if(typeof T=="function"){var r=T.apply(e,E);typeof n=="function"&&n(r==null?void 0:r.promise)}}return e},nb=function(e){var t=e;return t&&t._q!==void 0},tj="2.11.12",ej="amplitude-ts",ij="Web",rj="$remote",nj=(function(){function e(){this.name="@amplitude/plugin-context-browser",this.type="before",this.library="".concat(ej,"/").concat(tj),typeof navigator<"u"&&(this.userAgent=navigator.userAgent)}return e.prototype.setup=function(t){return this.config=t,Promise.resolve(void 0)},e.prototype.execute=function(t){var i,s;return oe(this,void 0,void 0,function(){var g,E,n,T;return te(this,function(r){return g=new Date().getTime(),E=(i=this.config.lastEventId)!==null&&i!==void 0?i:-1,n=(s=t.event_id)!==null&&s!==void 0?s:E+1,this.config.lastEventId=n,t.time||(this.config.lastEventTime=g),T=Te(Te(Te(Te(Te(Te(Te(Te({user_id:this.config.userId,device_id:this.config.deviceId,session_id:this.config.sessionId,time:g},this.config.appVersion&&{app_version:this.config.appVersion}),this.config.trackingOptions.platform&&{platform:ij}),this.config.trackingOptions.language&&{language:JZ()}),this.config.trackingOptions.ipAddress&&{ip:rj}),{insert_id:Qd(),partner_id:this.config.partnerId,plan:this.config.plan}),this.config.ingestionMetadata&&{ingestion_metadata:{source_name:this.config.ingestionMetadata.sourceName,source_version:this.config.ingestionMetadata.sourceVersion}}),t),{event_id:n,library:this.library,user_agent:this.userAgent}),[2,T]})})},e})(),d9=(function(){function e(t){this.storage=t}return e.prototype.isEnabled=function(){return oe(this,void 0,void 0,function(){var t,i,s,g;return te(this,function(E){switch(E.label){case 0:if(!this.storage)return[2,!1];t=String(Date.now()),i=new e(this.storage),s="AMP_TEST",E.label=1;case 1:return E.trys.push([1,4,5,7]),[4,i.set(s,t)];case 2:return E.sent(),[4,i.get(s)];case 3:return g=E.sent(),[2,g===t];case 4:return E.sent(),[2,!1];case 5:return[4,i.remove(s)];case 6:return E.sent(),[7];case 7:return[2]}})})},e.prototype.get=function(t){return oe(this,void 0,void 0,function(){var i;return te(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,this.getRaw(t)];case 1:return i=s.sent(),i?[2,JSON.parse(i)]:[2,void 0];case 2:return s.sent(),console.error("[Amplitude] Error: Could not get value from storage"),[2,void 0];case 3:return[2]}})})},e.prototype.getRaw=function(t){var i;return oe(this,void 0,void 0,function(){return te(this,function(s){return[2,((i=this.storage)===null||i===void 0?void 0:i.getItem(t))||void 0]})})},e.prototype.set=function(t,i){var s;return oe(this,void 0,void 0,function(){return te(this,function(g){try{(s=this.storage)===null||s===void 0||s.setItem(t,JSON.stringify(i))}catch{}return[2]})})},e.prototype.remove=function(t){var i;return oe(this,void 0,void 0,function(){return te(this,function(s){try{(i=this.storage)===null||i===void 0||i.removeItem(t)}catch{}return[2]})})},e.prototype.reset=function(){var t;return oe(this,void 0,void 0,function(){return te(this,function(i){try{(t=this.storage)===null||t===void 0||t.clear()}catch{}return[2]})})},e})(),L0=1e3,c9=(function(e){Gs(t,e);function t(i){var s=this,g;return s=e.call(this,(g=Ba())===null||g===void 0?void 0:g.localStorage)||this,s.loggerProvider=i==null?void 0:i.loggerProvider,s}return t.prototype.set=function(i,s){var g;return oe(this,void 0,void 0,function(){var E;return te(this,function(n){switch(n.label){case 0:return Array.isArray(s)&&s.length>L0?(E=s.length-L0,[4,e.prototype.set.call(this,i,s.slice(0,L0))]):[3,2];case 1:return n.sent(),(g=this.loggerProvider)===null||g===void 0||g.error("Failed to save ".concat(E," events because the queue length exceeded ").concat(L0,".")),[3,4];case 2:return[4,e.prototype.set.call(this,i,s)];case 3:n.sent(),n.label=4;case 4:return[2]}})})},t})(d9),sj=(function(e){Gs(t,e);function t(){var i;return e.call(this,(i=Ba())===null||i===void 0?void 0:i.sessionStorage)||this}return t})(d9),aj=(function(e){Gs(t,e);function t(){var i=e!==null&&e.apply(this,arguments)||this;return i.state={done:4},i}return t.prototype.send=function(i,s){return oe(this,void 0,void 0,function(){var g=this;return te(this,function(E){return[2,new Promise(function(n,T){typeof XMLHttpRequest>"u"&&T(new Error("XHRTransport is not supported."));var r=new XMLHttpRequest;r.open("POST",i,!0),r.onreadystatechange=function(){if(r.readyState===g.state.done){var o=r.responseText;try{n(g.buildResponse(JSON.parse(o)))}catch{n(g.buildResponse({code:r.status}))}}},r.setRequestHeader("Content-Type","application/json"),r.setRequestHeader("Accept","*/*"),r.send(JSON.stringify(s))})]})})},t})(Nx),oj=(function(e){Gs(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.send=function(i,s){return oe(this,void 0,void 0,function(){var g=this;return te(this,function(E){return[2,new Promise(function(n,T){var r=Ba();if(!(r!=null&&r.navigator.sendBeacon))throw new Error("SendBeaconTransport is not supported");try{var o=JSON.stringify(s),y=r.navigator.sendBeacon(i,JSON.stringify(s));return n(y?g.buildResponse({code:200,events_ingested:s.events.length,payload_size_bytes:o.length,server_upload_time:Date.now()}):g.buildResponse({code:500}))}catch(d){T(d)}})]})})},t})(Nx),lj=function(e,t,i){return i===void 0&&(i=!0),oe(void 0,void 0,void 0,function(){var s,g,E,n,T,r,o,y,d;return te(this,function(h){switch(h.label){case 0:return s=wZ(e),[4,t.getRaw(s)];case 1:return g=h.sent(),g?i?[4,t.remove(s)]:[3,3]:[2,{optOut:!1}];case 2:h.sent(),h.label=3;case 3:return E=Li(g.split("."),6),n=E[0],T=E[1],r=E[2],o=E[3],y=E[4],d=E[5],[2,{deviceId:n,userId:hj(T),sessionId:sb(o),lastEventId:sb(d),lastEventTime:sb(y),optOut:!!r}]}})})},sb=function(e){var t=parseInt(e,32);if(!isNaN(t))return t},hj=function(e){if(!(!atob||!escape||!e))try{return decodeURIComponent(escape(atob(e)))}catch{return}},za="[Amplitude]",HF="".concat(za," Form Started"),uj="".concat(za," Form Submitted"),fj="".concat(za," File Downloaded"),$F="session_start",KF="session_end",dj="".concat(za," File Extension"),cj="".concat(za," File Name"),vj="".concat(za," Link ID"),pj="".concat(za," Link Text"),gj="".concat(za," Link URL"),ab="".concat(za," Form ID"),ob="".concat(za," Form Name"),lb="".concat(za," Form Destination"),px="cookie",mj="US",yj=(function(e){Gs(t,e);function t(i,s,g,E,n,T,r,o,y,d,h,l,a,f,c,u,v,p,m,x,C,P,w,M,R,A,L,F,G,I,B,k,U,H){g===void 0&&(g=new Yw),E===void 0&&(E={domain:"",expiration:365,sameSite:"Lax",secure:!1,upgrade:!0}),o===void 0&&(o=1e3),y===void 0&&(y=5),d===void 0&&(d=30),h===void 0&&(h=px),u===void 0&&(u=new r9),v===void 0&&(v=Ds.Warn),m===void 0&&(m=!1),x===void 0&&(x=!1),w===void 0&&(w=""),M===void 0&&(M=mj),A===void 0&&(A=1800*1e3),L===void 0&&(L=new c9({loggerProvider:u})),F===void 0&&(F={ipAddress:!0,language:!0,platform:!0}),G===void 0&&(G="fetch"),I===void 0&&(I=!1),B===void 0&&(B=!1);var X=e.call(this,{apiKey:i,storageProvider:L,transportProvider:v9(G)})||this;return X.apiKey=i,X.appVersion=s,X.cookieOptions=E,X.defaultTracking=n,X.autocapture=T,X.flushIntervalMillis=o,X.flushMaxRetries=y,X.flushQueueSize=d,X.identityStorage=h,X.ingestionMetadata=l,X.instanceName=a,X.loggerProvider=u,X.logLevel=v,X.minIdLength=p,X.offline=m,X.partnerId=C,X.plan=P,X.serverUrl=w,X.serverZone=M,X.sessionTimeout=A,X.storageProvider=L,X.trackingOptions=F,X.transport=G,X.useBatch=I,X.fetchRemoteConfig=B,X._optOut=!1,X._cookieStorage=g,X.deviceId=r,X.lastEventId=f,X.lastEventTime=c,X.optOut=x,X.sessionId=R,X.pageCounter=U,X.userId=k,X.debugLogsEnabled=H,X.loggerProvider.enable(H?Ds.Debug:X.logLevel),X}return Object.defineProperty(t.prototype,"cookieStorage",{get:function(){return this._cookieStorage},set:function(i){this._cookieStorage!==i&&(this._cookieStorage=i,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"deviceId",{get:function(){return this._deviceId},set:function(i){this._deviceId!==i&&(this._deviceId=i,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userId",{get:function(){return this._userId},set:function(i){this._userId!==i&&(this._userId=i,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sessionId",{get:function(){return this._sessionId},set:function(i){this._sessionId!==i&&(this._sessionId=i,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"optOut",{get:function(){return this._optOut},set:function(i){this._optOut!==i&&(this._optOut=i,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastEventTime",{get:function(){return this._lastEventTime},set:function(i){this._lastEventTime!==i&&(this._lastEventTime=i,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastEventId",{get:function(){return this._lastEventId},set:function(i){this._lastEventId!==i&&(this._lastEventId=i,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pageCounter",{get:function(){return this._pageCounter},set:function(i){this._pageCounter!==i&&(this._pageCounter=i,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"debugLogsEnabled",{set:function(i){this._debugLogsEnabled!==i&&(this._debugLogsEnabled=i,this.updateStorage())},enumerable:!1,configurable:!0}),t.prototype.updateStorage=function(){var i={deviceId:this._deviceId,userId:this._userId,sessionId:this._sessionId,optOut:this._optOut,lastEventTime:this._lastEventTime,lastEventId:this._lastEventId,pageCounter:this._pageCounter,debugLogsEnabled:this._debugLogsEnabled};this.cookieStorage.set(o9(this.apiKey),i)},t})(vZ),xj=function(e,t,i){return t===void 0&&(t={}),oe(void 0,void 0,void 0,function(){var s,g,E,n,T,r,o,y,d,h,l,a,f,c,u,v,p,m,x,C,P,w,M,R,A,L,F,G,I,B,k,U,H,X,j,Z,Y,$,z,V,K,Q,_;return te(this,function(tt){switch(tt.label){case 0:return s=t.identityStorage||px,x={},s===px?[3,1]:(E="",[3,5]);case 1:return(P=(C=t.cookieOptions)===null||C===void 0?void 0:C.domain)!==null&&P!==void 0?(n=P,[3,4]):[3,2];case 2:return[4,Cj()];case 3:n=tt.sent(),tt.label=4;case 4:E=n,tt.label=5;case 5:return g=Te.apply(void 0,[(x.domain=E,x.expiration=365,x.sameSite="Lax",x.secure=!1,x.upgrade=!0,x),t.cookieOptions]),T=Tj(t.identityStorage,g),[4,lj(e,T,(M=(w=t.cookieOptions)===null||w===void 0?void 0:w.upgrade)!==null&&M!==void 0?M:!0)];case 6:return r=tt.sent(),[4,T.get(o9(e))];case 7:return o=tt.sent(),y=vx(),d=(G=(F=(L=(A=(R=t.deviceId)!==null&&R!==void 0?R:y.ampDeviceId)!==null&&A!==void 0?A:y.deviceId)!==null&&L!==void 0?L:o==null?void 0:o.deviceId)!==null&&F!==void 0?F:r.deviceId)!==null&&G!==void 0?G:Qd(),h=(I=o==null?void 0:o.lastEventId)!==null&&I!==void 0?I:r.lastEventId,l=(B=o==null?void 0:o.lastEventTime)!==null&&B!==void 0?B:r.lastEventTime,a=(U=(k=t.optOut)!==null&&k!==void 0?k:o==null?void 0:o.optOut)!==null&&U!==void 0?U:r.optOut,f=(H=o==null?void 0:o.sessionId)!==null&&H!==void 0?H:r.sessionId,c=(j=(X=t.userId)!==null&&X!==void 0?X:o==null?void 0:o.userId)!==null&&j!==void 0?j:r.userId,i.previousSessionDeviceId=(Z=o==null?void 0:o.deviceId)!==null&&Z!==void 0?Z:r.deviceId,i.previousSessionUserId=(Y=o==null?void 0:o.userId)!==null&&Y!==void 0?Y:r.userId,u={ipAddress:(z=($=t.trackingOptions)===null||$===void 0?void 0:$.ipAddress)!==null&&z!==void 0?z:!0,language:(K=(V=t.trackingOptions)===null||V===void 0?void 0:V.language)!==null&&K!==void 0?K:!0,platform:(_=(Q=t.trackingOptions)===null||Q===void 0?void 0:Q.platform)!==null&&_!==void 0?_:!0},v=o==null?void 0:o.pageCounter,p=o==null?void 0:o.debugLogsEnabled,t.autocapture!==void 0&&(t.defaultTracking=t.autocapture),m=new yj(e,t.appVersion,T,g,t.defaultTracking,t.autocapture,d,t.flushIntervalMillis,t.flushMaxRetries,t.flushQueueSize,s,t.ingestionMetadata,t.instanceName,h,l,t.loggerProvider,t.logLevel,t.minIdLength,t.offline,a,t.partnerId,t.plan,t.serverUrl,t.serverZone,f,t.sessionTimeout,t.storageProvider,u,t.transport,t.useBatch,t.fetchRemoteConfig,c,v,p),[4,m.storageProvider.isEnabled()];case 8:return tt.sent()||(m.loggerProvider.warn("Storage provider ".concat(m.storageProvider.constructor.name," is not enabled. Falling back to MemoryStorage.")),m.storageProvider=new Yw),[2,m]}})})},Tj=function(e,t){switch(e===void 0&&(e=px),t===void 0&&(t={}),e){case"localStorage":return new c9;case"sessionStorage":return new sj;case"none":return new Yw;case"cookie":default:return new hw(Te(Te({},t),{expirationDays:t.expiration}))}},v9=function(e){return e==="xhr"?new aj:e==="beacon"?new oj:new GZ},Cj=function(e){return oe(void 0,void 0,void 0,function(){var t,i,s,g,E,E,n,T,r,o;return te(this,function(y){switch(y.label){case 0:return[4,new hw().isEnabled()];case 1:if(!y.sent()||typeof location>"u"||!location.hostname)return[2,""];for(t=location.hostname,i=t.split("."),s=[],g="AMP_TLDTEST",E=i.length-2;E>=0;--E)s.push(i.slice(E).join("."));E=0,y.label=2;case 2:return E<s.length?(n=s[E],T={domain:"."+n},r=new hw(T),[4,r.set(g,1)]):[3,7];case 3:return y.sent(),[4,r.get(g)];case 4:return o=y.sent(),o?[4,r.remove(g)]:[3,6];case 5:return y.sent(),[2,"."+n];case 6:return E++,[3,2];case 7:return[2,""]}})})},Sj=function(e){var t={};for(var i in e){var s=e[i];s&&(t[i]=s)}return t},Ej="[Amplitude] Page Viewed",bj=function(e){e===void 0&&(e={});var t,i=Ba(),s=void 0,g,E,n=e.trackOn,T=e.trackHistoryChanges,r=e.eventType,o=r===void 0?Ej:r,y=function(u){var v=u;try{v=decodeURI(u)}catch(p){s==null||s.error("Malformed URI sequence: ",p)}return v},d=function(){return oe(void 0,void 0,void 0,function(){var u,v,p;return te(this,function(m){switch(m.label){case 0:return u=y(typeof location<"u"&&location.href||""),p={event_type:o},v=[{}],[4,Pj()];case 1:return[2,(p.event_properties=Te.apply(void 0,[Te.apply(void 0,v.concat([m.sent()])),{"[Amplitude] Page Domain":typeof location<"u"&&location.hostname||"","[Amplitude] Page Location":u,"[Amplitude] Page Path":typeof location<"u"&&y(location.pathname)||"","[Amplitude] Page Title":typeof document<"u"&&document.title||"","[Amplitude] Page URL":u.split("?")[0]}]),p)]}})})},h=function(){return typeof n>"u"||typeof n=="function"&&n()},l=typeof location<"u"?location.href:null,a=function(){return oe(void 0,void 0,void 0,function(){var u,v,p,m;return te(this,function(x){switch(x.label){case 0:return u=location.href,v=Mj(T,u,l||"")&&h(),l=u,v?(s==null||s.log("Tracking page view event"),t!=null?[3,1]:[3,3]):[3,4];case 1:return m=(p=t).track,[4,d()];case 2:m.apply(p,[x.sent()]),x.label=3;case 3:x.label=4;case 4:return[2]}})})},f=function(){a()},c={name:"@amplitude/plugin-page-view-tracking-browser",type:"enrichment",setup:function(u,v){return oe(void 0,void 0,void 0,function(){var p,m;return te(this,function(x){switch(x.label){case 0:return t=v,E=u,s=u.loggerProvider,s.log("Installing @amplitude/plugin-page-view-tracking-browser"),i&&(i.addEventListener("popstate",f),g=i.history.pushState,i.history.pushState=new Proxy(i.history.pushState,{apply:function(C,P,w){var M=Li(w,3),R=M[0],A=M[1],L=M[2];C.apply(P,[R,A,L]),a()}})),h()?(s.log("Tracking page view event"),m=(p=t).track,[4,d()]):[3,2];case 1:m.apply(p,[x.sent()]),x.label=2;case 2:return[2]}})})},execute:function(u){return oe(void 0,void 0,void 0,function(){var v;return te(this,function(p){switch(p.label){case 0:return n==="attribution"&&wj(u)?(s==null||s.log("Enriching campaign event to page view event with campaign parameters"),[4,d()]):[3,2];case 1:v=p.sent(),u.event_type=v.event_type,u.event_properties=Te(Te({},u.event_properties),v.event_properties),p.label=2;case 2:return E&&u.event_type===o&&(E.pageCounter=E.pageCounter?E.pageCounter+1:1,u.event_properties=Te(Te({},u.event_properties),{"[Amplitude] Page Counter":E.pageCounter})),[2,u]}})})},teardown:function(){return oe(void 0,void 0,void 0,function(){return te(this,function(u){return i&&(i.removeEventListener("popstate",f),g&&(i.history.pushState=g)),[2]})})}};return c},Pj=function(){return oe(void 0,void 0,void 0,function(){var e;return te(this,function(t){switch(t.label){case 0:return e=Sj,[4,new a9().parse()];case 1:return[2,e.apply(void 0,[t.sent()])]}})})},wj=function(e){if(e.event_type==="$identify"&&e.user_properties){var t=e.user_properties,i=t[jr.SET]||{},s=t[jr.UNSET]||{},g=tn(tn([],Li(Object.keys(i)),!1),Li(Object.keys(s)),!1);return Object.keys(Ux).every(function(E){return g.includes(E)})}return!1},Mj=function(e,t,i){switch(e){case"pathOnly":{if(i=="")return!0;var s=new URL(t),g=new URL(i),E=s.origin+s.pathname,n=g.origin+g.pathname;return E!==n}default:return t!==i}},Rj=function(){var e,t=[],i=function(o,y,d){o.addEventListener(y,d),t.push({element:o,type:y,handler:d})},s=function(){t.forEach(function(o){var y=o.element,d=o.type,h=o.handler;y==null||y.removeEventListener(d,h)}),t=[]},g="@amplitude/plugin-form-interaction-tracking-browser",E="enrichment",n=function(o,y){return oe(void 0,void 0,void 0,function(){var d;return te(this,function(h){return(d=Ba())===null||d===void 0||d.addEventListener("load",function(){if(!y){o.loggerProvider.warn("Form interaction tracking requires a later version of @amplitude/analytics-browser. Form interaction events are not tracked.");return}if(!(typeof document>"u")){var l=function(f){var c=!1;i(f,"change",function(){var u,v=JF(f);c||y.track(HF,(u={},u[ab]=id(f.id),u[ob]=id(f.name),u[lb]=v,u)),c=!0}),i(f,"submit",function(){var u,v,p=JF(f);c||y.track(HF,(u={},u[ab]=id(f.id),u[ob]=id(f.name),u[lb]=p,u)),y.track(uj,(v={},v[ab]=id(f.id),v[ob]=id(f.name),v[lb]=p,v)),c=!1})},a=Array.from(document.getElementsByTagName("form"));a.forEach(l),typeof MutationObserver<"u"&&(e=new MutationObserver(function(f){f.forEach(function(c){c.addedNodes.forEach(function(u){u.nodeName==="FORM"&&l(u),"querySelectorAll"in u&&typeof u.querySelectorAll=="function"&&Array.from(u.querySelectorAll("form")).map(l)})})}),e.observe(document.body,{subtree:!0,childList:!0}))}}),[2]})})},T=function(o){return oe(void 0,void 0,void 0,function(){return te(this,function(y){return[2,o]})})},r=function(){return oe(void 0,void 0,void 0,function(){return te(this,function(o){return e==null||e.disconnect(),s(),[2]})})};return{name:g,type:E,setup:n,execute:T,teardown:r}},id=function(e){if(typeof e=="string")return e},JF=function(e){var t=e.getAttribute("action");try{t=new URL(encodeURI(t??""),window.location.href).href}catch{}return t},Aj=function(){var e,t=[],i=function(o,y,d){o.addEventListener(y,d),t.push({element:o,type:y,handler:d})},s=function(){t.forEach(function(o){var y=o.element,d=o.type,h=o.handler;y==null||y.removeEventListener(d,h)}),t=[]},g="@amplitude/plugin-file-download-tracking-browser",E="enrichment",n=function(o,y){return oe(void 0,void 0,void 0,function(){var d;return te(this,function(h){return(d=Ba())===null||d===void 0||d.addEventListener("load",function(){if(!y){o.loggerProvider.warn("File download tracking requires a later version of @amplitude/analytics-browser. File download events are not tracked.");return}if(!(typeof document>"u")){var l=function(c){var u;try{u=new URL(c.href,window.location.href)}catch{return}var v=a.exec(u.href),p=v==null?void 0:v[1];p&&i(c,"click",function(){var m;p&&y.track(fj,(m={},m[dj]=p,m[cj]=u.pathname,m[vj]=c.id,m[pj]=c.text,m[gj]=c.href,m))})},a=/\.(pdf|xlsx?|docx?|txt|rtf|csv|exe|key|pp(s|t|tx)|7z|pkg|rar|gz|zip|avi|mov|mp4|mpe?g|wmv|midi?|mp3|wav|wma)(\?.+)?$/,f=Array.from(document.getElementsByTagName("a"));f.forEach(l),typeof MutationObserver<"u"&&(e=new MutationObserver(function(c){c.forEach(function(u){u.addedNodes.forEach(function(v){v.nodeName==="A"&&l(v),"querySelectorAll"in v&&typeof v.querySelectorAll=="function"&&Array.from(v.querySelectorAll("a")).map(l)})})}),e.observe(document.body,{subtree:!0,childList:!0}))}}),[2]})})},T=function(o){return oe(void 0,void 0,void 0,function(){return te(this,function(y){return[2,o]})})},r=function(){return oe(void 0,void 0,void 0,function(){return te(this,function(o){return e==null||e.disconnect(),s(),[2]})})};return{name:g,type:E,setup:n,execute:T,teardown:r}},ZF=!1,Oj=function(e){if(!(ZF||e.defaultTracking!==void 0)){var t=`\`options.defaultTracking\` is set to undefined. This implicitly configures your Amplitude instance to track Page Views, Sessions, File Downloads, and Form Interactions. You can suppress this warning by explicitly setting a value to \`options.defaultTracking\`. The value must either be a boolean, to enable and disable all default events, or an object, for advanced configuration. For example:

amplitude.init(<YOUR_API_KEY>, {
  defaultTracking: true,
});

Visit https://www.docs.developers.amplitude.com/data/sdks/browser-2/#tracking-default-events for more details.`;e.loggerProvider.warn(t),ZF=!0}},Lj=function(){var e="@amplitude/plugin-network-checker-browser",t="before",i=Ba(),s=[],g=function(r,o){i&&(i.addEventListener(r,o),s.push({type:r,handler:o}))},E=function(){s.forEach(function(r){var o=r.type,y=r.handler;i&&i.removeEventListener(o,y)}),s=[]},n=function(r,o){return oe(void 0,void 0,void 0,function(){return te(this,function(y){return typeof navigator>"u"?(r.loggerProvider.debug("Network connectivity checker plugin is disabled because navigator is not available."),r.offline=!1,[2]):(r.offline=!navigator.onLine,g("online",function(){r.loggerProvider.debug("Network connectivity changed to online."),r.offline=!1,setTimeout(function(){o.flush()},r.flushIntervalMillis)}),g("offline",function(){r.loggerProvider.debug("Network connectivity changed to offline."),r.offline=!0}),[2])})})},T=function(){return oe(void 0,void 0,void 0,function(){return te(this,function(r){return E(),[2]})})};return{name:e,type:t,setup:n,teardown:T}},Dj="Network error occurred, remote config fetch failed",Fj="Remote config successfully fetched",Ij="Remote config fetch rejected due to exceeded retry count",jF="Remote config fetch rejected due to timeout after 5 seconds",QF="Unexpected error occurred",Bj="https://sr-client-cfg.amplitude.com/config",Gj="https://sr-client-cfg.stag2.amplitude.com/config",kj="https://sr-client-cfg.eu.amplitude.com/config",Nj=(function(){function e(t){var i=t.localConfig,s=t.configKeys,g=this;this.retryTimeout=1e3,this.attempts=0,this.sessionTargetingMatch=!1,this.metrics={},this.getRemoteConfig=function(E,n,T){return oe(g,void 0,void 0,function(){var r,o,y;return te(this,function(d){switch(d.label){case 0:return r=Date.now(),[4,this.fetchWithTimeout(T)];case 1:return o=d.sent(),o&&(y=o.configs&&o.configs[E],y)?(this.metrics.fetchTimeAPISuccess=Date.now()-r,[2,y[n]]):(this.metrics.fetchTimeAPIFail=Date.now()-r,[2,void 0])}})})},this.fetchWithTimeout=function(E){return oe(g,void 0,void 0,function(){var n,T,r;return te(this,function(o){switch(o.label){case 0:return n=new AbortController,T=setTimeout(function(){return n.abort()},5e3),[4,this.fetchRemoteConfig(n.signal,E)];case 1:return r=o.sent(),clearTimeout(T),[2,r]}})})},this.fetchRemoteConfig=function(E,n){return oe(g,void 0,void 0,function(){var T,r,o,y,d,h,l,a,f,c,u,v,p;return te(this,function(m){switch(m.label){case 0:if(n===this.lastFetchedSessionId&&this.attempts>=this.localConfig.flushMaxRetries)return[2,this.completeRequest({err:Ij})];if(E.aborted)return[2,this.completeRequest({err:jF})];n!==this.lastFetchedSessionId&&(this.lastFetchedSessionId=n,this.attempts=0),m.label=1;case 1:m.trys.push([1,3,,4]),T=new URLSearchParams({api_key:this.localConfig.apiKey});try{for(r=Mr(this.configKeys),o=r.next();!o.done;o=r.next())y=o.value,T.append("config_keys",y)}catch(x){u={error:x}}finally{try{o&&!o.done&&(v=r.return)&&v.call(r)}finally{if(u)throw u.error}}return n&&T.set("session_id",String(n)),d={headers:{Accept:"*/*"},method:"GET"},h="".concat(this.getServerUrl(),"?").concat(T.toString()),this.attempts+=1,[4,fetch(h,Te(Te({},d),{signal:E}))];case 2:if(l=m.sent(),l===null)return[2,this.completeRequest({err:QF})];switch(a=new Nx().buildStatus(l.status),a){case hr.Success:return this.attempts=0,[2,this.parseAndStoreConfig(l)];case hr.Failed:return[2,this.retryFetch(E,n)];default:return[2,this.completeRequest({err:Dj})]}case 3:return f=m.sent(),c=f,E.aborted?[2,this.completeRequest({err:jF})]:[2,this.completeRequest({err:(p=c.message)!==null&&p!==void 0?p:QF})];case 4:return[2]}})})},this.retryFetch=function(E,n){return oe(g,void 0,void 0,function(){var T=this;return te(this,function(r){switch(r.label){case 0:return[4,new Promise(function(o){return setTimeout(o,T.attempts*T.retryTimeout)})];case 1:return r.sent(),[2,this.fetchRemoteConfig(E,n)]}})})},this.parseAndStoreConfig=function(E){return oe(g,void 0,void 0,function(){var n;return te(this,function(T){switch(T.label){case 0:return[4,E.json()];case 1:return n=T.sent(),this.completeRequest({success:Fj}),[2,n]}})})},this.localConfig=i,this.configKeys=s}return e.prototype.getServerUrl=function(){return this.localConfig.serverZone===cx.STAGING?Gj:this.localConfig.serverZone===cx.EU?kj:Bj},e.prototype.completeRequest=function(t){var i=t.err,s=t.success;if(i)throw new Error(i);s&&this.localConfig.loggerProvider.log(s)},e})(),Uj=function(e){var t=e.localConfig,i=e.configKeys;return oe(void 0,void 0,void 0,function(){return te(this,function(s){return[2,new Nj({localConfig:t,configKeys:i})]})})},Vj=Uj,zj=(function(){function e(t){this.config=t,this.config.loggerProvider.debug("Local configuration before merging with remote config",JSON.stringify(this.config,null,2))}return e.prototype.initialize=function(){return oe(this,void 0,void 0,function(){var t;return te(this,function(i){switch(i.label){case 0:return t=this,[4,Vj({localConfig:this.config,configKeys:["analyticsSDK"]})];case 1:return t.remoteConfigFetch=i.sent(),[2]}})})},e.prototype.generateJoinedConfig=function(){var t,i,s,g;return oe(this,void 0,void 0,function(){var E,n,T;return te(this,function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),n=this.remoteConfigFetch,n?[4,this.remoteConfigFetch.getRemoteConfig("analyticsSDK","browserSDK",this.config.sessionId)]:[3,2];case 1:n=r.sent(),r.label=2;case 2:return E=n,this.config.loggerProvider.debug("Remote configuration:",JSON.stringify(E,null,2)),E&&"autocapture"in E&&(typeof E.autocapture=="boolean"&&(this.config.autocapture=E.autocapture),typeof E.autocapture=="object"&&(this.config.autocapture===void 0&&(this.config.autocapture=E.autocapture),typeof this.config.autocapture=="boolean"&&(this.config.autocapture=Te({attribution:this.config.autocapture,fileDownloads:this.config.autocapture,formInteractions:this.config.autocapture,pageViews:this.config.autocapture,sessions:this.config.autocapture,elementInteractions:this.config.autocapture},E.autocapture)),typeof this.config.autocapture=="object"&&(this.config.autocapture=Te(Te({},this.config.autocapture),E.autocapture))),this.config.defaultTracking=this.config.autocapture),this.config.loggerProvider.debug("Joined configuration: ",JSON.stringify(this.config,null,2)),(t=(g=this.config).requestMetadata)!==null&&t!==void 0||(g.requestMetadata=new s9),!((i=this.remoteConfigFetch)===null||i===void 0)&&i.metrics.fetchTimeAPISuccess&&this.config.requestMetadata.recordHistogram("remote_config_fetch_time_API_success",this.remoteConfigFetch.metrics.fetchTimeAPISuccess),!((s=this.remoteConfigFetch)===null||s===void 0)&&s.metrics.fetchTimeAPIFail&&this.config.requestMetadata.recordHistogram("remote_config_fetch_time_API_fail",this.remoteConfigFetch.metrics.fetchTimeAPIFail),[3,4];case 3:return T=r.sent(),this.config.loggerProvider.error("Failed to fetch remote configuration because of error: ",T),[3,4];case 4:return[2,this.config]}})})},e})(),Wj=function(e){return oe(void 0,void 0,void 0,function(){var t;return te(this,function(i){switch(i.label){case 0:return t=new zj(e),[4,t.initialize()];case 1:return i.sent(),[2,t]}})})},Yj="@amplitude/plugin-autocapture-browser",uw="[Amplitude] Element Clicked",Xj="[Amplitude] Element Changed",Hj="[Amplitude] Element ID",$j="[Amplitude] Element Class",p9="[Amplitude] Element Tag",g9="[Amplitude] Element Text",Kj="[Amplitude] Element Hierarchy",Jj="[Amplitude] Element Href",Zj="[Amplitude] Element Position Left",jj="[Amplitude] Element Position Top",Qj="[Amplitude] Element Aria Label",qj="[Amplitude] Element Attributes",m9="[Amplitude] Element Selector",_j="[Amplitude] Element Parent Label",y9="[Amplitude] Page URL",tQ="[Amplitude] Page Title",eQ="[Amplitude] Viewport Height",iQ="[Amplitude] Viewport Width",rx="https://app.amplitude.com",rQ="https://app.eu.amplitude.com",nQ="https://apps.stag2.amplitude.com",sQ={US:rx,EU:rQ,STAGING:nQ},aQ="https://cdn.amplitude.com/libs/visual-tagging-selector-1.0.0-alpha.js.gz",fw="amp-visual-tagging-selector-highlight";function Yi(e){return typeof e=="function"}function x9(e){var t=function(s){Error.call(s),s.stack=new Error().stack},i=e(t);return i.prototype=Object.create(Error.prototype),i.prototype.constructor=i,i}var hb=x9(function(e){return function(i){e(this),this.message=i?i.length+` errors occurred during unsubscription:
`+i.map(function(s,g){return g+1+") "+s.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=i}});function dw(e,t){if(e){var i=e.indexOf(t);0<=i&&e.splice(i,1)}}var Vx=(function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,i,s,g,E;if(!this.closed){this.closed=!0;var n=this._parentage;if(n)if(this._parentage=null,Array.isArray(n))try{for(var T=Mr(n),r=T.next();!r.done;r=T.next()){var o=r.value;o.remove(this)}}catch(f){t={error:f}}finally{try{r&&!r.done&&(i=T.return)&&i.call(T)}finally{if(t)throw t.error}}else n.remove(this);var y=this.initialTeardown;if(Yi(y))try{y()}catch(f){E=f instanceof hb?f.errors:[f]}var d=this._finalizers;if(d){this._finalizers=null;try{for(var h=Mr(d),l=h.next();!l.done;l=h.next()){var a=l.value;try{qF(a)}catch(f){E=E??[],f instanceof hb?E=tn(tn([],Li(E)),Li(f.errors)):E.push(f)}}}catch(f){s={error:f}}finally{try{l&&!l.done&&(g=h.return)&&g.call(h)}finally{if(s)throw s.error}}}if(E)throw new hb(E)}},e.prototype.add=function(t){var i;if(t&&t!==this)if(this.closed)qF(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(i=this._finalizers)!==null&&i!==void 0?i:[]).push(t)}},e.prototype._hasParent=function(t){var i=this._parentage;return i===t||Array.isArray(i)&&i.includes(t)},e.prototype._addParent=function(t){var i=this._parentage;this._parentage=Array.isArray(i)?(i.push(t),i):i?[i,t]:t},e.prototype._removeParent=function(t){var i=this._parentage;i===t?this._parentage=null:Array.isArray(i)&&dw(i,t)},e.prototype.remove=function(t){var i=this._finalizers;i&&dw(i,t),t instanceof e&&t._removeParent(this)},e.EMPTY=(function(){var t=new e;return t.closed=!0,t})(),e})();Vx.EMPTY;function T9(e){return e instanceof Vx||e&&"closed"in e&&Yi(e.remove)&&Yi(e.add)&&Yi(e.unsubscribe)}function qF(e){Yi(e)?e():e.unsubscribe()}var oQ={Promise:void 0},lQ={setTimeout:function(e,t){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];return setTimeout.apply(void 0,tn([e,t],Li(i)))},clearTimeout:function(e){return clearTimeout(e)},delegate:void 0};function C9(e){lQ.setTimeout(function(){throw e})}function cw(){}function hQ(e){e()}var Xw=(function(e){Gs(t,e);function t(i){var s=e.call(this)||this;return s.isStopped=!1,i?(s.destination=i,T9(i)&&i.add(s)):s.destination=dQ,s}return t.create=function(i,s,g){return new vw(i,s,g)},t.prototype.next=function(i){this.isStopped||this._next(i)},t.prototype.error=function(i){this.isStopped||(this.isStopped=!0,this._error(i))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(i){this.destination.next(i)},t.prototype._error=function(i){try{this.destination.error(i)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t})(Vx),uQ=(function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var i=this.partialObserver;if(i.next)try{i.next(t)}catch(s){D0(s)}},e.prototype.error=function(t){var i=this.partialObserver;if(i.error)try{i.error(t)}catch(s){D0(s)}else D0(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(i){D0(i)}},e})(),vw=(function(e){Gs(t,e);function t(i,s,g){var E=e.call(this)||this,n;return Yi(i)||!i?n={next:i??void 0,error:s??void 0,complete:g??void 0}:n=i,E.destination=new uQ(n),E}return t})(Xw);function D0(e){C9(e)}function fQ(e){throw e}var dQ={closed:!0,next:cw,error:fQ,complete:cw},Hw=(function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"})();function S9(e){return e}function cQ(e){return e.length===0?S9:e.length===1?e[0]:function(i){return e.reduce(function(s,g){return g(s)},i)}}var ks=(function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var i=new e;return i.source=this,i.operator=t,i},e.prototype.subscribe=function(t,i,s){var g=this,E=pQ(t)?t:new vw(t,i,s);return hQ(function(){var n=g,T=n.operator,r=n.source;E.add(T?T.call(E,r):r?g._subscribe(E):g._trySubscribe(E))}),E},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(i){t.error(i)}},e.prototype.forEach=function(t,i){var s=this;return i=_F(i),new i(function(g,E){var n=new vw({next:function(T){try{t(T)}catch(r){E(r),n.unsubscribe()}},error:E,complete:g});s.subscribe(n)})},e.prototype._subscribe=function(t){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(t)},e.prototype[Hw]=function(){return this},e.prototype.pipe=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return cQ(t)(this)},e.prototype.toPromise=function(t){var i=this;return t=_F(t),new t(function(s,g){var E;i.subscribe(function(n){return E=n},function(n){return g(n)},function(){return s(E)})})},e.create=function(t){return new e(t)},e})();function _F(e){var t;return(t=e??oQ.Promise)!==null&&t!==void 0?t:Promise}function vQ(e){return e&&Yi(e.next)&&Yi(e.error)&&Yi(e.complete)}function pQ(e){return e&&e instanceof Xw||vQ(e)&&T9(e)}function gQ(e){return Yi(e==null?void 0:e.lift)}function Wa(e){return function(t){if(gQ(t))return t.lift(function(i){try{return e(i,this)}catch(s){this.error(s)}});throw new TypeError("Unable to lift unknown Observable type")}}function Is(e,t,i,s,g){return new mQ(e,t,i,s,g)}var mQ=(function(e){Gs(t,e);function t(i,s,g,E,n,T){var r=e.call(this,i)||this;return r.onFinalize=n,r.shouldUnsubscribe=T,r._next=s?function(o){try{s(o)}catch(y){i.error(y)}}:e.prototype._next,r._error=E?function(o){try{E(o)}catch(y){i.error(y)}finally{this.unsubscribe()}}:e.prototype._error,r._complete=g?function(){try{g()}catch(o){i.error(o)}finally{this.unsubscribe()}}:e.prototype._complete,r}return t.prototype.unsubscribe=function(){var i;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var s=this.closed;e.prototype.unsubscribe.call(this),!s&&((i=this.onFinalize)===null||i===void 0||i.call(this))}},t})(Xw),yQ={now:function(){return Date.now()}},xQ=(function(e){Gs(t,e);function t(i,s){return e.call(this)||this}return t.prototype.schedule=function(i,s){return this},t})(Vx),t3={setInterval:function(e,t){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];return setInterval.apply(void 0,tn([e,t],Li(i)))},clearInterval:function(e){return clearInterval(e)},delegate:void 0},TQ=(function(e){Gs(t,e);function t(i,s){var g=e.call(this,i,s)||this;return g.scheduler=i,g.work=s,g.pending=!1,g}return t.prototype.schedule=function(i,s){var g;if(s===void 0&&(s=0),this.closed)return this;this.state=i;var E=this.id,n=this.scheduler;return E!=null&&(this.id=this.recycleAsyncId(n,E,s)),this.pending=!0,this.delay=s,this.id=(g=this.id)!==null&&g!==void 0?g:this.requestAsyncId(n,this.id,s),this},t.prototype.requestAsyncId=function(i,s,g){return g===void 0&&(g=0),t3.setInterval(i.flush.bind(i,this),g)},t.prototype.recycleAsyncId=function(i,s,g){if(g===void 0&&(g=0),g!=null&&this.delay===g&&this.pending===!1)return s;s!=null&&t3.clearInterval(s)},t.prototype.execute=function(i,s){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var g=this._execute(i,s);if(g)return g;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(i,s){var g=!1,E;try{this.work(i)}catch(n){g=!0,E=n||new Error("Scheduled action threw falsy error")}if(g)return this.unsubscribe(),E},t.prototype.unsubscribe=function(){if(!this.closed){var i=this,s=i.id,g=i.scheduler,E=g.actions;this.work=this.state=this.scheduler=null,this.pending=!1,dw(E,this),s!=null&&(this.id=this.recycleAsyncId(g,s,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t})(xQ),e3=(function(){function e(t,i){i===void 0&&(i=e.now),this.schedulerActionCtor=t,this.now=i}return e.prototype.schedule=function(t,i,s){return i===void 0&&(i=0),new this.schedulerActionCtor(this,t).schedule(s,i)},e.now=yQ.now,e})(),CQ=(function(e){Gs(t,e);function t(i,s){s===void 0&&(s=e3.now);var g=e.call(this,i,s)||this;return g.actions=[],g._active=!1,g}return t.prototype.flush=function(i){var s=this.actions;if(this._active){s.push(i);return}var g;this._active=!0;do if(g=i.execute(i.state,i.delay))break;while(i=s.shift());if(this._active=!1,g){for(;i=s.shift();)i.unsubscribe();throw g}},t})(e3),zx=new CQ(TQ),SQ=zx,$w=new ks(function(e){return e.complete()});function E9(e){return e&&Yi(e.schedule)}function b9(e){return e[e.length-1]}function EQ(e){return E9(b9(e))?e.pop():void 0}function bQ(e,t){return typeof b9(e)=="number"?e.pop():t}var Kw=(function(e){return e&&typeof e.length=="number"&&typeof e!="function"});function P9(e){return Yi(e==null?void 0:e.then)}function w9(e){return Yi(e[Hw])}function M9(e){return Symbol.asyncIterator&&Yi(e==null?void 0:e[Symbol.asyncIterator])}function R9(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function PQ(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var A9=PQ();function O9(e){return Yi(e==null?void 0:e[A9])}function L9(e){return WJ(this,arguments,function(){var i,s,g,E;return te(this,function(n){switch(n.label){case 0:i=e.getReader(),n.label=1;case 1:n.trys.push([1,,9,10]),n.label=2;case 2:return[4,kd(i.read())];case 3:return s=n.sent(),g=s.value,E=s.done,E?[4,kd(void 0)]:[3,5];case 4:return[2,n.sent()];case 5:return[4,kd(g)];case 6:return[4,n.sent()];case 7:return n.sent(),[3,2];case 8:return[3,10];case 9:return i.releaseLock(),[7];case 10:return[2]}})})}function D9(e){return Yi(e==null?void 0:e.getReader)}function Ya(e){if(e instanceof ks)return e;if(e!=null){if(w9(e))return wQ(e);if(Kw(e))return MQ(e);if(P9(e))return RQ(e);if(M9(e))return F9(e);if(O9(e))return AQ(e);if(D9(e))return OQ(e)}throw R9(e)}function wQ(e){return new ks(function(t){var i=e[Hw]();if(Yi(i.subscribe))return i.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function MQ(e){return new ks(function(t){for(var i=0;i<e.length&&!t.closed;i++)t.next(e[i]);t.complete()})}function RQ(e){return new ks(function(t){e.then(function(i){t.closed||(t.next(i),t.complete())},function(i){return t.error(i)}).then(null,C9)})}function AQ(e){return new ks(function(t){var i,s;try{for(var g=Mr(e),E=g.next();!E.done;E=g.next()){var n=E.value;if(t.next(n),t.closed)return}}catch(T){i={error:T}}finally{try{E&&!E.done&&(s=g.return)&&s.call(g)}finally{if(i)throw i.error}}t.complete()})}function F9(e){return new ks(function(t){LQ(e,t).catch(function(i){return t.error(i)})})}function OQ(e){return F9(L9(e))}function LQ(e,t){var i,s,g,E;return oe(this,void 0,void 0,function(){var n,T;return te(this,function(r){switch(r.label){case 0:r.trys.push([0,5,6,11]),i=YJ(e),r.label=1;case 1:return[4,i.next()];case 2:if(s=r.sent(),!!s.done)return[3,4];if(n=s.value,t.next(n),t.closed)return[2];r.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return T=r.sent(),g={error:T},[3,11];case 6:return r.trys.push([6,,9,10]),s&&!s.done&&(E=i.return)?[4,E.call(i)]:[3,8];case 7:r.sent(),r.label=8;case 8:return[3,10];case 9:if(g)throw g.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})}function Th(e,t,i,s,g){s===void 0&&(s=0),g===void 0&&(g=!1);var E=t.schedule(function(){i(),g?e.add(this.schedule(null,s)):this.unsubscribe()},s);if(e.add(E),!g)return E}function I9(e,t){return t===void 0&&(t=0),Wa(function(i,s){i.subscribe(Is(s,function(g){return Th(s,e,function(){return s.next(g)},t)},function(){return Th(s,e,function(){return s.complete()},t)},function(g){return Th(s,e,function(){return s.error(g)},t)}))})}function B9(e,t){return t===void 0&&(t=0),Wa(function(i,s){s.add(e.schedule(function(){return i.subscribe(s)},t))})}function DQ(e,t){return Ya(e).pipe(B9(t),I9(t))}function FQ(e,t){return Ya(e).pipe(B9(t),I9(t))}function IQ(e,t){return new ks(function(i){var s=0;return t.schedule(function(){s===e.length?i.complete():(i.next(e[s++]),i.closed||this.schedule())})})}function BQ(e,t){return new ks(function(i){var s;return Th(i,t,function(){s=e[A9](),Th(i,t,function(){var g,E,n;try{g=s.next(),E=g.value,n=g.done}catch(T){i.error(T);return}n?i.complete():i.next(E)},0,!0)}),function(){return Yi(s==null?void 0:s.return)&&s.return()}})}function G9(e,t){if(!e)throw new Error("Iterable cannot be null");return new ks(function(i){Th(i,t,function(){var s=e[Symbol.asyncIterator]();Th(i,t,function(){s.next().then(function(g){g.done?i.complete():i.next(g.value)})},0,!0)})})}function GQ(e,t){return G9(L9(e),t)}function kQ(e,t){if(e!=null){if(w9(e))return DQ(e,t);if(Kw(e))return IQ(e,t);if(P9(e))return FQ(e,t);if(M9(e))return G9(e,t);if(O9(e))return BQ(e,t);if(D9(e))return GQ(e,t)}throw R9(e)}function NQ(e,t){return t?kQ(e,t):Ya(e)}function k9(e){return e instanceof Date&&!isNaN(e)}var UQ=x9(function(e){return function(i){i===void 0&&(i=null),e(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=i}});function VQ(e,t){var i=k9(e)?{first:e}:typeof e=="number"?{each:e}:e,s=i.first,g=i.each,E=i.with,n=E===void 0?zQ:E,T=i.scheduler,r=T===void 0?zx:T,o=i.meta,y=o===void 0?null:o;if(s==null&&g==null)throw new TypeError("No timeout provided.");return Wa(function(d,h){var l,a,f=null,c=0,u=function(v){a=Th(h,r,function(){try{l.unsubscribe(),Ya(n({meta:y,lastValue:f,seen:c})).subscribe(h)}catch(p){h.error(p)}},v)};l=d.subscribe(Is(h,function(v){a==null||a.unsubscribe(),c++,h.next(f=v),g>0&&u(g)},void 0,void 0,function(){a!=null&&a.closed||a==null||a.unsubscribe(),f=null})),!c&&u(s!=null?typeof s=="number"?s:+s-r.now():g)})}function zQ(e){throw new UQ(e)}function To(e,t){return Wa(function(i,s){var g=0;i.subscribe(Is(s,function(E){s.next(e.call(t,E,g++))}))})}var WQ=Array.isArray;function YQ(e,t){return WQ(t)?e.apply(void 0,tn([],Li(t))):e(t)}function XQ(e){return To(function(t){return YQ(e,t)})}function HQ(e,t,i,s,g,E,n,T){var r=[],o=0,y=0,d=!1,h=function(){d&&!r.length&&!o&&t.complete()},l=function(f){return o<s?a(f):r.push(f)},a=function(f){o++;var c=!1;Ya(i(f,y++)).subscribe(Is(t,function(u){t.next(u)},function(){c=!0},void 0,function(){if(c)try{o--;for(var u=function(){var v=r.shift();n||a(v)};r.length&&o<s;)u();h()}catch(v){t.error(v)}}))};return e.subscribe(Is(t,l,function(){d=!0,h()})),function(){}}function Wx(e,t,i){return i===void 0&&(i=1/0),Yi(t)?Wx(function(s,g){return To(function(E,n){return t(s,E,g,n)})(Ya(e(s,g)))},i):(typeof t=="number"&&(i=t),Wa(function(s,g){return HQ(s,g,e,i)}))}function $Q(e){return e===void 0&&(e=1/0),Wx(S9,e)}var KQ=["addListener","removeListener"],JQ=["addEventListener","removeEventListener"],ZQ=["on","off"];function Cp(e,t,i,s){if(Yi(i)&&(s=i,i=void 0),s)return Cp(e,t,i).pipe(XQ(s));var g=Li(qQ(e)?JQ.map(function(T){return function(r){return e[T](t,r,i)}}):jQ(e)?KQ.map(i3(e,t)):QQ(e)?ZQ.map(i3(e,t)):[],2),E=g[0],n=g[1];if(!E&&Kw(e))return Wx(function(T){return Cp(T,t,i)})(Ya(e));if(!E)throw new TypeError("Invalid event target");return new ks(function(T){var r=function(){for(var o=[],y=0;y<arguments.length;y++)o[y]=arguments[y];return T.next(1<o.length?o:o[0])};return E(r),function(){return n(r)}})}function i3(e,t){return function(i){return function(s){return e[i](t,s)}}}function jQ(e){return Yi(e.addListener)&&Yi(e.removeListener)}function QQ(e){return Yi(e.on)&&Yi(e.off)}function qQ(e){return Yi(e.addEventListener)&&Yi(e.removeEventListener)}function _Q(e,t,i){i===void 0&&(i=SQ);var s=-1;return t!=null&&(E9(t)?i=t:s=t),new ks(function(g){var E=k9(e)?+e-i.now():e;E<0&&(E=0);var n=0;return i.schedule(function(){g.closed||(g.next(n++),0<=s?this.schedule(void 0,s):g.complete())},E)})}function N9(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=EQ(e),s=bQ(e,1/0),g=e;return g.length?g.length===1?Ya(g[0]):$Q(s)(NQ(g,i)):$w}function Ch(e,t){return Wa(function(i,s){var g=0;i.subscribe(Is(s,function(E){return e.call(t,E,g++)&&s.next(E)}))})}function tq(e){return Wa(function(t,i){var s=[];return t.subscribe(Is(i,function(g){return s.push(g)},function(){i.next(s),i.complete()})),Ya(e).subscribe(Is(i,function(){var g=s;s=[],i.next(g)},cw)),function(){s=null}})}function eq(e,t){return t===void 0&&(t=zx),Wa(function(i,s){var g=null,E=null,n=null,T=function(){if(g){g.unsubscribe(),g=null;var o=E;E=null,s.next(o)}};function r(){var o=n+e,y=t.now();if(y<o){g=this.schedule(void 0,o-y),s.add(g);return}T()}i.subscribe(Is(s,function(o){E=o,n=t.now(),g||(g=t.schedule(r,e),s.add(g))},function(){T(),s.complete()},void 0,function(){E=g=null}))})}function U9(e){return e<=0?function(){return $w}:Wa(function(t,i){var s=0;t.subscribe(Is(i,function(g){++s<=e&&(i.next(g),e<=s&&i.complete())}))})}function iq(e){return To(function(){return e})}function rq(e,t){return Wx(function(i,s){return Ya(e(i,s)).pipe(U9(1),iq(i))})}function nq(e,t){t===void 0&&(t=zx);var i=_Q(e,t);return rq(function(){return i})}function sq(){return Wa(function(e,t){var i,s=!1;e.subscribe(Is(t,function(g){var E=i;i=g,s&&t.next([E,g]),s=!0}))})}function aq(e,t){return Wa(function(i,s){var g=null,E=0,n=!1,T=function(){return n&&!g&&s.complete()};i.subscribe(Is(s,function(r){g==null||g.unsubscribe();var o=0,y=E++;Ya(e(r,y)).subscribe(g=Is(s,function(d){return s.next(t?t(r,d,y,o++):d)},function(){g=null,T()}))},function(){n=!0,T()}))})}var So,Jw;function oq(e,t){if(e.nodeType!==Node.ELEMENT_NODE)throw new Error("Can't generate CSS selector for non-element node type.");if(e.tagName.toLowerCase()==="html")return"html";var i={root:document.body,idName:function(E){return!0},className:function(E){return!0},tagName:function(E){return!0},attr:function(E,n){return!1},seedMinLength:1,optimizedMinLength:2,threshold:1e3,maxNumberOfTries:1e4};So=Te(Te({},i),t),Jw=lq(So.root,i);var s=F0(e,"all",function(){return F0(e,"two",function(){return F0(e,"one",function(){return F0(e,"none")})})});if(s){var g=W9(Y9(s,e));return g.length>0&&(s=g[0]),Yx(s)}else throw new Error("Selector was not found.")}function lq(e,t){return e.nodeType===Node.DOCUMENT_NODE?e:e===t.root?e.ownerDocument:e}function F0(e,t,i){for(var s=null,g=[],E=e,n=0,T=function(){var o,y,d=B0(hq(E))||B0.apply(void 0,tn([],Li(uq(E)),!1))||B0.apply(void 0,tn([],Li(fq(E)),!1))||B0(dq(E))||[s3()],h=cq(E);if(t=="all")h&&(d=d.concat(d.filter(ub).map(function(u){return I0(u,h)})));else if(t=="two")d=d.slice(0,1),h&&(d=d.concat(d.filter(ub).map(function(u){return I0(u,h)})));else if(t=="one"){var l=Li(d=d.slice(0,1),1),a=l[0];h&&ub(a)&&(d=[I0(a,h)])}else t=="none"&&(d=[s3()],h&&(d=[I0(d[0],h)]));try{for(var f=(o=void 0,Mr(d)),c=f.next();!c.done;c=f.next()){var a=c.value;a.level=n}}catch(u){o={error:u}}finally{try{c&&!c.done&&(y=f.return)&&y.call(f)}finally{if(o)throw o.error}}if(g.push(d),g.length>=So.seedMinLength&&(s=r3(g,i),s))return"break";E=E.parentElement,n++};E;){var r=T();if(r==="break")break}return s||(s=r3(g,i)),!s&&i?i():s}function r3(e,t){var i,s,g=e.reduce(function(o,y){return o*y.length},1);if(g>So.threshold)return t?t():null;var E=W9(z9(e));try{for(var n=Mr(E),T=n.next();!T.done;T=n.next()){var r=T.value;if(V9(r))return r}}catch(o){i={error:o}}finally{try{T&&!T.done&&(s=n.return)&&s.call(n)}finally{if(i)throw i.error}}return null}function Yx(e){for(var t=e[0],i=t.name,s=1;s<e.length;s++){var g=e[s].level||0;t.level===g-1?i="".concat(e[s].name," > ").concat(i):i="".concat(e[s].name," ").concat(i),t=e[s]}return i}function n3(e){return e.map(function(t){return t.penalty}).reduce(function(t,i){return t+i},0)}function V9(e){var t=Yx(e);switch(Jw.querySelectorAll(t).length){case 0:throw new Error("Can't select any node with this selector: ".concat(t));case 1:return!0;default:return!1}}function hq(e){var t=e.getAttribute("id");return t&&So.idName(t)?{name:"#"+CSS.escape(t),penalty:0}:null}function uq(e){var t=Array.from(e.attributes).filter(function(i){return So.attr(i.name,i.value)});return t.map(function(i){return{name:"[".concat(CSS.escape(i.name),'="').concat(CSS.escape(i.value),'"]'),penalty:.5}})}function fq(e){var t=Array.from(e.classList).filter(So.className);return t.map(function(i){return{name:"."+CSS.escape(i),penalty:1}})}function dq(e){var t=e.tagName.toLowerCase();return So.tagName(t)?{name:t,penalty:2}:null}function s3(){return{name:"*",penalty:3}}function cq(e){var t=e.parentNode;if(!t)return null;var i=t.firstChild;if(!i)return null;for(var s=0;i&&(i.nodeType===Node.ELEMENT_NODE&&s++,i!==e);)i=i.nextSibling;return s}function I0(e,t){return{name:e.name+":nth-child(".concat(t,")"),penalty:e.penalty+1}}function ub(e){return e.name!=="html"&&!e.name.startsWith("#")}function B0(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=e.filter(vq);return i.length>0?i:null}function vq(e){return e!=null}function z9(e,t){var i,s,g,E,n,T;return t===void 0&&(t=[]),te(this,function(r){switch(r.label){case 0:if(!(e.length>0))return[3,9];r.label=1;case 1:r.trys.push([1,6,7,8]),i=Mr(e[0]),s=i.next(),r.label=2;case 2:return s.done?[3,5]:(g=s.value,[5,Mr(z9(e.slice(1,e.length),t.concat(g)))]);case 3:r.sent(),r.label=4;case 4:return s=i.next(),[3,2];case 5:return[3,8];case 6:return E=r.sent(),n={error:E},[3,8];case 7:try{s&&!s.done&&(T=i.return)&&T.call(i)}finally{if(n)throw n.error}return[7];case 8:return[3,11];case 9:return[4,t];case 10:r.sent(),r.label=11;case 11:return[2]}})}function W9(e){return tn([],Li(e),!1).sort(function(t,i){return n3(t)-n3(i)})}function Y9(e,t,i){var s,g,E;return i===void 0&&(i={counter:0,visited:new Map}),te(this,function(n){switch(n.label){case 0:if(!(e.length>2&&e.length>So.optimizedMinLength))return[3,5];s=1,n.label=1;case 1:return s<e.length-1?i.counter>So.maxNumberOfTries?[2]:(i.counter+=1,g=tn([],Li(e),!1),g.splice(s,1),E=Yx(g),i.visited.has(E)?[2]:V9(g)&&pq(g,t)?[4,g]:[3,4]):[3,5];case 2:return n.sent(),i.visited.set(E,!0),[5,Mr(Y9(g,t,i))];case 3:n.sent(),n.label=4;case 4:return s++,[3,1];case 5:return[2]}})}function pq(e,t){return Jw.querySelector(Yx(e))===t}var gq=["input","select","textarea"],fb=function(e,t){return function(i,s){var g,E,n,T=e.pageUrlAllowlist,r=e.shouldTrackEventResolver,o=(E=(g=s==null?void 0:s.tagName)===null||g===void 0?void 0:g.toLowerCase)===null||E===void 0?void 0:E.call(g);if(!o)return!1;if(r)return r(i,s);if(!yq(window.location.href,T))return!1;var y=String(s==null?void 0:s.getAttribute("type"))||"";if(typeof y=="string")switch(y.toLowerCase()){case"hidden":return!1;case"password":return!1}if(t){var d=t.some(function(l){var a;return!!(!((a=s==null?void 0:s.matches)===null||a===void 0)&&a.call(s,l))});if(!d)return!1}switch(o){case"input":case"select":case"textarea":return i==="change"||i==="click";default:{var h=(n=window==null?void 0:window.getComputedStyle)===null||n===void 0?void 0:n.call(window,s);return h&&h.getPropertyValue("cursor")==="pointer"&&i==="click"?!0:i==="click"}}}},X9=function(e){if(e==null)return!1;if(typeof e=="string"){var t=/^(?:(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11}))$/;if(t.test((e||"").replace(/[- ]/g,"")))return!1;var i=/(^\d{3}-?\d{2}-?\d{4}$)/;if(i.test(e))return!1}return!0},mq=function(e){return!!e&&e.nodeType===3},H9=function(e){var t,i,s,g=(i=(t=e==null?void 0:e.tagName)===null||t===void 0?void 0:t.toLowerCase)===null||i===void 0?void 0:i.call(t),E=e instanceof HTMLElement?((s=e.getAttribute("contenteditable"))===null||s===void 0?void 0:s.toLowerCase())==="true":!1;return!gq.includes(g)&&!E},Zw=function(e){var t="";return H9(e)&&e.childNodes&&e.childNodes.length&&e.childNodes.forEach(function(i){var s="";mq(i)?i.textContent&&(s=i.textContent):s=Zw(i),t+=s.split(/(\s+)/).filter(X9).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255)}),t},$9=function(e,t){var i,s,g="";try{return g=oq(e,{className:function(y){return y!==fw},maxNumberOfTries:1e3}),g}catch(y){if(t){var E=y;t.warn("Failed to get selector with finder, use fallback strategy instead: ".concat(E.toString()))}}var n=(s=(i=e==null?void 0:e.tagName)===null||i===void 0?void 0:i.toLowerCase)===null||s===void 0?void 0:s.call(i);n&&(g=n);var T=e.getAttribute("id"),r=e.getAttribute("class");if(T)g="#".concat(T);else if(r){var o=r.split(" ").filter(function(y){return y!==fw}).join(".");o&&(g="".concat(g,".").concat(o))}return g},yq=function(e,t){return!t||!t.length?!0:t.some(function(i){return typeof i=="string"?e===i:e.match(i)})},xq=function(e,t){return e.getAttributeNames().reduce(function(i,s){if(s.startsWith(t)){var g=s.replace(t,""),E=e.getAttribute(s);g&&(i[g]=E||"")}return i},{})},Tq=function(e){return e==null||typeof e=="object"&&Object.keys(e).length===0||typeof e=="string"&&e.trim().length===0},K9=function(e){return Object.keys(e).reduce(function(t,i){var s=e[i];return Tq(s)||(t[i]=s),t},{})},J9=function(e){var t=e.parentElement;if(!t)return"";var i;try{i=t.querySelector(":scope>span,h1,h2,h3,h4,h5,h6")}catch{i=null}if(i){var s=i.textContent||"";return X9(s)?s:""}return J9(t)},jw=function(e,t){return e?t.some(function(i){var s;return(s=e==null?void 0:e.matches)===null||s===void 0?void 0:s.call(e,i)})?e:jw(e==null?void 0:e.parentElement,t):null},Cq=function(e,t){var i,s,g;if(!e)return{};var E=(g=(s=e==null?void 0:e.tagName)===null||s===void 0?void 0:s.toLowerCase)===null||g===void 0?void 0:g.call(s),n=$9(e,t),T=(i={},i[p9]=E,i[g9]=Zw(e),i[m9]=n,i[y9]=window.location.href.split("?")[0],i);return K9(T)},Sq=function(e){return new Promise(function(t,i){var s;try{var g=document.createElement("script");g.type="text/javascript",g.async=!0,g.src=e,g.addEventListener("load",function(){t({status:!0})},{once:!0}),g.addEventListener("error",function(){i({status:!1,message:"Failed to load the script ".concat(e)})}),(s=document.head)===null||s===void 0||s.appendChild(g)}catch(E){i(E)}})};function Eq(){return"".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9))}var Qw=function(e){return!(e.event.target===null||!e.closestTrackedAncestor)},bq=(function(){function e(t){var i=t===void 0?{}:t,s=i.origin,g=s===void 0?rx:s,E=this;this.endpoint=rx,this.requestCallbacks={},this.onSelect=function(n){E.notify({action:"element-selected",data:n})},this.onTrack=function(n,T){n==="selector-mode-changed"?E.notify({action:"track-selector-mode-changed",data:T}):n==="selector-moved"&&E.notify({action:"track-selector-moved",data:T})},this.endpoint=g}return e.prototype.notify=function(t){var i,s,g,E;(s=(i=this.logger)===null||i===void 0?void 0:i.debug)===null||s===void 0||s.call(i,"Message sent: ",JSON.stringify(t)),(E=(g=window.opener)===null||g===void 0?void 0:g.postMessage)===null||E===void 0||E.call(g,t,this.endpoint)},e.prototype.sendRequest=function(t,i,s){var g=this;s===void 0&&(s={timeout:15e3});var E=Eq(),n={id:E,action:t,args:i},T=new Promise(function(r,o){g.requestCallbacks[E]={resolve:r,reject:o},g.notify(n),(s==null?void 0:s.timeout)>0&&setTimeout(function(){o(new Error("".concat(t," timed out (id: ").concat(E,")"))),delete g.requestCallbacks[E]},s.timeout)});return T},e.prototype.handleResponse=function(t){var i;if(!this.requestCallbacks[t.id]){(i=this.logger)===null||i===void 0||i.warn("No callback found for request id: ".concat(t.id));return}this.requestCallbacks[t.id].resolve(t.responseData),delete this.requestCallbacks[t.id]},e.prototype.setup=function(t){var i=this,s=t===void 0?{}:t,g=s.logger,E=s.endpoint,n=s.isElementSelectable,T=s.cssSelectorAllowlist,r=s.actionClickAllowlist;this.logger=g,E&&this.endpoint===rx&&(this.endpoint=E);var o=null;window.addEventListener("message",function(y){var d,h,l,a,f;if((h=(d=i.logger)===null||d===void 0?void 0:d.debug)===null||h===void 0||h.call(d,"Message received: ",JSON.stringify(y)),i.endpoint===y.origin){var c=y==null?void 0:y.data,u=c==null?void 0:c.action;if(u)if("id"in c)(a=(l=i.logger)===null||l===void 0?void 0:l.debug)===null||a===void 0||a.call(l,"Received Response to previous request: ",JSON.stringify(y)),i.handleResponse(c);else if(u==="ping")i.notify({action:"pong"});else if(u==="initialize-visual-tagging-selector"){var v=c==null?void 0:c.data;Sq(aQ).then(function(){var p;o=(p=window==null?void 0:window.amplitudeVisualTaggingSelector)===null||p===void 0?void 0:p.call(window,{getEventTagProps:Cq,isElementSelectable:function(m){return n?n((v==null?void 0:v.actionType)||"click",m):!0},onTrack:i.onTrack,onSelect:i.onSelect,visualHighlightClass:fw,messenger:i,cssSelectorAllowlist:T,actionClickAllowlist:r}),i.notify({action:"selector-loaded"})}).catch(function(){var p;(p=i.logger)===null||p===void 0||p.warn("Failed to initialize visual tagging selector")})}else u==="close-visual-tagging-selector"&&((f=o==null?void 0:o.close)===null||f===void 0||f.call(o))}}),this.notify({action:"page-loaded"})},e})(),Pq=["id","class","style","value","onclick","onchange","oninput","onblur","onsubmit","onfocus","onkeydown","onkeyup","onkeypress","data-reactid","data-react-checksum","data-reactroot"],wq=["type"],Mq=["svg","path","g"],Rq=["password","hidden"],Aq=128,Oq=1024;function Lq(e){var t,i,s,g,E,n;if(e===null)return null;var T=String(e.tagName).toLowerCase(),r={tag:T},o=Array.from((g=(s=e.parentElement)===null||s===void 0?void 0:s.children)!==null&&g!==void 0?g:[]);o.length&&(r.index=o.indexOf(e),r.indexOfType=o.filter(function(m){return m.tagName===e.tagName}).indexOf(e));var y=(n=(E=e.previousElementSibling)===null||E===void 0?void 0:E.tagName)===null||n===void 0?void 0:n.toLowerCase();y&&(r.prevSib=String(y));var d=e.getAttribute("id");d&&(r.id=String(d));var h=Array.from(e.classList);h.length&&(r.classes=h);var l={},a=Array.from(e.attributes),f=a.filter(function(m){return!Pq.includes(m.name)}),c=!H9(e);if(!Rq.includes(String(e.getAttribute("type")))&&!Mq.includes(T))try{for(var u=Mr(f),v=u.next();!v.done;v=u.next()){var p=v.value;c&&!wq.includes(p.name)||(l[p.name]=String(p.value).substring(0,Aq))}}catch(m){t={error:m}}finally{try{v&&!v.done&&(i=u.return)&&i.call(u)}finally{if(t)throw t.error}}return Object.keys(l).length&&(r.attrs=l),r}function Dq(e){var t=[];if(!e)return t;t.push(e);for(var i=e.parentElement;i&&i.tagName!=="HTML";)t.push(i),i=i.parentElement;return t}var Fq=function(e){var t=[];if(!e)return[];var i=Dq(e);return t=Iq(i.map(function(s){return Lq(s)}),Oq),t};function Iq(e,t){for(var i=0,s=0;s<e.length;s++){var g=e[s];if(g===null)i+=4;else{var E=nx(g);i+=E?Array.from(E).length:4}if(i>t)return e.slice(0,s)}return e}function nx(e,t){t===void 0&&(t=!1);try{if(e==null)return t?"None":null;if(typeof e=="string")return t?(e=e.replace(/\\/g,"\\\\").replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r"),e.includes('"')?"'".concat(e,"'"):e.includes("'")?'"'.concat(e.replace(/'/g,"\\'"),'"'):"'".concat(e,"'")):e;if(typeof e=="boolean")return e?"True":"False";if(Array.isArray(e)){var i=e.map(function(E){return nx(E,!0)});return"[".concat(i.join(", "),"]")}else if(typeof e=="object"){var s=Object.entries(e).filter(function(E){var n=Li(E,1),T=n[0];return T!=null}).map(function(E){var n=Li(E,2),T=n[0],r=n[1];return"".concat(String(nx(T,!0)),": ").concat(String(nx(r,!0)))}),g="{".concat(s.join(", "),"}");return g.includes("\\'")&&(g=g.replace(/'/g,"'").replace(/'/g,"\\'")),g}return e.toString()}catch{return null}}var Bq=5;function Gq(e){var t=e.amplitude,i=e.allObservables,s=e.options,g=e.shouldTrackEvent,E=i.clickObservable,n=E.pipe(sq(),Ch(function(y){var d=Li(y,2),h=d[0],l=d[1],a=h.event.target!==l.event.target,f=Math.abs(l.event.screenX-h.event.screenX)<=20&&Math.abs(l.event.screenY-h.event.screenY)<=20;return a&&!f})),T=E.pipe(eq(s.debounceTime),To(function(){return"timeout"})),r=N9(n,T),o=E.pipe(nq(0),Ch(Qw),Ch(function(y){return g("click",y.closestTrackedAncestor)}),tq(r));return o.subscribe(function(y){var d,h,l=(y.length>=Bq,uw);try{for(var a=Mr(y),f=a.next();!f.done;f=a.next()){var c=f.value;t==null||t.track(l,c.targetElementProperties,{time:c.timestamp})}}catch(u){d={error:u}}finally{try{f&&!f.done&&(h=a.return)&&h.call(a)}finally{if(d)throw d.error}}})}function kq(e){var t=e.amplitude,i=e.allObservables,s=e.getEventProperties,g=e.shouldTrackEvent,E=i.changeObservable,n=E.pipe(Ch(Qw),Ch(function(T){return g("change",T.closestTrackedAncestor)}));return n.subscribe(function(T){t==null||t.track(Xj,s("change",T.closestTrackedAncestor))})}function Nq(e){var t=e.amplitude,i=e.allObservables,s=e.options,g=e.getEventProperties,E=e.shouldTrackEvent,n=e.shouldTrackActionClick,T=i.clickObservable,r=i.mutationObservable,o=i.navigateObservable,y=T.pipe(Ch(function(a){return!E("click",a.closestTrackedAncestor)}),To(function(a){var f=jw(a.event.target,s.actionClickAllowlist);return a.closestTrackedAncestor=f,a.closestTrackedAncestor!==null&&(a.targetElementProperties=g(a.type,a.closestTrackedAncestor)),a}),Ch(Qw),Ch(function(a){return n("click",a.closestTrackedAncestor)})),d=[r];o&&d.push(o);var h=N9.apply(void 0,tn([],Li(d),!1)),l=y.pipe(aq(function(a){return h.pipe(U9(1),VQ({first:500,with:function(){return $w}}),To(function(){return a}))}));return l.subscribe(function(a){t==null||t.track(uw,g("click",a.closestTrackedAncestor),{time:a.timestamp})})}var Id;(function(e){e.ClickObservable="clickObservable",e.ChangeObservable="changeObservable",e.NavigateObservable="navigateObservable",e.MutationObservable="mutationObservable"})(Id||(Id={}));function Uq(e){return e.type==="click"||e.type==="change"}var Vq=function(e){var t,i,s;e===void 0&&(e={});var g=e.dataAttributePrefix,E=g===void 0?_J:g,n=e.visualTaggingOptions,T=n===void 0?{enabled:!0,messenger:new bq}:n;e.cssSelectorAllowlist=(t=e.cssSelectorAllowlist)!==null&&t!==void 0?t:qJ,e.actionClickAllowlist=(i=e.actionClickAllowlist)!==null&&i!==void 0?i:tZ,e.debounceTime=(s=e.debounceTime)!==null&&s!==void 0?s:0;var r=Yj,o="enrichment",y=[],d=void 0,h=function(){var v,p=Cp(document,"click",{capture:!0}).pipe(To(function(P){return a(P,"click")})),m=Cp(document,"change",{capture:!0}).pipe(To(function(P){return a(P,"change")})),x;window.navigation&&(x=Cp(window.navigation,"navigate").pipe(To(function(P){return a(P,"navigate")})));var C=new ks(function(P){var w=new MutationObserver(function(M){P.next(M)});return w.observe(document.body,{childList:!0,attributes:!0,characterData:!0,subtree:!0}),function(){return w.disconnect()}}).pipe(To(function(P){return a(P,"mutation")}));return v={},v[Id.ClickObservable]=p,v[Id.ChangeObservable]=m,v[Id.NavigateObservable]=x,v[Id.MutationObservable]=C,v},l=function(v,p){var m,x,C,P=(C=(x=p==null?void 0:p.tagName)===null||x===void 0?void 0:x.toLowerCase)===null||C===void 0?void 0:C.call(x),w=typeof p.getBoundingClientRect=="function"?p.getBoundingClientRect():{left:null,top:null},M=p.getAttribute("aria-label"),R=xq(p,E),A=J9(p),L=$9(p,d),F=(m={},m[Hj]=p.getAttribute("id")||"",m[$j]=p.getAttribute("class"),m[Kj]=Fq(p),m[p9]=P,m[g9]=Zw(p),m[Zj]=w.left==null?null:Math.round(w.left),m[jj]=w.top==null?null:Math.round(w.top),m[Qj]=M,m[qj]=R,m[m9]=L,m[_j]=A,m[y9]=window.location.href.split("?")[0],m[tQ]=typeof document<"u"&&document.title||"",m[eQ]=window.innerHeight,m[iQ]=window.innerWidth,m);return P==="a"&&v==="click"&&p instanceof HTMLAnchorElement&&(F[Jj]=p.href),K9(F)},a=function(v,p){var m={event:v,timestamp:Date.now(),type:p};if(Uq(m)&&m.event.target!==null){var x=jw(m.event.target,e.cssSelectorAllowlist);return x&&(m.closestTrackedAncestor=x,m.targetElementProperties=l(m.type,x)),m}return m},f=function(v,p){return oe(void 0,void 0,void 0,function(){var m,x,C,P,w,M,R,A,L,F;return te(this,function(G){return d=v.loggerProvider,typeof document>"u"?[2]:(m=fb(e,e.cssSelectorAllowlist),x=fb(e,e.actionClickAllowlist),C=h(),P=Gq({allObservables:C,options:e,amplitude:p,shouldTrackEvent:m}),y.push(P),w=kq({allObservables:C,getEventProperties:l,amplitude:p,shouldTrackEvent:m}),y.push(w),M=Nq({allObservables:C,options:e,getEventProperties:l,amplitude:p,shouldTrackEvent:m,shouldTrackActionClick:x}),y.push(M),(L=v==null?void 0:v.loggerProvider)===null||L===void 0||L.log("".concat(r," has been successfully added.")),window.opener&&T.enabled&&(R=e.cssSelectorAllowlist,A=e.actionClickAllowlist,(F=T.messenger)===null||F===void 0||F.setup(Te(Te({logger:v==null?void 0:v.loggerProvider},(v==null?void 0:v.serverZone)&&{endpoint:sQ[v.serverZone]}),{isElementSelectable:fb(e,tn(tn([],Li(R),!1),Li(A),!1)),cssSelectorAllowlist:R,actionClickAllowlist:A}))),[2])})})},c=function(v){return oe(void 0,void 0,void 0,function(){return te(this,function(p){return[2,v]})})},u=function(){return oe(void 0,void 0,void 0,function(){var v,p,m,x,C;return te(this,function(P){try{for(v=Mr(y),p=v.next();!p.done;p=v.next())m=p.value,m.unsubscribe()}catch(w){x={error:w}}finally{try{p&&!p.done&&(C=v.return)&&C.call(v)}finally{if(x)throw x.error}}return[2]})})};return{name:r,type:o,setup:f,execute:c,teardown:u}},zq=(function(e){Gs(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.init=function(i,s,g){i===void 0&&(i="");var E,n;return arguments.length>2?(E=s,n=g):typeof s=="string"?(E=s,n=void 0):(E=s==null?void 0:s.userId,n=s),as(this._init(Te(Te({},n),{userId:E,apiKey:i})))},t.prototype._init=function(i){var s,g,E;return oe(this,void 0,void 0,function(){var n,T,r,o,y,d,h=this;return te(this,function(l){switch(l.label){case 0:return this.initializing?[2]:(this.initializing=!0,[4,xj(i.apiKey,i,this)]);case 1:return n=l.sent(),i.fetchRemoteConfig?[4,Wj(n)]:[3,4];case 2:return T=l.sent(),[4,T.generateJoinedConfig()];case 3:n=l.sent(),l.label=4;case 4:return[4,e.prototype._init.call(this,n)];case 5:return l.sent(),this.logBrowserOptions(n),h9(this.config.defaultTracking)?(r=_Z(this.config),this.webAttribution=new FZ(r,this.config),[4,this.webAttribution.init()]):[3,7];case 6:l.sent(),l.label=7;case 7:return o=vx(),y=Number.isNaN(Number(o.ampSessionId))?void 0:Number(o.ampSessionId),this.setSessionId((E=(g=(s=i.sessionId)!==null&&s!==void 0?s:y)!==null&&g!==void 0?g:this.config.sessionId)!==null&&E!==void 0?E:Date.now()),d=Mp(i.instanceName),d.identityStore.setIdentity({userId:this.config.userId,deviceId:this.config.deviceId}),this.config.offline===QJ?[3,9]:[4,this.add(Lj()).promise];case 8:l.sent(),l.label=9;case 9:return[4,this.add(new mZ).promise];case 10:return l.sent(),[4,this.add(new nj).promise];case 11:return l.sent(),[4,this.add(new KZ).promise];case 12:return l.sent(),Oj(this.config),ZZ(this.config.defaultTracking)?(this.config.loggerProvider.debug("Adding file download tracking plugin"),[4,this.add(Aj()).promise]):[3,14];case 13:l.sent(),l.label=14;case 14:return jZ(this.config.defaultTracking)?(this.config.loggerProvider.debug("Adding form interaction plugin"),[4,this.add(Rj()).promise]):[3,16];case 15:l.sent(),l.label=16;case 16:return u9(this.config.defaultTracking)?(this.config.loggerProvider.debug("Adding page view tracking plugin"),[4,this.add(bj(qZ(this.config))).promise]):[3,18];case 17:l.sent(),l.label=18;case 18:return f9(this.config.autocapture)?(this.config.loggerProvider.debug("Adding user interactions plugin (autocapture plugin)"),[4,this.add(Vq(QZ(this.config))).promise]):[3,20];case 19:l.sent(),l.label=20;case 20:return this.initializing=!1,[4,this.runQueuedFunctions("dispatchQ")];case 21:return l.sent(),d.eventBridge.setEventReceiver(function(a){h.track(a.eventType,a.eventProperties)}),[2]}})})},t.prototype.getUserId=function(){var i;return(i=this.config)===null||i===void 0?void 0:i.userId},t.prototype.setUserId=function(i){if(!this.config){this.q.push(this.setUserId.bind(this,i));return}this.config.loggerProvider.debug("function setUserId: ",i),(i!==this.config.userId||i===void 0)&&(this.config.userId=i,HZ(i,this.config.instanceName))},t.prototype.getDeviceId=function(){var i;return(i=this.config)===null||i===void 0?void 0:i.deviceId},t.prototype.setDeviceId=function(i){if(!this.config){this.q.push(this.setDeviceId.bind(this,i));return}this.config.loggerProvider.debug("function setDeviceId: ",i),this.config.deviceId=i,$Z(i,this.config.instanceName)},t.prototype.reset=function(){this.setDeviceId(Qd()),this.setUserId(void 0)},t.prototype.getSessionId=function(){var i;return(i=this.config)===null||i===void 0?void 0:i.sessionId},t.prototype.setSessionId=function(i){var s,g=[];if(!this.config)return this.q.push(this.setSessionId.bind(this,i)),as(Promise.resolve());if(i===this.config.sessionId)return as(Promise.resolve());this.config.loggerProvider.debug("function setSessionId: ",i);var E=this.getSessionId(),n=this.config.lastEventTime,T=(s=this.config.lastEventId)!==null&&s!==void 0?s:-1;this.config.sessionId=i,this.config.lastEventTime=void 0,this.config.pageCounter=0,XF(this.config.defaultTracking)&&(E&&n&&g.push(this.track(KF,void 0,{device_id:this.previousSessionDeviceId,event_id:++T,session_id:E,time:n+1,user_id:this.previousSessionUserId}).promise),this.config.lastEventTime=this.config.sessionId);var r=this.trackCampaignEventIfNeeded(++T,g);return XF(this.config.defaultTracking)&&g.push(this.track($F,void 0,{event_id:r?++T:T,session_id:this.config.sessionId,time:this.config.lastEventTime}).promise),this.previousSessionDeviceId=this.config.deviceId,this.previousSessionUserId=this.config.userId,as(Promise.all(g))},t.prototype.extendSession=function(){if(!this.config){this.q.push(this.extendSession.bind(this));return}this.config.lastEventTime=Date.now()},t.prototype.setTransport=function(i){if(!this.config){this.q.push(this.setTransport.bind(this,i));return}this.config.transportProvider=v9(i)},t.prototype.identify=function(i,s){if(nb(i)){var g=i._q;i._q=[],i=rb(new Yd,g)}return s!=null&&s.user_id&&this.setUserId(s.user_id),s!=null&&s.device_id&&this.setDeviceId(s.device_id),e.prototype.identify.call(this,i,s)},t.prototype.groupIdentify=function(i,s,g,E){if(nb(g)){var n=g._q;g._q=[],g=rb(new Yd,n)}return e.prototype.groupIdentify.call(this,i,s,g,E)},t.prototype.revenue=function(i,s){if(nb(i)){var g=i._q;i._q=[],i=rb(new dZ,g)}return e.prototype.revenue.call(this,i,s)},t.prototype.trackCampaignEventIfNeeded=function(i,s){if(!this.webAttribution||!this.webAttribution.shouldTrackNewCampaign)return!1;var g=this.webAttribution.generateCampaignEvent(i);return s?s.push(this.track(g).promise):this.track(g),this.config.loggerProvider.log("Tracking attribution."),!0},t.prototype.process=function(i){return oe(this,void 0,void 0,function(){var s,g,E;return te(this,function(n){return s=Date.now(),g=l9(this.config.sessionTimeout,this.config.lastEventTime),E=this.webAttribution&&this.webAttribution.shouldSetSessionIdOnNewCampaign(),i.event_type!==$F&&i.event_type!==KF&&(!i.session_id||i.session_id===this.getSessionId())&&(g||E?(this.setSessionId(s),E&&this.config.loggerProvider.log("Created a new session for new campaign.")):g||this.trackCampaignEventIfNeeded()),[2,e.prototype.process.call(this,i)]})})},t.prototype.logBrowserOptions=function(i){try{var s=Te(Te({},i),{apiKey:i.apiKey.substring(0,10)+"********"});this.config.loggerProvider.debug("Initialized Amplitude with BrowserConfig:",JSON.stringify(s))}catch(g){this.config.loggerProvider.error("Error logging browser config",g)}},t})(fZ),Wq=function(){var e=new zq;return{init:Er(e.init.bind(e),"init",Cr(e),Sr(e,["config"])),add:Er(e.add.bind(e),"add",Cr(e),Sr(e,["config.apiKey","timeline.plugins"])),remove:Er(e.remove.bind(e),"remove",Cr(e),Sr(e,["config.apiKey","timeline.plugins"])),track:Er(e.track.bind(e),"track",Cr(e),Sr(e,["config.apiKey","timeline.queue.length"])),logEvent:Er(e.logEvent.bind(e),"logEvent",Cr(e),Sr(e,["config.apiKey","timeline.queue.length"])),identify:Er(e.identify.bind(e),"identify",Cr(e),Sr(e,["config.apiKey","timeline.queue.length"])),groupIdentify:Er(e.groupIdentify.bind(e),"groupIdentify",Cr(e),Sr(e,["config.apiKey","timeline.queue.length"])),setGroup:Er(e.setGroup.bind(e),"setGroup",Cr(e),Sr(e,["config.apiKey","timeline.queue.length"])),revenue:Er(e.revenue.bind(e),"revenue",Cr(e),Sr(e,["config.apiKey","timeline.queue.length"])),flush:Er(e.flush.bind(e),"flush",Cr(e),Sr(e,["config.apiKey","timeline.queue.length"])),getUserId:Er(e.getUserId.bind(e),"getUserId",Cr(e),Sr(e,["config","config.userId"])),setUserId:Er(e.setUserId.bind(e),"setUserId",Cr(e),Sr(e,["config","config.userId"])),getDeviceId:Er(e.getDeviceId.bind(e),"getDeviceId",Cr(e),Sr(e,["config","config.deviceId"])),setDeviceId:Er(e.setDeviceId.bind(e),"setDeviceId",Cr(e),Sr(e,["config","config.deviceId"])),reset:Er(e.reset.bind(e),"reset",Cr(e),Sr(e,["config","config.userId","config.deviceId"])),getSessionId:Er(e.getSessionId.bind(e),"getSessionId",Cr(e),Sr(e,["config"])),setSessionId:Er(e.setSessionId.bind(e),"setSessionId",Cr(e),Sr(e,["config"])),extendSession:Er(e.extendSession.bind(e),"extendSession",Cr(e),Sr(e,["config"])),setOptOut:Er(e.setOptOut.bind(e),"setOptOut",Cr(e),Sr(e,["config"])),setTransport:Er(e.setTransport.bind(e),"setTransport",Cr(e),Sr(e,["config"]))}};const qw=Wq();var Z9=qw.identify,j9=qw.init,Yq=qw.track;const a3={ORACLE_BALL:{button_name:"oracle_ball",page:"prediction"},GET_FREE_ESSENCE:{button_name:"get_free_essence",page:"prediction"}};class Xq{constructor(){j9(Wi.AMPLITUDE_TOKEN,{autocapture:!0});const t=new Yd;t.set("platform",Wi.PLATFORM),Z9(t)}clickButton(t){Yq("button_clicked",t)}}const o3=new Xq;var Hq=Object.defineProperty,$q=Object.getOwnPropertyDescriptor,Q9=(e,t,i,s)=>{for(var g=$q(t,i),E=e.length-1,n;E>=0;E--)(n=e[E])&&(g=n(t,i,g)||g);return g&&Hq(t,i,g),g};const Kq=async e=>{const{url:t}=await ku.getStoryPath(e.id);await Nw.shareToStory(`${Wi.API_URL}${t}`)};class _w extends Vp.Scene{constructor(){super(p5);Oe(this,"bg");Oe(this,"oracleBallEntity");Oe(this,"freeEssenceEntity");Oe(this,"balanceEntity");Oe(this,"backButton");Oe(this,"shareStoryButton")}init(){this.bg=new Q5(this)}async create(){const i=xp.get(Fu.PROFILE);this.backButton=new NJ(this),this.shareStoryButton=new kJ(this),this.balanceEntity=await Ww.create(this,i.balance),this.oracleBallEntity=await Vw.create(this),this.freeEssenceEntity=await zw.create(this,new Date(i.lastFreeCrediting).getTime()),this.events.on(wr.BG_RETURNED,()=>{this.balanceEntity.show()}),this.events.on(wr.BG_SCALED,async()=>{const s=await ku.getProfile();xp.set(Fu.PROFILE,s),this.shareStoryButton.setVisible(!0),this.backButton.setVisible(!0)}),this.events.on(wr.BACK_BUTTON_ON_POINTERDOWN,async()=>{this.shareStoryButton.setVisible(!1),this.oracleBallEntity.reset(),this.bg.runReturnScaleAnimation(),this.events.removeAllListeners(wr.SHARE_STORY_BUTTON_ON_POINTERDOWN)}),this.events.on(wr.BALL_ON_POINTERDOWN,async()=>{if(o3.clickButton(a3.ORACLE_BALL),xp.get(Fu.PROFILE).balance<=0){this.oracleBallEntity.shakeEffect(),await Nw.vibrate();return}this.freeEssenceEntity.hide(),this.balanceEntity.hide();const g=await ku.getPrediction();this.events.emit(wr.PREDICTION_RECEIVED,g)}),this.events.on(wr.PREDICTION_RECEIVED,async s=>{this.oracleBallEntity.handleBallClick(s.text),this.bg.runScaleAnimation();const g=()=>Kq(s);this.events.off(wr.SHARE_STORY_BUTTON_ON_POINTERDOWN,g),this.events.once(wr.SHARE_STORY_BUTTON_ON_POINTERDOWN,g)}),this.events.on(wr.FREE_ESSENCE_BUTTON_ON_POINTERDOWN,async()=>{o3.clickButton(a3.GET_FREE_ESSENCE),await ku.getFreeEssence(),this.events.emit(wr.FREE_ESSENCE_RECEIVED)}),this.events.on(wr.FREE_ESSENCE_RECEIVED,async()=>{const s=await ku.getProfile();xp.set(Fu.PROFILE,s),this.freeEssenceEntity.updateLastFreeCrediting(new Date(s.lastFreeCrediting).getTime()),this.freeEssenceEntity.show()}),q5.on(_5(Fu.PROFILE),s=>{this.balanceEntity.updateBalance(s.balance)})}}Q9([Rh],_w.prototype,"init");Q9([Rh],_w.prototype,"create");var Jq=Object.defineProperty,Zq=Object.getOwnPropertyDescriptor,tM=(e,t,i,s)=>{for(var g=Zq(t,i),E=e.length-1,n;E>=0;E--)(n=e[E])&&(g=n(t,i,g)||g);return g&&Jq(t,i,g),g};class Xx extends Jd.Scene{constructor(){super(v5);Oe(this,"bg")}async init(){this.bg=new Q5(this,!0);const i=this.scale.width,s=this.scale.height,E=i-16*2,n=32,T=i/2,r=s/2;this.add.image(T,r/2,m5).setOrigin(.5,.5).setScale(.6),this.add.rectangle(T,r,E,n).setStrokeStyle(1,16777215);const o=this.add.rectangle(T-E/2+2,r,4,n-4,16777215);this.load.on("progress",y=>{o.width=4+(E-8)*y})}preload(){this.load.setPath("assets"),this.load.font([{key:"MonotypeCorsiva",url:"./fonts/Monotype-Corsiva-Regular.ttf",format:"truetype",descriptors:{style:"normal",weight:"400"}},{key:"MonotypeCorsivaItalic",url:"./fonts/Monotype-Corsiva-Regular-Italic.ttf",format:"truetype",descriptors:{style:"italic",weight:"400"}},{key:"MonotypeCorsivaBold",url:"./fonts/Monotype-Corsiva-Bold.ttf",format:"truetype",descriptors:{style:"normal",weight:"700"}},{key:"MonotypeCorsivaBoldItalic",url:"./fonts/Monotype-Corsiva-Bold-Italic.ttf",format:"truetype",descriptors:{style:"italic",weight:"700"}}]),this.load.image(E5,"./bg.png"),this.load.image(W$,"./glade.png"),this.load.image(g5,"./oracle-ball.png"),this.load.image(T5,"./free-essence-btn.png"),this.load.image(C5,"./balance-board.png"),this.load.image(S5,"./free-board.png"),this.load.image(y5,"./back-button.png"),this.load.image(x5,"./share-story-button.png")}async create(){const i=await ku.getProfile();xp.set(Fu.PROFILE,i,{skipEmmit:!0}),j9(Wi.AMPLITUDE_TOKEN,{autocapture:!0,userId:i.id});const s=new Yd;s.set("public_platform",Wi.PLATFORM),Z9(s),await this.bg.cleanup(),this.scene.start(p5)}}tM([Rh],Xx.prototype,"init");tM([Rh],Xx.prototype,"preload");tM([Rh],Xx.prototype,"create");var jq=Object.defineProperty,Qq=Object.getOwnPropertyDescriptor,qq=(e,t,i,s)=>{for(var g=Qq(t,i),E=e.length-1,n;E>=0;E--)(n=e[E])&&(g=n(t,i,g)||g);return g&&jq(t,i,g),g};class q9 extends Jd.Scene{constructor(){super(z$)}async preload(){console.log("ERROR"),this.add.text(20,300,"-   ")}}qq([Rh],q9.prototype,"preload");class It{constructor(t){this.scene=t,t.events.once("destroy",this.destroy,this)}destroy(){this.scene=null}static register(t,i){It.prototype[t]=i}}var _q=function(e){return e===void 0&&(e=t_),this.getFrameNameCallback=e,this},t_=function(e,t,i){return i==="__BASE"?`${e},${t}`:`${i}:${e},${t}`};function rn(e){if(e===null||typeof e!="object")return e;if(Array.isArray(e))return e.map(i=>rn(i));if(e instanceof Date)return new Date(e);if(e instanceof RegExp)return new RegExp(e);if(Object.getPrototypeOf(e)!==Object.prototype)return e;const t={};for(let i in e)e.hasOwnProperty(i)&&(t[i]=rn(e[i]));return t}var e_=function(e,t,i,s){Array.isArray(t)&&(s=i,i=t,t=void 0),t==null&&(t="__BASE"),typeof i=="number"&&arguments.length>=6?(i=[arguments[2],void 0,arguments[3]],s=[arguments[4],void 0,arguments[5]]):i===void 0&&s===void 0&&this.columns.data!==void 0&&this.rows.data!==void 0?(i=this.columns.data,s=this.rows.data):(i=rn(i),s=rn(s)),this.textureKey=e,this.baseFrameName=t,this.columns.data=i,this.columns.count=i?i.length:0,this.columns.stretch=0,this.columns.minWidth=0,this.columns.scale=1,this.rows.data=s,this.rows.count=s?s.length:0,this.rows.stretch=0,this.rows.minHeight=0,this.rows.scale=1;var g=this.scene.sys.textures.get(e);if(!g)return this.clear(),this;if(!i||!s)return this.clear(),this;for(var E=g.get(t),n=E.width,T=0,r=0,o=i.length;r<o;r++)i[r]===void 0?T++:typeof i[r]=="number"?n-=i[r]:n-=i[r].width;for(var y=T>0?n/T:0,d=E.height,h=0,r=0,o=s.length;r<o;r++)s[r]===void 0?h++:typeof s[r]=="number"?d-=s[r]:d-=s[r].width;for(var l=h?d/h:0,a,f,c,u,v,p=0,m=0,x=0,C=s.length;x<C;x++){s[x]===void 0&&(s[x]=l),typeof s[x]=="number"&&(s[x]={height:s[x],stretch:x%2}),a=s[x],c=a.height,this.rows.stretch+=a.stretch|0,this.rows.minHeight+=a.stretch>0?0:c,p=0;for(var r=0,P=i.length;r<P;r++){if(i[r]===void 0&&(i[r]=y),typeof i[r]=="number"&&(i[r]={width:i[r],stretch:r%2}),f=i[r],u=f.width,x===0&&(this.columns.stretch+=f.stretch|0,this.columns.minWidth+=f.stretch>0?0:u),u>=1&&c>=1){v=this.getFrameNameCallback(r,x,t);var w=typeof v;(w==="string"||w==="number")&&g.add(v,0,p+E.cutX,m+E.cutY,u,c)}p+=u}m+=c}return this.updateTexture(),this},i_=function(){if(this.clear(),this.textureKey===void 0)return this;var e=this.scene.sys.textures.get(this.textureKey);if(!e)return this;var t=this.columns.minWidth*this.maxFixedPartScaleX,i=this.rows.minHeight*this.maxFixedPartScaleY,s=this.width-t,g=this.height-i,E=s>=0?this.maxFixedPartScaleX:this.width/t,n=g>=0?this.maxFixedPartScaleY:this.height/i;if(this.preserveRatio){var T=Math.min(E,n);if(E>T){var r=(E-T)*t;s>=0?s+=r:s=r,E=T}if(n>T){var o=(n-T)*i;g>=0?g+=o:g=o,n=T}}this.columns.scale=E,this.rows.scale=n;var y;s>0?y=this.columns.stretch>0?s/this.columns.stretch:0:y=0;var d;g>0?d=this.rows.stretch>0?g/this.rows.stretch:0:d=0;var h,l,a,f,c,u=0,v=0,p;this._beginDraw();for(var m=0,x=this.rows.count;m<x;m++){a=this.rows.data[m],c=a.stretch===0?a.height*n:d*a.stretch,u=0;for(var C=0,P=this.columns.count;C<P;C++)l=this.columns.data[C],f=l.stretch===0?l.width*E:y*l.stretch,h=this.getFrameNameCallback(C,m,this.baseFrameName),e.has(h)&&f>0&&c>0&&(a.stretch===0&&l.stretch===0||this.getStretchMode(C,m)===0?p=0:p=1,p===0?this._drawImage(this.textureKey,h,u,v,f,c):this._drawTileSprite(this.textureKey,h,u,v,f,c)),u+=f;v+=c}this._endDraw()};const r_=Phaser.Utils.Objects.IsPlainObject,l3=Phaser.Utils.Objects.GetValue;var n_=function(e){return r_(e)?(this.stretchMode.edge=db(l3(e,"edge",0)),this.stretchMode.internal=db(l3(e,"internal",0))):(e=db(e),this.stretchMode.edge=e,this.stretchMode.internal=e),this},db=function(e){return typeof e=="string"&&(e=s_[e]),e};const s_={scale:0,repeat:1};var a_=function(e,t){return e===0||e===this.columns.count-1||t===0||t===this.rows.count-1},o_=function(e,t){return a_.call(this,e,t)?this.stretchMode.edge:this.stretchMode.internal},l_=function(e){return e==null&&(e=!0),this.preserveRatio=e,this},h_=function(e,t){return t===void 0&&(t=e),this.maxFixedPartScaleX=e,this.maxFixedPartScaleY=t,this},Vr=function(){};const u_={_beginDraw:Vr,_drawImage:Vr,_drawTileSprite:Vr,_endDraw:Vr,setGetFrameNameCallback:_q,setBaseTexture:e_,updateTexture:i_,setStretchMode:n_,getStretchMode:o_,setPreserveRatio:l_,setMaxFixedPartScale:h_},zv=Phaser.Utils.Objects.IsPlainObject,ui=Phaser.Utils.Objects.GetValue;var _9=function(e,t){class i extends e{constructor(g,E,n,T,r,o,y,d,h,l){if(zv(E)?(l=E,E=ui(l,"x",0),n=ui(l,"y",0),T=ui(l,"width",1),r=ui(l,"height",1),o=ui(l,"key",void 0),y=ui(l,"baseFrame",void 0),d=ui(l,"columns",void 0),h=ui(l,"rows",void 0)):zv(T)?(l=T,T=ui(l,"width",1),r=ui(l,"height",1),o=ui(l,"key",void 0),y=ui(l,"baseFrame",void 0),d=ui(l,"columns",void 0),h=ui(l,"rows",void 0)):zv(o)?(l=o,o=ui(l,"key",void 0),y=ui(l,"baseFrame",void 0),d=ui(l,"columns",void 0),h=ui(l,"rows",void 0)):zv(y)?(l=y,y=ui(l,"baseFrame",void 0),d=ui(l,"columns",void 0),h=ui(l,"rows",void 0)):Array.isArray(y)?(l=h,h=d,d=y,y=ui(l,"baseFrame",void 0)):zv(d)&&(l=d,d=ui(l,"columns",void 0),h=ui(l,"rows",void 0)),y===void 0&&(y=ui(l,"frame",void 0)),d===void 0){var a=ui(l,"leftWidth",void 0),f=ui(l,"rightWidth",void 0);a!==void 0&&f!==void 0&&(d=[a,void 0,f])}if(h===void 0){var c=ui(l,"topHeight",void 0),u=ui(l,"bottomHeight",void 0);c!==void 0&&u!==void 0&&(h=[c,void 0,u])}super(g),this.type=t,this.setPosition(E,n).setSize(T,r).setOrigin(.5,.5),this.columns={},this.rows={},this.stretchMode={},this._tileSprite=void 0,this._image=void 0,this.setGetFrameNameCallback(ui(l,"getFrameNameCallback",void 0)),this.setStretchMode(ui(l,"stretchMode",0)),this.setPreserveRatio(ui(l,"preserveRatio",!0));var v=ui(l,"maxFixedPartScale",1),p=ui(l,"maxFixedPartScaleX",v),m=ui(l,"maxFixedPartScaleY",void 0);this.setMaxFixedPartScale(p,m),this.setBaseTexture(o,y,d,h)}get minWidth(){return this.columns.minWidth}get minHeight(){return this.rows.minHeight}get fixedPartScaleX(){return this.columns.scale}get fixedPartScaleY(){return this.rows.scale}resize(g,E){return this.width===g&&this.height===E?this:(super.resize?super.resize(g,E):super.setSize(g,E),this.updateTexture(),this)}get leftWidth(){return this.columns.data[0]}get rightWidth(){return this.columns.data[this.columns.count-1]}get topHeight(){return this.rows.data[0]}get bottomHeight(){return this.rows.data[this.rows.count-1]}}return Object.assign(i.prototype,u_),i};const f_=Phaser.Game;var h3=function(e){return e instanceof f_};const d_=Phaser.Scene;var zu=function(e){return e instanceof d_},Xu=function(e){if(e==null||typeof e!="object")return null;if(h3(e))return e;if(h3(e.game))return e.game;if(zu(e))return e.sys.game;if(zu(e.scene))return e.scene.sys.game};const c_=Phaser.GameObjects;var Ql=void 0,tG=function(e,t){if(Ql||(Ql={},Xu(e).events.once("destroy",function(){for(var s in Ql)Ql[s].destroy();Ql=void 0})),!Ql.hasOwnProperty(t)){var i=Xu(e).scene.systemScene,e=new c_[t](i);e.setOrigin(0),Ql[t]=e}return Ql[t]},v_=function(e,t,i,s,g,E){var n=tG(this,"Image").setTexture(e,t).setDisplaySize(g,E);this.draw(n,i,s)},p_=function(e,t,i,s,g,E){var n=tG(this,"TileSprite").setTexture(e,t).setSize(g,E);this.draw(n,i,s)};const g_=Phaser.GameObjects.RenderTexture;let Hx=class extends _9(g_,"rexNinePatch"){};var m_={_drawImage:v_,_drawTileSprite:p_};Object.assign(Hx.prototype,m_);var eG=function(e){return e==null||e===""||e.length===0},y_=function(e,t,i){var s=e;if(!eG(t)){typeof t=="string"&&(t=t.split("."));for(var g,E=0,n=t.length;E<n;E++){if(g=t[E],s[g]==null||typeof s[g]!="object"){var T;E===n-1?T={}:T={},s[g]=T}s=s[g]}}return s},Dt=function(e,t,i,s){if(s===void 0&&(s="."),typeof e=="object"){if(eG(t)){if(i==null)return;typeof i=="object"&&(e=i)}else{typeof t=="string"&&(t=t.split(s));var g=t.pop(),E=y_(e,t);E[g]=i}return e}};It.register("ninePatch",function(e,t,i,s,g,E,n,T){var r=new Hx(this.scene,e,t,i,s,g,E,n,T);return this.scene.add.existing(r),r});Dt(window,"RexPlugins.UI.NinePatch",Hx);const x_=Phaser.GameObjects.GetCalcMatrix;var T_=function(e,t,i,s){var g=t.getRenderList();if(g.length!==0){i.addToRenderList(t);var E=e.pipelines.set(t.pipeline),n=t.frame.glTexture,T=E.setGameObject(t),r=i.roundPixels,o=x_(t,i,s),y=E.calcMatrix.copyFrom(o.calc),d=t._displayOriginX,h=t._displayOriginY,l=i.alpha*t.alpha;e.pipelines.preBatch(t);for(var a=0,f=g.length;a<f;a++)g[a].webglRender(E,y,l,d,h,n,T,r);e.pipelines.postBatch(t)}};const C_=Phaser.Renderer.Canvas.SetTransform;var S_=function(e,t,i,s){var g=e.currentContext,E=t.getRenderList();if(!(E.length===0||!C_(e,g,t,i,s))){i.addToRenderList(t);var n=i.roundPixels,T=-t._displayOriginX,r=-t._displayOriginY;g.translate(T,r);for(var o=0,y=E.length;o<y;o++)E[o].canvasRender(g,T,r,n);g.restore()}};const E_={renderWebGL:T_,renderCanvas:S_};var b_=function(e,t){return this.texture=this.scene.sys.textures.get(e),this.frame=this.texture.get(t),this},u3=function(e,t){if(this.width===e&&this.height===t)return this;this.width=e,this.height=t,this.updateDisplayOrigin();var i=this.input;return i&&!i.customHitArea&&(i.hitArea.width=e,i.hitArea.height=t),this},P_=function(e){return this.lastAppendedChildren.length=0,Array.isArray(e)?(this.children.add(e),this.lastAppendedChildren.push(...e)):(this.children.add(e),this.lastAppendedChildren.push(e)),this};const w_=Phaser.Utils.Array.Remove;var M_=function(e){return this.poolManager&&this.poolManager.free(e),w_(this.children.list,e),this.lastAppendedChildren.length=0,this.dirty=!0,this},f3=function(){return this.poolManager&&this.poolManager.freeMultiple(this.children.list),this.children.list.length=0,this.lastAppendedChildren.length=0,this.dirty=!0,this},R_=function(){return this.lastAppendedChildren},A_=function(){return this.children.list};const O_={setTint(e){return this.tint=e,this.tintFill=!1,this},setTintFill(e){return this.tint=e,this.tintFill=!0,this},clearTint(){return this.setTint(16777215),this}};var iG={setTexture:b_,resize:u3,setSize:u3,addChild:P_,removeChild:M_,removeChildren:f3,clear:f3,getLastAppendedChildren:R_,getChildren:A_};Object.assign(iG,O_);class Co{constructor(){this.items=[]}destroy(){this.clear(),this.items=void 0}pop(){return this.items.length>0?this.items.pop():null}push(t){return this.items.push(t),this}pushMultiple(t){return this.items.push.apply(this.items,t),t.length=0,this}clear(){return this.items.length=0,this}}const L_=Phaser.Utils.Objects.GetValue;var D_={};let F_=class{constructor(t){this.pools=L_(t,"pools",D_)}destroy(){this.pools=void 0}free(t){if(!this.pools)return this;var i=t.type;return this.pools.hasOwnProperty(i)||(this.pools[i]=new Co),this.pools[i].push(t),t.onFree(),this}freeMultiple(t){if(!this.pools)return this;for(var i=0,s=t.length;i<s;i++)this.free(t[i]);return this}allocate(t){return!this.pools||!this.pools.hasOwnProperty(t)?null:this.pools[t].pop()}};const I_=60;var d3=!1,$x=function(e){if(!d3){e===void 0&&(e=I_);var t=Phaser.VERSION.split("."),i=parseInt(t[0]);if(i===3){var s=parseInt(t[1]);s<e&&console.error(`Minimum supported version : ${i}.${s}`)}else console.error(`Can't supported version : ${i}`);d3=!0}};$x();const B_=Phaser.GameObjects.GameObject,G_=Phaser.Utils.Objects.IsPlainObject,Wv=Phaser.Utils.Objects.GetValue,k_=Phaser.Structs.List,N_=Phaser.Utils.Array.StableSort;class rG extends B_{constructor(t,i,s,g,E,n){G_(i)&&(n=i,i=Wv(n,"x",0),s=Wv(n,"y",0),g=Wv(n,"texture"),E=Wv(n,"frame")),i===void 0&&(i=0),s===void 0&&(s=0),super(t,"rexBlitter"),this.children=new k_,this.renderList=[],this.displayListDirty=!1,this.lastAppendedChildren=[];var T=Wv(n,"reuseBob",!0);this.poolManager=T?new F_(n):void 0,this.setTexture(g,E),this.setPosition(i,s),this.setOrigin(0,0),this.clearTint(),this.initPipeline(),this.initPostPipeline()}preDestroy(){this.removeChildren(),this.children.destroy(),this.renderList.length=0,this.poolManager&&this.poolManager.destroy()}getRenderList(){if(this.displayListDirty){this.renderList.length=0;for(var t=!1,i=this.children.list,s=0,g=i.length;s<g;s++){var E=i[s];U_(E)&&(this.renderList.push(E),t||(t=E.depth!==0))}t&&N_(this.renderList,V_),this.displayListDirty=!1}return this.renderList}}var U_=function(e){return e.active&&e.visible&&e.alpha>0},V_=function(e,t){return e._depth-t._depth};const Js=Phaser.GameObjects.Components;Phaser.Class.mixin(rG,[Js.Alpha,Js.BlendMode,Js.ComputedSize,Js.Depth,Js.GetBounds,Js.Mask,Js.Origin,Js.Pipeline,Js.PostPipeline,Js.ScrollFactor,Js.Transform,Js.Visible,E_,iG]);const nG="image";var Pi=function(e,t,i){if(!e||typeof e=="number")return i;if(typeof t=="string"){if(e.hasOwnProperty(t))return e[t];if(t.indexOf(".")!==-1)t=t.split(".");else return i}for(var s=t,g=e,E=i,n=0;n<s.length;n++)if(t=s[n],g.hasOwnProperty(t))E=g[t],g=E;else{E=i;break}return E},Sh=function(e){if(typeof e!="object"||e===null)return e;if(Array.isArray(e))e.length=0;else for(var t in e)delete e[t];return e};const Kx={enableData(){return this.data===void 0&&(this.data={}),this},setData(e,t){if(this.enableData(),arguments.length===1){var i=e;for(e in i)this.data[e]=i[e]}else this.data[e]=t;return this},getData(e,t){return this.enableData(),e===void 0?this.data:Pi(this.data,e,t)},incData(e,t,i){return i===void 0&&(i=0),this.enableData(),this.setData(e,this.getData(e,i)+t),this},mulData(e,t,i){return i===void 0&&(i=0),this.enableData(),this.setData(e,this.getData(e,i)*t),this},clearData(){return this.data&&Sh(this.data),this}};let sG=class{constructor(t,i){this.type=i,this.data=void 0,this.setParent(t).reset().setActive()}destroy(){this.parent&&this.parent.removeChild(this)}setParent(t){return this.parent=t,this}setDisplayListDirty(t){return t&&this.parent&&(this.parent.displayListDirty=!0),this}get active(){return this._active}set active(t){this.setDisplayListDirty(this._active!=t),this._active=t}setActive(t){return t===void 0&&(t=!0),this.active=t,this}modifyPorperties(t){return this}reset(){this.clearData()}onFree(){this.reset().setActive(!1).setParent()}};Object.assign(sG.prototype,Kx);const z_=Phaser.Math.DegToRad,W_=Phaser.Math.RadToDeg,rd=Phaser.Utils.Objects.GetValue;let Y_=class extends sG{get visible(){return this._visible}set visible(t){this.setDisplayListDirty(this._visible!=t),this._visible=t}setVisible(t){return t===void 0&&(t=!0),this.visible=t,this}get alpha(){return this._alpha}set alpha(t){this.setDisplayListDirty(!!this._alpha!=!!t),this._alpha=t}setAlpha(t){return this.alpha=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setPosition(t,i){return this.x=t,this.y=i,this}setRotation(t){return this.rotation=t,this}get angle(){return W_(this.rotation)}set angle(t){this.rotation=z_(t)}setAngle(t){return this.angle=t,this}setScaleX(t){return this.scaleX=t,this}get width(){return this._width}set width(t){this._width=t}setWidth(t,i){return i===void 0&&(i=!1),this.width=t,i&&(this.scaleY=this.scaleX),this}setScaleY(t){return this.scaleY=t,this}setScale(t,i){return i===void 0&&(i=t),this.scaleX=t,this.scaleY=i,this}get height(){return this._height}set height(t){this._height=t}setHeight(t,i){return i===void 0&&(i=!1),this.height=t,i&&(this.scaleX=this.scaleY),this}setScale(t,i){return i===void 0&&(i=t),this.scaleX=t,this.scaleY=i,this}get displayWidth(){return this._width*this.scaleX}set displayWidth(t){this.scaleX=t/this._width}setDisplayWidth(t,i){return i===void 0&&(i=!1),this.displayWidth=t,i&&(this.scaleY=this.scaleX),this}get displayHeight(){return this._height*this.scaleY}set displayHeight(t){this.scaleY=t/this._height}setDisplayHeight(t,i){return i===void 0&&(i=!1),this.displayHeight=t,i&&(this.scaleX=this.scaleY),this}setOriginX(t){return this.originX=t,this._displayOriginX=this.width*t,this}setOriginY(t){return this.originY=t,this._displayOriginY=this.height*t,this}setOrigin(t,i){return i===void 0&&(i=t),this.setOriginX(t).setOriginY(i),this}get depth(){return this._depth}set depth(t){this.setDisplayListDirty(this._depth!=t),this._depth=t}setDepth(t){return t===void 0&&(t=0),this.depth=t,this}modifyPorperties(t){if(!t)return this;t.hasOwnProperty("x")&&this.setX(t.x),t.hasOwnProperty("y")&&this.setY(t.y),t.hasOwnProperty("rotation")?this.setRotation(t.rotation):t.hasOwnProperty("angle")&&this.setAngle(t.angle),t.hasOwnProperty("alpha")&&this.setAlpha(t.alpha);var i=rd(t,"width",void 0),s=rd(t,"height",void 0),g=rd(t,"scale",void 0),E=rd(t,"scaleX",g),n=rd(t,"scaleY",g);i!==void 0?s===void 0&&n===void 0?this.setWidth(i,!0):this.setWidth(i):E!==void 0?this.setScaleX(E):t.hasOwnProperty("displayWidth")&&this.setDisplayWidth(t.displayWidth),s!==void 0?i===void 0&&E===void 0?this.setHeight(s,!0):this.setHeight(s):n!==void 0?this.setScaleY(n):t.hasOwnProperty("displayHeight")&&this.setDisplayHeight(t.displayHeight);var T=rd(t,"origin",void 0);return T!==void 0?this.setOrigin(T):(t.hasOwnProperty("originX")&&this.setOriginX(t.originX),t.hasOwnProperty("originY")&&this.setOriginY(t.originY)),t.hasOwnProperty("depth")&&this.setDepth(t.depth),this}reset(){return super.reset(),this.setVisible().setAlpha(1).setPosition(0,0).setRotation(0).setScale(1,1).setOrigin(0).setDepth(0),this}webglRender(t,i,s,g,E,n,T,r){}canvasRender(t,i,s,g){}};const X_=Phaser.GameObjects.Components.TransformMatrix,H_=Phaser.Renderer.WebGL.Utils.getTintAppendFloatAlpha;var G0=new X_,$_=function(e,t,i,s,g,E,n,T){var r=this.frame;if(r){var o=this._width,y=this._height,d=o*this.originX,h=y*this.originY,l=this.x-s,a=this.y-g,f,c,u,v,p,m,x,C;if(this.isCropped){var P=this._crop;(P.flipX!==this.flipX||P.flipY!==this.flipY)&&r.updateCropUVs(P,this.flipX,this.flipY),f=P.u0,c=P.v0,u=P.u1,v=P.v1,x=P.width,C=P.height,p=P.x,m=P.y}else f=this.frame.u0,c=this.frame.v0,u=this.frame.u1,v=this.frame.v1,x=o,C=y,p=0,m=0;var w=1,M=1;this.flipX&&(l+=o-d*2,w=-1),this.flipY&&(a+=y-h*2,M=-1),G0.applyITRS(l,a,this.rotation,this.scaleX*w,this.scaleY*M),t.multiply(G0,G0);var R=-d+p,A=-h+m,L=R+x,F=A+C,G=G0.setQuad(R,A,L,F,T),I=H_(this.tint,this.alpha*i);e.batchQuad(this.parent,G[0],G[1],G[2],G[3],G[4],G[5],G[6],G[7],f,c,u,v,I,I,I,I,this.tintFill,E,n)}},K_=function(e,t,i,s){var g=this.frame;if(g){e.save();var E=this._width,n=this._height,T=E*this.originX,r=n*this.originY,o=this.x-T,y=this.y-r,d,h,l,a;if(this.isCropped){var f=this._crop;(f.flipX!==this.flipX||f.flipY!==this.flipY)&&g.updateCropUVs(f,this.flipX,this.flipY),l=f.cw,a=f.ch,d=f.cx,h=f.cy}else l=g.cutWidth,a=g.cutHeight,d=g.cutX,h=g.cutY;var c=1,u=1;this.flipX&&(o+=E,c=-1),this.flipY&&(y+=n,u=-1);var v=g.source.resolution,p=l/v,m=a/v;s&&(o=Math.floor(o+.5),y=Math.floor(y+.5),p+=.5,m+=.5),e.translate(o,y),e.rotate(this.rotation),e.scale(this.scaleX*c,this.scaleY*u),e.drawImage(g.source.image,d,h,l,a,0,0,p,m),e.restore()}};const J_=Phaser.Utils.Objects.IsPlainObject;let aG=class extends Y_{constructor(t,i){super(t,nG),this._crop=Z_(),this.setFrame(i)}get width(){return this._width}set width(t){}get height(){return this._height}set height(t){}setFrame(t){return arguments.length>0&&!J_(t)&&(t=this.parent.texture.get(t)),this.frame=t,t?(this._width=t.realWidth,this._height=t.realHeight):(this._width=0,this._height=0),this}setFlipX(t){return t===void 0&&(t=!0),this.flipX=t,this}setFlipY(t){return t===void 0&&(t=!0),this.flipY=t,this}resetFlip(){return this.flipX=!1,this.flipY=!1,this}get tint(){return this._tint===void 0?this.parent.tint:this._tint}set tint(t){this._tint=t}setTint(t){return this.tint=t,this.tintFill=!1,this}setTintFill(t){return this.tint=t,this.tintFill=!0,this}clearTint(){return this.setTint(16777215),this}resetTint(){return this.tint=void 0,this.tintFill=void 0,this}get tintFill(){return this._tintFill===void 0?this.parent.tintFill:this._tintFill}set tintFill(t){this._tintFill=t}setCrop(t,i,s,g){return t===void 0?(this.isCropped=!1,this):this.frame?t===0&&i===0&&s===this._width&&g===this._height?(this.isCropped=!1,this):(this.frame.setCropUVs(this._crop,t,i,s,g,this.flipX,this.flipY),this.isCropped=!0,this):this}reset(){return super.reset(),this.resetFlip().resetTint().setFrame().setCrop(),this}modifyPorperties(t){return t?(t.hasOwnProperty("width")&&(t.displayWidth=t.width,delete t.width),t.hasOwnProperty("height")&&(t.displayHeight=t.height,delete t.height),t.hasOwnProperty("frame")&&this.setFrame(t.frame),super.modifyPorperties(t),t.hasOwnProperty("flipX")&&this.setFlipX(t.flipX),t.hasOwnProperty("flipY")&&this.setFlipY(t.flipY),t.hasOwnProperty("tint")&&this.setTint(t.tint),t.hasOwnProperty("tintFill")&&this.setTintFill(t.tintFill),this):this}};var Z_=function(e){return e===void 0&&(e={}),e.u0=0,e.v0=0,e.u1=0,e.v1=0,e.x=0,e.y=0,e.width=0,e.height=0,e.flipX=!1,e.flipY=!1,e.cx=0,e.cy=0,e.cw=0,e.ch=0,e},j_={webglRender:$_,canvasRender:K_};Object.assign(aG.prototype,j_);var oG=function(e,t){typeof t=="string"&&(t={frame:t});var i=e.poolManager?e.poolManager.allocate(nG):null;return i===null?i=new aG(e):i.setParent(e).setActive(),i.modifyPorperties(t),e.addChild(i),i},Q_=function(e,t,i,s,g,E){oG(this,{frame:t,x:i,y:s,width:g,height:E})},q_=function(e,t,i,s,g,E){var n=this.texture.get(t),T=n.width,r=n.height,o=g%T,y=E%r;o===0&&(o=T),y===0&&(y=r);for(var d=Math.ceil(g/T),h=Math.ceil(E/r),l=d-1,a=h-1,f=0;f<d;f++)for(var c=0;c<h;c++){let p=oG(this,{frame:t,x:i+f*T,y:s+c*r});var u=f===l?o:T,v=c===a?y:r;(u!==T||v!==r)&&p.setCrop(0,0,u,v)}};const __={_drawImage:Q_,_drawTileSprite:q_};class eM extends _9(rG,"rexNinePatch2"){setBaseTexture(t,i,s,g){return this.setTexture(t,i),super.setBaseTexture(t,i,s,g),this}}Object.assign(eM.prototype,__);It.register("ninePatch2",function(e,t,i,s,g,E,n,T){var r=new eM(this.scene,e,t,i,s,g,E,n,T);return this.scene.add.existing(r),r});Dt(window,"RexPlugins.UI.NinePatch2",eM);var ttt=Phaser.Renderer.WebGL.Utils,lG=function(e,t,i,s,g,E){for(var n=ttt.getTintAppendFloatAlpha(i.fillColor,i.fillAlpha*s),T=i.pathData,r=i.pathIndexes,o=0;o<r.length;o+=3){var y=r[o]*2,d=r[o+1]*2,h=r[o+2]*2,l=T[y+0]-g,a=T[y+1]-E,f=T[d+0]-g,c=T[d+1]-E,u=T[h+0]-g,v=T[h+1]-E,p=t.getX(l,a),m=t.getY(l,a),x=t.getX(f,c),C=t.getY(f,c),P=t.getX(u,v),w=t.getY(u,v);e.batchTri(i,p,m,x,C,P,w,0,0,1,1,n,n,n,2)}},ett=Phaser.Renderer.WebGL.Utils,Jx=function(e,t,i,s,g){var E=e.strokeTint,n=ett.getTintAppendFloatAlpha(t.strokeColor,t.strokeAlpha*i);E.TL=n,E.TR=n,E.BL=n,E.BR=n;var T=t.pathData,r=T.length-1,o=t.lineWidth,y=o/2,d=T[0]-s,h=T[1]-g;t.closePath||(r-=2);for(var l=2;l<r;l+=2){var a=T[l]-s,f=T[l+1]-g;e.batchLine(d,h,a,f,y,y,o,l-2,t.closePath?l===r-1:!1),d=a,h=f}};const itt=Phaser.GameObjects.GetCalcMatrix;var rtt=function(e,t,i,s){t.dirty&&(t.updateData(),t.dirty=!1),i.addToRenderList(t);var g=e.pipelines.set(t.pipeline),E=itt(t,i,s),n=g.calcMatrix.copyFrom(E.calc),T=t._displayOriginX,r=t._displayOriginY,o=i.alpha*t.alpha;e.pipelines.preBatch(t),t.isFilled&&lG(g,n,t,o,T,r),t.isStroked&&Jx(g,t,o,T,r),e.pipelines.postBatch(t)},$p=function(e,t,i,s){var g=t.fillColor,E=t.fillAlpha,n=(g&16711680)>>>16,T=(g&65280)>>>8,r=g&255;e.fillStyle="rgba("+n+","+T+","+r+","+E+")"},Kp=function(e,t,i,s){var g=t.strokeColor,E=t.strokeAlpha,n=(g&16711680)>>>16,T=(g&65280)>>>8,r=g&255;e.strokeStyle="rgba("+n+","+T+","+r+","+E+")",e.lineWidth=t.lineWidth};const ntt=Phaser.Renderer.Canvas.SetTransform;var stt=function(e,t,i,s){t.dirty&&(t.updateData(),t.dirty=!1),i.addToRenderList(t);var g=e.currentContext;if(ntt(e,g,t,i,s)){var E=t._displayOriginX,n=t._displayOriginY,T=t.pathData,r=T.length-1,o=T[0]-E,y=T[1]-n;g.beginPath(),g.moveTo(o,y),t.closePath||(r-=2);for(var d=2;d<r;d+=2){var h=T[d]-E,l=T[d+1]-n;g.lineTo(h,l)}g.closePath(),t.isFilled&&($p(g,t),g.fill()),t.isStroked&&(Kp(g,t),g.stroke()),g.restore()}};const att={renderWebGL:rtt,renderCanvas:stt},ott=Phaser.GameObjects.Shape;class iM extends ott{get fillColor(){return this._fillColor}set fillColor(t){this._fillColor=t,this.isFilled=t!=null&&this._fillAlpha>0}get fillAlpha(){return this._fillAlpha}set fillAlpha(t){this._fillAlpha=t,this.isFilled=t>0&&this._fillColor!=null}setFillStyle(t,i){return i===void 0&&(i=1),this.fillColor=t,this.fillAlpha=i,this}get strokeColor(){return this._strokeColor}set strokeColor(t){this._strokeColor=t,this.isStroked=t!=null&&this._strokeAlpha>0&&this._lineWidth>0}get strokeAlpha(){return this._strokeAlpha}set strokeAlpha(t){this._strokeAlpha=t,this.isStroked=t>0&&this._strokeColor!=null&&this._lineWidth>0}get lineWidth(){return this._lineWidth}set lineWidth(t){this._lineWidth=t,this.isStroked=t>0&&this._strokeColor!=null}setStrokeStyle(t,i,s){return s===void 0&&(s=1),this.lineWidth=t,this.strokeColor=i,this.strokeAlpha=s,this}updateData(){return this}get width(){return this.geom.width}set width(t){this.resize(t,this.height)}get height(){return this.geom.height}set height(t){this.resize(this.width,t)}setSize(t,i){var s=this.input;return s&&!s.customHitArea&&(s.hitArea.width=t,s.hitArea.height=i),this}resize(t,i){return this.setSize(t,i),this}}Object.assign(iM.prototype,att);const ch=Phaser.Utils.Objects.GetValue;let rM=class{constructor(t,i,s,g,E){t===void 0&&(t=0),i===void 0&&(i=t),s===void 0&&(s=0),g===void 0&&(g=0),E===void 0&&(E=0),this.cornerRadius={},this._width=0,this._height=0,this.setTo(t,i,s,g,E)}setTo(t,i,s,g,E){return this.setPosition(t,i),this.setRadius(E),this.setSize(s,g),this}setPosition(t,i){return this.x=t,this.y=i,this}setRadius(t){return t===void 0&&(t=0),this.radius=t,this}setSize(t,i){return this.width=t,this.height=i,this}get minWidth(){var t=this.cornerRadius;return Math.max(t.tl.x+t.tr.x,t.bl.x+t.br.x)}get minHeight(){var t=this.cornerRadius;return Math.max(t.tl.y+t.bl.y,t.tr.y+t.br.y)}get width(){return this._width}set width(t){t==null&&(t=0),this._width=Math.max(t,this.minWidth)}get height(){return this._height}set height(t){t==null&&(t=0),this._height=Math.max(t,this.minHeight)}get radius(){var t=this.cornerRadius;return Math.max(t.tl.x,t.tl.y,t.tr.x,t.tr.y,t.bl.x,t.bl.y,t.br.x,t.br.y)}set radius(t){var i,s;typeof t=="number"?(i=t,s=t):(i=ch(t,"x",0),s=ch(t,"y",0));var g=this.cornerRadius;g.tl=k0(ch(t,"tl",void 0),i,s),g.tr=k0(ch(t,"tr",void 0),i,s),g.bl=k0(ch(t,"bl",void 0),i,s),g.br=k0(ch(t,"br",void 0),i,s)}get radiusTL(){var t=this.cornerRadius.tl;return Math.max(t.x,t.y)}set radiusTL(t){N0(this.cornerRadius.tl,t)}get radiusTR(){var t=this.cornerRadius.tr;return Math.max(t.x,t.y)}set radiusTR(t){N0(this.cornerRadius.tr,t)}get radiusBL(){var t=this.cornerRadius.bl;return Math.max(t.x,t.y)}set radiusBL(t){N0(this.cornerRadius.bl,t)}get radiusBR(){var t=this.cornerRadius.br;return Math.max(t.x,t.y)}set radiusBR(t){N0(this.cornerRadius.br,t)}};var k0=function(e,t,i){return e===void 0?e={x:t,y:i}:typeof e=="number"&&(e={x:e,y:e}),hG(e),e},N0=function(e,t){typeof t=="number"?(e.x=t,e.y=t):(e.x=ch(t,"x",0),e.y=ch(t,"y",0)),hG(e)},hG=function(e){e.convex=e.x>=0||e.y>=0,e.x=Math.abs(e.x),e.y=Math.abs(e.y)},Zi=function(e){return e.x>0&&e.y>0},Qr=function(e,t,i){var s=i.length;if(s>=2){var g=i[s-2],E=i[s-1];if(e===g&&t===E)return i}return i.push(e,t),i};const c3=Phaser.Math.DegToRad;var qr=function(e,t,i,s,g,E,n,T,r){n&&E>g?E-=360:!n&&E<g&&(E+=360);var o=E-g,y=c3(o)/T;g=c3(g);for(var d=0;d<=T;d++){var h=g+y*d,l=e+i*Math.cos(h),a=t+s*Math.sin(h);Qr(l,a,r)}return r};const ltt=Phaser.Utils.Objects.IsPlainObject,v3=Phaser.Utils.Objects.GetValue,htt=Phaser.Geom.Polygon.Earcut;let Ku=class extends iM{constructor(t,i,s,g,E,n,T,r){var o,y,d,h;if(ltt(i)){var l=i;i=l.x,s=l.y,g=l.width,E=l.height,n=l.radius,T=l.color,r=l.alpha,o=l.strokeColor,y=l.strokeAlpha,d=l.strokeWidth,h=l.shape}i===void 0&&(i=0),s===void 0&&(s=0),g===void 0&&(g=1),E===void 0&&(E=g),n===void 0&&(n=0),h===void 0&&(h=0);var a=new rM;if(super(t,"rexRoundRectangleShape",a),this.setShapeType(h),this.shapeType===0){var f=v3(n,"radius",n);a.setTo(0,0,g,E,f)}else{var f={x:g/2,y:E/2};a.setTo(0,0,g,E,f)}this.setIteration(v3(n,"iteration",void 0)),this.setPosition(i,s),this.setFillStyle(T,r),d===void 0&&(d=2),this.setStrokeStyle(d,o,y),this.updateDisplayOrigin(),this.dirty=!0}updateData(){var t=this.geom,i=this.pathData;i.length=0;var s=t.width,g=t.height,E=t.cornerRadius,n,T=this.iteration+1;if(n=E.tl,Zi(n))if(n.convex){var r=n.x,o=n.y;qr(r,o,n.x,n.y,180,270,!1,T,i)}else{var r=0,o=0;qr(r,o,n.x,n.y,90,0,!0,T,i)}else Qr(0,0,i);if(n=E.tr,Zi(n))if(n.convex){var r=s-n.x,o=n.y;qr(r,o,n.x,n.y,270,360,!1,T,i)}else{var r=s,o=0;qr(r,o,n.x,n.y,180,90,!0,T,i)}else Qr(s,0,i);if(n=E.br,Zi(n))if(n.convex){var r=s-n.x,o=g-n.y;qr(r,o,n.x,n.y,0,90,!1,T,i)}else{var r=s,o=g;qr(r,o,n.x,n.y,270,180,!0,T,i)}else Qr(s,g,i);if(n=E.bl,Zi(n))if(n.convex){var r=n.x,o=g-n.y;qr(r,o,n.x,n.y,90,180,!1,T,i)}else{var r=0,o=g;qr(r,o,n.x,n.y,360,270,!0,T,i)}else Qr(0,g,i);return i.push(i[0],i[1]),this.pathIndexes=htt(i),this}setShapeType(t){return typeof t=="string"&&(t=utt[t]),this.shapeType=t,this}setSize(t,i){return i===void 0&&(i=t),this.geom.width===t&&this.geom.height===i?this:(this.geom.setSize(t,i),this.shapeType===1&&this.setRadius({x:t/2,y:i/2}),this.updateDisplayOrigin(),this.dirty=!0,super.setSize(t,i),this)}get radius(){return this.geom.radius}set radius(t){this.geom.setRadius(t),this.updateDisplayOrigin(),this.dirty=!0}get radiusTL(){return this.geom.radiusTL}set radiusTL(t){this.geom.radiusTL=t,this.dirty=!0}get radiusTR(){return this.geom.radiusTR}set radiusTR(t){this.geom.radiusTR=t,this.dirty=!0}get radiusBL(){return this.geom.radiusBL}set radiusBL(t){this.geom.radiusBL=t,this.dirty=!0}get radiusBR(){return this.geom.radiusBR}set radiusBR(t){this.geom.radiusBR=t,this.dirty=!0}setRadius(t){return t===void 0&&(t=0),this.radius=t,this}setRadiusTL(t){return t===void 0&&(t=0),this.radiusTL=t,this}setRadiusTR(t){return t===void 0&&(t=0),this.radiusTR=t,this}setRadiusBL(t){return t===void 0&&(t=0),this.radiusBL=t,this}setRadiusBR(t){return t===void 0&&(t=0),this.radiusBR=t,this}get cornerRadius(){return this.geom.cornerRadius}set cornerRadius(t){this.radius=t}setCornerRadius(t){return this.setRadius(t)}get iteration(){return this._iteration}set iteration(t){if(this._iteration===void 0){this._iteration=t;return}this._iteration!==t&&(this._iteration=t,this.dirty=!0)}setIteration(t){return t===void 0&&(t=6),this.iteration=t,this}};const utt={rectangle:0,circle:1};It.register("roundRectangle",function(e,t,i,s,g,E,n){var T=new Ku(this.scene,e,t,i,s,g,E,n);return this.scene.add.existing(T),T});Dt(window,"RexPlugins.UI.RoundRectangle",Ku);const ftt=Phaser.Renderer.WebGL.Utils;var dtt=function(e,t,i,s){if(t.dirty&&(t.updateTexture(),t.dirty=!1),!(t.width===0||t.height===0)){i.addToRenderList(t);var g=t.frame,E=g.width,n=g.height,T=ftt.getTintAppendFloatAlpha,r=e.pipelines.set(t.pipeline,t),o=r.setTexture2D(g.glTexture,t);e.pipelines.preBatch(t),r.batchTexture(t,g.glTexture,E,n,t.x,t.y,E/t.resolution,n/t.resolution,t.scaleX,t.scaleY,t.rotation,t.flipX,t.flipY,t.scrollFactorX,t.scrollFactorY,t.displayOriginX,t.displayOriginY,0,0,E,n,T(t.tintTopLeft,i.alpha*t._alphaTL),T(t.tintTopRight,i.alpha*t._alphaTR),T(t.tintBottomLeft,i.alpha*t._alphaBL),T(t.tintBottomRight,i.alpha*t._alphaBR),t.tintFill,0,0,i,s,!1,o),e.pipelines.postBatch(t)}},ctt=function(e,t,i,s){t.dirty&&(t.updateTexture(),t.dirty=!1),!(t.width===0||t.height===0)&&(i.addToRenderList(t),e.batchSprite(t,t.frame,i,s))};const vtt={renderWebGL:dtt,renderCanvas:ctt},ptt=Phaser.Display.Color,gtt={clear(){return this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.dirty=!0,this},fill(e){return this.context.fillStyle=e,this.context.fillRect(0,0,this.canvas.width,this.canvas.height),this.dirty=!0,this},drawFrame(e,t,i,s,g,E,n,T,r,o){var y=this.scene.sys.textures.getFrame(e,t);if(!y)return this;var d=y.cutWidth,h=y.cutHeight;i===void 0&&(i=0),s===void 0&&(s=0),g===void 0&&(g=d),E===void 0&&(E=h),n===void 0&&(n=0),T===void 0&&(T=0),r===void 0&&(r=d),o===void 0&&(o=h);var l=y.cutX+n,a=y.cutY+T;return this.context.drawImage(y.source.image,l,a,r,o,i,s,g,E),this.dirty=!0,this},getDataURL(e,t){return this.canvas.toDataURL(e,t)},getPixel(e,t,i){i===void 0&&(i=new ptt);var s=this.context.getImageData(e,t,1,1);return i.setTo(s.data[0],s.data[1],s.data[2],s.data[3]),i},setPixel(e,t,i,s,g,E){if(typeof i!="number"){var n=i;i=n.red,s=n.green,g=n.blue,E=n.alpha}E===void 0&&(E=i!==0||s!==0||g!==0?255:0);var T=this.context.createImageData(1,1);return T.data[0]=i,T.data[1]=s,T.data[2]=g,T.data[3]=E,this.context.putImageData(T,e,t),this.dirty=!0,this}};var uG=function(e,t,i,s,g,E,n){var T=e.sys.textures,r=e.renderer;s===void 0&&(s=0),g===void 0&&(g=0),E===void 0&&(E=t.width),n===void 0&&(n=t.height);var o;T.exists(i)?o=T.get(i):o=T.createCanvas(i,E,n);var y=o.getSourceImage();y.width!==E&&(y.width=E),y.height!==n&&(y.height=n);var d=y.getContext("2d",{willReadFrequently:!0});d.clearRect(0,0,E,n),d.drawImage(t,s,g,E,n),r.gl&&o&&r.canvasToTexture(y,o.source[0].glTexture,!0,0)};const mtt={updateTexture(e,t){if(e){var i=this.resolution;i!==1&&(this.context.save(),this.context.scale(i,i)),t?e.call(t,this.canvas,this.context):e(this.canvas,this.context),i!==1&&this.context.restore()}(this.canvas.width!==this.frame.width||this.canvas.height!==this.frame.height)&&this.frame.setSize(this.canvas.width,this.canvas.height),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(this.canvas,this.frame.source.glTexture,!0),this.frame.glTexture.spectorMetadata={textureKey:"Canvas Game Object"}),this.dirty=!1;var s=this.input;return s&&!s.customHitArea&&(s.hitArea.width=this.width,s.hitArea.height=this.height),this},generateTexture(e,t,i,s,g){var E=this.canvas;return s===void 0?s=E.width:s*=this.resolution,g===void 0?g=E.height:g*=this.resolution,uG(this.scene,E,e,t,i,s,g),this},loadTexture(e,t){var i=this.scene.sys.textures.getFrame(e,t);return i?(this.width!==i.cutWidth||this.height!==i.cutHeight?this.setSize(i.cutWidth,i.cutHeight):this.clear(),this.drawFrame(e,t),this.dirty=!0,this):this}};$x();const p3=Phaser.Display.Canvas.CanvasPool,ytt=Phaser.GameObjects.GameObject,xtt=Phaser.Utils.String.UUID;let Ah=class extends ytt{constructor(t,i,s,g,E,n){i===void 0&&(i=0),s===void 0&&(s=0),g===void 0&&(g=1),E===void 0&&(E=1),n===void 0&&(n=1),super(t,"rexCanvas"),this.renderer=t.sys.game.renderer,this._width=g,this._height=E,this.resolution=n,g=Math.max(Math.ceil(g*this.resolution),1),E=Math.max(Math.ceil(E*this.resolution),1),this.canvas=p3.create(this,g,E),this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.dirty=!1,this.setPosition(i,s),this.setOrigin(.5,.5),this.initPipeline(),this.initPostPipeline(!0),this._crop=this.resetCropObject(),this._textureKey=xtt(),this.texture=t.sys.textures.addCanvas(this._textureKey,this.canvas),this.frame=this.texture.get(),this.frame.source.resolution=this.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.dirty=!0}preDestroy(){p3.remove(this.canvas),this.canvas=null,this.context=null;var t=this.texture;t&&t.destroy()}setResolution(t){if(this.resolution===t)return this;this.resolution=t;var i=Math.max(Math.ceil(this.width*t),1),s=Math.max(Math.ceil(this.height*t),1);return this.canvas.width=i,this.canvas.height=s,this.frame.source.resolution=t,this.dirty=!0,this}get width(){return this._width}set width(t){this.setSize(t,this._height)}get height(){return this._height}set height(t){this.setSize(this._width,t)}setCanvasSize(t,i){return this._width===t&&this._height===i?this:(this._width=t,this._height=i,this.updateDisplayOrigin(),t=Math.max(Math.ceil(t*this.resolution),1),i=Math.max(Math.ceil(i*this.resolution),1),this.canvas.width=t,this.canvas.height=i,this.frame.setSize(t,i),this.dirty=!0,this)}setSize(t,i){return this.setCanvasSize(t,i),this}get displayWidth(){return this.scaleX*this._width}set displayWidth(t){this.scaleX=t/this._width}get displayHeight(){return this.scaleY*this._height}set displayHeight(t){this.scaleY=t/this._height}setDisplaySize(t,i){return this.displayWidth=t,this.displayHeight=i,this}getCanvas(t){return t||(this.dirty=!0),this.canvas}getContext(t){return t||(this.dirty=!0),this.context}needRedraw(){return this.dirty=!0,this}resize(t,i){return this.setSize(t,i),this}};const es=Phaser.GameObjects.Components;Phaser.Class.mixin(Ah,[es.Alpha,es.BlendMode,es.Crop,es.Depth,es.Flip,es.GetBounds,es.Mask,es.Origin,es.Pipeline,es.PostPipeline,es.ScrollFactor,es.Tint,es.Transform,es.Visible,vtt,gtt,mtt]);const Ttt=Phaser.Utils.String.Pad;var Ke=function(e,t,i){if(e==null)return e;switch(typeof e){case"string":return e;case"number":return`#${Ttt(Math.floor(e).toString(16),6,"0",1)}`;case"function":return e(t,i);case"object":return e.hasOwnProperty("r")?e.hasOwnProperty("a")?`rgba(${e.r},${e.g},${e.b},${e.a})`:`rgb(${e.r},${e.g},${e.b})`:e.hasOwnProperty("h")?e.hasOwnProperty("a")?`hsla(${e.h},${e.s},${e.l},${e.a})`:`hsl(${e.h},${e.s},${e.l})`:e;default:return e}};const g3=Phaser.Math.DegToRad;var fG=function(e,t,i,s,g,E,n){var T=new rM(t,i,s,g,E),r=T.minWidth,o=T.minHeight,y=s>=r?1:s/r,d=g>=o?1:g/o,h=T.cornerRadius,l,a,f,c,u,v,p;e.save(),e.beginPath(),e.translate(t,i),l=h.tl,V0(l)?(a=l.x*y,f=l.y*d,U0(l)?(c=a,u=f,ql(e,c,u,a,f,180,270,!1,n)):(c=0,u=0,ql(e,c,u,a,f,90,0,!0,n)),v=0,p=f):(e.lineTo(0,0),v=0,p=0),l=h.tr,V0(l)?(a=l.x*y,f=l.y*d,U0(l)?(c=s-a,u=f,ql(e,c,u,a,f,270,360,!1,n)):(c=s,u=0,ql(e,c,u,a,f,180,90,!0,n))):e.lineTo(s,0),l=h.br,V0(l)?(a=l.x*y,f=l.y*d,U0(l)?(c=s-a,u=g-f,ql(e,c,u,a,f,0,90,!1,n)):(c=s,u=g,ql(e,c,u,a,f,270,180,!0,n))):e.lineTo(s,g),l=h.bl,V0(l)?(a=l.x*y,f=l.y*d,U0(l)?(c=a,u=g-f,ql(e,c,u,a,f,90,180,!1,n)):(c=0,u=g,ql(e,c,u,a,f,360,270,!0,n))):e.lineTo(0,g),e.lineTo(v,p),e.closePath(),e.restore()},U0=function(e){return!e.hasOwnProperty("convex")||e.convex},V0=function(e){return e.x>0&&e.y>0},ql=function(e,t,i,s,g,E,n,T,r){if(T&&n>E?n-=360:!T&&n<E&&(n+=360),E=g3(E),n=g3(n),r==null)e.ellipse(t,i,s,g,0,E,n,T);else{r+=1;for(var o,y,d,h=(n-E)/r,l=0;l<=r;l++)d=E+h*l,o=t+s*Math.cos(d),y=i+g*Math.sin(d),e.lineTo(o,y)}},Ctt=function(e,t,i,s,g,E,n,T,r,o,y,d,h){if(fG(t,i,s,g,E,n,h),T!=null){if(y!=null){var l;d?l=t.createLinearGradient(0,0,g,0):l=t.createLinearGradient(0,0,0,E),l.addColorStop(0,T),l.addColorStop(1,y),T=l}t.fillStyle=T,t.fill()}r!=null&&o>0&&(t.strokeStyle=r,t.lineWidth=o,t.stroke())},nM=function(e,t,i,s,g,E,n,T){if(!(t==null&&i==null)){var r=e.canvas.width,o=e.canvas.height;i==null&&(s=0);var y=s/2;r=Math.max(1,r-s),o=Math.max(1,o-s),Ctt(e.canvas,e.context,y,y,r,o,g,t,i,s,E,n,T)}},Stt=function(){nM(this,this.fillStyle,this.strokeStyle,this.lineWidth,this.radius,this.fillColor2,this.isHorizontalGradient,this.iteration)};const m3=Phaser.Utils.Objects.GetValue;let dG=class extends Ah{constructor(t,i,s,g,E,n,T,r,o,y,d,h){i===void 0&&(i=0),s===void 0&&(s=0),g===void 0&&(g=1),E===void 0&&(E=g),n===void 0&&(n=0),h===void 0&&(h=1),super(t,i,s,g,E,h),this.type="rexRoundRectangleCanvas";var l=m3(n,"radius",n),a=m3(n,"iteration",void 0);this.setRadius(l),this.setIteration(a),this.setFillStyle(T,y,d),this.setStrokeStyle(r,o)}get radius(){return this._radius}set radius(t){this.dirty|=this._radius!=t,this._radius=t}setRadius(t){return this.radius=t,this}get iteration(){return this._iteration}set iteration(t){this.dirty|=this._iteration!=t,this._iteration=t}setIteration(t){return this.iteration=t,this}get fillStyle(){return this._fillStyle}set fillStyle(t){t=Ke(t,this.canvas,this.context),this.dirty|=this._fillStyle!=t,this._fillStyle=t}get fillColor2(){return this._fillColor2}set fillColor2(t){t=Ke(t,this.canvas,this.context),this.dirty|=this._fillColor2!=t,this._fillColor2=t}get isHorizontalGradient(){return this._isHorizontalGradient}set isHorizontalGradient(t){this.dirty|=this._isHorizontalGradient!=t,this._isHorizontalGradient=t}setFillStyle(t,i,s){return s===void 0&&(s=!0),this.fillStyle=t,this.fillColor2=i,this.isHorizontalGradient=s,this}get strokeStyle(){return this._strokeStyle}set strokeStyle(t){t=Ke(t,this.canvas,this.context),this.dirty|=this._strokeStyle!=t,this._strokeStyle=t}get lineWidth(){return this._lineWidth}set lineWidth(t){this.dirty|=this._lineWidth!=t,this._lineWidth=t}setStrokeStyle(t,i){return this.strokeStyle=t,this.lineWidth=i,this}updateTexture(){return super.updateTexture(function(){this.clear(),Stt.call(this)},this),this}};It.register("roundRectangleCanvas",function(e,t,i,s,g,E,n,T,r,o){var y=new dG(this.scene,e,t,i,s,g,E,n,T,r,o);return this.scene.add.existing(y),y});Dt(window,"RexPlugins.UI.RoundRectangleCanvas",dG);var Ci=function(e,t){if(!e)return!1;if(e.hasOwnProperty(t))return!0;for(;e;){if(Object.getOwnPropertyDescriptor(e,t))return!0;e=e.__proto__}return!1},_l=function(e,t,i){!t||Ci(e,`${t}X`)||(Object.defineProperty(e,`${t}X`,{get:function(){return i.x},set:function(s){i.x=s,e.dirty=!0}}),Object.defineProperty(e,`${t}Y`,{get:function(){return i.y},set:function(s){i.y=s,e.dirty=!0}}),Object.defineProperty(e,`${t}T`,{get:function(){return i.t},set:function(s){i.t=s,e.dirty=!0}}))};const Ett={setTLPosition(e,t){return this.geom.setTLPosition(e,t),this.dirty=!0,this},setTRPosition(e,t){return this.geom.setTRPosition(e,t),this.dirty=!0,this},setBLPosition(e,t){return this.geom.setBLPosition(e,t),this.dirty=!0,this},setBRPosition(e,t){return this.geom.setBRPosition(e,t),this.dirty=!0,this},resetCornerPosition(){return this.geom.resetCornerPosition(),this.dirty=!0,this},insertTopSidePoint(e,t,i,s){var g=this.geom.topSidePoints;if(Array.isArray(e))for(var g=e,E,n=0,T=g.length;n<T;n++)E=g[n],this.geom.insertTopSidePoint(E.t,E.x,E.y),_l(this,E.key,g[g.length-1]);else this.geom.insertTopSidePoint(e,t,i),_l(this,s,g[g.length-1]);return this.dirty=!0,this},insertRightSidePoint(e,t,i,s){var g=this.geom.rightSidePoints;if(Array.isArray(e))for(var g=e,E,n=0,T=g.length;n<T;n++)E=g[n],this.geom.insertRightSidePoint(E.t,E.x,E.y),_l(this,E.key,g[g.length-1]);else this.geom.insertRightSidePoint(e,t,i),_l(this,s,g[g.length-1]);return this.dirty=!0,this},insertBottomSidePoint(e,t,i,s){var g=this.geom.bottomSidePoints;if(Array.isArray(e))for(var g=e,E,n=0,T=g.length;n<T;n++)E=g[n],this.geom.insertBottomSidePoint(E.t,E.x,E.y),_l(this,E.key,g[g.length-1]);else this.geom.insertBottomSidePoint(e,t,i),_l(this,s,g[g.length-1]);return this.dirty=!0,this},insertLeftSidePoint(e,t,i,s){var g=this.geom.leftSidePoints;if(Array.isArray(e))for(var g=e,E,n=0,T=g.length;n<T;n++)E=g[n],this.geom.insertLeftSidePoint(E.t,E.x,E.y),_l(this,E.key,g[g.length-1]);else this.geom.insertLeftSidePoint(e,t,i),_l(this,s,g[g.length-1]);return this.dirty=!0,this},clearTopSidePoints(){return this.geom.clearTopSidePoints(),this.dirty=!0,this},clearRightSidePoints(){return this.geom.clearRightSidePoints(),this.dirty=!0,this},clearBottomSidePoints(){return this.geom.clearBottomSidePoints(),this.dirty=!0,this},clearLeftSidePoints(){return this.geom.clearLeftSidePoints(),this.dirty=!0,this},clearAllSidesPoints(){return this.geom.clearAllSidesPoints(),this.dirty=!0,this}};class btt{constructor(t,i,s,g){t===void 0&&(t=0),i===void 0&&(i=t),s===void 0&&(s=0),g===void 0&&(g=0),this.setTo(t,i,s,g),this.tlx=0,this.tly=0,this.trx=0,this.try=0,this.blx=0,this.bly=0,this.brx=0,this.bry=0,this.topSidePoints=[],this.rightSidePoints=[],this.bottomSidePoints=[],this.leftSidePoints=[]}setTo(t,i,s,g){return this.setPosition(t,i),this.setSize(s,g),this}setPosition(t,i){return this.x=t,this.y=i,this}setSize(t,i){return this.width=t,this.height=i,this}setTLPosition(t,i){return this.tlx=t,this.tly=i,this}setTRPosition(t,i){return this.trx=t,this.try=i,this}setBLPosition(t,i){return this.blx=t,this.bly=i,this}setBRPosition(t,i){return this.brx=t,this.bry=i,this}resetCornerPosition(){return this.setTLPosition(0,0).setTRPosition(0,0).setBLPosition(0,0).setBRPosition(0,0),this}insertTopSidePoint(t,i,s){return z0(this.topSidePoints,t,i,s),this}insertRightSidePoint(t,i,s){return z0(this.rightSidePoints,t,i,s),this}insertBottomSidePoint(t,i,s){return z0(this.bottomSidePoints,t,i,s),this}insertLeftSidePoint(t,i,s){return z0(this.leftSidePoints,t,i,s),this}clearTopSidePoints(){return this.topSidePoints.length=0,this}clearRightSidePoints(){return this.rightSidePoints.length=0,this}clearBottomSidePoints(){return this.bottomSidePoints.length=0,this}clearLeftSidePoints(){return this.leftSidePoints.length=0,this}clearAllSidesPoints(){return this.clearTopSidePoints().clearRightSidePoints().clearBottomSidePoints().clearLeftSidePoints(),this}}var z0=function(e,t,i,s){if(typeof t!="number"){var g=t;t=g.t,i=g.x,s=g.y}e.push({t,x:i,y:s})};const Ptt=Phaser.Utils.Objects.IsPlainObject,Zs=Phaser.Utils.Objects.GetValue,th=Phaser.Math.Linear,wtt=Phaser.Geom.Polygon.Earcut;class sM extends iM{constructor(t,i,s,g,E,n,T){var r,o,y;if(Ptt(i)){var d=i;i=d.x,s=d.y,g=d.width,E=d.height,n=d.color,T=d.alpha,r=d.strokeColor,o=d.strokeAlpha,y=d.strokeWidth}i===void 0&&(i=0),s===void 0&&(s=0),g===void 0&&(g=1),E===void 0&&(E=g);var h=new btt;super(t,"rexQuadShape",h),h.setTo(0,0,g,E),this.setPosition(i,s),this.setFillStyle(n,T),r!==void 0&&y===void 0&&(y=2),this.setStrokeStyle(y,r,o),this.setTLPosition(Zs(d,"tlx",0),Zs(d,"tly",0)).setTRPosition(Zs(d,"trx",0),Zs(d,"try",0)).setBLPosition(Zs(d,"blx",0),Zs(d,"bly",0)).setBRPosition(Zs(d,"brx",0),Zs(d,"bry",0));var l=Zs(d,"leftSidePoints");l&&this.insertLeftSidePoint(l);var a=Zs(d,"topSidePoints");a&&this.insertTopSidePoint(a);var f=Zs(d,"rightSidePoints");f&&this.insertRightSidePoint(f);var c=Zs(d,"bottomSidePoints");c&&this.insertBottomSidePoint(c),this.updateDisplayOrigin(),this.dirty=!0}updateData(){var t=this.geom,i=this.pathData;i.length=0;var s=t.width,g=t.height,E=0+t.tlx,n=0+t.tly,T=s+t.trx,r=0+t.try,o=s+t.brx,y=g+t.bry,d=0+t.blx,h=g+t.bly,l=t.topSidePoints,a=t.rightSidePoints,f=t.bottomSidePoints,c=t.leftSidePoints;Qr(E,n,i),W0(l);for(var u=0,v=l.length;u<v;u++){var p=l[u],m=th(E,T,p.t)+p.x,x=th(n,r,p.t)+p.y;Qr(m,x,i)}Qr(T,r,i),W0(a);for(var u=0,v=a.length;u<v;u++){var p=a[u],m=th(T,o,p.t)+p.x,x=th(r,y,p.t)+p.y;Qr(m,x,i)}Qr(o,y,i),W0(f);for(var u=f.length-1;u>=0;u--){var p=f[u],m=th(d,o,p.t)+p.x,x=th(h,y,p.t)+p.y;Qr(m,x,i)}Qr(d,h,i),W0(c);for(var u=c.length-1;u>=0;u--){var p=c[u],m=th(E,d,p.t)+p.x,x=th(n,h,p.t)+p.y;Qr(m,x,i)}return i.push(i[0],i[1]),this.pathIndexes=wtt(i),this}get tlx(){return this.geom.tlx}set tlx(t){this.geom.tlx=t,this.dirty=!0}get tly(){return this.geom.tly}set tly(t){this.geom.tly=t,this.dirty=!0}get trx(){return this.geom.trx}set trx(t){this.geom.trx=t,this.dirty=!0}get try(){return this.geom.try}set try(t){this.geom.try=t,this.dirty=!0}get blx(){return this.geom.blx}set blx(t){this.geom.blx=t,this.dirty=!0}get bly(){return this.geom.bly}set bly(t){this.geom.bly=t,this.dirty=!0}get brx(){return this.geom.brx}set brx(t){this.geom.brx=t,this.dirty=!0}get bry(){return this.geom.bry}set bry(t){this.geom.bry=t,this.dirty=!0}get leftSidePoints(){return this.geom.leftSidePoints}get topSidePoints(){return this.geom.topSidePoints}get bottomSidePoints(){return this.geom.bottomSidePoints}get rightSidePoints(){return this.geom.rightSidePoints}}var W0=function(e){e.length<=1||e.sort(function(t,i){return t.t-i.t})};Object.assign(sM.prototype,Ett);It.register("QuadShape",function(e,t,i,s,g,E){var n=new sM(this.scene,e,t,i,s,g,E);return this.scene.add.existing(n),n});Dt(window,"RexPlugins.UI.QuadShape",sM);var Mtt=Phaser.Renderer.WebGL.Utils,Rtt=function(e,t,i,s){if(!(t.width===0||t.height===0)){i.addToRenderList(t);var g=t.frame,E=g.width,n=g.height,T=Mtt.getTintAppendFloatAlpha,r=e.pipelines.set(t.pipeline,t),o=r.setTexture2D(g.glTexture,t);e.pipelines.preBatch(t),r.batchTexture(t,g.glTexture,E,n,t.x,t.y,E/t.style.resolution,n/t.style.resolution,t.scaleX,t.scaleY,t.rotation,t.flipX,t.flipY,t.scrollFactorX,t.scrollFactorY,t.displayOriginX,t.displayOriginY,0,0,E,n,T(t.tintTopLeft,i.alpha*t._alphaTL),T(t.tintTopRight,i.alpha*t._alphaTR),T(t.tintBottomLeft,i.alpha*t._alphaBL),T(t.tintBottomRight,i.alpha*t._alphaBR),t.tintFill,0,0,i,s,!1,o),e.pipelines.postBatch(t)}},Att=function(e,t,i,s){t.width===0||t.height===0||(i.addToRenderList(t),e.batchSprite(t,t.frame,i,s))};const Ott={renderWebGL:Rtt,renderCanvas:Att},cb=Phaser.Display.Canvas.CanvasPool;var Ltt=function(e,t,i){i===void 0&&(i={});var s=cb.create(this),g=s.getContext("2d",{willReadFrequently:!0});e.syncFont(s,g);var E=g.measureText(t),n=Math.ceil(E.width*e.baselineX),T=n,r=2*T;if(T=T*e.baselineY|0,s.width=n,s.height=r,g.fillStyle="#f00",g.fillRect(0,0,n,r),g.font=e._font,g.textBaseline="alphabetic",g.fillStyle="#000",g.fillText(e.testString,0,T),i.left=0,n===0||r===0||!g.getImageData(0,0,n,r))return cb.remove(s),i;for(var o=g.getImageData(0,0,n,r).data,y=!1,d=0;d<n;d++){for(var h=0;h<r;h++){var l=(h*n+d)*4;if(o[l]!==255){i.left=d,y=!0;break}}if(y)break}return cb.remove(s),i};$x();const Dtt=Phaser.GameObjects.GameObject;class cG extends Dtt{setStyle(t){return this.style.setStyle(t)}setFont(t){return this.style.setFont(t)}setFontFamily(t){return this.style.setFontFamily(t)}setFontSize(t){return this.style.setFontSize(t)}setFontStyle(t){return this.style.setFontStyle(t)}setTestString(t){return this.style.setTestString(t)}setFixedSize(t,i){return this.style.setFixedSize(t,i)}setBackgroundColor(t,i,s){return this.style.setBackgroundColor(t,i,s)}setBackgroundStrokeColor(t,i){return this.style.setBackgroundStrokeColor(t,i)}setBackgroundCornerRadius(t,i){return this.style.setBackgroundCornerRadius(t,i)}setFill(t){return this.style.setFill(t)}setColor(t){return this.style.setColor(t)}setStroke(t,i){return this.style.setStroke(t,i)}setShadow(t,i,s,g,E,n){return this.style.setShadow(t,i,s,g,E,n)}setShadowOffset(t,i){return this.style.setShadowOffset(t,i)}setShadowColor(t){return this.style.setShadowColor(t)}setShadowBlur(t){return this.style.setShadowBlur(t)}setShadowStroke(t){return this.style.setShadowStroke(t)}setShadowFill(t){return this.style.setShadowFill(t)}setUnderline(t,i,s){return this.style.setUnderline(t,i,s)}setUnderlineColor(t){return this.style.setUnderlineColor(t)}setUnderlineThickness(t){return this.style.setUnderlineThickness(t)}setUnderlineOffset(t){return this.style.setUnderlineOffset(t)}setStrikethrough(t,i,s){return this.style.setStrikethrough(t,i,s)}setStrikethroughColor(t){return this.style.setStrikethroughColor(t)}setStrikethroughThickness(t){return this.style.setStrikethroughThickness(t)}setStrikethroughOffset(t){return this.style.setStrikethroughOffset(t)}setWrapMode(t){return this.style.setWrapMode(t)}setWrapWidth(t){return this.style.setWrapWidth(t)}setWordWrapWidth(t){return this.style.setWrapWidth(t)}setAlign(t){return this.style.setHAlign(t)}setHAlign(t){return this.style.setHAlign(t)}setVAlign(t){return this.style.setVAlign(t)}get lineSpacing(){return this.style.lineSpacing}set lineSpacing(t){this.style.lineSpacing=t}setLineSpacing(t){return this.style.lineSpacing=t,this.updateText(!0),this}setXOffset(t){return this.style.setXOffset(t)}setMaxLines(t){return this.style.setMaxLines(t)}setResolution(t){return this.style.setResolution(t)}getTextMetrics(){return this.style.getTextMetrics()}setTextMetrics(t,i){return this.style.setTextMetrics(t,i)}measureTextMargins(t,i){return Ltt(this.style,t,i)}}const Vn=Phaser.GameObjects.Components;Phaser.Class.mixin(cG,[Vn.Alpha,Vn.BlendMode,Vn.ComputedSize,Vn.Crop,Vn.Depth,Vn.Flip,Vn.GetBounds,Vn.Mask,Vn.Origin,Vn.Pipeline,Vn.PostPipeline,Vn.ScrollFactor,Vn.Tint,Vn.Transform,Vn.Visible,Ott]);var Ftt={backgroundColor:["backgroundColor",null,Ke],backgroundColor2:["backgroundColor2",null,Ke],backgroundHorizontalGradient:["backgroundHorizontalGradient",!0,null],backgroundStrokeColor:["backgroundStrokeColor",null,Ke],backgroundStrokeLineWidth:["backgroundStrokeLineWidth",2,null],backgroundCornerRadius:["backgroundCornerRadius",0,null],backgroundCornerIteration:["backgroundCornerIteration",null,null],fontFamily:["fontFamily","Courier",null],fontSize:["fontSize","16px",null],fontStyle:["fontStyle","",null],color:["color","#fff",Ke],stroke:["stroke","#fff",Ke],strokeThickness:["strokeThickness",0,null],shadowOffsetX:["shadow.offsetX",0,null],shadowOffsetY:["shadow.offsetY",0,null],shadowColor:["shadow.color","#000",Ke],shadowBlur:["shadow.blur",0,null],shadowStroke:["shadow.stroke",!1,null],shadowFill:["shadow.fill",!1,null],underlineColor:["underline.color","#000",Ke],underlineThickness:["underline.thickness",0,null],underlineOffset:["underline.offset",0,null],strikethroughColor:["strikethrough.color","#000",Ke],strikethroughThickness:["strikethrough.thickness",0,null],strikethroughOffset:["strikethrough.offset",0,null],halign:["halign","left",null],valign:["valign","top",null],maxLines:["maxLines",0,null],fixedWidth:["fixedWidth",0,null],fixedHeight:["fixedHeight",0,null],resolution:["resolution",0,null],lineSpacing:["lineSpacing",0,null],xOffset:["xOffset",0,null],rtl:["rtl",!1,null],testString:["testString","|Mqgy",null],baselineX:["baselineX",1.2,null],baselineY:["baselineY",1.4,null],wrapMode:["wrap.mode",0,null],wrapWidth:["wrap.width",0,null],wrapCallback:["wrap.callback",null],wrapCallbackScope:["wrap.callbackScope",null]};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */const Y0=Phaser.Display.Canvas.CanvasPool;var y3=function(e){var t=Y0.create(this),i=t.getContext("2d",{willReadFrequently:!0});e.syncFont(t,i);var s=i.measureText(e.testString);if("actualBoundingBoxAscent"in s){var g=s.actualBoundingBoxAscent,E=s.actualBoundingBoxDescent,o={ascent:g,descent:E,fontSize:g+E};return Y0.remove(t),o}var n=Math.ceil(s.width*e.baselineX),T=n,r=2*T;T=T*e.baselineY|0,t.width=n,t.height=r,i.fillStyle="#f00",i.fillRect(0,0,n,r),i.font=e._font,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(e.testString,0,T);var o={ascent:0,descent:0,fontSize:0};if(!i.getImageData(0,0,n,r))return o.ascent=T,o.descent=T+6,o.fontSize=o.ascent+o.descent,Y0.remove(t),o;var y=i.getImageData(0,0,n,r).data,d=y.length,h=n*4,l,a,f=0,c=!1;for(l=0;l<T;l++){for(a=0;a<h;a+=4)if(y[f+a]!==255){c=!0;break}if(!c)f+=h;else break}for(o.ascent=T-l,f=d-h,c=!1,l=r;l>T;l--){for(a=0;a<h;a+=4)if(y[f+a]!==255){c=!0;break}if(!c)f-=h;else break}return o.descent=l-T,o.fontSize=o.ascent+o.descent,Y0.remove(t),o},pr={NO_NEWLINE:0,RAW_NEWLINE:1,WRAPPED_NEWLINE:2,NO_WRAP:0,WORD_WRAP:1,CHAR_WRAP:2,MIX_WRAP:3,SPLITREGEXP:/(?:\r\n|\r|\n)/};const gx={none:pr.NO_WRAP,word:pr.WORD_WRAP,char:pr.CHAR_WRAP,character:pr.CHAR_WRAP,mix:pr.MIX_WRAP},Itt=Phaser.Utils.Objects.GetAdvancedValue,Ps=Phaser.Utils.Objects.GetValue;let aM=class{constructor(t,i,s){this.parent=t,s===void 0&&(s=Ftt),this.propertyMap=s,this.backgroundColor,this.backgroundColor2,this.backgroundHorizontalGradient,this.backgroundStrokeColor,this.backgroundStrokeLineWidth,this.backgroundCornerRadius,this.backgroundCornerIteration,this.fontFamily,this.fontSize,this.fontStyle,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.underlineColor,this.underlineThickness,this.underlineOffset,this.strikethroughColor,this.strikethroughThickness,this.strikethroughOffset,this.halign,this.valign,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.xOffset,this.rtl,this.testString,this.baselineX,this.baselineY,this.wrapMode,this.wrapWidth,this.wrapCallback,this.wrapCallbackScope,this._font,this.setStyle(i,!1,!0)}get isWrapFitMode(){return this.fixedWidth>0&&this.wrapMode!==pr.NO_WRAP&&this.wrapWidth===0}setStyle(t,i,s){if(i===void 0&&(i=!0),s===void 0&&(s=!1),t&&t.hasOwnProperty("wordWrap")){var g=t.wordWrap;g.hasOwnProperty("width")&&(t.wrap={mode:"word",width:g.width})}if(t&&t.hasOwnProperty("wrap")){var E=t.wrap;if(E.hasOwnProperty("mode")){var n=E.mode;typeof n=="string"&&(E.mode=gx[n])}else E.hasOwnProperty("width")&&(E.mode=1)}t&&t.rtl&&s&&!t.hasOwnProperty("halign")&&(t.halign="right"),t&&t.hasOwnProperty("fontSize")&&typeof t.fontSize=="number"&&(t.fontSize=t.fontSize.toString()+"px");var T=this.propertyMap;for(var r in T){var o=T[r],y=o[0],d=s?o[1]:this[r],h=o[2];if(r==="wrapCallback"||r==="wrapCallbackScope")this[r]=Ps(t,y,d);else{var l=Itt(t,y,d);h&&(l=h(l)),this[r]=l}}var a=Ps(t,"font",null);a===null?this._font=this.fontStyle+" "+this.fontSize+" "+this.fontFamily:this._font=a;var f=Ps(t,"fill",null);f!==null&&(this.color=Ke(f));var c=Ps(t,"metrics",!1);return c?this.metrics={ascent:Ps(c,"ascent",0),descent:Ps(c,"descent",0),fontSize:Ps(c,"fontSize",0)}:(i||!this.metrics)&&(this.metrics=y3(this)),i?this.parent.updateText():this.parent}syncFont(t,i){i.font=this._font}syncStyle(t,i){i.textBaseline="alphabetic",i.fillStyle=this.color,i.strokeStyle=this.stroke,i.lineWidth=this.strokeThickness,i.lineCap="round",i.lineJoin="round"}syncShadow(t,i){i?(t.shadowOffsetX=this.shadowOffsetX,t.shadowOffsetY=this.shadowOffsetY,t.shadowColor=this.shadowColor,t.shadowBlur=this.shadowBlur):(t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowColor=0,t.shadowBlur=0)}update(t){return t&&(this._font=`${this.fontStyle} ${this.fontSize} ${this.fontFamily}`.trim(),this.metrics=y3(this)),this.parent.updateText(t)}buildFont(){var t=`${this.fontStyle} ${this.fontSize} ${this.fontFamily}`.trim();return t!==this._font&&(this._font=t),this}setFont(t){return typeof t=="string"?(this.fontFamily=t,this.fontSize="",this.fontStyle=""):(this.fontFamily=Ps(t,"fontFamily","Courier"),this.fontSize=Ps(t,"fontSize","16px"),this.fontStyle=Ps(t,"fontStyle","")),this.update(!0)}setFontFamily(t){return this.fontFamily=t,this.update(!0)}setFontStyle(t){return this.fontStyle=t,this.update(!0)}setFontSize(t){return typeof t=="number"&&(t=t.toString()+"px"),this.fontSize=t,this.update(!0)}setTestString(t){return this.testString=t,this.update(!0)}setFixedSize(t,i){return this.fixedWidth=t,this.fixedHeight=i,t&&(this.parent.width=t),i&&(this.parent.height=i),this.update(this.isWrapFitMode)}setResolution(t){return this.resolution=t,this.update(!1)}setXOffset(t){return this.xOffset=t,this.update(!1)}setBackgroundColor(t,i,s){return s===void 0&&(s=!0),this.backgroundColor=Ke(t,this.parent.canvas,this.parent.context),this.backgroundColor2=Ke(i,this.parent.canvas,this.parent.context),this.backgroundHorizontalGradient=s,this.update(!1)}setBackgroundStrokeColor(t,i){return this.backgroundStrokeColor=Ke(t,this.parent.canvas,this.parent.context),this.backgroundStrokeLineWidth=i,this.update(!1)}setBackgroundCornerRadius(t,i){return this.backgroundCornerRadius=t,this.backgroundCornerIteration=i,this.update(!1)}setFill(t){return this.color=Ke(t,this.parent.canvas,this.parent.context),this.update(!1)}setColor(t){return this.color=Ke(t,this.parent.canvas,this.parent.context),this.update(!1)}setStroke(t,i){return t===void 0?this.strokeThickness=0:(i===void 0&&(i=this.strokeThickness),this.stroke=Ke(t,this.parent.canvas,this.parent.context),this.strokeThickness=i),this.update(!0)}setShadow(t,i,s,g,E,n){return t===void 0&&(t=0),i===void 0&&(i=0),s===void 0&&(s="#000"),g===void 0&&(g=0),E===void 0&&(E=!1),n===void 0&&(n=!0),this.shadowOffsetX=t,this.shadowOffsetY=i,this.shadowColor=Ke(s,this.parent.canvas,this.parent.context),this.shadowBlur=g,this.shadowStroke=E,this.shadowFill=n,this.update(!1)}setShadowOffset(t,i){return t===void 0&&(t=0),i===void 0&&(i=t),this.shadowOffsetX=t,this.shadowOffsetY=i,this.update(!1)}setShadowColor(t){return t===void 0&&(t="#000"),this.shadowColor=Ke(t,this.parent.canvas,this.parent.context),this.update(!1)}setShadowBlur(t){return t===void 0&&(t=0),this.shadowBlur=t,this.update(!1)}setShadowStroke(t){return this.shadowStroke=t,this.update(!1)}setShadowFill(t){return this.shadowFill=t,this.update(!1)}setUnderline(t,i,s){return t===void 0&&(t="#000"),i===void 0&&(i=0),s===void 0&&(s=0),this.underlineColor=Ke(t,this.parent.canvas,this.parent.context),this.underlineThickness=i,this.underlineOffset=s,this.update(!1)}setUnderlineColor(t){return t===void 0&&(t="#000"),this.underlineColor=Ke(t,this.parent.canvas,this.parent.context),this.update(!1)}setUnderlineThickness(t){return t===void 0&&(t=0),this.underlineThickness=t,this.update(!1)}setUnderlineOffset(t){return t===void 0&&(t=0),this.underlineOffset=t,this.update(!1)}setStrikethrough(t,i,s){return t===void 0&&(t="#000"),i===void 0&&(i=0),s===void 0&&(s=0),this.strikethroughColor=Ke(t,this.parent.canvas,this.parent.context),this.strikethroughThickness=i,this.strikethroughOffset=s,this.update(!1)}setStrikethroughColor(t){return t===void 0&&(t="#000"),this.strikethroughColor=Ke(t,this.parent.canvas,this.parent.context),this.update(!1)}setStrikethroughThickness(t){return t===void 0&&(t=0),this.strikethroughThickness=t,this.update(!1)}setStrikethroughOffset(t){return t===void 0&&(t=0),this.strikethroughOffset=t,this.update(!1)}setWrapMode(t){return typeof t=="string"&&(t=gx[t.toLowerCase()]||0),this.wrapMode=t,this.update(!0)}setWrapWidth(t){return this.wrapWidth=t,this.update(!1)}setAlign(t,i){return t===void 0&&(t="left"),i===void 0&&(i="top"),this.halign=t,this.valign=i,this.update(!1)}setHAlign(t){return t===void 0&&(t="left"),this.halign=t,this.update(!1)}setVAlign(t){return t===void 0&&(t="top"),this.valign=t,this.update(!1)}setMaxLines(t){return t===void 0&&(t=0),this.maxLines=t,this.update(!1)}getTextMetrics(){var t=this.metrics;return{ascent:t.ascent,descent:t.descent,fontSize:t.fontSize}}setTextMetrics(t,i){return this.metrics.ascent=t.ascent,this.metrics.descent=t.descent,this.metrics.fontSize=t.fontSize,i&&(typeof i=="string"?(this.fontFamily=i,this.fontSize="",this.fontStyle=""):(this.fontFamily=Ps(i,"fontFamily",this.fontFamily),this.fontSize=Ps(i,"fontSize",this.fontSize),this.fontStyle=Ps(i,"fontStyle",this.fontStyle))),this.parent.updateText(!0)}get lineHeight(){return this.metrics.fontSize+this.parent.lineSpacing}toJSON(){var t={},i=this.propertyMap;for(var s in i)t[s]=this[s];return t.metrics=this.getTextMetrics(),t}destroy(){this.parent=void 0}};var Ud=function(e){return e==null?e="":Array.isArray(e)?e=e.join(`
`):typeof e=="number"&&(e=e.toString()),e};const Btt={draw(e,t,i,s){var g=this.penManager;this.hitAreaManager.clear();var E=this.context;E.save();var n=this.defaultStyle;this.clear(),nM(this,n.backgroundColor,n.backgroundStrokeColor,n.backgroundStrokeLineWidth,n.backgroundCornerRadius,n.backgroundColor2,n.backgroundHorizontalGradient,n.backgroundCornerIteration),e+=this.startXOffset,t+=this.startYOffset;var T=n.halign,r=n.valign,o,y=n.lineHeight,d=g.lines,h=d.length,l=n.maxLines,a,f,c;l>0&&h>l?(a=l,r==="center"?f=Math.floor((h-a)/2):r==="bottom"?f=h-a:f=0):(a=h,f=0),c=f+a;var u,v,p=this.rtl,m=p?this.parent.width:void 0;r==="center"?v=Math.max((s-a*y)/2,0):r==="bottom"?v=Math.max(s-a*y-2,0):v=0,v+=t;for(var x=f;x<c;x++)if(o=g.getLineWidth(x),o!==0){for(var C=d[x],P=C.length,w=T,M=0;M<P;M++){var R=C[M].prop.align;if(R!==void 0){w=R;break}}w==="center"?u=(i-o)/2:w==="right"?u=p?0:i-o:u=p?i-o:0,u+=e;for(var M=0;M<P;M++)this.drawPen(C[M],u,v,m)}E.restore()},drawPen(e,t,i,s){t+=e.x,i+=e.y+(e.prop.y||0),s!==void 0&&(t=s-t);var g=this.canvas,E=this.context;E.save();var n=this.parser.propToContextStyle(this.defaultStyle,e.prop);if(n.bgcolor!==null&&e.width>0){var T=this.defaultStyle.metrics,r=i-T.ascent,o=T.fontSize;this.drawRectangle(t,r,e.width,o,n.bgcolor,n)}if(n.underlineThickness>0&&e.width>0){var y=i+n.underlineOffset-n.underlineThickness/2;this.drawLine(t,y,e.width,n.underlineThickness,n.underlineColor,n)}if(e.isTextPen&&(n.buildFont(),n.syncFont(g,E),n.syncStyle(g,E),this.drawText(t,i,e.text,n)),e.isImagePen&&this.drawImage(t,i,e.prop.img,e.prop.color,n),n.strikethroughThickness>0&&e.width>0){var y=i+n.strikethroughOffset-n.strikethroughThickness/2;this.drawLine(t,y,e.width,n.strikethroughThickness,n.strikethroughColor,n)}if(E.restore(),e.hasAreaMarker&&e.width>0){var d,h=e.prop.area;if(h)d={key:h};else{var l=e.prop.url;d={key:`url:${l}`,url:l}}this.hitAreaManager.add(t,i-this.startYOffset,e.width,this.defaultStyle.lineHeight,d)}},clear(){var e=this.canvas;this.context.clearRect(0,0,e.width,e.height)},drawRectangle(e,t,i,s,g,E){this.autoRound&&(e=Math.round(e),t=Math.round(t));var n=this.context;n.fillStyle=g,n.fillRect(e,t,i,s)},drawLine(e,t,i,s,g,E){this.autoRound&&(e=Math.round(e),t=Math.round(t));var n=this.context;E.syncShadow(n,E.shadowStroke);var T=n.lineCap;n.lineCap="butt",n.strokeStyle=g,n.lineWidth=s,n.beginPath(),n.moveTo(e,t),n.lineTo(e+i,t),n.stroke(),n.lineCap=T},drawText(e,t,i,s){this.autoRound&&(e=Math.round(e),t=Math.round(t));var g=this.context;s.stroke&&s.stroke!=="none"&&s.strokeThickness>0&&(s.syncShadow(g,s.shadowStroke),g.strokeText(i,e,t)),s.color&&s.color!=="none"&&(s.syncShadow(g,s.shadowFill),g.fillText(i,e,t))},drawImage(e,t,i,s,g){t-=this.startYOffset,this.parent.imageManager.draw(i,this.context,e,t,s,this.autoRound)}},vu=Phaser.Utils.Objects.GetValue,Gtt=pr.NO_NEWLINE,x3=pr.RAW_NEWLINE;class ktt{constructor(t){this.prop={},this.resetFromJSON(t)}resetFromJSON(t){this.text=vu(t,"text",""),this.x=vu(t,"x",0),this.y=vu(t,"y",0),this.width=vu(t,"width",0);var i=vu(t,"prop",null);i===null&&(i={}),this.prop=i,this.newLineMode=vu(t,"newLineMode",0),this.startIndex=vu(t,"startIndex",0)}get plainText(){var t=this.text;return this.newLineMode===x3&&(t+=`
`),t}get wrapText(){var t=this.text;return this.newLineMode!==Gtt&&(t+=`
`),t}get rawTextLength(){var t=this.text.length;return this.newLineMode===x3&&(t+=1),t}get endIndex(){return this.startIndex+this.rawTextLength}get lastX(){return this.x+this.width}get isTextPen(){return this.text!==""}get isImagePen(){return!!this.prop.img}get hasAreaMarker(){return!!this.prop.area||!!this.prop.url}}var Ga=function(e,t){var i=Array.isArray(e);if(t===void 0?t=i?[]:{}:Sh(t),i){t.length=e.length;for(var s=0,g=e.length;s<g;s++)t[s]=e[s]}else for(var E in e)t[E]=e[E];return t};const T3=Phaser.Utils.Objects.GetFastValue,C3=pr.NO_NEWLINE,Ntt=pr.WRAPPED_NEWLINE;class oM{constructor(t){this.pens=[],this.lines=[],this.maxLinesWidth=void 0,this.pensPool=t.pensPool,this.linesPool=t.linesPool,this.tagToText=T3(t,"tagToText",Vr),this.tagToTextScope=T3(t,"tagToTextScope",void 0)}destroy(){this.clear(),this.tagToText=void 0,this.tagToTextScope=void 0}clear(){for(var t=0,i=this.lines.length;t<i;t++)this.lines[t].length=0;this.pensPool.pushMultiple(this.pens),this.linesPool.pushMultiple(this.lines),this.maxLinesWidth=void 0}addTextPen(t,i,s,g,E,n){var T=this.pensPool.pop();return T==null&&(T=new ktt),pu.text=t,pu.x=i,pu.y=s,pu.width=g,pu.prop=E,pu.newLineMode=n,T.resetFromJSON(pu),this.addPen(T),this}addImagePen(t,i,s,g){return this.addTextPen("",t,i,s,g,C3),this}addNewLinePen(){var t=this.lastPen,i=t?t.lastX:0,s=t?t.y:0,g=t?Ga(t.prop):null;return this.addTextPen("",i,s,0,g,Ntt),this}addPen(t){var i=this.lastPen;i==null?t.startIndex=0:t.startIndex=i.endIndex,this.pens.push(t);var s=this.lastLine;s==null&&(s=this.linesPool.pop()||[],this.lines.push(s)),s.push(t),t.newLineMode!==C3&&(s=this.linesPool.pop()||[],this.lines.push(s)),this.maxLinesWidth=void 0}clone(t){t==null&&(t=new oM),t.clear();for(var i=0,s=this.lines.length;i<s;i++)for(var g=this.lines[i],E=0,n=g.length;E<n;E++){var T=g[E];t.addPen(T.text,T.x,T.y,T.width,Ga(T.prop),T.newLineMode)}return t}get lastPen(){return this.pens[this.pens.length-1]}get lastLine(){return this.lines[this.lines.length-1]}getLineStartIndex(t){if(t>=this.lines.length)return this.getLineEndIndex(t);var i=this.lines[t];return i&&i[0]?i[0].startIndex:0}getLineEndIndex(t){t>=this.lines.length&&(t=this.lines.length-1);var i,s=!1,g;for(i=t;i>=0&&(g=this.lines[i],s=g!=null&&g.length>0,!s);i--);if(!s)return 0;var E=g[g.length-1];return E.endIndex}getLineWidth(t){var i=this.lines[t];if(!i)return 0;var s=i[i.length-1];if(s==null)return 0;var g=s.lastX;return g}getMaxLineWidth(){if(this.maxLinesWidth!==void 0)return this.maxLinesWidth;for(var t,i=0,s=0,g=this.lines.length;s<g;s++)t=this.getLineWidth(s),t>i&&(i=t);return this.maxLinesWidth=i,i}getLineWidths(){for(var t=[],i=0,s=this.lines.length;i<s;i++)t.push(this.getLineWidth(i));return t}get linesCount(){return this.lines.length}get plainText(){for(var t="",i=this.pens,s=0,g=i.length;s<g;s++)t+=i[s].plainText;return t}get rawTextLength(){for(var t=0,i=this.pens,s=0,g=this.pens.length;s<g;s++)t+=i[s].rawTextLength;return t}getSliceTagText(t,i,s){var g=this.lastPen;if(g==null)return"";var E=g.endIndex;(t===void 0||t===0)&&(t=-1),(i===void 0||i===E)&&(i=E+1),s===void 0&&(s=!1);for(var n="",T,r,o,y,d,h,l,a=0,f=this.pens.length;a<f&&(T=this.pens[a],y=T.endIndex,!(!(y<=t)&&(T=this.pens[a],r=s?T.wrapText:T.plainText,h=T.prop,o=T.startIndex,d=o>=t&&y<=i,d||(r=r.substring(t-o,i-o)),this.tagToTextScope?n+=this.tagToText.call(this.tagToTextScope,r,h,l):n+=this.tagToText(r,h,l),l=h,y>=i)));a++);return n}get length(){return this.lines.length}set length(t){this.clear()}}var pu={};const Utt=Phaser.Geom.Rectangle;var S3=new Co;class Vtt{constructor(){this.hitAreas=[]}destroy(){this.clear()}clear(){for(var t=0,i=this.hitAreas.length;t<i;t++)this.hitAreas[t].data=null;return S3.pushMultiple(this.hitAreas),this}add(t,i,s,g,E){E===void 0&&(E={});var n=S3.pop();return n===null?n=new Utt(t,i,s,g):n.setTo(t,i,s,g),n.data=E,this.hitAreas.push(n),this}getFirst(t,i){for(var s=0,g=this.hitAreas.length;s<g;s++){var E=this.hitAreas[s];if(E.contains(t,i))return E}return null}getByKey(t){for(var i=0,s=this.hitAreas.length;i<s;i++){var g=this.hitAreas[i];if(g.data.key===t)return g}return null}drawBounds(t,i,s){i===void 0&&(i=16777215),s&&t.save().scaleCanvas(s.scaleX,s.scaleY).rotateCanvas(s.rotation).translateCanvas(s.x,s.y);for(var g=0,E=this.hitAreas.length;g<E;g++){var n=this.hitAreas[g];t.lineStyle(1,i).strokeRect(n.x,n.y,n.width,n.height)}return s&&t.restore(),this}}var ztt=function(){this.parent.on("pointerdown",Wtt,this).on("pointerup",Ytt,this).on("pointermove",vb,this).on("pointerover",vb,this).on("pointerout",function(e,t){vb.call(this,e,null,null,t)},this)},Wtt=function(e,t,i,s){var g=this.hitAreaManager.getFirst(t,i);if(g!==null){var E=g.data.key;Vd.call(this,"areadown",E,e,t,i,s),g.data&&(g.data.isDown=!0)}},Ytt=function(e,t,i,s){var g=this.hitAreaManager.getFirst(t,i);if(g!==null){var E=g.data.key;if(Vd.call(this,"areaup",E,e,t,i,s),!!g.data){if(g.data.isDown){if(Vd.call(this,"areaclick",E,e,t,i,s),!g.data)return;var n=g.data.url;n&&window.open(n,"_blank")}g.data.isDown=!1}}},vb=function(e,t,i,s){if(t===null){if(this.lastHitAreaKey!==null){Vd.call(this,"areaout",this.lastHitAreaKey,e,t,i,s);var g=this.hitAreaManager.getByKey(this.lastHitAreaKey);g&&g.data&&(g.data.isDown=!1),this.lastHitAreaKey=null}return}var g=this.hitAreaManager.getFirst(t,i),E=g?g.data.key:null;if(this.lastHitAreaKey!==E){if(this.lastHitAreaKey!==null){Vd.call(this,"areaout",this.lastHitAreaKey,e,t,i,s);var n=this.hitAreaManager.getByKey(this.lastHitAreaKey);n&&(this.urlTagCursorStyle&&E3(this.scene,n,""),n.data.isDown=!1)}E!==null&&(Vd.call(this,"areaover",E,e,t,i,s),g.data&&this.urlTagCursorStyle&&E3(this.scene,g,this.urlTagCursorStyle)),this.lastHitAreaKey=E}},Vd=function(e,t,i,s,g,E){this.parent.emit(`${e}-${t}`,i,s,g,E),this.parent.emit(e,t,i,s,g,E)},E3=function(e,t,i){!t||!t.data||!t.data.url||(e.input.manager.canvas.style.cursor=i)},Xtt=/^[\x00-\x7F]+$/,Rp=function(e){return Xtt.test(e)};const Htt=pr.NO_NEWLINE,$tt=pr.RAW_NEWLINE,pb=pr.WRAPPED_NEWLINE,b3=pr.NO_WRAP,Ktt=pr.WORD_WRAP,vG=pr.CHAR_WRAP,Jtt=pr.SPLITREGEXP;var pG=function(e,t,i,s,g,E){s<=0&&(i=b3);var n=[];if(!e||!e.length)return n;for(var T=i===b3,r=e.split(Jtt),o,y,d,h=0,l=r.length;h<l;h++){if(o=r[h],d=h===l-1?Htt:$tt,T){var a=t.measureText(o).width;n.push(E.getLine(o,a,d));continue}if(y=h===0?s-g:s,o.length<=100){var a=t.measureText(o).width;if(a<=y){n.push(E.getLine(o,a,d));continue}}for(var f=Ztt(o,i),c,u,v="",p=0,m,x=0,C=f.length;x<C;x++){if(c=f[x],u=t.measureText(c).width,u>s&&jtt(c)){v!==""?n.push(E.getLine(v,p,pb)):x===0&&g>0&&n.push(E.getLine("",0,pb)),n.push(...pG(c,t,vG,s,0,E));var P=n.pop();v=P.text,p=P.width,E.freeLine(P),v===" "&&(v="",p=0);continue}m=p+u,m>y?(n.push(E.getLine(v,p,pb)),v=c,p=u,y=s):(v+=c,p=m),x===C-1&&n.push(E.getLine(v,p,d))}}return n},Ztt=function(e,t){var i;switch(t){case Ktt:i=[],e=e.split(" ");for(var s=0,g=e.length;s<g;s++){var E=e[s];s<g-1?i.push(E+" "):E!==""&&i.push(E)}break;case vG:i=e.split("");break;default:i=[],e=e.split(" ");for(var s=0,g=e.length;s<g;s++){var E=e[s];s<g-1?Rp(E)?i.push(E+" "):(i.push(...E.split("")),i.push(" ")):E!==""&&(Rp(E)?i.push(E):i.push(...E.split("")))}break}return i},jtt=function(e){switch(e.length){case 1:return!1;case 2:return e.charAt(1)!==" ";default:return!0}};const gb=Phaser.Utils.Objects.GetValue,Qtt=pr.NO_WRAP,P3=pr.NO_NEWLINE,qtt=pr.WRAPPED_NEWLINE;class gG{constructor(t){this.parent=t.parent,this.scene=this.parent.scene,this.context=gb(t,"context",null),this.canvas=this.context.canvas,this.parser=gb(t,"parser",null),this.defaultStyle=gb(t,"style",null),this.autoRound=!0,this.pensPool=t.pensPool,this.linesPool=t.linesPool,this.wrapTextLinesPool=t.wrapTextLinesPool,this.penManager=this.newPenManager(),this._tmpPenManager=null,this.hitAreaManager=new Vtt,this.lastHitAreaKey=null,this.urlTagCursorStyle=null}destroy(){this.parent=void 0,this.scene=void 0,this.context=void 0,this.canvas=void 0,this.parser=void 0,this.defaultStyle=void 0,this.penManager&&(this.penManager.destroy(),this.penManager=void 0),this._tmpPenManager&&(this._tmpPenManager.destroy(),this._tmpPenManager=void 0),this.hitAreaManager&&(this.hitAreaManager.destroy(),this.hitAreaManager=void 0),this.pensPool=void 0,this.linesPool=void 0,this.wrapTextLinesPool=void 0}updatePenManager(t,i,s,g,E){if(E===void 0&&(E=this.penManager),E.clear(),t==="")return E;var n=this.parent.style;if(n.isWrapFitMode){var T=this.parent.padding;s=n.fixedWidth-T.left-T.right}for(var r=this.canvas,o=this.context,y=0,d=0,h=n.wrapCallback,l=n.wrapCallbackScope,a=!0,f,c,u,v=this.parser.splitText(t),p,m,x=this.wrapTextLinesPool,C=0,P=v.length;C<P;C++)if(p=this.parser.tagTextToProp(v[C],c),f=p.plainText,c=p.prop,c.img){var w=this.imageManager.getOuterWidth(c.img);s>0&&i!==Qtt&&s<y+w&&(E.addNewLinePen(),d+=g,y=0),E.addImagePen(y,d,w,Ga(c)),y+=w}else if(f!==""){if(o.save(),u=this.parser.propToContextStyle(this.defaultStyle,c),u.buildFont(),u.syncFont(r,o),u.syncStyle(r,o),!h)m=pG(f,o,i,s,y,x);else{m=h.call(l,f,o,s,y),typeof m=="string"&&(m=m.split(`
`));for(var A,M=0,R=m.length;M<R;M++)A=m[M],typeof A=="string"?m[M]=x.getLine(A,o.measureText(A).width,M<R-1?qtt:P3):a=!1}for(var A,M=0,R=m.length;M<R;M++)A=m[M],E.addTextPen(A.text,y,d,A.width,Ga(c),A.newLineMode),A.newLineMode!==P3?(y=0,d+=g):y+=A.width;a&&x.freeLines(m),m=null,o.restore()}for(var C=0,P=this.lines.length;C<P;C++){var L=this.lines[C],F=L[L.length-1];F&&(F.width+=this.parser.getStrokeThinkness(this.defaultStyle,F.prop))}return E}get startXOffset(){return this.defaultStyle.xOffset}get startYOffset(){return this.defaultStyle.metrics.ascent}get lines(){return this.penManager.lines}get displayLinesCount(){var t=this.penManager.linesCount,i=this.defaultStyle.maxLines;return i>0&&t>i&&(t=i),t}get linesWidth(){return Math.ceil(this.penManager.getMaxLineWidth())}get linesHeight(){var t=this.displayLinesCount,i=this.defaultStyle.lineHeight*t;return t>0&&(i-=this.defaultStyle.lineSpacing),i}get imageManager(){return this.parent.imageManager}get rtl(){return this.parent.style.rtl}newPenManager(){return new oM({pensPool:this.pensPool,linesPool:this.linesPool,tagToText:this.parser.propToTagText,tagToTextScope:this.parser})}get tmpPenManager(){return this._tmpPenManager===null&&(this._tmpPenManager=this.newPenManager()),this._tmpPenManager}getPlainText(t,i,s){var g;if(t==null)g=this.penManager.plainText;else{var E=this.parser.splitText(t,1);g="";for(var n=0,T=E.length;n<T;n++)g+=E[n]}return(i!=null||s!=null)&&(i==null&&(i=0),s==null&&(s=g.length),g=g.substring(i,s)),g}getPenManager(t,i){if(t===void 0)return this.copyPenManager(i,this.penManager);i===void 0&&(i=this.newPenManager());var s=this.defaultStyle;return this.updatePenManager(t,s.wrapMode,s.wrapWidth,s.lineHeight,i),i}getText(t,i,s,g){if(t==null)return this.penManager.getSliceTagText(i,s,g);var E=this.tmpPenManager,n=this.defaultStyle;return this.updatePenManager(t,n.wrapMode,n.wrapWidth,n.lineHeight,E),E.getSliceTagText(i,s,g)}copyPenManager(t,i){return i===void 0&&(i=this.penManager),i.copy(t)}getTextWidth(t){return t===void 0&&(t=this.penManager),t.getMaxLineWidth()}getLastPen(t){return t===void 0&&(t=this.penManager),t.lastPen}}var _tt={setInteractive:ztt};Object.assign(gG.prototype,Btt,_tt);class w3 extends Co{freeLine(t){if(t)return this.push(t),this}freeLines(t){if(t)return this.pushMultiple(t),this}getLine(t,i,s){var g=this.pop();return g===null&&(g={}),g.text=t,g.width=i,g.newLineMode=s,g}}const tet=Phaser.Utils.Objects.IsPlainObject,nd=Phaser.Utils.Objects.GetValue;var mb=function(e,t){tet(e)?(t=e,e=t.key):t===void 0&&(t={key:e}),t.hasOwnProperty("key")||(t.key=e);var i=t.key,s=t.frame,g=t.width,E=t.height;if(g===void 0||E===void 0){var n=this.textureManager.getFrame(i,s),T=n?n.cutWidth:0,r=n?n.cutHeight:0;g===void 0&&E===void 0?(g=T,E=r):g===void 0?g=T*(E/r):E===void 0&&(E=r*(g/T))}this.images[e]={key:i,frame:s,width:g,height:E,y:nd(t,"y",0),left:nd(t,"left",0),right:nd(t,"right",0),originX:nd(t,"originX",0),originY:nd(t,"originY",0),tintFill:nd(t,"tintFill",!1)}};const M3=Phaser.Display.Canvas.CanvasPool;var mG=function(e,t,i,s,g,E,n,T){i===void 0&&(i=0),s===void 0&&(s=0),g===void 0&&(g=e.cutWidth),E===void 0&&(E=e.cutHeight),T===void 0&&(T=!1),T&&(i=Math.round(i),s=Math.round(s));var r=t.getContext("2d",{willReadFrequently:!0});if(n){var o=M3.create(null,g,E,Phaser.CANVAS,!0),y=o.getContext("2d",{willReadFrequently:!0});y.drawImage(e.source.image,e.cutX,e.cutY,e.cutWidth,e.cutHeight,0,0,g,E),y.globalCompositeOperation="source-in",y.fillStyle=n,y.fillRect(0,0,g,E),r.drawImage(o,0,0,g,E,i,s,g,E),M3.remove(o)}else r.drawImage(e.source.image,e.cutX,e.cutY,e.cutWidth,e.cutHeight,i,s,g,E)},eet=function(e,t,i,s,g,E){var n=this.get(e);if(n){var T=this.textureManager.getFrame(n.key,n.frame),r=n.width,o=n.height;i+=n.left-n.originX*r,s+=n.y-n.originY*o,n.tintFill||(g=void 0),mG(T,t.canvas,i,s,r,o,g,E)}};class lM{constructor(t){this.textureManager=t.sys.textures,this.images={}}destroy(){this.textureManager=void 0,this.images=void 0}add(t,i){if(typeof t=="string")mb.call(this,t,i);else if(Array.isArray(t))for(var s=t,g=0,E=s.length;g<E;g++)mb.call(this,s[g]);else{var s=t;for(var t in s)mb.call(this,t,s[t])}return this}has(t){return this.images.hasOwnProperty(t)}remove(t){return this.has(t)&&delete this.images[t],this}get(t){return this.has(t)||this.textureManager.exists(t)&&this.add(t),this.images[t]}getOuterWidth(t){var i=this.get(t);return i?i.width+i.left+i.right:0}getFrame(t){var i=this.get(t);return i?this.textureManager.getFrame(i.key,i.frame):void 0}hasTexture(t){return!!this.getFrame(t)}}var iet={draw:eet};Object.assign(lM.prototype,iet);var yG=function(e,t){!e&&e!==0&&(e=""),t===void 0&&(t=!0),Array.isArray(e)&&(e=e.join(`
`));var i;return t?i=`${this.text}
${e}`:i=`${this.text}${e}`,i!=this.text&&this.setText(i),this};const ret=Phaser.Utils.Objects.IsPlainObject,R3=Phaser.DOM.AddToDOM,A3=Phaser.Display.Canvas.CanvasPool,net=Phaser.GameObjects.GameObject,is=Phaser.Utils.Objects.GetValue,set=Phaser.DOM.RemoveFromDOM,aet=pr.SPLITREGEXP,oet=Phaser.Utils.String.UUID;var sd=null,yb=null,xb=null;class hM extends cG{constructor(t,i,s,g,E,n,T){if(ret(i)){var r=i;i=is(r,"x",0),s=is(r,"y",0),g=is(r,"text",""),E=is(r,"style")}if(i===void 0&&(i=0),s===void 0&&(s=0),super(t,n),this.renderer=t.sys.game.renderer,this.setPosition(i,s),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(!0),this.canvas=A3.create(this),this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this._imageManager=void 0,E){if(E.hasOwnProperty("align")){var o=E.align;delete E.align,E.halign=o}E.hasOwnProperty("stroke")&&!E.hasOwnProperty("strokeThickness")&&(E.strokeThickness=1)}this.style=new aM(this,E);var y=is(E,"images",void 0);y&&this.addImage(y),this.autoRound=!0,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.dirty=!1,this.style.resolution===0&&(this.style.resolution=1),this._crop=this.resetCropObject(),this._textureKey=oet(),this.texture=t.sys.textures.addCanvas(this._textureKey,this.canvas),this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null);var d=is(E,"sharedPool",!0),h,l,a;d?(sd||(sd={},yb=new Co,xb=new w3,this.scene.game.events.once("destroy",function(){sd=null,yb=null,xb=null})),sd.hasOwnProperty(n)||(sd[n]=new Co),h=sd[n],l=yb,a=xb):(h=new Co,l=new Co,a=new w3),this.canvasText=new gG({parent:this,context:this.context,parser:T,style:this.style,pensPool:h,linesPool:l,wrapTextLinesPool:a}),this.parser=T,this.initRTL(),E&&E.padding&&this.setPadding(E.padding),this.setText(g),this.setUrlTagCursorStyle(is(E,"urlTagCursorStyle","pointer")),is(E,"interactive",!1)&&this.setInteractive()}preDestroy(){set(this.canvas),this.canvasText.destroy(),this.canvasText=void 0,this._imageManager&&(this._imageManager.destroy(),this._imageManager=void 0),A3.remove(this.canvas);var t=this.texture;t&&t.destroy()}set text(t){this.setText(t)}get text(){return this._text}initRTL(){this.style.rtl&&(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",R3(this.canvas,this.scene.sys.canvas),this.originX=1)}setRTL(t){t===void 0&&(t=!0);var i=this.style;if(i.rtl===t)return this;if(i.rtl=t,t?(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",R3(this.canvas,this.scene.sys.canvas)):(this.canvas.dir="ltr",this.context.direction="ltr"),i.halign==="left"?i.halign="right":i.halign==="right"&&(i.halign="left"),this._imageManager){var s=this._imageManager.images;for(var g in s)s[g].originX=1-s[g].originX}return this}setText(t){return t=Ud(t),t===this._text?this:(this._text=t,this.updateText(),this)}setPadding(t,i,s,g){if(typeof t=="object"){var E=t,n=is(E,"x",null);n!==null?(t=n,s=n):(t=is(E,"left",0),s=is(E,"right",t));var T=is(E,"y",null);T!==null?(i=T,g=T):(i=is(E,"top",0),g=is(E,"bottom",i))}else t===void 0&&(t=0),i===void 0&&(i=t),s===void 0&&(s=t),g===void 0&&(g=i);return this.padding.left=t,this.padding.top=i,this.padding.right=s,this.padding.bottom=g,this.updateText(!1)}updateText(t){t===void 0&&(t=!0);var i=this.canvasText,s=this.style;t&&i.updatePenManager(this._text,s.wrapMode,s.wrapWidth,s.lineHeight);var g=this.padding,E,n,T=Math.ceil(i.linesWidth);s.fixedWidth===0?(this.width=T+g.left+g.right,E=T):(this.width=s.fixedWidth,E=this.width-g.left-g.right,E<T&&(E=T)),s.fixedHeight===0?(this.height=i.linesHeight+g.top+g.bottom,n=i.linesHeight):(this.height=s.fixedHeight,n=this.height-g.top-g.bottom,n<i.linesHeight&&(n=i.linesHeight));var r=this.width,o=this.height;this.updateDisplayOrigin();var y=s.resolution;r*=y,o*=y,r=Math.max(Math.ceil(r),1),o=Math.max(Math.ceil(o),1);var d=this.canvas,h=this.context;d.width!==r||d.height!==o?(d.width=r,d.height=o,this.frame.setSize(r,o)):h.clearRect(0,0,r,o),h.save(),h.scale(y,y);var l=this.style.rtl?g.right:g.left,a=g.top;i.draw(l,a,E,n),h.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(d,this.frame.source.glTexture,!0),this.frame.glTexture.spectorMetadata={textureKey:"BBCodeText Game Object"}),this.dirty=!0;var f=this.input;return f&&!f.customHitArea&&(f.hitArea.width=this.width,f.hitArea.height=this.height),this}toJSON(){var t=Components.ToJSON(this),i={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),resolution:this.resolution,padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return t.data=i,t}setInteractive(t,i,s){var g=!!this.input;return net.prototype.setInteractive.call(this,t,i,s),g||this.canvasText.setInteractive(),this}setUrlTagCursorStyle(t){return this.urlTagCursorStyle=t,this}get urlTagCursorStyle(){return this.canvasText.urlTagCursorStyle}set urlTagCursorStyle(t){this.canvasText.urlTagCursorStyle=t}getWrappedText(t,i,s){return typeof t=="number"&&(s=i,i=t,t=void 0),t=this.canvasText.getText(t,i,s,!0),t.split(aet)}getPlainText(t,i,s){return typeof t=="number"&&(s=i,i=t,t=void 0),this.canvasText.getPlainText(t,i,s)}getText(t,i,s,g){return typeof t=="number"&&(g=s,s=i,i=t,t=void 0),g===void 0&&(g=!1),this.canvasText.getText(t,i,s,g)}getSubString(t,i,s){return typeof t=="number"&&(s=i,i=t,t=void 0),this.getText(t,i,s)}copyPenManager(t){return this.canvasText.copyPenManager(t)}getPenManager(t,i){return this.canvasText.getPenManager(t,i)}setSize(t,i){return this.setFixedSize(t,i)}resize(t,i){return this.setFixedSize(t,i)}get imageManager(){return this._imageManager||(this._imageManager=new lM(this.scene)),this._imageManager}addImage(t,i){return this.imageManager.add(t,i),this}drawAreaBounds(t,i){return this.canvasText.hitAreaManager.drawBounds(t,i,this),this}generateTexture(t,i,s,g,E){var n=this.canvas;return g===void 0?g=n.width:g*=this.resolution,E===void 0?E=n.height:E*=this.resolution,uG(this.scene,n,t,i,s,g,E),this}}var het={appendText:yG};Object.assign(hM.prototype,het);var uet=function(e,t){for(var i=this.tagRegex,s=[],g=0,E=!1,n=!1;;){var T=i.RE_SPLITTEXT.exec(e);if(!T)break;var r=T[0];if(n)if(i.RE_ESC_CLOSE.test(r))n=!1;else continue;else if(E)if(i.RE_RAW_CLOSE.test(r))E=!1;else continue;else i.RE_ESC_OPEN.test(r)?n=!0:i.RE_RAW_OPEN.test(r)&&(E=!0);var o=i.RE_SPLITTEXT.lastIndex,y=o-r.length;if(g<y){var d=e.substring(g,y);s.push(d)}t===void 0&&s.push(r),g=o}var h=e.length;return g<h&&s.push(e.substring(g,h)),s};const nr=!1,Ji=!0;var fet={plainText:null,prevProp:null},det=function(e,t){var i=this.tagRegex;t==null&&(t={});var s="";if(t.img&&$e(t,nr,"img"),t.esc)i.RE_ESC_CLOSE.test(e)?$e(t,nr,"esc"):s=e;else if(t.raw)i.RE_RAW_CLOSE.test(e)?$e(t,nr,"raw"):s=e;else if(i.RE_ESC_OPEN.test(e))$e(t,Ji,"esc",!0);else if(i.RE_ESC_CLOSE.test(e))$e(t,nr,"esc");else if(i.RE_RAW_OPEN.test(e))$e(t,Ji,"raw",!0);else if(i.RE_RAW_CLOSE.test(e))$e(t,nr,"raw");else if(i.RE_BLOD_OPEN.test(e))$e(t,Ji,"b",!0);else if(i.RE_BLOD_CLOSE.test(e))$e(t,nr,"b");else if(i.RE_ITALICS_OPEN.test(e))$e(t,Ji,"i",!0);else if(i.RE_ITALICS_CLOSE.test(e))$e(t,nr,"i");else if(i.RE_WEIGHT_OPEN.test(e)){var g=e.match(i.RE_WEIGHT_OPEN);$e(t,Ji,"weight",g[1])}else if(i.RE_WEIGHT_CLOSE.test(e))$e(t,nr,"weight");else if(i.RE_SIZE_OPEN.test(e)){var g=e.match(i.RE_SIZE_OPEN);$e(t,Ji,"size",`${g[1]}px`)}else if(i.RE_SIZE_CLOSE.test(e))$e(t,nr,"size");else if(i.RE_FAMILY_OPEN.test(e)){var g=e.match(i.RE_FAMILY_OPEN);$e(t,Ji,"family",g[1])}else if(i.RE_FAMILY_CLOSE.test(e))$e(t,nr,"family");else if(i.RE_COLOR_OPEN.test(e)){var g=e.match(i.RE_COLOR_OPEN);$e(t,Ji,"color",g[1])}else if(i.RE_COLOR_CLOSE.test(e))$e(t,nr,"color");else if(i.RE_UNDERLINE_OPEN.test(e))$e(t,Ji,"u",!0);else if(i.RE_UNDERLINE_OPENC.test(e)){var g=e.match(i.RE_UNDERLINE_OPENC);$e(t,Ji,"u",g[1])}else if(i.RE_UNDERLINE_CLOSE.test(e))$e(t,nr,"u");else if(i.RE_STRIKETHROUGH_OPEN.test(e))$e(t,Ji,"s",!0);else if(i.RE_STRIKETHROUGH_OPENC.test(e)){var g=e.match(i.RE_STRIKETHROUGH_OPENC);$e(t,Ji,"s",g[1])}else if(i.RE_STRIKETHROUGH_CLOSE.test(e))$e(t,nr,"s");else if(i.RE_SHADOW_OPEN.test(e))$e(t,Ji,"shadow",!0);else if(i.RE_SHADOW_OPENC.test(e)){var g=e.match(i.RE_SHADOW_OPENC);$e(t,Ji,"shadow",g[1])}else if(i.RE_SHADOW_CLOSE.test(e))$e(t,nr,"shadow");else if(i.RE_STROKE_OPEN.test(e))$e(t,Ji,"stroke",!0);else if(i.RE_STROKE_OPENC.test(e)){var g=e.match(i.RE_STROKE_OPENC);$e(t,Ji,"stroke",g[1])}else if(i.RE_STROKE_CLOSE.test(e))$e(t,nr,"stroke");else if(i.RE_BGCOLOR_OPEN.test(e)){var g=e.match(i.RE_BGCOLOR_OPEN);$e(t,Ji,"bgcolor",g[1])}else if(i.RE_BGCOLOR_CLOSE.test(e))$e(t,nr,"bgcolor");else if(i.RE_OFFSETY_OPEN.test(e)){var g=e.match(i.RE_OFFSETY_OPEN);$e(t,Ji,"y",parseFloat(g[1]))}else if(i.RE_OFFSETY_CLOSE.test(e))$e(t,nr,"y");else if(i.RE_IMAGE_OPEN.test(e)){var g=e.match(i.RE_IMAGE_OPEN);$e(t,Ji,"img",g[1])}else if(i.RE_IMAGE_CLOSE.test(e))$e(t,nr,"img");else if(i.RE_AREA_OPEN.test(e)){var g=e.match(i.RE_AREA_OPEN);$e(t,Ji,"area",g[1])}else if(i.RE_AREA_CLOSE.test(e))$e(t,nr,"area");else if(i.RE_URL_OPEN.test(e)){var g=e.match(i.RE_URL_OPEN);$e(t,Ji,"url",g[1])}else if(i.RE_URL_CLOSE.test(e))$e(t,nr,"url");else if(i.RE_ALIGN_OPEN.test(e)){var g=e.match(i.RE_ALIGN_OPEN);$e(t,Ji,"align",g[1])}else if(i.RE_ALIGN_CLOSE.test(e))$e(t,nr,"align");else if(i.RE_ID_OPEN.test(e)){var g=e.match(i.RE_ID_OPEN);$e(t,Ji,"id",g[1])}else i.RE_ID_CLOSE.test(e)?$e(t,nr,"id"):s=e;var E=fet;return E.plainText=s,E.prop=t,E},$e=function(e,t,i,s){return t===Ji?e[i]=s:e.hasOwnProperty(i)&&delete e[i],e},cet=function(e,t){var i=pet;if(t.hasOwnProperty("img"))i.image=t.img;else{if(i.image=null,t.hasOwnProperty("family")?i.fontFamily=t.family:i.fontFamily=e.fontFamily,t.hasOwnProperty("size")){var s=t.size;typeof s=="number"&&(s=`${s}px`),i.fontSize=s}else i.fontSize=e.fontSize;i.fontStyle=vet(t),t.hasOwnProperty("color")?i.color=t.color:i.color=e.color,t.hasOwnProperty("stroke")?t.stroke===!0?(i.stroke=e.stroke,i.strokeThickness=e.strokeThickness):(i.stroke=t.stroke,i.strokeThickness=e.strokeThickness):(i.stroke=e.stroke,i.strokeThickness=0)}return t.hasOwnProperty("shadow")?t.shadow===!0?(i.shadowColor=e.shadowColor,i.shadowOffsetX=e.shadowOffsetX,i.shadowOffsetY=e.shadowOffsetY,i.shadowBlur=e.shadowBlur,i.shadowStroke=!0,i.shadowFill=!0):(i.shadowColor=t.shadow,i.shadowOffsetX=e.shadowOffsetX,i.shadowOffsetY=e.shadowOffsetY,i.shadowBlur=e.shadowBlur,i.shadowStroke=!0,i.shadowFill=!0):(i.shadowColor="#000",i.shadowOffsetX=0,i.shadowOffsetY=0,i.shadowBlur=0,i.shadowStroke=!1,i.shadowFill=!1),t.hasOwnProperty("u")?t.u===!0?(i.underlineColor=e.underlineColor,i.underlineThickness=e.underlineThickness,i.underlineOffset=e.underlineOffset):(i.underlineColor=t.u,i.underlineThickness=e.underlineThickness,i.underlineOffset=e.underlineOffset):(i.underlineColor="#000",i.underlineThickness=0,i.underlineOffset=0),t.hasOwnProperty("s")?t.s===!0?(i.strikethroughColor=e.strikethroughColor,i.strikethroughThickness=e.strikethroughThickness,i.strikethroughOffset=e.strikethroughOffset):(i.strikethroughColor=t.s,i.strikethroughThickness=e.strikethroughThickness,i.strikethroughOffset=e.strikethroughOffset):(i.strikethroughColor="#000",i.strikethroughThickness=0,i.strikethroughOffset=0),t.hasOwnProperty("bgcolor")?i.bgcolor=t.bgcolor:i.bgcolor=null,i},vet=function(e){var t=e.b,i=e.weight,s=e.i;return t||i||s?s?t?"bold italic":i?`${i} italic`:"italic":t?"bold":i.toString():""},pet=new aM,get=function(e,t,i){i==null&&(i=met);var s=this.delimiters[0],g=this.delimiters[1],E=[];for(var n in i)t.hasOwnProperty(n)||E.push(`${s}/${n}${g}`);for(var n in t){var T=t[n];if(n!=="img"){if(i[n]===T)continue}switch(n){case"size":E.push(`${s}size=${T.replace("px","")}${g}`);break;case"color":case"weight":case"family":case"stroke":case"bgcolor":case"y":case"img":case"area":case"url":case"align":case"id":E.push(`${s}${n}=${T}${g}`);break;case"u":case"s":T===!0?E.push(`${s}${n}${g}`):E.push(`${s}${n}=${T}${g}`);break;default:E.push(`${s}${n}${g}`);break}}return E.push(e),E.join("")},met={},Xd=function(e){return e.replace(yet,"\\$&").replace(xet,"\\x2d")},yet=/[|\\{}()[\]^$+*?.]/g,xet=/-/g,O3,L3,Je={},qi=function(e,t,i,s){return s===void 0?`${e}${i}${t}`:`${e}${i}=(${s})${t}`},kr=function(e,t,i){return`${e}/${i}${t}`},Tet=function(e){return`[^${e}]+`},Tb="[-.0-9]+",Cet=["[a-zA-Z]+","#[0-9abcdef]+","rgba?\\(s*[.0-9]+s*(,s*[.0-9]+s*){2,3}\\)"],ad=Cet.join("|"),xG=function(e,t){if(t===void 0){var i=e;e=i[0],t=i[1]}if(O3===e&&L3===t)return!1;O3=e,L3=t,e=Xd(e),t=Xd(t);var s=Tet(t),g="esc",E=qi(e,t,g),n=kr(e,t,g),T="raw",r=qi(e,t,T),o=kr(e,t,T),y="b",d=qi(e,t,y),h=kr(e,t,y),l="i",a=qi(e,t,l),f=kr(e,t,l),c="weight",u=qi(e,t,c,Tb),v=kr(e,t,c),p="size",m=qi(e,t,p,Tb),x=kr(e,t,p),C="family",P=qi(e,t,C,s),w=kr(e,t,C),M="color",R=qi(e,t,M,ad),A=kr(e,t,M),L="u",F=qi(e,t,L),G=qi(e,t,L,ad),I=kr(e,t,L),B="s",k=qi(e,t,B),U=qi(e,t,B,ad),H=kr(e,t,B),X="shadow",j=qi(e,t,X),Z=qi(e,t,X,ad),Y=kr(e,t,X),$="stroke",z=qi(e,t,$),V=qi(e,t,$,ad),K=kr(e,t,$),Q="bgcolor",_=qi(e,t,Q,ad),tt=kr(e,t,Q),rt="y",ot=qi(e,t,rt,Tb),ft=kr(e,t,rt),ct="img",gt=qi(e,t,ct,s),xt=kr(e,t,ct),Mt="area",St=qi(e,t,Mt,s),$t=kr(e,t,Mt),Yt="url",Ht=qi(e,t,Yt,s),Ct=kr(e,t,Yt),Nt="align",Vt=qi(e,t,Nt,s),qt=kr(e,t,Nt),Ce="id",ze=qi(e,t,Ce,s),ye=kr(e,t,Ce);return Je.RE_ESC_OPEN=new RegExp(E,"i"),Je.RE_ESC_CLOSE=new RegExp(n,"i"),Je.RE_RAW_OPEN=new RegExp(r,"i"),Je.RE_RAW_CLOSE=new RegExp(o,"i"),Je.RE_BLOD_OPEN=new RegExp(d,"i"),Je.RE_BLOD_CLOSE=new RegExp(h,"i"),Je.RE_ITALICS_OPEN=new RegExp(a,"i"),Je.RE_ITALICS_CLOSE=new RegExp(f,"i"),Je.RE_WEIGHT_OPEN=new RegExp(u,"i"),Je.RE_WEIGHT_CLOSE=new RegExp(v,"i"),Je.RE_SIZE_OPEN=new RegExp(m,"i"),Je.RE_SIZE_CLOSE=new RegExp(x,"i"),Je.RE_FAMILY_OPEN=new RegExp(P,"i"),Je.RE_FAMILY_CLOSE=new RegExp(w,"i"),Je.RE_COLOR_OPEN=new RegExp(R,"i"),Je.RE_COLOR_CLOSE=new RegExp(A,"i"),Je.RE_UNDERLINE_OPEN=new RegExp(F,"i"),Je.RE_UNDERLINE_OPENC=new RegExp(G,"i"),Je.RE_UNDERLINE_CLOSE=new RegExp(I,"i"),Je.RE_STRIKETHROUGH_OPEN=new RegExp(k,"i"),Je.RE_STRIKETHROUGH_OPENC=new RegExp(U,"i"),Je.RE_STRIKETHROUGH_CLOSE=new RegExp(H,"i"),Je.RE_SHADOW_OPEN=new RegExp(j,"i"),Je.RE_SHADOW_OPENC=new RegExp(Z,"i"),Je.RE_SHADOW_CLOSE=new RegExp(Y,"i"),Je.RE_STROKE_OPEN=new RegExp(z,"i"),Je.RE_STROKE_OPENC=new RegExp(V,"i"),Je.RE_STROKE_CLOSE=new RegExp(K,"i"),Je.RE_BGCOLOR_OPEN=new RegExp(_,"i"),Je.RE_BGCOLOR_CLOSE=new RegExp(tt,"i"),Je.RE_OFFSETY_OPEN=new RegExp(ot,"i"),Je.RE_OFFSETY_CLOSE=new RegExp(ft,"i"),Je.RE_IMAGE_OPEN=new RegExp(gt,"i"),Je.RE_IMAGE_CLOSE=new RegExp(xt,"i"),Je.RE_AREA_OPEN=new RegExp(St,"i"),Je.RE_AREA_CLOSE=new RegExp($t,"i"),Je.RE_URL_OPEN=new RegExp(Ht,"i"),Je.RE_URL_CLOSE=new RegExp(Ct,"i"),Je.RE_ALIGN_OPEN=new RegExp(Vt,"i"),Je.RE_ALIGN_CLOSE=new RegExp(qt,"i"),Je.RE_ID_OPEN=new RegExp(ze,"i"),Je.RE_ID_CLOSE=new RegExp(ye,"i"),Je.RE_SPLITTEXT=new RegExp([r,o,E,n,d,h,a,f,u,v,m,x,P,w,R,A,F,G,I,k,U,H,j,Z,Y,z,V,K,_,tt,ot,ft,gt,xt,St,$t,Ht,Ct,Vt,qt,ze,ye].join("|"),"ig"),!0},D3=function(e,t){return e!==void 0&&xG(e,t),Object.assign({},Je)};const Eet=Phaser.Utils.Objects.GetValue;let TG=class{constructor(t){var i=Eet(t,"delimiters","[]");this.tagRegex=D3(i),this.delimiters=i}getStrokeThinkness(t,i){var s;return i.hasOwnProperty("stroke")?s=t.strokeThickness:s=0,s}setDelimiters(t,i){return xG(t,i)&&(this.tagRegex=D3()),this}};var bet={splitText:uet,tagTextToProp:det,propToContextStyle:cet,propToTagText:get};Object.assign(TG.prototype,bet);class uM extends hM{constructor(t,i,s,g,E){var n=new TG(E);super(t,i,s,g,E,"rexBBCodeText",n)}setDelimiters(t,i){return this.parser.setDelimiters(t,i),this}}It.register("BBCodeText",function(e,t,i,s){var g=new uM(this.scene,e,t,i,s);return this.scene.add.existing(g),g});Dt(window,"RexPlugins.UI.BBCodeText",uM);var Pet={plainText:null,prevProp:null},wet=new aM;let Met=class{constructor(t){t===void 0&&(t={}),this.tags=t}addTag(t,i){this.tags[t]=i}getTag(t){return this.tags[t]}splitText(t,i){for(var s=[],g=0;;){var E=Cb.exec(t);if(!E)break;var n=E[0],T=Cb.lastIndex-n.length;if(g<T&&s.push(t.substring(g,T)),i===void 0)s.push(n);else if(i===1){if(I3.test(n)){var r=n.match(B3);s.push(r[2])}else if(G3.test(n)){var r=n.match(k3);s.push(r[2])}}g=Cb.lastIndex}var o=t.length;return g<o&&s.push(t.substring(g,o)),s}tagTextToProp(t,i){var s,g;if(I3.test(t)){var E=t.match(B3);if(E!=null){var n=E[1],T=this.tags;T.hasOwnProperty(n)?g=T[n]:g={},g._class=n,s=E[2]}}else if(G3.test(t)){var E=t.match(k3);if(E!=null){var r=E[1];g=Ret(r),g._style=r,s=E[2]}}s==null&&(s=t),g==null&&(g={});var o=Pet;return o.plainText=s,o.prop=g,o}propToContextStyle(t,i){var s=wet;if(i.hasOwnProperty("img"))s.image=i.img;else{if(s.image=null,i.hasOwnProperty("family")||i.hasOwnProperty("fontFamily")||i.hasOwnProperty("font-family")){var g=i.hasOwnProperty("family")?i.family:i.hasOwnProperty("fontFamily")?i.fontFamily:i["font-family"];s.fontFamily=g}else s.fontFamily=t.fontFamily;if(i.hasOwnProperty("size")||i.hasOwnProperty("fontSize")||i.hasOwnProperty("font-size")){var E=i.hasOwnProperty("size")?i.size:i.hasOwnProperty("fontSize")?i.fontSize:i["font-size"];typeof E=="number"&&(E=`${E}px`),s.fontSize=E}else s.fontSize=t.fontSize;if(i.hasOwnProperty("style")||i.hasOwnProperty("fontStyle")||i.hasOwnProperty("font-style")){var n=i.hasOwnProperty("style")?i.style:i.hasOwnProperty("fontStyle")?i.fontStyle:i["font-style"];s.fontStyle=n}else s.fontStyle=t.fontStyle;if(i.hasOwnProperty("color")||i.hasOwnProperty("font-color")){var T=i.hasOwnProperty("color")?i.color:i["font-color"];s.color=T}else s.color=t.color;if(i.hasOwnProperty("stroke")){var r=i.stroke;s.stroke=r.hasOwnProperty("color")?r.color:t.stroke,s.strokeThickness=r.hasOwnProperty("thickness")?r.thickness:t.strokeThickness}else s.stroke=t.stroke,s.strokeThickness=t.strokeThickness}if(i.hasOwnProperty("shadow")){var o=i.shadow;s.shadowColor=o.hasOwnProperty("color")?o.color:t.shadowColor,s.shadowOffsetX=o.hasOwnProperty("offsetX")?o.offsetX:t.shadowOffsetX,s.shadowOffsetY=o.hasOwnProperty("offsetY")?o.offsetY:t.shadowOffsetY,s.shadowBlur=o.hasOwnProperty("blur")?o.blur:t.shadowBlur,s.shadowStroke=!0,s.shadowFill=!0}else s.shadowColor=t.shadowColor,s.shadowOffsetX=t.shadowOffsetX,s.shadowOffsetY=t.shadowOffsetY,s.shadowBlur=t.shadowBlur,s.shadowStroke=t.shadowStroke,s.shadowFill=t.shadowFill;if(i.hasOwnProperty("u")||i.hasOwnProperty("underline")){var y=i.hasOwnProperty("u")?i.u:i.underline;s.underlineColor=y.hasOwnProperty("color")?y.color:t.underlineColor,s.underlineThickness=y.hasOwnProperty("thickness")?y.thickness:t.underlineThickness,s.underlineOffset=y.hasOwnProperty("offset")?y.offset:t.underlineOffset}else s.underlineColor=t.underlineColor,s.underlineThickness=t.underlineThickness,s.underlineOffset=t.underlineOffset;if(i.hasOwnProperty("s")||i.hasOwnProperty("strikethrough")){var d=i.hasOwnProperty("s")?i.s:i.strikethrough;s.strikethroughColor=d.hasOwnProperty("color")?d.color:t.strikethroughColor,s.strikethroughThickness=d.hasOwnProperty("thickness")?d.thickness:t.strikethroughThickness,s.strikethroughOffset=d.hasOwnProperty("offset")?d.offset:t.strikethroughOffset}else s.strikethroughColor=t.strikethroughColor,s.strikethroughThickness=t.strikethroughThickness,s.strikethroughOffset=t.strikethroughOffset;return s}getStrokeThinkness(t,i){var s;if(i.hasOwnProperty("stroke")){var g=i.stroke;s=g.hasOwnProperty("thickness")?g.thickness:t.strokeThickness}else s=t.strokeThickness;return s}propToTagText(t,i,s){return i.hasOwnProperty("_class")?t===""&&this.isTextTag(i._class)?"":`<class='${i._class}'>${t}</class>`:i.hasOwnProperty("_style")?`<style='${i._style}'>${t}</style>`:t}destroy(){this.tags=void 0}isTextTag(t){var i=this.tags[t];return i?i.img==null:!1}};var Ret=function(e){e=e.split(";");for(var t={},i,s,g,E=0,n=e.length;E<n;E++)if(i=e[E].split(":"),s=i[0],g=i[1],!(F3(s)||F3(g))){switch(s){case"stroke":var T=g.split(" "),r=T.length;g={},r>=1&&(g.color=T[0]),r>=2&&(g.thickness=parseInt(T[1].replace("px","")));break;case"shadow":var T=g.split(" "),r=T.length;g={},r>=1&&(g.color=T[0]),r>=2&&(g.offsetX=parseInt(T[1].replace("px",""))),r>=3&&(g.offsetY=parseInt(T[2].replace("px",""))),r>=4&&(g.blur=parseInt(T[3].replace("px","")));break;case"u":case"underline":case"s":case"strikethrough":var T=g.split(" "),r=T.length;g={},r>=1&&(g.color=T[0]),r>=2&&(g.thickness=parseInt(T[1].replace("px",""))),r>=3&&(g.offset=parseInt(T[2].replace("px",""))),s==="underline"?s="u":s==="strikethrough"&&(s="s");break;case"y":g=parseFloat(g);break}t[s]=g}return t},F3=function(e){return e=e.replace(Aet,""),e.length===0},Cb=/<\s*class=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/class\s*\>|<\s*style=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/style\s*\>/g,I3=/<\s*class=/i,B3=/<\s*class=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/class\s*\>/,G3=/<\s*style=/i,k3=/<\s*style=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/style\s*\>/,Aet=/^\s+|\s+$/;const Oet=Phaser.Utils.Objects.GetValue;class CG extends hM{constructor(t,i,s,g,E){var n=Oet(E,"tags",void 0),T=new Met(n);super(t,i,s,g,E,"rexTagText",T)}addTag(t,i){return this.parser.addTag(t,i),this.updateText(!0)}addTags(t){for(var i in t)this.parser.addTag(i,t[i]);return this.updateText(!0)}getTag(t){return this.parser.getTag(t)}preDestroy(){super.preDestroy(),this.parser.destroy(),this.parser=void 0}}It.register("tagText",function(e,t,i,s){var g=new CG(this.scene,e,t,i,s);return this.scene.add.existing(g),g});Dt(window,"RexPlugins.UI.TagText",CG);const X0=Phaser.Utils.Objects.GetValue;var sx=function(e,t){return t===void 0?e:e[t]},Eh=function(e,t,i){e===void 0&&(e={}),t===void 0&&(t=0);var s=typeof t;return s==="string"?e[t]=i:s==="number"?(e.left=t,e.right=t,e.top=t,e.bottom=t):(e.left=X0(t,"left",0),e.right=X0(t,"right",0),e.top=X0(t,"top",0),e.bottom=X0(t,"bottom",0)),e};let fM=class{constructor(t,i){this.setParent(t),this.type=i,this.renderable=!1,this.reset().setActive()}destroy(){this.parent.removeChild(this)}setParent(t){return this.parent=t,this}get scene(){return this.parent.scene}get canvas(){return this.parent?this.parent.canvas:null}get context(){return this.parent?this.parent.context:null}setDirty(t){return t&&this.parent&&(this.parent.dirty=!0),this}get active(){return this._active}set active(t){this.setDirty(this._active!=t),this._active=t}setActive(t){return t===void 0&&(t=!0),this.active=t,this}modifyPorperties(t){return this}onFree(){this.reset().setParent()}reset(){return this}render(){}contains(t,i){return!1}};Object.assign(fM.prototype,Kx);const Let={renderContent(){},render(){if(!this.willRender)return this;var e=this.context;if(e.save(),e.globalAlpha=this.alpha,this.toLocalPosition){var t=this.drawX,i=this.drawY;this.autoRound&&(t=Math.round(t),i=Math.round(i)),e.translate(t,i),e.scale(this.scaleX,this.scaleY),e.rotate(this.rotation)}return this.drawBelowCallback&&this.drawBelowCallback(this),this.renderContent(),this.drawAboveCallback&&this.drawAboveCallback(this),e.restore(),this}},Det=Phaser.Math.RotateAround;var Fet=function(e,t,i,s){return s===void 0?s={}:s===!0&&(Sb===void 0&&(Sb={}),s=Sb),s.x=(e-i.drawX)/i.scaleX,s.y=(t-i.drawY)/i.scaleY,i.rotation!==0&&Det(s,0,0,-i.rotation),s},Sb;const Iet=Phaser.Geom.Rectangle;var Bet=function(e,t){if(this.width===0||this.height===0)return!1;var i=Fet(e,t,this,!0);return Get(this).contains(i.x,i.y)},Get=function(e){H0===void 0&&(H0=new Iet);var t=e.drawTLX,i=e.drawTLY;return H0.setTo(t,i,e.drawTRX-t,e.drawBLY-i),H0},H0;const ket=Phaser.Math.RotateAround;var SG=function(e,t,i,s){return s===void 0?s={}:s===!0&&(Eb===void 0&&(Eb={}),s=Eb),s.x=t,s.y=i,e.rotation!==0&&ket(s,0,0,e.rotation),s.x=s.x*e.scaleX+e.drawX,s.y=s.y*e.scaleY+e.drawY,s},Eb;const N3=Phaser.GameObjects.Components.TransformMatrix;var Net=function(e,t,i,s){s===void 0?s={}:s===!0&&(s=Uet);var g=t-e.width*e.originX,E=i-e.height*e.originY;return Yv===void 0&&(Yv=new N3,U3=new N3),e.parentContainer?e.getWorldTransformMatrix(Yv,U3):Yv.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY),Yv.transformPoint(g,E,s),s},Yv,U3,Uet={},Vet=function(e,t,i,s,g){var E=SG(t,i,s,!0),n=Net(e,E.x,E.y,g);return n},EG=function(e,t,i,s,g){typeof i!="number"&&(g=i,i=0,s=0);var E=t.drawCenterX+i,n=t.drawCenterY+s;return Vet(e,t,E,n,g)},zet=function(e,t,i){return EG(this.parent,this,e,t,i)},bG={contains:Bet,getWorldPosition:zet};Object.assign(bG,Let);const Wet=Phaser.Math.DegToRad,Yet=Phaser.Math.RadToDeg,$0=Phaser.Utils.Objects.GetValue;class Ju extends fM{constructor(t,i){super(t,i),this.renderable=!0,this.scrollFactorX=1,this.scrollFactorY=1,this.toLocalPosition=!0,this.originX=0,this.offsetX=0,this.offsetY=0}get visible(){return this._visible}set visible(t){this.setDirty(this._visible!=t),this._visible=t}setVisible(t){return t===void 0&&(t=!0),this.visible=t,this}get alpha(){return this._alpha}set alpha(t){this.setDirty(this._alpha!=t),this._alpha=t}setAlpha(t){return this.alpha=t,this}get x(){return this._x}set x(t){this.setDirty(this._x!=t),this._x=t}setX(t){return this.x=t,this}get y(){return this._y}set y(t){this.setDirty(this._y!=t),this._y=t}setY(t){return this.y=t,this}setPosition(t,i){return this.x=t,this.y=i,this}setInitialPosition(t,i){return this.x0=t,this.y0=i,this}setScrollFactorX(t){return this.scrollFactorX=t,this}setScrollFactorY(t){return this.scrollFactorY=t,this}setScrollFactor(t,i){return i===void 0&&(i=t),this.scrollFactorX=t,this.scrollFactorY=i,this}get rotation(){return this._rotation}set rotation(t){this.setDirty(this._rotation!=t),this._rotation=t}setRotation(t){return this.rotation=t,this}get angle(){return Yet(this._rotation)}set angle(t){this.rotation=Wet(t)}setAngle(t){return this.angle=t,this}get scaleX(){return this._scaleX}set scaleX(t){this.setDirty(this._scaleX!==t),this._scaleX=t}setScaleX(t){return this.scaleX=t,this}get width(){return 0}set width(t){}setWidth(t,i){return i===void 0&&(i=!1),this.width=t,i&&(this.scaleY=this.scaleX),this}get leftSpace(){return this._leftSpace}set leftSpace(t){this.setDirty(this._leftSpace!==t),this._leftSpace=t}setLeftSpace(t){return this.leftSpace=t,this}get rightSpace(){return this._rightSpace}set rightSpace(t){this.setDirty(this._rightSpace!==t),this._rightSpace=t}setRightSpace(t){return this.rightSpace=t,this}get outerWidth(){return this.width+this.leftSpace+this.rightSpace}get scaleY(){return this._scaleY}set scaleY(t){this.setDirty(this._scaleY!==t),this._scaleY=t}setScaleY(t){return this.scaleY=t,this}get height(){return 0}set height(t){}setHeight(t,i){return i===void 0&&(i=!1),this.height=t,i&&(this.scaleX=this.scaleY),this}setScale(t,i){return i===void 0&&(i=t),this.scaleX=t,this.scaleY=i,this}setOrigin(t){return this.originX=t,this}setAlign(t){return this.align=t,this}modifyPorperties(t){if(!t)return this;t.hasOwnProperty("x")&&this.setX(t.x),t.hasOwnProperty("y")&&this.setY(t.y),t.hasOwnProperty("rotation")?this.setRotation(t.rotation):t.hasOwnProperty("angle")&&this.setAngle(t.angle),t.hasOwnProperty("alpha")&&this.setAlpha(t.alpha);var i=$0(t,"width",void 0),s=$0(t,"height",void 0),g=$0(t,"scaleX",void 0),E=$0(t,"scaleY",void 0);return i!==void 0?s===void 0&&E===void 0?this.setWidth(i,!0):this.setWidth(i):g!==void 0&&this.setScaleX(g),s!==void 0?i===void 0&&g===void 0?this.setHeight(s,!0):this.setHeight(s):E!==void 0&&this.setScaleY(E),t.hasOwnProperty("leftSpace")&&this.setLeftSpace(t.leftSpace),t.hasOwnProperty("rightSpace")&&this.setRightSpace(t.rightSpace),t.hasOwnProperty("align")&&this.setAlign(t.align),this}setDrawBelowCallback(t){return this.drawBelowCallback=t,this}setDrawAboveCallback(t){return this.drawAboveCallback=t,this}reset(){return this.setVisible().setAlpha(1).setPosition(0,0).setRotation(0).setScale(1,1).setLeftSpace(0).setRightSpace(0).setOrigin(0).setAlign().setDrawBelowCallback().setDrawAboveCallback(),this}get willRender(){return this.visible&&this.alpha>0}get drawX(){var t=this.x+this.leftSpace+this.offsetX-this.originX*this.width;return this.parent._textOX*this.scrollFactorX+t}get drawY(){var t=this.y+this.offsetY;return this.parent._textOY*this.scrollFactorY+t}get drawTLX(){return 0}get drawTLY(){return 0}get drawBLX(){return 0}get drawBLY(){return 0}get drawTRX(){return 0}get drawTRY(){return 0}get drawBRX(){return 0}get drawBRY(){return 0}get drawCenterX(){return(this.drawTRX+this.drawTLX)/2}get drawCenterY(){return(this.drawBLY+this.drawTLY)/2}}Object.assign(Ju.prototype,bG);var xh=function(e,t,i){return t.hasOwnProperty(e)?t[e]:i[e]};const gu=Phaser.Utils.Objects.GetValue;class Xet extends Ju{constructor(t,i){super(t,"background"),this.setScrollFactor(0),this.setColor(gu(i,"color",null),gu(i,"color2",null),gu(i,"horizontalGradient",!0)),this.setStroke(gu(i,"stroke",null),gu(i,"strokeThickness",2)),this.setCornerRadius(gu(i,"cornerRadius",0),gu(i,"cornerIteration",null))}set color(t){t=Ke(t,this.canvas,this.context),this.setDirty(this._color!=t),this._color=t}get color(){return this._color}set color2(t){t=Ke(t,this.canvas,this.context),this.setDirty(this._color2!=t),this._color2=t}get color2(){return this._color2}set horizontalGradient(t){this.setDirty(this._horizontalGradient!=t),this._horizontalGradient=t}get horizontalGradient(){return this._horizontalGradient}setColor(t,i,s){return s===void 0&&(s=!0),this.color=t,this.color2=i,this.horizontalGradient=s,this}set stroke(t){t=Ke(t,this.canvas,this.context),this.setDirty(this._stroke!=t),this._stroke=t}get stroke(){return this._stroke}set strokeThickness(t){this.setDirty(this._strokeThickness!=t),this._strokeThickness=t}get strokeThickness(){return this._strokeThickness}setStroke(t,i){return t!=null&&i===void 0&&(i=2),this.stroke=t,this.strokeThickness=i,this}set cornerRadius(t){this.setDirty(this._cornerRadius!=t),this._cornerRadius=t}get cornerRadius(){return this._cornerRadius}set cornerIteration(t){this.setDirty(this._cornerIteration!=t),this._cornerIteration=t}get cornerIteration(){return this._cornerIteration}modifyStyle(t){return t.hasOwnProperty("color")&&this.setColor(t.color,xh("color2",t,this),xh("horizontalGradient",t,this)),t.hasOwnProperty("stroke")&&this.setStroke(t.stroke,xh("strokeThickness",t,this)),t.hasOwnProperty("cornerRadius")&&this.setCornerRadius(t.cornerRadius,xh("cornerIteration",t,this)),this}modifyPorperties(t){return super.modifyPorperties(t),this.modifyStyle(t),this}setCornerRadius(t,i){return this.cornerRadius=t,this.cornerIteration=i,this}renderContent(){nM(this.parent,this.color,this.stroke,this.strokeThickness,this.cornerRadius,this.color2,this.horizontalGradient,this.cornerIteration)}}const eh=Phaser.Utils.Objects.GetValue;class Het extends Ju{constructor(t,i){super(t,"innerbounds"),this.setScrollFactor(0),this.setColor(eh(i,"color",null),eh(i,"color2",null),eh(i,"horizontalGradient",!0)),this.setStroke(eh(i,"stroke",null),eh(i,"strokeThickness",2))}set color(t){t=Ke(t,this.canvas,this.context),this.setDirty(this._color!=t),this._color=t}get color(){return this._color}set color2(t){t=Ke(t,this.canvas,this.context),this.setDirty(this._color2!=t),this._color2=t}get color2(){return this._color2}set horizontalGradient(t){this.setDirty(this._horizontalGradient!=t),this._horizontalGradient=t}get horizontalGradient(){return this._horizontalGradient}setColor(t,i,s){return s===void 0&&(s=!0),this.color=t,this.color2=i,this.horizontalGradient=s,this}set stroke(t){t=Ke(t,this.canvas,this.context),this.setDirty(this._stroke!=t),this._stroke=t}get stroke(){return this._stroke}set strokeThickness(t){this.setDirty(this._strokeThickness!=t),this._strokeThickness=t}get strokeThickness(){return this._strokeThickness}setStroke(t,i){return t!=null&&i===void 0&&(i=2),this.stroke=t,this.strokeThickness=i,this}modifyPorperties(t){super.modifyPorperties(t),t.hasOwnProperty("color")&&this.setColor(t.color,eh(t,"color2",null),eh(t,"horizontalGradient",!0)),t.hasOwnProperty("stroke")&&this.setStroke(t.stroke,eh(t,"strokeThickness",2))}renderContent(){var t=this.parent.padding,i=t.left,s=t.top,g=this.parent.width-t.left-t.right,E=this.parent.height-t.top-t.bottom,n=this.context;if(this.color!=null){var T;if(this.color2!=null){var r;this.horizontalGradient?r=n.createLinearGradient(0,0,g,0):r=n.createLinearGradient(0,0,0,E),r.addColorStop(0,this.color),r.addColorStop(1,this.color2),T=r}else T=this.color;n.fillStyle=T,n.fillRect(i,s,g,E)}this.stroke!=null&&this.strokeThickness>0&&(n.strokeStyle=this.stroke,n.lineWidth=this.strokeThickness,n.strokeRect(i,s,g,E))}}const cr=Phaser.Utils.Objects.GetValue;class Zx{constructor(t,i){this.parent=t,this.set(i)}toJSON(){return{bold:this.bold,italic:this.italic,fontSize:this.fontSize,fontFamily:this.fontFamily,color:this.color,stroke:this.stroke,strokeThickness:this.strokeThickness,shaodwColor:this.shadowColor,shadowBlur:this.shadowBlur,shadowOffsetX:this.shadowOffsetX,shadowOffsetY:this.shadowOffsetY,offsetX:this.offsetX,offsetY:this.offsetY,leftSpace:this.leftSpace,rightSpace:this.rightSpace,backgroundHeight:this.backgroundHeight,backgroundBottomY:this.backgroundBottomY,align:this.align}}set(t){return this.setBold(cr(t,"bold",!1)),this.setItalic(cr(t,"italic",!1)),this.setFontSize(cr(t,"fontSize","16px")),this.setFontFamily(cr(t,"fontFamily","Courier")),this.setColor(cr(t,"color","#fff")),this.setStrokeStyle(cr(t,"stroke",null),cr(t,"strokeThickness",0)),this.setShadow(cr(t,"shadowColor",null),cr(t,"shadowOffsetX",0),cr(t,"shadowOffsetY",0),cr(t,"shadowBlur",0)),this.setOffset(cr(t,"offsetX",0),cr(t,"offsetY",0)),this.setSpace(cr(t,"leftSpace",0),cr(t,"rightSpace",0)),this.setAlign(cr(t,"align",void 0)),this.setBackgroundColor(cr(t,"backgroundColor",null)),this.setBackgroundHeight(cr(t,"backgroundHeight",void 0)),this.setBackgroundBottomY(cr(t,"backgroundBottomY",void 0)),this.setBackgroundLeftX(cr(t,"backgroundLeftX",0)),this.setBackgroundRightX(cr(t,"backgroundRightX",0)),this}modify(t){return t.hasOwnProperty("bold")&&this.setBold(t.bold),t.hasOwnProperty("italic")&&this.setItalic(t.italic),t.hasOwnProperty("fontSize")&&this.setFontSize(t.fontSize),t.hasOwnProperty("fontFamily")&&this.setFontFamily(t.fontFamily),t.hasOwnProperty("color")&&this.setColor(t.color),(t.hasOwnProperty("stroke")||t.hasOwnProperty("strokeThickness"))&&this.setStrokeStyle(xh("stroke",t,this),xh("strokeThickness",t,this)),t.hasOwnProperty("shadowColor")&&this.setShadowColor(t.shadowColor),(t.hasOwnProperty("shadowOffsetX")||t.hasOwnProperty("shadowOffsetY"))&&this.setShadowOffset(xh("shadowOffsetX",t,this),xh("shadowOffsetY",t,this)),t.hasOwnProperty("shadowBlur")&&this.setShadowBlur(t.shaodwBlur),t.hasOwnProperty("offsetX")&&this.setOffsetX(t.offsetX),t.hasOwnProperty("offsetY")&&this.setOffsetY(t.offsetY),t.hasOwnProperty("leftSpace")&&this.setLeftSpace(t.leftSpace),t.hasOwnProperty("rightSpace")&&this.setRightSpace(t.rightSpace),t.hasOwnProperty("align")&&this.setAlign(t.align),t.hasOwnProperty("backgroundColor")&&this.setBackgroundColor(t.backgroundColor),t.hasOwnProperty("backgroundHeight")&&this.setBackgroundHeight(t.backgroundHeight),t.hasOwnProperty("backgroundBottomY")&&this.setBackgroundBottomY(t.backgroundBottomY),t.hasOwnProperty("backgroundLeftX")&&this.setBackgroundLeftX(t.backgroundLeftX),t.hasOwnProperty("backgroundRightX")&&this.setBackgroundRightX(t.backgroundRightX),this}setUpdateTextFlag(){return this.parent&&(this.parent.updateTextFlag=!0),this}clone(){return new Zx(null,this.toJSON())}copyFrom(t){return this.set(t.toJSON()),this}copyTo(t){return t.set(this.toJSON()),this}setBold(t){return t===void 0&&(t=!0),this.bold=t,this.setUpdateTextFlag(),this}setItalic(t){return t===void 0&&(t=!0),this.italic=t,this.setUpdateTextFlag(),this}get fontStyle(){return this.bold&&this.italic?"bold italic":this.bold?"bold":this.italic?"italic":""}setFontSize(t){return typeof t=="number"&&(t=`${t}px`),this.fontSize=t,this.setUpdateTextFlag(),this}setFontFamily(t){return this.fontFamily=t,this.setUpdateTextFlag(),this}get font(){return`${this.fontStyle} ${this.fontSize} ${this.fontFamily}`}setColor(t){return this.color=Ke(t),this}get hasFill(){return this.color!=null}setStrokeStyle(t,i){return this.stroke=Ke(t),i!==void 0&&(this.strokeThickness=i),this}setStrokeThickness(t){return this.strokeThickness=t,this}get hasStroke(){return this.stroke!=null&&this.strokeThickness>0}setShadowColor(t){return this.shadowColor=Ke(t),this}setShadowOffset(t,i){return t===void 0&&(t=0),i===void 0&&(i=0),this.shadowOffsetX=t,this.shadowOffsetY=i,this}setShadowBlur(t){return t===void 0&&(t=0),this.shaodwBlur=t,this}setShadow(t,i,s,g){return this.setShadowColor(t).setShadowOffset(i,s).setShadowBlur(g),this}setBackgroundColor(t){return this.backgroundColor=Ke(t),this}get hasBackgroundColor(){return this.backgroundColor!=null}setBackgroundHeight(t){return this.backgroundHeight=t,this}setBackgroundBottomY(t){return this.backgroundBottomY=t,this}setBackgroundLeftX(t){return this.backgroundLeftX=t,this}setBackgroundRightX(t){return this.backgroundRightX=t,this}setOffsetX(t){return t===void 0&&(t=0),this.offsetX=t,this}setOffsetY(t){return t===void 0&&(t=0),this.offsetY=t,this}setOffset(t,i){return this.setOffsetX(t).setOffsetY(i),this}setLeftSpace(t){return t===void 0&&(t=0),this.leftSpace=t,this}setRightSpace(t){return t===void 0&&(t=0),this.rightSpace=t,this}setSpace(t,i){return this.setLeftSpace(t).setRightSpace(i),this}setAlign(t){return this.align=t,this}syncFont(t){return t.font=this.font,this}syncStyle(t){t.textBaseline="alphabetic";var i=this.hasFill,s=this.hasStroke;return t.fillStyle=i?this.color:"#000",t.strokeStyle=s?this.stroke:"#000",t.lineWidth=s?this.strokeThickness:0,t.lineCap="round",t.lineJoin="round",this}syncShadow(t){t.shadowColor!=null?(t.shadowColor=this.shadowColor,t.shadowOffsetX=this.shadowOffsetX,t.shadowOffsetY=this.shadowOffsetY,t.shadowBlur=this.shadowBlur):(t.shadowColor=0,t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowBlur=0)}getTextMetrics(t,i){return this.syncFont(t).syncStyle(t),t.measureText(i)}}var $et=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=0),this.fixedWidth===e&&this.fixedHeight===t?this:(this.fixedWidth=e,this.fixedHeight=t,this.dirty=!0,this.setCanvasSize(e>0?e:this.width,t>0?t:this.height),this)},Ket=function(e,t){var i=this.padding,s=i.left,g=i.right,E=i.top,n=i.bottom;return Eh(i,e,t),this.dirty=this.dirty||s!=i.left||g!=i.right||E!=i.top||n!=i.bottom,this},Jet=function(e){return sx(this.padding,e)},Zet=function(e){return this.textStyle.modify(e),this},jet=function(e){return this.defaultTextStyle.modify(e),this},Qet=function(){return this.textStyle.copyFrom(this.defaultTextStyle),this},qet=function(e){return this.testString=e,this};const _et=Phaser.Utils.Array.Remove;var tit=function(e){return this.poolManager.free(e),_et(this.children,e),this.lastAppendedChildren.length=0,this.lastOverChild=null,this.dirty=!0,this},eit=function(){return this.poolManager.freeMultiple(this.children),this.children.length=0,this.lastAppendedChildren.length=0,this.lastOverChild=null,this.dirty=!0,this};const iit=Phaser.Utils.Array.Remove;var rit=function(e){return iit(this.children,e),this.lastAppendedChildren.length=0,this.lastOverChild=null,this.dirty=!0,this},nit=function(){return this.setText(),this},sit=function(e,t){var i=Array.isArray(e);return t===void 0||t===this.children.length?i?this.children.push(...e):this.children.push(e):i?this.children.splice(t,0,...e):this.children.splice(t,0,e),this.lastAppendedChildren.length=0,i?this.lastAppendedChildren.push(...e):this.lastAppendedChildren.push(e),this};const dl="text",PG="image",wG="drawer",MG="space",dM="command";var RG=function(e){return e.type===dl&&e.text===`
`},AG=function(e){return e.type===dl&&e.text==="\f"},ait=function(e){return e.type===dl&&e.text===" "},Wu=function(e){return e.type===dl},oit=function(e){return e.type===dM};class OG extends Ju{constructor(t,i,s){super(t,dl),this.updateTextFlag=!1,this.style=new Zx(this,s),this.setText(i)}get autoRound(){return this.parent.autoRound}get offsetX(){return this.style.offsetX}set offsetX(t){this.style&&(this.style.offsetX=t)}get offsetY(){return this.style.offsetY}set offsetY(t){this.style&&(this.style.offsetY=t)}get leftSpace(){return this.style.leftSpace*this.scaleX}set leftSpace(t){this.style&&(this.style.leftSpace=t),super.leftSpace=t}get rightSpace(){return this.style.rightSpace*this.scaleX}set rightSpace(t){this.style&&(this.style.rightSpace=t),super.rightSpace=t}get align(){return this.style.align}set align(t){this.style&&(this.style.align=t)}modifyStyle(t){return this.setDirty(!0),this.style.modify(t),this.updateTextFlag&&this.updateTextSize(),this}modifyPorperties(t){return t?(this.modifyStyle(t),super.modifyPorperties(t),this):this}setText(t){return this.setDirty(this.text!=t),this.text=t,this.updateTextSize(),this}updateTextSize(){var t=this.text;if(t===`
`||t==="\f"||t==="")this.clearTextSize();else{var i=this.style.getTextMetrics(this.context,this.text);this.textWidth=i.width;var s,g;"actualBoundingBoxAscent"in i?(s=i.actualBoundingBoxAscent,g=i.actualBoundingBoxDescent):(s=0,g=0),this.textHeight=s+g,this.ascent=s,this.descent=g}return this.updateTextFlag=!1,this}clearTextSize(){return this.textWidth=0,this.textHeight=0,this.ascent=0,this.descent=0,this}copyTextSize(t){return this.textWidth=t.textWidth,this.textHeight=t.textHeight,this.ascent=t.ascent,this.descent=t.descent,this}get width(){return this.textWidth*this.scaleX}set width(t){this.textWidth>0?this.scaleX=t/this.textWidth:this.scaleX=1}get height(){return this.textHeight*this.scaleY}set height(t){this.textHeight>0?this.scaleY=t/this.textHeight:this.scaleY=1}get willRender(){return this.textWidth===0?!1:super.willRender}renderContent(){var t=this.context,i=this.style;if(i.hasBackgroundColor){t.fillStyle=i.backgroundColor;var s=this.drawTLX+i.backgroundLeftX,g=this.drawTRX+i.backgroundRightX,E=s,n=g-s+1;if(n>0){var T=i.backgroundBottomY;T==null&&(T=this.drawBLY);var r=i.backgroundHeight;r==null&&(r=T-this.drawTLY);var o=T-r;t.fillRect(E,o,n,r)}}var y=i.hasFill,d=i.hasStroke;!y&&!d||(i.syncFont(t).syncStyle(t),d&&(i.syncShadow(t),t.strokeText(this.text,0,0)),y&&(i.syncShadow(t),t.fillText(this.text,0,0)))}get drawTLX(){return-this.leftSpace}get drawTLY(){return-this.ascent}get drawBLX(){return-this.leftSpace}get drawBLY(){return this.descent}get drawTRX(){return this.textWidth+this.rightSpace}get drawTRY(){return-this.ascent}get drawBRX(){return this.textWidth+this.rightSpace}get drawBRY(){return this.descent}}var lit=function(e,t){t&&this.textStyle.modify(t);var i=this.poolManager.allocate(dl);return i===null?i=new OG(this,e,this.textStyle):i.setParent(this).setActive().modifyStyle(this.textStyle).setText(e),i},hit=function(e,t){t&&this.textStyle.modify(t);for(var i=[],s=0,g=e.length;s<g;s++){var E=e.charAt(s),n=this.poolManager.allocate(dl);n===null?n=new OG(this,E,this.textStyle):n.setParent(this).setActive().modifyStyle(this.textStyle).setText(E),i.push(n)}return i},Jp=function(e,t){var i=this.createCharChildren(e,t);return this.addChild(i),this},uit=function(e,t){return e===void 0&&(e=""),this.removeChildren(),Jp.call(this,e,t),this.dirty=!0,this},fit=function(e,t,i){var s=this.createCharChildren(t,i);return e=this.getCharChildIndex(e,!0),this.addChild(s,e),this},dit=function(e,t){t===void 0&&(t=1);for(var i=0;i<t;i++){var s=this.getCharChildIndex(e,!0);if(s===void 0)break;this.removeChild(this.children[s])}return this},cit=function(e){var t="";return this.forEachCharChild(function(i){t+=i.text},void 0,e),t};Phaser.Display.Canvas.CanvasPool;class vit extends Ju{constructor(t,i,s){super(t,PG),this.setTexture(i,s),this.color=void 0}get frameWidth(){return this.frameObj?this.frameObj.cutWidth:0}get frameHeight(){return this.frameObj?this.frameObj.cutHeight:0}get offsetY(){return-this.height}set offsetY(t){}get key(){return this._key}set key(t){this.setDirty(this._key!=t),this._key=t}get frame(){return this._frame}set frame(t){this.setDirty(this._frame!=t),this._frame=t}setTexture(t,i){return this.key=t,this.frame=i,this.frameObj=this.scene.sys.textures.getFrame(t,i),this}get width(){return this.frameWidth*this.scaleX}set width(t){this.setDirty(this.width!==t),this.scaleX=t/this.frameWidth}get height(){return this.frameHeight*this.scaleY}set height(t){this.setDirty(this.height!==t),this.scaleY=t/this.frameHeight}setHeight(t,i){return i===void 0&&(i=!1),this.height=t,i&&(this.scaleX=this.scaleY),this}setColor(t){return this.color=t,this}modifyPorperties(t){return t.hasOwnProperty("color")&&this.setColor(t.color),super.modifyPorperties(t),this}renderContent(){mG(this.frameObj,this.canvas,0,0,this.frameWidth,this.frameHeight,this.color,!1)}get drawTLX(){return-this.leftSpace}get drawTLY(){return 0}get drawBLX(){return-this.leftSpace}get drawBLY(){return this.frameHeight}get drawTRX(){return this.frameWidth+this.rightSpace}get drawTRY(){return 0}get drawBRX(){return this.frameWidth+this.rightSpace}get drawBRY(){return this.frameHeight}}var pit=function(e,t,i){var s=this.poolManager.allocate(PG);return s===null?s=new vit(this,e,t):s.setParent(this).setActive().setTexture(e,t),s.modifyPorperties(i),s},LG=function(e,t,i){var s=this.createImageChild(e,t,i);return this.addChild(s),this};class git extends Ju{constructor(t,i,s,g){super(t,wG),this.setRenderCallback(i),this.setDrawerSize(s,g)}setRenderCallback(t){return t?this.renderContent=t.bind(this):delete this.renderContent,this}setDrawerSize(t,i){return t===!0?(this.toLocalPosition=!1,t=void 0,i=void 0):this.toLocalPosition=!0,t===void 0&&(t=0),i===void 0&&(i=t),this.drawerWidth=t,this.drawerHeight=i,this}onFree(){super.onFree(),this.setRenderCallback()}get width(){return this.drawerWidth*this.scaleX}set width(t){this.setDirty(this.width!==t),this.scaleX=this.drawerWidth>0?t/this.drawerWidth:1}get height(){return this.drawerHeight*this.scaleY}set height(t){this.setDirty(this.height!==t),this.scaleY=this.drawerHeight>0?t/this.drawerHeight:1}get offsetY(){return-this.height}set offsetY(t){}get drawTLX(){return-this.leftSpace}get drawTLY(){return 0}get drawBLX(){return-this.leftSpace}get drawBLY(){return this.drawerHeight}get drawTRX(){return this.drawerWidth+this.rightSpace}get drawTRY(){return 0}get drawBRX(){return this.drawerWidth+this.rightSpace}get drawBRY(){return this.drawerHeight}}var mit=function(e,t,i){var s=this.poolManager.allocate(wG);return s===null?s=new git(this,e,t,i):s.setParent(this).setActive().setRenderCallback(e).setDrawerSize(t,i),s},yit=function(e,t,i){var s=this.createDrawerChild(e,t,i);return this.addChild(s),this};let xit=class extends Ju{constructor(t,i){super(t,MG),this.setSpaceWidth(i)}get width(){return this.spaceWidth*this.scaleX}set width(t){this.spaceWidth>0?this.scaleX=t/this.spaceWidth:this.scaleX=1}setSpaceWidth(t){return this.spaceWidth=t,this}};var Tit=function(e){var t=this.poolManager.allocate(MG);return t===null?t=new xit(this,e):t.setParent(this).setActive().setSpaceWidth(e),t},DG=function(e){var t=this.createSpaceChild(e);return this.addChild(t),this};class Cit extends fM{constructor(t,i,s,g,E){super(t,dM),this.setName(i).setParameter(g).setCallback(s,E)}setName(t){return this.name=t,this}setParameter(t){return this.param=t,this}setCallback(t,i){return this.callback=t,this.scope=i,this}exec(){var t;return this.scope?t=this.callback.call(this.scope,this.param,this.name):t=this.callback(this.param,this.name),t}onFree(){super.onFree(),this.setName().setCallback().setParameter()}}var Sit=function(e,t,i,s){var g=this.poolManager.allocate(dM);return g===null?g=new Cit(this,e,t,i,s):g.setParent(this).setActive().setName(e).setCallback(t,s).setParameter(i),g},Pe=function(e,t,i,s){var g=this.createCommandChild(e,t,i,s);return this.addChild(g),this},Eit=function(e){return e===void 0?e={}:typeof e=="object"&&(e=rn(e)),this.wrapConfig=e,this},FG=function(e){var t={callback:void 0,start:0,isLastPage:!1,maxLines:void 0,padding:void 0,letterSpacing:void 0,hAlign:void 0,vAlign:void 0,children:[],lines:[],maxLineWidth:0,linesHeight:0,lineHeight:void 0,maxLineHeight:0,linesWidth:0,lineWidth:void 0};return Object.assign(t,e)};const bit={none:0,word:1,char:2,character:2,mix:3};var Pit=function(e,t,i,s){s===void 0&&(s={word:[],width:0}),s.word.length=0;for(var g=i===2,E=i===3,n=!g&&!E,T=e.length,r=t,o=s.word,y=0,d=!1;r<T;){var h=e[r];if(!h.renderable){o.push(h),r++;continue}var l=h.type===dl?h.text:null;if(l===null||l===`
`||l==="\f"){r===t&&(o.push(h),y+=h.outerWidth);break}if(n){if(o.push(h),y+=h.outerWidth,l===" ")break;r++}else if(g){o.push(h),y+=h.outerWidth;break}else if(E)if(Rp(l)){if(o.push(h),y+=h.outerWidth,l===" ")break;r++,d=!0}else{if(d)break;o.push(h),y+=h.outerWidth;var a=e[r+1];a&&a.type===dl&&a.text===" "&&(o.push(a),y+=a.outerWidth);break}}return s.width=y,s},IG=function(e){for(var t=0,i=e.length;t<i;t++){var s=e[t];if(s.align!==void 0)return s.align}},BG=function(e,t,i){if(!(t===0&&i===0))for(var s=0,g=e.length;s<g;s++){var E=e[s];E.renderable&&(E.x+=t,E.y+=i)}},wit=function(e,t,i){for(var s=e.hAlign,g=e.vAlign,E=e.justifyPercentage,n=e.lines,T,r,o=0,y=n.length;o<y;o++){var d=n[o],h=d.width,l=d.children,a=IG(l);switch(a===void 0&&(a=s),a){case 0:case"left":T=0;break;case 1:case"center":var f=t-h;T=f/2;break;case 2:case"right":var f=t-h;T=f;break;case 3:case"justify":case"justify-left":var f=t-h,c=f/t;c<E&&bb(l,f),T=0;break;case 4:case"justify-center":var f=t-h,c=f/t;c<E?(bb(l,f),T=0):T=f/2;break;case 5:case"justify-right":var f=t-h,c=f/t;c<E?(bb(l,f),T=0):T=f;break;default:T=0;break}var u=e.linesHeight;switch(g){case 1:case"center":r=(i-u)/2;break;case 2:case"bottom":r=i-u;break;default:r=0;break}BG(l,T,r)}},bb=function(e,t){for(var i=t/e.length,s=0,g=e.length;s<g;s++){var E=e[s];E.renderable&&(E.x+=i*s)}},V3=function(){var e=this.defaultTextStyle.getTextMetrics(this.context,this.testString),t,i;return"actualBoundingBoxAscent"in e?(t=e.actualBoundingBoxAscent,i=e.actualBoundingBoxDescent):(t=0,i=0),K0.ascent=t,K0.descent=i,K0.height=t+i,K0},K0={};const zn=Phaser.Utils.Objects.GetValue;var Mit=function(e){var t=zn(e,"start",0);Eh(this.wrapPadding,zn(e,"padding",0));var i=this.padding.top+this.padding.bottom+this.wrapPadding.top+this.wrapPadding.bottom,s=this.padding.left+this.padding.right+this.wrapPadding.left+this.wrapPadding.right,g=zn(e,"lineHeight"),E=zn(e,"ascent",g),n;if(g===void 0){var T=zn(e,"useDefaultTextHeight",!1);if(n=zn(e,"maxLines",0),this.fixedHeight>0&&!T){var tt=this.fixedHeight-i;if(n>0)g=tt/n;else{var r=V3.call(this);g=r.height,E=r.ascent,n=Math.floor((tt-E)/g)}}else{var r=V3.call(this);g=r.height,E=r.ascent}}else if(this.fixedHeight>0){if(n=zn(e,"maxLines"),n===void 0){var tt=this.fixedHeight-i;n=Math.floor(tt/g)}}else n=zn(e,"maxLines",0);E===void 0&&(E=g);var o=n===0,y=zn(e,"wrapMode");if(y===void 0){var d=zn(e,"charWrap",!1);y=d?"char":"word"}typeof y=="string"&&(y=bit[y]);var h=zn(e,"wrapWidth",void 0);h===void 0&&(this.fixedWidth>0?h=this.fixedWidth-s:(h=1/0,y=0));for(var l=zn(e,"letterSpacing",0),a=zn(e,"hAlign",0),f=zn(e,"vAlign",0),c=zn(e,"justifyPercentage",.25),u=FG({callback:"runWordWrap",start:t,padding:this.wrapPadding,letterSpacing:l,maxLines:n,hAlign:a,vAlign:f,justifyPercentage:c,ascent:E,lineHeight:g,wrapWidth:h,wrapMode:y}),v=this.children,p=0,m=v.length;p<m;p++)v[p].setActive(!1);h+=l;for(var x=this.padding.left+this.wrapPadding.left,C=this.padding.top+this.wrapPadding.top+E,P=x,w=C,M=h,R=t,A=v.length,L=u.children,F=u.lines,G=[],I=0,B=0,k,U=!1;R<A;){k=Pit(v,R,y,k);var H=k.word,X=H.length,j=k.width+X*l;R+=X;var Z=RG(H[0]);U=AG(H[0]);var Y=Z||U;if(M<j||Y){if(Y){var $=H[0];$.setActive().setPosition(P,w),L.push($),G.push($)}P=x,w+=g,M=h,F.push({children:G,width:I}),B=Math.max(B,I),I=0,G=[];var z=U||!o&&F.length===n;if(z)break;if(Y)continue}M-=j,I+=j;for(var p=0,m=H.length;p<m;p++){var V=H[p];V.setActive(),L.push(V),G.push(V),V.renderable&&(V.setPosition(P,w),P+=V.outerWidth+l)}}G.length>0&&(F.push({children:G,width:I}),B=Math.max(B,I)),u.start+=L.length,u.isLastPage=!U&&u.start===A,u.maxLineWidth=B,u.linesHeight=F.length*g;var K=this.fixedWidth>0?this.fixedWidth:u.maxLineWidth+s,Q=this.fixedHeight>0?this.fixedHeight:u.linesHeight+i,_=K-s,tt=Q-i;wit(u,_,tt),this.setCanvasSize(K,Q);for(var p=0,m=L.length;p<m;p++){var V=L[p];V.renderable&&(V.x0=V.x,V.y0=V.y)}return u};const Rit=Phaser.Utils.Objects.Merge;var Ait=function(e){return e===void 0&&(e={}),Mit.call(this,Rit(e,this.wrapConfig))},Oit=function(e,t,i){var s=e.hAlign,g=e.vAlign,E,n,T=e.rtl,r=e.lines,o=e.lineWidth,y=e.linesWidth;switch(s){case 1:case"center":E=(t-y)/2;break;case 2:case"right":E=t-y;break;default:E=0;break}T&&(E+=o);for(var d=0,h=r.length;d<h;d++){var l=r[T?h-d-1:d],a=l.children,f=l.height,c=IG(a);switch(c===void 0&&(c=g),c){case 1:case"center":n=(i-f)/2;break;case 2:case"bottom":n=i-f;break;default:n=0;break}BG(a,E,n),E+=o}};const ws=Phaser.Utils.Objects.GetValue;var Lit=function(e){var t=ws(e,"start",0);Eh(this.wrapPadding,ws(e,"padding",0));var i=this.padding.top+this.padding.bottom+this.wrapPadding.top+this.wrapPadding.bottom,s=this.padding.left+this.padding.right+this.wrapPadding.left+this.wrapPadding.right,g=ws(e,"lineWidth",void 0),E;if(g===void 0)if(E=ws(e,"maxLines",0),this.fixedWidth>0){var Z=this.fixedWidth-s;g=Z/E}else g=0;else if(this.fixedWidth>0){if(E=ws(e,"maxLines",void 0),E===void 0){var Z=this.fixedWidth-s;E=Math.floor(Z/g)+1}}else E=ws(e,"maxLines",0);var n=E===0,T=ws(e,"fixedCharacterHeight",void 0);if(T===void 0){var r=ws(e,"charPerLine",void 0);if(r!==void 0){var Y=this.fixedHeight-i;T=Math.floor(Y/r)}}var o=ws(e,"wrapHeight",void 0);o===void 0&&(this.fixedHeight>0?o=this.fixedHeight-i:o=1/0);for(var y=ws(e,"letterSpacing",0),d=ws(e,"rtl",!0),h=ws(e,"hAlign",d?2:0),l=ws(e,"vAlign",0),a=FG({callback:"runVerticalWrap",start:t,padding:this.wrapPadding,letterSpacing:y,maxLines:E,hAlign:h,vAlign:l,lineWidth:g,fixedCharacterHeight:T,wrapHeight:o,rtl:d}),f=this.children,c=0,u=f.length;c<u;c++)f[c].setActive(!1);o+=y;for(var v=this.padding.left+this.wrapPadding.left,p=this.padding.top+this.wrapPadding.top,m=v,x=p,C=o,P=t,w=f.length,M=a.children,R=a.lines,A=[],L=0,F=0;P<w;){var G=f[P];if(P++,!G.renderable){G.setActive(),M.push(G),A.push(G);continue}var I=(T!==void 0?T:G.height)+y,B=RG(G),k=AG(G),U=B||k;if(C<I||U){B&&(G.setActive().setPosition(m,x).setOrigin(.5),M.push(G),A.push(G)),m=v,x=p,C=o,R.push({children:A,height:L}),F=Math.max(F,L),L=0,A=[];var H=k||!n&&R.length===E;if(H)break;if(U)continue}C-=I,L+=I,G.setActive().setPosition(m,x).setOrigin(.5),M.push(G),A.push(G),x+=I}A.length>0&&(R.push({children:A,height:L}),F=Math.max(F,L)),a.start+=M.length,a.isLastPage=a.start===w,a.maxLineHeight=F,a.linesWidth=R.length*g;var X=this.fixedWidth>0?this.fixedWidth:a.linesWidth+s,j=this.fixedHeight>0?this.fixedHeight:a.maxLineHeight+i,Z=X-s,Y=j-i;Oit(a,Z,Y),this.setCanvasSize(X,j);for(var c=0,u=M.length;c<u;c++){var G=M[c];G.renderable&&(G.x0=G.x,G.y0=G.y)}return a};const Dit=Phaser.Utils.Objects.Merge;var Fit=function(e){return e===void 0&&(e={}),Lit.call(this,Dit(e,this.wrapConfig))};const z3=Phaser.Utils.Objects.GetValue;var Iit=function(e){var t=z3(this.wrapConfig,"callback");return t||(t=z3(e,"callback",this.runWordWrap)),typeof t=="string"&&(t=this[t]),t.call(this,e)};const Bit={setVAlign(e){return this.wrapConfig.vAlign=e,this},setHAlign(e){return this.wrapConfig.hAlign=e,this}},Git={setTextOX(e){return e===this._textOX?this:(this._textOX=e,this)},setTextOY(e){return e===this._textOY?this:(this._textOY=e,this)},setTextOXY(e,t){if(!(e===this._textOX&&t===this._textOY))return this._textOX=e,this._textOY=t,this},addTextOX(e){return this.setTextOX(this._textOX+e),this},addTextOY(e){return this.setTextOY(this._textOY+e),this},addTextOXY(e,t){return this.setTextOXY(this._textOX+e,this._textOY+t),this}};var kit=function(){this.clear(),this.setCanvasSize(this.width,this.height),this.background.active&&this.background.render();for(var e,t=0,i=this.children.length;t<i;t++)e=this.children[t],e.active&&e.render();this.innerBounds.active&&this.innerBounds.render()},Nit=function(e,t,i){i===void 0&&(i=!0);for(var s=this.children.filter(function(r){return!(i&&!r.active)}),g=0,E=s.length;g<E;g++){var n=s[g],T;if(t?T=e.call(this,n,g,s):T=e(n,g,s),T)break}return this},Uit=function(e,t,i){i===void 0&&(i=!0);for(var s=this.children.filter(function(r){return!(i&&!r.active||!r.renderable||r.removed)}),g=0,E=s.length;g<E;g++){var n=s[g],T;if(t?T=e.call(this,n,g,s):T=e(n,g,s),T)break}return this},Vit=function(e,t,i){i===void 0&&(i=!0);for(var s=this.children.filter(function(r){return!(i&&!r.active||!Wu(r)||r.removed)}),g=0,E=s.length;g<E;g++){var n=s[g],T;if(t?T=e.call(this,n,g,s):T=e(n,g,s),T)break}return this},zit=function(){return this.children};const Wit=Phaser.Utils.Array.GetAll;var Yit=function(){return Wit(this.children,"active",!0)},Xit=function(e,t){return t===void 0&&(t=[]),this.forEachCharChild(function(i){t.push(i)},void 0,e),t},Hit=function(){return this.lastAppendedChildren},$it=function(e,t,i,s){typeof t!="number"&&(s=t,t=0,i=0);var g=e.drawCenterX+t,E=e.drawCenterY+i;return SG(e,g,E,s)};const Kit=Phaser.Math.Distance.BetweenPointsSquared;var Jit=function(e,t){var i={x:e,y:t},s=1/0,g=null;return this.forEachRenderableChild(function(E){var n=Kit(i,$it(E,!0));s>n&&(s=n,g=E)}),g},Zit=function(e,t,i,s){return typeof e=="number"&&(e=this.getCharChild(e,!0)),EG(this,e,t,i,s)},jit=function(){for(var e=this.children,t=0,i=0,s=0,g=e.length;s<g;s++){var E=e[s];if(!(!E.renderable||!E.active||!E.visible)){var n=E.x0!==void 0?E.x0:E.x,T=E.y0!==void 0?E.y0:E.y;t=Math.max(t,n),i=Math.max(i,T)}}var r=t+this.padding.left+this.padding.right+this.wrapPadding.left+this.wrapPadding.right,o=i+this.padding.top+this.padding.bottom+this.wrapPadding.top+this.wrapPadding.bottom;return(this.width!==r||this.height!==o)&&(this.dirty=!0,this.setCanvasSize(r,o)),this},Qit=function(e,t){t===void 0&&(t=!0);for(var i=this.children,s=0,g=i.length;s<g;s++){var E=i[s];if(!(t&&!E.active)&&Wu(E)&&!E.removed){if(e===0)return s;e--}}},qit=function(e,t){t===void 0&&(t=!0);for(var i=this.children,s=0,g=i.length;s<g;s++){var E=i[s];if(!(t&&!E.active)&&Wu(E)&&!E.removed){if(e===0)return E;e--}}},_it=function(e,t){if(typeof e!="number"&&(e=this.children.indexOf(e),e<0))return null;t===void 0&&(t=!0);var i=this.children;e>=i.length&&(e=i.length);for(var s=0,g=0;g<e;g++){var E=i[g];t&&!E.active||Wu(E)&&!E.removed&&s++}return s},trt=function(e){return e===void 0&&(e=!0),this.childrenInteractiveEnable!==e&&(this.lastOverChild=null),this.childrenInteractiveEnable=e,this},cM=function(s,t,i){for(var s=s,g=0,E=s.length;g<E;g++){var n=s[g];if(!(!n.active||!n.renderable)&&n.contains(t,i))return n}return null},ert=function(){return this.on("pointerdown",irt,this).on("pointerdown",rrt,this).on("pointermove",Pb,this).on("pointerover",Pb,this).on("pointerout",function(e,t){Pb.call(this,e,null,null,t)},this),this},irt=function(e,t,i,s){if(this.childrenInteractiveEnable){var g=cM(this.children,t,i);g&&this.emit("child.pointerdown",g,e,t,i,s)}},rrt=function(e,t,i,s){if(this.childrenInteractiveEnable){var g=cM(this.children,t,i);g&&this.emit("child.pointerup",g,e,t,i,s)}},Pb=function(e,t,i,s){if(this.childrenInteractiveEnable){if(t===null){this.lastOverChild!==null&&(this.emit("child.pointerout",this.lastOverChild,e,t,i,s),this.lastOverChild=null);return}var g=cM(this.children,t,i);g!==this.lastOverChild&&(this.lastOverChild!==null&&this.emit("child.pointerout",this.lastOverChild,e,t,i,s),g!==null&&this.emit("child.pointerover",g,e,t,i,s),this.lastOverChild=g)}};const nrt=Phaser.GameObjects.GameObject;var srt=function(e,t,i){var s=!!this.input;return nrt.prototype.setInteractive.call(this,e,t,i),s||ert.call(this),this};const art=Phaser.Utils.Array.BringToTop,ort=Phaser.Utils.Array.SendToBack,lrt=Phaser.Utils.Array.MoveUp,hrt=Phaser.Utils.Array.MoveDown,urt=Phaser.Utils.Array.MoveAbove,frt=Phaser.Utils.Array.MoveBelow,drt={moveChildToFist(e){return ort(this.children,e),this},moveChildToLast(e){return art(this.children,e),this},movechildUp(e){return lrt(this.children,e),this},movechildDown(e){return hrt(this.children,e),this},movechildAbove(e,t){return urt(this.children,e,t),this},movechildBelow(e,t){return frt(this.children,e,t),this}},crt={setBackgroundColor(e,t,i){return this.background.setColor(e,t,i),this},setBackgroundStroke(e,t){return this.background.setStroke(e,t),this},setBackgroundCornerRadius(e,t){return this.background.setCornerRadius(e,t),this}},vrt={setInnerBoundsColor(e,t,i){return this.innerBounds.setColor(e,t,i),this},setInnerBoundsStroke(e,t){return this.innerBounds.setStroke(e,t),this}};var GG={setFixedSize:$et,setPadding:Ket,getPadding:Jet,modifyTextStyle:Zet,modifyDefaultTextStyle:jet,resetTextStyle:Qet,setTestString:qet,removeChild:tit,removeChildren:eit,popChild:rit,clearContent:nit,addChild:sit,createCharChild:lit,createCharChildren:hit,setText:uit,appendText:Jp,insertText:fit,removeText:dit,getText:cit,createImageChild:pit,appendImage:LG,createDrawerChild:mit,appendDrawer:yit,createSpaceChild:Tit,appendSpace:DG,createCommandChild:Sit,appendCommand:Pe,setWrapConfig:Eit,runWordWrap:Ait,runVerticalWrap:Fit,runWrap:Iit,renderContent:kit,forEachChild:Nit,forEachRenderableChild:Uit,forEachCharChild:Vit,getChildren:zit,getActiveChildren:Yit,getCharChildren:Xit,getLastAppendedChildren:Hit,getNearestChild:Jit,getCharWorldPosition:Zit,setToMinSize:jit,getCharChildIndex:Qit,getCharChild:qit,getCharIndex:_it,setChildrenInteractiveEnable:trt,setInteractive:srt};Object.assign(GG,drt,crt,vrt,Bit,Git);const prt=Phaser.Utils.Objects.GetFastValue;var grt={};class mrt{constructor(t){this.pools=prt(t,"pools",grt)}free(t){if(!this.pools)return this;var i=t.type;return this.pools.hasOwnProperty(i)||(this.pools[i]=new Co),this.pools[i].push(t),t.onFree(),this}freeMultiple(t){if(!this.pools)return this;for(var i=0,s=t.length;i<s;i++)this.free(t[i]);return this}allocate(t){return!this.pools||!this.pools.hasOwnProperty(t)?null:this.pools[t].pop()}}const wb=Phaser.Utils.Objects.IsPlainObject,cn=Phaser.Utils.Objects.GetValue;class qd extends Ah{constructor(t,i,s,g,E,n,T){wb(i)?(T=i,i=cn(T,"x",0),s=cn(T,"y",0),g=cn(T,"width",0),E=cn(T,"height",0),n=cn(T,"resolution",1)):wb(g)?(T=g,g=cn(T,"width",0),E=cn(T,"height",0),n=cn(T,"resolution",1)):wb(n)&&(T=n,n=cn(T,"resolution",1));var r=g===0?1:g,o=E===0?1:E;super(t,i,s,r,o,n),this.type="rexDynamicText",this.autoRound=!0,this.padding=Eh(),this.wrapPadding=Eh();var y=cn(T,"style",void 0);this.defaultTextStyle=new Zx(null,y),this.textStyle=this.defaultTextStyle.clone(),this.setTestString(cn(T,"testString","|Mqgy")),this._textOX=0,this._textOY=0,this.background=new Xet(this,cn(T,"background",void 0)),this.innerBounds=new Het(this,cn(T,"innerBounds",void 0)),this.children=[],this.lastAppendedChildren=[],this.lastOverChild=null,this.poolManager=new mrt(T),this.setFixedSize(g,E),this.setPadding(cn(T,"padding",0)),this.setWrapConfig(cn(T,"wrap",void 0)),this.setChildrenInteractiveEnable(cn(T,"childrenInteractive",!1));var d=cn(T,"text",void 0);d&&this.setText(d)}updateTexture(){return super.updateTexture(function(){this.renderContent()},this),this}get text(){return this.getText(!0)}set text(t){this.setText(t)}setSize(t,i){return this.setFixedSize(t,i),this}get textOX(){return this._textOX}set textOX(t){this.setTextOX(t)}get textOY(){return this._textOY}set textOY(t){this.setTextOY(t)}}Object.assign(qd.prototype,GG);It.register("dynamicText",function(e,t,i,s,g){var E=new qd(this.scene,e,t,i,s,g);return this.scene.add.existing(E),E});Dt(window,"RexPlugins.UI.DynamicText",qd);const Zp={setEventEmitter(e,t){return t===void 0&&(t=Phaser.Events.EventEmitter),this._privateEE=e===!0||e===void 0,this._eventEmitter=this._privateEE?new t:e,this},destroyEventEmitter(){return this._eventEmitter&&this._privateEE&&this._eventEmitter.shutdown(),this},getEventEmitter(){return this._eventEmitter},on(){return this._eventEmitter&&this._eventEmitter.on.apply(this._eventEmitter,arguments),this},once(){return this._eventEmitter&&this._eventEmitter.once.apply(this._eventEmitter,arguments),this},off(){return this._eventEmitter&&this._eventEmitter.off.apply(this._eventEmitter,arguments),this},emit(e){return this._eventEmitter&&e&&this._eventEmitter.emit.apply(this._eventEmitter,arguments),this},addListener(){return this._eventEmitter&&this._eventEmitter.addListener.apply(this._eventEmitter,arguments),this},removeListener(){return this._eventEmitter&&this._eventEmitter.removeListener.apply(this._eventEmitter,arguments),this},removeAllListeners(){return this._eventEmitter&&this._eventEmitter.removeAllListeners.apply(this._eventEmitter,arguments),this},listenerCount(){return this._eventEmitter?this._eventEmitter.listenerCount.apply(this._eventEmitter,arguments):0},listeners(){return this._eventEmitter?this._eventEmitter.listeners.apply(this._eventEmitter,arguments):[]},eventNames(){return this._eventEmitter?this._eventEmitter.eventNames.apply(this._eventEmitter,arguments):[]}},yrt={hasProperty(e){var t=this.gameObject;if(t.hasOwnProperty(e))return!0;var i=t[e];return i!==void 0},getProperty(e){return this.gameObject[e]},setProperty(e,t){return this.gameObject[e]=t,this},easeProperty(h){var t=h.property,i=h.value,s=h.duration,g=h.delay,E=h.ease,n=h.repeat,T=h.yoyo,r=h.from,o=h.complete,y=h.target;if(s===void 0&&(s=1e3),g===void 0&&(g=0),E===void 0&&(E="Linear"),n===void 0&&(n=0),T===void 0&&(T=!1),y===void 0&&(y=this.gameObject),r){var d=i;i=y[t],y[t]=d}var h={targets:y,duration:s,delay:g,ease:E,repeat:n,yoyo:T,onComplete:o};return h[t]=i,this.addTweenTask(t,h),this},addTweenTask(e,t){var i=this.tweens,s=i[e];s&&s.remove();var g=t.onComplete;return t.onComplete=function(){i[e].remove(),i[e]=null,g&&g(t.targets,e)},s=this.scene.tweens.add(t),s.timeScale=this.timeScale,i[e]=s,this},getTweenTask(e){return this.tweens[e]},freeTweens(){var e=this.tweens,t;for(var i in e)t=e[i],t&&t.remove(),e[i]=null;return this}},xrt={hasMethod(e){return typeof this.gameObject[e]=="function"},call(e,...t){if(!this.hasMethod(e))return console.warn(`[GameObjectManager] Game object '${this.name}' does not have method '${e}'`),this;var i=this.gameObject;return i[e].apply(i,t),this}},Trt={hasData(e){var t=this.gameObject;return t.data?t.data.has(e):!1},getData(e){return this.gameObject.getData(e)},setData(e,t){return this.gameObject.setData(e,t),this}};class vM{constructor(t,i,s){this.GOManager=t,this.tweens={},this.effects={},this.setGO(i,s)}get scene(){return this.GOManager.scene}get timeScale(){return this.GOManager.timeScale}destroy(){this.freeGO(),this.GOManager=void 0}freeGO(){return this.freeTweens(),this.gameObject.bob=void 0,this.gameObject.destroy(),this.gameObject=void 0,this}setGO(t,i){return t.goName=i,t.goType=this.GOManager.name,t.bob=this,this.gameObject=t,this.name=i,this.freeTweens(),this}setTimeScale(t){var i=this.tweens;for(var s in i){var g=i[s];g&&(g.timeScale=t)}return this}}Object.assign(vM.prototype,yrt,xrt,Trt);var jp=function(e){for(var t in e)return!1;return!0},Nu=function(e){return e&&e.charAt(0)!=="!"};const Crt={has(e){return this.bobs.hasOwnProperty(e)},exists(e){return this.bobs.hasOwnProperty(e)},get(e,t){if(Nu(e))return this.bobs[e];t===void 0&&(t=[]),e&&(e=e.substring(1));for(var i in this.bobs)e&&i===e||t.push(this.bobs[i]);return t},getFitst(e){e&&e.charAt(0)==="!"&&(e=e.substring(1));for(var t in this.bobs)if(!(e&&e===t))return this.bobs[t];return null},getGO(e,t){var i=this.get(e);if(i)if(Array.isArray(i)){t===void 0&&(t=[]);var s=i;return s.forEach(function(g){t.push(g.gameObject)}),t}else return i.gameObject;else return null},forEachGO(e,t){for(var i in this.bobs){var s=this.bobs[i].gameObject,g;if(t?g=e.call(t,s,i,this):g=e(s,i,this),g)break}return this},getAllGO(e){e===void 0&&(e=[]);for(var t in this.bobs){var i=this.bobs[t].gameObject;e.push(i)}return e}};var Ap=function(e){return e>>16&255},Op=function(e){return e>>8&255},Lp=function(e){return e&255},W3=function(e,t){return t===void 0&&(t={}),t.r=e>>16&255,t.g=e>>8&255,t.b=e&255,t};const Srt=65535,Ert=16711935,brt=16776960;var Prt=function(e,t){return(t&255)<<16|e&Srt},wrt=function(e,t){return(t&255)<<8|e&Ert},Mrt=function(e,t){return t&255|e&brt},Rrt=function(e,t,i,s){return(t&255)<<16|(i&255)<<8|s&255},Art=function(e,t){if(e.hasOwnProperty("tintR"))return e;t===void 0&&(t=16777215);var i=Ap(t),s=Op(t),g=Lp(t);return Object.defineProperty(e,"tint",{get:function(){return t},set:function(E){E=Math.floor(E)&16777215,e.setTint&&e.setTint(E),t!==E&&(t=E,i=Ap(t),s=Op(t),g=Lp(t))}}),Object.defineProperty(e,"tintR",{get:function(){return i},set:function(E){E=Math.floor(E)&255,i!==E&&(i=E,e.tint=Prt(t,E))}}),Object.defineProperty(e,"tintG",{get:function(){return s},set:function(E){E=Math.floor(E)&255,s!==E&&(s=E,e.tint=wrt(t,E))}}),Object.defineProperty(e,"tintB",{get:function(){return g},set:function(E){E=Math.floor(E)&255,g!==E&&(g=E,e.tint=Mrt(t,E))}}),Object.defineProperty(e,"tintGray",{get:function(){return Math.floor((i+s+g)/3)},set:function(E){E=Math.floor(E)&255,(i!==E||s!==E||g!==E)&&(i=E,s=E,g=E,e.tint=Rrt(t,E,E,E))}}),e.tint=t,e};const Ort=Phaser.Events.EventEmitter;var Lrt=function(e){if(e.events)return e;var t=new Ort,i=e.x;Object.defineProperty(e,"x",{get:function(){return i},set:function(n){i!==n&&(i=n,t.emit("update",e))}});var s=e.y;Object.defineProperty(e,"y",{get:function(){return s},set:function(n){s!==n&&(s=n,t.emit("update",e))}});var g=e.width;Object.defineProperty(e,"width",{get:function(){return g},set:function(n){g!==n&&(g=n,t.emit("update",e))}});var E=e.height;return Object.defineProperty(e,"height",{get:function(){return E},set:function(n){E!==n&&(E=n,t.emit("update",e))}}),e.events=t,e},Drt=function(e,t,i,s,g,E){return E===void 0?E={}:E===!0&&(E=Frt),typeof i!="number"&&(i=0,s=0),E.x=g.x+g.width*e+i,E.y=g.y+g.height*t+s,E},Frt={},Irt=function(e,t,i,s,g,E,n){if(e.hasOwnProperty("vp"))return e;typeof i=="function"&&(n=i,i=void 0),typeof g=="function"&&(n=g,g=void 0),i===void 0&&(i=.5),s===void 0&&(s=.5),g===void 0&&(g=0),E===void 0&&(E=0),n===void 0&&(n=Drt),Lrt(t);var T=t.events;e.vp=t;var r=function(){n(i,s,g,E,t,e)};T.on("update",r),e.once("destroy",function(){T.off("update",r),e.vp=void 0}),Object.defineProperty(e,"vpx",{get:function(){return i},set:function(o){i!==o&&(i=o,r())}}),Object.defineProperty(e,"vpy",{get:function(){return s},set:function(o){s!==o&&(s=o,r())}}),Object.defineProperty(e,"vpxOffset",{get:function(){return g},set:function(o){g!==o&&(g=o,r())}}),Object.defineProperty(e,"vpyOffset",{get:function(){return E},set:function(o){E!==o&&(E=o,r())}}),r()},On=function(e){return e.preFX?e.preFX:e.postFX?e.postFX:null},ur=function(e,t){e._effectSwitchNames||(e._effectSwitchNames=[],e.clearAllEffects=function(){for(var i=e._effectSwitchNames,s=0,g=i.length;s<g;s++)e[i[s]]=null;return e},e.on("destroy",e.clearAllEffects,e)),e._effectSwitchNames.push(t)},Brt=function(e){if(Ci(e,"barrel"))return e;var t=On(e);if(!t)return e;var i;return Object.defineProperty(e,"barrel",{get:function(){return i},set:function(s){i!==s&&(i=s,i===null||i===!1?e._barrelEffect&&(t.remove(e._barrelEffect),e._barrelEffect=void 0):(e._barrelEffect||(e._barrelEffect=t.addBarrel()),e._barrelEffect.amount=i))}}),e.barrel=null,ur(e,"barrel"),e},mn=function(e,t,i){if(Ci(e,t))return e;var s=On(e);if(!s)return e;var g=`_${t}Effect`,E;return Object.defineProperty(e,t,{get:function(){return E},set:function(n){if(E!==n)if(E=n,E===null||E===!1)e[g]&&(s.remove(e[g]),e[g]=void 0);else{e[g]||(e[g]=s.addColorMatrix());var T=e[g];T[t](i===1?n:void 0)}}}),e[t]=null,ur(e,t),e},Grt=function(e){return mn(e,"blackWhite"),e},krt=function(e){if(Ci(e,"bloomColor"))return e;var t=On(e);if(!t)return e;var i,s=1,g=1,E=1,n=1,T=4;return Object.defineProperty(e,"bloomColor",{get:function(){return i},set:function(r){i!==r&&(i=r,i===null||i===!1?e._bloom&&(t.remove(e._bloom),e._bloom=void 0,t.setPadding(0)):(e._bloom||(e._bloom=t.addBloom(i,s,g,E,n,T),t.setPadding(Math.max(s,g)+1)),e._bloom.color=i))}}),Object.defineProperty(e,"bloomOffsetX",{get:function(){return s},set:function(r){if(s!==r&&(s=r,e._bloom)){var o=Math.max(s,g);t.setPadding(o+1),e._bloom.offsetX=s}}}),Object.defineProperty(e,"bloomOffsetY",{get:function(){return g},set:function(r){if(g!==r&&(g=r,e._bloom)){var o=Math.max(s,g);t.setPadding(o+1),e._bloom.offsetY=g}}}),Object.defineProperty(e,"bloomBlurStrength",{get:function(){return E},set:function(r){E!==r&&(E=r,e._bloom&&(e._bloom.blurStrength=E))}}),Object.defineProperty(e,"bloomStrength",{get:function(){return n},set:function(r){n!==r&&(n=r,e._bloom&&(e._bloom.strength=n))}}),Object.defineProperty(e,"bloomSteps",{get:function(){return T},set:function(r){T!==r&&(T=r,e._bloom&&(e._bloom.steps=T))}}),e.bloomColor=null,ur(e,"bloomColor"),e},Nrt=function(e){if(Ci(e,"blurColor"))return e;var t=On(e);if(!t)return e;var i,s=0,g=1,E=1,n=1,T=4;return Object.defineProperty(e,"blurColor",{get:function(){return i},set:function(r){i!==r&&(i=r,i===null||i===!1?e._blur&&(t.remove(e._blur),e._blur=void 0,t.setPadding(0)):(e._blur||(e._blur=t.addBlur(s,g,E,n,i,T),t.setPadding(Math.max(g,E)+1)),e._blur.color=i))}}),Object.defineProperty(e,"blurQuality",{get:function(){return s},set:function(r){s!==r&&(s=r,e._blur&&(e._blur.quality=s))}}),Object.defineProperty(e,"blurX",{get:function(){return g},set:function(r){if(g!==r&&(g=r,e._blur)){var o=Math.max(g,E);t.setPadding(o+1),e._blur.x=g}}}),Object.defineProperty(e,"blurY",{get:function(){return E},set:function(r){if(E!==r&&(E=r,e._blur)){var o=Math.max(g,E);t.setPadding(o+1),e._blur.y=E}}}),Object.defineProperty(e,"blurStrength",{get:function(){return n},set:function(r){n!==r&&(n=r,e._blur&&(e._blur.strength=n))}}),Object.defineProperty(e,"blurSteps",{get:function(){return T},set:function(r){T!==r&&(T=r,e._blur&&(e._blur.steps=T))}}),e.blurColor=null,ur(e,"blurColor"),e},Urt=function(e){if(Ci(e,"bokehRadius"))return e;var t=On(e);if(!t)return e;var i,s=1,g=.2;return Object.defineProperty(e,"bokehRadius",{get:function(){return i},set:function(E){i!==E&&(i=E,i===null||i===!1?e._bokeh&&(t.remove(e._bokeh),e._bokeh=void 0):(e._bokeh||(e._bokeh=t.addBokeh(i,s,g)),e._bokeh.radius=i))}}),Object.defineProperty(e,"bokehAmount",{get:function(){return s},set:function(E){s!==E&&(s=E,e._bokeh&&(e._bokeh.amount=s))}}),Object.defineProperty(e,"bokehContrast",{get:function(){return g},set:function(E){g!==E&&(g=E,e._bokeh&&(e._bokeh.contrast=g))}}),e.bokehRadius=null,ur(e,"bokehRadius"),e},Vrt=function(e){return mn(e,"brightness",1),e},zrt=function(e){return mn(e,"brown"),e},Wrt=function(e){if(Ci(e,"circleColor"))return e;var t=On(e);if(!t)return e;var i,s=8,g=0,E=.4,n=1,T=.005;return Object.defineProperty(e,"circleColor",{get:function(){return i},set:function(r){i!==r&&(i=r,i===null||i===!1?e._circle&&(t.remove(e._circle),e._circle=void 0):(e._circle||(e._circle=t.addCircle(s,i,g,n,T),e.circleBackgroundAlpha=E),e._circle.color=i))}}),Object.defineProperty(e,"circleThickness",{get:function(){return s},set:function(r){s!==r&&(s=r,e._circle&&(e._circle.thickness=s))}}),Object.defineProperty(e,"circleBackgroundColor",{get:function(){return g},set:function(r){g!==r&&(g=r,e._circle&&(e._circle.backgroundColor=g))}}),Object.defineProperty(e,"circleBackgroundAlpha",{get:function(){return E},set:function(r){E!==r&&(E=r,e._circle&&(e._circle.glcolor2[3]=E))}}),Object.defineProperty(e,"circleScale",{get:function(){return n},set:function(r){n!==r&&(n=r,e._circle&&(e._circle.scale=n))}}),Object.defineProperty(e,"circleFeather",{get:function(){return T},set:function(r){T!==r&&(T=r,e._circle&&(e._circle.feather=T))}}),e.circleColor=null,ur(e,"circleColor"),e},Yrt=function(e){return mn(e,"contrast",1),e},Xrt=function(e){return mn(e,"desaturate",1),e},Hrt=function(e){return mn(e,"desaturateLuminance"),e},$rt=function(e){if(Ci(e,"displacementKey"))return e;var t=On(e);if(!t)return e;var i,s=.005,g=.005;return Object.defineProperty(e,"displacementKey",{get:function(){return i},set:function(E){i!==E&&(i=E,i===null||i===!1?e._displacement&&(t.remove(e._displacement),e._displacement=void 0):(e._displacement||(e._displacement=t.addDisplacement(i,s,g)),e._displacement.setTexture(i)))}}),Object.defineProperty(e,"displacementX",{get:function(){return s},set:function(E){s!==E&&(s=E,e._displacement&&(e._displacement.x=s))}}),Object.defineProperty(e,"displacementY",{get:function(){return g},set:function(E){g!==E&&(g=E,e._displacement&&(e._displacement.y=g))}}),e.displacementKey=null,ur(e,"displacementKey"),e},Krt=function(e){if(Ci(e,"glowColor"))return e;var t=On(e);if(!t)return e;var i,s=4,g=0;return Object.defineProperty(e,"glowColor",{get:function(){return i},set:function(E){i!==E&&(i=E,i===null||i===!1?e._glow&&(t.remove(e._glow),e._glow=void 0,t.setPadding(0)):(e._glow||(e._glow=t.addGlow(i,s,g),t.setPadding(s+1)),e._glow.color=i))}}),Object.defineProperty(e,"glowOuterStrength",{get:function(){return s},set:function(E){s!==E&&(s=E,e._glow&&(t.setPadding(s+1),e._glow.outerStrength=s))}}),Object.defineProperty(e,"glowInnerStrength",{get:function(){return g},set:function(E){g!==E&&(g=E,e._glow&&(e._glow.innerStrength=g))}}),e.glowColor=null,ur(e,"glowColor"),e},Jrt=function(e){if(Ci(e,"gradientColor"))return e;var t=On(e);if(!t)return e;var i,s,g=.5,E=0,n=0,T=0,r=1,o=0;return Object.defineProperty(e,"gradientColor",{get:function(){return[i,s]},set:function(y){var d,h;y===null||y===!1?(d=null,h=null):(d=y[0],h=y[1]),!(i===d&&s===h)&&(i=d,s=h,i===null||i===!1?e._gradient&&(t.remove(e._gradient),e._gradient=void 0):(e._gradient||(e._gradient=t.addGradient(i,s,g,E,n,T,r,o)),e._gradient.color1=i,e._gradient.color2=s))}}),Object.defineProperty(e,"gradientColor1",{get:function(){return i},set:function(y){if(y===null||y===!1){e.gradientColor=y;return}i!==y&&(i=y,e._gradient&&(e._gradient.color1=i))}}),Object.defineProperty(e,"gradientColor2",{get:function(){return s},set:function(y){if(y===null||y===!1){e.gradientColor=y;return}s!==y&&(s=y,e._gradient&&(e._gradient.color2=s))}}),Object.defineProperty(e,"gradientAlpha",{get:function(){return g},set:function(y){g!==y&&(g=y,e._gradient&&(e._gradient.alpha=g))}}),Object.defineProperty(e,"gradientFromX",{get:function(){return E},set:function(y){E!==y&&(E=y,e._gradient&&(e._gradient.fromX=E))}}),Object.defineProperty(e,"gradientFromY",{get:function(){return n},set:function(y){n!==y&&(n=y,e._gradient&&(e._gradient.fromY=n))}}),Object.defineProperty(e,"gradientToX",{get:function(){return T},set:function(y){T!==y&&(T=y,e._gradient&&(e._gradient.toX=T))}}),Object.defineProperty(e,"gradientToY",{get:function(){return r},set:function(y){r!==y&&(r=y,e._gradient&&(e._gradient.toY=r))}}),Object.defineProperty(e,"gradientSize",{get:function(){return o},set:function(y){o!==y&&(o=y,e._gradient&&(e._gradient.size=o))}}),e.gradientColor=null,ur(e,"gradientColor"),e},Zrt=function(e){return mn(e,"grayscale",1),e},jrt=function(e){return mn(e,"hue",1),e},Qrt=function(e){return mn(e,"kodachrome"),e},qrt=function(e){return mn(e,"lsd"),e},_rt=function(e){return mn(e,"negative"),e},tnt=function(e){if(Ci(e,"pixelate"))return e;var t=On(e);if(!t)return e;var i;return Object.defineProperty(e,"pixelate",{get:function(){return i},set:function(s){i!==s&&(i=s,i===null||i===!1?e._pixelateEffect&&(t.remove(e._pixelateEffect),e._pixelateEffect=void 0):(e._pixelateEffect||(e._pixelateEffect=t.addPixelate()),e._pixelateEffect.amount=i))}}),e.pixelate=null,ur(e,"pixelate"),e},ent=function(e){return mn(e,"polaroid"),e},int=function(e){if(Ci(e,"revealLeft"))return e;var t=On(e);if(!t)return e;var i,s,g,E,n=.1,T=function(){i=null,s=null,g=null,E=null},r=function(o){o._revealEffect&&(t.remove(o._revealEffect),o._revealEffect=void 0)};return Object.defineProperty(e,"revealLeft",{get:function(){return i},set:function(o){i!==o&&(T(),i=o,i===null||i===!1?r(e):(e._revealEffect||(e._revealEffect=t.addReveal(n,0,0)),e._revealEffect.direction=1,e._revealEffect.axis=0,e._revealEffect.progress=i))}}),Object.defineProperty(e,"revealRight",{get:function(){return s},set:function(o){s!==o&&(T(),s=o,s===null||s===!1?r(e):(e._revealEffect||(e._revealEffect=t.addReveal(n,0,0)),e._revealEffect.direction=0,e._revealEffect.axis=0,e._revealEffect.progress=s))}}),Object.defineProperty(e,"revealUp",{get:function(){return g},set:function(o){g!==o&&(T(),g=o,g===null||g===!1?r(e):(e._revealEffect||(e._revealEffect=t.addReveal(n,0,0)),e._revealEffect.direction=1,e._revealEffect.axis=1,e._revealEffect.progress=g))}}),Object.defineProperty(e,"revealDown",{get:function(){return E},set:function(o){E!==o&&(T(),E=o,E===null||E===!1?r(e):(e._revealEffect||(e._revealEffect=t.addReveal(n,0,0)),e._revealEffect.direction=0,e._revealEffect.axis=1,e._revealEffect.progress=E))}}),Object.defineProperty(e,"revealWidth",{get:function(){return n},set:function(o){n!==o&&(n=o,e._revealEffect&&(e._revealEffect.wipeWidth=n))}}),e.revealLeft=null,ur(e,"revealLeft"),ur(e,"revealRight"),ur(e,"revealUp"),ur(e,"revealDown"),e},rnt=function(e){return mn(e,"saturate",1),e},nnt=function(e){return mn(e,"sepia"),e},snt=function(e){if(Ci(e,"shadowColor"))return e;var t=On(e);if(!t)return e;var i,s=0,g=0,E=.1,n=1,T=6,r=1;return Object.defineProperty(e,"shadowColor",{get:function(){return i},set:function(o){i!==o&&(i=o,i===null||i===!1?e._shadow&&(t.remove(e._shadow),e._shadow=void 0):(e._shadow||(e._shadow=t.addShadow(s,g,E,n,i,T,r)),e._shadow.color=i))}}),Object.defineProperty(e,"shadowX",{get:function(){return s},set:function(o){s!==o&&(s=o,e._shadow&&(e._shadow.x=s))}}),Object.defineProperty(e,"shadowY",{get:function(){return g},set:function(o){g!==o&&(g=o,e._shadow&&(e._shadow.y=g))}}),Object.defineProperty(e,"decay",{get:function(){return E},set:function(o){E!==o&&(E=o,e._shadow&&(e._shadow.decay=E))}}),Object.defineProperty(e,"shadowPower",{get:function(){return n},set:function(o){n!==o&&(n=o,e._shadow&&(e._shadow.power=n))}}),Object.defineProperty(e,"shadowSamples",{get:function(){return T},set:function(o){T!==o&&(T=o,e._shadow&&(e._shadow.samples=T))}}),Object.defineProperty(e,"shadowIntensity",{get:function(){return r},set:function(o){r!==o&&(r=o,e._shadow&&(e._shadow.intensity=r))}}),e.shadowColor=null,ur(e,"shadowColor"),e},ant=function(e){return mn(e,"shiftToBGR"),e},ont=function(e){if(Ci(e,"shineSpeed"))return e;var t=On(e);if(!t)return e;var i,s=.5,g=3;return Object.defineProperty(e,"shineSpeed",{get:function(){return i},set:function(E){i!==E&&(i=E,i===null||i===!1?e._shine&&(t.remove(e._shine),e._shine=void 0):(e._shine||(e._shine=t.addShine(i,s,g)),e._shine.speed=i))}}),Object.defineProperty(e,"shineLineWidth",{get:function(){return s},set:function(E){s!==E&&(s=E,e._shine&&(e._shine.lineWidth=s))}}),Object.defineProperty(e,"shineGradient",{get:function(){return g},set:function(E){g!==E&&(g=E,e._shine&&(e._shine.gradient=g))}}),e.shineSpeed=null,ur(e,"shineSpeed"),e},lnt=function(e){return mn(e,"technicolor"),e},hnt=function(e){if(Ci(e,"tiltShiftRadius"))return e;var t=On(e);if(!t)return e;var i,s=1,g=.2,E=1,n=1,T=1;return Object.defineProperty(e,"tiltShiftRadius",{get:function(){return i},set:function(r){i!==r&&(i=r,i===null||i===!1?e._tiltShift&&(t.remove(e._tiltShift),e._tiltShift=void 0):(e._tiltShift||(e._tiltShift=t.addTiltShift(i,s,g,E,n,T)),e._tiltShift.radius=i))}}),Object.defineProperty(e,"tiltShiftAmount",{get:function(){return s},set:function(r){s!==r&&(s=r,e._tiltShift&&(e._tiltShift.amount=s))}}),Object.defineProperty(e,"tiltShiftContrast",{get:function(){return g},set:function(r){g!==r&&(g=r,e._tiltShift&&(e._tiltShift.contrast=g))}}),Object.defineProperty(e,"tiltShiftBlurX",{get:function(){return E},set:function(r){E!==r&&(E=r,e._tiltShift&&(e._tiltShift.blurX=E))}}),Object.defineProperty(e,"tiltShiftBlurY",{get:function(){return n},set:function(r){n!==r&&(n=r,e._tiltShift&&(e._tiltShift.blurY=n))}}),Object.defineProperty(e,"tiltShiftStrength",{get:function(){return T},set:function(r){T!==r&&(T=r,e._tiltShift&&(e._tiltShift.strength=T))}}),e.tiltShiftRadius=null,ur(e,"tiltShiftRadius"),e},unt=function(e){if(Ci(e,"vignetteRadius"))return e;var t=On(e);if(!t)return e;var i,s=.5,g=.5,E=.5;return Object.defineProperty(e,"vignetteRadius",{get:function(){return i},set:function(n){i!==n&&(i=n,i===null||i===!1?e._vignette&&(t.remove(e._vignette),e._vignette=void 0):(e._vignette||(e._vignette=t.addVignette(s,g,i,E)),e._vignette.radius=i))}}),Object.defineProperty(e,"vignetteX",{get:function(){return s},set:function(n){s!==n&&(s=n,e._vignette&&(e._vignette.x=s))}}),Object.defineProperty(e,"vignetteY",{get:function(){return g},set:function(n){g!==n&&(g=n,e._vignette&&(e._vignette.y=g))}}),Object.defineProperty(e,"vignetteStrength",{get:function(){return E},set:function(n){E!==n&&(E=n,e._vignette&&(e._vignette.strength=E))}}),e.vignetteRadius=null,ur(e,"vignetteRadius"),e},fnt=function(e){return mn(e,"vintagePinhole"),e},dnt=function(e){if(Ci(e,"wipeLeft"))return e;var t=On(e);if(!t)return e;var i,s,g,E,n=.1,T=function(){i=null,s=null,g=null,E=null},r=function(o){o._wipeEffect&&(t.remove(o._wipeEffect),o._wipeEffect=void 0)};return Object.defineProperty(e,"wipeLeft",{get:function(){return i},set:function(o){i!==o&&(T(),i=o,i===null||i===!1?r(e):(e._wipeEffect||(e._wipeEffect=t.addWipe(n,0,0)),e._wipeEffect.direction=1,e._wipeEffect.axis=0,e._wipeEffect.progress=i))}}),Object.defineProperty(e,"wipeRight",{get:function(){return s},set:function(o){s!==o&&(T(),s=o,s===null||s===!1?r(e):(e._wipeEffect||(e._wipeEffect=t.addWipe(n,0,0)),e._wipeEffect.direction=0,e._wipeEffect.axis=0,e._wipeEffect.progress=s))}}),Object.defineProperty(e,"wipeUp",{get:function(){return g},set:function(o){g!==o&&(T(),g=o,g===null||g===!1?r(e):(e._wipeEffect||(e._wipeEffect=t.addWipe(n,0,0)),e._wipeEffect.direction=1,e._wipeEffect.axis=1,e._wipeEffect.progress=g))}}),Object.defineProperty(e,"wipeDown",{get:function(){return E},set:function(o){E!==o&&(T(),E=o,E===null||E===!1?r(e):(e._wipeEffect||(e._wipeEffect=t.addWipe(n,0,0)),e._wipeEffect.direction=0,e._wipeEffect.axis=1,e._wipeEffect.progress=E))}}),Object.defineProperty(e,"wipeWidth",{get:function(){return n},set:function(o){n!==o&&(n=o,e._wipeEffect&&(e._wipeEffect.wipeWidth=n))}}),e.wipeLeft=null,ur(e,"wipeLeft"),ur(e,"wipeRight"),ur(e,"wipeUp"),ur(e,"wipeDown"),e};const J0={barrel:Brt,blackWhite:Grt,bloom:krt,blur:Nrt,bokeh:Urt,brightness:Vrt,brown:zrt,circle:Wrt,contrast:Yrt,desaturate:Xrt,desaturateLuminance:Hrt,displacement:$rt,glow:Krt,gradient:Jrt,grayscale:Zrt,hue:jrt,kodachrome:Qrt,lsd:qrt,negative:_rt,pixelate:tnt,polaroid:ent,reveal:int,saturate:rnt,sepia:nnt,shadow:snt,shiftToBGR:ant,shine:ont,technicolor:lnt,tiltShift:hnt,vignette:unt,vintagePinhole:fnt,wipe:dnt};var _d=function(e,t){if(t===void 0)t=!0;else if(typeof t=="string")t={config:!0};else if(Array.isArray(t))for(var i=t,t={},s=0,g=i.length;s<g;s++)t[i[s]]=!0;if(t===!0)for(var E in J0)J0[E](e);else for(var E in t)t[E]&&J0[E]&&J0[E](e);return e};const cnt=Phaser.Utils.Array.Remove,vnt={addGO(e,t){this.remove(e,!0),this.useTintFadeEffect(t)&&Art(t),this.viewportCoordinateEnable&&Irt(t,this.viewport),this.effectPropertiesConfig&&_d(t,this.effectPropertiesConfig),t.setName(e).once("destroy",function(){cnt(this.removedGOs,t),this.isEmpty&&this.emit("empty")},this);var i=new this.BobClass(this,t,e);return this.bobs[e]=i,this},add(e,...t){var i=this.createGameObjectCallback,s=this.createGameObjectScope,g=i.call(s,this.scene,...t);this.addGO(e,g),this.gameObjectDepth!=null&&g.setDepth(this.gameObjectDepth);var E=this.get(e);return this.fadeBob(E,0,1),this}},pnt={remove(e,t){var i=this.get(e);if(i)Array.isArray(i)||(i=[i]);else return this;var s=this;return i.forEach(function(g){delete s.bobs[g.name];var E=g.gameObject;s.removedGOs.push(E),E.setName(),t?g.destroy():s.fadeBob(g,void 0,0,function(){g.destroy()})}),this},removeAll(){var e=this.bobs;for(var t in e)this.remove(t);return this},clear(e){e===void 0&&(e=!0);var t=this.bobs;for(var i in t)e&&t[i].destroy(),delete t[i];return this.removedGOs.length=0,this}},gnt={hasProperty(e,t){var i=Nu(e)?this.get(e):this.getFitst(e);return i?i.hasProperty(t):!1},getProperty(e,t){var i=Nu(e)?this.get(e):this.getFitst(e);if(i)return i.getProperty(t)},isNumberProperty(e,t){var i=this.getProperty(e,t);return typeof i=="number"},setProperty(e,t,i){var s=this.get(e);if(s)Array.isArray(s)||(s=[s]);else return this;return this.symbols&&typeof i=="string"&&this.isNumberProperty(e,t)&&(i in this.symbols?i=this.symbols[i]:console.warn(`Can't find symbol ${i}`)),s.forEach(function(g){g.setProperty(t,i)}),this},easeProperty(e,t){var i=this.get(e);if(i)Array.isArray(i)||(i=[i]);else return this;var s=t.value,g=t.property;return this.symbols&&typeof s=="string"&&this.isNumberProperty(e,g)&&s in this.symbols&&(t.value=this.symbols[s]),i.forEach(function(E){E.easeProperty(t)}),this},hasTweenTask(e,t){var i=Nu(e)?this.get(e):this.getFitst(e);return i?i.tweens.hasOwnProperty(t):!1},getTweenTask(e,t){var i=Nu(e)?this.get(e):this.getFitst(e);return i&&i.tweens[t]||null}},mnt={hasMethod(e,t){var i=Nu(e)?this.get(e):this.getFitst(e);return i?i.hasMethod(t):!1},call(e,t,...i){var s=this.get(e);if(s)Array.isArray(s)||(s=[s]);else return this;return s.forEach(function(g){g.call(t,...i)}),this}},ynt={hasData(e,t){var i=Nu(e)?this.get(e):this.getFitst(e);return i?i.hasData(t):!1},getData(e,t){if(this.has(e))return this.get(e).getData(t)},setData(e,t,i){var s=this.get(e);if(s)Array.isArray(s)||(s=[s]);else return this;return s.forEach(function(g){g.setData(t,i)}),this}},kG=0,NG=1,pw=2,UG=3,VG=4,gw=5,xnt={tint:kG,alpha:NG,revealUp:pw,revealDown:UG,revealLeft:VG,revealRight:gw},Tnt={setGOFadeMode(e){return typeof e=="string"&&(e=xnt[e]),this.fadeMode=e,this},setGOFadeTime(e){return this.fadeTime=e,this},useTintFadeEffect(e){return(this.fadeMode===void 0||this.fadeMode===kG)&&this.fadeTime>0&&e.setTint!==void 0},useAlphaFadeEffect(e){return(this.fadeMode===void 0||this.fadeMode===NG)&&this.fadeTime>0&&e.setAlpha!==void 0},useRevealEffect(e){return this.fadeMode>=pw&&this.fadeMode<=gw&&this.fadeTime>0&&(e.preFX||e.postFX)},fadeBob(e,t,i,s){var g=e.gameObject;if(this.useTintFadeEffect(g))t!==void 0&&e.setProperty("tintGray",255*t),e.easeProperty({property:"tintGray",value:Math.floor(255*i),duration:this.fadeTime,delay:0,ease:"Linear",repeat:0,yoyo:!1,from:!1,complete:s});else if(this.useAlphaFadeEffect(g))t!==void 0&&e.setProperty("alpha",t),e.easeProperty({property:"alpha",value:i,duration:this.fadeTime,delay:0,ease:"Linear",repeat:0,yoyo:!1,from:!1,complete:s});else if(this.useRevealEffect(g)){_d(g,"reveal");var E;switch(this.fadeMode){case pw:E="revealUp";break;case UG:E="revealDown";break;case VG:E="revealLeft";break;case gw:E="revealRight";break}t===void 0&&(t=0),g[E]=t,e.easeProperty({property:E,value:i,duration:this.fadeTime,delay:0,ease:"Linear",repeat:0,yoyo:!1,from:!1,complete:s}),e.getTweenTask(E).once("complete",function(){g[E]=null})}else s&&s(g);return this}};var Si=function(e){return e.displayWidth!==void 0?e.displayWidth:e.width},Ei=function(e){return e.displayHeight!==void 0?e.displayHeight:e.height};const Y3=Phaser.Geom.Rectangle,Eo=Phaser.Math.Vector2,Cnt=Phaser.Math.RotateAround,Snt=Phaser.GameObjects.Container;var pM=function(e,t){if(t===void 0?t=new Y3:t===!0&&(Mb===void 0&&(Mb=new Y3),t=Mb),e.getBounds&&!(e instanceof Snt))return e.getBounds(t);var i,s,g,E,n,T,r,o;if(e.parentContainer){var y=e.parentContainer.getBoundsTransformMatrix();Uu(e,t),y.transformPoint(t.x,t.y,t),i=t.x,s=t.y,Dp(e,t),y.transformPoint(t.x,t.y,t),g=t.x,E=t.y,Fp(e,t),y.transformPoint(t.x,t.y,t),n=t.x,T=t.y,mw(e,t),y.transformPoint(t.x,t.y,t),r=t.x,o=t.y}else Uu(e,t),i=t.x,s=t.y,Dp(e,t),g=t.x,E=t.y,Fp(e,t),n=t.x,T=t.y,mw(e,t),r=t.x,o=t.y;return t.x=Math.min(i,g,n,r),t.y=Math.min(s,E,T,o),t.width=Math.max(i,g,n,r)-t.x,t.height=Math.max(s,E,T,o)-t.y,t},Mb=void 0,Uu=function(e,t,i){return t===void 0?t=new Eo:t===!0&&(Yn===void 0&&(Yn=new Eo),t=Yn),e.getTopLeft?e.getTopLeft(t):(t.x=e.x-Si(e)*e.originX,t.y=e.y-Ei(e)*e.originY,Qp(e,t,i))},Dp=function(e,t,i){return t===void 0?t=new Eo:t===!0&&(Yn===void 0&&(Yn=new Eo),t=Yn),e.getTopRight?e.getTopRight(t):(t.x=e.x-Si(e)*e.originX+Si(e),t.y=e.y-Ei(e)*e.originY,Qp(e,t,i))},Fp=function(e,t,i){return t===void 0?t=new Eo:t===!0&&(Yn===void 0&&(Yn=new Eo),t=Yn),e.getBottomLeft?e.getBottomLeft(t):(t.x=e.x-Si(e)*e.originX,t.y=e.y-Ei(e)*e.originY+Ei(e),Qp(e,t,i))},mw=function(e,t,i){return t===void 0?t=new Eo:t===!0&&(Yn===void 0&&(Yn=new Eo),t=Yn),e.getBottomRight?e.getBottomRight(t):(t.x=e.x-Si(e)*e.originX+Si(e),t.y=e.y-Ei(e)*e.originY+Ei(e),Qp(e,t,i))},X3=function(e,t,i){t===void 0?t=new Eo:t===!0&&(Yn===void 0&&(Yn=new Eo),t=Yn);var s=Si(e),g=Ei(e);return t.x=e.x+s*(.5-e.originX),t.y=e.y+g*(.5-e.originY),Qp(e,t,i)},Yn=void 0,Qp=function(e,t,i){if(i===void 0&&(i=!1),e.rotation!==0&&Cnt(t,e.x,e.y,e.rotation),i&&e.parentContainer){var s=e.parentContainer.getBoundsTransformMatrix();s.transformPoint(t.x,t.y,t)}return t};const Xv=Phaser.Utils.Objects.GetValue;var zG=function(e,t,i){var s,g,E,n,T;if(typeof i=="number"?s=i:(s=Xv(i,"color"),g=Xv(i,"lineWidth"),E=Xv(i,"fillColor"),n=Xv(i,"fillAlpha",1),T=Xv(i,"padding",0)),Array.isArray(e))for(var r=0,o=e.length;r<o;r++)H3(e[r],t,s,g,E,n,T);else H3(e,t,s,g,E,n,T)},H3=function(e,t,i,s,g,E,n){var T=e.getBounds||e.width!==void 0&&e.height!==void 0;if(T){i===void 0&&(i=16777215),s===void 0&&(s=1),g===void 0&&(g=null),E===void 0&&(E=1),n===void 0&&(n=0);var r=Uu(e,od[0]);r.x-=n,r.y-=n;var o=Dp(e,od[1]);o.x+=n,o.y-=n;var y=mw(e,od[2]);y.x+=n,y.y+=n;var d=Fp(e,od[3]);d.x-=n,d.y+=n,g!==null&&t.fillStyle(g,E).fillPoints(od,!0,!0),i!==null&&t.lineStyle(s,i).strokePoints(od,!0,!0)}},od=[{x:0,y:0},{x:0,y:0},{x:0,y:0},{x:0,y:0}],Ent=function(e,t){return this.forEachGO(function(i){i.drawBounds?i.drawBounds(e,t):zG(i,e,t)}),this},WG=function(e,t){var i=e.cameras,s;if(t===void 0)s=i.main;else{var g=typeof t;switch(g){case"string":s=i.getCamera(t);break;case"number":s=i.cameras[t];break;default:s=t;break}}return s};const bnt={setCamera(e,t){var i=this.get(e);if(!i)return this;var s=WG(this.scene,t);return s?(i.gameObject.cameraFilter=4294967295^s.id,i.camera=s,this):this},getCamera(e){var t=this.get(e);return t?t.camera:null}};var YG={drawGameObjectsBounds:Ent};Object.assign(YG,Crt,vnt,pnt,gnt,mnt,ynt,Tnt,bnt);const Pnt=Phaser.Cameras.Scene2D.BaseCamera;var wnt=function(e){return e instanceof Pnt};const XG=Phaser.Geom.Rectangle;var tc=function(e,t,i){return wnt(t)||(i=t,t=void 0),i===void 0?i=new XG:i===!0&&(i=Mnt),t?e.scale.getViewPort(t,i):e.scale.getViewPort(i)},Mnt=new XG;const rs=Phaser.Utils.Objects.GetValue;class Hd{constructor(t,i){this.scene=t,this.BobClass=rs(i,"BobClass",vM),this.setCreateGameObjectCallback(rs(i,"createGameObject"),rs(i,"createGameObjectScope")),this.setEventEmitter(rs(i,"eventEmitter",void 0)),this.setGameObjectDepth(rs(i,"depth",void 0));var s=rs(i,"fade",500);typeof s=="number"?(this.setGOFadeMode(),this.setGOFadeTime(s)):(this.setGOFadeMode(rs(s,"mode")),this.setGOFadeTime(rs(s,"time",500)));var g=rs(i,"viewportCoordinate",!1);g!==!1?(this.setViewportCoordinateEnable(rs(i,"enable",!0)),this.setViewport(rs(g,"viewport"))):this.setViewportCoordinateEnable(!1);var E=rs(i,"effectProperties",!1);this.setEffectPropertiesConfig(E),this.setSymbols(rs(i,"symbols")),this.bobs={},this.removedGOs=[],this._timeScale=1,this.name=rs(i,"name")}destroy(t){this.clear(!t),this.createGameObjectCallback=void 0,this.viewport=void 0,this.scene=void 0}set timeScale(t){if(this._timeScale!==t){this._timeScale=t;var i=this.bobs;for(var s in i)i[s].setTimeScale(t)}}get timeScale(){return this._timeScale}setTimeScale(t){return this.timeScale=t,this}setCreateGameObjectCallback(t,i){return this.createGameObjectCallback=t,this.createGameObjectScope=i,this}setGameObjectDepth(t){return this.gameObjectDepth=t,this}setViewportCoordinateEnable(t){return t===void 0&&(t=!0),this.viewportCoordinateEnable=t,this}setEffectPropertiesConfig(t){return t===void 0&&(t=!0),this.effectPropertiesConfig=t,this}setViewport(t){return t===void 0&&(t=tc(this.scene,this.scene.cameras.main)),this.viewport=t,this}setSymbols(t){return this.symbols=t,this}get isEmpty(){return jp(this.bobs)&&this.removedGOs.length===0}}Object.assign(Hd.prototype,Zp,YG);const Rnt=Phaser.GameObjects.GameObject,Ant=Phaser.GameObjects.Layer;var hs=function(e){return e instanceof Rnt||e instanceof Ant};const Ont=Phaser.GameObjects.Layer;var Sp=function(e){return e instanceof Ont},HG=function(e){var t=e.displayList;return Sp(t)?t:null},na=function(e,t){if(e.length<=1)return e;t===void 0&&(t=!1);for(var i,s=0,g=e.length;s<g;s++){var E=e[s];if(E.displayList?i=E.displayList:E.parentContainer&&(i=E.parentContainer.list),i)break}return i||(i=E.scene.sys.displayList),i.depthSort&&(i.depthSort(),i=i.list),t?e.sort(function(n,T){return i.indexOf(T)-i.indexOf(n)}):e.sort(function(n,T){return i.indexOf(n)-i.indexOf(T)}),e};const Lnt={getLayer(e){return this.getGO(e)},getLayers(e){return e===void 0&&(e=[]),this.forEachGO(function(t){e.push(t)}),na(e,!1),e},addToLayer(e,t){var i=this.getGO(e);if(!i){console.warn(`[LayerManager] Can't get layer "${e}"`);return}Array.isArray(t)||(t=[t]);for(var s=0,g=t.length;s<g;s++){var E=t[s];E.isRexContainerLite?E.addToLayer(i):i.add(E)}return i.scrollFactorX!==void 0&&E.setScrollFactor(i.scrollFactorX,i.scrollFactorY),this},addToBottomLayer(e){var t=this.getLayers()[0];return this.addToLayer(t.goName,e),this},addToTopLayer(e){var t=this.getLayers(),i=t[t.length-1];return this.addToLayer(i.goName,e),this},removeFromLayer(e,t,i){var s=this.getGO(e);if(!s){console.warn(`[LayerManager] Can't get layer "${e}"`);return}return i===void 0&&(i=!0),t.isRexContainerLite?t.removeFromLayer(s,i):(s.remove(t),i&&t.addToDisplayList()),this},clearLayer(e,t){t===void 0&&(t=!0);var i=this.getGO(e);if(!i){console.warn(`Can't get layer "${e}"`);return}if(t)for(var s=i.getAll(),g=0,E=s.length;g<E;g++)s[g].destroy();else i.removeAll();return this}},Dnt={setScrollFactor(e,t,i){i===void 0&&(i=t);var s=this.getLayer(e);if(!s)return this;s.scrollFactorX=t,s.scrollFactorY=i;for(var g=s.getAll(),E=0,n=g.length;E<n;E++)g[E].setScrollFactor(t,i);return this}},jx=Phaser.Utils.Array,Fnt=function(){var e;return this.parentContainer?e=this.parentContainer.list:this.displayList&&(e=this.displayList.list),e?(jx.BringToTop(e,this),this):this},Int=function(){var e;return this.parentContainer?e=this.parentContainer.list:this.displayList&&(e=this.displayList.list),e?(jx.SendToBack(e,this),this):this},$G=function(e){var t;return e.parentContainer?(t=e.parentContainer.list,t.indexOf(this)===-1&&e.parentContainer.add(this)):e.displayList&&(t=e.displayList.list,t.indexOf(this)===-1&&e.displayList.add(this)),t?(jx.MoveBelow(t,this,e),this):this},KG=function(e){var t;return e.parentContainer?(t=e.parentContainer.list,t.indexOf(this)===-1&&(e.isRexContainerLite?e.addToContainer(e.parentContainer):e.parentContainer.add(e))):e.displayList&&(t=e.displayList.list,t.indexOf(this)===-1&&(e.isRexContainerLite?e.addToLayer(e.displayList):e.displayList.add(e))),t?(jx.MoveAbove(t,this,e),this):this},Z0={bringMeToTop:Fnt,sendMeToBack:Int,moveMyDepthBelow:$G,moveMyDepthAbove:KG},Bnt={bringLayerToTop(e){var t=this.getLayer(e);return t?(Z0.bringMeToTop.call(t),this):this},sendLayerToBack(e){var t=this.getLayer(e);return t?(Z0.sendMeToBack.call(t),this):this},moveLayerBelow(e,t){if(e===t)return this;var i=this.getLayer(e),s=this.getLayer(t);return!i||!s?this:(Z0.moveMyDepthBelow.call(i,s),this)},moveLayerAbove(e,t){if(e===t)return this;var i=this.getLayer(e),s=this.getLayer(t);return!i||!s?this:(Z0.moveMyDepthAbove.call(i,s),this)}},Gnt=Hd.prototype.setCamera,knt={setCamera(e,t){var i=WG(this.scene,t);return i||(i=this.scene.cameras.add(void 0,void 0,void 0,void 0,!1,t)),Gnt.call(this,e,i),this}};var JG={};Object.assign(JG,Lnt,Dnt,Bnt,knt);const j0=Phaser.Utils.Objects.GetValue;class Qx extends Hd{constructor(t,i){i===void 0?i={}:Array.isArray(i)&&(i={layers:i}),i.hasOwnProperty("fade")||(i.fade=0),i.viewportCoordinate=!1,super(t,i);var s=j0(i,"rootLayer");this.setRootLayer(s);var g=j0(i,"layers");if(g)for(var E=0,n=g.length;E<n;E++){var T=g[E];if(typeof T=="string")this.add(T);else{var r=T.name;this.add(r);var o=T.scrollFactor,y=j0(T,"scrollFactorX",o),d=j0(T,"scrollFactorY",o);y!==void 0&&this.setScrollFactor(r,y,d),this.setCamera(r,T.cameraName)}}}setCreateGameObjectCallback(t,i){return t||(t=Nnt),super.setCreateGameObjectCallback(t,i),this}setRootLayer(t){if(t===this.rootLayer)return this;var i=this.getAllGO();return t?t.add(i):this.scene.displayList.add(i),this.rootLayer=t,this}addGO(t,i){return super.addGO(t,i),i.name=t,this.rootLayer&&this.rootLayer.add(i),this}get(t,i){if(hs(t)){var s=HG(t);if(!s||(t=s.name,!t))return}return super.get(t,i)}}var Nnt=function(e,t){var i=e.add.layer();return t!==void 0&&i.setDepth(t),i};Object.assign(Qx.prototype,JG);var Unt=function(e){return zu(e)?e.sys.sound:e.sound},Vnt=function(e){return this.sound.game.cache.audio.has(e)},ec=function(e){return e==null||typeof e!="object"?null:zu(e)?e:e.scene&&zu(e.scene)?e.scene:e.parent&&e.parent.scene&&zu(e.parent.scene)?e.parent.scene:null};const znt=Phaser.Utils.Objects.GetValue;class ji{constructor(t,i){this.setParent(t),this.isShutdown=!1,this.setEventEmitter(znt(i,"eventEmitter",!0)),this.parent&&(this.parent===this.scene?this.scene.sys.events.once("shutdown",this.onEnvDestroy,this):this.parent===this.game?this.game.events.once("shutdown",this.onEnvDestroy,this):this.parent.once&&this.parent.once("destroy",this.onParentDestroy,this))}shutdown(t){this.isShutdown||(this.parent&&(this.parent===this.scene?this.scene.sys.events.off("shutdown",this.onEnvDestroy,this):this.parent===this.game?this.game.events.off("shutdown",this.onEnvDestroy,this):this.parent.once&&this.parent.off("destroy",this.onParentDestroy,this)),this.destroyEventEmitter(),this.parent=void 0,this.scene=void 0,this.game=void 0,this.isShutdown=!0)}destroy(t){this.shutdown(t)}onEnvDestroy(){this.destroy(!0)}onParentDestroy(t,i){this.destroy(i)}setParent(t){return this.parent=t,this.scene=ec(t),this.game=Xu(t),this}}Object.assign(ji.prototype,Zp);const Wnt=Phaser.Utils.Objects.GetValue;class qx extends ji{constructor(t,i){super(t,i),this._isRunning=!1,this.isPaused=!1,this.tickingState=!1,this.setTickingMode(Wnt(i,"tickingMode",1))}boot(){this.tickingMode===2&&!this.tickingState&&this.startTicking()}shutdown(t){this.isShutdown||(this.stop(),this.tickingState&&this.stopTicking(),super.shutdown(t))}setTickingMode(t){typeof t=="string"&&(t=Ynt[t]),this.tickingMode=t}startTicking(){this.tickingState=!0}stopTicking(){this.tickingState=!1}get isRunning(){return this._isRunning}set isRunning(t){this._isRunning!==t&&(this._isRunning=t,this.tickingMode===1&&t!=this.tickingState&&(t?this.startTicking():this.stopTicking()))}start(){return this.isPaused=!1,this.isRunning=!0,this}pause(){return this.isRunning&&(this.isPaused=!0,this.isRunning=!1),this}resume(){return this.isPaused&&(this.isPaused=!1,this.isRunning=!0),this}stop(){return this.isPaused=!1,this.isRunning=!1,this}complete(){this.isPaused=!1,this.isRunning=!1,this.emit("complete",this.parent,this)}}const Ynt={no:0,lazy:1,always:2},Xnt=Phaser.Utils.Objects.GetValue;class Hnt extends qx{constructor(t,i){super(t,i);var s=this.scene?"update":"step";this.tickEventName=Xnt(i,"tickEventName",s),this.isSceneTicker=!$nt(this.tickEventName)}startTicking(){super.startTicking(),this.isSceneTicker?this.scene.sys.events.on(this.tickEventName,this.update,this):this.game.events.on(this.tickEventName,this.update,this)}stopTicking(){super.stopTicking(),this.isSceneTicker&&this.scene?this.scene.sys.events.off(this.tickEventName,this.update,this):this.game&&this.game.events.off(this.tickEventName,this.update,this)}}var $nt=function(e){return e==="step"||e==="poststep"};const el=Phaser.Utils.Objects.GetValue,$3=Phaser.Math.Clamp;let ZG=class{constructor(t){this.resetFromJSON(t)}resetFromJSON(t){this.state=el(t,"state",Hv),this.timeScale=el(t,"timeScale",1),this.delay=el(t,"delay",0),this.repeat=el(t,"repeat",0),this.repeatCounter=el(t,"repeatCounter",0),this.repeatDelay=el(t,"repeatDelay",0),this.duration=el(t,"duration",0),this.nowTime=el(t,"nowTime",0),this.justRestart=el(t,"justRestart",!1)}toJSON(){return{state:this.state,timeScale:this.timeScale,delay:this.delay,repeat:this.repeat,repeatCounter:this.repeatCounter,repeatDelay:this.repeatDelay,duration:this.duration,nowTime:this.nowTime,justRestart:this.justRestart}}destroy(){}setTimeScale(t){return this.timeScale=t,this}setDelay(t){return t===void 0&&(t=0),this.delay=t,this}setDuration(t){return this.duration=t,this}setRepeat(t){return this.repeat=t,this}setRepeatInfinity(){return this.repeat=-1,this}setRepeatDelay(t){return this.repeatDelay=t,this}start(){return this.nowTime=this.delay>0?-this.delay:0,this.state=this.nowTime>=0?ld:$v,this.repeatCounter=0,this}stop(){return this.state=Hv,this}update(t,i){this.state===Hv||this.state===Q0||i===0||this.timeScale===0||(this.nowTime+=i*this.timeScale,this.justRestart=!1,this.nowTime>=this.duration?this.repeat===-1||this.repeatCounter<this.repeat?(this.repeatCounter++,this.justRestart=!0,this.nowTime-=this.duration,this.repeatDelay>0&&(this.nowTime-=this.repeatDelay,this.state=K3)):(this.nowTime=this.duration,this.state=Q0):this.nowTime>=0&&(this.state=ld))}get t(){var t;switch(this.state){case Hv:case $v:case K3:t=0;break;case ld:t=this.nowTime/this.duration;break;case Q0:t=1;break}return $3(t,0,1)}set t(t){t=$3(t,-1,1),t<0?(this.state=$v,this.nowTime=-this.delay*t):(this.state=ld,this.nowTime=this.duration*t,t===1&&this.repeat!==0&&this.repeatCounter++)}setT(t){return this.t=t,this}get isIdle(){return this.state===Hv}get isDelay(){return this.state===$v}get isCountDown(){return this.state===ld}get isRunning(){return this.state===$v||this.state===ld}get isDone(){return this.state===Q0}get isOddIteration(){return(this.repeatCounter&1)===1}get isEvenIteration(){return(this.repeatCounter&1)===0}};const Hv=0,$v=1,ld=2,K3=3,Q0=-1;class Knt extends Hnt{constructor(t,i){super(t,i),this.timer=new ZG}shutdown(t){this.isShutdown||(super.shutdown(t),this.timer.destroy(),this.timer=void 0)}start(){return this.timer.start(),super.start(),this}stop(){return this.timer.stop(),super.stop(),this}complete(){return this.timer.stop(),super.complete(),this}}const Kv=Phaser.Utils.Objects.GetValue,J3=Phaser.Utils.Objects.GetAdvancedValue,Jnt=Phaser.Tweens.Builders.GetEaseFunction;class Zu extends Knt{resetFromJSON(t){return this.timer.resetFromJSON(Kv(t,"timer")),this.setEnable(Kv(t,"enable",!0)),this.setTarget(Kv(t,"target",this.parent)),this.setDelay(J3(t,"delay",0)),this.setDuration(J3(t,"duration",1e3)),this.setEase(Kv(t,"ease","Linear")),this.setRepeat(Kv(t,"repeat",0)),this}setEnable(t){return t==null&&(t=!0),this.enable=t,this}setTarget(t){return t===void 0&&(t=this.parent),this.target=t,this}setDelay(t){return this.delay=t,this}setDuration(t){return this.duration=t,this}setRepeat(t){return this.repeat=t,this}setRepeatDelay(t){return this.repeatDelay=t,this}setEase(t){return t===void 0&&(t="Linear"),this.ease=t,this.easeFn=Jnt(t),this}start(){return this.timer.isRunning?this:(super.start(),this)}restart(){return this.timer.stop(),this.start.apply(this,arguments),this}stop(t){return t===void 0&&(t=!1),super.stop(),t&&(this.timer.setT(1),this.updateTarget(this.target,this.timer),this.complete()),this}update(t,i){if(!this.isRunning||!this.enable||this.parent.hasOwnProperty("active")&&!this.parent.active)return this;var s=this.target,g=this.timer;return g.update(t,i),g.isDelay||this.updateTarget(s,g),this.emit("update",s,this),g.isDone&&this.complete(),this}updateTarget(t,i){}}const Znt=Phaser.Sound.BaseSound;var gM=function(e){return e instanceof Znt};const Z3=Phaser.Utils.Objects.GetValue,j3=Phaser.Utils.Objects.GetAdvancedValue,jnt=Phaser.Math.Linear;let jG=class extends Zu{constructor(t,i,s){gM(t)&&(s=i,i=t,t=void 0),i.active=!0,i.scene=t,i.game=i.manager.game,super(i,s),this.volume={},this.resetFromJSON(s)}resetFromJSON(t){return super.resetFromJSON(t),this.setMode(Z3(t,"mode",0)),this.setEnable(Z3(t,"enable",!0)),this.setVolumeRange(j3(t,"volume.start",this.parent.volume),j3(t,"volume.end",0)),this}setMode(t){return typeof t=="string"&&(t=Qnt[t]),this.mode=t,this}setVolumeRange(t,i){return this.volume.start=t,this.volume.end=i,this}start(){return this.timer.isRunning?this:(this.parent.setVolume(this.volume.start),this.timer.setDelay(this.delay).setDuration(this.duration),super.start(),this)}updateTarget(t,i){t.volume=jnt(this.volume.start,this.volume.end,i.t)}complete(){switch(super.complete(),this.mode){case 1:this.parent.stop();break;case 2:this.parent.stop(),this.parent.destroy();break}return this}};const Qnt={stop:1,destroy:2};var _x=function(e,t,i,s,g){gM(e)&&(g=s,s=i,i=t,t=e,e=void 0),s===void 0&&(s=1),g===void 0&&(g=0);var E={mode:0,volume:{start:g,end:s},duration:i};typeof t=="string"&&(t=e.sys.sound.add(t));var n;return t.hasOwnProperty("_fade")?(n=t._fade,n.stop().resetFromJSON(E)):(n=new jG(e,t,E),t._fade=n),n.start(),t.isPlaying||t.setVolume(g).play(),t},$d=function(e,t,i,s){gM(e)&&(s=i,i=t,t=e,e=void 0),s===void 0&&(s=!0);var g={mode:s?2:1,volume:{start:t.volume,end:0},duration:i},E;return t.hasOwnProperty("_fade")?(E=t._fade,E.stop().resetFromJSON(g)):(E=new jG(e,t,g),t._fade=E),E.start(),t.isPlaying||t.play(),t};const Jv=Phaser.Utils.Objects.GetValue,qnt={setBackgroundMusicLoop(e){return e===void 0&&(e=!0),this.backgroundMusicLoop=e,this},setBackgroundMusicFadeTime(e){return this.backgroundMusicFadeTime=e,this},getBackgroundMusic(){return this.backgroundMusic},setCurrentBackgroundMusic(e){return this.backgroundMusic=e,e&&(e.once("complete",function(){this.backgroundMusic===e&&(this.backgroundMusic.destroy(),this.backgroundMusic=void 0)},this).once("destroy",function(){this.backgroundMusic===e&&(this.backgroundMusic=void 0)},this),e.isPlaying||e.play()),this},playBackgroundMusic(e,t){if(!this.hasAudio(e))return console.error(`[Sound manager] Audio key'${e}' is not existed`),this;if(this.backgroundMusic&&this.backgroundMusic.key===e)return this;this.stopBackgroundMusic();var i=this.sound.add(e,{loop:Jv(t,"loop",this.backgroundMusicLoop),mute:Jv(t,"mute",this.backgroundMusicMute),volume:Jv(t,"volume",this.backgroundMusicVolume),detune:Jv(t,"detune",0),rate:Jv(t,"rate",1)});return this.setCurrentBackgroundMusic(i),this.backgroundMusicFadeTime>0&&this.fadeInBackgroundMusic(this.backgroundMusicFadeTime),this},pauseBackgroundMusic(){return this.backgroundMusic&&this.backgroundMusic.pause(),this},resumeBackgroundMusic(){return this.backgroundMusic&&this.backgroundMusic.resume(),this},stopBackgroundMusic(){return this.backgroundMusic&&(this.backgroundMusicFadeTime>0?this.fadeOutBackgroundMusic(this.backgroundMusicFadeTime,!0):(this.backgroundMusic.stop(),this.backgroundMusic.destroy(),this.backgroundMusic=void 0)),this},fadeInBackgroundMusic(e){return this.backgroundMusic&&_x(this.backgroundMusic,e,this.backgroundMusicVolume,0),this},fadeOutBackgroundMusic(e,t){return this.backgroundMusic&&$d(this.backgroundMusic,e,t),this},crossFadeBackgroundMusic(e,t){if(!this.hasAudio(e))return console.error(`[Sound manager] Audio key'${e}' is not existed`),this;var i=this.backgroundMusicFadeTime;return this.backgroundMusicFadeTime=0,this.fadeOutBackgroundMusic(t,!0).playBackgroundMusic(e).fadeInBackgroundMusic(t),this.backgroundMusicFadeTime=i,this},setBackgroundMusicMute(e){return e===void 0&&(e=!0),this.backgroundMusicMute=e,this},setBackgroundMusicVolume(e){return this.backgroundMusicVolume=e,this},setBackgroundMusicRate(e){return this.backgroundMusic&&this.backgroundMusic.setRate(e),this},setBackgroundMusicDetune(e){return this.backgroundMusic&&this.backgroundMusic.setDetune(e),this}},Zv=Phaser.Utils.Objects.GetValue,_nt={setBackgroundMusic2Loop(e){return e===void 0&&(e=!0),this.backgroundMusic2Loop=e,this},setBackgroundMusic2FadeTime(e){return this.backgroundMusic2FadeTime=e,this},getBackgroundMusic2(){return this.backgroundMusic2},setCurrentBackgroundMusic2(e){return this.backgroundMusic2=e,e&&(e.once("complete",function(){this.backgroundMusic2===e&&(this.backgroundMusic2.destroy(),this.backgroundMusic2=void 0)},this).once("destroy",function(){this.backgroundMusic2===e&&(this.backgroundMusic2=void 0)},this),e.isPlaying||e.play()),this},playBackgroundMusic2(e,t){if(!this.hasAudio(e))return console.error(`[Sound manager] Audio key'${e}' is not existed`),this;if(this.backgroundMusic2&&this.backgroundMusic2.key===e)return this;this.stopBackgroundMusic2();var i=this.sound.add(e,{loop:Zv(t,"loop",this.backgroundMusicLoop),mute:Zv(t,"mute",this.backgroundMusic2Mute),volume:Zv(t,"volume",this.backgroundMusic2Volume),detune:Zv(t,"detune",0),rate:Zv(t,"rate",1)});return this.setCurrentBackgroundMusic2(i),this.backgroundMusic2FadeTime>0&&this.fadeInBackgroundMusic2(this.backgroundMusic2FadeTime),this},pauseBackgroundMusic2(){return this.backgroundMusic2&&this.backgroundMusic2.pause(),this},resumeBackgroundMusic2(){return this.backgroundMusic2&&this.backgroundMusic2.resume(),this},stopBackgroundMusic2(){return this.backgroundMusic2&&(this.backgroundMusic2FadeTime>0?this.fadeOutBackgroundMusic2(this.backgroundMusic2FadeTime,!0):(this.backgroundMusic2.stop(),this.backgroundMusic2.destroy(),this.backgroundMusic2=void 0)),this},fadeInBackgroundMusic2(e){return this.backgroundMusic2&&_x(this.backgroundMusic2,e,this.backgroundMusic2Volume,0),this},fadeOutBackgroundMusic2(e,t){return this.backgroundMusic2&&$d(this.backgroundMusic2,e,t),this},crossFadeBackgroundMusic2(e,t){if(!this.hasAudio(e))return console.error(`[Sound manager] Audio key'${e}' is not existed`),this;var i=this.backgroundMusic2FadeTime;return this.backgroundMusic2FadeTime=0,this.fadeOutBackgroundMusic2(t,!0).playBackgroundMusic2(e).fadeInBackgroundMusic2(t),this.backgroundMusic2FadeTime=i,this},setBackgroundMusic2Mute(e){return e===void 0&&(e=!0),this.backgroundMusic2Mute=e,this},setBackgroundMusic2Volume(e){return this.backgroundMusic2Volume=e,this},setBackgroundMusic2Rate(e){return this.backgroundMusic2&&this.backgroundMusic2.setRate(e),this},setBackgroundMusic2Detune(e){return this.backgroundMusic2&&this.backgroundMusic2.setDetune(e),this}},Q3=Phaser.Utils.Array.Remove,q0=Phaser.Utils.Objects.GetValue,tst={getSoundEffects(){return this.soundEffects},getLastSoundEffect(){return this.soundEffects[this.soundEffects.length-1]},playSoundEffect(e,t){if(!this.hasAudio(e))return console.error(`[Sound manager] Audio key'${e}' is not existed`),this;var i=this.sound.add(e,{mute:q0(t,"mute",this.soundEffectsMute),volume:q0(t,"volume",this.soundEffectsVolume),detune:q0(t,"detune",0),rate:q0(t,"rate",1)});return this.soundEffects.push(i),i.once("complete",function(){i.destroy(),this.sound&&Q3(this.soundEffects,i)},this).once("destroy",function(){this.sound&&Q3(this.soundEffects,i)},this).play(),this},stopAllSoundEffects(){for(var e=this.soundEffects.length-1;e>=0;e--){var t=this.soundEffects[e];t.stop(),t.destroy()}return this},fadeInSoundEffect(e){var t=this.getLastSoundEffect();return t&&_x(t,e,this.soundEffectsVolume,0),this},fadeOutSoundEffect(e,t){var i=this.getLastSoundEffect();return i&&$d(i,e,t),this},fadeOutAllSoundEffects(e,t){for(var i=this.soundEffects.length-1;i>=0;i--)$d(this.soundEffects[i],e,t);return this},setSoundEffectMute(e,t){if(e===void 0&&(e=!0),t===void 0&&(t=!1),t){var i=this.getLastSoundEffect();i&&i.setMute(e)}else this.soundEffectsMute=e;return this},setSoundEffectVolume(e,t){if(t===void 0&&(t=!1),t){var i=this.getLastSoundEffect();i&&i.setVolume(e)}else this.soundEffectsVolume=e;return this},setSoundEffectDetune(e,t){t===void 0&&(t=!1);var i;t?i=[this.getLastSoundEffect()]:i=this.soundEffects;for(var s=0,g=i.length;s<g;s++)i[s].setDetune(e);return this},setSoundEffectRate(e,t){t===void 0&&(t=!1);var i;t?i=[this.getLastSoundEffect()]:i=this.soundEffects;for(var s=0,g=i.length;s<g;s++)i[s].setRate(e);return this}},q3=Phaser.Utils.Array.Remove,_0=Phaser.Utils.Objects.GetValue,est={getSoundEffects2(){return this.soundEffects2},getLastSoundEffect2(){return this.soundEffects2[this.soundEffects2.length-1]},playSoundEffect2(e,t){if(!this.hasAudio(e))return console.error(`[Sound manager] Audio key'${e}' is not existed`),this;var i=this.sound.add(e,{mute:_0(t,"mute",this.soundEffects2Mute),volume:_0(t,"volume",this.soundEffects2Volume),detune:_0(t,"detune",0),rate:_0(t,"rate",1)});return this.soundEffects2.push(i),i.once("complete",function(){i.destroy(),this.sound&&q3(this.soundEffects2,i)},this).once("destroy",function(){this.sound&&q3(this.soundEffects2,i)},this).play(),this},stopAllSoundEffects2(){for(var e=this.soundEffects.length-1;e>=0;e--){var t=this.soundEffects[e];t.stop(),t.destroy()}return this},fadeInSoundEffect2(e){var t=this.getLastSoundEffect2();return t&&_x(t,e,this.soundEffects2Volume,0),this},fadeOutSoundEffect2(e,t){var i=this.getLastSoundEffect2();return i&&$d(i,e,t),this},fadeOutAllSoundEffects2(e,t){for(var i=this.soundEffects2.length-1;i>=0;i--)$d(this.soundEffects2[i],e,t);return this},setSoundEffect2Mute(e,t){if(e===void 0&&(e=!0),t===void 0&&(t=!1),t){var i=this.getLastSoundEffect2();i&&i.setMute(e)}else this.soundEffects2Mute=e;return this},setSoundEffect2Volume(e,t){if(t===void 0&&(t=!1),t){var i=this.getLastSoundEffect2();i&&i.setVolume(e)}else this.soundEffects2Volume=e;return this},setSoundEffect2Detune(e,t){t===void 0&&(t=!1);var i;t?i=[this.getLastSoundEffect2()]:i=this.soundEffects2;for(var s=0,g=i.length;s<g;s++)i[s].setDetune(e);return this},setSoundEffect2Rate(e,t){t===void 0&&(t=!1);var i;t?i=[this.getLastSoundEffect2()]:i=this.soundEffects2;for(var s=0,g=i.length;s<g;s++)i[s].setRate(e);return this}};var QG={hasAudio:Vnt};Object.assign(QG,qnt,_nt,tst,est);const js=Phaser.Utils.Objects.GetValue;class qG{constructor(t,i){this.sound=Unt(t),this.backgroundMusic=void 0,this._backgroundMusicVolume=js(i,"bgm.volume",1),this._backgroundMusicMute=js(i,"bgm.mute",!1),this.setBackgroundMusicLoop(js(i,"bgm.loop",!0)),this.setBackgroundMusicFadeTime(js(i,"bgm.fade",500)),this.backgroundMusic2=void 0,this._backgroundMusic2Volume=js(i,"bgm2.volume",1),this._backgroundMusic2Mute=js(i,"bgm2.mute",!1),this.setBackgroundMusic2Loop(js(i,"bgm2.loop",!0)),this.setBackgroundMusic2FadeTime(js(i,"bgm2.fade",500)),this.soundEffects=[],this._soundEffectsVolume=js(i,"soundEffect.volume",1),this.soundEffects2=[],this._soundEffects2Volume=js(i,"soundEffect2.volume",1);var s=js(i,"bgm.initial",void 0);s&&this.setCurrentBackgroundMusic(s);var g=js(i,"bgm2.initial",void 0);g&&this.setCurrentBackgroundMusic2(g)}destroy(){if(this.backgroundMusic&&this.backgroundMusic.destroy(),this.backgroundMusic=void 0,this.backgroundMusic2&&this.backgroundMusic2.destroy(),this.backgroundMusic2=void 0,this.soundEffects.length)for(var t=this.soundEffects.length-1;t>=0;t--)this.soundEffects[t].destroy();if(this.soundEffects.length=0,this.soundEffects2.length)for(var t=this.soundEffects2.length-1;t>=0;t--)this.soundEffects2[t].destroy();return this.soundEffects2.length=0,this.sound=void 0,this}get backgroundMusicMute(){return this._backgroundMusicMute}set backgroundMusicMute(t){this._backgroundMusicMute=t,this.backgroundMusic&&this.backgroundMusic.setMute(mute)}get backgroundMusicVolume(){return this._backgroundMusicVolume}set backgroundMusicVolume(t){this._backgroundMusicVolume=t,this.backgroundMusic&&this.backgroundMusic.setVolume(t)}get backgroundMusic2Mute(){return this._backgroundMusic2Mute}set backgroundMusic2Mute(t){this._backgroundMusic2Mute=t,this.backgroundMusic2&&this.backgroundMusic2.setMute(mute)}get backgroundMusic2Volume(){return this._backgroundMusic2Volume}set backgroundMusic2Volume(t){this._backgroundMusic2Volume=t,this.backgroundMusic2&&this.backgroundMusic2.setVolume(t)}get soundEffectsMute(){return this._soundEffectsMute}set soundEffectsMute(t){this._soundEffectsMute=t;for(var i=this.soundEffects,s=0,g=i.length;s<g;s++)i[s].setMute(t)}get soundEffectsVolume(){return this._soundEffectsVolume}set soundEffectsVolume(t){this._soundEffectsVolume=t;for(var i=this.soundEffects,s=0,g=i.length;s<g;s++)i[s].setVolume(t)}get soundEffects2Mute(){return this._soundEffects2Mute}set soundEffects2Mute(t){this._soundEffects2Mute=t;for(var i=this.soundEffects,s=0,g=soundEffects2.length;s<g;s++)i[s].setMute(t)}get soundEffects2Volume(){return this._soundEffects2Volume}set soundEffects2Volume(t){this._soundEffects2Volume=t;for(var i=this.soundEffects2,s=0,g=i.length;s<g;s++)i[s].setVolume(t)}}Object.assign(qG.prototype,QG);const Rb=Phaser.Utils.Objects.GetValue;class ist extends qx{constructor(t,i){super(t,i),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.isRunning=Rb(t,"isRunning",!1),this.timeScale=Rb(t,"timeScale",1),this.now=Rb(t,"now",0),this}toJSON(){return{isRunning:this.isRunning,timeScale:this.timeScale,now:this.now,tickingMode:this.tickingMode}}start(t){return t===void 0&&(t=0),this.delta=0,this.now=t,super.start(),this}seek(t){return this.now=t,this}setTimeScale(t){return this.timeScale=t,this}tick(t){return t*=this.timeScale,this.now+=t,this.delta=t,this.emit("update",this.now,this.delta),this}}class _G extends ist{startTicking(){super.startTicking(),this.scene.sys.events.on("update",this.update,this)}stopTicking(){super.stopTicking(),this.scene&&this.scene.sys.events.off("update",this.update,this)}update(t,i){return!this.isRunning||this.timeScale===0?this:(this.tick(i),this)}}var Gi=function(e,t){return t===void 0&&(t=.5),e<=t?e=e/t:e=1-(e-t)/(1-t),e};const _3=Phaser.Math.Clamp;class rst{constructor(t,i){this.setTimeline(t).reset(i)}setTimeline(t){return this.timeline=t,this}setName(t){return this.name=t,this}setCallbacks(t,i,s,g){return this.target=t,this.onStart=i,this.onProgress=s,this.onComplete=g,this}setDuration(t,i){return i===void 0&&(i=!1),this.duration=t,this.remainder=t,this.t=0,this.yoyo=i,this}setPaused(t){return this.isPaused=t,this}pause(){return this.isPaused=!0,this}resume(){return this.isPaused=!1,this}setRemoved(t){return this.removed=t,this}remove(){return this.removed=!0,this}seek(t){return this.remainder=this.duration*(1-t),this}reset(t){return this.setName(t.name).setDuration(t.duration,t.yoyo).setCallbacks(t.target,t.onStart,t.onProgress,t.onComplete).setPaused(!1).setRemoved(!1),this}onFree(){this.setTimeline().setCallbacks()}getProgress(){var t=1-this.remainder/this.duration;return t=_3(t,0,1),this.yoyo&&(t=Gi(t)),t}setProgress(t){t=_3(t,0,1),this.remainder=this.duration*(1-t)}runCallback(t){t&&t(this.target,this.t,this)}update(t,i){if(this.removed)return!0;if(this.isPaused)return!1;this.remainder-=i,this.t=this.getProgress(),this.runCallback(this.onProgress);var s=this.remainder<=0;return s&&this.runCallback(this.onComplete),s}}let nst=class extends Co{allocate(){return this.pop()}free(t){t.onFree(),this.push(t)}freeMultiple(t){for(var i=0,s=t.length;i<s;i++)this.free(t[i]);return this}};const sst=Phaser.Utils.Objects.GetValue,ast=new nst;class ost extends _G{constructor(t,i){super(t,i),this.addedTimers=[],this.timers=[],this.timerPool=sst(i,"pool",ast)}shutdown(){this.isShutdown||(this.timerPool.freeMultiple(this.addedTimers).freeMultiple(this.timers),this.timerPool=void 0,this.addedTimers=void 0,this.timers=void 0,super.shutdown())}addTimer(t){var i=this.timerPool.allocate();return i?i.setTimeline(this).reset(t):i=new rst(this,t),this.addedTimers.push(i),i.runCallback(i.onStart),this.isRunning||this.start(),i}delayCall(t,i,s,g){var E=this.addTimer({duration:t,onComplete:function(n,T,r){s===void 0&&(s=[]),s.push(r),i.apply(g,s)}});return E}delayEvent(t,i){this.removeDelayEvent(i);var s=this.delayCall(t,function(){this.removeDelayEvent(i),this.emit(i)},[],this);return this.once(`_remove.${i}`,function(){s.remove(),s=void 0}),this}removeDelayEvent(t){return this.emit(`_remove.${t}`),this}getTimers(t){for(var i=[],s=[this.addedTimers,this.timers],g=0,E=s.length;g<E;g++)for(var n=s[g],T=0,r=n.length;T<r;T++){var o=n[T];o.name===t&&i.push(o)}return i}update(t,i){if(super.update(t,i),!!this.isRunning){this.timers.push(...this.addedTimers),this.addedTimers.length=0;for(var s=[],g=0,E=this.timers.length;g<E;g++){var n=this.timers[g],T=n.update(this.now,this.delta);T?this.timerPool.free(n):s.push(n)}this.timers=s,this.timers.length===0&&this.addedTimers.length===0&&this.complete()}}}const lst="_wait.complete",hst="_remove.wait";var ust=function(e,t,i,s,g){var E=ec(e),n=E.time.delayedCall(t,function(){E.sys.events.once("preupdate",function(){i.call(s,g)})});return n};let tk=class{constructor(t){t||(this.setEventEmitter(!0),t=this),this.parent=t,this.waitId=0,this.waitCompleteEventName=lst,this.removeWaitEventsEventName=hst}destroy(){this.removeWaitEvents(),this.clearWaitCompleteCallbacks(),this.parent=null}waitEvent(t,i,s){var g=this.getWaitCompleteTriggerCallback(s);return t.once(i,g,this),this.parent.once(this.removeWaitEventsEventName,function(){t.off(i,g,this)}),this.parent}getWaitCompleteTriggerCallback(t){t===void 0&&(t=!0);var i=this.waitId,s=this,g=function(){i<s.waitId||(s.waitId++,s.removeWaitEvents(),s.parent.emit(s.waitCompleteEventName))};if(t){var E=function(){ust(s.parent,0,g)};return E}else return g}removeWaitEvents(){return this.parent.emit(this.removeWaitEventsEventName),this}addWaitCompleteCallback(t,i){return this.parent.on(this.waitCompleteEventName,t,i),this}clearWaitCompleteCallbacks(){return this.parent.off(this.waitCompleteEventName),this}};Object.assign(tk.prototype,Zp);const fst={waitTime(e){var t=this.parent.timeline;return t.delayEvent(e,"delay"),this.parent.once(this.removeWaitEventsEventName,function(){t.removeDelayEvent("delay")}),this.waitEvent(t,"delay")}};var dst=function(e,t){var i=`(?<!\\\\)\\${t}`,s=`\\${t}`;return e.split(new RegExp(i,"g")).map(function(g){return g.replace(s,t)})};const cst={setClickTarget(e){return this.clickTarget=e,e?zu(e)?this.touchEE=e.input:this.touchEE=e.setInteractive():this.touchEE=null,this},clearClickTarget(){return this.setClickTarget(),this},setClickShortcutKeys(e){return this.clickShortcutKeys=e,this},clearClickShortcutKeys(){return this.setClickShortcutKeys(),this},waitClick(){var e=this.touchEE,t=this.clickShortcutKeys;return e||t?(e&&this.waitEvent(e,"pointerdown"),t&&this.waitKeyDown(t)):this.waitTime(0),this},waitKeyDown(e){var t=this.scene.input.keyboard;if(typeof e=="string"){if(e.indexOf("|")===-1)return this.waitEvent(t,`keydown-${e.toUpperCase()}`);for(var i=dst(e,"|"),s=0,g=i.length;s<g;s++)this.waitEvent(t,`keydown-${i[s].toUpperCase()}`);return this.parent}else return this.waitEvent(t,"keydown")}},vst={waitGameObjectTweenComplete(e,t,i){var s=this.parent.getGameObjectTweenTask(e,t,i);return s?this.waitEvent(s,"complete"):this.waitTime(0)},waitGameObjectDataFlag(e,t,i,s){var g=this.parent.getGameObject(e,t);if(!g)return this.waitTime(0);if(g.getData(i)===s)return this.waitTime(0);var E=`changedata-${i}`,n=function(T,r,o){r=!!r,r===s&&T.emit("_dataFlagMatch")};return g.on(E,n),this.parent.once(this.removeWaitEventsEventName,function(){g.off(E,n)}),this.waitEvent(g,"_dataFlagMatch")},waitGameObjectDestroy(e,t){var i=this.parent.getGameObject(e,t);return i?this.waitEvent(i,"destroy"):this.waitTime(0)},waitGameObjectManagerEmpty(e){if(e){var t=this.parent.getGameObjectManager(e);return t?this.waitEvent(t,"empty"):this.waitTime(0)}else{var i=this.parent.gameObjectManagers,s=!1;for(var g in i)s=!0,this.waitEvent(i[g],"empty");return s?this.parent:this.waitTime(0)}}},pst={setCameraTarget(e){return this.cameraTarget=e,this},clearCameraTarget(){return this.setCameraTarget(),this},waitCameraEffectComplete(e,t){var i;if(t?i=this.scene.cameras.getCamera(t):i=this.cameraTarget,!i)return this.waitTime(0);var s,g;switch(e){case"camera.fadein":s=i.fadeEffect,g="camerafadeincomplete";break;case"camera.fadeout":s=i.fadeEffect,g="camerafadeoutcomplete";break;case"camera.flash":s=i.flashEffect,g="cameraflashcomplete";break;case"camera.shake":s=i.shakeEffect,g="camerashakecomplete";break;case"camera.zoom":s=i.zoomEffect,g="camerazoomcomplete";break;case"camera.rotate":s=i.rotateToEffect,g="camerarotatecomplete";break;case"camera.scroll":s=i.panEffect,g="camerapancomplete";break}return s.isRunning?this.waitEvent(i,g):this.waitTime(0)}},gst={waitSoundEffectComplete(){if(!this.parent.soundManager)return this.waitTime(0);var e=this.parent.soundManager.getLastSoundEffect();return e?this.waitEvent(e,"complete"):this.waitTime(0)},waitSoundEffect2Complete(){if(!this.parent.soundManager)return this.waitTime(0);var e=this.parent.soundManager.getLastSoundEffect2();return e?this.waitEvent(e,"complete"):this.waitTime(0)},waitBackgroundMusicComplete(){if(!this.parent.soundManager)return this.waitTime(0);var e=this.parent.soundManager.getBackgroundMusic();return e?this.waitEvent(e,"complete"):this.waitTime(0)},waitBackgroundMusic2Complete(){if(!this.parent.soundManager)return this.waitTime(0);var e=this.parent.soundManager.getBackgroundMusic2();return e?this.waitEvent(e,"complete"):this.waitTime(0)}};var mst=function(e){if(!e)return this.waitTime(0);var t=!1;for(var i in e)switch(i){case"time":t=!0,this.waitTime(e.time);break;case"click":t=!0,this.waitClick();break;case"key":t=!0,this.waitKeyDown(e.key);break;case"bgm":t=!0,this.waitBackgroundMusicComplete();break;case"bgm2":t=!0,this.waitBackgroundMusic2Complete();break;case"se":t=!0,this.waitSoundEffectComplete();break;case"se2":t=!0,this.waitSoundEffect2Complete();break;case"camera":t=!0,this.waitCameraEffectComplete(`camera.${e.camera.toLowerCase()}`,e.cameraName);break;default:var s=i.split(".");if(s.length===2){var g=s[0],E=s[1],n=this.parent.getGameObjectManager(void 0,g);if(!n)continue;if(E==="destroy")return this.waitGameObjectDestroy(void 0,g);var T=n.getProperty(g,E);if(typeof T=="number"){t=!0,this.waitGameObjectTweenComplete(void 0,g,E);continue}var r=E,o=r.startsWith("!");if(o&&(r=r.substring(1)),n.hasData(g,E)){t=!0,this.waitGameObjectDataFlag(void 0,g,r,!o);continue}this.waitEvent(gameObject,E);continue}else s.length;break}return t||this.waitTime(0),this.parent},ek={waitAny:mst};Object.assign(ek,fst,cst,vst,pst,gst);class ik extends tk{constructor(t,i){super(t),this.waitCompleteEventName=Pi(i,"completeEventName",this.waitCompleteEventName),this.setClickTarget(Pi(i,"clickTarget",this.scene)),this.setClickShortcutKeys(Pi(i,"clickShortcutKeys",void 0)),this.setCameraTarget(Pi(i,"camera",this.scene.cameras.main))}get clickTarget(){return this.parent.clickTarget}set clickTarget(t){this.parent.clickTarget=t}get clickShortcutKeys(){return this.parent.clickShortcutKeys}set clickShortcutKeys(t){this.parent.clickShortcutKeys=t}get cameraTarget(){return this.parent.cameraTarget}set cameraTarget(t){this.parent.cameraTarget=t}destroy(){this.clearClickTarget(),this.clearClickShortcutKeys(),this.clearCameraTarget(),super.destroy()}get scene(){return this.parent.managersScene}}Object.assign(ik.prototype,ek);const ty=Phaser.Utils.Objects.GetValue;var yst=function(e,t){this.clickTarget=void 0,this.clickShortcutKeys=void 0,this.cameraTarget=void 0,this.managersScene=e,this.gameObjectManagers={};var i=ty(t,"layers",!1);if(i!==!1){var s=new Qx(e,{name:"LAYER",layers:i,rootLayer:ty(t,"rootLayer",void 0),depth:ty(t,"layerDepth",void 0)});this.addGameObjectManager(s),this.layerManager=s}var g=ty(t,"sounds");return g!==!1&&(this.soundManager=new qG(e,g)),this.timeline=new ost(this),this.waitEventManager=new ik(this,t),this},xst=function(e){this.timeline.timeScale=e;for(var t in this.gameObjectManagers)this.gameObjectManagers[t].setTimeScale(e);return this},Tst=function(){return this.timeline.timeScale},Cst=function(e){this.waitEventManager.destroy(),this.waitEventManager=void 0,delete this.gameObjectManagers.layer;for(var t in this.gameObjectManagers)this.gameObjectManagers[t].destroy(e),delete this.gameObjectManagers[t];this.layerManager&&(this.layerManager.destroy(e),this.layerManager=void 0),this.soundManager&&(this.soundManager.destroy(),this.soundManager=void 0),this.timeline&&(this.timeline.destroy(),this.timeline=void 0),this.clickTarget=void 0,this.clickShortcutKeys=void 0,this.cameraTarget=void 0,this.managersScene=void 0};const rk={addGameObjectManager(e,t){var i;return e instanceof Hd?i=e:typeof e=="string"?(i=t,i.name=e):(e===void 0&&(e={}),t===void 0&&(t=Hd),e.createGameObjectScope||(e.createGameObjectScope=this),i=new t(this.managersScene,e)),this.gameObjectManagers[i.name]=i,this},getGameObjectManager(e,t){if(e){var i=this.gameObjectManagers[e];return i}else{t&&t.charAt(0)==="!"&&(t=t.substring(1));for(var e in this.gameObjectManagers){var i=this.gameObjectManagers[e];if(i.has(t))return i}}},getGameObjectManagerNames(){var e=[];for(var t in this.gameObjectManagers)e.push(t);return e},getGameObjectManagerName(e){var t=this.getGameObjectManager(void 0,e);if(t)return t.name},hasGameObjectMananger(e){return e in this.gameObjectManagers}},Sst={createGameObject(e,t,...i){return this.getGameObjectManager(e,t).add(t,...i),this},destroyGameObject(e,t){var i=this.getGameObjectManager(e,t);return t===void 0?i.removeAll():i.remove(t),this},hasGameObject(e,t){return!!this.getGameObjectManager(e,t)},callGameObjectMethod(e,t,i,...s){return this.getGameObjectManager(e,t).call(t,i,...s),this},setGameObjectProperty(e,t,i,s){return this.getGameObjectManager(e,t).setProperty(t,i,s),this},easeGameObjectProperty(e,t,i){return this.getGameObjectManager(e,t).easeProperty(t,i),this},getGameObjectTweenTask(e,t,i){return this.getGameObjectManager(e,t).getTweenTask(t,i)},getGameObject(e,t,i){var s=this.getGameObjectManager(e,t);if(!s)return i;if(typeof t=="string")return s.getGO(t);i===void 0&&(i=[]);var g=t;g===void 0&&(g=Object.keys(s.bobs));for(var E=Array.isArray(i),n=0,T=g.length;n<T;n++){t=g[n];var r=s.getGO(t);r&&(E?i.push(r):i[t]=r)}return i},addGameObject(e,t,i){var s=this.getGameObjectManager(e,t);if(typeof t=="string")s.addGO(t,i);else{var g=t;for(t in g)s.addGO(t,g[t])}return this},drawGameObjectsBounds(e,t,i){e instanceof Phaser.GameObjects.Graphics&&(i=t,t=e,e=void 0),e===void 0&&(e=this.getGameObjectManagerNames()),Array.isArray(e)||(e=[e]);for(var s=0,g=e.length;s<g;s++)this.getGameObjectManager(e[s]).drawGameObjectsBounds(t,i);return this}};var Est=function(e){class t extends e{}var i={initManagers:yst,setTimeScale:xst,getTimeScale:Tst,destroyManagers:Cst};return Object.assign(t.prototype,i,rk,Sst),t},Ab={exports:{}},tI;function bst(){return tI||(tI=1,(function(e){var t=Object.prototype.hasOwnProperty,i="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(i=!1));function g(r,o,y){this.fn=r,this.context=o,this.once=y||!1}function E(r,o,y,d,h){if(typeof y!="function")throw new TypeError("The listener must be a function");var l=new g(y,d||r,h),a=i?i+o:o;return r._events[a]?r._events[a].fn?r._events[a]=[r._events[a],l]:r._events[a].push(l):(r._events[a]=l,r._eventsCount++),r}function n(r,o){--r._eventsCount===0?r._events=new s:delete r._events[o]}function T(){this._events=new s,this._eventsCount=0}T.prototype.eventNames=function(){var o=[],y,d;if(this._eventsCount===0)return o;for(d in y=this._events)t.call(y,d)&&o.push(i?d.slice(1):d);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(y)):o},T.prototype.listeners=function(o){var y=i?i+o:o,d=this._events[y];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,l=d.length,a=new Array(l);h<l;h++)a[h]=d[h].fn;return a},T.prototype.listenerCount=function(o){var y=i?i+o:o,d=this._events[y];return d?d.fn?1:d.length:0},T.prototype.emit=function(o,y,d,h,l,a){var f=i?i+o:o;if(!this._events[f])return!1;var c=this._events[f],u=arguments.length,v,p;if(c.fn){switch(c.once&&this.removeListener(o,c.fn,void 0,!0),u){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,y),!0;case 3:return c.fn.call(c.context,y,d),!0;case 4:return c.fn.call(c.context,y,d,h),!0;case 5:return c.fn.call(c.context,y,d,h,l),!0;case 6:return c.fn.call(c.context,y,d,h,l,a),!0}for(p=1,v=new Array(u-1);p<u;p++)v[p-1]=arguments[p];c.fn.apply(c.context,v)}else{var m=c.length,x;for(p=0;p<m;p++)switch(c[p].once&&this.removeListener(o,c[p].fn,void 0,!0),u){case 1:c[p].fn.call(c[p].context);break;case 2:c[p].fn.call(c[p].context,y);break;case 3:c[p].fn.call(c[p].context,y,d);break;case 4:c[p].fn.call(c[p].context,y,d,h);break;default:if(!v)for(x=1,v=new Array(u-1);x<u;x++)v[x-1]=arguments[x];c[p].fn.apply(c[p].context,v)}}return!0},T.prototype.on=function(o,y,d){return E(this,o,y,d,!1)},T.prototype.once=function(o,y,d){return E(this,o,y,d,!0)},T.prototype.removeListener=function(o,y,d,h){var l=i?i+o:o;if(!this._events[l])return this;if(!y)return n(this,l),this;var a=this._events[l];if(a.fn)a.fn===y&&(!h||a.once)&&(!d||a.context===d)&&n(this,l);else{for(var f=0,c=[],u=a.length;f<u;f++)(a[f].fn!==y||h&&!a[f].once||d&&a[f].context!==d)&&c.push(a[f]);c.length?this._events[l]=c.length===1?c[0]:c:n(this,l)}return this},T.prototype.removeAllListeners=function(o){var y;return o?(y=i?i+o:o,this._events[y]&&n(this,y)):(this._events=new s,this._eventsCount=0),this},T.prototype.off=T.prototype.removeListener,T.prototype.addListener=T.prototype.on,T.prefixed=i,T.EventEmitter=T,e.exports=T})(Ab)),Ab.exports}var Pst=bst();const wst=Up(Pst);class nk extends wst{shutdown(){this.removeAllListeners()}destroy(){this.removeAllListeners()}}const sk={setEventEmitter(e,t){return t===void 0&&(t=nk),this._privateEE=e===!0||e===void 0,this._eventEmitter=this._privateEE?new t:e,this},destroyEventEmitter(){return this._eventEmitter&&this._privateEE&&this._eventEmitter.shutdown(),this},getEventEmitter(){return this._eventEmitter},on:function(){return this._eventEmitter&&this._eventEmitter.on.apply(this._eventEmitter,arguments),this},once:function(){return this._eventEmitter&&this._eventEmitter.once.apply(this._eventEmitter,arguments),this},off:function(){return this._eventEmitter&&this._eventEmitter.off.apply(this._eventEmitter,arguments),this},emit:function(e){return this._eventEmitter&&e&&this._eventEmitter.emit.apply(this._eventEmitter,arguments),this},addListener:function(){return this._eventEmitter&&this._eventEmitter.addListener.apply(this._eventEmitter,arguments),this},removeListener:function(){return this._eventEmitter&&this._eventEmitter.removeListener.apply(this._eventEmitter,arguments),this},removeAllListeners:function(){return this._eventEmitter&&this._eventEmitter.removeAllListeners.apply(this._eventEmitter,arguments),this},listenerCount:function(){return this._eventEmitter?this._eventEmitter.listenerCount.apply(this._eventEmitter,arguments):0},listeners:function(){return this._eventEmitter?this._eventEmitter.listeners.apply(this._eventEmitter,arguments):[]},eventNames:function(){return this._eventEmitter?this._eventEmitter.eventNames.apply(this._eventEmitter,arguments):[]}};var Mst=/^\s*-?(\d*\.?\d+|\d+\.?\d*)(e[-+]?\d+)?\s*$/i,Rst=/^0x[0-9A-F]+$/i,mM=function(e){if(typeof e!="string")return e;if(e==="")e=null;else if(Mst.test(e))e=parseFloat(e);else if(Rst.test(e))e=parseInt(e,16);else switch(e){case"false":e=!1;break;case"true":e=!0;break;case"null":e=null;break;case"undefined":e=void 0;break}return e};let ak=class{constructor(t){this.setEventEmitter(Pi(t,"eventEmitter",void 0)),this.setValueConverter(Pi(t,"valueConvert",!0)),this.setLoopEnable(Pi(t,"loop",!1)),this.setMultipleLinesTagEnable(Pi(t,"multipleLinesTag",!1));var i=Pi(t,"delimiters","<>");this.setDelimiters(i[0],i[1]),this.setTranslateTagNameCallback(Pi(t,"translateTagNameCallback")),this.isRunning=!1,this.isPaused=!1,this.skipEventFlag=!1,this.justCompleted=!1,this.lastTagStart=null,this.lastTagEnd=null,this.lastContent=null}shutdown(){this.destroyEventEmitter()}destroy(){this.shutdown()}setMultipleLinesTagEnable(t){return t===void 0&&(t=!0),this.multipleLinesTagEnable=t,this}setDelimiters(t,i){i===void 0&&(i=t[1],t=t[0]),this.delimiterLeft=t,this.delimiterRight=i,t=Xd(this.delimiterLeft),i=Xd(this.delimiterRight);var s=this.multipleLinesTagEnable?"gs":"gi";return this.reSplit=RegExp(`${t}(.+?)${i}`,s),this}setTranslateTagNameCallback(t){return this.translateTagNameCallback=t,this}setValueConverter(t){return t===!0?t=mM:t||(t=Ast),this.valueConverter=t,this}setLoopEnable(t){return t===void 0&&(t=!0),this.loopEnable=t,this}setSource(t){return this.source=t,this}resetIndex(t){return t===void 0&&(t=0),this.progressIndex=t,this.reSplit.lastIndex=t,this.lastTagStart=null,this.lastTagEnd=null,this.lastContent=null,this.justCompleted=!1,this.isRunning=!1,this}start(t){return this.setSource(t).restart(),this}restart(){this.resetIndex().next()}next(){if(this.isPaused&&this.onResume(),this.isRunning)return this;if(this.isRunning=!0,this.justCompleted)return this.isRunning=!1,this;this.reSplit.lastIndex===0&&this.onStart();var t=this.source,i=t.length;for(this.reSplit.lastIndex=this.progressIndex;;){var s=this.reSplit.exec(t);if(!s){if(this.progressIndex<i&&(this.onContent(t.substring(this.progressIndex,i)),this.isPaused)){this.progressIndex=i;break}this.onComplete(),this.isRunning=!1;return}var g=this.reSplit.lastIndex,E=g-s[0].length;if(this.progressIndex<E&&(this.onContent(t.substring(this.progressIndex,E)),this.isPaused)){this.progressIndex=E;break}if(this.lastTagSource=s[0],this.onTag(s[1]),this.lastTagSource=void 0,this.progressIndex=g,this.isPaused)break}return this.isRunning=!1,this}skipEvent(){return this.skipEventFlag=!0,this}pause(){return this.isPaused||this.onPause(),this}pauseUntilEvent(t,i){return this.isPaused?this:(this.pause(),t.once(i,function(){this.next()},this),this)}onContent(t){this.skipEventFlag=!1,this.emit("content",t),this.lastContent=t}onTag(t){}onStart(){this.isRunning=!0,this.emit("start",this)}onComplete(){this.isRunning=!1,this.justCompleted=!0,this.emit("complete",this),this.loopEnable&&this.resetIndex()}onPause(){this.isPaused=!0,this.emit("pause",this)}onResume(){this.isPaused=!1,this.emit("resume",this)}};const Ast=function(e){return e};Object.assign(ak.prototype,sk);var Ost=function(e,t,i){if(e==null)return[];t===void 0&&(t=mM),i===void 0&&(i=",");for(var s=e.split(i),g=0,E=s.length;g<E;g++)s[g]=t(s[g]);return s};class Lst extends ak{constructor(t){t===void 0&&(t={}),t.hasOwnProperty("multipleLinesTag")||(t.multipleLinesTag=!1),super(t),this.setTagExpression(Pi(t,"regex.tag",void 0)),this.setValueExpression(Pi(t,"regex.value",void 0));var i=Pi(t,"delimiters","<>");this.setDelimiters(i[0],i[1])}setTagExpression(t){return t||(t=ey),this.tagExpression=t,this}setValueExpression(t){return t||(t=ey),this.valueExpression=t,this}setDelimiters(t,i){super.setDelimiters(t,i);var s=`(${this.tagExpression})(=(${this.valueExpression}))?`;if(this.reTag=RegExp(s,"i"),this.tagExpression!==ey||this.valueExpression!==ey){var g=`${this.tagExpression}(=${this.valueExpression})?`,E=`/${this.tagExpression}`;t=Xd(this.delimiterLeft),i=Xd(this.delimiterRight);var n=this.multipleLinesTagEnable?"gs":"gi";this.reSplit=RegExp(`${t}((${g})|(${E}))${i}`,n)}return this}onTag(t){var i=t.match(this.reTag),s=i[1],g=s.charAt(0)==="/";if(g&&(s=s.substring(1,s.length)),this.translateTagNameCallback&&(s=this.translateTagNameCallback(s)),this.skipEventFlag=!1,g)this.emit(`-${s}`),this.skipEventFlag||this.emit("-",s),this.lastTagEnd=s;else{var E=Ost(i[3],this.valueConverter);this.emit(`+${s}`,...E),this.skipEventFlag||this.emit("+",s,...E),this.lastTagStart=s}}}const ey="[^=]+";var Dst=function(e,t,i){var s="color",g;t.on("start",function(){g=e.textStyle.color}).on(`+${s}`,function(E){e.textStyle.setColor(E),t.skipEvent()}).on(`-${s}`,function(){e.textStyle.setColor(g),t.skipEvent()}).on("complete",function(){e.textStyle.setColor(g)})},Fst=function(e,t,i){var s="stroke",g;t.on("start",function(){g=e.textStyle.stroke,e.textStyle.setStrokeStyle(null)}).on(`+${s}`,function(E){E===void 0&&(E=g),e.textStyle.setStrokeStyle(E),t.skipEvent()}).on(`-${s}`,function(){e.textStyle.setStrokeStyle(null),t.skipEvent()}).on("complete",function(){e.textStyle.setStrokeStyle(g)})},Ist=function(e,t,i){var s="b";t.on("start",function(){e.textStyle.setBold(!1)}).on(`+${s}`,function(){e.textStyle.setBold(!0),t.skipEvent()}).on(`-${s}`,function(){e.textStyle.setBold(!1),t.skipEvent()})},Bst=function(e,t,i){var s="i";t.on("start",function(){e.textStyle.setItalic(!1)}).on(`+${s}`,function(){e.textStyle.setItalic(!0),t.skipEvent()}).on(`-${s}`,function(){e.textStyle.setItalic(!1),t.skipEvent()})},Gst=function(e,t,i){var s="size",g;t.on("start",function(){g=e.textStyle.fontSize}).on(`+${s}`,function(E){e.textStyle.setFontSize(E),t.skipEvent()}).on(`-${s}`,function(){e.textStyle.setFontSize(g),t.skipEvent()}).on("complete",function(){e.textStyle.setFontSize(g)})},kst=function(e,t,i){var s="y",g;t.on("start",function(){g=e.textStyle.offsetY,e.textStyle.setOffsetY(0)}).on(`+${s}`,function(E){E===void 0&&(E=g),e.textStyle.setOffsetY(E),t.skipEvent()}).on(`-${s}`,function(){e.textStyle.setOffsetY(0),t.skipEvent()}).on("complete",function(){e.textStyle.setOffsetY(0)})},Nst=function(e,t,i){var s="x",g;t.on("start",function(){g=e.textStyle.offsetY,e.textStyle.setOffsetX(0)}).on(`+${s}`,function(E){E===void 0&&(E=g),e.textStyle.setOffsetX(E),t.skipEvent()}).on(`-${s}`,function(){e.textStyle.setOffsetX(0),t.skipEvent()}).on("complete",function(){e.textStyle.setOffsetX(0)})},Ust=function(e,t,i){var s="left",g;t.on("start",function(){g=e.textStyle.leftSpace,e.textStyle.setLeftSpace(0)}).on(`+${s}`,function(E){E===void 0&&(E=g),e.textStyle.setLeftSpace(E),t.skipEvent()}).on(`-${s}`,function(){e.textStyle.setLeftSpace(0),t.skipEvent()}).on("complete",function(){e.textStyle.setLeftSpace(0)})},Vst=function(e,t,i){var s="right",g;t.on("start",function(){g=e.textStyle.rightSpace,e.textStyle.setRightSpace(0)}).on(`+${s}`,function(E){E===void 0&&(E=g),e.textStyle.setRightSpace(E),t.skipEvent()}).on(`-${s}`,function(){e.textStyle.setRightSpace(0),t.skipEvent()}).on("complete",function(){e.textStyle.setRightSpace(0)})},zst=function(e,t,i){var s="shadow",g;t.on("start",function(){g=e.textStyle.shadowColor,e.textStyle.setShadowColor(null)}).on(`+${s}`,function(E){E===void 0&&(E=g),e.textStyle.setShadowColor(E),t.skipEvent()}).on(`-${s}`,function(){e.textStyle.setShadowColor(null),t.skipEvent()}).on("complete",function(){e.textStyle.setShadowColor(g)})},Wst=function(e,t,i){var s="align";t.on(`+${s}`,function(g){e.textStyle.setAlign(g),t.skipEvent()}).on(`-${s}`,function(){e.textStyle.setAlign(),t.skipEvent()}).on("complete",function(){e.textStyle.setAlign()})},Yst=function(e,t,i){var s="img";t.on(`+${s}`,function(g){var E=e.imageManager.get(g);E&&LG.call(e,E.key,E.frame,{width:E.width,hieght:E.height,leftSpace:E.left,rightSpace:E.right,color:E.tintFill?e.textStyle.color:void 0}),t.skipEvent()}).on(`-${s}`,function(){t.skipEvent()})},Xst=function(e,t,i){var s="space";t.on(`+${s}`,function(g){DG.call(e,g),t.skipEvent()}).on(`-${s}`,function(){t.skipEvent()})},Hst=function(e,t,i){var s="speed";t.on(`+${s}`,function(g){eI(e,g),t.skipEvent()}).on(`-${s}`,function(){eI(e,void 0),t.skipEvent()})},$st=function(e){this.typeWriter.setTypingSpeed(e)},eI=function(e,t){Pe.call(e,"speed",$st,t,e)},Kst=function(e,t,i){var s="se";t.on(`+${s}`,function(g,E){Pe.call(e,s,Jst,[g,E],e),t.skipEvent()}).on(`-${s}`,function(){t.skipEvent()});var s="se2";t.on(`+${s}`,function(g,E){Pe.call(e,s,Zst,[g,E],e),t.skipEvent()}).on(`-${s}`,function(){t.skipEvent()})},Jst=function(e){if(!this.skipSoundEffect){var t=e[0],i=e[1];this.soundManager.playSoundEffect(t),i&&this.soundManager.fadeInSoundEffect(i)}},Zst=function(e){if(!this.skipSoundEffect){var t=e[0],i=e[1];this.soundManager.playSoundEffect2(t),i&&this.soundManager.fadeInSoundEffect2(i)}},jst=function(e,t,i){var s="se.fadein";t.on(`+${s}`,function(g){Pe.call(e,s,Qst,g,e),t.skipEvent()}).on(`-${s}`,function(){t.skipEvent()});var s="se2.fadein";t.on(`+${s}`,function(g){Pe.call(e,s,qst,g,e),t.skipEvent()}).on(`-${s}`,function(){t.skipEvent()})},Qst=function(e){this.soundManager.fadeInSoundEffect(e)},qst=function(e){this.soundManager.fadeInSoundEffect2(e)},_st=function(e,t,i){var s="se.fadeout";t.on(`+${s}`,function(g,E){E=E==="stop",Pe.call(e,s,tat,[g,E],e),t.skipEvent()}).on(`-${s}`,function(){t.skipEvent()});var s="se2.fadeout";t.on(`+${s}`,function(g,E){E=E==="stop",Pe.call(e,s,eat,[g,E],e),t.skipEvent()}).on(`-${s}`,function(){t.skipEvent()})},tat=function(e){this.soundManager.fadeOutSoundEffect(...e)},eat=function(e){this.soundManager.fadeOutSoundEffect2(...e)},iat=function(e,t,i){var s="se.volume";t.on(`+${s}`,function(g){Pe.call(e,s,rat,g,e),t.skipEvent()}).on(`-${s}`,function(){t.skipEvent()});var s="se2.volume";t.on(`+${s}`,function(g){Pe.call(e,s,nat,g,e),t.skipEvent()}).on(`-${s}`,function(){t.skipEvent()})},rat=function(e){this.soundManager.setSoundEffectVolume(e,!0)},nat=function(e){this.soundManager.setSoundEffectVolume2(e,!0)},sat=function(e,t,i){var s="se.mute";t.on(`+${s}`,function(){Pe.call(e,s,aat,void 0,e),t.skipEvent()}).on(`-${s}`,function(){t.skipEvent()});var s="se2.mute";t.on(`+${s}`,function(){Pe.call(e,s,oat,void 0,e),t.skipEvent()}).on(`-${s}`,function(){t.skipEvent()});var s="se.unmute";t.on(`+${s}`,function(){Pe.call(e,s,lat,void 0,e),t.skipEvent()}).on(`-${s}`,function(){t.skipEvent()});var s="se2.unmute";t.on(`+${s}`,function(){Pe.call(e,s,hat,void 0,e),t.skipEvent()}).on(`-${s}`,function(){t.skipEvent()})},aat=function(){this.soundManager.setSoundEffectMute(!0)},oat=function(){this.soundManager.setSoundEffect2Mute(!0)},lat=function(){this.soundManager.setSoundEffectMute(!1)},hat=function(){this.soundManager.setSoundEffect2Mute(!1)},uat=function(e,t,i){var s="bgm";t.on(`+${s}`,function(g,E){Pe.call(e,s,fat,[g,E],e),t.skipEvent()}).on(`-${s}`,function(){Pe.call(e,"bgm.stop",dat,void 0,e),t.skipEvent()});var s="bgm2";t.on(`+${s}`,function(g,E){Pe.call(e,s,cat,[g,E],e),t.skipEvent()}).on(`-${s}`,function(){Pe.call(e,"bgm2.stop",vat,void 0,e),t.skipEvent()})},fat=function(e){var t=e[0],i=e[1];this.soundManager.playBackgroundMusic(t),i&&this.soundManager.fadeInBackgroundMusic(i)},dat=function(){this.soundManager.stopBackgroundMusic()},cat=function(e){var t=e[0],i=e[1];this.soundManager.playBackgroundMusic2(t),i&&this.soundManager.fadeInBackgroundMusic2(i)},vat=function(){this.soundManager.stopBackgroundMusic2()},pat=function(e,t,i){var s="bgm.fadein";t.on(`+${s}`,function(g){Pe.call(e,s,gat,g,e),t.skipEvent()}).on(`-${s}`,function(){t.skipEvent()});var s="bgm2.fadein";t.on(`+${s}`,function(g){Pe.call(e,s,mat,g,e),t.skipEvent()}).on(`-${s}`,function(){t.skipEvent()})},gat=function(e){this.soundManager.fadeInBackgroundMusic(e)},mat=function(e){this.soundManager.fadeInBackgroundMusic2(e)},yat=function(e,t,i){var s="bgm.fadeout";t.on(`+${s}`,function(g,E){E=E==="stop",Pe.call(e,s,xat,[g,E],e),t.skipEvent()}).on(`-${s}`,function(){t.skipEvent()});var s="bgm2.fadeout";t.on(`+${s}`,function(g,E){E=E==="stop",Pe.call(e,s,Tat,[g,E],e),t.skipEvent()}).on(`-${s}`,function(){t.skipEvent()})},xat=function(e){this.soundManager.fadeOutBackgroundMusic(...e)},Tat=function(e){this.soundManager.fadeOutBackgroundMusic2(...e)},Cat=function(e,t,i){var s="bgm.cross";t.on(`+${s}`,function(g,E){Pe.call(e,s,Sat,[g,E],e),t.skipEvent()}).on(`-${s}`,function(){t.skipEvent()});var s="bgm2.cross";t.on(`+${s}`,function(g,E){Pe.call(e,s,Eat,[g,E],e),t.skipEvent()}).on(`-${s}`,function(){t.skipEvent()})},Sat=function(e){this.soundManager.crossFadeBackgroundMusic(...e)},Eat=function(e){this.soundManager.crossFadeBackgroundMusic2(...e)},bat=function(e,t,i){var s="bgm.pause";t.on(`+${s}`,function(){Pe.call(e,s,Pat,void 0,e),t.skipEvent()}).on(`-${s}`,function(){Pe.call(e,"bgm.resume",wat,void 0,e),t.skipEvent()});var s="bgm2.pause";t.on(`+${s}`,function(){Pe.call(e,s,Mat,void 0,e),t.skipEvent()}).on(`-${s}`,function(){Pe.call(e,"bgm2.resume",Rat,void 0,e),t.skipEvent()})},Pat=function(){this.soundManager.pauseBackgroundMusic()},wat=function(){this.soundManager.resumeBackgroundMusic()},Mat=function(){this.soundManager.pauseBackgroundMusic2()},Rat=function(){this.soundManager.resumeBackgroundMusic2()},Aat=function(e,t,i){var s="bgm.volume";t.on(`+${s}`,function(g){Pe.call(e,s,Oat,g,e),t.skipEvent()}).on(`-${s}`,function(){t.skipEvent()});var s="bgm2.volume";t.on(`+${s}`,function(g){Pe.call(e,s,Lat,g,e),t.skipEvent()}).on(`-${s}`,function(){t.skipEvent()})},Oat=function(e){this.soundManager.setBackgroundMusicVolume(e)},Lat=function(e){this.soundManager.setBackgroundMusicVolume2(e)},Dat=function(e,t,i){var s="bgm.mute";t.on(`+${s}`,function(){Pe.call(e,s,Fat,void 0,e),t.skipEvent()}).on(`-${s}`,function(){t.skipEvent()});var s="bgm2.mute";t.on(`+${s}`,function(){Pe.call(e,s,Iat,void 0,e),t.skipEvent()}).on(`-${s}`,function(){t.skipEvent()});var s="bgm.unmute";t.on(`+${s}`,function(){Pe.call(e,s,Bat,void 0,e),t.skipEvent()}).on(`-${s}`,function(){t.skipEvent()});var s="bgm2.unmute";t.on(`+${s}`,function(){Pe.call(e,s,Gat,void 0,e),t.skipEvent()}).on(`-${s}`,function(){t.skipEvent()})},Fat=function(){this.soundManager.setBackgroundMusicMute(!0)},Iat=function(){this.soundManager.setBackgroundMusic2Mute(!0)},Bat=function(){this.soundManager.setBackgroundMusicMute(!1)},Gat=function(){this.soundManager.setBackgroundMusic2Mute(!1)},kat=function(e,t,i){var s="camera.fadein";t.on(`+${s}`,function(g,E,n,T){Pe.call(e,s,Nat,[g,E,n,T],e),t.skipEvent()})},Nat=function(e){this.cameraTarget.fadeIn(...e)},Uat=function(e,t,i){var s="camera.fadeout";t.on(`+${s}`,function(g,E,n,T){Pe.call(e,s,Vat,[g,E,n,T],e),t.skipEvent()})},Vat=function(e){this.cameraTarget.fadeOut(...e)},zat=function(e,t,i){var s="camera.shake";t.on(`+${s}`,function(g,E){Pe.call(e,s,Wat,[g,E],e),t.skipEvent()})},Wat=function(e){this.cameraTarget.shake(...e)},Yat=function(e,t,i){var s="camera.flash";t.on(`+${s}`,function(g,E,n,T){Pe.call(e,s,Xat,[g,E,n,T],e),t.skipEvent()})},Xat=function(e){this.cameraTarget.flash(...e)},Hat=function(e,t,i){var s="camera.zoom";t.on(`+${s}`,function(g){Pe.call(e,s,$at,g,e),t.skipEvent()}).on(`+${s}.to`,function(g,E,n){Pe.call(e,"camera.zoom.to",Kat,[g,E,n],e),t.skipEvent()})},$at=function(e){this.cameraTarget.setZoom(e)},Kat=function(e){this.cameraTarget.zoomTo(...e)};const iI=Phaser.Math.DegToRad;var Jat=function(e,t,i){var s="camera.rotate";t.on(`+${s}`,function(g){g=iI(g),Pe.call(e,s,Zat,g,e),t.skipEvent()}).on(`+${s}.to`,function(g,E,n){g=iI(g),Pe.call(e,"camera.rotate.to",jat,[g,E,n],e),t.skipEvent()})},Zat=function(e){this.cameraTarget.setRotation(e)},jat=function(e){var t=e[0],i=e[1],s=e[2];this.cameraTarget.rotateTo(t,!1,i,s)},Qat=function(e,t,i){var s="camera.scroll";t.on(`+${s}`,function(g,E){Pe.call(e,s,qat,[g,E],e),t.skipEvent()}).on(`+${s}.to`,function(g,E,n,T){Pe.call(e,"camera.scroll.to",_at,[g,E,n,T],e),t.skipEvent()})},qat=function(e){this.cameraTarget.setScroll(...e)},_at=function(e){var t=e[0],i=e[1],s=e[2],g=e[3],E=this.cameraTarget,n=E.scrollX,T=E.scrollY;E.setScroll(t,i),t+=E.centerX,i+=E.centerY,E.setScroll(n,T),E.pan(t,i,s,g)},tot=function(e,t,i){var s="wait",g="click";t.on(`+${s}`,function(E){rI(e,E),t.skipEvent()}).on(`-${s}`,function(){t.skipEvent()}).on(`+${g}`,function(){rI(e,"click"),t.skipEvent()}).on(`-${g}`,function(){t.skipEvent()})},eot=function(e){this.typeWriter.wait(e)},rI=function(e,t){Pe.call(e,"wait",eot,t,e)},iot=function(e,t,i){var s="r";t.on(`+${s}`,function(){Jp.call(e,`
`),t.skipEvent()}).on(`-${s}`,function(){t.skipEvent()})},rot=function(e,t,i){for(var s=["pagebreak","pb"],g=0,E=s.length;g<E;g++){var n=s[g];t.on(`+${n}`,function(){Jp.call(e,"\f"),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()})}},not=function(e,t,i){var s="content.off";t.on(`+${s}`,function(){t.setContentOutputEnable(!1),t.skipEvent()})},sot=function(e,t,i){var s="content.on";t.on(`+${s}`,function(){t.setContentOutputEnable(),t.skipEvent()})},aot=function(e,t,i){t.on("content",function(s){if(t.contentOutputEnable)Jp.call(e,s);else{var g=`+${t.lastTagStart}`;e.emit(`parser.${g}#content`,t,s)}})},oot=function(e,t,i){t.on("start",function(){e.emit("parser.start",t)}).on("+",function(s,...g){if(!t.skipEventFlag){var E=`+${s}`,n=g;e.emit(`parser.${E}`,t,...g,n),nI(e,E,n)}}).on("-",function(s){if(!t.skipEventFlag){var g=`-${s}`,E=[];e.emit(`parser.${g}`,t,E),nI(e,g,E)}}).on("complete",function(){e.emit("parser.complete",t)})},lot=function(e,t){var i=`tag.${t}`;e==null?this.emit(i):this.emit(i,...e)},nI=function(e,t,i){Pe.call(e,t,lot,i,e)};const sI=[Dst,Fst,Ist,Bst,Gst,zst,Wst,kst,Nst,Ust,Vst,Yst,Xst,Hst,Kst,jst,_st,iat,sat,uat,pat,yat,Cat,bat,Aat,Dat,kat,Uat,zat,Yat,Hat,Jat,Qat,tot,iot,rot,not,sot,aot,oot];var hot=function(e,t,i){for(var s=0,g=sI.length;s<g;s++)sI[s](e,t,i)},uot=function(e,t){for(var i=e.commentLineStart,s=t.split(`
`),g=0,E=s.length;g<E;g++){var n=s[g];n===""||(n.trim().length===0||i&&n.startsWith(i))&&(s[g]="")}return s.join("")};const fot=Phaser.Utils.Objects.GetValue;class dot extends Lst{constructor(t,i){i===void 0&&(i={}),i.hasOwnProperty("delimiters")||(i.delimiters="[]"),super(i),hot(t,this,i),this.setCommentLineStartSymbol(fot(i,"comment","//")),this.setContentOutputEnable()}setCommentLineStartSymbol(t){return this.commentLineStart=t,this}setContentOutputEnable(t){return t===void 0&&(t=!0),this.contentOutputEnable=t,this}start(t){return super.start(uot(this,t)),this}}const cot={setDefaultTypingSpeed(e){return this.defaultSpeed=e,this},setTypingSpeed(e){return e===void 0&&(e=this.defaultSpeed),this.speed=e,this}},Bu="page.fadeout",yw="_remove.play",aI=[Bu,yw];var vot=function(){if(!this.fadeOutPageCallback||!this.children)return this.emit(Bu),this;var e=this.children.filter(function(s){return s.renderable}),t=this.fadeOutPageCallback(e,this.fadeOutPageDuration);if(!t)this.emit(Bu);else if(t.once)t.once("complete",function(){this.emit(Bu)},this);else if(t.then){var i=this;t.then(function(){i.emit(Bu)})}else this.emit(Bu);return this},tT=function(e,t){return new Promise(function(i,s){e.once(t,function(){i()})})},pn=function(e){return tT(e,"complete")},pot=function(e){return this.children=e,this.index=0,this.isPageTyping=!0,this.onTypeStart&&this.onTypeStart(e),this.typing(),pn(this)};const got="delay",ok="anim";var lk=function(e){e===void 0&&(e=0);var t=0;for(this.inTypingProcessLoop=!0;this.inTypingProcessLoop;){var i=this.getNextChild();if(!i){this.timeline.isRunning?this.timeline.once("complete",function(){this.isPageTyping=!1,this.emit("complete")},this):(this.isPageTyping=!1,this.emit("complete"));break}if(i.renderable){var s=this.animationConfig;if(s.duration>0){var g=this.timeline.addTimer({name:ok,target:i,duration:s.duration,yoyo:s.yoyo,onStart:s.onStart,onProgress:s.onProgress,onComplete:s.onComplete});this.skipTypingAnimation&&g.seek(1)}else s.onStart&&s.onStart(i,0);this.minSizeEnable&&this.textPlayer.setToMinSize(),this.textPlayer.emit("typing",i);var E=this.nextChild;if(E&&!(this.skipSpaceEnable&&ait(E))){if(t+=this.speed+e,e=0,t>0){this.typingTimer=this.timeline.addTimer({name:got,target:this,duration:t,onComplete:function(n,T,r){n.typingTimer=void 0,lk.call(n,r.remainder)}});break}}}else oit(i)&&i.exec()}this.minSizeEnable&&this.textPlayer.setToMinSize(),this.inTypingProcessLoop=!1},mot=function(){return this.timeline.pause(),this},yot=function(){return this.timeline.resume(),this},xot=function(){return this.isTypingPaused?this:(this.typingTimer?(this.typingTimer.pause(),this.isTypingPaused=!0):this.inTypingProcessLoop&&(this.inTypingProcessLoop=!1,this.isTypingPaused=!0),this)},Tot=function(e){return this.isTypingPaused?(e===void 0&&(e=0),this.typingTimer?(this.isTypingPaused=!1,this.typingTimer.resume(),this.typingTimer.remainder+=e):this.isTypingPaused&&(this.isTypingPaused=!1,this.typing(e)),this):this},Cot=function(e){switch(e){case"camera.fadein":case"camera.fadeout":case"camera.flash":case"camera.shake":case"camera.zoom":case"camera.rotate":case"camera.scroll":return!0;default:return!1}},Sot=function(e,t){var i=t.split(".");return e.gameObjectManagers.hasOwnProperty(i[0])},Eot=function(e,t,i,s){var g=e.waitEventManager,E=t.split("."),n=E[0],T=e.getGameObjectManager(n),r=`wait.${n}`;switch(E.length){case 1:g.waitGameObjectManagerEmpty(n),e.emit(r);return;case 2:var o=E[1];g.waitGameObjectDestroy(n,o),e.emit(r,o);return;case 3:var o=E[1],y=E[2],d=T.getProperty(o,y);if(typeof d=="number"){g.waitGameObjectTweenComplete(n,o,y),e.emit(r,o,y);return}var h=y,l=h.startsWith("!");if(l&&(h=h.substring(1)),T.hasData(o,h)){g.waitGameObjectDataFlag(n,o,h,!l),e.emit(r,o,h);return}else{g.waitTime(0);return}}};const bot=Phaser.Input.Keyboard.KeyCodes;var hk=function(e,t,i,s){var g=e.waitEventManager;g.clearWaitCompleteCallbacks().addWaitCompleteCallback(i,s),typeof t=="string"&&t.length>1&&t.indexOf("|")!==-1?t=t.split("|"):t=[t];for(var E=0,n=t.length;E<n;E++){var T=t[E];if(T==null||T==="wait"){var r=e.waitEventManager.getWaitCompleteTriggerCallback();e.emit("wait",r)}else if(typeof T=="number"||!isNaN(T)){var o=parseFloat(T);g.waitTime(o),e.emit("wait.time",o)}else if(T==="click")g.waitClick(),e.emit("wait.click");else if(T==="se"){g.waitSoundEffectComplete();var y=e.soundManager.getLastSoundEffect();e.emit("wait.music",y)}else if(T==="se2"){g.waitSoundEffect2Complete();var y=e.soundManager.getLastSoundEffect2();e.emit("wait.music",y)}else if(T==="bgm"){g.waitBackgroundMusicComplete();var y=e.soundManager.getBackgroundMusic();e.emit("wait.music",y)}else if(T==="bgm2"){g.waitBackgroundMusic2Complete();var y=e.soundManager.getBackgroundMusic2();e.emit("wait.music",y)}else if(bot.hasOwnProperty(T.toUpperCase()))g.waitKeyDown(T),e.emit("wait.keydown",T);else if(Cot(T))g.waitCameraEffectComplete(T),e.emit("wait.camera",T);else if(Sot(e,T))Eot(e,T);else{var r=e.waitEventManager.getWaitCompleteTriggerCallback();e.emit(`wait.${T}`,r)}}},Pot=function(e){return this.ignoreWait?this:(this.pauseTyping(),hk(this.textPlayer,e,this.resumeTyping,this),this)},wot=function(e){return e===void 0&&(e=!0),this.ignoreWait=e,this},Mot=function(e){return e===void 0&&(e=!0),this.skipSpaceEnable=e,this},Rot=function(e){if(e===void 0&&(e=!0),this.skipTypingAnimation=e,e)for(var t=this.timeline.getTimers(ok),i=0,s=t.length;i<s;i++)t[i].seek(1);return this},Aot=function(e){if(e===void 0&&(e=!0),this.skipSoundEffect=e,e){var t=this.textPlayer._soundManager;t&&t.fadeOutAllSoundEffects(100,!0)}return this},Oot=function(){return this.typingTimer&&this.typingTimer.seek(1),this},uk={fadeOutPage:vot,start:pot,typing:lk,pause:mot,resume:yot,pauseTyping:xot,resumeTyping:Tot,wait:Pot,setIgnoreWait:wot,setSkipSpaceEnable:Mot,setSkipTypingAnimation:Rot,setSkipSoundEffect:Aot,skipCurrentTypingDelay:Oot};Object.assign(uk,cot);const hd=Phaser.Utils.Objects.GetValue;class fk{constructor(t,i){this.setEventEmitter(),this.textPlayer=t,this.isPageTyping=!1,this.typingTimer=void 0,this.pauseTypingTimer=void 0,this.inTypingProcessLoop=!1,this.isTypingPaused=!1,this.setIgnoreWait(!1),this.setSkipTypingAnimation(!1),this.setTypingStartCallback(hd(i,"onTypingStart",Dot)),this.setDefaultTypingSpeed(hd(i,"speed",250)),this.setTypingSpeed(),this.setSkipSpaceEnable(hd(i,"skipSpace",!1)),this.setAnimationConfig(hd(i,"animation",void 0)),this.setMinSizeEnable(hd(i,"minSizeEnable",!1)),this.setFadeOutPageCallback(hd(i,"fadeOutPage"))}destroy(){this.destroyEventEmitter(),this.textPlayer=void 0,this.typingTimer=void 0,this.pauseTypingTimer=void 0,this.onTypeStart=void 0,this.animationConfig=void 0}get timeline(){return this.textPlayer.timeline}setTypingStartCallback(t){return this.onTypeStart=t,this}setAnimationConfig(t){return t||(t={}),t.hasOwnProperty("duration")||(t.duration=0),t.hasOwnProperty("onStart")||(t.onStart=Lot),this.animationConfig=t,this}setFadeOutPageCallback(t){return this.fadeOutPageCallback=t,this}setMinSizeEnable(t){return t===void 0&&(t=!0),this.minSizeEnable=t,this}getNextChild(){var t=this.nextChild;return this.index=Math.min(this.index+1,this.children.length),this._nextChild=void 0,t}get nextChild(){return this._nextChild||(this._nextChild=this.children[this.index]),this._nextChild}}var Lot=function(e){e.setVisible&&e.setVisible()},Dot=function(e){for(var t=0,i=e.length;t<i;t++){var s=e[t];s.setVisible&&s.setVisible(!1)}};Object.assign(fk.prototype,Zp,uk);class Fot extends vM{playAnimation(t){return this.gameObject.anims.timeScale=this.timeScale,this.gameObject.play(t),this}stopAnimation(){return this.gameObject.stop(),this}chainAnimation(t){return this.gameObject.chain(t),this}pauseAnimation(){return this.gameObject.anims.pause(),this}setTimeScale(t){return super.setTimeScale(t),this.gameObject.anims&&(this.gameObject.anims.timeScale=t),this}}const Iot={playAnimation(e,t){return this.has(e)||this.add(e),this.get(e).playAnimation(t),this},stopAnimation(e){return this.has(e)?(this.get(e).stopAnimation(),this):this},chainAnimation(e,t){return this.has(e)?(this.get(e).chainAnimation(t),this):this},pauseAnimation(e){return this.has(e)?(this.get(e).pauseAnimation(),this):this}};var dk={};Object.assign(dk,Iot);var ck=function(e){return!e||e==="sprite"?e=Bot:e==="image"&&(e=Got),e},Bot=function(e,t,i){return typeof i!="string"&&typeof i!="number"&&(i=void 0),e.add.sprite(0,0,t,i)},Got=function(e,t,i){return typeof i!="string"&&typeof i!="number"&&(i=void 0),e.add.image(0,0,t,i)};class vk extends Hd{constructor(t,i){i===void 0&&(i={}),i.BobClass=Fot,super(t,i)}setCreateGameObjectCallback(t,i){return t=ck(t),super.setCreateGameObjectCallback(t,i),this}}Object.assign(vk.prototype,dk);var oI=function(e,t){return e.length===3&&e[0]===t&&e[2]==="play"},kot=function(e,t){return e.length===3&&e[0]===t&&e[2]==="stop"},Not=function(e,t,i){var s=i.name;t.on("+",function(g,...E){if(!t.skipEventFlag){var n=g.split("."),T;if(oI(n,s))T=n[1];else return;Pe.call(e,`${s}.play`,Uot,[s,T,E],e),t.skipEvent()}}).on("+",function(g){if(!t.skipEventFlag){var E=g.split("."),n;if(kot(E,s))n=E[1];else return;Pe.call(e,`${s}.stop`,lI,[s,n],e),t.skipEvent()}}).on("-",function(g){if(!t.skipEventFlag){var E=g.split("."),n;if(oI(E,s))n=E[1];else return;Pe.call(e,`${s}.stop`,lI,[s,n],e),t.skipEvent()}})},Uot=function(e){var t,i,s;[t,i,s]=e;var g=s.shift(),E=this.getGameObjectManager(t);E.playAnimation(i,g),s.length>0&&E.chainAnimation(i,s)},lI=function(e){var t,i;[t,...i]=e;var s=this.getGameObjectManager(t);s.stopAnimation(...i)},Vot=function(e,t){return e.length===3&&e[0]===t&&e[2]==="pause"},zot=function(e,t,i){var s=i.name;t.on("+",function(g){if(!t.skipEventFlag){var E=g.split("."),n;if(Vot(E,s))n=E[1];else return;Pe.call(e,`${s}.pause`,Wot,[s,n],e),t.skipEvent()}})},Wot=function(e){var t,i;[t,...i]=e;var s=this.getGameObjectManager(t);s.pauseAnimation(...i)},Yot=function(e,t){return e.length===3&&e[0]===t&&e[2]==="chain"},Xot=function(e,t,i){var s=i.name;t.on("+",function(g){if(!t.skipEventFlag){var E=g.split("."),n;if(Yot(E,s))n=E[1];else return;var T=Array.prototype.slice.call(arguments,1);Pe.call(e,`${s}.chain`,Hot,[s,n,T],e),t.skipEvent()}})},Hot=function(e){var t,i;[t,...i]=e;var s=this.getGameObjectManager(t);s.chainAnimation(...i)};const $ot=[Not,zot,Xot];var Kot=function(e){e===void 0&&(e={}),e.name="sprite",e.parseCallbacks=$ot,e.createGameObject=ck(e.createGameObject),this.addGameObjectManager(e,vk)},hI=function(e,t){return e.length===2&&e[0]===t},Jot=function(e,t,i){var s=i.name;t.on("+",function(g,...E){if(!t.skipEventFlag){var n=g.split("."),T;if(hI(n,s))T=n[1];else return;Pe.call(e,`${s}.add`,Zot,[s,T,...E],e),t.skipEvent()}}).on("-",function(g){if(!t.skipEventFlag){var E=g.split("."),n;if(hI(E,s))n=E[1];else return;Pe.call(e,`${s}.remove`,jot,[s,n],e),t.skipEvent()}})},Zot=function(e){var t,i;[t,...i]=e;var s=this.getGameObjectManager(t);s.add(...i)},jot=function(e){var t,i;[t,...i]=e;var s=this.getGameObjectManager(t);s.remove(...i)},Qot=function(e,t,i){var s=i.name;t.on("-",function(g){t.skipEventFlag||g===s&&(Pe.call(e,`${s}.removeall`,qot,s,e),t.skipEvent())})},qot=function(e){var t=this.getGameObjectManager(e);t.removeAll()},_ot=function(e,t){return e.length===3&&e[0]===t},tlt=function(e,t,i){var s=i.name;t.on("+",function(g,...E){if(!t.skipEventFlag){var n=g.split("."),T,r;if(_ot(n,s))T=n[1],r=n[2];else return;Pe.call(e,`${s}.call`,elt,[s,T,r,...E],e),t.skipEvent()}})},elt=function(e){var t,i,s,g;[t,i,s,...g]=e;var E=`${t}.${s}`;if(this.emit(E,i,...g),!(this.listenerCount(E)>0)){var n=this.getGameObjectManager(t);n.hasMethod(i,s)?n.call(i,s,...g):n.setProperty(i,s,g[0])}},ilt={to:!0,yoyo:!0,from:!0,toLeft:!0,toRight:!0,toUp:!0,toDown:!0,yoyoLeft:!0,yoyoRight:!0,yoyoUp:!0,yoyoDown:!0,fromLeft:!0,fromRight:!0,fromUp:!0,fromDown:!0},rlt=function(e,t){return e.length===4&&e[0]===t&&ilt[e[3]]},nlt=function(e,t,i){var s=i.name;e.getGameObjectManager(s),t.on("+",function(g,E,n,T,r){if(!t.skipEventFlag){var o=g.split("."),y,d,h;if(rlt(o,s))y=o[1],d=o[2],h=o[3];else return;typeof T=="number"&&(r=T,T=void 0),Pe.call(e,`${s}.ease`,slt,[s,y,d,E,n,T,r,h],e),t.skipEvent()}})},slt=function(e){var t,i,s,g,E,n,T,r;[t,i,s,g,E,n,T,r]=e;var o=this.getGameObjectManager(t),y=o.getProperty(i,s);if(typeof y=="number"){r.endsWith("Left")||r.endsWith("Up")?r.startsWith("to")||r.startsWith("yoyo")?g=y-g:r.startsWith("from")&&(o.setProperty(i,s,y-g),g=y):r.endsWith("Right")||r.endsWith("Down")?r.startsWith("to")||r.startsWith("yoyo")?g=y+g:r.startsWith("from")&&(o.setProperty(i,s,y+g),g=y):r==="from"&&(o.setProperty(i,s,g),g=y);var d=r.startsWith("yoyo");o.easeProperty(i,{property:s,value:g,duration:E,ease:n,repeat:T,yoyo:d})}};const uI=[Jot,Qot,tlt,nlt],alt=rk.addGameObjectManager,olt={addGameObjectManager(e,t){e=e?Ga(e):{};var i=e.name;i||console.warn("[TextPlayer] Parameter 'name' is required in addGameObjectManager(config) method");var s=e.defaultLayer,g=e.createGameObject,E=this.layerManager;e.createGameObject=function(o,...y){var d=g.call(this,o,...y);return s&&E&&E.addToLayer(s,d),d},alt.call(this,e,t);var n=e.parseCallbacks;n?n=[...n,...uI]:n=uI;for(var T=0,r=n.length;T<r;T++)n[T](this,this.parser,e);return this}};var llt=function(e){return this.waitEventManager.setClickTarget(e),this},hlt=function(e){return this.waitEventManager.setCameraTarget(e),this},ult=function(e){var t=this;e?typeof e=="function"?this.nextPageInput=function(i,s){var g=t.waitEventManager;g.clearWaitCompleteCallbacks().addWaitCompleteCallback(i,s);var E=g.getWaitCompleteTriggerCallback();e.call(t,E)}:this.nextPageInput=function(i,s){hk(t,e,i,s)}:this.nextPageInput=null},flt=function(e,t){return this.imageManager.add(e,t),this};const dlt={play(e){return this.isPlaying?this:(this.removeChildren(),this.parser.start(e),this.isPlaying=!0,this.once("complete",function(){this.isPlaying=!1},this),this.lastWrapResult=void 0,this.typingNextPage(),this)},playPromise(e){var t=pn(this);return this.play(e),t}};var xw=function(){return!this.isPlaying||this.isPageTyping?this:(this.typeWriter.once(Bu,clt,this).fadeOutPage(),this)},clt=function(){var e=this.runWrap(this.lastWrapResult);this.lastWrapResult=e,this.emit("page.start");var t=function(){this.emit(yw),e.isLastPage?this.emit("complete"):(this.emit("page.complete"),this.ignoreNextPageInput?xw.call(this):this.nextPageInput&&this.nextPageInput(xw,this))};this.once(yw,function(){this.typeWriter.off("complete",t,this)},this),this.typeWriter.once("complete",t,this).start(e.children)};const vlt={pauseTyping(){return this.typeWriter.pauseTyping(),this},pause(){return this.pauseTyping(),this.timeline.pause(),this}},plt={resumeTyping(e){return this.typeWriter.resumeTyping(e),this},resume(){return this.resumeTyping(),this.timeline.resume(),this}};var glt=function(e){return this.typeWriter.wait(e),this};const mlt={setDefaultTypingSpeed(e){return this.defaultTypingSpeed=e,this},setTypingSpeed(e){return this.typingSpeed=e,this}};var ylt=function(e){return this.typeWriter.setIgnoreWait(e),this},xlt=function(e){return e===void 0&&(e=!0),this.ignoreNextPageInput=e,this},Tlt=function(){if(!this.isPlaying||!this.isPageTyping)return this;var e=this.typeWriter.speed,t=this.typeWriter.ignoreWait,i=this.typeWriter.skipTypingAnimation,s=this.typeWriter.skipSoundEffect;return this.typeWriter.once("complete",function(){this.typeWriter.setTypingSpeed(e).setIgnoreWait(t).setSkipTypingAnimation(i).setSkipSoundEffect(s)},this).setTypingSpeed(0).skipCurrentTypingDelay().setIgnoreWait(!0).setSkipTypingAnimation(!0).setSkipSoundEffect(!0),this};const Clt={getSprite(e){return this.getGameObject("sprite",e)},addSprite(e,t){return this.addGameObject("sprite",e,t),this}},Slt={setContentOutputEnable(e){return this.parser.setContentOutputEnable(e),this},setContentCallback(e,t){return this.contentCallback=e,this.contentCallbackScope=t,this}};var pk={setClickTarget:llt,setCameraTarget:hlt,setNextPageInput:ult,addImage:flt,typingNextPage:xw,wait:glt,setIgnoreWait:ylt,setIgnoreNextPageInput:xlt,showPage:Tlt};Object.assign(pk,olt,dlt,vlt,plt,mlt,Clt,Slt);var Elt=function(e){for(var t=0,i=aI.length;t<i;t++)e.emit(aI[t])};const fI=Phaser.Utils.Objects.IsPlainObject,ud=Phaser.Utils.Objects.GetValue;class yM extends Est(qd){constructor(t,i,s,g,E,n){fI(i)?n=i:fI(g)&&(n=g),n===void 0&&(n={});var T=n.text;delete n.text,super(t,i,s,g,E,n),this.type="rexTextPlayer",this.initManagers(t,n),this.parser=new dot(this,ud(n,"parser",void 0)),this.typeWriter=new fk(this,ud(n,"typing",void 0)),this._imageManager=void 0;var r=ud(n,"images",void 0);r&&this.addImage(r);var o=ud(n,"sprites");o!==!1&&o!==null&&Kot.call(this,o),this.setIgnoreNextPageInput(ud(n,"ignoreNextPageInput",!1)),this.setNextPageInput(ud(n,"nextPageInput",null)),this.isPlaying=!1,T&&this.play(T)}get imageManager(){return this._imageManager===void 0&&(this._imageManager=new lM(this.scene)),this._imageManager}get spriteManager(){return this.getGameObjectManager("sprite")}destroy(t){!this.scene||this.ignoreDestroy||(Elt(this),this.parser.destroy(),this.parser=void 0,this.typeWriter.destroy(t),this.typeWriter=void 0,this._imageManager&&this._imageManager.destroy(t),this._imageManager=void 0,this.destroyManagers(t),super.destroy(t))}get isPageTyping(){return this.typeWriter.isPageTyping}set defaultTypingSpeed(t){this.typeWriter.setDefaultTypingSpeed(t)}get defaultTypingSpeed(){return this.typeWriter.defaultTypingSpeed}set typingSpeed(t){this.typeWriter.setTypingSpeed(t)}get typingSpeed(){return this.typeWriter.speed}set timeScale(t){this.setTimeScale(t)}get timeScale(){return this.getTimeScale()}}Object.assign(yM.prototype,pk);It.register("textPlayer",function(e,t,i,s,g){var E=new yM(this.scene,e,t,i,s,g);return this.scene.add.existing(E),E});Dt(window,"RexPlugins.UI.TextPlayer",yM);const gk={maxLength:["maxLength",void 0],minLength:["minLength",void 0],readOnly:["readOnly",!1]},mk={direction:["direction",void 0]};var gh=function(e,t,i){if(typeof i=="string")e.hasOwnProperty(i)&&(t[i]=e[i]);else{var s=i;if(Array.isArray(s))for(var g=0,E=s.length;g<E;g++)gh(e,t,s[g]);else for(var i in s)gh(e,t,i)}},blt=function(e){e===void 0&&(e={});var t={};return gh(e,t,"inputType"),gh(e,t,"type"),gh(e,t,"style"),gh(e,t,mk),gh(e,t,gk),t},xM=function(e,t,i,s,g){if(t)return!(i&&!i(e,t)||!dI(e,t)||s&&!s(e,t));g===void 0&&(g=!1);for(var E=e.scene.input.manager,n=E.pointersTotal,T=E.pointers,t,r=0;r<n;r++)if(t=T[r],!(i&&!i(e,t))&&dI(e,t)&&!(s&&!s(e,t)))return g?t:!0;return!1},dI=function(e,t){for(var i=e.scene,s=i.input.cameras.getCamerasBelowPointer(t),g=i.input.manager,E=[e],n=0,T=s.length;n<T;n++)if(g.hitTest(t,E,s[n],iy),iy.length>0)return iy.length=0,!0;return iy.length=0,!1},iy=[],Bd=void 0,Plt=function(e){e!==Bd&&(Bd!==void 0&&Bd.close(),Bd=e)},wlt=function(e){e===Bd&&(Bd=void 0)};const Mlt=Phaser.Utils.Objects.GetValue;var mx=function(e,t,i){i===void 0&&(i={});var s,g;for(var E in e)s=e[E],g=Mlt(t,E,s[1]),g!==void 0&&(i[s[0]]=g);return i},yk=function(e){e.addEventListener("touchstart",fd,!1),e.addEventListener("touchmove",fd,!1),e.addEventListener("touchend",fd,!1),e.addEventListener("mousedown",fd,!1),e.addEventListener("mouseup",fd,!1),e.addEventListener("mousemove",fd,!1)},fd=function(e){e.stopPropagation()},xk=function(){return this.close(),this.emit("keydown-ENTER",this.parent,this),this},Rlt=function(){this.isOpened=!0,this.initText(),this.enterCloseEnable&&this.scene.input.keyboard.once("keydown-ENTER",xk,this),this.scene.sys.events.on("postupdate",this.updateText,this),this.clickOutSideTarget?(KG.call(this.clickOutSideTarget,this.parent),$G.call(this.clickOutSideTarget,this.parent),this.clickOutSideTarget.setInteractive().on("pointerdown",this.onClickOutside,this)):this.scene.input.on("pointerdown",this.onClickOutside,this),this.onOpenCallback&&this.onOpenCallback(this.parent,this),this.emit("open",this)},Alt=function(e){if(e){var t=e.parentElement;t&&t.removeChild(e)}},Olt=function(){this.isOpened=!1,this.updateText(),this.enterCloseEnable&&this.scene.input.keyboard.off("keydown-ENTER",xk,this),this.scene.sys.events.off("postupdate",this.updateText,this),this.clickOutSideTarget?this.clickOutSideTarget.disableInteractive().off("pointerdown",this.onClickOutside,this):this.scene.input.off("pointerdown",this.onClickOutside,this),this.onCloseCallback&&this.onCloseCallback(this.parent,this),Alt(this.node),this.node=void 0,this.emit("close",this)};const Ob=Phaser.Utils.Objects.GetValue;var Llt=function(e,t){var i,s=Ob(t,"inputType",void 0);s===void 0&&(s=Ob(t,"type","text")),s==="textarea"?(i=document.createElement("textarea"),i.style.resize="none"):(i=document.createElement("input"),i.type=s);var g=Ob(t,"style",void 0),E=i.style;mx(mk,g,E),E.position="absolute",E.opacity=0,E.pointerEvents="none",E.zIndex=0,E.transform="scale(0)",mx(gk,t,i),yk(i);var n=e.scene.sys.scale,T=n.isFullscreen?n.fullscreenTarget:document.body;return T.appendChild(i),i.addEventListener("focus",function(r){Rlt.call(e)}),i.addEventListener("blur",function(r){Olt.call(e)}),i},Dlt=function(){return this.isOpened?this:this.readOnly?this:(Plt(this),this.node||(this.node=Llt(this,this.nodeConfig)),this.setFocus(),this)},Flt=function(){return this.isOpened?(wlt(this),this.setBlur(),this):this},Ilt={open:Dlt,close:Flt};const il=Phaser.Utils.Objects.GetValue;class TM extends ji{constructor(t,i){super(t);var s=il(i,"inputType",void 0);s===void 0&&(s=il(i,"type","text")),this.setEnterCloseEnable(il(i,"enterClose",s!=="textarea"));var g=il(i,"onOpen",void 0);g||(g=il(i,"onFocus",void 0)),this.onOpenCallback=g,this.clickOutSideTarget=il(i,"clickOutSideTarget",void 0);var E=il(i,"onClose",void 0);E||(E=il(i,"onBlur",void 0)),this.onCloseCallback=E,this.onUpdateCallback=il(i,"onUpdate",void 0),this.isOpened=!1,t.on("pointerdown",function(){this.open()},this).setInteractive(),this.nodeConfig=blt(i),this.node=void 0}destroy(){this.close(),this.clickOutSideTarget&&this.clickOutSideTarget.destroy(),super.destroy()}onClickOutside(t){xM(this.parent,t)||this.close()}setEnterCloseEnable(t){return t===void 0&&(t=!0),this.enterCloseEnable=t,this}initText(){}updateText(){}get text(){return this.node?this.node.value:""}set text(t){this.node&&(this.node.value=t)}setText(t){return this.text=t,this}get maxLength(){return this.nodeConfig.maxLength}set maxLength(t){this.nodeConfig.maxLength=t,this.node&&(this.node.maxLength=t)}setMaxLength(t){return this.maxLength=t,this}get minLength(){return this.nodeConfig.minLength}set minLength(t){this.nodeConfig.minLength=t,this.node&&(this.node.minLength=t)}setMinLength(t){return this.minLength=t,this}get placeholder(){return this.node.placeholder}set placeholder(t){this.node&&(this.node.placeholder=t)}setPlaceholder(t){return this.placeholder=t,this}selectText(t,i){return this.node?(t===void 0?this.node.select():this.node.setSelectionRange(t,i),this):this}selectAll(){return this.selectText(),this}get selectionStart(){return this.node?this.node.selectionStart:0}get selectionEnd(){return this.node?this.node.selectionEnd:0}get selectedText(){if(!this.node)return"";var t=this.node;return t.value.substring(t.selectionStart,t.selectionEnd)}get cursorPosition(){return this.node?this.node.selectionStart:0}set cursorPosition(t){this.node&&this.node.setSelectionRange(t,t)}setCursorPosition(t){return t===void 0?t=this.text.length:t<0&&(t=this.text.length+t),this.cursorPosition=t,this}get tooltip(){return this.node?this.node.title:""}set tooltip(t){if(!this.node)return this;this.node.title=t}setTooltip(t){return this.tooltip=t,this}setTextChangedCallback(t){return this.onTextChanged=t,this}get readOnly(){return this.nodeConfig.readOnly}set readOnly(t){this.nodeConfig.readOnly=t,this.node&&(this.node.readOnly=t)}setReadOnly(t){return t===void 0&&(t=!0),this.readOnly=t,this}get spellCheck(){return this.node?this.node.spellcheck:""}set spellCheck(t){this.node&&(this.node.spellcheck=t)}setSpellCheck(t){return this.spellCheck=t,this}get fontColor(){if(this.node)return this.node.style.color}set fontColor(t){this.node&&(this.node.style.color=t)}setFontColor(t){return this.fontColor=t,this}setStyle(t,i){return this.node?(this.node.style[t]=i,this):this}getStyle(t){if(this.node)return this.node.style[t]}scrollToBottom(){return this.node?(this.node.scrollTop=this.node.scrollHeight,this):this}setEnabled(t){return this.node?(t===void 0&&(t=!0),this.node.disabled=!t,this):this}setBlur(){return this.node?(this.node.blur(),this):this}setFocus(){return this.node?(this.node.focus(),this):this}get isFocused(){return this.isOpened}}Object.assign(TM.prototype,Ilt);var Tk=function(e,t,i){e=e.replace(" ","");var s=i.previousText;if(e===s)return e;if(isNaN(e)){i.emit("nan",e,i),e=s;var g=i.cursorPosition-1;i.setText(e),i.setCursorPosition(g)}else i.previousText=e;return e},Blt=function(e){var t=e.parent,i=e.isOpened?e.selectionStart:null,s=e.isOpened?e.selectionEnd:null,g=e.prevSelectionStart,E=e.prevSelectionEnd;if(!(g===i&&E===s)){var n,T;g===null?(n=i,T=s):i===null?(n=g,T=E):(n=Math.min(g,i),T=Math.max(E,s));for(var r=n;r<T;r++){var o;g===null?o=!1:o=r>=g&&r<E;var y;if(i===null?y=!1:y=r>=i&&r<s,o!==y){var d=t.getCharChild(r);if(d){var h=o?"rangeout":"rangein";t.emit(h,d,r,t)}}}e.prevSelectionStart=i,e.prevSelectionEnd=s}},Glt=function(e){var t=e.parent,i=0,s=t.width,g=0,E=t.height,n=e.drawX,T=e.drawY,r=n+e.drawTLX,o=n+e.drawTRX,y=T+e.drawTLY,d=T+e.drawBLY,h;r<i?h=i-r:o>s?h=s-o:h=0;var l;y<g?l=g-y:d>E?l=E-d:l=0,t._textOX+=h,t._textOY+=l},klt=function(e){var t=e.parent,i=t.text;e.requestCursorPosition!==null&&(e.setCursorPosition(e.requestCursorPosition),e.requestCursorPosition=null);var s=e.cursorPosition;if(e.prevCursorPosition!==s){if(e.prevCursorPosition!==null&&e.prevCursorPosition>i.length&&(e.prevCursorPosition=null),e.prevCursorPosition!==null){var g=t.getCharChild(e.prevCursorPosition);g&&(g.text===`
`&&g.clearTextSize(),t.emit("cursorout",g,e.prevCursorPosition,t))}if(s!=null){var g=t.getCharChild(s);g&&(g.text===`
`&&g.copyTextSize(t.lastInsertCursor),Glt(g),t.emit("cursorin",g,s,t))}t.emit("movecursor",s,e.prevCursorPosition,t),e.prevCursorPosition=s}},cI=function(e){var t=e.prevSelectionStart;if(t!==null){for(var i=e.prevSelectionEnd,s=e.parent,g=t;g<i;g++){var E=s.getCharChild(g);E&&s.emit("cursorout",E,g,s)}e.prevSelectionStart=null,e.prevSelectionEnd=null}},vI=function(e){var t=e.prevCursorPosition;if(t!==null){var i=e.parent,s=i.getCharChild(t);s&&i.emit("cursorout",s,t,i),e.prevCursorPosition=null}};const Nlt=Phaser.Utils.Objects.GetValue;let Ult=class extends TM{constructor(t,i){super(t,i),this.setSelectAllWhenFocusEnable(Nlt(i,"selectAll",!1)),this.cursorMoveStartIndex=null,this.prevCursorPosition=null,this.prevSelectionStart=null,this.prevSelectionEnd=null,this.firstClickAfterOpen=!1,this.requestCursorPosition=null,t.on("pointerdown",function(s,g,E,n){var T=t.getNearestChild(g,E),r=t.getCharIndex(T);(!this.selectAllWhenFocus||!this.firstClickAfterOpen)&&this.setCursorPosition(r),this.cursorMoveStartIndex=r,this.firstClickAfterOpen=!1},this).on("pointermove",function(s,g,E,n){if(s.isDown){var T=t.getNearestChild(g,E),r=t.getCharIndex(T);this.cursorMoveStartIndex<r?this.selectText(this.cursorMoveStartIndex,r+1):this.selectText(r,this.cursorMoveStartIndex+1)}},this),this.on("open",function(){this.selectAllWhenFocus&&this.selectAll(),this.firstClickAfterOpen=!0,t.emit("open")},this).on("close",function(){t.emit("close")}).on("keydown-ENTER",function(){t.emit("keydown-ENTER")})}initText(){var t=this.parent;return this.prevCursorPosition=null,this.setText(t.text),this}updateText(){var t=this.parent,i=this.text;if(this.onUpdateCallback){var s=this.onUpdateCallback(i,t,this);s!=null&&(i=s)}return t.text!==i&&t.setText(i),this.isOpened?this.selectionStart!==this.selectionEnd?(vI(this),Blt(this)):(cI(this),klt(this)):(cI(this),vI(this)),this}setNumberInput(){return this.onUpdateCallback=Tk,this}setSelectAllWhenFocusEnable(t){return t===void 0&&(t=!0),this.selectAllWhenFocus=t,this}setRequestCursorPosition(t){return this.isOpened?(this.requestCursorPosition=t,this):this}};const Vlt=Phaser.Utils.Objects.GetValue,zlt=["inputType","onOpen","clickOutSideTarget","onFocus","onClose","onBlur","onUpdate","enterClose","readOnly","maxLength","minLength","selectAll"];var Wlt=function(e,t){var i=Vlt(t,"edit");return i===void 0&&(i={}),gh(t,i,zlt),new Ult(e,i)},ll=function(e,t){if(!e||typeof e=="number")return!1;if(e.hasOwnProperty(t))return!0;if(t.indexOf(".")!==-1){for(var i=t.split("."),s=e,g=0;g<i.length;g++)if(s.hasOwnProperty(i[g]))s=s[i[g]];else return!1;return!0}else return!1},Tw=function(e){if(e.parentContainer)return Tw(e.parentContainer);var t=HG(e);return t?Tw(t):e},Ylt=function(e){for(var t=Tw(e).cameraFilter,i=e.scene.sys.cameras.cameras,s,g,E=0,n=i.length;E<n;E++)if(s=i[E],g=(t&s.id)>0,!g)return s;return null};class Ck extends ji{constructor(t,i){super(t),this.targetCamera=void 0,this.boot()}boot(){this.scene.sys.events.on("prerender",this.resize,this)}destroy(){this.scene&&(this.scene.sys.events.off("prerender",this.resize,this),super.destroy())}resize(){var t=this.scene,i=this.parent,s=Ylt(i);if(s){i.setScrollFactor(0).setOrigin(.5);var g=t.sys.scale.gameSize,E=g.width,n=g.height,T=1/s.zoom,r=E/2,o=n/2,y=E*T,d=n*T;(i.x!==r||i.y!==o)&&i.setPosition(r,o),(i.width!==y||i.height!==d)&&i.setSize(y,d)}}}const Xlt=Phaser.GameObjects.Zone;let CM=class extends Xlt{constructor(t){super(t,0,0,2,2),this.fullWindow=new Ck(this)}};var Hlt=function(e,t){var i=!t.textArea;if(!ll(t,"wrap.vAlign")){var s=i?"center":"top";Dt(t,"wrap.vAlign",s)}if(ll(t,"wrap.wrapMode")||Dt(t,"wrap.wrapMode","char"),!ll(t,"wrap.maxLines")){var s=i?1:void 0;Dt(t,"wrap.maxLines",s)}if(i&&Dt(t,"wrap.wrapWidth",1/0),ll(t,"wrap.useDefaultTextHeight")||Dt(t,"wrap.useDefaultTextHeight",!0),t.edit||(t.edit={}),!ll(t.edit,"inputType")){var s=i?"text":"textarea";Dt(t.edit,"inputType",s)}if(t.clickOutSideTarget===!0){var g=new CM(e);e.add.existing(g),t.clickOutSideTarget=g}return t},ax=function(e,t,i,s){if(i===void 0&&(i="."),s===void 0&&(s={}),!e)return s;if(t in e)return Object.assign(s,e[t]);t+=i;for(var g in e)g.startsWith(t)&&(s[g.replace(t,"")]=e[g]);return s},$lt=function(){var e=this.scene.input.keyboard;this.textEdit.on("open",function(){e.on("keydown-UP",this.cursorMoveUp,this).on("keydown-DOWN",this.cursorMoveDown,this)},this).on("close",function(){e.off("keydown-UP",this.cursorMoveUp,this).off("keydown-DOWN",this.cursorMoveDown,this)},this)},eT=function(e,t,i){if(i===void 0&&(i={}),Array.isArray(t))for(var s,g=0,E=t.length;g<E;g++)s=t[g],i[s]=e[s];else for(var s in t)i[s]=e[s];return i},qp=function(e,t){for(var i in e)if(!(i in t)||e[i]!==t[i])return!1;for(var i in t)if(!(i in e))return!1;return!0},Klt=function(e){jp(e)||this.setCursorStyle(e).on("cursorin",function(t){var i=this.cursorStyle,s=eT(t.style,i);qp(i,s)||(t.styleSave=s,t.modifyStyle(i))},this).on("cursorout",function(t){t.styleSave&&(t.modifyStyle(t.styleSave),t.styleSave=void 0)},this)},Jlt=function(e){jp(e)||this.setRangeStyle(e).on("rangein",function(t){var i=this.rangeStyle,s=eT(t.style,i);qp(i,s)||(t.styleSave=s,t.modifyStyle(i))},this).on("rangeout",function(t){t.styleSave&&(t.modifyStyle(t.styleSave),t.styleSave=void 0)},this)},Zlt=function(e){jp(e)||this.setFocusStyle(e).on("open",function(){var t=this.background,i=this.focusStyle,s=eT(t,i);qp(i,s)||(t.styleSave=s,t.modifyStyle(i))},this).on("close",function(){var t=this.background;t.styleSave&&(t.modifyStyle(t.styleSave),t.styleSave=void 0)},this)},jlt=function(e){var t=e.createCharChild("|");return t.text="",t};function vl(){}vl.prototype={diff(e,t,i={}){let s=i.callback;typeof i=="function"&&(s=i,i={}),this.options=i;let g=this;function E(l){return s?(setTimeout(function(){s(void 0,l)},0),!0):l}e=this.castInput(e),t=this.castInput(t),e=this.removeEmpty(this.tokenize(e)),t=this.removeEmpty(this.tokenize(t));let n=t.length,T=e.length,r=1,o=n+T;i.maxEditLength&&(o=Math.min(o,i.maxEditLength));let y=[{newPos:-1,components:[]}],d=this.extractCommon(y[0],t,e,0);if(y[0].newPos+1>=n&&d+1>=T)return E([{value:this.join(t),count:t.length}]);function h(){for(let l=-1*r;l<=r;l+=2){let a,f=y[l-1],c=y[l+1],u=(c?c.newPos:0)-l;f&&(y[l-1]=void 0);let v=f&&f.newPos+1<n,p=c&&0<=u&&u<T;if(!v&&!p){y[l]=void 0;continue}if(!v||p&&f.newPos<c.newPos?(a=qlt(c),g.pushComponent(a.components,void 0,!0)):(a=f,a.newPos++,g.pushComponent(a.components,!0,void 0)),u=g.extractCommon(a,t,e,l),a.newPos+1>=n&&u+1>=T)return E(Qlt(g,a.components,t,e,g.useLongestToken));y[l]=a}r++}if(s)(function l(){setTimeout(function(){if(r>o)return s();h()||l()},0)})();else for(;r<=o;){let l=h();if(l)return l}},pushComponent(e,t,i){let s=e[e.length-1];s&&s.added===t&&s.removed===i?e[e.length-1]={count:s.count+1,added:t,removed:i}:e.push({count:1,added:t,removed:i})},extractCommon(e,t,i,s){let g=t.length,E=i.length,n=e.newPos,T=n-s,r=0;for(;n+1<g&&T+1<E&&this.equals(t[n+1],i[T+1]);)n++,T++,r++;return r&&e.components.push({count:r}),e.newPos=n,T},equals(e,t){return this.options.comparator?this.options.comparator(e,t):e===t||this.options.ignoreCase&&e.toLowerCase()===t.toLowerCase()},removeEmpty(e){let t=[];for(let i=0;i<e.length;i++)e[i]&&t.push(e[i]);return t},castInput(e){return e},tokenize(e){return e.split("")},join(e){return e.join("")}};function Qlt(e,t,i,s,g){let E=0,n=t.length,T=0,r=0;for(;E<n;E++){let y=t[E];if(y.removed){if(y.value=e.join(s.slice(r,r+y.count)),r+=y.count,E&&t[E-1].added){let d=t[E-1];t[E-1]=t[E],t[E]=d}}else{if(!y.added&&g){let d=i.slice(T,T+y.count);d=d.map(function(h,l){let a=s[r+l];return a.length>h.length?a:h}),y.value=e.join(d)}else y.value=e.join(i.slice(T,T+y.count));T+=y.count,y.added||(r+=y.count)}}let o=t[n-1];return n>1&&typeof o.value=="string"&&(o.added||o.removed)&&e.equals("",o.value)&&(t[n-2].value+=o.value,t.pop()),t}function qlt(e){return{newPos:e.newPos,components:e.components.slice(0)}}const _lt=new vl;function tht(e,t,i){return _lt.diff(e,t,i)}const pI=/^[a-zA-Z\u{C0}-\u{FF}\u{D8}-\u{F6}\u{F8}-\u{2C6}\u{2C8}-\u{2D7}\u{2DE}-\u{2FF}\u{1E00}-\u{1EFF}]+$/u,gI=/\S/,Sk=new vl;Sk.equals=function(e,t){return this.options.ignoreCase&&(e=e.toLowerCase(),t=t.toLowerCase()),e===t||this.options.ignoreWhitespace&&!gI.test(e)&&!gI.test(t)};Sk.tokenize=function(e){let t=e.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/);for(let i=0;i<t.length-1;i++)!t[i+1]&&t[i+2]&&pI.test(t[i])&&pI.test(t[i+2])&&(t[i]+=t[i+2],t.splice(i+1,2),i--);return t};const Ek=new vl;Ek.tokenize=function(e){let t=[],i=e.split(/(\n|\r\n)/);i[i.length-1]||i.pop();for(let s=0;s<i.length;s++){let g=i[s];s%2&&!this.options.newlineIsToken?t[t.length-1]+=g:(this.options.ignoreWhitespace&&(g=g.trim()),t.push(g))}return t};const eht=new vl;eht.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)};const iht=new vl;iht.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};const rht=Object.prototype.toString,Ip=new vl;Ip.useLongestToken=!0;Ip.tokenize=Ek.tokenize;Ip.castInput=function(e){const{undefinedReplacement:t,stringifyReplacer:i=(s,g)=>typeof g>"u"?t:g}=this.options;return typeof e=="string"?e:JSON.stringify(Cw(e,null,null,i),i,"  ")};Ip.equals=function(e,t){return vl.prototype.equals.call(Ip,e.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"))};function Cw(e,t,i,s,g){t=t||[],i=i||[],s&&(e=s(g,e));let E;for(E=0;E<t.length;E+=1)if(t[E]===e)return i[E];let n;if(rht.call(e)==="[object Array]"){for(t.push(e),n=new Array(e.length),i.push(n),E=0;E<e.length;E+=1)n[E]=Cw(e[E],t,i,s,g);return t.pop(),i.pop(),n}if(e&&e.toJSON&&(e=e.toJSON()),typeof e=="object"&&e!==null){t.push(e),n={},i.push(n);let T=[],r;for(r in e)e.hasOwnProperty(r)&&T.push(r);for(T.sort(),E=0;E<T.length;E+=1)r=T[E],n[r]=Cw(e[r],t,i,s,r);t.pop(),i.pop()}else n=e;return n}const Sw=new vl;Sw.tokenize=function(e){return e.slice()};Sw.join=Sw.removeEmpty=function(e){return e};const nht=Phaser.Utils.Array.Remove;var sht=function(e,t){var i=e.text;if(t!==i){if(i==null&&(i=""),nht(e.children,e.lastInsertCursor),t==="")e.removeChildren();else for(var s=tht(i,t),g=0,E=0,n=s.length;E<n;E++){var T=s[E];T.removed?e.removeText(g,T.count):(T.added&&e.insertText(g,T.value),g+=T.count)}e.children.push(e.lastInsertCursor),e.runWrap(),e.isOpened&&e.textEdit.setText(t),e.emit("textchange",t,e)}};const aht={setTextOYByPercentage(e){return this.setTextOY(-this.textVisibleHeight*e),this},getTextOYPercentage(){var e=this.textVisibleHeight;return e===0?0:this._textOY/-e},setTextOXByPercentage(e){return this.setTextOX(-this.textVisibleWidth*e),this},getTextOXPercentage(){var e=this.textVisibleWidth;return e===0?0:this._textOX/-e}},ry=Phaser.Math.Clamp;var mI=function(e,t){var i={lineIndex:0,position:0};if(t<0)return i;for(var s=0,g=e.length;s<g;s++){var E=e[s];if(t<=E){i.lineIndex=s;break}t-=E}return i.position=t,i},yI=function(e,t){var i=0,s=t.lineIndex;if(s<0)return i;for(var g=0,E=e.length;g<E;g++){var n=e[g];if(s>g)i+=n;else if(s===g)i+=Math.min(t.position,n);else break}return i};const oht={cursorMoveLeft(){if(!this.isOpened)return this;var e=ry(this.cursorPosition-1,0,this.inputText.length);return this.setCursorPosition(e),this},cursorMoveRight(){if(!this.isOpened)return this;var e=ry(this.cursorPosition+1,0,this.inputText.length);return this.setCursorPosition(e),this},cursorMoveUp(){if(!this.isOpened)return this;var e=mI(this.characterCountOfLines,this.cursorPosition);e.lineIndex-=1;var t=ry(yI(this.characterCountOfLines,e),0,this.inputText.length);return this.setCursorPosition(t),this},cursorMoveDown(){if(!this.isOpened)return this;var e=mI(this.characterCountOfLines,this.cursorPosition);e.lineIndex+=1;var t=ry(yI(this.characterCountOfLines,e),0,this.inputText.length);return this.setCursorPosition(t),this}},xI=Phaser.Utils.Objects.IsPlainObject;class _p extends qd{constructor(t,i,s,g,E,n){xI(i)?n=i:xI(g)&&(n=g),n===void 0&&(n={}),Hlt(t,n);var T=n.text;T&&delete n.text;var r=ax(n.background,"focus"),o=ax(n.style,"cursor"),y=ax(n.style,"range");super(t,i,s,g,E,n),this.type="rexCanvasInput",this.contentWidth=void 0,this.contentHeight=void 0,this.lineHeight=void 0,this.linesCount=void 0,this.characterCountOfLines=[],this._text,this.textEdit=Wlt(this,n),$lt.call(this),n.focusStyle&&Object.assign(r,n.focusStyle),Zlt.call(this,r),n.cursorStyle&&Object.assign(o,n.cursorStyle),Klt.call(this,o),n.rangeStyle&&Object.assign(y,n.rangeStyle),jp(y)&&Object.assign(y,o),Jlt.call(this,y);var d=n.onAddChar;d&&this.on("addchar",d);var h=n.onCursorIn;h&&this.on("cursorin",h);var l=n.onCursorOut;l&&this.on("cursorout",l);var a=!n.onRangeIn&&!n.onRangeOut,f=a?n.onCursorIn:n.onRangeIn;f&&this.on("rangein",f);var c=a?n.onCursorOut:n.onRangeOut;c&&this.on("rangeout",c);var u=n.onMoveCursor;u&&this.on("movecursor",u),this.setParseTextCallback(n.parseTextCallback),this.lastInsertCursor=jlt(this),T||(T=""),this.setText(T)}addChild(t,i){if(super.addChild(t,i),Array.isArray(t))for(var s=t,g=0,E=s.length;g<E;g++){var t=s[g];Wu(t)&&this.emit("addchar",t,i+g,this)}else Wu(t)&&this.emit("addchar",t,i,this);return this}get text(){return this._text}set text(t){t==null?t="":t=t.toString(),this._text!==t&&(sht(this,t),this._text=t)}setText(t){return this.text=t,this}appendText(t){return this.setText(this.text+t),this}runWrap(t){var i=super.runWrap(t);this.contentWidth=i.maxLineWidth,this.contentHeight=i.linesHeight,this.lineHeight=i.lineHeight,this.linesCount=i.lines.length,this.characterCountOfLines.length=0;for(var s=i.lines,g=0,E=s.length;g<E;g++){for(var n=s[g].children,T=0,r=0,o=n.length;r<o;r++){var y=n[r];y.active&&!y.removed&&Wu(y)&&T++}this.characterCountOfLines.push(T)}return i}setSize(t,i){return this.width===t&&this.height===i?this:(super.setSize(t,i),this.runWrap(),this)}get displayText(){return this.text}set displayText(t){this.text=t}setDisplayText(t){return this.displayText=t,this}get inputText(){return this.textEdit.text}set inputText(t){this.textEdit.text=t}setInputText(t){return this.inputText=t,this}setParseTextCallback(t){return t||(t=lht),this.parseTextCallback=t,this}get value(){return this.parseTextCallback(this.text)}set value(t){this.setText(t)}getValue(){return this.value}setValue(t){return this.value=t,this}get readOnly(){return this.textEdit.readOnly}set readOnly(t){this.textEdit.readOnly=t}setReadOnly(t){return this.textEdit.setReadOnly(t),this}open(t){return t&&this.textEdit.once("close",t),this.textEdit.open(),this}close(){return this.textEdit.close(),this}get isOpened(){return this.textEdit.isOpened}setFocusStyle(t){return this.focusStyle=t,this}setCursorStyle(t){return this.cursorStyle=t,this}setRangeStyle(t){return this.rangeStyle=t,this}setNumberInput(){return this.textEdit.setNumberInput().setSelectAllWhenFocusEnable(),this.parseTextCallback=Number,this}get maxLength(){return this.textEdit.maxLength}set maxLength(t){this.textEdit.maxLength=t}setMaxLength(t){return this.maxLength=t,this}get minLength(){return this.textEdit.minLength}set minLength(t){this.textEdit.minLength=t}setMinLength(t){return this.minLength=t,this}get cursorPosition(){return this.textEdit.cursorPosition}set cursorPosition(t){this.isOpened&&(this.textEdit.cursorPosition=t,this.textEdit.requestCursorPosition=t)}setCursorPosition(t){return this.cursorPosition=t,this}get topTextOY(){return 0}get bottomTextOY(){return-this.tableVisibleHeight}get leftTextOX(){return 0}get rightTextOX(){return-this.textVisibleWidth}get textVisibleHeight(){var t=this.contentHeight-this.height;return t<0&&(t=0),t}get textVisibleWidth(){var t=this.contentWidth-this.width;return t<0&&(t=0),t}set t(t){this.setTextOYByPercentage(t).updateTexture()}get t(){return this.getTextOYPercentage()}set s(t){this.setTextOXByPercentage(t).updateTexture()}get s(){return this.getTextOXPercentage()}}var lht=function(e){return e};Object.assign(_p.prototype,aht,oht);It.register("canvasInput",function(e,t,i,s,g){var E=new _p(this.scene,e,t,i,s,g);return this.scene.add.existing(E),E});Dt(window,"RexPlugins.UI.CanvasInput",_p);var SM=function(e){return Xu(e).loop.delta};const TI=Phaser.Utils.Objects.GetValue,hht=Phaser.Math.Wrap;class bk extends TM{constructor(t,i){i===void 0&&(i={}),i.onUpdate==="number"&&(i.onUpdate=Tk),super(t,i),this.setCursor(TI(i,"cursor","|")),this.setCursorFlashDuration(TI(i,"cursorFlashDuration",1e3)),this.cursorFlashTimer=0}initText(){return this.cursorFlashTimer=0,this.prevCursorPosition=void 0,this.setText(this.parent.text),this.setCursorPosition(),this}updateText(){var t=this.parent,i=this.text;if(this.onUpdateCallback){var s=this.onUpdateCallback(i,t,this);s!=null&&(i=s)}if(this.isOpened&&this.hasCursor){var g=this.cursorPosition;i=i.substring(0,g)+this.cursor+i.substring(g),this.prevCursorPosition!==g&&(this.prevCursorPosition=g)}return t.text!==i&&(t.setText(i),this.emit("textchange",i,t,this)),this}setCursor(t){return this._cursor=t,this.hasCursor=t&&t!=="",t}setCursorFlashDuration(t){return this.cursorFlashDuration=t,this}get cursor(){if(!this._isFocused)return this._cursor;var t;this.cursorFlashTimer<this.cursorFlashDuration/2?t=this._cursor:t=" ";var i=this.cursorFlashTimer+SM(this.scene);return this.cursorFlashTimer=hht(i,0,this.cursorFlashDuration),t}}It.register("hiddenEdit",function(e,t){var i=new bk(e,t);return i});Dt(window,"RexPlugins.UI.HiddenEdit",bk);const uht=Phaser.GameObjects.GetCalcMatrix;var fht=function(e,t,i,s){t.updateData(),i.addToRenderList(t);var g=e.pipelines.set(t.pipeline),E=uht(t,i,s),n=g.calcMatrix.copyFrom(E.calc),T=t._displayOriginX,r=t._displayOriginY,o=i.alpha*t.alpha;e.pipelines.preBatch(t);for(var y=t.geom,d,h=0,l=y.length;h<l;h++)d=y[h],d.visible&&d.webglRender(g,n,o,T,r);e.pipelines.postBatch(t)};const dht=Phaser.Renderer.Canvas.SetTransform;var cht=function(e,t,i,s){t.updateData(),i.addToRenderList(t);var g=e.currentContext;if(dht(e,g,t,i,s)){for(var E=t._displayOriginX,n=t._displayOriginY,T=t.geom,r,o=0,y=T.length;o<y;o++)r=T[o],r.visible&&r.canvasRender(g,E,n);g.restore()}};const vht={renderWebGL:fht,renderCanvas:cht},pht=Phaser.GameObjects.Shape,ght=Phaser.Utils.Array.Remove;class pl extends pht{constructor(t,i,s,g,E){i===void 0&&(i=0),s===void 0&&(s=0),g===void 0&&(g=2),E===void 0&&(E=g),super(t,"rexShapes",[]),this._width=-1,this._height=-1,this.dirty=!0,this.isSizeChanged=!0,this.shapes={},this.setPosition(i,s),this.setSize(g,E),this.updateDisplayOrigin()}get width(){return this._width}set width(t){this.setSize(t,this._height)}get height(){return this._height}set height(t){this.setSize(this._width,t)}setDirty(t){return t===void 0&&(t=!0),this.dirty=t,this}setSize(t,i){this.isSizeChanged=this.isSizeChanged||this._width!==t||this._height!==i,this.dirty=this.dirty||this.isSizeChanged,this._width=t,this._height=i,this.updateDisplayOrigin();var s=this.input;return s&&!s.customHitArea&&(s.hitArea.width=t,s.hitArea.height=i),this}resize(t,i){return this.setSize(t,i),this}get fillColor(){return this._fillColor}set fillColor(t){this.setFillStyle(t,this._fillAlpha)}get fillAlpha(){return this._fillAlpha}set fillAlpha(t){this.setFillStyle(this._fillColor,t)}setFillStyle(t,i){return i===void 0&&(i=1),this.dirty=this.dirty||this.fillColor!==t||this.fillAlpha!==i,this._fillColor=t,this._fillAlpha=i,this}get lineWidth(){return this._lineWidth}set lineWidth(t){this.setStrokeStyle(t,this._strokeColor,this._strokeAlpha)}get strokeColor(){return this._strokeColor}set strokeColor(t){this.setStrokeStyle(this._lineWidth,t,this._strokeAlpha)}get strokeAlpha(){return this._strokeAlpha}set strokeAlpha(t){this.setStrokeStyle(this._lineWidth,this._strokeColor,t)}setStrokeStyle(t,i,s){return s===void 0&&(s=1),this.dirty=this.dirty||this.lineWidth!==t||this.strokeColor!==i||this.strokeAlpha!==s,this._lineWidth=t,this._strokeColor=i,this._strokeAlpha=s,this}updateShapes(){}updateData(){if(!this.dirty)return this;this.updateShapes();for(var t=this.geom,i=0,s=t.length;i<s;i++){var g=t[i];g.dirty&&g.updateData()}return this.isSizeChanged=!1,this.dirty=!1,this}clear(){return this.geom.length=0,Sh(this.shapes),this.dirty=!0,this}getShape(t){return this.shapes[t]}getShapes(){return this.geom}addShape(t){this.geom.push(t);var i=t.name;return i&&(this.shapes[i]=t),this.dirty=!0,this}deleteShape(t){var i=this.getShape(t);return i&&(delete this.shapes[t],ght(this.geom,i)),this}}Object.assign(pl.prototype,vht);const mht={setBoxFillStyle(e,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.boxFillColor!==e||this.boxFillAlpha!==t,this.boxFillColor=e,this.boxFillAlpha=t,this},setUncheckedBoxFillStyle(e,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.uncheckedBoxFillColor!==e||this.uncheckedBoxFillAlpha!==t,this.uncheckedBoxFillColor=e,this.uncheckedBoxFillAlpha=t,this},setBoxStrokeStyle(e,t,i){return i===void 0&&(i=1),this.dirty=this.dirty||this.boxLineWidth!==e||this.boxStrokeColor!==t||this.boxStrokeAlpha!==i,this.boxLineWidth=e,this.boxStrokeColor=t,this.boxStrokeAlpha=i,this},setUncheckedBoxStrokeStyle(e,t,i){return i===void 0&&(i=1),this.dirty=this.dirty||this.uncheckedBoxLineWidth!==e||this.uncheckedBoxStrokeColor!==t||this.uncheckedBoxStrokeAlpha!==i,this.uncheckedBoxLineWidth=e,this.uncheckedBoxStrokeColor=t,this.uncheckedBoxStrokeAlpha=i,this},setCheckerStyle(e,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.checkerColor!==e||this.checkAlpha!==t,this.checkerColor=e,this.checkAlpha=t,this},setBoxShape(e){return e===void 0&&(e=!1),this.isCircleShape===e?this:(this.isCircleShape=e,this.isSizeChanged=!0,this.dirty=!0,this)}},yht={setBoxSize(e){return this.dirty=this.dirty||this.boxSize!==e,this.boxSize=e,this},setCheckerSize(e){return this.dirty=this.dirty||this.checkerSize!==e,this.checkerSize=e,this}};var xht=function(e,t){return e==null?this.isFilled=!1:(t===void 0&&(t=1),this.isFilled=!0,this.fillColor=e,this.fillAlpha=t),this},Tht=function(e,t,i){return e==null||t==null?this.isStroked=!1:(i===void 0&&(i=1),this.isStroked=!0,this.lineWidth=e,this.strokeColor=t,this.strokeAlpha=i),this};const Cht={fillStyle:xht,lineStyle:Tht};class iT{constructor(){this.name=void 0,this.dirty=!0,this.visible=!0,this.data=void 0,this.isFilled=!1,this.fillColor=void 0,this.fillAlpha=1,this.isStroked=!1,this.lineWidth=1,this.strokeColor=void 0,this.strokeAlpha=1}setName(t){return this.name=t,this}setVisible(t){return t===void 0&&(t=!0),this.visible=t,this}reset(){return this.setVisible().fillStyle().lineStyle(),this}webglRender(t,i,s,g,E){}canvasRender(t,i,s){}updateData(){this.dirty=!1}}Object.assign(iT.prototype,Cht,Kx);const Sht=Phaser.Geom.Polygon.Earcut;class tg extends iT{constructor(){super(),this.pathData=[],this.pathIndexes=[],this.closePath=!1}updateData(){return this.pathIndexes=Sht(this.pathData),super.updateData(),this}webglRender(t,i,s,g,E){this.isFilled&&lG(t,i,this,s,g,E),this.isStroked&&Jx(t,this,s,g,E)}canvasRender(t,i,s){var g=this.pathData,E=g.length-1,n=g[0]-i,T=g[1]-s;t.beginPath(),t.moveTo(n,T),this.closePath||(E-=2);for(var r=2;r<E;r+=2){var o=g[r]-i,y=g[r+1]-s;t.lineTo(o,y)}this.closePath&&t.closePath(),this.isFilled&&($p(t,this),t.fill()),this.isStroked&&(Kp(t,this),t.stroke())}}const CI=Phaser.Math.DegToRad;class ic extends tg{constructor(t,i,s,g,E,n,T,r){t===void 0&&(t=0),i===void 0&&(i=0),s===void 0&&(s=0),g===void 0&&(g=0),E===void 0&&(E=0),n===void 0&&(n=360),T===void 0&&(T=!1),r===void 0&&(r=!1),super(),this.setCenterPosition(t,i),this.setRadius(s,g),this.setAngle(E,n,T),this.setPie(r),this.setIterations(32)}get x(){return this._x}set x(t){this.dirty=this.dirty||this._x!==t,this._x=t}get y(){return this._y}set y(t){this.dirty=this.dirty||this._y!==t,this._y=t}setCenterPosition(t,i){return i===void 0&&(i=t),this.x=t,this.y=i,this}get radiusX(){return this._radiusX}set radiusX(t){this.dirty=this.dirty||this._radiusX!==t,this._radiusX=t}get radiusY(){return this._radiusY}set radiusY(t){this.dirty=this.dirty||this._radiusY!==t,this._radiusY=t}setRadius(t,i){return i===void 0&&(i=t),this.radiusX=t,this.radiusY=i,this}get startAngle(){return this._startAngle}set startAngle(t){this.dirty=this.dirty||this._startAngle!==t,this._startAngle=t}get endAngle(){return this._endAngle}set endAngle(t){this.dirty=this.dirty||this._endAngle!==t,this._endAngle=t}get anticlockwise(){return this._anticlockwise}set anticlockwise(t){this.dirty=this.dirty||this._anticlockwise!==t,this._anticlockwise=t}setAngle(t,i,s){return s===void 0&&(s=!1),this.startAngle=t,this.endAngle=i,this.anticlockwise=s,this}get pie(){return this._pie}set pie(t){this.dirty=this.dirty||this._pie!==t,this._pie=t}setPie(t){return t===void 0&&(t=!0),this.pie=t,this}get iterations(){return this._iterations}set iterations(t){this.dirty=this.dirty||this._iterations!==t,this._iterations=t}setIterations(t){return this.iterations=t,this}updateData(){return this.pathData.length=0,this.pie&&this.pathData.push(this.x,this.y),qr(this.x,this.y,this.radiusX,this.radiusY,this.startAngle,this.endAngle,this.anticlockwise,this.iterations,this.pathData),this.pie&&this.pathData.push(this.x,this.y),this.pathData.push(this.pathData[0],this.pathData[1]),super.updateData(),this}canvasRender(t,i,s){t.beginPath();var g=this.x-i,E=this.y-s,n=CI(this.startAngle),T=CI(this.endAngle);this.pie&&(t.moveTo(g,E),t.lineTo(g+Math.cos(n)*this.radiusX,E+Math.sin(n)*this.radiusY)),t.ellipse(g,E,this.radiusX,this.radiusY,0,n,T,this.anticlockwise),this.pie&&t.lineTo(g,E),this.isFilled&&($p(t,this),t.fill()),this.isStroked&&(Kp(t,this),t.stroke())}}class sa extends ic{constructor(t,i,s){super(t,i,s,s,0,360)}}class Eht extends tg{constructor(t){super(),this.setCurve(t),this.setIterations(32)}get curve(){return this._curve}set curve(t){this.dirty=this.dirty||this._curve!==t,this._curve=t}setCurve(t){return this.curve=t,this}get iterations(){return this._iterations}set iterations(t){this.dirty=this.dirty||this._iterations!==t,this._iterations=t}setIterations(t){return this.iterations=t,this}updateData(){this.pathData.length=0;for(var t=this.curve.getPoints(this.iterations),i=0,s=t.length;i<s;i++)this.pathData.push(t[i].x,t[i].y);return this.pathData.push(t[0].x,t[0].y),super.updateData(),this}}class bht extends ic{constructor(t,i,s,g){super(t,i,s,g,0,360)}}class Ph extends tg{constructor(t,i,s,g){t===void 0&&(t=0),i===void 0&&(i=0),s===void 0&&(s=0),g===void 0&&(g=0),super(),this.setP0(t,i),this.setP1(s,g)}get x0(){return this._x0}set x0(t){this.dirty=this.dirty||this._x0!==t,this._x0=t}get y0(){return this._y0}set y0(t){this.dirty=this.dirty||this._y0!==t,this._y0=t}setP0(t,i){return this.x0=t,this.y0=i,this}get x1(){return this._x1}set x1(t){this.dirty=this.dirty||this._x1!==t,this._x1=t}get y1(){return this._y1}set y1(t){this.dirty=this.dirty||this._y1!==t,this._y1=t}setP1(t,i){return this.x1=t,this.y1=i,this}updateData(){return this.pathData.length=0,this.pathData.push(this.x0,this.y0),this.pathData.push(this.x1,this.y1),this.pathData.push(this.x0,this.y0),super.updateData(),this}}var Pht=function(e,t,i){return i.length=0,e!=null&&i.push(e,t),i};const SI=Phaser.Math.Interpolation.QuadraticBezier;var wht=function(e,t,i,s,g,E){for(var n=E.length,T=E[n-2],r=E[n-1],o=1,y=g-1;o<=y;o++){var d=o/y;E.push(SI(d,T,e,i),SI(d,r,t,s))}return E};const EI=Phaser.Math.Interpolation.CubicBezier;var Mht=function(e,t,i,s,g,E,n,T){for(var r=T.length,o=T[r-2],y=T[r-1],d=1,h=n-1;d<=h;d++){var l=d/h;T.push(EI(l,o,e,i,g),EI(l,y,t,s,E))}return T};const bI=Phaser.Math.Interpolation.CatmullRom;var Rht=function(e,t,i){for(var s=i.length,g=i[s-2],E=i[s-1],n=[g],T=[E],r=0,o=e.length;r<o;r+=2)n.push(e[r]),T.push(e[r+1]);for(var r=1,y=t-1;r<=y;r++){var d=r/y;i.push(bI(n,d),bI(T,d))}return i},Pk=function(e){var t=e.length;if(t<2)return e;var i=e[t-2],s=e[t-1];return e.push(i),e.push(s),e};const Aht={clear(){return this.start(),this},start(){return this.startAt(),this},startAt(e,t){return this.restorePathData(),this.accumulationLengths=void 0,Pht(e,t,this.pathData),this.firstPointX=e,this.firstPointY=t,this.lastPointX=e,this.lastPointY=t,this},lineTo(e,t,i){return i===void 0&&(i=!1),i&&(e+=this.lastPointX,t+=this.lastPointY),Qr(e,t,this.pathData),this.lastPointX=e,this.lastPointY=t,this},verticalLineTo(e,t){return this.lineTo(e,this.lastPointY,t),this},horizontalLineTo(e,t){return this.lineTo(this.lastPointX,e,t),this},ellipticalArc(e,t,i,s,g,E,n){return n===void 0&&(n=!1),qr(e,t,i,s,g,E,n,this.iterations,this.pathData),this.lastPointX=this.pathData[this.pathData.length-2],this.lastPointY=this.pathData[this.pathData.length-1],this},arc(e,t,i,s,g,E){return this.ellipticalArc(e,t,i,i,s,g,E),this},quadraticBezierTo(e,t,i,s){return wht(e,t,i,s,this.iterations,this.pathData),this.lastPointX=i,this.lastPointY=s,this},cubicBezierTo(e,t,i,s,g,E){return Mht(e,t,i,s,g,E,this.iterations,this.pathData),this.lastPointX=g,this.lastPointY=E,this},catmullRomTo(...e){return Rht(e,this.iterations,this.pathData),this.lastPointX=e[e.length-2],this.lastPointY=e[e.length-1],this},close(){var e=this.pathData[0],t=this.pathData[1];return(e!==this.lastPointX||t!==this.lastPointY)&&this.lineTo(e,t),this.closePath=!0,this},end(){return Pk(this.pathData),this}},Oht=Phaser.Math.RotateAround;var Lht=function(e,t,i,s){for(var g={x:0,y:0},E=0,n=s.length-1;E<n;E+=2)g.x=s[E],g.y=s[E+1],Oht(g,e,t,i),s[E]=g.x,s[E+1]=g.y;return s},Dht=function(e,t,i,s,g){for(var E=0,n=g.length-1;E<n;E+=2){var T=g[E]-e,r=g[E+1]-t;T*=i,r*=s,g[E]=T+e,g[E+1]=r+t}return g},wk=function(e,t,i){for(var s=0,g=i.length-1;s<g;s+=2)i[s]+=e,i[s+1]+=t;return i};const Fht=Phaser.Math.DegToRad;Phaser.Math.RotateAround;const Iht={rotateAround(e,t,i){if(this.pathData.length===0)return this;i=Fht(i),Lht(e,t,i,this.pathData);var s=this.pathData.length;return this.lastPointX=this.pathData[s-2],this.lastPointY=this.pathData[s-1],this},scale(e,t,i,s){return this.pathData.length===0?this:(Dht(e,t,i,s,this.pathData),this.lastPointX=this.pathData[pathDataCnt-2],this.lastPointY=this.pathData[pathDataCnt-1],this)},offset(e,t){return wk(e,t,this.pathData),this}};var yx=function(e,t,i,s){i===void 0&&(i=0),s===void 0&&(s=t.length),e.length=s-i;for(var g=0,E=e.length;g<E;g++)e[g]=t[g+i];return e};const Bht={savePathData(){return this.pathDataSaved?this:(this.pathDataSave=[...this.pathData],this.pathData.length=0,this.pathDataSaved=!0,this)},restorePathData(){return this.pathDataSaved?(yx(this.pathData,this.pathDataSave),this.pathDataSave=void 0,this.pathDataSaved=!1,this):this}},Ght=Phaser.Math.Distance.Between,kht=Phaser.Math.Wrap,Nht=Phaser.Math.Linear;var PI=function(e,t,i,s,g){if(s===void 0&&(s=i,i=0),i=wI(i),s=wI(s),i!==s){var E=t[t.length-1],n=E*i,T=E*s;i<s?Lb(e,t,n,T,g):(Lb(e,t,n,E,g),Lb(e,t,0,T,g)),Pk(g)}},Lb=function(e,t,i,s,g){for(var E=i>0,n=0,T=t.length;n<T;n++){var r=n*2,o=t[n];if(E){if(o<i)continue;if(o==i)E=!1;else{var y=o-t[n-1],d=1-(o-i)/y;g.push(ny(e,r-2,r,d)),g.push(ny(e,r-1,r+1,d)),E=!1}}if(o<=s){if(g.push(e[r]),g.push(e[r+1]),o===s)break}else{var y=o-t[n-1],d=1-(o-s)/y;g.push(ny(e,r-2,r,d)),g.push(ny(e,r-1,r+1,d));break}}},ny=function(e,t,i,s){var g=e[t],E=e[i];return Nht(g,E,s)},wI=function(e){return e===0?0:e%1===0?1:kht(e,0,1)};const Uht={updateAccumulationLengths(){if(this.accumulationLengths==null)this.accumulationLengths=[];else if(this.accumulationLengths.length===this.pathData.length/2)return this;for(var e=this.accumulationLengths,t=this.pathData,i,s,g,E,n,T=0,r=0,o=t.length;r<o;r+=2)g=t[r],E=t[r+1],n=i===void 0?0:Ght(i,s,g,E),T+=n,e.push(T),i=g,s=E;return this.totalPathLength=T,this},setDisplayPathSegment(e,t){return this.pathDataSaved||(this.updateAccumulationLengths(),this.savePathData()),this.pathData.length=0,PI(this.pathDataSave,this.accumulationLengths,e,t,this.pathData),this},appendFromPathSegment(e,t,i){return t===void 0?this.pathData.push(...e.pathData):(e.updateAccumulationLengths(),PI(e.pathData,e.accumulationLengths,t,i,this.pathData)),this.firstPointX=this.pathData[0],this.firstPointY=this.pathData[1],this.lastPointX=this.pathData[this.pathData.length-2],this.lastPointY=this.pathData[this.pathData.length-1],this}},Vht={draw(e,t,i){var s=this.toPoints();return t&&e.fillPoints(s,this.closePath,this.closePath),i&&e.strokePoints(s,this.closePath,this.closePath),this}};var zht=function(e,t){t===void 0&&(t=[]);for(var i=0,s=e.length-1;i<s;i+=2)t.push({x:e[i],y:e[i+1]});return t};const Wht=Phaser.Geom.Polygon;var Yht=function(e,t){return t===void 0&&(t=new Wht),t.setTo(e),t};class Mk{constructor(t){t===void 0&&(t=[]),this.pathData=t,this.closePath=!1,this.setIterations(32),this.firstPointX=void 0,this.firstPointY=void 0,this.lastPointX=void 0,this.lastPointY=void 0,this.accumulationLengths=void 0}setIterations(t){return this.iterations=t,this}toPoints(){return zht(this.pathData)}toPolygon(t){return Yht(this.pathData,t)}}Object.assign(Mk.prototype,Aht,Iht,Bht,Uht,Vht);class gn extends tg{constructor(){super(),this.builder=new Mk(this.pathData)}get iterations(){return this.builder.iterations}set iterations(t){this.dirty=this.dirty||this.builder.iterations!==t,this.builder.setIterations(t)}setIterations(t){return this.iterations=t,this}get lastPointX(){return this.builder.lastPointX}get lastPointY(){return this.builder.lastPointY}start(){return this.builder.start(),this.dirty=!0,this}startAt(t,i){return this.builder.startAt(t,i),this.dirty=!0,this}lineTo(t,i,s){return this.builder.lineTo(t,i,s),this.dirty=!0,this}verticalLineTo(t,i){return this.builder.verticalLineTo(t,i),this.dirty=!0,this}horizontalLineTo(t,i){return this.builder.horizontalLineTo(t,i),this.dirty=!0,this}ellipticalArc(t,i,s,g,E,n,T){return this.builder.ellipticalArc(t,i,s,g,E,n,T),this.dirty=!0,this}arc(t,i,s,g,E,n){return this.builder.arc(t,i,s,g,E,n),this.dirty=!0,this}quadraticBezierTo(t,i,s,g){return this.builder.quadraticBezierTo(t,i,s,g),this.dirty=!0,this}cubicBezierTo(t,i,s,g,E,n){return this.builder.cubicBezierTo(t,i,s,g,E,n),this.dirty=!0,this}catmullRomTo(...t){return this.builder.catmullRomTo(...t),this.dirty=!0,this}close(){return this.builder.close(),this.closePath=this.builder.closePath,this.dirty=!0,this}end(){return this.builder.end(),this.dirty=!0,this}rotateAround(t,i,s){return this.builder.rotateAround(t,i,s),this.dirty=!0,this}scale(t,i,s,g){return this.builder.scale(t,i,s,g),this.dirty=!0,this}offset(t,i){return this.builder.offset(t,i),this.dirty=!0,this}toPolygon(t){return this.builder.toPolygon(t)}appendPathFrom(t,i,s){return this.builder.appendFromPathSegment(t.builder,i,s),this}copyPathFrom(t,i,s){return this.builder.clear().appendFromPathSegment(t.builder,i,s),this}setDisplayPathSegment(t,i){return this.builder.setDisplayPathSegment(t,i),this}}const Xht=Phaser.Renderer.WebGL.Utils.getTintAppendFloatAlpha;let Hht=class extends iT{constructor(t,i,s,g){t===void 0&&(t=0),i===void 0&&(i=0),s===void 0&&(s=0),g===void 0&&(g=s),super(),this.pathData=[],this.closePath=!0,this.setTopLeftPosition(t,i),this.setSize(s,g)}get x(){return this._x}set x(t){this.dirty=this.dirty||this._x!==t,this._x=t}get y(){return this._y}set y(t){this.dirty=this.dirty||this._y!==t,this._y=t}setTopLeftPosition(t,i){return this.x=t,this.y=i,this}get width(){return this._width}set width(t){this.dirty=this.dirty||this._width!==t,this._width=t}get height(){return this._height}set height(t){this.dirty=this.dirty||this._height!==t,this._height=t}setSize(t,i){return this.width=t,this.height=i,this}get centerX(){return this.x+this.width/2}set centerX(t){this.x=t-this.width/2}get centerY(){return this.y+this.height/2}set centerY(t){this.y=t-this.height/2}setCenterPosition(t,i){return this.centerX=t,this.centerY=i,this}updateData(){this.pathData.length=0;var t=this.x,i=t+this.width,s=this.y,g=s+this.height;return this.pathData.push(t,s),this.pathData.push(i,s),this.pathData.push(i,g),this.pathData.push(t,g),this.pathData.push(t,s),super.updateData(),this}webglRender(t,i,s,g,E){if(this.isFilled){var n=t.fillTint,T=Xht(this.fillColor,this.fillAlpha*s);n.TL=T,n.TR=T,n.BL=T,n.BR=T,t.batchFillRect(-g+this.x,-E+this.y,this.width,this.height)}this.isStroked&&Jx(t,this,s,g,E)}canvasRender(t,i,s){this.isFilled&&($p(t,this),t.fillRect(-i,-s,this.width,this.height)),this.isStroked&&(Kp(t,this),t.beginPath(),t.rect(-i,-s,this.width,this.height),t.stroke())}};const sy=Phaser.Utils.Objects.GetValue;class xx extends tg{constructor(t,i,s,g,E,n){t===void 0&&(t=0),i===void 0&&(i=0),s===void 0&&(s=0),g===void 0&&(g=s),E===void 0&&(E=0),n===void 0&&(n=6),super(),this.setTopLeftPosition(t,i),this.setSize(s,g),this.setRadius(E),this.setIterations(n),this.closePath=!0}get x(){return this._x}set x(t){this.dirty=this.dirty||this._x!==t,this._x=t}get y(){return this._y}set y(t){this.dirty=this.dirty||this._y!==t,this._y=t}setTopLeftPosition(t,i){return this.x=t,this.y=i,this}get width(){return this._width}set width(t){this.dirty=this.dirty||this._width!==t,this._width=t}get height(){return this._height}set height(t){this.dirty=this.dirty||this._height!==t,this._height=t}setSize(t,i){return this.width=t,this.height=i,this}get centerX(){return this.x+this.width/2}set centerX(t){this.x=t-this.width/2}get centerY(){return this.y+this.height/2}set centerY(t){this.y=t-this.height/2}setCenterPosition(t,i){return this.centerX=t,this.centerY=i,this}get radiusTL(){return this._radiusTL}set radiusTL(t){var i=t>0;this.dirty=this.dirty||this._radiusTL!==t||this._convexTL!==i,this._convexTL=i,this._radiusTL=Math.abs(t)}get radiusTR(){return this._radiusTR}set radiusTR(t){var i=t>0;this.dirty=this.dirty||this._radiusTR!==t||this._convexTR!==i,this._convexTR=i,this._radiusTR=Math.abs(t)}get radiusBL(){return this._radiusBL}set radiusBL(t){var i=t>0;this.dirty=this.dirty||this._radiusBL!==t||this._convexBL!==i,this._convexBL=i,this._radiusBL=Math.abs(t)}get radiusBR(){return this._radiusBR}set radiusBR(t){var i=t>0;this.dirty=this.dirty||this._radiusBR!==t||this._convexBR!==i,this._convexBR=i,this._radiusBR=Math.abs(t)}get radius(){return Math.max(this.radiusTL,this.radiusTR,this.radiusBL,this.radiusBR)}set radius(t){typeof t=="number"?(this.radiusTL=t,this.radiusTR=t,this.radiusBL=t,this.radiusBR=t):(this.radiusTL=sy(t,"tl",0),this.radiusTR=sy(t,"tr",0),this.radiusBL=sy(t,"bl",0),this.radiusBR=sy(t,"br",0))}setRadius(t){return t===void 0&&(t=0),this.radius=t,this}get iterations(){return this._iterations}set iterations(t){this.dirty=this.dirty||this._iterations!==t,this._iterations=t}setIterations(t){return this.iterations=t,this}updateData(){var t=this.pathData;t.length=0;var i=this.width,s=this.height,g,E=this.iterations+1;if(g=this.radiusTL,g>0)if(this._convexTL){var n=g,T=g;qr(n,T,g,g,180,270,!1,E,t)}else{var n=0,T=0;qr(n,T,g,g,90,0,!0,E,t)}else Qr(0,0,t);if(g=this.radiusTR,g>0)if(this._convexTR){var n=i-g,T=g;qr(n,T,g,g,270,360,!1,E,t)}else{var n=i,T=0;qr(n,T,g,g,180,90,!0,E,t)}else Qr(i,0,t);if(g=this.radiusBR,g>0)if(this._convexBR){var n=i-g,T=s-g;qr(n,T,g,g,0,90,!1,E,t)}else{var n=i,T=s;qr(n,T,g,g,270,180,!0,E,t)}else Qr(i,s,t);if(g=this.radiusBL,g>0)if(this._convexBL){var n=g,T=s-g;qr(n,T,g,g,90,180,!1,E,t)}else{var n=0,T=s;qr(n,T,g,g,360,270,!0,E,t)}else Qr(0,s,t);return t.push(t[0],t[1]),wk(this.x,this.y,t),super.updateData(),this}}const $ht=Phaser.Renderer.WebGL.Utils.getTintAppendFloatAlpha;let Kht=class extends iT{constructor(t,i,s,g,E,n){t===void 0&&(t=0),i===void 0&&(i=0),s===void 0&&(s=0),g===void 0&&(g=0),E===void 0&&(E=0),n===void 0&&(n=0),super(),this.pathData=[],this.closePath=!0,this.setP0(t,i),this.setP1(s,g),this.setP2(E,n)}get x0(){return this._x0}set x0(t){this.dirty=this.dirty||this._x0!==t,this._x0=t}get y0(){return this._y0}set y0(t){this.dirty=this.dirty||this._y0!==t,this._y0=t}setP0(t,i){return this.x0=t,this.y0=i,this}get x1(){return this._x1}set x1(t){this.dirty=this.dirty||this._x1!==t,this._x1=t}get y1(){return this._y1}set y1(t){this.dirty=this.dirty||this._y1!==t,this._y1=t}setP1(t,i){return this.x1=t,this.y1=i,this}get x2(){return this._x2}set x2(t){this.dirty=this.dirty||this._x2!==t,this._x2=t}get y2(){return this._y2}set y2(t){this.dirty=this.dirty||this._y2!==t,this._y2=t}setP2(t,i){return this.dirty=this.dirty||this.x2!==t||this.y2!==i,this.x2=t,this.y2=i,this}updateData(){return this.pathData.length=0,this.pathData.push(this.x0,this.y0),this.pathData.push(this.x1,this.y1),this.pathData.push(this.x2,this.y2),this.pathData.push(this.x0,this.y0),super.updateData(),this}webglRender(t,i,s,g,E){if(this.isFilled){var n=$ht(this.fillColor,this.fillAlpha*s),T=this.x0-g,r=this.y0-E,o=this.x1-g,y=this.y1-E,d=this.x2-g,h=this.y2-E,l=i.getX(T,r),a=i.getY(T,r),f=i.getX(o,y),c=i.getY(o,y),u=i.getX(d,h),v=i.getY(d,h);t.batchTri(l,a,f,c,u,v,n,n,n)}this.isStroked&&Jx(t,this,s,g,E)}canvasRender(t,i,s){var g=this.x1-i,E=this.y1-s,n=this.x2-i,T=this.y2-s,r=this.x3-i,o=this.y3-s;t.beginPath(),t.moveTo(g,E),t.lineTo(n,T),t.lineTo(r,o),t.closePath(),this.isFilled&&($p(t,this),t.fill()),this.isStroked&&(Kp(t,this),t.stroke())}};const Jht={buildShapes(){this.addShape(new xx().setName("box")).addShape(new gn().setName("checker"))},updateShapes(){var e=this.width/2,t=this.height/2,i=Math.min(e,t),s=i*2,g=e-i,E=t-i,n=this.boxLineWidth,T=Math.max(s/10,2),r=this.getShape("box"),o=this.getShape("checker");if(this.isSizeChanged){var h=s*(1-this.boxSize)/2,y=n/2,d=s*this.boxSize-n;r.setTopLeftPosition(g+y+h,E+y+h).setSize(d,d),this.isCircleShape?r.setRadius(d/2):r.setRadius(0);var h=s*(1-this.checkerSize)/2,l=s*this.checkerSize/4,a=l*1,f=l*2,c=l*3;o.startAt(a,f).lineTo(f,c).lineTo(c,a).offset(g+h,E+h).end()}this.checked?(r.fillStyle(this.boxFillColor,this.boxFillAlpha).lineStyle(n,this.boxStrokeColor,this.boxStrokeAlpha),o.lineStyle(T,this.checkerColor)):(r.fillStyle(this.uncheckedBoxFillColor,this.uncheckedBoxFillAlpha).lineStyle(n,this.uncheckedBoxStrokeColor,this.uncheckedBoxStrokeAlpha),o.lineStyle()),this.checked&&o.setDisplayPathSegment(this.checkerAnimProgress)}},ih=Phaser.Utils.Objects.GetValue,Zht=Phaser.Math.Linear;class cl extends Zu{constructor(t,i){super(t,i),this.resetFromJSON(),this.boot()}start(t){if(this.timer.isRunning)return this;var i=this.target;this.propertyKey=ih(t,"key","value");var s=i[this.propertyKey];return this.fromValue=ih(t,"from",s),this.toValue=ih(t,"to",s),this.setEase(ih(t,"ease",this.ease)),this.setDuration(ih(t,"duration",this.duration)),this.setRepeat(ih(t,"repeat",0)),this.setDelay(ih(t,"delay",0)),this.setRepeatDelay(ih(t,"repeatDelay",0)),this.timer.setDuration(this.duration).setRepeat(this.repeat).setDelay(this.delay).setRepeatDelay(this.repeatDelay),i[this.propertyKey]=this.fromValue,super.start(),this}updateTarget(t,i){var s=i.t;s=this.easeFn(s),t[this.propertyKey]=Zht(this.fromValue,this.toValue,s)}}const jht={setCheckerAnimationDuration(e){return e===void 0&&(e=0),this.checkerAnimDuration=e,this},playCheckerAnimation(){return this.checkerAnimProgressTask===void 0&&(this.checkerAnimProgressTask=new cl(this,{eventEmitter:null})),this.checkerAnimProgressTask.restart({key:"checkerAnimProgress",from:0,to:1,duration:this.checkerAnimDuration}),this},stopCheckerAnimation(){return this.checkerAnimProgressTask===void 0?this:(this.checkerAnimProgressTask.stop(),this)}};var Rk={};Object.assign(Rk,mht,yht,Jht,jht);const Ep=23730,Qht=16777215,sr=Phaser.Utils.Objects.GetValue,MI=Phaser.Utils.Objects.IsPlainObject;class Ak extends pl{constructor(t,i,s,g,E,n,T){MI(i)?(T=i,i=sr(T,"x",0),s=sr(T,"y",0),g=sr(T,"width",2),E=sr(T,"height",2),n=sr(T,"color",Ep)):MI(n)&&(T=n,n=sr(T,"color",Ep)),super(t,i,s,g,E),this.type="rexCheckbox",n===void 0&&(n=Ep),this.setBoxShape(sr(T,"circleBox",!1)),this.setBoxFillStyle(n,sr(T,"boxFillAlpha",1)),this.setUncheckedBoxFillStyle(sr(T,"uncheckedColor",null),sr(T,"uncheckedBoxFillAlpha",1)),this.setBoxStrokeStyle(sr(T,"boxLineWidth",4),sr(T,"boxStrokeColor",n),sr(T,"boxStrokeAlpha",1)),this.setUncheckedBoxStrokeStyle(this.boxLineWidth,sr(T,"uncheckedBoxStrokeColor",this.boxStrokeColor),sr(T,"uncheckedBoxStrokeAlpha",this.boxStrokeAlpha)),this.setCheckerStyle(sr(T,"checkerColor",Qht),sr(T,"checkerAlpha",1)),this.setBoxSize(sr(T,"boxSize",1)),this.setCheckerSize(sr(T,"checkerSize",1)),this.setCheckerAnimationDuration(sr(T,"animationDuration",150)),this.buildShapes();var r=sr(T,"checked");r===void 0&&(r=sr(T,"value",!1)),this.setValue(r)}get value(){return this._value}set value(t){t=!!t,this._value!==t&&(this.dirty=!0,this._value=t,t?this.playCheckerAnimation():this.stopCheckerAnimation(),this.emit("valuechange",t))}setValue(t){return this.value=t,this}toggleValue(){return this.setValue(!this.value),this}get checked(){return this.value}set checked(t){this.value=t}setChecked(t){return t===void 0&&(t=!0),this.setValue(t),this}toggleChecked(){return this.toggleValue(),this}get checkerAnimProgress(){return this._checkerAnimProgress}set checkerAnimProgress(t){this._checkerAnimProgress!==t&&(this._checkerAnimProgress=t,this.dirty=!0)}}Object.assign(Ak.prototype,Rk);const jv=Phaser.Utils.Objects.GetValue;class gl extends ji{constructor(t,i){super(t,i),this._enable=void 0,t.setInteractive(jv(i,"inputConfig",void 0)),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.lastClickTime=void 0,this.isDown=!1,this.isOver=!1,this.setEnable(jv(t,"enable",!0)),this.setMode(jv(t,"mode",1)),this.setClickInterval(jv(t,"clickInterval",100)),this.setDragThreshold(jv(t,"threshold",void 0)),this}boot(){var t=this.parent;t.on("pointerdown",this.onPress,this),t.on("pointerup",this.onRelease,this),t.on("pointerout",this.onPointOut,this),t.on("pointermove",this.onMove,this),t.on("pointerover",this.onOver,this),t.on("pointerout",this.onOut,this)}shutdown(t){this.isShutdown||(this.pointer=null,super.shutdown(t))}get enable(){return this._enable}set enable(t){if(this._enable!==t){t||this.cancel(),this._enable=t;var i=t?"enable":"disable";this.emit(i,this,this.parent)}}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}setMode(t){return typeof t=="string"&&(t=qht[t]),this.mode=t,this}setClickInterval(t){return this.clickInterval=t,this}setDragThreshold(t){return this.dragThreshold=t,this}onPress(t,i,s,g){this.pointer===void 0&&(this.pointer=t,this.isDown=!0,this.emit("down",this,this.parent,t,g),this.mode===0&&this.click(t.downTime,t,g))}onRelease(t,i,s,g){this.pointer===t&&(this.isDown=!1,this.emit("up",this,this.parent,t,g),this.mode===1&&this.click(t.upTime,t,g),this.pointer=void 0)}onPointOut(t,i){this.pointer===t&&this.cancel()}onMove(t,i,s,g){this.pointer===t&&this.dragThreshold!==void 0&&this.mode===1&&t.getDistance()>=this.dragThreshold&&this.cancel()}onOver(t,i,s,g){return this.enable?(this.isOver=!0,this.emit("over",this,this.parent,t,g),this):this}onOut(t,i){return this.enable?(this.isOver=!1,this.emit("out",this,this.parent,t,i),this):this}click(t,i,s){if(!this.enable)return this;if(t===void 0)return this.emit("click",this,this.parent,i,s),this;this.pointer=void 0;var g=this.lastClickTime;return g!==void 0&&t-g<=this.clickInterval?this:(this.lastClickTime=t,this.emit("click",this,this.parent,i,s),this)}cancel(){return this.pointer=void 0,this}}const qht={press:0,pointerdown:0,release:1,pointerup:1},rh=Phaser.Utils.Objects.GetValue,RI=Phaser.Utils.Objects.IsPlainObject;class EM extends Ak{constructor(t,i,s,g,E,n,T){RI(i)?(T=i,i=rh(T,"x",0),s=rh(T,"y",0),g=rh(T,"width",2),E=rh(T,"height",2),n=rh(T,"color",Ep)):RI(n)&&(T=n,n=rh(T,"color",Ep)),super(t,i,s,g,E,n,T),this._click=new gl(this,rh(T,"click")),this._click.on("click",function(){this.toggleValue()},this),this.setReadOnly(rh(T,"readOnly",!1))}get readOnly(){return!this._click.enable}set readOnly(t){this._click.enable=!t}setReadOnly(t){return t===void 0&&(t=!0),this.readOnly=t,this}}It.register("checkbox",function(e,t,i,s,g,E){var n=new EM(this.scene,e,t,i,s,g,E);return this.scene.add.existing(n),n});Dt(window,"RexPlugins.UI.Checkbox",EM);const _ht={setTrackFillStyle(e,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.trackFillColor!==e||this.trackFillAlpha!==t,this.trackFillColor=e,this.trackFillAlpha=t,this},setFalseValueTrackFillStyle(e,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.falseValueTrackColor!==e||this.uncheckedTrackFillAlpha!==t,this.falseValueTrackColor=e,this.falseValueTrackFillAlpha=t,this},setThumbStyle(e,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.thumbColor!==e||this.checkAlpha!==t,this.thumbColor=e,this.thumbAlpha=t,this}},tut={setTrackSize(e,t){return this.dirty=this.dirty||this.trackWidth!==e||this.trackHeight!==t,this.trackWidth=e,this.trackHeight=t,this},setTrackRadius(e){return this.dirty=this.dirty||this.trackRadius!==e,this.trackRadius=e,this},setThumbSize(e,t){return t===void 0&&(t=e),this.dirty=this.dirty||this.thumbWidth!==e||this.thumbHeight!==t,this.thumbWidth=e,this.thumbHeight=t,this},setThumbRadius(e){return this.dirty=this.dirty||this.thumbRadius!==e,this.thumbRadius=e,this}},eut={setThumbPosition(e,t){return t===void 0&&(t=1-e),this.thumbLeftX=e,this.thumbRightX=t,this},setRTL(e){return e===void 0&&(e=!0),this.rtl=e,this}};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Db=function(e,t,i){return(t-e)*i+e},iut=function(e,t,i){var s=Db(Ap(e),Ap(t),i),g=Db(Op(e),Op(t),i),E=Db(Lp(e),Lp(t),i);return(s&255)<<16|(g&255)<<8|E&255};const AI=Phaser.Math.Linear,rut={buildShapes(){this.addShape(new xx().setName("track")).addShape(new xx().setName("thumb"))},updateShapes(){var e=this.width,t=this.height,i=this.value?this.toggleAnimProgress:1-this.toggleAnimProgress,s=this.getShape("track");if(this.isSizeChanged){var g=e*this.trackWidth,E=t*this.trackHeight,n=(e-g)/2,T=(t-E)/2,r=t*this.trackRadius;s.setTopLeftPosition(n,T).setSize(g,E).setRadius(r)}var o=iut(this.falseValueTrackColor,this.trackFillColor,i),y=AI(this.falseValueTrackFillAlpha,this.trackFillAlpha,i);s.fillStyle(o,y);var d=this.getShape("thumb");if(this.isSizeChanged){var h=e*this.thumbWidth,l=t*this.thumbHeight,a=t*this.thumbRadius;d.setSize(h,l).setRadius(a)}var f=AI(this.thumbLeftX,this.thumbRightX,i)*e;this.rtl&&(f=e-f);var c=t/2;d.setCenterPosition(f,c),d.fillStyle(this.thumbColor,this.thumbAlpha)}},nut={setToggleAnimationDuration(e){return e===void 0&&(e=0),this.toggleAnimDuration=e,this},playToggleAnimation(){return this.toggleAnimProgressTask===void 0&&(this.toggleAnimProgressTask=new cl(this,{eventEmitter:null})),this.toggleAnimProgressTask.restart({key:"toggleAnimProgress",from:0,to:1,duration:this.toggleAnimDuration}),this},stopToggleAnimation(){return this.toggleAnimProgressTask===void 0?this:(this.toggleAnimProgressTask.stop(),this)}};var Ok={};Object.assign(Ok,_ht,tut,eut,rut,nut);var sut=function(e){var t=.3*Ap(e)+.59*Op(e)+.11*Lp(e);return(t&255)<<16|(t&255)<<8|t&255};const ar=Phaser.Utils.Objects.GetValue,OI=Phaser.Utils.Objects.IsPlainObject,Fb=23730,aut=16777215;class Lk extends pl{constructor(t,i,s,g,E,n,T){OI(i)?(T=i,i=ar(T,"x",0),s=ar(T,"y",0),g=ar(T,"width",2),E=ar(T,"height",2),n=ar(T,"color",Fb)):OI(n)&&(T=n,n=ar(T,"color",Fb)),super(t,i,s,g,E),this.type="rexToggleSwitch",n===void 0&&(n=Fb),this.setTrackFillStyle(n,ar(T,"trackFillAlpha",1)),this.setFalseValueTrackFillStyle(ar(T,"falseValueTrackColor",sut(n)),ar(T,"falseValueTrackFillAlpha",1)),this.setThumbStyle(ar(T,"thumbColor",aut),ar(T,"thumbAlpha",1)),this.setTrackSize(ar(T,"trackWidth",.9),ar(T,"trackHeight",.5)),this.setTrackRadius(ar(T,"trackRadius",this.trackHeight*.5));var r=ar(T,"thumbHeight",void 0),o=ar(T,"thumbWidth",r);o===void 0&&(o=this.trackHeight*.9),this.setThumbSize(o,r),this.setThumbRadius(ar(T,"thumbRadius",this.thumbHeight*.5)),this.setThumbPosition(ar(T,"thumbLeft",.3),ar(T,"thumbRight",void 0)),this.setRTL(ar(T,"rtl",!1)),this.setToggleAnimationDuration(ar(T,"animationDuration",150)),this.buildShapes(),this.setValue(ar(T,"value",!1),0)}get value(){return this._value}set value(t){t=!!t,this._value!==t&&(this.dirty=!0,this._value=t,this.playToggleAnimation(),this.emit("valuechange",t))}setValue(t,i){i===void 0&&(i=this.toggleAnimDuration);var s=this.toggleAnimDuration;return this.toggleAnimDuration=i,this.value=t,this.toggleAnimDuration=s,this}toggleValue(t){return this.setValue(!this.value,t),this}get toggleAnimProgress(){return this._toggleAnimProgress}set toggleAnimProgress(t){this._toggleAnimProgress!==t&&(this._toggleAnimProgress=t,this.dirty=!0)}}Object.assign(Lk.prototype,Ok);const LI=Phaser.Utils.Objects.GetValue;class bM extends Lk{constructor(t,i,s,g,E,n,T){super(t,i,s,g,E,n,T),this._click=new gl(this,LI(T,"click")),this._click.on("click",function(){this.toggleValue()},this),this.setReadOnly(LI(T,"readOnly",!1))}get readOnly(){return!this._click.enable}set readOnly(t){this._click.enable=!t}setReadOnly(t){return t===void 0&&(t=!0),this.readOnly=t,this}}It.register("toggleSwitch",function(e,t,i,s,g,E){var n=new bM(this.scene,e,t,i,s,g,E);return this.scene.add.existing(n),n});Dt(window,"RexPlugins.UI.ToggleSwitch",bM);const out={loadFromURL(e,t){var i=this,s=new Image;return s.onload=function(){i.width!==s.width||i.height!==s.height?i.resize(s.width,s.height):i.clear(),i.context.drawImage(s,0,0),i.updateTexture(),t&&t(),s.onload=null,s.src="",s.remove()},s.src=e,this},loadFromURLPromise(e){var t=this;return new Promise(function(i,s){t.loadFromURL(e,i)})},loadFromFile(e,t){var i=URL.createObjectURL(e);return this.loadFromURL(i,function(){URL.revokeObjectURL(i),t&&t()}),this},loadFromFilePromise(e){var t=this;return new Promise(function(i,s){t.loadFromFile(e,i)})}};class ju extends Ah{}Object.assign(ju.prototype,out);It.register("canvas",function(e,t,i,s){var g=new ju(this.scene,e,t,i,s);return this.scene.add.existing(g),g});Dt(window,"RexPlugins.UI.Canvas",ju);const dd=Phaser.Utils.Objects.GetValue;class Dk extends Ah{constructor(t,i,s,g,E,n){super(t,i,s),this.type="rexCircleMaskImage",this.setTexture(g,E,n)}setTexture(t,i,s){typeof i=="object"&&(s=i,i=void 0),typeof s=="string"&&(s={maskType:s});var g=dd(s,"maskType",0),E=dd(s,"backgroundColor",void 0),n=dd(s,"strokeColor",void 0),T=n!=null?10:0,r=dd(s,"strokeWidth",T);if(g===void 0?g=0:typeof g=="string"&&(g=lut[g]),this._textureKey=t,this._frameName=i,g===null)return this.loadTexture(t,i),this.dirty=!0,this;var o=this.scene.sys.textures.getFrame(t,i);if(!o)return this;o.cutWidth!==this.width||o.cutHeight!==this.height?this.setCanvasSize(o.cutWidth,o.cutHeight):this.clear();var y=this.canvas,d=this.context,h=y.width,l=y.height;E!=null&&(d.fillStyle=E,d.fillRect(0,0,h,l)),d.save(),d.beginPath();var a=r/2;switch(g){case 1:var p=Math.floor(h/2),m=Math.floor(l/2),f=p-a,c=m-a;d.ellipse(p,m,f,c,0,0,2*Math.PI);break;case 2:var u=dd(s,"radius",0),v=dd(s,"iteration",void 0);fG(d,a,a,h-r,l-r,u,v);break;default:var p=Math.floor(h/2),m=Math.floor(l/2),x=Math.min(p,m)-a;d.arc(p,m,x,0,2*Math.PI);break}return n!=null&&(d.strokeStyle=n,d.lineWidth=r,d.stroke()),d.clip(),this.loadTexture(t,i),d.restore(),this.dirty=!0,this}resize(t,i){return this.setDisplaySize(t,i),this}}const lut={circle:0,ellipse:1,roundRectangle:2};It.register("circleMaskImage",function(e,t,i,s,g){var E=new Dk(this.scene,e,t,i,s,g);return this.scene.add.existing(E),E});Dt(window,"RexPlugins.UI.CircleMaskImage",Dk);const Qv=Phaser.Utils.Objects.GetValue;class Fk extends Ah{constructor(t,i,s,g,E,n){super(t,i,s),this.type="rexAlphaMaskImage",this.maskFrame=null,this.setTexture(g,E,n)}setTexture(t,i,s){typeof i=="object"&&(s=i,i=void 0),typeof s=="string"&&(s={mask:{key:s}});var g=Qv(s,"mask.key"),E=Qv(s,"mask.frame"),n=Qv(s,"mask.invertAlpha",!1),T=Qv(s,"mask.scale"),r=Qv(s,"backgroundColor");if(g){this._maskKey=g,this._maskFrame=E,this._maskScale=T;var o=g?this.scene.sys.textures.get(g):null;this.maskFrame=o?o.get(E):null}this._textureKey=t,this._frameName=i;var y=this.maskFrame;if(y===null)return this.loadTexture(t,i),this.dirty=!0,this;var d=r!=null;this.loadTexture(t,i);var h=this.canvas,l=this.context,a=h.width,f=h.height;l.save(),l.globalCompositeOperation=n?"destination-out":"destination-in";var c,u;this._maskScale!=null?(c=y.cutWidth*this._maskScale,u=y.cutHeight*this._maskScale):(c=a,u=f);var v=(a-c)/2,p=(f-u)/2;return this.drawFrame(this._maskKey,this._maskFrame,v,p,c,u),l.restore(),d&&(l.save(),l.globalCompositeOperation="destination-over",l.fillStyle=r,l.fillRect(0,0,a,f),l.restore()),this.dirty=!0,this}resize(t,i){return this.setDisplaySize(t,i),this}}It.register("alphaMaskImage",function(e,t,i,s,g){var E=new Fk(this.scene,e,t,i,s,g);return this.scene.add.existing(E),E});Dt(window,"RexPlugins.UI.AlphaMaskImage",Fk);const hut=Phaser.Math.Linear,DI=Phaser.Math.Percent,uut={setValue(e,t,i){return e==null?this:(t!==void 0&&(e=DI(e,t,i)),this.value=e,this)},addValue(e,t,i){return t!==void 0&&(e=DI(e,t,i)),this.value+=e,this},getValue(e,t){var i=this.value;return e!==void 0&&t!==void 0&&(i=hut(e,t,i)),i}},fut=Phaser.Math.Percent,dut={setEaseValuePropName(e){return this.easeValuePropName=e,this},setEaseValueDuration(e){return this.easeValueDuration=e,this},setEaseValueFunction(e){return this.easeFunction=e,this},stopEaseValue(){return this.easeValueTask&&this.easeValueTask.stop(),this},easeValueTo(e,t,i){return e==null?this:(t!==void 0&&(e=fut(e,t,i)),this.easeValueTask===void 0&&(this.easeValueTask=new cl(this,{eventEmitter:null})),this.easeValueTask.restart({key:this.easeValuePropName,to:e,duration:this.easeValueDuration,ease:this.easeFunction}),this)},easeValueRepeat(e,t,i,s){return i===void 0&&(i=-1),s===void 0&&(s=0),this.easeValueTask===void 0&&(this.easeValueTask=new cl(this,{eventEmitter:null})),this.easeValueTask.restart({key:this.easeValuePropName,from:e,to:t,duration:this.easeValueDuration,ease:this.easeFunction,repeat:i,repeatDelay:s}),this}},qv=Phaser.Utils.Objects.GetValue,cut=Phaser.Math.Clamp;function Oh(e){class t extends e{bootProgressBase(s){this.eventEmitter=qv(s,"eventEmitter",this);var g=qv(s,"valuechangeCallback",null);if(g!==null){var E=qv(s,"valuechangeCallbackScope",void 0);this.eventEmitter.on("valuechange",g,E)}return this.setEaseValuePropName("value").setEaseValueDuration(qv(s,"easeValue.duration",0)).setEaseValueFunction(qv(s,"easeValue.ease","Linear")),this}get value(){return this._value}set value(s){s=cut(s,0,1);var g=this._value,E=g!=s;this.dirty=this.dirty||E,this._value=s,E&&this.eventEmitter.emit("valuechange",this._value,g,this.eventEmitter)}}return Object.assign(t.prototype,uut,dut),t}const vut=Phaser.Math.RadToDeg,FI=Phaser.Math.DegToRad;var II=function(e,t,i,s,g,E,n,T){var r=Math.abs(n-E)===360,o=FI(E),y=FI(n),d=Math.cos(o),h=Math.sin(o),l=Math.cos(y),a=Math.sin(y);return e.startAt(t+d*s,i+h*s),e.arc(t,i,s,E,n,T),r&&g===0||(e.lineTo(t+l*g,i+a*g),g>0&&e.arc(t,i,g,n,E,!T)),e.close(),e};const put={buildShapes(){var e=this.iterations;this.addShape(new gn().setIterations(e).setName("track")).addShape(new gn().setIterations(e).setName("bar")).addShape(new sa().setIterations(e).setName("center"))},updateShapes(){var e=this.radius,t=this.thickness*this.radius,i=this.radius,s=i-t,g=this.getShape("track");this.trackColor!=null&&this.thickness>0?(g.fillStyle(this.trackColor),II(g,e,e,i,s,0,360,!1)):g.reset();var E=this.getShape("bar");if(this.barColor!=null&&this.thickness>0){var n,T,r;if(this.value===1)n=!1,T=0,r=360;else{n=this.anticlockwise,T=vut(this.startAngle);var o=360*(n?1-this.value:this.value);r=o+T}E.fillStyle(this.barColor),II(E,e,e,i+1,s-1,T,r,!1)}else E.reset();var y=this.getShape("center");this.centerColor&&s>0?y.setCenterPosition(e,e).setRadius(s).fillStyle(this.centerColor):y.reset()}},Pa=Phaser.Utils.Objects.GetValue,gut=Phaser.Utils.Objects.IsPlainObject,mut=Phaser.Math.Clamp,yut=Phaser.Math.DegToRad(270);let PM=class extends Oh(pl){constructor(t,i,s,g,E,n,T){gut(i)&&(T=i,i=Pa(T,"x",0),s=Pa(T,"y",0),g=Pa(T,"radius",1),E=Pa(T,"barColor",void 0),n=Pa(T,"value",0)),g===void 0&&(g=1);var r=g*2;super(t,i,s,r,r),this.type="rexCircularProgress",this.bootProgressBase(T),this.setRadius(g),this.setTrackColor(Pa(T,"trackColor",void 0)),this.setBarColor(E),this.setCenterColor(Pa(T,"centerColor",void 0)),this.setThickness(Pa(T,"thickness",.2)),this.setStartAngle(Pa(T,"startAngle",yut)),this.setAnticlockwise(Pa(T,"anticlockwise",!1)),this.iterations=Pa(T,"iterations",128),this.buildShapes(),this.setValue(n)}resize(t,i){return t=Math.floor(Math.min(t,i)),t===this.width?this:(super.resize(t,t),this.setRadius(t/2),this)}get radius(){return this._radius}set radius(t){this.dirty=this.dirty||this._radius!=t,this._radius=t;var i=t*2;this.resize(i,i)}setRadius(t){return this.radius=t,this}get trackColor(){return this._trackColor}set trackColor(t){this.dirty=this.dirty||this._trackColor!=t,this._trackColor=t}setTrackColor(t){return this.trackColor=t,this}get barColor(){return this._barColor}set barColor(t){this.dirty=this.dirty||this._barColor!=t,this._barColor=t}setBarColor(t){return this.barColor=t,this}get startAngle(){return this._startAngle}set startAngle(t){this.dirty=this.dirty||this._startAngle!=t,this._startAngle=t}setStartAngle(t){return this.startAngle=t,this}get anticlockwise(){return this._anticlockwise}set anticlockwise(t){this.dirty=this.dirty||this._anticlockwise!=t,this._anticlockwise=t}setAnticlockwise(t){return t===void 0&&(t=!0),this.anticlockwise=t,this}get thickness(){return this._thickness}set thickness(t){t=mut(t,0,1),this.dirty=this.dirty||this._thickness!=t,this._thickness=t}setThickness(t){return this.thickness=t,this}get centerColor(){return this._centerColor}set centerColor(t){this.dirty=this.dirty||this._centerColor!=t,this._centerColor=t}setCenterColor(t){return this.centerColor=t,this}};Object.assign(PM.prototype,put);It.register("circularProgress",function(e,t,i,s,g,E){var n=new PM(this.scene,e,t,i,s,g,E);return this.scene.add.existing(n),n});Dt(window,"RexPlugins.UI.CircularProgress",PM);var Ib=function(e,t,i,s,g,E,n,T,r,o,y,d){o===void 0&&(o=0),y===void 0&&(y=2*Math.PI),d===void 0&&(d=!1),t.beginPath(),t.ellipse(i,s,g,E,0,o,y,d),n!=null&&(t.fillStyle=n,t.fill()),T!=null&&(t.strokeStyle=T,t.lineWidth=r,t.stroke())};const BI=["AliceBlue","AntiqueWhite","Aqua","Aquamarine","Azure","Beige","Bisque","Black","BlanchedAlmond","Blue","BlueViolet","Brown","BurlyWood","CadetBlue","Chartreuse","Chocolate","Coral","CornflowerBlue","Cornsilk","Crimson","Cyan","DarkBlue","DarkCyan","DarkGoldenRod","DarkGray","DarkGrey","DarkGreen","DarkKhaki","DarkMagenta","DarkOliveGreen","DarkOrange","DarkOrchid","DarkRed","DarkSalmon","DarkSeaGreen","DarkSlateBlue","DarkSlateGray","DarkSlateGrey","DarkTurquoise","DarkViolet","DeepPink","DeepSkyBlue","DimGray","DimGrey","DodgerBlue","FireBrick","FloralWhite","ForestGreen","Fuchsia","Gainsboro","GhostWhite","Gold","GoldenRod","Gray","Grey","Green","GreenYellow","HoneyDew","HotPink","IndianRed","Indigo","Ivory","Khaki","Lavender","LavenderBlush","LawnGreen","LemonChiffon","LightBlue","LightCoral","LightCyan","LightGoldenRodYellow","LightGray","LightGrey","LightGreen","LightPink","LightSalmon","LightSeaGreen","LightSkyBlue","LightSlateGray","LightSlateGrey","LightSteelBlue","LightYellow","Lime","LimeGreen","Linen","Magenta","Maroon","MediumAquaMarine","MediumBlue","MediumOrchid","MediumPurple","MediumSeaGreen","MediumSlateBlue","MediumSpringGreen","MediumTurquoise","MediumVioletRed","MidnightBlue","MintCream","MistyRose","Moccasin","NavajoWhite","Navy","OldLace","Olive","OliveDrab","Orange","OrangeRed","Orchid","PaleGoldenRod","PaleGreen","PaleTurquoise","PaleVioletRed","PapayaWhip","PeachPuff","Peru","Pink","Plum","PowderBlue","Purple","RebeccaPurple","Red","RosyBrown","RoyalBlue","SaddleBrown","Salmon","SandyBrown","SeaGreen","SeaShell","Sienna","Silver","SkyBlue","SlateBlue","SlateGray","SlateGrey","Snow","SpringGreen","SteelBlue","Tan","Teal","Thistle","Tomato","Turquoise","Violet","Wheat","White","WhiteSmoke","Yellow","YellowGreen"],xut=[15792383,16444375,65535,8388564,15794175,16119260,16770244,0,16772045,255,9055202,10824234,14596231,6266528,8388352,13789470,16744272,6591981,16775388,14423100,65535,139,35723,12092939,11119017,11119017,25600,12433259,9109643,5597999,16747520,10040012,9109504,15308410,9419919,4734347,3100495,3100495,52945,9699539,16716947,49151,6908265,6908265,2003199,11674146,16775920,2263842,16711935,14474460,16316671,16766720,14329120,8421504,8421504,32768,11403055,15794160,16738740,13458524,4915330,16777200,15787660,15132410,16773365,8190976,16775885,11393254,15761536,14745599,16448210,13882323,13882323,9498256,16758465,16752762,2142890,8900346,7833753,7833753,11584734,16777184,65280,3329330,16445670,16711935,8388608,6737322,205,12211667,9662683,3978097,8087790,64154,4772300,13047173,1644912,16121850,16770273,16770229,16768685,128,16643558,8421376,7048739,16753920,16729344,14315734,15657130,10025880,11529966,14381203,16773077,16767673,13468991,16761035,14524637,11591910,8388736,6697881,16711680,12357519,4286945,9127187,16416882,16032864,3050327,16774638,10506797,12632256,8900331,6970061,7372944,7372944,16775930,65407,4620980,13808780,32896,14204888,16737095,4251856,15631086,16113331,16777215,16119285,16776960,10145074];var Ew={},GI;for(var ay=0,Tut=BI.length;ay<Tut;ay++)GI=BI[ay].toLowerCase(),Ew[GI]=xut[ay];var Cut=function(e){return e=e.toLowerCase(),Ew.hasOwnProperty(e)?Ew[e]:null},bw=function(e){return typeof e!="string"||(e.startsWith("#")?e=parseInt(e.substring(1),16):e.startsWith("0x")?e=parseInt(e.substring(2),16):e=Cut(e)),e};const Sut=Phaser.Math.DegToRad,Bb=Phaser.Math.Linear;var Eut=function(e,t,i,s,g,E,n,T,r,o,y,d,h){o===void 0&&(o=0),y===void 0&&(y=2*Math.PI),d===void 0&&(d=!1),h===void 0&&(h=2),n=bw(n),T=bw(T),_v=W3(n,_v),tp=W3(T,tp);var l=Sut(h),a;d?a=o-y:a=y-o,a<0&&(a+=2*Math.PI);var f=Math.ceil(a/l),c=a/f;d&&(c=-c);for(var u=0;u<f;u++){var v=u/f,p=Math.round(Bb(_v.r,tp.r,v)),m=Math.round(Bb(_v.g,tp.g,v)),x=Math.round(Bb(_v.b,tp.b,v)),C=o+u*c,P=C+c;u<f-1&&(P+=c/2),t.beginPath(),t.ellipse(i,s,g,E,0,C,P,d),t.strokeStyle=`rgb(${p},${m},${x})`,t.lineWidth=r,t.stroke()}},_v,tp,but=function(e,t,i,s,g,E,n,T,r,o,y){r===void 0&&T!=null&&(r=2),t.font=E,t.textAlign=o,t.textBaseline=y,t.fillStyle=n,t.strokeStyle=T,t.lineWidth=r,t.lineCap="round",t.lineJoin="round",T!=null&&T!=="none"&&r>0&&t.strokeText(g,i,s),n!=null&&n!=="none"&&t.fillText(g,i,s)};const Gb=Phaser.Math.PI2;var Put=function(){var e=this.radius,t=this.thickness*this.radius,i=this.radius-t/2,s=this.radius-t,g=this.canvas,E=this.context,n=this.anticlockwise,T=this.startAngle,r=this.endAngle,o=this._deltaAngle;if(this.trackColor&&t>0&&(E.save(),Ib(g,E,e,e,i,i,void 0,this.trackColor,t,T,r,n),E.restore()),this.barColor&&i>0){var y;this.value>=1?y=r:n?y=(T-o*this.value+Gb)%Gb:y=(T+o*this.value)%Gb,E.save(),this.barColor2?Eut(g,E,e,e,i,i,this.barColor2,this.barColor,t,T,y,n):Ib(g,E,e,e,i,i,void 0,this.barColor,t,T,y,n),E.restore()}if(this.centerColor&&s>0){var d;this.centerColor2?(d=this.context.createRadialGradient(e,e,0,e,e,s),d.addColorStop(0,this.centerColor),d.addColorStop(1,this.centerColor2)):d=this.centerColor,E.save(),Ib(g,E,e,e,s,s,d),E.restore()}this.textFormatCallback&&(this.textColor||this.textStrokeColor)&&(E.save(),but(g,E,e,e,this.getFormatText(),this.textFont,this.textColor,this.textStrokeColor,this.textStrokeThickness,"center","middle"),E.restore())};const _i=Phaser.Utils.Objects.GetValue,wut=Phaser.Utils.Objects.IsPlainObject,Mut=Phaser.Math.Clamp,Rut=Phaser.Math.DegToRad(270),Tx=Phaser.Math.PI2;class rT extends Oh(Ah){constructor(t,i,s,g,E,n,T){wut(i)&&(T=i,i=_i(T,"x",0),s=_i(T,"y",0),g=_i(T,"radius",1),E=_i(T,"barColor",void 0),n=_i(T,"value",0));var r=g*2,o=_i(T,"resolution",1);super(t,i,s,r,r,o),this.type="rexCircularProgressCanvas",this.bootProgressBase(T),this.setRadius(g),this.setTrackColor(_i(T,"trackColor",void 0)),this.setBarColor(E),this.setBarColor2(_i(T,"barColor2",void 0)),this.setCenterColor(_i(T,"centerColor",void 0)),this.setThickness(_i(T,"thickness",.2)),this.setAnticlockwise(_i(T,"anticlockwise",!1)),this.setStartAngle(_i(T,"startAngle",Rut));var y=_i(T,"endAngle");y===void 0&&(this.anticlockwise?y=this.startAngle-Tx:y=this.startAngle+Tx),this.setEndAngle(_i(T,"endAngle",y)),this.setTextColor(_i(T,"textColor",void 0)),this.setTextStrokeColor(_i(T,"textStrokeColor",void 0),_i(T,"textStrokeThickness",void 0));var d=_i(T,"textFont",void 0);d?this.setTextFont(d):this.setTextFont(_i(T,"textSize","16px"),_i(T,"textFamily","Courier"),_i(T,"textStyle","")),this.setTextFormatCallback(_i(T,"textFormatCallback",void 0),_i(T,"textFormatCallbackScope",void 0)),this.setValue(n)}resize(t,i){return t=Math.floor(Math.min(t,i)),t===this.width?this:(super.resize(t,t),this.setRadius(t/2),this)}get radius(){return this._radius}set radius(t){this.dirty=this.dirty||this._radius!=t,this._radius=t;var i=t*2;this.resize(i,i)}setRadius(t){return this.radius=t,this}get trackColor(){return this._trackColor}set trackColor(t){t=Ke(t,this.canvas,this.context),this.dirty=this.dirty||this._trackColor!=t,this._trackColor=t}setTrackColor(t){return this.trackColor=t,this}get barColor(){return this._barColor}set barColor(t){t=Ke(t,this.canvas,this.context),this.dirty=this.dirty||this._barColor!=t,this._barColor=t}setBarColor(t){return this.barColor=t,this}get barColor2(){return this._barColor2}set barColor2(t){t=Ke(t,this.canvas,this.context),this.dirty=this.dirty||this._barColor2!=t,this._barColor2=t}setBarColor2(t){return this.barColor2=t,this}get startAngle(){return this._startAngle}set startAngle(t){this.dirty=this.dirty||this._startAngle!=t,this._startAngle=t,this._deltaAngle=kb(this._startAngle,this._endAngle,this._anticlockwise)}setStartAngle(t){return this.startAngle=t,this}get endAngle(){return this._endAngle}set endAngle(t){this.dirty=this.dirty||this._endAngle!=t,this._endAngle=t,this._deltaAngle=kb(this._startAngle,this._endAngle,this._anticlockwise)}setEndAngle(t){return this.endAngle=t,this}get anticlockwise(){return this._anticlockwise}set anticlockwise(t){this.dirty=this.dirty||this._anticlockwise!=t,this._anticlockwise=t,this._deltaAngle=kb(this._startAngle,this._endAngle,this._anticlockwise)}setAnticlockwise(t){return t===void 0&&(t=!0),this.anticlockwise=t,this}get thickness(){return this._thickness}set thickness(t){t=Mut(t,0,1),this.dirty=this.dirty||this._thickness!=t,this._thickness=t}setThickness(t){return this.thickness=t,this}get centerColor(){return this._centerColor}set centerColor(t){t=Ke(t,this.canvas,this.context),this.dirty=this.dirty||this._centerColor!=t,this._centerColor=t}get centerColor2(){return this._centerColor2}set centerColor2(t){t=Ke(t,this.canvas,this.context),this.dirty=this.dirty||this._centerColor2!=t,this._centerColor2=t}setCenterColor(t,i){return this.centerColor=t,this.centerColor2=i,this}get textColor(){return this._textColor}set textColor(t){t=Ke(t,this.canvas,this.context),this.dirty=this.dirty||this._textColor!=t,this._textColor=t}setTextColor(t){return this.textColor=t,this}get textStrokeColor(){return this._textStrokeColor}set textStrokeColor(t){t=Ke(t,this.canvas,this.context),this.dirty=this.dirty||this._textStrokeColor!=t,this._textStrokeColor=t}get textStrokeThickness(){return this._textStrokeThickness}set textStrokeThickness(t){this.dirty=this.dirty||this._textStrokeThickness!=t,this._textStrokeThickness=t}setTextStrokeColor(t,i){return i===void 0&&(i=2),this.textStrokeColor=t,this.textStrokeThickness=i,this}get textFont(){return this._textFont}set textFont(t){this.dirty=this.dirty||this._textFont!=t,this._textFont=t}setTextFont(t,i,s){var g;return i===void 0?g=t:g=s+" "+t+" "+i,this.textFont=g,this}setTextFormatCallback(t,i){return this.textFormatCallback=t,this.textFormatCallbackScope=i,this}updateTexture(){return super.updateTexture(function(){this.clear(),Put.call(this)},this),this}getFormatText(t){t===void 0&&(t=this.value);var i;return this.textFormatCallbackScope?i=this.textFormatCallback(t):i=this.textFormatCallback.call(this.textFormatCallbackScope,t),i}}var kb=function(e,t,i){return i?e<=t?Tx+e-t:e-t:e>=t?Tx+t-e:t-e};It.register("circularProgressCanvas",function(e,t,i,s,g,E){var n=new rT(this.scene,e,t,i,s,g,E);return this.scene.add.existing(n),n});Dt(window,"RexPlugins.UI.CircularProgressCanvas",rT);var Aut=function(){var e=this.skewX,t=this.width-Math.abs(e),i=this.height,s=this.getShape("trackFill");s.fillStyle(this.trackColor),s.isFilled&&Nb(s,0,0,t,i,e);var g=this.getShape("bar");if(g.fillStyle(this.barColor),g.isFilled){var E,n;this.rtl?(E=t*(1-this.value),n=t):(E=0,n=t*this.value),Nb(g,E,0,n,i,e)}var T=this.getShape("trackStroke");T.lineStyle(this.trackStrokeThickness,this.trackStrokeColor),T.isStroked&&Nb(T,0,0,t,i,e)},Nb=function(e,t,i,s,g,E){var n=(t+s)/2;return E>=0?e.startAt(n+E,i).lineTo(s+E,i).lineTo(s,g).lineTo(t,g).lineTo(t+E,i).lineTo(n+E,i):e.startAt(n,i).lineTo(s,i).lineTo(s-E,g).lineTo(t-E,g).lineTo(t,i).lineTo(n,i),e.close(),e};const ep=Phaser.Utils.Objects.GetValue,Ub=Phaser.Utils.Objects.IsPlainObject;let nT=class extends Oh(pl){constructor(t,i,s,g,E,n,T,r){Ub(i)?(r=i,i=r.x,s=r.y,g=r.width,E=r.height,n=r.barColor,T=r.value):Ub(g)?(r=g,g=r.width,E=r.height,n=r.barColor,T=r.value):Ub(n)&&(r=n,n=r.barColor,T=r.value),i===void 0&&(i=0),s===void 0&&(s=0),g===void 0&&(g=2),E===void 0&&(E=g),T===void 0&&(T=0),super(t,i,s,g,E,r),this.type="rexLineProgress",this.bootProgressBase(r),this.addShape(new gn().setName("trackFill")).addShape(new gn().setName("bar")).addShape(new gn().setName("trackStroke")),this.setTrackColor(ep(r,"trackColor",void 0)),this.setBarColor(n),this.setTrackStroke(ep(r,"trackStrokeThickness",2),ep(r,"trackStrokeColor",void 0)),this.setSkewX(ep(r,"skewX",0)),this.setRTL(ep(r,"rtl",!1)),this.setValue(T)}get trackColor(){return this._trackColor}set trackColor(t){this.dirty=this.dirty||this._trackColor!=t,this._trackColor=t}setTrackColor(t){return this.trackColor=t,this}get trackStrokeColor(){return this._trackStrokeColor}set trackStrokeColor(t){this.dirty=this.dirty||this._trackStrokeColor!=t,this._trackStrokeColor=t}get trackStrokeThickness(){return this._trackStrokeThickness}set trackStrokeThickness(t){this.dirty=this.dirty||this._trackStrokeThickness!=t,this._trackStrokeThickness=t}setTrackStroke(t,i){return this.trackStrokeThickness=t,this.trackStrokeColor=i,this}get barColor(){return this._barColor}set barColor(t){this.dirty=this.dirty||this._barColor!=t,this._barColor=t}setBarColor(t){return this.barColor=t,this}get skewX(){return this._skewX}set skewX(t){this.dirty=this.dirty||this._skewX!=t,this._skewX=t}setSkewX(t){return this.skewX=t,this}get rtl(){return this._rtl}set rtl(t){t=!!t,this.dirty=this.dirty||this._rtl!=t,this._rtl=t}setRTL(t){return t===void 0&&(t=!0),this.rtl=t,this}};var Out={updateShapes:Aut};Object.assign(nT.prototype,Out);It.register("lineProgress",function(e,t,i,s,g,E,n){var T=new nT(this.scene,e,t,i,s,g,E,n);return this.scene.add.existing(T),T});Dt(window,"RexPlugins.UI.LineProgress",nT);var Pw=function(e,t,i,s,g){e.setIterations(g).start();var T=s.tl;if(Zi(T))if(T.convex){var E=T.x,n=T.y;e.ellipticalArc(E,n,T.x,T.y,180,270,!1)}else{var E=0,n=0;e.ellipticalArc(E,n,T.x,T.y,90,0,!0)}else e.lineTo(0,0);var T=s.tr;if(Zi(T))if(T.convex){var E=t-T.x,n=T.y;e.ellipticalArc(E,n,T.x,T.y,270,360,!1)}else{var E=t,n=0;e.ellipticalArc(E,n,T.x,T.y,180,90,!0)}else e.lineTo(t,0);var T=s.br;if(Zi(T))if(T.convex){var E=t-T.x,n=i-T.y;e.ellipticalArc(E,n,T.x,T.y,0,90,!1)}else{var E=t,n=i;e.ellipticalArc(E,n,T.x,T.y,270,180,!0)}else e.lineTo(t,i);var T=s.bl;if(Zi(T))if(T.convex){var E=T.x,n=i-T.y;e.ellipticalArc(E,n,T.x,T.y,90,180,!1)}else{var E=0,n=i;e.ellipticalArc(E,n,T.x,T.y,360,270,!0)}else e.lineTo(0,i);return e.close(),e},oy=Phaser.Math.RadToDeg,Lut=function(e,t,i,s,g){var E=t*g,o=s.tl;if(Zi(o)){var n;E>o.x?n=90:n=oy(Math.acos((o.x-E)/o.x));var T=o.x,r=o.y;e.ellipticalArc(T,r,o.x,o.y,180,180+n,!1)}else e.lineTo(0,0);var o=s.tr;if(Zi(o)&&E>t-o.x){var n=90-oy(Math.acos((E-(t-o.x))/o.x)),T=t-o.x,r=o.y;e.ellipticalArc(T,r,o.x,o.y,270,270+n,!1)}else e.lineTo(E,0);var o=s.br;if(Zi(o)&&E>t-o.x){var n=90-oy(Math.acos((E-(t-o.x))/o.x)),T=t-o.x,r=i-o.y;e.ellipticalArc(T,r,o.x,o.y,90-n,90,!1)}else e.lineTo(E,i);var o=s.bl;if(Zi(o)){var n;E>o.x?n=90:n=oy(Math.acos((o.x-E)/o.x));var T=o.x,r=i-o.y;e.ellipticalArc(T,r,o.x,o.y,180-n,180,!1)}else e.lineTo(0,i)},ly=Phaser.Math.RadToDeg,Dut=function(e,t,i,s,g){var E=i*g,o=s.tl;if(Zi(o)){var n;E>o.y?n=90:n=ly(Math.acos((o.y-E)/o.y));var T=o.x,r=o.y;e.ellipticalArc(T,r,o.x,o.y,270-n,270,!1)}else e.lineTo(0,0);var o=s.tr;if(Zi(o)){var n;E>o.y?n=90:n=ly(Math.acos((o.y-E)/o.y));var T=t-o.x,r=o.y;e.ellipticalArc(T,r,o.x,o.y,270,270+n,!1)}else e.lineTo(t,0);var o=s.br;if(Zi(o)&&E>i-o.y){var n=90-ly(Math.acos((E-(i-o.y))/o.y)),T=t-o.x,r=i-o.y;e.ellipticalArc(T,r,o.x,o.y,0,0+n,!1)}else e.lineTo(t,E);var o=s.bl;if(Zi(o)&&E>i-o.y){var n=90-ly(Math.acos((E-(i-o.y))/o.y)),T=o.x,r=i-o.y;e.ellipticalArc(T,r,o.x,o.y,180-n,180,!1)}else e.lineTo(0,E)},hy=Phaser.Math.RadToDeg,Fut=function(e,t,i,s,g){var E=t*g,o=s.tr;if(Zi(o)){var n;E>o.x?n=90:n=hy(Math.acos((o.x-E)/o.x));var T=t-o.x,r=o.y;e.ellipticalArc(T,r,o.x,o.y,360-n,360,!1)}else e.lineTo(t,0);var o=s.br;if(Zi(o)){var n;E>o.x?n=90:n=hy(Math.acos((o.x-E)/o.x));var T=t-o.x,r=i-o.y;e.ellipticalArc(T,r,o.x,o.y,0,0+n,!1)}else e.lineTo(t,i);var o=s.bl;if(Zi(o)&&E>t-o.x){var n=90-hy(Math.acos((E-(t-o.x))/o.x)),T=o.x,r=i-o.y;e.ellipticalArc(T,r,o.x,o.y,90,90+n,!1)}else e.lineTo(t-E,i);var o=s.tl;if(Zi(o)&&E>t-o.x){var n=90-hy(Math.acos((E-(t-o.x))/o.x)),T=o.x,r=o.y;e.ellipticalArc(T,r,o.x,o.y,270-n,270,!1)}else e.lineTo(t-E,0)},uy=Phaser.Math.RadToDeg,Iut=function(e,t,i,s,g){var E=i*g,o=s.br;if(Zi(o)){E>o.y?r=90:r=uy(Math.acos((o.y-E)/o.y));var n=t-o.x,T=i-o.y;e.ellipticalArc(n,T,o.x,o.y,90-r,90,!1)}else e.lineTo(t,i);var o=s.bl;if(Zi(o)){E>o.y?r=90:r=uy(Math.acos((o.y-E)/o.y));var n=o.x,T=i-o.y;e.ellipticalArc(n,T,o.x,o.y,90,90+r,!1)}else e.lineTo(0,i);var o=s.tl;if(Zi(o)&&E>i-o.y){var r=90-uy(Math.acos((E-(i-o.y))/o.y)),n=o.x,T=o.y;e.ellipticalArc(n,T,o.x,o.y,180,180+r,!1)}else e.lineTo(0,i-E);var o=s.tr;if(Zi(o)&&E>i-o.y){var r=90-uy(Math.acos((E-(i-o.y))/o.y)),n=t-o.x,T=o.y;e.ellipticalArc(n,T,o.x,o.y,360-r,360,!1)}else e.lineTo(t,i-E)},But=function(e,t,i,s,g,E,n,T){if(e.setIterations(T).start(),g===0)return e;if(g===1)return Pw(e,t,i,s,T);var r;return E===0?r=n?Fut:Lut:r=n?Iut:Dut,r(e,t,i,s,g),e.close(),e},Gut=function(){var e=this.width,t=this.height,i=this.rrGeom.cornerRadius,s=this.value,g=this.orientation,E=this.rtl,n=this.iteration+1,T=this.getShape("trackFill");T.fillStyle(this.trackColor),T.isFilled&&Pw(T,e,t,i,n);var r=this.getShape("bar");r.fillStyle(this.barColor),r.isFilled&&But(r,e,t,i,s,g,E,n);var o=this.getShape("trackStroke");o.lineStyle(this.trackStrokeThickness,this.trackStrokeColor),o.isStroked&&Pw(o,e,t,i,n)},kut={x:0,h:0,horizontal:0,"left-to-right":0,y:1,v:1,vertical:1,"top-to-bottom":1},Qu=function(e){return typeof e=="string"&&(e=kut[e]),e};const cd=Phaser.Utils.Objects.GetValue,Vb=Phaser.Utils.Objects.IsPlainObject;class wM extends Oh(pl){constructor(t,i,s,g,E,n,T,r,o){Vb(i)?(o=i,i=o.x,s=o.y,g=o.width,E=o.height,n=o.radius,T=o.barColor,r=o.value):Vb(g)?(o=g,g=o.width,E=o.height,n=o.radius,T=o.barColor,r=o.value):Vb(n)&&(o=n,n=o.radius,T=o.barColor,r=o.value),i===void 0&&(i=0),s===void 0&&(s=0),g===void 0&&(g=1),E===void 0&&(E=g),n===void 0&&(n=0),r===void 0&&(r=0),super(t,i,s,g,E,o),this.type="rexRoundRectangleProgress",this.rrGeom=new rM,this.bootProgressBase(o),this.addShape(new gn().setName("trackFill")).addShape(new gn().setName("bar")).addShape(new gn().setName("trackStroke")),this.setTrackColor(cd(o,"trackColor",void 0)),this.setBarColor(T),this.setTrackStroke(cd(o,"trackStrokeThickness",2),cd(o,"trackStrokeColor",void 0)),this.setOrientation(cd(o,"orientation",0)),this.setRTL(cd(o,"rtl",!1)),this.setRadius(n),this.setIteration(cd(n,"iteration",void 0)),this.setValue(r)}get trackColor(){return this._trackColor}set trackColor(t){this.dirty=this.dirty||this._trackColor!=t,this._trackColor=t}setTrackColor(t){return this.trackColor=t,this}get trackStrokeColor(){return this._trackStrokeColor}set trackStrokeColor(t){this.dirty=this.dirty||this._trackStrokeColor!=t,this._trackStrokeColor=t}get trackStrokeThickness(){return this._trackStrokeThickness}set trackStrokeThickness(t){this.dirty=this.dirty||this._trackStrokeThickness!=t,this._trackStrokeThickness=t}setTrackStroke(t,i){return this.trackStrokeThickness=t,this.trackStrokeColor=i,this}get barColor(){return this._barColor}set barColor(t){this.dirty=this.dirty||this._barColor!=t,this._barColor=t}setBarColor(t){return this.barColor=t,this}get orientation(){return this._orientation}set orientation(t){t=Qu(t),this.dirty=this.dirty||this._orientation!=t,this._orientation=t}setOrientation(t){return this.orientation=t,this}get rtl(){return this._rtl}set rtl(t){t=!!t,this.dirty=this.dirty||this._rtl!=t,this._rtl=t}setRTL(t){return t===void 0&&(t=!0),this.rtl=t,this}get radius(){return this.rrGeom.radius}set radius(t){this.rrGeom.setRadius(t),this.dirty=!0}get radiusTL(){return this.rrGeom.radiusTL}set radiusTL(t){this.rrGeom.radiusTL=t,this.dirty=!0}get radiusTR(){return this.rrGeom.radiusTR}set radiusTR(t){this.rrGeom.radiusTR=t,this.dirty=!0}get radiusBL(){return this.rrGeom.radiusBL}set radiusBL(t){this.rrGeom.radiusBL=t,this.dirty=!0}get radiusBR(){return this.rrGeom.radiusBR}set radiusBR(t){this.rrGeom.radiusBR=t,this.dirty=!0}setRadius(t){return t===void 0&&(t=0),this.radius=t,this}setRadiusTL(t){return t===void 0&&(t=0),this.radiusTL=t,this}setRadiusTR(t){return t===void 0&&(t=0),this.radiusTR=t,this}setRadiusBL(t){return t===void 0&&(t=0),this.radiusBL=t,this}setRadiusBR(t){return t===void 0&&(t=0),this.radiusBR=t,this}get cornerRadius(){return this.rrGeom.cornerRadius}set cornerRadius(t){this.radius=t}setCornerRadius(t){return this.setRadius(t)}get iteration(){return this._iteration}set iteration(t){if(this._iteration===void 0){this._iteration=t;return}this._iteration!==t&&(this._iteration=t,this.dirty=!0)}setIteration(t){return t===void 0&&(t=6),this.iteration=t,this}}var Nut={updateShapes:Gut};Object.assign(wM.prototype,Nut);It.register("roundRectanleProgress",function(e,t,i,s,g,E,n,T){var r=new wM(this.scene,e,t,i,s,g,E,n,T);return this.scene.add.existing(r),r});Dt(window,"RexPlugins.UI.RoundRectangleProgress",wM);var Uut=function(e,t){e.save(),e.beginPath();var i=t[0];e.moveTo(i.x,i.y);for(var s=1,g=t.length;s<g;s++)i=t[s],e.lineTo(i.x,i.y);e.closePath(),e.restore()},zb=function(e,t,i,s,g,E,n){n===void 0&&(n="round"),Uut(t,i),t.lineJoin=n,s!=null&&(t.fillStyle=s,t.fill()),g!=null&&(t.strokeStyle=g,t.lineWidth=E,t.stroke())},Vut=function(){var e=this.skewX,t=this.width-Math.abs(e),i=this.height,s=this.canvas,g=this.context;(this.trackColor||this.trackStrokeColor)&&kI(0,0,t,i,e,this.trackPoints);var E,n;if(this.barColor&&(this.rtl?(E=t*(1-this.value),n=t):(E=0,n=t*this.value),kI(E,0,n,i,e,this.barPoints)),this.trackColor&&(g.save(),zb(s,g,this.trackPoints,this.trackColor),g.restore()),this.barColor){g.save();var T;if(this.barColor2){var r;if(this.isHorizontalGradient){var o=i/2;r=g.createLinearGradient(E,o,n,o)}else{var y=t/2;r=g.createLinearGradient(y,0,y,i)}r.addColorStop(0,this.rtl?this.barColor:this.barColor2),r.addColorStop(1,this.rtl?this.barColor2:this.barColor),T=r}else T=this.barColor;zb(s,g,this.barPoints,T),g.restore()}this.trackStrokeColor&&this.trackStrokeThickness>0&&(g.save(),zb(s,g,this.trackPoints,void 0,this.trackStrokeColor,this.trackStrokeThickness),g.restore())},kI=function(e,t,i,s,g,E){E===void 0&&(E=[]),E.length=4;for(var n=0;n<4;n++)E[n]||(E[n]={});var T;return g>=0?(T=E[0],T.x=e+g,T.y=t,T=E[1],T.x=i+g,T.y=t,T=E[2],T.x=i,T.y=s,T=E[3],T.x=e,T.y=s):(T=E[0],T.x=e,T.y=t,T=E[1],T.x=i,T.y=t,T=E[2],T.x=i-g,T.y=s,T=E[3],T.x=e-g,T.y=s),E};const br=Phaser.Utils.Objects.GetValue,Wb=Phaser.Utils.Objects.IsPlainObject;class MM extends Oh(Ah){constructor(t,i,s,g,E,n,T,r){Wb(i)?(r=i,i=br(r,"x",0),s=br(r,"y",0),g=br(r,"width",2),E=br(r,"height",2),n=br(r,"barColor",void 0),T=br(r,"value",0)):Wb(g)?(r=g,g=br(r,"width",2),E=br(r,"height",2),n=br(r,"barColor",void 0),T=br(r,"value",0)):Wb(n)&&(r=n,n=br(r,"barColor",void 0),T=br(r,"value",0));var o=br(r,"resolution",1);super(t,i,s,g,E,o),this.type="rexLineProgressCanvas",this.trackPoints=[],this.barPoints=[],this.bootProgressBase(r),this.setTrackColor(br(r,"trackColor",void 0)),this.setBarColor(n,br(r,"barColor2",void 0),br(r,"isHorizontalGradient",void 0)),this.setTrackStroke(br(r,"trackStrokeThickness",2),br(r,"trackStrokeColor",void 0)),this.setSkewX(br(r,"skewX",0)),this.setRTL(br(r,"rtl",!1)),this.setValue(T)}get trackColor(){return this._trackColor}set trackColor(t){t=Ke(t,this.canvas,this.context),this.dirty=this.dirty||this._trackColor!=t,this._trackColor=t}setTrackColor(t){return this.trackColor=t,this}get trackStrokeColor(){return this._trackStrokeColor}set trackStrokeColor(t){t=Ke(t,this.canvas,this.context),this.dirty=this.dirty||this._trackStrokeColor!=t,this._trackStrokeColor=t}get trackStrokeThickness(){return this._trackStrokeThickness}set trackStrokeThickness(t){this.dirty=this.dirty||this._trackStrokeThickness!=t,this._trackStrokeThickness=t}setTrackStroke(t,i){return this.trackStrokeThickness=t,this.trackStrokeColor=i,this}get barColor(){return this._barColor}set barColor(t){t=Ke(t,this.canvas,this.context),this.dirty=this.dirty||this._barColor!=t,this._barColor=t}get barColor2(){return this._barColor2}set barColor2(t){t=Ke(t,this.canvas,this.context),this.dirty=this.dirty||this._barColor2!=t,this._barColor2=t}get isHorizontalGradient(){return this._isHorizontalGradient}set isHorizontalGradient(t){this.dirty|=this._isHorizontalGradient!=t,this._isHorizontalGradient=t}setBarColor(t,i,s){return s===void 0&&(s=!0),this.barColor=t,this.barColor2=i,this.isHorizontalGradient=s,this}get skewX(){return this._skewX}set skewX(t){this.dirty=this.dirty||this._skewX!=t,this._skewX=t}setSkewX(t){return this.skewX=t,this}get rtl(){return this._rtl}set rtl(t){t=!!t,this.dirty=this.dirty||this._rtl!=t,this._rtl=t}setRTL(t){return t===void 0&&(t=!0),this.rtl=t,this}updateTexture(){return super.updateTexture(function(){this.clear(),Vut.call(this)},this),this}}It.register("circularProgressCanvas",function(e,t,i,s,g,E,n){var T=new MM(this.scene,e,t,i,s,g,E,n);return this.scene.add.existing(T),T});Dt(window,"RexPlugins.UI.LineProgressCanvas",MM);Phaser.Math.Wrap;const vd=Phaser.Math.Linear;var zut=function(){var e=this.getShape("triangle"),t=this.padding,i=this.width-t.right,s=0+t.left,g=this.height-t.bottom,E=0+t.top,n=(s+i)/2,T=(E+g)/2,r={0:{a:{x:s,y:E},b:{x:i,y:T},c:{x:s,y:g}},1:{a:{x:s,y:E},b:{x:n,y:g},c:{x:i,y:E}},2:{a:{x:i,y:E},b:{x:s,y:T},c:{x:i,y:g}},3:{a:{x:s,y:g},b:{x:n,y:E},c:{x:i,y:g}}},o,y,d,h,l,a;if(this.previousDirection===void 0){var f=r[this.direction],c=f.a,u=f.b,v=f.c;o=c.x,y=c.y,d=u.x,h=u.y,l=v.x,a=v.y}else{var p=r[this.previousDirection],m=r[this.direction],x=this.easeDirectionProgress;o=vd(p.a.x,m.a.x,x),y=vd(p.a.y,m.a.y,x),d=vd(p.b.x,m.b.x,x),h=vd(p.b.y,m.b.y,x),l=vd(p.c.x,m.c.x,x),a=vd(p.c.y,m.c.y,x)}e.startAt(o,y).lineTo(d,h).lineTo(l,a),this.arrowOnly?e.end():e.close()};const Wut=Phaser.Math.DegToRad,fy=Wut(120);var Yut=function(t){var t=this.getShape("triangle"),i=this.width/2,s=this.height/2,g=Math.min(i,s)*this.radius,E=this.verticeRotation;t.startAt(i+g*Math.cos(E+fy),s+g*Math.sin(E+fy)).lineTo(i+g*Math.cos(E),s+g*Math.sin(E)).lineTo(i+g*Math.cos(E-fy),s+g*Math.sin(E-fy)),this.arrowOnly?t.end():t.close()};const Xut={buildShapes(){this.addShape(new gn().setName("triangle"))},updateShapes(){var e=this.getShape("triangle");this.arrowOnly?e.fillStyle().lineStyle(this.lineWidth,this.strokeColor,this.strokeAlpha):e.fillStyle(this.fillColor,this.fillAlpha).lineStyle(this.lineWidth,this.strokeColor,this.strokeAlpha),this.shapeMode===0?zut.call(this):Yut.call(this)}},Hut={setEaseDuration(e){return e===void 0&&(e=0),this.easeDuration=e,this},playEaseDirectionation(){return this.easeDirectionProgressTask===void 0&&(this.easeDirectionProgressTask=new cl(this,{eventEmitter:null})),this.easeDirectionProgressTask.restart({key:"easeDirectionProgress",from:0,to:1,duration:this.easeDuration}),this},stopEaseDirection(){return this.easeDirectionProgressTask===void 0?this:(this.easeDirectionProgressTask.stop(),this)}},pd=Phaser.Utils.Objects.GetValue,$ut=Phaser.Utils.Objects.IsPlainObject,Kut=Phaser.Math.DegToRad,Jut=Phaser.Math.RadToDeg;class eg extends pl{constructor(t,i,s,g,E,n,T){var r,o,y,d,h,l,a,f;if($ut(i)){var c=i;i=c.x,s=c.y,g=c.width,E=c.height,n=c.color,T=c.alpha,r=c.strokeColor,o=c.strokeAlpha,y=c.strokeWidth,d=c.arrowOnly,h=c.direction,l=c.easeDuration,a=c.padding,f=c.radius}i===void 0&&(i=0),s===void 0&&(s=0),g===void 0&&(g=1),E===void 0&&(E=g),d===void 0&&(d=!1),h===void 0&&(h=0),l===void 0&&(l=0),a===void 0&&(a=0),f===void 0&&(f=void 0),super(t,i,s,g,E),this.type="rexTriangle",this.setFillStyle(n,T),r!==void 0&&y===void 0&&(y=2),this.setStrokeStyle(y,r,o),this.setArrowOnly(d),this.setDirection(h,l),this.setPadding(a),this.setRadius(f),this.buildShapes()}get arrowOnly(){return this._arrowOnly}set arrowOnly(t){this.dirty=this.dirty||this._arrowOnly!=t,this._arrowOnly=t}setArrowOnly(t){return t===void 0&&(t=!0),this.arrowOnly=t,this}get direction(){return this._direction}set direction(t){t=jut(t),this._direction!==t&&(this.easeDuration>0&&this._direction!==void 0?this.previousDirection=this._direction:this.previousDirection=void 0,this._direction=t,this.verticeAngle=t*90,this.dirty=!0,this.previousDirection!==void 0?this.playEaseDirectionation():this.stopEaseDirection())}setDirection(t,i){return i!==void 0&&this.setEaseDuration(i),this.direction=t,this}toggleDirection(t){return this.setDirection(this.direction+2,t),this}get easeDirectionProgress(){return this._easeDirectionProgress}set easeDirectionProgress(t){this._easeDirectionProgress!==t&&(this._easeDirectionProgress=t,this.dirty=!0)}setPadding(t,i,s,g){if(typeof t=="object"){var E=t,n=pd(E,"x",null);n!==null?(t=n,s=n):(t=pd(E,"left",0),s=pd(E,"right",t));var T=pd(E,"y",null);T!==null?(i=T,g=T):(i=pd(E,"top",0),g=pd(E,"bottom",i))}else t===void 0&&(t=0),i===void 0&&(i=t),s===void 0&&(s=t),g===void 0&&(g=i);return this.padding===void 0&&(this.padding={}),this.dirty=this.dirty||this.padding.left!=t||this.padding.top!=i||this.padding.right!=s||this.padding.bottom!=g,this.padding.left=t,this.padding.top=i,this.padding.right=s,this.padding.bottom=g,this.setRadius(),this}get radius(){return this._radius}set radius(t){this.dirty=this.dirty||this._radius!=t,this._radius=t}setRadius(t){return this.radius=t,this.shapeMode=t==null?0:1,this}get verticeRotation(){return this._verticeRotation}set verticeRotation(t){this.dirty=this.dirty||this._verticeRotation!=t,this._verticeRotation=t}setVerticeRotation(t){return this.verticeRotation=t,this}get verticeAngle(){return Jut(this.verticeRotation)}set verticeAngle(t){this.verticeRotation=Kut(t)}setVerticeAngle(t){return this.verticeAngle=t,this}}const Zut={right:0,down:1,left:2,up:3};var jut=function(e){return typeof e=="string"&&(e=Zut[e]),e=e%4,e};Object.assign(eg.prototype,Xut,Hut);It.register("triangle",function(e,t,i,s,g,E){var n=new eg(this.scene,e,t,i,s,g,E);return this.scene.add.existing(n),n});Dt(window,"RexPlugins.UI.Triangle",eg);$x();const Qut=Phaser.GameObjects.Zone,qut=Phaser.Utils.Array.Add,_ut=Phaser.Utils.Array.Remove;let ig=class extends Qut{constructor(t,i,s,g,E){i===void 0&&(i=0),s===void 0&&(s=0),g===void 0&&(g=1),E===void 0&&(E=1),super(t,i,s,g,E),this.children=[]}destroy(t){if(!(!this.scene||this.ignoreDestroy)){if(t)for(var i,s=this.children.length-1;s>=0;s--)i=this.children[s],!i.parentContainer&&!i.displayList&&i.destroy(t);this.clear(!t),super.destroy(t)}}contains(t){return this.children.indexOf(t)!==-1}add(t){var i=this;return qut(this.children,t,0,function(s){s.once("destroy",i.onChildDestroy,i)},this),this}remove(t,i){var s=this;return _ut(this.children,t,function(g){g.off("destroy",s.onChildDestroy,s),i&&g.destroy()}),this}onChildDestroy(t,i){this.remove(t,!1)}clear(t){for(var i=this,s,g=0,E=this.children.length;g<E;g++)s=this.children[g],s.off("destroy",i.onChildDestroy,i),t&&s.destroy();return this.children.length=0,this}};const NI=Phaser.GameObjects.Components;Phaser.Class.mixin(ig,[NI.Alpha,NI.Flip]);var Bs=function(e,t){var i;if(t===void 0)e.hasOwnProperty("rexContainer")&&(i=e.rexContainer.parent);else for(i=Bs(e);i&&i.name!==t;)i=Bs(i);return i},Ik=function(e){for(var t=Bs(e);t;)e=t,t=Bs(t);return e};const tft=Phaser.Math.DegToRad,eft=Phaser.Math.RadToDeg;var _e=function(e){if(!e.hasOwnProperty("rexContainer")){var t={parent:null,self:null,layer:null,x:0,y:0,syncPosition:!0,rotation:0,syncRotation:!0,scaleX:0,scaleY:0,syncScale:!0,alpha:0,syncAlpha:!0,syncScrollFactor:!0,syncCameraFilter:!0,syncDisplayList:!0,visible:!0,active:!0};Object.defineProperty(t,"angle",{get:function(){return eft(this.rotation)},set:function(i){this.rotation=tft(i)}}),Object.defineProperty(t,"displayWidth",{get:function(){return e.width*this.scaleX},set:function(i){this.scaleX=i/e.width}}),Object.defineProperty(t,"displayHeight",{get:function(){return e.height*this.scaleY},set:function(i){this.scaleY=i/e.height}}),e.rexContainer=t}return e.rexContainer};const ift={setParent(e,t){t===void 0&&(t=this);var i=_e(e);return t?(i.parent=t,i.self=e):(i.parent=null,i.self=null),this},getParent(e,t){return typeof e=="string"&&(t=e,e=void 0),e===void 0&&(e=this),Bs(e,t)},getTopmostParent(e){return e===void 0&&(e=this),Ik(e)}},mu=Phaser.Utils.Objects.GetValue,Bk=ig.prototype.add;var UI=function(e,t){this.setParent(e);var i=_e(e);return Gk(i,t),this.resetChildState(e).updateChildVisible(e).updateChildActive(e).updateChildScrollFactor(e).updateChildMask(e).updateCameraFilter(e),Bk.call(this,e),kk.call(this,e,i),this},Yb=function(e,t){this.setParent(e);var i=_e(e);return Gk(i,t),i.x=e.x,i.y=e.y,i.rotation=e.rotation,i.scaleX=e.scaleX,i.scaleY=e.scaleY,i.alpha=e.alpha,i.visible=e.visible,i.active=e.active,this.updateChildPosition(e).updateChildAlpha(e).updateChildVisible(e).updateChildActive(e).updateChildScrollFactor(e).updateChildMask(e),Bk.call(this,e),kk.call(this,e,i),this},Gk=function(e,t){t===void 0&&(t=!0),typeof t=="boolean"?(e.syncPosition=t,e.syncRotation=t,e.syncScale=t,e.syncAlpha=t,e.syncScrollFactor=t,e.syncCameraFilter=t,e.syncDisplayList=t):(e.syncPosition=mu(t,"syncPosition",!0),e.syncRotation=mu(t,"syncRotation",!0),e.syncScale=mu(t,"syncScale",!0),e.syncAlpha=mu(t,"syncAlpha",!0),e.syncScrollFactor=mu(t,"syncScrollFactor",!0),e.syncCameraFilter=mu(t,"syncCameraFilter",!0),e.syncDisplayList=mu(t,"syncDisplayList",!0))},kk=function(e,t){this.addToParentContainer(e),t.syncDisplayList&&this.addToPatentLayer(e),this.addToRenderLayer(e)};const rft={add(e){return Array.isArray(e)?this.addMultiple(e):UI.call(this,e),this},pin(e,t){return Array.isArray(e)?this.addMultiple(e,t):UI.call(this,e,t),this},addMultiple(e){for(var t=Array.from(arguments),i=0,s=e.length;i<s;i++)t[0]=e[i],this.add.apply(this,t);return this},addLocal(e){return Array.isArray(e)?this.addMultiple(e):Yb.call(this,e),this},pinLocal(e,t){return Array.isArray(e)?this.addMultiple(e,t):Yb.call(this,e,t),this},addLocalMultiple(e){for(var t=0,i=e.length;t<i;t++)Yb.call(this,e[t]);return this}},VI=ig.prototype.remove,nft=ig.prototype.clear,sft={remove(e,t){return Bs(e)!==this?this:(this.setParent(e,null),t||this.removeFromRenderLayer(e),VI.call(this,e,t),this)},unpin(e,t){return Bs(e)!==this?this:(this.setParent(e,null),t||this.removeFromRenderLayer(e),VI.call(this,e,t),this)},clear(e){for(var t=this.children,i=0,s=t.length;i<s;i++){var g=t[i];this.setParent(g,null),e||this.removeFromRenderLayer(g)}return nft.call(this,e),this}},aft={getLocalState(e){return _e(e)},resetChildState(e){return this.resetChildPositionState(e).resetChildVisibleState(e).resetChildAlphaState(e).resetChildActiveState(e),this},resetChildrenState(e){for(var t=0,i=e.length;t<i;t++)this.resetChildState(e[t]);return this},syncProperties(){return this.syncPosition().syncVisible().syncAlpha().syncActive().syncScrollFactor().syncMask(),this}},oft={worldToLocal(e){e.x-=this.x,e.y-=this.y;var t=Math.cos(-this.rotation),i=Math.sin(-this.rotation),s=e.x,g=e.y;return e.x=s*t-g*i,e.y=s*i+g*t,e.x/=this.scaleX,e.y/=this.scaleY,e},localToWorld(e){e.x*=this.scaleX,e.y*=this.scaleY;var t=Math.cos(this.rotation),i=Math.sin(this.rotation),s=e.x,g=e.y;return e.x=s*t-g*i,e.y=s*i+g*t,e.x+=this.x,e.y+=this.y,e}};var Bp=function(e,t){return e===t?1:e/t};const lft={updateChildPosition(e){e.isRexContainerLite&&(e.syncChildrenEnable=!1);var t=_e(e),i=t.parent;return t.syncPosition&&(e.x=t.x,e.y=t.y,i.localToWorld(e)),t.syncRotation&&(e.rotation=t.rotation+i.rotation),t.syncScale&&(e.scaleX=t.scaleX*i.scaleX,e.scaleY=t.scaleY*i.scaleY),e.isRexContainerLite&&(e.syncChildrenEnable=!0,e.syncPosition()),this},syncPosition(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildPosition,this),this},resetChildPositionState(e){var t=_e(e),i=t.parent;return t.x=e.x,t.y=e.y,i.worldToLocal(t),t.scaleX=Bp(e.scaleX,i.scaleX),t.scaleY=Bp(e.scaleY,i.scaleY),t.rotation=e.rotation-i.rotation,this},setChildPosition(e,t,i){return e.x=t,e.y=i,this.resetChildPositionState(e),this},setChildLocalPosition(e,t,i){var s=_e(e);return s.x=t,s.y=i,this.updateChildPosition(e),this},resetLocalPositionState(){var e=_e(this).parent;return e&&e.resetChildPositionState(this),this},getChildLocalX(e){var t=_e(e);return t.x},getChildLocalY(e){var t=_e(e);return t.y}},hft=Phaser.Math.DegToRad,uft={updateChildRotation(e){var t=_e(e),i=t.parent;return t.syncRotation&&(e.rotation=i.rotation+t.rotation),this},syncRotation(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildRotation,this),this},resetChildRotationState(e){var t=_e(e),i=t.parent;return t.rotation=e.rotation-i.rotation,this},setChildRotation(e,t){return e.rotation=t,this.resetChildRotationState(e),this},setChildAngle(e,t){return e.angle=t,this.resetChildRotationState(e),this},setChildLocalRotation(e,t){var i=_e(e);return i.rotation=t,this.updateChildRotation(e),this},setChildLocalAngle(e,t){var i=_e(e);return i.rotation=hft(t),this.updateChildRotation(e),this},resetLocalRotationState(){var e=_e(this).parent;return e&&e.resetChildRotationState(this),this},getChildLocalRotation(e){var t=_e(e);return t.rotation}},fft={updateChildScale(e){var t=_e(e),i=t.parent;return t.syncScale&&(e.scaleX=i.scaleX*t.scaleX,e.scaleY=i.scaleY*t.scaleY),this},syncScale(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildScale,this),this},resetChildScaleState(e){var t=_e(e),i=t.parent;return t.scaleX=Bp(e.scaleX,i.scaleX),t.scaleY=Bp(e.scaleY,i.scaleY),this},setChildScale(e,t,i){return i===void 0&&(i=t),e.scaleX=t,e.scaleY=i,this.resetChildScaleState(e),this},setChildLocalScale(e,t,i){i===void 0&&(i=t);var s=_e(e);return s.scaleX=t,s.scaleY=i,this.updateChildScale(e),this},setChildDisplaySize(e,t,i){return e.setDisplaySize(t,i),this.resetChildScaleState(e),this},resetLocalScaleState(){var e=_e(this).parent;return e&&e.resetChildScaleState(this),this},getChildLocalScaleX(e){var t=_e(e);return t.scaleX},getChildLocalScaleY(e){var t=_e(e);return t.scaleY}},dft={updateChildVisible(e){var t=_e(e),i=t.parent,s=t.hasOwnProperty("maskVisible")?t.maskVisible:!0,g=i?i.visible:!0;return e.visible=g&&t.visible&&s,this},syncVisible(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildVisible,this),this},resetChildVisibleState(e){var t=_e(e);return t.hasOwnProperty("maskVisible")&&delete t.maskVisible,t.visible=e.visible,this},setChildVisible(e,t){return this.setChildLocalVisible(e,t),this},setChildLocalVisible(e,t){t===void 0&&(t=!0);var i=_e(e);return i.visible=t,this.updateChildVisible(e),this},setChildMaskVisible(e,t){t===void 0&&(t=!0);var i=_e(e);return i.maskVisible=t,this.updateChildVisible(e),this},resetLocalVisibleState(){var e=_e(this).parent;return e&&e.resetChildVisibleState(this),this},getChildLocalVisible(e){var t=_e(e);return t.visible}},cft={updateChildAlpha(e){var t=_e(e),i=t.parent;return t.syncAlpha&&(e.alpha=i.alpha*t.alpha),this},syncAlpha(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildAlpha,this),this},resetChildAlphaState(e){var t=_e(e),i=t.parent;return t.alpha=Bp(e.alpha,i.alpha),this},setChildAlpha(e,t){return e.alpha=t,this.resetChildAlphaState(e),this},setChildLocalAlpha(e,t){var i=_e(e);return i.alpha=t,this.updateChildAlpha(e),this},resetLocalAlphaState(){var e=_e(this).parent;return e&&e.resetChildAlphaState(this),this},getChildLocalAlpha(e){var t=_e(e);return t.alpha}},vft={updateChildActive(e){var t=_e(e),i=t.parent;return e.active=i.active&&t.active,this},syncActive(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildActive,this),this},resetChildActiveState(e){var t=_e(e);return t.active=e.active,this},setChildActive(e,t){return e.active=t,this.resetChildActiveState(e),this},setChildLocalActive(e,t){t===void 0&&(t=!0);var i=_e(e);return i.active=t,this.updateChildActive(e),this},resetLocalActiveState(){var e=_e(this).parent;return e&&e.resetChildActiveState(this),this},getChildLocalActive(e){var t=_e(e);return t.active}},pft={updateChildScrollFactor(e){var t=_e(e),i=t.parent;return t.syncScrollFactor&&(e.scrollFactorX=i.scrollFactorX,e.scrollFactorY=i.scrollFactorY),this},syncScrollFactor(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildScrollFactor,this),this}},gft={updateCameraFilter(e){var t=_e(e),i=t.parent;return t.syncCameraFilter&&(e.cameraFilter=i.cameraFilter),this},syncCameraFilter(){return this.syncChildrenEnable&&this.children.forEach(this.updateCameraFilter,this),this}},mft={updateChildMask(e){if(this.mask==null)return this;var t=this.mask.hasOwnProperty("geometryMask")?this.mask.geometryMask:this.mask.bitmapMask;return t!==e&&(e.mask=this.mask),this},syncMask(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildMask,this),this},setMask(e){return this.mask=e,this},clearMask(e){e===void 0&&(e=!1);var t=this;return this._mask=null,this.setChildMaskVisible(this),this.children.forEach(function(i){i.clearMask&&i.clearMask(!1),i.hasOwnProperty("isRexContainerLite")||t.setChildMaskVisible(i)}),e&&this.mask&&this.mask.destroy(),this}};var dy=function(e){return e.filter(function(t){if(t.displayList)return!0;if(t.parentContainer)return!0})};const yft={setDepth(e,t){if(this.depth=e,!t&&this.children)for(var i=this.getAllChildren(),s=0,g=i.length;s<g;s++)i[s].depth=e;return this},swapDepth(e){var t=this.depth,i=e.depth;return this.setDepth(i),e.setDepth(t),this},incDepth(e){if(this.depth+=e,this.children)for(var t=this.getAllChildren(),i=0,s=t.length;i<s;i++)t[i].depth+=e;return this},bringToTop(){var e=this.displayList;if(!e)return this;var t=this.getAllChildren([this]);na(t,!1);for(var i=0,s=t.length;i<s;i++){var g=t[i];e.exists(g)&&e.bringToTop(g)}return this},bringMeToTop(){return this.bringToTop()},sendToBack(){var e=this.displayList;if(!e)return this;var t=this.getAllChildren([this]);na(t,!0);for(var i=0,s=t.length;i<s;i++){var g=t[i];e.exists(g)&&e.sendToBack(g)}return this},sendMeToBack(){return this.sendToBack()},moveDepthBelow(e){var t=this.displayList;if(!t)return this;if(e.displayList!==t)return this;var i=this.getAllChildren([this]);na(i,!1);for(var s=0,g=i.length;s<g;s++){var E=i[s];if(t.exists(E)){t.moveBelow(e,E);break}}return this},moveMyDepthBelow(e){return this.moveDepthBelow(e)},moveDepthAbove(e){var t=this.displayList;if(!t)return this;if(e.displayList!==t)return this;var i=this.getAllChildren([this]);na(i,!0);for(var s=0,g=i.length;s<g;s++){var E=i[s];if(t.exists(E)){t.moveAbove(e,E);break}}return this},moveMyDepthAbove(e){return this.moveDepthAbove(e)},bringChildToTop(e){var t;e!==this&&e.isRexContainerLite?(t=e.getAllChildren([e]),t=dy(t),t=na(t,!1)):t=[e];var i=this.getAllChildren([this]);i=dy(i),i=na(i,!1);for(var s=i[i.length-1],g=0,E=t.length;g<E;g++){var n=t[g];s!==n&&(n!==this&&s.displayList!==n.displayList||(s.displayList.moveAbove(n,s),s=n))}return this},sendChildToBack(e){var t;e!==this&&e.isRexContainerLite?(t=e.getAllChildren([e]),t=dy(t),t=na(t,!1)):t=[e];var i=this.getAllChildren([this]);i=dy(i),i=na(i,!1);for(var s=i[0],g=t.length-1;g>=0;g--){var E=t[g];s!==E&&(E!==this&&s.displayList!==E.displayList||(s.displayList.moveBelow(E,s),s=E))}return this}};var Nk=function(e,t){var i=t(e);if(!i&&e.isRexContainerLite)for(var s=e.children,g=0,E=s.length;g<E;g++)Nk(s[g],t)},Xb=function(e,t){for(var i=[e];i.length>0;){var s=i.shift(),g=t(s);!g&&s.isRexContainerLite&&i.push(...s.children)}};const yu=Phaser.Utils.Array,xft={getChildren(e){if(!e)e=this.children;else for(var t=0,i=this.children.length;t<i;t++)e.push(this.children[t]);return e},getAllChildren(e){e===void 0&&(e=[]);var t=this;return Xb(t,function(i){i!==t&&e.push(i)}),e},getAllVisibleChildren(e){e===void 0&&(e=[]);var t=this;return Xb(t,function(i){if(i!==t){if(!i.visible)return!0;e.push(i)}}),e},bfs(e,t){return t===void 0&&(t=this),Xb(t,e),this},dfs(e,t){return t===void 0&&(t=this),Nk(t,e),this},contains(e){var t=Bs(e);return t?t===this?!0:this.contains(t):!1},getByName(e,t){if(t){for(var i=[this],s,g;i.length;){s=i.shift();for(var E=0,n=s.children.length;E<n;E++){if(g=s.children[E],g.name===e)return g;g.isRexContainerLite&&i.push(g)}}return null}else return yu.GetFirst(this.children,"name",e)},getRandom(e,t){return yu.GetRandom(this.children,e,t)},getFirst(e,t,i,s){return yu.GetFirstElement(this.children,e,t,i,s)},getAll(e,t,i,s){return yu.GetAll(this.children,e,t,i,s)},count(e,t,i,s){return yu.CountAllMatching(this.children,e,t,i,s)},swap(e,t){return yu.Swap(this.children,e,t),this},setAll(e,t,i,s){return yu.SetAll(this.children,e,t,i,s),this}};var zI=function(e){for(var t=[],i=0,s=e.length;i<s;i++){var g=e[i];g.hasOwnProperty("rexContainer")&&t.push(g.rexContainer)}return t},Tft=function(e){for(var t=0,i=e.length;t<i;t++){var s=e[t].scene;if(s)return s}return null},WI=function(e,t,i){if(!i.parent){e.remove();return}var s=i.parent,g=i.self;switch(t){case"x":case"y":s.updateChildPosition(g);break;case"angle":case"rotation":s.updateChildRotation(g);break;case"scaleX":case"scaleY":case"displayWidth":case"displayHeight":s.updateChildScale(g);break;case"alpha":s.updateChildAlpha(g);break;default:s.updateChildPosition(g),s.updateChildRotation(g),s.updateChildScale(g),s.updateChildAlpha(g);break}};const Cft={tweenChild(e){var t=e.targets;Array.isArray(t)||(t=[t]);var i=this.scene||Tft(t);if(i){e.targets=zI(t);var s=i.tweens.add(e);return s.on("update",WI),s}},tweenSelf(e){return e.targets=[this],this.tweenChild(e)},createTweenChildConfig(e){var t=e.targets;t&&(Array.isArray(t)||(t=[t]),e.targets=zI(t));var i=e.onUpdate;return e.onUpdate=function(s,g){i&&i(s,g),WI(s,void 0,g)},e},tween(e){var t=this.scene;return e.targets||(e.targets=this),t.tweens.add(e)}},Sft=Phaser.GameObjects.Container;var Eft=function(e){return e instanceof Sft},Uk=function(e){var t=e.getAllChildren([e]);return t=t.filter(function(i){return!!i.displayList||!!i.parentContainer}),t},YI=function(e){var t=Uk(this);t.indexOf(this)===-1&&t.push(this),na(t),e.add(t)},XI=function(e,t,i){if(this.scene){var s=Uk(this);na(s,t),e.remove(s),i&&s.forEach(function(g){g.addToDisplayList()})}};const bft={addToContainer(e){return Eft(e)?(this._setParentContainerFlag=!0,YI.call(this,e),this._setParentContainerFlag=!1,this):this},addToLayer(e){return Sp(e)?(YI.call(this,e),this):this},removeFromContainer(){return this.parentContainer?(this._setParentContainerFlag=!0,XI.call(this,this.parentContainer,!0,!1),this._setParentContainerFlag=!1,this):this},removeFromLayer(e){return e===void 0&&(e=!0),Sp(this.displayList)?(XI.call(this,this.displayList,!1,e),this):this},getParentContainer(){if(this.parentContainer)return this.parentContainer;for(var e=this.getParent();e;){var t=e.parentContainer;if(t)return t;e=e.getParent()}return null},addToParentContainer(e){if(!e.displayList)return this;var t=this.getParentContainer();return t?(e.isRexContainerLite?e.addToContainer(t):t.add(e),this):this},addToPatentLayer(e){if(!e.displayList)return this;var t=this.displayList;return t===e.displayList?this:(Sp(t)&&(e.isRexContainerLite?e.addToLayer(t):t.add(e)),this)}},Pft={hasLayer(){return!!this.privateRenderLayer},enableLayer(){if(this.hasLayer())return this;var e=this.scene.add.layer();return this.moveDepthBelow(e),this.addToLayer(e),this.privateRenderLayer=e,this},getLayer(){return this.hasLayer()||this.enableLayer(),this.privateRenderLayer},getRenderLayer(){if(this.hasLayer())return this.privateRenderLayer;for(var e=this.getParent();e;){var t=e.privateRenderLayer;if(t)return t;e=e.getParent()}return null},addToRenderLayer(e){if(!e.displayList)return this;var t=this.getRenderLayer();if(!t)return this;if(t===e.displayList)return this;e.isRexContainerLite?e.addToLayer(t):t.add(e);var i=_e(e);return i.layer=t,this},removeFromRenderLayer(e){var t=_e(e),i=t.layer;return i?(e.isRexContainerLite?e.removeFromLayer(!0):i.remove(e),t.layer=null,this):this}},HI=Phaser.Geom.Rectangle,wft=Phaser.Geom.Rectangle.Union;var Mft=function(e,t){t===void 0?t=new HI:t===!0&&(Hb===void 0&&(Hb=new HI),t=Hb),t.setTo(0,0,0,0);for(var i,s=!0,g=0,E=e.length;g<E;g++)if(i=e[g],!!i.getBounds){var n=pM(i,!0);s?(t.setTo(n.x,n.y,n.width,n.height),s=!1):wft(n,t,t)}return t},Hb,xu=Phaser.Utils.Objects.GetValue,RM=function(e){if(e){var t=e.gameObjects,i=e.renderTexture,s=e.saveTexture,g=xu(e,"x",void 0),E=xu(e,"y",void 0),n=xu(e,"width",void 0),T=xu(e,"height",void 0),r=xu(e,"originX",0),o=xu(e,"originY",0),y=xu(e,"padding",0),d,h;if(n===void 0||T===void 0||g===void 0||E===void 0){var l=Mft(t,!0),a=g!==void 0&&E!==void 0;a?(n=Math.max(g-l.left,l.right-g)*2,T=Math.max(E-l.top,l.bottom-E)*2,r=.5,o=.5):(g=l.x,E=l.y,n=l.width,T=l.height,r=0,o=0),d=l.x,h=l.y}else d=g+(0-r)*n,h=E+(0-o)*T;d-=y,h-=y,n+=y*2,T+=y*2;var f=t[0].scene,c=f.sys.textures;return s&&!i&&(i=c.addDynamicTexture(s,n,T)),i||(i=f.add.renderTexture(0,0,n,T)),i.setPosition&&i.setPosition(g,E),(i.width!==n||i.height!==T)&&i.setSize(n,T),i.setOrigin&&i.setOrigin(r,o),i.camera.setScroll(d,h),t=na(Ga(t)),i.draw(t),s&&(hs(i)?i.saveTexture(s):i.key!==s&&c.renameTexture(i.key,key)),i}};const Rft={snapshot(e){var t=this.scaleX,i=this.scaleY,s=t===1&&i===1;s||this.setScale(1),e===void 0&&(e={}),e.gameObjects=this.getAllVisibleChildren(),e.x=this.x,e.y=this.y,e.originX=this.originX,e.originY=this.originY;var g=RM(e),E=!!g.scene;return s||(this.setScale(t,i),E&&g.setScale(t,i)),E?g:this}},$I=Phaser.Utils.Objects.GetValue;var Aft=function(e,t){var i=$I(t,"drawContainer",!0),s=$I(t,"children");return s===void 0&&(s=this.getAllVisibleChildren([this])),i||(s=s.filter(function(g){return!g.isRexContainerLite})),zG(s,e,t),this};const Oft=Phaser.Math.RotateAround;var Lft=function(e,t,i){i===void 0&&(i=t);var s={x:(t-e.originX)*e.displayWidth,y:(i-e.originY)*e.displayHeight};return Oft(s,0,0,e.rotation),e.originX=t,e.originY=i,e.x=e.x+s.x,e.y=e.y+s.y,e},Dft=function(e,t){this.syncChildrenEnable=!1,Lft(this,e,t),this.syncChildrenEnable=!0;for(var i=this.getAllChildren(),s=0,g=i.length;s<g;s++)this.resetChildPositionState(i[s]);return this},Vk={changeOrigin:Dft,drawBounds:Aft};Object.assign(Vk,ift,rft,sft,aft,oft,lft,uft,fft,dft,cft,vft,pft,gft,mft,yft,xft,Cft,bft,Pft,Rft);class Ns extends ig{constructor(t,i,s,g,E,n){Array.isArray(g)&&(n=g,g=void 0,E=void 0),super(t,i,s,g,E),this.type="rexContainerLite",this.isRexContainerLite=!0,this.syncChildrenEnable=!0,this._active=!0,this._mask=null,this._scrollFactorX=1,this._scrollFactorY=1,this._cameraFilter=0,this.privateRenderLayer=void 0,n&&this.add(n)}destroy(t){!this.scene||this.ignoreDestroy||(this.syncChildrenEnable=!1,super.destroy(t),this.privateRenderLayer&&this.privateRenderLayer.scene&&(this.privateRenderLayer.list.length=0,this.privateRenderLayer.destroy()))}resize(t,i){return this.setSize(t,i),this}get x(){return this._x}set x(t){this._x!==t&&(this._x=t,this.syncPosition())}get y(){return this._y}set y(t){this._y!==t&&(this._y=t,this.syncPosition())}get rotation(){return super.rotation}set rotation(t){this.rotation!==t&&(super.rotation=t,this.syncPosition())}get scaleX(){return super.scaleX}set scaleX(t){this.scaleX!==t&&(super.scaleX=t,this.syncPosition())}get scaleY(){return super.scaleY}set scaleY(t){this.scaleY!==t&&(super.scaleY=t,this.syncPosition())}get scale(){return super.scale}set scale(t){this.scale!==t&&(super.scale=t,this.syncPosition())}get visible(){return super.visible}set visible(t){super.visible!==t&&(super.visible=t,this.syncVisible())}get alpha(){return super.alpha}set alpha(t){super.alpha!==t&&(super.alpha=t,this.syncAlpha())}get active(){return this._active}set active(t){this._active!==t&&(this._active=t,this.syncActive())}get mask(){return this._mask}set mask(t){this._mask!==t&&(this._mask=t,this.syncMask())}get scrollFactorX(){return this._scrollFactorX}set scrollFactorX(t){this._scrollFactorX!==t&&(this._scrollFactorX=t,this.syncScrollFactor())}get scrollFactorY(){return this._scrollFactorY}set scrollFactorY(t){this._scrollFactorY!==t&&(this._scrollFactorY=t,this.syncScrollFactor())}get cameraFilter(){return this._cameraFilter}set cameraFilter(t){this._cameraFilter!==t&&(this._cameraFilter=t,this.syncCameraFilter())}get list(){return this.children}static GetParent(t){return Bs(t)}get parentContainer(){return this._parentContainer}set parentContainer(t){if(!this._parentContainer&&!t){this._parentContainer=t;return}if(this.setParentContainerFlag){this._parentContainer=t;return}this._parentContainer&&!t?(this.removeFromContainer(),this._parentContainer=t):t?(this._parentContainer=t,this.addToContainer(t)):this._parentContainer=t}get setParentContainerFlag(){if(this._setParentContainerFlag)return!0;var t=Bs(this);return t?t.setParentContainerFlag:!1}}Object.assign(Ns.prototype,Vk);var sT=function(e){return e.hasOwnProperty("rexSizer")||(e.rexSizer={}),e.rexSizer};function Fft(e){return e===void 0&&(e=this),sT(e)}var Ift=function(e){var t=sT(e);return t.hasOwnProperty("prevState")||(t.prevState={}),t.prevState},Bft=function(e){return e===void 0&&(e=tc(this.scene)),this.left=Math.max(this.left,e.left),this.right=Math.min(this.right,e.right),this.top=Math.max(this.top,e.top),this.bottom=Math.min(this.bottom,e.bottom),this};const or=Phaser.Display.Align,rc={center:or.CENTER,left:or.LEFT_CENTER,right:or.RIGHT_CENTER,top:or.TOP_CENTER,bottom:or.BOTTOM_CENTER,"left-top":or.TOP_LEFT,"top-left":or.TOP_LEFT,"left-center":or.LEFT_CENTER,"center-left":or.LEFT_CENTER,"left-bottom":or.BOTTOM_LEFT,"bottom-left":or.BOTTOM_LEFT,"center-top":or.TOP_CENTER,"top-center":or.TOP_CENTER,"center-center":or.CENTER,"center-bottom":or.BOTTOM_CENTER,"bottom-center":or.BOTTOM_CENTER,"right-top":or.TOP_RIGHT,"top-right":or.TOP_RIGHT,"right-center":or.RIGHT_CENTER,"center-right":or.RIGHT_CENTER,"right-bottom":or.BOTTOM_RIGHT,"bottom-right":or.BOTTOM_RIGHT};var ww=new Phaser.GameObjects.Zone({sys:{queueDepthSort:Vr,events:{once:Vr}}},0,0,1,1);ww.setOrigin(0);var ml={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_CENTER:4,CENTER:6,RIGHT_CENTER:8,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12},AM=function(e){var t=Ei(e);return e.y+t-t*e.originY},OM=function(e){var t=Si(e);return e.x-t*e.originX+t*.5},LM=function(e,t){var i=Ei(e);return e.y=t-i+i*e.originY,e},DM=function(e,t){var i=Si(e),s=i*e.originX;return e.x=t+s-i*.5,e},Gft=function(e,t,i,s){return i===void 0&&(i=0),s===void 0&&(s=0),DM(e,OM(t)+i),LM(e,AM(t)+s),e},FM=function(e){var t=Si(e);return e.x-t*e.originX},IM=function(e,t){var i=Si(e);return e.x=t+i*e.originX,e},kft=function(e,t,i,s){return i===void 0&&(i=0),s===void 0&&(s=0),IM(e,FM(t)-i),LM(e,AM(t)+s),e},BM=function(e){var t=Si(e);return e.x+t-t*e.originX},GM=function(e,t){var i=Si(e);return e.x=t-i+i*e.originX,e},Nft=function(e,t,i,s){return i===void 0&&(i=0),s===void 0&&(s=0),GM(e,BM(t)+i),LM(e,AM(t)+s),e},kM=function(e,t){var i=Ei(e),s=i*e.originY;return e.y=t+s-i*.5,e},Uft=function(e,t,i){return DM(e,t),kM(e,i)},NM=function(e){var t=Ei(e);return e.y-t*e.originY+t*.5},Vft=function(e,t,i,s){return i===void 0&&(i=0),s===void 0&&(s=0),Uft(e,OM(t)+i,NM(t)+s),e},zft=function(e,t,i,s){return i===void 0&&(i=0),s===void 0&&(s=0),IM(e,FM(t)-i),kM(e,NM(t)+s),e},Wft=function(e,t,i,s){return i===void 0&&(i=0),s===void 0&&(s=0),GM(e,BM(t)+i),kM(e,NM(t)+s),e},UM=function(e){var t=Ei(e);return e.y-t*e.originY},VM=function(e,t){var i=Ei(e);return e.y=t+i*e.originY,e},Yft=function(e,t,i,s){return i===void 0&&(i=0),s===void 0&&(s=0),DM(e,OM(t)+i),VM(e,UM(t)-s),e},Xft=function(e,t,i,s){return i===void 0&&(i=0),s===void 0&&(s=0),IM(e,FM(t)-i),VM(e,UM(t)-s),e},Hft=function(e,t,i,s){return i===void 0&&(i=0),s===void 0&&(s=0),GM(e,BM(t)+i),VM(e,UM(t)-s),e},wo=[];wo[ml.BOTTOM_CENTER]=Gft;wo[ml.BOTTOM_LEFT]=kft;wo[ml.BOTTOM_RIGHT]=Nft;wo[ml.CENTER]=Vft;wo[ml.LEFT_CENTER]=zft;wo[ml.RIGHT_CENTER]=Wft;wo[ml.TOP_CENTER]=Yft;wo[ml.TOP_LEFT]=Xft;wo[ml.TOP_RIGHT]=Hft;var zk=function(e,t,i,s,g){return wo[i](e,t,s,g)},rg=function(e,t,i,s,g,E){ww.setPosition(t,i).setSize(s,g),zk(e,ww,E)};const gd=Phaser.Utils.Objects.GetValue,$ft=Phaser.GameObjects.Group,Kft=Phaser.GameObjects.Container;var Jft=function(e,t){var i=e.scene,s,g,E,n,T;if(typeof t=="number")s=t;else{s=gd(t,"color"),g=gd(t,"lineWidth");var r=gd(t,"name",!1);r&&(E=gd(r,"createTextCallback",Zft),n=gd(r,"createTextCallbackScope",void 0),T=gd(r,"align","left-top"),typeof T=="string"&&(T=rc[T]))}if(s===void 0&&(s=16777215),g===void 0&&(g=1),E&&!e.children){e.children=new $ft(i),e.once("destroy",function(f,c){f.children.destroy(!c),f.children=void 0});var o=e.clear.bind(e);e.clear=function(){o(),e.children.clear(!1,!0)}}var y=this.getAllShownChildren([this]);Wk(y,y);for(var d,h,l=0,a=y.length;l<a;l++){if(d=y[l],d.getBounds||d.width!==void 0&&d.height!==void 0)Tu=pM(d,Tu);else continue;s!=null&&e.lineStyle(g,s).strokeRectShape(Tu),d.name&&E&&(n?h=E.call(n,i):h=E(i),h&&(h.setText(d.name),e.children.add(h),rg(h,Tu.x,Tu.y,Tu.width,Tu.height,T)))}return this},Zft=function(e,t,i){return e.add.text(0,0,"")},Wk=function(e,t){Array.isArray(e)||(e=[e]),t===void 0&&(t=[]);for(var i=0,s=e.length;i<s;i++){var g=e[i];g instanceof Kft&&(t.push(...g.list),Wk(g.list,t))}return t},Tu=void 0;const cy=Phaser.Utils.Objects.GetValue;var qu=function(e,t){return e===void 0&&(e=0),t===void 0&&(t={}),typeof e=="number"?(t.left=e,t.right=e,t.top=e,t.bottom=e):(t.left=cy(e,"left",0),t.right=cy(e,"right",0),t.top=cy(e,"top",0),t.bottom=cy(e,"bottom",0)),t};const jft=Ns.prototype.add;var ng=function(e){return jft.call(this,e),this.sizerEventsEnable&&(e.emit("sizer.add",e,this),this.emit("add",e,this)),this};const Qft={addBackground(e,t,i){this.backgroundChildren===void 0&&(this.backgroundChildren=[]),typeof t=="string"&&(i=t,t=void 0),t===void 0&&(t=0),ng.call(this,e),this.backgroundChildren.push(e);var s=this.getSizerConfig(e);return s.padding=qu(t),i!==void 0&&this.addChildrenMap(i,e),this},isBackground(e){return this.backgroundChildren===void 0?!1:this.backgroundChildren.indexOf(e)!==-1}};var bh=function(e,t){var i=null;if(t===void 0)e.hasOwnProperty("rexContainer")&&(i=e.rexContainer.parent,i?i.isRexSizer||(i=bh(i)):i=null);else for(i=bh(e);i&&i.name!==t;)i=bh(i);return i},qft=function(e){for(var t=bh(e);t;)e=t,t=bh(t);return e};const nc={getParentSizer(e,t){return typeof e=="string"&&(t=e,e=void 0),e===void 0&&(e=this),bh(e,t)},getTopmostSizer(e){return e===void 0&&(e=this),qft(e)},hasParentSizer(e,t){t===void 0&&(t=this);for(var i=bh(t);i;){if(i===e)return!0;i=bh(i)}return!1},hasChild(e,t){return t===void 0&&(t=this),this.hasParentSizer(t,e)}},_ft=Phaser.Utils.Array.Remove,tdt=Ns.prototype.remove,KI=nc.getParentSizer;var sg=function(e,t){for(var i=KI(e);i;)i.removeChildCallback&&i.removeChildCallback(e,t),i=KI(i);return this.isBackground(e)&&_ft(this.backgroundChildren,e),tdt.call(this,e,t),!t&&this.sizerEventsEnable&&(e.emit("sizer.remove",e,this),this.emit("remove",e,this)),this};const edt=Phaser.Utils.Array.Remove,idt=nc.getParentSizer,rdt={removeFromParentSizer(){var e=idt(gameObject);return e&&e.remove(this),this},removeBackground(e,t){return this.backgroundChildren===void 0?this:this.getParentSizer(e)!==this?this:(edt(this.backgroundChildren,e),sg.call(this,e,t),this)},removeAllBackgrounds(e){if(this.backgroundChildren===void 0)return this;for(var t=this.backgroundChildren.length-1;t>=0;t--)this.remove(this.backgroundChildren[t],e);return this}};var JI=function(e,t){if(typeof e=="string")this.childrenMap[e]=t;else{var i=e;for(e in i)this.childrenMap[e]=i[e]}return this},ndt=function(e){if(typeof e=="object"){var t=e;for(var e in this.childrenMap)if(this.childrenMap[e]===t)return delete this.childrenMap[e],this}return delete this.childrenMap[e],this},sdt=function(e,t){if(typeof e=="string"&&(e=e.split(".")),e.length!==0){t===void 0&&(t=!1);var i=e.shift(),s=null;if(i.charAt(0)==="#")i=i.substring(1),s=this.getByName(i,t);else if(e.length===0&&t){var g=this.childrenMap;if(g)for(var E=[g],n;E.length;){g=E.shift();for(var T in g)if(n=g[T],T===i){s=n;break}else n&&typeof n=="object"&&n.childrenMap&&E.push(n.childrenMap);if(s)break}}else if(i.indexOf("[")===-1)this.childrenMap&&(s=this.childrenMap[i]);else{var r=i.match(adt);if(r!=null&&this.childrenMap){var o=this.childrenMap[r[1]];o&&(s=o[r[2]])}}return e.length===0?s:s&&s.childrenMap?s.getElement(e):null}};const adt=/(\S+)\[(\d+)\]/i;var odt=function(e){if(Array.isArray(this.sizerChildren)){var t=this.sizerChildren.indexOf(e);return t===-1&&(t=null),t}else{if(this.getParentSizer(e)!==this)return null;for(var i in this.sizerChildren)if(this.sizerChildre[i]===e)return i;return null}};const ldt={getInnerPadding(e){return sx(this.space,e)},setInnerPadding(e,t){return Eh(this.space,e,t),this},getOuterPadding(e){return sx(this.getSizerConfig(this).padding,e)},setOuterPadding(e,t){return Eh(this.getSizerConfig(this).padding,e,t),this},getChildOuterPadding(e,t){return typeof e=="string"&&(e=this.getElement(e)),sx(this.getSizerConfig(e).padding,t)},setChildOuterPadding(e,t,i){return typeof e=="string"&&(e=this.getElement(e)),Eh(this.getSizerConfig(e).padding,t,i),this}};var zM=function(e){var t=this.childrenWidth;if(t!==void 0){var i=this.minWidth!==void 0?this.minWidth*this.scaleX:0;return e===void 0?(e=Math.max(i,t),this.layoutWarnEnable&&i>0&&t>i&&console.warn(`Layout width warn: ${this.constructor.name}'s minWidth (${i}) < childrenWidth (${t})`)):this.layoutWarnEnable&&(i>e||t>e)&&console.warn(`Layout width warn: ${this.constructor.name}'s minWidth (${i}) or childrenWidth (${t} > targetWidth ${e})`),e}},WM=function(){var e;for(var t in this.sizerChildren)if(e=this.sizerChildren[t],!(!e||e.isRexSizer&&e.ignoreLayout||!e.runWidthWrap)&&(!e.hasWidthWrap||e.hasWidthWrap()))return!0;return!1},hdt=function(e){var t,i,s;for(var g in this.sizerChildren)t=this.sizerChildren[g],t&&t.isRexSizer&&!t.ignoreLayout&&(i=this.getExpandedChildWidth(t,e),s=t.resolveWidth(i),s===void 0&&(s=i),t.resolveChildrenWidth(s))},YM=function(e){var t,i,s;for(var g in this.sizerChildren)t=this.sizerChildren[g],!(!t||t.isRexSizer&&t.ignoreLayout||!t.runWidthWrap)&&(i=this.getExpandedChildWidth(t,e),t.isRexSizer?(s=t.resolveWidth(i),s===void 0&&(s=i)):s=i,t.runWidthWrap(s));return this},XM=function(e){var t=this.childrenHeight;if(t!==void 0){var i=this.minHeight!==void 0?this.minHeight*this.scaleY:0;return e===void 0?(e=Math.max(i,t),this.layoutWarnEnable&&i>0&&t>i&&console.warn(`Layout height warn: ${this.constructor.name}'s minHeight (${i}) < childrenHeight (${t})`)):this.layoutWarnEnable&&(i>e||t>e)&&console.warn(`Layout height warn: ${this.constructor.name}'s minHeight (${i}) or childrenHeight (${t}) > targetHeight (${e})`),e}},HM=function(){var e;for(var t in this.sizerChildren)if(e=this.sizerChildren[t],!(!e||e.isRexSizer&&e.ignoreLayout||!e.runHeightWrap)&&(!e.hasHeightWrap||e.hasHeightWrap()))return!0;return!1},udt=function(e){var t,i,s;for(var g in this.sizerChildren)t=this.sizerChildren[g],t&&t.isRexSizer&&!t.ignoreLayout&&(i=this.getExpandedChildHeight(t,e),s=t.resolveHeight(i),s===void 0&&(s=i),t.resolveChildrenHeight(s))},$M=function(e){var t,i,s;for(var g in this.sizerChildren)t=this.sizerChildren[g],!(!t||t.isRexSizer&&t.ignoreLayout||!t.runHeightWrap)&&(i=this.getExpandedChildHeight(t,e),t.isRexSizer?(s=t.resolveHeight(i),s===void 0&&(s=i)):s=i,t.runHeightWrap(s));return this},fdt=function(e){var t;if(e.isRexSizer){var i=e.childrenWidth;if(i==null)return;var s=e.minWidth*e.scaleX;t=Math.max(s,i)}else e.minWidth!==void 0?t=e.minWidth:e._minWidth!==void 0?t=e._minWidth:t=Si(e);return t},ddt=function(e){var t;if(e.isRexSizer){var i=e.childrenHeight;if(i===void 0)return;var s=e.minHeight*e.scaleY;t=Math.max(s,i)}else e.minHeight!==void 0?t=e.minHeight:e._minHeight!==void 0?t=e._minHeight:t=Ei(e);return t},cdt=function(e,t){return t},vdt=function(e,t){return t},pdt=function(){return 0},gdt=function(){return 0},mdt=function(e){e===void 0&&(e=[]);for(var t=e.length,i=this.getChildrenSizers(e),s=e.length,g=t;g<s;g++)i[g].getAllChildrenSizers(e);return e},ydt=function(e){return e===void 0&&(e=[]),e};const xdt={getShownChildren(e){e===void 0&&(e=[]);for(var t=this.children,i,s=0,g=t.length;s<g;s++)i=t[s],!(i.rexSizer&&i.rexSizer.hidden)&&e.push(i);return e},getAllShownChildren(e){e===void 0&&(e=[]);for(var t=[this];t.length>0;){var i=t.shift();i.rexSizer&&i.rexSizer.hidden||(i!==this&&e.push(i),i.isRexContainerLite&&t.push(...i.children))}return e}};var ag=function(){this._childrenWidth=void 0,this._childrenHeight=void 0;for(var e=this.getChildrenSizers(),t,i=0,s=e.length;i<s;i++)t=e[i],!t.ignoreLayout&&t.preLayout()},Tdt=function(){return this.runLayout(),this},Cdt=function(e){if(e.resize)return!0;if(!e.setSize)return!1;for(var t=0,i=ZI.length;t<i;t++){var s=ZI[t];if(s&&e instanceof s)return!1}return!0},ZI=[Phaser.GameObjects.Image,Phaser.GameObjects.Sprite,Phaser.GameObjects.Mesh,Phaser.GameObjects.Shader,Phaser.GameObjects.Video],Sdt=function(e){if(e.displayWidth===void 0)return!1;for(var t=0,i=jI.length;t<i;t++){var s=jI[t];if(s&&e instanceof s)return!1}return!0},jI=[Phaser.GameObjects.BitmapText],Mn=function(e,t,i){if(!(!e||t===void 0&&i===void 0))if(Cdt(e)){var s,g;t===void 0?s=e.width:s=t/e.scaleX,i===void 0?g=e.height:g=i/e.scaleY,e.resize?e.resize(s,g):e.setSize(s,g)}else{var E=Sdt(e);t!==void 0&&(E?e.displayWidth=t:e.scaleX=t/e.width),i!==void 0&&(E?e.displayHeight=i:e.scaleY=i/e.height)}},Edt=function(e,t,i){if(this.ignoreLayout)return this;var s=!e;s&&this.preLayout();var g,E;s||e.runChildrenWrapFlag?(g=this.hasWidthWrap(),E=this.hasHeightWrap()):(g=!1,E=!1);var n=bdt(this,t,i,g,E);n||console.error("Can't resolve size of ",this);var T=n.width,r=n.height;return Mn(this,T,r),this.sizerEventsEnable&&this.layoutedChildren===void 0&&(this.layoutedChildren=[]),this.layoutChildren(),this.layoutBackgrounds(),this.sizerEventsEnable&&(this.emit("postlayout",this.layoutedChildren,this),this.layoutedChildren.length=0),this.postLayout(e,T,r),s&&this._anchor&&this._anchor.updatePosition(),this},bdt=function(e,t,i,s,g){var E=QI(e,t,s),n=Pdt(e,i,g);return E===void 0&&(E=QI(e,t,s)),E!==void 0&&n!==void 0?{width:E,height:n}:!1},QI=function(e,s,i){var s=e.resolveWidth(s);return s!==void 0&&i&&(e.resolveChildrenWidth(s),e.runWidthWrap(s)),s},Pdt=function(e,s,i){var s=e.resolveHeight(s);return s!==void 0&&i&&(e.resolveChildrenHeight(s),e.runHeightWrap(s)),s},wdt=function(){},Mdt=function(e,t,i){return this},Rdt=function(e,t,i,s){Mn(i,e,t)};const vy=Phaser.Utils.Objects.GetValue;class KM extends ji{constructor(t,i){super(t,{eventEmitter:!1}),this.viewport=void 0,this.resetFromJSON(i)}shutdown(t){this.isShutdown||(this.autoAnchor(!1),this.viewport=void 0,this.onUpdateViewportCallback=void 0,this.onUpdateViewportCallbackScope=void 0,this.onResizeCallback=void 0,this.onResizeCallbackScope=void 0,super.shutdown(t))}resetFromJSON(t){t===void 0&&(t={});var i,s;t.x!==void 0?(i=null,s=t.x):t.left!==void 0?(i=0,s=t.left):t.right!==void 0?(i=1,s=t.right):t.centerX!==void 0&&(i=.5,s=t.centerX);var g,E;t.y!==void 0?(g=null,E=t.y):t.top!==void 0?(g=0,E=t.top):t.bottom!==void 0?(g=1,E=t.bottom):t.centerY!==void 0&&(g=.5,E=t.centerY);var n,T;s!==void 0&&(s=s.replace("left","0%").replace("right","100%").replace("center","50%").split("%"),n=parseFloat(s[0])/100,T=s[1]===""?0:parseFloat(s[1]));var r,o;E!==void 0&&(E=E.replace("top","0%").replace("bottom","100%").replace("center","50%").split("%"),r=parseFloat(E[0])/100,o=E[1]===""?0:parseFloat(E[1]));var y=t.width,d,h;y!==void 0&&(y=y.split("%"),d=parseFloat(y[0])/100,h=y[1]===""?0:parseFloat(y[1]));var l=t.height,a,f;l!==void 0&&(l=l.split("%"),a=parseFloat(l[0])/100,f=l[1]===""?0:parseFloat(l[1])),this.setAlign(i,g),this.setPercentage(n,r),this.setOffset(T,o),this.setSizePercentage(d,a),this.setSizePadding(h,f);var c=vy(t,"onResizeCallback",Rdt),u=vy(t,"onResizeCallbackScope");this.setResizeCallback(c,u);var v=vy(t,"onUpdateViewportCallback"),p=vy(t,"onUpdateViewportCallbackScope");return this.setUpdateViewportCallback(v,p),this.autoAnchor(t.enable),this}autoAnchor(t){return t===void 0&&(t=!0),t=!!t,this.autoAnchorEnable===t?this:(t?(this.scene.sys.scale.on("resize",this.anchor,this),this.anchor()):this.scene.sys.scale.off("resize",this.anchor,this),this.autoAnchorEnable=t,this)}setAlign(t,i){return this.alignX=t,this.alignY=i,this}setPercentage(t,i){return this.percentageX=t,this.percentageY=i,this}setOffset(t,i){return this.offsetX=t,this.offsetY=i,this}setSizePercentage(t,i){return this.percentageWidth=t,this.percentageHeight=i,this}setSizePadding(t,i){return this.paddingWidth=t,this.paddingHeight=i,this}setResizeCallback(t,i){return this.onResizeCallback=t,this.onResizeCallbackScope=i,this}setUpdateViewportCallback(t,i){return this.onUpdateViewportCallback=t,this.onUpdateViewportCallbackScope=i,this}anchor(){return this.updateViewport(),this.updateSize(),this.updatePosition(),this}updateSize(){var t=this.onResizeCallback,i=this.onResizeCallbackScope,s=this.anchorWidth,g=this.anchorHeight;if(!(s===void 0&&g===void 0||!t)){var E=this.parent;s===void 0&&(s=E.width),g===void 0&&(g=E.height),i?t.call(i,s,g,E,this):t(s,g,E,this)}}updatePosition(){var t=this.parent;return this.alignX===null?t.x=this.anchorX:this.alignX!==void 0&&(t.x=this.anchorX+t.displayWidth*(t.originX-this.alignX)),this.alignY===null?t.y=this.anchorY:this.alignY!==void 0&&(t.y=this.anchorY+t.displayHeight*(t.originY-this.alignY)),this}get anchorX(){return this.viewport.x+this.viewport.width*this.percentageX+this.offsetX}get anchorY(){return this.viewport.y+this.viewport.height*this.percentageY+this.offsetY}get anchorWidth(){if(this.percentageWidth!==void 0)return this.viewport.width*this.percentageWidth+this.paddingWidth}get anchorHeight(){if(this.percentageHeight!==void 0)return this.viewport.height*this.percentageHeight+this.paddingHeight}updateViewport(){var t=this.parent.scene.cameras.main;this.viewport=tc(this.scene,t,this.viewport);var i=this.viewport,s=this.onUpdateViewportCallback,g=this.onUpdateViewportCallbackScope;s&&(g?s.call(g,i,this.parent,this):s(i,this.parent,this))}}var Adt=function(e){e===void 0&&(e={});var t=e.hasOwnProperty("width"),i=e.hasOwnProperty("height"),s=e.hasOwnProperty("onResizeCallback");return(t||i)&&!s&&(e.onResizeCallback=function(g,E,n){t&&n.setMinWidth(g),i&&n.setMinHeight(E),n.layout()}),this._anchor===void 0?this._anchor=new KM(this,e):this._anchor.resetFromJSON(e),this};const Odt=Phaser.Utils.Objects.GetValue,md=Phaser.Utils.Objects.GetAdvancedValue,qI=Phaser.Math.Linear;class Gp extends Zu{constructor(t,i){super(t,i),this.scaleStart={},this.scaleEnd={},this.resetFromJSON(i),this.boot()}resetFromJSON(t){return super.resetFromJSON(t),this.setMode(Odt(t,"mode",0)),this.setScaleRange(md(t,"start",void 0),md(t,"end",0)),this}setMode(t){return typeof t=="string"&&(t=Ldt[t]),this.mode=t,this}setScaleRange(t,i){return typeof t=="number"?(this.startX=t,this.startY=t):(this.startX=md(t,"x",this.parent.scaleX),this.startY=md(t,"y",this.parent.scaleY)),typeof i=="number"?(this.endX=i,this.endY=i):(this.endX=md(i,"x",void 0),this.endY=md(i,"y",void 0)),this.hasScaleX=this.startX!==void 0&&this.endX!==void 0,this.hasScaleY=this.startY!==void 0&&this.endY!==void 0,this}start(){if(this.timer.isRunning)return this;var t=this.parent;this.hasScaleX&&(t.scaleX=this.startX),this.hasScaleY&&(t.scaleY=this.startY);var i=this.repeat;return this.mode===2&&i!==-1&&(i=(i+1)*2-1),this.timer.setDelay(this.delay).setDuration(this.duration).setRepeat(i),super.start(),this}updateTarget(t,i){var s=i.t;i.isOddIteration&&(s=1-s),s=this.easeFn(s),this.hasScaleX&&(t.scaleX=qI(this.startX,this.endX,s)),this.hasScaleY&&(t.scaleY=qI(this.startY,this.endY,s))}complete(){return super.complete(),this.mode===1&&this.parent.destroy(),this}}const Ldt={stop:0,destroy:1,yoyo:2};var JM=function(e,t,i,s,g){s===void 0&&(s="Cubic");var E,n;switch(i){case 0:case"x":E={x:0},n={x:e.scaleX};break;case 1:case"y":E={y:0},n={y:e.scaleY};break;default:E=0,n=e.scale;break}var T={mode:0,start:E,end:n,duration:t,ease:s};return g===void 0?g=new Gp(e,T):g.resetFromJSON(T),g.restart(),g},Yk=function(e,t,i,s,g,E){s===void 0&&(s="Linear"),g instanceof Gp&&(E=g,g=void 0),g===void 0&&(g=!0);var n={};switch(n.mode=g?1:0,i){case 0:case"x":n.end={x:0};break;case 1:case"y":n.end={y:0};break;default:n.end=0;break}return n.duration=t,n.ease=s,E===void 0?E=new Gp(e,n):E.resetFromJSON(n),E.restart(),E},Ddt=function(e,t,i,s,g,E,n){i===void 0&&(i=1.2),s===void 0&&(s=0),E===void 0&&(E="Cubic");var T,r;switch(g){case 0:case"x":T={x:e.scaleX},r={x:i};break;case 1:case"y":T={y:e.scaleX},r={y:i};break;default:T=e.scaleX,r=i;break}var o={mode:2,start:T,end:r,duration:t/2,ease:E,repeat:s};return n===void 0?n=new Gp(e,o):n.resetFromJSON(o),n.restart(),n};const $b=Phaser.Utils.Objects.IsPlainObject,Xk={onInitScale(){var e=this,t=this._scaleBehavior;t.completeEventName=void 0,t.on("complete",function(){t.completeEventName&&(e.emit(t.completeEventName,e),t.completeEventName=void 0)})},popUp(e,t,i){if($b(e)){var s=e;e=s.duration,t=s.orientation,i=s.ease}var g=this._scaleBehavior===void 0;return this._scaleBehavior=JM(this,e,t,i,this._scaleBehavior),g&&this.onInitScale(),this._scaleBehavior.completeEventName="popup.complete",this},popUpPromise(e,t,i){return this.popUp(e,t,i),pn(this._scaleBehavior)},isRunningPopUp(){return this._scaleBehavior&&this._scaleBehavior.completeEventName==="popup.complete"},scaleDownDestroy(e,t,i,s){if($b(e)){var g=e;e=g.duration,t=g.orientation,i=g.ease,s=g.destroy}var E=this._scaleBehavior===void 0;return this._scaleBehavior=Yk(this,e,t,i,s,this._scaleBehavior),E&&this.onInitScale(),this._scaleBehavior.completeEventName="scaledown.complete",this},scaleDownDestroyPromise(e,t,i,s){return this.scaleDownDestroy(e,t,i,s),pn(this._scaleBehavior)},scaleDown(e,t,i){return this.scaleDownDestroy(e,t,i,!1),this},scaleDownPromise(e,t,i){return this.scaleDown(e,t,i),pn(this._scaleBehavior)},isRunningScaleDown(){return this._scaleBehavior&&this._scaleBehavior.completeEventName==="scaledown.complete"},scaleYoyo(e,t,i,s,g){if($b(e)){var E=e;e=E.duration,t=E.peakValue,i=E.repeat,s=E.orientation,g=E.ease}var n=this._scaleBehavior===void 0;return this._scaleBehavior=Ddt(this,e,t,i,s,g,this._scaleBehavior),n&&this.onInitScale(),this._scaleBehavior.completeEventName="scaleyoyo.complete",this},scaleYoyoPromise(e,t,i,s,g){return this.scaleYoyo(e,t,i,s,g),pn(this._scaleBehavior)},isRunningScaleYoyo(){return this._scaleBehavior&&(this._scaleBehavior.completeEventName="scaleyoyo.complete")},isRunningEaseScale(){return this.isRunningPopUp()||this.isRunningScaleDown()||this.isRunningScaleYoyo()}};var hl={};Object.assign(hl,Xk);hl.onInitScale=function(){Xk.onInitScale.call(this);var e=this,t=this._scaleBehavior;t.on("update",function(){var i=nc.getParentSizer(e);i&&i.resetChildPositionState(e)})};const Fdt=Phaser.Utils.Objects.GetValue,_I=Phaser.Utils.Objects.GetAdvancedValue,Idt=Phaser.Math.Linear;let Mw=class extends Zu{constructor(t,i){super(t,i),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return super.resetFromJSON(t),this.setMode(Fdt(t,"mode",0)),this.setAlphaRange(_I(t,"start",this.parent.alpha),_I(t,"end",0)),this}setMode(t){return typeof t=="string"&&(t=Bdt[t]),this.mode=t,this}setAlphaRange(t,i){return this.alphaStart=t,this.alphaEnd=i,this}start(){if(this.timer.isRunning)return this;var t=this.parent;return t.setAlpha(this.alphaStart),this.timer.setDelay(this.delay).setDuration(this.duration).setRepeat(this.mode===2?-1:0),super.start(),this}updateTarget(t,i){var s=i.t;i.isOddIteration&&(s=1-s),t.alpha=Idt(this.alphaStart,this.alphaEnd,s)}complete(){return super.complete(),this.mode===1&&this.parent.destroy(),this}};const Bdt={stop:0,destroy:1,yoyo:2},Gdt=Phaser.Utils.Objects.IsPlainObject;var aT=function(e,t,i,s){var g,E;Gdt(i)?(g=i.start,E=i.end):E=i,g===void 0&&(g=0),E===void 0&&(E=1);var n={mode:0,start:g,end:E,duration:t};return s===void 0?s=new Mw(e,n):s.resetFromJSON(n),s.restart(),s},oT=function(e,t,i,s){i instanceof Mw&&(s=i,i=void 0),i===void 0&&(i=!0);var g={mode:i?1:0,end:0,duration:t};return s===void 0?s=new Mw(e,g):s.resetFromJSON(g),s.restart(),s};const tB=Phaser.Utils.Objects.IsPlainObject,Hk={onInitFade(){var e=this,t=this._fade;t.completeEventName=void 0,t.on("complete",function(){t.completeEventName&&(e.emit(t.completeEventName,e),t.completeEventName=void 0)})},fadeIn(e,t){if(tB(e)){var i=e;e=i.duration,t=i.alpha}var s=this._fade===void 0;return this._fade=aT(this,e,t,this._fade),s&&this.onInitFade(),this._fade.completeEventName="fadein.complete",this},fadeInPromise(e,t){return this.fadeIn(e,t),pn(this._fade)},isRunningFadeIn(){return this._fade&&this._fade.completeEventName==="fadein.complete"},fadeOutDestroy(e,t){if(tB(e)){var i=e;e=i.duration,t=i.destroy}var s=this._fade===void 0;return this._fade=oT(this,e,t,this._fade),s&&this.onInitFade(),this._fade.completeEventName="fadeout.complete",this},fadeOutDestroyPromise(e,t){return this.fadeOutDestroy(e,t),pn(this._fade)},fadeOut(e){return this.fadeOutDestroy(e,!1),this},fadeOutPromise(e){return this.fadeOut(e),pn(this._fade)},isRunningFadeOut(){return this._fade&&this._fade.completeEventName==="fadeout.complete"},isRunningEaseFade(){return this.isRunningFadeIn()||this.isRunningFadeOut()}};var kp={};Object.assign(kp,Hk);kp.onInitFade=function(){Hk.onInitFade.call(this);var e=this,t=this._fade;t.on("update",function(){var i=nc.getParentSizer(e);i&&i.resetChildAlphaState(e)})};const kdt=Phaser.Utils.Objects.GetValue,yd=Phaser.Utils.Objects.GetAdvancedValue,eB=Phaser.Math.Linear;class Cx extends Zu{constructor(t,i){super(t,i),this.resetFromJSON(i),this.boot()}resetFromJSON(t){if(super.resetFromJSON(t),this.setMode(kdt(t,"mode",0)),t&&(t.hasOwnProperty("x")||t.hasOwnProperty("y"))){var i=yd(t,"x",void 0),s=yd(t,"y",void 0);this.setTargetPosition(i,s)}else this.setTargetPosition(t);return this}setMode(t){return typeof t=="string"&&(t=Ndt[t]),this.mode=t,this}setTargetPosition(t,i){if(typeof t=="number"||typeof i=="number")this.startX=this.parent.x,this.startY=this.parent.y,this.endX=t,this.endY=i;else{var s=t;this.startX=yd(s,"startX",void 0),this.startY=yd(s,"startY",void 0),this.endX=yd(s,"endX",void 0),this.endY=yd(s,"endY",void 0)}return this.hasMoveX=this.startX!==void 0&&this.endX!==void 0,this.hasMoveY=this.startY!==void 0&&this.endY!==void 0,this}start(){if(this.timer.isRunning)return this;var t=this.parent;return this.hasMoveX&&(t.x=this.startX),this.hasMoveY&&(t.y=this.startY),this.timer.setDelay(this.delay).setDuration(this.duration).setRepeat(this.mode===2?-1:0),super.start(),this}updateTarget(t,i){var s=i.t;i.isOddIteration&&(s=1-s),s=this.easeFn(s),this.hasMoveX&&(t.x=eB(this.startX,this.endX,s)),this.hasMoveY&&(t.y=eB(this.startY,this.endY,s))}complete(){return super.complete(),this.mode===1&&this.parent.destroy(),this}}const Ndt={stop:0,destroy:1,yoyo:2};var Sx=function(e,t){if(typeof e=="number")return e;var i=e[0],s=parseFloat(e.substr(2));switch(i){case"+":return t+s;case"-":return t-s;case"*":return t*s;case"/":return t/s}},$k=function(e,t,i,s,g,E,n){E instanceof Cx&&(n=E,E=void 0),E===void 0&&(E=!1);var T={};return T.mode=E?1:0,i!==void 0&&(T.startX=e.x,T.endX=Sx(i,e.x)),s!==void 0&&(T.startY=e.y,T.endY=Sx(s,e.y)),T.duration=t,T.ease=g===void 0?"Linear":g,n===void 0?n=new Cx(e,T):n.resetFromJSON(T),n.restart(),n},Kk=function(e,t,i,s,g,E,n){E instanceof Cx&&(n=E,E=void 0),E===void 0&&(E=!1);var T={};return T.mode=E?1:0,i!==void 0&&(T.startX=Sx(i,e.x),T.endX=e.x),s!==void 0&&(T.startY=Sx(s,e.y),T.endY=e.y),T.duration=t,T.ease=g===void 0?"Linear":g,n===void 0?n=new Cx(e,T):n.resetFromJSON(T),n.restart(),n};const iB=Phaser.Utils.Objects.IsPlainObject,rB=Phaser.Math.Distance.Between,Jk={onInitEaseMove(){var e=this,t=this._easeMove;t.completeEventName=void 0,t.on("complete",function(){t.completeEventName&&(e.emit(t.completeEventName,e),t.completeEventName=void 0)})},moveFrom(e,t,i,s,g){if(iB(e)){var E=e;t=E.x,i=E.y,E.hasOwnProperty("speed")?e=rB(t,i,this.x,this.y)*1e3/E.speed:e=E.duration,s=E.ease}var n=this._easeMove===void 0;return this._easeMove=Kk(this,e,t,i,s,g,this._easeMove),n&&this.onInitEaseMove(),this._easeMove.completeEventName="movefrom.complete",this},moveFromPromise(e,t,i,s,g){return this.moveFrom(e,t,i,s,g),pn(this._easeMove)},moveFromDestroy(e,t,i,s){return this.moveFrom(e,t,i,s,!0),this},moveFromDestroyPromise(e,t,i,s){return this.moveFromDestroy(e,t,i,s),pn(this._easeMove)},isRunningMoveFrom(){return this._easeMove&&(this._easeMove.completeEventName="movefrom.complete")},moveTo(e,t,i,s,g){if(iB(e)){var E=e;t=E.x,i=E.y,E.hasOwnProperty("speed")?e=rB(t,i,this.x,this.y)*1e3/E.speed:e=E.duration,s=E.ease}var n=this._easeMove===void 0;return this._easeMove=$k(this,e,t,i,s,g,this._easeMove),n&&this.onInitEaseMove(),this._easeMove.completeEventName,this},moveToPromise(e,t,i,s,g){return this.moveTo(e,t,i,s,g),pn(this._easeMove)},moveToDestroy(e,t,i,s){return this.moveTo(e,t,i,s,!0),this},moveToDestroyPromise(e,t,i,s){return this.moveToDestroy(e,t,i,s,!0),pn(this._easeMove)},isRunningMoveTo(){return this._easeMove&&this._easeMove.completeEventName==="moveto.complete"},isRunningEaseMove(){return this.isRunningMoveFrom()||this.isRunningMoveTo()},moveStop(e){return this._easeMove?(this._easeMove.stop(e),this):this}};var lT={};Object.assign(lT,Jk);lT.onInitEaseMove=function(){Jk.onInitEaseMove.call(this);var e=this,t=this._easeMove;t.on("update",function(){var i=nc.getParentSizer(e);i&&i.resetChildPositionState(e)})};const Qs=Phaser.Utils.Objects.GetValue;class ZM extends qx{constructor(t,i){super(t,i),this.timer=new ZG,this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.timer.resetFromJSON(Qs(t,"timer")),this.setEnable(Qs(t,"enable",!0)),this.setMode(Qs(t,"mode",1)),this.isRunning=Qs(t,"isRunning",!1),this.setMagnitudeMode(Qs(t,"magnitudeMode",1)),this.setAxisMode(Qs(t,"axis",0)),this.setDuration(Qs(t,"duration",500)),this.setMagnitude(Qs(t,"magnitude",10)),this.ox=Qs(t,"ox",void 0),this.oy=Qs(t,"oy",void 0),this}toJSON(){return{timer:this.timer.toJSON(),enable:this.enable,mode:this.mode,isRunning:this.isRunning,magnitudeMode,duration:this.duration,magnitude:this.magnitude,ox:this.ox,oy:this.oy}}shutdown(t){this.isShutdown||(super.shutdown(t),this.timer.destroy(),this.timer=void 0)}startTicking(){super.startTicking(),this.mode===0?(this.scene.game.events.on("poststep",this.update,this),this.scene.game.events.on("prestep",this.backToOrigin,this)):this.scene.sys.events.on("preupdate",this.update,this)}stopTicking(){super.stopTicking(),this.scene&&(this.mode===0?(this.scene.game.events.off("poststep",this.update,this),this.scene.game.events.off("prestep",this.backToOrigin,this)):this.scene.sys.events.off("preupdate",this.update,this))}setEnable(t){return t==null&&(t=!0),this.enable=t,this}setMode(t){return typeof t=="string"&&(t=Udt[t]),this.mode=t,this}setMagnitudeMode(t){return typeof t=="string"&&(t=zdt[t]),this.magnitudeMode=t,this}setAxisMode(t){return typeof t=="string"&&(t=Vdt[t]),this.axisMode=t,this}setDuration(t){return this.duration=t,this}setMagnitude(t){return this.magnitude=t,this}start(t,i){if(typeof t!="number"){var s=t;i=Qs(s,"magnitude",void 0),t=Qs(s,"duration",void 0)}return i!==void 0&&this.setMagnitude(i),t!==void 0&&this.setDuration(t),this.timer.setDuration(this.duration).start(),super.start(),this}shake(t,i){return this.start(t,i),this}update(t,i){if(!this.isRunning||!this.enable)return this;var s=this.parent;if(!s.active)return this;if(this.timer.update(t,i),this.timer.isDone)this.backToOrigin(),this.complete();else{this.ox===void 0&&(this.ox=s.x,this.oy=s.y);var g=this.magnitude;this.magnitudeMode===1&&(g*=1-this.timer.t);var E=Math.random()*Math.PI*2,n=this.ox+Math.cos(E)*g,T=this.oy+Math.sin(E)*g;switch(this.axisMode){case 1:s.x=n;break;case 2:s.y=T;break;default:s.x=n,s.y=T;break}}return this}backToOrigin(){if(!this.isRunning||!this.enable)return this;if(this.ox===void 0)return this;var t=this.parent;switch(this.axisMode){case 1:t.x=this.ox;break;case 2:t.y=this.oy;break;default:t.x=this.ox,t.y=this.oy;break}return this.ox=void 0,this.oy=void 0,this}}const Udt={effect:0,behavior:1},Vdt={both:0,"h&v":0,"x&y":0,horizontal:1,h:1,x:1,vertical:2,v:2,y:2},zdt={constant:0,decay:1},Wdt=Phaser.Utils.Objects.IsPlainObject;var Ydt=function(e,t){t.on("complete",function(){e.emit("shake.complete",e)})};const Xdt={shake(e,t,i){if(Wdt(e)){var s=e;e=s.duration,t=s.magnitude,i=s.magnitudeMode}return this._shake===void 0&&(this._shake=new ZM(this,{mode:0,magnitudeMode:1}),Ydt(this,this._shake)),e!==void 0&&this._shake.setDuration(e),t!==void 0&&this._shake.setMagnitude(t),i!==void 0&&this._shake.setMagnitudeMode(i),this._shake.shake(),this},shakePromise(e,t){return this.shake(e,t),pn(this._shake)}},nB=Phaser.Utils.Objects.IsPlainObject;class Hdt extends ji{constructor(t,i){super(t,i),this.parent.setDataEnabled(),this.easeTasks={}}complete(t){this.emit(`complete-${t}`,this.parent,this),this.emit("complete",t,this.parent,this)}getEaseTask(t){var i=this.easeTasks[t];return i===void 0&&(i=new cl(this.parent),this.easeTasks[t]=i,i.setTarget(this.parent.data.values).on("complete",function(){this.complete(t)},this)),i}easeTo(t,i,s,g){if(nB(t)){var E=t;t=E.key,i=E.value,s=E.duration,g=E.ease;var n=E.speed;s===void 0&&n!==void 0&&(s=Math.abs(i-this.parent.data.values[t])/n*1e3)}s===void 0&&(s=1e3),g===void 0&&(g="Linear");var T=this.getEaseTask(t);return T.restart({key:t,to:i,duration:s,ease:g}),this}easeFrom(t,i,s,g){if(nB(t)){var E=t;t=E.key,i=E.value,s=E.duration,g=E.ease;var n=E.speed;s===void 0&&n!==void 0&&(s=Math.abs(i-this.parent.data.values[t])/n*1e3)}s===void 0&&(s=1e3),g===void 0&&(g="Linear");var T=this.getEaseTask(t);return T.restart({key:t,from:i,duration:s,ease:g}),this}stopEase(t,i){i===void 0&&(i=!0);var s=this.easeTasks[t];return s&&s.stop(i),this}stopAll(t){t===void 0&&(t=!0);for(var i in this.easeTasks)this.stopEase(i,t);return this}}var $dt=function(e,t){t.on("complete",function(i){e.emit(`easedata.${i}.complete`,e),e.emit("easedata.complete",i,e)})};const Kdt={easeDataTo(e,t,i,s){return this._easeData||(this._easeData=new Hdt(this),$dt(this,this._easeData)),this._easeData.easeTo(e,t,i,s),this},easeDataToPromise(e,t,i,s){return this.easeDataTo(e,t,i,s),tT(this._easeData,`complete-${e}`)},stopEaseData(e,t){return this._easeData?(this._easeData.stopEase(e,t),this):this},stopAllEaseData(e){return this._easeData?(this._easeData.stopAll(e),this):this}};var Jdt=Phaser.Utils.Array.Remove,Zdt=function(e){e._delayCallTimers=[],e.once("destroy",function(){for(var t=e._delayCallTimers,i=0,s=t.length;i<s;i++)t[i].remove();e._delayCallTimers=void 0})};const Zk={delayCall(e,t,i){var s=this._delayCallTimers;s===void 0&&Zdt(this);var g,E=this,n=function(){Jdt(E._delayCallTimers,g),i?t.call(i):t()};return g=this.scene.time.delayedCall(e,n),this._delayCallTimers.push(g),this}};var mh=function(e){jk(e,!1)},yh=function(e){jk(e,!0)},jM=function(e){if(!e)return!1;var t=sT(e);return!t.hidden},jk=function(e,t){if(e){var i=sT(e);i.hidden=t;var s=Bs(e);s?s.setChildVisible(e,!t):e.setVisible(!t)}};const jdt={show(e){return e===void 0&&(e=this),mh(e),this},hide(e){return e===void 0&&(e=this),yh(e),this},isShow(e){return e===void 0&&(e=this),jM(e)}},Qdt=["next","exit","enter"];let Qk=class{constructor(t){var i=Pi(t,"states",void 0);i&&this.addStates(i);var s=Pi(t,"extend",void 0);if(s)for(var g in s)(!this.hasOwnProperty(g)||this[g]===void 0)&&(this[g]=s[g]);var E=Pi(t,"eventEmitter",void 0),n=Pi(t,"EventEmitterClass",void 0);this.setEventEmitter(E,n),this._stateLock=!1,this.resetFromJSON(t)}shutdown(){this.destroyEventEmitter()}destroy(){this.shutdown()}resetFromJSON(t){this.setEnable(Pi(t,"enable",!0)),this.start(Pi(t,"start",void 0));var i=Pi(t,"init",void 0);return i&&i.call(this),this}toJSON(){return{curState:this.state,prevState:this.prevState,enable:this.enable,start:this._start}}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}set state(t){if(!(!this.enable||this._stateLock)&&this._state!==t){if(this._prevState=this._state,this._state=t,this._stateLock=!0,this.emit("statechange",this),this._prevState!=null){var i="exit_"+this._prevState,s=this[i];s&&s.call(this),this.emit(i,this)}if(this._stateLock=!1,this._state!=null){var g="enter_"+this._state,E=this[g];E&&E.call(this),this.emit(g,this)}}}get state(){return this._state}get prevState(){return this._prevState}start(t){return this._start=t,this._prevState=void 0,this._state=t,this}goto(t){return t!=null&&(this.state=t),this}next(){var t,i=this["next_"+this.state];return i&&(typeof i=="string"?t=i:t=i.call(this)),this.goto(t),this}get stateProperties(){return Qdt}addState(t,i){typeof t!="string"&&(i=t,t=i.name);for(var s=this.stateProperties,g=0,E=s.length;g<E;g++){var n=s[g],T=i[n];T&&(this[`${n}_${t}`]=T)}return this}addStates(t){if(Array.isArray(t))for(var i=0,s=t.length;i<s;i++)this.addState(t[i]);else for(var g in t)this.addState(g,t[g]);return this}runMethod(t,i,s,g,E,n){var T=this[t+"_"+this.state];if(T){var r=arguments.length;switch(r){case 1:return T.call(this);case 2:return T.call(this,i);case 3:return T.call(this,i,s);case 4:return T.call(this,i,s,g);case 5:return T.call(this,i,s,g,E);case 6:return T.call(this,i,s,g,E,n)}for(var o=new Array(r-1),y=1;y<r;y++)o[y-1]=arguments[y];return T.apply(this,o)}}};Object.assign(Qk.prototype,sk);var Kb=function(e,t,i,s,g){g===void 0&&(g=!1);var E=e._events[t];if(!E)return!1;for(var n=0,T=E.length;n<T;n++){var r=E[n];if(r.fn===i&&r.context===s&&r.once===g)return!0}return!1};const qdt=["next","exit","enter","update","preupdate","postupdate"];class yl extends Qk{shutdown(){this.stopUpdate(),this.stopPreUpdate(),this.stopPostUpdate(),this._scene=void 0,super.shutdown()}resetFromJSON(t){return super.resetFromJSON(t),this._scene=Pi(t,"scene",void 0),this}get stateProperties(){return qdt}update(t,i){this.runMethod("update",t,i)}preupdate(t,i){this.runMethod("preupdate",t,i)}postupdate(t,i){this.runMethod("postupdate",t,i)}startUpdate(t){t||(t=this._scene);var i=t.sys.events;return Kb(i,"update",this.update,this)?this:(this._scene=t,i.on("update",this.update,this),this)}stopUpdate(){return this._scene?(this._scene.sys.events.off("update",this.update,this),this):this}startPreUpdate(t){t||(t=this._scene);var i=t.sys.events;return Kb(i,"preupdate",this.preupdate,this)?this:(this._scene=t,i.on("preupdate",this.preupdate,this),this)}stopPreUpdate(){return this._scene?(this._scene.sys.events.off("preupdate",this.preupdate,this),this):this}startPostUpdate(t){t||(t=this._scene);var i=t.sys.events;return Kb(i,"postupdate",this.postupdate,this)?this:(this._scene=t,i.on("postupdate",this.postupdate,this),this)}stopPostUpdate(){return this._scene?(this._scene.sys.events.off("postupdate",this.postupdate,this),this):this}}let _dt=class extends yl{constructor(t,i){super(i),this.parent=t;var s=i.initState||"IDLE";this.start(s)}init(){this.start("IDLE")}next_IDLE(){return"TRANS_OPNE"}next_TRANS_OPNE(){return"OPEN"}enter_TRANS_OPNE(){var t=this.parent;if(t.transitInTime>0){var i=t.runTransitionInCallback();t.delayCall(i,this.next,this)}else this.next()}exit_TRANS_OPNE(){var t=this.parent;t.removeDelayCall()}next_OPEN(){return"TRANS_CLOSE"}enter_OPEN(){var t=this.parent;t.onOpen()}exit_OPEN(){var t=this.parent;t.removeDelayCall()}next_TRANS_CLOSE(){return"CLOSE"}enter_TRANS_CLOSE(){var t=this.parent;if(t.transitOutTime>0){var i=t.runTransitionOutCallback();t.delayCall(i,this.next,this)}else this.next()}exit_TRANS_CLOSE(){var t=this.parent;t.removeDelayCall()}next_CLOSE(){return"TRANS_OPNE"}enter_CLOSE(){var t=this.parent;t.onClose()}exit_CLOSE(){}canOpen(){return this.state==="IDLE"||this.state==="CLOSE"}canClose(){return this.state==="IDLE"||this.state==="OPEN"}};var tct=function(e,t,i,s,g){var E=ec(e),n=E.time.delayedCall(t,function(){E.game.events.once("poststep",function(){i.call(s,g)})});return n};const ect={delayCall(e,t,i){return this.delayCallTimer=tct(this,e,t,i),this},removeDelayCall(){return this.delayCallTimer&&(this.delayCallTimer.remove(!1),this.delayCallTimer=void 0),this}},ict={setTransitInTime(e){return this.transitInTime=e,this},setTransitOutTime(e){return this.transitOutTime=e,this},setTransitInCallback(e){return e||(e=Vr),this.transitInCallback=e,this},setTransitOutCallback(e){return e||(e=Vr),this.transitOutCallback=e,this}},rct={runTransitionInCallback(){return this.transitInCallback(this.parent,this.transitInTime),this.transitInTime},onOpen(){},requestOpen(e,t){if(!this._state.canOpen())return this;this.openEventData=arguments.length>0?e:this.parent;var i=this.transitInTime;return t!==void 0&&(this.transitInTime=t),this._state.goto("TRANS_OPNE"),this.transitInTime=i,this}},nct={runTransitionOutCallback(){return this.transitOutCallback(this.parent,this.transitOutTime),this.transitOutTime},onClose(){this.oneShotMode&&this.parent.destroy()},requestClose(e,t){if(!this._state.canClose)return this;this.closeEventData=arguments.length>0?e:this.parent;var i=this.transitOutTime;return t!==void 0&&(this.transitOutTime=t),this._state.goto("TRANS_CLOSE"),this.transitOutTime=i,this}};var qk={};Object.assign(qk,ect,ict,rct,nct);const xd=Phaser.Utils.Objects.GetValue;class hT extends ji{constructor(t,i){super(t,i),this.setTransitInTime(xd(i,"duration.in",200)),this.setTransitOutTime(xd(i,"duration.out",200)),this.setTransitInCallback(xd(i,"transitIn")),this.setTransitOutCallback(xd(i,"transitOut")),this.oneShotMode=xd(i,"destroy",!1),this.delayCallTimer=void 0,this._state=new _dt(this,{eventEmitter:!1,initState:xd(i,"initState","IDLE")}),this.openEventData=void 0,this.closeEventData=void 0}get state(){return this._state.state}shutdown(t){this.isShutdown||(this.transitInCallback=void 0,this.transitOutCallback=void 0,this.openEventData=void 0,this.closeEventData=void 0,this.removeDelayCall(),super.shutdown(t))}}Object.assign(hT.prototype,qk);const sct=Phaser.GameObjects.Rectangle;class QM extends sct{constructor(t,i,s){super(t,0,0,2,2,i,1),this.fullWindow=new Ck(this),this.setAlpha(s)}get tint(){return this.fillColor}set tint(t){this.setFillStyle(t,this.fillAlpha)}}const Jb=Phaser.Utils.Objects.GetValue;class uT extends ji{constructor(t,i){super(t,{eventEmitter:!1}),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.setHitAreaMode(Jb(t,"hitAreaMode",0)),this.setEnable(Jb(t,"enable",!0)),this.setStopMode(Jb(t,"stopAllLevels",!0)),this}boot(){this.parent.on("pointerdown",function(t,i,s,g){this.stopAllLevels&&g.stopPropagation()},this).on("pointerup",function(t,i,s,g){this.stopAllLevels&&g.stopPropagation()},this).on("pointermove",function(t,i,s,g){this.stopAllLevels&&g.stopPropagation()},this).on("pointerover",function(t,i,s,g){this.stopAllLevels&&g.stopPropagation()},this).on("pointerout",function(t,i){this.stopAllLevels&&i.stopPropagation()},this)}setHitAreaMode(t){typeof t=="string"&&(t=act[t]);var i=this.parent;return i.input&&i.removeInteractive(),t===0?i.setInteractive():i.setInteractive({hitArea:{},hitAreaCallback:function(){return!0}}),this}setEnable(t){return t===void 0&&(t=!0),t?this.parent.setInteractive():this.parent.disableInteractive(),this.enable=t,this}setStopMode(t){return t===void 0&&(t=!0),this.stopAllLevels=t,this}toggleEnable(){return this.setEnable(!this.enable),this}}var act={default:0,fullWindow:1};const sB=Phaser.Utils.Objects.GetValue;class qM extends QM{constructor(t,i){var s=sB(i,"color",0),g=sB(i,"alpha",.8);super(t,s,g),this.touchEventStop=new uT(this,{hitAreaMode:1})}}var oct=function(e,t){var i=e.scene,s=new qM(i,t);return i.add.existing(s),e.isRexContainerLite?(e.pin(s,{syncPosition:!1,syncRotation:!1,syncScale:!1,syncAlpha:!1,syncScrollFactor:!1}),e.moveDepthBelow(s)):i.children.moveBelow(s,e),s};const py={popUp(e,t){e._modalScaleSave!==void 0?(e.scaleX=e._modalScaleSave,e.scaleY=e._modalScaleSave):e._modalScaleSave=e.scaleX,JM(e,t)},scaleDown(e,t){Yk(e,t,void 0,void 0,!1)},fadeIn(e,t){e._modalAlphaSave!==void 0?e.alpha=e._modalAlphaSave:e._modalAlphaSave=e.alpha,aT(e,t)},fadeOut(e,t){oT(e,t,!1)}};var lct=function(e,t){e._modalAlphaSave!==void 0?e.alpha=e._modalAlphaSave:e._modalAlphaSave=e.alpha,aT(e,t,e.alpha)},hct=function(e,t){oT(e,t,!1)},fT=function(e,t,i,s,g){if(!e||s&&!s(e,t,i))return!1;var E=pM(e,!0);return!(!E.contains(t,i)||g&&!g(e,t,i))};const lo=Phaser.Utils.Objects.GetValue;let uct=class extends hT{constructor(t,i){i===void 0&&(i={}),i.transitIn==null&&(i.transitIn=nh.popUp),i.transitOut==null&&(i.transitOut=nh.scaleDown),i.destroy=lo(i,"destroy",!0),super(t,i);var s=lo(i,"cover");this.cover=s!==!1?oct(t,s):void 0,this.cover&&(this.setCoverTransitInCallback(lo(s,"transitIn",lct)),this.setCoverTransitOutCallback(lo(s,"transitOut",hct)));var g=lo(i,"touchOutsideClose",!1),E=lo(i,"duration.hold",-1),n=lo(i,"timeOutClose",E>=0),T=lo(i,"anyTouchClose",!1),r=lo(i,"manualClose",!1);r&&(g=!1,T=!1,n=!1),T&&(g=!1),n?this.setDisplayTime(E):this.setDisplayTime(-1),T?this.once("open",this.anyTouchClose,this):g&&this.once("open",this.touchOutsideClose,this),lo(i,"openOnStart",!0)&&this.delayCall(0,this.requestOpen,this)}shutdown(t){this.isShutdown||(this.cover||this.scene.input.off("pointerup",this.touchCloseCallback,this),this.cover&&!t&&(this.cover.destroy(),this.cover=void 0),super.shutdown(t))}touchOutsideClose(){return this.cover?this.cover.on("pointerup",this.touchCloseCallback,this):this.scene.input.on("pointerup",this.touchCloseCallback,this),this.clickOutsideTest=!0,this}anyTouchClose(){return this.cover?this.cover.once("pointerup",this.touchCloseCallback,this):this.scene.input.once("pointerup",this.touchCloseCallback,this),this}touchCloseCallback(t){this.clickOutsideTest&&fT(this.parent,t.worldX,t.worldY)||this.requestClose()}runTransitionInCallback(){var t=super.runTransitionInCallback(),i=this.cover;return i&&this.coverTransitInCallback&&this.coverTransitInCallback(i,t),t}runTransitionOutCallback(){var t=super.runTransitionOutCallback(),i=this.cover;return i&&this.coverTransitOutCallback&&this.coverTransitOutCallback(i,t),t}onOpen(){var t=this.displayTime;t>=0&&this.delayCall(t,this.requestClose,this),this.emit("open",this.parent,this),super.onOpen()}onClose(){this.emit("close",this.closeEventData),super.onClose()}setDisplayTime(t){return this.displayTime=t,this}setTransitInCallback(t){switch(typeof t=="string"&&(t=nh[t]),t){case nh.popUp:t=py.popUp;break;case nh.fadeIn:t=py.fadeIn;break}return super.setTransitInCallback(t),this}setTransitOutCallback(t){switch(typeof t=="string"&&(t=nh[t]),t){case nh.scaleDown:t=py.scaleDown;break;case nh.fadeOut:t=py.fadeOut;break}return super.setTransitOutCallback(t),this}setCoverTransitInCallback(t){return this.coverTransitInCallback=t,this}setCoverTransitOutCallback(t){return this.coverTransitOutCallback=t,this}};const nh={popUp:0,fadeIn:1,scaleDown:0,fadeOut:1};var _M=function(e,t){var i=new uct(e,t);return i.on("open",function(){e.emit("modal.open",i)}),i.on("close",function(s){e.emit("modal.close",s,i)}),e.on("modal.requestClose",i.requestClose,i),i},fct=function(e,t){var i=_M(e,t);return new Promise(function(s,g){i.once("close",function(E){s(E)})})},_k=function(e,t){e.emit("modal.requestClose",t)},ka=function(e){return e&&typeof e=="function"};const dT={modal(e,t){return ka(e)&&(t=e,e=void 0),this._modalBehavior===void 0&&(this.onCreateModalBehavior&&this.onCreateModalBehavior(this,e),this._modalBehavior=_M(this,e)),t&&this._modalBehavior.once("close",t),this._modalBehavior.requestOpen(),this},modalPromise(e){var t=this;return new Promise(function(i,s){t.modal(e,i)})},modalClose(e){return _k(this,e),this}};var dct=function(e,t,i,s,g,E){return E===void 0&&(E=!1),t[E?"once":"on"](i,s,g),e.once("destroy",function(){t.off(i,s,g)}),e},rl=function(e,t,i,s,g){ka(t)&&(g=s,s=i,i=t,t=this);var E=this.scene.events;return this.bindEvent(t,E,e,i,s,g),this};const cct={bindEvent(e,t,i,s,g,E){return typeof t=="string"&&(E=g,g=s,s=i,i=t,t=e,e=this),dct(e,t,i,s,g,E),this},bindScenePreupdateEvent(e,t,i,s){return rl.call(this,"preupdate",e,t,i,s),this},bindSceneUpdateEvent(e,t,i,s){return rl.call(this,"update",e,t,i,s),this},bindScenePostupdateEvent(e,t,i,s){return rl.call(this,"postupdate",e,t,i,s),this},bindSceneRenderEvent(e,t,i,s){return rl.call(this,"render",e,t,i,s),this},bindScenePauseEvent(e,t,i,s){return rl.call(this,"pause",e,t,i,s),this},bindSceneResumeEvent(e,t,i,s){return rl.call(this,"resume",e,t,i,s),this},bindSceneSleepEvent(e,t,i,s){return rl.call(this,"sleep",e,t,i,s),this},bindSceneWakeEvent(e,t,i,s){return rl.call(this,"wake",e,t,i,s),this},bindSceneShutdownEvent(e,t,i,s){return rl.call(this,"shutdown",e,t,i,s),this}};var Ex=function(e,t,i){var s=e.camera;return s?(i===void 0?i={}:i===!0&&(i=vct),s===t?(i.x=e.worldX,i.y=e.worldY):s.getWorldPoint(e.x,e.y,i),i):null},vct={},pct=function(e,t,i,s,g){var E=e.scene.sys.cameras.main,n,T=e.scrollFactorX===0&&e.scrollFactorY===0;if(t)return T?i(e,t.x,t.y,s,g):(n=Ex(t,E,!0),n?i(e,n.x,n.y,s,g):!1);for(var r=e.scene.input.manager,o=r.pointersTotal,y=r.pointers,d=0;d<o;d++)if(t=y[d],T){if(i(e,t.x,t.y,s,g))return!0}else{if(n=Ex(t,E,!0),!n)continue;if(i(e,n.x,n.y,s,g))return!0}return!1},bo=function(e,t,i,s){return pct(e,t,fT,i,s)},gct=function(e,t){return(hs(e)||typeof e=="string")&&(t=e,e=void 0),t===void 0?t=this:typeof t=="string"&&(t=this.getElement(t)),bo(t,e)},Na=function(e){return Object.prototype.toString.call(e)==="[object Array]"},Hu=function(e,t,i,s,g){return fT(e,t,i,mct(s),g)},aB=function(e){var t=e.rexSizer&&e.rexSizer.hidden;return!t},mct=function(e){return e?function(t,i,s){return aB(t)?(e(t,i,s),!0):!1}:aB},yct=function(e,t,i,s,g){if(ka(i)||(g=i,i=void 0,s=void 0),g===void 0&&(this.sizerChildren?g=this.sizerChildren:g=this.children),Na(g)){for(var E,n=0,T=g.length;n<T;n++)if(E=g[n],Hu(E,e,t,i,s))return E}else{var E;for(var r in g)if(E=g[r],Hu(E,e,t,i,s))return E}return null},xct=function(e,t){return t===void 0?t={}:t===!0&&(t=Tct),t.x=e.x,t.y=e.y,t.scaleX=e.scaleX,t.scaleY=e.scaleY,t.width=e.width,t.height=e.height,t.displayWidth=e.displayWidth,t.displayHeight=e.displayHeight,t},Tct={},og=function(e){this.sizerEventsEnable&&(xct(e,this.getChildPrevState(e)),this.layoutedChildren.push(e))},lg=function(e,t,i,s,g,E,n,T){n===void 0&&(n=0),T===void 0&&(T=0),rg(e,t,i,s,g,E),e.x+=n,e.y+=T,this.resetChildPositionState(e),this.sizerEventsEnable&&e.emit("sizer.postlayout",e,this)};const Cct=Phaser.Display.Align.CENTER;var Sct=function(){if(this.backgroundChildren!==void 0)for(var e=this.backgroundChildren,t=this.left,i=this.top,s=this.width*this.scaleX,g=this.height*this.scaleY,E,n,T,r,o,y,d,h=0,l=e.length;h<l;h++)E=e[h],n=E.rexSizer,!n.hidden&&(T=n.padding,og.call(this,E),r=t+T.left*this.scaleX,o=i+T.top*this.scaleY,y=s-(T.left+T.right)*this.scaleX,d=g-(T.top+T.bottom)*this.scaleY,Mn(E,y,d),lg.call(this,E,r,o,y,d,Cct,0,0))};const Ect=Phaser.Utils.Objects.IsPlainObject;var bct=function(e,t,i){if(Ect(e)){var s=e;e=s.sensor,i=s.target,t=s.draggable}else typeof t!="boolean"&&(i=t,t=void 0);var g=typeof e;if(g==="string"){var E=e;if(e=this.getElement(E),!e)return console.error(`Can get element '${E}'`),this}else(e===void 0||g!="object")&&(t=e,e=this);return t===void 0&&(t=!0),e.input&&e.input._rexUIDragSizer?e.input.draggable=t:t&&(e.setInteractive(),e.scene.input.setDraggable(e),e.on("drag",function(n,T,r){var o=i===void 0?this.getTopmostSizer():i;o.x+=T-e.x,o.y+=r-e.y,o.emit("sizer.drag",n,T,r)},this).on("dragstart",function(n,T,r){var o=i===void 0?this.getTopmostSizer():i;o.emit("sizer.dragstart",n,T,r)},this).on("dragend",function(n,T,r,o){var y=i===void 0?this.getTopmostSizer():i;y.emit("sizer.dragend",n,T,r,o)},this).on("drop",function(n,T){var r=i===void 0?this.getTopmostSizer():i;r.emit("sizer.drop",n,T)}),e.input._rexUIDragSizer=!0),this};const tR={onClick(e,t,i,s){return e?(typeof e=="function"&&(s=i,i=t,t=e,e=this),e._click===void 0&&(e._click=new gl(e,s)),e._click.on("click",t,i),this):this},offClick(e,t,i){return typeof e=="function"&&(i=t,t=e,e=this),e._click===void 0?this:(e._click.off("click",t,i),this)},enableClick(e,t){return typeof e=="boolean"&&(t=e,e=void 0),e===void 0&&(e=this),e._click===void 0?this:(e._click.setEnable(t),this)},disableClick(e){return e===void 0&&(e=this),e._click===void 0?this:(e._click.setEnable(!1),this)}},ip=Phaser.Utils.Objects.GetValue;class eR extends ji{constructor(t,i){super(t,i),this._enable=void 0;var s=ip(i,"inputConfig",void 0);s&&t.setInteractive(s),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.lastClickTime=void 0,this.setEnable(ip(t,"enable",!0)),this.setMode(ip(t,"mode",1)),this.setClickInterval(ip(t,"clickInterval",100)),this.setDragThreshold(ip(t,"threshold",void 0)),this}boot(){var t=this.parent.scene;t.input.on("pointerdown",this.onPress,this),t.input.on("pointerup",this.onRelease,this),t.input.on("pointermove",this.onMove,this)}shutdown(t){if(!this.isShutdown){var i=this.parent.scene;i.input.off("pointerdown",this.onPress,this),i.input.off("pointerup",this.onRelease,this),i.input.off("pointermove",this.onMove,this),this.pointer=null,super.shutdown(t)}}get enable(){return this._enable}set enable(t){if(this._enable!==t){t||this.cancel(),this._enable=t;var i=t?"enable":"disable";this.emit(i,this,this.parent)}}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}setMode(t){return typeof t=="string"&&(t=Pct[t]),this.mode=t,this}setClickInterval(t){return this.clickInterval=t,this}setDragThreshold(t){return this.dragThreshold=t,this}isPointerInside(t){var i=this.parent,s=i.input?xM:bo;return s(i,t)}onPress(t){this.parent.willRender(t.camera)&&this.pointer===void 0&&(this.isPointerInside(t)||(this.pointer=t,this.mode===0&&(this.isPointerInside(t)||this.click(t.downTime,t))))}onRelease(t){this.parent.willRender(t.camera)&&this.pointer===t&&(this.mode===1&&(this.isPointerInside(t)||this.click(t.upTime,t)),this.pointer=void 0)}onMove(t,i,s,g){this.pointer===t&&this.dragThreshold!==void 0&&this.mode===1&&(t.getDistance()>=this.dragThreshold||this.isPointerInside(t))&&this.cancel()}click(t,i){if(!this.enable)return this;if(t===void 0)return this.emit("clickoutside",this,this.parent,i),this;this.pointer=void 0;var s=this.lastClickTime;return s!==void 0&&t-s<=this.clickInterval?this:(this.lastClickTime=t,this.emit("clickoutside",this,this.parent,i),this)}cancel(){return this.pointer=void 0,this}}const Pct={press:0,pointerdown:0,release:1,pointerup:1},wct={onClickOutside(e,t,i,s){return e?(typeof e=="function"&&(s=i,i=t,t=e,e=this),e._clickOutside===void 0&&(e._clickOutside=new eR(e,s)),e._clickOutside.on("clickoutside",t,i),this):this},offClickOutside(e,t,i){return typeof e=="function"&&(i=t,t=e,e=this),e._clickOutside===void 0?this:(e._clickOutside.off("clickoutside",t,i),this)},enableClickOutside(e,t){return typeof e=="boolean"&&(t=e,e=void 0),e===void 0&&(e=this),e._clickOutside===void 0?this:(e._clickOutside.setEnable(t),this)},disableClickOutside(e){return e===void 0&&(e=this),e._clickOutside===void 0?this:(e._clickOutside.setEnable(!1),this)}};class Mct extends yl{constructor(){super({eventEmitter:!1}),this.goto("IDLE")}setCooldownTime(t){return this.cooldownTime=t,this.cooldownMode=t!==void 0,this}request(){return this.runMethod("request")}update_IDLE(){this.compensationTime=0}request_IDLE(){return this.next(),!0}next_IDLE(){if(this.cooldownMode)return"COOLDOWN"}enter_COOLDOWN(){this.remainderTime=this.cooldownTime+this.compensationTime}update_COOLDOWN(t,i){this.remainderTime-=i,this.remainderTime<0&&(this.compensationTime=this.cooldownTime>i?-this.remainderTime:0,this.goto("IDLE"))}request_COOLDOWN(){return!1}}const Zb=Phaser.Utils.Objects.GetValue;class Kd extends ji{constructor(t,i){super(t,i),this._enable=void 0,this.cooldown=new Mct,this.parent.setInteractive(Zb(i,"inputConfig",void 0)),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.prevIsInTouch=!1,this.isInTouching=!1,this.setEnable(Zb(t,"enable",!0)),this.setCooldown(Zb(t,"cooldown",void 0)),this}boot(){var t=this.parent;t.on("pointerdown",this.onPointIn,this),t.on("pointerover",this.onPointIn,this),t.on("pointerup",this.onPointOut,this),t.on("pointerout",this.onPointOut,this),this.scene.sys.events.on("preupdate",this.preupdate,this)}shutdown(t){this.isShutdown||(this.scene.sys.events.off("preupdate",this.preupdate,this),this.pointer=void 0,super.shutdown(t))}get enable(){return this._enable}set enable(t){if(this._enable!==t)return t||(this.prevIsInTouch=!1,this.isInTouching=!1,this.pointer=void 0),this._enable=t,this}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}get cooldownTime(){return this.cooldown.cooldownTime}set cooldownTime(t){this.cooldown.setCooldownTime(t)}setCooldown(t){return this.cooldownTime=t,this}toggleEnable(){return this.setEnable(!this.enable),this}onPointIn(t,i,s){!this.enable||!t.isDown||this.pointer!==void 0||(this.pointer=t,this.isInTouching=!0)}onPointOut(t){!this.enable||this.pointer!==t||(this.pointer=void 0,this.isInTouching=!1)}preupdate(t,i){this.cooldown.update(t,i),!this.prevIsInTouch&&this.isInTouching&&this.emit("touchstart",this,this.parent),this.isInTouching&&this.cooldown.request()&&this.emit("intouch",this,this.parent,this.pointer),this.prevIsInTouch&&!this.isInTouching&&this.emit("touchend",this,this.parent),this.prevIsInTouch=this.isInTouching}}const Rct={isPointerInBounds(e){return e===void 0?e=this:typeof e=="string"&&(e=this.getElement(e)),e?bo(e):!1},onTouching(e,t,i,s){return e?(typeof e=="function"&&(s=i,i=t,t=e,e=this),e._inTouching===void 0&&(e._inTouching=new Kd(e,s)),e._inTouching.on("intouch",t,i),this):this},offTouching(e,t,i){return typeof e=="function"&&(i=t,t=e,e=this),e._inTouching===void 0?this:(e._inTouching.off("intouch",t,i),this)},onTouchingEnd(e,t,i,s){return e?(typeof e=="function"&&(s=i,i=t,t=e,e=this),e._inTouching===void 0&&(e._inTouching=new Kd(e,s)),e._inTouching.on("touchend",t,i),this):this},offTouchingEnd(e,t,i){return typeof e=="function"&&(i=t,t=e,e=this),e._inTouching===void 0?this:(e._inTouching.off("touchend",t,i),this)},enableTouching(e,t){return typeof e=="boolean"&&(t=e,e=void 0),e===void 0&&(e=this),e._inTouching===void 0?this:(e._inTouching.setEnable(t),this)},disableTouching(e){return e===void 0&&(e=this),e._inTouching===void 0?this:(e._inTouching.setEnable(!1),this)}},Act={onOver(e,t,i){return e?(typeof e=="function"&&(i=t,t=e,e=this),e.setInteractive().on("pointerover",t,i),this):this},onOut(e,t,i){return e?(typeof e=="function"&&(i=t,t=e,e=this),e.setInteractive().on("pointerout",t,i),this):this}};var tN=function(e,t,i,s){if(e==="parent"){for(var g,E=0,n=t.length;E<n;E++)if(g=t[E],!!Hu(g,i,s))return g.pointToChild(i,s)}else for(var E=0,n=t.length;E<n;E++){var T=t[E];if(Hu(T,i,s))return T}return null},aa=function(e,t,i,s,g,E,n,T){var r;if(E===void 0)r=g;else{var o=i[0];if(!o)return;var y=n.camera,d=g+y.scrollX*(o.scrollFactorX-1),h=E+y.scrollY*(o.scrollFactorY-1);r=tN(s,i,d,h)}r&&e.emit(t,r,n,T)};const Oct=Phaser.Utils.Objects.GetValue;var Lct=function(e){var t=Oct(e,"down",void 0);t!==!1&&(t===!0&&(t=void 0),this.on("pointerdown",Dct,this))},Dct=function(e,t,i,s){var g=this._childrenInteractive;aa(g.eventEmitter,`${g.eventNamePrefix}down`,g.targetSizers,g.targetMode,e.worldX,e.worldY,e,s)};const Fct=Phaser.Utils.Objects.GetValue;var Ict=function(e){var t=Fct(e,"up",void 0);t!==!1&&(t===!0&&(t=void 0),this.on("pointerup",Bct,this))},Bct=function(e,t,i,s){var g=this._childrenInteractive;aa(g.eventEmitter,`${g.eventNamePrefix}up`,g.targetSizers,g.targetMode,e.worldX,e.worldY,e,s)};const Gct=Phaser.Utils.Objects.GetValue;var kct=function(e){var t=Gct(e,"over",void 0);t!==!1&&(t===!0&&(t=void 0),this.on("pointermove",oB,this).on("pointerover",oB,this).on("pointerout",Nct,this))},oB=function(e,t,i,s){var g=this._childrenInteractive,E=g.targetSizers[0];if(E){var n=e.camera,T=e.worldX+n.scrollX*(E.scrollFactorX-1),r=e.worldY+n.scrollY*(E.scrollFactorY-1),o=tN(g.targetMode,g.targetSizers,T,r),y=g.lastOverChild;o&&y&&o===y||(g.lastOverChild=o,aa(g.eventEmitter,`${g.eventNamePrefix}out`,g.targetSizers,g.targetMode,y,void 0,e,s),aa(g.eventEmitter,`${g.eventNamePrefix}over`,g.targetSizers,g.targetMode,o,void 0,e,s))}},Nct=function(e,t){var i=this._childrenInteractive,s=i.lastOverChild;i.lastOverChild=null,aa(i.eventEmitter,`${i.eventNamePrefix}out`,i.targetSizers,i.targetMode,s,void 0,e,t)};const Uct=Phaser.Utils.Objects.GetValue;var Vct=function(e){var t=Uct(e,"click",void 0);if(t!==!1){t===!0&&(t=void 0),t===void 0&&(t={}),t.hasOwnProperty("threshold")||(t.threshold=10);var i=this._childrenInteractive;this._click=new gl(this,t),this._click.on("click",function(s,g,E,n){aa(i.eventEmitter,`${i.eventNamePrefix}click`,i.targetSizers,i.targetMode,E.worldX,E.worldY,E,n)},this)}};const jb=Phaser.Utils.Objects.GetValue;class cT extends qx{constructor(t,i){var s=ec(t);s===t&&(t=void 0),super(s,i),this.gameObject=t,t&&t.setInteractive(jb(i,"inputConfig",void 0)),this._enable=void 0,this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.setEnable(jb(t,"enable",!0)),this.setDetectBounds(),this.gameObject===void 0?this.setDetectBounds(jb(t,"bounds",void 0)):this.setDetectBounds(),this.tracerState=Qb,this.pointer=void 0,this.lastPointer=void 0,this.movedState=!1,this.isTouchingAnyObject=!1,this}boot(){super.boot(),this.gameObject?this.gameObject.on("pointerdown",this.onPointerDown,this):this.scene.input.on("pointerdown",this.onPointerDown,this),this.scene.input.on("pointerup",this.onPointerUp,this),this.scene.input.on("gameout",this.dragCancel,this),this.scene.input.on("pointermove",this.onPointerMove,this),this.scene.sys.events.once("shutdown",this.destroy,this)}shutdown(t){this.scene&&(this.gameObject||this.scene.input.off("pointerdown",this.onPointerDown,this),this.scene.input.off("pointerup",this.onPointerUp,this),this.scene.input.off("gameout",this.dragCancel,this),this.scene.input.off("pointermove",this.onPointerMove,this),this.scene.sys.events.off("shutdown",this.destroy,this),this.gameObject=void 0,this.bounds=void 0,this.pointer=void 0,this.lastPointer=void 0,this.movedState=!1,super.shutdown(t))}get enable(){return this._enable}set enable(t){if(this._enable!==t)return t||this.dragCancel(),this._enable=t,this}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}setDetectBounds(t){return this.bounds=t,this}toggleEnable(){return this.setEnable(!this.enable),this}onPointerDown(t,i){if(this.enable&&this.pointer===void 0){var s=this.bounds?this.bounds.contains(t.x,t.y):!0;s&&this.pointer!==t&&(this.pointer=t,this.pointerCamera=t.camera,this.lastPointer=t,this.movedState=!1,this.tracerState=lB,this.gameObject===void 0&&(this.isTouchingAnyObject=i.length>0),this.onDragStart())}}onPointerUp(t){if(this.enable){var i=this.bounds?this.bounds.contains(t.x,t.y):!0;i&&this.pointer===t&&(this.pointer=void 0,this.pointerCamera=void 0,this.movedState=!1,this.tracerState=Qb,this.onDragEnd())}}onPointerMove(t){if(this.enable&&t.isDown){var i=this.bounds?this.bounds.contains(t.x,t.y):!0,s=this.pointer===t;!s&&i||(s&&!i?this.onPointerUp(t):(this.movedState||(this.movedState=t.x!==t.downX||t.y!==t.downY),this.movedState&&this.onDrag()))}}dragCancel(){return this.tracerState===lB&&this.onDragEnd(),this.pointer=void 0,this.tracerState=Qb,this}onDragStart(){this.emit("dragstart",this)}onDragEnd(){this.emit("dragend",this)}onDrag(){this.emit("drag",this)}preUpdate(t,i){}postUpdate(t,i){}startTicking(){super.startTicking(),this.scene.sys.events.on("preupdate",this.preUpdate,this),this.scene.sys.events.on("postupdate",this.postUpdate,this)}stopTicking(){super.stopTicking(),this.scene&&(this.scene.sys.events.off("preupdate",this.preUpdate,this),this.scene.sys.events.off("postupdate",this.postUpdate,this))}setRecongizedStateObject(t){return this.recongizedState=t,this}get state(){return this.recongizedState.state}set state(t){this.recongizedState.state=t}cancel(){return this.state=zct,this}isPointerInGameObject(t,i,s){var g=this.lastPointer;return g?bo(t,g,i,s):!1}}const Qb=0,lB=1,zct="IDLE",Cu=Phaser.Utils.Objects.GetValue,Wct=Phaser.Math.Distance.Between;class vT extends cT{constructor(t,i){super(t,i);var s=this,g={states:{IDLE:{enter:function(){s.stop(),s.tapsCount=0,s.x=0,s.y=0,s.worldX=0,s.worldY=0,s.lastPointer=void 0},exit:function(){var E=s.lastPointer;s.x=E.x,s.y=E.y,s.worldX=E.worldX,s.worldY=E.worldY}},BEGIN:{enter:function(){s.start(),s.tapsCount=0,s.emit("tappingstart",s,s.gameObject,s.lastPointer)}},RECOGNIZED:{enter:function(){s.start(),s.emit("tap",s,s.gameObject,s.lastPointer),s.emit(`${s.tapsCount}tap`,s,s.gameObject,s.lastPointer)}}},init:function(){this.state=Su},eventEmitter:!1};this.setRecongizedStateObject(new yl(g))}resetFromJSON(t){super.resetFromJSON(t),this.setHoldTime(Cu(t,"time",250)),this.setTapInterval(Cu(t,"tapInterval",200)),this.setDragThreshold(Cu(t,"threshold",9)),this.setTapOffset(Cu(t,"tapOffset",10));var i=Cu(t,"taps",void 0);return i!==void 0?this.setTaps(i):(this.setMaxTaps(Cu(t,"maxTaps",void 0)),this.setMinTaps(Cu(t,"minTaps",void 0))),this}onDragStart(){switch(this.state){case Su:this.state=Td;break;case Td:var t=this.lastPointer,i=Wct(t.upX,t.upY,t.x,t.y);i>this.tapOffset&&(this.state=Cd,this.state=Td);break;case Cd:this.state=Td;break}}onDragEnd(){this.state===Td&&(this.tapsCount++,this.emit("tapping",this,this.gameObject,this.lastPointer),this.maxTaps!==void 0&&this.tapsCount===this.maxTaps&&(this.state=Cd))}onDrag(){this.state!==Su&&this.pointer.getDistance()>this.dragThreshold&&(this.state=Su)}preUpdate(t,i){if(!(!this.isRunning||!this.enable)&&this.state===Td){var s=this.lastPointer;if(s.isDown){var g=t-s.downTime;g>this.holdTime&&(this.state=Su)}else{var E=t-s.upTime;E>this.tapInterval&&(this.minTaps===void 0||this.tapsCount>=this.minTaps?this.state=Cd:this.state=Su)}}}postUpdate(t,i){!this.isRunning||!this.enable||this.state===Cd&&(this.state=Su)}get isTapped(){return this.state===Cd}setHoldTime(t){return this.holdTime=t,this}setTapInterval(t){return this.tapInterval=t,this}setDragThreshold(t){return this.dragThreshold=t,this}setTapOffset(t){return this.tapOffset=t,this}setMaxTaps(t){return this.maxTaps=t,this}setMinTaps(t){return this.minTaps=t,this}setTaps(t,i){return i===void 0&&(i=t),this.setMinTaps(t).setMaxTaps(i),this}}const Su="IDLE",Td="BEGIN",Cd="RECOGNIZED",hB=Phaser.Utils.Objects.GetValue;class pT extends cT{constructor(t,i){super(t,i);var s=this,g={states:{IDLE:{enter:function(){s.x=0,s.y=0,s.worldX=0,s.worldY=0,s.lastPointer=void 0},exit:function(){var E=s.lastPointer;s.x=E.x,s.y=E.y,s.worldX=E.worldX,s.worldY=E.worldY}},BEGIN:{enter:function(){s.start()},exit:function(){s.stop()}},RECOGNIZED:{enter:function(){s.emit("pressstart",s,s.gameObject,s.lastPointer)},exit:function(){s.emit("pressend",s,s.gameObject,s.lastPointer)}}},init:function(){this.state=gy},eventEmitter:!1};this.setRecongizedStateObject(new yl(g))}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold(hB(t,"threshold",9)),this.setHoldTime(hB(t,"time",251)),this}onDragStart(){this.state=uB,this.holdTime===0&&(this.state=qb)}onDragEnd(){this.state=gy}onDrag(){this.state!==gy&&this.pointer.getDistance()>this.dragThreshold&&(this.state=gy)}preUpdate(t,i){if(!(!this.isRunning||!this.enable)&&this.state===uB){var s=t-this.pointer.downTime;s>=this.holdTime&&(this.state=qb)}}get isPressed(){return this.state===qb}setHoldTime(t){return this.holdTime=t,this}setDragThreshold(t){return this.dragThreshold=t,this}}const gy="IDLE",uB="BEGIN",qb="RECOGNIZED",Yct=Phaser.Utils.Objects.GetValue;class eN extends cT{constructor(t,i){super(t,i);var s=this,g={states:{IDLE:{},BEGIN:{enter:function(){var E=s.pointer;s.startX=E.x,s.startY=E.y,s.startWorldX=E.worldX,s.startWorldY=E.worldY}},RECOGNIZED:{enter:function(){s.emit("panstart",s,s.gameObject,s.lastPointer)},exit:function(){var E=s.lastPointer;s.endX=E.x,s.endY=E.y;var n=Ex(E,s.pointerCamera,!0);s.endWorldX=n.x,s.endWorldY=n.y,s.emit("panend",s,s.gameObject,s.lastPointer)}}},init:function(){this.state=fB},eventEmitter:!1};this.setRecongizedStateObject(new yl(g))}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold(Yct(t,"threshold",10)),this}onDragStart(){this.state=dB,this.dragThreshold===0&&(this.state=my)}onDragEnd(){this.state=fB}onDrag(){switch(this.state){case dB:if(this.pointer.getDistance()>=this.dragThreshold){this.state=my,this.dx=0,this.dy=0,this.dWorldX=0,this.dWorldY=0;var g=this.pointer;this.x=g.x,this.y=g.y,this.worldX=g.worldX,this.worldY=g.worldY}break;case my:var t=this.pointerCamera,i=this.pointer.position,s=this.pointer.prevPosition;this.dx=i.x-s.x,this.dy=i.y-s.y,this.dWorldX=this.dx/t.zoom,this.dWorldY=this.dy/t.zoom;var g=this.pointer;this.x=g.x,this.y=g.y;var E=Ex(g,t,!0);this.worldX=E.x,this.worldY=E.y,this.emit("pan",this,this.gameObject,this.lastPointer);break}}get isPanned(){return this.state===my}setDragThreshold(t){return this.dragThreshold=t,this}}const fB="IDLE",dB="BEGIN",my="RECOGNIZED",Xct=Phaser.Math.Distance.Between,Hct=Phaser.Math.Angle.Between,$ct={getDt:function(){var e=SM(this.scene);return e},getVelocity:function(){var e=this.pointer.position,t=this.pointer.prevPosition,i=Xct(t.x,t.y,e.x,e.y),s=i/(this.getDt()*.001);return s},getVelocityX:function(){var e=this.pointer.position,t=this.pointer.prevPosition,i=Math.abs(e.x-t.x),s=i/(this.getDt()*.001);return s},getVelocityY:function(){var e=this.pointer.position,t=this.pointer.prevPosition,i=Math.abs(e.y-t.y),s=i/(this.getDt()*.001);return s},getVelocityAngle:function(){var e=this.pointer.position,t=this.pointer.prevPosition,i=Hct(t.x,t.y,e.x,e.y);return i}},Kct={"up&down":0,"left&right":1,"4dir":2,"8dir":3};var Jct=function(e,t,i){switch(i===void 0?i={}:i===!0&&(i=Zct),i.left=!1,i.right=!1,i.up=!1,i.down=!1,e=(e+360)%360,t){case 0:e<180?i.down=!0:i.up=!0;break;case 1:e>90&&e<=270?i.left=!0:i.right=!0;break;case 2:e>45&&e<=135?i.down=!0:e>135&&e<=225?i.left=!0:e>225&&e<=315?i.up=!0:i.right=!0;break;case 3:e>22.5&&e<=67.5?(i.down=!0,i.right=!0):e>67.5&&e<=112.5?i.down=!0:e>112.5&&e<=157.5?(i.down=!0,i.left=!0):e>157.5&&e<=202.5?i.left=!0:e>202.5&&e<=247.5?(i.left=!0,i.up=!0):e>247.5&&e<=292.5?i.up=!0:(e>292.5&&e<=337.5&&(i.up=!0),i.right=!0);break}return i},Zct={};const _b=Phaser.Utils.Objects.GetValue,jct=Phaser.Math.RadToDeg;class hg extends cT{constructor(t,i){super(t,i);var s=this,g={states:{IDLE:{enter:function(){s.x=0,s.y=0,s.worldX=0,s.worldY=0},exit:function(){var E=s.lastPointer;s.x=E.x,s.y=E.y,s.worldX=E.worldX,s.worldY=E.worldY}},BEGIN:{enter:function(){s.validDrag=!1}},RECOGNIZED:{enter:function(){s.start(),s.updateDirectionStates(),s.emit("swipe",s,s.gameObject,s.lastPointer)},exit:function(){s.stop(),s.clearDirectionStates()}}},init:function(){this.state=tP},eventEmitter:!1};this.setRecongizedStateObject(new yl(g)),this.clearDirectionStates()}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold(_b(t,"threshold",10)),this.setVelocityThreshold(_b(t,"velocityThreshold",1e3)),this.setDirectionMode(_b(t,"dir","8dir")),this}onDragStart(){this.state=cB}onDragEnd(){this.state=tP}onDrag(){this.state===cB&&(this.validDrag||(this.validDrag=this.dragThreshold===0||this.pointer.getDistance()>=this.dragThreshold),this.validDrag&&this.dragVelocity>this.velocityThreshold&&(this.state=eP))}postUpdate(t,i){!this.isRunning||!this.enable||this.state===eP&&(this.state=tP)}get isSwiped(){return this.state===eP}get dragVelocity(){var t;switch(this.dirMode){case 0:t=this.getVelocityY();break;case 1:t=this.getVelocityX();break;default:t=this.getVelocity();break}return t}setDragThreshold(t){return this.dragThreshold=t,this}setVelocityThreshold(t){return this.velocityThreshold=t,this}setDirectionMode(t){return typeof t=="string"&&(t=Kct[t]),this.dirMode=t,this}updateDirectionStates(){var t=jct(this.getVelocityAngle());return Jct(t,this.dirMode,this),this}clearDirectionStates(){return this.left=!1,this.right=!1,this.up=!1,this.down=!1,this}}Object.assign(hg.prototype,$ct);const tP="IDLE",cB="BEGIN",eP="RECOGNIZED",yy=Phaser.Utils.Objects.GetValue,Qct=Phaser.Utils.Array.SpliceOne,qct=Phaser.Math.Distance.Between,_ct=Phaser.Math.Angle.Between;class iR{constructor(t,i){var s=ec(t);s===t&&(t=void 0);var g=s.input.manager.pointersTotal-1;g<2&&s.input.addPointer(2-g),this.scene=s,this.gameObject=t,t&&t.setInteractive(yy(i,"inputConfig",void 0)),this.setEventEmitter(yy(i,"eventEmitter",void 0)),this._enable=void 0,this.pointers=[],this.movedState={},this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.setEnable(yy(t,"enable",!0)),this.bounds=yy(t,"bounds",void 0),this.tracerState=xy,this.pointers.length=0,Sh(this.movedState),this}boot(){this.gameObject?this.gameObject.on("pointerdown",this.onPointerDown,this):this.scene.input.on("pointerdown",this.onPointerDown,this),this.scene.input.on("pointerup",this.onPointerUp,this),this.scene.input.on("gameout",this.dragCancel,this),this.scene.input.on("pointermove",this.onPointerMove,this),this.scene.sys.events.once("shutdown",this.destroy,this)}shutdown(){this.scene&&(this.destroyEventEmitter(),this.pointers.length=0,Sh(this.movedState),this.gameObject||this.scene.input.off("pointerdown",this.onPointerDown,this),this.scene.input.off("pointerup",this.onPointerUp,this),this.scene.input.off("gameout",this.dragCancel,this),this.scene.input.off("pointermove",this.onPointerMove,this),this.scene.sys.events.off("shutdown",this.destroy,this),this.scene=void 0,this.gameObject=void 0)}destroy(){this.shutdown()}get enable(){return this._enable}set enable(t){if(this._enable!==t)return t||this.dragCancel(),this._enable=t,this}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}onPointerDown(t){if(this.enable&&this.pointers.length!==2){var i=this.bounds?this.bounds.contains(t.x,t.y):!0;if(i){var s=this.pointers.indexOf(t);if(s===-1)switch(this.movedState[t.id]=!1,this.pointers.push(t),this.pointerCamera=t.camera,this.tracerState){case xy:this.tracerState=np,this.onDrag1Start();break;case np:this.tracerState=ho,this.onDrag2Start();break}}}}onPointerUp(t){if(this.enable){var i=this.bounds?this.bounds.contains(t.x,t.y):!0;if(i){var s=this.pointers.indexOf(t);if(s!==-1)switch(delete this.movedState[t.id],Qct(this.pointers,s),this.tracerState){case np:this.tracerState=xy,this.onDrag1End();break;case ho:this.tracerState=np,this.onDrag2End(),this.onDrag1Start();break}}}}onPointerMove(t){if(this.enable&&t.isDown){var i=this.bounds?this.bounds.contains(t.x,t.y):!0,s=this.pointers.indexOf(t)!==-1;if(!(!s&&i)){if(s&&!i)this.onPointerUp(t);else if(this.movedState[t.id]||(this.movedState[t.id]=t.x!==t.downX||t.y!==t.downY),this.movedState[t.id])switch(this.tracerState){case np:this.onDrag1();break;case ho:this.onDrag2();break}}}}dragCancel(){return this.tracerState===ho&&this.onDrag2End(),this.pointers.length=0,Sh(this.movedState),this.tracerState=xy,this}onDrag1Start(){this.emit("drag1start",this)}onDrag1End(){this.emit("drag1end",this)}onDrag1(){this.emit("drag1",this)}onDrag2Start(){this.emit("drag2start",this)}onDrag2End(){this.emit("drag2end",this)}onDrag2(){this.emit("drag2",this)}get distanceBetween(){if(this.tracerState!==ho)return 0;var t=this.pointers[0],i=this.pointers[1];return qct(t.x,t.y,i.x,i.y)}get angleBetween(){if(this.tracerState!==ho)return 0;var t=this.pointers[0],i=this.pointers[1];return _ct(t.x,t.y,i.x,i.y)}get drag1Vector(){var t=this.pointers[0];if(t&&this.movedState[t.id]){var i=t.position,s=t.prevPosition;rp.x=i.x-s.x,rp.y=i.y-s.y}else rp.x=0,rp.y=0;return rp}get centerX(){if(this.tracerState!==ho)return 0;var t=this.pointers[0].position,i=this.pointers[1].position;return(t.x+i.x)/2}get centerY(){if(this.tracerState!==ho)return 0;var t=this.pointers[0].position,i=this.pointers[1].position;return(t.y+i.y)/2}get prevCenterX(){if(this.tracerState!==ho)return 0;var t=this.movedState[this.pointers[0].id]?this.pointers[0].prevPosition:this.pointers[0].position,i=this.movedState[this.pointers[1].id]?this.pointers[1].prevPosition:this.pointers[1].position;return(t.x+i.x)/2}get prevCenterY(){if(this.tracerState!==ho)return 0;var t=this.movedState[this.pointers[0].id]?this.pointers[0].prevPosition:this.pointers[0].position,i=this.movedState[this.pointers[1].id]?this.pointers[1].prevPosition:this.pointers[1].position;return(t.y+i.y)/2}get movementCenterX(){return this.centerX-this.prevCenterX}get movementCenterY(){return this.centerY-this.prevCenterY}setRecongizedStateObject(t){return this.recongizedState=t,this}get state(){return this.recongizedState.state}set state(t){this.recongizedState.state=t}cancel(){return this.state=tvt,this}isPointer0InGameObject(t,i,s){var g=this.pointers[0];return g?bo(t,g,i,s):!1}isPointer1InGameObject(t,i,s){var g=this.pointers[1];return g?bo(t,g,i,s):!1}}Object.assign(iR.prototype,Zp);var rp={};const xy=0,np=1,ho=2,tvt="IDLE",evt=Phaser.Utils.Objects.GetValue;class iN extends iR{constructor(t,i){super(t,i);var s=this,g={states:{IDLE:{enter:function(){s.prevDistance=void 0,s.scaleFactor=1}},BEGIN:{},RECOGNIZED:{enter:function(){s.emit("pinchstart",s)},exit:function(){s.emit("pinchend",s)}}},init:function(){this.state=vB},eventEmitter:!1};this.setRecongizedStateObject(new yl(g))}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold(evt(t,"threshold",0)),this}onDrag2Start(){this.scaleFactor=1,this.prevDistance=this.distanceBetween,this.state=pB,this.dragThreshold===0&&(this.state=Ty)}onDrag2End(){this.state=vB}onDrag2(){switch(this.state){case pB:if(this.pointers[0].getDistance()>=this.dragThreshold&&this.pointers[1].getDistance()>=this.dragThreshold){var t=this.distanceBetween;this.scaleFactor=t/this.prevDistance,this.prevDistance=t,this.state=Ty}break;case Ty:var t=this.distanceBetween;this.scaleFactor=t/this.prevDistance,this.emit("pinch",this),this.prevDistance=t;break}}get isPinched(){return this.state===Ty}setDragThreshold(t){return this.dragThreshold=t,this}}const vB="IDLE",pB="BEGIN",Ty="RECOGNIZED",ivt=Phaser.Math.RotateAround;var gB=function(e,t,i,s){return ivt(e,t,i,s),e.rotation+=s,e},rvt=function(e,t,i,s){return s===void 0?s={}:s===!0&&(s=nvt),i.getWorldPoint(e,t,s),s},nvt={},svt=function(e,t){if(!this.isRotation)return this;t===void 0&&(t=this.pointers[0].camera);var i=this.movementCenterX,s=this.movementCenterY,g=rvt(this.centerX,this.centerY,t,!0),E=g.x,n=g.y,T=this.rotation;if(Array.isArray(e))for(var r=e,o=0,y=r.length;o<y;o++)e=r[o],e.x+=i,e.y+=s,gB(e,E,n,T);else e.x+=i,e.y+=s,gB(e,E,n,T);return this};const avt=Phaser.Utils.Objects.GetValue,iP=Phaser.Math.Angle.WrapDegrees,mB=Phaser.Math.Angle.ShortestBetween,rP=Phaser.Math.RadToDeg,ovt=Phaser.Math.DegToRad;class rR extends iR{constructor(t,i){super(t,i);var s=this,g={states:{IDLE:{enter:function(){s.prevAngle=void 0,s.angle=0}},BEGIN:{},RECOGNIZED:{enter:function(){s.emit("rotatestart",s)},exit:function(){s.emit("rotateend",s)}}},init:function(){this.state=yB},eventEmitter:!1};this.setRecongizedStateObject(new yl(g))}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold(avt(t,"threshold",0)),this}onDrag2Start(){this.prevAngle=iP(rP(this.angleBetween)),this.state=xB,this.dragThreshold===0&&(this.state=Cy)}onDrag2End(){this.state=yB}onDrag2(){switch(this.state){case xB:if(this.pointers[0].getDistance()>=this.dragThreshold&&this.pointers[1].getDistance()>=this.dragThreshold){var t=iP(rP(this.angleBetween));this.angle=mB(this.prevAngle,t),this.prevAngle=t,this.state=Cy}break;case Cy:var t=iP(rP(this.angleBetween));this.angle=mB(this.prevAngle,t),this.prevAngle=t,this.emit("rotate",this);break}}get isRotated(){return this.state===Cy}get rotation(){return ovt(this.angle)}setDragThreshold(t){return this.dragThreshold=t,this}}var lvt={spinObject:svt};Object.assign(rR.prototype,lvt);const yB="IDLE",xB="BEGIN",Cy="RECOGNIZED",hvt=Phaser.Utils.Objects.GetValue;var uvt=function(e){var t=hvt(e,"tap",void 0);if(t!==!1){t===!0&&(t=void 0);var i=this._childrenInteractive;this._tap=new vT(this,t),this._tap.on("tap",function(s,g,E){aa(i.eventEmitter,`${i.eventNamePrefix}${s.tapsCount}tap`,i.targetSizers,i.targetMode,s.worldX,s.worldY,E,s),aa(i.eventEmitter,`${i.eventNamePrefix}tap`,i.targetSizers,i.targetMode,s.worldX,s.worldY,E,s)},this)}};const fvt=Phaser.Utils.Objects.GetValue;var dvt=function(e){var t=fvt(e,"press",void 0);if(t!==!1){t===!0&&(t=void 0);var i=this._childrenInteractive;this._press=new pT(this,t),this._press.on("pressstart",function(s,g,E){aa(i.eventEmitter,`${i.eventNamePrefix}pressstart`,i.targetSizers,i.targetMode,s.worldX,s.worldY,E,s)},this).on("pressend",function(s,g,E){aa(i.eventEmitter,`${i.eventNamePrefix}pressend`,i.targetSizers,i.targetMode,s.worldX,s.worldY,E,s)},this)}};const cvt=Phaser.Utils.Objects.GetValue;var vvt=function(e){var t=cvt(e,"swipe",void 0);if(t!==!1){t===!0&&(t=void 0),t===void 0&&(t={}),t.hasOwnProperty("dir")||(t.dir="4dir");var i=this._childrenInteractive;this._swipe=new hg(this,t),this._swipe.on("swipe",function(s,g,E){var n=s.left?"left":s.right?"right":s.up?"up":"down";aa(i.eventEmitter,`${i.eventNamePrefix}swipe${n}`,i.targetSizers,i.targetMode,s.worldX,s.worldY,E,s),aa(i.eventEmitter,`${i.eventNamePrefix}swipe`,i.targetSizers,i.targetMode,s.worldX,s.worldY,E,s)},this)}};const sp=Phaser.Utils.Objects.GetValue;var gT=function(e,t){return e.setInteractive(),sp(t,"dropZone",!1)&&(e.input.dropZone=!0),e._childrenInteractive={targetSizers:sp(t,"targets",[e]),targetMode:sp(t,"targetMode","parent"),eventEmitter:sp(t,"eventEmitter",e),eventNamePrefix:sp(t,"inputEventPrefix","child.")},Lct.call(e,t),Ict.call(e,t),kct.call(e,t),Vct.call(e,t),uvt.call(e,t),dvt.call(e,t),vvt.call(e,t),e},pvt=function(e){return gT(this,e),this},gvt=function(){for(var e=this.getAllChildren([this]),t=0,i=e.length;t<i;t++){var s=e[t];s.emit.apply(s,arguments)}return this},rN={getSizerConfig:Fft,getChildPrevState:Ift,pushIntoBounds:Bft,drawBounds:Jft,resolveWidth:zM,hasWidthWrap:WM,resolveChildrenWidth:hdt,runWidthWrap:YM,resolveHeight:XM,hasHeightWrap:HM,resolveChildrenHeight:udt,runHeightWrap:$M,getChildWidth:fdt,getChildHeight:ddt,getExpandedChildWidth:cdt,getExpandedChildHeight:vdt,getChildrenWidth:pdt,getChildrenHeight:gdt,addChildrenMap:JI,addElement:JI,removeChildrenMap:ndt,getElement:sdt,getChildIndex:odt,getAllChildrenSizers:mdt,getChildrenSizers:ydt,preLayout:ag,layout:Tdt,runLayout:Edt,layoutChildren:wdt,layoutBackgrounds:Sct,postLayout:Mdt,setAnchor:Adt,isInTouching:gct,pointToChild:yct,setDraggable:bct,setChildrenInteractive:pvt,broadcastEvent:gvt};Object.assign(rN,ldt,Qft,rdt,nc,hl,kp,lT,Xdt,Kdt,Zk,tR,wct,Rct,Act,jdt,dT,xdt,cct);const nl=Phaser.Utils.Objects.GetValue;let _u=class extends Ns{constructor(t,i,s,g,E,n){super(t,i,s,1,1),this.isRexSizer=!0;var T=nl(n,"origin",.5),r=nl(n,"originX",T),o=nl(n,"originY",T);this.setOrigin(r,o),this.setMinSize(g,E),this.setName(nl(n,"name","")),this.rexSizer={},this.space={},this.backgroundChildren=void 0,this.sizerChildren=void 0,this.childrenMap={},this.layoutedChildren=void 0,this.runChildrenWrapFlag=!1,this.enableLayoutWarn(!1);var y=nl(n,"anchor",void 0);y&&this.setAnchor(y),this.setInnerPadding(nl(n,"space",0));var d=nl(n,"draggable",!1);d&&this.setDraggable(d),this.setSizerEventsEnable(nl(n,"sizerEvents",!1)),this.setDirty(!0),nl(n,"enableLayer",!1)&&this.enableLayer()}destroy(t){if(!(!this.scene||this.ignoreDestroy)){if(t)for(var i=this.getAllChildrenSizers([this]),s=0,g=i.length;s<g;s++)i[s].sizerEventsEnable=!1;super.destroy(t),Sh(this.backgroundChildren),Sh(this.sizerChildren),this.childrenMap=void 0,this.space=void 0,this.rexSizer=void 0,this.layoutedChildren=void 0}}setMinSize(t,i){return this.setMinWidth(t).setMinHeight(i),this}setMinWidth(t){return t==null&&(t=0),this.minWidth=t,this}setMinHeight(t){return t==null&&(t=0),this.minHeight=t,this}setDirty(t){return t===void 0&&(t=!0),this.dirty=t,this}setSizerEventsEnable(t){return t===void 0&&(t=!0),this.sizerEventsEnable=t,this}enableLayoutWarn(t){return t===void 0&&(t=!0),this.layoutWarnEnable=t,this}get ignoreLayout(){return this.rexSizer.hidden||!this.dirty}get childrenWidth(){return this._childrenWidth===void 0&&(this._childrenWidth=this.getChildrenWidth()),this._childrenWidth}get childrenHeight(){return this._childrenHeight===void 0&&(this._childrenHeight=this.getChildrenHeight()),this._childrenHeight}get left(){return this.x-Si(this)*this.originX}set left(t){this.x+=t-this.left}alignLeft(t){return this.left=t,this}get right(){return this.left+Si(this)}set right(t){this.x+=t-this.right}alignRight(t){return this.right=t,this}get centerX(){return this.left+Si(this)/2}set centerX(t){this.x+=t-this.centerX}alignCenterX(t){return this.centerX=t,this}get top(){return this.y-Ei(this)*this.originY}set top(t){this.y+=t-this.top}alignTop(t){return this.top=t,this}get bottom(){return this.top+Ei(this)}set bottom(t){this.y+=t-this.bottom}alignBottom(t){return this.bottom=t,this}get centerY(){return this.top+Ei(this)/2}set centerY(t){this.y+=t-this.centerY}alignCenterY(t){return this.centerY=t,this}get innerLeft(){return this.left+this.space.left*this.scaleX}get innerRight(){return this.right-this.space.right*this.scaleX}get innerTop(){return this.top+this.space.top*this.scaleY}get innerBottom(){return this.bottom-this.space.bottom*this.scaleY}get innerWidth(){return(this.width-this.space.left-this.space.right)*this.scaleX}get innerHeight(){return(this.height-this.space.top-this.space.bottom)*this.scaleY}get minInnerWidth(){var t=(this.minWidth-this.space.left-this.space.right)*this.scaleX;return Math.max(t,0)}get minInnerHeight(){var t=(this.minHeight-this.space.top-this.space.bottom)*this.scaleY;return Math.max(t,0)}};Object.assign(_u.prototype,rN);var mvt=function(){if(this.rexSizer.hidden)return 0;var e=0,t=this.sizerChildren,i,s,g,E=!1;for(var n in t)i=t[n],g=this.getChildWidth(i),g===void 0&&(E=!0),!E&&(s=i.rexSizer.padding,g+=(s.left+s.right)*this.scaleX,e=Math.max(g,e));if(!E)return e+(this.space.left+this.space.right)*this.scaleX},yvt=function(){if(this.rexSizer.hidden)return 0;var e=0,t=this.sizerChildren,i,s,g,E=!1;for(var n in t)i=t[n],g=this.getChildHeight(i),g===void 0&&(E=!0),!E&&(s=i.rexSizer.padding,g+=(s.top+s.bottom)*this.scaleY,e=Math.max(g,e));if(!E)return e+(this.space.top+this.space.bottom)*this.scaleY},xvt=function(e,t){t===void 0&&(t=this.width*this.scaleX);var i,s=e.rexSizer;if(s.expandWidth){var g=t-(this.space.left+this.space.right)*this.scaleX,E=s.padding;i=g-(E.left+E.right)*this.scaleX}return i},Tvt=function(e,t){t===void 0&&(t=this.height);var i,s=e.rexSizer;if(s.expandHeight){var g=t-(this.space.top+this.space.bottom)*this.scaleY,E=s.padding;i=g-(E.top+E.bottom)*this.scaleY}return i},Cvt=function(e){e===void 0&&(e=[]);var t=this.sizerChildren,i;for(var s in t)i=t[s],i.isRexSizer&&e.push(i);return e},nR=function(e,t,i,s){if(i===void 0)i=0;else{var g=typeof i;g==="boolean"?(s=i,i=0):g==="string"&&(i=Svt[i])}s===void 0?s={}:s===!0&&(s=Evt);var E=t.width/e.width,n=t.height/e.height,T=i?Math.max(E,n):Math.min(E,n);return s.width=e.width*T,s.height=e.height*T,s};const Svt={fit:0,FIT:0,envelop:1,ENVELOP:1};var Evt={},sR=function(e,t){e.layoutWarnEnable&&(e.width<e.childrenWidth&&console.warn(`Layout width error: Parent=${t.constructor.name}, Child=${e.constructor.name}`),e.height<e.childrenHeight&&console.warn(`Layout height error: Parent=${t.constructor.name}, Child=${e.constructor.name}`))},bvt=function(){var e,t,i,s=this.innerLeft,g=this.innerTop,E=this.innerWidth,n=this.innerHeight,T,r,o,y,d,h,l,a,f,c=this.sizerChildren;for(var u in c)e=c[u],!e.rexSizer.hidden&&(t=e.rexSizer,i=t.padding,og.call(this,e),l=this.getExpandedChildWidth(e),a=this.getExpandedChildHeight(e),t.aspectRatio>0&&(nP.width=t.aspectRatio,nP.height=1,sP.width=l,sP.height=a,f=nR(nP,sP,"FIT",!0),l=f.width,a=f.height),e.isRexSizer?(e.runLayout(this,l,a),sR(e,this)):Mn(e,l,a),T=s+i.left*this.scaleX,o=E-(i.left+i.right)*this.scaleX,r=g+i.top*this.scaleY,y=n-(i.top+i.bottom)*this.scaleY,l===void 0&&(l=Si(e)),a===void 0&&(a=Ei(e)),d=(t.alignOffsetX+t.alignOffsetOriginX*l)*this.scaleX,h=(t.alignOffsetY+t.alignOffsetOriginY*a)*this.scaleY,lg.call(this,e,T,r,o,y,t.align,d,h))},nP={},sP={};const TB=Phaser.Utils.Objects.IsPlainObject,Ms=Phaser.Utils.Objects.GetValue,CB=Phaser.Display.Align.CENTER,Pvt=Phaser.Utils.String.UUID;var wvt=function(e,t,i,s,g,E,n,T,r,o){var y,d;if(ng.call(this,e),TB(t)){var l=t;t=Ms(l,"key",void 0),i=Ms(l,"align",CB),s=Ms(l,"padding",0),g=Ms(l,"expand",!0),e.isRexSizer||(E=Ms(l,"minWidth",e._minWidth),n=Ms(l,"minHeight",e._minHeighted)),T=Ms(l,"offsetX",0),r=Ms(l,"offsetY",0),y=Ms(l,"offsetOriginX",0),d=Ms(l,"offsetOriginY",0),o=Ms(l,"aspectRatio",0)}var h=t!==void 0;h||(t=Pvt()),typeof i=="string"&&(i=rc[i]),i===void 0&&(i=CB),s===void 0&&(s=0),g===void 0&&(g=!0),e.isRexSizer||(E===void 0&&(E=e._minWidth),n===void 0&&(n=e._minHeight)),T===void 0&&(T=0),r===void 0&&(r=0),y===void 0&&(y=0),d===void 0&&(d=0),o===void 0?o=0:o===!0&&(o=Si(e)/Ei(e)),o>0&&(g=!0,E===void 0&&(E=0),n===void 0&&(n=0));var l=this.getSizerConfig(e);return l.align=i,l.padding=qu(s),TB(g)?(l.expandWidth=Ms(g,"width",!1),l.expandHeight=Ms(g,"height",!1)):(l.expandWidth=g,l.expandHeight=g),e.isRexSizer||(l.expandWidth&&(e.minWidth=E===void 0?Si(e):E),l.expandHeight&&(e.minHeight=n===void 0?Ei(e):n)),l.alignOffsetX=T,l.alignOffsetY=r,l.alignOffsetOriginX=y,l.alignOffsetOriginY=d,l.aspectRatio=o,this.sizerChildren.hasOwnProperty(t)&&this.sizerChildren[t].destroy(),this.sizerChildren[t]=e,h&&this.addChildrenMap(t,e),this};const Mvt={add:wvt},Rvt=Ns.prototype.clear;var mT=function(e){this.backgroundChildren&&(this.backgroundChildren.length=0);var t=!e&&this.sizerEventsEnable,i;if(t&&(i=this.getChildren([])),Rvt.call(this,e),t)for(var s,g=0,E=i.length;g<E;g++)s=i[g],s.emit("sizer.remove",s,this),this.emit("remove",s,this);return this};const Avt={remove(e,t){var i;if(typeof e=="string"){if(i=e,e=this.sizerChildren[i],!e)return this}else{if(this.getParentSizer(e)!==this)return this;i=this.childToKey(e)}return i&&(delete this.sizerChildren[i],this.childrenMap.hasOwnProperty(i)&&delete this.childrenMap[i]),sg.call(this,e,t),this},removeAll(e){for(var t in this.sizerChildren)this.remove(t,e);return this},clear(e){for(var t in this.sizerChildren)delete this.sizerChildren[t],this.childrenMap.hasOwnProperty(t)&&delete this.childrenMap[t];return mT.call(this,e),this}};var nN={getChildrenWidth:mvt,getChildrenHeight:yvt,getExpandedChildWidth:xvt,getExpandedChildHeight:Tvt,getChildrenSizers:Cvt,layoutChildren:bvt};Object.assign(nN,Mvt,Avt);var yT=function(e,t){if(Array.isArray(e))return e.indexOf(t);for(var i in e)if(e[i]===t)return i;return null};const SB=Phaser.Utils.Objects.IsPlainObject,Sd=Phaser.Utils.Objects.GetValue;class oa extends _u{constructor(t,i,s,g,E,n){SB(i)?(n=i,i=Sd(n,"x",0),s=Sd(n,"y",0),g=Sd(n,"width",void 0),E=Sd(n,"height",void 0)):SB(g)&&(n=g,g=Sd(n,"width",void 0),E=Sd(n,"height",void 0)),super(t,i,s,g,E,n),this.type="rexOverlapSizer",this.sizerChildren={},this.addChildrenMap("items",this.sizerChildren)}childToKey(t){if(typeof t=="string"){var i=t;if(this.sizerChildren.hasOwnPropery(i))return i}else return yT(this.sizerChildren,t);return null}}Object.assign(oa.prototype,nN);var Ovt=Phaser.Math.Distance.Between,bx=function(e,t,i){var s=e.width/2;return Ovt(s,s,t,i)<=s};const Lvt=Phaser.Math.Angle.Between,Dvt=Phaser.Math.Angle.Normalize;var EB=function(e,t,i){if(this.enable&&e.isDown){var s=this.sizerChildren.knob;if(bx(s,t,i)){var g=s.width/2,E=s.startAngle,n=Lvt(g,g,t,i),T=s.anticlockwise?E-n:n-E,r=Dvt(T)/(2*Math.PI);this.stopEaseValue(),this.easeValueDuration===0||Math.abs(this.value-r)<.1?this.value=r:this.easeValueTo(r)}}},Fvt=function(){var e=this.sizerChildren.knob;e.on("pointerdown",EB,this).on("pointermove",EB,this).setInteractive()};const bB=Phaser.Math.Angle.Between,Ivt=Phaser.Math.Angle.Wrap;var Bvt=function(e,t,i){if(!(!this.enable||this.panPointer)){var s=this.sizerChildren.knob;bx(s,t,i)&&sN.call(this,e)}},Gvt=function(e,t,i){if(this.enable&&e.isDown){var s=this.sizerChildren.knob;switch(this.panState){case aR:bx(s,t,i)&&sN.call(this,e);break;case oN:bx(s,t,i)?Nvt.call(this):aN.call(this);break}}},kvt=function(e,t,i){!this.enable||this.panPointer!==e||aN.call(this)},sN=function(e){this.panPointer=e,this.panState=oN},aN=function(){this.panPointer=void 0,this.panState=aR},Nvt=function(){var e=this.panPointer.prevPosition,t=this.panPointer.position,i=this.sizerChildren.knob,s=bB(i.x,i.y,e.x,e.y),g=bB(i.x,i.y,t.x,t.y),E=i.anticlockwise?s-g:g-s,n=Ivt(E)/(Math.PI*2);this.stopEaseValue(),this.value+=n};const aR=0,oN=1;var Uvt=function(){var e=this.sizerChildren.knob;e.on("pointerdown",Bvt,this).on("pointermove",Gvt,this).on("pointerup",kvt,this).setInteractive(),this.panPointer=void 0,this.panState=aR},Vvt=function(e,t){return this.textFormatCallback=e,this.textFormatCallbackScope=t,this},lN=function(e){e===void 0&&(e=this.value);var t;return this.textFormatCallbackScope?t=this.textFormatCallback(e):t=this.textFormatCallback.call(this.textFormatCallbackScope,e),t},zvt=function(e){var t=this.sizerChildren.text;return t&&this.textFormatCallback&&(t.setText(lN.call(this,e)),t.layout&&t.layout()),this};const Wvt={setTextFormatCallback:Vvt,getFormatText:lN,updateText:zvt},wa=Phaser.Utils.Objects.GetValue,Yvt=Phaser.Math.Snap.To;class oR extends Oh(oa){constructor(t,i){i===void 0&&(i={}),super(t,i),this.type="rexKnob",this.bootProgressBase(i);var s=wa(i,"background",void 0),g=wa(i,"text",void 0);s&&this.addBackground(s),g&&(i.textColor=void 0,i.textStrokeColor=void 0,this.setTextFormatCallback(wa(i,"textFormatCallback",void 0),wa(i,"textFormatCallbackScope",void 0)),i.textFormatCallback=void 0,i.textFormatCallbackScope=void 0);var E=new rT(t,i);E.setDepth(wa(i,"knobDepth",0)),E._value=-1,t.add.existing(E),this.add(E,"knob"),g&&(this.add(g,"text","center",0,!1),t.children.moveBelow(E,g)),this.addChildrenMap("background",s),this.addChildrenMap("knob",E),this.addChildrenMap("text",g),this.setEnable(wa(i,"enable",void 0)),this.setGap(wa(i,"gap",void 0)),this.setValue(wa(i,"value",0),wa(i,"min",void 0),wa(i,"max",void 0));var n=wa(i,"input",0);switch(typeof n=="string"&&(n=Xvt[n]),n){case 0:Uvt.call(this);break;case 1:Fvt.call(this);break}}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}setGap(t){return this.gap=t,this}get value(){return this.sizerChildren.knob.value}set value(t){this.gap!==void 0&&(t=Yvt(t,this.gap));var i=this.value;this.sizerChildren.knob.value=t;var s=this.value;i!==s&&(this.updateText(),this.eventEmitter.emit("valuechange",s,i,this.eventEmitter))}}const Xvt={pan:0,drag:0,click:1,none:-1};Object.assign(oR.prototype,Wvt);It.register("knob",function(e){var t=new oR(this.scene,e);return this.scene.add.existing(t),t});Dt(window,"RexPlugins.UI.Knob",oR);const Hvt={arc:ic,circle:sa,curve:Eht,ellipse:bht,line:Ph,lines:gn,rectangle:Hht,roundRectangle:xx,triangle:Kht},PB=Phaser.Utils.Objects.GetValue,$vt=Phaser.Utils.Objects.IsPlainObject,Kvt=function(){for(var e=this.getShapes(),t=0,i=e.length;t<i;t++)e[t].lineStyle().fillStyle()},Jvt={createShape(e,t){var i=Hvt[e],s=new i;return t&&s.setName(t),s},buildShapes(e){var t=PB(e,"create",void 0);if($vt(t)){var i=t;for(var s in i){var g=i[s];switch(typeof g){case"number":for(var E=0;E<g;E++)this.addShape(this.createShape(s));break;case"string":this.addShape(this.createShape(s,g));break;default:for(var n=g,E=0,T=n.length;E<T;E++)this.addShape(this.createShape(s,n[E]));break}}}else if(Array.isArray(t))for(var i=t,E=0,T=i.length;E<T;E++){var r=i[E];this.addShape(this.createShape(r.type,r.name))}else typeof t=="function"&&t.call(this);this.setUpdateShapesCallback(PB(e,"update"))},setUpdateShapesCallback(e){return e===void 0&&(e=Kvt),this.dirty=this.dirty||this.updateCallback!==e,this.updateCallback=e,this},updateShapes(){this.updateCallback.call(this)}},wB=Phaser.GameObjects.Components.TransformMatrix,Zvt=Phaser.Math.TransformXY;var jvt=function(e,t,i,s,g){s===void 0&&(s=e.scene.cameras.main),g===void 0?g={}:g===!0&&(g=Qvt);var E=s.scrollX,n=s.scrollY,T=t+E*e.scrollFactorX-E,r=i+n*e.scrollFactorY-n;return e.parentContainer?(Sy===void 0&&(Sy=new wB,MB=new wB),e.getWorldTransformMatrix(Sy,MB),Sy.applyInverse(T,r,g)):Zvt(T,r,e.x,e.y,e.rotation,e.scaleX,e.scaleY,g),g.x+=e.displayOriginX,g.y+=e.displayOriginY,g},Sy,MB,Qvt={};const ap=Phaser.Utils.Objects.GetValue,qvt=Phaser.Utils.Objects.IsPlainObject;class xT extends pl{constructor(t,i,s,g,E,n){qvt(i)&&(n=i,i=ap(n,"x",0),s=ap(n,"y",0),g=ap(n,"width",2),E=ap(n,"height",2)),super(t,i,s,g,E),this.type=ap(n,"type","rexCustomShapes"),this.buildShapes(n)}get centerX(){return this.width/2}get centerY(){return this.height/2}worldToLocalXY(t,i,s,g){return typeof s=="boolean"&&(g=s,s=void 0),jvt(this,t,i,s,g)}}Object.assign(xT.prototype,Jvt);It.register("customShapes",function(e,t,i,s,g){var E=new xT(this.scene,e,t,i,s,g);return this.scene.add.existing(E),E});Dt(window,"RexPlugins.UI.CustomShapes",xT);const op=Phaser.Utils.Objects.GetValue,_vt=Phaser.Utils.Objects.IsPlainObject;class Mo extends Oh(xT){constructor(t,i,s,g,E,n){_vt(i)&&(n=i,i=op(n,"x",0),s=op(n,"y",0),g=op(n,"width",2),E=op(n,"height",2)),n===void 0&&(n={}),n.type||(n.type="rexCustomProgress"),super(t,i,s,g,E,n),this.bootProgressBase(n),this.setValue(op(n,"value",0))}get centerX(){return this.width/2}get centerY(){return this.height/2}get radius(){return Math.min(this.centerX,this.centerY)}}It.register("customProgress",function(e,t,i,s,g){var E=new Mo(this.scene,e,t,i,s,g);return this.scene.add.existing(E),E});Dt(window,"RexPlugins.UI.CustomProgress",Mo);var tpt=function(e){return this.easeValueTask||(this.easeValueTask=new cl(this,{eventEmitter:null})),e!==void 0&&(this.duration=e,this.easeValueTask.stop()),this.easeValueTask.isRunning?this:(this.easeValueTask.restart({key:"value",from:0,to:1,duration:this.duration,ease:this.ease,repeat:-1,delay:this.delay,repeatDelay:this.repeatDelay}),this.setDirty(),this)},ept=function(){return this.easeValueTask?(this.easeValueTask.stop(),this.setDirty(),this):this},ipt=function(){return this.easeValueTask?(this.easeValueTask.pause(),this.setDirty(),this):this},rpt=function(){return this.easeValueTask?(this.easeValueTask.pause(),this.setDirty(),this):this};const npt={start:tpt,stop:ept,pause:ipt,resume:rpt},Ma=Phaser.Utils.Objects.GetValue;class hN extends pl{constructor(t,i){var s=Ma(i,"x",0),g=Ma(i,"y",0),E=Ma(i,"width",64),n=Ma(i,"height",64);super(t,s,g,E,n),this.resetFromConfig(i,!0),this.buildShapes(i),Ma(i,"start",!0)&&this.start()}resetFromConfig(t,i){i===void 0&&(i=!1);var s;return s=i?1e3:this.duration,this.setDuration(Ma(t,"duration",s)),s=i?"Linear":this.ease,this.setEase(Ma(t,"ease",s)),s=i?0:this.delay,this.setDelay(Ma(t,"delay",s)),s=i?0:this.repeatDelay,this.setRepeatDelay(Ma(t,"repeatDelay",s)),s=i?16777215:this.color,this.setColor(Ma(t,"color",s)),s=i?0:this.value,this.setValue(Ma(t,"value",s)),this}buildShapes(){}get centerX(){return this.width/2}get centerY(){return this.height/2}get radius(){return Math.min(this.centerX,this.centerY)}get color(){return this._color}set color(t){this.isColorChanged=this.isColorChanged||this._color!==t,this.dirty=this.dirty||this.isColorChanged,this._color=t,this.setShapesColor(t)}setColor(t){return this.color=t,this}setShapesColor(t){}get value(){return this._value}set value(t){t=Phaser.Math.Clamp(t,0,1),this.dirty=this.dirty||this._value!=t,this._value=t}setValue(t){return this.value=t,this}setDuration(t){return this.duration=t,this}setDelay(t){return this.delay=t,this}setRepeatDelay(t){return this.repeatDelay=t,this}setEase(t){return this.ease=t,this}get isRunning(){return this.tweenTask?this.tweenTask.isRunning:!1}}Object.assign(hN.prototype,npt);const sh=Phaser.Math.DegToRad,spt=Phaser.Math.Linear,apt=Phaser.Math.Easing.Expo.In,opt={right:0,down:1,left:2,up:3};var lpt=function(e,t,i,s,g,E,n,T,r,o,y){var d=Ed(t,0,s,g,E,n,T,r,o,y);e.startAt(d.x,d.y);var h=Ed(i,0,s,g,E,n,T,r,o,y);e.lineTo(h.x,h.y);var l=Ed(i,i,s,g,E,n,T,r,o,y);e.lineTo(l.x,l.y);var a=Ed(0,i,s,g,E,n,T,r,o,y);e.lineTo(a.x,a.y);var f=Ed(0,t,s,g,E,n,T,r,o,y);e.lineTo(f.x,f.y);var c=Ed(t,t,s,g,E,n,T,r,o,y);e.lineTo(c.x,c.y),e.close()},aP={},Ed=function(e,t,i,s,g,E,n,T,r,o){var y=e*i,d=t*s;return aP.x=n*y+T*d+g,aP.y=r*y+o*d+E,aP};const Ey={setDirection(e){return typeof e=="string"&&(e=opt[e]),this.direction=e,this},buildShapes(){for(var e=0;e<3;e++)this.addShape(new gn)},updateShapes(){var e,t,i,s,g,E;switch(this.direction){case 1:e=this.centerX,t=this.centerY-this.radius;var n=sh(315);i=Math.cos(n),s=Math.sin(n);var T=sh(45);g=Math.cos(T),E=Math.sin(T);break;case 3:e=this.centerX,t=this.centerY+this.radius;var n=sh(135);i=Math.cos(n),s=Math.sin(n);var T=sh(225);g=Math.cos(T),E=Math.sin(T);break;case 2:e=this.centerX+this.radius,t=this.centerY;var n=sh(225);i=Math.cos(n),s=Math.sin(n);var T=sh(315);g=Math.cos(T),E=Math.sin(T);break;default:e=this.centerX-this.radius,t=this.centerY;var n=sh(45);i=Math.cos(n),s=Math.sin(n);var T=sh(135);g=Math.cos(T),E=Math.sin(T);break}for(var r=this.radius/7,o=this.getShapes(),y=0,d=o.length;y<d;y++){var h=o[y],l=(this.value+(d-y)*.1)%1;l=apt(Gi(l));var a=spt(.25,1,l);h.fillStyle(this.color,a);var f=y*3+1,c=f+2;lpt(h,f,c,r,r,e,t,i,s,g,E)}}},hpt=Phaser.Math.Linear,upt={buildShapes(){for(var e=0;e<4;e++)this.addShape(new Ph);this.prevValue=void 0},updateShapes(){var e=this.centerX,t=this.centerY,i=this.radius,s=e-i,g=t+i,E=i*2,n=this.getShapes(),T=n.length,r=i*2/T,o=r*.7;if(this.prevValue===void 0||this.prevValue>this.value)for(var y=0;y<T;y++){var d=n[y],h=this.prevValue===void 0?Math.random():d.getData("to");d.setData("from",h).setData("to",Math.random())}this.prevValue=this.value;for(var y=0;y<T;y++){var d=n[y],h=d.getData("from"),l=d.getData("to"),a=hpt(h,l,this.value),f=a*E,c=s+r*(y+.5);d.lineStyle(o,this.color,1).setP0(c,g).setP1(c,g-f)}}},fpt=Phaser.Math.Linear,dpt={buildShapes(){for(var e=0;e<3;e++)this.addShape(new sa)},updateShapes(){for(var e=this.centerX,t=this.centerY,i=this.radius,s=i*.1,g=Math.ceil(s*.25),E=1-Gi(this.value),n=fpt(.3,.9,E)*i,T=this.getShapes(),r=0,o=T.length;r<o;r++){var y=T[r],E=(this.value+r/o)%1,d=Math.PI*2*E;y.lineStyle(g,this.color).setRadius(s).setCenterPosition(e+Math.cos(d)*n,t+Math.sin(d)*n)}}},cpt=Phaser.Math.Linear,vpt=Phaser.Math.Easing.Expo.In,ppt={buildShapes(){for(var e=5,t=0;t<e;t++){var i=new Ph;this.addShape(i);var s=Gi(t/(e-1))/2;i.setData("offset",s)}},updateShapes(){for(var e=this.centerX,t=this.centerY,i=this.radius,s=e-i,g=i*2,E=this.getShapes(),n=E.length,T=i*2/n,r=T*.7,o=0;o<n;o++){var y=E[o],d=(this.value+y.getData("offset"))%1;d=vpt(Gi(d));var h=cpt(.4,1,d)*g,l=s+T*(o+.5);y.lineStyle(r,this.color,1).setP0(l,t-h/2).setP1(l,t+h/2)}}},gpt={buildShapes(){this.addShape(new gn().setName("border")),this.addShape(new gn().setName("fill"))},updateShapes(){var e=this.centerX,t=this.centerY,i=this.radius,s=i*.7,g=e-s,E=t-s,n=s*2;if(this.getShape("border").lineStyle(2,this.color,1).startAt(g,E).lineTo(n,0,!0).lineTo(0,n,!0).lineTo(-n,0,!0).lineTo(0,-n,!0).close(),this.value<.5){var T=(.5-this.value)*2,r=n*T;this.getShape("fill").fillStyle(this.color,1).startAt(g,E).lineTo(n,0,!0).lineTo(0,r,!0).lineTo(-n,0,!0).lineTo(0,-r,!0).close()}else{var T=(this.value-.5)*2,o=180*T;this.getShape("border").rotateAround(e,t,o),this.getShape("fill").fillStyle().lineStyle()}}},RB=Phaser.Math.RadToDeg,AB=Phaser.Math.Angle.WrapDegrees,mpt=Phaser.Math.Angle.Wrap,ypt=Phaser.Math.Angle.ShortestBetween,xpt=Phaser.Math.DegToRad,OB=Phaser.Math.DegToRad(270),Tpt={buildShapes(){this.addShape(new sa().setName("border")),this.addShape(new Ph().setName("minuteHand")),this.addShape(new Ph().setName("hourHand")),this.minuteHandAngle=0,this.hourHandAngle=0},updateShapes(){var e=this.centerX,t=this.centerY,i=this.radius,s=Math.ceil(i/25),g=i-s/2,E=i*.8,n=i*.5,T=this.minuteHandAngle;this.minuteHandAngle=Math.PI*2*this.value;var r=AB(RB(T)),o=AB(RB(this.minuteHandAngle)),y=ypt(r,o);this.hourHandAngle=mpt(this.hourHandAngle+xpt(y)/12),this.getShape("border").lineStyle(s,this.color).setRadius(g).setCenterPosition(e,t);var d=this.minuteHandAngle+OB;this.getShape("minuteHand").lineStyle(s,this.color).setP0(e,t).setP1(e+Math.cos(d)*E,t+Math.sin(d)*E);var d=this.hourHandAngle+OB;this.getShape("hourHand").lineStyle(s,this.color).setP0(e,t).setP1(e+Math.cos(d)*n,t+Math.sin(d)*n)}},LB=Phaser.Math.Linear,Cpt=Phaser.Math.Easing.Expo.In,oP=2,lP=2,Spt={buildShapes(){for(var e=oP*lP,t=0;t<e;t++){var i=new Ph;this.addShape(i)}},updateShapes(){for(var e=this.centerX,t=this.centerY,i=this.radius,s=e-i,g=t-i,E=i*2/lP,n=i*2/oP,T=this.getShapes(),r=T.length,o=0;o<r;o++){var y=o%lP,d=Math.floor(o/oP),h=s+E*(y+.5),l=g+n*(d+.5),a=T[o],f=(this.value+(r-o)*.1)%1;f=Cpt(Gi(f));var c=(r-o)/r,u=LB(.7,1,f)*n,v=LB(.7,1,f)*E;a.lineStyle(v,this.color,c).setP0(h-u/2,l).setP1(h+u/2,l)}}},DB=Phaser.Math.Linear,Ept={buildShapes(){for(var e=3,t=0;t<e;t++){var i=new sa;this.addShape(i);var s=Gi(t/(e-1))/2;i.setData("offset",s)}},updateShapes(){for(var e=this.centerX,t=this.centerY,i=this.radius,s=e-i,g=this.getShapes(),E=g.length,n=i*2/E,T=n/2,r=0;r<E;r++){var o=g[r],y=(this.value+o.getData("offset"))%1;y=Gi(y);var d=DB(.25,1,y),h=DB(.5,1,y)*T;o.fillStyle(this.color,d).setRadius(h).setCenterPosition(s+n*(r+.5),t)}}},FB=Phaser.Math.Linear,bpt=Phaser.Math.Easing.Expo.In,Ppt={buildShapes(){for(var e=0;e<3;e++){var t=new Ph;this.addShape(t)}},updateShapes(){for(var e=this.centerX,t=this.centerY,i=this.radius,s=e-i,g=this.getShapes(),E=g.length,n=i*2/E,T=i*2,r=0;r<E;r++){var o=g[r],y=(this.value+(E-r)*.1)%1;y=bpt(Gi(y));var d=(r+1)/E,h=FB(.7,1,y)*T,l=FB(.7,1,y)*n,a=s+n*(r+.5);o.lineStyle(l,this.color,d).setP0(a,t-h/2).setP1(a,t+h/2)}}},wpt=Phaser.Math.Linear,hP=3,uP=3,Mpt={buildShapes(){for(var e=hP*uP,t=0;t<e;t++){var i=new sa;this.addShape(i),i.setData("offset",Math.random())}this.isInitialize=!0},updateShapes(){for(var e=this.centerX,t=this.centerY,i=this.radius,s=this.isInitialize||this.isSizeChanged,g=e-i,E=t-i,n=i*2/uP,T=i*2/hP,r=Math.min(n,T)/2*.8,o=this.getShapes(),y=0,d=o.length;y<d;y++){var h=y%uP,l=Math.floor(y/hP),a=g+n*(h+.5),f=E+T*(l+.5),c=o[y],u=(this.value+c.getData("offset"))%1;u=Gi(u),c.fillStyle(this.color,wpt(.25,1,u)),s&&c.setRadius(r).setCenterPosition(a,f)}this.isInitialize=!1}},Rpt={buildShapes(){for(var e=0;e<2;e++)this.addShape(new gn)},updateShapes(){for(var e=this.centerX,t=this.centerY,i=this.radius,s=Math.ceil(i/25),g=i-s,E=g*.6,n=g*.7,T=g*1.2,r=this.getShapes(),o=0,y=r.length;o<y;o++){var d=r[o],h=(this.value+o/y)%1,l=Gi(h),a=e,f=t-15*h,c=g*h,u=E*h,v=n*h,p=T*h;d.lineStyle(s,this.color,l).startAt(a,f).cubicBezierTo(a,f-u,a-c,f-u,a-c,f).cubicBezierTo(a-c,f+u,a,f+v,a,f+p).cubicBezierTo(a,f+v,a+c,f+u,a+c,f).cubicBezierTo(a+c,f-u,a,f-u,a,f).close()}}},Apt=Phaser.Math.Linear,Opt={buildShapes(){for(var e=0;e<12;e++)this.addShape(new Ph);this.isInitialize=!0},updateShapes(){for(var e=this.centerX,t=this.centerY,i=this.isInitialize||this.isSizeChanged,s=this.radius,g=s/2,E=Math.ceil(s/20),n=this.getShapes(),T=0,r=n.length;T<r;T++){var o=n[T],y=T/r,d=Math.PI*2*y,h=Apt(.25,1,(1-this.value+y)%1);o.lineStyle(E,this.color,h),i&&o.setP0(e+Math.cos(d)*g,t+Math.sin(d)*g).setP1(e+Math.cos(d)*s,t+Math.sin(d)*s)}this.isInitialize=!1}},Lpt={buildShapes(){this.addShape(new sa().setName("track")),this.addShape(new sa().setName("thumb"))},updateShapes(){var e=this.centerX,t=this.centerY,i=this.radius,s=i*.9,g=Math.ceil(s/25),E=i*.1,n=Math.PI*2*this.value;this.getShape("track").lineStyle(g,this.color,.7).setRadius(s).setCenterPosition(e,t),this.getShape("thumb").fillStyle(this.color).setRadius(E).setCenterPosition(e+Math.cos(n)*s,t+Math.sin(n)*s)}},Dpt={buildShapes(){this.addShape(new sa().setName("track")),this.addShape(new ic().setName("arc"))},updateShapes(){var e=this.centerX,t=this.centerY,i=this.radius,s=Math.ceil(i/25),g=i-s/2;this.getShape("track").lineStyle(s,this.color,.5).setRadius(g).setCenterPosition(e,t);var E=this.value*360,n=E+60;this.getShape("arc").lineStyle(s,this.color,1).setRadius(g).setCenterPosition(e,t).setAngle(E,n)}},Fpt=Phaser.Math.Linear,Ipt={buildShapes(){for(var e=0;e<4;e++){var t=new ic().setPie();this.addShape(t),t.setData("speed",Fpt(180,360,Math.random()))}this.prevValue=void 0},updateShapes(){var e=this.centerX,t=this.centerY,i=this.radius,s;this.prevValue!==void 0&&(s=this.value-this.prevValue,this.prevValue>this.value&&(s+=1));for(var g=this.getShapes(),E=0,n=g.length;E<n;E++){var T=g[E],r=(E+1)/n;if(this.prevValue===void 0){var o=E/n*360,y=o+90;T.fillStyle(this.color,r).setRadius(i).setCenterPosition(e,t).setAngle(o,y).setData("angle",o)}else{var o=T.getData("angle")+T.getData("speed")*s;o=o%360;var y=o+90;T.fillStyle(this.color,r).setRadius(i).setCenterPosition(e,t).setAngle(o,y).setData("angle",o)}}this.prevValue=this.value}},Bpt={buildShapes(){this.addShape(new sa)},updateShapes(){var e=this.centerX,t=this.centerY,i=this.radius,s=i*this.value,g=Math.ceil(i/25),E=Gi(this.value);this.getShapes()[0].lineStyle(g,this.color,E).setRadius(s).setCenterPosition(e,t)}},Gpt=Phaser.Math.Linear,kpt=Phaser.Math.Easing.Expo.In,Npt={buildShapes(){this.addShape(new sa().setName("center")),this.addShape(new gn().setName("arc0")),this.addShape(new gn().setName("arc1")),this.isInitialize=!0},updateShapes(){for(var e=this.centerX,t=this.centerY,i=this.radius,s=this.isInitialize||this.isSizeChanged,g=i*2/6,E=e-i+g,n=t+i-g,T=this.getShapes(),r=0,o=T.length;r<o;r++){var y=T[r],d=(this.value+(o-r)*.1)%1;d=kpt(Gi(d));var h=Gpt(.25,1,d);switch(y.name){case"center":y.fillStyle(this.color,h),s&&y.setRadius(g).setCenterPosition(E,n);break;case"arc0":if(y.fillStyle(this.color,h),s){var l=g*2,a=g*3;y.startAt(E,n-l).lineTo(E,n-a).setIterations(8).arc(E,n,a,270,360).lineTo(E+l,n).setIterations(6).arc(E,n,l,360,270,!0).close()}break;case"arc1":if(y.fillStyle(this.color,h),s){var l=g*4,a=g*5;y.startAt(E,n-l).lineTo(E,n-a).setIterations(8).arc(E,n,a,270,360).lineTo(E+l,n).setIterations(6).arc(E,n,l,360,270,!0).close()}break}}this.isInitialize=!1}},Upt={buildShapes(){for(var e=0;e<2;e++)this.addShape(new sa)},updateShapes(){for(var e=this.centerX,t=this.centerY,i=this.radius,s=Math.ceil(i/25),g=i-s,E=this.getShapes(),n=0,T=E.length;n<T;n++){var r=E[n],o=(this.value+n/T)%1,y=Gi(o);r.lineStyle(s,this.color,y).setRadius(o*g).setCenterPosition(e,t)}}},Vpt={buildShapes(){this.addShape(new ic().setName("arc"))},updateShapes(){var e=this.centerX,t=this.centerY,i=this.radius,s=Math.ceil(i/10),g=i-s,E=this.value*720,n=Gi(this.value)*180,T=E-n;this.getShape("arc").lineStyle(s,this.color,1).setRadius(g).setCenterPosition(e,t).setAngle(T+315,E+315)}};Phaser.Utils.Objects.GetValue;const Rw={leftArrow:Ey,rightArrow:Ey,upArrow:Ey,downArrow:Ey,audio:upt,ball:dpt,bars:ppt,box:gpt,clock:Tpt,cube:Spt,dots:Ept,facebook:Ppt,grid:Mpt,hearts:Rpt,ios:Opt,oribit:Lpt,oval:Dpt,pie:Ipt,puff:Bpt,radio:Npt,rings:Upt,spinner:Vpt},Aw=[];for(var zpt in Rw)Aw.push(zpt);const IB=Phaser.Utils.Array.GetRandom,Wpt={setAnimationMode(e,t){Rw.hasOwnProperty(e)||(e=IB(Aw)),this.animationMode=e;var i=Rw[e];switch(t&&this.resetFromConfig(t),e){case"leftArrow":i.setDirection.call(this,"left");break;case"rightArrow":i.setDirection.call(this,"right");break;case"upArrow":i.setDirection.call(this,"up");break;case"downArrow":i.setDirection.call(this,"down");break}return this.clear(),i.buildShapes.call(this),this.updateShapes=i.updateShapes.bind(this),this.stop().start(),this},setRandomAnimationMode(e){var t=IB(Aw);return this.setAnimationMode(t,e),this}},Ypt=Phaser.Utils.Objects.GetValue;class lR extends hN{constructor(t,i){super(t,i),this.type="rexSpinnerAIO",this.setAnimationMode(Ypt(i,"animationMode"))}}Object.assign(lR.prototype,Wpt);It.register("aioSpinner",function(e){var t=new lR(this.scene,e);return this.scene.add.existing(t),t});Dt(window,"RexPlugins.UI.AIOSpinner",lR);const Xpt={setTransitionStartCallback(e,t){return this.onStartCallback=e,this.onStartCallbackScope=t,this},setTransitionProgressCallback(e,t){return this.onProgressCallback=e,this.onProgressCallbackScope=t,this},setTransitionCompleteCallback(e,t){return this.onCompleteCallback=e,this.onCompleteCallbackScope=t,this}};var uN=function(){for(var e=this.scaleMode-1,t=0,i=this.images.length;t<i;t++){var s=this.images[t],g=nR(s,this,e,!0),E=g.width/s.width;this.setChildLocalScale(s,E),s.biasScale=E}},ox=function(e){this.scaleMode===0?this.resize(e.width,e.height):uN.call(this)};const BB=Phaser.Utils.Objects.IsPlainObject,fP=Phaser.Utils.Objects.GetValue,Hpt=Phaser.Utils.Array.GetRandom;var $pt={out:0,in:1},uo=function(e,t,...i){for(var s=0,g=i.length;s<g;s++){var E=i[s];if(E&&E.hasOwnProperty(e))return E[e]}return t};const Kpt={setTransitionDirection(e){return typeof e=="string"&&(e=$pt[e]),this.dir=e,this},setDuration(e){return this.duration=e,this},setEaseFunction(e){return this.easeFunction=e,this},setNextTexture(e,t){return this.nextImage.setTexture(e,t),ox.call(this,this.nextImage),this},transit(e,t,i){if(this.isRunning&&(this.ignoreCompleteEvent=!0,this.stop(),this.ignoreCompleteEvent=!1),i!==void 0&&(e={key:e,frame:t,mode:i}),this.currentTransitionMode=void 0,BB(e)){var s=e;e=fP(s,"key",void 0),t=fP(s,"frame",void 0),i=fP(s,"mode"),Array.isArray(i)&&(i=Hpt(i));var g;this.transitionModes&&this.transitionModes.hasOwnProperty(i)&&(g=this.transitionModes[i],this.currentTransitionMode=i),this.setDuration(uo("duration",this.duration,s,g)).setEaseFunction(uo("ease",this.easeFunction,s,g)).setTransitionDirection(uo("dir",this.dir,s,g));var E=uo("mask",void 0,s,g);E&&this.setMaskGameObject(E),this.setMaskEnable(E===!0);var n=uo("onStart",void 0,s,g),T=uo("onProgress",void 0,s,g),r=uo("onComplete",void 0,s,g);(n!==void 0||T!==void 0||r!==void 0)&&this.setTransitionStartCallback(n,uo("onStartScope",void 0,s,g)).setTransitionProgressCallback(T,uo("onProgressScope",void 0,s,g)).setTransitionCompleteCallback(r,uo("onCompleteScope",void 0,s,g))}return this.setNextTexture(e,t),this.start(),this},addTransitionMode(e,t){return this.transitionModes===void 0&&(this.transitionModes={}),BB(e)&&(t=e,e=t.name,delete t.name),this.transitionModes[e]=t,this},start(){return this.easeValueTask===void 0&&(this.easeValueTask=new cl(this,{eventEmitter:null})),this.easeValueTask.restart({key:"t",from:0,to:1,duration:this.duration,ease:this.easeFunction}),this},pause(){return this.easeValueTask&&this.easeValueTask.pause(),this},resume(){return this.easeValueTask&&this.easeValueTask.resume(),this},stop(){return this.easeValueTask&&this.easeValueTask.stop(),this.setT(1),this}},Jpt=Phaser.GameObjects.Graphics.prototype.setPosition;var Zpt=function(e,t){var i=this.parent;return e===void 0&&(e=i.x),t===void 0&&(t=i.y),Jpt.call(this,e,t),this};const GB=Phaser.Geom.Rectangle,kB=Phaser.Geom.Circle;var jpt=function(e,t,i,s,g,E,n){switch(e){case 1:s=s.left;var T=-t*(g-.5),r=-i*(E-.5),o=Math.min(t,i)/2+s;(n===void 0||!(n instanceof kB))&&(n=new kB),n.setTo(T,r,o);break;default:var y=-(t*g)-s.left,d=-(i*E)-s.top,h=t+s.left+s.right,l=i+s.top+s.bottom;(n===void 0||!(n instanceof GB))&&(n=new GB),n.setTo(y,d,h,l);break}return n},fN=function(e,t,i,s,g){switch(this.geom=jpt(this.shapeType,e,t,i,s,g,this.geom),this.clear().fillStyle(16777215),this.shapeType){case 1:this.fillCircleShape(this.geom);break;default:this.fillRectShape(this.geom);break}},Qpt=function(e,t,i){var s=this.parent;e===void 0&&(e=s.width),t===void 0&&(t=s.height),i===void 0?i=this.padding:typeof i=="number"&&(i=GetBoundsConfig(i));var g=this.width!==e||this.height!==t,E=this.padding!==i&&!qp(this.padding,i);return!g&&!E?this:(this.width=e,this.height=t,E&&Ga(i,this.padding),this.originX=s.originX,this.originY=s.originY,fN.call(this,e,t,i,s.originX,s.originY),this)},qpt=function(e,t){t===void 0&&(t=e);var i=this.parent;return e===void 0&&(e=i.originX),t===void 0&&(t=i.originY),this.originX===e&&this.originY===t?this:(this.originX=e,this.originY=t,fN.call(this,this.width,this.height,this.padding,e,t),this)},_pt=function(e,t){return e-=this.x,t-=this.y,this.geom.contains(e,t)},tgt={setPosition:Zpt,resize:Qpt,setOrigin:qpt,contains:_pt};const egt=Phaser.GameObjects.Graphics;class Px extends egt{constructor(t,i,s){i===void 0&&(i=0),typeof i=="string"&&(i=igt[i]),super(t.scene),this.parent=t,this.shapeType=i,this.padding=qu(s),this.setPosition().resize().setVisible(!1)}destroy(){return this.parent=void 0,super.destroy(),this}}const igt={rectangle:0,circle:1};Object.assign(Px.prototype,tgt);const rgt={setMaskGameObject(e){if(!e)return this.removeMaskGameObject(),this;if(this.maskGameObject){if(e===!0&&this.maskGameObject instanceof Px)return this;if(this.maskGameObject===e)return this;this.removeMaskGameObject()}return e===!0&&(e=new Px(this)),e.resize(this.width,this.height).setOrigin(this.originX,this.originY).setPosition(0,0).setScale(1).setVisible(!1),this.addLocal(e),this.maskGameObject=e,e._maskObject||(e._maskObject=e.createGeometryMask(),e.once("destroy",function(){e._maskObject.destroy(),e._maskObject=void 0})),this.childrenMask=e._maskObject,this},removeMaskGameObject(e){return e===void 0&&(e=!0),this.backImage.clearMask(),this.frontImage.clearMask(),this.childrenMask=void 0,this.remove(this.maskGameObject,e),this.maskGameObject=void 0,this},setImageMaskEnable(e,t,i){return t===void 0&&(t=!0),i===void 0&&(i=!1),t?(this.childrenMask||this.setMaskGameObject(!0),e.setMask(this.childrenMask),this.childrenMask.setInvertAlpha(i)):e.clearMask(),this},setCurrentImageMaskEnable(e,t){return this.setImageMaskEnable(this.currentImage,e,t),this},setNextImageMaskEnable(e,t){return this.setImageMaskEnable(this.nextImage,e,t),this},setCellImagesMaskEnable(e,t){for(var i=this.getCellImages(),s=0,g=i.length;s<g;s++)this.setImageMaskEnable(i[s],e,t);return this},setMaskEnable(e,t){return this.setImageMaskEnable(this.backImage,e,t),this.setImageMaskEnable(this.frontImage,e,t),this.setCellImagesMaskEnable(e,t),this}};var ngt=function(e,t){typeof e=="object"&&(e=e.name),t===void 0&&(t=",");var i;return e==="__BASE"?i=function(s,g){return`${s}${t}${g}`}:i=function(s,g){return`${e}_${s}${t}${g}`},i},sgt=function(e,t,i,s,g,E){i==null&&(i="__BASE"),E||(E=ngt(i,E));for(var n=e.sys.textures.get(t),T=typeof i=="object"?i:n.get(i),r=T.width,o=T.height,y,d,h,l=r/s,a=o/g,f=T.cutX,c=T.cutY,u=0,v=0,p=0;p<g;p++){u=0;for(var m=0;m<s;m++)h=E(m,p),y=u+f,d=v+c,n.add(h,0,y,d,l,a),u+=l;v+=a}return{getFrameNameCallback:E,cellWidth:l,cellHeight:a,columns:s,rows:g}};const sl=Phaser.Utils.Objects.GetValue,agt=Phaser.GameObjects.Image,ogt=Phaser.Utils.Objects.IsPlainObject,lgt=Phaser.Math.RotateAround;var hgt=function(e,t,i,s){ogt(t)&&(s=t,t=sl(s,"columns",1),i=sl(s,"rows",1));var g=sl(s,"createImageCallback");if(!g){var E=sl(s,"ImageClass",agt);g=function(k,U,H){return new E(k,0,0,U,H)}}for(var n=sl(s,"originX",.5),T=sl(s,"originY",.5),r=sl(s,"add",!0),o=sl(s,"align",r),y=sl(s,"objectPool",void 0),d=e.scene,h=e.texture,l=e.frame,a=sgt(d,h,l,t,i),f=a.getFrameNameCallback,c=e.scaleX,u=e.scaleY,v=e.rotation,p=e.getTopLeft(),m=p.x,x=p.y,C=[],P=a.cellWidth*c,w=a.cellHeight*u,M=0;M<i;M++)for(var R=0;R<t;R++){var A,L=f(R,M);if(y&&y.length>0?A=y.pop().setTexture(h,L):A=g(d,h,L),r&&d.add.existing(A),o){var F=m+P*R,G=x+w*M,I=F+n*P,B=G+T*w;A.setOrigin(n,T).setPosition(I,B).setScale(c,u).setRotation(v),lgt(A,m,x,v)}C.push(A)}return C};const ugt={gridCutImage(e,t,i,s){s===void 0&&(s={}),s.objectPool=this.imagesPool;for(var g=hgt(e,t,i,s),E,n=0,T=g.length;n<T;n++)E=g[n],E.setVisible(!0),this.add(E);return this.cellImages=g,this.setChildLocalVisible(e,!1),g},gridCutCurrentImage(e,t,i){return this.gridCutImage(this.currentImage,e,t,i)},gridCutNextImage(e,t,i){return this.gridCutImage(this.nextImage,e,t,i)},getCellImages(){return this.cellImages},freeCellImages(){if(this.cellImages.length===0)return this;for(var e=this.cellImages[0].texture,t=this.cellImages,i,s,g=0,E=t.length;g<E;g++)i=t[g],this.setChildLocalAlpha(i,1).setChildLocalScale(i,1).setChildLocalVisible(i,!1),i.clearMask(),s=i.frame.name,i.setTexture(),e.remove(s);return this.imagesPool.push(...t),t.length=0,this}},dN={setFlipX(e){return this.flipX=e,this},setFlipY(e){return this.flipY=e,this},toggleFlipX(){return this.flipX=!this.flipX,this},toggleFlipY(){return this.flipY=!this.flipY,this},setFlip(e,t){return this.flipX=e,this.flipY=t,this},resetFlip(){return this.flipX=!1,this.flipY=!1,this}};var cN={};Object.assign(cN,Xpt,Kpt,rgt,ugt,dN);var fgt=function(e,t,i,s){},dgt=function(e,t,i,s){e.setChildLocalAlpha(t,1-s).setChildLocalAlpha(i,s)},cgt=function(e,t,i,s){e.setChildLocalAlpha(t,1)};const NB=Phaser.Utils.Objects.IsPlainObject,Nr=Phaser.Utils.Objects.GetValue,vgt=Phaser.Math.Clamp;class TT extends Ns{constructor(t,i,s,g,E,n){NB(i)?(n=i,i=Nr(n,"x",0),s=Nr(n,"y",0),g=Nr(n,"key",void 0),E=Nr(n,"frame",void 0)):NB(E)&&(n=E,E=void 0);var T=Nr(n,"back",void 0),r=Nr(n,"front",void 0);T||(T=t.add.image(i,s,g,E)),r||(r=t.add.image(i,s,g,E));var o=Nr(n,"width",void 0),y=Nr(n,"height",void 0),d=o!==void 0&&y!==void 0?1:0;o===void 0&&(o=r.width),y===void 0&&(y=r.height),super(t,i,s,o,y),this.type="rexTransitionImage",this._flipX=!1,this._flipY=!1,d=Nr(n,"scaleMode",d),typeof d=="string"&&(d=pgt[d]),this.scaleMode=d,T.setVisible(!1),this.addMultiple([T,r]),this.backImage=T,this.frontImage=r,this.images=[this.backImage,this.frontImage],this.maskGameObject=void 0,this.cellImages=[],this.imagesPool=[],this.transitionModes=void 0,this.currentTransitionMode=void 0;var h=Nr(n,"onStart",void 0),l=Nr(n,"onProgress",void 0),a=Nr(n,"onComplete",void 0),f=Nr(n,"dir",0);h===void 0&&l===void 0&&a===void 0&&(h=fgt,l=dgt,a=cgt,f=0),this.setTransitionStartCallback(h,Nr(n,"onStartScope",void 0)).setTransitionProgressCallback(l,Nr(n,"onProgressScope",void 0)).setTransitionCompleteCallback(a,Nr(n,"onCompleteScope",void 0)).setTransitionDirection(f).setDuration(Nr(n,"duration",1e3)).setEaseFunction(Nr(n,"ease","Linear"));var c=Nr(n,"mask",void 0);c&&this.setMaskGameObject(c),this.setMaskEnable(!1),this.ignoreCompleteEvent=!1,ox.call(this,this.frontImage)}destroy(t){!this.scene||this.ignoreDestroy||(this.childrenMask&&(this.childrenMask.destroy(),this.childrenMask=void 0),this.backImage=void 0,this.frontImage=void 0,this.images.length=0,this.maskGameObject=void 0,this.cellImages.length=0,this.imagesPool.length=0,this.transitionModes=void 0,super.destroy(t),this.onStartCallback=void 0,this.onStartCallbackScope=void 0,this.onProgressCallback=void 0,this.onProgressCallbackScope=void 0,this.onCompleteCallback=void 0,this.onCompleteCallbackScope=void 0,this.easeValueTask=void 0)}get currentImage(){return this.dir===0?this.frontImage:this.backImage}get nextImage(){return this.dir===0?this.backImage:this.frontImage}get texture(){return this.nextImage.texture}get frame(){return this.nextImage.frame}get tint(){return this._tint}set tint(t){this._tint!==t&&(this._tint=t,this.backImage.setTint(t),this.frontImage.setTint(t))}setTint(t){return this.tint=t,this}get flipX(){return this._flipX}set flipX(t){this._flipX!==t&&(this._flipX=t,this.backImage.setFlipX(t),this.frontImage.setFlipX(t))}setFlipX(t){return this.flipX=t,this}toggleFlipX(){return this.flipX=!this.flipX,this}get flipY(){return this._flipY}set flipY(t){this._flipY!==t&&(this._flipY=t,this.backImage.setFlipY(t),this.frontImage.setFlipY(t))}setFlipY(t){return this.flipY=t,this}toggleFlipY(){return this.flipY=!this.flipY,this}setFlip(t,i){return this.flipX=t,this.flipY=i,this}get t(){return this._t}set t(t){if(t=vgt(t,0,1),this._t!==t){this._t=t;var i=this.currentImage,s=this.nextImage;if(t===0&&(this.setChildVisible(this.frontImage,!0).setChildVisible(this.backImage,!0),dP.call(this,this.onStartCallback,this.onStartCallbackScope,this,i,s,t)),dP.call(this,this.onProgressCallback,this.onProgressCallbackScope,this,i,s,t),t===1){dP.call(this,this.onCompleteCallback,this.onCompleteCallbackScope,this,i,s,t);var g=s.texture.key,E=s.frame.name;this.frontImage.setTexture(g,E),this.backImage.setTexture(g,E),ox.call(this,s),this.setChildVisible(this.frontImage,!0).setChildVisible(this.backImage,!1).setMaskEnable(!1).freeCellImages()}t===1&&!this.ignoreCompleteEvent&&this.emit("complete")}}setT(t){return this.t=t,this}get isRunning(){return this.easeValueTask?this.easeValueTask.isRunning:!1}setOrigin(t,i){return super.setOrigin(t,i),this.backImage.setOrigin(t,i),this.frontImage.setOrigin(t,i),this.maskGameObject&&this.maskGameObject.setOrigin(t,i),this}setTexture(t,i){return this.frontImage.setTexture(t,i),this.backImage.setTexture(t,i).setVisible(!1),ox.call(this,this.frontImage),this}setSize(t,i){return super.setSize(t,i),this.scaleMode&&uN.call(this),this}}var dP=function(e,t,i,s,g,E){if(e){if(this.scaleMode){var n;s.biasScale>0&&(n=this.getChildLocalScaleX(s),n=n/s.biasScale,this.setChildLocalScale(s,n)),g.biasScale&&(n=this.getChildLocalScaleX(g),n=n/g.biasScale,this.setChildLocalScale(g,n))}if(t?e.call(t,i,s,g,E):e(i,s,g,E),this.scaleMode){var n;s.biasScale>0&&(n=this.getChildLocalScaleX(s),n=n*s.biasScale,this.setChildLocalScale(s,n)),g.biasScale&&(n=this.getChildLocalScaleX(g),n=n*g.biasScale,this.setChildLocalScale(g,n))}}};Object.assign(TT.prototype,cN);const pgt={fit:1,FIT:1,envelop:2,ENVELOP:2};It.register("transitionImage",function(e,t,i,s,g){var E=new TT(this.scene,e,t,i,s,g);return this.scene.add.existing(E),E});Dt(window,"RexPlugins.UI.TransitionImage",TT);const ggt="slideLeft",mgt="slideRight",ygt="slideUp",xgt="slideDown",Tgt="slideAwayLeft",Cgt="slideAwayRight",Sgt="slideAwayUp",Egt="slideAwayDown",bgt="pushLeft",Pgt="pushRight",wgt="pushUp",Mgt="pushDown",Rgt="zoomOut",Agt="zoomIn",Ogt="zoomInOut",Lgt="fade",Dgt="crossFade",Fgt="wipeLeft",Igt="wipeRight",Bgt="wipeUp",Ggt="wipeDown",kgt="irisOut",Ngt="irisIn",Ugt="irisInOut",Vgt="pieOut",zgt="pieIn",Wgt="pieInOut",Ygt="blinds",Xgt="squares",Hgt="diamonds",$gt="circles",Kgt="curtain",Jgt="pixellate",Zgt="dissolve",jgt="revealLeft",Qgt="revealRight",qgt="revealUp",_gt="revealDown";var tmt=function(e){e.addTransitionMode(Cgt,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,i,s,g){},onProgress:function(t,i,s,g){var E=i.width*g;t.setChildLocalPosition(i,E,0)},onComplete:function(t,i,s,g){t.setChildLocalPosition(i,0,0)}}).addTransitionMode(Tgt,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,i,s,g){},onProgress:function(t,i,s,g){var E=i.width*-g;t.setChildLocalPosition(i,E,0)},onComplete:function(t,i,s,g){t.setChildLocalPosition(i,0,0)}}).addTransitionMode(Egt,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,i,s,g){},onProgress:function(t,i,s,g){var E=i.height*g;t.setChildLocalPosition(i,0,E)},onComplete:function(t,i,s,g){t.setChildLocalPosition(i,0,0)}}).addTransitionMode(Sgt,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,i,s,g){},onProgress:function(t,i,s,g){var E=i.height*-g;t.setChildLocalPosition(i,0,E)},onComplete:function(t,i,s,g){t.setChildLocalPosition(i,0,0)}})},emt=function(e){e.addTransitionMode(mgt,{ease:"Linear",dir:"in",mask:!0,onStart:function(t,i,s,g){},onProgress:function(t,i,s,g){var E=s.width*(g-1);t.setChildLocalPosition(s,E,0)},onComplete:function(t,i,s,g){t.setChildLocalPosition(s,0,0)}}).addTransitionMode(ggt,{ease:"Linear",dir:"in",mask:!0,onStart:function(t,i,s,g){},onProgress:function(t,i,s,g){var E=s.width*(1-g);t.setChildLocalPosition(s,E,0)},onComplete:function(t,i,s,g){t.setChildLocalPosition(s,0,0)}}).addTransitionMode(xgt,{ease:"Linear",dir:"in",mask:!0,onStart:function(t,i,s,g){},onProgress:function(t,i,s,g){var E=s.height*(g-1);t.setChildLocalPosition(s,0,E)},onComplete:function(t,i,s,g){t.setChildLocalPosition(s,0,0)}}).addTransitionMode(ygt,{ease:"Linear",dir:"in",mask:!0,onStart:function(t,i,s,g){},onProgress:function(t,i,s,g){var E=s.height*(1-g);t.setChildLocalPosition(s,0,E)},onComplete:function(t,i,s,g){t.setChildLocalPosition(s,0,0)}})},imt=function(e){e.addTransitionMode(Pgt,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,i,s,g){},onProgress:function(t,i,s,g){var E=i.width*g;t.setChildLocalPosition(i,E,0);var E=s.width*(g-1);t.setChildLocalPosition(s,E,0)},onComplete:function(t,i,s,g){t.setChildLocalPosition(i,0,0),t.setChildLocalPosition(s,0,0)}}).addTransitionMode(bgt,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,i,s,g){},onProgress:function(t,i,s,g){var E=i.width*-g;t.setChildLocalPosition(i,E,0);var E=s.width*(1-g);t.setChildLocalPosition(s,E,0)},onComplete:function(t,i,s,g){t.setChildLocalPosition(i,0,0),t.setChildLocalPosition(s,0,0)}}).addTransitionMode(Mgt,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,i,s,g){},onProgress:function(t,i,s,g){var E=i.height*g;t.setChildLocalPosition(i,0,E);var E=s.height*(g-1);t.setChildLocalPosition(s,0,E)},onComplete:function(t,i,s,g){t.setChildLocalPosition(i,0,0),t.setChildLocalPosition(s,0,0)}}).addTransitionMode(wgt,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,i,s,g){},onProgress:function(t,i,s,g){var E=i.height*-g;t.setChildLocalPosition(i,0,E);var E=s.height*(1-g);t.setChildLocalPosition(s,0,E)},onComplete:function(t,i,s,g){t.setChildLocalPosition(i,0,0),t.setChildLocalPosition(s,0,0)}})},rmt=function(e){e.addTransitionMode(Rgt,{ease:"Linear",dir:"out",mask:!1,onStart:function(t,i,s,g){},onProgress:function(t,i,s,g){var E=1-g;t.setChildLocalScale(i,E,E)},onComplete:function(t,i,s,g){t.setChildLocalScale(i,1,1)}}).addTransitionMode(Agt,{ease:"Linear",dir:"in",mask:!1,onStart:function(t,i,s,g){},onProgress:function(t,i,s,g){var E=g;t.setChildLocalScale(s,E,E)},onComplete:function(t,i,s,g){t.setChildLocalScale(s,1,1)}}).addTransitionMode(Ogt,{ease:"Linear",dir:"out",mask:!1,onStart:function(t,i,s,g){s.tint=0},onProgress:function(t,i,s,g){var E;g<.5?(E=1-Gi(g),t.setChildLocalScale(i,E,E)):(i.visible&&t.setChildVisible(i,!1),E=1-Gi(g),t.setChildLocalScale(s,E,E))},onComplete:function(t,i,s,g){t.setChildLocalScale(i,1,1),t.setChildVisible(i,!0),i.tint=16777215,t.setChildLocalScale(s,1,1),t.setChildVisible(s,!0),s.tint=16777215}})},nmt=function(e){e.addTransitionMode(Lgt,{ease:"Linear",dir:"out",mask:!1,onStart:function(t,i,s,g){s.tint=0},onProgress:function(t,i,s,g){var E;g<.5?(g=Gi(g),E=Math.floor(255*(1-g)),i.tint=(E<<16)+(E<<8)+E):(i.visible&&t.setChildVisible(i,!1),g=Gi(g),E=Math.floor(255*(1-g)),s.tint=(E<<16)+(E<<8)+E)},onComplete:function(t,i,s,g){t.setChildVisible(i,!0),i.tint=16777215,t.setChildVisible(s,!0),s.tint=16777215}}).addTransitionMode(Dgt,{ease:"Linear",dir:"out",mask:!1,onStart:function(t,i,s,g){},onProgress:function(t,i,s,g){t.setChildLocalAlpha(i,1-g),t.setChildLocalAlpha(s,g)},onComplete:function(t,i,s,g){t.setChildLocalAlpha(i,1)}})},smt=function(e){var t=new Mo(e,{type:"Graphics",create:[{name:"rect",type:"rectangle"}],update:function(){var i=this.getShape("rect").fillStyle(16777215),s=1-this.value;switch(this.wipeMode){case"right":i.setSize(this.width*s,this.height).setTopLeftPosition(this.width-i.width,0);break;case"left":i.setSize(this.width*s,this.height).setTopLeftPosition(0,0);break;case"down":i.setSize(this.width,this.height*s).setTopLeftPosition(0,this.height-i.height);break;case"up":i.setSize(this.width,this.height*s).setTopLeftPosition(0,0);break}}});return t},amt=function(e){var t=smt(e.scene);e.once("destroy",function(){t.destroy()}).addTransitionMode(Igt,{ease:"Linear",dir:"out",mask:t,onStart:function(i,s,g,E){i.setCurrentImageMaskEnable(!0),i.maskGameObject.wipeMode="right"},onProgress:function(i,s,g,E){i.maskGameObject.setValue(E)},onComplete:function(i,s,g,E){i.removeMaskGameObject(!1)}}).addTransitionMode(Fgt,{ease:"Linear",dir:"out",mask:t,onStart:function(i,s,g,E){i.setCurrentImageMaskEnable(!0),i.maskGameObject.wipeMode="left"},onProgress:function(i,s,g,E){i.maskGameObject.setValue(E)},onComplete:function(i,s,g,E){i.removeMaskGameObject(!1)}}).addTransitionMode(Ggt,{ease:"Linear",dir:"out",mask:t,onStart:function(i,s,g,E){i.setCurrentImageMaskEnable(!0),i.maskGameObject.wipeMode="down"},onProgress:function(i,s,g,E){i.maskGameObject.setValue(E)},onComplete:function(i,s,g,E){i.removeMaskGameObject(!1)}}).addTransitionMode(Bgt,{ease:"Linear",dir:"out",mask:t,onStart:function(i,s,g,E){i.setCurrentImageMaskEnable(!0),i.maskGameObject.wipeMode="up"},onProgress:function(i,s,g,E){i.maskGameObject.setValue(E)},onComplete:function(i,s,g,E){i.removeMaskGameObject(!1)}})},omt=function(e){var t=new Mo(e,{type:"Graphics",create:[{name:"rect",type:"rectangle"}],update:function(){this.getShape("rect").fillStyle(16777215).setSize(this.width*this.value,this.height*this.value).setCenterPosition(this.centerX,this.centerY)}});return t},lmt=function(e){var t=omt(e.scene);e.once("destroy",function(){t.destroy()}).addTransitionMode(kgt,{ease:"Linear",dir:"out",mask:t,onStart:function(i,s,g,E){i.setCurrentImageMaskEnable(!0,!0)},onProgress:function(i,s,g,E){i.maskGameObject.setValue(E)},onComplete:function(i,s,g,E){i.removeMaskGameObject(!1)}}).addTransitionMode(Ngt,{ease:"Linear",dir:"in",mask:t,onStart:function(i,s,g,E){i.setNextImageMaskEnable(!0,!0)},onProgress:function(i,s,g,E){i.maskGameObject.setValue(1-E)},onComplete:function(i,s,g,E){i.removeMaskGameObject(!1)}}).addTransitionMode(Ugt,{ease:"Linear",dir:"out",mask:t,onStart:function(i,s,g,E){g.tint=0,i.setCurrentImageMaskEnable(!0),i.setNextImageMaskEnable(!0)},onProgress:function(i,s,g,E){var n;E<.5?(E=Gi(E),n=Math.floor(255*(1-E)),i.maskGameObject.setValue(1-E),s.tint=(n<<16)+(n<<8)+n):(s.visible&&i.setChildVisible(s,!1),E=Gi(E),n=Math.floor(255*(1-E)),i.maskGameObject.setValue(1-E),g.tint=(n<<16)+(n<<8)+n)},onComplete:function(i,s,g,E){i.removeMaskGameObject(!1),i.setChildVisible(s,!0),s.tint=16777215,i.setChildVisible(g,!0),g.tint=16777215}})},hmt=function(e){var t=new Mo(e,{type:"Graphics",create:[{name:"pie",type:"arc"}],update:function(){var i=Math.max(this.width,this.height)*2,s=90*this.value;this.getShape("pie").fillStyle(16777215).setCenterPosition(this.centerX,0).setRadius(i).setAngle(90-s,90+s).setPie()}});return t},umt=function(e){var t=hmt(e.scene);e.once("destroy",function(){t.destroy()}).addTransitionMode(Vgt,{ease:"Linear",dir:"out",mask:t,onStart:function(i,s,g,E){i.setCurrentImageMaskEnable(!0,!0)},onProgress:function(i,s,g,E){i.maskGameObject.setValue(E)},onComplete:function(i,s,g,E){i.removeMaskGameObject(!1)}}).addTransitionMode(zgt,{ease:"Linear",dir:"in",mask:t,onStart:function(i,s,g,E){i.setNextImageMaskEnable(!0,!0)},onProgress:function(i,s,g,E){i.maskGameObject.setValue(1-E)},onComplete:function(i,s,g,E){i.removeMaskGameObject(!1)}}).addTransitionMode(Wgt,{ease:"Linear",dir:"out",mask:t,onStart:function(i,s,g,E){g.tint=0,i.setCurrentImageMaskEnable(!0),i.setNextImageMaskEnable(!0)},onProgress:function(i,s,g,E){var n;E<.5?(E=Gi(E),n=Math.floor(255*(1-E)),i.maskGameObject.setValue(1-E),s.tint=(n<<16)+(n<<8)+n):(s.visible&&i.setChildVisible(s,!1),E=Gi(E),n=Math.floor(255*(1-E)),i.maskGameObject.setValue(1-E),g.tint=(n<<16)+(n<<8)+n)},onComplete:function(i,s,g,E){i.removeMaskGameObject(!1),i.setChildVisible(s,!0),s.tint=16777215,i.setChildVisible(g,!0),g.tint=16777215}})},fmt=function(e,t){var i=new Mo(e,{type:"Graphics",create:{rectangle:t},update:function(){for(var s=this.getShapes(),g=this.width/t,E=0;E<t;E++)s[E].fillStyle(16777215).setSize(g*this.value,this.height).setTopLeftPosition(g*E,0)}});return i},dmt=function(e){var t=fmt(e.scene,10);e.once("destroy",function(){t.destroy()}).addTransitionMode(Ygt,{ease:"Linear",dir:"out",mask:t,onStart:function(i,s,g,E){i.setCurrentImageMaskEnable(!0,!0)},onProgress:function(i,s,g,E){i.maskGameObject.setValue(E)},onComplete:function(i,s,g,E){i.removeMaskGameObject(!1)}})},cmt=function(e,t,i){var s=new Mo(e,{type:"Graphics",create:{rectangle:t*i},update:function(){for(var g=this.getShapes(),E=this.width/t,n=this.height/i,T=0;T<i;T++)for(var r=0;r<t;r++)g[r*i+T].fillStyle(16777215).setSize(E*this.value,n*this.value).setCenterPosition(E*(r+.5),n*(T+.5))}});return s},vmt=function(e){var t=cmt(e.scene,Math.ceil(e.width/40),Math.ceil(e.height/40));e.once("destroy",function(){t.destroy()}).addTransitionMode(Xgt,{ease:"Linear",dir:"out",mask:t,onStart:function(i,s,g,E){i.setCurrentImageMaskEnable(!0,!0)},onProgress:function(i,s,g,E){i.maskGameObject.setValue(E)},onComplete:function(i,s,g,E){i.removeMaskGameObject(!1)}})},pmt=function(e,t,i){var s=new Mo(e,{type:"Graphics",create:{lines:t*i},update:function(){for(var g=this.getShapes(),E=this.width/(t-1),n=this.height/i,T=n*2,r=E*this.value,o=n*this.value,y=0;y<i;y++)for(var d=0;d<t;d++){var h=d*E,l=y*T+d%2*n;g[d*i+y].fillStyle(16777215).start(h+r,l).lineTo(h,l+o).lineTo(h-r,l).lineTo(h,l-o).lineTo(h+r,l).close()}}});return s},gmt=function(e){var t=pmt(e.scene,Math.ceil(e.width/60),Math.ceil(e.height/60));e.once("destroy",function(){t.destroy()}).addTransitionMode(Hgt,{ease:"Linear",dir:"out",mask:t,onStart:function(i,s,g,E){i.setCurrentImageMaskEnable(!0,!0)},onProgress:function(i,s,g,E){i.maskGameObject.setValue(E)},onComplete:function(i,s,g,E){i.removeMaskGameObject(!1)}})},mmt=function(e,t,i){var s=new Mo(e,{type:"Graphics",create:{circle:t*i},update:function(){for(var g=this.getShapes(),E=this.width/(t-1),n=this.height/i,T=n*2,r=Math.max(E,n)*this.value,o=0;o<i;o++)for(var y=0;y<t;y++){var d=y*E,h=o*T+y%2*n;g[y*i+o].fillStyle(16777215).setCenterPosition(d,h).setRadius(r)}}});return s},ymt=function(e){var t=mmt(e.scene,Math.ceil(e.width/60),Math.ceil(e.height/60));e.once("destroy",function(){t.destroy()}).addTransitionMode($gt,{ease:"Linear",dir:"out",mask:t,onStart:function(i,s,g,E){i.setCurrentImageMaskEnable(!0,!0)},onProgress:function(i,s,g,E){i.maskGameObject.setValue(E)},onComplete:function(i,s,g,E){i.removeMaskGameObject(!1)}})},xmt=function(e,t){var i=new Mo(e,{type:"Graphics",create:{lines:t},update:function(){for(var s=this.getShapes(),g=this.width/t,E=g/2,n=0;n<t;n++){var T=g*n,r=this.height*this.value,o=T+E;s[n].fillStyle(16777215).start(T,0).horizontalLineTo(r).arc(o,r,E,180,0,!0).horizontalLineTo(-r).lineTo(T,0).close()}}});return i},Tmt=function(e){var t=xmt(e.scene,10);e.once("destroy",function(){t.destroy()}).addTransitionMode(Kgt,{ease:"Linear",dir:"out",mask:t,onStart:function(i,s,g,E){g.tint=0,i.setCurrentImageMaskEnable(!0,!0),i.setNextImageMaskEnable(!0,!0)},onProgress:function(i,s,g,E){var n;E<.5?(E=Gi(E),n=Math.floor(255*(1-E)),i.maskGameObject.setValue(E),s.tint=(n<<16)+(n<<8)+n):(s.visible&&i.setChildVisible(s,!1),E=Gi(E),n=Math.floor(255*(1-E)),i.maskGameObject.setValue(E),g.tint=(n<<16)+(n<<8)+n)},onComplete:function(i,s,g,E){i.removeMaskGameObject(!1),i.setChildVisible(s,!0),s.tint=16777215,i.setChildVisible(g,!0),g.tint=16777215}})},Cmt=function(e){e.addTransitionMode(Jgt,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,i,s,g){t.setChildVisible(s,!1),i.effect=i.preFX.addPixelate(0),s.effect=s.preFX.addPixelate(0)},onProgress:function(t,i,s,g){if(g<.5){g=Gi(g);var E=Math.min(i.width,i.height)/5;i.effect.amount=Math.ceil(E*g)}else{i.visible&&t.setChildVisible(i,!1),s.visible||t.setChildVisible(s,!0),g=Gi(g);var E=Math.min(s.width,s.height)/5;s.effect.amount=Math.ceil(E*g)}},onComplete:function(t,i,s,g){i.preFX.remove(i.effect),delete i.effect,t.setChildVisible(i,!0),s.preFX.remove(s.effect),delete s.effect}})};const Smt=`vec3 mod289(vec3 x) { return x - floor(x * (1.0 / 289.0)) * 289.0; }
vec4 mod289(vec4 x) { return x - floor(x * (1.0 / 289.0)) * 289.0; }
vec4 permute(vec4 x) { return mod289(((x*34.0)+1.0)*x); }
vec4 taylorInvSqrt(vec4 r) { return 1.79284291400159 - 0.85373472095314 * r; }
vec3 fade(vec3 t) { return t*t*t*(t*(t*6.0-15.0)+10.0); }
float Perlin(vec3 P) {
    vec3 i0 = mod289(floor(P)), i1 = mod289(i0 + vec3(1.0));
    vec3 f0 = fract(P), f1 = f0 - vec3(1.0), f = fade(f0);
    vec4 ix = vec4(i0.x, i1.x, i0.x, i1.x), iy = vec4(i0.yy, i1.yy);
    vec4 iz0 = i0.zzzz, iz1 = i1.zzzz;
    vec4 ixy = permute(permute(ix) + iy), ixy0 = permute(ixy + iz0), ixy1 = permute(ixy + iz1);
    vec4 gx0 = ixy0 * (1.0 / 7.0), gy0 = fract(floor(gx0) * (1.0 / 7.0)) - 0.5;
    vec4 gx1 = ixy1 * (1.0 / 7.0), gy1 = fract(floor(gx1) * (1.0 / 7.0)) - 0.5;
    gx0 = fract(gx0); gx1 = fract(gx1);
    vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0), sz0 = step(gz0, vec4(0.0));
    vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1), sz1 = step(gz1, vec4(0.0));
    gx0 -= sz0 * (step(0.0, gx0) - 0.5); gy0 -= sz0 * (step(0.0, gy0) - 0.5);
    gx1 -= sz1 * (step(0.0, gx1) - 0.5); gy1 -= sz1 * (step(0.0, gy1) - 0.5);
    vec3 g0 = vec3(gx0.x,gy0.x,gz0.x), g1 = vec3(gx0.y,gy0.y,gz0.y),
        g2 = vec3(gx0.z,gy0.z,gz0.z), g3 = vec3(gx0.w,gy0.w,gz0.w),
        g4 = vec3(gx1.x,gy1.x,gz1.x), g5 = vec3(gx1.y,gy1.y,gz1.y),
        g6 = vec3(gx1.z,gy1.z,gz1.z), g7 = vec3(gx1.w,gy1.w,gz1.w);
    vec4 norm0 = taylorInvSqrt(vec4(dot(g0,g0), dot(g2,g2), dot(g1,g1), dot(g3,g3)));
    vec4 norm1 = taylorInvSqrt(vec4(dot(g4,g4), dot(g6,g6), dot(g5,g5), dot(g7,g7)));
    g0 *= norm0.x; g2 *= norm0.y; g1 *= norm0.z; g3 *= norm0.w;
    g4 *= norm1.x; g6 *= norm1.y; g5 *= norm1.z; g7 *= norm1.w;
    vec4 nz = mix(vec4(dot(g0, vec3(f0.x, f0.y, f0.z)), dot(g1, vec3(f1.x, f0.y, f0.z)),
        dot(g2, vec3(f0.x, f1.y, f0.z)), dot(g3, vec3(f1.x, f1.y, f0.z))),
        vec4(dot(g4, vec3(f0.x, f0.y, f1.z)), dot(g5, vec3(f1.x, f0.y, f1.z)),
            dot(g6, vec3(f0.x, f1.y, f1.z)), dot(g7, vec3(f1.x, f1.y, f1.z))), f.z);
    return 2.2 * mix(mix(nz.x,nz.z,f.y), mix(nz.y,nz.w,f.y), f.x);
}
float Perlin(vec2 P) { return Perlin(vec3(P, 0.0)); }
`,Emt=`#ifdef GL_FRAGMENT_PRECISION_HIGH
#define highmedp highp
#else
#define highmedp mediump
#endif
precision highmedp float;
// Scene buffer
uniform sampler2D uMainSampler;
uniform sampler2D uMainSampler2;

uniform int resizeMode;
uniform float progress;
uniform float fromRatio;
uniform float toRatio;
varying vec2 outFragCoord;
// Effect parameters
uniform float noiseX;
uniform float noiseY;
uniform float noiseZ;
uniform float fromEdgeStart;
uniform float fromEdgeWidth;
uniform float toEdgeStart;
uniform float toEdgeWidth;

${Smt}

vec4 getFromColor (vec2 uv) {
  return texture2D(uMainSampler, uv);
}

vec4 getToColor (vec2 uv) {
  if (resizeMode == 2) {
    //  cover
    return texture2D(uMainSampler2, 0.5 + (vec2(uv.x, 1.0 - uv.y) - 0.5) * vec2(min(fromRatio / toRatio, 1.0), min((toRatio / fromRatio), 1.0)));
  } else if (resizeMode == 1) {
    //  contain
    return texture2D(uMainSampler2, 0.5 + (vec2(uv.x, 1.0 - uv.y) - 0.5) * vec2(max(fromRatio / toRatio, 1.0), max((toRatio / fromRatio), 1.0)));
  } else {
    //  stretch
    return texture2D(uMainSampler2, vec2(uv.x, 1.0 - uv.y));
  }
}

vec4 transition (vec2 uv) {    
  vec4 colorFront = getFromColor(uv);
  vec4 colorTo = getToColor(uv);

  float noise = (Perlin(vec3(uv.x * noiseX, uv.y * noiseY, noiseZ)) + 1.0) / 2.0
    * (1.0 - (fromEdgeStart + fromEdgeWidth + toEdgeStart + toEdgeWidth))
    + (fromEdgeStart + fromEdgeWidth + toEdgeStart + toEdgeWidth) * 0.5;
  vec4 colorResult = colorFront * smoothstep(progress - (fromEdgeStart + fromEdgeWidth), progress - fromEdgeStart, noise)
    + colorTo * smoothstep((1.0 - progress) - (toEdgeStart + toEdgeWidth), (1.0 - progress) - toEdgeStart, (1.0 - noise));
  return colorResult;
}

void main () {
  vec2 uv = outFragCoord;
  gl_FragColor = transition(uv);
}
`,bmt=Phaser.Renderer.WebGL.Pipelines.PostFXPipeline,Ra=Phaser.Utils.Objects.GetValue,Pmt=Phaser.Math.Clamp;class cP extends bmt{constructor(t){super({name:"rexDissolvePostFx",game:t,renderTarget:!0,fragShader:Emt}),this._progress=0,this.toFrame=null,this.targetTexture=null,this.resizeMode=1,this.toRatio=1,this.noiseX=0,this.noiseY=0,this.noiseZ=0,this.fromEdgeStart=.01,this.fromEdgeWidth=.05,this.toEdgeStart=.01,this.toEdgeWidth=.05}resetFromJSON(t){return this.setProgress(Ra(t,"progress",0)),this.setTransitionTargetTexture(Ra(t,"toTexture","__DEFAULT"),Ra(t,"toFrame",void 0),Ra(t,"resizeMode",1)),this.setNoise(Ra(t,"noiseX",void 0),Ra(t,"noiseY",void 0),Ra(t,"noiseZ",void 0)),this.setFromEdge(Ra(t,"fromEdgeStart",.01),Ra(t,"fromEdgeWidth",.05)),this.setToEdge(Ra(t,"toEdgeStart",.01),Ra(t,"toEdgeWidth",.05)),this}onBoot(){}onPreRender(){this.set1f("progress",this.progress),this.set1i("resizeMode",this.resizeMode),this.set1f("noiseX",this.noiseX),this.set1f("noiseY",this.noiseY),this.set1f("noiseZ",this.noiseZ),this.set1f("fromEdgeStart",this.fromEdgeStart),this.set1f("fromEdgeWidth",this.fromEdgeWidth),this.set1f("toEdgeStart",this.toEdgeStart),this.set1f("toEdgeWidth",this.toEdgeWidth)}onDraw(t){this.set1f("fromRatio",t.width/t.height),this.set1f("toRatio",this.toRatio),this.set1i("uMainSampler2",1),this.bindTexture(this.targetTexture,1),this.bindAndDraw(t)}get progress(){return this._progress}set progress(t){this._progress=Pmt(t,0,1)}setProgress(t){return this.progress=t,this}setTransitionTargetTexture(t,i,s){t===void 0&&(t="__DEFAULT");var g=this.game.textures.getFrame(t,i);return g||(g=this.game.textures.getFrame("__DEFAULT")),this.toRatio=g.width/g.height,this.toFrame=g,this.targetTexture=g.glTexture,s!==void 0&&(this.resizeMode=s),this}setResizeMode(t){return typeof t=="string"&&(t=wmt[t]),this.resizeMode=t,this}setNoise(t,i,s){return t===void 0&&(t=4+Math.random()*6),i===void 0&&(i=4+Math.random()*6),s===void 0&&(s=Math.random()*10),this.noiseX=t,this.noiseY=i,this.noiseZ=s,this}setFromEdge(t,i){return this.fromEdgeStart=t,this.fromEdgeWidth=i,this}setToEdge(t,i){return this.toEdgeStart=t,this.toEdgeWidth=i,this}}var wmt={stretch:0,contain:1,cover:2},Mmt=function(e,t,i){Xu(e).renderer.pipelines.addPostPipeline(t,i)},Rmt=function(e,t,i){i===void 0&&(i={}),e.setPostPipeline(t);var s=e.postPipelines[e.postPipelines.length-1];return s.resetFromJSON(i),i.name&&(s.name=i.name),s};const Amt=Phaser.Utils.Array.SpliceOne;var Omt=function(e,t,i){for(var s,g,E,s=e.postPipelines,g=s.length-1;g>=0;g--){var E=s[g];E instanceof t&&(E.destroy(),Amt(s,g))}e.hasPostPipeline=e.postPipelines.length>0},Lmt=function(e){Mmt(e.scene.game,"rexDissolvePostFx",cP),e.addTransitionMode(Zgt,{ease:"Linear",dir:"out",mask:!1,onStart:function(t,i,s,g){i.effect=Rmt(i,cP)},onProgress:function(t,i,s,g){i.effect.setProgress(g)},onComplete:function(t,i,s,g){Omt(i,cP),delete i.effect}})};const by=.1,Dmt=0,Fmt=0,Imt=1,Bmt=1,UB=0,VB=1;var Gmt=function(e){e.addTransitionMode(Qgt,{ease:"Linear",dir:"in",mask:!1,onStart:function(t,i,s,g){s.effect=s.preFX.addReveal(by,Dmt,UB)},onProgress:function(t,i,s,g){s.effect.progress=g},onComplete:function(t,i,s,g){s.preFX.remove(s.effect),delete s.effect}}).addTransitionMode(jgt,{ease:"Linear",dir:"in",mask:!1,onStart:function(t,i,s,g){s.effect=s.preFX.addReveal(by,Imt,UB)},onProgress:function(t,i,s,g){s.effect.progress=g},onComplete:function(t,i,s,g){s.preFX.remove(s.effect),delete s.effect}}).addTransitionMode(_gt,{ease:"Linear",dir:"in",mask:!1,onStart:function(t,i,s,g){s.effect=s.preFX.addReveal(by,Fmt,VB)},onProgress:function(t,i,s,g){s.effect.progress=g},onComplete:function(t,i,s,g){s.preFX.remove(s.effect),delete s.effect}}).addTransitionMode(qgt,{ease:"Linear",dir:"in",mask:!1,onStart:function(t,i,s,g){s.effect=s.preFX.addReveal(by,Bmt,VB)},onProgress:function(t,i,s,g){s.effect.progress=g},onComplete:function(t,i,s,g){s.preFX.remove(s.effect),delete s.effect}})};const zB=[tmt,emt,imt,rmt,nmt,lmt,umt,amt,dmt,vmt,gmt,ymt,Tmt,Cmt,Lmt,Gmt];class vN extends TT{constructor(t,i,s,g,E,n){super(t,i,s,g,E,n);for(var T=0,r=zB.length;T<r;T++)zB[T](this)}}It.register("transitionImagePack",function(e,t,i,s,g){var E=new vN(this.scene,e,t,i,s,g);return this.scene.add.existing(E),E});Dt(window,"RexPlugins.UI.TransitionImagePack",vN);var kmt=function(){var e=this.image;if(!this.scaleUp&&e.width<=this.width&&e.height<=this.height)return this;var t=nR(e,this,"FIT",!0);return e.setDisplaySize(t.width,t.height),this.resetChildScaleState(e),this},pN={scaleImage:kmt};Object.assign(pN,dN);var Nmt=function(){var e=this.background;return e?(e.setOrigin(this.originX,this.originY),e.setPosition(this.x,this.y),Mn(e,this.displayWidth,this.displayHeight),this.resetChildScaleState(e),this):this};const WB=Phaser.Utils.Objects.IsPlainObject,al=Phaser.Utils.Objects.GetValue;class CT extends Ns{constructor(t,i,s,g,E,n){WB(i)?(n=i,i=al(n,"x",0),s=al(n,"y",0),g=al(n,"key",void 0),E=al(n,"frame",void 0)):WB(E)&&(n=E,E=void 0);var T=al(n,"image");T?T.setPosition(i,s).setOrigin(.5):(T=t.add.image(i,s,g,E),g===void 0&&T.setVisible(!1)),super(t,i,s,1,1),this.type="rexImageBox";var r=al(n,"background");r&&this.add(r),this.background=r,this.add(T),this.image=T,this.scaleUp=al(n,"scaleUp",!1);var o=al(n,"width",T.width),y=al(n,"height",T.height);this.resize(o,y)}get texture(){return this.image.texture}get frame(){return this.image.frame}get flipX(){return this._flipX}set flipX(t){this._flipX!==t&&(this._flipX=t,this.image.setFlipX(t))}get flipY(){return this._flipY}set flipY(t){this._flipY!==t&&(this._flipY=t,this.image.setFlipY(t))}resize(t,i){return super.resize(t,i),Nmt.call(this),this.scaleImage(),this}setTexture(t,i){var s=this.image;return s.setTexture(t,i),t!==null?(this.setChildVisible(s,!0),this.scaleImage()):this.setChildVisible(s,!1),this}}Object.assign(CT.prototype,pN);It.register("imageBox",function(e,t,i,s,g){var E=new CT(this.scene,e,t,i,s,g);return this.scene.add.existing(E),E});Dt(window,"RexPlugins.UI.ImageBox",CT);It.register("fullWindowRectangle",function(e,t){var i=new QM(this.scene,e,t);return this.scene.add.existing(i),i});Dt(window,"RexPlugins.UI.FullWindowRectangle",QM);It.register("fullWindowZone",function(){var e=new CM(this.scene);return this.scene.add.existing(e),e});Dt(window,"RexPlugins.UI.FullWindowZone",CM);It.register("cover",function(e){var t=new qM(this.scene,e);return this.scene.add.existing(t),t});Dt(window,"RexPlugins.UI.Cover",qM);var hR=function(e,t){if(this.scene.sys.scale.autoRound&&(e=Math.floor(e),t=Math.floor(t)),this.width===e&&this.height===t)return this;var i=this.node.style;return i.width=`${e}px`,i.height=`${t}px`,this.updateSize(),this};const YB={id:["id",void 0],text:["value",void 0],maxLength:["maxLength",void 0],minLength:["minLength",void 0],placeholder:["placeholder",void 0],tooltip:["title",void 0],readOnly:["readOnly",!1],spellCheck:["spellcheck",!1],autoComplete:["autocomplete","off"],autoCapitalize:["autocapitalize","off"]},XB={align:["textAlign",void 0],paddingLeft:["padding-left",void 0],paddingRight:["padding-right",void 0],paddingTop:["padding-top",void 0],paddingBottom:["padding-bottom",void 0],fontFamily:["fontFamily",void 0],fontSize:["font-size",void 0],color:["color","#ffffff"],backgroundColor:["backgroundColor","transparent"],border:["border",0],borderColor:["borderColor","transparent"],borderRadius:["border-radius",void 0],outline:["outline","none"],direction:["direction",void 0]},Umt={input:"textchange",click:"click",dblclick:"dblclick",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup",touchstart:"pointerdown",touchmove:"pointermove",touchend:"pointerup",keydown:"keydown",keyup:"keyup",keypress:"keypress",compositionstart:"compositionStart",compositionend:"compositionEnd",compositionupdate:"compositionUpdate",focus:"focus",blur:"blur",select:"select"},HB=Phaser.Utils.Objects.GetValue;var gN=function(e,t,i,s){var g=HB(s,"preventDefault",!1),E=HB(s,"preTest");for(let n in i)t.addEventListener(n,function(T){(!E||E(e,n))&&e.emit(i[n],e,T),g&&T.preventDefault()})};const Vmt=Phaser.GameObjects.DOMElement,$B=Phaser.Utils.Objects.IsPlainObject,fo=Phaser.Utils.Objects.GetValue;class ST extends Vmt{constructor(t,i,s,g,E,n){$B(i)?(n=i,i=fo(n,"x",0),s=fo(n,"y",0),g=fo(n,"width",0),E=fo(n,"height",0)):$B(g)&&(n=g,g=fo(n,"width",0),E=fo(n,"height",0)),n===void 0&&(n={});var T,r=fo(n,"inputType",void 0);r===void 0&&(r=fo(n,"type","text")),r==="textarea"?(T=document.createElement("textarea"),T.style.resize="none"):(T=document.createElement("input"),T.type=r),mx(YB,n,T);var o=fo(n,"style",void 0);o=mx(XB,n,o);var y=T.style;for(var d in n)if(!(d in YB||d in XB)){if(d in y)o[d]=n[d];else if(d in T){if(d==="type")continue;T[d]=n[d]}}o["box-sizing"]="border-box",super(t,i,s,T,o),this.type="rexInputText",this.resize(g,E),gN(this,T,Umt),yk(T),fo(n,"selectAll",!1)&&this.selectAll(),this._isFocused=!1,this.on("focus",function(){this._isFocused=!0},this).on("blur",function(){this._isFocused=!1},this)}get inputType(){return this.node.tagName.toLowerCase()==="textarea"?"textarea":this.node.type}get text(){return this.node.value}set text(t){this.node.value=t}setText(t){return this.text=t,this}get maxLength(){return this.node.maxLength}set maxLength(t){this.node.maxLength=t}setMaxLength(t){return this.maxLength=t,this}get minLength(){return this.node.minLength}set minLength(t){this.node.minLength=t}setMinLength(t){return this.minLength=t,this}get placeholder(){return this.node.placeholder}set placeholder(t){this.node.placeholder=t}setPlaceholder(t){return this.placeholder=t,this}selectText(t,i){return t===void 0?this.node.select():this.node.setSelectionRange(t,i),this}selectAll(){return this.selectText(),this}get selectionStart(){return this.node.selectionStart}get selectionEnd(){return this.node.selectionEnd}get selectedText(){var t=this.node;return t.value.substring(t.selectionStart,t.selectionEnd)}get cursorPosition(){return this.node.selectionStart}set cursorPosition(t){this.node.setSelectionRange(t,t)}setCursorPosition(t){return t===void 0?t=this.text.length:t<0&&(t=this.text.length+t),this.cursorPosition=t,this}get tooltip(){return this.node.title}set tooltip(t){this.node.title=t}setTooltip(t){return this.tooltip=t,this}setTextChangedCallback(t){return this.onTextChanged=t,this}get readOnly(){return this.node.readOnly}set readOnly(t){this.node.readOnly=t}setReadOnly(t){return t===void 0&&(t=!0),this.readOnly=t,this}get spellCheck(){return this.node.spellcheck}set spellCheck(t){this.node.spellcheck=t}setSpellCheck(t){return this.spellCheck=t,this}get fontColor(){return this.node.style.color}set fontColor(t){this.node.style.color=t}setFontColor(t){return this.fontColor=t,this}setStyle(t,i){return this.node.style[t]=i,this}getStyle(t){return this.node.style[t]}scrollToBottom(){return this.node.scrollTop=this.node.scrollHeight,this}setEnabled(t){return t===void 0&&(t=!0),this.node.disabled=!t,this}setBlur(){return this.node.blur(),this}setFocus(){return this.node.focus(),this}get isFocused(){return this._isFocused}}var zmt={resize:hR};Object.assign(ST.prototype,zmt);It.register("inputText",function(e){var t=new ST(this.scene,e);return this.scene.add.existing(t),t});Dt(window,"RexPlugins.UI.InputText",ST);const KB=Phaser.Utils.Objects.GetValue;var Wmt=function(e,t){var i=document.createElement("input");i.type="file";var s=KB(t,"accept",""),g=KB(t,"multiple",!1);return i.setAttribute("accept",s),g?i.setAttribute("multiple",""):i.removeAttribute("multiple"),i},mN=function(e,t){return e===void 0&&(e=0),new Promise(function(i,s){setTimeout(function(){i(t)},e)})},yN=function({game:e,fileInput:t,closeDelay:i}){return tT(Xu(e).events,"focus").then(function(){return mN(i)}).then(function(){var s={files:t.files};return Promise.resolve(s)})};const Ymt=Phaser.Utils.Objects.GetValue,Xmt=Phaser.DOM.RemoveFromDOM;var xN=function(e,t){var i=Ymt(t,"closeDelay",200),s=Wmt(e,t);return s.click(),yN({game:e,fileInput:s,closeDelay:i}).then(function(g){return Xmt(s),s.remove(),Promise.resolve(g)})},TN=function(e){return this.setOrigin(e.originX,e.originY),this.setPosition(e.x,e.y),this.resize(e.displayWidth,e.displayHeight),this},Hmt=function(e,t,i){if(i===void 0)switch(t){case"image":case"svg":i="textures";break;case"animation":i="json";break;case"tilemapTiledJSON":case"tilemapCSV":i="tilemap";break;case"glsl":i="shader";break;default:i=t;break}e=Xu(e);var s;return i==="textures"?s=e.textures:s=e.cache[i],s},CN=function(e,t,i,s,g,E){if(!(g===null||g===!1))if(ka(g))g();else{var n=Hmt(e,i,g);n.exists(s)&&n.remove(s)}var T=e.load;if(E&&T.once(`filecomplete-${i}-${s}`,function(o,y,d){E(d)}),ka(t))t();else{var r=window.URL.createObjectURL(t);T[i](s,r)}T.start()},$mt=function(e,t,i,s,g){var E=this.scene;return CN(E,e,t,i,s,g),this},Kmt=function(e,t,i,s){var g=this.scene;return new Promise(function(E,n){var T=function(r){E(r)};CN(g,e,t,i,s,T)})};const SN={loadFile:$mt,loadFilePromise:Kmt},Jmt=Phaser.GameObjects.DOMElement,JB=Phaser.Utils.Objects.IsPlainObject,co=Phaser.Utils.Objects.GetValue;class ug extends Jmt{constructor(t,i,s,g,E,n){JB(i)?(n=i,i=co(n,"x",0),s=co(n,"y",0),g=co(n,"width",0),E=co(n,"height",0)):JB(g)&&(n=g,g=co(n,"width",0),E=co(n,"height",0));var T=document.createElement("input");T.type="file";var r=T.style;r.display="none";var o=document.createElement("label");o.appendChild(T);var y=co(n,"style",void 0);super(t,i,s,o,y),this.type="rexFileChooser",this.resetFromJSON(n),this.resize(g,E);var d=this;T.onchange=function(){d.emit("change",d)},this.setCloseDelay(co(n,"closeDelay",200)),T.onclick=function(){yN({game:t,fileInput:T,closeDelay:d.closeDelay}).then(function(){d.emit("select",d)})}}resetFromJSON(t){return this.setAccept(co(t,"accept","")),this.setMultiple(co(t,"multiple",!1)),this}setAccept(t){return t===void 0&&(t=""),this.fileInput.setAttribute("accept",t),this}setMultiple(t){return t===void 0&&(t=!0),t?this.fileInput.setAttribute("multiple",""):this.fileInput.removeAttribute("multiple"),this}setCloseDelay(t){return t===void 0&&(t=200),this.closeDelay=t,this}get fileInput(){return this.node.children[0]}open(){return this.fileInput.click(),this}get files(){return this.fileInput.files}setOpenEnable(t){return t===void 0&&(t=!0),this.fileInput.disabled=!t,this}}var Zmt={resize:hR,syncTo:TN};Object.assign(ug.prototype,Zmt,SN);It.register("fileChooser",function(e){var t=new ug(this.scene,e);return this.scene.add.existing(t),t});Dt(window,"RexPlugins.UI.FileChooser",ug);const jmt={setDropEnable(e){return e===void 0&&(e=!0),this.dropEnable=e,this},toggleDropEnable(){return this.dropEnable=!this.dropEnable,this}},Qmt={addFilter(e,t){return this.filters||(this.filters={}),this.filters[e]=t,this},addFilters(e){this.filters||(this.filters={});for(var t in e)this.filters[t]=e[t];return this}};var EN={resize:hR,syncTo:TN};Object.assign(EN,jmt,Qmt,SN);const qmt={dragenter:"dragenter",dragleave:"dragleave",dragover:"dragover",drop:"drop"},_mt=Phaser.GameObjects.DOMElement,ZB=Phaser.Utils.Objects.IsPlainObject,ol=Phaser.Utils.Objects.GetValue;class uR extends _mt{constructor(t,i,s,g,E,n){ZB(i)?(n=i,i=ol(n,"x",0),s=ol(n,"y",0),g=ol(n,"width",0),E=ol(n,"height",0)):ZB(g)&&(n=g,g=ol(n,"width",0),E=ol(n,"height",0)),n===void 0&&(n={});var T=document.createElement("div"),r=ol(n,"style",void 0);super(t,i,s,T,r),this.type="rexFileDropZone",this.resize(g,E),this._files=[],this.setDropEnable(ol(n,"dropEnable",!0));var o=ol(n,"filters");o&&this.addFilters(o),gN(this,T,qmt,{preventDefault:!0,preTest(y){return y.dropEnable}}),this.on("drop",function(y,d){this._files=d.dataTransfer.files;var h=this._files;if(h&&this.filters)for(var l in this.filters){for(var a=this.filters[l],f=[],c=0,u=h.length;c<u;c++){var v=h[c];a(v,h)&&f.push(v)}f.length>0&&this.emit(`drop.${l}`,f)}},this)}get files(){return this._files}}Object.assign(uR.prototype,EN);It.register("fileDropZone",function(e){var t=new uR(this.scene,e);return this.scene.add.existing(t),t});Dt(window,"RexPlugins.UI.FileDropZone",uR);var t0t=function(e){if(this.rexSizer.hidden)return 0;e===void 0&&(e=!0);var t=0,i=this.sizerChildren,s,g,E,n,T,r=!1;if(this.childrenProportion,this.orientation===0)for(var o=!0,y=0,d=i.length;y<d;y++)s=i[y],s.hasOwnProperty("rexSizer")&&(g=s.rexSizer,!g.hidden&&(E=g.proportion,E===0||e?(T=this.getChildWidth(s),g.fitRatio>0&&!g.resolved&&(T=void 0),T===void 0&&(E!==0&&!this.hasProportion0Child?T=0:r=!0)):T=0,!r&&(n=s.rexSizer.padding,T+=(n.left+n.right)*this.scaleX,o?o=!1:T+=this.space.item*this.scaleX,t+=T)));else for(var y=0,d=i.length;y<d;y++)s=i[y],s.hasOwnProperty("rexSizer")&&(g=s.rexSizer,!g.hidden&&(T=this.getChildWidth(s),T===void 0&&(r=!0),!r&&(n=g.padding,T+=(n.left+n.right)*this.scaleX,t=Math.max(T,t))));if(!r)return t+(this.space.left+this.space.right)*this.scaleX},e0t=function(e){if(this.rexSizer.hidden)return 0;e===void 0&&(e=!0);var t=0,i=this.sizerChildren,s,g,E,n,T,r=!1;if(this.childrenProportion,this.orientation===0)for(var o=0,y=i.length;o<y;o++)s=i[o],s.hasOwnProperty("rexSizer")&&(g=s.rexSizer,!g.hidden&&(T=this.getChildHeight(s),T===void 0&&(r=!0),!r&&(n=g.padding,T+=(n.top+n.bottom)*this.scaleY,t=Math.max(T,t))));else for(var d=!0,o=0,y=i.length;o<y;o++)s=i[o],s.hasOwnProperty("rexSizer")&&(g=s.rexSizer,!g.hidden&&(E=g.proportion,E===0||e?(T=this.getChildHeight(s),g.fitRatio>0&&!g.resolved&&(T=void 0),T===void 0&&(E!==0&&!this.hasProportion0Child?T=0:r=!0)):T=0,!r&&(n=g.padding,T+=(n.top+n.bottom)*this.scaleY,d?d=!1:T+=this.space.item*this.scaleY,t+=T)));if(!r)return t+(this.space.top+this.space.bottom)*this.scaleY},i0t=function(e,t){t===void 0&&(t=this.width*this.scaleX);var i,s=e.rexSizer;if(this.orientation===0)s.proportion>0&&this.proportionLength>0&&(i=s.proportion*this.proportionLength);else if(s.expand){var g=this.space,E=t-(g.left+g.right)*this.scaleX,n=s.padding;i=E-(n.left+n.right)*this.scaleX}return i},r0t=function(e,t){t===void 0&&(t=this.height);var i,s=e.rexSizer;if(this.orientation===0){if(s.expand){var g=this.space,E=t-(g.top+g.bottom)*this.scaleY,n=s.padding;i=E-(n.top+n.bottom)*this.scaleY}}else s.proportion>0&&this.proportionLength>0&&(i=s.proportion*this.proportionLength);return i},n0t=function(e){e===void 0&&(e=[]);for(var t=this.sizerChildren,i,s=0,g=t.length;s<g;s++)i=t[s],i.isRexSizer&&e.push(i);return e},s0t=function(){this.hasRatioFitChild=!1;for(var e,t,i=this.sizerChildren,s=0,g=i.length;s<g;s++)e=i[s],t=e.rexSizer,!t.hidden&&t.fitRatio>0&&(Mn(e,0,0),t.resolved=!1,this.hasRatioFitChild=!0);return this._childrenProportion=void 0,this.hasProportion0Child=!1,this.proportionLength=void 0,ag.call(this),this};const a0t=Phaser.Math.Wrap;var o0t=function(){for(var e=this.sizerChildren,t,i,s,g=this.innerLeft,E=this.innerTop,n=this.innerWidth,T=this.innerHeight,r=g,o=E,y,d,h,l,a,f,c,u,v,p=this.startChildIndex,m=0,x=e.length;m<x;m++)p===0?v=m:v=a0t(m+p,0,x),this.rtl&&(v=x-v-1),t=e[v],!t.rexSizer.hidden&&(i=t.rexSizer,s=i.padding,og.call(this,t),t.isRexSpace?(c=0,u=0):(c=this.getExpandedChildWidth(t),u=this.getExpandedChildHeight(t)),t.isRexSizer?(t.runLayout(this,c,u),sR(t,this)):Mn(t,c,u),c===void 0&&(c=Si(t)),u===void 0&&(u=Ei(t)),this.orientation===0?(y=r+s.left*this.scaleX,i.proportion===0||this.proportionLength===0?h=c:h=i.proportion*this.proportionLength,d=o+s.top*this.scaleY,l=T-(s.top+s.bottom)*this.scaleY):(y=r+s.left*this.scaleX,h=n-(s.left+s.right)*this.scaleX,d=o+s.top*this.scaleY,i.proportion===0||this.proportionLength===0?l=u:l=i.proportion*this.proportionLength),c===void 0&&(c=Si(t)),u===void 0&&(u=Ei(t)),a=(i.alignOffsetX+i.alignOffsetOriginX*c)*this.scaleX,f=(i.alignOffsetY+i.alignOffsetOriginY*u)*this.scaleY,lg.call(this,t,y,d,h,l,i.align,a,f),this.orientation===0?r+=h+(s.left+s.right)*this.scaleX+this.space.item*this.scaleX:o+=l+(s.top+s.bottom)*this.scaleY+this.space.item*this.scaleY)},l0t=function(t){var t=zM.call(this,t);if(t!==void 0&&this.orientation===0&&this.proportionLength===void 0){var i=t-this.childrenWidth;i>0?(i=t-this.getChildrenWidth(!1),this.proportionLength=i/this.childrenProportion):this.proportionLength=0}return t},h0t=function(t){var t=XM.call(this,t);if(t!==void 0&&this.orientation===1&&this.proportionLength===void 0){var i=t-this.childrenHeight;i>0?(i=t-this.getChildrenHeight(!1),this.proportionLength=i/this.childrenProportion):this.proportionLength=0}return t},u0t=function(){return this.hasRatioFitChild&&this.orientation===1?!0:WM.call(this)},bN=function(e,t){if(this.hasRatioFitChild){var i;this.orientation===0?i=t-(this.getInnerPadding("top")+this.getInnerPadding("bottom"))*this.scaleY:e-(this.getInnerPadding("left")+this.getInnerPadding("right"))*this.scaleX;for(var s,g,E,n,T=this.sizerChildren,r=0,o=T.length;r<o;r++){var s=T[r],g=s.rexSizer;if(!g.hidden){var y=g.fitRatio;y&&(this.orientation===0?(n=i-(this.getChildOuterPadding(s,"top")+this.getChildOuterPadding(s,"bottom"))*this.scaleY,E=n*y):(E=i-(this.getChildOuterPadding(s,"top")+this.getChildOuterPadding(s,"bottom"))*this.scaleX,n=E/y),Mn(s,E,n),s.isRexSizer&&s.setMinSize(E,n),g.resolved=!0)}}}},f0t=function(e){this.wrapResult||(this.orientation===1&&bN.call(this,e,void 0),YM.call(this,e))},d0t=function(){return this.hasRatioFitChild&&this.orientation===0?!0:HM.call(this)},c0t=function(e){this.wrapResult||(this.orientation===0&&bN.call(this,void 0,e),$M.call(this,e))};const v0t=Phaser.GameObjects.Zone;class fR extends v0t{constructor(t){super(t,0,0,1,1),this.isRexSpace=!0}}var p0t=function(e,t){var i=this.sizerChildren;if(i.length===0)return-1;for(var s=-1,g=1/0,E=0,n=i.length;E<n;E++){var T=i[E],r;this.orientation===0?r=Math.abs(T.left-e):r=Math.abs(T.top-t),g>r&&(g=r,s=E)}var T=i[i.length-1],r;return this.orientation===0?r=Math.abs(T.right-e):r=Math.abs(T.bottom-t),g>r&&(g=r,s=E+1),s};const PN=Phaser.Utils.Objects.IsPlainObject,Rs=Phaser.Utils.Objects.GetValue,jB=Phaser.Display.Align.CENTER,g0t={min:0,full:-1};var vP=function(e,t,i,s,g,E,n,T,r,o){var y,d,h,l;ng.call(this,e);var a=e.isRexSpace,f=typeof t;if(t===null)return this;if(f!=="number"){if(f==="string")t=g0t[t];else if(PN(t)){var c=t;t=Rs(c,"proportion",void 0),i=Rs(c,"align",jB),s=Rs(c,"padding",0),g=Rs(c,"expand",!1),E=Rs(c,"key",void 0),n=Rs(c,"index",void 0),e.isRexSizer||(T=Rs(c,"minWidth",void 0),r=Rs(c,"minHeight",void 0)),o=Rs(c,"fitRatio",0),y=Rs(c,"offsetX",0),d=Rs(c,"offsetY",0),h=Rs(c,"offsetOriginX",0),l=Rs(c,"offsetOriginY",0)}}typeof i=="string"&&(i=rc[i]),t===void 0&&(t=a?1:0),i===void 0&&(i=jB),s===void 0&&(s=0),g===void 0&&(g=!1),T===void 0&&(a?T=0:e.isRexSizer||(T=e._minWidth)),r===void 0&&(a?r=0:e.isRexSizer||(r=e._minHeight)),o===void 0||o===!1?o=0:o===!0&&(o=Si(e)/Ei(e)),y===void 0&&(y=0),d===void 0&&(d=0),h===void 0&&(h=0),l===void 0&&(l=0);var c=this.getSizerConfig(e);return c.proportion=t,c.align=i,c.padding=qu(s),c.expand=g,c.fitRatio=t===0?o:0,c.alignOffsetX=y,c.alignOffsetY=d,c.alignOffsetOriginX=h,c.alignOffsetOriginY=l,n===void 0||n>=this.sizerChildren.length?this.sizerChildren.push(e):this.sizerChildren.splice(n,0,e),e.isRexSizer||(t>0&&(this.orientation===0?e.minWidth=T===void 0?Si(e):T:e.minHeight=r===void 0?Ei(e):r),g&&(this.orientation===0?e.minHeight=r:e.minWidth=T)),E!==void 0&&this.addChildrenMap(E,e),this};const m0t={add:vP,addSpace(e){return this.insertSpace(void 0,e),this},insertSpace(e,t){return t===void 0&&(t=1),vP.call(this,new fR(this.scene),{proportion:t,minWidth:0,minHeight:0,index:e}),this},insert(e,t,i,s,g,E,n,T){return PN(i)&&(i.index=e),vP.call(this,t,i,s,g,E,n,e,T),this},insertAtPosition(e,t,i,s,g,E,n,T,r){var o=p0t.call(this,e,t);return o===-1&&(o=void 0),this.insert(o,i,s,g,E,n,T,r),this}},y0t=Phaser.Utils.Array.Remove,x0t={remove(e,t){return this.getParentSizer(e)!==this?this:(y0t(this.sizerChildren,e),sg.call(this,e,t),this)},removeAll(e){for(var t=this.sizerChildren.length-1;t>=0;t--)this.remove(this.sizerChildren[t],e);return this},clear(e){return this.sizerChildren.length=0,mT.call(this,e),this}},T0t={getChildAlign(e){return this.getSizerConfig(e).align},setChildAlign(e,t){return typeof t=="string"&&(t=rc[t]),this.getSizerConfig(e).align=t,this}},C0t={getChildProportion(e){return this.getSizerConfig(e).proportion},setChildProportion(e,t){return this.getSizerConfig(e).proportion=t,this}},S0t={getChildExpand(e){return this.getSizerConfig(e).expand},setChildExpand(e,t){return this.getSizerConfig(e).expand=t,this}};var E0t=function(e){e===void 0&&(e="left");var t=this.sizerChildren,i=t[0],s=i&&i.isRexSpace;e==="right"||e==="bottom"||e==="center"?s||this.insertSpace(0):s&&this.remove(i,!0);var g=t.length-1,E=t[g],n=E&&E.isRexSpace;return e==="center"?n||this.insertSpace(g+1):n&&this.remove(E,!0),this};const dR={sortChildren(e){return this.sizerChildren.sort(e),this},sortChildrenByData(e,t){return this.sizerChildren.sort(function(i,s){var g=i.getData(e),E=s.getData(e);return t?E-g:g-E}),this},sortChildrenByProperty(e,t){return this.sizerChildren.sort(function(i,s){var g=i[e],E=s[e];return t?E-g:g-E}),this}};var wN={getChildrenWidth:t0t,getChildrenHeight:e0t,getExpandedChildWidth:i0t,getExpandedChildHeight:r0t,getChildrenSizers:n0t,preLayout:s0t,layoutChildren:o0t,resolveWidth:l0t,resolveHeight:h0t,hasWidthWrap:u0t,runWidthWrap:f0t,hasHeightWrap:d0t,runHeightWrap:c0t,setChildrenAlignMode:E0t};Object.assign(wN,m0t,x0t,T0t,C0t,S0t,dR);var b0t=function(){for(var e=0,t=this.sizerChildren,i,s,g=0,E=t.length;g<E;g++)i=t[g],!i.rexSizer.hidden&&(s=i.rexSizer.proportion,s>0?e+=s:s===0&&(this.hasProportion0Child=!0));return e};const pP=Phaser.Utils.Objects.IsPlainObject,qs=Phaser.Utils.Objects.GetValue;class ei extends _u{constructor(t,i,s,g,E,n,T){pP(i)?(T=i,i=qs(T,"x",0),s=qs(T,"y",0),g=qs(T,"width",void 0),E=qs(T,"height",void 0),n=qs(T,"orientation",0)):pP(g)?(T=g,g=qs(T,"width",void 0),E=qs(T,"height",void 0),n=qs(T,"orientation",0)):pP(n)&&(T=n,n=qs(T,"orientation",0)),n===void 0&&(n=0),super(t,i,s,g,E,T),this.type="rexSizer",this.sizerChildren=[],this.setOrientation(n),this.setItemSpacing(qs(T,"space.item",0)),this.setStartChildIndex(qs(T,"startChildIndex",0)),this.setRTL(qs(T,"rtl",!1)),this.addChildrenMap("items",this.sizerChildren)}setOrientation(t){return this.orientation=Qu(t),this}setItemSpacing(t){return this.space.item=t,this}setStartChildIndex(t){return this.startChildIndex=t,this}setRTL(t){return t===void 0&&(t=!0),this.rtl=t,this}get childrenProportion(){return this._childrenProportion===void 0&&(this._childrenProportion=b0t.call(this)),this._childrenProportion}}Object.assign(ei.prototype,wN);var Py=function(e,t,i){if(e){var s=t==null,g=i==null;return s&&g||(s||(e.displayWidth=t),g||(e.displayHeight=i),s&&(e.scaleX=e.scaleY),g&&(e.scaleY=e.scaleX)),e}},P0t=function(e){e===void 0?e={}:typeof e=="string"&&(e={text:e});var t=e.text||"";this.setText(t);var i=this.childrenMap.icon;if(i){e.icon?this.show(i):this.hide(i);var s=e.iconSize;s&&(this.setChildDisplaySize(i,s,s),this.iconWidth!==void 0&&this.setIconSize(s)),e.icon!==!0&&this.setIconTexture(e.icon,e.iconFrame)}var g=this.childrenMap.action;if(g){e.action?this.show(g):this.hide(g);var E=e.actionSize;E&&(this.setChildDisplaySize(g,E,E),this.actionWidth!==void 0&&this.setActionSize(E)),e.action!==!0&&this.setActionTexture(e.action,e.actionFrame)}return this},w0t={appendText:yG,resetDisplayContent:P0t};class cR extends ei{get text(){var t=this.childrenMap.text;return t?t.text:""}set text(t){var i=this.childrenMap.text;i&&i.setText(t)}setText(t){return this.text=t,this}setIconTexture(t,i){var s=this.childrenMap.icon;return!s||!s.setTexture?this:(s.setTexture(t,i),this.iconWidth!==void 0&&this.iconHeight!==void 0&&(Py(s,this.iconWidth,this.iconHeight),this.resetChildScaleState(s)),this)}setTexture(t,i){return this.setIconTexture(t,i),this}setIconSize(t,i){return i===void 0&&(i=t),this.iconWidth=t,this.iconHeight=i,this}get texture(){var t=this.childrenMap.icon;if(t)return t.texture}get frame(){var t=this.childrenMap.icon;if(t)return t.frame}setActionTexture(t,i){var s=this.childrenMap.action;return!s||!s.setTexture?this:(s.setTexture(t,i),this.actionWidth!==void 0&&this.actionHeight!==void 0&&(Py(s,this.actionWidth,this.actionHeight),this.resetChildScaleState(s)),this)}get actionTexture(){var t=this.childrenMap.action;if(t)return t.texture}get actionFrame(){var t=this.childrenMap.action;if(t)return t.frame}setActionSize(t,i){return i===void 0&&(i=t),this.actionWidth=t,this.actionHeight=i,this}preLayout(){var t=this.childrenMap.icon;t&&this.iconWidth!==void 0&&this.iconHeight!==void 0&&Py(t,this.iconWidth,this.iconHeight);var i=this.childrenMap.action;i&&this.actionWidth!==void 0&&this.actionHeight!==void 0&&Py(i,this.actionWidth,this.actionHeight),super.preLayout()}postLayout(t,i,s){var g=this.childrenMap.iconMask;g&&(g.setPosition(),this.resetChildPositionState(g));var E=this.childrenMap.actionMask;return E&&(E.setPosition(),this.resetChildPositionState(E)),super.postLayout(t,i,s),this}resize(t,i){super.resize(t,i);var s=this.childrenMap.iconMask;s&&s.resize();var g=this.childrenMap.actionMask;return g&&g.resize(),this}}Object.assign(cR.prototype,w0t);var Ua=function(e,t,i,s){var g=new Px(t,i,s);if(e&&!e.isRexSizer){var E=g.createGeometryMask();e.setMask(E),this.once("destroy",function(){e.setMask(),E.destroy()})}return this.pin(g),g};const M0t=Phaser.GameObjects.Text;var vR=function(e){return e instanceof M0t};const R0t=Phaser.GameObjects.BitmapText;var MN=function(e){return e instanceof R0t};const Rn=0,An=1,Fs=2;var Lh=function(e){var t;return MN(e)?t=Fs:vR(e)?t=Rn:t=An,t},A0t=function(e,t){for(var i=[],s=e.split(`
`),g=t.style,E=g.wordWrapWidth,n=g.hasOwnProperty("wrapMode")?g.wrapMode:3,T=t.context,r=0,o=s.length;r<o;r++)L0t(T,s[r],E,n,i);return i},O0t=function(e,t){var i;if(t===2)i=e.split("");else{i=[];for(var s=e.split(" "),g,E=0,n=s.length;E<n;E++)g=s[E],E<n-1?Rp(g)?i.push(g+" "):(i.push(...g.split("")),i.push(" ")):g!==""&&(Rp(g)?i.push(g):i.push(...g.split("")))}return i},L0t=function(e,t,i,s,g){if(t.length<=100){var E=e.measureText(t).width;if(E<=i)return g.push(t),g}for(var n=O0t(t,s),T,r,o=[],y=i,d=0,h=n.length;d<h;d++)T=n[d],r=e.measureText(T).width,y-=r,y<0&&(g.push(o.join("")),o.length=0,y=i-r),o.push(T);return o.length>0&&g.push(o.join("")),g},Ow=function(e,t){var i=Lh(e);switch(i){case Rn:switch(typeof t=="string"&&(t=gx[t]||0),e.style.wrapMode=t,t){case 2:case 3:e.style.wordWrapCallback=A0t;break;case 1:default:e.style.wordWrapCallback=null;break}break;case An:typeof t=="string"&&(t=gx[t]||0),e.style.wrapMode=t;break}},D0t=function(e){var t=function(i){var s=e.padding,g=i-(s.left+s.right)*e.scaleX,E=e.style;return vR(e)?(E.wordWrapWidth=g,E.maxLines=0):(E.wrapMode===0&&(E.wrapMode=1),E.wrapWidth=g,E.maxLines=0),E.fixedWidth=i,E.fixedHeight=0,e.updateText(),e.minHeight=e.height,e};return t},F0t=function(e){var t=function(i){return e.setFixedSize(i,0).runWordWrap(),e.minHeight=e.height,e};return t},I0t=function(e){var t=function(i){return e.setMaxWidth(i),e.minHeight=e.height,e};return t},B0t=function(e){return e instanceof qd},wx=function(e,t){return t===void 0&&(t=0),e._minWidth=t,e.runWidthWrap=B0t(e)?F0t(e):MN(e)?I0t(e):D0t(e),e};const gP=65535;var Mx=function(e,t,i){if(t==null)return e;if(t===0)return mP(e,0,i),e;var s=e.text.length;if(s===0)return mP(e,t,i),e;var g=Math.floor(t*1.5/s);i!==void 0&&g>i&&(g=Math.floor(i));for(var E={},n=qB(e,g,t,i,E),T=0;T<=gP&&n!==0;T++){if(g+=n,g<0){g=0;break}n=qB(e,g,t,i,E)}return T===gP&&console.warn(`FontSizeFit: Test count exceeds ${gP}`),e.setFontSize(g),mP(e,t,i),e},QB=function(e,t,i){return i[t]===void 0&&(e.setFontSize(t),i[t]={width:e.width,height:e.height}),i[t]},qB=function(e,t,i,s,g){var E=QB(e,t,g),n=QB(e,t+1,g),T;if(s!==void 0)if(E.height<=s&&n.height>s)T=0;else{if(E.height>s)return-1;T=Math.floor(s-E.height)}var r;if(E.width<=i&&n.width>i)return 0;if(E.width>i)return-1;var r=Math.floor(i-E.width);return T===void 0?r:Math.min(r,T)},mP=function(e,t,i){var s=e.style;s&&(s.fixedWidth=t,s.parent.width=t,i!==void 0&&(s.fixedHeight=i,s.parent.height=i),s.update(!1))};const yP=Phaser.Utils.Objects.GetValue;var Rx=function(e,t){typeof t=="number"&&(t={minWidth:t});var i=yP(t,"minWidth",0),s=yP(t,"minHeight",0),g=yP(t,"fitHeight",!1);return e._minWidth=i,e._minHeight=s,g?(e.runWidthWrap=function(E){return e.setFixedSize&&e.setFixedSize(0,0),e.setFontSize(1),e},e.resize=function(E,n){return Mx(e,E,n),e}):(e.runWidthWrap=function(E){return e.setFixedSize&&e.setFixedSize(0,0),Mx(e,E,void 0),e},e.resize=function(E,n){return e.width===E&&e.height===n||e.setFixedSize(E,n),e}),e};const vi=Phaser.Utils.Objects.GetValue;class xl extends cR{constructor(t,i){i===void 0&&(i={}),super(t,i),this.type="rexLabel";var s=vi(i,"background",void 0),g=vi(i,"icon",void 0),E=vi(i,"iconMask",void 0),n=vi(i,"text",void 0),T=vi(i,"action",void 0),r=vi(i,"actionMask",void 0),o=vi(i,"align",void 0);if(s&&this.addBackground(s),g){var y;this.orientation===0?(n||T)&&(y={right:vi(i,"space.icon",0),top:vi(i,"space.iconTop",0),bottom:vi(i,"space.iconBottom",0),left:vi(i,"space.iconLeft",0)}):(n||T)&&(y={bottom:vi(i,"space.icon",0),left:vi(i,"space.iconLeft",0),right:vi(i,"space.iconRight",0),top:vi(i,"space.iconTop",0)});var d=vi(i,"squareFitIcon",!1)?1:0;if(this.add(g,{proportion:0,padding:y,fitRatio:d}),E&&(E=Ua.call(this,g,g,1)),!d){var h=vi(i,"iconSize",void 0);this.setIconSize(vi(i,"iconWidth",h),vi(i,"iconHeight",h))}}if(n){var l=vi(i,"wrapText",!1),a=vi(i,"adjustTextFontSize",!1);l?(l===!0&&(l="word"),Ow(n,l),i.expandTextWidth=!0,wx(n)):a&&(i.expandTextWidth=!0,i.expandTextHeight=!0,Rx(n,{fitHeight:!0}));var f=vi(i,"space.text",0),c=vi(i,"expandTextWidth",!1),u=vi(i,"expandTextHeight",!1),v,y,p;this.orientation===0?(v=c?1:0,T&&(y={right:f}),p=u):(v=u?1:0,T&&(y={bottom:f}),p=c),this.add(n,{proportion:v,expand:p,padding:y})}if(T){var y;this.orientation===0?y={top:vi(i,"space.actionTop",0),bottom:vi(i,"space.actionBottom",0),right:vi(i,"space.actionRight",0)}:y={left:vi(i,"space.actionLeft",0),right:vi(i,"space.actionRight",0),bottom:vi(i,"space.actionBottom",0)};var d=vi(i,"squareFitAction",!1)?1:0;if(this.add(T,{proportion:0,padding:y,fitRatio:d}),r&&(r=Ua.call(this,T,T,1)),!d){var m=vi(i,"actionSize");this.setActionSize(vi(i,"actionWidth",m),vi(i,"actionHeight",m))}}this.setChildrenAlignMode(o),this.addChildrenMap("background",s),this.addChildrenMap("icon",g),this.addChildrenMap("iconMask",E),this.addChildrenMap("text",n),this.addChildrenMap("action",T),this.addChildrenMap("actionMask",r)}}const vh=Phaser.Utils.Objects.GetValue;var G0t=function(e,t){var i=vh(t,"canvas"),s=vh(i,"width",128),g=vh(i,"height",128),E=new ju(e,0,0,s,g);e.add.existing(E);var n=vh(i,"key"),T=vh(i,"frame"),r=vh(i,"fill");return r!==void 0?E.fill(r):n!==void 0&&E.loadTexture(n,T),E.setTexture=E.loadTexture.bind(E),E},k0t=function(e,t){var i=new CT(e,{scaleUp:vh(t,"scaleUpIcon",!1),background:vh(t,"iconBackground"),image:G0t(e,t)});return e.add.existing(i),i};const N0t=Phaser.Utils.Objects.GetValue;var RN=function(e,t){var i=N0t(t,"clickTarget",this);return typeof i=="string"&&(i=e.getElement(i)),i};const U0t=Phaser.Utils.Objects.GetValue;var V0t=function(e,t){var i=RN(e,t);if(i){var s=U0t(t,"click"),g=new gl(i,s);return g.on("click",e.open,e),g}};const AN={accept:"image/*",multiple:!1};var ON=function(e,t){if(t.length!==0){var i=e.childrenMap.icon,s=i.image,g=t[0];return s.loadFromFilePromise(g).then(function(){return i.scaleImage(),e.emit("select",g,e),Promise.resolve(g)})}},z0t=function(e,t){var i=e.scene,s=new ug(i,AN);return i.add.existing(s),e.pin(s),s.on("change",function(){ON(e,s.files)}),s};const W0t={async openPromise(){var e=this;return xN(this.scene.game,AN).then(function(t){return ON(e,t.files)})},open(){return this.openPromise(),this},setClickOpenEnable(e){return e===void 0&&(e=!0),this.clickBehavior&&this.clickBehavior.setEnable(e),this.fileChooser&&this.fileChooser.setOpenEnable(e),this}};var Y0t=function(e){if(!e)return null;var t=e.name;return t.substr(0,t.lastIndexOf("."))},X0t=function(e){var t=this.childrenMap.canvas;return t.generateTexture(e),this},LN={getFileName:Y0t,saveTexture:X0t};Object.assign(LN,W0t);const H0t=Phaser.Utils.Objects.GetValue;class pR extends xl{constructor(t,i){var s=k0t(t,i);i.icon=s,super(t,i),this.type="rexImageFileInputLabel";var g=this.iconWidth,E=this.iconWidth;g!==void 0&&E!==void 0&&s.resize(g,E),this.clickTarget=RN(this,i),this.clickTarget&&(H0t(i,"domButton",!0)?this.fileChooser=z0t(this):this.clickBehavior=V0t(this,i)),this.addChildrenMap("canvas",s.image),this.addChildrenMap("iconBackground",s.background),this.addChildrenMap("fileChooser",this.fileChooser)}postLayout(t,i,s){this.fileChooser&&(this.fileChooser.syncTo(this.clickTarget),this.resetChildState(this.fileChooser)),super.postLayout(t,i,s)}}Object.assign(pR.prototype,LN);It.register("imageInputLabel",function(e){var t=new pR(this.scene,e);return this.scene.add.existing(t),t});Dt(window,"RexPlugins.UI.ImageInputLabel",pR);let $0t=class extends ji{constructor(t,i){return super(t),new Proxy(this,this)}get(t,i){if(Ci(t,i))return t[i];var s=t.parent;if(Ci(s,i))return s[i]}set(t,i,s){return Ci(t,i)?t[i]=s:Ci(t.parent,i)&&(t.parent[i]=s),!0}get key(){return this.parent.texture.key}set key(t){this.parent.setTexture(t,this.frame)}get frame(){return this.parent.frame.name}set frame(t){this.parent.setFrame(t)}get scale(){return this.parent.scaleX}set scale(t){this.parent.setScale(t)}};const xP=Phaser.Utils.Objects.GetValue;class K0t extends ji{constructor(t,i){super(t,i),this.style=xP(i,"style",this);var s=xP(i,"propertiesMap");this.activeStyle=TP(i,"active",s),this.hoverStyle=TP(i,"hover",s),this.disableStyle=TP(i,"disable",s),this.onModifyStyle=xP(i,"onModifyStyle")}getStyle(t){return eT(this.style,t)}modifyStyle(t){for(var i in t)this.style[i]=t[i];return this.onModifyStyle&&this.onModifyStyle(this.parent,t),this}applyStyle(t){if(t){var i=this.getStyle(t);if(!qp(i,t))return this.modifyStyle(t),i}}setActiveState(t){return CP.call(this,"active",t),this}setHoverState(t){return CP.call(this,"hover",t),this}setDisableState(t){return CP.call(this,"disable",t),this}}var TP=function(e,t,i){var s=ax(e,t);if(i)for(var g in s)i.hasOwnProperty(g)&&(s[i[g]]=s[g],delete s[g]);return s},CP=function(e,t){t===void 0&&(t=!0);var i=`${e}State`,s=`${e}Style`,g=`${e}StyleSave`;this[i]!==t&&(this[i]=t,t?this[g]=this.applyStyle(this[s]):(this.applyStyle(this[g]),this[g]=void 0))};const tf={addStyleManager(e){return this.styleManager=new K0t(this,e),this},setActiveState(e){return this.styleManager.setActiveState(e),this},setHoverState(e){return this.styleManager.setHoverState(e),this},setDisableState(e){return this.styleManager.setDisableState(e),this}},J0t=Phaser.GameObjects.Image,lp=Phaser.Utils.Objects.GetValue;class fg extends J0t{constructor(t,i){i===void 0&&(i={});var s=lp(i,"x",0),g=lp(i,"y",0),E=lp(i,"key",""),n=lp(i,"frame",void 0);super(t,s,g,E,n),this.type="rexStatesImage";var T=lp(i,"effects",!0);T&&_d(this,T),this.style=new $0t(this,i),i.style=this.style,this.addStyleManager(i),delete i.style}}Object.assign(fg.prototype,tf);It.register("statesImage",function(e){var t=new fg(this.scene,e);return this.scene.add.existing(t),t});Dt(window,"RexPlugins.UI.StatesImage",fg);class dg extends Ku{constructor(t,i){i===void 0&&(i={}),super(t,i),this.type="rexStatesRoundRectangleShape",i.style=this,i.propertiesMap=Z0t,this.addStyleManager(i),delete i.style,delete i.propertiesMap}}const Z0t={color:"fillColor",alpha:"fillAlpha",strokeWidth:"lineWidth"};Object.assign(dg.prototype,tf);It.register("statesRoundRectangle",function(e){var t=new dg(this.scene,e);return this.scene.add.existing(t),t});Dt(window,"RexPlugins.UI.StatesRoundRectangle",dg);let j0t=class extends ji{constructor(t,i){return super(t),new Proxy(this,this)}get(t,i){if(Ci(t,i))return t[i];var s=t.parent;if(Ci(s,i))return s[i]}set(t,i,s){return Ci(t,i)?t[i]=s:Ci(t.parent,i)&&(t.parent[i]=s),!0}get key(){return this.parent.texture.key}set key(t){this.key!==t&&this.parent.setTexture(t,this.frame)}get frame(){return this.parent.frame.name}set frame(t){this.frame!==t&&this.parent.setFrame(t)}};const Q0t=Phaser.GameObjects.NineSlice,Aa=Phaser.Utils.Objects.GetValue;class cg extends Q0t{constructor(t,i){i===void 0&&(i={});var s=Aa(i,"x",0),g=Aa(i,"y",0),E=Aa(i,"key",null),n=Aa(i,"frame",null),T=Aa(i,"width",0),r=Aa(i,"height",0),o=Aa(i,"leftWidth",0),y=Aa(i,"rightWidth",0),d=Aa(i,"topHeight",0),h=Aa(i,"bottomHeight",0);super(t,s,g,E,n,T,r,o,y,d,h),this.type="rexStatesNineSlice";var l=Aa(i,"effects",!0);l&&_d(this,l),this.style=new j0t(this,i),i.style=this.style,this.addStyleManager(i),delete i.style}}Object.assign(cg.prototype,tf);It.register("statesNineSlice",function(e){var t=new cg(this.scene,e);return this.scene.add.existing(t),t});Dt(window,"RexPlugins.UI.StatesNineSlice",cg);let q0t=class extends ji{constructor(t,i){return super(t),new Proxy(this,this)}get(t,i){if(Ci(t,i))return t[i];var s=t.parent;if(Ci(s,i))return s[i]}set(t,i,s){return Ci(t,i)?t[i]=s:Ci(t.parent,i)&&(t.parent[i]=s),!0}get key(){return this.parent.textureKey}set key(t){this.key!==t&&this.parent.setBaseTexture(t,this.baseFrameName)}get frame(){return this.parent.baseFrameName}set frame(t){this.frame!==t&&this.parent.setBaseTexture(this.parent.textureKey,t)}};const _0t=Phaser.Utils.Objects.GetValue;class vg extends Hx{constructor(t,i){i===void 0&&(i={}),super(t,i),this.type="rexStatesNinePatch";var s=_0t(i,"effects",!0);s&&_d(this,s),this.style=new q0t(this,i),i.style=this.style,this.addStyleManager(i),delete i.style}}Object.assign(vg.prototype,tf);It.register("statesNinePatch",function(e){var t=new vg(this.scene,e);return this.scene.add.existing(t),t});Dt(window,"RexPlugins.UI.StatesNinePatch",vg);const tyt=Phaser.GameObjects.Text,SP=Phaser.Utils.Objects.GetValue;class ET extends tyt{constructor(t,i){i===void 0&&(i={});var s=SP(i,"x",0),g=SP(i,"y",0),E=SP(i,"text","");super(t,s,g,E,i),this.type="rexStatesText",i.style=this.style,i.onModifyStyle=function(n,T){var r=T.hasOwnProperty("fontStyle")||T.hasOwnProperty("fontSize")||T.hasOwnProperty("fontFamily");n.style.update(r)},this.addStyleManager(i),delete i.style}}Object.assign(ET.prototype,tf);It.register("statesText",function(e){var t=new ET(this.scene,e);return this.scene.add.existing(t),t});Dt(window,"RexPlugins.UI.StatesText",ET);class eyt extends ji{constructor(t,i){return super(t),new Proxy(this,this)}get(t,i){if(Ci(t,i))return t[i];var s=t.parent;if(Ci(s,i))return s[i]}set(t,i,s){return Ci(t,i)?t[i]=s:Ci(t.parent,i)&&(t.parent[i]=s),!0}get key(){return this.parent.texture.key}set key(t){this.parent.setTexture(t,this.frame)}get fontSize(){return this.parent.fontSize}set fontSize(t){this.parent.setFontSize(t)}get tint(){return this.parent.tintTopLeft}set tint(t){this.parent.setTint(t)}get letterSpacing(){return this.parent.letterSpacing}set letterSpacing(t){this.parent.setLetterSpacing(t)}get lineSpacing(){return this.parent.lineSpacing}set lineSpacing(t){this.parent.setLineSpacing(t)}}const iyt=Phaser.GameObjects.BitmapText,Eu=Phaser.Utils.Objects.GetValue;class bT extends iyt{constructor(t,i){i===void 0&&(i={});var s=Eu(i,"x",0),g=Eu(i,"y",0),E=Eu(i,"font",""),n=Eu(i,"fontSize",!1),T=Eu(i,"align",0),r=Eu(i,"tint");super(t,s,g,E,"",n,T),this.type="rexStatesBitmapText",r!==void 0&&this.setTint(r);var o=Eu(i,"effects",!0);o&&_d(this,o),this.style=new eyt(this,i),i.style=this.style,this.addStyleManager(i),delete i.style}}Object.assign(bT.prototype,tf);It.register("statesBitmapText",function(e){var t=new bT(this.scene,e);return this.scene.add.existing(t),t});Dt(window,"RexPlugins.UI.StatesBitmapText",bT);class PT extends nT{constructor(t,i){i===void 0&&(i={}),i.hasOwnProperty("value")||(i.value=0),i.hasOwnProperty("hover.bar")||(i["hover.bar"]=!0),i.hasOwnProperty("easeDuration")||(i.easeDuration=200),i.hasOwnProperty("ease")||(i.ease="Quad"),Dt(i,"easeValue.duration",i.easeDuration),Dt(i,"easeValue.ease",i.ease),super(t,i),this.type="rexStatesBarRectangleShape",this.barState=!1,i.style=this,i.propertiesMap=ryt,this.addStyleManager(i),delete i.style,delete i.propertiesMap}get bar(){return this.barState}set bar(t){t=!!t,this.barState!==t&&(this.barState=t,this.easeValueTo(this.barState?1:0))}}const ryt={color:"trackColor",strokeColor:"trackStrokeColor",strokeWidth:"trackStrokeThickness"};Object.assign(PT.prototype,tf);It.register("statesBarRectangle",function(e){var t=new PT(this.scene,e);return this.scene.add.existing(t),t});Dt(window,"RexPlugins.UI.StatesBarRectangle",PT);var nyt=function(e){if(!window.Chart){var t=`Can not find chartjs! Load chartjs in preload stage.
scene.load.script('chartjs', 'https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.8.0/Chart.min.js');`;return console.error(t),this}return this.chart&&this.chart.destroy(),this.chart=new Chart(this.context,syt(this,e)),this},syt=function(e,t){t===void 0&&(t={}),t.options===void 0&&(t.options={});var i=t.options;i.responsive=!1,i.maintainAspectRatio=!1,i.hasOwnProperty("devicePixelRatio")||(i.devicePixelRatio=1);var s=!1;i.animation===void 0?i.animation={}:i.animation===!1&&(s=!0,i.animation={});var g=i.animation;s&&(g.duration=0);var E=g.onProgress;g.onProgress=function(T){E&&E(T),e.needRedraw()};var n=g.onComplete;return g.onComplete=function(T){n&&n(T),e.needRedraw()},t},ayt=function(e){if(this.chart!==void 0)if(typeof e=="string"){for(var t=this.chart.data.datasets,i,s=0,g=t.length;s<g;s++)if(i=t[s],i.label===e)return i}else return this.chart.data.datasets[e]},oyt=function(e,t){var i=this.getChartDataset(e);if(i!==void 0){if(typeof t=="string"){var s=this.chart.data.labels;if(t=s.indexOf(t),t===-1)return}return i.data[t]}},lyt=function(e,t,i){if(this.chart===void 0)return this;var s=this.getChartDataset(e);if(typeof t=="string"){var g=this.chart.data.labels;if(t=g.indexOf(t),t===-1)return this}return s.data[t]=i,this},hyt=function(){return this.chart===void 0?this:(this.chart.update(),this)};let gR=class extends ju{constructor(t,i,s,g,E,n){super(t,i,s,g,E),this.type="rexChart",this.chart=void 0,n!==void 0&&this.setChart(n)}destroy(t){this.scene&&(this.chart&&(this.chart.destroy(),this.chart=void 0),super.destroy(t))}resize(t,i){if(t===this.width&&i===this.height)return this;if(super.resize(t,i),this.chart){var s=this.chart;s.height=this.canvas.height,s.width=this.canvas.width,s.aspectRatio=s.height?s.width/s.height:null,s.update()}return this}};var uyt={setChart:nyt,getChartDataset:ayt,getChartData:oyt,setChartData:lyt,updateChart:hyt};Object.assign(gR.prototype,uyt);It.register("chart",function(e,t,i,s,g){var E=new gR(this.scene,e,t,i,s,g);return this.scene.add.existing(E),E});Dt(window,"RexPlugins.UI.Chart",gR);It.register("container",function(e,t,i,s,g){var E=new Ns(this.scene,e,t,i,s,g);return this.scene.add.existing(E),E});Dt(window,"RexPlugins.UI.Container",Ns);It.register("sizer",function(e,t,i,s,g,E){var n=new ei(this.scene,e,t,i,s,g,E);return this.scene.add.existing(n),n});Dt(window,"RexPlugins.UI.Sizer",ei);var DN=function(){return Array.prototype.reduce.call(arguments,fyt,0)},fyt=function(e,t){return e+t},dyt=function(e){if(this.rexSizer.hidden)return 0;e===void 0&&(e=!0);var t=0,i,s=this.sizerChildren,g,E,n,T,r=!1;this.totalColumnProportions;for(var o=0;o<this.columnCount;o++){if(T=this.columnProportions[o],i=0,T===0||e){for(var y=0;y<this.rowCount;y++)g=s[y*this.columnCount+o],g&&(g.rexSizer.hidden||(n=this.getChildWidth(g),n===void 0&&(T!==0&&!this.hasColumnProportion0Child?n=0:r=!0),!r&&(E=g.rexSizer.padding,n+=(E.left+E.right)*this.scaleX,i=Math.max(i,n))));r||(t+=i)}r||e&&(this.columnWidth[o]=i)}if(!r){var d=Math.max(this.space.indentLeftOdd,this.space.indentLeftEven),h=DN(this.space.left,d,...this.space.column,this.space.right);return t+h*this.scaleX}},cyt=function(e){if(this.rexSizer.hidden)return 0;e===void 0&&(e=!0);var t=0,i,s=this.sizerChildren,g,E,n,T,r=!1;this.totalRowProportions;for(var o=0;o<this.rowCount;o++){if(T=this.rowProportions[o],i=0,T===0||e){for(var y=0;y<this.columnCount;y++)g=s[o*this.columnCount+y],g&&(g.rexSizer.hidden||(n=this.getChildHeight(g),n===void 0&&(T!==0&&!this.hasRowProportion0Child?n=0:r=!0),!r&&(E=g.rexSizer.padding,n+=(E.top+E.bottom)*this.scaleY,i=Math.max(i,n))));r||(t+=i)}r||e&&(this.rowHeight[o]=i)}if(!r){var d=Math.max(this.space.indentTopOdd,this.space.indentTopEven),h=DN(this.space.top,d,...this.space.row,this.space.bottom);return t+h*this.scaleY}},vyt=function(e,t){var i,s=e.rexSizer;if(s.expandWidth){var g=s.padding;i=t-(g.left+g.right)*this.scaleX}return i},pyt=function(e,t){var i,s=e.rexSizer;if(s.expandHeight){var g=s.padding;i=t-(g.top+g.bottom)*this.scaleY}return i},gyt=function(e){e===void 0&&(e=[]);for(var t=this.sizerChildren,i,s=0,g=t.length;s<g;s++)i=t[s],i&&i.isRexSizer&&e.push(i);return e},myt=function(){return this._totalColumnProportions=void 0,this._totalRowProportions=void 0,this.hasColumnProportion0Child=!1,this.hasRowProportion0Child=!1,this.proportionWidthLength=void 0,this.proportionHeightLength=void 0,ag.call(this),this},yyt=function(){for(var e,t,i,s=this.innerLeft,g=this.innerTop,E,n=g,T,r,o,y,d,h,l,a,f,c,u,v,p=0;p<this.rowCount;p++){c=this.getRowHeight(p),u=p%2?this.space.indentLeftEven:this.space.indentLeftOdd,E=s+u*this.scaleX;for(var m=0;m<this.columnCount;m++){if(f=this.getColumnWidth(m),e=this.getChildAt(m,p),!e||e.rexSizer.hidden){E+=f+this.space.column[m]*this.scaleX;continue}og.call(this,e),l=this.getExpandedChildWidth(e,f),a=this.getExpandedChildHeight(e,c),e.isRexSizer?(e.runLayout(this,l,a),sR(e,this)):Mn(e,l,a),t=e.rexSizer,i=t.padding,T=E+i.left*this.scaleX,o=f-(i.left+i.right)*this.scaleX,v=m%2?this.space.indentTopEven:this.space.indentTopOdd,r=n+v*this.scaleY+i.top*this.scaleY,y=c-(i.top+i.bottom)*this.scaleY,l===void 0&&(l=Si(e)),a===void 0&&(a=Ei(e)),d=(t.alignOffsetX+t.alignOffsetOriginX*l)*this.scaleX,h=(t.alignOffsetY+t.alignOffsetOriginY*a)*this.scaleY,lg.call(this,e,T,r,o,y,t.align,d,h),E+=f+this.space.column[m]*this.scaleX}n+=c+this.space.row[p]*this.scaleY}},xyt=function(t){var t=zM.call(this,t);if(t!==void 0&&this.proportionWidthLength===void 0){var i=this.totalColumnProportions;if(i>0){var s=t-this.getChildrenWidth(!1);s>=0&&(this.proportionWidthLength=s/i)}else this.proportionWidthLength=0}return t},Tyt=function(t){var t=XM.call(this,t);if(t!==void 0&&this.proportionHeightLength===void 0){var i=this.totalRowProportions;if(i>0){var s=t-this.getChildrenHeight(!1);s>=0&&(this.proportionHeightLength=s/i)}else this.proportionHeightLength=0}return t},Cyt=function(e){var t,i,s,g;for(var E in this.sizerChildren)t=this.sizerChildren[E],t&&t.isRexSizer&&!t.ignoreLayout&&(g=this.getColumnWidth(parseInt(E)%this.columnCount),i=this.getExpandedChildWidth(t,g),s=t.resolveWidth(i),s===void 0&&(s=i),t.resolveChildrenWidth(s))},Syt=function(e){var t,i,s,g;for(var E in this.sizerChildren)t=this.sizerChildren[E],t&&t.isRexSizer&&!t.ignoreLayout&&(g=this.getRowHeight(Math.floor(parseInt(E)/this.rowCount)),i=this.getExpandedChildHeight(t,g),s=t.resolveHeight(i),s===void 0&&(s=i),t.resolveChildrenHeight(s))},Eyt=function(e){var t,i,s,g;for(var E in this.sizerChildren)t=this.sizerChildren[E],!(!t||t.isRexSizer&&t.ignoreLayout||!t.runWidthWrap)&&(g=this.getColumnWidth(parseInt(E)%this.columnCount),i=this.getExpandedChildWidth(t,g),t.isRexSizer&&(s=t.resolveWidth(i),s===void 0&&(s=i)),t.runWidthWrap(s));return this},byt=function(e){var t,i,s,g;for(var E in this.sizerChildren)t=this.sizerChildren[E],!(!t||t.isRexSizer&&t.ignoreLayout||!t.runHeightWrap)&&(g=this.getRowHeight(Math.floor(parseInt(E)/this.rowCount)),i=this.getExpandedChildHeight(t,g),t.isRexSizer&&(s=t.resolveHeight(i),s===void 0&&(s=i)),t.runHeightWrap(s));return this};const _B=Phaser.Utils.Objects.IsPlainObject,_s=Phaser.Utils.Objects.GetValue,t4=Phaser.Display.Align.CENTER;var e4=function(e,t,i,s,g){if(typeof e=="number"||typeof t=="number")if(e===void 0){for(var E,n=0;n<s;n++)if(E=t*s+n,!i[E])return E}else if(t===void 0){for(var E,n=0;n<g;n++)if(E=n*s+e,!i[E])return E}else{var E=t*s+e;if(!i[E])return E}else if(t===!0){for(var E,n=0;n<s;n++)for(var T=0;T<g;T++)if(E=T*s+n,!i[E])return E}else for(var n=0,r=i.length;n<r;n++)if(!i[n])return n;return null},Pyt=function(e,t,i,s,g,E,n){var T,r,o,y;if(ng.call(this,e),_B(t)){var h=t;t=_s(h,"column",void 0),i=_s(h,"row",void 0),s=_s(h,"align",t4),g=_s(h,"padding",0),E=_s(h,"expand",!1),n=_s(h,"key",void 0),T=_s(h,"offsetX",0),r=_s(h,"offsetY",0),o=_s(h,"offsetOriginX",0),y=_s(h,"offsetOriginY",0)}var d=e4(t,i,this.sizerChildren,this.columnCount,this.rowCount);if(d===null){if(typeof t=="number"&&typeof i=="number")return this;i===!0||typeof i=="number"?this.addEmptyColumn():this.addEmptyRow(),d=e4(t,i,this.sizerChildren,this.columnCount,this.rowCount)}typeof s=="string"&&(s=rc[s]),s===void 0&&(s=t4),g===void 0&&(g=0),E===void 0&&(E=!0),T===void 0&&(T=0),r===void 0&&(r=0),o===void 0&&(o=0),y===void 0&&(y=0);var h=this.getSizerConfig(e);return h.align=s,h.padding=qu(g),_B(E)?(h.expandWidth=_s(E,"width",!1),h.expandHeight=_s(E,"height",!1)):(h.expandWidth=E,h.expandHeight=E),h.alignOffsetX=T,h.alignOffsetY=r,h.alignOffsetOriginX=o,h.alignOffsetOriginY=y,this.sizerChildren[d]=e,n!==void 0&&this.addChildrenMap(n,e),this};const wyt={add:Pyt};var zd=function(e,t,i,s){i===void 0&&(i=0),s===void 0&&(s=e.length-1);for(var g=i;g<=s;g++)e[g]=t;return e};const Myt={remove(e,t){if(this.getParentSizer(e)!==this)return this;var i=this.sizerChildren.indexOf(e);return i!==-1&&(this.sizerChildren[i]=null),sg.call(this,e,t),this},removeAt(e,t,i){var s=this.getChildAt(e,t);return s&&this.remove(s,i),this},removeAll(e){for(var t=this.sizerChildren.length-1;t>=0;t--){var i=this.sizerChildren[t];i&&this.remove(i,e)}return this},clear(e){return zd(this.sizerChildren,null),mT.call(this,e),this}},Ryt={setColumnSpace(e){if(this.space.column||(this.space.column=[]),this.space.column.length=this.columnCount-1,typeof e=="number")this.space.column0=e,zd(this.space.column,e);else{this.space.column0=e[0];for(var t=0,i=this.columnCount-1;t<i;t++)this.space.column[t]=e[t]||0}return this},setRowSpace(e){if(this.space.row||(this.space.row=[]),this.space.row.length=this.rowCount-1,typeof e=="number")this.space.row0=e,zd(this.space.row,e);else{this.space.row0=e[t];for(var t=0,i=this.rowCount-1;t<i;t++)this.space.row[t]=e[t]||0}return this},setIndentLeft(e,t){return this.space.indentLeftOdd=e,this.space.indentLeftEven=t,this},setIndentTop(e,t){return this.space.indentTopOdd=e,this.space.indentTopEven=t,this}},i4=Phaser.Utils.Objects.GetValue;var Ayt=function(e,t,i,s,g){if(e===void 0&&(e=0),t===void 0&&(t=0),i===void 0&&(i=0),s===void 0&&(s=0),this.columnCount=e,this.rowCount=t,this.gridCount=e*t,this.removeAll(),this.sizerChildren.length=e*t,zd(this.sizerChildren,null),this.columnProportions=[],this.columnProportions.length=e,typeof i=="number")zd(this.columnProportions,i);else for(var E=0;E<e;E++)this.columnProportions[E]=i[E]||0;if(this.rowProportions=[],this.rowProportions.length=t,typeof s=="number")zd(this.rowProportions,s);else for(var E=0;E<t;E++)this.rowProportions[E]=s[E]||0;this.columnWidth=[],this.columnWidth.length=e,this.rowHeight=[],this.rowHeight.length=t,this.setColumnSpace(i4(g,"column",0)),this.setRowSpace(i4(g,"row",0));var n=this.scene,T=this.createCellContainerCallback;if(T)for(var r=0,o=this.rowCount;r<o;r++)for(var y=0,d=this.columnCount;y<d;y++){var h={column:y,row:r},l=T(n,y,r,h);l&&this.add(l,h)}return this},FN=function(e,t,i){t===void 0&&(t=this.rowProportions[0]||0),i===void 0&&(i=this.space.row0||0),this.rowCount+=1,this.gridCount+=this.columnCount;for(var s=[e*this.columnCount,0],g=0;g<this.columnCount;g++)s.push(null);return this.sizerChildren.splice.apply(this.sizerChildren,s),this.rowProportions.push(t),this.rowHeight.length+=1,this.space.row.splice(e,0,i),this},Oyt=function(e,t){return FN.call(this,this.rowCount,e,t),this},IN=function(e,t,i){t===void 0&&(t=this.columnProportions[0]||0),i===void 0&&(i=this.space.column0||0),this.columnCount+=1,this.gridCount+=this.rowCount;for(var s=this.rowCount-1;s>=0;s--){var g=s*this.columnCount+e;this.sizerChildren.splice(g,0,null)}return this.columnProportions.push(t),this.columnWidth.length+=1,this.space.column.splice(e,0,i),this},Lyt=function(e,t){return IN.call(this,this.columnCount,e,t),this},BN={getChildrenWidth:dyt,getChildrenHeight:cyt,getExpandedChildWidth:vyt,getExpandedChildHeight:pyt,getChildrenSizers:gyt,preLayout:myt,layoutChildren:yyt,resolveWidth:xyt,resolveHeight:Tyt,resolveChildrenWidth:Cyt,resolveChildrenHeight:Syt,runWidthWrap:Eyt,runHeightWrap:byt,resetGrid:Ayt,insertEmptyRow:FN,addEmptyRow:Oyt,insertEmptyColumn:IN,addEmptyColumn:Lyt};Object.assign(BN,wyt,Myt,Ryt,dR);var Dyt=function(){for(var e=0,t,i=0;i<this.columnCount;i++)t=this.columnProportions[i],t>0?e+=t:t===0&&(this.hasColumnProportion0Child=!0);return e},Fyt=function(){for(var e=0,t,i=0;i<this.rowCount;i++)t=this.rowProportions[i],t>0?e+=t:t===0&&(this.hasRowProportion0Child=!0);return e};const wy=Phaser.Utils.Objects.IsPlainObject,zi=Phaser.Utils.Objects.GetValue;class Xa extends _u{constructor(t,i,s,g,E,n,T,r,o,y){wy(i)?(y=i,i=zi(y,"x",0),s=zi(y,"y",0),g=zi(y,"width",void 0),E=zi(y,"height",void 0),n=zi(y,"column",y.col||0),T=zi(y,"row",0),r=zi(y,"columnProportions",0),o=zi(y,"rowProportions",0)):wy(g)?(y=g,g=zi(y,"width",void 0),E=zi(y,"height",void 0),n=zi(y,"column",y.col||0),T=zi(y,"row",0),r=zi(y,"columnProportions",0),o=zi(y,"rowProportions",0)):wy(n)?(y=n,n=zi(y,"column",y.col||0),T=zi(y,"row",0),r=zi(y,"columnProportions",0),o=zi(y,"rowProportions",0)):wy(r)&&(y=r,r=zi(y,"columnProportions",0),o=zi(y,"rowProportions",0)),super(t,i,s,g,E,y),this.type="rexGridSizer",this.sizerChildren=[],this.addChildrenMap("items",this.sizerChildren),this.setCreateCellContainerCallback(zi(y,"createCellContainerCallback")),this.setIndentLeft(zi(y,"space.indentLeftOdd",0),zi(y,"space.indentLeftEven",0)),this.setIndentTop(zi(y,"space.indentTopOdd",0),zi(y,"space.indentTopEven",0)),this.resetGrid(n,T,r,o,zi(y,"space",void 0))}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.columnProportions=void 0,this.rowProportions=void 0,this.columnWidth=void 0,this.rowHeight=void 0,this.createCellContainerCallback=void 0)}setColumnProportion(t,i){return t>=this.columnProportions.length?this:(this.columnProportions[t]=i,this)}setRowProportion(t,i){return t>=this.rowProportions.length?this:(this.rowProportions[t]=i,this)}get totalColumnProportions(){return this._totalColumnProportions===void 0&&(this._totalColumnProportions=Dyt.call(this)),this._totalColumnProportions}get totalRowProportions(){return this._totalRowProportions===void 0&&(this._totalRowProportions=Fyt.call(this)),this._totalRowProportions}getChildAt(t,i){return this.sizerChildren[i*this.columnCount+t]}childToGridIndex(t,i){if(!t)return null;var s=this.sizerChildren.indexOf(t);return s===-1?null:(i===void 0&&(i={}),i.x=s%this.columnCount,i.y=Math.floor(s/this.columnCount),i)}getColumnWidth(t){var i=this.columnProportions[t],s=i===0?this.columnWidth[t]:i*this.proportionWidthLength;return s}getRowHeight(t){var i=this.rowProportions[t],s=i===0?this.rowHeight[t]:i*this.proportionHeightLength;return s}setCreateCellContainerCallback(t){return this.createCellContainerCallback=t,this}}Object.assign(Xa.prototype,BN);It.register("gridSizer",function(e,t,i,s,g,E,n,T,r){var o=new Xa(this.scene,e,t,i,s,g,E,n,T,r);return this.scene.add.existing(o),o});Dt(window,"RexPlugins.UI.GridSizer",Xa);var Iyt=function(e){if(this.rexSizer.hidden)return 0;e===void 0&&(e=!0);var t;if(this.orientation===0?e?t=this.maxChildWidth:t=this.rexSizer.resolved?this.wrapResult.width:void 0:t=this.rexSizer.resolved?this.wrapResult.width:void 0,t!==void 0)return t+(this.space.left+this.space.right)*this.scaleX},Byt=function(e){if(this.rexSizer.hidden)return 0;e===void 0&&(e=!0);var t;if(this.orientation===1?e?t=this.maxChildHeight:t=this.rexSizer.resolved?this.wrapResult.height:void 0:t=this.rexSizer.resolved?this.wrapResult.height:void 0,t!==void 0)return t+(this.space.top+this.space.bottom)*this.scaleY},Gyt=function(e){e===void 0&&(e=[]);for(var t=this.sizerChildren,i,s=0,g=t.length;s<g;s++)i=t[s],i!==`
`&&i.isRexSizer&&e.push(i);return e},kyt=function(){return this._maxChildWidth=void 0,this._maxChildHeight=void 0,this.wrapResult=void 0,this.rexSizer.resolved=!1,ag.call(this),this},Nyt=function(){for(var e=this.orientation===0,t=e?this.innerWidth:this.innerHeight,i,s,g,E=0,n,T,r=this.innerLeft,o=this.innerTop,y,d,h,l,a,f,c=this.wrapResult.lines,u,v,p,m=r,x=o,C=0,P=c.length;C<P;C++){switch(u=c[C],v=u.children,this.rtl&&v.reverse(),e?(n=C%2?this.space.indentLeftEven:this.space.indentLeftOdd,m=r+n*this.scaleX):(T=C%2?this.space.indentTopEven:this.space.indentTopOdd,x=o+T*this.scaleY),p=t-(e?u.width:u.height),this.align){case 0:break;case 1:e?m+=p:x+=p;break;case 2:e?m+=p/2:x+=p/2;break;case 3:E=EP(t,p,this.justifyPercentage,v.length);break;case 4:E=EP(t,p,this.justifyPercentage,v.length),E===0&&(e?m+=p:x+=p);break;case 5:E=EP(t,p,this.justifyPercentage,v.length),E===0&&(e?m+=p/2:x+=p/2);break}for(var w=!0,M=0,R=v.length;M<R;M++)i=v[M],!i.rexSizer.hidden&&(s=i.rexSizer,g=s.padding,og.call(this,i),e?y=m+g.left*this.scaleX:d=x+g.top*this.scaleY,w?w=!1:e?y+=this.space.item*this.scaleX:d+=this.space.item*this.scaleY,h=Si(i),l=Ei(i),e?(T=M%2?this.space.indentTopEven:this.space.indentTopOdd,d=x+T*this.scaleY+g.top*this.scaleY,m=y+h+g.right*this.scaleX+E):(n=M%2?this.space.indentLeftEven:this.space.indentLeftOdd,y=m+n*this.scaleX+g.left*this.scaleX,x=d+l+g.top*this.scaleY+E),a=(s.alignOffsetX+s.alignOffsetOriginX*h)*this.scaleX,f=(s.alignOffsetY+s.alignOffsetOriginY*l)*this.scaleY,lg.call(this,i,y,d,h,l,s.align,a,f));e?x+=u.height+this.space.line*this.scaleY:m+=u.width+this.space.line*this.scaleX}},EP=function(e,t,i,s){return t/e<=i?t/(s-1):0},Uyt=function(){return this.orientation===0?!0:WM.call(this)},GN=function(e){var t={lines:[],width:0,height:0},i=this.sizerChildren,s,g,E,n,T=0,r,o,y=t.lines,d=void 0,h;if(this.orientation===0){for(var l=0,a=i.length;l<a;l++){if(s=i[l],s===`
`)s=void 0,E=0,h=!0;else{if(s.rexSizer.hidden)continue;s.isRexSizer&&s.runLayout(this),E=this.getChildWidth(s),g=s.rexSizer.padding,E+=(g.left+g.right)*this.scaleX,h=T<E||d===void 0}h&&(d&&(d.width=e-(T+this.space.item*this.scaleX),t.width=Math.max(t.width,d.width),t.height+=d.height+this.space.line*this.scaleY),d={children:[],width:0,height:0},y.push(d),r=y.length%2?this.space.indentLeftOdd:this.space.indentLeftEven,T=e-r*this.scaleX),T-=E+this.space.item*this.scaleX,s&&(d.children.push(s),n=this.getChildHeight(s),g=s.rexSizer.padding,n+=(g.top+g.bottom)*this.scaleY,d.height=Math.max(d.height,n))}d&&(d.width=e-(T+this.space.item*this.scaleX),t.width=Math.max(t.width,d.width),t.height+=d.height),t.height+=Math.max(this.space.indentTopOdd,this.space.indentTopEven)*this.scaleY}else{for(var f=e,l=0,a=i.length;l<a;l++){if(s=i[l],s===`
`)s=void 0,E=0,h=!0;else{if(s.rexSizer.hidden)continue;s.isRexSizer&&s.layout(),n=this.getChildHeight(s),g=s.rexSizer.padding,n+=(g.top+g.bottom)*this.scaleY,h=T<n||d===void 0}h&&(d&&(d.height=f-(T+this.space.item*this.scaleY),t.height=Math.max(t.height,d.height),t.width+=d.width+this.space.line*this.scaleX),d={children:[],width:0,height:0},y.push(d),o=y.length%2?this.space.indentTopOdd:this.space.indentTopEven,T=f-o*this.scaleY),T-=n+this.space.item*this.scaleY,s&&(d.children.push(s),E=this.getChildWidth(s),g=s.rexSizer.padding,E+=(g.left+g.right)*this.scaleX,d.width=Math.max(d.width,E))}d&&(d.height=f-(T+this.space.item*this.scaleY),t.height=Math.max(t.height,d.height),t.width+=d.width),t.width+=Math.max(this.space.indentLeftOdd,this.space.indentLeftEven)*this.scaleX}return t},Vyt=function(e){if(!this.wrapResult&&this.orientation===0){var t=e-(this.space.left+this.space.right)*this.scaleX;this.wrapResult=GN.call(this,t),this.rexSizer.resolved=!0,YM.call(this,e)}},zyt=function(){return this.orientation===1?!0:HM.call(this)},Wyt=function(e){if(!this.wrapResult&&this.orientation===1){var t=e-(this.space.top+this.space.bottom)*this.scaleY;this.wrapResult=GN.call(this,t),this.rexSizer.resolved=!0,$M.call(this,e)}},Yyt=function(e,t){},Xyt=function(e,t){};const r4=Phaser.Math.Distance.Between;var Hyt=function(e,t){var i=this.sizerChildren;if(i.length===0)return-1;for(var s=-1,g=1/0,E=0,n=i.length;E<n;E++){var T=i[E];if(!(Math.abs(T.centerY-t)>T.height/2)){var o=r4(T.left,T.centerY,e,t);g>o&&(g=o,s=E);var r=i[E+1];if(!(r&&r.y===T.y)){var o=r4(T.right,T.centerY,e,t);g>o&&(g=o,s=E+1)}}}return s};const $yt=Phaser.Utils.Objects.IsPlainObject,bu=Phaser.Utils.Objects.GetValue,Kyt=Phaser.Display.Align.CENTER;var bP=function(e,t,i,s){if(e===`
`)return this.addNewLine(),this;var g,E,n,T;if(ng.call(this,e),$yt(t)){var r=t;t=bu(r,"padding",0),i=bu(r,"key",void 0),s=bu(r,"index",void 0),g=bu(r,"offsetX",0),E=bu(r,"offsetY",0),n=bu(r,"offsetOriginX",0),T=bu(r,"offsetOriginY",0)}t===void 0&&(t=0),g===void 0&&(g=0),E===void 0&&(E=0),n===void 0&&(n=0),T===void 0&&(T=0);var r=this.getSizerConfig(e);return r.align=Kyt,r.padding=qu(t),r.alignOffsetX=g,r.alignOffsetY=E,r.alignOffsetOriginX=n,r.alignOffsetOriginY=T,s===void 0||s>=this.sizerChildren.length?this.sizerChildren.push(e):this.sizerChildren.splice(s,0,e),i!==void 0&&this.addChildrenMap(i,e),this};const Jyt={add(e,t,i){if(Na(e))for(var s=e,g=0,E=s.length;g<E;g++)bP.call(this,s[g],t);else bP.call(this,e,t,i);return this},addNewLine(){return this.sizerChildren.push(`
`),this},insert(e,t,i,s){return bP.call(this,t,i,s,e),this},insertAtPosition(e,t,i,s,g){var E=Hyt.call(this,e,t);return E===-1&&(E=void 0),this.insert(E,i,s,g),this}},Zyt=Phaser.Utils.Array.Remove,jyt={remove(e,t){return this.getParentSizer(e)!==this?this:(Zyt(this.sizerChildren,e),sg.call(this,e,t),this)},removeAll(e){for(var t=this.sizerChildren.length-1;t>=0;t--)this.remove(this.sizerChildren[t],e);return this},clear(e){return this.sizerChildren.length=0,mT.call(this,e),this}};var kN={getChildrenWidth:Iyt,getChildrenHeight:Byt,getChildrenSizers:Gyt,preLayout:kyt,layoutChildren:Nyt,hasWidthWrap:Uyt,runWidthWrap:Vyt,hasHeightWrap:zyt,runHeightWrap:Wyt,getExpandedChildWidth:Yyt,getExpandedChildHeight:Xyt};Object.assign(kN,Jyt,jyt,dR);var Qyt=function(e){e===void 0&&(e=this.sizerChildren);for(var t=0,i,s,g=!1,E=0,n=e.length;E<n;E++)i=e[E],i!==`
`&&(s=this.getChildWidth(i),s===void 0&&(g=!0),!g&&(t=Math.max(s,t)));if(!g)return t},qyt=function(e){e===void 0&&(e=this.sizerChildren);for(var t=0,i,s,g=!1,E=0,n=e.length;E<n;E++)i=e[E],i!==`
`&&(s=this.getChildHeight(i),s===void 0&&(g=!0),!g&&(t=Math.max(s,t)));if(!g)return t};const n4=Phaser.Utils.Objects.IsPlainObject,bn=Phaser.Utils.Objects.GetValue;class Dh extends _u{constructor(t,i,s,g,E,n){n4(i)?(n=i,i=bn(n,"x",0),s=bn(n,"y",0),g=bn(n,"width",void 0),E=bn(n,"height",void 0)):n4(g)&&(n=g,g=bn(n,"width",void 0),E=bn(n,"height",void 0)),super(t,i,s,g,E,n),this.type="rexFixWidthSizer",this.sizerChildren=[],this.runChildrenWrapFlag=!0,this.setOrientation(bn(n,"orientation",0)),this.setItemSpacing(bn(n,"space.item",0)),this.setLineSpacing(bn(n,"space.line",0)),this.setIntentLeft(bn(n,"space.indentLeftOdd",0),bn(n,"space.indentLeftEven",0)),this.setIntentTop(bn(n,"space.indentTopOdd",0),bn(n,"space.indentTopEven",0)),this.setAlign(bn(n,"align",0)),this.setJustifyPercentage(bn(n,"justifyPercentage",.25)),this.setRTL(bn(n,"rtl",!1)),this.wrapResult=void 0,this.addChildrenMap("items",this.sizerChildren)}setOrientation(t){return this.orientation=Qu(t),this}setItemSpacing(t){return this.space.item=t,this}setLineSpacing(t){return this.space.line=t,this}setIntentLeft(t,i){return this.space.indentLeftOdd=t,this.space.indentLeftEven=i,this}setIntentTop(t,i){return this.space.indentTopOdd=t,this.space.indentTopEven=i,this}setAlign(t){return typeof t=="string"&&(t=_yt[t]),this.align=t,this}setJustifyPercentage(t){return this.justifyPercentage=t,this}setRTL(t){return t===void 0&&(t=!0),this.rtl=t,this}get maxChildWidth(){return this._maxChildWidth===void 0&&(this._maxChildWidth=Qyt.call(this)),this._maxChildWidth}get maxChildHeight(){return this._maxChildHeight===void 0&&(this._maxChildHeight=qyt.call(this)),this._maxChildHeight}}const _yt={left:0,top:0,right:1,bottom:1,center:2,justify:3,"justify-left":3,"justify-top":3,"justify-right":4,"justify-bottom":4,"justify-center":5};Object.assign(Dh.prototype,kN);It.register("fixWidthSizer",function(e,t,i,s,g){var E=new Dh(this.scene,e,t,i,s,g);return this.scene.add.existing(E),E});Dt(window,"RexPlugins.UI.FixWidthSizer",Dh);It.register("overlapSizer",function(e,t,i,s,g){var E=new oa(this.scene,e,t,i,s,g);return this.scene.add.existing(E),E});Dt(window,"RexPlugins.UI.OverlapSizer",oa);It.register("space",function(){var e=new fR(this.scene);return e});Dt(window,"RexPlugins.UI.Space",fR);It.register("label",function(e){var t=new xl(this.scene,e);return this.scene.add.existing(t),t});Dt(window,"RexPlugins.UI.Label",xl);const s4=["alpha","tint","flipX","flipY"];var mR=function(e,t){if(!t)return e;for(var i=0,s=s4.length;i<s;i++){var g=s4[i];g in t&&g in e&&(e[g]=t[g])}if("origin"in t&&"originX"in e)e.setOrigin(t.origin);else{var E,n;"originX"in t&&"originX"in e&&(E=t.originX),"originY"in t&&"originY"in e&&(n=t.originY),E!==void 0&&n!==void 0&&e.setOrigin(E,n)}return e},zr=function(e,t){var i;t&&(t.hasOwnProperty("$type")?i=t.$type:t.hasOwnProperty("barColor")?i="bar":t.hasOwnProperty("leftWidth")?i="nineSlice":t.hasOwnProperty("key")&&(i="image"));var s;switch(i){case"bar":s=new PT(e,t);break;case"image":s=new fg(e,t);break;case"nineSlice":t.hasOwnProperty("stretchMode")?s=new vg(e,t):s=new cg(e,t);break;default:s=new dg(e,t);break}return mR(s,t),e.add.existing(s),s},txt=function(){switch(this.scrollMode){case 0:case 1:PP.call(this),this.updateController(),wP.call(this),MP.call(this);break;default:PP.call(this,"y"),PP.call(this,"x"),this.updateController(),wP.call(this,"y"),wP.call(this,"x"),MP.call(this,"y"),MP.call(this,"x");break}return this},PP=function(e){var t,i,s,g;switch(this.scrollMode){case 0:case 1:t=this.topChildOY,i=this.bottomChildOY,s=this.childrenMap.scroller,g=this.childrenMap.slider,e=this.scrollMode===0?"Y":"X";break;default:e=e.toUpperCase(),e==="Y"?(t=this.topChildOY,i=this.bottomChildOY):(t=this.leftChildOX,i=this.rightChildOX),s=this.childrenMap[`scroller${e}`],g=this.childrenMap[`slider${e}`]}var E=e==="Y"?this.scaleY:this.scaleX;i*=E,s&&s.setBounds(t,i),g&&(g.setEnable(t!==i),g.tickLength&&g.setTick(g.tickLength,t,i))},wP=function(e){switch(this.scrollMode){case 0:case 1:var i=this.childrenMap.slider;i&&this.hideUnscrollableSlider&&this.setChildVisible(i,this.isOverflow);var g=this.childrenMap.scroller;g&&this.disableUnscrollableDrag&&g.setEnable(this.isOverflow);break;default:e=e.toUpperCase();var t=this[`isOverflow${e}`],i=this.childrenMap[`slider${e}`],s=this[`hideUnscrollableSlider${e}`];i&&s&&this.setChildVisible(i,t);var g=this.childrenMap.scroller,E=this[`disableUnscrollableDrag${e}`];g&&E&&g.setEnable(t);break}},MP=function(e){switch(this.scrollMode){case 0:case 1:if(!this.adaptThumbSizeMode)return;var E=this.childrenMap.slider;if(!E)return;var t=Math.min(this.childVisibleHeight/this.childHeight,1),n=E.childrenMap.track,T=E.childrenMap.thumb,r=this.minThumbSize;if(this.scrollMode===0){var i=n.displayHeight*t;r!==void 0&&i<r&&(i=r),Mn(T,void 0,i)}else{var s=n.displayWidth*t;r!==void 0&&s<r&&(s=r),Mn(T,s,void 0)}a4(E);break;default:e=e.toUpperCase();var g=this[`adaptThumb${e}SizeMode`];if(!g)return;var E=this.childrenMap[`slider${e}`];if(!E)return;var n=E.childrenMap.track,T=E.childrenMap.thumb,r=this[`minThumb${e}Size`];if(e==="Y"){var t=Math.min(this.childVisibleHeight/this.childHeight,1),i=n.displayHeight*t;r!==void 0&&i<r&&(i=r),Mn(T,void 0,i)}else{var t=Math.min(this.childVisibleWidth/this.childWidth,1),s=n.displayWidth*t;r!==void 0&&s<r&&(s=r),Mn(T,s,void 0)}a4(E);break}},a4=function(e){var t=e.minWidth,i=e.minHeight;e.minWidth=e.width,e.minHeight=e.height,e.layout(),e.minWidth=t,e.minHeight=i},ext=function(){switch(this.scrollMode){case 0:case 1:var e=this.childrenMap.scroller,t=this.childrenMap.slider;e&&e.setValue(this.childOY),t&&t.setValue(this.t);break;default:var i=this.childrenMap.scrollerY,s=this.childrenMap.sliderY,g=this.childrenMap.scrollerX,E=this.childrenMap.sliderX;i&&i.setValue(this.childOY),s&&s.setValue(this.t),g&&g.setValue(this.childOX),E&&E.setValue(this.s);break}};const My=Phaser.Math.Clamp,ixt={setChildOY(e,t){return t===void 0&&(t=!1),t&&(e=My(e,this.bottomChildOY,this.topChildOY)),this.childOY=e,this},addChildOY(e,t){return this.setChildOY(this.childOY+e,t),this},setT(e,t){return t===void 0&&(t=!1),t&&(e=My(e,0,1)),this.t=e,this},addT(e,t){return this.setT(this.t+e,t),this},scrollToTop(){return this.t=0,this},scrollToBottom(){if(this.t=1,this.t===0)return this;do this.t=1;while(this.t!==1);return this},setChildOX(e,t){return t===void 0&&(t=!1),t&&(e=My(e,this.leftChildOX,this.rightChildOX)),this.childOX=e,this},addChildOX(e,t){return this.setChildOX(this.childOX+e,t),this},setS(e,t){return t===void 0&&(t=!1),t&&(e=My(e,0,1)),this.s=e,this},addS(e,t){return this.setS(this.s+e,t),this},scrollToLeft(){return this.s=0,this},scrollToRight(){if(this.s=1,this.s===0)return this;do this.s=1;while(this.s!==1);return this}};var NN={resizeController:txt,updateController:ext};Object.assign(NN,ixt);const UN={v:0,vertical:0,y:0,h:1,horizontal:1,x:1,xy:2,vh:2};var yR=function(e,t){t===void 0&&(t="scrollMode"),e.hasOwnProperty(t)||(e[t]=rxt(e));var i=e[t];return typeof i=="string"&&(i=UN[i]),i},rxt=function(e){var t=!!e.sliderY||!!e.scrollerY,i=!!e.sliderX||!!e.scrollerX,s;return t&&i?s=2:t?s=0:i?s=1:s=0,s};const Zr=Phaser.Utils.Objects.GetValue;var nxt=function(e,t,i){var s=Zr(i,"child"),g=Zr(s,"gameObject",void 0);if(g){var E=Zr(i,"space.child",0);e.childMargin={};var n=e.childMargin,T={};if(typeof E=="number")switch(e.scrollMode){case 0:case 1:n.top=0,n.bottom=0,n.left=0,n.right=0;break;default:n.top=E,n.bottom=E,n.left=E,n.right=E;break}else switch(e.scrollMode){case 0:n.top=Zr(E,"top",0),n.bottom=Zr(E,"bottom",0),T.left=Zr(E,"left",0),T.right=Zr(E,"right",0);break;case 1:n.top=Zr(E,"left",0),n.bottom=Zr(E,"right",0),T.top=Zr(E,"top",0),T.bottom=Zr(E,"bottom",0);break;default:n.top=Zr(E,"top",0),n.bottom=Zr(E,"bottom",0),n.left=Zr(E,"left",0),n.right=Zr(E,"right",0);break}t.add(g,{column:1,row:1,align:Zr(s,"align","center"),padding:T,expand:{width:Zr(s,"expandWidth",!0),height:Zr(s,"expandHeight",!0)}})}e.addChildrenMap("child",g)};const o4=Phaser.Math.Percent;var sxt=function(e,t,i){var s;return e.y===t.y?s=o4(i.x,e.x,t.x):e.x===t.x&&(s=o4(i.y,e.y,t.y)),s},VN=function(e,t){RP.x=e,RP.y=t;var i,s;this.reverseAxis?(i=this.getEndPoint(),s=this.getStartPoint()):(i=this.getStartPoint(),s=this.getEndPoint());var g=sxt(i,s,RP);return g},RP={},axt=function(e,t,i){!this.enable||!this.inputActive||(this.value=VN.call(this,t,i))},AP=function(e){if(!(!this.enable||!this.inputActive)&&e.isDown){var t=VN.call(this,e.worldX,e.worldY);this.stopEaseValue(),this.easeValueDuration===0||Math.abs(this.value-t)<.1?this.value=t:this.easeValueTo(t)}};const oxt=Phaser.Utils.Objects.GetValue;var lxt=function(e){this.inputActive=!1;var t=oxt(e,"input",0);typeof t=="string"&&(t=hxt[t]);var i=this.childrenMap.thumb;switch(t){case 0:i&&(i.setInteractive(),this.scene.input.setDraggable(i),i.on("dragstart",function(g){this.inputActive=!0,this.eventEmitter.emit("inputstart",g)},this).on("dragend",function(g){this.inputActive=!1,this.eventEmitter.emit("inputend",g)},this).on("drag",axt,this));break;case 1:this.setInteractive().on("pointerdown",function(g){this.inputActive=!0,this.eventEmitter.emit("inputstart",g)},this).on("pointerdown",AP,this);var s=function(g){this.inputActive&&(this.inputActive=!1,this.eventEmitter.emit("inputend",g))};this.scene.input.on("pointerup",s,this).on("pointermove",AP,this),this.once("destroy",function(){this.scene.input.on("pointerup",s,this).off("pointermove",AP,this)},this);break}};const hxt={pan:0,drag:0,click:1,none:-1};var zN=function(e,t){t===void 0&&(t=uxt);var i=this.childrenMap.thumb,s=i.x,g=i.y;return rg(i,this.innerLeft,this.innerTop,this.innerWidth,this.innerHeight,e),t.x=i.x,t.y=i.y,i.x=s,i.y=g,t},uxt={};const fxt=Phaser.Display.Align.LEFT_CENTER,dxt=Phaser.Display.Align.TOP_CENTER;var cxt=function(e){if(e===void 0&&(e=vxt),this.childrenMap.thumb){var t=this.orientation===0?fxt:dxt;zN.call(this,t,e)}else this.orientation===0?(e.x=this.innerLeft+1,e.y=this.centerY):(e.x=this.centerX,e.y=this.innerTop+1);return e},vxt={};const pxt=Phaser.Display.Align.RIGHT_CENTER,gxt=Phaser.Display.Align.BOTTOM_CENTER;var mxt=function(e){if(e===void 0&&(e=yxt),this.childrenMap.thumb){var t=this.orientation===0?pxt:gxt;zN.call(this,t,e)}else this.orientation===0?(e.x=this.innerRight-1,e.y=this.centerY):(e.x=this.centerX,e.y=this.innerBottom-1);return e},yxt={};const l4=Phaser.Math.Linear;var xxt=function(e,t,i,s){return s===void 0&&(s=Txt),s.x=l4(t.x,i.x,e),s.y=l4(t.y,i.y,e),s},Txt={},Cxt=function(e){var t=this.childrenMap.thumb;if(t===void 0)return this;e===void 0&&(e=this.value);var i,s;return this.reverseAxis?(i=this.getEndPoint(),s=this.getStartPoint()):(i=this.getStartPoint(),s=this.getEndPoint()),xxt(e,i,s,t),t.x+=this.thumbOffsetX,t.y+=this.thumbOffsetY,this.resetChildPositionState(t),this};const Sxt=Phaser.Display.Align.LEFT_CENTER,Ext=Phaser.Display.Align.TOP_CENTER,bxt=Phaser.Display.Align.RIGHT_CENTER,Pxt=Phaser.Display.Align.BOTTOM_CENTER;var wxt=function(e){var t=this.childrenMap.indicator;if(t===void 0)return this;e===void 0&&(e=this.value);var i=this.reverseAxis,s,g,E=this.childrenMap.thumb;if(E)if(this.orientation===0){var n=Si(E);if(i){var T=E.x-n*E.originX;s=this.right-T}else{var T=E.x-n*E.originX,r=T+n;s=r-this.left}}else{var o=Ei(E);if(i){var y=E.y-o*E.originY;g=this.bottom-y}else{var y=E.y-o*E.originY,d=y+o;g=d-this.top}}else this.orientation===0?s=this.width*e:g=this.height*e;Mn(t,s,g);var h;i?h=this.orientation===0?bxt:Pxt:h=this.orientation===0?Sxt:Ext,zk(t,this,h),this.resetChildPositionState(t)};const As=Phaser.Utils.Objects.GetValue,Ry=Phaser.Utils.Objects.IsPlainObject,Mxt=Phaser.Math.Clamp,Rxt=Phaser.Math.Snap.To;class sc extends Oh(ei){constructor(t,i){super(t,i),this.type="rexSlider",this.bootProgressBase(i),this.reverseAxis=As(i,"reverseAxis",!1);var s=As(i,"background",void 0),g=As(i,"track",void 0),E=As(i,"indicator",void 0),n=As(i,"thumb",void 0);if(s&&(Ry(s)&&(s=zr(t,s)),this.addBackground(s)),g&&(Ry(g)&&(g=zr(t,g)),this.add(g,{proportion:1,expand:!0,minWidth:this.orientation===0?0:void 0,minHeight:this.orientation===1?0:void 0})),E&&(Ry(E)&&(E=zr(t,E)),this.pin(E)),n){Ry(n)&&(n=zr(t,n)),this.pin(n);var T=As(i,"thumbOffsetX",0),r=As(i,"thumbOffsetY",0);this.setThumbOffset(T,r)}this.addChildrenMap("background",s),this.addChildrenMap("track",g),this.addChildrenMap("indicator",E),this.addChildrenMap("thumb",n),this.setEnable(As(i,"enable",void 0));var o=As(i,"tick",void 0);o===void 0&&(o=As(i,"gap",void 0)),this.setGap(o),lxt.call(this,i),this.setValue(As(i,"value",0),As(i,"min",void 0),As(i,"max",void 0))}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}setGap(t,i,s){return t&&i!==void 0&&(t=t/(s-i)),this.gap=t,this}setTick(t,i,s){return this.setGap(t,i,s),this}get tick(){return this.gap}set tick(t){this.gap=t}setThumbOffset(t,i){return this.thumbOffsetX=t,this.thumbOffsetY=i,this}get value(){return this._value}set value(t){this.gap!==void 0&&(t=Rxt(t,this.gap));var i=this._value;this._value=Mxt(t,0,1),i!==this._value&&(this.updateThumb(this._value),this.updateIndicator(this._value),this.eventEmitter.emit("valuechange",this._value,i,this.eventEmitter))}postLayout(t,i,s){return this.updateThumb(),this.updateIndicator(),super.postLayout(t,i,s),this}}var Axt={getStartPoint:cxt,getEndPoint:mxt,updateThumb:Cxt,updateIndicator:wxt};Object.assign(sc.prototype,Axt);const ns=Phaser.Utils.Objects.GetValue;class xR extends ei{constructor(t,i){super(t,i),this.type="rexScrollBar";var s=ns(i,"background",void 0),g=ns(i,"buttons",void 0),E=ns(g,"top",ns(g,"left",void 0)),n=ns(g,"bottom",ns(g,"right",void 0)),T,r=ns(i,"slider",void 0);if(s&&this.addBackground(s),E){this.add(E);var o=new Kd(E);o.on("intouch",function(){if(this.enable){var c=T.reverseAxis?this.scrollStep:-this.scrollStep;this.value+=c}},this)}if(r){r.orientation=this.orientation,r.eventEmitter=this,r.value=null;var y;if(this.orientation===0){var d=ns(r,"width",void 0);y=d===void 0?1:0}else{var h=ns(r,"height",void 0);y=h===void 0?1:0}T=new sc(t,r),t.add.existing(T),this.add(T,{proportion:y})}if(n){this.add(n);var o=new Kd(n);o.on("intouch",function(){if(this.enable){var u=T.reverseAxis?-this.scrollStep:this.scrollStep;this.value+=u}},this)}var l=[E,n];this.addChildrenMap("background",s),this.addChildrenMap("slider",T),this.addChildrenMap("buttons",l);var a=ns(i,"valuechangeCallback",null);if(a!==null){var f=ns(i,"valuechangeCallbackScope",void 0);this.on("valuechange",a,f)}this.setEnable(ns(i,"enable",void 0)),this.setValue(ns(i,"value",0)),this.setScrollStep(ns(g,"step",.01))}setScrollStep(t){return this.scrollStep=t,this}get enable(){return this.childrenMap.slider?this.childrenMap.slider.enable:!1}set enable(t){this.childrenMap.slider&&this.childrenMap.slider.setEnable(t)}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}get value(){return this.childrenMap.slider?this.childrenMap.slider.value:0}set value(t){this.childrenMap.slider&&(this.childrenMap.slider.value=t)}setValue(t,i,s){return this.childrenMap.slider&&this.childrenMap.slider.setValue(t,i,s),this}addValue(t,i,s){return this.childrenMap.slider&&this.childrenMap.slider.addValue(t,i,s),this}getValue(t,i){return this.childrenMap.slider?this.childrenMap.slider.getValue(t,i):0}easeValueTo(t,i,s){return this.childrenMap.slider&&this.childrenMap.slider.easeValueTo(t,i,s),this}stopEaseValue(){return this.childrenMap.slider&&this.childrenMap.slider.stopEaseValue(),this}setEaseValueDuration(t){return this.childrenMap.slider&&this.childrenMap.slider.setEaseValueDuration(t),this}setEaseValueFunction(t){return this.childrenMap.slider&&this.childrenMap.slider.setEaseValueFunction(t),this}setGap(t,i,s){return this.childrenMap.slider&&this.childrenMap.slider.setGap(t,i,s),this}get gap(){if(this.childrenMap.slider)return this.childrenMap.slider.gap}set gap(t){this.childrenMap.slider&&(this.childrenMap.slider.gap=t)}setTick(t,i,s){return this.setGap(t,i,s),this}get tick(){if(this.childrenMap.slider)return this.childrenMap.slider.tick}set tick(t){this.childrenMap.slider&&(this.childrenMap.slider.tick=t)}}var Oxt=function(e,t){t===void 0&&(t={});var i=Ga(t);t={slider:i},t.orientation=i.orientation,delete i.orientation,t.background=i.background,delete i.background,t.buttons=i.buttons,delete i.buttons,t.value=null;var s=new xR(e,t);e.add.existing(s);var g=s.childrenMap.slider;return s.addChildrenMap("track",g.childrenMap.track),s.addChildrenMap("indicator",g.childrenMap.indicator),s.addChildrenMap("thumb",g.childrenMap.thumb),s};const Lxt=Phaser.Math.Snap.To;Phaser.Math.Clamp;var Dxt=function(){this.emit("dragstart")},Fxt=function(){this.emit("dragend")},Ixt=function(){this.value+=this.dragDelta},Bxt=function(){var e=this.value,t=this.dragSpeed,i=this.snapStep,s=!!i;if(s){var E=e,n=t===0?0:t*t/(2*this.slidingDeceleration);if(E+=t>0?n:-n,E=Lxt(E,i,this.minValue),n=Math.abs(E-e),n>0){var g;t===0?(g=this.backDeceleration,t=Math.sqrt(2*g*n)):(g=t*t/(2*n),g*=.99),this._slowDown.init(e,void 0,t,g,E)}else this._slowDown.stop(),this._state.next()}else if(t===0)this._slowDown.stop(),this._state.next();else{var g=this.slidingDeceleration;this._slowDown.init(e,t>0,t,g)}},Gxt=function(e,t){t*=.001;var i=this._slowDown.update(t).value;this.overMax(i)?(this.value=this.maxValue,this._slowDown.stop()):this.overMin(i)?(this.value=this.minValue,this._slowDown.stop()):this.value=i},kxt=function(){var e=this.value,t=this.outOfMinBound?this.minValue:this.maxValue,i=Math.abs(t-e),s=this.backDeceleration,g=Math.sqrt(2*s*i);this._slowDown.init(e,void 0,g,s,t)},Nxt=function(e,t){t*=.001,this.value=this._slowDown.update(t).value,this._slowDown.isMoving||this._state.next()},h4=function(){this._slowDown.stop()};class Uxt extends yl{constructor(t,i){super(i),this.parent=t,this.init()}init(){this.start("IDLE")}next_IDLE(){var t,i=this.parent,s=i.dragState;return s.isDown&&(t=i.dragThreshold===0?"DRAG":"DRAGBEGIN"),t}update_IDLE(t,i){this.next()}next_DRAGBEGIN(){var t,i=this.parent,s=i.dragState;return s.isDown?t=s.pointer.getDistance()>=i.dragThreshold?"DRAG":"DRAGBEGIN":t="IDLE",t}update_DRAGBEGIN(t,i){this.next()}next_DRAG(){var t,i=this.parent,s=i.dragState;return s.isUp&&(i.outOfBounds?t="BACK":i.slidingEnable?t="SLIDE":t="IDLE"),t}update_DRAG(t,i){var s=this.parent,g=s.dragState;g.justMoved&&Ixt.call(s),this.next()}enter_DRAG(){Dxt.call(this.parent)}exit_DRAG(){Fxt.call(this.parent)}next_SLIDE(){var t,i=this.parent,s=i.dragState;return s.isDown?t="DRAG":i.isSliding||(t="IDLE"),t}enter_SLIDE(){Bxt.call(this.parent)}exit_SLIDE(){h4.call(this.parent)}update_SLIDE(t,i){Gxt.call(this.parent,t,i),this.next()}next_BACK(){var t,i=this.parent,s=i.dragState;return s.isDown?t="DRAG":i.isPullBack||(t="IDLE"),t}enter_BACK(){kxt.call(this.parent)}exit_BACK(){h4.call(this.parent)}update_BACK(t,i){Nxt.call(this.parent,t,i),this.next()}}const hp=Phaser.Utils.Objects.GetValue,Vxt=Phaser.Math.Distance.Between;class zxt extends ji{constructor(t,i){super(t,i),this._enable=void 0,this.rectBoundsInteractive=hp(i,"rectBoundsInteractive",!1),this.rectBoundsInteractive||t.setInteractive(hp(i,"inputConfig",void 0)),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.isInTouched=!1,this.holdStartTime=void 0,this.x=void 0,this.y=void 0,this.preX=void 0,this.preY=void 0,this.localX=void 0,this.localY=void 0,this.justMoved=!1,this.setEnable(hp(t,"enable",!0)),this.holdThreshold=hp(t,"holdThreshold",50),this.pointerOutReleaseEnable=hp(t,"pointerOutRelease",!0),this}boot(){var t=this.scene,i=this.parent;this.rectBoundsInteractive?(t.input.on("pointerdown",this.onPointIn,this),t.input.on("pointerup",this.onPointOut,this),t.input.on("pointermove",this.onPointerMove,this)):(i.on("pointerdown",this.onPointIn,this),i.on("pointerup",this.onPointOut,this),this.pointerOutReleaseEnable&&i.on("pointerout",this.onPointOut,this),i.on("pointermove",this.onPointerMove,this)),t.sys.events.on("preupdate",this.preupdate,this)}shutdown(t){if(!this.isShutdown){var i=this.scene;this.parent,this.rectBoundsInteractive&&(i.input.off("pointerdown",this.onPointIn,this),i.input.off("pointerup",this.onPointOut,this),i.input.off("pointermove",this.onPointerMove,this)),i.sys.events.off("preupdate",this.preupdate,this),this.pointer=void 0,super.shutdown(t)}}get enable(){return this._enable}set enable(t){this._enable!==t&&(t||(this.isInTouched=!1,this.pointer=void 0),this._enable=t)}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}setPointerOutReleaseEnable(t){return t===void 0&&(t=!0),this.pointerOutReleaseEnable=t,this}get isDown(){return this.pointer&&this.pointer.isDown}get isUp(){return!this.isDown}get dx(){return this.x-this.preX}get dy(){return this.y-this.preY}get dt(){var t=SM(this.scene);return t}get speed(){if(this.x===this.preX&&this.y===this.preY)return 0;var t=Vxt(this.preX,this.preY,this.x,this.y),i=t/(this.dt*.001);return i}get speedX(){return this.dx/(this.dt*.001)}get speedY(){return this.dy/(this.dt*.001)}onPointIn(t,i,s){!this.enable||!t.isDown||this.pointer!==void 0||this.rectBoundsInteractive&&!bo(this.parent,t)||(this.pointer=t,this.localX=i,this.localY=s)}onPointOut(t){!this.enable||this.pointer!==t||(this.pointer=void 0)}onPointerMove(t,i,s){if(!(!this.enable||!t.isDown||this.pointer!==t)){if(this.rectBoundsInteractive&&this.pointerOutReleaseEnable&&!bo(this.parent,t)){this.onPointOut(t);return}this.localX=i,this.localY=s}}preupdate(t,i){if(this.enable){var s=this.pointer;this.justMoved=!1,s&&!this.isInTouched?(this.x=s.worldX,this.y=s.worldY,this.preX=s.worldX,this.preY=s.worldY,this.isInTouched=!0,this.holdStartTime=void 0,this.emit("touchstart",s,this.localX,this.localY)):s&&this.isInTouched?this.x===s.x&&this.y===s.y?this.holdStartTime===void 0?this.holdStartTime=t:t-this.holdStartTime>this.holdThreshold&&(this.preX=this.x,this.preY=this.y):(this.preX=this.x,this.preY=this.y,this.x=s.worldX,this.y=s.worldY,this.holdStartTime=void 0,this.justMoved=!0,this.emit("touchmove",s,this.localX,this.localY)):!s&&this.isInTouched&&(this.isInTouched=!1,this.holdStartTime=void 0,this.emit("touchend",s))}}}const OP=Phaser.Utils.Objects.GetValue;class Wxt{constructor(t){this.resetFromJSON(t)}resetFromJSON(t){return this.setValue(OP(t,"value",0)),this.setSpeed(OP(t,"speed",0)),this.setAcceleration(OP(t,"acceleration",0)),this}reset(){this.setValue(0),this.setSpeed(0),this.setAcceleration(0)}setValue(t){return this.value=t,this}setSpeed(t){return this.speed=t,this}setAcceleration(t){return this.acceleration=t,this}updateSpeed(t){return this.acceleration!==0&&(this.speed+=this.acceleration*t,this.speed<0&&(this.speed=0)),this}getDeltaValue(t){return this.updateSpeed(t),this.speed<=0?0:this.speed*t}update(t){return this.updateSpeed(t),this.speed>0&&(this.value+=this.getDeltaValue(t)),this}get isMoving(){return this.speed>0}}class Yxt{constructor(){this.value,this.dir,this.movement=new Wxt}init(t,i,s,g,E){return this.value=t,this.end=E,E!==void 0?this.dir=t<E:this.dir=i,s=Math.abs(s),this.movement.setSpeed(s).setAcceleration(-g),this}stop(){this.movement.reset()}update(t){var i=this.movement.getDeltaValue(t);return this.dir||(i=-i),this.end===void 0?this.value+=i:i===0?this.value=this.end:(this.value+=i,this.dir?this.value>this.end&&(this.value=this.end):this.value<this.end&&(this.value=this.end)),this}get isMoving(){return this.movement.isMoving}}const lr=Phaser.Utils.Objects.GetValue,Xxt=Phaser.Math.Clamp;class Hxt extends ji{constructor(t,i){super(t,i);var s=lr(i,"enable",!0);this._state=new Uxt(this,{enable:s,eventEmitter:!1});var g={rectBoundsInteractive:lr(i,"rectBoundsInteractive",!1),inputConfig:lr(i,"inputConfig",void 0),enable:s,pointerOutRelease:lr(i,"pointerOutRelease",!0),eventEmitter:!1};this.dragState=new zxt(t,g),this._enable=void 0,this._value=void 0,this._slowDown=new Yxt,this.setSnapStep(lr(i,"snapStep",void 0));var E=lr(i,"valuechangeCallback",null);if(E!==null){var n=lr(i,"valuechangeCallbackScope",void 0);this.on("valuechange",E,n)}if(E=lr(i,"overmaxCallback",null),E!==null){var n=lr(i,"overmaxCallbackScope",void 0);this.on("overmax",E,n)}if(E=lr(i,"overminCallback",null),E!==null){var n=lr(i,"overminCallbackScope",void 0);this.on("overmin",E,n)}this.resetFromJSON(i),this.boot()}resetFromJSON(t){this.setOrientationMode(lr(t,"orientation",0)),this.setDragThreshold(lr(t,"threshold",10)),this.setSlidingDeceleration(lr(t,"slidingDeceleration",5e3)),this.setBackDeceleration(lr(t,"backDeceleration",2e3));var i=lr(t,"dragRate",1);i=i*(lr(t,"dragReverse",!1)?-1:1),this.setDragRate(i);var s=lr(t,"bounds",void 0);return s?this.setBounds(s):this.setBounds(lr(t,"max",0),lr(t,"min",0)),this.setValue(lr(t,"value",this.maxValue||0)),this.setEnable(lr(t,"enable",!0)),this}boot(){this.scene.sys.events.on("preupdate",this._state.update,this._state)}shutdown(t){this.isShutdown||(this.scene.sys.events.off("preupdate",this._state.update,this._state),this._state.destroy(t),this.dragState.destroy(t),this._state=void 0,this.dragState=void 0,super.shutdown(t))}get enable(){return this._enable}set enable(t){if(this._enable!==t)return this._enable=t,this._state.setEnable(t),this.dragState.setEnable(t),this}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}setOrientationMode(t){return typeof t=="string"&&(t=$xt[t]),this.orientationMode=t,this}setDragThreshold(t){return this.dragThreshold=t,this}setSlidingDeceleration(t){return this.slidingDeceleration=t,this}setBackDeceleration(t){return this.backDeceleration=t,this}setDragRate(t){return this.dragRate=t,this}setBounds(t,i){if(Array.isArray(t)){var s=t;t=s[0],i=s[1]}return t<i?(this.minValue=t,this.maxValue=i):(this.minValue=i,this.maxValue=t),this}setSnapStep(t){return this.snapStep=t,this}get value(){return this._value}set value(t){if(t!==this._value){var i=this._value,s=this.overMax(t),g=this.overMin(t);s&&this.emit("overmax",t,i),g&&this.emit("overmin",t,i),this.backEnable||(s&&(t=this.maxValue),g&&(t=this.minValue)),this._value=t,this.emit("valuechange",t,i)}}setValue(t,i){return i===void 0&&(i=!1),i&&(t=Xxt(t,this.minValue,this.maxValue)),this.value=t,this}addValue(t,i){return this.setValue(this.value+t,i),this}get state(){return this._state.state}get isDragging(){return this.dragState.isInTouched}get outOfMaxBound(){return this.overMax(this.value)}get outOfMinBound(){return this.overMin(this.value)}get outOfBounds(){return this.outOfMinBound||this.outOfMaxBound}overMax(t){return this.maxValue!=null&&t>this.maxValue}overMin(t){return this.minValue!=null&&t<this.minValue}get backEnable(){return typeof this.backDeceleration=="number"}get isPullBack(){return this._slowDown.isMoving}get slidingEnable(){return typeof this.slidingDeceleration=="number"}get isSliding(){return this._slowDown.isMoving}get dragDelta(){var t;return this.orientationMode===0?t=this.dragState.dy:this.orientationMode===1?t=this.dragState.dx:t=0,t*=this.dragRate,t}get dragSpeed(){var t;return this.orientationMode===0?t=this.dragState.speedY:this.orientationMode===1?t=this.dragState.speedX:t=0,t*=this.dragRate,t}}const $xt={y:0,v:0,vertical:0,x:1,h:1,horizontal:1},Ay=Phaser.Utils.Objects.GetValue;class Kxt extends ji{constructor(t,i){switch(super(t,i),this.parent!==this.scene?this.focusMode=Ay(i,"focus",!0):this.focusMode=!1,typeof this.focusMode=="boolean"&&(this.focusMode=this.focusMode?1:0),this.setSpeed(Ay(i,"speed",.1)),this.setEnable(Ay(i,"enable",!0)),this.focusMode){case 0:case 2:this.scene.input.on("wheel",this.onSceneScroll,this);break;default:t.setInteractive(Ay(i,"inputConfig",void 0)).on("wheel",function(s,g,E,n,T){this.tryScroll(E)},this);break}}destroy(){switch(this.focusMode){case 0:case 2:this.scene.input.off("wheel",this.onSceneScroll,this);break}}onSceneScroll(t,i,s,g,E,n){this.focusMode===2&&!bo(this.parent,t)||this.tryScroll(g)}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}setSpeed(t){return this.speed=t,this}tryScroll(t){if(this.enable)return this.scroll(t),this}scroll(t){return t*=this.speed,this.emit("scroll",t,this.parent,this),this}}const tr=Phaser.Utils.Objects.GetValue,Jxt=Phaser.Math.Snap.To;var Oy=function(e,t,i,s){i=i.toUpperCase();var g=i==="Y",E=e.scrollMode===2,n=e.childrenMap.child,T,r=`snapStep${i}`;if(E)T=tr(s,r,void 0);else{var T=tr(s,"snapStep",void 0);T===void 0&&(T=tr(s,r,void 0))}e[r]=T;var o,y,d=`slider${i}`;if(E||s.hasOwnProperty(d)?o=tr(s,d,void 0):o=tr(s,"slider",void 0),o){o===!0&&(o={}),o.orientation=g?1:0,y=Oxt(e.scene,o);var h,l,a,f=tr(o,"position",0);typeof f=="string"&&(f=Zxt[f]);var c=tr(s,`space.slider${i}`,void 0),u;c===void 0&&(c=tr(s,"space.slider",void 0),c===void 0&&(E?c=0:u=tr(s,"space.child",0)));var v;u===void 0?v=typeof c=="number":v=typeof u=="number",g?f===0?(h=2,l=1,u===void 0?a=v?{left:c}:c:a={left:tr(u,"right",u)}):(h=0,l=1,u===void 0?a=v?{right:c}:c:a={right:tr(u,"left",u)}):f===0?(h=1,l=2,u===void 0?a=v?{top:c}:c:a={top:tr(u,"bottom",u)}):(h=1,l=0,u===void 0?a=v?{bottom:c}:c:a={bottom:tr(u,"top",u)}),t.add(y,{column:h,row:l,align:"center",padding:a,expand:!0}),e[`hideUnscrollableSlider${i}`]=tr(o,"hideUnscrollableSlider",!1),e[`disableUnscrollableDrag${i}`]=tr(o,"disableUnscrollableDrag",!1),e[`adaptThumb${i}SizeMode`]=tr(o,"adaptThumbSize",!1),e[`minThumb${i}Size`]=tr(o,"minThumbSize",void 0)}else e[`hideUnscrollableSlider${i}`]=!1,e[`disableUnscrollableDrag${i}`]=!1,e[`adaptThumb${i}SizeMode`]=!1,e[`minThumb${i}Size`]=void 0;var p=tr(s,"scrollDetectionMode");typeof p=="string"&&(p=jxt[p]);var m,x,C=`scroller${i}`;E||s.hasOwnProperty(C)?m=tr(s,C,!0):m=tr(s,"scroller",!0),m&&n&&(m===!0&&(m={}),m.orientation=g?0:1,p!==void 0&&(m.rectBoundsInteractive=p===1),m.snapStep=T,x=new Hxt(n,m),n.isRexContainerLite&&n.sendChildToBack(n));var P=tr(s,E?`mouseWheelScroller${i}`:"mouseWheelScroller",!1),w;if(P&&n&&(p!==void 0&&(P.focus=p===1?2:0),w=new Kxt(n,P)),e.addChildrenMap(`slider${i}`,y),e.addChildrenMap(`scroller${i}`,x),e.addChildrenMap(`mouseWheelScroller${i}`,w),(!E||g)&&(e.hideUnscrollableSlider=e[`hideUnscrollableSlider${i}`],e.disableUnscrollableDrag=e[`disableUnscrollableDrag${i}`],e.adaptThumbSizeMode=e[`adaptThumb${i}SizeMode`],e.minThumbSize=e[`minThumb${i}Size`],e.addChildrenMap("slider",y),e.addChildrenMap("scroller",x),e.addChildrenMap("mouseWheelScroller",w)),y){var M,R;E?(M=g?"t":"s",R=`scroll${i}`):(M="t",R="scroll"),y.on("valuechange",function(F){e[M]=F,e.emit(R,e)}).on("inputend",function(){var F=e[`snapStep${i}`];if(F){var G=e[g?"topChildOY":"leftChildOX"],I=e[g?"bottomChildOY":"rightChildOX"],B=e[`childO${i}`],k=Jxt(B,F,G),U=500*(Math.abs(k-B)/F);y.setEaseValueDuration(U).easeValueTo(k,G,I)}})}if(x){var A,R;E?(A=`childO${i}`,R=`scroll${i}`):(A="childOY",R="scroll"),x.on("valuechange",function(G){e[A]=G,e.emit(R,e)})}if(w){var L;E?L=`addChildO${i}`:L="addChildOY",w.on("scroll",function(F){var G=e[r];G&&(F=G),e[L](-F,!0)})}};const Zxt={right:0,left:1,bottom:0,top:1},jxt={gameObject:0,rectBounds:1},Ly=Phaser.Utils.Objects.GetValue;var Qxt=function(e,t){var i=e.scene,s=[0,1,0],g=[0,1,0],E=Ly(t,"width"),n=Ly(t,"height");if(!E){var T=Ly(t,"child.expandWidth",!0);T||(s[1]=0)}if(!n){var r=Ly(t,"child.expandHeight",!0);r||(g[1]=0)}var o=new Xa(i,{column:3,row:3,columnProportions:s,rowProportions:g});switch(nxt(e,o,t),e.scrollMode){case 0:Oy(e,o,"y",t);break;case 1:Oy(e,o,"x",t);break;default:Oy(e,o,"y",t),Oy(e,o,"x",t);break}return o};const vo=Phaser.Utils.Objects.GetValue;let pg=class extends ei{constructor(t,i){i===void 0&&(i={});var s=yR(i),g=s===1;i.orientation=g?0:1,super(t,i),this.type=vo(i,"type","rexScrollable"),this.scrollMode=s;var E=vo(i,"background",void 0);E&&this.addBackground(E);var n=vo(i,"header",void 0);if(n){var T=vo(i,"align.header","center"),r=vo(i,"space.header",0),o;g?o={right:r}:o={bottom:r},this.add(n,{proportion:0,align:T,padding:o,expand:vo(i,"expand.header",!0)})}var y=Qxt(this,i);y&&this.add(y,{proportion:1,align:"center",padding:0,expand:!0});var d=vo(i,"footer",void 0);if(d){var T=vo(i,"align.footer","center"),h=vo(i,"space.footer",0),o;g?o={left:h}:o={top:h},this.add(d,{proportion:0,align:T,padding:o,expand:vo(i,"expand.footer",!0)})}this.addChildrenMap("background",E),this.addChildrenMap("header",n),this.addChildrenMap("footer",d),this.runLayoutFlag=!1}postLayout(t,i,s){var g=0,E=0;return this.runLayoutFlag?(E=this.t,this.scrollMode===2&&(g=this.s)):this.runLayoutFlag=!0,this.resizeController(),this.setT(E),this.scrollMode===2&&this.setS(g),super.postLayout(t,i,s),this}set t(t){var i=this.childMargin;if(i.top!==0||i.bottom!==0){var s=this.childrenMap.child,g=s.topChildOY-s.bottomChildOY,E=g+i.top+i.bottom,n=E*t-i.top;t=g!==0?n/g:0}this.childrenMap.child.t=t,this.updateController()}get t(){var t=this.childrenMap.child.t,i=this.childMargin;if(i.top!==0||i.bottom!==0){var s=this.childrenMap.child,g=s.topChildOY-s.bottomChildOY,E=g+i.top+i.bottom,n=g*t+i.top;t=E!==0?n/E:0}return t}set s(t){var i=this.childMargin;if(i.left!==0||i.right!==0){var s=this.childrenMap.child,g=s.leftChildOX-s.rightChildOX,E=g+i.left+i.right,n=E*t-i.left;t=g!==0?n/g:0}this.childrenMap.child.s=t,this.updateController()}get s(){var t=this.childrenMap.child.s,i=this.childMargin;if(i.left!==0||i.right!==0){var s=this.childrenMap.child,g=s.leftChildOX-s.rightChildOX,E=g+i.left+i.right,n=g*t+i.left;t=E!==0?n/E:0}return t}set childOY(t){this.childrenMap.child.childOY=t,this.updateController()}get childOY(){return this.childrenMap.child.childOY}set childOX(t){this.childrenMap.child.childOX=t,this.updateController()}get childOX(){return this.childrenMap.child.childOX}get topChildOY(){return this.childrenMap.child.topChildOY+this.childMargin.top}get bottomChildOY(){return this.childrenMap.child.bottomChildOY-this.childMargin.bottom}get leftChildOX(){return this.childrenMap.child.leftChildOX+this.childMargin.left}get rightChildOX(){return this.childrenMap.child.rightChildOX-this.childMargin.right}get childVisibleHeight(){return this.childrenMap.child.childVisibleHeight}get childHeight(){return this.childrenMap.child.childHeight}get childVisibleWidth(){return this.childrenMap.child.childVisibleWidth}get childWidth(){return this.childrenMap.child.childWidth}get isOverflow(){var t=this.childrenMap.child;return t.topChildOY!==t.bottomChildOY}get isOverflowY(){return this.isOverflow}get isOverflowX(){var t=this.childrenMap.child;return t.leftChildOX!==t.rightChildOX}get sliderEnable(){var t=this.childrenMap.slider;return t?t.enable:!1}set sliderEnable(t){var i=this.childrenMap.slider;i&&i.setEnable(t)}setSliderEnable(t){return t===void 0&&(t=!0),this.sliderEnable=t,this}get sliderYEnable(){return this.sliderEnable}set sliderYEnable(t){this.sliderEnable=t}setSliderYEnable(t){return this.setSliderEnable(t),this}get sliderXEnable(){var t=this.childrenMap.sliderX;return t?t.enable:!1}set sliderXEnable(t){var i=this.childrenMap.sliderX;i&&i.setEnable(t)}setSliderXEnable(t){return t===void 0&&(t=!0),this.sliderXEnable=t,this}get scrollerEnable(){var t=this.childrenMap.scroller;return t?t.enable:!1}set scrollerEnable(t){var i=this.childrenMap.scroller;i&&i.setEnable(t)}setScrollerEnable(t){return t===void 0&&(t=!0),this.scrollerEnable=t,this}get scrollerYEnable(){return this.scrollerEnable}set scrollerYEnable(t){this.scrollerEnable=t}setScrollerYEnable(t){return this.setScrollerEnable(t),this}get scrollerXEnable(){var t=this.childrenMap.scrollerX;return t?t.enable:!1}set scrollerXEnable(t){var i=this.childrenMap.scrollerX;i&&i.setEnable(t)}setScrollerXEnable(t){return t===void 0&&(t=!0),this.scrollerXEnable=t,this}get scrollerXEnable(){var t=this.childrenMap.scrollerX;return t?t.enable:!1}set scrollerXEnable(t){var i=this.childrenMap.scrollerX;i&&i.setEnable(t)}setScrollerXEnable(t){return t===void 0&&(t=!0),this.scrollerXEnable=t,this}get mouseWheelScrollerEnable(){var t=this.childrenMap.mouseWheelScroller;return t?t.enable:!1}set mouseWheelScrollerEnable(t){var i=this.childrenMap.mouseWheelScroller;i&&i.setEnable(t)}setMouseWheelScrollerEnable(t){return t===void 0&&(t=!0),this.mouseWheelScrollerEnable=t,this}get mouseWheelScrollerYEnable(){return this.mouseWheelScrollerEnable}set mouseWheelScrollerYEnable(t){this.mouseWheelScrollerEnable=t}setMouseWheelScrollerYEnable(t){return this.setMouseWheelScrollerEnable(t),this}get mouseWheelScrollerXEnable(){var t=this.childrenMap.mouseWheelScrollerX;return t?t.enable:!1}set mouseWheelScrollerXEnable(t){var i=this.childrenMap.mouseWheelScrollerX;i&&i.setEnable(t)}setMouseWheelScrollerXEnable(t){return t===void 0&&(t=!0),this.mouseWheelScrollerXEnable=t,this}setDropZoneEnable(t){t===void 0&&(t=!0);var i=this.childrenMap.child;return i.setInteractive(),i.input.dropZone=t,this}};Object.assign(pg.prototype,NN);var TR=function(e,t,i){var s=Lh(e);switch(s){case Rn:i=e.getWrappedText(t);break;case An:i=e.getPenManager(t,i);break;case Fs:e.maxWidth>0?i=e.setText(t).getTextBounds().wrappedText.split(`
`):i=t.split(`
`);break}return i},qxt=function(e){return e!==void 0&&(this.text=e),this.lines=TR(this.textObject,this.text,this.lines),this.linesCount=this.lines.length,this._textHeight=void 0,this._textVisibleHeight=void 0,this.updateTextObject(),this},WN=function(e){return(e-this.textLineSpacing)/(this.textLineHeight+this.textLineSpacing)},YN=function(e){return e*(this.textLineHeight+this.textLineSpacing)-this.textLineSpacing},_xt=function(e){var t=e+this.visibleLinesCount+1,i;switch(this.textObjectType){case Rn:i=this.lines.slice(e,t).join(`
`);break;case An:var s=this.lines.getLineStartIndex(e),g=this.lines.getLineEndIndex(t-1);i=this.lines.getSliceTagText(s,g,!0);break;case Fs:i=this.lines.slice(e,t).join(`
`);break}return i},wT=function(e,t){var i=Lh(e);switch(i){case Rn:var E=e.style,s=E.wordWrapWidth,g=E.wordWrapCallback;E.wordWrapWidth=0,E.wordWrapCallback=void 0,e.setText(t),E.wordWrapWidth=s,E.wordWrapCallback=g;break;case An:var E=e.style,n=E.wrapMode;E.wrapMode=0,e.setText(t),E.wrapMode=n;break;case Fs:var T=e._maxWidth;e._maxWidth=0,e.setText(t),e._maxWidth=T;break}},XN=function(){var e=this.textObject.rexSizer;this.textObject.y+=e.offsetY-e.preOffsetY,e.preOffsetY=e.offsetY,this.resetChildPositionState(this.textObject),this.textCropEnable&&tTt.call(this)},tTt=function(){if(this.textObject.setCrop){var e=this.textObject.rexSizer.offsetY,t,i;e<=0?(t=-e,i=this.height):(t=0,i=this.height-e),this.textObject.setCrop(0,t,this.width,i)}},eTt=function(){var e=Math.max(Math.floor(WN.call(this,-this.textOY)),0),t=YN.call(this,e)+this.textOY,i=_xt.call(this,e);return wT(this.textObject,i),this.textObject.rexSizer.offsetY=t,XN.call(this),this},iTt=function(){return this._textLineHeight=void 0,this._textLineSpacing=void 0,this._visibleLinesCount=void 0,this._textHeight=void 0,this._textVisibleHeight=void 0,ag.call(this),this},rTt=function(e,t,i){if(i+=this.textLineHeight+this.textLineSpacing,!(this.textObjectWidth===t&&this._textObjectRealHeight===i)){switch(this.textObjectWidth=t,this._textObjectRealHeight=i,this.textObjectType){case Rn:case An:e.setFixedSize(t,i);var s=e.style,g=Math.max(t,0);this.textObjectType===Rn?s.wordWrapWidth=g:(s.wrapMode===0&&(s.wrapMode=1),s.wrapWidth=g);break;case Fs:e.setMaxWidth(t);break}this.setText()}},nTt=function(){var e,t,i,s=this.left,g=this.top,E,n,T,r;e=this.textObject,e.rexSizer.hidden||(t=e.rexSizer,i=t.padding,E=s+i.left*this.scaleX,n=g+i.top*this.scaleY,T=this.width*this.scaleX-(i.left+i.right)*this.scaleX,r=this.height*this.scaleY-(i.top+i.bottom)*this.scaleY,rTt.call(this,e,T,r),rg(e,E,n,T,r,t.align),t.preOffsetY=0,XN.call(this),this.textMask&&(this.textMask.setPosition().resize(),this.resetChildPositionState(this.textMask)))};const sTt={setText:qxt,updateTextObject:eTt,preLayout:iTt,layoutChildren:nTt},u4=Phaser.Utils.Objects.IsPlainObject,Os=Phaser.Utils.Objects.GetValue,aTt=Phaser.Display.Align.TOP_LEFT;class HN extends _u{constructor(t,i,s,g,E,n){u4(i)?(n=i,i=Os(n,"x",0),s=Os(n,"y",0),g=Os(n,"width",void 0),E=Os(n,"height",void 0)):u4(g)&&(n=g,g=Os(n,"width",void 0),E=Os(n,"height",void 0)),super(t,i,s,g,E,n),this.type="rexTextBlock",this.textObject=void 0,this.linesCount=0,this.textMask=void 0,this.textObjectType=void 0,this._textLineHeight=void 0,this._textLineSpacing=void 0,this._visibleLinesCount=void 0,this._textHeight=void 0,this._textVisibleHeight=void 0,this._textObjectRealHeight=0,this.lines=void 0,this.text=Os(n,"content",""),this._textOY=0,this.execeedTopState=!1,this.execeedBottomState=!1,this.setClampMode(Os(n,"clampTextOY",!0)),this.alwaysScrollable=Os(n,"alwaysScrollable",!1);var T=Os(n,"background",void 0),r=Os(n,"text",void 0);r===void 0&&(r=oTt(t)),this.textCropEnable=Os(n,"textCrop",!!r.setCrop);var o=Os(n,"textMask",!this.textCropEnable);T&&this.addBackground(T),this.add(r),this.sizerChildren=[r];var y=this.getSizerConfig(r);y.align=aTt,y.padding=qu(0),y.expand=!0,this.textObject=r,this.textObjectType=Lh(r),y.preOffsetY=0,y.offsetY=0,o&&(this.textMask=Ua.call(this,this.textObject,this)),this.addChildrenMap("background",T),this.addChildrenMap("text",r)}destroy(t){if(!(!this.scene||this.ignoreDestroy)){if(this.textObject=void 0,this.textMask=void 0,this.lines){switch(this.textObjectType){case Rn:this.lines.length=0;break;case An:this.lines.destroy();break;case Fs:this.lines.length=0;break}this.lines=void 0}super.destroy(t)}}setClampMode(t){return t===void 0&&(t=!0),this.clampTextOY=t,this}get textLineHeight(){if(this._textLineHeight===void 0){var t;switch(this.textObjectType){case Rn:case An:var i=this.textObject.style;t=i.metrics.fontSize+i.strokeThickness;break;case Fs:var s=this.textObject.fontSize/this.textObject.fontData.size;t=this.textObject.fontData.lineHeight*s;break}this._textLineHeight=t}return this._textLineHeight}get textLineSpacing(){if(this._textLineSpacing===void 0){var t;switch(this.textObjectType){case Rn:case An:t=this.textObject.lineSpacing;break;case Fs:t=0;break}this._textLineSpacing=t}return this._textLineSpacing}get visibleLinesCount(){return this._visibleLinesCount===void 0&&(this._visibleLinesCount=Math.floor(WN.call(this,this._textObjectRealHeight))),this._visibleLinesCount}get topTextOY(){return 0}get bottomTextOY(){return-this.textVisibleHeight}get textHeight(){return this._textHeight===void 0&&(this._textHeight=YN.call(this,this.linesCount)),this._textHeight}get textObjectHeight(){return this._textObjectRealHeight-(this.textLineHeight+this.textLineSpacing)}get textVisibleHeight(){if(this._textVisibleHeight===void 0){var t=this.textHeight-this.textObjectHeight;!this.alwaysScrollable&&t<0&&(t=0),this._textVisibleHeight=t}return this._textVisibleHeight}textOYExceedTop(t){return t===void 0&&(t=this.textOY),t>this.topTextOY}textOYExeceedBottom(t){return t===void 0&&(t=this.textOY),t<this.bottomTextOY}get textOY(){return this._textOY}set textOY(t){var i=this.topTextOY,s=this.bottomTextOY,g=this.textOYExceedTop(t),E=this.textOYExeceedBottom(t);this.clampTextOY&&(this.visibleLinesCount>this.linesCount?t=0:g?t=i:E&&(t=s)),this._textOY!==t&&(this._textOY=t,this.updateTextObject()),g&&(this.execeedTopState||this.emit("execeedtop",this,t,i)),this.execeedTopState=g,E&&(this.execeedBottomState||this.emit("execeedbottom",this,t,s)),this.execeedBottomState=E}setTextOY(t){return this.textOY=t,this}set t(t){this.textOY=-this.textVisibleHeight*t}get t(){var t=this.textVisibleHeight;return t===0?0:this.textOY/-t}setTextOYByPercentage(t){return this.t=t,this}}var oTt=function(e){return e.add.text(0,0,"")};Object.assign(HN.prototype,sTt);var lTt=function(e){Object.defineProperty(e,"childOY",{configurable:!0,get:function(){return e.textOY},set:function(t){e.textOY=t}}),Object.defineProperty(e,"topChildOY",{get:function(){return e.topTextOY}}),Object.defineProperty(e,"bottomChildOY",{get:function(){return e.bottomTextOY}}),Object.defineProperty(e,"childVisibleHeight",{get:function(){return e.textObjectHeight}}),Object.defineProperty(e,"childHeight",{get:function(){return e.textHeight}})};const hTt={setText(e){var t=this.childrenMap.child;return t.setText(e),this.resizeController(),this},appendText(e){return this.setText(this.text+e),this}},uTt={scrollToLine(e){return this.setChildOY(-this.lineHeight*e),this},scrollToNextLine(e){e===void 0&&(e=1);var t=this.lineIndex+e;return this.scrollToLine(t),this}},po=Phaser.Utils.Objects.GetValue;class gg extends pg{constructor(t,i){i===void 0&&(i={});var s=po(i,"text",void 0),g=po(i,"textWidth",void 0),E=po(i,"textHeight",void 0),n=po(i,"textCrop",!!s.setCrop),T=po(i,"textMask",!n),r=po(i,"content",""),o=new HN(t,{width:g,height:E,text:s,textMask:T,textCrop:n&&!T,content:r,clampTextOY:po(i,"clampChildOY",!1),alwaysScrollable:po(i,"alwaysScrollable",!1)});t.add.existing(o),lTt(o),i.scrollMode=0,i.type="rexTextArea",i.child={gameObject:o,expandWidth:g===void 0,expandHeight:E===void 0};var y=po(i,"space",void 0);y&&(y.child=po(y,"text",0)),super(t,i),this.addChildrenMap("text",s)}get text(){return this.childrenMap.child.text}get lineHeight(){var t=this.childrenMap.child;return t.textLineHeight+t.textLineSpacing}get lineIndex(){return Math.floor(-this.childOY/this.lineHeight)}get linesCount(){var t=this.childrenMap.child;return t.linesCount}get contentHeight(){var t=this.childrenMap.child;return t.textHeight}}Object.assign(gg.prototype,hTt,uTt);const Dy=Phaser.Utils.Objects.GetValue;var $N=function(e,t,i){t=t?rn(t):{};var s=Dy(i,"background",zr),g=Dy(i,"text",CR),E=Dy(i,"track",zr),n=Dy(i,"thumb",zr);s?t.background=s(e,t.background):delete t.background,g?t.text=g(e,t.text):delete t.text;var T=t.slider;T!==!1&&T!==null&&(T===void 0&&(T={}),E?T.track=E(e,T.track):delete T.track,n?T.thumb=n(e,T.thumb):delete T.thumb,t.slider=T);var r=new gg(e,t);return e.add.existing(r),r},CR=function(e,t){var i;t&&(t.hasOwnProperty("$type")?i=t.$type:t.hasOwnProperty("key")&&(i="bitmaptext",t.font=t.key));var s;switch(i){case"bitmaptext":case"bitmap":s=new bT(e,t);break;case"bbcodetext":case"bbcode":s=new uM(e,0,0,"",t);break;case"label":s=new mg(e,t);break;case"textarea":s=$N(e,t);break;default:s=new ET(e,t);break}return mR(s,t),e.add.existing(s),s},f4=function(e,t){var i;t&&(t.hasOwnProperty("$type")?i=t.$type:t.hasOwnProperty("leftWidth")?i="nineSlice":(t.hasOwnProperty("color")||t.hasOwnProperty("strokeColor"))&&(i="roundRectangle"));var s;switch(i){case"nineSlice":t.hasOwnProperty("stretchMode")?s=new vg(e,t):s=new cg(e,t);break;case"roundRectangle":s=new dg(e,t);break;default:s=new fg(e,t);break}return mR(s,t),e.add.existing(s),s};const Fy=Phaser.Utils.Objects.GetValue;var MT=function(e,t,i){t=t?rn(t):{};var s=Fy(i,"background",zr),g=Fy(i,"text",CR),E=Fy(i,"icon",f4),n=Fy(i,"action",f4);return t.background!==null&&s?t.background=s(e,t.background):delete t.background,t.text!==null&&g?t.text=g(e,t.text):delete t.text,t.icon!==null&&E?t.icon=E(e,t.icon):delete t.icon,t.action!==null&&n?t.action=n(e,t.action):delete t.action,t};class mg extends xl{constructor(t,i,s){i=MT(t,i,s),super(t,i),this.type="rexSimpleLabel"}setActiveState(t){return LP(this.getChildren(),"setActiveState",t),this}setHoverState(t){return LP(this.getChildren(),"setHoverState",t),this}setDisableState(t){return LP(this.getChildren(),"setDisableState",t),this}}var LP=function(e,t,i){for(var s=0,g=e.length;s<g;s++){var E=e[s];E&&E[t]&&E[t](i)}};It.register("simpleLabel",function(e,t){var i=new mg(this.scene,e,t);return this.scene.add.existing(i),i});Dt(window,"RexPlugins.UI.SimpleLabel",mg);const Ne=Phaser.Utils.Objects.GetValue;var fTt=function(e){var t=this.scene,i=Ne(e,"orientation",0);this.setOrientation(i);var s=Ne(e,"icon",void 0),g=Ne(e,"iconMask",void 0),E=Ne(e,"innerBackground",void 0),n=Ne(e,"title",void 0),T=Ne(e,"separator",void 0),r=Ne(e,"text",void 0),o=Ne(e,"action",void 0),y=Ne(e,"actionMask",void 0);if(s){var d=Ne(e,"align.icon","center"),C;this.orientation===0?C={right:Ne(e,"space.icon",0),top:Ne(e,"space.iconTop",0),bottom:Ne(e,"space.iconBottom",0),left:Ne(e,"space.iconLeft",0)}:C={bottom:Ne(e,"space.icon",0),left:Ne(e,"space.iconLeft",0),right:Ne(e,"space.iconRight",0),top:Ne(e,"space.iconTop",0)};var h=Ne(e,"squareFitIcon",!1)?1:0;if(this.add(s,{proportion:0,align:d,padding:C,fitRatio:h}),g&&(g=Ua.call(this,s,s,1)),!h){var l=Ne(e,"iconSize",void 0);this.setIconSize(Ne(e,"iconWidth",l),Ne(e,"iconHeight",l))}}var a=new ei(t,{orientation:1});E&&a.addBackground(E);var f=Ne(e,"space.separator",0);if(n){var d=Ne(e,"align.title","left"),c=Ne(e,"expandTitleWidth",!1),u=Ne(e,"expandTitleHeight",!1),v,C,p;v=u?1:0,p=c,C={bottom:!T&&r?Ne(e,"space.title",f):0,left:Ne(e,"space.titleLeft",0),right:Ne(e,"space.titleRight",0)},a.add(n,{proportion:v,expand:p,align:d,padding:C})}if(T){var C={top:n?f:0,bottom:r?f:0,left:Ne(e,"space.separatorLeft",0),right:Ne(e,"space.separatorRight",0)};a.add(T,{expand:!0,padding:C})}if(r){var d=Ne(e,"align.text","left"),m=Ne(e,"expandTextWidth",!1),x=Ne(e,"expandTextHeight",!1),v,C,p;v=x?1:0,p=m,C={left:Ne(e,"space.textLeft",0),right:Ne(e,"space.textRight",0)},a.add(r,{proportion:v,expand:p,align:d,padding:C})}var C=void 0;if(o&&(C={right:Ne(e,"space.text",0)}),this.add(a,{proportion:1,padding:C}),o){var d=Ne(e,"align.action","center"),C;this.orientation===0?C={top:Ne(e,"space.actionTop",0),bottom:Ne(e,"space.actionBottom",0),right:Ne(e,"space.actionRight",0)}:C={left:Ne(e,"space.actionLeft",0),right:Ne(e,"space.actionRight",0),bottom:Ne(e,"space.actionBottom",0)};var h=Ne(e,"squareFitAction",!1)?1:0;if(this.add(o,{proportion:0,align:d,padding:C,fitRatio:h}),y&&(y=Ua.call(this,o,o,1)),!h){var P=Ne(e,"actionSize");this.setActionSize(Ne(e,"actionWidth",P),Ne(e,"actionHeight",P))}}this.addChildrenMap("icon",s),this.addChildrenMap("iconMask",g),this.addChildrenMap("innerSizer",a),this.addChildrenMap("innerBackground",E),this.addChildrenMap("title",n),this.addChildrenMap("separator",T),this.addChildrenMap("text",r),this.addChildrenMap("action",o),this.addChildrenMap("actionMask",y)};const Ie=Phaser.Utils.Objects.GetValue;var dTt=function(e){this.setOrientation(1),this.setRTL(!1);var t=this.scene,i=Ie(e,"title",void 0),s=Ie(e,"separator",void 0),g=Ie(e,"innerBackground",void 0),E=Ie(e,"icon",void 0),n=Ie(e,"iconMask",void 0),T=Ie(e,"text",void 0),r=Ie(e,"action",void 0),o=Ie(e,"actionMask",void 0);if(i){var y=Ie(e,"align.title","left"),d=Ie(e,"expandTitleWidth",!1),h=Ie(e,"expandTitleHeight",!1),l,a,f;l=h?1:0,f=d,a={bottom:Ie(e,"space.title",0),left:Ie(e,"space.titleLeft",0),right:Ie(e,"space.titleRight",0)},this.add(i,{proportion:l,expand:f,align:y,padding:a})}if(s){var c=Ie(e,"space.separator",0),a={top:i?c:0,bottom:T?c:0,left:Ie(e,"space.separatorLeft",0),right:Ie(e,"space.separatorRight",0)};this.add(s,{proportion:0,expand:!0,padding:a})}var u=Ie(e,"orientation",0),v=new ei(t,{orientation:u,rtl:Ie(e,"rtl",!1),space:{left:Ie(e,"space.innerLeft",0),right:Ie(e,"space.innerRight",0),top:Ie(e,"space.innerTop",0),bottom:Ie(e,"space.innerBottom",0)}});if(g&&v.addBackground(g),this.add(v,{proportion:1,expand:!0}),E){var y=Ie(e,"align.icon","center"),a;v.orientation===0?a={right:Ie(e,"space.icon",0),top:Ie(e,"space.iconTop",0),bottom:Ie(e,"space.iconBottom",0),left:Ie(e,"space.iconLeft",0)}:a={bottom:Ie(e,"space.icon",0),left:Ie(e,"space.iconLeft",0),right:Ie(e,"space.iconRight",0),top:Ie(e,"space.iconTop",0)};var p=Ie(e,"squareFitIcon",!1)?1:0;if(v.add(E,{proportion:0,align:y,padding:a,fitRatio:p}),n&&(n=Ua.call(this,E,E,1)),!p){var m=Ie(e,"iconSize",void 0);this.setIconSize(Ie(e,"iconWidth",m),Ie(e,"iconHeight",m))}}if(T){var y=Ie(e,"align.text","left"),x=Ie(e,"space.text",0),C=Ie(e,"expandTextWidth",!1),P=Ie(e,"expandTextHeight",!1),l,a,f;v.orientation===0?(l=C?1:0,r&&(a={right:x}),f=P):(l=P?1:0,r&&(a={bottom:x}),f=C),v.add(T,{proportion:l,expand:f,align:y,padding:a})}if(r){var y=Ie(e,"align.action","center"),a;v.orientation===0?a={top:Ie(e,"space.actionTop",0),bottom:Ie(e,"space.actionBottom",0),right:Ie(e,"space.actionRight",0)}:a={left:Ie(e,"space.actionLeft",0),right:Ie(e,"space.actionRight",0),bottom:Ie(e,"space.actionBottom",0)};var p=Ie(e,"squareFitAction",!1)?1:0;if(v.add(r,{proportion:0,align:y,padding:a,fitRatio:p}),o&&(o=Ua.call(this,r,r,1)),!p){var w=Ie(e,"actionSize");this.setActionSize(Ie(e,"actionWidth",w),Ie(e,"actionHeight",w))}}this.addChildrenMap("title",i),this.addChildrenMap("separator",s),this.addChildrenMap("innerSizer",v),this.addChildrenMap("innerBackground",g),this.addChildrenMap("icon",E),this.addChildrenMap("iconMask",n),this.addChildrenMap("text",T),this.addChildrenMap("action",r),this.addChildrenMap("actionMask",o)};const ah=Phaser.Utils.Objects.GetValue,d4=[fTt,dTt];class RT extends cR{constructor(t,i){i===void 0&&(i={}),super(t,i),this.type="rexTitleLabel";var s=ah(i,"background",void 0);s&&this.addBackground(s);var g=ah(i,"title",void 0),E=ah(i,"text",void 0);if(g){var n=ah(i,"wrapTitle",!1),T=ah(i,"adjustTitleFontSize",!1);n?(n===!0&&(n="word"),Ow(g,n),i.expandTitleWidth=!0,wx(g)):T&&(i.expandTextWidth=!0,i.expandTextHeight=!0,Rx(g,{fitHeight:!0}))}if(E){var r=ah(i,"wrapText",!1),o=ah(i,"adjustTextFontSize",!1);r?(r===!0&&(r="word"),Ow(E,r),i.expandTextWidth=!0,wx(E)):o&&(i.expandTextWidth=!0,i.expandTextHeight=!0,Rx(E,{fitHeight:!0}))}var y=ah(i,"layoutMode",0),d=d4[y]||d4[0];d.call(this,i),this.addChildrenMap("background",i.background)}get title(){var t=this.childrenMap.title;return t?t.title:""}set title(t){var i=this.childrenMap.title;i&&i.setText(t)}setTitle(t){return this.title=t,this}resetDisplayContent(t){t===void 0?t={}:typeof t=="string"&&(t={text:t}),super.resetDisplayContent(t);var i=this.childrenMap.title;return i&&(t.title===void 0||(t.title?(this.show(i),this.setTitle(t.title)):this.hide(i))),this}}It.register("titleLabel",function(e){var t=new RT(this.scene,e);return this.scene.add.existing(t),t});Dt(window,"RexPlugins.UI.TitleLabel",RT);const DP=Phaser.Utils.Objects.GetValue;var KN=function(e,t,i){var s=DP(i,"innerBackground",zr),g=DP(i,"separator",zr),E=DP(i,"title",CR),n,T;t.innerBackground!==null&&s&&(n=s(e,t.innerBackground)),t.separator!==null&&g&&(T=g(e,t.separator)),t=MT(e,t,i),n?t.innerBackground=n:delete t.innerBackground,T?t.separator=T:delete t.separator,t.title!==null&&E?t.title=E(e,t.title):delete t.title;var r=t.background;return r&&(n?e.children.moveBelow(r,n):T&&e.children.moveBelow(r,T)),t};class JN extends RT{constructor(t,i,s){i=KN(t,i,s),super(t,i),this.type="rexSimpleTitleLabel"}setActiveState(t){return FP(this.getChildren(),"setActiveState",t),this}setHoverState(t){return FP(this.getChildren(),"setHoverState",t),this}setDisableState(t){return FP(this.getChildren(),"setDisableState",t),this}}var FP=function(e,t,i){for(var s=0,g=e.length;s<g;s++){var E=e[s];E&&E[t]&&E[t](i)}};It.register("simpleTitleLabel",function(e,t){var i=new JN(this.scene,e,t);return this.scene.add.existing(i),i});Dt(window,"RexPlugins.UI.SimpleTitleLabel",JN);const pi=Phaser.Utils.Objects.GetValue,cTt=Phaser.Utils.Objects.IsPlainObject;var vTt=function(e,t){var i=pi(t,"background",void 0),s=pi(t,"icon",void 0),g=pi(t,"iconMask",void 0),E=pi(t,"nameText",void 0),n=pi(t,"valueText",void 0),T=pi(t,"bar",void 0),r=pi(t,"action",void 0),o=pi(t,"actionMask",void 0),y=pi(t,"barShape","line")==="line";if(cTt(T)){var d=y?MM:rT;T=new d(e,T),e.add.existing(T),E&&e.children.moveBelow(T,E),n&&e.children.moveBelow(T,n)}var h=E||n||T;if(i&&this.addBackground(i),s){var l=void 0;this.orientation===0?(h||r)&&(l={right:pi(t,"space.icon",0),top:pi(t,"space.iconTop",0),bottom:pi(t,"space.iconBottom",0)}):(h||r)&&(l={bottom:pi(t,"space.icon",0),left:pi(t,"space.iconLeft",0),right:pi(t,"space.iconRight",0)}),this.add(s,{proportion:0,padding:l}),g&&(g=Ua.call(this,s,s,1))}if(h){var a=new ei(e,{orientation:1}),f;if(E||n){if(f=new ei(e,{orientation:0}),E){E.text===""&&E.setText(" "),E.setOrigin(0,E.originY);var l={left:pi(t,"space.name",0)};f.add(E,{padding:l})}if(n){n.text===""&&n.setText(" "),n.setOrigin(1,n.originY),f.addSpace();var l={right:pi(t,"space.value",0)};f.add(n,{padding:l}),this.setValueTextFormatCallback(pi(t,"valueTextFormatCallback",pTt),pi(t,"valueTextFormatCallbackScope",void 0))}a.add(f,{expand:!0})}if(T)if(y){var c=f?pi(t,"space.bar"):0;c===void 0&&(c=pi(t,"space.barTop",0));var l={top:c,bottom:pi(t,"space.barBottom",0),left:pi(t,"space.barLeft",0),right:pi(t,"space.barRight",0)};a.add(T,{expand:!0,padding:l})}else{var l={top:pi(t,"space.barTop",0),bottom:pi(t,"space.barBottom",0),left:pi(t,"space.barLeft",0),right:pi(t,"space.barRight",0)};this.addBackground(T,l)}var l=void 0;r&&(l={right:pi(t,"space.text",0)});var u=pi(t,"align.text","bottom");this.add(a,{proportion:1,align:u,padding:l})}if(r){var l;this.orientation===0?l={top:pi(t,"space.actionTop",0),bottom:pi(t,"space.actionBottom",0)}:l={left:pi(t,"space.actionLeft",0),right:pi(t,"space.actionRight",0)},this.add(r,{proportion:0,padding:l}),o&&(o=Ua.call(this,r,r,1))}this.addChildrenMap("background",i),this.addChildrenMap("icon",s),this.addChildrenMap("iconMask",g),this.addChildrenMap("name",E),this.addChildrenMap("value",n),this.addChildrenMap("bar",T),this.addChildrenMap("action",r),this.addChildrenMap("actionMask",o)},pTt=function(e,t,i){return e.toString()};const gTt=Phaser.Math.Clamp,mTt={setValueTextFormatCallback(e,t){return this.valueTextFormatCallback=e,this.valueTextFormatCallbackScope=t,this},getFormatValueText(e,t,i){e===void 0&&(e=this.value),t===void 0&&(t=this.minValue),i===void 0&&(i=this.maxValue);var s;return this.valueTextFormatCallbackScope?s=this.valueTextFormatCallback(e,t,i):s=this.valueTextFormatCallback.call(this.valueTextFormatCallbackScope,e,t,i),s},updateValueText(e,t,i){var s=this.childrenMap.value;return s&&this.valueTextFormatCallback&&(s.setText(this.getFormatValueText(e,t,i)),s.layout&&s.layout()),this},setValue(e,t,i){return t===void 0?t=this.minValue:this.minValue=t,i===void 0?i=this.maxValue:this.maxValue=i,e=gTt(e,t,i),this.value=e,this.updateValueText(e,t,i),this.setBarValue(e,t,i),this},setEaseValueDuration(e){return this.easeValueDuration=e,this},easeValueTo(e,t,i){return t===void 0?t=this.minValue:this.minValue=t,i===void 0?i=this.maxValue:this.maxValue=i,this.easeValueTask===void 0&&(this.easeValueTask=new cl(this),this.easeValueTask.on("update",function(){this.setValue(this.value,this.minValue,this.maxValue)},this)),this.easeValueTask.restart({key:"value",to:e,duration:this.easeValueDuration}),this}};class AT extends ei{constructor(t,i){super(t,i),this.type="rexNameValueLabel",vTt.call(this,t,i),this.setEaseValueDuration(1e3)}get nameText(){var t=this.childrenMap.name;return t===void 0?"":t.text}set nameText(t){var i=this.childrenMap.name;i!==void 0&&i.setText(t)}setNameText(t){return this.nameText=t,this}get valueText(){var t=this.childrenMap.value;return t===void 0?"":t.text}set valueText(t){var i=this.childrenMap.value;i!==void 0&&i.setText(t)}setValueText(t){return this.valueText=t,this}get barValue(){var t=this.childrenMap.bar;if(t!==void 0)return t.value}set barValue(t){var i=this.childrenMap.bar;i!==void 0&&i.setValue(t)}setBarValue(t,i,s){var g=this.childrenMap.bar;return g===void 0?this:(g.setValue(t,i,s),this)}easeBarValueTo(t,i,s){var g=this.childrenMap.bar;return g===void 0?this:(g.easeValueTo(t,i,s),this)}setTexture(t,i){var s=this.childrenMap.icon;if(s!==void 0)return s.setTexture(t,i),this}get texture(){var t=this.childrenMap.icon;if(t!==void 0)return t.texture}get frame(){var t=this.childrenMap.icon;if(t!==void 0)return t.frame}postLayout(t,i,s){var g=this.childrenMap.iconMask;g&&(g.setPosition(),this.resetChildPositionState(g));var E=this.childrenMap.actionMask;return E&&(E.setPosition(),this.resetChildPositionState(E)),super.postLayout(t,i,s),this}resize(t,i){super.resize(t,i);var s=this.childrenMap.iconMask;s&&s.resize();var g=this.childrenMap.actionMask;return g&&g.resize(),this}}Object.assign(AT.prototype,mTt);It.register("nameValueLabel",function(e){var t=new AT(this.scene,e);return this.scene.add.existing(t),t});Dt(window,"RexPlugins.UI.NameValueLabel",AT);class yTt extends nk{constructor(t){super(),this.setTable(Pi(t,"table")),this.setMaxLevel(Pi(t,"maxLevel"));var i=Pi(t,"exp",0),s=Pi(t,"level",void 0);s!==void 0&&!this.checkLevel(s,i)&&(console.error(`Level ${s} and Exp ${i} are mismatch`),s=void 0),this.resetExp(i,s)}setTable(t){return this.levelTable=t,this.isLevelMapFunction=ka(t),this}setMaxLevel(t){t===void 0&&(Array.isArray(this.levelTable)?t=this.levelTable.length-1:t=-1);var i;return t!==-1?i=this.getExp(t):i=-1,this.hasMaxLevel=t!==-1,this.maxLevel=t,this.maxExp=i,this}resetExp(t,i){return this.hasMaxLevel&&t>this.maxExp&&(t=this.maxExp),i===void 0&&(i=this.getLevel(t)),this._exp=t,this._level=i,this._requiredExp=this.getRequiredExpToNextLevel(i,t),this}get exp(){return this._exp}set exp(t){if(this.hasMaxLevel&&t>this.maxExp&&(t=this.maxExp),t<this._exp){this.resetExp(t);return}if(t!==this._exp){for(var i=this.getLevel(t,this._level),s=this._level,g=this._exp,E;;){var n=this.getExp(s),T=this.getExp(s+1);if(E=Math.min(T,t),this.emit("levelup",s,g,E,n,T),s===i&&E===t)break;s++,g=T}this.resetExp(t,i)}}get level(){return this._level}set level(t){this.hasMaxLevel&&t>this.maxLevel?this.exp=this.maxExp:this.exp=this.getExp(t)}get requiredExp(){return this._requiredExp}getExp(t){return t===void 0?this._exp:this.isLevelMapFunction?this.levelTable(t):(this.hasMaxLevel&&t>this.maxLevel&&(t=this.maxLevel),this.levelTable[t])}getLevel(t,i){if(t===void 0)return this._level;for(i===void 0&&(i=0);;){var s=this.getExp(i+1);if(s>t||(i++,this.hasMaxLevel&&s===this.maxExp))break}return i}getRequiredExpToNextLevel(t,i){return t===void 0&&(t=this.level),i===void 0&&(i=this.exp),this.getExp(t+1)-i}checkLevel(t,i){return i>=this.getExp(t)&&i<this.getExp(t+1)}gainExp(t,i,s){return i&&this.on("levelup",i,s),this.exp+=t,i&&this.off("levelup",i,s),this}setExp(t,i,s){return i&&this.on("levelup",i,s),this.exp=t,i&&this.off("levelup",i,s),this}setLevel(t,i,s){return i&&this.on("levelup",i,s),this.level=t,i&&this.off("levelup",i,s),this}}var Lw=function(e,t,i){var s=Pi(i,"reverse",!1),g;if(Na(e[0]))if(s)for(var n=e.length,E=n-1;E>=0;E--)g=Lw(e[E],t,i);else for(var E=0,n=e.length;E<n;E++)g=Lw(e[E],t,i);else g=xTt(e,t,i);return g},xTt=function(e,t,i){var s=Pi(i,"argsConvert",void 0),g=Pi(i,"argsConvertScope",void 0),E=e[0];if(oh=yx(oh,e,1),s){s===!0&&(s=mM,g=void 0);for(var n=0,T=oh.length;n<T;n++)g?oh[n]=s.call(g,oh[n],e):oh[n]=s(oh[n],e)}var r;typeof E=="string"?(r=t[E],r==null&&(r=Pi(t,E,null))):r=E;var o=r.apply(t,oh);return o},oh=[];const Oa=Phaser.Utils.Objects.GetValue;class ZN extends ji{constructor(t,i){super(t,i);var s=Oa(i,"clock",void 0);s||(s=new _G(t)),this.clock=s,this.clock.on("update",this.update,this),this.commands=[],this.resetFromJSON(i)}resetFromJSON(t){return this.clock.resetFromJSON(Oa(t,"clock",void 0)),this.state=Oa(t,"state",0),this.commands=Oa(t,"commands",[]),this.scope=Oa(t,"scope",void 0),this.setTimeUnit(Oa(t,"timeUnit",0)),this.setDtMode(Oa(t,"dtMode",0)),this.index=Oa(t,"index",0),this.nextTime=Oa(t,"nextTime",0),this}toJSON(){return{clock:this.clock.toJSON(),state:this.state,commands:this.commands,scope:this.scope,timeUnit:this.timeUnit,dtMode:this.dtMode,index:this.index,nextTime:this.nextTime}}shutdown(t){this.isShutdown||(this.clock.shutdown(t),this.commands=void 0,super.shutdown(t))}load(t,i,s){this.stop();var g=Oa(s,"timeUnit",void 0);g!==void 0&&this.setTimeUnit(g);var E=Oa(s,"dtMode",void 0);return E!==void 0&&this.setDtMode(E),t=t.filter(function(n){var T=n[0];return!isNaN(T)}).map(function(n){var T=n[0];return typeof T=="string"&&(n[0]=parseFloat(n[0])),n}),this.dtMode===0&&t.sort(function(n,T){var r=n[0],o=T[0];return r>o?1:r<o?-1:0}),yx(this.commands,t),this.scope=i,this}clear(){return this.commands.length=0,this}append(t,i,...s){var g;return Array.isArray(i)?g=i:g=[i,...s],this.commands.push([t,g]),this}start(t){return t===void 0&&(t=0),this.stop(),this.index=0,this.state=1,this.nextTime=this.getNextDt(0),this.clock.start(t),this.update(t),this.emit("start",this.parent,this),this}pause(){return this.clock.pause(),this.emit("pause",this.parent,this),this}resume(){return this.clock.resume(),this.emit("resume",this.parent,this),this}stop(){return this.clock.stop(),this.state=0,this.emit("stop",this.parent,this),this}seek(t){return this.clock.seek(t),this}seekToNext(){return this.seek(this.nextTime),this}get isPlaying(){return this.clock.isRunning}get completed(){return this.state===2}get timeScale(){return this.clock.timeScale}set timeScale(t){this.clock.timeScale=t}setTimeScale(t){return this.timeScale=t,this}get now(){return this.clock.now}update(t){if(this.nextTime>t)return this;for(var i=this.commands;;){var s=i[this.index],g=s[1];if(Na(g)||(g=yx(TTt,s,1)),Lw(g,this.scope),this.emit("runcommand",g,this.scope),this.index>=i.length-1)return this.nextTime=0,this.complete(),this;if(this.index++,this.nextTime=this.getNextDt(this.nextTime),this.nextTime>t)return this}}complete(){this.clock.stop(),this.state=2,this.emit("complete",this.parent,this)}getNextDt(t){var i=this.commands[this.index][0];return this.timeUnit===1&&(i=i*1e3),this.dtMode===1&&(i+=t),i}setDtMode(t){return typeof t=="string"&&(t=STt[t]),this.dtMode=t,this}setTimeUnit(t){return typeof t=="string"&&(t=CTt[t]),this.timeUnit=t,this}}var TTt=[];const CTt={ms:0,s:1,sec:1},STt={abs:0,absolute:0,inc:1,increment:1};var ETt=function(e,t,i,s,g){var E=(i-t)/(g-s)*this.totalEaseDuration,n=i===g?e+1:e;this.player.append(0,this.setEaseValueDuration,E).append(0,this.easeValueTo,i,s,g).append(0,this.emit,"levelup.start",e,t,i,this).append(E,Vr).append(0,this.emit,"levelup.end",n,t,i,this),this.player.isPlaying||this.player.start()};const bTt={setExpTable(e){return this.levelCounter.setTable(e),this},resetExp(e){return this.levelCounter.resetExp(e),this.setValue(this.exp,this.getExp(this.level),this.getExp(this.level+1)),this},getExp(e){return this.levelCounter.getExp(e)},getLevel(e,t){return this.levelCounter.getLevel(e,t)},getRequiredExpToNextLevel(e,t){return this.levelCounter.getRequiredExpToNextLevel(e,t)},gainExp(e){return this.levelCounter.gainExp(e),this},setExp(e){return this.levelCounter.setExp(e),this},setLevel(e){return this.levelCounter.setLevel(e),this}},c4=Phaser.Utils.Objects.GetValue;class SR extends AT{constructor(t,i){super(t,i),this.type="rexExpBar",this.setTotalEaseDuration(c4(i,"easeDuration",1e3)),this.levelCounter=new yTt(c4(i,"levelCounter")),this.player=new ZN(this,{scope:this,dtMode:1}),this.levelCounter.on("levelup",ETt,this),this.player.on("complete",function(){this.player.clear(),this.emit("levelup.complete",this.level,this)},this),this.setValue(this.exp,this.getExp(this.level),this.getExp(this.level+1))}destroy(t){!this.scene||this.ignoreDestroy||(this.levelCounter.destroy(),this.levelCounter=void 0,this.player.destroy(),this.player=void 0,super.destroy(t))}get exp(){return this.levelCounter.exp}set exp(t){this.levelCounter.exp=t}get level(){return this.levelCounter.level}set level(t){this.levelCounter.level=t}get requiredExp(){return this.levelCounter.requiredExp}setTotalEaseDuration(t){return this.totalEaseDuration=t,this}}Object.assign(SR.prototype,bTt);It.register("expBar",function(e){var t=new SR(this.scene,e);return this.scene.add.existing(t),t});Dt(window,"RexPlugins.UI.ExpBar",SR);const Iy=ei.prototype.add,v4=ei.prototype.addSpace;var IP=function(e){var t=!e.isRexSpace,i=!t||this.buttonsExpand?1:0;if(this.sizerChildren.length===0)if(t){var s=!this.buttonsExpand&&(this.buttonsAlign==="right"||this.buttonsAlign==="center"||this.buttonsAlign==="bottom");s&&v4.call(this),Iy.call(this,e,{proportion:i,expand:!0});var g=!this.buttonsExpand&&this.buttonsAlign==="center";g&&v4.call(this),this.hasTailSpace=g}else Iy.call(this,e,{proportion:i,expand:!0}),this.hasTailSpace=!1;else if(this.hasTailSpace){var E=this.sizerChildren.length-1;Iy.call(this,e,{index:E,proportion:i,expand:!0})}else Iy.call(this,e,{proportion:i,expand:!0});return t&&this.buttonGroup.add(e),this};const PTt={addButton(e){if(Na(e))for(var t=e,i=0,s=t.length;i<s;i++)IP.call(this,t[i]);else IP.call(this,e);return this},addButtons(e){for(var t=0,i=e.length;t<i;t++)IP.call(this,e[t]);return this}},wTt=ei.prototype.remove,MTt=ei.prototype.clear;var BP=function(e,t){return this.getParentSizer(e)!==this?this:(this.buttonGroup.remove(e),wTt.call(this,e,t),this)};const RTt={remove(e,t){if(Na(e))for(var i=e,s=0,g=i.length;s<g;s++)BP.call(this,i[s],t);else BP.call(this,e,t);return this},clear(e){var t=this.buttonGroup.buttons;return t.length=0,MTt.call(this,e),this},removeButton(i,t){var i=this.getButton(i);return i?(this.remove(i,t),this):this},clearButtons(e){for(var t=this.buttonGroup.buttons,i=t.length-1;i>=0;i--)BP.call(this,t[i],e);return this}};var ATt=function(e,t,i){if(e){var s=this.setValueCallback,g=this.setValueCallbackScope;s&&(g?s.call(g,e,t,i):s(e,t,i)),this.fireEvent("button.statechange",e,t,i)}},OTt=function(e){var t=this;e._selected=void 0,Object.defineProperty(e,"selected",{get:function(){return e._selected},set:function(i){if(e._selected!==i){var s=e._selected;e._selected=i,ATt.call(t,e,i,s)}},enumerable:!0,configurable:!0}),e.selected=!1};const LTt={add(e){return this.buttons.push(e),e._click||(e._click=new gl(e,this.clickConfig),e._click.on("click",function(t,i,s,g){this.fireEvent("button.click",i,s,g)},this).on("enable",function(t,i){this.fireEvent("button.enable",i)},this).on("disable",function(t,i){this.fireEvent("button.disable",i)},this).on("over",function(t,i,s,g){this.fireEvent("button.over",i,s,g)},this).on("out",function(t,i,s,g){this.fireEvent("button.out",i,s,g)},this).on("down",function(t,i,s,g){this.fireEvent("button.down",i,s,g)},this).on("up",function(t,i,s,g){this.fireEvent("button.up",i,s,g)},this),e.isRexContainerLite&&e.sendChildToBack(e)),this.buttonsType&&(e.name===void 0&&console.error(`${this.parent.constructor.name}: Option button miss value`),OTt.call(this,e)),this},addMultiple(e){for(var t=0,i=e.length;t<i;t++)this.add(e[t]);return this}},DTt=Phaser.Utils.Array.Remove,FTt={remove(e){return this.buttonsType&&delete e.selected,DTt(this.buttons,e),this},clear(){if(this.buttonsType)for(var e=this.buttons,t=0,i=e.length;t<i;t++)delete e[t].selected;return this.buttons.length=0,this}};var ITt=function(e,t,...i){if(this.buttons){var s;if(typeof t=="number"){if(s=t,t=this.buttons[s],!t)return}else if(s=this.buttons.indexOf(t),s===-1)return;this.eventEmitter!==this.parent&&this.parent.emit(e,t,s,...i),this.groupName!==void 0?this.eventEmitter.emit(e,t,this.groupName,s,...i):this.eventEmitter.emit(e,t,s,...i)}};const up=Phaser.Utils.Objects.GetValue,BTt={setButtonsType(e){e===void 0&&(e={});var t=up(e,"buttonsType",e.type);if(this.buttonsType=t,!this.buttonsType)return this;var i,s;switch(i=up(e,"setValueCallback",void 0),s=up(e,"setValueCallbackScope",void 0),i===void 0&&(i=up(e,"setButtonStateCallback",void 0),s=up(e,"setButtonStateCallbackScope",void 0)),this.setValueCallback=i,this.setValueCallbackScope=s,t){case"radio":this.setRadioType();break;case"checkboxes":this.setCheckboxesType();break}return this},setRadioType(){var e=this.parent,t=this.buttons;e._value=void 0;var i=void 0;return Object.defineProperty(e,"value",{get:function(){return e._value},set:function(s){if(e._value!==s){e._value=s;for(var g=0,E=t.length;g<E;g++){var n=t[g];n.rexSizer.hidden||(i===void 0?n.name===s?n.selected=!0:n.selected=!1:i===g?n.selected=!0:n.selected=!1)}}},enumerable:!0,configurable:!0}),e.on("button.click",function(s){i=this.buttons.indexOf(s),e.value=s.name,i=void 0},this),this},setCheckboxesType(){var e=this.parent;return e.on("button.click",function(t){t.selected=!t.selected}),this},clearAllButtonsState(){for(var e=this.buttons,t=0,i=e.length;t<i;t++){var s=e[t];s.selected=!1}return this},getAllButtonsState(){for(var e={},t=this.buttons,i=0,s=t.length;i<s;i++){var g=t[i];g.rexSizer.hidden||(e[g.name]=g.selected)}return e},setSelectedButtonName(e){return this.parent.value=e,this},getSelectedButtonName(){return this.parent.value},setButtonState(e,t){t===void 0&&(t=!0);for(var i=this.buttons,s=0,g=i.length;s<g;s++){var E=i[s];if(!E.rexSizer.hidden&&E.name===e){E.selected=t;break}}return this},getButtonState(e){for(var t=this.buttons,i=0,s=t.length;i<s;i++){var g=t[i];if(!g.rexSizer.hidden&&g.name===e)return g.selected}}};var GTt=function(e,t){if(e)if(Na(e)){for(var i,s=0,g=e.length;s<g;s++)if(i=p4(e[s],t),i)return i}else{var i;for(var E in e)if(i=p4(e[E],t),i)return i}else return null},p4=function(e,t){return e?e.hasOwnProperty("name")?e.name===t?e:null:GetElementByName(e,t):null};const OT={getButton(e){var t=this.buttons,i,s=typeof e;switch(s){case"number":i=t[e];break;case"string":i=GTt(t,e);break;default:i=e,t.indexOf(i)===-1&&(i=void 0);break}return i},getButtons(){return this.buttons},hasAnyButton(){return this.buttons.length>0},setButtonEnable(e,t){var i=this.buttons;if(e===void 0||typeof e=="boolean"){t=e;for(var s=0,g=i.length;s<g;s++)i[s]._click.setEnable(t)}else this.getButton(e)._click.setEnable(t);return this},toggleButtonEnable(e){var t=this.buttons;if(e===void 0||typeof e=="boolean")for(var i=0,s=t.length;i<s;i++)t[i]._click.toggleEnable();else this.getButton(e)._click.toggleEnable();return this},getButtonEnable(e){return e===void 0&&(e=0),this.getButton(e)._click.enable},emitButtonClick(e){var t=this.buttonGroup?this.buttonGroup:this;return t.fireEvent("button.click",e),this},emitButtonOver(e){for(var t=this.buttonGroup?this.buttonGroup:this,i=this.buttons,s=0,g=i.length;s<g;s++){var E=i[s];E._click.isOver&&(E._click.isOver=!1,t.fireEvent("button.out",E))}var E=this.getButton(e);return E&&(E._click.isOver=!0,t.fireEvent("button.over",E)),this},showButton(e){return mh(this.getButton(e)),this},hideButton(e){return yh(this.getButton(e)),this},isButtonShown(e){return jM(this.getButton(e)),this},forEachButtton(e,t){for(var i=this.buttons,s=0,g=i.length;s<g;s++)t?e.call(t,i[s],s,i):e(i[s],s,i);return this}};class LT{constructor(t){this.parent=t.parent,this.eventEmitter=t.eventEmitter,this.groupName=t.groupName,this.clickConfig=t.clickConfig,this.buttonsType=void 0,this.buttons=[]}destroy(){this.parent=void 0,this.eventEmitter=void 0,this.clickConfig=void 0,this.buttons=void 0}}var kTt={fireEvent:ITt};Object.assign(LT.prototype,LTt,FTt,BTt,OT,kTt);const ER={clearAllButtonsState(){return this.buttonGroup.clearAllButtonsState(),this},getAllButtonsState(){return this.buttonGroup.getAllButtonsState()},setSelectedButtonName(e){return this.buttonGroup.setSelectedButtonName(e),this},getSelectedButtonName(){return this.buttonGroup.getSelectedButtonName()},setButtonState(e,t){return this.buttonGroup.setButtonState(e,t),this},getButtonState(e){return this.buttonGroup.getButtonState(e)}},Pu=Phaser.Utils.Objects.GetValue;let _r=class extends ei{constructor(t,i){i===void 0&&(i={});var s=i.space;typeof s=="number"&&(i.space={item:s}),super(t,i),this.type="rexButtons",this.buttonGroup=new LT({parent:this,eventEmitter:Pu(i,"eventEmitter",this),groupName:Pu(i,"groupName",void 0),clickConfig:Pu(i,"click",void 0)}).setButtonsType(i);var g=Pu(i,"background",void 0),E=Pu(i,"buttons",void 0);this.buttonsExpand=Pu(i,"expand",!1),this.buttonsAlign=Pu(i,"align",void 0),g&&this.addBackground(g),E&&this.addButtons(E),this.addChildrenMap("background",g),this.addChildrenMap("buttons",this.buttonGroup.buttons)}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.buttonGroup.destroy(),this.buttonGroup=void 0)}get buttons(){return this.buttonGroup.buttons}get groupName(){return this.buttonGroup.groupName}set groupName(t){this.buttonGroup.groupName=t}get eventEmitter(){return this.buttonGroup.eventEmitter}};Object.assign(_r.prototype,PTt,RTt,OT,ER);It.register("buttons",function(e){var t=new _r(this.scene,e);return this.scene.add.existing(t),t});Dt(window,"RexPlugins.UI.Buttons",_r);const NTt=Xa.prototype.add,UTt={addButton(e,t,i){return NTt.call(this,e,t,i,void 0,0,this.buttonsExpand),this.buttonGroup.add(e),this},addButtons(e,t){for(var i=0,s=e;i<s;i++)this.addButton(e[i],void 0,t);return this}},VTt=Xa.prototype.remove,zTt=Xa.prototype.clear;var GP=function(i,t){var i=this.getButton(i);return i?(this.buttonGroup.remove(i),VTt.call(this,i,t),this):this};const WTt={remove(e,t){if(Na(e))for(var i=e,s=0,g=i.length;s<g;s++)GP.call(this,i[s],t);else GP.call(this,e,t);return this},clear(e){var t=this.buttonGroup.buttons;return t.length=0,zTt.call(this,e),this},removeButton(e,t){return this.remove(e,t),this},clearButtons(e){for(var t=this.buttonGroup.buttons,i=t.length-1;i>=0;i--)GP.call(this,t[i],e);return this}},go=Phaser.Utils.Objects.GetValue;class DT extends Xa{constructor(t,i){i===void 0&&(i={});var s=go(i,"row",0),g=go(i,"column",i.col||0),E=go(i,"createCellContainerCallback"),n=go(i,"buttons",void 0),T=go(i,"expand",!0),r=T?1:0;if(E&&(i.createCellContainerCallback=void 0),n!==void 0){s=Math.max(s,n.length);for(var o=0,y=n.length;o<y;o++)g=Math.max(g,n[o].length)}i.row=s,i.column=g,i.columnProportions=r,i.rowProportions=r,super(t,i),this.type="rexGridButtons",this.buttonGroup=new LT({parent:this,eventEmitter:go(i,"eventEmitter",this),groupName:go(i,"groupName",void 0),clickConfig:go(i,"click",void 0)}).setButtonsType(i);var d=go(i,"background",void 0);if(this.buttonsExpand=T,go(i,"space",void 0),d&&this.addBackground(d),n)for(var h,l,a=0,f=n.length;a<f;a++){h=n[a];for(var c=0,u=h.length;c<u;c++)l=h[c],l&&this.addButton(l,c,a)}else if(E)for(var v=0;v<s;v++)for(var p=0;p<g;p++){var l=E(t,p,v);l&&this.addButton(l,p,v)}this.addChildrenMap("background",d),this.addChildrenMap("buttons",this.buttonGroup.buttons)}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.buttonGroup.destroy(),this.buttonGroup=void 0)}get buttons(){return this.buttonGroup.buttons}get groupName(){return this.buttonGroup.groupName}set groupName(t){this.buttonGroup.groupName=t}get eventEmitter(){return this.buttonGroup.eventEmitter}}Object.assign(DT.prototype,UTt,WTt,OT,ER);It.register("gridButtons",function(e){var t=new DT(this.scene,e);return this.scene.add.existing(t),t});Dt(window,"RexPlugins.UI.GridButtons",DT);const jN=Dh.prototype.add;var By=function(e){return jN.call(this,e),this.buttonGroup.add(e),this};const YTt={addButton(e){if(Na(e))for(var t=e,i=0,s=t.length;i<s;i++)By.call(this,t[i]);else By.call(this,e);return this},addButtons(e){if(Na(e[0]))for(var t=e,i,s=0,g=t.length-1;s<=g;s++){i=t[s];for(var E=0,n=i.length;E<n;E++)By.call(this,i[E]);s>g&&jN.addNewLine(this)}else for(var E=0,n=e.length;E<n;E++)By.call(this,e[E]);return this}},XTt=Dh.prototype.remove,HTt=Dh.prototype.clear;var kP=function(i,t){var i=this.getButton(i);return i?(this.buttonGroup.remove(i),XTt.call(this,i,t),this):this};const $Tt={remove(e,t){if(Na(e))for(var i=e,s=0,g=i.length;s<g;s++)kP.call(this,i[s],t);else kP.call(this,e,t);return this},clear(e){var t=this.buttonGroup.buttons;return t.length=0,HTt.call(this,e),this},removeButton(e,t){return this.remove(e,t),this},clearButtons(e){for(var t=this.buttonGroup.buttons,i=t.length-1;i>=0;i--)kP.call(this,t[i],e);return this}},bd=Phaser.Utils.Objects.GetValue;class wh extends Dh{constructor(t,i){i===void 0&&(i={});var s=i.space;typeof s=="number"&&(i.space={item:s,line:s}),super(t,i),this.type="rexFixWidthButtons",this.buttonGroup=new LT({parent:this,eventEmitter:bd(i,"eventEmitter",this),groupName:bd(i,"groupName",void 0),clickConfig:bd(i,"click",void 0)}).setButtonsType(i);var g=bd(i,"background",void 0),E=bd(i,"buttons",void 0);this.buttonsAlign=bd(i,"align",void 0),g&&this.addBackground(g),E&&this.addButtons(E),this.addChildrenMap("background",g),this.addChildrenMap("buttons",this.buttonGroup.buttons)}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.buttonGroup.destroy(),this.buttonGroup=void 0)}get buttons(){return this.buttonGroup.buttons}get groupName(){return this.buttonGroup.groupName}set groupName(t){this.buttonGroup.groupName=t}get eventEmitter(){return this.buttonGroup.eventEmitter}}Object.assign(wh.prototype,YTt,$Tt,OT,ER);It.register("fixWidthButtons",function(e){var t=new wh(this.scene,e);return this.scene.add.existing(t),t});Dt(window,"RexPlugins.UI.FixWidthButtons",wh);const KTt={setAccept(e){return this.childrenMap.fileChooser.setAccept(e),this},setMultiple(e){return this.childrenMap.fileChooser.setMultiple(e),this},loadFile(e,t,i,s,g){return this.childrenMap.fileChooser.loadFile(e,t,i,s,g),this},loadFilePromise(e,t,i,s){return this.childrenMap.fileChooser.loadFilePromise(e,t,i,s)}},g4=Phaser.Utils.Objects.GetValue;class bR extends xl{constructor(t,i){super(t,i),this.type="rexFileSelectorButton";var s=new ug(t);t.add.existing(s),this.addBackground(s),this.addChildrenMap("fileChooser",s),this.setAccept(g4(i,"accept","")),this.setMultiple(g4(i,"multiple",!1)),s.on("change",function(g){var E=g.files;E.length!==0&&(E=Array.from(E),this.emit("select",E,this))},this)}get files(){return this.childrenMap.fileChooser.files}}Object.assign(bR.prototype,KTt);It.register("fileSelectorButton",function(e){var t=new bR(this.scene,e);return this.scene.add.existing(t),t});Dt(window,"RexPlugins.UI.FileSelectorButton",bR);const JTt={getChoice(e){var t=this.childrenMap.choicesSizer;if(t)return t.getButton(e)},getAction(e){return this.childrenMap.actionsSizer.getButton(e)},getToolbar(e){return this.childrenMap.toolbarSizer.getButton(e)},getLeftToolbar(e){return this.childrenMap.leftToolbarSizer.getButton(e)},setChoiceEnable(e,t){var i=this.childrenMap.choicesSizer;return i&&i.setButtonEnable(e,t),this},setActionEnable(e,t){return this.childrenMap.actionsSizer.setButtonEnable(e,t),this},setToolbarEnable(e,t){return this.childrenMap.toolbarSizer.setButtonEnable(e,t),this},setLeftToolbarEnable(e,t){return this.childrenMap.leftToolbarSizer.setButtonEnable(e,t),this},toggleChoiceEnable(e){var t=this.childrenMap.choicesSizer;return t&&t.toggleButtonEnable(e),this},toggleActionEnable(e){return this.childrenMap.actionsSizer.toggleButtonEnable(e),this},toggleToolbarEnable(e){return this.childrenMap.toolbarSizer.toggleButtonEnable(e),this},toggleLeftToolbarEnable(e){return this.childrenMap.leftToolbarSizer.toggleButtonEnable(e),this},getChoiceEnable(e){var t=this.childrenMap.choicesSizer;return t?t.getButtonEnable(e):!1},getActionEnable(e){return this.childrenMap.actionsSizer.getButtonEnable(e)},getToolbarEnable(e){return this.childrenMap.toolbarSizer.getButtonEnable(e)},getLeftToolbarEnable(e){return this.childrenMap.leftToolbarSizer.getButtonEnable(e)},emitChoiceClick(e){var t=this.childrenMap.choicesSizer;return t&&t.emitButtonClick(e),this},emitActionClick(e){return this.childrenMap.actionsSizer.emitButtonClick(e),this},emitToolbarClick(e){return this.childrenMap.toolbarSizer.emitButtonClick(e),this},emitLeftToolbarClick(e){return this.childrenMap.leftToolbarSizer.emitButtonClick(e),this},showChoice(e){var t=this.childrenMap.choicesSizer;return t&&t.showButton(e),this},showAction(e){return this.childrenMap.actionsSizer.showButton(e),this},showToolbar(e){return this.childrenMap.toolbarSizer.showButton(e),this},showLeftToolbar(e){return this.childrenMap.leftToolbarSizer.showButton(e),this},hideChoice(e){var t=this.childrenMap.choicesSizer;return t&&t.hideButton(e),this},hideAction(e){return this.childrenMap.actionsSizer.hideButton(e),this},hideToolbar(e){return this.childrenMap.toolbarSizer.hideButton(e),this},hideLeftToolbar(e){return this.childrenMap.leftToolbarSizer.hideButton(e),this},addChoice(e){var t=this.childrenMap.choicesSizer;return t&&t.addButton(e),this},addAction(e){return this.childrenMap.actionsSizer.addButton(e),this},addToolbar(e){return this.childrenMap.toolbarSizer.addButton(e),this},addLeftToolbar(e){return this.childrenMap.leftToolbarSizer.addButton(e),this},removeChoice(e,t){var i=this.childrenMap.choicesSizer;return i&&i.removeButton(e,t),this},removeAction(e,t){return this.childrenMap.actionsSizer.removeButton(e,t),this},removeToolbar(e,t){return this.childrenMap.toolbarSizer.removeButton(e,t),this},removeLeftToolbar(e,t){return this.childrenMap.leftToolbarSizer.removeButton(e,t),this},clearChoices(e){var t=this.childrenMap.choicesSizer;return t&&t.clearButtons(e),this},clearActions(e){return this.childrenMap.actionsSizer.clearButtons(e),this},clearToolbar(e){return this.childrenMap.toolbarSizer.clearButtons(e),this},clearLeftToolbar(e){return this.childrenMap.leftToolbarSizer.clearButtons(e),this},forEachChoice(e,t){var i=this.childrenMap.choicesSizer;return i&&i.forEachButtton(e,t),this},forEachAction(e,t){return this.childrenMap.actionsSizer.forEachButtton(e,t),this},forEachToolbar(e,t){return this.childrenMap.toolbarSizer.forEachButtton(e,t),this},forEachLeftToolbar(e,t){return this.childrenMap.leftToolbarSizer.forEachButtton(e,t),this},setAllButtonsEnable(e){return e===void 0&&(e=!0),this.childrenMap.toolbarSizer&&this.setToolbarEnable(e),this.childrenMap.leftToolbarSizer&&this.setLeftToolbarEnable(e),this.childrenMap.actionsSizer&&this.setActionEnable(e),this.childrenMap.choicesSizer&&this.setChoiceEnable(e),this},getChoicesButtonStates(){var e=this.childrenMap.choicesSizer;return e?e.getAllButtonsState():{}},getChoicesButtonState(e){var t=this.childrenMap.choicesSizer;return e===void 0?t?t.getAllButtonsState():{}:t?t.getButtonState(e):!1},setChoicesButtonState(e,t){var i=this.childrenMap.choicesSizer;return i&&i.setButtonState(e,t),this},clearChoicesButtonStates(){var e=this.childrenMap.choicesSizer;return e&&e.clearAllButtonsState(),this},getChoicesSelectedButtonName(){var e=this.childrenMap.choicesSizer;return e?e.getSelectedButtonName():""},setChoicesSelectedButtonName(e){var t=this.childrenMap.choicesSizer;return t&&t.setSelectedButtonName(e),this},hasAnyChoice(){var e=this.childrenMap.choicesSizer;return e?e.hasAnyButton():!1},hasAnyAction(){var e=this.childrenMap.actionsSizer;return e?e.hasAnyButton():!1},hasAnyToolbar(){var e=this.childrenMap.toolbarSizer;return e?e.hasAnyButton():!1},hasAnyLeftToolbar(){var e=this.childrenMap.leftToolbarSizer;return e?e.hasAnyButton():!1}},ZTt={onCreateModalBehavior(e){e.on("button.click",function(t,i,s,g,E){var n=!1;switch(i){case"actions":n=!0;break;case"choices":e.hasAnyAction()||(n=!0);break}if(n){var T={index:s,text:t.text,button:t,dialog:e};switch(e.buttonsType){case"radio":T.value=e.getChoicesSelectedButtonName();break;case"checkboxes":T.value=e.getChoicesButtonStates();break;default:T.value=void 0}e.modalClose(T)}})},modal(e,t){return e&&e.defaultBehavior===!1?this.onCreateModalBehavior=!1:delete this.onCreateModalBehavior,dT.modal.call(this,e,t),this}};var QN={};Object.assign(QN,JTt,ZTt);const me=Phaser.Utils.Objects.GetValue;class yg extends ei{constructor(t,i){i===void 0&&(i={}),i.orientation=1,super(t,i),this.type="rexDialog",this.eventEmitter=me(i,"eventEmitter",this);var s=me(i,"background",void 0),g=me(i,"title",void 0),E=me(i,"toolbar",void 0),n=me(i,"toolbarBackground",void 0),T=me(i,"leftToolbar",void 0),r=me(i,"leftToolbarBackground",void 0),o=me(i,"content",void 0),y=me(i,"description",void 0),d,h=me(i,"choices",void 0),l=me(i,"choicesBackground",void 0),a,f=me(i,"actions",void 0),c=me(i,"actionsBackground",void 0),u=me(i,"click",void 0);s&&this.addBackground(s);var v;E&&(v=new _r(t,{groupName:"toolbar",background:n,buttons:E,orientation:0,space:{item:me(i,"space.toolbarItem",0)},click:u,eventEmitter:this.eventEmitter}),t.add.existing(v));var p;if(T&&(p=new _r(t,{groupName:"leftToolbar",background:r,buttons:T,orientation:0,space:{item:me(i,"space.leftToolbarItem",0)},click:u,eventEmitter:this.eventEmitter}),t.add.existing(p)),g||E||T){var m=!!g&&me(i,"expand.title",!0),x=me(i,"align.title","center"),C=g&&!m&&x==="center"||!g&&(E||T),P=!C,w;P?w=new ei(t,{orientation:0}):w=new oa(t),t.add.existing(w);var M=P?!0:{height:!0};if(p&&w.add(p,{align:"left",expand:M}),g){P&&!m&&x==="right"&&w.addSpace();var R={left:me(i,"space.titleLeft",0),right:me(i,"space.titleRight",0)},A=m?1:0;w.add(g,{align:x,proportion:A,expand:M,padding:R}),P&&!m&&x==="left"&&w.addSpace()}v&&(P&&!g&&w.addSpace(),w.add(v,{align:"right",expand:M}));var R;(o||y||h||f)&&(R={bottom:me(i,"space.title",0),top:me(i,"space.titleTop",0)});var A=me(i,"proportion.title",0);this.add(w,{padding:R,proportion:A,expand:!0})}if(o){var L=me(i,"align.content","center"),F=me(i,"space.content",0),R={left:me(i,"space.contentLeft",0),right:me(i,"space.contentRight",0),bottom:y||h||f?F:0},A=me(i,"proportion.content",0),G=me(i,"expand.content",!0);this.add(o,{align:L,padding:R,proportion:A,expand:G})}if(y){var L=me(i,"align.description","center"),I=me(i,"space.description",0),R={left:me(i,"space.descriptionLeft",0),right:me(i,"space.descriptionRight",0),bottom:h||f?I:0},A=me(i,"proportion.description",0),G=me(i,"expand.description",!0);this.add(y,{align:L,padding:R,proportion:A,expand:G})}if(h){var B=me(i,"choicesType","").split("-"),k=fp(B,"wrap")?wh:fp(B,"grid")?DT:_r,U=fp(B,"radio")?"radio":fp(B,"checkboxes")?"checkboxes":void 0,H={left:me(i,"space.choicesBackgroundLeft",0),right:me(i,"space.choicesBackgroundRight",0),top:me(i,"space.choicesBackgroundTop",0),bottom:me(i,"space.choicesBackgroundBottom",0)},X=me(i,"space.choice",0);k===_r?H.item=X:k===wh?(H.item=X,H.line=me(i,"space.choiceLine",X)):(H.column=me(i,"space.choiceColumn",X),H.row=me(i,"space.choiceRow",X));var j={width:me(i,"choicesWidth",void 0),height:me(i,"choicesHeight",void 0),groupName:"choices",buttonsType:U,background:l,buttons:h,space:H,click:u,eventEmitter:this.eventEmitter,setValueCallback:me(i,"choicesSetValueCallback",void 0),setValueCallbackScope:me(i,"choicesSetValueCallbackScope",void 0)};k===_r&&(j.orientation=fp(B,"x")?0:1),d=new k(t,j),t.add.existing(d);var Z=me(i,"space.choices",0),R={left:me(i,"space.choicesLeft",0),right:me(i,"space.choicesRight",0),bottom:f?Z:0},L=me(i,"align.choices","center"),A=me(i,"proportion.choices",0),G=me(i,"expand.choices",!0);this.add(d,{align:L,padding:R,proportion:A,expand:G}),this.buttonsType=U}if(f){a=new _r(t,{groupName:"actions",background:c,buttons:f,orientation:0,space:{item:me(i,"space.action",0)},expand:me(i,"expand.actions",!1),align:me(i,"align.actions","center"),click:u,eventEmitter:this.eventEmitter}),t.add.existing(a);var R={left:me(i,"space.actionsLeft",0),right:me(i,"space.actionsRight",0),bottom:me(i,"space.actionsBottom",0)},A=me(i,"proportion.action",0);this.add(a,{align:"center",padding:R,proportion:A,expand:!0})}dp(this,"click"),dp(this,"over"),dp(this,"out"),dp(this,"enable"),dp(this,"disable"),this.addChildrenMap("background",s),this.addChildrenMap("title",g),this.addChildrenMap("toolbar",E),this.addChildrenMap("leftToolbar",T),this.addChildrenMap("content",o),this.addChildrenMap("description",y),this.addChildrenMap("choices",d?d.buttons:void 0),this.addChildrenMap("actions",a?a.buttons:void 0),this.addChildrenMap("choicesSizer",d),this.addChildrenMap("actionsSizer",a),this.addChildrenMap("toolbarSizer",v),this.addChildrenMap("leftToolbarSizer",p)}}var fp=function(e,t){return e.indexOf(t)!==-1},m4={actions:"action",choices:"choice",toolbar:"toolbar",leftToolbar:"leftToolbar"},dp=function(e,t){e.on(`button.${t}`,function(i,s,g,E,n){m4.hasOwnProperty(s)&&e.emit(`${m4[s]}.${t}`,i,g,E,n)})};Object.assign(yg.prototype,QN);It.register("dialog",function(e){var t=new yg(this.scene,e);return this.scene.add.existing(t),t});Dt(window,"RexPlugins.UI.Dialog",yg);var en=function(e,t,i){var s=new mg(e,t,i);return e.add.existing(s),s},jTt=function(e){return e===void 0&&(e={}),QTt.call(this,e),qTt.call(this,e),_Tt.call(this,e),tCt.call(this,e),this},QTt=function(e){var t=this.childrenMap.title;e=e.title,e===null?t.hide():(t.show(),t.resetDisplayContent(e))},qTt=function(e){var t=this.childrenMap.content;if(e=e.content,e===null)t.hide();else if(t.show(),t.resetDisplayContent)t.resetDisplayContent(e);else{var i=e||"";t.setText(i)}},_Tt=function(e){var t=this.childrenMap.actions;if(t){var i=e.buttons;if(i){for(var E=this.scene,n=this.defaultActionConfig,T=this.defaultActionButtonCreator,r=0,o=i.length;r<o;r++){var y=i[r],d=t[r];d||(d=en(E,n,T),this.addAction(d)),d.show().resetDisplayContent(y)}this.buttonMode=i.length;for(var r=i.length,o=t.length;r<o;r++)t[r].hide()}else{var s=t[0];s&&(e.buttonA===null?s.hide():(s.show(),s.resetDisplayContent(e.buttonA)));var g=t[1];g&&(e.buttonB===null?g.hide():(g.show(),g.resetDisplayContent(e.buttonB)))}}},tCt=function(e){var t=this.childrenMap.choices;if(t){var i=e.choices;i||(i=[]);for(var s=this.scene,g=this.defaultChoiceConfig,E=this.defaultActionButtonCreator,n=0,T=i.length;n<T;n++){var r=i[n];typeof r=="string"&&(r={text:r});var o=t[n];o||(o=en(s,g,E),this.addChoice(o)),o.show().resetDisplayContent(r);var y;r.hasOwnProperty("value")?y=r.value:y=r.text,o.setName(y)}for(var n=i.length,T=t.length;n<T;n++)t[n].hide()}};const eCt=Phaser.Utils.Objects.Merge;var iCt=function(e,t){ka(e)&&(t=e,e=void 0),e===void 0&&(e={}),e=eCt(e,this.modalStyle);var i;this.buttonMode===0?this.hasAnyChoice()?i=!1:i=!0:i=!1,e.hasOwnProperty("anyTouchClose")||(e.anyTouchClose=i),e.hasOwnProperty("manualClose")||(e.manualClose=!i);var s=this,g=function(E){var n=E.index;n===s.confirmButtonIndex?s.emit("confirm",E):n===s.cancelButtonIndex&&s.emit("cancel",E),t&&t(E)};return dT.modal.call(this,e,g),this};const rCt={setConfirmButtonIndex(e){return this.confirmButtonIndex=e,this},setCancelButtonIndex(e){return this.cancelButtonIndex=e,this}};var qN={resetDisplayContent:jTt,modal:iCt};Object.assign(qN,rCt);var nCt=function(e){e.setHoverState&&e.setHoverState(!0)},sCt=function(e){e.setHoverState&&e.setHoverState(!1)},aCt=function(e,t,i,s){e.setActiveState&&e.setActiveState(s)},oCt=function(e){e.setDisableState&&e.setDisableState(!1)},lCt=function(e){e.setDisableState&&e.setDisableState(!0)},_N=function(){this.on("button.over",nCt).on("button.out",sCt).on("button.enable",oCt).on("button.disable",lCt).on("button.statechange",aCt)};const hCt=Phaser.Utils.Objects.GetValue;var uCt=function(e,t,i){var s=hCt(t,"$type");s===void 0&&t&&(t.hasOwnProperty("slider")||t.hasOwnProperty("scroller"))&&(s="textarea");var g;switch(s){case"textarea":g=new $N(e,t,i);break;default:g=new en(e,t,i);break}return e.add.existing(g),g};const NP=Phaser.Utils.Objects.GetValue;class FT extends yg{constructor(t,i,s){i=i?rn(i):{},s===void 0&&(s={});var g=NP(s,"background",zr);i.background=g(t,i.background),i.title=en(t,i.title,s.title),i.content=uCt(t,i.content,s.content),i.content instanceof gg&&ll(i,"height")&&!ll(i,"proportion.content")&&Dt(i,"proportion.content",1);var E=i.button,n=i.buttonA||E,T=i.buttonB||E,r=i.buttonMode;r===void 0&&(r=n&&T?2:n?1:0);var o=s.button,y=s.buttonA||o,d=s.buttonB||o;switch(r){case 2:i.actions=[en(t,n,y),en(t,T,d)];break;case 1:i.actions=[en(t,n,y)];break;case 0:break;default:i.actions=[];break}var h=i.choice;h&&(i.choices=[]),super(t,i),this.type="rexConfirmDialog",this.buttonMode=r,this.defaultActionConfig=E,this.defaultActionButtonCreator=o,this.defaultChoiceConfig=h,this.defaultChoiceCreator=s.choice;var l=this.childrenMap.actions;this.addChildrenMap("buttonA",l?l[0]:null),this.addChildrenMap("buttonB",l?l[1]:null),_N.call(this),this.setConfirmButtonIndex(NP(i,"confirmButtonIndex",0)),this.setCancelButtonIndex(NP(i,"cancelButtonIndex",1)),this.modalStyle=i.modal||{}}}Object.assign(FT.prototype,qN);It.register("confirmDialog",function(e,t){var i=new FT(this.scene,e,t);return this.scene.add.existing(i),i});Dt(window,"RexPlugins.UI.ConfirmDialog",FT);const y4=Phaser.Utils.Objects.GetValue;var t8=function(e,t){var i=t.dialog,s=!i;if(s){var g=t.style;g.buttonMode=2,i=new FT(e,g,t.creators),e.add.existing(i)}i.setConfirmButtonIndex(y4(t,"confirmButtonIndex",0)).setCancelButtonIndex(y4(t,"cancelButtonIndex",1)).resetDisplayContent(t.content).layout(),s&&t.onCreateDialog&&t.onCreateDialog(i);var E=t.modal;E&&!E.hasOwnProperty("destroy")&&(E.destroy=s);var n=t.confirm,T=t.cancel,r=t.confirmScope,o=t.cancelScope;n&&i.once("confirm",n,r),T&&i.once("cancel",T,o);var y=function(d){i.off("confirm",n,r),i.off("cancel",T,o)};return i.modal(E,y),i};class e8 extends xl{constructor(t,i){i===void 0&&(i={}),super(t,i),this.type="rexConfirmActionButton",this.setConfirmDialogEnable(),this.confirmActionConfig=Ga(i.confirmDialog||{}),i.confirm&&this.setConfirmCallback(i.confirm,i.confirmScope),i.cancel&&this.setCancelCallback(i.cancel,i.cancelScope),this.onClickCallback=function(){if(this.confirmDialogEnable){if(this.confirmDialog)return;this.confirmDialog=t8(t,this.confirmActionConfig),this.confirmDialog.once("destroy",function(){this.confirmDialog=void 0},this)}else this.runConfirmCallback()},this.onClick(this.onClickCallback,this)}destroy(t){!this.scene||this.ignoreDestroy||(this.confirmDialog&&this.confirmDialog.destroy(),super.destroy(t),this.confirmActionConfig=void 0,this.onClickCallback=void 0,this.confirmDialog=void 0)}setConfirmCallback(t,i){return this.confirmActionConfig.confirm=t,this.confirmActionConfig.confirmScope=i,this}setCancelCallback(t,i){return this.confirmActionConfig.cancel=t,this.confirmActionConfig.cancelScope=i,this}setConfirmDialogContent(t){return this.confirmActionConfig.content=t,this}setConfitmDialogStyle(t){return this.confirmActionConfig.style=t,this}setConfitmDialogModalConfig(t){return this.confirmActionConfig.modal=t,this}setConfirmDialogEnable(t){return t===void 0&&(t=!0),this.confirmDialogEnable=t,this}runConfirmCallback(){var t=this.confirmActionConfig.confirm,i=this.confirmActionConfig.confirmScope;return t&&t.call(i),this}}It.register("confirmActionButton",function(e){var t=new e8(this.scene,e);return this.scene.add.existing(t),t});Dt(window,"RexPlugins.UI.ConfirmActionButton",e8);var fCt=function(e){return e===void 0&&(e={}),dCt.call(this,e),cCt.call(this,e),vCt.call(this,e),this},dCt=function(e){var t=this.childrenMap.title;e.title===null?this.hide(t):(this.show(t),t.resetDisplayContent(e.title))},cCt=function(e){var t=this.childrenMap.firstNameTitle;if(e.firstNameTitle===null)this.hide(t);else{this.show(t);var i=e.firstNameTitle||"";t.resetDisplayContent(i)}var s=this.childrenMap.firstNameInput;if(e.firstName===null)this.hide(s);else{this.show(s);var g=e.firstName||"";s.setText(g)}var E=this.childrenMap.lastNameTitle;if(e.lastNameTitle===null)this.hide(E);else{this.show(E);var n=e.lastNameTitle||"";E.resetDisplayContent(n)}var T=this.childrenMap.lastNameInput;if(e.lastName===null)this.hide(T);else{this.show(T);var r=e.lastName||"";T.setText(r)}},vCt=function(e){var t=this.childrenMap.actions[0];e.button===null?this.hide(t):(this.show(t),t.resetDisplayContent(e.button))};const pCt=Phaser.Utils.Objects.Merge;var gCt=function(e,t){ka(e)&&(t=e,e=void 0),e===void 0&&(e={}),e=pCt(e,this.modalStyle),e.anyTouchClose=!1,e.manualClose=!1;var i=this,s=function(g){g.firstName=i.firstName,g.lastName=i.lastName,i.emit("confirm",g),t&&t(g)};return dT.modal.call(this,e,s),this},mCt={resetDisplayContent:fCt,modal:gCt},Mh=function(e,t,i){i===void 0&&(i=!0),i?t=t?rn(t):{}:t||(t={});var s=new _p(e,t);return e.add.existing(s),s};const ta=Phaser.Utils.Objects.GetValue;var yCt=function(e,t,i){var s=Qu(ta(t,"layoutMode",0)),g=s===0,E=new ei(e,{orientation:s,space:{item:ta(t,"space.firstName",0)}});e.add.existing(E);var n=new ei(e,{orientation:"x"});e.add.existing(n);var T=ta(t,"firstNameTitle",t.nameTitle),r=en(e,T,i.firstNameTitle||i.nameTitle);n.add(r,{expand:!0,proportion:ta(t,"proportion.firstNameTitle",0),padding:{right:ta(t,"space.firstNameTitle",0)}});var o=t.nameInput||{},y=ta(t,"firstNameInput",o),d=Mh(e,y,i.firstNameInput||i.nameInput),h=!y.hasOwnProperty("width");n.add(d,{expand:!0,proportion:h?1:0});var l=new ei(e,{orientation:"x"});e.add.existing(l);var a=ta(t,"lastNameTitle",t.nameTitle),f=en(e,a,i.lastNameTitle||i.nameTitle);l.add(f,{expand:!0,proportion:ta(t,"proportion.lastNameTitle",0),padding:{right:ta(t,"space.lastNameTitle",0)}});var c=ta(t,"firstNameInput",o),u=Mh(e,c,i.lastNameInput||i.nameInput),v=!c.hasOwnProperty("width");if(l.add(u,{expand:!0,proportion:v?1:0}),g){var p=h?1:0,m=ta(t,"proportion.firstName",p);E.add(n,{expand:!0,proportion:m});var x=v?1:0,C=ta(t,"proportion.lastName",x);E.add(l,{expand:!0,proportion:C})}else E.add(n,{expand:h,proportion:0}),E.add(l,{expand:v,proportion:0});return E.addChildrenMap("firstNameTitle",r),E.addChildrenMap("firstNameInput",d),E.addChildrenMap("lastNameTitle",f),E.addChildrenMap("lastNameInput",u),E};const xCt=Phaser.Utils.Objects.GetValue;class PR extends yg{constructor(t,i,s){i===void 0&&(i={}),s===void 0&&(s={}),i.orientation="y";var g=i.space;g&&(g.hasOwnProperty("names")&&(g.content=g.names),g.hasOwnProperty("namesLeft")&&(g.contentLeft=g.namesLeft),g.hasOwnProperty("namesRight")&&(g.contentRight=g.namesRight));var E=xCt(s,"background",zr);i.background=E(t,i.background),i.title=en(t,i.title,s.title),i.content=yCt(t,i,s),i.actions=[en(t,i.button,s.button)],super(t,i),this.type="rexNameInputDialog";var n=i.content.childrenMap;this.addChildrenMap("firstNameTitle",n.firstNameTitle),this.addChildrenMap("firstNameInput",n.firstNameInput),this.addChildrenMap("lastNameTitle",n.lastNameTitle),this.addChildrenMap("lastNameInput",n.lastNameInput),this.addChildrenMap("button",i.actions[0]),_N.call(this),this.modalStyle=i.modal||{}}get firstName(){return this.childrenMap.firstNameInput.text}set firstName(t){this.childrenMap.firstNameInput.setText(t)}setFirstName(t){return this.firstName=t,this}get lastName(){return this.childrenMap.lastNameInput.text}set lastName(t){this.childrenMap.lastNameInput.setText(t)}setLastName(t){return this.lastName=t,this}}Object.assign(PR.prototype,mCt);It.register("nameInputDialog",function(e,t){var i=new PR(this.scene,e,t);return this.scene.add.existing(i),i});Dt(window,"RexPlugins.UI.NameInputDialog",PR);var Du=function(e,t){if(e){var i=Bs(e);i&&i.remove(e,t)}};const Gy=Phaser.Utils.Objects.GetValue;var xg=function(e,t,i){var s=Gy(e,`proportion.${t}`,i.proportion),g=Gy(e,`align.${t}`,"center"),E=Gy(e,`space.${t}`,void 0);if(typeof E=="number"&&i.paddingKey){var n=E;E={},E[i.paddingKey]=n}var T=Gy(e,`expand.${t}`,!0);return{proportion:s,align:g,padding:E,expand:T}},IT=function(e){return xg(e,"header",{proportion:0,paddingKey:"bottom"})},BT=function(e){return xg(e,"leftSide",{proportion:0,paddingKey:"right"})},GT=function(e){return xg(e,"content",{proportion:1})},kT=function(e){return xg(e,"rightSide",{proportion:0,paddingKey:"left"})},NT=function(e){return xg(e,"footer",{proportion:0,paddingKey:"top"})},ul=function(e){return{proportion:1,align:"center",padding:0,expand:!0}},fl=function(e,t){var i=new ei(e,{orientation:t});return e.add.existing(i),i},TCt=function(e){var t=this.scene,i=e.header;i&&this.add(i,IT(e));var s=fl(t,0);this.add(s,ul());var g=e.leftSide;g&&s.add(g,BT(e));var E=e.content;E&&s.add(E,GT(e));var n=e.rightSide;n&&s.add(n,kT(e));var T=e.footer;T&&this.add(T,NT(e))},CCt=function(e){var t=this.scene,i=e.header;i&&this.add(i,IT(e));var s=fl(t,0);this.add(s,ul());var g=e.leftSide;g&&s.add(g,BT(e));var E=fl(t,1);s.add(E,ul());var n=fl(t,0);E.add(n,ul());var T=e.content;T&&n.add(T,GT(e));var r=e.rightSide;r&&n.add(r,kT(e));var o=e.footer;o&&E.add(o,NT(e))},SCt=function(e){var t=this.scene,i=e.header;i&&this.add(i,IT(e));var s=fl(t,0);this.add(s,ul());var g=fl(t,1);s.add(g,ul());var E=fl(t,0);g.add(E,ul());var n=e.leftSide;n&&E.add(n,BT(e));var T=e.content;T&&E.add(T,GT(e));var r=e.footer;r&&g.add(r,NT(e));var o=e.rightSide;o&&s.add(o,kT(e))},ECt=function(e){var t=this.scene,i=e.header;i&&this.add(i,IT(e));var s=fl(t,0);this.add(s,ul());var g=e.leftSide;g&&s.add(g,BT(e));var E=fl(t,1);s.add(E,ul());var n=e.content;n&&E.add(n,GT(e));var T=e.footer;T&&E.add(T,NT(e));var r=e.rightSide;r&&s.add(r,kT(e))};const bCt=Phaser.Utils.Objects.GetValue,x4=[TCt,CCt,SCt,ECt];var PCt=function(e){e===void 0&&(e={});var t=e.background,i=e.header,s=e.leftSide,g=e.content,E=e.rightSide,n=e.footer;Du(t),Du(i),Du(s),Du(g),Du(E),Du(n),this.clear(!0),t&&this.addBackground(t);var T=bCt(e,"layoutMode",0);typeof T=="string"&&(T=wCt[T.toUpperCase()]);var r=x4[T]||x4[0];return r.call(this,e),this.addChildrenMap("background",t),this.addChildrenMap("header",i),this.addChildrenMap("leftSide",s),this.addChildrenMap("content",g),this.addChildrenMap("rightSide",E),this.addChildrenMap("footer",n),this};const wCt={FFF:0,LFF:1,FFR:2,LFR:3};class wR extends ei{constructor(t,i){i===void 0&&(i={}),i.orientation=1,super(t,i),this.type="rexHolyGrail",this.build(i)}}var MCt={build:PCt};Object.assign(wR.prototype,MCt);It.register("holyGrail",function(e){var t=new wR(this.scene,e);return this.scene.add.existing(t),t});Dt(window,"RexPlugins.UI.HolyGrail",wR);const RCt={getButtonsSizer(e){return this.childrenMap[`${e}ButtonsSizer`]},getButton(e,t){var i=this.getButtonsSizer(e);return i?i.getButton(t):void 0},setButtonEnable(e,t,i){return this.getButtonsSizer(e).setButtonEnable(t,i),this},setLeftButtonEnable(e,t){return this.childrenMap.leftButtonsSizer.setButtonEnable(e,t),this},setRightButtonEnable(e,t){return this.childrenMap.rightButtonsSizer.setButtonEnable(e,t),this},setTopButtonEnable(e,t){return this.childrenMap.topButtonsSizer.setButtonEnable(e,t),this},setBottomButtonEnable(e,t){return this.childrenMap.bottomButtonsSizer.setButtonEnable(e,t),this},toggleButtonEnable(e,t){return this.getButtonsSizer(e).toggleButtonEnable(t),this},toggleLeftButtonEnable(e){return this.childrenMap.leftButtonsSizer.toggleButtonEnable(e),this},toggleRightButtonEnable(e){return this.childrenMap.rightButtonsSizer.toggleButtonEnable(e),this},toggleTopButtonEnable(e){return this.childrenMap.topButtonsSizer.toggleButtonEnable(e),this},toggleBottomButtonEnable(e){return this.childrenMap.bottomButtonsSizer.toggleButtonEnable(e),this},getButtonEnable(e,t){return this.getButtonsSizer(e).getButtonEnable(t)},getLeftButtonEnable(e){return this.childrenMap.leftButtonsSizer.getButtonEnable(e)},getRightButtonEnable(e){return this.childrenMap.rightButtonsSizer.getButtonEnable(e)},getTopButtonEnable(e){return this.childrenMap.topButtonsSizer.getButtonEnable(e)},getBottomButtonEnable(e){return this.childrenMap.bottomButtonsSizer.getButtonEnable(e)},emitButtonClick(e,t){var i=this.getButtonsSizer(e);return i?(i.emitButtonClick(t),this):this},emitLeftButtonClick(e){return this.childrenMap.leftButtonsSizer.emitButtonClick(e),this},emitRightButtonClick(e){return this.childrenMap.rightButtonsSizer.emitButtonClick(e),this},emitTopButtonClick(e){return this.childrenMap.topButtonsSizer.emitButtonClick(e),this},emitBottomButtonClick(e){return this.childrenMap.bottomButtonsSizer.emitButtonClick(e),this},getLeftButton(e){return this.childrenMap.leftButtonsSizer.getButton(e)},getRightButton(e){return this.childrenMap.rightButtonsSizer.getButton(e)},getTopButton(e){return this.childrenMap.topButtonsSizer.getButton(e)},getBottomButton(e){return this.childrenMap.bottomButtonsSizer.getButton(e)},showButton(e,t){return mh(this.getButton(e,t)),this},showLeftButton(e){return mh(this.getLeftButton(e)),this},showRightButton(e){return mh(this.getRightButton(e)),this},showTopButton(e){return mh(this.getTopButton(e)),this},showBottomButton(e){return mh(this.getBottomButton(e)),this},hideButton(e,t){return yh(this.getButton(e,t)),this},hideLeftButton(e){return yh(this.getLeftButton(e)),this},hideRightButton(e){return yh(this.getRightButton(e)),this},hideTopButton(e){return yh(this.getTopButton(e)),this},hideBottomButton(e){return yh(this.getBottomButton(e)),this},addButton(e,t){return this.getButtonsSizer(e).addButton(t),this},addLeftButton(e){return this.addButton("left",e),this},addRightButton(e){return this.addButton("right",e),this},addTopButton(e){return this.addButton("top",e),this},removeButton(e,t,i){return this.getButtonsSizer(e).removeButton(t,i),this},removeLeftButton(e,t){return this.removeButton("left",e,t),this},removeRightButton(e,t){return this.removeButton("right",e,t),this},removeTopButton(e,t){return this.removeButton("top",e,t),this},removeBottomButton(e,t){return this.removeButton("bottom",e,t),this},clearButtons(e,t){return this.getButtonsSizer(e).clearButtons(t),this},clearLeftButtons(e){return this.clearButtons("left",e),this},clearRightButtons(e){return this.clearButtons("right",e),this},clearTopButtons(e){return this.clearButtons("top",e),this},clearBottomButtonss(e){return this.clearButtons("bottom",e),this},forEachButton(e,t,i){return this.getButtonsSizer(e).forEachButtton(t,i),this},forEachLeftButton(e,t){return this.childrenMap.leftButtonsSizer.forEachButtton(e,t),this},forEachRightButton(e,t){return this.childrenMap.rightButtonsSizer.forEachButtton(e,t),this},forEachTopButton(e,t){return this.childrenMap.topButtonsSizer.forEachButtton(e,t),this},forEachBottomButton(e,t){return this.childrenMap.bottomButtonsSizer.forEachButtton(e,t),this}},wi=Phaser.Utils.Objects.GetValue;class MR extends Xa{constructor(t,i){i===void 0&&(i={}),i.column=3,i.row=3,i.columnProportions=[0,0,0],i.rowProportions=[0,0,0];var s=wi(i,"expand.panel",!1);s&&(i.columnProportions[1]=1,i.rowProportions[1]=1),super(t,i),this.type="rexTabs",this.eventEmitter=wi(i,"eventEmitter",this);var g=wi(i,"background",void 0),E=wi(i,"panel",void 0),n=wi(i,"leftButtons",void 0),T=wi(i,"leftButtonsBackground",void 0),r,o=wi(i,"rightButtons",void 0),y=wi(i,"rightButtonsBackground",void 0),d,h=wi(i,"topButtons",void 0),l=wi(i,"topButtonsBackground",void 0),a,f=wi(i,"bottomButtons",void 0),c=wi(i,"bottomButtonsBackground",void 0),u,v=wi(i,"click",void 0);if(g&&this.addBackground(g),E&&this.add(E,{column:1,row:1,expand:s}),n){var p=wi(i,"space.leftButtonsOffset",0),m=wi(i,"space.leftButton",0),x=wi(i,"expand.leftButtons",!1),C=wi(i,"align.leftButtons","top");r=new _r(t,{groupName:"left",background:T,buttons:n,orientation:"y",space:{item:m},expand:x,click:v,eventEmitter:this.eventEmitter}),this.add(r,{column:0,row:1,align:C,padding:{top:p},expand:x})}if(o){var P=wi(i,"space.rightButtonsOffset",0),w=wi(i,"space.rightButton",0),M=wi(i,"expand.rightButtons",!1),R=wi(i,"align.rightButtons","top");d=new _r(t,{groupName:"right",background:y,buttons:o,orientation:"y",space:{item:w},expand:M,click:v,eventEmitter:this.eventEmitter}),this.add(d,{column:2,row:1,align:R,padding:{top:P},expand:M})}if(h){var A=wi(i,"space.topButtonsOffset",0),L=wi(i,"space.topButton",0),F=wi(i,"expand.topButtons",!1),G=wi(i,"align.topButtons","left");a=new _r(t,{groupName:"top",background:l,buttons:h,orientation:"x",space:{item:L},expand:F,align:wi(i,"align.topButtons",void 0),click:v,eventEmitter:this.eventEmitter}),this.add(a,{column:1,row:0,align:G,padding:{left:A},expand:F})}if(f){var I=wi(i,"space.bottomButtonsOffset",0),B=wi(i,"space.bottomButton",0),k=wi(i,"expand.bottomButtons",!1),U=wi(i,"align.bottomButtons","left");u=new _r(t,{groupName:"bottom",background:c,buttons:f,orientation:"x",space:{item:B},expand:k,align:wi(i,"align.bottomButtons",void 0),click:v,eventEmitter:this.eventEmitter}),this.add(u,{column:1,row:2,align:U,padding:{left:I},expand:k})}this.addChildrenMap("background",g),this.addChildrenMap("panel",E),this.addChildrenMap("leftButtons",n),this.addChildrenMap("rightButtons",o),this.addChildrenMap("topButtons",h),this.addChildrenMap("bottomButtons",f),this.addChildrenMap("leftButtonsSizer",r),this.addChildrenMap("rightButtonsSizer",d),this.addChildrenMap("topButtonsSizer",a),this.addChildrenMap("bottomButtonsSizer",u)}}Object.assign(MR.prototype,RCt);It.register("tabs",function(e){var t=new MR(this.scene,e);return this.scene.add.existing(t),t});Dt(window,"RexPlugins.UI.Tabs",MR);It.register("slider",function(e){var t=new sc(this.scene,e);return this.scene.add.existing(t),t});Dt(window,"RexPlugins.UI.Slider",sc);class i8{constructor(t,i){this.container=null,this._deltaHeight=0,this.setParent(t)}setParent(t){this.parent=t,this.parentContainer=t.getParentContainer()}destroy(t){t===void 0&&(t=!1),t||this.destroyContainer(),this.deltaHeight=0,this.data=void 0,this.container=null,this.parent=void 0,this.parentContainer=void 0}get table(){return this.parent}get scrollMode(){return this.parentContainer.scrollMode}get colIndx(){return this.parent.cellIndxeToColIndex(this.index)}get rowIndx(){return this.parent.cellIndxeToRowIndex(this.index)}getContainer(){return this.container}setContainer(t){return t?(this.container&&this.container.destroy(),this.container=t,this.parentContainer.add(t),this):(this.destroyContainer(),this)}destroyContainer(){return this.container&&(this.container.destroy(),this.container=null),this}popContainer(){if(this.container){var t=this.container;return this.container=null,this.parentContainer.remove(t),t}else return null}setXY(t,i){return this.container&&this.parentContainer.setChildLocalPosition(this.container,t,i),this}setCellContainerAlign(t){return typeof t=="string"&&(t=rc[t]),this.cellContainerAlign=t,this}get deltaHeight(){return this._deltaHeight}set deltaHeight(t){t==null&&(t=0);var i=this.parent;this._deltaHeight===0&&t!==0?i.nonZeroDeltaHeightCount++:this._deltaHeight!==0&&t===0&&i.nonZeroDeltaHeightCount--;var s=this._deltaHeight!==t;if(this._deltaHeight=t,s){i.resetTotalRowsHeight();var g=this.scrollMode===0?"cellheightchange":"cellwidthchange";this.parentContainer.emit(g,this,this.container,this.parentContainer)}}get deltaWidth(){return this.deltaHeight}set deltaWidth(t){this.deltaHeight=t}setDeltaHeight(t){return this.deltaHeight=t,this}setDeltaWidth(t){return this.deltaHeight=t,this}get height(){return this.scrollMode===0?this.deltaHeight+this.parent.defaultCellHeight:this.parent.defaultCellWidth}set height(t){this.scrollMode!==1&&this.setDeltaHeight(t-this.parent.defaultCellHeight)}setHeight(t){return this.height=t,this}get width(){return this.scrollMode===0?this.parent.defaultCellWidth:this.deltaHeight+this.parent.defaultCellHeight}set width(t){this.scrollMode!==0&&this.setDeltaHeight(t-this.parent.defaultCellHeight)}setWidth(t){return this.width=t,this}get scene(){return this.parentContainer.scene}}Object.assign(i8.prototype,Kx);const T4=Phaser.Utils.Objects.GetValue,ACt=Phaser.Utils.Array.SpliceOne;class OCt{constructor(t,i){this.parent=t,this.cells=[],this.cellPool=new Co,this.resetFromJSON(i)}resetFromJSON(t){t===void 0&&(t={}),this.colCount=void 0,this.nonZeroDeltaHeightCount=0,this.resetTotalRowsHeight();var i=t.cellHeight;i===void 0&&(i=60);var s=t.cellWidth;return s===void 0&&(s=60),this.setDefaultCellHeight(i),this.setDefaultCellWidth(s),this.initCells(T4(t,"cellsCount",0)),this.setColumnCount(T4(t,"columns",1)),this}destroy(t){this.cellPool.destroy(),this.cells=void 0,this.parent=void 0}get defaultCellHeightMode(){return this.nonZeroDeltaHeightCount===0}setDefaultCellHeight(t){return this.defaultCellHeight=t,this}setDefaultCellWidth(t){return this.defaultCellWidth=t,this}initCells(t){var i=this.cells;i.length=t;for(var s=0;s<t;s++)i[s]=null;return this}insertNewCells(t,i){var s=this.cells;if(t===s.length){var g=t+i;s.legth=g;for(var E=t;E<g;E++)s[E]=null}else{var n=[];n.length=i;for(var E=0;E<i;E++)n[E]=null;this.cells.splice(t,0,...n)}return this.resetTotalRowsHeight(),this}removeCells(t,i){for(var s=t+i,g=t;g<s;g++)this.freeCell(g);return s===this.cells.length?this.cells.length=t:(i===1?ACt(this.cells,t):this.cells.splice(t,i),this.buildCellIndex(t)),this.resetTotalRowsHeight(),this}setColumnCount(t){this.colCount=t,this.resetTotalRowsHeight();var i=this.parent;if(i.expandCellSize){var s=i.scrollMode===0?i.width:i.height,g=s/t;this.setDefaultCellWidth(g)}return this}get rowCount(){return Math.ceil(this.cells.length/this.colCount)}get cellsCount(){return this.cells.length}isValidCellIdx(t){return t>=0&&t<this.cells.length}heightToRowIndex(t,i){if(i===void 0&&(i=0),t===0)return 0;if(this.defaultCellHeightMode){var T=t/this.defaultCellHeight;switch(i){case 1:T=Math.ceil(T);break;default:T=Math.floor(T);break}return T}for(var s=this.rowCount,g=t,E,n,T=0;;)if(n=this.getRowHeight(T),g-=n,E=T>=0&&T<s,g>0&&E)T+=1;else{if(g===0)return i===2&&(T+=1),T;if(i===1){var r=T;T+=1,E=T>=0&&T<s,E||(T=r)}return T}}widthToColIndex(t,i){if(t===0)return 0;var s=t/this.defaultCellWidth;return i?s=Math.ceil(s):s=Math.floor(s),s}colRowToCellIndex(t,i){return t>=this.colCount?null:i*this.colCount+t}rowIndexToHeight(t,i){if(this.defaultCellHeightMode)return(i-t+1)*this.defaultCellHeight;for(var s,g=0,E=t;E<=i;E++)s=this.getRowHeight(E),g+=s;return g}colIndexToWidth(t,i){return(i-t+1)*this.defaultCellWidth}getRowHeight(t){var i=this.colCount;if(i<=1)return this.getCellHeight(this.colRowToCellIndex(0,t));for(var s=0,g,E=0;E<i;E++)g=this.getCellHeight(this.colRowToCellIndex(E,t)),s<g&&(s=g);return s}getColWidth(t){return this.defaultCellWidth}getCellHeight(t){if(!this.isValidCellIdx(t))return 0;var i;if(this.defaultCellHeightMode)i=this.defaultCellHeight;else{var s=this.getCell(t,!1),g=s?s.deltaHeight:0;i=this.defaultCellHeight+g}return i}resetTotalRowsHeight(){this._totalRowsHeight=null}get totalRowsHeight(){return this._totalRowsHeight===null&&(this._totalRowsHeight=this.rowIndexToHeight(0,this.rowCount-1)),this._totalRowsHeight}get totalColumnWidth(){return this.colCount*this.defaultCellWidth}cellIndxeToColIndex(t){return t%this.colCount}cellIndxeToRowIndex(t){return Math.floor(t/this.colCount)}getCell(t,i){if(!this.isValidCellIdx(t))return null;if(i===void 0&&(i=!0),this.cells[t]===null&&i){var s=this.newCell(t);this.cells[t]=s}return this.cells[t]}newCell(t){var i=this.cellPool.pop();return i===null?i=new i8(this):i.setParent(this),i.index=t,i}buildCellIndex(t){t===void 0&&(t=0);for(var i=this.cells,s,g=t,E=i.length;g<E;g++)s=i[g],s&&(s.index=g);return this}getParentContainer(){return this.parent}freeCell(t){return typeof t=="number"&&(t=this.cells[t]),t?(t.destroy(),this.cellPool.push(t),this):this}}var LCt=function(e){var t=this.table,i=this.topTableOY,s=this.bottomTableOY,g=e>i,E=e<s;if(this.clampTableOXY){var n=t.rowCount,T=t.heightToRowIndex(this.instHeight,1);n<T?e=0:g?e=i:E&&(e=s)}return this._tableOY!==e&&(this._tableOY=e),g&&(this.execeedTopState||this.emit("execeedtop",this,e,i)),this.execeedTopState=g,E&&(this.execeedBottomState||this.emit("execeedbottom",this,e,s)),this.execeedBottomState=E,this},DCt=function(e){var t=this.table,i=this.leftTableOX,s=this.rightTableOX,g=e>this.leftTableOX,E=e<this.rightTableOX;if(this.clampTableOXY){var n=t.colCount,T=t.widthToColIndex(this.instWidth,!0);n<T?e=0:g?e=i:E&&(e=s)}return this._tableOX!==e&&(this._tableOX=e),g&&(this.execeedLeftState||this.emit("execeedleft",this,e,i)),this.execeedLeftState=g,E&&(this.execeedRightState||this.emit("execeedright",this,e,s)),this.execeedRightState=E,this},RR=function(e){return e.hasOwnProperty("geometryMask")?e.geometryMask:e.bitmapMask};const FCt=Phaser.Geom.Intersects.RectangleToRectangle,ICt=Phaser.Geom.Rectangle.Overlaps;var BCt=function({parent:e,mask:t,children:i,onVisible:s,onInvisible:g,scope:E}){if(t){i===void 0&&(i=e.getAllChildren());for(var n=!!s||!!g,T=e.getBounds(),r=RR(t),o,y,d,h,l=0,a=i.length;l<a;l++)if(o=i[l],o!==r&&GCt(o)){if(h=o.visible,o.getBounds)switch(y=o.getBounds(y),d=kCt(T,y),d){case 4:NCt(e,o);break;case 0:FCt(T,y)||ICt(T,y)?UP(e,o,t):UCt(e,o);break;default:UP(e,o,t);break}else UP(e,o,t);if(n&&o.visible!==h){var f=o.visible?s:g;f&&(E?f.call(E,o,e):f(o,e))}}}},GCt=function(e){if(!e.displayList)return!1;for(;;){var t=e.rexContainer;if(t)if(t.visible){var i=t.parent;if(i){e=i;continue}else return!0}else return!1;else return e.visible}},kCt=function(e,t){var i=t.top,s=t.bottom,g=t.left,E=t.right,n=0;return n+=e.contains(g,i)?1:0,n+=e.contains(g,s)?1:0,n+=e.contains(E,i)?1:0,n+=e.contains(E,s)?1:0,n},NCt=function(e,t,i){t.hasOwnProperty("isRexContainerLite")?(t.syncChildrenEnable=!1,e.setChildMaskVisible(t,!0),t.syncChildrenEnable=!0):(t.clearMask&&t.clearMask(),e.setChildMaskVisible(t,!0))},UP=function(e,t,i){t.hasOwnProperty("isRexContainerLite")?(t.syncChildrenEnable=!1,e.setChildMaskVisible(t,!0),t.syncChildrenEnable=!0):(t.setMask&&t.setMask(i),e.setChildMaskVisible(t,!0))},UCt=function(e,t,i){t.hasOwnProperty("isRexContainerLite")?(t.syncChildrenEnable=!1,e.setChildMaskVisible(t,!1),t.syncChildrenEnable=!0):(t.clearMask&&t.clearMask(),e.setChildMaskVisible(t,!1))};const Pd=Phaser.Utils.Objects.GetValue,VCt={update:0,everyTick:1},r8={setupChildrenMask(e){return e===!1?this:(this.setMaskUpdateMode(Pd(e,"updateMode",0)),this.enableChildrenMask(Pd(e,"padding",0)),this.setMaskLayer(Pd(e,"layer",void 0)),this.onMaskGameObjectVisible=Pd(e,"onVisible"),this.onMaskGameObjectInvisible=Pd(e,"onInvisible"),this.maskGameObjectCallbackScope=Pd(e,"scope"),this.startMaskUpdate(),this)},destroyChildrenMask(){return this.childrenMask?(this.stopMaskUpdate(),this.childrenMask.destroy(),this.childrenMask=void 0,this.onMaskGameObjectVisible=null,this.onMaskGameObjectInvisible=null,this.maskGameObjectCallbackScope=null,this):this},setMaskUpdateMode(e){return typeof e=="string"&&(e=VCt[e]),this.maskUpdateMode=e,this},startMaskUpdate(){this.scene.game.events.on("poststep",this.maskChildren,this)},stopMaskUpdate(){this.scene.game.events.off("poststep",this.maskChildren,this)},enableChildrenMask(e){var t=Ua.call(this,null,this,0,e);return this.childrenMask=t.createGeometryMask(),this},setMaskChildrenFlag(e){return e===void 0&&(e=!0),this.maskChildrenFlag=e,this},setMaskLayer(e){return this.maskLayer=e,this},maskChildren(){return!this.childrenMask||!this.maskChildrenFlag||this.alpha===0||!this.visible?this:(this.privateRenderLayer?this.privateRenderLayer.setMask(this.childrenMask):this.maskLayer?(this.addToLayer(this.maskLayer),this.maskLayer.setMask(this.childrenMask)):BCt({parent:this,mask:this.childrenMask,onVisible:this.onMaskGameObjectVisible,onInvisible:this.onMaskGameObjectInvisible,scope:this.maskGameObjectCallbackScope}),this.maskUpdateMode===0&&(this.maskChildrenFlag=!1),this)},layoutChildrenMask(){if(!this.childrenMask)return this;var e=RR(this.childrenMask);return e.setPosition().resize(),this.resetChildPositionState(e),this}};var zCt=function(){if(this.cellsCount!==0){var e=this.scaleX,t=this.scaleY,i=e===1&&t===1;i||this.setScale(1);var s=this.table,g=this.tableOYOffset,E=this.tableOY+g,n=this.tableOX;this.startRowIndex=Math.max(s.heightToRowIndex(-E,2),0);for(var T=this.startRowIndex,r=Math.max(s.widthToColIndex(-n),0),o=r,y=s.colRowToCellIndex(o,T),d=this.bottomBound,h=this.rightBound,l=s.cellsCount-1,a=s.colCount-1,f=this.getCellTLX(o),c=f,u=this.getCellTLY(T)+g,v=u;v<d&&y<=l;){if(this.table.isValidCellIdx(y)){var p=s.getCell(y,!0);this.visibleCells.set(p),this.preVisibleCells.contains(p)||this.showCell(p);var m,x;if(this.scrollMode===0?(m=c,x=v):(m=v,x=c),p.cellContainerAlign==null)p.setXY(m,x);else{var C=p.getContainer();rg(C,m,x,p.width,p.height,p.cellContainerAlign),p.setXY(C.x,C.y)}}c<h&&o<a?(c+=s.getColWidth(o),o+=1):(c=f,v+=s.getRowHeight(T),o=r,T+=1),y=s.colRowToCellIndex(o,T)}i||this.setScale(e,t)}},n8=function(e){var t=null,i=e.getContainer();if(i?(t=i,e.popContainer()):this.cellContainersPool&&(t=this.cellContainersPool.getFirstDead(),t!==null&&t.setActive(!0).setVisible(!0)),this.emit("cellvisible",e,t,this),this.cellContainersPool){var i=e.getContainer();i?t===null?this.cellContainersPool.add(i):t!==i&&(this.cellContainersPool.add(i),this.cellContainersPool.killAndHide(t)):t!==null&&this.cellContainersPool.killAndHide(t)}},WCt=function(e){var t=this.scrollMode===0?this.topLeftX:this.topLeftY,i=this.tableOX+this.table.colIndexToWidth(0,e-1)+t;return i},YCt=function(e){var t=this.scrollMode===0?this.topLeftY:this.topLeftX,i=this.tableOY+this.table.rowIndexToHeight(0,e-1)+t;return i},XCt=function(){var e=this.preVisibleCells,t=this.visibleCells;e.iterate(function(i){t.contains(i)||this.hideCell(i)},this)},s8=function(e){if(this.emit("cellinvisible",e),this.cellContainersPool){var t=e.popContainer();t&&(t.setScale(1).setAlpha(1),this.cellContainersPool.killAndHide(t))}e.destroyContainer()},HCt=function(e,t){return e===void 0&&(e=!1),t===void 0&&(t=!1),e&&(C4.call(this),this.hideCells()),C4.call(this),this.showCells(),this.hideCells(),this.setMaskChildrenFlag(),t&&(this.layoutChildrenMask(),this.maskChildren()),this},C4=function(){var e=this.preVisibleCells;this.preVisibleCells=this.visibleCells,this.visibleCells=e,this.visibleCells.clear()},$Ct=function(e){var t=this.table.getCell(e,!1);return t&&this.visibleCells.contains(t)},a8=function(e,t){t-=this.y+this.topLeftY,e-=this.x+this.topLeftX;var i=this.tableOY-(this.scrollMode===0?t:e),s=this.tableOX-(this.scrollMode===0?e:t),g=this.table,E=g.heightToRowIndex(-i,0),n=g.widthToColIndex(-s),T=g.colRowToCellIndex(n,E);return T===null||!this.isCellVisible(T)?null:T},KCt=function(e,t){var i=a8.call(this,e,t);if(i!==null)return this.getCellContainer(i)},JCt=function(e,t){return this.visibleCells.each(e,t),this},ZCt=function(e,t){return this.visibleCells.iterate(e,t),this},jCt=function(e,t){return this.table.cells.slice().forEach(e,t),this},QCt=function(e,t){return this.table.cells.forEach(e,t),this},qCt=function(e){var t=this.cellsCount;return t===e?this:(t>e?this.removeCells(e,t-e):this.insertNewCells(t,e-t),this)};const _Ct=Phaser.Math.Clamp;var tSt=function(e,t){return typeof e=="object"&&(e=e.index),t===void 0&&(t=1),t<=0?this:(e=_Ct(e,0,this.cellsCount),this.table.insertNewCells(e,t),this)},eSt=function(e,t){if(typeof e=="object"&&(e=e.index),t===void 0&&(t=1),e<0&&(t+=e,e=0),t<=0)return this;if(e>this.cellsCount)return this;for(var i,s=e,g=e+t;s<g;s++)i=this.getCell(s,!1),i&&(this.visibleCells.contains(i)&&(s8.call(this,i),this.visibleCells.delete(i)),this.preVisibleCells.delete(i));return this.table.removeCells(e,t),this},iSt=function(e){return this.table.colCount===e?this:(this.table.setColumnCount(e),this)},rSt=function(e,t){return this.setCellsCount(e*t),this.table.setColumnCount(e),this},nSt=function(e){var t=this.table.getCell(e,!1);return!t||!t.container?this:(n8.call(this,t),this)},o8={setTableOY:LCt,setTableOX:DCt,showCells:zCt,showCell:n8,getCellTLX:WCt,getCellTLY:YCt,hideCells:XCt,hideCell:s8,updateTable:HCt,isCellVisible:$Ct,pointToCellIndex:a8,pointToCellContainer:KCt,eachVisibleCell:JCt,iterateVisibleCell:ZCt,eachCell:jCt,iterateCell:QCt,setCellsCount:qCt,insertNewCells:tSt,removeCells:eSt,setColumnCount:iSt,setGridSize:rSt,updateVisibleCell:nSt};Object.assign(o8,r8);const sSt=Phaser.GameObjects.Group,S4=Phaser.Structs.Set,ea=Phaser.Utils.Objects.GetValue;let l8=class extends Ns{constructor(t,i,s,g,E,n){n===void 0&&(n={}),super(t,i,s,g,E),this.type="rexGridTable",this._tableOX=0,this._tableOY=0,this.visibleCells=new S4,this.preVisibleCells=new S4,this.execeedTopState=!1,this.execeedBottomState=!1,this.execeedLeftState=!1,this.execeedRightState=!1;var T=ea(n,"reuseCellContainer",!1);T&&(this.cellContainersPool=new sSt(t));var r=ea(n,"cellVisibleCallback",null);if(r!==null){var o=ea(n,"cellVisibleCallbackScope",void 0);this.on("cellvisible",r,o)}if(r=ea(n,"cellInvisibleCallback",null),r!==null){var o=ea(n,"cellInvisibleCallbackScope",void 0);this.on("cellinvisible",r,o)}ea(n,"enableLayer",!1)&&this.enableLayer(),this.setupChildrenMask(ea(n,"mask",void 0)),this.setScrollMode(ea(n,"scrollMode",0)),this.setClampMode(ea(n,"clampTableOXY",!0)),this.setStartFromBottomEnable(ea(n,"startFromBottom",!1));var y,d,h,l=this.scrollMode===0;if(l?(y=n.cellWidth,d=n.cellHeight,h=n.columns):(y=n.cellHeight,d=n.cellWidth,h=ea(n,"rows",n.columns)),this.fixedCellSize=ea(n,"fixedCellSize",!1),this.expandCellSize=!this.fixedCellSize&&y===void 0,h||(h=1),this.fixedCellSize)h=Math.max(Math.floor(this.instWidth/y),1);else if(this.expandCellSize){var g=l?this.width:this.height;y=g/h}n.cellWidth=y,n.cellHeight=d,n.columns=h,this.table=new OCt(this,n),this.updateTable()}destroy(t){!this.scene||this.ignoreDestroy||(this.destroyChildrenMask(),this.table.destroy(t),this.table=void 0,this.cellContainersPool&&(this.cellContainersPool.destroy(!0),this.cellContainersPool=void 0),super.destroy(t))}setScrollMode(t){return typeof t=="string"&&(t=aSt[t.toLowerCase()]),this.scrollMode=t,this}setClampMode(t){return t===void 0&&(t=!0),this.clampTableOXY=t,this}setStartFromBottomEnable(t){return t===void 0&&(t=!0),this.startFromBottomEnable=t,this}get tableOY(){return this._tableOY}get tableOX(){return this._tableOX}set tableOY(t){this.setTableOY(t).updateTable()}set tableOX(t){this.setTableOX(t).updateTable()}setTableOXY(t,i){return this.setTableOY(i).setTableOX(t),this}addTableOY(t){return this.setTableOY(this.tableOY+t),this}addTableOX(t){return this.setTableOX(this.tableOX+t),this}addTableOXY(t,i){return this.addTableOY(i).addTableOX(t),this}setTableOYByPercentage(t){return this.setTableOY(-this.tableVisibleHeight*t),this}getTableOYPercentage(){var t=this.tableVisibleHeight;return t===0?0:this.tableOY/-t}setTableOXByPercentage(t){return this.setTableOX(-this.tableVisibleWidth*t),this}getTableOXPercentage(){var t=this.tableVisibleWidth;return t===0?0:this.tableOX/-t}set t(t){this.setTableOYByPercentage(t).updateTable()}get t(){return this.getTableOYPercentage()}set s(t){this.setTableOXByPercentage(t).updateTable()}get s(){return this.getTableOXPercentage()}scrollToBottom(){if(this.t=1,this.t===0)return this;do this.t=1;while(this.t!==1);return this}scrollToRow(t){this.scrollToBottom();var i=this.table.rowIndexToHeight(0,t-1);return this.setTableOY(-i).updateTable(),this}scrollToNextRow(t){return t===void 0&&(t=1),this.scrollToRow(this.startRowIndex+t),this}getCell(t){return this.table.getCell(t,!0)}getCellContainer(t){var i=this.table.getCell(t,!1),s;return i&&(s=i.getContainer()),s}get cellsCount(){return this.table.cellsCount}get columnCount(){return this.table.colCount}setCellHeight(t,i){var s;return typeof t=="number"?s=this.table.getCell(t,!0):s=t,s.height=i,this}setCellWidth(t,i){var s;return typeof t=="number"?s=this.table.getCell(t,!0):s=t,s.width=i,this}resetAllCellsSize(t,i){if(this.scrollMode===1){var s=t;t=i,i=s}this.table.setDefaultCellHeight(i).setDefaultCellWidth(t);for(var g=this.table.cells,E=0,n=g.length;E<n;E++){var T=g[E];T&&(T.deltaHeight=0)}if(this.fixedCellSize){var r=Math.floor(this.instWidth/t);this.table.setColumnCount(r)}return this.updateTable(!0,!0),this}get instHeight(){return this.scrollMode===0?this.height:this.width}get instWidth(){return this.scrollMode===0?this.width:this.height}get tableHeight(){return this.table.totalRowsHeight}get tableWidth(){return this.table.totalColumnWidth}get tableOYOffset(){if(this.startFromBottomEnable){var t=this.tableHeight-this.instHeight;if(t<0)return-t}return 0}get topTableOY(){return 0}get bottomTableOY(){return-this.tableVisibleHeight}get leftTableOX(){return 0}get rightTableOX(){return-this.tableVisibleWidth}get tableVisibleHeight(){var t=this.tableHeight-this.instHeight;return t<0&&(t=0),t}get tableVisibleWidth(){var t=this.tableWidth-this.instWidth;return t<0&&(t=0),t}get bottomLeftY(){return-(this.displayHeight*this.originY)+this.displayHeight}get topRightX(){return-(this.displayWidth*this.originX)+this.displayWidth}get topLeftX(){return-(this.displayWidth*this.originX)}get topLeftY(){return-(this.displayHeight*this.originY)}get bottomBound(){return this.scrollMode===0?this.bottomLeftY:this.topRightX}get rightBound(){return this.scrollMode===0?this.topRightX:this.bottomLeftY}resize(t,i){if(this.width===t&&this.height===i)return this;if(super.resize(t,i),this.fixedCellSize){var s=Math.floor(this.instWidth/this.table.defaultCellWidth);this.table.setColumnCount(s)}else this.expandCellSize&&this.table.setDefaultCellWidth(this.instWidth/this.table.colCount);return this.updateTable(!0,!0),this}};Object.assign(l8.prototype,o8);const aSt={v:0,vertical:0,h:1,horizontal:1};var oSt=function(e){Object.defineProperty(e,"childOY",{configurable:!0,get:function(){return e.tableOY},set:function(t){e.tableOY=t}}),Object.defineProperty(e,"childOX",{configurable:!0,get:function(){return e.tableOX},set:function(t){e.tableOX=t}}),Object.defineProperty(e,"topChildOY",{get:function(){return e.topTableOY}}),Object.defineProperty(e,"bottomChildOY",{get:function(){return e.bottomTableOY}}),Object.defineProperty(e,"leftChildOX",{get:function(){return e.leftTableOX}}),Object.defineProperty(e,"rightChildOX",{get:function(){return e.rightTableOX}}),Object.defineProperty(e,"childVisibleHeight",{get:function(){return e.instHeight}}),Object.defineProperty(e,"childHeight",{get:function(){return e.tableHeight}}),Object.defineProperty(e,"childVisibleWidth",{get:function(){return e.instWidth}}),Object.defineProperty(e,"childWidth",{get:function(){return e.tableWidth}})},lSt=function(e){e.on("cellvisible",function(t,n,s){var g=this.createCellContainerCallback,E=this.createCellContainerCallbackScope;t.item=this.items[t.index],t.items=this.items;var n;E?n=g.call(E,t,n,s):n=g(t,n,s),n&&(t.cellContainerAlign==null&&n.setOrigin&&n.setOrigin(0),n.isRexSizer&&n.layout()),t.item=void 0,t.items=void 0,t.setContainer(n)},this)},Po=function(e,t,i,s,g,E,n){var T;if(g===void 0)T=s;else{var r=E.camera,o=s+r.scrollX*(i.scrollFactorX-1),y=g+r.scrollY*(i.scrollFactorY-1);T=i.pointToCellIndex(o,y)}if(T!=null){var d=i.getCellContainer(T);d&&e.emit(t,d,T,E,n)}},hSt=function(e,t){e.on("pointerdown",function(i,s,g,E){Po(this.eventEmitter,"cell.down",e,i.worldX,i.worldY,i,E)},this).on("pointerup",function(i,s,g,E){Po(this.eventEmitter,"cell.up",e,i.worldX,i.worldY,i,E)},this)},uSt=function(e,t){e.on("pointermove",E4,this).on("pointerover",E4,this).on("pointerout",fSt,this)},E4=function(e,t,i,s){var g=this.childrenMap.child,E=e.camera,n=e.worldX+E.scrollX*(g.scrollFactorX-1),T=e.worldY+E.scrollY*(g.scrollFactorY-1),r=g.pointToCellIndex(n,T);if(r!==g.input.lastOverCellIndex){var o=g.input.lastOverCellIndex;g.input.lastOverCellIndex=r,Po(this.eventEmitter,"cell.out",g,o,void 0,e,s),Po(this.eventEmitter,"cell.over",g,r,void 0,e,s)}},fSt=function(e,t){var i=this.childrenMap.child,s=i.input.lastOverCellIndex;i.input.lastOverCellIndex=void 0,Po(this.eventEmitter,"cell.out",i,s,void 0,e,t)};const dSt=Phaser.Utils.Objects.GetValue;var cSt=function(e,t){var i=dSt(t,"click",void 0);i!==!1&&(i===void 0&&(i={}),i.threshold=10,e._click=new gl(e,i),e._click.on("click",function(s,g,E,n){Po(this.eventEmitter,"cell.click",g,E.worldX,E.worldY,E,n)},this))};const vSt=Phaser.Utils.Objects.GetValue;var pSt=function(e,t){var i=vSt(t,"tap",void 0);i!==!1&&(e._tap=new vT(e,i),e._tap.on("tap",function(s,g,E){var n=`cell.${s.tapsCount}tap`;Po(this.eventEmitter,n,s.gameObject,s.worldX,s.worldY,E)},this))};const gSt=Phaser.Utils.Objects.GetValue;var mSt=function(e,t){var i=gSt(t,"press",void 0);i!==!1&&(e._press=new pT(e,i),e._press.on("pressstart",function(s,g,E){Po(this.eventEmitter,"cell.pressstart",e,s.worldX,s.worldY,E)},this).on("pressend",function(s,g,E){Po(this.eventEmitter,"cell.pressend",e,s.worldX,s.worldY,E)},this))};const ySt=Phaser.Utils.Objects.GetValue;var xSt=function(e,t){var i=ySt(t,"swipe",void 0);i!==!1&&(i===void 0&&(i={}),i.dir="4dir",e._swipe=new hg(e,i),e._swipe.on("swipe",function(s,g,E){var n=s.left?"left":s.right?"right":s.up?"up":"down";Po(this.eventEmitter,`cell.swipe${n}`,e,s.worldX,s.worldY,E)},this))},TSt=function(e,t){e.setInteractive(),hSt.call(this,e,t),uSt.call(this,e,t),cSt.call(this,e,t),pSt.call(this,e,t),mSt.call(this,e,t),xSt.call(this,e,t)},CSt=function(e,t){e===void 0?this.items=[]:this.items=e,t===void 0&&(t=!0);var i=this.childrenMap.child;return i.setCellsCount(this.items.length),t&&(i.updateTable(!0),this.resizeController()),this};const SSt={scrollToRow(e){var t=this.childrenMap.child;return t.scrollToRow(e),this},scrollToNextRow(e){var t=this.childrenMap.child;return t.scrollToNextRow(e),this}},La=Phaser.Utils.Objects.GetValue;class AR extends pg{constructor(t,i){i===void 0&&(i={});var s=yR(i),g=La(i,"table",void 0);g===void 0&&(g={}),g.scrollMode=s===2?0:s,g.clampTableOXY=La(i,"clampChildOY",!1);var E=La(g,"width",void 0),n=La(g,"height",void 0),T=new l8(t,0,0,E,n,g);t.add.existing(T);var r,o;g.scrollMode===0?(r=E===void 0,o=n===void 0):(r=n===void 0,o=E===void 0),oSt(T),T._minWidth=E===void 0?0:void 0,T._minHeight=n===void 0?0:void 0,i.type="rexGridTable",i.child={gameObject:T,expandWidth:r,expandHeight:o};var y=La(i,"space",void 0);y&&(y.child=La(y,"table",0)),super(t,i),this.addChildrenMap("table",T),this.addChildrenMap("tableLayer",T.maskLayer),this.eventEmitter=La(i,"eventEmitter",this);var d=La(i,"createCellContainerCallback",Vr),h=La(i,"createCellContainerCallbackScope",void 0);this.setCreateCellContainerCallback(d,h),lSt.call(this,T),this.resizeControllerFlag=!1;var l=s===0?"cellheightchange":"cellwidthchange";T.on(l,function(){this.resizeControllerFlag=!0},this),La(g,"interactive",!0)&&TSt.call(this,T,g),this.setItems(La(i,"items",[]),!1),t.game.events.on("poststep",this.onPostStep,this)}destroy(t){!this.scene||this.ignoreDestroy||(this.scene.game.events.off("poststep",this.onPostStep,this),super.destroy(t))}setCreateCellContainerCallback(t,i){return this.createCellContainerCallback=t,this.createCellContainerCallbackScope=i,this}refresh(){return this.setItems(this.items),this}getCell(t){var i=this.childrenMap.child;return i.getCell(t)}getCellContainer(t){var i=this.childrenMap.child;return i.getCellContainer(t)}updateVisibleCell(t){var i=this.childrenMap.child;return i.updateVisibleCell(t)}resetAllCellsSize(t,i){var s=this.childrenMap.child;return s.resetAllCellsSize(t,i),this}onPostStep(){this.resizeControllerFlag&&(this.resizeController(),this.resizeControllerFlag=!1)}get startRowIndex(){var t=this.childrenMap.child;return t.startRowIndex}}var ESt={setItems:CSt};Object.assign(AR.prototype,SSt,ESt);It.register("gridTable",function(e){var t=new AR(this.scene,e);return this.scene.add.existing(t),t});Dt(window,"RexPlugins.UI.GridTable",AR);var OR=function(e,t){return e.sameOrientation?e.orientation=t.orientation:e.orientation=t.orientation===0?1:0,e},bSt=function(e,t){e.popUp(OR(e.root.easeIn,e))},PSt=function(e,t){e.scaleDown(OR(e.root.easeOut,e))};const wSt={setTransitInCallback(e){return e===void 0&&(e=bSt),this.transitInCallback=e,this},setTransitOutCallback(e){return e===void 0&&(e=PSt),this.transitOutCallback=e,this}};var MSt=function(e,t,i,s,g){var E=ec(e),n=E.time.delayedCall(t,function(){E.sys.events.once("postupdate",function(){i.call(s,g)})});return n};const RSt={delayCall(e,t,i){return this.timer=MSt(this,e,t,i),this},removeDelayCall(){return this.timer&&(this.timer.remove(!1),this.timer=void 0),this}};var ASt=function(e,t){var s=this.childrenMap.subMenu;if(s&&s.parentButton===e)return this;this.collapseSubMenu();var i;this.root.toggleOrientation?i=this.orientation===0?1:0:i=this.orientation;var s=new this.constructor(this.scene,{items:t,orientation:i,space:this.space,createBackgroundCallback:this.root.createBackgroundCallback,createBackgroundCallbackScope:this.root.createBackgroundCallbackScope,createButtonCallback:this.root.createButtonCallback,createButtonCallbackScope:this.root.createButtonCallbackScope,easeIn:this.root.easeIn,easeOut:this.root.easeOut,_rootMenu:this.root,_parentMenu:this,_parentButton:e});return this.pin(s),this.childrenMap.subMenu=s,this.root.emit("expand",s,e,this),this},OSt=function(){var e=this.root;e.emit("collapse",this,this.parentButton,e);var t=e.easeOut.duration;return e.transitOutCallback(this,t),this.collapseSubMenu(),this.delayCall(t,this.destroy,this),this},LSt=function(){var e=this.childrenMap.subMenu;return e===void 0?this:(this.childrenMap.subMenu=void 0,this.remove(e),e.collapse(),this)},h8={expandSubMenu:ASt,collapse:OSt,collapseSubMenu:LSt};Object.assign(h8,wSt,RSt);var DSt=function(e,t,i,s){var g;return i&&(t.scene=e,s?g=i.call(s,t):g=i(t),t.scene=void 0),g},FSt=function(e,t,i,s){var g,E=[],n;if(t&&i)for(var T=0,r=t.length;T<r;T++)g=t[T],g.scene=e,s?n=i.call(s,g,T,t):n=i(g,T,t),g.scene=void 0,E.push(n);return E},ISt=function(e){e.on(e.root.expandEventName,function(t,i){if(!this._isPassedEvent){var s=this.root.childrenKey,g=this.items[i][s];g&&this.expandSubMenu(t,g)}},e).on("button.click",function(t,i,s,g){this!==this.root&&(this.root._isPassedEvent=!0,this.root.emit("button.click",t,i,s,g),this.root._isPassedEvent=!1)},e).on("button.over",function(t,i,s,g){this!==this.root&&(this.root._isPassedEvent=!0,this.root.emit("button.over",t,i,s,g),this.root._isPassedEvent=!1)},e).on("button.out",function(t,i,s,g){this!==this.root&&(this.root._isPassedEvent=!0,this.root.emit("button.out",t,i,s,g),this.root._isPassedEvent=!1)},e)},b4=function(e,t){return typeof t=="number"&&(t={duration:t}),t.hasOwnProperty("orientation")&&t.orientation!==void 0?t.sameOrientation=Qu(t.orientation)===e.orientation:t.sameOrientation=!0,t.destroy=!1,t},BSt=function(){var e=this.root,t=e.easeIn.duration;e.transitInCallback(this,t),this!==this.root&&this.delayCall(t,function(){this.root.emit("popup.complete",this)},this)};const Wn=Phaser.Utils.Objects.GetValue;class LR extends _r{constructor(t,i){i===void 0&&(i={}),i.hasOwnProperty("orientation")||(i.orientation=1);var s=i._rootMenu,g=i._parentMenu,E=i._parentButton,n=Wn(i,"popup",!0),T=Wn(i,"items",void 0),r=Wn(i,"createBackgroundCallback",void 0),o=Wn(i,"createBackgroundCallbackScope",void 0);i.background=DSt(t,T,r,o);var y=Wn(i,"createButtonCallback",void 0),d=Wn(i,"createButtonCallbackScope",void 0);if(i.buttons=FSt(t,T,y,d),super(t,i),this.type="rexMenu",this.items=T,this.root=s===void 0?this:s,this.isRoot=this.root===this,this.parentMenu=g,this.parentButton=E,this.timer=void 0,this.isRoot){this.isPopUpMode=n;var h=i.bounds;h===void 0&&(h=tc(t)),this.bounds=h,this.subMenuSide=[this.y<h.centerY?Fw:hx,this.x<h.centerX?Dw:lx];var l=Wn(i,"subMenuSide",void 0);l!==void 0&&(typeof l=="string"&&(l=GSt[l]),this.subMenuSide[this.orientation]=l),this.toggleOrientation=Wn(i,"toggleOrientation",!1),this.expandEventName=Wn(i,"expandEvent","button.click"),this.easeIn=b4(this,Wn(i,"easeIn",0)),this.easeOut=b4(this,Wn(i,"easeOut",0)),this.setTransitInCallback(Wn(i,"transitIn")),this.setTransitOutCallback(Wn(i,"transitOut")),this.createBackgroundCallback=r,this.createBackgroundCallbackScope=o,this.createButtonCallback=y,this.createButtonCallbackScope=d,this.childrenKey=Wn(i,"childrenKey","children"),this._isPassedEvent=!1,this.pointerDownOutsideCollapsing=Wn(i,"pointerDownOutsideCollapsing",!0),this.pointerDownOutsideCollapsing&&t.input.on("pointerdown",this.onPointerDownOutside,this)}var a=0,f=0;if(!this.root.easeIn.sameOrientation){var c=OR(this.root.easeIn,this).orientation,u=g?g.orientation:this.orientation,l=this.root.subMenuSide[u];c===0&&l===lx&&(a=1),c===1&&l===hx&&(f=1)}if(n&&this.setOrigin(a,f).layout(),!this.isRoot){this.setScale(this.root.scaleX,this.root.scaleY);var l=this.root.subMenuSide[g.orientation];switch(l){case lx:this.alignTop(E.top).alignRight(E.left);break;case Dw:this.alignTop(E.top).alignLeft(E.right);break;case hx:this.alignLeft(E.left).alignBottom(E.top);break;case Fw:this.alignLeft(E.left).alignTop(E.bottom);break}}ISt(this),n&&(this.pushIntoBounds(this.root.bounds),BSt.call(this))}destroy(t){!this.scene||this.ignoreDestroy||(this.isRoot&&this.pointerDownOutsideCollapsing&&this.scene.input.off("pointerdown",this.onPointerDownOutside,this),super.destroy(t),this.removeDelayCall())}isInTouching(t){return super.isInTouching(t)?!0:this.childrenMap.subMenu?this.childrenMap.subMenu.isInTouching(t):!1}onPointerDownOutside(t){this.isInTouching(t)||(this.isPopUpMode?this.collapse():this.collapseSubMenu())}}const lx=2,Dw=0,hx=3,Fw=1,GSt={up:hx,down:Fw,left:lx,right:Dw};Object.assign(LR.prototype,h8);It.register("menu",function(e){var t=new LR(this.scene,e);return this.scene.add.existing(t),t});Dt(window,"RexPlugins.UI.Menu",LR);var kSt={setWrapEnable(e){return e===void 0&&(e=!0),this.listWrapEnable=e,this},setCreateButtonCallback(e){return this.listCreateButtonCallback=e,this},setCreateListBackgroundCallback(e){return this.listCreateBackgroundCallback=e,this},setCreateListSliderTrackCallback(e){return this.listCreateSliderTrackCallback=e,this},setCreateListSliderThumbCallback(e){return this.listCreateSliderThumbCallback=e,this},setListSliderAdaptThumbSizeEnable(e){return e===void 0&&(e=!0),this.listSliderAdaptThumbSizeEnable=e,this},setListScrollerConfig(e){return e===void 0&&(e={}),this.listScrollerConfig=e,this},setListMouseWheelScrollerConfig(e){return this.listMouseWheelScrollerConfig=e,this},setButtonClickCallback(e){return this.listOnButtonClick=e,this},setButtonOverCallback(e){return this.listOnButtonOver=e,this},setButtonOutCallback(e){return this.listOnButtonOut=e,this},setListExpandDirection(e){return typeof e=="string"&&(e=NSt[e]),this.listExpandDirection=e,this},setListEaseInDuration(e){return e===void 0&&(e=0),this.listEaseInDuration=e,this},setListEaseOutDuration(e){return e===void 0&&(e=0),this.listEaseOutDuration=e,this},setListTransitInCallback(e){return this.listTransitInCallback=e,this},settListTransitOutCallback(e){return this.listTransitOutCallback=e,this},setListBounds(e){return this.listBounds=e,this},setListWidth(e){return this.listWidth=e,this},setListHeight(e){return this.listHeight=e,this},setListSize(e,t){return this.setListWidth(e).setListHeight(t),this},setListMaxHeight(e){return this.listMaxHeight=e,this},setListAlignmentMode(e){return this.listAlignMode=e,this},setListAlignmentSide(e){return e===void 0&&(e=""),this.listAlignSide=e,this},setListSpace(e){return e===void 0&&(e={}),this.listSpace=e,this},setListDraggable(e){return e===void 0&&(e=!0),this.listDraggable=e,this}};const NSt={down:0,up:1};var USt=function(){if(this.rexSizer.hidden)return 0;var e,t=this.child,i=t.rexSizer,s=!1;if(i.hidden)e=0;else switch(this.scrollMode){case 0:e=this.getChildWidth(t),e===void 0&&(s=!0);break;case 1:e=0;break;default:e=0;break}if(!s)return e},VSt=function(){if(this.rexSizer.hidden)return 0;var e,t=this.child,i=t.rexSizer,s=!1;if(i.hidden)e=0;else switch(this.scrollMode){case 0:e=0;break;case 1:e=this.getChildHeight(t),e===void 0&&(s=!0);break;default:e=0;break}if(!s)return e},zSt=function(e){return e===void 0&&(e=[]),this.child&&this.child.isRexSizer&&e.push(this.child),e},WSt=function(){var e=this.left,t=this.top;switch(this.scrollMode){case 0:t+=this.childOY;break;case 1:e+=this.childOY;break;default:t+=this.childOY,e+=this.childOX;break}this.child.setPosition(e,t),this.resetChildPositionState(this.child),this.setMaskChildrenFlag()},YSt=function(){var e=this.child,t,i;if(!e.rexSizer.hidden){switch(this.scrollMode){case 0:t=this.width*this.scaleX;break;case 1:i=this.height*this.scaleY;break}e.isRexSizer?e.runLayout(this,t,i):Mn(e,t,i),this.resetChildPosition(),this.layoutChildrenMask(),this.maskChildren()}},XSt=function(e,t){t||e.clearMask&&e.clearMask(!1)},u8={getChildrenWidth:USt,getChildrenHeight:VSt,getChildrenSizers:zSt,resetChildPosition:WSt,layoutChildren:YSt,removeChildCallback:XSt};Object.assign(u8,r8);const P4=Phaser.Utils.Objects.IsPlainObject,ia=Phaser.Utils.Objects.GetValue,HSt=Phaser.Display.Align.TOP_LEFT;class f8 extends _u{constructor(t,i,s,g,E,n){P4(i)?(n=i,i=ia(n,"x",0),s=ia(n,"y",0),g=ia(n,"width",void 0),E=ia(n,"height",void 0)):P4(g)&&(n=g,g=ia(n,"width",void 0),E=ia(n,"height",void 0)),super(t,i,s,g,E,n),this.type="rexScrollableBlock",this.child=void 0,this.childrenMask=void 0,this._childOY=0,this._childOX=0,this.execeedTopState=!1,this.execeedBottomState=!1,this.execeedLeftState=!1,this.execeedRightState=!1,this.setScrollMode(ia(n,"scrollMode",0));var T=ia(n,"clampChildOY",!0),r=ia(n,"clampChildOX",T);this.setClampMode(T,r);var o=ia(n,"child",void 0),y=ia(n,"expand",!0);o.setOrigin&&o.setOrigin(0),this.add(o),this.sizerChildren=[o];var d=this.getSizerConfig(o);d.align=HSt,d.expand=y,this.child=o;var h=ia(n,"mask");this.setupChildrenMask(h),this.childrenMask&&(this.maskGameObject=RR(this.childrenMask))}destroy(t){!this.scene||this.ignoreDestroy||(this.destroyChildrenMask(),this.child=void 0,super.destroy(t))}setScrollMode(t){return typeof t=="string"&&(t=UN[t.toLowerCase()]),this.scrollMode=t,this}setClampMode(t,i){return this.clampChildOY=t,this.clampChildOX=i,this}get instHeight(){return this.scrollMode===0||this.scrollMode===2?this.displayHeight:this.displayWidth}get instWidth(){return this.scrollMode===0||this.scrollMode===2?this.displayWidth:this.displayHeight}get childHeight(){return this.scrollMode===0||this.scrollMode===2?Ei(this.child):Si(this.child)}get childWidth(){return this.scrollMode===0||this.scrollMode===2?Si(this.child):Ei(this.child)}get topChildOY(){return 0}get bottomChildOY(){return-this.visibleHeight}get leftChildOX(){return 0}get rightChildOX(){return-this.visibleWidth}get childVisibleHeight(){return this.instHeight}get childVisibleWidth(){return this.instWidth}get visibleHeight(){var t=this.childHeight-this.childVisibleHeight;return t<0&&(t=0),t}get visibleWidth(){var t=this.childWidth-this.childVisibleWidth;return t<0&&(t=0),t}childOYExceedTop(t){return t===void 0&&(t=this.childOY),t>this.topChildOY}childOYExeceedBottom(t){return t===void 0&&(t=this.childOY),t<this.bottomChildOY}childOXExceedLeft(t){return t===void 0&&(t=this.childOX),t>this.leftChildOX}childOXExeceedRight(t){return t===void 0&&(t=this.childOX),t<this.rightChildOX}get childOY(){return this._childOY}set childOY(t){var i=this.topChildOY,s=this.bottomChildOY,g=this.childOYExceedTop(t),E=this.childOYExeceedBottom(t);this.clampChildOY&&(this.childVisibleHeight>this.childHeight?t=0:g?t=i:E&&(t=s)),this._childOY!==t&&(this._childOY=t,this.resetChildPosition()),g&&(this.execeedTopState||this.emit("execeedtop",this,t,i)),this.execeedTopState=g,E&&(this.execeedBottomState||this.emit("execeedbottom",this,t,s)),this.execeedBottomState=E}get childOX(){return this._childOX}set childOX(t){var i=this.leftChildOX,s=this.rightChildOX,g=this.childOXExceedLeft(t),E=this.childOXExeceedRight(t);this.clampChildOX&&(this.childVisibleWidth>this.childWidth?t=0:g?t=i:E&&(t=s)),this._childOX!==t&&(this._childOX=t,this.resetChildPosition()),g&&(this.execeedLeftState||this.emit("execeedleft",this,t,i)),this.execeedLeftState=g,E&&(this.execeedRightState||this.emit("execeedright",this,t,s)),this.execeedRightState=E}setChildOY(t){return this.childOY=t,this}setChildOX(t){return this.childOX=t,this}set t(t){this.childOY=-this.visibleHeight*t}get t(){var t=this.visibleHeight;return t===0?0:this.childOY/-t}set s(t){this.childOX=-this.visibleWidth*t}get s(){var t=this.visibleWidth;return t===0?0:this.childOX/-t}setChildOYByPercentage(t){return this.t=t,this}setChildOXByPercentage(t){return this.s=t,this}}Object.assign(f8.prototype,u8);var $St=function(e,t){if(!this.hasChild(e))return this;switch(this.scrollMode){case 0:ky.call(this,e,"y",t);break;case 1:ky.call(this,e,"x",t);break;default:ky.call(this,e,"y",t),ky.call(this,e,"x",t);break}return this};const w4=["top","bottom","centerY","center"],M4=["left","right","centerX","center"];var ky=function(e,t,i){t=t.toUpperCase();var s=t==="Y",g=this.childrenMap.child,E;if(s){if(i)for(var n=0,T=w4.length;n<T;n++){var r=w4[n];if(i.indexOf(r)!==-1){i=r;break}}switch(i){case"top":E=g.top-Uu(e).y;break;case"bottom":E=g.bottom-Fp(e).y;break;case"centerY":case"center":E=g.centerY-X3(e).y;break;default:var o=g.top-Uu(e).y,y=g.bottom-Fp(e).y;o<=0&&y>=0?E=0:E=Math.abs(o)<=Math.abs(y)?o:y;break}}else{if(i)for(var n=0,T=M4.length;n<T;n++){var r=M4[n];if(i.indexOf(r)!==-1){i=r;break}}switch(i){case"left":E=g.left-Uu(e).x;break;case"right":E=g.right-Dp(e).x;break;case"centerX":case"center":E=g.centerX-X3(e).x;break;default:var d=g.left-Uu(e).x,h=g.right-Dp(e).x;d<=0&&h>=0?E=0:E=Math.abs(d)<=Math.abs(h)?d:h;break}}switch(this.scrollMode){case 0:case 1:this.childOY+=E;break;default:this[`childO${t}`]+=E;break}};const lh=Phaser.Utils.Objects.GetValue;class Tg extends pg{constructor(t,i){i===void 0&&(i={});var s=yR(i),g=lh(i,"panel",void 0);g===void 0&&(g={}),g.scrollMode=s,g.clampChildOY=lh(i,"clampChildOY",!1),g.clampChildOX=lh(i,"clampChildOX",!1);var E=new f8(t,g);t.add.existing(E);var n,T;switch(s){case 0:n=lh(i,"expand.panel",!0),T=!0;break;case 1:n=!0,T=lh(i,"expand.panel",!0);break;default:n=!0,T=!0}i.type="rexScrollablePanel",i.child={gameObject:E,expandWidth:n,expandHeight:T,align:lh(i,"align.panel","center")};var r=lh(i,"space",void 0);r&&(r.child=lh(r,"panel",0)),super(t,i),this.addChildrenMap("panel",E.child),this.addChildrenMap("panelLayer",E.maskLayer),this.addChildrenMap("mask",E.maskGameObject),this.addChildrenMap("scrollableBlock",E)}setChildrenInteractive(t){return t===void 0&&(t={}),t.hasOwnProperty("eventEmitter")||(t.eventEmitter=this),t.hasOwnProperty("targets")||(t.targets=[this.childrenMap.panel]),gT(this.childrenMap.child,t),this}}var KSt={scrollToChild:$St};Object.assign(Tg.prototype,KSt);const JSt=Phaser.Utils.Objects.GetValue;var ZSt=function(){var e=this.scene,t,i=this.listCreateBackgroundCallback;i&&(t=i.call(this,e),e.add.existing(t));var d=[],s=this.listCreateButtonCallback;if(s)for(var g=this.options,E=0,n=g.length;E<n;E++){var T=s.call(this,e,g[E],E,g);T&&(e.add.existing(T),d.push(T))}var r=this.listWidth;r===void 0&&(this.listAlignMode==="text"?r=this.getElement("text").width:r=this.width);var o=this.listHeight,y={width:r,buttons:d,space:this.listSpace},d,h,l;if(this.listCreateSliderThumbCallback?l=o>0||this.listMaxHeight>0:l=!1,!l)y.height=o,d=R4(e,y,this.listWrapEnable),h=d;else{var d=R4(e,y,this.listWrapEnable);if(this.listMaxHeight>0&&(d.layout(),d.height<=this.listMaxHeight&&(h=d)),!h){o===0&&(o=this.listMaxHeight);var a=A4(e,this.listCreateSliderTrackCallback),f=A4(e,this.listCreateSliderThumbCallback);h=new Tg(e,{height:o,scrollMode:0,panel:{child:d,mask:{padding:1}},slider:{track:a,thumb:f,adaptThumbSize:this.listSliderAdaptThumbSizeEnable},scrollDetectionMode:1,scroller:this.listScrollerConfig,mouseWheelScroller:this.listMouseWheelScrollerConfig,space:{panel:JSt(this.listSpace,"panel",0)}}),e.add.existing(h)}}return t&&h.addBackground(t,"background"),this.listDraggable&&h.setDraggable(!0),h!==d&&d.on("button.over",function(c,u,v,p){h.emit("button.over",c,u,v,p)}).on("button.out",function(c,u,v,p){h.emit("button.out",c,u,v,p)}).on("button.click",function(c,u,v,p){h.emit("button.click",c,u,v,p)}),h},R4=function(e,t,i){var s;return i?(t.orientation="x",s=new wh(e,t)):(t.orientation="y",s=new _r(e,t)),e.add.existing(s),s},A4=function(e,t,i){var s;return t&&(s=t.call(i,e),e.add.existing(s)),s},jSt=function(e,t,i,s,g){var E={};switch(E.mode=0,i){case 0:case"x":E.end={x:0};break;case 1:case"y":E.end={y:0};break;default:E.end=0;break}return E.duration=t,E.ease=s,g===void 0?g=new Gp(e,E):g.resetFromJSON(E),g.restart(),g},QSt=function(e,t,i,s,g){return ll(e,t)?Pi(e,t):ll(e,i)?Pi(e,i):g};const wd=Phaser.Utils.Objects.GetValue;var qSt=function(e,t){var i=wd(t,"expandDirection",void 0);typeof i=="string"&&(i=_St[i]);var s=QSt(t,"alignTarget","alignTargetX"),g=wd(t,"alignTargetY",s),E=wd(t,"alignOffsetX",0),n=wd(t,"alignOffsetY",0),T=wd(t,"alignSide",""),r=T.includes("right"),o=wd(t,"bounds"),y=i===0,d=i===1,h=!y&&!d,l=r?1:0,a=y||h?0:1;e.setOrigin(l,a);var f,c;r?f=s.getTopRight().x:f=s.getTopLeft().x,c=g.getBottomLeft().y,e.setPosition(f+E,c+n);var u=o;u||(u=tc(e.scene)),h&&e.getBottomLeft().y>u.bottom&&(c=g.getTopLeft().y,e.setOrigin(0,1).setPosition(f+E,c+n))};const _St={down:0,up:1},O4=Phaser.Utils.Objects.GetValue;class d8 extends hT{constructor(t,i){i===void 0&&(i={}),i.transitIn==null&&(i.transitIn=function(E,n){JM(E,n,"y","Cubic")}),i.transitOut==null&&(i.transitOut=function(E,n){jSt(E,n,"y","Linear")}),i.manualClose=!0,i.clickOutsideClose=!0,i.destroy=!0,super(t,i),qSt(t,i),t.isRexSizer&&t.layout();var s=O4(i,"touchOutsideClose",!1),g=O4(i,"anyTouchClose",!1);g&&(s=!1),g?this.once("open",this.anyTouchClose,this):s&&this.once("open",this.touchOutsideClose,this),this.requestOpen()}shutdown(t){this.isShutdown||(this.scene.input.off("pointerup",this.touchCloseCallback,this),super.shutdown(t))}touchOutsideClose(){return this.scene.input.on("pointerup",this.touchCloseCallback,this),this.clickOutsideTest=!0,this}anyTouchClose(){return this.scene.input.once("pointerup",this.touchCloseCallback,this),this}touchCloseCallback(t){this.clickOutsideTest&&fT(this.parent,t.worldX,t.worldY)||this.requestClose()}onOpen(){this.emit("open",this.parent,this),super.onOpen()}onClose(){this.emit("close",this.parent,this),super.onClose()}}var t1t=function(){if(this.listPanel)return this;if(this.options.length===0)return this;var e=ZSt.call(this);e.on("button.over",function(s,g,E,n){this.currentOverIndex=g,this.listOnButtonOver&&this.listOnButtonOver.call(this,s,g,E,n),this.emit("button.over",this,e,s,g,E,n)},this).on("button.out",function(s,g,E,n){this.currentOverIndex===g&&(this.currentOverIndex=void 0),this.listOnButtonOut&&this.listOnButtonOut.call(this,s,g,E,n),this.emit("button.out",this,e,s,g,E,n)},this);var t;!this.listAlignMode||this.listAlignMode==="label"?t=this:t=this.getElement(this.listAlignMode);var i=new d8(e,{duration:{in:this.listEaseInDuration,out:this.listEaseOutDuration},transitIn:this.listTransitInCallback,transitOut:this.listTransitOutCallback,expandDirection:this.listExpandDirection,alignTargetX:t,alignTargetY:this,alignSide:this.listAlignSide,bounds:this.listBounds}).on("open",function(){e.on("button.click",function(s,g,E,n){this.listOnButtonClick&&this.listOnButtonClick.call(this,s,g,E,n),this.emit("button.click",this,e,s,g,E,n),this.dropDownBehavior.requestClose()},this),this.emit("list.open",this,e)},this).on("close",function(){this.listPanel=void 0,this.dropDownBehavior=void 0,this.emit("list.close",this)},this);return e.onClickOutside(function(){i.requestClose()}),this.listPanel=e,this.dropDownBehavior=i,this.pin(e),this},e1t=function(){return this.dropDownBehavior?(this.dropDownBehavior.requestClose(),this.currentOverIndex=void 0,this):this},i1t=function(){return this.listPanel?this.closeListPanel():this.openListPanel(),this},r1t=function(e){if(e===void 0&&(e=this.currentOverIndex),e===void 0)return this;var t=this.listPanel,i=t?t.getButton(e):this.options[e];return this.listOnButtonClick&&this.listOnButtonClick.call(this,i,e),this.emit("button.click",this,t,i,e),this},n1t=function(e){var t=this.listPanel;return t?(t.emitButtonOver(e),this):this};const s1t={focusNextButton(){if(!this.isOpened)return this;var e=this.currentOverIndex,t;if(e===void 0)t=0;else{var i=this.listPanel.getButtons().length;t=(e+1)%i}return this.emitButtonOver(t),this},focusPrevButton(){if(!this.isOpened)return this;var e=this.currentOverIndex,t;if(e===void 0)t=0;else{var i=this.listPanel.getButtons().length;t=(e-1+i)%i}return this.emitButtonOver(t),this}};var c8={openListPanel:t1t,closeListPanel:e1t,toggleListPanel:i1t,emitButtonClick:r1t,emitButtonOver:n1t};Object.assign(c8,kSt,s1t);const Di=Phaser.Utils.Objects.GetValue;class Cg extends xl{constructor(t,i){super(t,i),this.type="rexDropDownList",this.timer=void 0,this.listPanel=void 0,this.currentOverIndex=void 0,this.setOptions(Di(i,"options"));var s=Di(i,"list");this.setWrapEnable(Di(s,"wrap",!1)),this.setCreateButtonCallback(Di(s,"createButtonCallback")),this.setCreateListBackgroundCallback(Di(s,"createBackgroundCallback")),this.setCreateListSliderTrackCallback(Di(s,"createTrackCallback")),this.setCreateListSliderThumbCallback(Di(s,"createThumbCallback")),this.setListSliderAdaptThumbSizeEnable(Di(s,"sliderAdaptThumbSize",!1)),this.setListScrollerConfig(Di(s,"scroller")),this.setListMouseWheelScrollerConfig(Di(s,"mouseWheelScroller")),this.setButtonClickCallback(Di(s,"onButtonClick")),this.setButtonOverCallback(Di(s,"onButtonOver")),this.setButtonOutCallback(Di(s,"onButtonOut")),this.setListExpandDirection(Di(s,"expandDirection")),this.setListEaseInDuration(Di(s,"easeIn",500)),this.setListEaseOutDuration(Di(s,"easeOut",100)),this.setListTransitInCallback(Di(s,"transitIn")),this.settListTransitOutCallback(Di(s,"transitOut")),this.setListMaxHeight(Di(s,"maxHeight",0)),this.setListSize(Di(s,"width"),Di(s,"height",0)),this.setListAlignmentMode(Di(s,"alignParent","text")),this.setListAlignmentSide(Di(s,"alignSide","")),this.setListBounds(Di(s,"bounds")),this.setListSpace(Di(s,"space")),this.setListDraggable(Di(s,"draggable",!1)),this.setValueChangeCallback(Di(i,"setValueCallback"),Di(i,"setValueCallbackScope")),this.setValue(Di(i,"value")),this.onClick(this.toggleListPanel,this)}destroy(t){!this.scene||this.ignoreDestroy||(this.listPanel&&(this.listPanel.destroy(t),this.listPanel=void 0),super.destroy(t))}get isOpened(){return!!this.listPanel}setOptions(t){return t===void 0&&(t=[]),this.options=t,this}setValueChangeCallback(t,i){return this.valueChangeCallback=t,this.valueChangeCallbackScope=i,this}setValue(t){return this.value=t,this}get value(){return this._value}set value(t){if(this._value!==t){var i=this._value;this._value=t;var s=this.valueChangeCallback,g=this.valueChangeCallbackScope;s&&(g?s.call(g,this,t,i):s(this,t,i)),this.emit("valuechange",this,t,i)}}}Object.assign(Cg.prototype,c8);It.register("dropDownList",function(e){var t=new Cg(this.scene,e);return this.scene.add.existing(t),t});Dt(window,"RexPlugins.UI.DropDownList",Cg);var v8=function(e,t,i){t=t?rn(t):{},i===void 0&&(i={});var s=t.label||t.button,g=t.button||t.label;delete t.label,delete t.button;var E=i.label||i.button||i,n=i.button||i.label||i,T=MT(e,s,E);T.list=t.list||{},T.list.createButtonCallback=function(y,d){var h=en(y,g,n).resetDisplayContent(d);return d.hasOwnProperty("value")&&(h.value=d.value),h};var r=t.track;r&&(T.list.createTrackCallback=function(y){return zr(y,r)},delete t.track);var o=t.thumb;return o&&(T.list.createThumbCallback=function(y){return zr(y,o)},delete t.thumb),T.list.onButtonOver=function(y,d,h,l){y.setHoverState&&y.setHoverState(!0)},T.list.onButtonOut=function(y,d,h,l){y.setHoverState&&y.setHoverState(!1)},T};class p8 extends Cg{constructor(t,i,s){i=v8(t,i,s),super(t,i),this.type="rexSimpleDropDownList"}setOptions(t){t===void 0&&(t=[]);for(var i=0,s=t.length;i<s;i++){var g=t[i];typeof g=="string"&&(t[i]={text:g,value:g})}return super.setOptions(t),this}}It.register("simpleDropDownList",function(e,t){var i=new p8(this.scene,e,t);return this.scene.add.existing(i),i});Dt(window,"RexPlugins.UI.SimpleDropDownList",p8);var a1t=function(e){var t=Lh(e),i,s,g;switch(t){case Rn:case An:i=e.height-e.padding.top-e.padding.bottom,s=e.lineSpacing,g=e.style.metrics.fontSize+e.style.strokeThickness;break;case Fs:i=e.height,s=0;var E=e.fontSize/e.fontData.size;g=e.fontData.lineHeight*E;break}return(i-s)/(g+s)},o1t=function(e,t){if(e===void 0&&(e=this.startLineIndex),t===void 0){var i=this.pageLinesCount;i>0?t=e+i:t=this.totalLinesCount}t>this.totalLinesCount&&(t=this.totalLinesCount);var s;switch(this.textObjectType){case Rn:case Fs:s=this.lines.slice(e,t).join(`
`);break;case An:var g=this.lines.getLineStartIndex(e),E=this.lines.getLineEndIndex(t-1);s=this.lines.getSliceTagText(g,E,!0);var n=(s.match(/\n/g)||[]).length;n>t-e-1&&(s=s.substring(0,s.length-1));break}return s};const l1t={clearText(){return this.sections.length=0,this.pageStartIndexes.length=0,this.lines.length=0,this},appendPage(i){var t=this.totalLinesCount;this.sections.push(Ud(i));var i=this.sections.join(`
`);this.lines=TR(this.parent,i,this.lines);var s=this.totalLinesCount-t,g=this.pageLinesCount,E;g>0?E=Math.ceil(s/this.pageLinesCount):E=1;for(var n=0;n<E;n++)this.pageStartIndexes.push(t+n*this.pageLinesCount);return this},setText(e,t){t===void 0&&(t=!0),t&&this.resetIndex(),this.clearText();for(var i=Ud(e).split(this.pageBreak),s=0,g=i.length;s<g;s++)this.appendPage(i[s]);return this},appendText(e){var t=this.content+Ud(e);return this.setText(t,!1),this}},L4=Phaser.Math.Clamp,h1t={resetIndex(){return this.pageIndex=-1,this.startLineIndex=-1,this.endLineIndex=void 0,this},setPageIndex(e){return e=L4(e,0,this.lastPageIndex),this.pageIndex=e,this.startLineIndex=this.pageStartIndexes[e],this.endLineIndex=this.pageStartIndexes[e+1],this},getPage(e){return e===void 0&&(e=this.pageIndex),this.setPageIndex(e).getLines(this.startLineIndex,this.endLineIndex)},getNextPage(){return this.getPage(this.pageIndex+1)},getPreviousPage(){return this.getPage(this.pageIndex-1)},getFirstPage(){return this.getPage(0)},getLastPage(){return this.getPage(this.lastPageIndex)},setStartLineIndex(e){var t=Math.max(this.totalLinesCount-this.pageLinesCount,0);return e=L4(e,0,t),this.startLineIndex=e,this.endLineIndex=e+this.pageLinesCount,this},getPageByLineIndex(e){return this.setStartLineIndex(e).getLines(this.startLineIndex,this.endLineIndex)},getPageOfNextLine(){return this.getPageByLineIndex(this.startLineIndex+1)},getPageOfPreviousLine(){return this.getPageByLineIndex(this.startLineIndex-1)},getPageOfFirstLine(){return this.getPageByLineIndex(0)},getPageOfLastLine(){return this.getPageByLineIndex(this.totalLinesCount)}},u1t={showPage(e){return this.displayText(this.getPage(e)),this},showNextPage(){return this.displayText(this.getNextPage()),this},showPreviousPage(){return this.displayText(this.getPreviousPage()),this},showFirstPage(){return this.displayText(this.getFirstPage()),this},showLastPage(){return this.displayText(this.getLastPage()),this},show(){return this.displayText(this.getLines()),this},showPageByLineIndex(e){return this.displayText(this.getPageByLineIndex(e)),this},showNextLine(){return this.displayText(this.getPageOfNextLine()),this},showPreviousLine(){return this.displayText(this.getPageOfPreviousLine()),this},showFirstLine(){return this.displayText(this.getPageOfFirstLine()),this},showLastLine(){return this.displayText(this.getPageOfLastLine()),this},displayText(e){wT(this.parent,e)}};var g8={getLines:o1t};Object.assign(g8,l1t,h1t,u1t);const Md=Phaser.Utils.Objects.GetValue;Phaser.Math.Clamp;class UT extends ji{constructor(t,i){super(t,{eventEmitter:!1}),this.textObjectType=Lh(this.parent),this.pageStartIndexes=[],this.lines=TR(this.parent,""),this.sections=[],this.resetFromJSON(i)}resetFromJSON(t){this.setMaxLines(Md(t,"maxLines",void 0)),this.setPageBreak(Md(t,"pageBreak",`\f
`)),this.setText(Md(t,"text","")),this.startLineIndex=Md(t,"start",-1),this.endLineIndex=Md(t,"end",void 0);var i=Md(t,"page");return i===void 0?this.resetIndex():this.setPageIndex(i),this}toJSON(){return{maxLines:this.maxLines,text:this.content,start:this.startLineIndex,end:this.endLineIndex,page:this.pageIndex,pageBreak:this.pageBreak}}shutdown(t){if(!this.isShutdown){switch(this.textObjectType){case Rn:this.lines.length=0;break;case An:this.lines.destroy();break;case Fs:this.lines.length=0;break}this.pageStartIndexes.length=0,this.sections.length=0,this.lines=void 0,this.pageStartIndexes=void 0,this.sections=void 0,super.shutdown(t)}}setMaxLines(t){return this.maxLines=t,this}setPageBreak(t){return this.pageBreak=t,this}get pageCount(){return this.pageStartIndexes.length}get lastPageIndex(){return this.pageCount-1}get isFirstPage(){return this.pageIndex<=0}get isLastPage(){return this.pageIndex>=this.pageCount-1}get totalLinesCount(){return this.lines?this.lines.length:0}get pageLinesCount(){if(this.maxLines!==void 0)return this.maxLines;var t;switch(this.textObjectType){case Rn:case An:var i=this.parent.style.maxLines;i>0?t=i:t=Math.floor(a1t(this.parent));break;case Fs:t=this.totalLinesCount;break}return t}get isFirstLine(){return this.startLineIndex<=0}get isLastLine(){return this.endLineIndex===this.totalLinesCount}get content(){return this.sections.join(this.pageBreak)}}Object.assign(UT.prototype,g8);const f1t={setText(e){this.setTextCallback&&(this.setTextCallbackScope?e=this.setTextCallback.call(this.setTextCallbackScope,e,this.isLastChar,this.insertIndex):e=this.setTextCallback(e,this.isLastChar,this.insertIndex)),this.textWrapEnable?wT(this.parent,e):this.parent.setText(e)},appendText(e){var t=this.text.concat(Ud(e));return this.isTyping?this.setTypingContent(t):this.start(t,void 0,this.textLength),this}};var d1t=function(e,t,i,s){return e!==void 0&&this.setTypingContent(e),t!==void 0&&(this.speed=t),i===void 0&&(i=0),this.typingIndex=i+1,this.speed===0?this.stop(!0):(this.setText(""),this.startTimer(s)),this},m8=function(e,t){return e.getPlainText&&(t=e.getPlainText(t)),t},c1t=function(e,t,i,s,g){var E;if(t>0){s===void 0&&(s=0);var n=m8(this.parent,e);E=v1t(n,t)+s}return this.start(e,i,E,g)},v1t=function(e,t){for(var i=void 0,s=0;s<t&&(i=e.indexOf(`
`,i+1),i!==-1);s++);return i},cp=function(e,t,i,s){var g;return e.getSubString?g=e.getSubString(t,i,s):g=t.slice(i,s),g},y8=function(e,t,i,s){var g=this.parent,E;if(s===0){var n=0,T=t;this.insertIndex=T,E=cp(g,e,n,T)}else if(s===1){var T=i,n=T-t;this.insertIndex=0,E=cp(g,e,n,T)}else if(s===2){var r=i/2,n=Math.floor(r-t/2),T=n+t;this.insertIndex=t%2?t:0,E=cp(g,e,n,T)}else if(s===3){var o=Math.floor(t/2),y;if(o>0){var T=i,n=T-o;y=cp(g,e,n,T)}else y="";var d=t-o,h;if(d>0){var n=0,T=n+d;this.insertIndex=T,h=cp(g,e,n,T)}else h="",this.insertIndex=0;E=h+y}return this.insertChar=E.charAt(this.insertIndex-1),E},p1t=function(e){var t=this.getTimer();if(t&&this.freeTimer(),e){for(;!this.isLastChar;)y8.call(this,this.text,this.typingIndex,this.textLength,this.typeMode),this.emit("typechar",this.insertChar),this.typingIndex++;this.setText(this.text),this.emit("type"),this.emit("complete",this,this.parent)}return this},g1t=function(){var e=this.getTimer();return e&&(e.paused=!0),this},m1t=function(){var e=this.getTimer();return e&&(e.paused=!1),this},x8={start:d1t,startFromLine:c1t,stop:p1t,pause:g1t,resumeTyping:m1t};Object.assign(x8,f1t);var y1t=function(e,t){var i=Lh(e);switch(i){case Rn:e.style.syncFont(e.canvas,e.context),t=e.runWordWrap(t);break;case An:t=e.getText(t,void 0,void 0,!0);break;case Fs:t=e.setText(t).getTextBounds().wrappedText;break}return t};const vp=Phaser.Utils.Objects.GetFastValue,VP=Phaser.Utils.Objects.GetValue;class VT extends ji{constructor(t,i){super(t,i),this.timer=null,this.resetFromJSON(i)}resetFromJSON(t){this.setTextWrapEnable(VP(t,"wrap",!1)),this.setTypeMode(VP(t,"typeMode",0)),this.setTypingSpeed(VP(t,"speed",333)),this.setTextCallback=vp(t,"setTextCallback",null),this.setTextCallbackScope=vp(t,"setTextCallbackScope",null),this.setTypingContent(vp(t,"text","")),this.typingIndex=vp(t,"typingIndex",0),this.insertIndex=null,this.insertChar=null;var i=vp(t,"elapsed",null);return i!==null&&this.start(void 0,void 0,this.typingIndex,i),this}shutdown(t){this.isShutdown||(this.freeTimer(),super.shutdown(t))}setTypeMode(t){return typeof t=="string"&&(t=x1t[t]),this.typeMode=t,this}setTypeSpeed(t){return this.speed=t,this}setTypingSpeed(t){return this.speed=t,this}setTextWrapEnable(t){return t===void 0&&(t=!0),this.textWrapEnable=t,this}set text(t){var i=Ud(t);this.textWrapEnable&&(i=y1t(this.parent,i)),this._text=i}get text(){return this._text}get isTyping(){return this.getTimer()!==null}get isLastChar(){return this.typingIndex===this.textLength}setTypingContent(t){return this.text=t,this.textLength=m8(this.parent,this.text).length,this}onTyping(){var t=y8.call(this,this.text,this.typingIndex,this.textLength,this.typeMode);this.setText(t),this.emit("typechar",this.insertChar),this.emit("type"),this.isLastChar?(this.freeTimer(),this.scene.sys.events.once("preupdate",function(){this.emit("complete",this,this.parent)},this)):(this.timer.delay=this.speed,this.typingIndex++)}startTimer(t){this.timer&&this.freeTimer();var i;return t===void 0?i=0:(this.speed,i=t),this.timer=this.scene.time.addEvent({delay:1e-4,startAt:i,loop:!0,callback:this.onTyping,callbackScope:this}),this}getTimer(){return this.timer}freeTimer(){return this.timer&&(this.timer.remove(),this.timer=null),this}setText(t){this.setTextCallback&&(this.setTextCallbackScope?t=this.setTextCallback.call(this.setTextCallbackScope,t,this.isLastChar,this.insertIndex):t=this.setTextCallback(t,this.isLastChar,this.insertIndex)),this.textWrapEnable?wT(this.parent,t):this.parent.setText(t)}}const x1t={"left-to-right":0,"right-to-left":1,"middle-to-sides":2,"sides-to-middle":3};Object.assign(VT.prototype,x8);const pp=Phaser.Utils.Objects.GetValue;var T1t=function(e,t){t===void 0&&(t="rexTextBox");class i extends e{constructor(g,E){super(g,E),this.type=t,this.isRunning=!1,this._isPageEnd=!1;var n=this.childrenMap.text,T=pp(E,"expandTextWidth",!1),r=pp(E,"expandTextHeight",!1);if(T||r){var o=Lh(n);switch(o){case Rn:case An:if(n.resize=function(d,h){var l=T?d:0,a=r?h:0;n.setFixedSize(l,a),l>0&&n.setWordWrapWidth(l)},o===An){var y=n.style;y.wrapMode===0&&(y.wrapMode=1)}break}T&&(n._minWidth=0),r&&(n._minHeight=0)}this.setTypingMode(pp(E,"typingMode","page")),this.page=new UT(n,pp(E,"page",void 0)),this.typing=new VT(n,pp(E,"typing",E.type)),this.typing.on("complete",this.onTypingComplete,this).on("type",this.onType,this).on("typechar",this.onTypeChar,this),this.textWidthSave=n.width,this.textHeightSave=n.height}setTypingMode(g){return typeof g=="string"&&(g=C1t[g]),this.typingMode=g,this}start(g,E){return E!==void 0&&this.setTypingSpeed(E),this.isRunning=!0,this.page.setText(g),this.emit("start"),this.typingMode===0?this.typeNextPage():this.typeNextLine(),this}more(g,E){if(E!==void 0&&this.setTypingSpeed(E),this.isRunning)this.page.appendText(g),this.typing.appendText(g);else{if(this.isRunning=!0,this.page.appendText(g),this.emit("start"),this.typingMode===0){this._isPageEnd=!1;var n=this.page.getPage(),T=this.typing.textLength;this.typing.start(n,void 0,T)}return this}}typeNextPage(){if(!this.isRunning)return this;if(this.isLastPage)this.emit("complete");else{this._isPageEnd=!1;var g=this.page.getNextPage();this.typing.start(g)}return this}typeNextLine(){if(!this.isRunning)return this;if(this.isLastLine)this.isRunning=!1,this.emit("pageend"),this.emit("complete");else{var g=this.page.getPageOfNextLine(),E;this.isFirstLine?E=0:E=this.page.pageLinesCount-1,this.typing.startFromLine(g,E)}}pause(){return this.isRunning?(this.isTyping&&(this.typing.pause(),this.emit("pause")),this):this}resume(){return this.isRunning?(this.isTyping||(this.emit("resume"),this.typing.resume()),this):this}stop(g){return this.isRunning?(this.typing.stop(g),this):this}showLastPage(){return this.isRunning?(this.typing.stop(),this.typingMode===0?this.page.showLastPage():this.page.showLastLine(),this.emit("type"),this.onTypingComplete(),this):this}setTypeSpeed(g){return this.typing.setTypingSpeed(g),this}setTypingSpeed(g){return this.typing.setTypingSpeed(g),this}get isTyping(){return this.typing.isTyping}get isPageEnd(){return this._isPageEnd}get isLastPage(){return this.page.isLastPage}get isFirstPage(){return this.page.isFirstPage}get pageCount(){return this.page.pageCount}get pageIndex(){return this.page.pageIndex}get isLastLine(){return this.page.isLastLine}get isFirstLine(){return this.page.isFirstLine}get lineCound(){return this.page.totalLinesCount}get startLineIndex(){return this.page.startLineIndex}get endLineIndex(){return this.page.endLineIndex}get typingSpeed(){return this.typing.speed}onType(){var g=this.childrenMap.text;(this.textWidthSave!==g.width||this.textHeightSave!==g.height)&&(this.textWidthSave=g.width,this.textHeightSave=g.height,this.getTopmostSizer().layout()),this.emit("type")}onTypeChar(g){this.emit("typechar",g)}onTypingComplete(){if(this.typingMode===0){this._isPageEnd=!0;var g=this.isLastPage;this.isRunning=!g,this.emit("pageend"),g&&this.emit("complete")}else this.typeNextLine()}}return i};const C1t={page:0,line:1};class DR extends T1t(RT){constructor(t,i){i===void 0&&(i={}),i.hasOwnProperty("layoutMode")||(i.layoutMode=1),super(t,i)}}It.register("textBox",function(e){var t=new DR(this.scene,e);return this.scene.add.existing(t),t});Dt(window,"RexPlugins.UI.TextBox",DR);class T8 extends DR{constructor(t,i,s){i=KN(t,i,s),super(t,i)}}It.register("simpleTextBox",function(e){var t=new T8(this.scene,e);return this.scene.add.existing(t),t});Dt(window,"RexPlugins.UI.SimpleTextBox",T8);const Ls=Phaser.Utils.Objects.GetValue;class C8 extends ei{constructor(t,i){super(t,i),this.type="rexNumberBar";var s=Ls(i,"background",void 0),g=Ls(i,"icon",void 0),E=Ls(i,"iconMask",void 0),n=Ls(i,"slider",void 0),T=Ls(i,"text",void 0),r=Ls(i,"space.icon",0),o=Ls(i,"space.slider",0);if(s&&this.addBackground(s),g){var y;this.orientation===0?(n||T)&&(y={right:r}):(n||T)&&(y={bottom:r}),this.add(g,{proportion:0,align:"center",padding:y}),E&&(E=Ua.call(this,g,g,1))}var d;if(n){n.orientation=this.orientation,n.eventEmitter=this,n.value=null,n.hasOwnProperty("input")||(n.input=-1),d=new sc(t,n),t.add.existing(d);var y;this.orientation===0?T&&(y={right:o}):T&&(y={bottom:o});var h;if(this.orientation===0){var l=Ls(n,"width",void 0);h=l===void 0?1:0}else{var a=Ls(n,"height",void 0);h=a===void 0?1:0}this.add(d,{proportion:h,align:"center",padding:y})}T&&this.add(T),this.addChildrenMap("background",s),this.addChildrenMap("icon",g),this.addChildrenMap("iconMask",E),this.addChildrenMap("slider",d),this.addChildrenMap("text",T);var f=Ls(i,"valuechangeCallback",null);if(f!==null){var c=Ls(i,"valuechangeCallbackScope",void 0);this.on("valuechange",f,c)}this.setEnable(Ls(i,"enable",void 0)),this.setValue(Ls(i,"value",0))}get enable(){return this.childrenMap.slider?this.childrenMap.slider.enable:!1}set enable(t){this.childrenMap.slider&&this.childrenMap.slider.setEnable(t)}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}get value(){return this.childrenMap.slider?this.childrenMap.slider.value:0}set value(t){this.childrenMap.slider&&(this.childrenMap.slider.value=t)}setValue(t,i,s){return this.childrenMap.slider&&this.childrenMap.slider.setValue(t,i,s),this}addValue(t,i,s){return this.childrenMap.slider&&this.childrenMap.slider.addValue(t,i,s),this}getValue(t,i){return this.childrenMap.slider?this.childrenMap.slider.getValue(t,i):0}easeValueTo(t,i,s){return this.childrenMap.slider&&this.childrenMap.slider.easeValueTo(t,i,s),this}stopEaseValue(){return this.childrenMap.slider&&this.childrenMap.slider.stopEaseValue(),this}setEaseValueDuration(t){return this.childrenMap.slider&&this.childrenMap.slider.setEaseValueDuration(t),this}setEaseValueFunction(t){return this.childrenMap.slider&&this.childrenMap.slider.setEaseValueFunction(t),this}get text(){var t=this.childrenMap.text;if(t===void 0)return"";var i;return t.text?i=t.text:i=t.getData("text"),i}set text(t){var i=this.childrenMap.text;i!==void 0&&(i.setText?i.setText(t):i.setData("text",t))}setText(t){return this.text=t,this}}It.register("numberBar",function(e){var t=new C8(this.scene,e);return this.scene.add.existing(t),t});Dt(window,"RexPlugins.UI.NumberBar",C8);It.register("scrollBar",function(e){var t=new xR(this.scene,e);return this.scene.add.existing(t),t});Dt(window,"RexPlugins.UI.ScrollBar",xR);const zP=Phaser.Utils.Objects.GetValue,D4={leftTop:"left-top",centerTop:"center-top",rightTop:"right-top",leftCenter:"left-center",center:"center",rightCenter:"right-center",leftBottom:"left-bottom",centerBottom:"center-bottom",rightBottom:"right-bottom"};class S8 extends oa{constructor(t,i){super(t,i),this.type="rexBadge";var s=zP(i,"background",void 0);s&&this.addBackground(s),this.addChildrenMap("background",s);var g=zP(i,"main",void 0);g&&this.add(g,{key:"main",align:"center",expand:!1}),this.addChildrenMap("main",g);for(var E in D4){var n=zP(i,E,void 0);n&&(this.add(n,{key:E,align:D4[E],expand:!1}),this.addChildrenMap(E,n))}}}It.register("badgeLabel",function(e){var t=new S8(this.scene,e);return this.scene.add.existing(t),t});Dt(window,"RexPlugins.UI.BadgeLabel",S8);const S1t=oa.prototype.add;var F4=function(e,t,i,s,g,E,n,T,r){return e.setVisible(!1),S1t.call(this,e,t,i,s,g,E,n,T,r),this};const E1t={add:F4,addPage:F4};var b1t=function(e){return e===void 0?null:this.sizerChildren.hasOwnProperty(e)?this.sizerChildren[e]:null};const I4=Ns.prototype.setChildVisible;var P1t=function(e,t){this._previousKey=this._currentKey;var i=this.previousPage;i&&(this.swapMode===0?(I4.call(this,i,!1),this.emit("pageinvisible",i,this._previousKey,this)):i.destroy()),e&&!this.sizerChildren.hasOwnProperty(e)&&this.emit("createpage",e,this),this._currentKey=e;var s=this.currentPage;return s&&(I4.call(this,s,!0),this.emit("pagevisible",s,this._currentKey,this),t===void 0&&(t=this.fadeInDuration),t>0&&s.setAlpha(0).fadeIn(t,1)),this},w1t=function(e){return this.sizerChildren.hasOwnProperty(e)},E8={getPage:b1t,swapPage:P1t,hasPage:w1t};Object.assign(E8,E1t);const B4=Phaser.Utils.Objects.GetValue;class zT extends oa{constructor(t,i){super(t,i),this.type="rexPages",this.childrenMap=this.sizerChildren,this._previousKey=void 0,this._currentKey=void 0,this.setSwapMode(B4(i,"swapMode",0)),this.setFadeInDuration(B4(i,"fadeIn",0))}setSwapMode(t){return typeof t=="string"&&(t=M1t[t]),this.swapMode=t,this}setFadeInDuration(t){return this.fadeInDuration=t,this}get previousKey(){return this._previousKey}get currentKey(){return this._currentKey}set currentKey(t){this.swapPage(t)}get currentPage(){return this.getPage(this.currentKey)}get previousPage(){return this.getPage(this.previousKey)}get keys(){return Object.keys(this.sizerChildren)}}Object.assign(zT.prototype,E8);const M1t={invisible:0,destroy:1};It.register("pages",function(e){var t=new zT(this.scene,e);return this.scene.add.existing(t),t});Dt(window,"RexPlugins.UI.Pages",zT);const R1t=Phaser.GameObjects.Mesh;class b8 extends R1t{get tint(){return this.vertices.length===0?16777215:this.vertices[0].color}forceUpdate(){return this.dirtyCache[10]=1,this}}const P8=Phaser.Math.Vector3,A1t=Phaser.Math.Matrix4;var G4=new P8,k4=new P8,N4=new A1t,O1t=function(e,t,i,s,g,E,n){t===void 0&&(t=0),i===void 0&&(i=0),s===void 0&&(s=0),g===void 0&&(g=0),E===void 0&&(E=0),n===void 0&&(n=0),G4.set(t,i,s),k4.set(g,E,n),N4.fromRotationXYTranslation(k4,G4,!0);for(var T=0,r=e.vertices.length;T<r;T++)e.vertices[T].transformMat4(N4)};const L1t=Phaser.Utils.Objects.IsPlainObject,wu=Phaser.Utils.Objects.GetValue,D1t=Phaser.Geom.Mesh.GenerateGridVerts,WP=Phaser.Math.RadToDeg,ux=Phaser.Math.DegToRad,w8=45,F1t=1+1/Math.sin(ux(w8));let M8=class extends b8{constructor(t,i,s,g,E,n){L1t(i)&&(n=i,i=wu(n,"x",0),s=wu(n,"y",0),g=wu(n,"key",null),E=wu(n,"frame",null)),super(t,i,s,g,E),this.type="rexPerspectiveImage",this.setSizeToFrame(),this.resetPerspective(),this.panZ(F1t),this.hideCCW=wu(n,"hideCCW",!0);var T=wu(n,"gridWidth",0),r=wu(n,"gridHeight",T);this.resetVerts(T,r),this.prevFrame=this.frame}preUpdate(t,i){this.prevFrame!==this.frame&&(this.prevFrame=this.frame,this.syncSize()),super.preUpdate(t,i)}get originX(){return .5}get originY(){return .5}resetPerspective(){return this.setPerspective(this.width,this.height,w8),this}resetVerts(E,n){if(E!==void 0&&(this.gridWidth=E),n!==void 0&&(this.gridHeight=n),this.clear(),this.dirtyCache[9]=-1,this.width===0||this.height===0)return this;var s=this.frame.cutWidth,g=this.frame.cutHeight,E,n;this.gridWidth===0?E=Math.max(s/8,32):n=this.gridWidth,this.gridHeight===0?n=Math.max(g/8,32):n=this.gridHeight,D1t({mesh:this,width:s/this.height,height:g/this.height,widthSegments:Math.ceil(s/E),heightSegments:Math.ceil(g/n)});var T=this.transformInfo;return T&&this.transformVerts(T.x,T.y,T.z,T.rotateX,T.rotateY,T.rotateZ),this}syncSize(){return this.setSizeToFrame(),this.resetPerspective(),this.resetVerts(),this}get rotationX(){return this.modelRotation.x}set rotationX(t){this.modelRotation.x=t}get angleX(){return WP(this.rotationX)}set angleX(t){this.rotationX=ux(t)}get rotationY(){return this.modelRotation.y}set rotationY(t){this.modelRotation.y=t}get angleY(){return WP(this.rotationY)}set angleY(t){this.rotationY=ux(t)}get rotationZ(){return this.modelRotation.z}set rotationZ(t){this.modelRotation.z=t}get angleZ(){return WP(this.rotationZ)}set angleZ(t){this.rotationZ=ux(t)}transformVerts(t,i,s,g,E,n){return t===void 0&&(t=0),i===void 0&&(i=0),s===void 0&&(s=0),g===void 0&&(g=0),E===void 0&&(E=0),n===void 0&&(n=0),this.transformInfo||(this.transformInfo={}),this.transformInfo.x=t,this.transformInfo.y=i,this.transformInfo.rotateX=g,this.transformInfo.rotateY=E,this.transformInfo.rotateZ=n,O1t(this,t,i,s,g,E,n),this}};const I1t=Phaser.Textures.DynamicTexture;var R8=function(e,t,i){t===void 0&&(t=2),i===void 0&&(i=2);var s=new I1t(e.sys.textures,null,t,i);return s};const B1t=Phaser.Utils.Objects.IsPlainObject,Ny=Phaser.Utils.Objects.GetValue;class A8 extends M8{constructor(t,i,s,g,E,n){B1t(i)&&(n=i,i=Ny(n,"x",0),s=Ny(n,"y",0),g=Ny(n,"width",32),E=Ny(n,"height",32));var T=R8(t,g,E);super(t,i,s,T,null,n),this.type="rexPerspectiveRenderTexture",this.rt=this.texture}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.rt.destroy(),this.rt=null)}snapshot(t,i){return i===void 0&&(i={}),i.gameObjects=t,i.renderTexture=this.rt,RM(i),(this.width!==this.frame.realWidth||this.height!==this.frame.realHeight)&&this.syncSize(),this}}Phaser.Animations.AnimationState;Phaser.Utils.Objects.IsPlainObject;Phaser.Utils.Objects.GetValue;var Ia=function(e,t,i,s){if(Array.isArray(e))for(var g=!1,E=0,n=e.length;E<n;E++){var T=e[E];if(!(s&&!T)&&(i?g=t.call(i,T,E,e):g=t(T,E,e),g))return}else{var g=!1;for(var r in e){var T=e[r];if(!(s&&!T)&&(i?g=t.call(i,T,r,e):g=t(T,r,e),g))return}}};const Rd=Phaser.Math.RadToDeg,Ad=Phaser.Math.DegToRad;class G1t extends Ns{constructor(t,i,s,g,E,n){super(t,i,s,g,E),this.faces=n,Ia(n,function(T){T.setPosition(i,s),this.add(T)},this,!0)}get rotationX(){return 0}set rotationX(t){}get angleX(){return Rd(this.rotationX)}set angleX(t){this.rotationX=Ad(t)}get rotateX(){return Rd(this.rotationX)}set rotateX(t){this.rotationX=Ad(t)}get rotationY(){return 0}set rotationY(t){}get angleY(){return Rd(this.rotationY)}set angleY(t){this.rotationY=Ad(t)}get rotateY(){return Rd(this.rotationY)}set rotateY(t){this.rotationY=Ad(t)}get rotationZ(){return 0}set rotationZ(t){}get angleZ(){return Rd(this.rotationZ)}set angleZ(t){this.rotationZ=Ad(t)}get rotateZ(){return Rd(this.rotationZ)}set rotateZ(t){this.rotationZ=Ad(t)}setDebug(t,i){return Ia(this.faces,function(s){s.setDebug(t,i)},null,!0),this}panX(t){return Ia(this.faces,function(i){i.panX(t)},null,!0),this}panY(t){return Ia(this.faces,function(i){i.panY(t)},null,!0),this}panZ(t){return Ia(this.faces,function(i){i.panZ(t)},null,!0),this}transformVerts(t,i,s,g,E,n){return Ia(this.faces,function(T){T.transformVerts(t,i,s,g,E,n)},null,!0),this}forEachFace(t,i,s){return Ia(this.faces,t,i,s),this}}const k1t=Phaser.Utils.Objects.IsPlainObject,N1t={key:"__WHITE"},U1t={image:M8,rendertexture:A8};var U4=function(e,t){t===void 0&&(t=N1t);var i;return k1t(t)?(t.hasOwnProperty("type")||(t.hasOwnProperty("key")?t.type="image":t.hasOwnProperty("width")&&(t.type="rendertexture")),i=new U1t[t.type](e,t),e.add.existing(i)):i=t,i},V1t=function(e,t,i){var s;if(i===void 0){s=[];for(var g,E,n=0,T=t.length;n<T;n++)E=t[n],E?g=U4(e,E):g=null,s.push(g)}else{s={};for(var g,r,n=0,T=i.length;n<T;n++)r=i[n],t.hasOwnProperty(r)?g=U4(e,t[r]):g=null,s[r]=g}return s};const z1t=Phaser.Math.DegToRad,V4=z1t(180);var W1t=function(e,t){var i=t.back;i&&(e.orientation===0?i.transformVerts(0,0,0,0,V4,0):i.transformVerts(0,0,0,V4,0,0))};const YP=Phaser.Utils.Objects.GetValue,Y1t=Phaser.Math.Linear;let X1t=class extends Zu{constructor(t,i){super(t,i),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return super.resetFromJSON(t),this.setEase(YP(t,"ease","Cubic")),this.setFrontToBackDirection(YP(t,"frontToBack",0)),this.setBackToFrontDirection(YP(t,"backToFront",1)),this}setFrontToBackDirection(t){return typeof t=="string"&&(t=z4[t]),this.endAngleFB=t===0?180:-180,this}setBackToFrontDirection(t){return typeof t=="string"&&(t=z4[t]),this.endAngleBF=t===0?-180:180,this}start(t,i){if(this.timer.isRunning)return this;this.timer.setDelay(this.delay).setDuration(t);var s=i+1,g=this.parent;return g.face===0?(this.startAngle=0,this.endAngle=this.endAngleFB*s):(this.startAngle=this.endAngleBF,this.endAngle=this.startAngle-this.endAngleBF*s),super.start(),this}flip(t,i){return this.isRunning?this:(t===void 0&&(t=this.duration),i===void 0&&(i=0),this.start(t,i),this.emit("start",this.parent,this),this.parent.currentFaceIndex=(this.parent.currentFaceIndex+i+1)%2,this)}flipRight(t,i){return this.parent.currentFaceIndex===0?this.setFrontToBackDirection(0):this.setBackToFrontDirection(0),this.flip(t,i),this}flipLeft(t,i){return this.parent.currentFaceIndex===0?this.setFrontToBackDirection(1):this.setBackToFrontDirection(1),this.flip(t,i),this}updateTarget(t,i){var s=this.easeFn(i.t),g=Y1t(this.startAngle,this.endAngle,s);t.orientation===0?t.angleY=g:t.angleX=g}};const z4={right:0,"left-to-right":0,left:1,"right-to-left":1},H1t=Phaser.Utils.Objects.IsPlainObject,Mu=Phaser.Utils.Objects.GetValue,$1t=["back","front"];class K1t extends G1t{constructor(t,i,s,g){H1t(i)&&(g=i,i=Mu(g,"x",0),s=Mu(g,"y",0));var E=V1t(t,g,$1t),n=E.back,T=E.front,r=Mu(g,"width"),o=Mu(g,"height");if(r===void 0||o===void 0){if(r===void 0){var y=T?T.width:0,d=n?n.width:0;r=Math.max(y,d)}if(o===void 0){var h=T?T.height:0,l=n?n.height:0;o=Math.max(h,l)}}super(t,i,s,r,o,E),this.type="rexPerspectiveCard",this.frontFaceRotationX=0,this.frontFaceRotationY=0,this.frontFaceRotationZ=0,Ia(E,function(f,c){this[`${c}Face`]=f},this);var a=Mu(g,"flip",void 0);a!==!1&&(this.flip=new X1t(this,a)),this.setOrientation(Mu(g,"orientation",0)),W1t(this,E),this.setFace(Mu(g,"face",0))}get rotationX(){return this.frontFaceRotationX}set rotationX(t){this.frontFaceRotationX!==t&&(this.frontFaceRotationX=t,Ia(this.faces,function(i){i.rotationX=t},null,!0))}get rotationY(){return this.frontFaceRotationY}set rotationY(t){this.frontFaceRotationY!==t&&(this.frontFaceRotationY=t,Ia(this.faces,function(i){i.rotationY=t},null,!0))}get rotationZ(){return this.frontFaceRotationZ}set rotationZ(t){this.frontFaceRotationZ!==t&&(this.frontFaceRotationZ=t,Ia(this.faces,function(i){i.rotationZ=t},null,!0))}setOrientation(t){return typeof t=="string"&&(t=J1t[t]),this.orientation=t,this}get face(){return this.currentFaceIndex}set face(t){typeof t=="string"&&(t=Z1t[t]),this.currentFaceIndex=t;var i=t===1,s=i?180:0;this.orientation===0?this.angleY=s:this.angleX=s}setFace(t){return this.face=t,this}toggleFace(){var t=this.face===0?1:0;return this.setFace(t),this}}const J1t={x:0,horizontal:0,h:0,y:1,vertical:1,v:1},Z1t={front:0,back:1};Phaser.Utils.Objects.GetValue;Phaser.Math.RadToDeg;Phaser.Math.DegToRad;Phaser.Math.Angle.WrapDegrees;Phaser.Math.Angle.ShortestBetween;Phaser.Math.Wrap;Phaser.Math.Linear;Phaser.Utils.Objects.IsPlainObject;Phaser.Utils.Objects.GetValue;Phaser.Math.DegToRad;Phaser.Math.RadToDeg;Phaser.Math.Angle.WrapDegrees;Phaser.Math.Linear;Phaser.Math.Wrap;Phaser.Utils.Objects.IsPlainObject;Phaser.Utils.Objects.GetValue;Phaser.Math.Wrap;const j1t=Phaser.Utils.Objects.GetValue;var Q1t=function(e,t,i){t.visibleSibling=[],t.isRunning=!1,t.useParentBounds=j1t(i,"useParentBounds",!1),t.setPosition(e.x,e.y).setVisible(!1),e.pin(t)},O8=function(e,t){if(!e)return!1;for(var i=t.visibleSibling,s=0,g=i.length;s<g;s++)e.setChildVisible(i[s],!0);return i.length=0,e.setChildVisible(t,!1),t.isRunning=!1,!0},q1t=function(e,t){if(!e)return!1;O8(e,t);var i=t.useParentBounds;RM({gameObjects:e.getAllVisibleChildren(),renderTexture:t.rt,x:t.x,y:t.y,width:i?e.displayWidth:void 0,height:i?e.displayHeighth:void 0,originX:i?e.originX:void 0,originY:i?e.originY:void 0}),e.setChildVisible(t,!0);for(var s=t.visibleSibling,g=e.children,E=0,n=g.length;E<n;E++){var T=g[E];T.visible&&T!==t&&(e.setChildVisible(T,!1),s.push(T))}return t.isRunning=!0,!0},L8=function(e){return class extends e{constructor(i,s){var g=i.scene;super(g,0,0,1,1,s),g.add.existing(this),Q1t(i,this,s)}destroy(i){!this.scene||this.ignoreDestroy||(this.exit(),super.destroy(i))}enter(){var i=q1t(this.rexContainer.parent,this);return i&&this.syncSize(),this}exit(){return O8(this.rexContainer.parent,this),this}}};class D8 extends L8(A8){get perspectiveState(){return this.isRunning}}const _1t=Phaser.Utils.Objects.GetValue;var tEt=function(e){var t=this.scene;this.setSnapshotPadding(_1t(e,"snapshotPadding",0)),e=Ga(e),delete e.width,delete e.height,e.front={width:1,height:1},e.back={width:1,height:1};var i=new K1t(t,e);t.add.existing(i);var s=i.flip;if(s){var g=this;s.on("start",function(){g.enterPerspectiveMode()}).on("complete",function(){g.exitPerspectiveMode()})}return i};const eEt=["front","back"],iEt={enterPerspectiveMode(){return this.isInPerspectiveMode?this:(this.setChildVisible(this.perspectiveCard,!0),this.snapshotFace(0),this.snapshotFace(1),this.setChildVisible(this.childrenMap.front,!1),this.setChildVisible(this.childrenMap.back,!1),this.perspectiveCard.setSize(this.width,this.height),this)},exitPerspectiveMode(){if(!this.isInPerspectiveMode)return this;this.setChildVisible(this.perspectiveCard,!1);var e=this.perspectiveCard.face===0;return this.setChildVisible(this.childrenMap.front,e),this.setChildVisible(this.childrenMap.back,!e),this},setSnapshotPadding(e){return this.snapshotPadding=e,this},snapshotFace(e){typeof e=="number"&&(e=eEt[e]);var t=this.perspectiveCard.faces[e],i=this.childrenMap[e];t.rt.clear();var s=i.visible;i.visible=!0;var g=i.isRexContainerLite?i.getAllVisibleChildren():i;return t.snapshot(g,{padding:this.snapshotPadding}),i.visible=s,this}},W4=Phaser.Utils.Objects.GetValue;class FR extends oa{constructor(t,i){super(t,i),this.type="rexPerspectiveCard";var s=i.back,g=W4(i,"expand.back",!0);this.add(s,{key:"back",expand:g});var E=i.front,n=W4(i,"expand.front",!0);this.add(E,{key:"front",expand:n}),this.perspectiveCard=tEt.call(this,i),this.pin(this.perspectiveCard),this.exitPerspectiveMode(!1)}get flip(){return this.perspectiveCard.flip}get face(){return this.perspectiveCard.face}set face(t){if(!(this.flip&&this.flip.isRunning)){this.perspectiveCard.face=t;var i=t===0,s=this.childrenMap.front,g=this.childrenMap.back;this.setChildVisible(s,i),this.setChildVisible(g,!i)}}setFace(t){return this.face=t,this}toggleFace(){var t=this.face===0?1:0;return this.setFace(t),this}get isInPerspectiveMode(){return this.perspectiveCard.visible}get rotationX(){return this.perspectiveCard.rotationX}set rotationX(t){this.enterPerspectiveMode(),this.perspectiveCard.rotationX=t}get angleX(){return this.perspectiveCard.angleX}set angleX(t){this.enterPerspectiveMode(),this.perspectiveCard.angleX=t}get rotationY(){return this.perspectiveCard.rotationY}set rotationY(t){this.enterPerspectiveMode(),this.perspectiveCard.rotationY=t}get angleY(){return this.perspectiveCard.angleY}set angleY(t){this.enterPerspectiveMode(),this.perspectiveCard.angleY=t}get rotationZ(){return this.perspectiveCard.rotationZ}set rotationZ(t){this.enterPerspectiveMode(),this.perspectiveCard.rotationZ=t}get angleZ(){return this.perspectiveCard.angleZ}set angleZ(t){this.enterPerspectiveMode(),this.perspectiveCard.angleZ=t}panX(t){return this.enterPerspectiveMode(),this.perspectiveCard.panX(t),this}panY(t){return this.enterPerspectiveMode(),this.perspectiveCard.panY(t),this}panZ(t){return this.enterPerspectiveMode(),this.perspectiveCard.panZ(t),this}transformVerts(t,i,s,g,E,n){return this.enterPerspectiveMode(),this.perspectiveCard.transformVerts(t,i,s,g,E,n),this}forEachFace(t,i,s){return this.enterPerspectiveMode(),this.perspectiveCard.forEachFace(t,i,s),this}}Object.assign(FR.prototype,iEt);It.register("perspectiveCard",function(e){var t=new FR(this.scene,e);return this.scene.add.existing(t),t});Dt(window,"RexPlugins.UI.PerspectiveCard",FR);var rEt=function(e){var t=this.getElement("tabs.buttons");if(!(e>=t.length))return t[e].name},nEt=function(e){for(var t=this.getElement("tabs.buttons"),i=0,s=t.length;i<s;i++)if(t[i].name===e)return i};const sEt=Phaser.Utils.Objects.IsPlainObject,XP=Phaser.Utils.Objects.GetValue,aEt=Phaser.Utils.String.UUID;var oEt=function(e,t,i){if(sEt(e)){var s=e;e=XP(s,"key"),t=XP(s,"tab"),i=XP(s,"page")}return e||(e=aEt()),t.name=e,this.childrenMap.tabs.addButton(t),this.childrenMap.pages.addPage(i,{key:e}),this},lEt=function(e,t){var i;if(typeof e=="number"?i=e:i=this.getPageIndex(e),i!=null){var s;t!==void 0&&(s=this.childrenMap.pages.fadeInDuration,this.childrenMap.pages.fadeInDuration=t),this.childrenMap.tabs.emitButtonClick(i),s!==void 0&&(this.childrenMap.pages.fadeInDuration=s)}return this},hEt=function(e){return this.swapPage(0,e),this},uEt=function(e){var t=this.getElement("tabs.buttons").length-1;return this.swapPage(t,e),this};const fEt={swapPage:lEt,swapFirstPage:hEt,swapLastPage:uEt},dEt={removePage(e,t){typeof e=="number"&&(e=this.getPageKey(e));var i=this.childrenMap.tabs,s=i.getByName(e),g=this.childrenMap.pages,E=g.getElement(e);return!s||!E?this:(g.removeChildrenMap(e),i.removeButton(s,t),g.remove(E,t),this)},removeAllPages(e){for(var t=this.getElement("tabs.buttons"),i=t.length-1;i>=0;i--)this.removePage(t[i].name,e);return this}};var cEt=function(e){return typeof e=="number"&&(e=this.getPageKey(e)),this.childrenMap.pages.getPage(e)},vEt=function(e){var t;return typeof e=="number"?t=e:t=this.getPageIndex(e),this.getElement("tabs.buttons")[t]},pEt={top:1,left:3,right:5,bottom:7},Y4={top:"bottom",left:"right",right:"left",bottom:"top"},gEt=function(e){var t=pEt[e];if(t===void 0)return this;var i=this.childrenMap.tabs,s=this.sizerChildren.indexOf(i);if(s===t)return this;this.sizerChildren[s]=null,this.sizerChildren[t]=i;var g=this.getSizerConfig(i).padding,E=Y4[this.tabsPosition],n=Y4[e];return g[n]=g[E],g[E]=0,this.tabsPosition=e,this};const mEt={setTabsPadding(e,t){var i=this.childrenMap.tabs;return i.setOuterPadding(e,t),this},getTabsPadding(e){var t=this.childrenMap.tabs;return t.getOuterPadding(e)}};var F8={getPageKey:rEt,getPageIndex:nEt,addPage:oEt,getPage:cEt,getTab:vEt,setTabPosition:gEt};Object.assign(F8,fEt,dEt,mEt);const Da=Phaser.Utils.Objects.GetValue,X4=Xa.prototype.add;let WT=class extends Xa{constructor(t,i){i===void 0&&(i={}),i.column=3,i.row=3,i.columnProportions=[0,0,0],i.rowProportions=[0,0,0];var s=Da(i,"expand.pages",!0);s&&(i.columnProportions[1]=1,i.rowProportions[1]=1),super(t,i),this.type="rexTabPages";var g=Da(i,"background",void 0);g&&this.addBackground(g);var E=Da(i,"pages"),n=new zT(t,E);t.add.existing(n);var T=Da(i,"tabsPosition",void 0);T===void 0&&(T=Da(i,"tabPosition","top"));var r=Da(i,"wrapTabs",!1),o=r?wh:_r,y=Da(i,"tabs",void 0);y===void 0&&(y={}),y.orientation=T==="top"||T==="bottom"?"x":"y",y.buttonsType="radio",!r&&!y.hasOwnProperty("expand")&&(y.expand=Da(i,"expand.tabs",!1));var d=new o(t,y);t.add.existing(d),X4.call(this,n,{column:1,row:1,expand:s});var h,l,a=Da(i,"space.item",0);switch(T){case"top":h=1,l=0,a={bottom:a};break;case"bottom":h=1,l=2,a={top:a};break;case"left":h=0,l=1,a={right:a};break;case"right":h=2,l=1,a={left:a};break}X4.call(this,d,{column:h,row:l,padding:a,expand:r?!0:Da(i,"expand.tabs",!1),align:Da(i,"align.tabs","left")}),this.addChildrenMap("background",g),this.addChildrenMap("tabs",d),this.addChildrenMap("pages",n),this.tabsPosition=T,d.on("button.click",function(f){var c=f.name;n.hasPage(c)&&n.swapPage(c)}),d.on("button.statechange",function(f,c,u,v){var p=u?"tab.focus":"tab.blur";this.emit(p,f,f.name)},this),n.on("pagevisible",function(f,c,u){this.emit("page.focus",f,c)}),n.on("pageinvisible",function(f,c,u){this.emit("page.blur",f,c)})}get currentKey(){return this.getElement("pages").currentKey}set currentKey(t){this.showPage(t)}get keys(){return this.getElement("pages").keys}get currentPage(){return this.getElement("pages").currentPage}get previousPage(){return this.getElement("pages").previousPage}};Object.assign(WT.prototype,F8);It.register("tabPages",function(e){var t=new WT(this.scene,e);return this.scene.add.existing(t),t});Dt(window,"RexPlugins.UI.TabPages",WT);class yEt extends hT{constructor(t,i){i===void 0&&(i={}),i.destroy=!1,super(t,i)}onOpen(){this.emit("open",this.parent,this),super.onOpen()}onClose(){this.emit("close",this.parent,this),super.onClose()}}const xEt={expand(e){if(this.expanded===!0)return this;e===void 0&&(e=this.transitionDuration),this.expanded=!0;var t=this.childrenMap.title,i=this.childrenMap.child;if(this.show(i),this.reLayoutEnable){var s=this.reLayoutTarget?this.reLayoutTarget:this.getTopmostSizer();s.layout()}return t.emit("folder.expand",e,this),i.emit("folder.expand",e,this),this.emit("expand.start",this),this.childTransition.once("open",function(){this.emit("expand.complete",this)},this).requestOpen(null,e),this},collapse(e){if(this.expanded===!1)return this;e===void 0&&(e=this.transitionDuration),this.expanded=!1;var t=this.childrenMap.title,i=this.childrenMap.child;return t.emit("folder.collapse",e,this),i.emit("folder.collapse",e,this),this.emit("collapse.start",this),this.childTransition.once("close",function(){if(this.setChildScale(i,1,1).hide(i),this.reLayoutEnable){var s=this.reLayoutTarget?this.reLayoutTarget:this.getTopmostSizer();s.layout()}this.emit("collapse.complete",this)},this).requestClose(null,e),this},toggle(e){return this.expanded?this.collapse(e):this.expand(e),this},setExpandedState(e){return this.reLayoutEnable=!1,e===void 0?this.expanded=void 0:e?this.expand(0):this.collapse(0),this.reLayoutEnable=!0,this}};var TEt=function(e,t){hl.popUp.call(e,t,this.expandDirection)},CEt=function(e,t){hl.scaleDown.call(e,t,this.expandDirection)};const SEt={setTransitionDuration(e){return this.transitionDuration=e,this.childTransition.setTransitInTime(e).setTransitOutTime(e),this},setExpandCallback(e){return e===void 0&&(e=TEt.bind(this)),this.childTransition.setTransitInCallback(e),this},setCollapseCallback(e){return e===void 0&&(e=CEt.bind(this)),this.childTransition.setTransitOutCallback(e),this}},vr=Phaser.Utils.Objects.GetValue;let Sg=class extends ei{constructor(t,i){i===void 0&&(i={}),i.hasOwnProperty("orientation")||(i.orientation=1),super(t,i),this.type="rexFolder",this.reLayoutEnable=!0,this.expanded=void 0,this.expandDirection=this.orientation===1?"y":"x";var s=i.background,g=i.title,E=i.child;s&&this.addBackground(s);var n=vr(i,"space"),T=this.orientation===1?"left":"top",h=vr(i,"align.title",T),l=vr(i,"expand.title",!0);this.add(g,{proportion:0,align:h,expand:l,padding:{left:vr(n,"titleLeft",0),right:vr(n,"titleRight",0),top:vr(n,"titleTop",0),bottom:vr(n,"titleBottom",0)}});var r=vr(i,"toggleByTarget",void 0),o=vr(i,"toggleClickConfig");r===void 0&&(r=g),r&&tR.onClick.call(r,function(){this.toggle()},this,o),this.childTransition=new yEt(E);var y=vr(i,"customChildOrigin",!1);if(!y){var d=this.rtl?1:0;E.setOrigin(d)}var h=vr(i,"align.child","left"),l=vr(i,"expand.child",!0),a=l?1:0;this.add(E,{proportion:a,align:h,expand:l,padding:{left:vr(n,"childLeft",0),right:vr(n,"childRight",0),top:vr(n,"childTop",0),bottom:vr(n,"childBottom",0)}}),this.addChildrenMap("title",g),this.addChildrenMap("child",E),this.addChildrenMap("background",s);var f=i.transition;this.setTransitionDuration(vr(f,"duration",200)),this.setExpandCallback(vr(f,"expandCallback",void 0)),this.setCollapseCallback(vr(f,"collapseCallback",void 0)),this.reLayoutTarget=vr(i,"reLayoutTarget",void 0);var c=i.onExpandStart;c&&this.on("expand.start",c);var u=i.onExpandComplete;u&&this.on("expand.complete",u);var v=i.onCollapseStart;v&&this.on("collapse.start",v);var p=i.onCollapseComplete;p&&this.on("collapse.complete",p);var m=vr(i,"expanded",void 0);m!==void 0&&this.setExpandedState(m)}};Object.assign(Sg.prototype,xEt,SEt);It.register("folder",function(e){var t=new Sg(this.scene,e);return this.scene.add.existing(t),t});Dt(window,"RexPlugins.UI.Folder",Sg);var EEt=function(e,t,i,s){for(var g in this.treesMap){var E=this.treesMap[g];if(Hu(E.nodeBody,e,t,i,s))return E;var n=E.pointToChild(e,t,i,s);if(n)return n}return null},bEt=function(e){return e===void 0&&(e={}),e.targetMode="parent",e.targetSizers=[this],gT(this,e),this},I8=function(e){return class extends e{get isTree(){return!1}get isNode(){return!1}setText(i){return this.text=i,this}get text(){var i=this.nodeBody;return i.text}set text(i){var s=this.nodeBody;s.setText&&s.setText(i)}setTexture(i,s){var g=this.nodeBody;return g.setTexture&&g.setTexture(i,s),this}get texture(){var i=this.nodeBody;if(i)return i.texture}get frame(){var i=this.nodeBody;if(i)return i.frame}}},PEt=function(e,t,i,s){for(var g in this.nodesMap){var E=this.nodesMap[g];if(this.isTreeObject(E)){var n=E;if(Hu(n.nodeBody,e,t,i,s))return n;var T=n.pointToChild(e,t,i,s);if(T)return T}else if(Hu(E,e,t,i,s))return E}return null};const wEt={getTreePatent(e){if(e===void 0&&(e=this),!!e.rexSizer)return e.rexSizer.treeParent},getTreeRoot(e){e===void 0&&(e=this);for(var t;;){if(!e.rexSizer)return;if(t=e.rexSizer.treeParent,t===null)return e;e=t}},getTreesSizer(e){var t=this.getTreeRoot(e);return t?t.getParentSizer():null},isGrandsonNode(e){if(e===void 0||!e.rexSizer)return!1;for(var t;;){if(!e.rexSizer)return!1;if(t=e.rexSizer.treeParent,t===this)return!0;if(t===null)return!1;e=t}return!1}};var Np=function(e,t,i,s,g=!1){var E;if(hs(t))E=t,delete t[key];else if(ka(t)){var n=t;E=n(e,i),E&&e.add.existing(E)}else(g||t)&&s&&(E=s(e,t,i));return E},IR=function(e,t,i){var s=zr(e,t);return s},MEt=function(e,t,i){var s=new mg(e,t);return e.add.existing(s),s.resetDisplayContent(""),s};const Od=Phaser.Utils.Objects.GetValue;let B8=class extends I8(ei){constructor(t,i,s){var g=i.space;super(t,{orientation:"x",space:{left:Od(g,"nodeLeft",0),right:Od(g,"nodeRight",0),top:Od(g,"nodeTop",0),bottom:Od(g,"nodeBottom",0)}}),this.type="rexTreeNode";var E=Np(t,Od(i,"nodeBackground"),s,IR,!1),n=Np(t,Od(i,"nodeBody"),s,MEt,!0);E&&this.addBackground(E),this.add(n,{proportion:1}),this.nodeBody=n,this.addChildrenMap("background",E),this.addChildrenMap("nodeBody",n)}get isNode(){return!0}getTreePatent(){return this.rexSizer.treeParent}getTreeRoot(){var t=this.rexSizer.treeParent;return t?t.getTreeRoot():null}getTreesSizer(){var t=this.getTreeRoot();return t?t.getParentSizer():null}};var G8=function(e,t){var i=e.parentContainer;if(i){t.isRexContainerLite?t.addToContainer(i):i.add(t);return}var s=e.displayList;if(Sp(s)){t.isRexContainerLite?t.addToLayer(s):s.add(t);return}e.scene.add.existing(t)};const H4=Phaser.Utils.String.UUID,REt={addTree(e,t){if(hs(e)){var i=e;e={nodeBody:i,nodeKey:t}}return this.insertTree(void 0,e)},insertTree(e,t){var i;typeof t=="string"?(i=t,t=void 0):t&&(i=t.nodeKey,delete t.nodeKey),i===void 0&&(i=H4());var s=this.createTree(t);return G8(this,s),this.insertNode(e,s,{expand:!0}),s._postAddCallback(),s},addNode(e,t){return this.insertNode(void 0,e,t)},insertNode(e,t,i){var s;hs(t)||(i=t,t=new B8(this.scene,this.configSave,{isLeaf:!0})),typeof i=="string"?(s=i,i=void 0):i&&(s=i.nodeKey,delete i.nodeKey),s===void 0&&(s=H4()),i===void 0&&(i={}),i.hasOwnProperty("expand")||(i.expand=!0),this.removeNode(t,!1),t.rexSizer.treeParent=this,this.nodesMap.hasOwnProperty(s)&&(console.error(`[Trees] Duplicate nodeKey '${s}'`),this.removeNode(this.nodesMap[s],!0)),t.nodeKey=s,this.nodesMap[s]=t;var g=this.childrenMap.child;return g.insert(e,t,i),t}},AEt={removeNode(e,t){if(typeof e=="string"&&(e=this.getTree(e)),!e)return this;var i=this.getTreePatent(e);if(!i)return this;delete i.nodesMap[e.nodeKey],e.nodeKey=null,e.rexSizer.treeParent=null;var s=i.childrenMap.child;return s.remove(e,t),this},removeAllNodes(e){var t=this.nodesMap;for(var i in t)this.removeNode(t[i],e);return this}},OEt={getNode(e){if(typeof e=="string"&&(e=e.split(".")),e.length!==0){var t=e.shift(),i=this.nodesMap[t];return e.length===0?i:i&&this.isTreeObject(i)?i.getNode(e):null}},getNodes(e){var t=this.nodesMap;if(!e)e=nodes;else for(var i in t)e.push(t[i]);return e},getAllNodes(e){}};var k8={pointToChild:PEt};Object.assign(k8,wEt,REt,AEt,OEt);var LEt=function(e,t,i){var s=new eg(e,t);return e.add.existing(s),s.on("expand.start",function(g){g.setDirection("down")}).on("collapse.complete",function(g){g.setDirection("right")}),s};const $4=Phaser.Utils.Objects.GetValue;var DEt=function(e,t){var i=new B8(e,t,{isLeaf:!1});e.add.existing(i);var s=Np(e,$4(t,"toggleButton"),{isLeaf:!1},LEt,!0);return i.insert(0,s,{padding:{right:$4(t,"space.toggleButton",0)},fitRatio:1}),i.addChildrenMap("toggleButton",s),i};const K4=Phaser.Utils.Objects.GetValue;var FEt=function(e,t){var i=new ei(e,{orientation:K4(t,"childrenOrientation","y")});e.add.existing(i);var s=Np(e,K4(t,"childrenBackground"),{isLeaf:!1},IR,!1);return s&&i.addBackground(s),i};const IEt=Phaser.Utils.Objects.Clone;var BEt=function(e,t){var i=e?IEt(e):{};if(!t)return i;for(var s in t)i[s]=t[s];return i};const hh=Phaser.Utils.Objects.GetValue;class $u extends I8(Sg){constructor(t,i){i===void 0&&(i={});var s=Np(t,hh(i,"background"),{isLeaf:!1},IR,!1),g=FEt(t,i),E=g.childrenMap.items,n=DEt(t,i),T=n.childrenMap.toggleButton,r=n.childrenMap.nodeBody,o=Qu(hh(i,"orientation","y")),y=i.space;if(y){var d=hh(y,"indent",0);y.childLeft=hh(y,"indentLeft",o===1?d:0),y.childRight=hh(y,"indentRight",0),y.childTop=hh(y,"indentTop",o===0?d:0),y.childBottom=hh(y,"indentBottom",0)}var h={background:s,title:n,child:g,toggleByTarget:T,transition:i.transition,orientation:o,space:y,align:i.align,expand:i.expand};super(t,h),this.type="rexTree",this.rexSizer.treeParent=null,this.nodesMap={},this.configSave=i,this.nodeBody=r,this.addChildrenMap("toggleButton",T),this.addChildrenMap("nodeBody",r),this.addChildrenMap("childrenNodes",E),this.on("expand.start",function(){T.emit("expand.start",T),Uy(this,"expand.start")},this).on("expand.complete",function(){T.emit("expand.complete",T),Uy(this,"expand.complete")}).on("collapse.start",function(){T.emit("collapse.start",T),Uy(this,"collapse.start")}).on("collapse.complete",function(){T.emit("collapse.complete",T),Uy(this,"collapse.complete")});var l=this;l._postAddCallback=function(){var a=hh(i,"expanded",!0);a!==void 0&&l.setExpandedState(a),delete l._postAddCallback}}destroy(t){!this.scene||this.ignoreDestroy||(this.configSave=void 0,Clear(this.nodesMap),this.nodesMap=void 0,super.destroy(t))}get isTree(){return!0}createTree(t){return $u.CreateTree(this.scene,this.configSave,t)}isTreeObject(t){return t&&t instanceof $u}}$u.CreateTree=function(e,t,i){return new $u(e,BEt(t,i))};var Uy=function(e,t){var i=e.getTreesSizer();i&&i.emit(t,e)};Object.assign($u.prototype,k8);const GEt=Phaser.Utils.String.UUID,kEt={addTree(e){if(hs(e)){var t=e;e={nodeBody:t,nodeKey}}return this.insertTree(void 0,e)},insertTree(e,t){var i;typeof t=="string"?(i=t,t=void 0):t&&(i=t.nodeKey,delete t.nodeKey),i===void 0&&(i=GEt());var s=$u.CreateTree(this.scene,this.treeConfig,t);return G8(this,s),s.nodeKey=i,this.treesMap[i]=s,this.insert(e,s,{expand:!0}),s._postAddCallback(),s}},NEt={removeTree(e,t){return typeof e=="string"&&(e=this.getTree(e)),e?(delete this.treesMap[e.nodeKey],e.nodeKey=null,this.remove(e,t),this):this},removeAllNodes(e){var t=this.treesMap;for(var i in t)this.removeTree(t[i],e);return this}},UEt={getTree(e){return this.treesMap[e]},getTrees(e){e===void 0&&(e=[]);for(var t in this.treesMap)e.push(this.treesMap[t]);return e},getNode(e){var t=e.indexOf(".");if(t===-1)return this.getTree(e);var i=this.getTree(e.substring(0,t));if(i)return i.getNode(e.substring(t+1))}};var N8={pointToChild:EEt,setChildrenInteractive:bEt};Object.assign(N8,kEt,NEt,UEt);const VEt=Phaser.Utils.Objects.GetValue;class BR extends ei{constructor(t,i){i===void 0&&(i={}),i.hasOwnProperty("orientation")||(i.orientation="y"),super(t,i),this.type="rexTrees",this.treesMap={},this.treeConfig=VEt(i,"tree")}destroy(t){!this.scene||this.ignoreDestroy||(this.treeConfig=void 0,Clear(this.treesMap),this.treesMap=void 0,super.destroy(t))}}Object.assign(BR.prototype,N8);It.register("trees",function(e){var t=new BR(this.scene,e);return this.scene.add.existing(t),t});Dt(window,"RexPlugins.UI.Trees",BR);It.register("textArea",function(e){var t=new gg(this.scene,e);return this.scene.add.existing(t),t});Dt(window,"RexPlugins.UI.TextArea",gg);var zEt=function(e){Object.defineProperty(e,"childOY",{configurable:!0,get:function(){return e.textOY},set:function(t){e.textOY=t}}),Object.defineProperty(e,"topChildOY",{get:function(){return e.topTextOY}}),Object.defineProperty(e,"bottomChildOY",{get:function(){return e.bottomTextOY}}),Object.defineProperty(e,"childVisibleHeight",{get:function(){return e.textVisibleHeight}}),Object.defineProperty(e,"childHeight",{get:function(){return e.contentHeight}})};const WEt={setText(e){var t=this.childrenMap.child;return t.setText(e),this},appendText(e){return this.setText(this.text+e),this}},YEt={scrollToLine(e){return this.setChildOY(-this.lineHeight*e),this},scrollToNextLine(e){e===void 0&&(e=1);var t=this.lineIndex+e;return this.scrollToLine(t),this}},Vy=Phaser.Utils.Objects.GetValue;class YT extends pg{constructor(t,i){i===void 0&&(i={});var s=Vy(i,"text"),g;hs(s)?g=s:(s===void 0&&(s={}),s.textArea=!0,g=new _p(t,s),t.add.existing(g)),zEt(g);var E=s.width===void 0,n=s.height===void 0;E&&(g.minWidth=0),n&&(g.minHeight=0),i.scrollMode=0,i.type="rexTextAreaInput",i.child={gameObject:g,expandWidth:E,expandHeight:n};var T=Vy(i,"space",void 0);T&&(T.child=Vy(T,"text",0)),i.scroller=!1,super(t,i),this.addChildrenMap("text",g);var r,o;g.on("cursorin",function(){var d=g.textOY,h=g.contentHeight,l=r!==d,a=o!==h;r=d,o=h,a&&this.resizeController(),(l||a)&&(this.t=g.t)},this),g.on("textchange",function(d){this.emit("textchange",d,this)},this).on("close",function(){this.emit("close",this.text,this)},this);var y=Vy(i,"content",void 0);y&&this.setText(y)}get text(){return this.childrenMap.child.text}set text(t){t==null?t="":t=t.toString(),this.childrenMap.child.text!==t&&this.setText(t)}get lineHeight(){var t=this.childrenMap.child;return t.lineHeight}get lineIndex(){return Math.floor(-this.childOY/this.lineHeight)}get linesCount(){var t=this.childrenMap.child;return t.linesCount}get contentHeight(){var t=this.childrenMap.child;return t.contentHeight}get readOnly(){var t=this.childrenMap.child;return t.readOnly}set readOnly(t){var i=this.childrenMap.child;i.readOnly=t}setReadOnly(t){var i=this.childrenMap.child;return i.setReadOnly(t),this}get value(){return this.text}set value(t){this.text=t}}Object.assign(YT.prototype,WEt,YEt);It.register("textAreaInput",function(e){var t=new YT(this.scene,e);return this.scene.add.existing(t),t});Dt(window,"RexPlugins.UI.TextAreaInput",YT);It.register("scrollablePanel",function(e){var t=new Tg(this.scene,e);return this.scene.add.existing(t),t});Dt(window,"RexPlugins.UI.ScrollablePanel",Tg);const zy={popUp:function(e,t){e.popUp(t)},scaleDown:function(e,t){e.scaleDown(t)},fadeIn:function(e,t){e.fadeIn(t)},fadeOut:function(e,t){e.fadeOut(t)}},ph={popUp:0,fadeIn:1,scaleDown:0,fadeOut:1},XEt={setDisplayTime(e){return this.displayTime=e,this},setTransitOutTime(e){return this.transitOutTime=e,this},setTransitInTime(e){return this.transitInTime=e,this},setTransitInCallback(e){switch(typeof e=="string"&&(e=ph[e]),e){case ph.popUp:e=zy.popUp;break;case ph.fadeIn:e=zy.fadeIn;break}return e||(e=Vr),this.transitInCallback=e,this},setTransitOutCallback(e){switch(typeof e=="string"&&(e=ph[e]),e){case ph.scaleDown:e=zy.scaleDown;break;case ph.fadeOut:e=zy.fadeOut;break}return e||(e=Vr),this.transitOutCallback=e,this}},HEt={showMessage(e){if(this.scaleX0===void 0&&(this.scaleX0=this.scaleX),this.scaleY0===void 0&&(this.scaleY0=this.scaleY),e===void 0){if(this.messages.length===0)return this;e=this.messages.shift()}if(this.player.isPlaying)return this.messages.push(e),this;this.setScale(this.scaleX0,this.scaleY0).setVisible(!0),typeof e=="string"?this.setText(e):e(this),this.layout();var t=[[0,[this.transitInCallback,this,this.transitInTime]],[0,[this.emit,"transitin",this,this.transitInTime]],[this.transitInTime,[Vr]],[this.displayTime,[this.transitOutCallback,this,this.transitOutTime]],[0,[this.emit,"transitout",this,this.transitOutTime]],[this.transitOutTime,[this.setVisible,!1]],[30,[Vr]]];return this.player.load(t,this).once("complete",function(){this.showMessage()},this).start(),this},removeAllMessages(){return this.messages.length=0,this}},gp=Phaser.Utils.Objects.GetValue;class GR extends xl{constructor(t,i){i===void 0&&(i={text:createDefaultTextObject(t)}),super(t,i),this.type="rexToast",this.setTransitInTime(gp(i,"duration.in",200)),this.setDisplayTime(gp(i,"duration.hold",1200)),this.setTransitOutTime(gp(i,"duration.out",200)),this.setTransitInCallback(gp(i,"transitIn",ph.popUp)),this.setTransitOutCallback(gp(i,"transitOut",ph.scaleDown)),this.player=new ZN(this,{dtMode:1}),this.messages=[],this.scaleX0=void 0,this.scaleY0=void 0,this.setVisible(!1)}destroy(t){!this.scene||this.ignoreDestroy||(this.player.destroy(),this.player=void 0,this.messages=void 0,super.destroy(t))}setScale(t,i){return i===void 0&&(i=t),this.scaleX0=t,this.scaleY0=i,super.setScale(t,i),this}get isShowingMessage(){return this.player.isPlaying}}Object.assign(GR.prototype,XEt,HEt);It.register("toast",function(e){var t=new GR(this.scene,e);return this.scene.add.existing(t),t});Dt(window,"RexPlugins.UI.Toast",GR);var $Et={"bottom-to-top":1,"top-to-bottom":0,"right-to-left":1,"left-to-right":0};const KEt={setQueueDirection(e){return typeof e=="string"&&(e=$Et[e]),this.rtl=e===0,this.orientation===1?e?this.queueDirection=0:this.queueDirection=1:e?this.queueDirection=2:this.queueDirection=3,this},setCreateMessageLabelCallback(e){return this.createMessageLabelCallback=e,this},setDisplayTime(e){return this.displayTime=e,this},setTransitOutTime(e){return this.transitOutTime=e,this},setTransitInTime(e){return this.transitInTime=e,this},setTransitInCallback(e){return e||(e=Vr),this.transitInCallback=e,this},setTransitOutCallback(e){return e||(e=Vr),this.transitOutCallback=e,this}},JEt=tR.onClick,U8=Zk.delayCall,ZEt=lT.moveTo;var jEt=function(e,t,i){var s=t(e.scene,i,e);if(JEt.call(s,function(){e.removeMessage(s)}),e.displayTime){var g=e.transitInTime+e.displayTime+10;U8.call(s,g,function(){e.removeMessage(s)})}return s},V8=function(e){for(var t=e.childrenMap.items,i,s=[],g=0,E=t.length;g<E;g++)i=t[g],s.push({x:i.x,y:i.y});return s},QEt=function(e){for(var t=e.childrenMap.items,i,s=[],g=0,E=t.length;g<E;g++)i=t[g],s.push({x:i.scaleX,y:i.scaleY}),i.setScale(1);e.layout();for(var n=V8(e),g=0,E=t.length;g<E;g++){var T=s[g];t[g].setScale(T.x,T.y)}return n},qEt=function(e,t,i,s){for(var g=e.childrenMap.items,E=Math.min(t.length,i.length,g.length),n,T,r,o=e.queueDirection,y=0;y<E;y++){switch(n=g[y],T=t[y],r=i[y],n.setPosition(T.x,T.y),o){case 0:if(T.y<=r.y)continue;break;case 1:if(T.y>=r.y)continue;break;case 2:if(T.x<=r.x)continue;break;case 3:if(T.x>=r.x)continue;break}ZEt.call(n,s,r.x,r.y)}},_Et=function(e,t,i){var s=V8(e);e.add(t);var g=QEt(e);qEt(e,s,g,i),e.transitInCallback(t,i,e)};const tbt={showMessage(e){var t=jEt(this,this.createMessageLabelCallback,e);return _Et(this,t,this.transitInTime),this},removeMessage(e){if(this.getParentSizer(e)!==this)return this;if(!e.__isDestroying){e.__isDestroying=!0;var t=this.transitOutTime;return this.transitOutCallback(e,t,this),U8.call(e,t+10,function(){delete e.__isDestroying,e.destroy()}),this}},removeAllMessages(){for(var e=this.childrenMap.items,t=0,i=e.length;t<i;t++)this.removeMessage(e[t]);return this}};var z8={};Object.assign(z8,KEt,tbt);const J4={transitIn(e,t,i){switch(i.queueDirection){case 0:e.setOrigin(.5,1),hl.popUp.call(e,t,"y");break;case 1:e.setOrigin(.5,0),hl.popUp.call(e,t,"y");break;case 2:e.setOrigin(1,.5),hl.popUp.call(e,t,"x");break;case 3:e.setOrigin(0,.5),hl.popUp.call(e,t,"x");break}kp.fadeIn.call(e,t)},transitOut(e,t,i){kp.fadeOut.call(e,t)}},Ru=Phaser.Utils.Objects.GetValue;class kR extends ei{constructor(t,i){i===void 0&&(i={}),i.hasOwnProperty("orientation")||(i.orientation=1),super(t,i),this.type="rexToastQueue",this.setCreateMessageLabelCallback(Ru(i,"createMessageLabelCallback")),this.setQueueDirection(Ru(i,"queueDirection",1)),this.setTransitInTime(Ru(i,"duration.in",200)),this.setDisplayTime(Ru(i,"duration.hold",2e3)),this.setTransitOutTime(Ru(i,"duration.out",200)),this.setTransitInCallback(Ru(i,"transitIn",J4.transitIn)),this.setTransitOutCallback(Ru(i,"transitOut",J4.transitOut))}}Object.assign(kR.prototype,z8);It.register("toastQueue",function(e){var t=new kR(this.scene,e);return this.scene.add.existing(t),t});Dt(window,"RexPlugins.UI.ToastQueue",kR);var ebt=function(e,t){if(t===!1)return null;if(hs(t))return t;var i=new Ku(e,t);return e.add.existing(i),i};const ibt=Phaser.Utils.String.Pad;var Z4=function(e,t){t===void 0&&(t="0x");var i=e.toString(16).toUpperCase();return i=ibt(i,6,0,1),i=t+i,i},rbt=function(e,t){e&&(e.setTint?e.setTint(t):e.setFillStyle&&e.setFillStyle(t))};const ra=Phaser.Utils.Objects.GetValue,nbt=Phaser.Utils.Objects.IsPlainObject,sbt=Phaser.Math.Clamp;let NR=class extends ei{constructor(t,i){i===void 0&&(i={}),i.orientation=0,super(t,i),this.type="rexColorInputLite";var s=ra(i,"background",void 0),g=ra(i,"swatch"),E;nbt(g)&&(E=ra(g,"size"));var n=ebt(t,ra(i,"swatch")),T=ra(i,"inputText",{}),r;if(T&&(r=Mh(t,T)),s&&this.addBackground(s),n){E=ra(i,"swatchSize",E);var o;E!==void 0?(Mn(n,E,E),o=!1):o=ra(i,"squareExpandSwatch",!0);var y=o?1:0;this.add(n,{proportion:0,expand:!0,fitRatio:y})}if(r){var d=ra(T,"width")===void 0?1:0,h=ra(T,"height")===void 0;this.add(r,{proportion:d,expand:h})}this.addChildrenMap("background",s),this.addChildrenMap("swatch",n),this.addChildrenMap("inputText",r),r&&r.on("close",function(){this.setValue(r.value)},this);var l=ra(i,"valuechangeCallback",null);if(l!==null){var a=ra(i,"valuechangeCallbackScope",void 0);this.on("valuechange",l,a)}this.setValue(ra(i,"value",0))}get value(){return this._value}set value(t){if(typeof t=="string"){if(t=bw(t),t==null){var s=this.childrenMap.inputText;s&&s.setText(Z4(this._value));return}}else t=sbt(Math.floor(t),0,16777215);if(this._value!==t){this._value=t;var i=this.childrenMap.swatch;i&&rbt(i,t);var s=this.childrenMap.inputText;s&&s.setText(Z4(t)),this.emit("valuechange",this._value)}}setValue(t){return this.value=t,this}get color(){return this._value}set color(t){this.value=t}setColor(t){return this.color=t,this}};var abt={setCreateColorPickerBackgroundCallback(e){return this.colorPickerCreateBackgroundCallback=e,this},setColorPickerHPalettePosition(e){return this.colorPickerHPalettePosition=e,this},setColorPickerExpandDirection(e){return typeof e=="string"&&(e=obt[e]),this.colorPickerExpandDirection=e,this},setColorPickerEaseInDuration(e){return e===void 0&&(e=0),this.colorPickerEaseInDuration=e,this},setColorPickerEaseOutDuration(e){return e===void 0&&(e=0),this.colorPickerEaseOutDuration=e,this},setColorPickerTransitInCallback(e){return this.colorPickerTransitInCallback=e,this},setColorPickerTransitOutCallback(e){return this.colorPickerTransitOutCallback=e,this},setColorPickerBounds(e){return this.colorPickerBounds=e,this},setColorPickerWidth(e){return this.colorPickerWidth=e,this},setColorPickerHeight(e){return this.colorPickerHeight=e,this},setColorPickerSize(e,t){return this.setColorPickerWidth(e).setColorPickerHeight(t),this},setColorPickerSpace(e){return e===void 0&&(e={}),this.colorPickerSpace=e,this},setColorComponentsHeight(e){return this.colorComponentsHeight=e,this},setColorComponentsFormatLabelConfig(e){return this.colorComponentsFormatLabelConfig=e,this},setColorComponentsInputTextConfig(e){return this.colorComponentsInputTextConfig=e,this},setColorComponentsSpace(e){return e===void 0&&(e={}),this.colorComponentsSpace=e,this}};const obt={down:0,up:1},W8=Phaser.Display.Color,Ax=Phaser.Math.Percent;var lbt=function(e,t,i){i===void 0&&(i=!1);var s=e.width,g=e.height,E=new W8;if(i)for(var n=0;n<g;n++){var T=Ax(n,0,g);E.setFromHSV(T,1,1),t.fillStyle=E.rgba,t.fillRect(0,n,s,1)}else for(var r=0;r<s;r++){var T=Ax(r,0,s);E.setFromHSV(T,1,1),t.fillStyle=E.rgba,t.fillRect(r,0,1,g)}},hbt=function(e,t,i){for(var s=e.width,g=e.height,E=t.getImageData(0,0,s,g),n=E.data,T=new W8,r=0;r<g;r++)for(var o=0;o<s;o++){var y=Ax(o,0,s),d=1-Ax(r,0,g);T.setFromHSV(i,y,d);var h=(r*s+o)*4;n[h]=T.red,n[h+1]=T.green,n[h+2]=T.blue,n[h+3]=255}t.putImageData(E,0,0)};const ubt=Phaser.Display.Color,j4=Phaser.Math.Percent,fbt=Phaser.Display.Color.ColorToRGBA,dbt=Phaser.Display.Color.HSVToRGB;class cbt extends ju{constructor(t,i,s,g,E,n){i===void 0&&(i=0),s===void 0&&(s=0),g===void 0&&(g=2),E===void 0&&(E=2),super(t,i,s,g,E),this.type="rexColorPicker.HPaletteCanvas",this.colorObject=new ubt,this.setOrientation(n),this.setSize(g,E)}setOrientation(t){return this.orientation=Qu(t),this}updateTexture(){return lbt(this.canvas,this.context,this.orientation),super.updateTexture(),this}get color(){return this.colorObject.color}get hue(){return this._hue}set hue(t){this._hue=t}getHue(t,i){return t===void 0?this.hue:(this.orientation===0?this.hue=j4(t,0,this.width):this.hue=j4(i,0,this.height),this.hue)}getColor(t,i){if(t===void 0)return this.color;var s=this.getHue(t,i);return this.colorObject.setFromRGB(dbt(s,1,1)),this.colorObject.color}setColor(t){return this.color===t?this:this}colorToLocalPosition(t,i){return i===void 0?i={}:i===!0&&(HP===void 0&&(HP={}),i=HP),this.colorObject.setFromRGB(fbt(t)),this.orientation===0?(i.x=this.width*this.colorObject.h,i.y=this.height/2):(i.x=this.width/2,i.y=this.height*this.colorObject.h),i}}var HP=void 0,vbt=Phaser.Math.RotateAround,Y8=function(e,t,i,s){s===void 0?s={}:s===!0&&($P===void 0&&($P={}),s=$P),t-=e.width*e.originX,i-=e.height*e.originY;var g={x:t*e.scaleX,y:i*e.scaleY};return vbt(g,0,0,-e.rotation),s.x=e.x+t,s.y=e.y+i,s},$P;class pbt extends oa{constructor(t,i){i===void 0&&(i={}),super(t,i);var s=i.width!=null?1:0,g=new cbt(t).setOrientation(s);t.add.existing(g),this.type="rexColorPicker.HPalette",g.setInteractive().on("pointerdown",this.onPaletteCanvasPointerDown,this).on("pointermove",this.onPaletteCanvasPointerDown,this);var E=new Ku(t,{strokeColor:16777215,strokeWidth:2});t.add.existing(E),this.add(g,{key:"paletteCanvas",expand:!0}).add(E,{key:"marker",expand:!1})}resize(t,i){if(this.width===t&&this.height===i)return this;super.resize(t,i);var s=Math.min(t,i);return this.childrenMap.marker.setSize(s,s),this}onPaletteCanvasPointerDown(t,i,s,g){if(t.isDown){var E=this.childrenMap.paletteCanvas,n=E.getColor(i,s);this.setMarkerPosition(n),this.emit("input",n)}}get color(){return this.childrenMap.paletteCanvas.color}setColor(t){if(this.color===t)return this;var i=this.childrenMap.paletteCanvas;return i.setColor(t),this.setMarkerPosition(t),this}setMarkerPosition(t){var i=this.childrenMap.paletteCanvas,s=this.childrenMap.marker,g=i.colorToLocalPosition(t,!0);return Y8(i,g.x,g.y,s),this.resetChildPositionState(s),this}getHue(t,i){var s=this.childrenMap.paletteCanvas;return s.getHue(t,i)}}const gbt=Phaser.Display.Color,Q4=Phaser.Math.Percent,q4=Phaser.Display.Color.ColorToRGBA,mbt=Phaser.Display.Color.HSVToRGB;class ybt extends ju{constructor(t,i,s,g,E,n){i===void 0&&(i=0),s===void 0&&(s=0),g===void 0&&(g=2),E===void 0&&(E=2),super(t,i,s,g,E),this.type="rexColorPicker.SVPaletteCanvas",n===void 0&&(n=1),this.colorObject=new gbt,this.setHue(n),this.setSize(g,E)}get color(){return this.colorObject.color}get hue(){return this._hue}set hue(t){this._hue!==t&&(this._hue=t,this.colorObject.h=t,this.dirty=!0)}setHue(t){return this.hue=t,this}updateTexture(){return hbt(this.canvas,this.context,this.hue),super.updateTexture(),this}getColor(t,i){if(t===void 0)return this.colorObject.color;var s=Q4(t,0,this.width),g=1-Q4(i,0,this.height);return this.colorObject.setFromRGB(mbt(this.hue,s,g)),this.colorObject.color}setColor(t){return this.color===t?this:(this.colorObject.setFromRGB(q4(t)),this.setHue(this.colorObject.h),this)}colorToLocalPosition(t,i){return i===void 0?i={}:i===!0&&(KP===void 0&&(KP={}),i=KP),this.colorObject.setFromRGB(q4(t)),i.x=this.width*this.colorObject.s,i.y=this.height*(1-this.colorObject.v),i}}var KP=void 0;class xbt extends oa{constructor(t,i){super(t,i);var s=new ybt(t);t.add.existing(s),this.type="rexColorPicker.SVPalette",s.setInteractive().on("pointerdown",this.onPaletteCanvasPointerDown,this).on("pointermove",this.onPaletteCanvasPointerDown,this);var g=new Ku(t,{radius:5,strokeColor:16777215,strokeWidth:2});t.add.existing(g),this.add(s,{key:"paletteCanvas",expand:!0}).add(g,{key:"marker",expand:!1})}onPaletteCanvasPointerDown(t,i,s,g){if(t.isDown){var E=this.childrenMap.paletteCanvas,n=E.getColor(i,s);this.setMarkerPosition(n),this.emit("input",n)}}get color(){return this.childrenMap.paletteCanvas.color}setHue(t){var i=this.childrenMap.paletteCanvas;return i.setHue(t),this}setColor(t){if(this.color===t)return this;var i=this.childrenMap.paletteCanvas;return i.setColor(t),this.setMarkerPosition(t),this}setMarkerPosition(t){var i=this.childrenMap.paletteCanvas,s=this.childrenMap.marker,g=i.colorToLocalPosition(t,!0);return Y8(i,g.x,g.y,s),this.resetChildPositionState(s),this}}const Fa=Phaser.Utils.Objects.GetValue;class UR extends ei{constructor(t,i){super(t,i),this.type="rexColorPicker",this.freezePalettes=!1;var s=Fa(i,"hPalette.position",0);typeof s=="string"&&(s=Tbt[s]);var g=s===0||s===2?1:0;this.setOrientation(g);var E=Fa(i,"background",void 0),n,T;if(this.orientation===0){var n=Fa(i,"hPalette.width",void 0);n===void 0&&(n=Fa(i,"hPalette.size",10))}else T=Fa(i,"hPalette.height",void 0),T===void 0&&(T=Fa(i,"hPalette.size",10));var r=new pbt(t,{width:n,height:T});t.add.existing(r);var o=Fa(i,"svPalette.width",void 0),y=Fa(i,"svPalette.height",void 0),d=new xbt(t,{width:o,height:y});t.add.existing(d),E&&this.addBackground(E);var h={proportion:0,expand:!0},l,a;this.orientation===0?(l=o===void 0?1:0,a=y===void 0):(l=y===void 0?1:0,a=o===void 0);var f={proportion:l,expand:a};s===0||s===3?this.add(d,f).add(r,h):this.add(r,h).add(d,f),r.on("input",function(){d.setHue(r.getHue()),this.setValue(d.color,!0)},this),d.on("input",function(){this.setValue(d.color,!0)},this),this.addChildrenMap("background",E),this.addChildrenMap("hPalette",r),this.addChildrenMap("svPalette",d);var c=Fa(i,"valuechangeCallback",null);if(c!==null){var u=Fa(i,"valuechangeCallbackScope",void 0);this.on("valuechange",c,u)}this.setValue(Fa(i,"value",16777215))}get value(){return this._value}set value(t){if(this._value!==t){var i=this._value;this._value=t,this.freezePalettes||this.updatePalettes(),this.emit("valuechange",t,i,this)}}setValue(t,i){return this.freezePalettes=!!i,this.value=t,this.freezePalettes=!1,this}get color(){return this._value}set color(t){this.value=t}setColor(t){return this.color=t,this}updatePalettes(){return this.childrenMap.hPalette.setColor(this.color),this.childrenMap.svPalette.setColor(this.color),this}postLayout(t,i,s){return this.childrenMap.hPalette.setMarkerPosition(this.value),this.childrenMap.svPalette.setMarkerPosition(this.value),super.postLayout(t,i,s),this}}var Tbt={bottom:0,left:1,top:2,right:3};const mo=Phaser.Utils.Objects.GetValue,Cbt=Phaser.Display.Color,Sbt=Phaser.Display.Color.ColorToRGBA,Ebt=Phaser.Display.Color.HSVToRGB,Au=Phaser.Math.Clamp;class VR extends ei{constructor(t,i){i===void 0&&(i={}),i.orientation=0,super(t,i),this.type="rexColorComponents",this.colorObject=new Cbt;var s=mo(i,"background",void 0),g=mo(i,"formatLabel",void 0);hs(g)||(g=en(t,g).resetDisplayContent());var E=[];if(i.inputText0&&i.inputText1&&i.inputText2)E.push(i.inputText0),E.push(i.inputText1),E.push(i.inputText2);else for(var n=mo(i,"inputText"),T=0;T<3;T++){var r=Mh(t,n).setMaxLength(3).setNumberInput();E.push(r)}s&&this.addBackground(s);var y=mo(i,"proportion.formatLabel",0),o=!!g.isRexContainerLite,d=mo(i,"expand.formatLabel",o);this.add(g,{proportion:y,expand:d});for(var y=mo(n,"width")===void 0?1:0,d=mo(n,"height")===void 0,T=0,h=E.length;T<h;T++)this.add(E[T],{proportion:y,expand:d});this.addChildrenMap("background",s),this.addChildrenMap("formatLabel",g),this.addChildrenMap("components",E),this.onClick(g,this.toggleColorFormat,this);for(var T=0,h=E.length;T<h;T++)E[T].on("close",function(){this.updateColorObject(),this.setValue(this.colorObject.color)},this);var l=mo(i,"valuechangeCallback",null);if(l!==null){var a=mo(i,"valuechangeCallbackScope",void 0);this.on("valuechange",l,a)}g.setText("RGB"),this.setValue(mo(i,"value",16777215))}get value(){return this._value}set value(t){t=Au(Math.floor(t),0,16777215),this._value!==t&&(this._value=t,this.colorObject.setFromRGB(Sbt(t)),this.updateComponents(),this.emit("valuechange",this._value))}setValue(t){return this.value=t,this}get color(){return this._value}set color(t){this.value=t}setColor(t){return this.color=t,this}get colorFormat(){return this.childrenMap.formatLabel.text}set colorFormat(t){this.colorFormat!==t&&(this.childrenMap.formatLabel.setText(t),this.updateComponents())}setColorFormat(t){return this.colorFormat=t,this}toggleColorFormat(){return this.colorFormat=this.colorFormat==="RGB"?"HSV":"RGB",this}updateComponents(){var t=this.childrenMap.components,i,s,g;return this.colorFormat==="RGB"?(i=this.colorObject.red,s=this.colorObject.green,g=this.colorObject.blue):(i=Math.floor(this.colorObject.h*360),s=Math.floor(this.colorObject.s*100),g=Math.floor(this.colorObject.v*100)),t[0].setValue(i),t[1].setValue(s),t[2].setValue(g),this}updateColorObject(){var t=this.childrenMap.components;if(this.colorFormat==="RGB"){var i=Au(t[0].value,0,255),s=Au(t[1].value,0,255),g=Au(t[2].value,0,255);this.colorObject.setTo(i,s,g)}else{var E=Au(t[0].value,0,359)/360,n=Au(t[1].value,0,100)/100,T=Au(t[2].value,0,100)/100;this.colorObject.setFromRGB(Ebt(E,n,T))}return this}}const JP=Phaser.Utils.Objects.GetValue;class bbt extends ei{constructor(t,i){i===void 0&&(i={}),i.orientation=1,super(t,i),this.type="rexColorInput.ColorPickerPanel";var s=JP(i,"background",void 0),g=new UR(t,{hPalette:i.hPalette||{},svPalette:i.svPalette||{},space:{item:JP(i,"space.hPalette",8)}});t.add.existing(g);var E;i.colorComponents&&(E=new VR(t,i.colorComponents),t.add.existing(E)),s&&(this.addBackground(s),new uT(s,{stopAllLevels:!1})),this.add(g,{proportion:1,expand:!0}),E&&this.add(E,{proportion:0,expand:!0}),this.addChildrenMap("background",s),this.addChildrenMap("colorPicker",g),this.addChildrenMap("colorComponents",E),g.on("valuechange",function(n){this.setValue(n)},this),E&&E.on("valuechange",function(n){this.setValue(n)},this),this.setValue(JP(i,"value",16777215))}get value(){return this._value}set value(t){if(this._value!==t){this._value=t;var i=this.childrenMap.colorPicker;i.setValue(t);var s=this.childrenMap.colorComponents;s&&s.setValue(t),this.emit("valuechange",t)}}setValue(t){return this.value=t,this}}Phaser.Utils.Objects.GetValue;var Pbt=function(t){var t=this.scene,i,s=this.colorPickerCreateBackgroundCallback;s&&(i=s.call(this,t),t.add.existing(i));var g=this.colorPickerWidth;g===void 0&&(g=this.width);var E=this.colorPickerHeight;E===void 0&&(E=g);var n;this.colorComponentsHeight>0?n={height:this.colorComponentsHeight,formatLabel:this.colorComponentsFormatLabelConfig,inputText:this.colorComponentsInputTextConfig,space:this.colorComponentsSpace}:n=!1;var T=new bbt(t,{width:g,height:E,background:i,space:this.colorPickerSpace,hPalette:{position:this.colorPickerHPalettePosition},colorComponents:n,value:this.value});return t.add.existing(T),T},wbt=function(){if(!this.colorPicker){var e=Pbt.call(this).layout(),t=new d8(e,{duration:{in:this.colorPickerEaseInDuration,out:this.colorPickerEaseOutDuration},transitIn:this.colorPickerTransitInCallback,transitOut:this.colorPickerTransitOutCallback,expandDirection:this.colorPickerExpandDirection,alignTargetX:this,alignTargetY:this,bounds:this.colorPickerBounds,touchOutsideClose:!0}).on("open",function(){e.on("valuechange",function(i){this.setValue(i)},this)},this).on("close",function(){this.colorPicker=void 0,this.dropDownBehavior=void 0},this);return this.colorPicker=e,this.dropDownBehavior=t,this.pin(e),this}},X8={openColorPicker:wbt};Object.assign(X8,abt);const vn=Phaser.Utils.Objects.GetValue;class XT extends NR{constructor(t,i){i===void 0&&(i={}),super(t,i),this.type="rexColorInput",i.hasOwnProperty("colorPicker")||(i.colorPicker={background:{color:0}});var s=i.colorPicker,g=s!==!1&&s!==null;if(g){this.setColorPickerSize(vn(s,"width",160),vn(s,"height",170));var E,n=vn(s,"background");n?E=function(l){return zr(l,n)}:E=vn(s,"createBackgroundCallback"),this.setCreateColorPickerBackgroundCallback(E),this.setColorPickerHPalettePosition(vn(s,"hPalettePosition",0)),this.setColorPickerExpandDirection(vn(s,"expandDirection")),this.setColorPickerEaseInDuration(vn(s,"easeIn",200)),this.setColorPickerEaseOutDuration(vn(s,"easeOut",200)),this.setColorPickerTransitInCallback(vn(s,"transitIn")),this.setColorPickerTransitOutCallback(vn(s,"transitOut")),this.setColorPickerBounds(vn(s,"bounds"));var T=vn(s,"space");T===void 0&&(T={left:10,right:10,top:10,bottom:10,item:8}),this.setColorPickerSpace(T)}var r=i.colorComponents,o=r!==!1&&r!==null;if(g&&o){this.setColorComponentsHeight(vn(r,"height",30)),this.setColorComponentsFormatLabelConfig(vn(r,"formatLabel"));var y=vn(r,"inputText");y||(y=vn(i,"inputText")),this.setColorComponentsInputTextConfig(y);var d=vn(r,"space");d===void 0&&(d={item:8}),this.setColorComponentsSpace(d)}var h=this.childrenMap.swatch;h&&g&&this.onClick(h,this.openColorPicker,this)}}Object.assign(XT.prototype,X8);It.register("colorInput",function(e){var t=new XT(this.scene,e);return this.scene.add.existing(t),t});Dt(window,"RexPlugins.UI.ColorInput",XT);It.register("colorInputLite",function(e){var t=new NR(this.scene,e);return this.scene.add.existing(t),t});Dt(window,"RexPlugins.UI.ColorInputBase",NR);It.register("colorPicker",function(e){var t=new UR(this.scene,e);return this.scene.add.existing(t),t});Dt(window,"RexPlugins.UI.ColorPicker",UR);It.register("colorComponents",function(e){var t=new VR(this.scene,e);return this.scene.add.existing(t),t});Dt(window,"RexPlugins.UI.ColorComponents",VR);var H8=function(e){for(var t=e.scene.input,i=t.manager,s=i.pointersTotal,g=i.pointers,E,n=0;n<s;n++)if(E=g[n],!(!E.primaryDown||t.getDragState(E)!==0||!xM(e,E)))return t.setDragState(E,1),t._drag[E.id]=[e],t.dragDistanceThreshold===0||t.dragTimeThreshold===0?(t.setDragState(E,3),t.processDragStartList(E)):t.setDragState(E,2),!0;return!1};const Wy=Phaser.Utils.Objects.GetValue,_4=Phaser.Math.Distance.Between,t5=Phaser.Math.RotateAroundDistance;class zR extends ji{constructor(t,i){super(t,{eventEmitter:!1}),this._enable=void 0,t.setInteractive(Wy(i,"inputConfig",void 0)),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.setEnable(Wy(t,"enable",!0)),this.setAxisMode(Wy(t,"axis",0)),this.setAxisRotation(Wy(t,"rotation",0)),this}toJSON(){return{enable:this.enable,axis:this.axisMode,rotation:this.axisRotation}}boot(){var t=this.parent;t.on("dragstart",this.onDragStart,this),t.on("drag",this.onDrag,this),t.on("dragend",this.onDragEnd,this)}shutdown(t){this.isShutdown||(this.pointer=void 0,super.shutdown(t))}get enable(){return this._enable}set enable(t){if(this._enable!==t)return t||this.dragend(),this._enable=t,this.scene.input.setDraggable(this.parent,t),this}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}setAxisMode(t){return typeof t=="string"&&(t=Mbt[t]),this.axisMode=t,this}setAxisRotation(t){return this.axisRotation=t,this}drag(){return H8(this.parent),this}dragend(){if(this.isDragging)return this.scene.input.setDragState(this.pointer,5),this}onDragStart(t,i,s){this.isDragging||(this.pointer=t)}onDrag(t,i,s){if(this.pointer===t){var g=this.parent;if(this.axisMode===0)g.x=i,g.y=s;else if(this.axisRotation===0)this.axisMode===1?g.x=i:this.axisMode===2&&(g.y=s);else{var E,n={x:i,y:s};E=_4(n.x,n.y,g.x,g.y),n=t5(n,g.x,g.y,-this.axisRotation,E),this.axisMode===1?n.y=g.y:this.axisMode===2&&(n.x=g.x),E=_4(n.x,n.y,g.x,g.y),n=t5(n,g.x,g.y,this.axisRotation,E),g.x=n.x,g.y=n.y}}}onDragEnd(t,i,s,g){this.pointer===t&&(this.pointer=void 0)}get isDragging(){return this.pointer!==void 0}}const Mbt={both:0,"h&v":0,"x&y":0,horizontal:1,h:1,x:1,vertical:2,v:2,y:2};var Rbt=function(){var e=this.sizerChildren[0],t=this.sizerChildren[1],i=this.sizerChildren[2],s=this.getSizerConfig(e).padding,g=this.getSizerConfig(t).padding,E=this.getSizerConfig(i).padding;if(this.orientation===0){var n=this.innerLeft+s.left,T=this.innerRight-E.right,r=Si(t),o=t.x+r*(0-t.originX),y=t.x+r*(1-t.originX),d=o-g.left-this.space.item-s.right,h=y+g.right+this.space.item+E.left,l=d-n,a=T-h,f=l+a;this.minFirstChildSize>0&&l<this.minFirstChildSize&&(l=this.minFirstChildSize,a=f-l),this.minSecondChildSize>0&&a<this.minSecondChildSize&&(a=this.minSecondChildSize,l=f-a),this.setSplitRatio(l/f)}else{var c=this.innerTop+s.top,u=this.innerBottom-E.bottom,v=Ei(t),p=t.y+v*(0-t.originY),m=t.y+v*(1-t.originY),x=p-g.top-this.space.item-s.bottom,C=m+g.bottom+this.space.item+E.top,P=x-c,w=u-C,M=P+w;this.minFirstChildSize>0&&P<this.minFirstChildSize&&(P=this.minFirstChildSize,w=M-P),this.minSecondChildSize>0&&w<this.minSecondChildSize&&(w=this.minSecondChildSize,P=M-w),this.setSplitRatio(P/M)}var R=this.minWidth,A=this.minHeight;this.setMinSize(this.width,this.height).layout().setMinSize(R,A)};const Pr=Phaser.Utils.Objects.GetValue,Abt=Phaser.Math.Clamp;class $8 extends ei{constructor(t,i){i.hasOwnProperty("orientation")||(i.orientation=i.hasOwnProperty("leftPanel")?0:1),super(t,i),this.type="rexSplit";var s=Pr(i,"background",void 0),g,E,n,T;this.orientation===0?(g="leftPanel",E="rightPanel",n="minLeftPanelWidth",T="minRightPanelWidth"):(g="topPanel",E="bottomPanel",n="minTopPanelHeight",T="minBottomPanelHeight");var r=Pr(i,g,void 0),o=Pr(i,"splitter",void 0),y=Pr(i,E,void 0);s&&this.addBackground(s);var d=Pr(i,"space",void 0);this.add(r,{proportion:1,expand:!0,padding:{left:Pr(d,`${g}Left`,0),right:Pr(d,`${g}Right`,0),top:Pr(d,`${g}Top`,0),bottom:Pr(d,`${g}Bottom`,0)}}),this.add(o,{proportion:0,expand:!0,padding:{left:Pr(d,"splitterLeft",0),right:Pr(d,"splitterRight",0),top:Pr(d,"splitterTop",0),bottom:Pr(d,"splitterBottom",0)}}),this.add(y,{proportion:1,expand:!0,padding:{left:Pr(d,`${E}Left`,0),right:Pr(d,`${E}Right`,0),top:Pr(d,`${E}Top`,0),bottom:Pr(d,`${E}Bottom`,0)}}),this.addChildrenMap("background",s),this.addChildrenMap(g,r),this.addChildrenMap("splitter",o),this.addChildrenMap(E,y),this.minFirstChildSize=Pr(i,n,0),this.minSecondChildSize=Pr(i,T,0),this.setSplitRatio(Pr(i,"splitRatio",.5)),this.splitterDragBehavior=new zR(o,{axis:this.orientation===0?1:2}),o.on("dragstart",function(){this.emit("splitter.dragstart",o,this.splitRatio)},this).on("dragend",function(){this.emit("splitter.dragend",o,this.splitRatio)},this).on("drag",function(){Rbt.call(this),this.emit("splitter.drag",o,this.splitRatio)},this).on("pointerover",function(){this.emit("splitter.over",o,this.splitRatio)},this).on("pointerout",function(){this.emit("splitter.out",o,this.splitRatio)},this)}get splitterEnable(){return this.splitterDragBehavior.enable}set splitterEnable(t){this.splitterDragBehavior.setEnable(t)}setSplitterEnable(t){return t===void 0&&(t=!0),this.splitterEnable=t,this}set minLeftPanelWidth(t){this.minFirstChildSize=t}get minLeftPanelWidth(){return this.minFirstChildSize}set minRightPanelWidth(t){this.minSecondChildSize=t}get minRightPanelWidth(){return this.minSecondChildSize}set minTopPanelHeight(t){this.minFirstChildSize=t}get minTopPanelHeight(){return this.minFirstChildSize}set minBottomPanelHeight(t){this.minSecondChildSize=t}get minBottomPanelHeight(){return this.minSecondChildSize}setMinLeftPanelWidth(t){return this.minLeftPanelWidth=t,this}setMinRightPanelWidth(t){return this.minRightPanelWidth=t,this}setMinTopPanelHeight(t){return this.minTopPanelHeight=t,this}setMinBottomPanelHeight(t){return this.minBottomPanelHeight=t,this}get splitRatio(){return this._splitRatio}set splitRatio(t){t=Abt(t,0,1),this._splitRatio!==t&&(this._splitRatio=t,this.getSizerConfig(this.sizerChildren[0]).proportion=t,this.getSizerConfig(this.sizerChildren[2]).proportion=1-t)}setSplitRatio(t){return this.splitRatio=t,this}}It.register("splitPanels",function(e){var t=new $8(this.scene,e);return this.scene.add.existing(t),t});Dt(window,"RexPlugins.UI.SplitPanels",$8);var Obt=function(){return function(e,t,i,s){t!=="panel"&&i.setChildVisible(e,!0)}},Lbt=function(){return function(e,t,i,s){t!=="panel"&&i.setChildVisible(e,!1)}};const Dbt={show:Obt,hide:Lbt};var Fbt=function(e,t){return t===void 0&&(t=1),function(i,s,g,E){s!=="panel"&&g.fadeChild(i,E?0:e,t)}},Ibt=function(e,t){return t===void 0&&(t=0),function(i,s,g,E){s!=="panel"&&g.fadeChild(i,E?0:e,t)}};const Bbt={show:Fbt,hide:Ibt};var e5=function(e,t){return function(i,s,g,E){s!=="panel"&&g.moveChild(i,E?0:e,t)}};const Gbt={show:e5,hide:e5};var i5=function(e,t){return function(i,s,g,E){s==="panel"&&g.moveChild(i,E?0:e,t)}};const kbt={show:i5,hide:i5},ZP={visible:Dbt,fade:Bbt,move:Gbt,"move-panel":kbt};var Nbt=function(e){var t,i;[t,...i]=typeof e=="string"?[e]:e;var s,g;return ZP.hasOwnProperty(t)?(s=ZP[t].show.apply(null,i),g=ZP[t].hide.apply(null,i)):(s=Vr,g=Vr),{show:s,hide:g}};const Ubt={showChild(e,t){var i=this.sizerChildren[e];return i&&(this.emit("showchild",i,e,this,t),this.resetChildState(i)),this},hideChild(e,t){var i=this.sizerChildren[e];return i&&(this.emit("hidechild",i,e,this,t),this.resetChildState(i)),this},swapChild(e,t){return this.currentChildKey===e||(this.currentChildKey==="panel"||e==="panel"?(this.previousChildKey=this.currentChildKey,this.currentChildKey=e,this.hideChild(this.previousChildKey,t),this.showChild(this.currentChildKey,t)):(this.swapChild("panel",t),this.swapChild(e,t))),this},showPanel(e){return this.swapChild("panel",e),this},showLeftSide(){return this.swapChild("leftSide"),this},showRightSide(){return this.swapChild("rightSide"),this},showTopSide(){return this.swapChild("topSide"),this},showBottomSide(){return this.swapChild("bottomSide"),this},hideLeftSide(){return this.currentChildKey=="leftSide"&&this.showPanel(),this},hideRightSide(){return this.currentChildKey=="rightSide"&&this.showPanel(),this},hideTopSide(){return this.currentChildKey=="topSide"&&this.showPanel(),this},hideBottomSide(){return this.currentChildKey=="bottomSide"&&this.showPanel(),this},toggleLeftSide(){var e=this.currentChildKey!=="panel"?"panel":"leftSide";return this.swapChild(e),this},toggleRightSide(){var e=this.currentChildKey!=="panel"?"panel":"rightSide";return this.swapChild(e),this},toggleTopSide(){var e=this.currentChildKey!=="panel"?"panel":"topSide";return this.swapChild(e),this},toggleBottomSide(){var e=this.currentChildKey!=="panel"?"panel":"bottomSide";return this.swapChild(e),this}},Vbt=Ns.prototype.setChildVisible,zbt={setChildVisible(e,t){var i;if(typeof e=="string"){var i=e;e=this.sizerChildren[i]}else i=yT(this.sizerChildren,e);return t===void 0&&(t=this.currentChildKey===i),Vbt.call(this,e,t),this}},Wbt={fadeChild(e,t,i){var s;return typeof e=="string"?(s=e,e=this.sizerChildren[s]):s=yT(this.sizerChildren,e),t===void 0&&(t=500),i===void 0&&(i=this.currentChildKey===s?1:0),e.fadeIn(t,{start:e.alpha,end:i}),this},fadeChildPromise(e,t,i){return typeof e=="string"&&(e=this.sizerChildren[key]),this.fadeChild(e,t,i),e._fade?pn(e._fade):Promise.resolve()}},Ybt={moveChild(e,t,i,s){var g;typeof e=="string"?(g=e,e=this.sizerChildren[g]):g=yT(this.sizerChildren,e),t===void 0&&(t=500);var E=this.currentChildKey===g;if(s===void 0)switch(g){case"leftSide":case"rightSide":s=Si(e);break;case"topSide":case"bottomSide":s=Ei(e);break;default:if(E)switch(this.previousChildKey){case"leftSide":case"rightSide":s=Si(this.sizerChildren[this.previousChildKey]);break;case"topSide":case"bottomSide":s=Ei(this.sizerChildren[this.previousChildKey]);break;default:s=0;break}else switch(this.currentChildKey){case"leftSide":case"rightSide":s=Si(this.sizerChildren[this.currentChildKey]);break;case"topSide":case"bottomSide":s=Ei(this.sizerChildren[this.currentChildKey]);break;default:s=0;break}break}var n,T,r,o;if(E)switch(g){case"panel":switch(this.previousChildKey){case"leftSide":n=!0;break;case"rightSide":T=!0;break;case"topSide":r=!0;break;case"bottomSide":o=!0;break}break;case"leftSide":T=!0;break;case"rightSide":n=!0;break;case"topSide":o=!0;break;case"bottomSide":r=!0;break}else switch(g){case"panel":switch(this.currentChildKey){case"leftSide":T=!0;break;case"rightSide":n=!0;break;case"topSide":o=!0;break;case"bottomSide":r=!0;break}break;case"leftSide":n=!0;break;case"rightSide":T=!0;break;case"topSide":r=!0;break;case"bottomSide":o=!0;break}return n?e.moveTo(t,`-=${s}`,void 0,i):T?e.moveTo(t,`+=${s}`,void 0,i):r?e.moveTo(t,void 0,`-=${s}`,i):o?e.moveTo(t,void 0,`+=${s}`,i):e.moveTo(0),this},moveChildPromise(e,t,i,s){return typeof e=="string"&&(e=this.sizerChildren[key]),this.moveChild(e,t,i,s),e._easeMove?pn(e._easeMove):Promise.resolve()}};var K8={};Object.assign(K8,zbt,Wbt,Ybt);const ss=Phaser.Utils.Objects.GetValue;class WR extends oa{constructor(t,i){super(t,i),this.type="rexSides",this.childrenMap=this.sizerChildren,this.previousChildKey=void 0,this.currentChildKey=void 0;var s=ss(i,"showChildCallback",void 0);if(s)if(ka(s)){var g=ss(i,"showChildCallbackScope",void 0);this.on("showchild",s,g);var E=ss(i,"hideChildCallback",void 0),n=ss(i,"hideChildCallbackScope",void 0);this.on("hidechild",E,n)}else{var T=Nbt(s);this.on("showchild",T.show),this.on("hidechild",T.hide)}var r=ss(i,"background",void 0),o=ss(i,"panel",void 0),y=ss(i,"leftSide",void 0),d=ss(i,"rightSide",void 0),h=ss(i,"topSide",void 0),l=ss(i,"bottomSide",void 0);if(r&&this.addBackground(r),o&&this.add(o,"panel","center",0,!0),y){var a=ss(i,"expand.left",!0);this.add(y,"leftSide","left-top",0,{height:a})}if(d){var a=ss(i,"expand.right",!0);this.add(d,"rightSide","right-top",0,{height:a})}if(h){var a=ss(i,"expand.top",!0);this.add(h,"topSide","left-top",0,{width:a})}if(l){var a=ss(i,"expand.bottom",!0);this.add(l,"bottomSide","left-bottom",0,{width:a})}}reset(){return this.previousChildKey=void 0,this.currentChildKey="panel",this.showChild("panel",!0),this.hideChild("leftSide",!0),this.hideChild("rightSide",!0),this.hideChild("topSide",!0),this.hideChild("bottomSide",!0),this}}Object.assign(WR.prototype,Ubt,K8);It.register("sides",function(e){var t=new WR(this.scene,e);return this.scene.add.existing(t),t});Dt(window,"RexPlugins.UI.Sides",WR);var Xbt=function(e){var t=!0;return e.hasOwnProperty("accept")||(t=!1,console.error(`[Tweaker] Can't register inputHandler '${e.name}', missing 'accept' callback.`)),e.hasOwnProperty("build")||(t=!1,console.error(`[Tweaker] Can't register inputHandler '${e.name}', missing 'build' callback.`)),t&&this.inputHandlers.unshift(e),this};const Hbt=Phaser.Utils.Array.GetFirst,$bt=Phaser.Utils.Array.Remove;var Kbt=function(e){var t=Hbt(this.inputHandlers,"name",e);return t&&$bt(this.inputHandlers,t),this};class Eg extends xl{constructor(t,i){i=MT(t,i),super(t,i),this.type="rexTweaker.Title"}setTitle(t){return t=t?rn(t):{},t.hasOwnProperty("text")||(t.hasOwnProperty("title")?t.text=t.title:t.text=""),this.resetDisplayContent(t),this}}class Jbt extends Eg{constructor(t,i){i===void 0&&(i={}),super(t,i),this.type="rexTweaker.FolderTitle";var s=new eg(t,i.expandedIcon);t.add.existing(s),this.addSpace().add(s,{proportion:0,expand:!1,padding:1,fitRatio:1}),this.addChildrenMap("expandedIcon",s)}setExpandedState(t){t===void 0&&(t=!0);var i=t?"down":"right",s=this.childrenMap.expandedIcon;return s.setDirection(i),this}}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var J8=function(e,t){var i=Ga(e);for(var s in t)i.hasOwnProperty(s)||(i[s]=t[s]);return i},bp=function(e,t,i){return zr(e,J8(t,i))};const Zbt={setBindingTarget(e){var t=this.childrenMap.child;return t.setBindingTarget(e),this}},jbt={getMaxInputRowTitleWidth(){var e=this.childrenMap.child,t=e.getMaxInputRowTitleWidth();return t+this.getInnerPadding("left")},setInputRowTitleWidth(e){e-=this.getInnerPadding("left");var t=this.childrenMap.child;return t.setInputRowTitleWidth(e),this}};class Z8 extends Sg{constructor(t,i){i===void 0&&(i={}),i.orientation=1,super(t,i),this.type="rexTweaker.Folder"}setTitle(t){var i=this.childrenMap.title;return i.setTitle(t),this}}Object.assign(Z8.prototype,Zbt,jbt);const Ld=Phaser.Utils.Objects.GetValue;var Qbt=function(e,t,i){var s=e.scene,g=Ld(i,"title")||{},E=new Jbt(s,g);s.add.existing(E),E.on("folder.expand",function(){E.setExpandedState(!0)}).on("folder.collapse",function(){E.setExpandedState(!1)});var n={root:Ld(i,"root"),styles:Ld(i,"tweaker"),space:Ld(i,"space")||{}},T=e.createTweaker(n),r=Ld(i,"background"),o=bp(s,t,r),y=new Z8(s,{title:E,child:T,background:o,transition:{duration:Ld(i,"transition.duration",200)}});return s.add.existing(y),y};const r5=Phaser.Utils.Objects.GetValue;var qbt=function(e){e===void 0&&(e={});var t=r5(this.styles,"folder")||{};t.tweaker=this.styles,t.root=this.root;var i=Qbt(this,e,t);delete t.tweaker,delete t.root,this.add(i,{expand:!0}),i.setTitle(e);var s=r5(e,"expanded",!0);s!==void 0&&i.setExpandedState(s);var g=i.childrenMap.child;return e.key&&this.root.addChildrenMap(e.key,g),g};const _bt={setBindingTarget(e){for(var t=this.childrenMap.pages.children,i=0,s=t.length;i<s;i++)t[i].setBindingTarget(e);return this}},tPt={getMaxInputRowTitleWidth(){for(var e=0,t=this.childrenMap.pages.children,i=0,s=t.length;i<s;i++)e=Math.max(e,t[i].getMaxInputRowTitleWidth());return e+this.getInnerPadding("left")},setInputRowTitleWidth(e){e-=this.getInnerPadding("left");for(var t=this.childrenMap.pages.children,i=0,s=t.length;i<s;i++)t[i].setInputRowTitleWidth(e);return this}};class j8 extends WT{constructor(t,i){super(t,i),this.type="rexTweaker.TabPages"}}Object.assign(j8.prototype,_bt,tPt);const Yy=Phaser.Utils.Objects.GetValue;var ePt=function(e,t,i){var s=e.scene,g=new j8(s,i);s.add.existing(g);for(var E=Yy(i,"tab"),n={root:Yy(i,"root"),styles:Yy(i,"tweaker")},T=Yy(t,"pages")||[],r=0,o=T.length;r<o;r++){var y=T[r];g.addPage({key:y.title,tab:en(s,E).setActiveState(!1).resetDisplayContent({text:y.title}),page:e.createTweaker(n)})}return g.on("tab.focus",function(d,h){d.setActiveState(!0)}).on("tab.blur",function(d,h){d.setActiveState(!1)}),g};const n5=Phaser.Utils.Objects.GetValue;var iPt=function(e){e===void 0&&(e={});var t=n5(this.styles,"tab")||{};t.tweaker=this.styles,t.root=this.root;var i=ePt(this,e,t);delete t.tweaker,delete t.root,this.add(i,{expand:!0});for(var s=n5(e,"pages")||[],g=[],E=0,n=0,T=s.length;n<T;n++){var r=i.getPage(n),o=s[n].show;o&&(E=n);var y=s[n].key;y&&this.root.addChildrenMap(y,r),g.push(r)}return i.swapPage(E,0),g};const rPt={setBindingTarget(e){for(var t=this.childrenMap.columns,i=0,s=t.length;i<s;i++)t[i].setBindingTarget(e);return this}},nPt={getMaxInputRowTitleWidth(){for(var e=0,t=this.childrenMap.columns,i=0,s=t.length;i<s;i++)e=Math.max(e,t[i].getMaxInputRowTitleWidth());return e+this.getInnerPadding("left")},setInputRowTitleWidth(e){e-=this.getInnerPadding("left");for(var t=this.childrenMap.columns,i=0,s=t.length;i<s;i++)t[i].setInputRowTitleWidth(e);return this}},Dd=Phaser.Utils.Objects.GetValue;class Q8 extends ei{constructor(t,i){i===void 0&&(i={}),i.orientation="y",super(t,i),this.type="rexTweaker.Columns";var s=Dd(i,"background",void 0),g=Dd(i,"title",void 0);s&&this.addBackground(s),g&&this.add(g,{expand:!0,space:{bottom:Dd(i,"space.title",0)}});var E=new ei(t,{orientation:"x",space:{item:Dd(i,"space.column",0)}});t.add.existing(E);for(var n=Dd(i,"columns",void 0),T,r,o=0,y=n.length;o<y;o++)T=n[o],r=T.child,E.add(T.child,{proportion:r.minWidth===0?1:0,expand:Dd(T,"expand",!0)});this.add(E,{expand:!0}),this.addChildrenMap("title",g),this.addChildrenMap("columnsSizer",E),this.addChildrenMap("columns",E.childrenMap.items)}setTitle(t){var i=this.childrenMap.title;return t.title||t.icon?i.show().setTitle(t):i.hide(),this}getColumns(){return this.childrenMap.columns}getColumn(t){return this.childrenMap.columns[t]}}Object.assign(Q8.prototype,rPt,nPt);const Ou=Phaser.Utils.Objects.GetValue;var sPt=function(e,t,i){var s=e.scene,g=Ou(i,"title")||{},E=new Eg(s,g);s.add.existing(E);var n={root:Ou(i,"root"),styles:Ou(i,"tweaker")},T=Ou(i,"background");T&&!Array.isArray(T)&&(T=[T]);var r=Ou(t,"columns",2);if(typeof r=="number"){var o=r;r=[];for(var y=0,d=o;y<d;y++)r.push({})}for(var y=0,d=r.length;y<d;y++){var h=r[y];T&&(n.background=T[y%T.length]),n.width=Ou(h,"width",0);var l=e.createTweaker(n);h.child=l}var a=new Q8(s,{title:E,columns:r,space:Ou(i,"space")});return s.add.existing(a),a};const s5=Phaser.Utils.Objects.GetValue;var aPt=function(e){e===void 0&&(e={}),typeof e=="number"&&(e={columns:e});var t=s5(this.styles,"columns")||{};t.tweaker=this.styles,t.root=this.root;var i=sPt(this,e,t);delete t.tweaker,delete t.root,this.add(i,{expand:!0}),i.setTitle(e);var s=s5(e,"columns",void 0);if(s&&Array.isArray(s))for(var g=0,E=s.length;g<E;g++){var n=s[g].key;n&&this.root.addChildrenMap(n,i.getColumn(g))}return i.getColumns()};const oPt={setBindingTarget(e){for(var t=this.childrenMap.child,i=0,s=t.length;i<s;i++)t[i].setBindingTarget(e);return this}},lPt={getMaxInputRowTitleWidth(){return 0},setInputRowTitleWidth(e){return this}},Xy=Phaser.Utils.Objects.GetValue;class q8 extends ei{constructor(t,i){i===void 0&&(i={}),i.orientation="y",super(t,i),this.type="rexTweaker.Wrap";var s=Xy(i,"background",void 0),g=Xy(i,"title",void 0);s&&this.addBackground(s),g&&this.add(g,{expand:!0,space:{bottom:Xy(i,"space.title",0)}});var E=Xy(i,"child",void 0);this.add(E,{expand:!0}),this.addChildrenMap("title",g),this.addChildrenMap("child",E)}setTitle(t){var i=this.childrenMap.title;return t.title||t.icon?i.show().setTitle(t):i.hide(),this}}Object.assign(q8.prototype,oPt,lPt);const yo=Phaser.Utils.Objects.GetValue;var hPt=function(e,t,i){var s=e.scene,g=yo(i,"title")||{},E=new Eg(s,g);s.add.existing(E);var n=yo(i,"itemWidth",0),T=yo(i,"itemHeight",0),r={root:yo(i,"root"),styles:yo(i,"tweaker"),space:yo(i,"space"),align:yo(i,"align",5),wrap:!0,itemWidth:yo(t,"itemWidth",n),itemHeight:yo(t,"itemHeight",T)};yo(i,"background");var o=e.createTweaker(r),y=new q8(s,{title:E,child:o});return s.add.existing(y),y};const uPt=Phaser.Utils.Objects.GetValue;var fPt=function(e){e===void 0&&(e={});var t=uPt(this.styles,"wrap")||{};t.tweaker=this.styles,t.root=this.root;var i=hPt(this,e,t);delete t.tweaker,delete t.root,this.add(i,{expand:!0}),i.setTitle(e);var s=i.childrenMap.child;return e.key&&this.root.addChildrenMap(e.key,s),s};const dPt={setBindingTarget(e){var t=this.childrenMap.panel;return t.setBindingTarget(e),this}},cPt={getMaxInputRowTitleWidth(){var e=this.childrenMap.panel,t=e.getMaxInputRowTitleWidth();return t+this.getInnerPadding("left")},setInputRowTitleWidth(e){e-=this.getInnerPadding("left");var t=this.childrenMap.panel;return t.setInputRowTitleWidth(e),this}};class _8 extends Tg{constructor(t,i){super(t,i),this.type="rexTweaker.Scrollable"}setTitle(t){var i=this.childrenMap.header;return t.title||t.icon?i.show().setTitle(t):i.hide(),this}}Object.assign(_8.prototype,dPt,cPt);const uh=Phaser.Utils.Objects.GetValue;var vPt=function(e,t,i){var s=e.scene,g=uh(i,"title")||{},E=new Eg(s,g);s.add.existing(E);var n={root:uh(i,"root"),styles:uh(i,"tweaker"),space:uh(i,"space")||{}},T=e.createTweaker(n),r=uh(i,"slider");if(r){r=rn(r);var o=r.track;o&&(r.track=bp(s,t,o));var y=r.thumb;y&&(r.thumb=bp(s,t,y))}var d=uh(i,"background"),h=bp(s,t,d),l=new _8(s,{scrollMode:0,header:E,panel:{child:T,mask:{padding:1}},slider:r,background:h,height:uh(t,"height",0),space:uh(i,"space",void 0)});return s.add.existing(l),l};const pPt=Phaser.Utils.Objects.GetValue;var gPt=function(e){e===void 0&&(e={});var t=pPt(this.styles,"scrollable")||{};t.tweaker=this.styles,t.root=this.root;var i=vPt(this,e,t);delete t.tweaker,delete t.root,this.add(i,{proportion:i.minWidth===0?1:0,expand:!0}),i.setTitle(e);var s=i.childrenMap.panel;return e.key&&this.root.addChildrenMap(e.key,s),s};const a5=Phaser.Utils.Objects.GetValue,mPt={setupBinding(){var e=this.childrenMap.inputField;return e.on("valuechange",function(t){this.autoUpdateEnable&&this.setTargetValue(t)},this),this},setAutoUpdateEnable(e){return e===void 0&&(e=!0),this.autoUpdateEnable=e,this},setBindingTarget(e,t){this.bindingTarget=e,t!==void 0&&this.setBindingTargetKey(t),this.syncTargetValue();var i=this.childrenMap.inputField;return i.onBindTarget&&i.onBindTarget(e,t),this},setBindingTargetKey(e){return this.bindTargetKey=e,this},setValueCallbacks(e){return this.onGetValue=a5(e,"onGetValue"),this.onSetValue=a5(e,"onSetValue"),this},getTargetValue(){if(this.bindingTarget){if(this.bindTargetKey!=null)return this.bindingTarget[this.bindTargetKey];if(this.onGetValue)return this.onGetValue(this.bindingTarget)}},setTargetValue(e){return this.bindingTarget?this.bindTargetKey!=null?(this.bindingTarget[this.bindTargetKey]=e,this):(this.onSetValue&&this.onSetValue(this.bindingTarget,e),this):this},syncTargetValue(){if(!this.bindingTarget)return this;var e=this.childrenMap.inputField;return e.syncValue&&e.syncValue(this.getTargetValue()),this}},yPt={startMonitorTarget(){return this.isMonitoring?this:(this.isMonitoring=!0,this.scene.events.on("postupdate",this.onMonitorTarget,this),this)},stopMonitorTarget(){return this.isMonitoring?(this.isMonitoring=!1,this.scene.events.off("postupdate",this.onMonitorTarget,this),this):this},onMonitorTarget(){if(this.bindingTarget){var e=this.getTargetValue(),t=this.childrenMap.inputField;t.value!==e&&t.syncValue(e)}}},xPt={getMinTitleWidth(){var e=this.childrenMap.title;if(!e||e.orientation!==0)return 0;var t=e.rexSizer.padding,i=this.getChildWidth(this.childrenMap.title)+(t.left+t.right)*e.scaleX;return i+this.getInnerPadding("left")},setMinTitleWidth(e){var t=this.childrenMap.title;if(!t||t.orientation!==0)return this;var i=t.rexSizer.padding;return e-=(i.left+i.right)*t.scaleX,t.minWidth=e,this}},jP=Phaser.Utils.Objects.GetValue;class YR extends ei{constructor(t,i){super(t,i),this.type="rexTweaker.InputRow",this.bindingTarget=void 0,this.bindTargetKey=void 0,this.autoUpdateEnable=!0;var s=i.inputTitle,g=i.inputField,E=i.background,o=jP(i,"proportion.title",0),n=jP(i,"space.title",0),T;this.orientation===0?T={right:n}:T={bottom:n},this.add(s,{proportion:o,expand:!0,padding:T});var r=g.defaultProportion;r===void 0&&(r=i.defaultExpandWidth?1:0);var o=jP(i,"proportion.inputField",r);this.add(g,{proportion:o,expand:!0}),E&&this.addBackground(E),this.addChildrenMap("title",s),this.addChildrenMap("inputField",g),this.addChildrenMap("background",E),this.setupBinding()}destroy(t){!this.scene||this.ignoreDestroy||(this.stopMonitorTarget(),super.destroy(t))}setTitle(t){var i=this.childrenMap.title;return i.setTitle(t),this}preLayout(){var t=this.childrenMap.title;t&&(t.minWidth=0),super.preLayout()}}Object.assign(YR.prototype,mPt,yPt,xPt);var t6=function(e,t,i){var s=new Eg(e,i);return e.add.existing(s),s},TPt=function(e){e===void 0&&(e=ei);class t extends e{get bindingTarget(){var s=this.getParentSizer();return s.bindingTarget}get bindingKey(){var s=this.getParentSizer();return s.bindTargetKey}get value(){return this._value}get root(){var s=this.getParentSizer(),g=s.getParentSizer();return g.root}onBindTarget(s,g){this.onBindTargetCallback&&this.onBindTargetCallback(this,s,g)}validate(s){return this.syncValueFlag||!this.validateCallback?!0:this.validateCallback(s,this._value,this.bindingTarget,this.bindingKey)}getFotmatText(s){return this.textFormatCallback?s=this.textFormatCallback(s):s=s.toString(),s}set value(s){if(this._value!==s&&(this.validate(s)||(s=this._value),this.filterValueCallback&&(s=this.filterValueCallback(this,s)),this.displayValueCallback&&this.displayValueCallback(this,s),this._value!==s)){var g=this._value;if(this._value=s,!this.syncValueFlag){var E=this.bindingTarget,n=this.bindingKey;this.emit("valuechange",s,g,E,n),this.root.emit("valuechange",s,g,E,n)}}}getValue(){return this.value}setValue(s){return this.value=s,this}syncValue(s){return this.syncValueFlag=!0,this.value=s,this.syncValueFlag=!1,this}setup(s,g){return g===void 0&&(g=!1),(g||s.hasOwnProperty("format"))&&this.setTextFormatCallback(s.format),(g||s.hasOwnProperty("onValidate"))&&this.setValidateCallback(s.onValidate),this.setupCallback&&this.setupCallback(this,s,g),this}setSetupCallback(s){return this.setupCallback=s,this}setFilterValueCallback(s){return this.filterValueCallback=s,this}setDisplayValueCallback(s){return this.displayValueCallback=s,this}setOnBindTargetCallback(s){return this.onBindTargetCallback=s,this}setTextFormatCallback(s){return this.textFormatCallback=s,this}setValidateCallback(s){return this.validateCallback=s,this}}return t},CPt=function(e,t,i){for(var s,g=this.inputHandlers,E=0,n=g.length;E<n;E++){var T=g[E];if(T.accept(t)){var r=TPt(T.baseClass);s=new r(e),e.add.existing(s),s.setSetupCallback(T.setup).setFilterValueCallback(T.filterValue).setDisplayValueCallback(T.displayValue).setOnBindTargetCallback(T.onBindTarget),T.build(s,i);break}}return s&&s.setup(t,!0),s};const o5=Phaser.Utils.Objects.GetValue;var SPt=function(e,t,i){var s=CPt.call(this,e,t,i);if(!s)return null;var g=o5(i,"title")||{},E=t6(e,t,g),n=o5(i,"background")||{},T=zr(e,n),r=new YR(e,{...i,...t,inputTitle:E,inputField:s,background:T});return e.add.existing(r),r.setTitle(t),r.setValueCallbacks(t),r},EPt=function(e,t,i){arguments.length===1?(i=e,e=i.bindingTarget,t=i.bindingKey):(i===void 0&&(i={}),i.bindingTarget=e,i.bindingKey=t),i.title||(i.title=t),i.bindingTarget&&i.bindingKey?i.value=i.bindingTarget[i.bindingKey]:i.value=void 0;var s=this.styles.inputRow||{};this.isWrapMode?s.defaultExpandWidth=!0:s.defaultExpandWidth=this.styles.orientation===1;var g=SPt.call(this,this.scene,i,s);if(!g)return console.error(`[Tweaker] Can't add Input
    title: ${i.title}
    view: ${i.view}
`),this;if(this.isWrapMode)g.setMinWidth(this.itemWidth),g.setMinHeight(this.itemHeight),this.add(g);else{var E;this.orientation===1?E=0:(E=this.itemWidth>0?0:1,g.minWidth===0&&g.setMinWidth(this.itemWidth)),g.minHeight===0&&g.setMinHeight(this.itemHeight),this.add(g,{proportion:E,expand:!0})}if(i.onValueChange){var n=g.childrenMap.inputField;n.on("valuechange",i.onValueChange)}return g.setAutoUpdateEnable(i.autoUpdate),g.setBindingTarget(e,t),i.monitor&&g.startMonitorTarget(),i.key&&this.root.addChildrenMap(i.key,g),this},bPt=function(e,t){var i=new Ku(e,t);return e.add.existing(i),i};const PPt=Phaser.Utils.Objects.GetValue;var wPt=function(e,t){var i=PPt(t,"wrap",!1),s=i?wh:_r,g=new s(e,t);return e.add.existing(g),g};const Hy=Phaser.Utils.Objects.GetValue;var MPt=function(e,t,i){for(var s=Hy(i,"title")||{},g=t6(e,t,s),E=t.buttons,n=Hy(i,"button")||{},T=[],r=0,o=E.length;r<o;r++){var y=en(e,n);T.push(y);var d=E[r];y.resetDisplayContent(d.label),y.callback=d.callback}var h=wPt(e,{buttons:T,expand:!0,wrap:Hy(t,"wrap",!1)});h.defaultProportion=1;var l=Hy(i,"background")||{},a=bPt(e,l),f=new YR(e,{...i,inputTitle:g,inputField:h,background:a});return e.add.existing(f),f.setTitle(t),h.on("button.click",function(c){c.callback(f.bindingTarget)}),f};const RPt=Phaser.Utils.Objects.GetValue;var APt=function(e){e===void 0&&(e={});var t=this.scene,i=e.bindingTarget;delete e.bindingTarget;var s=RPt(this.styles,"inputRow")||{},g=MPt(t,e,s);return this.add(g,{expand:!0}),i&&g.setBindingTarget(i),e.key&&this.root.addChildrenMap(e.key,g),this},OPt=function(e){return e===void 0&&(e={}),e.buttons=[{label:e.label,callback:e.callback}],delete e.label,delete e.callback,this.addButtons(e),this},LPt=function(e,t,i){return zr(e,J8(t,i))};const DPt=Phaser.Utils.Objects.GetValue;var FPt=function(e){e===void 0&&(e={});var t=this.scene,i=DPt(this.styles,"separator"),s=LPt(t,e,i);return this.add(s,{expand:!0}),this},IPt=function(e,t,i){return typeof t=="boolean"&&(i=t,t=void 0),i===void 0&&(i=!0),Tp(this,rn(e),t,i),this},Tp=function(e,t,i,s){if(t)for(var g=0,E=t.length;g<E;g++){var n=t[g];n.hasOwnProperty("$target")&&(i=n.$target,delete n.$target);var T=n.$type;switch(delete n.$type,T){case"folder":var r=e.addFolder(n);Tp(r,n.$properties,i,s);break;case"tab":for(var o=e.addTab(n),y=0,d=o.length;y<d;y++)Tp(o[y],n.pages[y].$properties,i,s);break;case"columns":for(var h=e.addColumns(n),y=0,d=h.length;y<d;y++)Tp(h[y],n.columns[y].$properties,i,s);break;case"scrollable":var l=e.addScrollable(n);Tp(l,n.$properties,i,s);break;case"separator":e.addSeparator();break;case"button":n.bindingTarget=i,e.addButton(n);break;case"buttons":n.bindingTarget=i,e.addButtons(n);break;default:var a=n.$key;if(delete n.$key,a.indexOf(".")===-1)n.bindingTarget=i,n.bindingKey=a;else{var f=a.split(".");n.bindingKey=f.pop();for(var c=i,u=0,v=f.length;u<v;u++)if(c=c[f[u]],!i){console.warn(`[Monitor] Key path '${a}' is invalid`);continue}n.bindingTarget=c}n.hasOwnProperty("monitor")||(n.monitor=s),e.addInput(n);break}}},BPt=function(e){for(var t=this.sizerChildren,i=0,s=t.length;i<s;i++){var g=t[i];g.setBindingTarget&&g.setBindingTarget(e)}return this},GPt=function(){for(var e=0,t=this.sizerChildren,i=0,s=t.length;i<s;i++){var g=t[i];g.rexSizer.hidden||(g.getMinTitleWidth?e=Math.max(e,g.getMinTitleWidth()):g.getMaxInputRowTitleWidth&&(e=Math.max(e,g.getMaxInputRowTitleWidth())))}return e+this.getInnerPadding("left")},kPt=function(e){this.isWrapMode||(e-=this.getInnerPadding("left"));for(var t=this.sizerChildren,i=0,s=t.length;i<s;i++){var g=t[i];g.rexSizer.hidden||(g.setMinTitleWidth?g.setMinTitleWidth(e):g.setInputRowTitleWidth&&g.setInputRowTitleWidth(e))}return this},NPt={registerInputHandler:Xbt,removeInputHandler:Kbt,addFolder:qbt,addTab:iPt,addColumns:aPt,addWrap:fPt,addScrollable:gPt,addInput:EPt,addButtons:APt,addButton:OPt,addSeparator:FPt,addRows:IPt,setBindingTarget:BPt,getMaxInputRowTitleWidth:GPt,setInputRowTitleWidth:kPt};const fh=Phaser.Utils.Objects.GetValue;var e6=function(e){var t=fh(e,"wrap",!1),i=t?Dh:ei;class s extends i{constructor(E,n){n===void 0&&(n={}),n.orientation===void 0&&(n.orientation=t?0:1),super(E,n),this.type="rexTweakerShell",this.isWrapMode=t,n.root?(this.root=n.root,this.inputHandlers=this.root.inputHandlers):(this.root=this,this.inputHandlers=[]),this.styles=fh(n,"styles")||{},this.styles.orientation=this.orientation;var T=fh(n,"itemWidth");T===void 0&&(T=fh(this.styles,"itemWidth",0)),this.itemWidth=T;var r=fh(n,"itemHeight");if(r===void 0&&(r=fh(this.styles,"itemHeight",0)),this.itemHeight=r,t||this.root===this&&this.orientation===1){var o=fh(n,"inputRow.alignTitle");if(o===void 0){var y=fh(this.styles,"inputRow.proportion.title");o=!y}else o&&Dt(this.styles,"inputRow.proportion.title",0);this.alignInputRowTitleStartFlag=o}else this.alignInputRowTitleStartFlag=!1;var d=bp(E,void 0,n.background);d&&this.addBackground(d)}preLayout(){super.preLayout(),this.alignInputRowTitleStartFlag&&this.setInputRowTitleWidth(this.getMaxInputRowTitleWidth())}createTweaker(E,n){n===void 0&&(n=!0);var T=e6(E),r=new T(this.scene,E);return n&&this.scene.add.existing(r),r}}return Object.assign(s.prototype,NPt),s},UPt=function(e,t){t===void 0&&(t=!0);var i=e.childrenMap.inputText;i.setReadOnly(t)};const VPt={name:"TextInput",accept(e){return e.hasOwnProperty("view")?e.view==="string":typeof e.value=="string"},build(e,t){var i=e.scene;e.type="rexTweaker.TextInput";var s=t.inputText,g=Mh(i,s);e.add(g,{proportion:1,expand:!0,key:"inputText"}),g.on("close",function(){e.setValue(g.value)})},setup(e,t,i){(i||t.hasOwnProperty("inputTextReadOnly"))&&UPt(e,!!t.inputTextReadOnly)},displayValue(e,t){var i=e.childrenMap.inputText;i.setText(e.getFotmatText(t))}};var zPt=function(e,t,i){i===void 0&&(i=!0),i?t=t?rn(t):{}:t||(t={});var s=new YT(e,t);return e.add.existing(s),s},WPt=function(e,t){t===void 0&&(t=!0);var i=e.childrenMap.inputText;i.setReadOnly(t)};const YPt={name:"TextAreaInput",accept(e){return e.hasOwnProperty("view")?e.view==="textarea":!1},build(e,t){var i=e.scene;this.type="rexTweaker.TextAreaInput";var s=t.inputTextArea;s===void 0&&(s={}),s.hasOwnProperty("text")||(s.text=t.inputText),s.hasOwnProperty("slider")||(s.slider=t.slider);var g=zPt(i,s);e.add(g,{proportion:1,expand:!0,key:"inputText"}),g.on("close",function(){e.setValue(g.value)})},setup(e,t,i){(i||t.hasOwnProperty("inputTextReadOnly"))&&WPt(e,!!t.inputTextReadOnly)},displayValue(e,t){var i=e.childrenMap.inputText;i.setText(e.getFotmatText(t))},onBindTarget(e){var t=e.childrenMap.inputText;t.scrollToTop()}};var XPt=function(e,t){t===void 0&&(t=!0);var i=e.childrenMap.inputText;i.setReadOnly(t)};const HPt={name:"NumberInput",accept(e){return e.hasOwnProperty("view")?e.view==="number":typeof e.value=="number"},build(e,t){var i=e.scene;e.type="rexTweaker.NumberInput";var s=t.inputNumber||t.inputText,g=Mh(i,s).setNumberInput();e.add(g,{proportion:1,expand:!0,key:"inputText"}),g.on("close",function(){e.setValue(g.value)})},setup(e,t,i){(i||t.hasOwnProperty("inputTextReadOnly"))&&XPt(e,!!t.inputTextReadOnly),e.isFloatType=!t.int},filterValue(e,t){return e.isFloatType?t:Math.floor(t)},displayValue(e,t){var i=e.childrenMap.inputText;i.setText(e.getFotmatText(t))}};var $Pt=function(e,t){var i=new sc(e,t);return e.add.existing(i),i};const QP=Phaser.Utils.Objects.GetValue,KPt=Phaser.Math.Linear,JPt=Phaser.Math.Snap.Floor;var ZPt=function(e,t,i,s){e.minValue=t,e.maxValue=i,e.step=s;var g=e.childrenMap.slider;g.setGap(s,t,i)},jPt=function(e,t){t===void 0&&(t=!0);var i=e.childrenMap.inputText;i.setReadOnly(t)};const QPt={name:"RangeInput",accept(e){return e.hasOwnProperty("view")?e.view==="range":typeof e.value=="number"&&e.hasOwnProperty("min")&&e.hasOwnProperty("max")},build(e,t){var i=e.scene;e.type="rexTweaker.RangeInput";var s=t.slider,g=e.orientation===0?"track.height":"track.width",E=QP(s,g),n=$Pt(i,s),y=t.defaultExpandWidth?2:0,d=QP(t,"proportion.range.slider",y),T=E===void 0;e.add(n,{proportion:d,expand:T,key:"slider"});var r=t.inputNumber||t.inputText,o=Mh(i,r).setNumberInput(),y=t.defaultExpandWidth?1:0,d=QP(t,"proportion.range.inputText",y);e.add(o,{proportion:d,expand:!0,key:"inputText"}),o.on("close",function(){e.setValue(o.value)}),n.on("valuechange",function(){var h=KPt(e.minValue,e.maxValue,n.value);e.step&&(h=JPt(h,e.step,e.minValue)),e.setValue(h)})},setup(e,t,i){(i||t.hasOwnProperty("max"))&&ZPt(e,t.min,t.max,t.step),(i||t.hasOwnProperty("inputTextReadOnly"))&&jPt(e,!!t.inputTextReadOnly)},displayValue(e,t){var i=e.childrenMap.slider;i.setValue(t,e.minValue,e.maxValue);var s=e.childrenMap.inputText;s.setText("").setText(e.getFotmatText(t))}};var i6=function(e,t){var i=new _r(e,t);return e.add.existing(i),i};const qPt=Phaser.Utils.Objects.GetValue;var _Pt=function(e,t){t===void 0&&(t=!0);var i=e.childrenMap.inputText;i.setReadOnly(t)};const twt={name:"RangeInput",accept(e){return e.hasOwnProperty("view")?e.view==="incdec":!1},build(e,t){var i=e.scene;e.type="rexTweaker.IncDecInput";var s=qPt(t,"incDec")||{},g={text:null,action:null},E=i6(i,{expand:!1}),n=t.defaultExpandWidth?1:0;e.add(E,{proportion:n,expand:!0});var T=t.inputNumber||t.inputText,r=Mh(i,T).setNumberInput();r.on("close",function(){e.setValue(r.value)});var o=Object.assign(rn(g),s.incButton||{}),y=en(i,o),d=Object.assign(rn(g),s.decButton||{}),h=en(i,d);E.addButton(y),E.addButton(h);var l=s.inputTextIndex||0;E.insert(l,r,{proportion:1,expand:!0}),e.step=1,e.minValue=void 0,e.maxValue=void 0,E.on("button.click",function(a,f,c,u){var v=e.value;f===0?v+=e.step:v-=e.step,e.maxValue!==void 0&&v>e.maxValue&&(v=e.maxValue),e.minValue!==void 0&&v<e.minValue&&(v=e.minValue),e.setValue(v)}),e.addChildrenMap("incButton",y),e.addChildrenMap("decButton",h),e.addChildrenMap("inputText",r)},setup(e,t,i){(i||t.hasOwnProperty("inputTextReadOnly"))&&_Pt(e,!!t.inputTextReadOnly),(i||t.hasOwnProperty("step"))&&(e.step=t.hasOwnProperty("step")?t.step:1),(i||t.hasOwnProperty("min"))&&(e.minValue=t.min),(i||t.hasOwnProperty("max"))&&(e.maxValue=t.max)},displayValue(e,t){var i=e.childrenMap.inputText;i.setText("").setText(e.getFotmatText(t))}};var ewt=function(e,t,i){i===void 0&&(i=!0),i?t=t?rn(t):{}:t||(t={});var s=new XT(e,t);return e.add.existing(s),s};const iwt={name:"ColorInput",accept(e){return e.hasOwnProperty("view")?e.view==="color":!1},build(e,t){var i=e.scene;e.type="rexTweaker.ColorInput";var s=t.colorInput;s===void 0&&(s={}),s.hasOwnProperty("inputText")||(s.inputText=t.inputText);var g=ewt(i,s);e.add(g,{proportion:1,expand:!0,key:"colorInput"}),g.on("valuechange",function(E){e.setValue(E)})},displayValue(e,t){var i=e.childrenMap.colorInput;i.setValue(t)}};var rwt=function(e,t){var i=new EM(e,t);return e.add.existing(i),i};const nwt={name:"CheckboxInput",accept(e){return e.hasOwnProperty("view")?e.view==="boolean":typeof e.value=="boolean"},build(e,t){var i=e.scene;e.type="rexTweaker.CheckboxInput";var s=t.checkbox,g=rwt(i,s),E=s.size;E!==void 0&&g.setSize(E,E);var n=E!==void 0?0:1;e.add(g,{proportion:0,expand:!1,fitRatio:n,key:"checkbox"}),g.on("valuechange",function(T){e.setValue(T)})},displayValue(e,t){var i=e.childrenMap.checkbox;i.setValue(t)}};var swt=function(e,t){var i=new bM(e,t);return e.add.existing(i),i};const awt={name:"ToggleSwitchInput",accept(e){return e.hasOwnProperty("view")?e.view==="toggleSwitch":!1},build(e,t){var i=e.scene;e.type="rexTweaker.ToggleSwitchInput";var s=t.toggleSwitch,g=swt(i,s),E=s.size;E!==void 0&&g.setSize(E,E);var n=E!==void 0?0:1;e.addSpace().add(g,{proportion:0,expand:!1,fitRatio:n,key:"toggleSwitch"}),g.on("valuechange",function(T){e.setValue(T)})},displayValue(e,t){var i=e.childrenMap.toggleSwitch;i.setValue(t)}};var owt=function(e,t){t=v8(e,t);var i=new Cg(e,t);return e.add.existing(i),i},r6=function(e,t){for(var i=0,s=e.length;i<s;i++){var g=e[i];if(g.value===t)return i}},lwt=function(e,t){var i=r6(e,t);if(i!=null)return e[i]},hwt=function(e,t){var i=e.childrenMap.list;i.setOptions(t)};const uwt={name:"ListInput",accept(e){return e.hasOwnProperty("view")?e.view==="list":e.hasOwnProperty("options")},build(e,t){var i=e.scene;e.type="rexTweaker.ListInput";var s=owt(i,t.list);e.add(s,{proportion:1,expand:!0,key:"list"}),s.on("button.click",function(g,E,n,T,r,o){e.setValue(n.value)})},setup(e,t,i){(i||t.hasOwnProperty("options"))&&hwt(e,t.options)},displayValue(e,t){var i=e.childrenMap.list,s=lwt(i.options,t);i.resetDisplayContent(s).setMinSize(i.width,i.height).layout().setMinSize(0,0)}};var fwt=function(e,t){for(var i=0,s=e.length;i<s;i++){var g=e[i];g&&g.setActiveState(i===t)}};const dwt=Phaser.Utils.Objects.GetValue;var cwt=function(e,t){var i=e.childrenMap.list;i.options=t;var s=e.scene,g=i.buttonConfig;i.clearButtons(!0);for(var E=0,n=t.length;E<n;E++){var T=t[E],r=en(s,g).setActiveState(!1).resetDisplayContent({text:T.text});i.addButton(r)}};const vwt={name:"ButtonsInput",accept(e){return e.hasOwnProperty("view")?e.view==="buttons":!1},build(e,t){var i=e.scene;e.type="rexTweaker.ButtonsInput";var s=t.button?rn(t.button):{},g=dwt(s,"expand",!0);g&&(s.align="center"),delete s.expand;var E=i6(i,{expand:g});E.buttonConfig=s,e.add(E,{proportion:1,expand:!0,key:"list"}),E.on("button.click",function(n,T,r,o){var y=E.options[T];y&&(e._selectedIndex=T,e.setValue(y.value),e._selectedIndex=void 0)})},setup(e,t,i){(i||t.hasOwnProperty("options"))&&cwt(e,t.options)},displayValue(e,t){var i=e.childrenMap.list,s=e._selectedIndex;s===void 0&&(s=r6(i.options,t)),fwt(i.childrenMap.buttons,s)}};var pwt=function(){this.registerInputHandler(VPt).registerInputHandler(YPt).registerInputHandler(HPt).registerInputHandler(QPt).registerInputHandler(twt).registerInputHandler(iwt).registerInputHandler(nwt).registerInputHandler(awt).registerInputHandler(uwt).registerInputHandler(vwt)};class n6 extends e6(){constructor(t,i){i===void 0&&(i={}),i.hasOwnProperty("style")&&(i.styles=i.style),i.styles===void 0&&(i.styles={}),i.background=i.styles.background||{},i.space=i.styles.space||{},super(t,i),this.type="rexTweaker",pwt.call(this)}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.inputHandlers=void 0)}}It.register("tweaker",function(e){var t=new n6(this.scene,e);return this.scene.add.existing(t),t});Dt(window,"RexPlugins.UI.Tweaker",n6);It.register("click",function(e,t){return new gl(e,t)});Dt(window,"RexPlugins.UI.Click",gl);It.register("clickOutside",function(e,t){return new eR(e,t)});Dt(window,"RexPlugins.UI.ClickOutside",eR);It.register("inTouching",function(e,t){return new Kd(e,t)});Dt(window,"RexPlugins.UI.InTouching",Kd);It.register("tap",function(e,t){return hs(e)||(t=e,e=this.scene),new vT(e,t)});Dt(window,"RexPlugins.UI.Tap",vT);It.register("press",function(e,t){return hs(e)||(t=e,e=this.scene),new pT(e,t)});Dt(window,"RexPlugins.UI.Press",pT);It.register("swipe",function(e,t){return hs(e)||(t=e,e=this.scene),new hg(e,t)});Dt(window,"RexPlugins.UI.Swipe",hg);It.register("pan",function(e,t){return hs(e)||(t=e,e=this.scene),new eN(e,t)});Dt(window,"RexPlugins.UI.Pan",eN);It.register("drag",function(e,t){return new zR(e,t)});Dt(window,"RexPlugins.UI.Drag",zR);It.register("pinch",function(e){return new iN(this.scene,e)});Dt(window,"RexPlugins.UI.Pinch",iN);It.register("rotate",function(e){return new rR(this.scene,e)});Dt(window,"RexPlugins.UI.Rotate",rR);const gwt=Phaser.Utils.Objects.IsPlainObject,l5=Phaser.Utils.Objects.GetValue;var h5=function(e,t,i){var s;if(e===void 0)e=i.texture.key,t=i.frame.name;else if(gwt(e)){var g=e;e=l5(g,"key",i.texture.key),t=l5(g,"frame",i.frame.name)}else typeof e=="string"||(s=e);return s===void 0&&(s=function(E){E.setTexture(e,t)}),s};const mp=Phaser.Utils.Objects.GetValue,mwt=Phaser.Utils.Objects.GetAdvancedValue,ywt=Phaser.Math.Linear;class s6 extends Zu{constructor(t,i){super(t,i),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return super.resetFromJSON(t),this.setDuration(mwt(t,"duration",500)),this.setEase(mp(t,"ease","Sine")),this.setOrientation(mp(t,"orientation",0)),this.setFrontFace(mp(t,"front",void 0)),this.setBackFace(mp(t,"back",void 0)),this.setFace(mp(t,"face",0)),this}setOrientation(t){return typeof t=="string"&&(t=xwt[t]),this.orientation=t,this}get face(){return this._face}set face(t){typeof t=="string"&&(t=Twt[t]),this._face=t,t===0&&this.frontFaceCallback?this.frontFaceCallback(this.parent):t===1&&this.backFaceCallback&&this.backFaceCallback(this.parent)}setFace(t){return this.face=t,this}toggleFace(){var t=this.face===0?1:0;return this.setFace(t),this}setFrontFace(t,i){return this.frontFaceCallback=h5(t,i,this.parent),this}setBackFace(t,i){return this.backFaceCallback=h5(t,i,this.parent),this}start(){if(this.timer.isRunning)return this;var t=this.parent;return this.orientation===0?this.scale0=t.scaleX:this.scale0=t.scaleY,this.timer.setDelay(this.delay).setDuration(this.duration/2).setRepeat(1),super.start(),this}flip(t){return this.isRunning?this:(t!==void 0&&this.setDuration(t),this.start(),this)}updateTarget(t,i){i.justRestart&&this.toggleFace();var s=i.t;i.isOddIteration&&(s=1-s),s=this.easeFn(s);var g=ywt(this.scale0,0,s);this.orientation===0?t.scaleX=g:t.scaleY=g}}const xwt={x:0,horizontal:0,y:1,vertical:1},Twt={front:0,back:1};It.register("flip",function(e,t){return new s6(e,t)});Dt(window,"RexPlugins.UI.Flip",s6);It.register("shake",function(e,t){return new ZM(e,t)});Dt(window,"RexPlugins.UI.Shake",ZM);It.register("touchEventStop",function(e,t){return new uT(e,t)});Dt(window,"RexPlugins.UI.TouchEventStop",uT);It.register("perspective",function(e,t){return new D8(e,t)});Dt(window,"RexPlugins.UI.Perspective",D8);const a6=Phaser.Math.RotateAround;var qP=function(e,t,i){var s=e.width/2,g=e.height/2;return Pn.x=t-s,Pn.y=i-g,a6(Pn,0,0,e.rotation),Pn.x*=e.scaleX,Pn.y*=e.scaleY,Pn.x+=e.x,Pn.y+=e.y,Pn},Cwt=function(e,t,i){var s=e.width/2,g=e.height/2;return Pn.x=t-e.x,Pn.y=i-e.y,Pn.x/=e.scaleX,Pn.y/=e.scaleY,a6(Pn,0,0,-e.rotation),Pn.x+=s,Pn.y+=g,Pn},Pn={x:0,y:0};class Swt{constructor(t,i){this.parent=t,this.vertex=i,this._localX=void 0,this._localY=void 0}destroy(){this.parent=void 0,this.vertex=void 0}updateVertexPosition(t,i){var s=this.parent,g=s.height,E=s.frame.cutWidth/g/2,n=s.frame.cutHeight/g/2,T=t/g-E,r=i/g-n,o=this.vertex;return o.x=T,o.y=-r,s.forceUpdate(),this}get localX(){return this._localX}set localX(t){this.setLocalXY(t,this._localY)}get localY(){return this._localY}set localY(t){this.setLocalXY(this._localX,t)}get localXOrigin(){return this._localXOrigin}get localYOrigin(){return this._localYOrigin}resetLocalXY(t,i){return this._localXOrigin=t,this._localYOrigin=i,this._localX=t,this._localY=i,this}setLocalXY(t,i,s){return this._localX===t&&this._localY===i?this:(this._localX=t,this._localY=i,s||this.updateVertexPosition(t,i),this)}setWorldXY(t,i){if(this._worldX===t&&this._worldY===i)return this;var s=Cwt(this.parent,t,i);return this.setLocalXY(s.x,s.y),this}setPosition(t,i){return this.setWorldXY(t,i),this}getWorldXY(){return qP(this.parent,this._localX,this._localY)}get x(){var t=qP(this.parent,this._localX,this._localY);return t.x}set x(t){this.setWorldXY(t,this.y)}get y(){var t=qP(this.parent,this._localX,this._localY);return t.y}set y(t){this.setWorldXY(this.x,t)}}const Ewt=Phaser.Geom.Mesh.Vertex,bwt=Phaser.Geom.Mesh.Face;var Pwt=function(e){for(var t=e.isNinePointMode,i=t?9:4,s=e.vertices,g=e.faces,E=e.controlPoints,n=0;n<i;n++){var T=new Ewt;s.push(T),E.push(new Swt(e,T))}var r;t?r=Rwt:e.fourPointsModeRTL?r=Mwt:r=wwt;for(var n=0,o=r.length;n<o;n+=3){var y=s[r[n+0]],d=s[r[n+1]],h=s[r[n+2]];g.push(new bwt(y,d,h))}t?(e.topLeft=E[0],e.topCenter=E[1],e.topRight=E[2],e.centerLeft=E[3],e.center=E[4],e.centerRight=E[5],e.bottomLeft=E[6],e.bottomCenter=E[7],e.bottomRight=E[8]):(e.topLeft=E[0],e.topRight=E[1],e.bottomLeft=E[2],e.bottomRight=E[3])};const wwt=[0,2,3,0,3,1],Mwt=[1,3,2,1,2,0],Rwt=[0,3,4,0,4,1,1,4,2,4,5,2,3,6,4,6,7,4,4,7,8,4,8,5];var Awt=function(e){var t,i=0,s=e.height,g=0,E=e.width;if(e.isNinePointMode){var n=(g+E)/2,T=(i+s)/2;t=[g,i,n,i,E,i,g,T,n,T,E,T,g,s,n,s,E,s]}else t=[g,i,E,i,g,s,E,s];return t};const Owt=Phaser.Utils.Objects.IsPlainObject,Fd=Phaser.Utils.Objects.GetValue;let Lwt=class extends b8{constructor(t,i,s,g,E,n){Owt(i)&&(n=i,i=Fd(n,"x",0),s=Fd(n,"y",0),g=Fd(n,"key",null),E=Fd(n,"frame",null)),super(t,i,s,g,E),this.type="rexQuadImage",this.isNinePointMode=Fd(n,"ninePointMode",!1),this.fourPointsModeRTL=Fd(n,"rtl",!1),this.controlPoints=[],Pwt(this),this.hideCCW=!1,this.syncSize()}destroy(t){if(!(!this.scene||this.ignoreDestroy)){super.destroy(t);for(var i=0,s=this.controlPoints.length;i<s;i++)this.controlPoints[i].destroy();this.controlPoints=void 0}}resetVerts(){this.dirtyCache[9]=-1;for(var t=Awt(this),i=this.width,s=this.height,g=this.frame.cutWidth/s/2,E=this.frame.cutHeight/s/2,n=this.frame.u0,T=this.frame.u1,r=this.frame.v0,o=this.frame.v1,y=T-n,d=o-r,h=this.controlPoints,l=0,a=t.length;l<a;l+=2){var f=t[l+0],c=t[l+1],u=l/2,v=f/s-g,p=c/s-E,m=n+y*(f/i),x=r+d*(c/s);this.vertices[u].set(v,-p,0).setUVs(m,x),h[u].resetLocalXY(f,c)}return this}syncSize(){return this.setSizeToFrame(),this.setOrtho(this.width/this.height,1),this.resetVerts(),this}};Phaser.Utils.Objects.IsPlainObject;Phaser.Utils.Objects.GetValue;var u5=function(e,t,i){t===void 0&&(t=0),i===void 0&&(i=0);for(var s=e.width,g=e.height,E=s*.5,n=g*.5,T=Math.tan(t)*n,r=Math.tan(i)*E,o=e.controlPoints,y=0,d=o.length;y<d;y++){var h=o[y],l=h.localXOrigin,a=h.localYOrigin;h.localX=l+(a>n?T:-T),h.localY=a+(l>E?r:-r)}};const Dwt=Phaser.Utils.Objects.IsPlainObject,$y=Phaser.Utils.Objects.GetValue,f5=Phaser.Math.DegToRad,d5=Phaser.Math.RadToDeg;class Fwt extends Lwt{constructor(t,i,s,g,E){if(Dwt(i)){var n=i;i=$y(n,"x",0),s=$y(n,"y",0),g=$y(n,"key",null),E=$y(n,"frame",null)}super(t,i,s,g,E),this.type="rexSkewmage",this._skewX=0,this._skewY=0}get skewX(){return this._skewX}set skewX(t){this._skewX=t,u5(this,this._skewX,this._skewY)}get skewXDeg(){return d5(this._skewX)}set skewXDeg(t){this.skewX=f5(t)}get skewY(){return this._skewY}set skewY(t){this._skewY=t,u5(this,this._skewX,this._skewY)}get skewYDeg(){return d5(this._skewY)}set skewYDeg(t){this.skewY=f5(t)}setSkewX(t){return this.skewX=t,this}setSkewY(t){return this.skewY=t,this}setSkew(t,i){return i===void 0&&(i=t),this.skewX=t,this.skewY=i,this}setSkewXDeg(t){return this.skewXDeg=t,this}setSkewYDeg(t){return this.skewYDeg=t,this}setSkewDeg(t,i){return i===void 0&&(i=t),this.skewXDeg=t,this.skewYDeg=i,this}}const Iwt=Phaser.Utils.Objects.IsPlainObject,Ky=Phaser.Utils.Objects.GetValue;class Bwt extends Fwt{constructor(t,i,s,g,E){if(Iwt(i)){var n=i;i=Ky(n,"x",0),s=Ky(n,"y",0),g=Ky(n,"width",32),E=Ky(n,"height",32)}var T=R8(t,g,E);super(t,i,s,T,null),this.type="rexSkewRenderTexture",this.rt=this.texture}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.rt.destroy(),this.rt=null)}}class o6 extends L8(Bwt){get skewState(){return this.isRunning}}It.register("skew",function(e,t){return new o6(e,t)});Dt(window,"RexPlugins.UI.Skew",o6);It.register("anchor",function(e,t){return new KM(e,t)});Dt(window,"RexPlugins.UI.Anchor",KM);It.register("textTyping",function(e,t){return new VT(e,t)});Dt(window,"RexPlugins.UI.TextTyping",VT);It.register("textPage",function(e,t){return new UT(e,t)});Dt(window,"RexPlugins.UI.TextPage",UT);var Gd=void 0,Gwt=function(e){e!==Gd&&(Gd!==void 0&&Gd.close(),Gd=e)},kwt=function(e){e===Gd&&(Gd=void 0)};const xo=Phaser.Utils.Objects.GetValue,Nwt=Phaser.Utils.Objects.Clone;var Uwt=function(e,t){t===void 0&&(t={}),t=Nwt(t);var i=e.scene,s=e.style,g=xo(t,"backgroundColor",s.backgroundColor);g===null&&(g="transparent"),t.text=xo(t,"text",e.text),t.fontFamily=xo(t,"fontFamily",s.fontFamily),t.fontSize=xo(t,"fontSize",s.fontSize),t.color=xo(t,"color",s.color),t.backgroundColor=g,t.direction=xo(t,"rtl",s.rtl)?"rtl":"ltr",t.align=xo(t,"align",Vwt(s)),t.direction==="rtl"&&vR(e)&&(t.align="right");var E=e.padding;E.left>0&&(t.paddingLeft=`${E.left}px`),E.right>0&&(t.paddingRight=`${E.right}px`),s.backgroundCornerRadius&&(t.borderRadius=xo(t,"borderRadius",`${s.backgroundCornerRadius}px`));var n=new ST(i,e.x,e.y,xo(t,"width",e.width),xo(t,"height",e.height),t);n.setScale(e.scaleX,e.scaleY).setOrigin(e.originX,e.originY).setScrollFactor(e.scrollFactorX,e.scrollFactorY);var T=e.parentContainer;return T?T.add(n):i.add.existing(n),n},Vwt=function(e){return e.hasOwnProperty("align")?e.align:e.hasOwnProperty("halign")?e.halign:"left"},zwt=function(e,t,i){return e.time.delayedCall(0,t,[],i)};const Lu=Phaser.Utils.Objects.GetValue,Wwt=Phaser.Utils.Objects.Merge;var Ywt=function(e,t){e===void 0&&(e={}),e=Wwt(e,this.openConfig),Gwt(this),ka(e)&&(t=e,e=void 0);var i=Lu(e,"inputType",void 0);i===void 0&&(i=Lu(e,"type","text")),t===void 0&&(t=Lu(e,"onClose",void 0));var s=Lu(e,"onCreate",void 0),g=Lu(e,"onOpen",void 0),E=Lu(e,"onTextChanged",void 0);return this.inputText=Uwt(this.parent,e),s&&s(this.parent,this.inputText),this.inputText.on("textchange",function(n){var T=n.text;E?E(this.parent,T):this.parent.text=T},this).setFocus(),this.parent.setVisible(!1),this.onClose=t,Lu(e,"enterClose",i!=="textarea")&&this.scene.input.keyboard.once("keydown-ENTER",this.close,this),this.delayCall=zwt(this.scene,function(){this.scene.input.once("pointerdown",this.close,this),g&&g(this.parent,this.inputText),this.emit("open",this.parent,this.inputText)},this),this},Xwt=function(){return kwt(this),this.parent.setVisible(!0),this.inputText&&(this.inputText.destroy(),this.inputText=void 0),this.delayCall&&(this.delayCall.remove(),this.delayCall=void 0),this.scene.input.keyboard.off("keydown-ENTER",this.close,this),this.scene.input.off("pointerdown",this.close,this),this.onClose&&this.onClose(this.parent),this.emit("close",this.parent),this},Hwt={open:Ywt,close:Xwt};const $wt=Phaser.Utils.Objects.GetValue;class HT extends ji{constructor(t,i){super(t),this.inputText=void 0,this.onClose=void 0,this.delayCall=void 0,this.setOpenConfig(i);var s=$wt(i,"clickEnable",!0);s&&t.on("pointerdown",function(){this.open()},this).setInteractive()}shutdown(t){this.isShutdown||(this.close(),super.shutdown(t))}setOpenConfig(t){return t===void 0&&(t={}),this.openConfig=t,this}get isOpened(){return this.inputText!==void 0}get text(){return this.isOpened?this.inputText.text:this.parent.text}}Object.assign(HT.prototype,Hwt);var Kwt=function(e,t,i){return e._edit||(e._edit=new HT(e,{clickEnable:!1})),e._edit.open(t,i),e._edit};It.register("textEdit",function(e,t){return new HT(e,t)});Dt(window,"RexPlugins.UI.TextEdit",HT);It.register("layerManager",function(e){return new Qx(this.scene,e)});Dt(window,"RexPlugins.UI.LayerManager",Qx);class l6 extends Phaser.Plugins.ScenePlugin{constructor(t,i){super(t,i),this.add=new It(t)}boot(){var t=this.scene.events;t.on("destroy",this.destroy,this)}destroy(){this.add.destroy(),super.destroy()}isInTouching(t,i,s,g){return t.visible?bo(t,i,s,g):!1}get viewport(){return tc(this.scene,this.scene.cameras.main,!0)}}var Jwt={getParentSizer:Bs,getTopmostSizer:Ik,removeFromParent:Du,hide:yh,show:mh,isShown:jM,confirmAction:t8,edit:Kwt,wrapExpandText:wx,fontSizeExpandText:Rx,fontSizeResize:Mx,setFontSizeToFitWidth:Mx,waitEvent:tT,waitComplete:pn,delayPromise:mN,setChildrenInteractive:gT,fadeIn:aT,fadeOutDestroy:oT,easeMoveTo:$k,easeMoveFrom:Kk,modal:_M,modalPromise:fct,modalClose:_k,requestDrag:H8,openFileChooser:xN};Object.assign(l6.prototype,Jwt);const Zwt={type:Phaser.AUTO,width:Wi.DISPLAY_WIDTH,height:Wi.DISPLAY_HEIGHT,parent:"game-container",backgroundColor:Wi.BACKGROUND_COLOR,scale:{mode:Phaser.Scale.FIT,autoCenter:Phaser.Scale.CENTER_BOTH},plugins:{scene:[{key:"rexUI",plugin:l6,mapping:"rexUI"}]},scene:[Uw,Xx,_w,q9]},jwt=e=>new Jd.Game({...Zwt,parent:e}),c5="game-container";function Qwt(){const e=Jy.useRef(null),t=Jy.useRef(null);return Jy.useLayoutEffect(()=>(t.current===null&&(t.current=jwt(c5)),()=>{t.current&&(t.current.destroy(!0),t.current=null)}),[]),Pp.jsxDEV("div",{ref:e,id:c5},void 0,!1,{fileName:"/home/acheprasov/Projects/work/OracleHut/app/src/game/PhaserGame.tsx",lineNumber:25,columnNumber:5},this)}function qwt(){return Pp.jsxDEV("div",{id:"app",children:Pp.jsxDEV(Qwt,{},void 0,!1,{fileName:"/home/acheprasov/Projects/work/OracleHut/app/src/App.tsx",lineNumber:7,columnNumber:7},this)},void 0,!1,{fileName:"/home/acheprasov/Projects/work/OracleHut/app/src/App.tsx",lineNumber:6,columnNumber:5},this)}k$.createRoot(document.getElementById("root")).render(Pp.jsxDEV(O$.StrictMode,{children:Pp.jsxDEV(qwt,{},void 0,!1,{fileName:"/home/acheprasov/Projects/work/OracleHut/app/src/main.tsx",lineNumber:8,columnNumber:5},void 0)},void 0,!1,{fileName:"/home/acheprasov/Projects/work/OracleHut/app/src/main.tsx",lineNumber:7,columnNumber:3},void 0));w$(()=>import("./eruda-HzwDzvt5.js"),[],import.meta.url).then(()=>{console.log("VITE_APP_UUID",Wi.APP_UUID)});export{Up as g};
