var GH=Object.defineProperty;var kH=(e,t,i)=>t in e?GH(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i;var Ut=(e,t,i)=>kH(e,typeof t!="symbol"?t+"":t,i);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const p of document.querySelectorAll('link[rel="modulepreload"]'))s(p);new MutationObserver(p=>{for(const E of p)if(E.type==="childList")for(const n of E.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&s(n)}).observe(document,{childList:!0,subtree:!0});function i(p){const E={};return p.integrity&&(E.integrity=p.integrity),p.referrerPolicy&&(E.referrerPolicy=p.referrerPolicy),p.crossOrigin==="use-credentials"?E.credentials="include":p.crossOrigin==="anonymous"?E.credentials="omit":E.credentials="same-origin",E}function s(p){if(p.ep)return;p.ep=!0;const E=i(p);fetch(p.href,E)}})();const NH="modulepreload",UH=function(e,t){return new URL(e,t).href},DD={},VH=function(t,i,s){let p=Promise.resolve();if(i&&i.length>0){const n=document.getElementsByTagName("link"),T=document.querySelector("meta[property=csp-nonce]"),r=(T==null?void 0:T.nonce)||(T==null?void 0:T.getAttribute("nonce"));p=Promise.allSettled(i.map(o=>{if(o=UH(o,s),o in DD)return;DD[o]=!0;const x=o.endsWith(".css"),d=x?'[rel="stylesheet"]':"";if(!!s)for(let a=n.length-1;a>=0;a--){const f=n[a];if(f.href===o&&(!x||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${d}`))return;const l=document.createElement("link");if(l.rel=x?"stylesheet":NH,x||(l.as="script"),l.crossOrigin="",l.href=o,r&&l.setAttribute("nonce",r),document.head.appendChild(l),x)return new Promise((a,f)=>{l.addEventListener("load",a),l.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${o}`)))})}))}function E(n){const T=new Event("vite:preloadError",{cancelable:!0});if(T.payload=n,window.dispatchEvent(T),!T.defaultPrevented)throw n}return p.then(n=>{for(const T of n||[])T.status==="rejected"&&E(T.reason);return t().catch(E)})};var P4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vx(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var w4={exports:{}},MP={},M4={exports:{}},jy={exports:{}};jy.exports;(function(e,t){/**
 * @license React
 * react.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error);var i="18.3.1",s=Symbol.for("react.element"),p=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),r=Symbol.for("react.provider"),o=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),l=Symbol.for("react.memo"),a=Symbol.for("react.lazy"),f=Symbol.for("react.offscreen"),c=Symbol.iterator,u="@@iterator";function v(it){if(it===null||typeof it!="object")return null;var ht=c&&it[c]||it[u];return typeof ht=="function"?ht:null}var g={current:null},m={transition:null},y={current:null,isBatchingLegacy:!1,didScheduleLegacyUpdate:!1},C={current:null},P={},w=null;function M(it){w=it}P.setExtraStackFrame=function(it){w=it},P.getCurrentStack=null,P.getStackAddendum=function(){var it="";w&&(it+=w);var ht=P.getCurrentStack;return ht&&(it+=ht()||""),it};var R=!1,A=!1,L=!1,F=!1,G=!1,I={ReactCurrentDispatcher:g,ReactCurrentBatchConfig:m,ReactCurrentOwner:C};I.ReactDebugCurrentFrame=P,I.ReactCurrentActQueue=y;function B(it){{for(var ht=arguments.length,Et=new Array(ht>1?ht-1:0),Rt=1;Rt<ht;Rt++)Et[Rt-1]=arguments[Rt];U("warn",it,Et)}}function k(it){{for(var ht=arguments.length,Et=new Array(ht>1?ht-1:0),Rt=1;Rt<ht;Rt++)Et[Rt-1]=arguments[Rt];U("error",it,Et)}}function U(it,ht,Et){{var Rt=I.ReactDebugCurrentFrame,Yt=Rt.getStackAddendum();Yt!==""&&(ht+="%s",Et=Et.concat([Yt]));var Oe=Et.map(function(ge){return String(ge)});Oe.unshift("Warning: "+ht),Function.prototype.apply.call(console[it],console,Oe)}}var H={};function X(it,ht){{var Et=it.constructor,Rt=Et&&(Et.displayName||Et.name)||"ReactClass",Yt=Rt+"."+ht;if(H[Yt])return;k("Can't call %s on a component that is not yet mounted. This is a no-op, but it might indicate a bug in your application. Instead, assign to `this.state` directly or define a `state = {};` class property with the desired state in the %s component.",ht,Rt),H[Yt]=!0}}var j={isMounted:function(it){return!1},enqueueForceUpdate:function(it,ht,Et){X(it,"forceUpdate")},enqueueReplaceState:function(it,ht,Et,Rt){X(it,"replaceState")},enqueueSetState:function(it,ht,Et,Rt){X(it,"setState")}},J=Object.assign,Y={};Object.freeze(Y);function $(it,ht,Et){this.props=it,this.context=ht,this.refs=Y,this.updater=Et||j}$.prototype.isReactComponent={},$.prototype.setState=function(it,ht){if(typeof it!="object"&&typeof it!="function"&&it!=null)throw new Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,it,ht,"setState")},$.prototype.forceUpdate=function(it){this.updater.enqueueForceUpdate(this,it,"forceUpdate")};{var z={isMounted:["isMounted","Instead, make sure to clean up subscriptions and pending requests in componentWillUnmount to prevent memory leaks."],replaceState:["replaceState","Refactor your code to use setState instead (see https://github.com/facebook/react/issues/3236)."]},V=function(it,ht){Object.defineProperty($.prototype,it,{get:function(){B("%s(...) is deprecated in plain JavaScript React classes. %s",ht[0],ht[1])}})};for(var K in z)z.hasOwnProperty(K)&&V(K,z[K])}function Q(){}Q.prototype=$.prototype;function _(it,ht,Et){this.props=it,this.context=ht,this.refs=Y,this.updater=Et||j}var tt=_.prototype=new Q;tt.constructor=_,J(tt,$.prototype),tt.isPureReactComponent=!0;function rt(){var it={current:null};return Object.seal(it),it}var ot=Array.isArray;function ft(it){return ot(it)}function ct(it){{var ht=typeof Symbol=="function"&&Symbol.toStringTag,Et=ht&&it[Symbol.toStringTag]||it.constructor.name||"Object";return Et}}function gt(it){try{return xt(it),!1}catch{return!0}}function xt(it){return""+it}function wt(it){if(gt(it))return k("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",ct(it)),xt(it)}function Tt(it,ht,Et){var Rt=it.displayName;if(Rt)return Rt;var Yt=ht.displayName||ht.name||"";return Yt!==""?Et+"("+Yt+")":Et}function Ht(it){return it.displayName||"Context"}function Xt(it){if(it==null)return null;if(typeof it.tag=="number"&&k("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof it=="function")return it.displayName||it.name||null;if(typeof it=="string")return it;switch(it){case E:return"Fragment";case p:return"Portal";case T:return"Profiler";case n:return"StrictMode";case d:return"Suspense";case h:return"SuspenseList"}if(typeof it=="object")switch(it.$$typeof){case o:var ht=it;return Ht(ht)+".Consumer";case r:var Et=it;return Ht(Et._context)+".Provider";case x:return Tt(it,it.render,"ForwardRef");case l:var Rt=it.displayName||null;return Rt!==null?Rt:Xt(it.type)||"Memo";case a:{var Yt=it,Oe=Yt._payload,ge=Yt._init;try{return Xt(ge(Oe))}catch{return null}}}return null}var Kt=Object.prototype.hasOwnProperty,Pt={key:!0,ref:!0,__self:!0,__source:!0},Nt,Vt,ee;ee={};function Ee(it){if(Kt.call(it,"ref")){var ht=Object.getOwnPropertyDescriptor(it,"ref").get;if(ht&&ht.isReactWarning)return!1}return it.ref!==void 0}function we(it){if(Kt.call(it,"key")){var ht=Object.getOwnPropertyDescriptor(it,"key").get;if(ht&&ht.isReactWarning)return!1}return it.key!==void 0}function ve(it,ht){var Et=function(){Nt||(Nt=!0,k("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",ht))};Et.isReactWarning=!0,Object.defineProperty(it,"key",{get:Et,configurable:!0})}function Fe(it,ht){var Et=function(){Vt||(Vt=!0,k("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",ht))};Et.isReactWarning=!0,Object.defineProperty(it,"ref",{get:Et,configurable:!0})}function ai(it){if(typeof it.ref=="string"&&C.current&&it.__self&&C.current.stateNode!==it.__self){var ht=Xt(C.current.type);ee[ht]||(k('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',ht,it.ref),ee[ht]=!0)}}var Gt=function(it,ht,Et,Rt,Yt,Oe,ge){var Be={$$typeof:s,type:it,key:ht,ref:Et,props:ge,_owner:Oe};return Be._store={},Object.defineProperty(Be._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(Be,"_self",{configurable:!1,enumerable:!1,writable:!1,value:Rt}),Object.defineProperty(Be,"_source",{configurable:!1,enumerable:!1,writable:!1,value:Yt}),Object.freeze&&(Object.freeze(Be.props),Object.freeze(Be)),Be};function Wt(it,ht,Et){var Rt,Yt={},Oe=null,ge=null,Be=null,ii=null;if(ht!=null){Ee(ht)&&(ge=ht.ref,ai(ht)),we(ht)&&(wt(ht.key),Oe=""+ht.key),Be=ht.__self===void 0?null:ht.__self,ii=ht.__source===void 0?null:ht.__source;for(Rt in ht)Kt.call(ht,Rt)&&!Pt.hasOwnProperty(Rt)&&(Yt[Rt]=ht[Rt])}var Ei=arguments.length-2;if(Ei===1)Yt.children=Et;else if(Ei>1){for(var Ii=Array(Ei),Bi=0;Bi<Ei;Bi++)Ii[Bi]=arguments[Bi+2];Object.freeze&&Object.freeze(Ii),Yt.children=Ii}if(it&&it.defaultProps){var $i=it.defaultProps;for(Rt in $i)Yt[Rt]===void 0&&(Yt[Rt]=$i[Rt])}if(Oe||ge){var er=typeof it=="function"?it.displayName||it.name||"Unknown":it;Oe&&ve(Yt,er),ge&&Fe(Yt,er)}return Gt(it,Oe,ge,Be,ii,C.current,Yt)}function fe(it,ht){var Et=Gt(it.type,ht,it.ref,it._self,it._source,it._owner,it.props);return Et}function xe(it,ht,Et){if(it==null)throw new Error("React.cloneElement(...): The argument must be a React element, but you passed "+it+".");var Rt,Yt=J({},it.props),Oe=it.key,ge=it.ref,Be=it._self,ii=it._source,Ei=it._owner;if(ht!=null){Ee(ht)&&(ge=ht.ref,Ei=C.current),we(ht)&&(wt(ht.key),Oe=""+ht.key);var Ii;it.type&&it.type.defaultProps&&(Ii=it.type.defaultProps);for(Rt in ht)Kt.call(ht,Rt)&&!Pt.hasOwnProperty(Rt)&&(ht[Rt]===void 0&&Ii!==void 0?Yt[Rt]=Ii[Rt]:Yt[Rt]=ht[Rt])}var Bi=arguments.length-2;if(Bi===1)Yt.children=Et;else if(Bi>1){for(var $i=Array(Bi),er=0;er<Bi;er++)$i[er]=arguments[er+2];Yt.children=$i}return Gt(it.type,Oe,ge,Be,ii,Ei,Yt)}function Ie(it){return typeof it=="object"&&it!==null&&it.$$typeof===s}var Ri=".",Ci=":";function Xi(it){var ht=/[=:]/g,Et={"=":"=0",":":"=2"},Rt=it.replace(ht,function(Yt){return Et[Yt]});return"$"+Rt}var ti=!1,Hi=/\/+/g;function Oi(it){return it.replace(Hi,"$&/")}function Fi(it,ht){return typeof it=="object"&&it!==null&&it.key!=null?(wt(it.key),Xi(""+it.key)):ht.toString(36)}function ss(it,ht,Et,Rt,Yt){var Oe=typeof it;(Oe==="undefined"||Oe==="boolean")&&(it=null);var ge=!1;if(it===null)ge=!0;else switch(Oe){case"string":case"number":ge=!0;break;case"object":switch(it.$$typeof){case s:case p:ge=!0}}if(ge){var Be=it,ii=Yt(Be),Ei=Rt===""?Ri+Fi(Be,0):Rt;if(ft(ii)){var Ii="";Ei!=null&&(Ii=Oi(Ei)+"/"),ss(ii,ht,Ii,"",function(OT){return OT})}else ii!=null&&(Ie(ii)&&(ii.key&&(!Be||Be.key!==ii.key)&&wt(ii.key),ii=fe(ii,Et+(ii.key&&(!Be||Be.key!==ii.key)?Oi(""+ii.key)+"/":"")+Ei)),ht.push(ii));return 1}var Bi,$i,er=0,vi=Rt===""?Ri:Rt+Ci;if(ft(it))for(var Ml=0;Ml<it.length;Ml++)Bi=it[Ml],$i=vi+Fi(Bi,Ml),er+=ss(Bi,ht,Et,$i,Yt);else{var rf=v(it);if(typeof rf=="function"){var nc=it;rf===nc.entries&&(ti||B("Using Maps as children is not supported. Use an array of keyed ReactElements instead."),ti=!0);for(var AT=rf.call(nc),Io,sc=0;!(Io=AT.next()).done;)Bi=Io.value,$i=vi+Fi(Bi,sc++),er+=ss(Bi,ht,Et,$i,Yt)}else if(Oe==="object"){var ac=String(it);throw new Error("Objects are not valid as a React child (found: "+(ac==="[object Object]"?"object with keys {"+Object.keys(it).join(", ")+"}":ac)+"). If you meant to render a collection of children, use an array instead.")}}return er}function Dn(it,ht,Et){if(it==null)return it;var Rt=[],Yt=0;return ss(it,Rt,"","",function(Oe){return ht.call(Et,Oe,Yt++)}),Rt}function as(it){var ht=0;return Dn(it,function(){ht++}),ht}function Gs(it,ht,Et){Dn(it,function(){ht.apply(this,arguments)},Et)}function Dh(it){return Dn(it,function(ht){return ht})||[]}function $a(it){if(!Ie(it))throw new Error("React.Children.only expected to receive a single React element child.");return it}function aa(it){var ht={$$typeof:o,_currentValue:it,_currentValue2:it,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null};ht.Provider={$$typeof:r,_context:ht};var Et=!1,Rt=!1,Yt=!1;{var Oe={$$typeof:o,_context:ht};Object.defineProperties(Oe,{Provider:{get:function(){return Rt||(Rt=!0,k("Rendering <Context.Consumer.Provider> is not supported and will be removed in a future major release. Did you mean to render <Context.Provider> instead?")),ht.Provider},set:function(ge){ht.Provider=ge}},_currentValue:{get:function(){return ht._currentValue},set:function(ge){ht._currentValue=ge}},_currentValue2:{get:function(){return ht._currentValue2},set:function(ge){ht._currentValue2=ge}},_threadCount:{get:function(){return ht._threadCount},set:function(ge){ht._threadCount=ge}},Consumer:{get:function(){return Et||(Et=!0,k("Rendering <Context.Consumer.Consumer> is not supported and will be removed in a future major release. Did you mean to render <Context.Consumer> instead?")),ht.Consumer}},displayName:{get:function(){return ht.displayName},set:function(ge){Yt||(B("Setting `displayName` on Context.Consumer has no effect. You should set it directly on the context with Context.displayName = '%s'.",ge),Yt=!0)}}}),ht.Consumer=Oe}return ht._currentRenderer=null,ht._currentRenderer2=null,ht}var mn=-1,Ka=0,oa=1,Me=2;function os(it){if(it._status===mn){var ht=it._result,Et=ht();if(Et.then(function(Oe){if(it._status===Ka||it._status===mn){var ge=it;ge._status=oa,ge._result=Oe}},function(Oe){if(it._status===Ka||it._status===mn){var ge=it;ge._status=Me,ge._result=Oe}}),it._status===mn){var Rt=it;Rt._status=Ka,Rt._result=Et}}if(it._status===oa){var Yt=it._result;return Yt===void 0&&k(`lazy: Expected the result of a dynamic import() call. Instead received: %s

Your code should look like: 
  const MyComponent = lazy(() => import('./MyComponent'))

Did you accidentally put curly braces around the import?`,Yt),"default"in Yt||k(`lazy: Expected the result of a dynamic import() call. Instead received: %s

Your code should look like: 
  const MyComponent = lazy(() => import('./MyComponent'))`,Yt),Yt.default}else throw it._result}function ut(it){var ht={_status:mn,_result:it},Et={$$typeof:a,_payload:ht,_init:os};{var Rt,Yt;Object.defineProperties(Et,{defaultProps:{configurable:!0,get:function(){return Rt},set:function(Oe){k("React.lazy(...): It is not supported to assign `defaultProps` to a lazy component import. Either specify them where the component is defined, or create a wrapping component around it."),Rt=Oe,Object.defineProperty(Et,"defaultProps",{enumerable:!0})}},propTypes:{configurable:!0,get:function(){return Yt},set:function(Oe){k("React.lazy(...): It is not supported to assign `propTypes` to a lazy component import. Either specify them where the component is defined, or create a wrapping component around it."),Yt=Oe,Object.defineProperty(Et,"propTypes",{enumerable:!0})}}})}return Et}function Bt(it){it!=null&&it.$$typeof===l?k("forwardRef requires a render function but received a `memo` component. Instead of forwardRef(memo(...)), use memo(forwardRef(...))."):typeof it!="function"?k("forwardRef requires a render function but was given %s.",it===null?"null":typeof it):it.length!==0&&it.length!==2&&k("forwardRef render functions accept exactly two parameters: props and ref. %s",it.length===1?"Did you forget to use the ref parameter?":"Any additional parameter will be undefined."),it!=null&&(it.defaultProps!=null||it.propTypes!=null)&&k("forwardRef render functions do not support propTypes or defaultProps. Did you accidentally pass a React component?");var ht={$$typeof:x,render:it};{var Et;Object.defineProperty(ht,"displayName",{enumerable:!1,configurable:!0,get:function(){return Et},set:function(Rt){Et=Rt,!it.name&&!it.displayName&&(it.displayName=Rt)}})}return ht}var Zt;Zt=Symbol.for("react.module.reference");function de(it){return!!(typeof it=="string"||typeof it=="function"||it===E||it===T||G||it===n||it===d||it===h||F||it===f||R||A||L||typeof it=="object"&&it!==null&&(it.$$typeof===a||it.$$typeof===l||it.$$typeof===r||it.$$typeof===o||it.$$typeof===x||it.$$typeof===Zt||it.getModuleId!==void 0))}function _e(it,ht){de(it)||k("memo: The first argument must be a component. Instead received: %s",it===null?"null":typeof it);var Et={$$typeof:l,type:it,compare:ht===void 0?null:ht};{var Rt;Object.defineProperty(Et,"displayName",{enumerable:!1,configurable:!0,get:function(){return Rt},set:function(Yt){Rt=Yt,!it.name&&!it.displayName&&(it.displayName=Yt)}})}return Et}function Re(){var it=g.current;return it===null&&k(`Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:
1. You might have mismatching versions of React and the renderer (such as React DOM)
2. You might be breaking the Rules of Hooks
3. You might have more than one copy of React in the same app
See https://reactjs.org/link/invalid-hook-call for tips about how to debug and fix this problem.`),it}function Xe(it){var ht=Re();if(it._context!==void 0){var Et=it._context;Et.Consumer===it?k("Calling useContext(Context.Consumer) is not supported, may cause bugs, and will be removed in a future major release. Did you mean to call useContext(Context) instead?"):Et.Provider===it&&k("Calling useContext(Context.Provider) is not supported. Did you mean to call useContext(Context) instead?")}return ht.useContext(it)}function Ve(it){var ht=Re();return ht.useState(it)}function Ni(it,ht,Et){var Rt=Re();return Rt.useReducer(it,ht,Et)}function Qe(it){var ht=Re();return ht.useRef(it)}function Ui(it,ht){var Et=Re();return Et.useEffect(it,ht)}function wr(it,ht){var Et=Re();return Et.useInsertionEffect(it,ht)}function ls(it,ht){var Et=Re();return Et.useLayoutEffect(it,ht)}function hs(it,ht){var Et=Re();return Et.useCallback(it,ht)}function gr(it,ht){var Et=Re();return Et.useMemo(it,ht)}function Ao(it,ht,Et){var Rt=Re();return Rt.useImperativeHandle(it,ht,Et)}function El(it,ht){{var Et=Re();return Et.useDebugValue(it,ht)}}function Fh(){var it=Re();return it.useTransition()}function la(it){var ht=Re();return ht.useDeferredValue(it)}function He(){var it=Re();return it.useId()}function Oo(it,ht,Et){var Rt=Re();return Rt.useSyncExternalStore(it,ht,Et)}var zr=0,bl,us,Ih,Bh,Gh,ha,kh;function _u(){}_u.__reactDisabledLog=!0;function Lo(){{if(zr===0){bl=console.log,us=console.info,Ih=console.warn,Bh=console.error,Gh=console.group,ha=console.groupCollapsed,kh=console.groupEnd;var it={configurable:!0,enumerable:!0,value:_u,writable:!0};Object.defineProperties(console,{info:it,log:it,warn:it,error:it,group:it,groupCollapsed:it,groupEnd:it})}zr++}}function Nh(){{if(zr--,zr===0){var it={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:J({},it,{value:bl}),info:J({},it,{value:us}),warn:J({},it,{value:Ih}),error:J({},it,{value:Bh}),group:J({},it,{value:Gh}),groupCollapsed:J({},it,{value:ha}),groupEnd:J({},it,{value:kh})})}zr<0&&k("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var fs=I.ReactCurrentDispatcher,Hn;function Za(it,ht,Et){{if(Hn===void 0)try{throw Error()}catch(Yt){var Rt=Yt.stack.trim().match(/\n( *(at )?)/);Hn=Rt&&Rt[1]||""}return`
`+Hn+it}}var ks=!1,st;{var lt=typeof WeakMap=="function"?WeakMap:Map;st=new lt}function dt(it,ht){if(!it||ks)return"";{var Et=st.get(it);if(Et!==void 0)return Et}var Rt;ks=!0;var Yt=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var Oe;Oe=fs.current,fs.current=null,Lo();try{if(ht){var ge=function(){throw Error()};if(Object.defineProperty(ge.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ge,[])}catch(vi){Rt=vi}Reflect.construct(it,[],ge)}else{try{ge.call()}catch(vi){Rt=vi}it.call(ge.prototype)}}else{try{throw Error()}catch(vi){Rt=vi}it()}}catch(vi){if(vi&&Rt&&typeof vi.stack=="string"){for(var Be=vi.stack.split(`
`),ii=Rt.stack.split(`
`),Ei=Be.length-1,Ii=ii.length-1;Ei>=1&&Ii>=0&&Be[Ei]!==ii[Ii];)Ii--;for(;Ei>=1&&Ii>=0;Ei--,Ii--)if(Be[Ei]!==ii[Ii]){if(Ei!==1||Ii!==1)do if(Ei--,Ii--,Ii<0||Be[Ei]!==ii[Ii]){var Bi=`
`+Be[Ei].replace(" at new "," at ");return it.displayName&&Bi.includes("<anonymous>")&&(Bi=Bi.replace("<anonymous>",it.displayName)),typeof it=="function"&&st.set(it,Bi),Bi}while(Ei>=1&&Ii>=0);break}}}finally{ks=!1,fs.current=Oe,Nh(),Error.prepareStackTrace=Yt}var $i=it?it.displayName||it.name:"",er=$i?Za($i):"";return typeof it=="function"&&st.set(it,er),er}function St(it,ht,Et){return dt(it,!1)}function Mt(it){var ht=it.prototype;return!!(ht&&ht.isReactComponent)}function $t(it,ht,Et){if(it==null)return"";if(typeof it=="function")return dt(it,Mt(it));if(typeof it=="string")return Za(it);switch(it){case d:return Za("Suspense");case h:return Za("SuspenseList")}if(typeof it=="object")switch(it.$$typeof){case x:return St(it.render);case l:return $t(it.type,ht,Et);case a:{var Rt=it,Yt=Rt._payload,Oe=Rt._init;try{return $t(Oe(Yt),ht,Et)}catch{}}}return""}var he={},se=I.ReactDebugCurrentFrame;function Ze(it){if(it){var ht=it._owner,Et=$t(it.type,it._source,ht?ht.type:null);se.setExtraStackFrame(Et)}else se.setExtraStackFrame(null)}function pe(it,ht,Et,Rt,Yt){{var Oe=Function.call.bind(Kt);for(var ge in it)if(Oe(it,ge)){var Be=void 0;try{if(typeof it[ge]!="function"){var ii=Error((Rt||"React class")+": "+Et+" type `"+ge+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof it[ge]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw ii.name="Invariant Violation",ii}Be=it[ge](ht,ge,Rt,Et,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(Ei){Be=Ei}Be&&!(Be instanceof Error)&&(Ze(Yt),k("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",Rt||"React class",Et,ge,typeof Be),Ze(null)),Be instanceof Error&&!(Be.message in he)&&(he[Be.message]=!0,Ze(Yt),k("Failed %s type: %s",Et,Be.message),Ze(null))}}}function ie(it){if(it){var ht=it._owner,Et=$t(it.type,it._source,ht?ht.type:null);M(Et)}else M(null)}var hi;hi=!1;function ze(){if(C.current){var it=Xt(C.current.type);if(it)return`

Check the render method of \``+it+"`."}return""}function Ft(it){if(it!==void 0){var ht=it.fileName.replace(/^.*[\\\/]/,""),Et=it.lineNumber;return`

Check your code at `+ht+":"+Et+"."}return""}function oe(it){return it!=null?Ft(it.__source):""}var ue={};function Li(it){var ht=ze();if(!ht){var Et=typeof it=="string"?it:it.displayName||it.name;Et&&(ht=`

Check the top-level render call using <`+Et+">.")}return ht}function le(it,ht){if(!(!it._store||it._store.validated||it.key!=null)){it._store.validated=!0;var Et=Li(ht);if(!ue[Et]){ue[Et]=!0;var Rt="";it&&it._owner&&it._owner!==C.current&&(Rt=" It was passed a child from "+Xt(it._owner.type)+"."),ie(it),k('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',Et,Rt),ie(null)}}}function Vi(it,ht){if(typeof it=="object"){if(ft(it))for(var Et=0;Et<it.length;Et++){var Rt=it[Et];Ie(Rt)&&le(Rt,ht)}else if(Ie(it))it._store&&(it._store.validated=!0);else if(it){var Yt=v(it);if(typeof Yt=="function"&&Yt!==it.entries)for(var Oe=Yt.call(it),ge;!(ge=Oe.next()).done;)Ie(ge.value)&&le(ge.value,ht)}}}function be(it){{var ht=it.type;if(ht==null||typeof ht=="string")return;var Et;if(typeof ht=="function")Et=ht.propTypes;else if(typeof ht=="object"&&(ht.$$typeof===x||ht.$$typeof===l))Et=ht.propTypes;else return;if(Et){var Rt=Xt(ht);pe(Et,it.props,"prop",Rt,it)}else if(ht.PropTypes!==void 0&&!hi){hi=!0;var Yt=Xt(ht);k("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",Yt||"Unknown")}typeof ht.getDefaultProps=="function"&&!ht.getDefaultProps.isReactClassApproved&&k("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function $e(it){{for(var ht=Object.keys(it.props),Et=0;Et<ht.length;Et++){var Rt=ht[Et];if(Rt!=="children"&&Rt!=="key"){ie(it),k("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",Rt),ie(null);break}}it.ref!==null&&(ie(it),k("Invalid attribute `ref` supplied to `React.Fragment`."),ie(null))}}function ds(it,ht,Et){var Rt=de(it);if(!Rt){var Yt="";(it===void 0||typeof it=="object"&&it!==null&&Object.keys(it).length===0)&&(Yt+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var Oe=oe(ht);Oe?Yt+=Oe:Yt+=ze();var ge;it===null?ge="null":ft(it)?ge="array":it!==void 0&&it.$$typeof===s?(ge="<"+(Xt(it.type)||"Unknown")+" />",Yt=" Did you accidentally export a JSX literal instead of a component?"):ge=typeof it,k("React.createElement: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",ge,Yt)}var Be=Wt.apply(this,arguments);if(Be==null)return Be;if(Rt)for(var ii=2;ii<arguments.length;ii++)Vi(arguments[ii],it);return it===E?$e(Be):be(Be),Be}var yn=!1;function en(it){var ht=ds.bind(null,it);return ht.type=it,yn||(yn=!0,B("React.createFactory() is deprecated and will be removed in a future major release. Consider using JSX or use React.createElement() directly instead.")),Object.defineProperty(ht,"type",{enumerable:!1,get:function(){return B("Factory.type is deprecated. Access the class directly before passing it to createFactory."),Object.defineProperty(this,"type",{value:it}),it}}),ht}function Ns(it,ht,Et){for(var Rt=xe.apply(this,arguments),Yt=2;Yt<arguments.length;Yt++)Vi(arguments[Yt],Rt.type);return be(Rt),Rt}function Uh(it,ht){var Et=m.transition;m.transition={};var Rt=m.transition;m.transition._updatedFibers=new Set;try{it()}finally{if(m.transition=Et,Et===null&&Rt._updatedFibers){var Yt=Rt._updatedFibers.size;Yt>10&&B("Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table."),Rt._updatedFibers.clear()}}}var Pl=!1,Do=null;function Qt(it){if(Do===null)try{var ht=("require"+Math.random()).slice(0,7),Et=e&&e[ht];Do=Et.call(e,"timers").setImmediate}catch{Do=function(Yt){Pl===!1&&(Pl=!0,typeof MessageChannel>"u"&&k("This browser does not have a MessageChannel implementation, so enqueuing tasks via await act(async () => ...) will fail. Please file an issue at https://github.com/facebook/react/issues if you encounter this warning."));var Oe=new MessageChannel;Oe.port1.onmessage=Yt,Oe.port2.postMessage(void 0)}}return Do(it)}var Wr=0,ua=!1;function Vh(it){{var ht=Wr;Wr++,y.current===null&&(y.current=[]);var Et=y.isBatchingLegacy,Rt;try{if(y.isBatchingLegacy=!0,Rt=it(),!Et&&y.didScheduleLegacyUpdate){var Yt=y.current;Yt!==null&&(y.didScheduleLegacyUpdate=!1,ef(Yt))}}catch($i){throw Fo(ht),$i}finally{y.isBatchingLegacy=Et}if(Rt!==null&&typeof Rt=="object"&&typeof Rt.then=="function"){var Oe=Rt,ge=!1,Be={then:function($i,er){ge=!0,Oe.then(function(vi){Fo(ht),Wr===0?tf(vi,$i,er):$i(vi)},function(vi){Fo(ht),er(vi)})}};return!ua&&typeof Promise<"u"&&Promise.resolve().then(function(){}).then(function(){ge||(ua=!0,k("You called act(async () => ...) without await. This could lead to unexpected testing behaviour, interleaving multiple act calls and mixing their scopes. You should - await act(async () => ...);"))}),Be}else{var ii=Rt;if(Fo(ht),Wr===0){var Ei=y.current;Ei!==null&&(ef(Ei),y.current=null);var Ii={then:function($i,er){y.current===null?(y.current=[],tf(ii,$i,er)):$i(ii)}};return Ii}else{var Bi={then:function($i,er){$i(ii)}};return Bi}}}}function Fo(it){it!==Wr-1&&k("You seem to have overlapping act() calls, this is not supported. Be sure to await previous act() calls before making a new one. "),Wr=it}function tf(it,ht,Et){{var Rt=y.current;if(Rt!==null)try{ef(Rt),Qt(function(){Rt.length===0?(y.current=null,ht(it)):tf(it,ht,Et)})}catch(Yt){Et(Yt)}else ht(it)}}var wl=!1;function ef(it){if(!wl){wl=!0;var ht=0;try{for(;ht<it.length;ht++){var Et=it[ht];do Et=Et(!0);while(Et!==null)}it.length=0}catch(Rt){throw it=it.slice(ht+1),Rt}finally{wl=!1}}}var dg=ds,cg=Ns,vg=en,pg={map:Dn,forEach:Gs,count:as,toArray:Dh,only:$a};t.Children=pg,t.Component=$,t.Fragment=E,t.Profiler=T,t.PureComponent=_,t.StrictMode=n,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I,t.act=Vh,t.cloneElement=cg,t.createContext=aa,t.createElement=dg,t.createFactory=vg,t.createRef=rt,t.forwardRef=Bt,t.isValidElement=Ie,t.lazy=ut,t.memo=_e,t.startTransition=Uh,t.unstable_act=Vh,t.useCallback=hs,t.useContext=Xe,t.useDebugValue=El,t.useDeferredValue=la,t.useEffect=Ui,t.useId=He,t.useImperativeHandle=Ao,t.useInsertionEffect=wr,t.useLayoutEffect=ls,t.useMemo=gr,t.useReducer=Ni,t.useRef=Qe,t.useState=Ve,t.useSyncExternalStore=Oo,t.useTransition=Fh,t.version=i,typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error)})()})(jy,jy.exports);var zH=jy.exports;M4.exports=zH;var Id=M4.exports;const WH=vx(Id);/**
 * @license React
 * react-jsx-dev-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){var e=Id,t=Symbol.for("react.element"),i=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),p=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),n=Symbol.for("react.provider"),T=Symbol.for("react.context"),r=Symbol.for("react.forward_ref"),o=Symbol.for("react.suspense"),x=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),l=Symbol.for("react.offscreen"),a=Symbol.iterator,f="@@iterator";function c(ut){if(ut===null||typeof ut!="object")return null;var Bt=a&&ut[a]||ut[f];return typeof Bt=="function"?Bt:null}var u=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function v(ut){{for(var Bt=arguments.length,Zt=new Array(Bt>1?Bt-1:0),de=1;de<Bt;de++)Zt[de-1]=arguments[de];g("error",ut,Zt)}}function g(ut,Bt,Zt){{var de=u.ReactDebugCurrentFrame,_e=de.getStackAddendum();_e!==""&&(Bt+="%s",Zt=Zt.concat([_e]));var Re=Zt.map(function(Xe){return String(Xe)});Re.unshift("Warning: "+Bt),Function.prototype.apply.call(console[ut],console,Re)}}var m=!1,y=!1,C=!1,P=!1,w=!1,M;M=Symbol.for("react.module.reference");function R(ut){return!!(typeof ut=="string"||typeof ut=="function"||ut===s||ut===E||w||ut===p||ut===o||ut===x||P||ut===l||m||y||C||typeof ut=="object"&&ut!==null&&(ut.$$typeof===h||ut.$$typeof===d||ut.$$typeof===n||ut.$$typeof===T||ut.$$typeof===r||ut.$$typeof===M||ut.getModuleId!==void 0))}function A(ut,Bt,Zt){var de=ut.displayName;if(de)return de;var _e=Bt.displayName||Bt.name||"";return _e!==""?Zt+"("+_e+")":Zt}function L(ut){return ut.displayName||"Context"}function F(ut){if(ut==null)return null;if(typeof ut.tag=="number"&&v("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof ut=="function")return ut.displayName||ut.name||null;if(typeof ut=="string")return ut;switch(ut){case s:return"Fragment";case i:return"Portal";case E:return"Profiler";case p:return"StrictMode";case o:return"Suspense";case x:return"SuspenseList"}if(typeof ut=="object")switch(ut.$$typeof){case T:var Bt=ut;return L(Bt)+".Consumer";case n:var Zt=ut;return L(Zt._context)+".Provider";case r:return A(ut,ut.render,"ForwardRef");case d:var de=ut.displayName||null;return de!==null?de:F(ut.type)||"Memo";case h:{var _e=ut,Re=_e._payload,Xe=_e._init;try{return F(Xe(Re))}catch{return null}}}return null}var G=Object.assign,I=0,B,k,U,H,X,j,J;function Y(){}Y.__reactDisabledLog=!0;function $(){{if(I===0){B=console.log,k=console.info,U=console.warn,H=console.error,X=console.group,j=console.groupCollapsed,J=console.groupEnd;var ut={configurable:!0,enumerable:!0,value:Y,writable:!0};Object.defineProperties(console,{info:ut,log:ut,warn:ut,error:ut,group:ut,groupCollapsed:ut,groupEnd:ut})}I++}}function z(){{if(I--,I===0){var ut={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:G({},ut,{value:B}),info:G({},ut,{value:k}),warn:G({},ut,{value:U}),error:G({},ut,{value:H}),group:G({},ut,{value:X}),groupCollapsed:G({},ut,{value:j}),groupEnd:G({},ut,{value:J})})}I<0&&v("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var V=u.ReactCurrentDispatcher,K;function Q(ut,Bt,Zt){{if(K===void 0)try{throw Error()}catch(_e){var de=_e.stack.trim().match(/\n( *(at )?)/);K=de&&de[1]||""}return`
`+K+ut}}var _=!1,tt;{var rt=typeof WeakMap=="function"?WeakMap:Map;tt=new rt}function ot(ut,Bt){if(!ut||_)return"";{var Zt=tt.get(ut);if(Zt!==void 0)return Zt}var de;_=!0;var _e=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var Re;Re=V.current,V.current=null,$();try{if(Bt){var Xe=function(){throw Error()};if(Object.defineProperty(Xe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Xe,[])}catch(gr){de=gr}Reflect.construct(ut,[],Xe)}else{try{Xe.call()}catch(gr){de=gr}ut.call(Xe.prototype)}}else{try{throw Error()}catch(gr){de=gr}ut()}}catch(gr){if(gr&&de&&typeof gr.stack=="string"){for(var Ve=gr.stack.split(`
`),Ni=de.stack.split(`
`),Qe=Ve.length-1,Ui=Ni.length-1;Qe>=1&&Ui>=0&&Ve[Qe]!==Ni[Ui];)Ui--;for(;Qe>=1&&Ui>=0;Qe--,Ui--)if(Ve[Qe]!==Ni[Ui]){if(Qe!==1||Ui!==1)do if(Qe--,Ui--,Ui<0||Ve[Qe]!==Ni[Ui]){var wr=`
`+Ve[Qe].replace(" at new "," at ");return ut.displayName&&wr.includes("<anonymous>")&&(wr=wr.replace("<anonymous>",ut.displayName)),typeof ut=="function"&&tt.set(ut,wr),wr}while(Qe>=1&&Ui>=0);break}}}finally{_=!1,V.current=Re,z(),Error.prepareStackTrace=_e}var ls=ut?ut.displayName||ut.name:"",hs=ls?Q(ls):"";return typeof ut=="function"&&tt.set(ut,hs),hs}function ft(ut,Bt,Zt){return ot(ut,!1)}function ct(ut){var Bt=ut.prototype;return!!(Bt&&Bt.isReactComponent)}function gt(ut,Bt,Zt){if(ut==null)return"";if(typeof ut=="function")return ot(ut,ct(ut));if(typeof ut=="string")return Q(ut);switch(ut){case o:return Q("Suspense");case x:return Q("SuspenseList")}if(typeof ut=="object")switch(ut.$$typeof){case r:return ft(ut.render);case d:return gt(ut.type,Bt,Zt);case h:{var de=ut,_e=de._payload,Re=de._init;try{return gt(Re(_e),Bt,Zt)}catch{}}}return""}var xt=Object.prototype.hasOwnProperty,wt={},Tt=u.ReactDebugCurrentFrame;function Ht(ut){if(ut){var Bt=ut._owner,Zt=gt(ut.type,ut._source,Bt?Bt.type:null);Tt.setExtraStackFrame(Zt)}else Tt.setExtraStackFrame(null)}function Xt(ut,Bt,Zt,de,_e){{var Re=Function.call.bind(xt);for(var Xe in ut)if(Re(ut,Xe)){var Ve=void 0;try{if(typeof ut[Xe]!="function"){var Ni=Error((de||"React class")+": "+Zt+" type `"+Xe+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof ut[Xe]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw Ni.name="Invariant Violation",Ni}Ve=ut[Xe](Bt,Xe,de,Zt,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(Qe){Ve=Qe}Ve&&!(Ve instanceof Error)&&(Ht(_e),v("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",de||"React class",Zt,Xe,typeof Ve),Ht(null)),Ve instanceof Error&&!(Ve.message in wt)&&(wt[Ve.message]=!0,Ht(_e),v("Failed %s type: %s",Zt,Ve.message),Ht(null))}}}var Kt=Array.isArray;function Pt(ut){return Kt(ut)}function Nt(ut){{var Bt=typeof Symbol=="function"&&Symbol.toStringTag,Zt=Bt&&ut[Symbol.toStringTag]||ut.constructor.name||"Object";return Zt}}function Vt(ut){try{return ee(ut),!1}catch{return!0}}function ee(ut){return""+ut}function Ee(ut){if(Vt(ut))return v("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",Nt(ut)),ee(ut)}var we=u.ReactCurrentOwner,ve={key:!0,ref:!0,__self:!0,__source:!0},Fe,ai,Gt;Gt={};function Wt(ut){if(xt.call(ut,"ref")){var Bt=Object.getOwnPropertyDescriptor(ut,"ref").get;if(Bt&&Bt.isReactWarning)return!1}return ut.ref!==void 0}function fe(ut){if(xt.call(ut,"key")){var Bt=Object.getOwnPropertyDescriptor(ut,"key").get;if(Bt&&Bt.isReactWarning)return!1}return ut.key!==void 0}function xe(ut,Bt){if(typeof ut.ref=="string"&&we.current&&Bt&&we.current.stateNode!==Bt){var Zt=F(we.current.type);Gt[Zt]||(v('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',F(we.current.type),ut.ref),Gt[Zt]=!0)}}function Ie(ut,Bt){{var Zt=function(){Fe||(Fe=!0,v("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",Bt))};Zt.isReactWarning=!0,Object.defineProperty(ut,"key",{get:Zt,configurable:!0})}}function Ri(ut,Bt){{var Zt=function(){ai||(ai=!0,v("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",Bt))};Zt.isReactWarning=!0,Object.defineProperty(ut,"ref",{get:Zt,configurable:!0})}}var Ci=function(ut,Bt,Zt,de,_e,Re,Xe){var Ve={$$typeof:t,type:ut,key:Bt,ref:Zt,props:Xe,_owner:Re};return Ve._store={},Object.defineProperty(Ve._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(Ve,"_self",{configurable:!1,enumerable:!1,writable:!1,value:de}),Object.defineProperty(Ve,"_source",{configurable:!1,enumerable:!1,writable:!1,value:_e}),Object.freeze&&(Object.freeze(Ve.props),Object.freeze(Ve)),Ve};function Xi(ut,Bt,Zt,de,_e){{var Re,Xe={},Ve=null,Ni=null;Zt!==void 0&&(Ee(Zt),Ve=""+Zt),fe(Bt)&&(Ee(Bt.key),Ve=""+Bt.key),Wt(Bt)&&(Ni=Bt.ref,xe(Bt,_e));for(Re in Bt)xt.call(Bt,Re)&&!ve.hasOwnProperty(Re)&&(Xe[Re]=Bt[Re]);if(ut&&ut.defaultProps){var Qe=ut.defaultProps;for(Re in Qe)Xe[Re]===void 0&&(Xe[Re]=Qe[Re])}if(Ve||Ni){var Ui=typeof ut=="function"?ut.displayName||ut.name||"Unknown":ut;Ve&&Ie(Xe,Ui),Ni&&Ri(Xe,Ui)}return Ci(ut,Ve,Ni,_e,de,we.current,Xe)}}var ti=u.ReactCurrentOwner,Hi=u.ReactDebugCurrentFrame;function Oi(ut){if(ut){var Bt=ut._owner,Zt=gt(ut.type,ut._source,Bt?Bt.type:null);Hi.setExtraStackFrame(Zt)}else Hi.setExtraStackFrame(null)}var Fi;Fi=!1;function ss(ut){return typeof ut=="object"&&ut!==null&&ut.$$typeof===t}function Dn(){{if(ti.current){var ut=F(ti.current.type);if(ut)return`

Check the render method of \``+ut+"`."}return""}}function as(ut){{if(ut!==void 0){var Bt=ut.fileName.replace(/^.*[\\\/]/,""),Zt=ut.lineNumber;return`

Check your code at `+Bt+":"+Zt+"."}return""}}var Gs={};function Dh(ut){{var Bt=Dn();if(!Bt){var Zt=typeof ut=="string"?ut:ut.displayName||ut.name;Zt&&(Bt=`

Check the top-level render call using <`+Zt+">.")}return Bt}}function $a(ut,Bt){{if(!ut._store||ut._store.validated||ut.key!=null)return;ut._store.validated=!0;var Zt=Dh(Bt);if(Gs[Zt])return;Gs[Zt]=!0;var de="";ut&&ut._owner&&ut._owner!==ti.current&&(de=" It was passed a child from "+F(ut._owner.type)+"."),Oi(ut),v('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',Zt,de),Oi(null)}}function aa(ut,Bt){{if(typeof ut!="object")return;if(Pt(ut))for(var Zt=0;Zt<ut.length;Zt++){var de=ut[Zt];ss(de)&&$a(de,Bt)}else if(ss(ut))ut._store&&(ut._store.validated=!0);else if(ut){var _e=c(ut);if(typeof _e=="function"&&_e!==ut.entries)for(var Re=_e.call(ut),Xe;!(Xe=Re.next()).done;)ss(Xe.value)&&$a(Xe.value,Bt)}}}function mn(ut){{var Bt=ut.type;if(Bt==null||typeof Bt=="string")return;var Zt;if(typeof Bt=="function")Zt=Bt.propTypes;else if(typeof Bt=="object"&&(Bt.$$typeof===r||Bt.$$typeof===d))Zt=Bt.propTypes;else return;if(Zt){var de=F(Bt);Xt(Zt,ut.props,"prop",de,ut)}else if(Bt.PropTypes!==void 0&&!Fi){Fi=!0;var _e=F(Bt);v("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",_e||"Unknown")}typeof Bt.getDefaultProps=="function"&&!Bt.getDefaultProps.isReactClassApproved&&v("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function Ka(ut){{for(var Bt=Object.keys(ut.props),Zt=0;Zt<Bt.length;Zt++){var de=Bt[Zt];if(de!=="children"&&de!=="key"){Oi(ut),v("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",de),Oi(null);break}}ut.ref!==null&&(Oi(ut),v("Invalid attribute `ref` supplied to `React.Fragment`."),Oi(null))}}var oa={};function Me(ut,Bt,Zt,de,_e,Re){{var Xe=R(ut);if(!Xe){var Ve="";(ut===void 0||typeof ut=="object"&&ut!==null&&Object.keys(ut).length===0)&&(Ve+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var Ni=as(_e);Ni?Ve+=Ni:Ve+=Dn();var Qe;ut===null?Qe="null":Pt(ut)?Qe="array":ut!==void 0&&ut.$$typeof===t?(Qe="<"+(F(ut.type)||"Unknown")+" />",Ve=" Did you accidentally export a JSX literal instead of a component?"):Qe=typeof ut,v("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",Qe,Ve)}var Ui=Xi(ut,Bt,Zt,_e,Re);if(Ui==null)return Ui;if(Xe){var wr=Bt.children;if(wr!==void 0)if(de)if(Pt(wr)){for(var ls=0;ls<wr.length;ls++)aa(wr[ls],ut);Object.freeze&&Object.freeze(wr)}else v("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else aa(wr,ut)}if(xt.call(Bt,"key")){var hs=F(ut),gr=Object.keys(Bt).filter(function(Fh){return Fh!=="key"}),Ao=gr.length>0?"{key: someKey, "+gr.join(": ..., ")+": ...}":"{key: someKey}";if(!oa[hs+Ao]){var El=gr.length>0?"{"+gr.join(": ..., ")+": ...}":"{}";v(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,Ao,hs,El,hs),oa[hs+Ao]=!0}}return ut===s?Ka(Ui):mn(Ui),Ui}}var os=Me;MP.Fragment=s,MP.jsxDEV=os})();w4.exports=MP;var Bd=w4.exports,RP={},R4={exports:{}},Rs={},A4={exports:{}},O4={};(function(e){/**
 * @license React
 * scheduler.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error);var t=!1,i=!1,s=5;function p(Gt,Wt){var fe=Gt.length;Gt.push(Wt),T(Gt,Wt,fe)}function E(Gt){return Gt.length===0?null:Gt[0]}function n(Gt){if(Gt.length===0)return null;var Wt=Gt[0],fe=Gt.pop();return fe!==Wt&&(Gt[0]=fe,r(Gt,fe,0)),Wt}function T(Gt,Wt,fe){for(var xe=fe;xe>0;){var Ie=xe-1>>>1,Ri=Gt[Ie];if(o(Ri,Wt)>0)Gt[Ie]=Wt,Gt[xe]=Ri,xe=Ie;else return}}function r(Gt,Wt,fe){for(var xe=fe,Ie=Gt.length,Ri=Ie>>>1;xe<Ri;){var Ci=(xe+1)*2-1,Xi=Gt[Ci],ti=Ci+1,Hi=Gt[ti];if(o(Xi,Wt)<0)ti<Ie&&o(Hi,Xi)<0?(Gt[xe]=Hi,Gt[ti]=Wt,xe=ti):(Gt[xe]=Xi,Gt[Ci]=Wt,xe=Ci);else if(ti<Ie&&o(Hi,Wt)<0)Gt[xe]=Hi,Gt[ti]=Wt,xe=ti;else return}}function o(Gt,Wt){var fe=Gt.sortIndex-Wt.sortIndex;return fe!==0?fe:Gt.id-Wt.id}var x=1,d=2,h=3,l=4,a=5;function f(Gt,Wt){}var c=typeof performance=="object"&&typeof performance.now=="function";if(c){var u=performance;e.unstable_now=function(){return u.now()}}else{var v=Date,g=v.now();e.unstable_now=function(){return v.now()-g}}var m=1073741823,y=-1,C=250,P=5e3,w=1e4,M=m,R=[],A=[],L=1,F=null,G=h,I=!1,B=!1,k=!1,U=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(Gt){for(var Wt=E(A);Wt!==null;){if(Wt.callback===null)n(A);else if(Wt.startTime<=Gt)n(A),Wt.sortIndex=Wt.expirationTime,p(R,Wt);else return;Wt=E(A)}}function J(Gt){if(k=!1,j(Gt),!B)if(E(R)!==null)B=!0,Ee(Y);else{var Wt=E(A);Wt!==null&&we(J,Wt.startTime-Gt)}}function Y(Gt,Wt){B=!1,k&&(k=!1,ve()),I=!0;var fe=G;try{var xe;if(!i)return $(Gt,Wt)}finally{F=null,G=fe,I=!1}}function $(Gt,Wt){var fe=Wt;for(j(fe),F=E(R);F!==null&&!t&&!(F.expirationTime>fe&&(!Gt||Ht()));){var xe=F.callback;if(typeof xe=="function"){F.callback=null,G=F.priorityLevel;var Ie=F.expirationTime<=fe,Ri=xe(Ie);fe=e.unstable_now(),typeof Ri=="function"?F.callback=Ri:F===E(R)&&n(R),j(fe)}else n(R);F=E(R)}if(F!==null)return!0;var Ci=E(A);return Ci!==null&&we(J,Ci.startTime-fe),!1}function z(Gt,Wt){switch(Gt){case x:case d:case h:case l:case a:break;default:Gt=h}var fe=G;G=Gt;try{return Wt()}finally{G=fe}}function V(Gt){var Wt;switch(G){case x:case d:case h:Wt=h;break;default:Wt=G;break}var fe=G;G=Wt;try{return Gt()}finally{G=fe}}function K(Gt){var Wt=G;return function(){var fe=G;G=Wt;try{return Gt.apply(this,arguments)}finally{G=fe}}}function Q(Gt,Wt,fe){var xe=e.unstable_now(),Ie;if(typeof fe=="object"&&fe!==null){var Ri=fe.delay;typeof Ri=="number"&&Ri>0?Ie=xe+Ri:Ie=xe}else Ie=xe;var Ci;switch(Gt){case x:Ci=y;break;case d:Ci=C;break;case a:Ci=M;break;case l:Ci=w;break;case h:default:Ci=P;break}var Xi=Ie+Ci,ti={id:L++,callback:Wt,priorityLevel:Gt,startTime:Ie,expirationTime:Xi,sortIndex:-1};return Ie>xe?(ti.sortIndex=Ie,p(A,ti),E(R)===null&&ti===E(A)&&(k?ve():k=!0,we(J,Ie-xe))):(ti.sortIndex=Xi,p(R,ti),!B&&!I&&(B=!0,Ee(Y))),ti}function _(){}function tt(){!B&&!I&&(B=!0,Ee(Y))}function rt(){return E(R)}function ot(Gt){Gt.callback=null}function ft(){return G}var ct=!1,gt=null,xt=-1,wt=s,Tt=-1;function Ht(){var Gt=e.unstable_now()-Tt;return!(Gt<wt)}function Xt(){}function Kt(Gt){if(Gt<0||Gt>125){console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported");return}Gt>0?wt=Math.floor(1e3/Gt):wt=s}var Pt=function(){if(gt!==null){var Gt=e.unstable_now();Tt=Gt;var Wt=!0,fe=!0;try{fe=gt(Wt,Gt)}finally{fe?Nt():(ct=!1,gt=null)}}else ct=!1},Nt;if(typeof X=="function")Nt=function(){X(Pt)};else if(typeof MessageChannel<"u"){var Vt=new MessageChannel,ee=Vt.port2;Vt.port1.onmessage=Pt,Nt=function(){ee.postMessage(null)}}else Nt=function(){U(Pt,0)};function Ee(Gt){gt=Gt,ct||(ct=!0,Nt())}function we(Gt,Wt){xt=U(function(){Gt(e.unstable_now())},Wt)}function ve(){H(xt),xt=-1}var Fe=Xt,ai=null;e.unstable_IdlePriority=a,e.unstable_ImmediatePriority=x,e.unstable_LowPriority=l,e.unstable_NormalPriority=h,e.unstable_Profiling=ai,e.unstable_UserBlockingPriority=d,e.unstable_cancelCallback=ot,e.unstable_continueExecution=tt,e.unstable_forceFrameRate=Kt,e.unstable_getCurrentPriorityLevel=ft,e.unstable_getFirstCallbackNode=rt,e.unstable_next=V,e.unstable_pauseExecution=_,e.unstable_requestPaint=Fe,e.unstable_runWithPriority=z,e.unstable_scheduleCallback=Q,e.unstable_shouldYield=Ht,e.unstable_wrapCallback=K,typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error)})()})(O4);A4.exports=O4;var YH=A4.exports;/**
 * @license React
 * react-dom.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error);var e=Id,t=YH,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,s=!1;function p(S){s=S}function E(S){if(!s){for(var b=arguments.length,O=new Array(b>1?b-1:0),D=1;D<b;D++)O[D-1]=arguments[D];T("warn",S,O)}}function n(S){if(!s){for(var b=arguments.length,O=new Array(b>1?b-1:0),D=1;D<b;D++)O[D-1]=arguments[D];T("error",S,O)}}function T(S,b,O){{var D=i.ReactDebugCurrentFrame,N=D.getStackAddendum();N!==""&&(b+="%s",O=O.concat([N]));var W=O.map(function(Z){return String(Z)});W.unshift("Warning: "+b),Function.prototype.apply.call(console[S],console,W)}}var r=0,o=1,x=2,d=3,h=4,l=5,a=6,f=7,c=8,u=9,v=10,g=11,m=12,y=13,C=14,P=15,w=16,M=17,R=18,A=19,L=21,F=22,G=23,I=24,B=25,k=!0,U=!1,H=!1,X=!1,j=!1,J=!0,Y=!1,$=!0,z=!0,V=!0,K=!0,Q=new Set,_={},tt={};function rt(S,b){ot(S,b),ot(S+"Capture",b)}function ot(S,b){_[S]&&n("EventRegistry: More than one plugin attempted to publish the same registration name, `%s`.",S),_[S]=b;{var O=S.toLowerCase();tt[O]=S,S==="onDoubleClick"&&(tt.ondblclick=S)}for(var D=0;D<b.length;D++)Q.add(b[D])}var ft=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ct=Object.prototype.hasOwnProperty;function gt(S){{var b=typeof Symbol=="function"&&Symbol.toStringTag,O=b&&S[Symbol.toStringTag]||S.constructor.name||"Object";return O}}function xt(S){try{return wt(S),!1}catch{return!0}}function wt(S){return""+S}function Tt(S,b){if(xt(S))return n("The provided `%s` attribute is an unsupported type %s. This value must be coerced to a string before before using it here.",b,gt(S)),wt(S)}function Ht(S){if(xt(S))return n("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",gt(S)),wt(S)}function Xt(S,b){if(xt(S))return n("The provided `%s` prop is an unsupported type %s. This value must be coerced to a string before before using it here.",b,gt(S)),wt(S)}function Kt(S,b){if(xt(S))return n("The provided `%s` CSS property is an unsupported type %s. This value must be coerced to a string before before using it here.",b,gt(S)),wt(S)}function Pt(S){if(xt(S))return n("The provided HTML markup uses a value of unsupported type %s. This value must be coerced to a string before before using it here.",gt(S)),wt(S)}function Nt(S){if(xt(S))return n("Form field values (value, checked, defaultValue, or defaultChecked props) must be strings, not %s. This value must be coerced to a string before before using it here.",gt(S)),wt(S)}var Vt=0,ee=1,Ee=2,we=3,ve=4,Fe=5,ai=6,Gt=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",Wt=Gt+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",fe=new RegExp("^["+Gt+"]["+Wt+"]*$"),xe={},Ie={};function Ri(S){return ct.call(Ie,S)?!0:ct.call(xe,S)?!1:fe.test(S)?(Ie[S]=!0,!0):(xe[S]=!0,n("Invalid attribute name: `%s`",S),!1)}function Ci(S,b,O){return b!==null?b.type===Vt:O?!1:S.length>2&&(S[0]==="o"||S[0]==="O")&&(S[1]==="n"||S[1]==="N")}function Xi(S,b,O,D){if(O!==null&&O.type===Vt)return!1;switch(typeof b){case"function":case"symbol":return!0;case"boolean":{if(D)return!1;if(O!==null)return!O.acceptsBooleans;var N=S.toLowerCase().slice(0,5);return N!=="data-"&&N!=="aria-"}default:return!1}}function ti(S,b,O,D){if(b===null||typeof b>"u"||Xi(S,b,O,D))return!0;if(D)return!1;if(O!==null)switch(O.type){case we:return!b;case ve:return b===!1;case Fe:return isNaN(b);case ai:return isNaN(b)||b<1}return!1}function Hi(S){return Fi.hasOwnProperty(S)?Fi[S]:null}function Oi(S,b,O,D,N,W,Z){this.acceptsBooleans=b===Ee||b===we||b===ve,this.attributeName=D,this.attributeNamespace=N,this.mustUseProperty=O,this.propertyName=S,this.type=b,this.sanitizeURL=W,this.removeEmptyString=Z}var Fi={},ss=["children","dangerouslySetInnerHTML","defaultValue","defaultChecked","innerHTML","suppressContentEditableWarning","suppressHydrationWarning","style"];ss.forEach(function(S){Fi[S]=new Oi(S,Vt,!1,S,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(S){var b=S[0],O=S[1];Fi[b]=new Oi(b,ee,!1,O,null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(S){Fi[S]=new Oi(S,Ee,!1,S.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(S){Fi[S]=new Oi(S,Ee,!1,S,null,!1,!1)}),["allowFullScreen","async","autoFocus","autoPlay","controls","default","defer","disabled","disablePictureInPicture","disableRemotePlayback","formNoValidate","hidden","loop","noModule","noValidate","open","playsInline","readOnly","required","reversed","scoped","seamless","itemScope"].forEach(function(S){Fi[S]=new Oi(S,we,!1,S.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(S){Fi[S]=new Oi(S,we,!0,S,null,!1,!1)}),["capture","download"].forEach(function(S){Fi[S]=new Oi(S,ve,!1,S,null,!1,!1)}),["cols","rows","size","span"].forEach(function(S){Fi[S]=new Oi(S,ai,!1,S,null,!1,!1)}),["rowSpan","start"].forEach(function(S){Fi[S]=new Oi(S,Fe,!1,S.toLowerCase(),null,!1,!1)});var Dn=/[\-\:]([a-z])/g,as=function(S){return S[1].toUpperCase()};["accent-height","alignment-baseline","arabic-form","baseline-shift","cap-height","clip-path","clip-rule","color-interpolation","color-interpolation-filters","color-profile","color-rendering","dominant-baseline","enable-background","fill-opacity","fill-rule","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","glyph-name","glyph-orientation-horizontal","glyph-orientation-vertical","horiz-adv-x","horiz-origin-x","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","overline-position","overline-thickness","paint-order","panose-1","pointer-events","rendering-intent","shape-rendering","stop-color","stop-opacity","strikethrough-position","strikethrough-thickness","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-rendering","underline-position","underline-thickness","unicode-bidi","unicode-range","units-per-em","v-alphabetic","v-hanging","v-ideographic","v-mathematical","vector-effect","vert-adv-y","vert-origin-x","vert-origin-y","word-spacing","writing-mode","xmlns:xlink","x-height"].forEach(function(S){var b=S.replace(Dn,as);Fi[b]=new Oi(b,ee,!1,S,null,!1,!1)}),["xlink:actuate","xlink:arcrole","xlink:role","xlink:show","xlink:title","xlink:type"].forEach(function(S){var b=S.replace(Dn,as);Fi[b]=new Oi(b,ee,!1,S,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(S){var b=S.replace(Dn,as);Fi[b]=new Oi(b,ee,!1,S,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(S){Fi[S]=new Oi(S,ee,!1,S.toLowerCase(),null,!1,!1)});var Gs="xlinkHref";Fi[Gs]=new Oi("xlinkHref",ee,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(S){Fi[S]=new Oi(S,ee,!1,S.toLowerCase(),null,!0,!0)});var Dh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*\:/i,$a=!1;function aa(S){!$a&&Dh.test(S)&&($a=!0,n("A future version of React will block javascript: URLs as a security precaution. Use event handlers instead if you can. If you need to generate unsafe HTML try using dangerouslySetInnerHTML instead. React was passed %s.",JSON.stringify(S)))}function mn(S,b,O,D){if(D.mustUseProperty){var N=D.propertyName;return S[N]}else{Tt(O,b),D.sanitizeURL&&aa(""+O);var W=D.attributeName,Z=null;if(D.type===ve){if(S.hasAttribute(W)){var q=S.getAttribute(W);return q===""?!0:ti(b,O,D,!1)?q:q===""+O?O:q}}else if(S.hasAttribute(W)){if(ti(b,O,D,!1))return S.getAttribute(W);if(D.type===we)return O;Z=S.getAttribute(W)}return ti(b,O,D,!1)?Z===null?O:Z:Z===""+O?O:Z}}function Ka(S,b,O,D){{if(!Ri(b))return;if(!S.hasAttribute(b))return O===void 0?void 0:null;var N=S.getAttribute(b);return Tt(O,b),N===""+O?O:N}}function oa(S,b,O,D){var N=Hi(b);if(!Ci(b,N,D)){if(ti(b,O,N,D)&&(O=null),D||N===null){if(Ri(b)){var W=b;O===null?S.removeAttribute(W):(Tt(O,b),S.setAttribute(W,""+O))}return}var Z=N.mustUseProperty;if(Z){var q=N.propertyName;if(O===null){var et=N.type;S[q]=et===we?!1:""}else S[q]=O;return}var nt=N.attributeName,at=N.attributeNamespace;if(O===null)S.removeAttribute(nt);else{var pt=N.type,vt;pt===we||pt===ve&&O===!0?vt="":(Tt(O,nt),vt=""+O,N.sanitizeURL&&aa(vt.toString())),at?S.setAttributeNS(at,nt,vt):S.setAttribute(nt,vt)}}}var Me=Symbol.for("react.element"),os=Symbol.for("react.portal"),ut=Symbol.for("react.fragment"),Bt=Symbol.for("react.strict_mode"),Zt=Symbol.for("react.profiler"),de=Symbol.for("react.provider"),_e=Symbol.for("react.context"),Re=Symbol.for("react.forward_ref"),Xe=Symbol.for("react.suspense"),Ve=Symbol.for("react.suspense_list"),Ni=Symbol.for("react.memo"),Qe=Symbol.for("react.lazy"),Ui=Symbol.for("react.scope"),wr=Symbol.for("react.debug_trace_mode"),ls=Symbol.for("react.offscreen"),hs=Symbol.for("react.legacy_hidden"),gr=Symbol.for("react.cache"),Ao=Symbol.for("react.tracing_marker"),El=Symbol.iterator,Fh="@@iterator";function la(S){if(S===null||typeof S!="object")return null;var b=El&&S[El]||S[Fh];return typeof b=="function"?b:null}var He=Object.assign,Oo=0,zr,bl,us,Ih,Bh,Gh,ha;function kh(){}kh.__reactDisabledLog=!0;function _u(){{if(Oo===0){zr=console.log,bl=console.info,us=console.warn,Ih=console.error,Bh=console.group,Gh=console.groupCollapsed,ha=console.groupEnd;var S={configurable:!0,enumerable:!0,value:kh,writable:!0};Object.defineProperties(console,{info:S,log:S,warn:S,error:S,group:S,groupCollapsed:S,groupEnd:S})}Oo++}}function Lo(){{if(Oo--,Oo===0){var S={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:He({},S,{value:zr}),info:He({},S,{value:bl}),warn:He({},S,{value:us}),error:He({},S,{value:Ih}),group:He({},S,{value:Bh}),groupCollapsed:He({},S,{value:Gh}),groupEnd:He({},S,{value:ha})})}Oo<0&&n("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var Nh=i.ReactCurrentDispatcher,fs;function Hn(S,b,O){{if(fs===void 0)try{throw Error()}catch(N){var D=N.stack.trim().match(/\n( *(at )?)/);fs=D&&D[1]||""}return`
`+fs+S}}var Za=!1,ks;{var st=typeof WeakMap=="function"?WeakMap:Map;ks=new st}function lt(S,b){if(!S||Za)return"";{var O=ks.get(S);if(O!==void 0)return O}var D;Za=!0;var N=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var W;W=Nh.current,Nh.current=null,_u();try{if(b){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(bt){D=bt}Reflect.construct(S,[],Z)}else{try{Z.call()}catch(bt){D=bt}S.call(Z.prototype)}}else{try{throw Error()}catch(bt){D=bt}S()}}catch(bt){if(bt&&D&&typeof bt.stack=="string"){for(var q=bt.stack.split(`
`),et=D.stack.split(`
`),nt=q.length-1,at=et.length-1;nt>=1&&at>=0&&q[nt]!==et[at];)at--;for(;nt>=1&&at>=0;nt--,at--)if(q[nt]!==et[at]){if(nt!==1||at!==1)do if(nt--,at--,at<0||q[nt]!==et[at]){var pt=`
`+q[nt].replace(" at new "," at ");return S.displayName&&pt.includes("<anonymous>")&&(pt=pt.replace("<anonymous>",S.displayName)),typeof S=="function"&&ks.set(S,pt),pt}while(nt>=1&&at>=0);break}}}finally{Za=!1,Nh.current=W,Lo(),Error.prepareStackTrace=N}var vt=S?S.displayName||S.name:"",Ct=vt?Hn(vt):"";return typeof S=="function"&&ks.set(S,Ct),Ct}function dt(S,b,O){return lt(S,!0)}function St(S,b,O){return lt(S,!1)}function Mt(S){var b=S.prototype;return!!(b&&b.isReactComponent)}function $t(S,b,O){if(S==null)return"";if(typeof S=="function")return lt(S,Mt(S));if(typeof S=="string")return Hn(S);switch(S){case Xe:return Hn("Suspense");case Ve:return Hn("SuspenseList")}if(typeof S=="object")switch(S.$$typeof){case Re:return St(S.render);case Ni:return $t(S.type,b,O);case Qe:{var D=S,N=D._payload,W=D._init;try{return $t(W(N),b,O)}catch{}}}return""}function he(S){switch(S._debugOwner&&S._debugOwner.type,S._debugSource,S.tag){case l:return Hn(S.type);case w:return Hn("Lazy");case y:return Hn("Suspense");case A:return Hn("SuspenseList");case r:case x:case P:return St(S.type);case g:return St(S.type.render);case o:return dt(S.type);default:return""}}function se(S){try{var b="",O=S;do b+=he(O),O=O.return;while(O);return b}catch(D){return`
Error generating stack: `+D.message+`
`+D.stack}}function Ze(S,b,O){var D=S.displayName;if(D)return D;var N=b.displayName||b.name||"";return N!==""?O+"("+N+")":O}function pe(S){return S.displayName||"Context"}function ie(S){if(S==null)return null;if(typeof S.tag=="number"&&n("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof S=="function")return S.displayName||S.name||null;if(typeof S=="string")return S;switch(S){case ut:return"Fragment";case os:return"Portal";case Zt:return"Profiler";case Bt:return"StrictMode";case Xe:return"Suspense";case Ve:return"SuspenseList"}if(typeof S=="object")switch(S.$$typeof){case _e:var b=S;return pe(b)+".Consumer";case de:var O=S;return pe(O._context)+".Provider";case Re:return Ze(S,S.render,"ForwardRef");case Ni:var D=S.displayName||null;return D!==null?D:ie(S.type)||"Memo";case Qe:{var N=S,W=N._payload,Z=N._init;try{return ie(Z(W))}catch{return null}}}return null}function hi(S,b,O){var D=b.displayName||b.name||"";return S.displayName||(D!==""?O+"("+D+")":O)}function ze(S){return S.displayName||"Context"}function Ft(S){var b=S.tag,O=S.type;switch(b){case I:return"Cache";case u:var D=O;return ze(D)+".Consumer";case v:var N=O;return ze(N._context)+".Provider";case R:return"DehydratedFragment";case g:return hi(O,O.render,"ForwardRef");case f:return"Fragment";case l:return O;case h:return"Portal";case d:return"Root";case a:return"Text";case w:return ie(O);case c:return O===Bt?"StrictMode":"Mode";case F:return"Offscreen";case m:return"Profiler";case L:return"Scope";case y:return"Suspense";case A:return"SuspenseList";case B:return"TracingMarker";case o:case r:case M:case x:case C:case P:if(typeof O=="function")return O.displayName||O.name||null;if(typeof O=="string")return O;break}return null}var oe=i.ReactDebugCurrentFrame,ue=null,Li=!1;function le(){{if(ue===null)return null;var S=ue._debugOwner;if(S!==null&&typeof S<"u")return Ft(S)}return null}function Vi(){return ue===null?"":se(ue)}function be(){oe.getCurrentStack=null,ue=null,Li=!1}function $e(S){oe.getCurrentStack=S===null?null:Vi,ue=S,Li=!1}function ds(){return ue}function yn(S){Li=S}function en(S){return""+S}function Ns(S){switch(typeof S){case"boolean":case"number":case"string":case"undefined":return S;case"object":return Nt(S),S;default:return""}}var Uh={button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0};function Pl(S,b){Uh[b.type]||b.onChange||b.onInput||b.readOnly||b.disabled||b.value==null||n("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`."),b.onChange||b.readOnly||b.disabled||b.checked==null||n("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")}function Do(S){var b=S.type,O=S.nodeName;return O&&O.toLowerCase()==="input"&&(b==="checkbox"||b==="radio")}function Qt(S){return S._valueTracker}function Wr(S){S._valueTracker=null}function ua(S){var b="";return S&&(Do(S)?b=S.checked?"true":"false":b=S.value),b}function Vh(S){var b=Do(S)?"checked":"value",O=Object.getOwnPropertyDescriptor(S.constructor.prototype,b);Nt(S[b]);var D=""+S[b];if(!(S.hasOwnProperty(b)||typeof O>"u"||typeof O.get!="function"||typeof O.set!="function")){var N=O.get,W=O.set;Object.defineProperty(S,b,{configurable:!0,get:function(){return N.call(this)},set:function(q){Nt(q),D=""+q,W.call(this,q)}}),Object.defineProperty(S,b,{enumerable:O.enumerable});var Z={getValue:function(){return D},setValue:function(q){Nt(q),D=""+q},stopTracking:function(){Wr(S),delete S[b]}};return Z}}function Fo(S){Qt(S)||(S._valueTracker=Vh(S))}function tf(S){if(!S)return!1;var b=Qt(S);if(!b)return!0;var O=b.getValue(),D=ua(S);return D!==O?(b.setValue(D),!0):!1}function wl(S){if(S=S||(typeof document<"u"?document:void 0),typeof S>"u")return null;try{return S.activeElement||S.body}catch{return S.body}}var ef=!1,dg=!1,cg=!1,vg=!1;function pg(S){var b=S.type==="checkbox"||S.type==="radio";return b?S.checked!=null:S.value!=null}function it(S,b){var O=S,D=b.checked,N=He({},b,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:D??O._wrapperState.initialChecked});return N}function ht(S,b){Pl("input",b),b.checked!==void 0&&b.defaultChecked!==void 0&&!dg&&(n("%s contains an input of type %s with both checked and defaultChecked props. Input elements must be either controlled or uncontrolled (specify either the checked prop, or the defaultChecked prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://reactjs.org/link/controlled-components",le()||"A component",b.type),dg=!0),b.value!==void 0&&b.defaultValue!==void 0&&!ef&&(n("%s contains an input of type %s with both value and defaultValue props. Input elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://reactjs.org/link/controlled-components",le()||"A component",b.type),ef=!0);var O=S,D=b.defaultValue==null?"":b.defaultValue;O._wrapperState={initialChecked:b.checked!=null?b.checked:b.defaultChecked,initialValue:Ns(b.value!=null?b.value:D),controlled:pg(b)}}function Et(S,b){var O=S,D=b.checked;D!=null&&oa(O,"checked",D,!1)}function Rt(S,b){var O=S;{var D=pg(b);!O._wrapperState.controlled&&D&&!vg&&(n("A component is changing an uncontrolled input to be controlled. This is likely caused by the value changing from undefined to a defined value, which should not happen. Decide between using a controlled or uncontrolled input element for the lifetime of the component. More info: https://reactjs.org/link/controlled-components"),vg=!0),O._wrapperState.controlled&&!D&&!cg&&(n("A component is changing a controlled input to be uncontrolled. This is likely caused by the value changing from a defined to undefined, which should not happen. Decide between using a controlled or uncontrolled input element for the lifetime of the component. More info: https://reactjs.org/link/controlled-components"),cg=!0)}Et(S,b);var N=Ns(b.value),W=b.type;if(N!=null)W==="number"?(N===0&&O.value===""||O.value!=N)&&(O.value=en(N)):O.value!==en(N)&&(O.value=en(N));else if(W==="submit"||W==="reset"){O.removeAttribute("value");return}b.hasOwnProperty("value")?Be(O,b.type,N):b.hasOwnProperty("defaultValue")&&Be(O,b.type,Ns(b.defaultValue)),b.checked==null&&b.defaultChecked!=null&&(O.defaultChecked=!!b.defaultChecked)}function Yt(S,b,O){var D=S;if(b.hasOwnProperty("value")||b.hasOwnProperty("defaultValue")){var N=b.type,W=N==="submit"||N==="reset";if(W&&(b.value===void 0||b.value===null))return;var Z=en(D._wrapperState.initialValue);O||Z!==D.value&&(D.value=Z),D.defaultValue=Z}var q=D.name;q!==""&&(D.name=""),D.defaultChecked=!D.defaultChecked,D.defaultChecked=!!D._wrapperState.initialChecked,q!==""&&(D.name=q)}function Oe(S,b){var O=S;Rt(O,b),ge(O,b)}function ge(S,b){var O=b.name;if(b.type==="radio"&&O!=null){for(var D=S;D.parentNode;)D=D.parentNode;Tt(O,"name");for(var N=D.querySelectorAll("input[name="+JSON.stringify(""+O)+'][type="radio"]'),W=0;W<N.length;W++){var Z=N[W];if(!(Z===S||Z.form!==S.form)){var q=em(Z);if(!q)throw new Error("ReactDOMInput: Mixing React and non-React radio inputs with the same `name` is not supported.");tf(Z),Rt(Z,q)}}}}function Be(S,b,O){(b!=="number"||wl(S.ownerDocument)!==S)&&(O==null?S.defaultValue=en(S._wrapperState.initialValue):S.defaultValue!==en(O)&&(S.defaultValue=en(O)))}var ii=!1,Ei=!1,Ii=!1;function Bi(S,b){b.value==null&&(typeof b.children=="object"&&b.children!==null?e.Children.forEach(b.children,function(O){O!=null&&(typeof O=="string"||typeof O=="number"||Ei||(Ei=!0,n("Cannot infer the option value of complex children. Pass a `value` prop or use a plain string as children to <option>.")))}):b.dangerouslySetInnerHTML!=null&&(Ii||(Ii=!0,n("Pass a `value` prop if you set dangerouslyInnerHTML so React knows which value should be selected.")))),b.selected!=null&&!ii&&(n("Use the `defaultValue` or `value` props on <select> instead of setting `selected` on <option>."),ii=!0)}function $i(S,b){b.value!=null&&S.setAttribute("value",en(Ns(b.value)))}var er=Array.isArray;function vi(S){return er(S)}var Ml;Ml=!1;function rf(){var S=le();return S?`

Check the render method of \``+S+"`.":""}var nc=["value","defaultValue"];function AT(S){{Pl("select",S);for(var b=0;b<nc.length;b++){var O=nc[b];if(S[O]!=null){var D=vi(S[O]);S.multiple&&!D?n("The `%s` prop supplied to <select> must be an array if `multiple` is true.%s",O,rf()):!S.multiple&&D&&n("The `%s` prop supplied to <select> must be a scalar value if `multiple` is false.%s",O,rf())}}}}function Io(S,b,O,D){var N=S.options;if(b){for(var W=O,Z={},q=0;q<W.length;q++)Z["$"+W[q]]=!0;for(var et=0;et<N.length;et++){var nt=Z.hasOwnProperty("$"+N[et].value);N[et].selected!==nt&&(N[et].selected=nt),nt&&D&&(N[et].defaultSelected=!0)}}else{for(var at=en(Ns(O)),pt=null,vt=0;vt<N.length;vt++){if(N[vt].value===at){N[vt].selected=!0,D&&(N[vt].defaultSelected=!0);return}pt===null&&!N[vt].disabled&&(pt=N[vt])}pt!==null&&(pt.selected=!0)}}function sc(S,b){return He({},b,{value:void 0})}function ac(S,b){var O=S;AT(b),O._wrapperState={wasMultiple:!!b.multiple},b.value!==void 0&&b.defaultValue!==void 0&&!Ml&&(n("Select elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled select element and remove one of these props. More info: https://reactjs.org/link/controlled-components"),Ml=!0)}function OT(S,b){var O=S;O.multiple=!!b.multiple;var D=b.value;D!=null?Io(O,!!b.multiple,D,!1):b.defaultValue!=null&&Io(O,!!b.multiple,b.defaultValue,!0)}function TN(S,b){var O=S,D=O._wrapperState.wasMultiple;O._wrapperState.wasMultiple=!!b.multiple;var N=b.value;N!=null?Io(O,!!b.multiple,N,!1):D!==!!b.multiple&&(b.defaultValue!=null?Io(O,!!b.multiple,b.defaultValue,!0):Io(O,!!b.multiple,b.multiple?[]:"",!1))}function CN(S,b){var O=S,D=b.value;D!=null&&Io(O,!!b.multiple,D,!1)}var PR=!1;function LT(S,b){var O=S;if(b.dangerouslySetInnerHTML!=null)throw new Error("`dangerouslySetInnerHTML` does not make sense on <textarea>.");var D=He({},b,{value:void 0,defaultValue:void 0,children:en(O._wrapperState.initialValue)});return D}function wR(S,b){var O=S;Pl("textarea",b),b.value!==void 0&&b.defaultValue!==void 0&&!PR&&(n("%s contains a textarea with both value and defaultValue props. Textarea elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled textarea and remove one of these props. More info: https://reactjs.org/link/controlled-components",le()||"A component"),PR=!0);var D=b.value;if(D==null){var N=b.children,W=b.defaultValue;if(N!=null){n("Use the `defaultValue` or `value` props instead of setting children on <textarea>.");{if(W!=null)throw new Error("If you supply `defaultValue` on a <textarea>, do not pass children.");if(vi(N)){if(N.length>1)throw new Error("<textarea> can only have at most one child.");N=N[0]}W=N}}W==null&&(W=""),D=W}O._wrapperState={initialValue:Ns(D)}}function MR(S,b){var O=S,D=Ns(b.value),N=Ns(b.defaultValue);if(D!=null){var W=en(D);W!==O.value&&(O.value=W),b.defaultValue==null&&O.defaultValue!==W&&(O.defaultValue=W)}N!=null&&(O.defaultValue=en(N))}function RR(S,b){var O=S,D=O.textContent;D===O._wrapperState.initialValue&&D!==""&&D!==null&&(O.value=D)}function SN(S,b){MR(S,b)}var Bo="http://www.w3.org/1999/xhtml",EN="http://www.w3.org/1998/Math/MathML",DT="http://www.w3.org/2000/svg";function FT(S){switch(S){case"svg":return DT;case"math":return EN;default:return Bo}}function IT(S,b){return S==null||S===Bo?FT(b):S===DT&&b==="foreignObject"?Bo:S}var bN=function(S){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(b,O,D,N){MSApp.execUnsafeLocalFunction(function(){return S(b,O,D,N)})}:S},gg,AR=bN(function(S,b){if(S.namespaceURI===DT&&!("innerHTML"in S)){gg=gg||document.createElement("div"),gg.innerHTML="<svg>"+b.valueOf().toString()+"</svg>";for(var O=gg.firstChild;S.firstChild;)S.removeChild(S.firstChild);for(;O.firstChild;)S.appendChild(O.firstChild);return}S.innerHTML=b}),$n=1,Go=3,mr=8,ko=9,BT=11,mg=function(S,b){if(b){var O=S.firstChild;if(O&&O===S.lastChild&&O.nodeType===Go){O.nodeValue=b;return}}S.textContent=b},PN={animation:["animationDelay","animationDirection","animationDuration","animationFillMode","animationIterationCount","animationName","animationPlayState","animationTimingFunction"],background:["backgroundAttachment","backgroundClip","backgroundColor","backgroundImage","backgroundOrigin","backgroundPositionX","backgroundPositionY","backgroundRepeat","backgroundSize"],backgroundPosition:["backgroundPositionX","backgroundPositionY"],border:["borderBottomColor","borderBottomStyle","borderBottomWidth","borderImageOutset","borderImageRepeat","borderImageSlice","borderImageSource","borderImageWidth","borderLeftColor","borderLeftStyle","borderLeftWidth","borderRightColor","borderRightStyle","borderRightWidth","borderTopColor","borderTopStyle","borderTopWidth"],borderBlockEnd:["borderBlockEndColor","borderBlockEndStyle","borderBlockEndWidth"],borderBlockStart:["borderBlockStartColor","borderBlockStartStyle","borderBlockStartWidth"],borderBottom:["borderBottomColor","borderBottomStyle","borderBottomWidth"],borderColor:["borderBottomColor","borderLeftColor","borderRightColor","borderTopColor"],borderImage:["borderImageOutset","borderImageRepeat","borderImageSlice","borderImageSource","borderImageWidth"],borderInlineEnd:["borderInlineEndColor","borderInlineEndStyle","borderInlineEndWidth"],borderInlineStart:["borderInlineStartColor","borderInlineStartStyle","borderInlineStartWidth"],borderLeft:["borderLeftColor","borderLeftStyle","borderLeftWidth"],borderRadius:["borderBottomLeftRadius","borderBottomRightRadius","borderTopLeftRadius","borderTopRightRadius"],borderRight:["borderRightColor","borderRightStyle","borderRightWidth"],borderStyle:["borderBottomStyle","borderLeftStyle","borderRightStyle","borderTopStyle"],borderTop:["borderTopColor","borderTopStyle","borderTopWidth"],borderWidth:["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth"],columnRule:["columnRuleColor","columnRuleStyle","columnRuleWidth"],columns:["columnCount","columnWidth"],flex:["flexBasis","flexGrow","flexShrink"],flexFlow:["flexDirection","flexWrap"],font:["fontFamily","fontFeatureSettings","fontKerning","fontLanguageOverride","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontVariantAlternates","fontVariantCaps","fontVariantEastAsian","fontVariantLigatures","fontVariantNumeric","fontVariantPosition","fontWeight","lineHeight"],fontVariant:["fontVariantAlternates","fontVariantCaps","fontVariantEastAsian","fontVariantLigatures","fontVariantNumeric","fontVariantPosition"],gap:["columnGap","rowGap"],grid:["gridAutoColumns","gridAutoFlow","gridAutoRows","gridTemplateAreas","gridTemplateColumns","gridTemplateRows"],gridArea:["gridColumnEnd","gridColumnStart","gridRowEnd","gridRowStart"],gridColumn:["gridColumnEnd","gridColumnStart"],gridColumnGap:["columnGap"],gridGap:["columnGap","rowGap"],gridRow:["gridRowEnd","gridRowStart"],gridRowGap:["rowGap"],gridTemplate:["gridTemplateAreas","gridTemplateColumns","gridTemplateRows"],listStyle:["listStyleImage","listStylePosition","listStyleType"],margin:["marginBottom","marginLeft","marginRight","marginTop"],marker:["markerEnd","markerMid","markerStart"],mask:["maskClip","maskComposite","maskImage","maskMode","maskOrigin","maskPositionX","maskPositionY","maskRepeat","maskSize"],maskPosition:["maskPositionX","maskPositionY"],outline:["outlineColor","outlineStyle","outlineWidth"],overflow:["overflowX","overflowY"],padding:["paddingBottom","paddingLeft","paddingRight","paddingTop"],placeContent:["alignContent","justifyContent"],placeItems:["alignItems","justifyItems"],placeSelf:["alignSelf","justifySelf"],textDecoration:["textDecorationColor","textDecorationLine","textDecorationStyle"],textEmphasis:["textEmphasisColor","textEmphasisStyle"],transition:["transitionDelay","transitionDuration","transitionProperty","transitionTimingFunction"],wordWrap:["overflowWrap"]},oc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0};function wN(S,b){return S+b.charAt(0).toUpperCase()+b.substring(1)}var MN=["Webkit","ms","Moz","O"];Object.keys(oc).forEach(function(S){MN.forEach(function(b){oc[wN(b,S)]=oc[S]})});function GT(S,b,O){var D=b==null||typeof b=="boolean"||b==="";return D?"":!O&&typeof b=="number"&&b!==0&&!(oc.hasOwnProperty(S)&&oc[S])?b+"px":(Kt(b,S),(""+b).trim())}var RN=/([A-Z])/g,AN=/^ms-/;function ON(S){return S.replace(RN,"-$1").toLowerCase().replace(AN,"-ms-")}var OR=function(){};{var LN=/^(?:webkit|moz|o)[A-Z]/,DN=/^-ms-/,FN=/-(.)/g,LR=/;\s*$/,nf={},kT={},DR=!1,FR=!1,IN=function(S){return S.replace(FN,function(b,O){return O.toUpperCase()})},BN=function(S){nf.hasOwnProperty(S)&&nf[S]||(nf[S]=!0,n("Unsupported style property %s. Did you mean %s?",S,IN(S.replace(DN,"ms-"))))},GN=function(S){nf.hasOwnProperty(S)&&nf[S]||(nf[S]=!0,n("Unsupported vendor-prefixed style property %s. Did you mean %s?",S,S.charAt(0).toUpperCase()+S.slice(1)))},kN=function(S,b){kT.hasOwnProperty(b)&&kT[b]||(kT[b]=!0,n(`Style property values shouldn't contain a semicolon. Try "%s: %s" instead.`,S,b.replace(LR,"")))},NN=function(S,b){DR||(DR=!0,n("`NaN` is an invalid value for the `%s` css style property.",S))},UN=function(S,b){FR||(FR=!0,n("`Infinity` is an invalid value for the `%s` css style property.",S))};OR=function(S,b){S.indexOf("-")>-1?BN(S):LN.test(S)?GN(S):LR.test(b)&&kN(S,b),typeof b=="number"&&(isNaN(b)?NN(S,b):isFinite(b)||UN(S,b))}}var VN=OR;function zN(S){{var b="",O="";for(var D in S)if(S.hasOwnProperty(D)){var N=S[D];if(N!=null){var W=D.indexOf("--")===0;b+=O+(W?D:ON(D))+":",b+=GT(D,N,W),O=";"}}return b||null}}function IR(S,b){var O=S.style;for(var D in b)if(b.hasOwnProperty(D)){var N=D.indexOf("--")===0;N||VN(D,b[D]);var W=GT(D,b[D],N);D==="float"&&(D="cssFloat"),N?O.setProperty(D,W):O[D]=W}}function WN(S){return S==null||typeof S=="boolean"||S===""}function BR(S){var b={};for(var O in S)for(var D=PN[O]||[O],N=0;N<D.length;N++)b[D[N]]=O;return b}function YN(S,b){{if(!b)return;var O=BR(S),D=BR(b),N={};for(var W in O){var Z=O[W],q=D[W];if(q&&Z!==q){var et=Z+","+q;if(N[et])continue;N[et]=!0,n("%s a style property during rerender (%s) when a conflicting property is set (%s) can lead to styling bugs. To avoid this, don't mix shorthand and non-shorthand properties for the same value; instead, replace the shorthand with separate values.",WN(S[Z])?"Removing":"Updating",Z,q)}}}}var XN={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},HN=He({menuitem:!0},XN),$N="__html";function NT(S,b){if(b){if(HN[S]&&(b.children!=null||b.dangerouslySetInnerHTML!=null))throw new Error(S+" is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");if(b.dangerouslySetInnerHTML!=null){if(b.children!=null)throw new Error("Can only set one of `children` or `props.dangerouslySetInnerHTML`.");if(typeof b.dangerouslySetInnerHTML!="object"||!($N in b.dangerouslySetInnerHTML))throw new Error("`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. Please visit https://reactjs.org/link/dangerously-set-inner-html for more information.")}if(!b.suppressContentEditableWarning&&b.contentEditable&&b.children!=null&&n("A component is `contentEditable` and contains `children` managed by React. It is now your responsibility to guarantee that none of those nodes are unexpectedly modified or duplicated. This is probably not intentional."),b.style!=null&&typeof b.style!="object")throw new Error("The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.")}}function zh(S,b){if(S.indexOf("-")===-1)return typeof b.is=="string";switch(S){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yg={accept:"accept",acceptcharset:"acceptCharset","accept-charset":"acceptCharset",accesskey:"accessKey",action:"action",allowfullscreen:"allowFullScreen",alt:"alt",as:"as",async:"async",autocapitalize:"autoCapitalize",autocomplete:"autoComplete",autocorrect:"autoCorrect",autofocus:"autoFocus",autoplay:"autoPlay",autosave:"autoSave",capture:"capture",cellpadding:"cellPadding",cellspacing:"cellSpacing",challenge:"challenge",charset:"charSet",checked:"checked",children:"children",cite:"cite",class:"className",classid:"classID",classname:"className",cols:"cols",colspan:"colSpan",content:"content",contenteditable:"contentEditable",contextmenu:"contextMenu",controls:"controls",controlslist:"controlsList",coords:"coords",crossorigin:"crossOrigin",dangerouslysetinnerhtml:"dangerouslySetInnerHTML",data:"data",datetime:"dateTime",default:"default",defaultchecked:"defaultChecked",defaultvalue:"defaultValue",defer:"defer",dir:"dir",disabled:"disabled",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback",download:"download",draggable:"draggable",enctype:"encType",enterkeyhint:"enterKeyHint",for:"htmlFor",form:"form",formmethod:"formMethod",formaction:"formAction",formenctype:"formEncType",formnovalidate:"formNoValidate",formtarget:"formTarget",frameborder:"frameBorder",headers:"headers",height:"height",hidden:"hidden",high:"high",href:"href",hreflang:"hrefLang",htmlfor:"htmlFor",httpequiv:"httpEquiv","http-equiv":"httpEquiv",icon:"icon",id:"id",imagesizes:"imageSizes",imagesrcset:"imageSrcSet",innerhtml:"innerHTML",inputmode:"inputMode",integrity:"integrity",is:"is",itemid:"itemID",itemprop:"itemProp",itemref:"itemRef",itemscope:"itemScope",itemtype:"itemType",keyparams:"keyParams",keytype:"keyType",kind:"kind",label:"label",lang:"lang",list:"list",loop:"loop",low:"low",manifest:"manifest",marginwidth:"marginWidth",marginheight:"marginHeight",max:"max",maxlength:"maxLength",media:"media",mediagroup:"mediaGroup",method:"method",min:"min",minlength:"minLength",multiple:"multiple",muted:"muted",name:"name",nomodule:"noModule",nonce:"nonce",novalidate:"noValidate",open:"open",optimum:"optimum",pattern:"pattern",placeholder:"placeholder",playsinline:"playsInline",poster:"poster",preload:"preload",profile:"profile",radiogroup:"radioGroup",readonly:"readOnly",referrerpolicy:"referrerPolicy",rel:"rel",required:"required",reversed:"reversed",role:"role",rows:"rows",rowspan:"rowSpan",sandbox:"sandbox",scope:"scope",scoped:"scoped",scrolling:"scrolling",seamless:"seamless",selected:"selected",shape:"shape",size:"size",sizes:"sizes",span:"span",spellcheck:"spellCheck",src:"src",srcdoc:"srcDoc",srclang:"srcLang",srcset:"srcSet",start:"start",step:"step",style:"style",summary:"summary",tabindex:"tabIndex",target:"target",title:"title",type:"type",usemap:"useMap",value:"value",width:"width",wmode:"wmode",wrap:"wrap",about:"about",accentheight:"accentHeight","accent-height":"accentHeight",accumulate:"accumulate",additive:"additive",alignmentbaseline:"alignmentBaseline","alignment-baseline":"alignmentBaseline",allowreorder:"allowReorder",alphabetic:"alphabetic",amplitude:"amplitude",arabicform:"arabicForm","arabic-form":"arabicForm",ascent:"ascent",attributename:"attributeName",attributetype:"attributeType",autoreverse:"autoReverse",azimuth:"azimuth",basefrequency:"baseFrequency",baselineshift:"baselineShift","baseline-shift":"baselineShift",baseprofile:"baseProfile",bbox:"bbox",begin:"begin",bias:"bias",by:"by",calcmode:"calcMode",capheight:"capHeight","cap-height":"capHeight",clip:"clip",clippath:"clipPath","clip-path":"clipPath",clippathunits:"clipPathUnits",cliprule:"clipRule","clip-rule":"clipRule",color:"color",colorinterpolation:"colorInterpolation","color-interpolation":"colorInterpolation",colorinterpolationfilters:"colorInterpolationFilters","color-interpolation-filters":"colorInterpolationFilters",colorprofile:"colorProfile","color-profile":"colorProfile",colorrendering:"colorRendering","color-rendering":"colorRendering",contentscripttype:"contentScriptType",contentstyletype:"contentStyleType",cursor:"cursor",cx:"cx",cy:"cy",d:"d",datatype:"datatype",decelerate:"decelerate",descent:"descent",diffuseconstant:"diffuseConstant",direction:"direction",display:"display",divisor:"divisor",dominantbaseline:"dominantBaseline","dominant-baseline":"dominantBaseline",dur:"dur",dx:"dx",dy:"dy",edgemode:"edgeMode",elevation:"elevation",enablebackground:"enableBackground","enable-background":"enableBackground",end:"end",exponent:"exponent",externalresourcesrequired:"externalResourcesRequired",fill:"fill",fillopacity:"fillOpacity","fill-opacity":"fillOpacity",fillrule:"fillRule","fill-rule":"fillRule",filter:"filter",filterres:"filterRes",filterunits:"filterUnits",floodopacity:"floodOpacity","flood-opacity":"floodOpacity",floodcolor:"floodColor","flood-color":"floodColor",focusable:"focusable",fontfamily:"fontFamily","font-family":"fontFamily",fontsize:"fontSize","font-size":"fontSize",fontsizeadjust:"fontSizeAdjust","font-size-adjust":"fontSizeAdjust",fontstretch:"fontStretch","font-stretch":"fontStretch",fontstyle:"fontStyle","font-style":"fontStyle",fontvariant:"fontVariant","font-variant":"fontVariant",fontweight:"fontWeight","font-weight":"fontWeight",format:"format",from:"from",fx:"fx",fy:"fy",g1:"g1",g2:"g2",glyphname:"glyphName","glyph-name":"glyphName",glyphorientationhorizontal:"glyphOrientationHorizontal","glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphorientationvertical:"glyphOrientationVertical","glyph-orientation-vertical":"glyphOrientationVertical",glyphref:"glyphRef",gradienttransform:"gradientTransform",gradientunits:"gradientUnits",hanging:"hanging",horizadvx:"horizAdvX","horiz-adv-x":"horizAdvX",horizoriginx:"horizOriginX","horiz-origin-x":"horizOriginX",ideographic:"ideographic",imagerendering:"imageRendering","image-rendering":"imageRendering",in2:"in2",in:"in",inlist:"inlist",intercept:"intercept",k1:"k1",k2:"k2",k3:"k3",k4:"k4",k:"k",kernelmatrix:"kernelMatrix",kernelunitlength:"kernelUnitLength",kerning:"kerning",keypoints:"keyPoints",keysplines:"keySplines",keytimes:"keyTimes",lengthadjust:"lengthAdjust",letterspacing:"letterSpacing","letter-spacing":"letterSpacing",lightingcolor:"lightingColor","lighting-color":"lightingColor",limitingconeangle:"limitingConeAngle",local:"local",markerend:"markerEnd","marker-end":"markerEnd",markerheight:"markerHeight",markermid:"markerMid","marker-mid":"markerMid",markerstart:"markerStart","marker-start":"markerStart",markerunits:"markerUnits",markerwidth:"markerWidth",mask:"mask",maskcontentunits:"maskContentUnits",maskunits:"maskUnits",mathematical:"mathematical",mode:"mode",numoctaves:"numOctaves",offset:"offset",opacity:"opacity",operator:"operator",order:"order",orient:"orient",orientation:"orientation",origin:"origin",overflow:"overflow",overlineposition:"overlinePosition","overline-position":"overlinePosition",overlinethickness:"overlineThickness","overline-thickness":"overlineThickness",paintorder:"paintOrder","paint-order":"paintOrder",panose1:"panose1","panose-1":"panose1",pathlength:"pathLength",patterncontentunits:"patternContentUnits",patterntransform:"patternTransform",patternunits:"patternUnits",pointerevents:"pointerEvents","pointer-events":"pointerEvents",points:"points",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",prefix:"prefix",preservealpha:"preserveAlpha",preserveaspectratio:"preserveAspectRatio",primitiveunits:"primitiveUnits",property:"property",r:"r",radius:"radius",refx:"refX",refy:"refY",renderingintent:"renderingIntent","rendering-intent":"renderingIntent",repeatcount:"repeatCount",repeatdur:"repeatDur",requiredextensions:"requiredExtensions",requiredfeatures:"requiredFeatures",resource:"resource",restart:"restart",result:"result",results:"results",rotate:"rotate",rx:"rx",ry:"ry",scale:"scale",security:"security",seed:"seed",shaperendering:"shapeRendering","shape-rendering":"shapeRendering",slope:"slope",spacing:"spacing",specularconstant:"specularConstant",specularexponent:"specularExponent",speed:"speed",spreadmethod:"spreadMethod",startoffset:"startOffset",stddeviation:"stdDeviation",stemh:"stemh",stemv:"stemv",stitchtiles:"stitchTiles",stopcolor:"stopColor","stop-color":"stopColor",stopopacity:"stopOpacity","stop-opacity":"stopOpacity",strikethroughposition:"strikethroughPosition","strikethrough-position":"strikethroughPosition",strikethroughthickness:"strikethroughThickness","strikethrough-thickness":"strikethroughThickness",string:"string",stroke:"stroke",strokedasharray:"strokeDasharray","stroke-dasharray":"strokeDasharray",strokedashoffset:"strokeDashoffset","stroke-dashoffset":"strokeDashoffset",strokelinecap:"strokeLinecap","stroke-linecap":"strokeLinecap",strokelinejoin:"strokeLinejoin","stroke-linejoin":"strokeLinejoin",strokemiterlimit:"strokeMiterlimit","stroke-miterlimit":"strokeMiterlimit",strokewidth:"strokeWidth","stroke-width":"strokeWidth",strokeopacity:"strokeOpacity","stroke-opacity":"strokeOpacity",suppresscontenteditablewarning:"suppressContentEditableWarning",suppresshydrationwarning:"suppressHydrationWarning",surfacescale:"surfaceScale",systemlanguage:"systemLanguage",tablevalues:"tableValues",targetx:"targetX",targety:"targetY",textanchor:"textAnchor","text-anchor":"textAnchor",textdecoration:"textDecoration","text-decoration":"textDecoration",textlength:"textLength",textrendering:"textRendering","text-rendering":"textRendering",to:"to",transform:"transform",typeof:"typeof",u1:"u1",u2:"u2",underlineposition:"underlinePosition","underline-position":"underlinePosition",underlinethickness:"underlineThickness","underline-thickness":"underlineThickness",unicode:"unicode",unicodebidi:"unicodeBidi","unicode-bidi":"unicodeBidi",unicoderange:"unicodeRange","unicode-range":"unicodeRange",unitsperem:"unitsPerEm","units-per-em":"unitsPerEm",unselectable:"unselectable",valphabetic:"vAlphabetic","v-alphabetic":"vAlphabetic",values:"values",vectoreffect:"vectorEffect","vector-effect":"vectorEffect",version:"version",vertadvy:"vertAdvY","vert-adv-y":"vertAdvY",vertoriginx:"vertOriginX","vert-origin-x":"vertOriginX",vertoriginy:"vertOriginY","vert-origin-y":"vertOriginY",vhanging:"vHanging","v-hanging":"vHanging",videographic:"vIdeographic","v-ideographic":"vIdeographic",viewbox:"viewBox",viewtarget:"viewTarget",visibility:"visibility",vmathematical:"vMathematical","v-mathematical":"vMathematical",vocab:"vocab",widths:"widths",wordspacing:"wordSpacing","word-spacing":"wordSpacing",writingmode:"writingMode","writing-mode":"writingMode",x1:"x1",x2:"x2",x:"x",xchannelselector:"xChannelSelector",xheight:"xHeight","x-height":"xHeight",xlinkactuate:"xlinkActuate","xlink:actuate":"xlinkActuate",xlinkarcrole:"xlinkArcrole","xlink:arcrole":"xlinkArcrole",xlinkhref:"xlinkHref","xlink:href":"xlinkHref",xlinkrole:"xlinkRole","xlink:role":"xlinkRole",xlinkshow:"xlinkShow","xlink:show":"xlinkShow",xlinktitle:"xlinkTitle","xlink:title":"xlinkTitle",xlinktype:"xlinkType","xlink:type":"xlinkType",xmlbase:"xmlBase","xml:base":"xmlBase",xmllang:"xmlLang","xml:lang":"xmlLang",xmlns:"xmlns","xml:space":"xmlSpace",xmlnsxlink:"xmlnsXlink","xmlns:xlink":"xmlnsXlink",xmlspace:"xmlSpace",y1:"y1",y2:"y2",y:"y",ychannelselector:"yChannelSelector",z:"z",zoomandpan:"zoomAndPan"},GR={"aria-current":0,"aria-description":0,"aria-details":0,"aria-disabled":0,"aria-hidden":0,"aria-invalid":0,"aria-keyshortcuts":0,"aria-label":0,"aria-roledescription":0,"aria-autocomplete":0,"aria-checked":0,"aria-expanded":0,"aria-haspopup":0,"aria-level":0,"aria-modal":0,"aria-multiline":0,"aria-multiselectable":0,"aria-orientation":0,"aria-placeholder":0,"aria-pressed":0,"aria-readonly":0,"aria-required":0,"aria-selected":0,"aria-sort":0,"aria-valuemax":0,"aria-valuemin":0,"aria-valuenow":0,"aria-valuetext":0,"aria-atomic":0,"aria-busy":0,"aria-live":0,"aria-relevant":0,"aria-dropeffect":0,"aria-grabbed":0,"aria-activedescendant":0,"aria-colcount":0,"aria-colindex":0,"aria-colspan":0,"aria-controls":0,"aria-describedby":0,"aria-errormessage":0,"aria-flowto":0,"aria-labelledby":0,"aria-owns":0,"aria-posinset":0,"aria-rowcount":0,"aria-rowindex":0,"aria-rowspan":0,"aria-setsize":0},sf={},KN=new RegExp("^(aria)-["+Wt+"]*$"),ZN=new RegExp("^(aria)[A-Z]["+Wt+"]*$");function JN(S,b){{if(ct.call(sf,b)&&sf[b])return!0;if(ZN.test(b)){var O="aria-"+b.slice(4).toLowerCase(),D=GR.hasOwnProperty(O)?O:null;if(D==null)return n("Invalid ARIA attribute `%s`. ARIA attributes follow the pattern aria-* and must be lowercase.",b),sf[b]=!0,!0;if(b!==D)return n("Invalid ARIA attribute `%s`. Did you mean `%s`?",b,D),sf[b]=!0,!0}if(KN.test(b)){var N=b.toLowerCase(),W=GR.hasOwnProperty(N)?N:null;if(W==null)return sf[b]=!0,!1;if(b!==W)return n("Unknown ARIA attribute `%s`. Did you mean `%s`?",b,W),sf[b]=!0,!0}}return!0}function jN(S,b){{var O=[];for(var D in b){var N=JN(S,D);N||O.push(D)}var W=O.map(function(Z){return"`"+Z+"`"}).join(", ");O.length===1?n("Invalid aria prop %s on <%s> tag. For details, see https://reactjs.org/link/invalid-aria-props",W,S):O.length>1&&n("Invalid aria props %s on <%s> tag. For details, see https://reactjs.org/link/invalid-aria-props",W,S)}}function QN(S,b){zh(S,b)||jN(S,b)}var kR=!1;function qN(S,b){{if(S!=="input"&&S!=="textarea"&&S!=="select")return;b!=null&&b.value===null&&!kR&&(kR=!0,S==="select"&&b.multiple?n("`value` prop on `%s` should not be null. Consider using an empty array when `multiple` is set to `true` to clear the component or `undefined` for uncontrolled components.",S):n("`value` prop on `%s` should not be null. Consider using an empty string to clear the component or `undefined` for uncontrolled components.",S))}}var NR=function(){};{var Fn={},UR=/^on./,_N=/^on[^A-Z]/,t6=new RegExp("^(aria)-["+Wt+"]*$"),e6=new RegExp("^(aria)[A-Z]["+Wt+"]*$");NR=function(S,b,O,D){if(ct.call(Fn,b)&&Fn[b])return!0;var N=b.toLowerCase();if(N==="onfocusin"||N==="onfocusout")return n("React uses onFocus and onBlur instead of onFocusIn and onFocusOut. All React events are normalized to bubble, so onFocusIn and onFocusOut are not needed/supported by React."),Fn[b]=!0,!0;if(D!=null){var W=D.registrationNameDependencies,Z=D.possibleRegistrationNames;if(W.hasOwnProperty(b))return!0;var q=Z.hasOwnProperty(N)?Z[N]:null;if(q!=null)return n("Invalid event handler property `%s`. Did you mean `%s`?",b,q),Fn[b]=!0,!0;if(UR.test(b))return n("Unknown event handler property `%s`. It will be ignored.",b),Fn[b]=!0,!0}else if(UR.test(b))return _N.test(b)&&n("Invalid event handler property `%s`. React events use the camelCase naming convention, for example `onClick`.",b),Fn[b]=!0,!0;if(t6.test(b)||e6.test(b))return!0;if(N==="innerhtml")return n("Directly setting property `innerHTML` is not permitted. For more information, lookup documentation on `dangerouslySetInnerHTML`."),Fn[b]=!0,!0;if(N==="aria")return n("The `aria` attribute is reserved for future use in React. Pass individual `aria-` attributes instead."),Fn[b]=!0,!0;if(N==="is"&&O!==null&&O!==void 0&&typeof O!="string")return n("Received a `%s` for a string attribute `is`. If this is expected, cast the value to a string.",typeof O),Fn[b]=!0,!0;if(typeof O=="number"&&isNaN(O))return n("Received NaN for the `%s` attribute. If this is expected, cast the value to a string.",b),Fn[b]=!0,!0;var et=Hi(b),nt=et!==null&&et.type===Vt;if(yg.hasOwnProperty(N)){var at=yg[N];if(at!==b)return n("Invalid DOM property `%s`. Did you mean `%s`?",b,at),Fn[b]=!0,!0}else if(!nt&&b!==N)return n("React does not recognize the `%s` prop on a DOM element. If you intentionally want it to appear in the DOM as a custom attribute, spell it as lowercase `%s` instead. If you accidentally passed it from a parent component, remove it from the DOM element.",b,N),Fn[b]=!0,!0;return typeof O=="boolean"&&Xi(b,O,et,!1)?(O?n('Received `%s` for a non-boolean attribute `%s`.\n\nIf you want to write it to the DOM, pass a string instead: %s="%s" or %s={value.toString()}.',O,b,b,O,b):n('Received `%s` for a non-boolean attribute `%s`.\n\nIf you want to write it to the DOM, pass a string instead: %s="%s" or %s={value.toString()}.\n\nIf you used to conditionally omit it with %s={condition && value}, pass %s={condition ? value : undefined} instead.',O,b,b,O,b,b,b),Fn[b]=!0,!0):nt?!0:Xi(b,O,et,!1)?(Fn[b]=!0,!1):((O==="false"||O==="true")&&et!==null&&et.type===we&&(n("Received the string `%s` for the boolean attribute `%s`. %s Did you mean %s={%s}?",O,b,O==="false"?"The browser will interpret it as a truthy value.":'Although this works, it will not work as expected if you pass the string "false".',b,O),Fn[b]=!0),!0)}}var i6=function(S,b,O){{var D=[];for(var N in b){var W=NR(S,N,b[N],O);W||D.push(N)}var Z=D.map(function(q){return"`"+q+"`"}).join(", ");D.length===1?n("Invalid value for prop %s on <%s> tag. Either remove it from the element, or pass a string or number value to keep it in the DOM. For details, see https://reactjs.org/link/attribute-behavior ",Z,S):D.length>1&&n("Invalid values for props %s on <%s> tag. Either remove them from the element, or pass a string or number value to keep them in the DOM. For details, see https://reactjs.org/link/attribute-behavior ",Z,S)}};function r6(S,b,O){zh(S,b)||i6(S,b,O)}var VR=1,UT=2,lc=4,n6=VR|UT|lc,hc=null;function s6(S){hc!==null&&n("Expected currently replaying event to be null. This error is likely caused by a bug in React. Please file an issue."),hc=S}function a6(){hc===null&&n("Expected currently replaying event to not be null. This error is likely caused by a bug in React. Please file an issue."),hc=null}function o6(S){return S===hc}function VT(S){var b=S.target||S.srcElement||window;return b.correspondingUseElement&&(b=b.correspondingUseElement),b.nodeType===Go?b.parentNode:b}var zT=null,af=null,of=null;function zR(S){var b=Bl(S);if(b){if(typeof zT!="function")throw new Error("setRestoreImplementation() needs to be called to handle a target for controlled events. This error is likely caused by a bug in React. Please file an issue.");var O=b.stateNode;if(O){var D=em(O);zT(b.stateNode,b.type,D)}}}function l6(S){zT=S}function WR(S){af?of?of.push(S):of=[S]:af=S}function h6(){return af!==null||of!==null}function YR(){if(af){var S=af,b=of;if(af=null,of=null,zR(S),b)for(var O=0;O<b.length;O++)zR(b[O])}}var XR=function(S,b){return S(b)},HR=function(){},WT=!1;function u6(){var S=h6();S&&(HR(),YR())}function $R(S,b,O){if(WT)return S(b,O);WT=!0;try{return XR(S,b,O)}finally{WT=!1,u6()}}function f6(S,b,O){XR=S,HR=O}function d6(S){return S==="button"||S==="input"||S==="select"||S==="textarea"}function c6(S,b,O){switch(S){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":return!!(O.disabled&&d6(b));default:return!1}}function uc(S,b){var O=S.stateNode;if(O===null)return null;var D=em(O);if(D===null)return null;var N=D[b];if(c6(b,S.type,D))return null;if(N&&typeof N!="function")throw new Error("Expected `"+b+"` listener to be a function, instead got a value of `"+typeof N+"` type.");return N}var YT=!1;if(ft)try{var fc={};Object.defineProperty(fc,"passive",{get:function(){YT=!0}}),window.addEventListener("test",fc,fc),window.removeEventListener("test",fc,fc)}catch{YT=!1}function KR(S,b,O,D,N,W,Z,q,et){var nt=Array.prototype.slice.call(arguments,3);try{b.apply(O,nt)}catch(at){this.onError(at)}}var ZR=KR;if(typeof window<"u"&&typeof window.dispatchEvent=="function"&&typeof document<"u"&&typeof document.createEvent=="function"){var XT=document.createElement("react");ZR=function(b,O,D,N,W,Z,q,et,nt){if(typeof document>"u"||document===null)throw new Error("The `document` global was defined when React was initialized, but is not defined anymore. This can happen in a test environment if a component schedules an update from an asynchronous callback, but the test has already finished running. To solve this, you can either unmount the component at the end of your test (and ensure that any asynchronous operations get canceled in `componentWillUnmount`), or you can change the test itself to be asynchronous.");var at=document.createEvent("Event"),pt=!1,vt=!0,Ct=window.event,bt=Object.getOwnPropertyDescriptor(window,"event");function At(){XT.removeEventListener(Ot,Ce,!1),typeof window.event<"u"&&window.hasOwnProperty("event")&&(window.event=Ct)}var jt=Array.prototype.slice.call(arguments,3);function Ce(){pt=!0,At(),O.apply(D,jt),vt=!1}var me,si=!1,ei=!1;function mt(yt){if(me=yt.error,si=!0,me===null&&yt.colno===0&&yt.lineno===0&&(ei=!0),yt.defaultPrevented&&me!=null&&typeof me=="object")try{me._suppressLogging=!0}catch{}}var Ot="react-"+(b||"invokeguardedcallback");if(window.addEventListener("error",mt),XT.addEventListener(Ot,Ce,!1),at.initEvent(Ot,!1,!1),XT.dispatchEvent(at),bt&&Object.defineProperty(window,"event",bt),pt&&vt&&(si?ei&&(me=new Error("A cross-origin error was thrown. React doesn't have access to the actual error object in development. See https://reactjs.org/link/crossorigin-error for more information.")):me=new Error(`An error was thrown inside one of your components, but React doesn't know what it was. This is likely due to browser flakiness. React does its best to preserve the "Pause on exceptions" behavior of the DevTools, which requires some DEV-mode only tricks. It's possible that these don't work in your browser. Try triggering the error in production mode, or switching to a modern browser. If you suspect that this is actually an issue with React, please file an issue.`),this.onError(me)),window.removeEventListener("error",mt),!pt)return At(),KR.apply(this,arguments)}}var v6=ZR,lf=!1,xg=null,Tg=!1,HT=null,p6={onError:function(S){lf=!0,xg=S}};function $T(S,b,O,D,N,W,Z,q,et){lf=!1,xg=null,v6.apply(p6,arguments)}function g6(S,b,O,D,N,W,Z,q,et){if($T.apply(this,arguments),lf){var nt=KT();Tg||(Tg=!0,HT=nt)}}function m6(){if(Tg){var S=HT;throw Tg=!1,HT=null,S}}function y6(){return lf}function KT(){if(lf){var S=xg;return lf=!1,xg=null,S}else throw new Error("clearCaughtError was called but no error was captured. This error is likely caused by a bug in React. Please file an issue.")}function hf(S){return S._reactInternals}function x6(S){return S._reactInternals!==void 0}function T6(S,b){S._reactInternals=b}var Ae=0,uf=1,yr=2,oi=4,Wh=16,dc=32,ZT=64,pi=128,No=256,Rl=512,Yh=1024,fa=2048,Uo=4096,Xh=8192,Cg=16384,C6=fa|oi|ZT|Rl|Yh|Cg,S6=32767,cc=32768,In=65536,JT=131072,JR=1048576,jT=2097152,Hh=4194304,QT=8388608,Vo=16777216,Sg=33554432,qT=oi|Yh|0,_T=yr|oi|Wh|dc|Rl|Uo|Xh,vc=oi|ZT|Rl|Xh,ff=fa|Wh,zo=Hh|QT|jT,E6=i.ReactCurrentOwner;function $h(S){var b=S,O=S;if(S.alternate)for(;b.return;)b=b.return;else{var D=b;do b=D,(b.flags&(yr|Uo))!==Ae&&(O=b.return),D=b.return;while(D)}return b.tag===d?O:null}function jR(S){if(S.tag===y){var b=S.memoizedState;if(b===null){var O=S.alternate;O!==null&&(b=O.memoizedState)}if(b!==null)return b.dehydrated}return null}function QR(S){return S.tag===d?S.stateNode.containerInfo:null}function b6(S){return $h(S)===S}function P6(S){{var b=E6.current;if(b!==null&&b.tag===o){var O=b,D=O.stateNode;D._warnedAboutRefsInRender||n("%s is accessing isMounted inside its render() function. render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",Ft(O)||"A component"),D._warnedAboutRefsInRender=!0}}var N=hf(S);return N?$h(N)===N:!1}function qR(S){if($h(S)!==S)throw new Error("Unable to find node on an unmounted component.")}function _R(S){var b=S.alternate;if(!b){var O=$h(S);if(O===null)throw new Error("Unable to find node on an unmounted component.");return O!==S?null:S}for(var D=S,N=b;;){var W=D.return;if(W===null)break;var Z=W.alternate;if(Z===null){var q=W.return;if(q!==null){D=N=q;continue}break}if(W.child===Z.child){for(var et=W.child;et;){if(et===D)return qR(W),S;if(et===N)return qR(W),b;et=et.sibling}throw new Error("Unable to find node on an unmounted component.")}if(D.return!==N.return)D=W,N=Z;else{for(var nt=!1,at=W.child;at;){if(at===D){nt=!0,D=W,N=Z;break}if(at===N){nt=!0,N=W,D=Z;break}at=at.sibling}if(!nt){for(at=Z.child;at;){if(at===D){nt=!0,D=Z,N=W;break}if(at===N){nt=!0,N=Z,D=W;break}at=at.sibling}if(!nt)throw new Error("Child was not found in either parent set. This indicates a bug in React related to the return pointer. Please file an issue.")}}if(D.alternate!==N)throw new Error("Return fibers should always be each others' alternates. This error is likely caused by a bug in React. Please file an issue.")}if(D.tag!==d)throw new Error("Unable to find node on an unmounted component.");return D.stateNode.current===D?S:b}function tA(S){var b=_R(S);return b!==null?eA(b):null}function eA(S){if(S.tag===l||S.tag===a)return S;for(var b=S.child;b!==null;){var O=eA(b);if(O!==null)return O;b=b.sibling}return null}function w6(S){var b=_R(S);return b!==null?iA(b):null}function iA(S){if(S.tag===l||S.tag===a)return S;for(var b=S.child;b!==null;){if(b.tag!==h){var O=iA(b);if(O!==null)return O}b=b.sibling}return null}var rA=t.unstable_scheduleCallback,M6=t.unstable_cancelCallback,R6=t.unstable_shouldYield,A6=t.unstable_requestPaint,Yr=t.unstable_now,O6=t.unstable_getCurrentPriorityLevel,Eg=t.unstable_ImmediatePriority,tC=t.unstable_UserBlockingPriority,Kh=t.unstable_NormalPriority,L6=t.unstable_LowPriority,eC=t.unstable_IdlePriority,D6=t.unstable_yieldValue,F6=t.unstable_setDisableYieldValue,df=null,xn=null,te=null,Ja=!1,da=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u";function I6(S){if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")return!1;var b=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(b.isDisabled)return!0;if(!b.supportsFiber)return n("The installed version of React DevTools is too old and will not work with the current version of React. Please update React DevTools. https://reactjs.org/link/react-devtools"),!0;try{z&&(S=He({},S,{getLaneLabelMap:V6,injectProfilingHooks:U6})),df=b.inject(S),xn=b}catch(O){n("React instrumentation encountered an error: %s.",O)}return!!b.checkDCE}function B6(S,b){if(xn&&typeof xn.onScheduleFiberRoot=="function")try{xn.onScheduleFiberRoot(df,S,b)}catch(O){Ja||(Ja=!0,n("React instrumentation encountered an error: %s",O))}}function G6(S,b){if(xn&&typeof xn.onCommitFiberRoot=="function")try{var O=(S.current.flags&pi)===pi;if(V){var D;switch(b){case ps:D=Eg;break;case Yo:D=tC;break;case Xo:D=Kh;break;case Og:D=eC;break;default:D=Kh;break}xn.onCommitFiberRoot(df,S,D,O)}}catch(N){Ja||(Ja=!0,n("React instrumentation encountered an error: %s",N))}}function k6(S){if(xn&&typeof xn.onPostCommitFiberRoot=="function")try{xn.onPostCommitFiberRoot(df,S)}catch(b){Ja||(Ja=!0,n("React instrumentation encountered an error: %s",b))}}function N6(S){if(xn&&typeof xn.onCommitFiberUnmount=="function")try{xn.onCommitFiberUnmount(df,S)}catch(b){Ja||(Ja=!0,n("React instrumentation encountered an error: %s",b))}}function Xr(S){if(typeof D6=="function"&&(F6(S),p(S)),xn&&typeof xn.setStrictMode=="function")try{xn.setStrictMode(df,S)}catch(b){Ja||(Ja=!0,n("React instrumentation encountered an error: %s",b))}}function U6(S){te=S}function V6(){{for(var S=new Map,b=1,O=0;O<rC;O++){var D=a7(b);S.set(b,D),b*=2}return S}}function z6(S){te!==null&&typeof te.markCommitStarted=="function"&&te.markCommitStarted(S)}function nA(){te!==null&&typeof te.markCommitStopped=="function"&&te.markCommitStopped()}function pc(S){te!==null&&typeof te.markComponentRenderStarted=="function"&&te.markComponentRenderStarted(S)}function cf(){te!==null&&typeof te.markComponentRenderStopped=="function"&&te.markComponentRenderStopped()}function W6(S){te!==null&&typeof te.markComponentPassiveEffectMountStarted=="function"&&te.markComponentPassiveEffectMountStarted(S)}function Y6(){te!==null&&typeof te.markComponentPassiveEffectMountStopped=="function"&&te.markComponentPassiveEffectMountStopped()}function X6(S){te!==null&&typeof te.markComponentPassiveEffectUnmountStarted=="function"&&te.markComponentPassiveEffectUnmountStarted(S)}function H6(){te!==null&&typeof te.markComponentPassiveEffectUnmountStopped=="function"&&te.markComponentPassiveEffectUnmountStopped()}function $6(S){te!==null&&typeof te.markComponentLayoutEffectMountStarted=="function"&&te.markComponentLayoutEffectMountStarted(S)}function K6(){te!==null&&typeof te.markComponentLayoutEffectMountStopped=="function"&&te.markComponentLayoutEffectMountStopped()}function sA(S){te!==null&&typeof te.markComponentLayoutEffectUnmountStarted=="function"&&te.markComponentLayoutEffectUnmountStarted(S)}function aA(){te!==null&&typeof te.markComponentLayoutEffectUnmountStopped=="function"&&te.markComponentLayoutEffectUnmountStopped()}function Z6(S,b,O){te!==null&&typeof te.markComponentErrored=="function"&&te.markComponentErrored(S,b,O)}function J6(S,b,O){te!==null&&typeof te.markComponentSuspended=="function"&&te.markComponentSuspended(S,b,O)}function j6(S){te!==null&&typeof te.markLayoutEffectsStarted=="function"&&te.markLayoutEffectsStarted(S)}function Q6(){te!==null&&typeof te.markLayoutEffectsStopped=="function"&&te.markLayoutEffectsStopped()}function q6(S){te!==null&&typeof te.markPassiveEffectsStarted=="function"&&te.markPassiveEffectsStarted(S)}function _6(){te!==null&&typeof te.markPassiveEffectsStopped=="function"&&te.markPassiveEffectsStopped()}function oA(S){te!==null&&typeof te.markRenderStarted=="function"&&te.markRenderStarted(S)}function t7(){te!==null&&typeof te.markRenderYielded=="function"&&te.markRenderYielded()}function lA(){te!==null&&typeof te.markRenderStopped=="function"&&te.markRenderStopped()}function e7(S){te!==null&&typeof te.markRenderScheduled=="function"&&te.markRenderScheduled(S)}function i7(S,b){te!==null&&typeof te.markForceUpdateScheduled=="function"&&te.markForceUpdateScheduled(S,b)}function iC(S,b){te!==null&&typeof te.markStateUpdateScheduled=="function"&&te.markStateUpdateScheduled(S,b)}var Pe=0,ri=1,bi=2,ir=8,ja=16,hA=Math.clz32?Math.clz32:s7,r7=Math.log,n7=Math.LN2;function s7(S){var b=S>>>0;return b===0?32:31-(r7(b)/n7|0)|0}var rC=31,kt=0,Hr=0,Ge=1,vf=2,Wo=4,Zh=8,Qa=16,gc=32,pf=4194240,mc=64,nC=128,sC=256,aC=512,oC=1024,lC=2048,hC=4096,uC=8192,fC=16384,dC=32768,cC=65536,vC=131072,pC=262144,gC=524288,mC=1048576,yC=2097152,bg=130023424,gf=4194304,xC=8388608,TC=16777216,CC=33554432,SC=67108864,uA=gf,yc=134217728,fA=268435455,xc=268435456,Jh=536870912,cs=1073741824;function a7(S){{if(S&Ge)return"Sync";if(S&vf)return"InputContinuousHydration";if(S&Wo)return"InputContinuous";if(S&Zh)return"DefaultHydration";if(S&Qa)return"Default";if(S&gc)return"TransitionHydration";if(S&pf)return"Transition";if(S&bg)return"Retry";if(S&yc)return"SelectiveHydration";if(S&xc)return"IdleHydration";if(S&Jh)return"Idle";if(S&cs)return"Offscreen"}}var zi=-1,Pg=mc,wg=gf;function Tc(S){switch(jh(S)){case Ge:return Ge;case vf:return vf;case Wo:return Wo;case Zh:return Zh;case Qa:return Qa;case gc:return gc;case mc:case nC:case sC:case aC:case oC:case lC:case hC:case uC:case fC:case dC:case cC:case vC:case pC:case gC:case mC:case yC:return S&pf;case gf:case xC:case TC:case CC:case SC:return S&bg;case yc:return yc;case xc:return xc;case Jh:return Jh;case cs:return cs;default:return n("Should have found matching lanes. This is a bug in React."),S}}function Mg(S,b){var O=S.pendingLanes;if(O===kt)return kt;var D=kt,N=S.suspendedLanes,W=S.pingedLanes,Z=O&fA;if(Z!==kt){var q=Z&~N;if(q!==kt)D=Tc(q);else{var et=Z&W;et!==kt&&(D=Tc(et))}}else{var nt=O&~N;nt!==kt?D=Tc(nt):W!==kt&&(D=Tc(W))}if(D===kt)return kt;if(b!==kt&&b!==D&&(b&N)===kt){var at=jh(D),pt=jh(b);if(at>=pt||at===Qa&&(pt&pf)!==kt)return b}(D&Wo)!==kt&&(D|=O&Qa);var vt=S.entangledLanes;if(vt!==kt)for(var Ct=S.entanglements,bt=D&vt;bt>0;){var At=Qh(bt),jt=1<<At;D|=Ct[At],bt&=~jt}return D}function o7(S,b){for(var O=S.eventTimes,D=zi;b>0;){var N=Qh(b),W=1<<N,Z=O[N];Z>D&&(D=Z),b&=~W}return D}function l7(S,b){switch(S){case Ge:case vf:case Wo:return b+250;case Zh:case Qa:case gc:case mc:case nC:case sC:case aC:case oC:case lC:case hC:case uC:case fC:case dC:case cC:case vC:case pC:case gC:case mC:case yC:return b+5e3;case gf:case xC:case TC:case CC:case SC:return zi;case yc:case xc:case Jh:case cs:return zi;default:return n("Should have found matching lanes. This is a bug in React."),zi}}function h7(S,b){for(var O=S.pendingLanes,D=S.suspendedLanes,N=S.pingedLanes,W=S.expirationTimes,Z=O;Z>0;){var q=Qh(Z),et=1<<q,nt=W[q];nt===zi?((et&D)===kt||(et&N)!==kt)&&(W[q]=l7(et,b)):nt<=b&&(S.expiredLanes|=et),Z&=~et}}function u7(S){return Tc(S.pendingLanes)}function EC(S){var b=S.pendingLanes&~cs;return b!==kt?b:b&cs?cs:kt}function f7(S){return(S&Ge)!==kt}function bC(S){return(S&fA)!==kt}function dA(S){return(S&bg)===S}function d7(S){var b=Ge|Wo|Qa;return(S&b)===kt}function c7(S){return(S&pf)===S}function Rg(S,b){var O=vf|Wo|Zh|Qa;return(b&O)!==kt}function v7(S,b){return(b&S.expiredLanes)!==kt}function cA(S){return(S&pf)!==kt}function vA(){var S=Pg;return Pg<<=1,(Pg&pf)===kt&&(Pg=mc),S}function p7(){var S=wg;return wg<<=1,(wg&bg)===kt&&(wg=gf),S}function jh(S){return S&-S}function Cc(S){return jh(S)}function Qh(S){return 31-hA(S)}function PC(S){return Qh(S)}function vs(S,b){return(S&b)!==kt}function mf(S,b){return(S&b)===b}function Je(S,b){return S|b}function Ag(S,b){return S&~b}function pA(S,b){return S&b}function IPt(S){return S}function g7(S,b){return S!==Hr&&S<b?S:b}function wC(S){for(var b=[],O=0;O<rC;O++)b.push(S);return b}function Sc(S,b,O){S.pendingLanes|=b,b!==Jh&&(S.suspendedLanes=kt,S.pingedLanes=kt);var D=S.eventTimes,N=PC(b);D[N]=O}function m7(S,b){S.suspendedLanes|=b,S.pingedLanes&=~b;for(var O=S.expirationTimes,D=b;D>0;){var N=Qh(D),W=1<<N;O[N]=zi,D&=~W}}function gA(S,b,O){S.pingedLanes|=S.suspendedLanes&b}function y7(S,b){var O=S.pendingLanes&~b;S.pendingLanes=b,S.suspendedLanes=kt,S.pingedLanes=kt,S.expiredLanes&=b,S.mutableReadLanes&=b,S.entangledLanes&=b;for(var D=S.entanglements,N=S.eventTimes,W=S.expirationTimes,Z=O;Z>0;){var q=Qh(Z),et=1<<q;D[q]=kt,N[q]=zi,W[q]=zi,Z&=~et}}function MC(S,b){for(var O=S.entangledLanes|=b,D=S.entanglements,N=O;N;){var W=Qh(N),Z=1<<W;Z&b|D[W]&b&&(D[W]|=b),N&=~Z}}function x7(S,b){var O=jh(b),D;switch(O){case Wo:D=vf;break;case Qa:D=Zh;break;case mc:case nC:case sC:case aC:case oC:case lC:case hC:case uC:case fC:case dC:case cC:case vC:case pC:case gC:case mC:case yC:case gf:case xC:case TC:case CC:case SC:D=gc;break;case Jh:D=xc;break;default:D=Hr;break}return(D&(S.suspendedLanes|b))!==Hr?Hr:D}function mA(S,b,O){if(da)for(var D=S.pendingUpdatersLaneMap;O>0;){var N=PC(O),W=1<<N,Z=D[N];Z.add(b),O&=~W}}function yA(S,b){if(da)for(var O=S.pendingUpdatersLaneMap,D=S.memoizedUpdaters;b>0;){var N=PC(b),W=1<<N,Z=O[N];Z.size>0&&(Z.forEach(function(q){var et=q.alternate;(et===null||!D.has(et))&&D.add(q)}),Z.clear()),b&=~W}}function xA(S,b){return null}var ps=Ge,Yo=Wo,Xo=Qa,Og=Jh,Ec=Hr;function ca(){return Ec}function $r(S){Ec=S}function T7(S,b){var O=Ec;try{return Ec=S,b()}finally{Ec=O}}function C7(S,b){return S!==0&&S<b?S:b}function S7(S,b){return S>b?S:b}function RC(S,b){return S!==0&&S<b}function TA(S){var b=jh(S);return RC(ps,b)?RC(Yo,b)?bC(b)?Xo:Og:Yo:ps}function Lg(S){var b=S.current.memoizedState;return b.isDehydrated}var CA;function E7(S){CA=S}function b7(S){CA(S)}var AC;function P7(S){AC=S}var SA;function w7(S){SA=S}var EA;function M7(S){EA=S}var bA;function R7(S){bA=S}var OC=!1,Dg=[],Al=null,Ol=null,Ll=null,bc=new Map,Pc=new Map,Dl=[],A7=["mousedown","mouseup","touchcancel","touchend","touchstart","auxclick","dblclick","pointercancel","pointerdown","pointerup","dragend","dragstart","drop","compositionend","compositionstart","keydown","keypress","keyup","input","textInput","copy","cut","paste","click","change","contextmenu","reset","submit"];function O7(S){return A7.indexOf(S)>-1}function L7(S,b,O,D,N){return{blockedOn:S,domEventName:b,eventSystemFlags:O,nativeEvent:N,targetContainers:[D]}}function PA(S,b){switch(S){case"focusin":case"focusout":Al=null;break;case"dragenter":case"dragleave":Ol=null;break;case"mouseover":case"mouseout":Ll=null;break;case"pointerover":case"pointerout":{var O=b.pointerId;bc.delete(O);break}case"gotpointercapture":case"lostpointercapture":{var D=b.pointerId;Pc.delete(D);break}}}function wc(S,b,O,D,N,W){if(S===null||S.nativeEvent!==W){var Z=L7(b,O,D,N,W);if(b!==null){var q=Bl(b);q!==null&&AC(q)}return Z}S.eventSystemFlags|=D;var et=S.targetContainers;return N!==null&&et.indexOf(N)===-1&&et.push(N),S}function D7(S,b,O,D,N){switch(b){case"focusin":{var W=N;return Al=wc(Al,S,b,O,D,W),!0}case"dragenter":{var Z=N;return Ol=wc(Ol,S,b,O,D,Z),!0}case"mouseover":{var q=N;return Ll=wc(Ll,S,b,O,D,q),!0}case"pointerover":{var et=N,nt=et.pointerId;return bc.set(nt,wc(bc.get(nt)||null,S,b,O,D,et)),!0}case"gotpointercapture":{var at=N,pt=at.pointerId;return Pc.set(pt,wc(Pc.get(pt)||null,S,b,O,D,at)),!0}}return!1}function wA(S){var b=tu(S.target);if(b!==null){var O=$h(b);if(O!==null){var D=O.tag;if(D===y){var N=jR(O);if(N!==null){S.blockedOn=N,bA(S.priority,function(){SA(O)});return}}else if(D===d){var W=O.stateNode;if(Lg(W)){S.blockedOn=QR(O);return}}}}S.blockedOn=null}function F7(S){for(var b=EA(),O={blockedOn:null,target:S,priority:b},D=0;D<Dl.length&&RC(b,Dl[D].priority);D++);Dl.splice(D,0,O),D===0&&wA(O)}function Fg(S){if(S.blockedOn!==null)return!1;for(var b=S.targetContainers;b.length>0;){var O=b[0],D=FC(S.domEventName,S.eventSystemFlags,O,S.nativeEvent);if(D===null){var N=S.nativeEvent,W=new N.constructor(N.type,N);s6(W),N.target.dispatchEvent(W),a6()}else{var Z=Bl(D);return Z!==null&&AC(Z),S.blockedOn=D,!1}b.shift()}return!0}function MA(S,b,O){Fg(S)&&O.delete(b)}function I7(){OC=!1,Al!==null&&Fg(Al)&&(Al=null),Ol!==null&&Fg(Ol)&&(Ol=null),Ll!==null&&Fg(Ll)&&(Ll=null),bc.forEach(MA),Pc.forEach(MA)}function Mc(S,b){S.blockedOn===b&&(S.blockedOn=null,OC||(OC=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,I7)))}function Rc(S){if(Dg.length>0){Mc(Dg[0],S);for(var b=1;b<Dg.length;b++){var O=Dg[b];O.blockedOn===S&&(O.blockedOn=null)}}Al!==null&&Mc(Al,S),Ol!==null&&Mc(Ol,S),Ll!==null&&Mc(Ll,S);var D=function(q){return Mc(q,S)};bc.forEach(D),Pc.forEach(D);for(var N=0;N<Dl.length;N++){var W=Dl[N];W.blockedOn===S&&(W.blockedOn=null)}for(;Dl.length>0;){var Z=Dl[0];if(Z.blockedOn!==null)break;wA(Z),Z.blockedOn===null&&Dl.shift()}}var yf=i.ReactCurrentBatchConfig,LC=!0;function RA(S){LC=!!S}function B7(){return LC}function G7(S,b,O){var D=AA(b),N;switch(D){case ps:N=k7;break;case Yo:N=N7;break;case Xo:default:N=DC;break}return N.bind(null,b,O,S)}function k7(S,b,O,D){var N=ca(),W=yf.transition;yf.transition=null;try{$r(ps),DC(S,b,O,D)}finally{$r(N),yf.transition=W}}function N7(S,b,O,D){var N=ca(),W=yf.transition;yf.transition=null;try{$r(Yo),DC(S,b,O,D)}finally{$r(N),yf.transition=W}}function DC(S,b,O,D){LC&&U7(S,b,O,D)}function U7(S,b,O,D){var N=FC(S,b,O,D);if(N===null){KC(S,b,D,Ig,O),PA(S,D);return}if(D7(N,S,b,O,D)){D.stopPropagation();return}if(PA(S,D),b&lc&&O7(S)){for(;N!==null;){var W=Bl(N);W!==null&&b7(W);var Z=FC(S,b,O,D);if(Z===null&&KC(S,b,D,Ig,O),Z===N)break;N=Z}N!==null&&D.stopPropagation();return}KC(S,b,D,null,O)}var Ig=null;function FC(S,b,O,D){Ig=null;var N=VT(D),W=tu(N);if(W!==null){var Z=$h(W);if(Z===null)W=null;else{var q=Z.tag;if(q===y){var et=jR(Z);if(et!==null)return et;W=null}else if(q===d){var nt=Z.stateNode;if(Lg(nt))return QR(Z);W=null}else Z!==W&&(W=null)}}return Ig=W,null}function AA(S){switch(S){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return ps;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return Yo;case"message":{var b=O6();switch(b){case Eg:return ps;case tC:return Yo;case Kh:case L6:return Xo;case eC:return Og;default:return Xo}}default:return Xo}}function V7(S,b,O){return S.addEventListener(b,O,!1),O}function z7(S,b,O){return S.addEventListener(b,O,!0),O}function W7(S,b,O,D){return S.addEventListener(b,O,{capture:!0,passive:D}),O}function Y7(S,b,O,D){return S.addEventListener(b,O,{passive:D}),O}var Ac=null,IC=null,Oc=null;function X7(S){return Ac=S,IC=LA(),!0}function H7(){Ac=null,IC=null,Oc=null}function OA(){if(Oc)return Oc;var S,b=IC,O=b.length,D,N=LA(),W=N.length;for(S=0;S<O&&b[S]===N[S];S++);var Z=O-S;for(D=1;D<=Z&&b[O-D]===N[W-D];D++);var q=D>1?1-D:void 0;return Oc=N.slice(S,q),Oc}function LA(){return"value"in Ac?Ac.value:Ac.textContent}function Bg(S){var b,O=S.keyCode;return"charCode"in S?(b=S.charCode,b===0&&O===13&&(b=13)):b=O,b===10&&(b=13),b>=32||b===13?b:0}function Gg(){return!0}function DA(){return!1}function gs(S){function b(O,D,N,W,Z){this._reactName=O,this._targetInst=N,this.type=D,this.nativeEvent=W,this.target=Z,this.currentTarget=null;for(var q in S)if(S.hasOwnProperty(q)){var et=S[q];et?this[q]=et(W):this[q]=W[q]}var nt=W.defaultPrevented!=null?W.defaultPrevented:W.returnValue===!1;return nt?this.isDefaultPrevented=Gg:this.isDefaultPrevented=DA,this.isPropagationStopped=DA,this}return He(b.prototype,{preventDefault:function(){this.defaultPrevented=!0;var O=this.nativeEvent;O&&(O.preventDefault?O.preventDefault():typeof O.returnValue!="unknown"&&(O.returnValue=!1),this.isDefaultPrevented=Gg)},stopPropagation:function(){var O=this.nativeEvent;O&&(O.stopPropagation?O.stopPropagation():typeof O.cancelBubble!="unknown"&&(O.cancelBubble=!0),this.isPropagationStopped=Gg)},persist:function(){},isPersistent:Gg}),b}var xf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(S){return S.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},BC=gs(xf),Lc=He({},xf,{view:0,detail:0}),$7=gs(Lc),GC,kC,Dc;function K7(S){S!==Dc&&(Dc&&S.type==="mousemove"?(GC=S.screenX-Dc.screenX,kC=S.screenY-Dc.screenY):(GC=0,kC=0),Dc=S)}var kg=He({},Lc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:UC,button:0,buttons:0,relatedTarget:function(S){return S.relatedTarget===void 0?S.fromElement===S.srcElement?S.toElement:S.fromElement:S.relatedTarget},movementX:function(S){return"movementX"in S?S.movementX:(K7(S),GC)},movementY:function(S){return"movementY"in S?S.movementY:kC}}),FA=gs(kg),Z7=He({},kg,{dataTransfer:0}),J7=gs(Z7),j7=He({},Lc,{relatedTarget:0}),NC=gs(j7),Q7=He({},xf,{animationName:0,elapsedTime:0,pseudoElement:0}),q7=gs(Q7),_7=He({},xf,{clipboardData:function(S){return"clipboardData"in S?S.clipboardData:window.clipboardData}}),tU=gs(_7),eU=He({},xf,{data:0}),IA=gs(eU),iU=IA,rU={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nU={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};function sU(S){if(S.key){var b=rU[S.key]||S.key;if(b!=="Unidentified")return b}if(S.type==="keypress"){var O=Bg(S);return O===13?"Enter":String.fromCharCode(O)}return S.type==="keydown"||S.type==="keyup"?nU[S.keyCode]||"Unidentified":""}var aU={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oU(S){var b=this,O=b.nativeEvent;if(O.getModifierState)return O.getModifierState(S);var D=aU[S];return D?!!O[D]:!1}function UC(S){return oU}var lU=He({},Lc,{key:sU,code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:UC,charCode:function(S){return S.type==="keypress"?Bg(S):0},keyCode:function(S){return S.type==="keydown"||S.type==="keyup"?S.keyCode:0},which:function(S){return S.type==="keypress"?Bg(S):S.type==="keydown"||S.type==="keyup"?S.keyCode:0}}),hU=gs(lU),uU=He({},kg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),BA=gs(uU),fU=He({},Lc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:UC}),dU=gs(fU),cU=He({},xf,{propertyName:0,elapsedTime:0,pseudoElement:0}),vU=gs(cU),pU=He({},kg,{deltaX:function(S){return"deltaX"in S?S.deltaX:"wheelDeltaX"in S?-S.wheelDeltaX:0},deltaY:function(S){return"deltaY"in S?S.deltaY:"wheelDeltaY"in S?-S.wheelDeltaY:"wheelDelta"in S?-S.wheelDelta:0},deltaZ:0,deltaMode:0}),gU=gs(pU),mU=[9,13,27,32],GA=229,VC=ft&&"CompositionEvent"in window,Fc=null;ft&&"documentMode"in document&&(Fc=document.documentMode);var yU=ft&&"TextEvent"in window&&!Fc,kA=ft&&(!VC||Fc&&Fc>8&&Fc<=11),NA=32,UA=String.fromCharCode(NA);function xU(){rt("onBeforeInput",["compositionend","keypress","textInput","paste"]),rt("onCompositionEnd",["compositionend","focusout","keydown","keypress","keyup","mousedown"]),rt("onCompositionStart",["compositionstart","focusout","keydown","keypress","keyup","mousedown"]),rt("onCompositionUpdate",["compositionupdate","focusout","keydown","keypress","keyup","mousedown"])}var VA=!1;function TU(S){return(S.ctrlKey||S.altKey||S.metaKey)&&!(S.ctrlKey&&S.altKey)}function CU(S){switch(S){case"compositionstart":return"onCompositionStart";case"compositionend":return"onCompositionEnd";case"compositionupdate":return"onCompositionUpdate"}}function SU(S,b){return S==="keydown"&&b.keyCode===GA}function zA(S,b){switch(S){case"keyup":return mU.indexOf(b.keyCode)!==-1;case"keydown":return b.keyCode!==GA;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function WA(S){var b=S.detail;return typeof b=="object"&&"data"in b?b.data:null}function YA(S){return S.locale==="ko"}var Tf=!1;function EU(S,b,O,D,N){var W,Z;if(VC?W=CU(b):Tf?zA(b,D)&&(W="onCompositionEnd"):SU(b,D)&&(W="onCompositionStart"),!W)return null;kA&&!YA(D)&&(!Tf&&W==="onCompositionStart"?Tf=X7(N):W==="onCompositionEnd"&&Tf&&(Z=OA()));var q=Wg(O,W);if(q.length>0){var et=new IA(W,b,null,D,N);if(S.push({event:et,listeners:q}),Z)et.data=Z;else{var nt=WA(D);nt!==null&&(et.data=nt)}}}function bU(S,b){switch(S){case"compositionend":return WA(b);case"keypress":var O=b.which;return O!==NA?null:(VA=!0,UA);case"textInput":var D=b.data;return D===UA&&VA?null:D;default:return null}}function PU(S,b){if(Tf){if(S==="compositionend"||!VC&&zA(S,b)){var O=OA();return H7(),Tf=!1,O}return null}switch(S){case"paste":return null;case"keypress":if(!TU(b)){if(b.char&&b.char.length>1)return b.char;if(b.which)return String.fromCharCode(b.which)}return null;case"compositionend":return kA&&!YA(b)?null:b.data;default:return null}}function wU(S,b,O,D,N){var W;if(yU?W=bU(b,D):W=PU(b,D),!W)return null;var Z=Wg(O,"onBeforeInput");if(Z.length>0){var q=new iU("onBeforeInput","beforeinput",null,D,N);S.push({event:q,listeners:Z}),q.data=W}}function MU(S,b,O,D,N,W,Z){EU(S,b,O,D,N),wU(S,b,O,D,N)}var RU={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function XA(S){var b=S&&S.nodeName&&S.nodeName.toLowerCase();return b==="input"?!!RU[S.type]:b==="textarea"}/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function AU(S){if(!ft)return!1;var b="on"+S,O=b in document;if(!O){var D=document.createElement("div");D.setAttribute(b,"return;"),O=typeof D[b]=="function"}return O}function OU(){rt("onChange",["change","click","focusin","focusout","input","keydown","keyup","selectionchange"])}function HA(S,b,O,D){WR(D);var N=Wg(b,"onChange");if(N.length>0){var W=new BC("onChange","change",null,O,D);S.push({event:W,listeners:N})}}var Ic=null,Bc=null;function LU(S){var b=S.nodeName&&S.nodeName.toLowerCase();return b==="select"||b==="input"&&S.type==="file"}function DU(S){var b=[];HA(b,Bc,S,VT(S)),$R(FU,b)}function FU(S){hO(S,0)}function Ng(S){var b=wf(S);if(tf(b))return S}function IU(S,b){if(S==="change")return b}var $A=!1;ft&&($A=AU("input")&&(!document.documentMode||document.documentMode>9));function BU(S,b){Ic=S,Bc=b,Ic.attachEvent("onpropertychange",ZA)}function KA(){Ic&&(Ic.detachEvent("onpropertychange",ZA),Ic=null,Bc=null)}function ZA(S){S.propertyName==="value"&&Ng(Bc)&&DU(S)}function GU(S,b,O){S==="focusin"?(KA(),BU(b,O)):S==="focusout"&&KA()}function kU(S,b){if(S==="selectionchange"||S==="keyup"||S==="keydown")return Ng(Bc)}function NU(S){var b=S.nodeName;return b&&b.toLowerCase()==="input"&&(S.type==="checkbox"||S.type==="radio")}function UU(S,b){if(S==="click")return Ng(b)}function VU(S,b){if(S==="input"||S==="change")return Ng(b)}function zU(S){var b=S._wrapperState;!b||!b.controlled||S.type!=="number"||Be(S,"number",S.value)}function WU(S,b,O,D,N,W,Z){var q=O?wf(O):window,et,nt;if(LU(q)?et=IU:XA(q)?$A?et=VU:(et=kU,nt=GU):NU(q)&&(et=UU),et){var at=et(b,O);if(at){HA(S,at,D,N);return}}nt&&nt(b,q,O),b==="focusout"&&zU(q)}function YU(){ot("onMouseEnter",["mouseout","mouseover"]),ot("onMouseLeave",["mouseout","mouseover"]),ot("onPointerEnter",["pointerout","pointerover"]),ot("onPointerLeave",["pointerout","pointerover"])}function XU(S,b,O,D,N,W,Z){var q=b==="mouseover"||b==="pointerover",et=b==="mouseout"||b==="pointerout";if(q&&!o6(D)){var nt=D.relatedTarget||D.fromElement;if(nt&&(tu(nt)||jc(nt)))return}if(!(!et&&!q)){var at;if(N.window===N)at=N;else{var pt=N.ownerDocument;pt?at=pt.defaultView||pt.parentWindow:at=window}var vt,Ct;if(et){var bt=D.relatedTarget||D.toElement;if(vt=O,Ct=bt?tu(bt):null,Ct!==null){var At=$h(Ct);(Ct!==At||Ct.tag!==l&&Ct.tag!==a)&&(Ct=null)}}else vt=null,Ct=O;if(vt!==Ct){var jt=FA,Ce="onMouseLeave",me="onMouseEnter",si="mouse";(b==="pointerout"||b==="pointerover")&&(jt=BA,Ce="onPointerLeave",me="onPointerEnter",si="pointer");var ei=vt==null?at:wf(vt),mt=Ct==null?at:wf(Ct),Ot=new jt(Ce,si+"leave",vt,D,N);Ot.target=ei,Ot.relatedTarget=mt;var yt=null,zt=tu(N);if(zt===O){var ae=new jt(me,si+"enter",Ct,D,N);ae.target=mt,ae.relatedTarget=ei,yt=ae}vV(S,Ot,yt,vt,Ct)}}}function HU(S,b){return S===b&&(S!==0||1/S===1/b)||S!==S&&b!==b}var ms=typeof Object.is=="function"?Object.is:HU;function Gc(S,b){if(ms(S,b))return!0;if(typeof S!="object"||S===null||typeof b!="object"||b===null)return!1;var O=Object.keys(S),D=Object.keys(b);if(O.length!==D.length)return!1;for(var N=0;N<O.length;N++){var W=O[N];if(!ct.call(b,W)||!ms(S[W],b[W]))return!1}return!0}function JA(S){for(;S&&S.firstChild;)S=S.firstChild;return S}function $U(S){for(;S;){if(S.nextSibling)return S.nextSibling;S=S.parentNode}}function jA(S,b){for(var O=JA(S),D=0,N=0;O;){if(O.nodeType===Go){if(N=D+O.textContent.length,D<=b&&N>=b)return{node:O,offset:b-D};D=N}O=JA($U(O))}}function KU(S){var b=S.ownerDocument,O=b&&b.defaultView||window,D=O.getSelection&&O.getSelection();if(!D||D.rangeCount===0)return null;var N=D.anchorNode,W=D.anchorOffset,Z=D.focusNode,q=D.focusOffset;try{N.nodeType,Z.nodeType}catch{return null}return ZU(S,N,W,Z,q)}function ZU(S,b,O,D,N){var W=0,Z=-1,q=-1,et=0,nt=0,at=S,pt=null;t:for(;;){for(var vt=null;at===b&&(O===0||at.nodeType===Go)&&(Z=W+O),at===D&&(N===0||at.nodeType===Go)&&(q=W+N),at.nodeType===Go&&(W+=at.nodeValue.length),(vt=at.firstChild)!==null;)pt=at,at=vt;for(;;){if(at===S)break t;if(pt===b&&++et===O&&(Z=W),pt===D&&++nt===N&&(q=W),(vt=at.nextSibling)!==null)break;at=pt,pt=at.parentNode}at=vt}return Z===-1||q===-1?null:{start:Z,end:q}}function JU(S,b){var O=S.ownerDocument||document,D=O&&O.defaultView||window;if(D.getSelection){var N=D.getSelection(),W=S.textContent.length,Z=Math.min(b.start,W),q=b.end===void 0?Z:Math.min(b.end,W);if(!N.extend&&Z>q){var et=q;q=Z,Z=et}var nt=jA(S,Z),at=jA(S,q);if(nt&&at){if(N.rangeCount===1&&N.anchorNode===nt.node&&N.anchorOffset===nt.offset&&N.focusNode===at.node&&N.focusOffset===at.offset)return;var pt=O.createRange();pt.setStart(nt.node,nt.offset),N.removeAllRanges(),Z>q?(N.addRange(pt),N.extend(at.node,at.offset)):(pt.setEnd(at.node,at.offset),N.addRange(pt))}}}function QA(S){return S&&S.nodeType===Go}function qA(S,b){return!S||!b?!1:S===b?!0:QA(S)?!1:QA(b)?qA(S,b.parentNode):"contains"in S?S.contains(b):S.compareDocumentPosition?!!(S.compareDocumentPosition(b)&16):!1}function jU(S){return S&&S.ownerDocument&&qA(S.ownerDocument.documentElement,S)}function QU(S){try{return typeof S.contentWindow.location.href=="string"}catch{return!1}}function _A(){for(var S=window,b=wl();b instanceof S.HTMLIFrameElement;){if(QU(b))S=b.contentWindow;else return b;b=wl(S.document)}return b}function zC(S){var b=S&&S.nodeName&&S.nodeName.toLowerCase();return b&&(b==="input"&&(S.type==="text"||S.type==="search"||S.type==="tel"||S.type==="url"||S.type==="password")||b==="textarea"||S.contentEditable==="true")}function qU(){var S=_A();return{focusedElem:S,selectionRange:zC(S)?tV(S):null}}function _U(S){var b=_A(),O=S.focusedElem,D=S.selectionRange;if(b!==O&&jU(O)){D!==null&&zC(O)&&eV(O,D);for(var N=[],W=O;W=W.parentNode;)W.nodeType===$n&&N.push({element:W,left:W.scrollLeft,top:W.scrollTop});typeof O.focus=="function"&&O.focus();for(var Z=0;Z<N.length;Z++){var q=N[Z];q.element.scrollLeft=q.left,q.element.scrollTop=q.top}}}function tV(S){var b;return"selectionStart"in S?b={start:S.selectionStart,end:S.selectionEnd}:b=KU(S),b||{start:0,end:0}}function eV(S,b){var O=b.start,D=b.end;D===void 0&&(D=O),"selectionStart"in S?(S.selectionStart=O,S.selectionEnd=Math.min(D,S.value.length)):JU(S,b)}var iV=ft&&"documentMode"in document&&document.documentMode<=11;function rV(){rt("onSelect",["focusout","contextmenu","dragend","focusin","keydown","keyup","mousedown","mouseup","selectionchange"])}var Cf=null,WC=null,kc=null,YC=!1;function nV(S){if("selectionStart"in S&&zC(S))return{start:S.selectionStart,end:S.selectionEnd};var b=S.ownerDocument&&S.ownerDocument.defaultView||window,O=b.getSelection();return{anchorNode:O.anchorNode,anchorOffset:O.anchorOffset,focusNode:O.focusNode,focusOffset:O.focusOffset}}function sV(S){return S.window===S?S.document:S.nodeType===ko?S:S.ownerDocument}function tO(S,b,O){var D=sV(O);if(!(YC||Cf==null||Cf!==wl(D))){var N=nV(Cf);if(!kc||!Gc(kc,N)){kc=N;var W=Wg(WC,"onSelect");if(W.length>0){var Z=new BC("onSelect","select",null,b,O);S.push({event:Z,listeners:W}),Z.target=Cf}}}}function aV(S,b,O,D,N,W,Z){var q=O?wf(O):window;switch(b){case"focusin":(XA(q)||q.contentEditable==="true")&&(Cf=q,WC=O,kc=null);break;case"focusout":Cf=null,WC=null,kc=null;break;case"mousedown":YC=!0;break;case"contextmenu":case"mouseup":case"dragend":YC=!1,tO(S,D,N);break;case"selectionchange":if(iV)break;case"keydown":case"keyup":tO(S,D,N)}}function Ug(S,b){var O={};return O[S.toLowerCase()]=b.toLowerCase(),O["Webkit"+S]="webkit"+b,O["Moz"+S]="moz"+b,O}var Sf={animationend:Ug("Animation","AnimationEnd"),animationiteration:Ug("Animation","AnimationIteration"),animationstart:Ug("Animation","AnimationStart"),transitionend:Ug("Transition","TransitionEnd")},XC={},eO={};ft&&(eO=document.createElement("div").style,"AnimationEvent"in window||(delete Sf.animationend.animation,delete Sf.animationiteration.animation,delete Sf.animationstart.animation),"TransitionEvent"in window||delete Sf.transitionend.transition);function Vg(S){if(XC[S])return XC[S];if(!Sf[S])return S;var b=Sf[S];for(var O in b)if(b.hasOwnProperty(O)&&O in eO)return XC[S]=b[O];return S}var iO=Vg("animationend"),rO=Vg("animationiteration"),nO=Vg("animationstart"),sO=Vg("transitionend"),aO=new Map,oO=["abort","auxClick","cancel","canPlay","canPlayThrough","click","close","contextMenu","copy","cut","drag","dragEnd","dragEnter","dragExit","dragLeave","dragOver","dragStart","drop","durationChange","emptied","encrypted","ended","error","gotPointerCapture","input","invalid","keyDown","keyPress","keyUp","load","loadedData","loadedMetadata","loadStart","lostPointerCapture","mouseDown","mouseMove","mouseOut","mouseOver","mouseUp","paste","pause","play","playing","pointerCancel","pointerDown","pointerMove","pointerOut","pointerOver","pointerUp","progress","rateChange","reset","resize","seeked","seeking","stalled","submit","suspend","timeUpdate","touchCancel","touchEnd","touchStart","volumeChange","scroll","toggle","touchMove","waiting","wheel"];function Fl(S,b){aO.set(S,b),rt(b,[S])}function oV(){for(var S=0;S<oO.length;S++){var b=oO[S],O=b.toLowerCase(),D=b[0].toUpperCase()+b.slice(1);Fl(O,"on"+D)}Fl(iO,"onAnimationEnd"),Fl(rO,"onAnimationIteration"),Fl(nO,"onAnimationStart"),Fl("dblclick","onDoubleClick"),Fl("focusin","onFocus"),Fl("focusout","onBlur"),Fl(sO,"onTransitionEnd")}function lV(S,b,O,D,N,W,Z){var q=aO.get(b);if(q!==void 0){var et=BC,nt=b;switch(b){case"keypress":if(Bg(D)===0)return;case"keydown":case"keyup":et=hU;break;case"focusin":nt="focus",et=NC;break;case"focusout":nt="blur",et=NC;break;case"beforeblur":case"afterblur":et=NC;break;case"click":if(D.button===2)return;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":et=FA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":et=J7;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":et=dU;break;case iO:case rO:case nO:et=q7;break;case sO:et=vU;break;case"scroll":et=$7;break;case"wheel":et=gU;break;case"copy":case"cut":case"paste":et=tU;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":et=BA;break}var at=(W&lc)!==0;{var pt=!at&&b==="scroll",vt=dV(O,q,D.type,at,pt);if(vt.length>0){var Ct=new et(q,nt,null,D,N);S.push({event:Ct,listeners:vt})}}}}oV(),YU(),OU(),rV(),xU();function hV(S,b,O,D,N,W,Z){lV(S,b,O,D,N,W);var q=(W&n6)===0;q&&(XU(S,b,O,D,N),WU(S,b,O,D,N),aV(S,b,O,D,N),MU(S,b,O,D,N))}var Nc=["abort","canplay","canplaythrough","durationchange","emptied","encrypted","ended","error","loadeddata","loadedmetadata","loadstart","pause","play","playing","progress","ratechange","resize","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting"],HC=new Set(["cancel","close","invalid","load","scroll","toggle"].concat(Nc));function lO(S,b,O){var D=S.type||"unknown-event";S.currentTarget=O,g6(D,b,void 0,S),S.currentTarget=null}function uV(S,b,O){var D;if(O)for(var N=b.length-1;N>=0;N--){var W=b[N],Z=W.instance,q=W.currentTarget,et=W.listener;if(Z!==D&&S.isPropagationStopped())return;lO(S,et,q),D=Z}else for(var nt=0;nt<b.length;nt++){var at=b[nt],pt=at.instance,vt=at.currentTarget,Ct=at.listener;if(pt!==D&&S.isPropagationStopped())return;lO(S,Ct,vt),D=pt}}function hO(S,b){for(var O=(b&lc)!==0,D=0;D<S.length;D++){var N=S[D],W=N.event,Z=N.listeners;uV(W,Z,O)}m6()}function fV(S,b,O,D,N){var W=VT(O),Z=[];hV(Z,S,D,O,W,b),hO(Z,b)}function Ki(S,b){HC.has(S)||n('Did not expect a listenToNonDelegatedEvent() call for "%s". This is a bug in React. Please file an issue.',S);var O=!1,D=zz(b),N=pV(S);D.has(N)||(uO(b,S,UT,O),D.add(N))}function $C(S,b,O){HC.has(S)&&!b&&n('Did not expect a listenToNativeEvent() call for "%s" in the bubble phase. This is a bug in React. Please file an issue.',S);var D=0;b&&(D|=lc),uO(O,S,D,b)}var zg="_reactListening"+Math.random().toString(36).slice(2);function Uc(S){if(!S[zg]){S[zg]=!0,Q.forEach(function(O){O!=="selectionchange"&&(HC.has(O)||$C(O,!1,S),$C(O,!0,S))});var b=S.nodeType===ko?S:S.ownerDocument;b!==null&&(b[zg]||(b[zg]=!0,$C("selectionchange",!1,b)))}}function uO(S,b,O,D,N){var W=G7(S,b,O),Z=void 0;YT&&(b==="touchstart"||b==="touchmove"||b==="wheel")&&(Z=!0),S=S,D?Z!==void 0?W7(S,b,W,Z):z7(S,b,W):Z!==void 0?Y7(S,b,W,Z):V7(S,b,W)}function fO(S,b){return S===b||S.nodeType===mr&&S.parentNode===b}function KC(S,b,O,D,N){var W=D;if(!(b&VR)&&!(b&UT)){var Z=N;if(D!==null){var q=D;t:for(;;){if(q===null)return;var et=q.tag;if(et===d||et===h){var nt=q.stateNode.containerInfo;if(fO(nt,Z))break;if(et===h)for(var at=q.return;at!==null;){var pt=at.tag;if(pt===d||pt===h){var vt=at.stateNode.containerInfo;if(fO(vt,Z))return}at=at.return}for(;nt!==null;){var Ct=tu(nt);if(Ct===null)return;var bt=Ct.tag;if(bt===l||bt===a){q=W=Ct;continue t}nt=nt.parentNode}}q=q.return}}}$R(function(){return fV(S,b,O,W)})}function Vc(S,b,O){return{instance:S,listener:b,currentTarget:O}}function dV(S,b,O,D,N,W){for(var Z=b!==null?b+"Capture":null,q=D?Z:b,et=[],nt=S,at=null;nt!==null;){var pt=nt,vt=pt.stateNode,Ct=pt.tag;if(Ct===l&&vt!==null&&(at=vt,q!==null)){var bt=uc(nt,q);bt!=null&&et.push(Vc(nt,bt,at))}if(N)break;nt=nt.return}return et}function Wg(S,b){for(var O=b+"Capture",D=[],N=S;N!==null;){var W=N,Z=W.stateNode,q=W.tag;if(q===l&&Z!==null){var et=Z,nt=uc(N,O);nt!=null&&D.unshift(Vc(N,nt,et));var at=uc(N,b);at!=null&&D.push(Vc(N,at,et))}N=N.return}return D}function Ef(S){if(S===null)return null;do S=S.return;while(S&&S.tag!==l);return S||null}function cV(S,b){for(var O=S,D=b,N=0,W=O;W;W=Ef(W))N++;for(var Z=0,q=D;q;q=Ef(q))Z++;for(;N-Z>0;)O=Ef(O),N--;for(;Z-N>0;)D=Ef(D),Z--;for(var et=N;et--;){if(O===D||D!==null&&O===D.alternate)return O;O=Ef(O),D=Ef(D)}return null}function dO(S,b,O,D,N){for(var W=b._reactName,Z=[],q=O;q!==null&&q!==D;){var et=q,nt=et.alternate,at=et.stateNode,pt=et.tag;if(nt!==null&&nt===D)break;if(pt===l&&at!==null){var vt=at;if(N){var Ct=uc(q,W);Ct!=null&&Z.unshift(Vc(q,Ct,vt))}else if(!N){var bt=uc(q,W);bt!=null&&Z.push(Vc(q,bt,vt))}}q=q.return}Z.length!==0&&S.push({event:b,listeners:Z})}function vV(S,b,O,D,N){var W=D&&N?cV(D,N):null;D!==null&&dO(S,b,D,W,!1),N!==null&&O!==null&&dO(S,O,N,W,!0)}function pV(S,b){return S+"__bubble"}var Kn=!1,zc="dangerouslySetInnerHTML",Yg="suppressContentEditableWarning",Il="suppressHydrationWarning",cO="autoFocus",qh="children",_h="style",Xg="__html",ZC,Hg,Wc,vO,$g,pO,gO;ZC={dialog:!0,webview:!0},Hg=function(S,b){QN(S,b),qN(S,b),r6(S,b,{registrationNameDependencies:_,possibleRegistrationNames:tt})},pO=ft&&!document.documentMode,Wc=function(S,b,O){if(!Kn){var D=Kg(O),N=Kg(b);N!==D&&(Kn=!0,n("Prop `%s` did not match. Server: %s Client: %s",S,JSON.stringify(N),JSON.stringify(D)))}},vO=function(S){if(!Kn){Kn=!0;var b=[];S.forEach(function(O){b.push(O)}),n("Extra attributes from the server: %s",b)}},$g=function(S,b){b===!1?n("Expected `%s` listener to be a function, instead got `false`.\n\nIf you used to conditionally omit it with %s={condition && value}, pass %s={condition ? value : undefined} instead.",S,S,S):n("Expected `%s` listener to be a function, instead got a value of `%s` type.",S,typeof b)},gO=function(S,b){var O=S.namespaceURI===Bo?S.ownerDocument.createElement(S.tagName):S.ownerDocument.createElementNS(S.namespaceURI,S.tagName);return O.innerHTML=b,O.innerHTML};var gV=/\r\n?/g,mV=/\u0000|\uFFFD/g;function Kg(S){Pt(S);var b=typeof S=="string"?S:""+S;return b.replace(gV,`
`).replace(mV,"")}function Zg(S,b,O,D){var N=Kg(b),W=Kg(S);if(W!==N&&(D&&(Kn||(Kn=!0,n('Text content did not match. Server: "%s" Client: "%s"',W,N))),O&&k))throw new Error("Text content does not match server-rendered HTML.")}function mO(S){return S.nodeType===ko?S:S.ownerDocument}function yV(){}function Jg(S){S.onclick=yV}function xV(S,b,O,D,N){for(var W in D)if(D.hasOwnProperty(W)){var Z=D[W];if(W===_h)Z&&Object.freeze(Z),IR(b,Z);else if(W===zc){var q=Z?Z[Xg]:void 0;q!=null&&AR(b,q)}else if(W===qh)if(typeof Z=="string"){var et=S!=="textarea"||Z!=="";et&&mg(b,Z)}else typeof Z=="number"&&mg(b,""+Z);else W===Yg||W===Il||W===cO||(_.hasOwnProperty(W)?Z!=null&&(typeof Z!="function"&&$g(W,Z),W==="onScroll"&&Ki("scroll",b)):Z!=null&&oa(b,W,Z,N))}}function TV(S,b,O,D){for(var N=0;N<b.length;N+=2){var W=b[N],Z=b[N+1];W===_h?IR(S,Z):W===zc?AR(S,Z):W===qh?mg(S,Z):oa(S,W,Z,D)}}function CV(S,b,O,D){var N,W=mO(O),Z,q=D;if(q===Bo&&(q=FT(S)),q===Bo){if(N=zh(S,b),!N&&S!==S.toLowerCase()&&n("<%s /> is using incorrect casing. Use PascalCase for React components, or lowercase for HTML elements.",S),S==="script"){var et=W.createElement("div");et.innerHTML="<script><\/script>";var nt=et.firstChild;Z=et.removeChild(nt)}else if(typeof b.is=="string")Z=W.createElement(S,{is:b.is});else if(Z=W.createElement(S),S==="select"){var at=Z;b.multiple?at.multiple=!0:b.size&&(at.size=b.size)}}else Z=W.createElementNS(q,S);return q===Bo&&!N&&Object.prototype.toString.call(Z)==="[object HTMLUnknownElement]"&&!ct.call(ZC,S)&&(ZC[S]=!0,n("The tag <%s> is unrecognized in this browser. If you meant to render a React component, start its name with an uppercase letter.",S)),Z}function SV(S,b){return mO(b).createTextNode(S)}function EV(S,b,O,D){var N=zh(b,O);Hg(b,O);var W;switch(b){case"dialog":Ki("cancel",S),Ki("close",S),W=O;break;case"iframe":case"object":case"embed":Ki("load",S),W=O;break;case"video":case"audio":for(var Z=0;Z<Nc.length;Z++)Ki(Nc[Z],S);W=O;break;case"source":Ki("error",S),W=O;break;case"img":case"image":case"link":Ki("error",S),Ki("load",S),W=O;break;case"details":Ki("toggle",S),W=O;break;case"input":ht(S,O),W=it(S,O),Ki("invalid",S);break;case"option":Bi(S,O),W=O;break;case"select":ac(S,O),W=sc(S,O),Ki("invalid",S);break;case"textarea":wR(S,O),W=LT(S,O),Ki("invalid",S);break;default:W=O}switch(NT(b,W),xV(b,S,D,W,N),b){case"input":Fo(S),Yt(S,O,!1);break;case"textarea":Fo(S),RR(S);break;case"option":$i(S,O);break;case"select":OT(S,O);break;default:typeof W.onClick=="function"&&Jg(S);break}}function bV(S,b,O,D,N){Hg(b,D);var W=null,Z,q;switch(b){case"input":Z=it(S,O),q=it(S,D),W=[];break;case"select":Z=sc(S,O),q=sc(S,D),W=[];break;case"textarea":Z=LT(S,O),q=LT(S,D),W=[];break;default:Z=O,q=D,typeof Z.onClick!="function"&&typeof q.onClick=="function"&&Jg(S);break}NT(b,q);var et,nt,at=null;for(et in Z)if(!(q.hasOwnProperty(et)||!Z.hasOwnProperty(et)||Z[et]==null))if(et===_h){var pt=Z[et];for(nt in pt)pt.hasOwnProperty(nt)&&(at||(at={}),at[nt]="")}else et===zc||et===qh||et===Yg||et===Il||et===cO||(_.hasOwnProperty(et)?W||(W=[]):(W=W||[]).push(et,null));for(et in q){var vt=q[et],Ct=Z!=null?Z[et]:void 0;if(!(!q.hasOwnProperty(et)||vt===Ct||vt==null&&Ct==null))if(et===_h)if(vt&&Object.freeze(vt),Ct){for(nt in Ct)Ct.hasOwnProperty(nt)&&(!vt||!vt.hasOwnProperty(nt))&&(at||(at={}),at[nt]="");for(nt in vt)vt.hasOwnProperty(nt)&&Ct[nt]!==vt[nt]&&(at||(at={}),at[nt]=vt[nt])}else at||(W||(W=[]),W.push(et,at)),at=vt;else if(et===zc){var bt=vt?vt[Xg]:void 0,At=Ct?Ct[Xg]:void 0;bt!=null&&At!==bt&&(W=W||[]).push(et,bt)}else et===qh?(typeof vt=="string"||typeof vt=="number")&&(W=W||[]).push(et,""+vt):et===Yg||et===Il||(_.hasOwnProperty(et)?(vt!=null&&(typeof vt!="function"&&$g(et,vt),et==="onScroll"&&Ki("scroll",S)),!W&&Ct!==vt&&(W=[])):(W=W||[]).push(et,vt))}return at&&(YN(at,q[_h]),(W=W||[]).push(_h,at)),W}function PV(S,b,O,D,N){O==="input"&&N.type==="radio"&&N.name!=null&&Et(S,N);var W=zh(O,D),Z=zh(O,N);switch(TV(S,b,W,Z),O){case"input":Rt(S,N);break;case"textarea":MR(S,N);break;case"select":TN(S,N);break}}function wV(S){{var b=S.toLowerCase();return yg.hasOwnProperty(b)&&yg[b]||null}}function MV(S,b,O,D,N,W,Z){var q,et;switch(q=zh(b,O),Hg(b,O),b){case"dialog":Ki("cancel",S),Ki("close",S);break;case"iframe":case"object":case"embed":Ki("load",S);break;case"video":case"audio":for(var nt=0;nt<Nc.length;nt++)Ki(Nc[nt],S);break;case"source":Ki("error",S);break;case"img":case"image":case"link":Ki("error",S),Ki("load",S);break;case"details":Ki("toggle",S);break;case"input":ht(S,O),Ki("invalid",S);break;case"option":Bi(S,O);break;case"select":ac(S,O),Ki("invalid",S);break;case"textarea":wR(S,O),Ki("invalid",S);break}NT(b,O);{et=new Set;for(var at=S.attributes,pt=0;pt<at.length;pt++){var vt=at[pt].name.toLowerCase();switch(vt){case"value":break;case"checked":break;case"selected":break;default:et.add(at[pt].name)}}}var Ct=null;for(var bt in O)if(O.hasOwnProperty(bt)){var At=O[bt];if(bt===qh)typeof At=="string"?S.textContent!==At&&(O[Il]!==!0&&Zg(S.textContent,At,W,Z),Ct=[qh,At]):typeof At=="number"&&S.textContent!==""+At&&(O[Il]!==!0&&Zg(S.textContent,At,W,Z),Ct=[qh,""+At]);else if(_.hasOwnProperty(bt))At!=null&&(typeof At!="function"&&$g(bt,At),bt==="onScroll"&&Ki("scroll",S));else if(Z&&typeof q=="boolean"){var jt=void 0,Ce=Hi(bt);if(O[Il]!==!0){if(!(bt===Yg||bt===Il||bt==="value"||bt==="checked"||bt==="selected")){if(bt===zc){var me=S.innerHTML,si=At?At[Xg]:void 0;if(si!=null){var ei=gO(S,si);ei!==me&&Wc(bt,me,ei)}}else if(bt===_h){if(et.delete(bt),pO){var mt=zN(At);jt=S.getAttribute("style"),mt!==jt&&Wc(bt,jt,mt)}}else if(q&&!Y)et.delete(bt.toLowerCase()),jt=Ka(S,bt,At),At!==jt&&Wc(bt,jt,At);else if(!Ci(bt,Ce,q)&&!ti(bt,At,Ce,q)){var Ot=!1;if(Ce!==null)et.delete(Ce.attributeName),jt=mn(S,bt,At,Ce);else{var yt=D;if(yt===Bo&&(yt=FT(b)),yt===Bo)et.delete(bt.toLowerCase());else{var zt=wV(bt);zt!==null&&zt!==bt&&(Ot=!0,et.delete(zt)),et.delete(bt)}jt=Ka(S,bt,At)}var ae=Y;!ae&&At!==jt&&!Ot&&Wc(bt,jt,At)}}}}}switch(Z&&et.size>0&&O[Il]!==!0&&vO(et),b){case"input":Fo(S),Yt(S,O,!0);break;case"textarea":Fo(S),RR(S);break;case"select":case"option":break;default:typeof O.onClick=="function"&&Jg(S);break}return Ct}function RV(S,b,O){var D=S.nodeValue!==b;return D}function JC(S,b){{if(Kn)return;Kn=!0,n("Did not expect server HTML to contain a <%s> in <%s>.",b.nodeName.toLowerCase(),S.nodeName.toLowerCase())}}function jC(S,b){{if(Kn)return;Kn=!0,n('Did not expect server HTML to contain the text node "%s" in <%s>.',b.nodeValue,S.nodeName.toLowerCase())}}function QC(S,b,O){{if(Kn)return;Kn=!0,n("Expected server HTML to contain a matching <%s> in <%s>.",b,S.nodeName.toLowerCase())}}function qC(S,b){{if(b===""||Kn)return;Kn=!0,n('Expected server HTML to contain a matching text node for "%s" in <%s>.',b,S.nodeName.toLowerCase())}}function AV(S,b,O){switch(b){case"input":Oe(S,O);return;case"textarea":SN(S,O);return;case"select":CN(S,O);return}}var Yc=function(){},Xc=function(){};{var OV=["address","applet","area","article","aside","base","basefont","bgsound","blockquote","body","br","button","caption","center","col","colgroup","dd","details","dir","div","dl","dt","embed","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","iframe","img","input","isindex","li","link","listing","main","marquee","menu","menuitem","meta","nav","noembed","noframes","noscript","object","ol","p","param","plaintext","pre","script","section","select","source","style","summary","table","tbody","td","template","textarea","tfoot","th","thead","title","tr","track","ul","wbr","xmp"],yO=["applet","caption","html","table","td","th","marquee","object","template","foreignObject","desc","title"],LV=yO.concat(["button"]),DV=["dd","dt","li","option","optgroup","p","rp","rt"],xO={current:null,formTag:null,aTagInScope:null,buttonTagInScope:null,nobrTagInScope:null,pTagInButtonScope:null,listItemTagAutoclosing:null,dlItemTagAutoclosing:null};Xc=function(S,b){var O=He({},S||xO),D={tag:b};return yO.indexOf(b)!==-1&&(O.aTagInScope=null,O.buttonTagInScope=null,O.nobrTagInScope=null),LV.indexOf(b)!==-1&&(O.pTagInButtonScope=null),OV.indexOf(b)!==-1&&b!=="address"&&b!=="div"&&b!=="p"&&(O.listItemTagAutoclosing=null,O.dlItemTagAutoclosing=null),O.current=D,b==="form"&&(O.formTag=D),b==="a"&&(O.aTagInScope=D),b==="button"&&(O.buttonTagInScope=D),b==="nobr"&&(O.nobrTagInScope=D),b==="p"&&(O.pTagInButtonScope=D),b==="li"&&(O.listItemTagAutoclosing=D),(b==="dd"||b==="dt")&&(O.dlItemTagAutoclosing=D),O};var FV=function(S,b){switch(b){case"select":return S==="option"||S==="optgroup"||S==="#text";case"optgroup":return S==="option"||S==="#text";case"option":return S==="#text";case"tr":return S==="th"||S==="td"||S==="style"||S==="script"||S==="template";case"tbody":case"thead":case"tfoot":return S==="tr"||S==="style"||S==="script"||S==="template";case"colgroup":return S==="col"||S==="template";case"table":return S==="caption"||S==="colgroup"||S==="tbody"||S==="tfoot"||S==="thead"||S==="style"||S==="script"||S==="template";case"head":return S==="base"||S==="basefont"||S==="bgsound"||S==="link"||S==="meta"||S==="title"||S==="noscript"||S==="noframes"||S==="style"||S==="script"||S==="template";case"html":return S==="head"||S==="body"||S==="frameset";case"frameset":return S==="frame";case"#document":return S==="html"}switch(S){case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return b!=="h1"&&b!=="h2"&&b!=="h3"&&b!=="h4"&&b!=="h5"&&b!=="h6";case"rp":case"rt":return DV.indexOf(b)===-1;case"body":case"caption":case"col":case"colgroup":case"frameset":case"frame":case"head":case"html":case"tbody":case"td":case"tfoot":case"th":case"thead":case"tr":return b==null}return!0},IV=function(S,b){switch(S){case"address":case"article":case"aside":case"blockquote":case"center":case"details":case"dialog":case"dir":case"div":case"dl":case"fieldset":case"figcaption":case"figure":case"footer":case"header":case"hgroup":case"main":case"menu":case"nav":case"ol":case"p":case"section":case"summary":case"ul":case"pre":case"listing":case"table":case"hr":case"xmp":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return b.pTagInButtonScope;case"form":return b.formTag||b.pTagInButtonScope;case"li":return b.listItemTagAutoclosing;case"dd":case"dt":return b.dlItemTagAutoclosing;case"button":return b.buttonTagInScope;case"a":return b.aTagInScope;case"nobr":return b.nobrTagInScope}return null},TO={};Yc=function(S,b,O){O=O||xO;var D=O.current,N=D&&D.tag;b!=null&&(S!=null&&n("validateDOMNesting: when childText is passed, childTag should be null"),S="#text");var W=FV(S,N)?null:D,Z=W?null:IV(S,O),q=W||Z;if(q){var et=q.tag,nt=!!W+"|"+S+"|"+et;if(!TO[nt]){TO[nt]=!0;var at=S,pt="";if(S==="#text"?/\S/.test(b)?at="Text nodes":(at="Whitespace text nodes",pt=" Make sure you don't have any extra whitespace between tags on each line of your source code."):at="<"+S+">",W){var vt="";et==="table"&&S==="tr"&&(vt+=" Add a <tbody>, <thead> or <tfoot> to your code to match the DOM tree generated by the browser."),n("validateDOMNesting(...): %s cannot appear as a child of <%s>.%s%s",at,et,pt,vt)}else n("validateDOMNesting(...): %s cannot appear as a descendant of <%s>.",at,et)}}}}var jg="suppressHydrationWarning",Qg="$",qg="/$",Hc="$?",$c="$!",BV="style",_C=null,tS=null;function GV(S){var b,O,D=S.nodeType;switch(D){case ko:case BT:{b=D===ko?"#document":"#fragment";var N=S.documentElement;O=N?N.namespaceURI:IT(null,"");break}default:{var W=D===mr?S.parentNode:S,Z=W.namespaceURI||null;b=W.tagName,O=IT(Z,b);break}}{var q=b.toLowerCase(),et=Xc(null,q);return{namespace:O,ancestorInfo:et}}}function kV(S,b,O){{var D=S,N=IT(D.namespace,b),W=Xc(D.ancestorInfo,b);return{namespace:N,ancestorInfo:W}}}function BPt(S){return S}function NV(S){_C=B7(),tS=qU();var b=null;return RA(!1),b}function UV(S){_U(tS),RA(_C),_C=null,tS=null}function VV(S,b,O,D,N){var W;{var Z=D;if(Yc(S,null,Z.ancestorInfo),typeof b.children=="string"||typeof b.children=="number"){var q=""+b.children,et=Xc(Z.ancestorInfo,S);Yc(null,q,et)}W=Z.namespace}var nt=CV(S,b,O,W);return Jc(N,nt),lS(nt,b),nt}function zV(S,b){S.appendChild(b)}function WV(S,b,O,D,N){switch(EV(S,b,O,D),b){case"button":case"input":case"select":case"textarea":return!!O.autoFocus;case"img":return!0;default:return!1}}function YV(S,b,O,D,N,W){{var Z=W;if(typeof D.children!=typeof O.children&&(typeof D.children=="string"||typeof D.children=="number")){var q=""+D.children,et=Xc(Z.ancestorInfo,b);Yc(null,q,et)}}return bV(S,b,O,D)}function eS(S,b){return S==="textarea"||S==="noscript"||typeof b.children=="string"||typeof b.children=="number"||typeof b.dangerouslySetInnerHTML=="object"&&b.dangerouslySetInnerHTML!==null&&b.dangerouslySetInnerHTML.__html!=null}function XV(S,b,O,D){{var N=O;Yc(null,S,N.ancestorInfo)}var W=SV(S,b);return Jc(D,W),W}function HV(){var S=window.event;return S===void 0?Xo:AA(S.type)}var iS=typeof setTimeout=="function"?setTimeout:void 0,$V=typeof clearTimeout=="function"?clearTimeout:void 0,rS=-1,CO=typeof Promise=="function"?Promise:void 0,KV=typeof queueMicrotask=="function"?queueMicrotask:typeof CO<"u"?function(S){return CO.resolve(null).then(S).catch(ZV)}:iS;function ZV(S){setTimeout(function(){throw S})}function JV(S,b,O,D){switch(b){case"button":case"input":case"select":case"textarea":O.autoFocus&&S.focus();return;case"img":{O.src&&(S.src=O.src);return}}}function jV(S,b,O,D,N,W){PV(S,b,O,D,N),lS(S,N)}function SO(S){mg(S,"")}function QV(S,b,O){S.nodeValue=O}function qV(S,b){S.appendChild(b)}function _V(S,b){var O;S.nodeType===mr?(O=S.parentNode,O.insertBefore(b,S)):(O=S,O.appendChild(b));var D=S._reactRootContainer;D==null&&O.onclick===null&&Jg(O)}function tz(S,b,O){S.insertBefore(b,O)}function ez(S,b,O){S.nodeType===mr?S.parentNode.insertBefore(b,O):S.insertBefore(b,O)}function iz(S,b){S.removeChild(b)}function rz(S,b){S.nodeType===mr?S.parentNode.removeChild(b):S.removeChild(b)}function nS(S,b){var O=b,D=0;do{var N=O.nextSibling;if(S.removeChild(O),N&&N.nodeType===mr){var W=N.data;if(W===qg)if(D===0){S.removeChild(N),Rc(b);return}else D--;else(W===Qg||W===Hc||W===$c)&&D++}O=N}while(O);Rc(b)}function nz(S,b){S.nodeType===mr?nS(S.parentNode,b):S.nodeType===$n&&nS(S,b),Rc(S)}function sz(S){S=S;var b=S.style;typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none"}function az(S){S.nodeValue=""}function oz(S,b){S=S;var O=b[BV],D=O!=null&&O.hasOwnProperty("display")?O.display:null;S.style.display=GT("display",D)}function lz(S,b){S.nodeValue=b}function hz(S){S.nodeType===$n?S.textContent="":S.nodeType===ko&&S.documentElement&&S.removeChild(S.documentElement)}function uz(S,b,O){return S.nodeType!==$n||b.toLowerCase()!==S.nodeName.toLowerCase()?null:S}function fz(S,b){return b===""||S.nodeType!==Go?null:S}function dz(S){return S.nodeType!==mr?null:S}function EO(S){return S.data===Hc}function sS(S){return S.data===$c}function cz(S){var b=S.nextSibling&&S.nextSibling.dataset,O,D,N;return b&&(O=b.dgst,D=b.msg,N=b.stck),{message:D,digest:O,stack:N}}function vz(S,b){S._reactRetry=b}function _g(S){for(;S!=null;S=S.nextSibling){var b=S.nodeType;if(b===$n||b===Go)break;if(b===mr){var O=S.data;if(O===Qg||O===$c||O===Hc)break;if(O===qg)return null}}return S}function Kc(S){return _g(S.nextSibling)}function pz(S){return _g(S.firstChild)}function gz(S){return _g(S.firstChild)}function mz(S){return _g(S.nextSibling)}function yz(S,b,O,D,N,W,Z){Jc(W,S),lS(S,O);var q;{var et=N;q=et.namespace}var nt=(W.mode&ri)!==Pe;return MV(S,b,O,q,D,nt,Z)}function xz(S,b,O,D){return Jc(O,S),O.mode&ri,RV(S,b)}function Tz(S,b){Jc(b,S)}function Cz(S){for(var b=S.nextSibling,O=0;b;){if(b.nodeType===mr){var D=b.data;if(D===qg){if(O===0)return Kc(b);O--}else(D===Qg||D===$c||D===Hc)&&O++}b=b.nextSibling}return null}function bO(S){for(var b=S.previousSibling,O=0;b;){if(b.nodeType===mr){var D=b.data;if(D===Qg||D===$c||D===Hc){if(O===0)return b;O--}else D===qg&&O++}b=b.previousSibling}return null}function Sz(S){Rc(S)}function Ez(S){Rc(S)}function bz(S){return S!=="head"&&S!=="body"}function Pz(S,b,O,D){var N=!0;Zg(b.nodeValue,O,D,N)}function wz(S,b,O,D,N,W){if(b[jg]!==!0){var Z=!0;Zg(D.nodeValue,N,W,Z)}}function Mz(S,b){b.nodeType===$n?JC(S,b):b.nodeType===mr||jC(S,b)}function Rz(S,b){{var O=S.parentNode;O!==null&&(b.nodeType===$n?JC(O,b):b.nodeType===mr||jC(O,b))}}function Az(S,b,O,D,N){(N||b[jg]!==!0)&&(D.nodeType===$n?JC(O,D):D.nodeType===mr||jC(O,D))}function Oz(S,b,O){QC(S,b)}function Lz(S,b){qC(S,b)}function Dz(S,b,O){{var D=S.parentNode;D!==null&&QC(D,b)}}function Fz(S,b){{var O=S.parentNode;O!==null&&qC(O,b)}}function Iz(S,b,O,D,N,W){(W||b[jg]!==!0)&&QC(O,D)}function Bz(S,b,O,D,N){(N||b[jg]!==!0)&&qC(O,D)}function Gz(S){n("An error occurred during hydration. The server HTML was replaced with client content in <%s>.",S.nodeName.toLowerCase())}function kz(S){Uc(S)}var bf=Math.random().toString(36).slice(2),Pf="__reactFiber$"+bf,aS="__reactProps$"+bf,Zc="__reactContainer$"+bf,oS="__reactEvents$"+bf,Nz="__reactListeners$"+bf,Uz="__reactHandles$"+bf;function Vz(S){delete S[Pf],delete S[aS],delete S[oS],delete S[Nz],delete S[Uz]}function Jc(S,b){b[Pf]=S}function tm(S,b){b[Zc]=S}function PO(S){S[Zc]=null}function jc(S){return!!S[Zc]}function tu(S){var b=S[Pf];if(b)return b;for(var O=S.parentNode;O;){if(b=O[Zc]||O[Pf],b){var D=b.alternate;if(b.child!==null||D!==null&&D.child!==null)for(var N=bO(S);N!==null;){var W=N[Pf];if(W)return W;N=bO(N)}return b}S=O,O=S.parentNode}return null}function Bl(S){var b=S[Pf]||S[Zc];return b&&(b.tag===l||b.tag===a||b.tag===y||b.tag===d)?b:null}function wf(S){if(S.tag===l||S.tag===a)return S.stateNode;throw new Error("getNodeFromInstance: Invalid argument.")}function em(S){return S[aS]||null}function lS(S,b){S[aS]=b}function zz(S){var b=S[oS];return b===void 0&&(b=S[oS]=new Set),b}var wO={},MO=i.ReactDebugCurrentFrame;function im(S){if(S){var b=S._owner,O=$t(S.type,S._source,b?b.type:null);MO.setExtraStackFrame(O)}else MO.setExtraStackFrame(null)}function va(S,b,O,D,N){{var W=Function.call.bind(ct);for(var Z in S)if(W(S,Z)){var q=void 0;try{if(typeof S[Z]!="function"){var et=Error((D||"React class")+": "+O+" type `"+Z+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof S[Z]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw et.name="Invariant Violation",et}q=S[Z](b,Z,D,O,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(nt){q=nt}q&&!(q instanceof Error)&&(im(N),n("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",D||"React class",O,Z,typeof q),im(null)),q instanceof Error&&!(q.message in wO)&&(wO[q.message]=!0,im(N),n("Failed %s type: %s",O,q.message),im(null))}}}var hS=[],rm;rm=[];var Ho=-1;function Gl(S){return{current:S}}function Tn(S,b){if(Ho<0){n("Unexpected pop.");return}b!==rm[Ho]&&n("Unexpected Fiber popped."),S.current=hS[Ho],hS[Ho]=null,rm[Ho]=null,Ho--}function Cn(S,b,O){Ho++,hS[Ho]=S.current,rm[Ho]=O,S.current=b}var uS;uS={};var ys={};Object.freeze(ys);var $o=Gl(ys),qa=Gl(!1),fS=ys;function Mf(S,b,O){return O&&_a(b)?fS:$o.current}function RO(S,b,O){{var D=S.stateNode;D.__reactInternalMemoizedUnmaskedChildContext=b,D.__reactInternalMemoizedMaskedChildContext=O}}function Rf(S,b){{var O=S.type,D=O.contextTypes;if(!D)return ys;var N=S.stateNode;if(N&&N.__reactInternalMemoizedUnmaskedChildContext===b)return N.__reactInternalMemoizedMaskedChildContext;var W={};for(var Z in D)W[Z]=b[Z];{var q=Ft(S)||"Unknown";va(D,W,"context",q)}return N&&RO(S,b,W),W}}function nm(){return qa.current}function _a(S){{var b=S.childContextTypes;return b!=null}}function sm(S){Tn(qa,S),Tn($o,S)}function dS(S){Tn(qa,S),Tn($o,S)}function AO(S,b,O){{if($o.current!==ys)throw new Error("Unexpected context found on stack. This error is likely caused by a bug in React. Please file an issue.");Cn($o,b,S),Cn(qa,O,S)}}function OO(S,b,O){{var D=S.stateNode,N=b.childContextTypes;if(typeof D.getChildContext!="function"){{var W=Ft(S)||"Unknown";uS[W]||(uS[W]=!0,n("%s.childContextTypes is specified but there is no getChildContext() method on the instance. You can either define getChildContext() on %s or remove childContextTypes from it.",W,W))}return O}var Z=D.getChildContext();for(var q in Z)if(!(q in N))throw new Error((Ft(S)||"Unknown")+'.getChildContext(): key "'+q+'" is not defined in childContextTypes.');{var et=Ft(S)||"Unknown";va(N,Z,"child context",et)}return He({},O,Z)}}function am(S){{var b=S.stateNode,O=b&&b.__reactInternalMemoizedMergedChildContext||ys;return fS=$o.current,Cn($o,O,S),Cn(qa,qa.current,S),!0}}function LO(S,b,O){{var D=S.stateNode;if(!D)throw new Error("Expected to have an instance by this point. This error is likely caused by a bug in React. Please file an issue.");if(O){var N=OO(S,b,fS);D.__reactInternalMemoizedMergedChildContext=N,Tn(qa,S),Tn($o,S),Cn($o,N,S),Cn(qa,O,S)}else Tn(qa,S),Cn(qa,O,S)}}function Wz(S){{if(!b6(S)||S.tag!==o)throw new Error("Expected subtree parent to be a mounted class component. This error is likely caused by a bug in React. Please file an issue.");var b=S;do{switch(b.tag){case d:return b.stateNode.context;case o:{var O=b.type;if(_a(O))return b.stateNode.__reactInternalMemoizedMergedChildContext;break}}b=b.return}while(b!==null);throw new Error("Found unexpected detached subtree parent. This error is likely caused by a bug in React. Please file an issue.")}}var kl=0,om=1,Ko=null,cS=!1,vS=!1;function DO(S){Ko===null?Ko=[S]:Ko.push(S)}function Yz(S){cS=!0,DO(S)}function FO(){cS&&Nl()}function Nl(){if(!vS&&Ko!==null){vS=!0;var S=0,b=ca();try{var O=!0,D=Ko;for($r(ps);S<D.length;S++){var N=D[S];do N=N(O);while(N!==null)}Ko=null,cS=!1}catch(W){throw Ko!==null&&(Ko=Ko.slice(S+1)),rA(Eg,Nl),W}finally{$r(b),vS=!1}}return null}var Af=[],Of=0,lm=null,hm=0,Us=[],Vs=0,eu=null,Zo=1,Jo="";function Xz(S){return ru(),(S.flags&JR)!==Ae}function Hz(S){return ru(),hm}function $z(){var S=Jo,b=Zo,O=b&~Kz(b);return O.toString(32)+S}function iu(S,b){ru(),Af[Of++]=hm,Af[Of++]=lm,lm=S,hm=b}function IO(S,b,O){ru(),Us[Vs++]=Zo,Us[Vs++]=Jo,Us[Vs++]=eu,eu=S;var D=Zo,N=Jo,W=um(D)-1,Z=D&~(1<<W),q=O+1,et=um(b)+W;if(et>30){var nt=W-W%5,at=(1<<nt)-1,pt=(Z&at).toString(32),vt=Z>>nt,Ct=W-nt,bt=um(b)+Ct,At=q<<Ct,jt=At|vt,Ce=pt+N;Zo=1<<bt|jt,Jo=Ce}else{var me=q<<W,si=me|Z,ei=N;Zo=1<<et|si,Jo=ei}}function pS(S){ru();var b=S.return;if(b!==null){var O=1,D=0;iu(S,O),IO(S,O,D)}}function um(S){return 32-hA(S)}function Kz(S){return 1<<um(S)-1}function gS(S){for(;S===lm;)lm=Af[--Of],Af[Of]=null,hm=Af[--Of],Af[Of]=null;for(;S===eu;)eu=Us[--Vs],Us[Vs]=null,Jo=Us[--Vs],Us[Vs]=null,Zo=Us[--Vs],Us[Vs]=null}function Zz(){return ru(),eu!==null?{id:Zo,overflow:Jo}:null}function Jz(S,b){ru(),Us[Vs++]=Zo,Us[Vs++]=Jo,Us[Vs++]=eu,Zo=b.id,Jo=b.overflow,eu=S}function ru(){nn()||n("Expected to be hydrating. This is a bug in React. Please file an issue.")}var rn=null,zs=null,pa=!1,nu=!1,Ul=null;function jz(){pa&&n("We should not be hydrating here. This is a bug in React. Please file a bug.")}function BO(){nu=!0}function Qz(){return nu}function qz(S){var b=S.stateNode.containerInfo;return zs=gz(b),rn=S,pa=!0,Ul=null,nu=!1,!0}function _z(S,b,O){return zs=mz(b),rn=S,pa=!0,Ul=null,nu=!1,O!==null&&Jz(S,O),!0}function GO(S,b){switch(S.tag){case d:{Mz(S.stateNode.containerInfo,b);break}case l:{var O=(S.mode&ri)!==Pe;Az(S.type,S.memoizedProps,S.stateNode,b,O);break}case y:{var D=S.memoizedState;D.dehydrated!==null&&Rz(D.dehydrated,b);break}}}function kO(S,b){GO(S,b);var O=rH();O.stateNode=b,O.return=S;var D=S.deletions;D===null?(S.deletions=[O],S.flags|=Wh):D.push(O)}function mS(S,b){{if(nu)return;switch(S.tag){case d:{var O=S.stateNode.containerInfo;switch(b.tag){case l:var D=b.type;b.pendingProps,Oz(O,D);break;case a:var N=b.pendingProps;Lz(O,N);break}break}case l:{var W=S.type,Z=S.memoizedProps,q=S.stateNode;switch(b.tag){case l:{var et=b.type,nt=b.pendingProps,at=(S.mode&ri)!==Pe;Iz(W,Z,q,et,nt,at);break}case a:{var pt=b.pendingProps,vt=(S.mode&ri)!==Pe;Bz(W,Z,q,pt,vt);break}}break}case y:{var Ct=S.memoizedState,bt=Ct.dehydrated;if(bt!==null)switch(b.tag){case l:var At=b.type;b.pendingProps,Dz(bt,At);break;case a:var jt=b.pendingProps;Fz(bt,jt);break}break}default:return}}}function NO(S,b){b.flags=b.flags&~Uo|yr,mS(S,b)}function UO(S,b){switch(S.tag){case l:{var O=S.type;S.pendingProps;var D=uz(b,O);return D!==null?(S.stateNode=D,rn=S,zs=pz(D),!0):!1}case a:{var N=S.pendingProps,W=fz(b,N);return W!==null?(S.stateNode=W,rn=S,zs=null,!0):!1}case y:{var Z=dz(b);if(Z!==null){var q={dehydrated:Z,treeContext:Zz(),retryLane:cs};S.memoizedState=q;var et=nH(Z);return et.return=S,S.child=et,rn=S,zs=null,!0}return!1}default:return!1}}function yS(S){return(S.mode&ri)!==Pe&&(S.flags&pi)===Ae}function xS(S){throw new Error("Hydration failed because the initial UI does not match what was rendered on the server.")}function TS(S){if(pa){var b=zs;if(!b){yS(S)&&(mS(rn,S),xS()),NO(rn,S),pa=!1,rn=S;return}var O=b;if(!UO(S,b)){yS(S)&&(mS(rn,S),xS()),b=Kc(O);var D=rn;if(!b||!UO(S,b)){NO(rn,S),pa=!1,rn=S;return}kO(D,O)}}}function tW(S,b,O){var D=S.stateNode,N=!nu,W=yz(D,S.type,S.memoizedProps,b,O,S,N);return S.updateQueue=W,W!==null}function eW(S){var b=S.stateNode,O=S.memoizedProps,D=xz(b,O,S);if(D){var N=rn;if(N!==null)switch(N.tag){case d:{var W=N.stateNode.containerInfo,Z=(N.mode&ri)!==Pe;Pz(W,b,O,Z);break}case l:{var q=N.type,et=N.memoizedProps,nt=N.stateNode,at=(N.mode&ri)!==Pe;wz(q,et,nt,b,O,at);break}}}return D}function iW(S){var b=S.memoizedState,O=b!==null?b.dehydrated:null;if(!O)throw new Error("Expected to have a hydrated suspense instance. This error is likely caused by a bug in React. Please file an issue.");Tz(O,S)}function rW(S){var b=S.memoizedState,O=b!==null?b.dehydrated:null;if(!O)throw new Error("Expected to have a hydrated suspense instance. This error is likely caused by a bug in React. Please file an issue.");return Cz(O)}function VO(S){for(var b=S.return;b!==null&&b.tag!==l&&b.tag!==d&&b.tag!==y;)b=b.return;rn=b}function fm(S){if(S!==rn)return!1;if(!pa)return VO(S),pa=!0,!1;if(S.tag!==d&&(S.tag!==l||bz(S.type)&&!eS(S.type,S.memoizedProps))){var b=zs;if(b)if(yS(S))zO(S),xS();else for(;b;)kO(S,b),b=Kc(b)}return VO(S),S.tag===y?zs=rW(S):zs=rn?Kc(S.stateNode):null,!0}function nW(){return pa&&zs!==null}function zO(S){for(var b=zs;b;)GO(S,b),b=Kc(b)}function Lf(){rn=null,zs=null,pa=!1,nu=!1}function WO(){Ul!==null&&(B2(Ul),Ul=null)}function nn(){return pa}function CS(S){Ul===null?Ul=[S]:Ul.push(S)}var sW=i.ReactCurrentBatchConfig,aW=null;function oW(){return sW.transition}var ga={recordUnsafeLifecycleWarnings:function(S,b){},flushPendingUnsafeLifecycleWarnings:function(){},recordLegacyContextWarning:function(S,b){},flushLegacyContextWarning:function(){},discardPendingWarnings:function(){}};{var lW=function(S){for(var b=null,O=S;O!==null;)O.mode&ir&&(b=O),O=O.return;return b},su=function(S){var b=[];return S.forEach(function(O){b.push(O)}),b.sort().join(", ")},Qc=[],qc=[],_c=[],tv=[],ev=[],iv=[],au=new Set;ga.recordUnsafeLifecycleWarnings=function(S,b){au.has(S.type)||(typeof b.componentWillMount=="function"&&b.componentWillMount.__suppressDeprecationWarning!==!0&&Qc.push(S),S.mode&ir&&typeof b.UNSAFE_componentWillMount=="function"&&qc.push(S),typeof b.componentWillReceiveProps=="function"&&b.componentWillReceiveProps.__suppressDeprecationWarning!==!0&&_c.push(S),S.mode&ir&&typeof b.UNSAFE_componentWillReceiveProps=="function"&&tv.push(S),typeof b.componentWillUpdate=="function"&&b.componentWillUpdate.__suppressDeprecationWarning!==!0&&ev.push(S),S.mode&ir&&typeof b.UNSAFE_componentWillUpdate=="function"&&iv.push(S))},ga.flushPendingUnsafeLifecycleWarnings=function(){var S=new Set;Qc.length>0&&(Qc.forEach(function(vt){S.add(Ft(vt)||"Component"),au.add(vt.type)}),Qc=[]);var b=new Set;qc.length>0&&(qc.forEach(function(vt){b.add(Ft(vt)||"Component"),au.add(vt.type)}),qc=[]);var O=new Set;_c.length>0&&(_c.forEach(function(vt){O.add(Ft(vt)||"Component"),au.add(vt.type)}),_c=[]);var D=new Set;tv.length>0&&(tv.forEach(function(vt){D.add(Ft(vt)||"Component"),au.add(vt.type)}),tv=[]);var N=new Set;ev.length>0&&(ev.forEach(function(vt){N.add(Ft(vt)||"Component"),au.add(vt.type)}),ev=[]);var W=new Set;if(iv.length>0&&(iv.forEach(function(vt){W.add(Ft(vt)||"Component"),au.add(vt.type)}),iv=[]),b.size>0){var Z=su(b);n(`Using UNSAFE_componentWillMount in strict mode is not recommended and may indicate bugs in your code. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move code with side effects to componentDidMount, and set initial state in the constructor.

Please update the following components: %s`,Z)}if(D.size>0){var q=su(D);n(`Using UNSAFE_componentWillReceiveProps in strict mode is not recommended and may indicate bugs in your code. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.
* If you're updating state whenever props change, refactor your code to use memoization techniques or move it to static getDerivedStateFromProps. Learn more at: https://reactjs.org/link/derived-state

Please update the following components: %s`,q)}if(W.size>0){var et=su(W);n(`Using UNSAFE_componentWillUpdate in strict mode is not recommended and may indicate bugs in your code. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.

Please update the following components: %s`,et)}if(S.size>0){var nt=su(S);E(`componentWillMount has been renamed, and is not recommended for use. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move code with side effects to componentDidMount, and set initial state in the constructor.
* Rename componentWillMount to UNSAFE_componentWillMount to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run \`npx react-codemod rename-unsafe-lifecycles\` in your project source folder.

Please update the following components: %s`,nt)}if(O.size>0){var at=su(O);E(`componentWillReceiveProps has been renamed, and is not recommended for use. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.
* If you're updating state whenever props change, refactor your code to use memoization techniques or move it to static getDerivedStateFromProps. Learn more at: https://reactjs.org/link/derived-state
* Rename componentWillReceiveProps to UNSAFE_componentWillReceiveProps to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run \`npx react-codemod rename-unsafe-lifecycles\` in your project source folder.

Please update the following components: %s`,at)}if(N.size>0){var pt=su(N);E(`componentWillUpdate has been renamed, and is not recommended for use. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.
* Rename componentWillUpdate to UNSAFE_componentWillUpdate to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run \`npx react-codemod rename-unsafe-lifecycles\` in your project source folder.

Please update the following components: %s`,pt)}};var dm=new Map,YO=new Set;ga.recordLegacyContextWarning=function(S,b){var O=lW(S);if(O===null){n("Expected to find a StrictMode component in a strict mode tree. This error is likely caused by a bug in React. Please file an issue.");return}if(!YO.has(S.type)){var D=dm.get(O);(S.type.contextTypes!=null||S.type.childContextTypes!=null||b!==null&&typeof b.getChildContext=="function")&&(D===void 0&&(D=[],dm.set(O,D)),D.push(S))}},ga.flushLegacyContextWarning=function(){dm.forEach(function(S,b){if(S.length!==0){var O=S[0],D=new Set;S.forEach(function(W){D.add(Ft(W)||"Component"),YO.add(W.type)});var N=su(D);try{$e(O),n(`Legacy context API has been detected within a strict-mode tree.

The old API will be supported in all 16.x releases, but applications using it should migrate to the new version.

Please update the following components: %s

Learn more about this warning here: https://reactjs.org/link/legacy-context`,N)}finally{be()}}})},ga.discardPendingWarnings=function(){Qc=[],qc=[],_c=[],tv=[],ev=[],iv=[],dm=new Map}}var SS,ES,bS,PS,wS,XO=function(S,b){};SS=!1,ES=!1,bS={},PS={},wS={},XO=function(S,b){if(!(S===null||typeof S!="object")&&!(!S._store||S._store.validated||S.key!=null)){if(typeof S._store!="object")throw new Error("React Component in warnForMissingKey should have a _store. This error is likely caused by a bug in React. Please file an issue.");S._store.validated=!0;var O=Ft(b)||"Component";PS[O]||(PS[O]=!0,n('Each child in a list should have a unique "key" prop. See https://reactjs.org/link/warning-keys for more information.'))}};function hW(S){return S.prototype&&S.prototype.isReactComponent}function rv(S,b,O){var D=O.ref;if(D!==null&&typeof D!="function"&&typeof D!="object"){if((S.mode&ir||$)&&!(O._owner&&O._self&&O._owner.stateNode!==O._self)&&!(O._owner&&O._owner.tag!==o)&&!(typeof O.type=="function"&&!hW(O.type))&&O._owner){var N=Ft(S)||"Component";bS[N]||(n('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. We recommend using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',N,D),bS[N]=!0)}if(O._owner){var W=O._owner,Z;if(W){var q=W;if(q.tag!==o)throw new Error("Function components cannot have string refs. We recommend using useRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref");Z=q.stateNode}if(!Z)throw new Error("Missing owner for string ref "+D+". This error is likely caused by a bug in React. Please file an issue.");var et=Z;Xt(D,"ref");var nt=""+D;if(b!==null&&b.ref!==null&&typeof b.ref=="function"&&b.ref._stringRef===nt)return b.ref;var at=function(pt){var vt=et.refs;pt===null?delete vt[nt]:vt[nt]=pt};return at._stringRef=nt,at}else{if(typeof D!="string")throw new Error("Expected ref to be a function, a string, an object returned by React.createRef(), or null.");if(!O._owner)throw new Error("Element ref was specified as a string ("+D+`) but no owner was set. This could happen for one of the following reasons:
1. You may be adding a ref to a function component
2. You may be adding a ref to a component that was not created inside a component's render method
3. You have multiple copies of React loaded
See https://reactjs.org/link/refs-must-have-owner for more information.`)}}return D}function cm(S,b){var O=Object.prototype.toString.call(b);throw new Error("Objects are not valid as a React child (found: "+(O==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":O)+"). If you meant to render a collection of children, use an array instead.")}function vm(S){{var b=Ft(S)||"Component";if(wS[b])return;wS[b]=!0,n("Functions are not valid as a React child. This may happen if you return a Component instead of <Component /> from render. Or maybe you meant to call this function rather than return it.")}}function HO(S){var b=S._payload,O=S._init;return O(b)}function $O(S){function b(mt,Ot){if(S){var yt=mt.deletions;yt===null?(mt.deletions=[Ot],mt.flags|=Wh):yt.push(Ot)}}function O(mt,Ot){if(!S)return null;for(var yt=Ot;yt!==null;)b(mt,yt),yt=yt.sibling;return null}function D(mt,Ot){for(var yt=new Map,zt=Ot;zt!==null;)zt.key!==null?yt.set(zt.key,zt):yt.set(zt.index,zt),zt=zt.sibling;return yt}function N(mt,Ot){var yt=pu(mt,Ot);return yt.index=0,yt.sibling=null,yt}function W(mt,Ot,yt){if(mt.index=yt,!S)return mt.flags|=JR,Ot;var zt=mt.alternate;if(zt!==null){var ae=zt.index;return ae<Ot?(mt.flags|=yr,Ot):ae}else return mt.flags|=yr,Ot}function Z(mt){return S&&mt.alternate===null&&(mt.flags|=yr),mt}function q(mt,Ot,yt,zt){if(Ot===null||Ot.tag!==a){var ae=CE(yt,mt.mode,zt);return ae.return=mt,ae}else{var _t=N(Ot,yt);return _t.return=mt,_t}}function et(mt,Ot,yt,zt){var ae=yt.type;if(ae===ut)return at(mt,Ot,yt.props.children,zt,yt.key);if(Ot!==null&&(Ot.elementType===ae||Q2(Ot,yt)||typeof ae=="object"&&ae!==null&&ae.$$typeof===Qe&&HO(ae)===Ot.type)){var _t=N(Ot,yt.props);return _t.ref=rv(mt,Ot,yt),_t.return=mt,_t._debugSource=yt._source,_t._debugOwner=yt._owner,_t}var Le=TE(yt,mt.mode,zt);return Le.ref=rv(mt,Ot,yt),Le.return=mt,Le}function nt(mt,Ot,yt,zt){if(Ot===null||Ot.tag!==h||Ot.stateNode.containerInfo!==yt.containerInfo||Ot.stateNode.implementation!==yt.implementation){var ae=SE(yt,mt.mode,zt);return ae.return=mt,ae}else{var _t=N(Ot,yt.children||[]);return _t.return=mt,_t}}function at(mt,Ot,yt,zt,ae){if(Ot===null||Ot.tag!==f){var _t=jl(yt,mt.mode,zt,ae);return _t.return=mt,_t}else{var Le=N(Ot,yt);return Le.return=mt,Le}}function pt(mt,Ot,yt){if(typeof Ot=="string"&&Ot!==""||typeof Ot=="number"){var zt=CE(""+Ot,mt.mode,yt);return zt.return=mt,zt}if(typeof Ot=="object"&&Ot!==null){switch(Ot.$$typeof){case Me:{var ae=TE(Ot,mt.mode,yt);return ae.ref=rv(mt,null,Ot),ae.return=mt,ae}case os:{var _t=SE(Ot,mt.mode,yt);return _t.return=mt,_t}case Qe:{var Le=Ot._payload,Ue=Ot._init;return pt(mt,Ue(Le),yt)}}if(vi(Ot)||la(Ot)){var wi=jl(Ot,mt.mode,yt,null);return wi.return=mt,wi}cm(mt,Ot)}return typeof Ot=="function"&&vm(mt),null}function vt(mt,Ot,yt,zt){var ae=Ot!==null?Ot.key:null;if(typeof yt=="string"&&yt!==""||typeof yt=="number")return ae!==null?null:q(mt,Ot,""+yt,zt);if(typeof yt=="object"&&yt!==null){switch(yt.$$typeof){case Me:return yt.key===ae?et(mt,Ot,yt,zt):null;case os:return yt.key===ae?nt(mt,Ot,yt,zt):null;case Qe:{var _t=yt._payload,Le=yt._init;return vt(mt,Ot,Le(_t),zt)}}if(vi(yt)||la(yt))return ae!==null?null:at(mt,Ot,yt,zt,null);cm(mt,yt)}return typeof yt=="function"&&vm(mt),null}function Ct(mt,Ot,yt,zt,ae){if(typeof zt=="string"&&zt!==""||typeof zt=="number"){var _t=mt.get(yt)||null;return q(Ot,_t,""+zt,ae)}if(typeof zt=="object"&&zt!==null){switch(zt.$$typeof){case Me:{var Le=mt.get(zt.key===null?yt:zt.key)||null;return et(Ot,Le,zt,ae)}case os:{var Ue=mt.get(zt.key===null?yt:zt.key)||null;return nt(Ot,Ue,zt,ae)}case Qe:var wi=zt._payload,ui=zt._init;return Ct(mt,Ot,yt,ui(wi),ae)}if(vi(zt)||la(zt)){var dr=mt.get(yt)||null;return at(Ot,dr,zt,ae,null)}cm(Ot,zt)}return typeof zt=="function"&&vm(Ot),null}function bt(mt,Ot,yt){{if(typeof mt!="object"||mt===null)return Ot;switch(mt.$$typeof){case Me:case os:XO(mt,yt);var zt=mt.key;if(typeof zt!="string")break;if(Ot===null){Ot=new Set,Ot.add(zt);break}if(!Ot.has(zt)){Ot.add(zt);break}n("Encountered two children with the same key, `%s`. Keys should be unique so that components maintain their identity across updates. Non-unique keys may cause children to be duplicated and/or omitted  the behavior is unsupported and could change in a future version.",zt);break;case Qe:var ae=mt._payload,_t=mt._init;bt(_t(ae),Ot,yt);break}}return Ot}function At(mt,Ot,yt,zt){for(var ae=null,_t=0;_t<yt.length;_t++){var Le=yt[_t];ae=bt(Le,ae,mt)}for(var Ue=null,wi=null,ui=Ot,dr=0,fi=0,rr=null;ui!==null&&fi<yt.length;fi++){ui.index>fi?(rr=ui,ui=null):rr=ui.sibling;var En=vt(mt,ui,yt[fi],zt);if(En===null){ui===null&&(ui=rr);break}S&&ui&&En.alternate===null&&b(mt,ui),dr=W(En,dr,fi),wi===null?Ue=En:wi.sibling=En,wi=En,ui=rr}if(fi===yt.length){if(O(mt,ui),nn()){var fn=fi;iu(mt,fn)}return Ue}if(ui===null){for(;fi<yt.length;fi++){var Ts=pt(mt,yt[fi],zt);Ts!==null&&(dr=W(Ts,dr,fi),wi===null?Ue=Ts:wi.sibling=Ts,wi=Ts)}if(nn()){var Nn=fi;iu(mt,Nn)}return Ue}for(var Un=D(mt,ui);fi<yt.length;fi++){var bn=Ct(Un,mt,fi,yt[fi],zt);bn!==null&&(S&&bn.alternate!==null&&Un.delete(bn.key===null?fi:bn.key),dr=W(bn,dr,fi),wi===null?Ue=bn:wi.sibling=bn,wi=bn)}if(S&&Un.forEach(function(jf){return b(mt,jf)}),nn()){var il=fi;iu(mt,il)}return Ue}function jt(mt,Ot,yt,zt){var ae=la(yt);if(typeof ae!="function")throw new Error("An object is not an iterable. This error is likely caused by a bug in React. Please file an issue.");{typeof Symbol=="function"&&yt[Symbol.toStringTag]==="Generator"&&(ES||n("Using Generators as children is unsupported and will likely yield unexpected results because enumerating a generator mutates it. You may convert it to an array with `Array.from()` or the `[...spread]` operator before rendering. Keep in mind you might need to polyfill these features for older browsers."),ES=!0),yt.entries===ae&&(SS||n("Using Maps as children is not supported. Use an array of keyed ReactElements instead."),SS=!0);var _t=ae.call(yt);if(_t)for(var Le=null,Ue=_t.next();!Ue.done;Ue=_t.next()){var wi=Ue.value;Le=bt(wi,Le,mt)}}var ui=ae.call(yt);if(ui==null)throw new Error("An iterable object provided no iterator.");for(var dr=null,fi=null,rr=Ot,En=0,fn=0,Ts=null,Nn=ui.next();rr!==null&&!Nn.done;fn++,Nn=ui.next()){rr.index>fn?(Ts=rr,rr=null):Ts=rr.sibling;var Un=vt(mt,rr,Nn.value,zt);if(Un===null){rr===null&&(rr=Ts);break}S&&rr&&Un.alternate===null&&b(mt,rr),En=W(Un,En,fn),fi===null?dr=Un:fi.sibling=Un,fi=Un,rr=Ts}if(Nn.done){if(O(mt,rr),nn()){var bn=fn;iu(mt,bn)}return dr}if(rr===null){for(;!Nn.done;fn++,Nn=ui.next()){var il=pt(mt,Nn.value,zt);il!==null&&(En=W(il,En,fn),fi===null?dr=il:fi.sibling=il,fi=il)}if(nn()){var jf=fn;iu(mt,jf)}return dr}for(var Bv=D(mt,rr);!Nn.done;fn++,Nn=ui.next()){var oo=Ct(Bv,mt,fn,Nn.value,zt);oo!==null&&(S&&oo.alternate!==null&&Bv.delete(oo.key===null?fn:oo.key),En=W(oo,En,fn),fi===null?dr=oo:fi.sibling=oo,fi=oo)}if(S&&Bv.forEach(function(BH){return b(mt,BH)}),nn()){var IH=fn;iu(mt,IH)}return dr}function Ce(mt,Ot,yt,zt){if(Ot!==null&&Ot.tag===a){O(mt,Ot.sibling);var ae=N(Ot,yt);return ae.return=mt,ae}O(mt,Ot);var _t=CE(yt,mt.mode,zt);return _t.return=mt,_t}function me(mt,Ot,yt,zt){for(var ae=yt.key,_t=Ot;_t!==null;){if(_t.key===ae){var Le=yt.type;if(Le===ut){if(_t.tag===f){O(mt,_t.sibling);var Ue=N(_t,yt.props.children);return Ue.return=mt,Ue._debugSource=yt._source,Ue._debugOwner=yt._owner,Ue}}else if(_t.elementType===Le||Q2(_t,yt)||typeof Le=="object"&&Le!==null&&Le.$$typeof===Qe&&HO(Le)===_t.type){O(mt,_t.sibling);var wi=N(_t,yt.props);return wi.ref=rv(mt,_t,yt),wi.return=mt,wi._debugSource=yt._source,wi._debugOwner=yt._owner,wi}O(mt,_t);break}else b(mt,_t);_t=_t.sibling}if(yt.type===ut){var ui=jl(yt.props.children,mt.mode,zt,yt.key);return ui.return=mt,ui}else{var dr=TE(yt,mt.mode,zt);return dr.ref=rv(mt,Ot,yt),dr.return=mt,dr}}function si(mt,Ot,yt,zt){for(var ae=yt.key,_t=Ot;_t!==null;){if(_t.key===ae)if(_t.tag===h&&_t.stateNode.containerInfo===yt.containerInfo&&_t.stateNode.implementation===yt.implementation){O(mt,_t.sibling);var Le=N(_t,yt.children||[]);return Le.return=mt,Le}else{O(mt,_t);break}else b(mt,_t);_t=_t.sibling}var Ue=SE(yt,mt.mode,zt);return Ue.return=mt,Ue}function ei(mt,Ot,yt,zt){var ae=typeof yt=="object"&&yt!==null&&yt.type===ut&&yt.key===null;if(ae&&(yt=yt.props.children),typeof yt=="object"&&yt!==null){switch(yt.$$typeof){case Me:return Z(me(mt,Ot,yt,zt));case os:return Z(si(mt,Ot,yt,zt));case Qe:var _t=yt._payload,Le=yt._init;return ei(mt,Ot,Le(_t),zt)}if(vi(yt))return At(mt,Ot,yt,zt);if(la(yt))return jt(mt,Ot,yt,zt);cm(mt,yt)}return typeof yt=="string"&&yt!==""||typeof yt=="number"?Z(Ce(mt,Ot,""+yt,zt)):(typeof yt=="function"&&vm(mt),O(mt,Ot))}return ei}var Df=$O(!0),KO=$O(!1);function uW(S,b){if(S!==null&&b.child!==S.child)throw new Error("Resuming work not yet implemented.");if(b.child!==null){var O=b.child,D=pu(O,O.pendingProps);for(b.child=D,D.return=b;O.sibling!==null;)O=O.sibling,D=D.sibling=pu(O,O.pendingProps),D.return=b;D.sibling=null}}function fW(S,b){for(var O=S.child;O!==null;)qX(O,b),O=O.sibling}var MS=Gl(null),RS;RS={};var pm=null,Ff=null,AS=null,gm=!1;function mm(){pm=null,Ff=null,AS=null,gm=!1}function ZO(){gm=!0}function JO(){gm=!1}function jO(S,b,O){Cn(MS,b._currentValue,S),b._currentValue=O,b._currentRenderer!==void 0&&b._currentRenderer!==null&&b._currentRenderer!==RS&&n("Detected multiple renderers concurrently rendering the same context provider. This is currently unsupported."),b._currentRenderer=RS}function OS(S,b){var O=MS.current;Tn(MS,b),S._currentValue=O}function LS(S,b,O){for(var D=S;D!==null;){var N=D.alternate;if(mf(D.childLanes,b)?N!==null&&!mf(N.childLanes,b)&&(N.childLanes=Je(N.childLanes,b)):(D.childLanes=Je(D.childLanes,b),N!==null&&(N.childLanes=Je(N.childLanes,b))),D===O)break;D=D.return}D!==O&&n("Expected to find the propagation root when scheduling context work. This error is likely caused by a bug in React. Please file an issue.")}function dW(S,b,O){cW(S,b,O)}function cW(S,b,O){var D=S.child;for(D!==null&&(D.return=S);D!==null;){var N=void 0,W=D.dependencies;if(W!==null){N=D.child;for(var Z=W.firstContext;Z!==null;){if(Z.context===b){if(D.tag===o){var q=Cc(O),et=jo(zi,q);et.tag=xm;var nt=D.updateQueue;if(nt!==null){var at=nt.shared,pt=at.pending;pt===null?et.next=et:(et.next=pt.next,pt.next=et),at.pending=et}}D.lanes=Je(D.lanes,O);var vt=D.alternate;vt!==null&&(vt.lanes=Je(vt.lanes,O)),LS(D.return,O,S),W.lanes=Je(W.lanes,O);break}Z=Z.next}}else if(D.tag===v)N=D.type===S.type?null:D.child;else if(D.tag===R){var Ct=D.return;if(Ct===null)throw new Error("We just came from a parent so we must have had a parent. This is a bug in React.");Ct.lanes=Je(Ct.lanes,O);var bt=Ct.alternate;bt!==null&&(bt.lanes=Je(bt.lanes,O)),LS(Ct,O,S),N=D.sibling}else N=D.child;if(N!==null)N.return=D;else for(N=D;N!==null;){if(N===S){N=null;break}var At=N.sibling;if(At!==null){At.return=N.return,N=At;break}N=N.return}D=N}}function If(S,b){pm=S,Ff=null,AS=null;var O=S.dependencies;if(O!==null){var D=O.firstContext;D!==null&&(vs(O.lanes,b)&&yv(),O.firstContext=null)}}function xr(S){gm&&n("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().");var b=S._currentValue;if(AS!==S){var O={context:S,memoizedValue:b,next:null};if(Ff===null){if(pm===null)throw new Error("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().");Ff=O,pm.dependencies={lanes:kt,firstContext:O}}else Ff=Ff.next=O}return b}var ou=null;function DS(S){ou===null?ou=[S]:ou.push(S)}function vW(){if(ou!==null){for(var S=0;S<ou.length;S++){var b=ou[S],O=b.interleaved;if(O!==null){b.interleaved=null;var D=O.next,N=b.pending;if(N!==null){var W=N.next;N.next=D,O.next=W}b.pending=O}}ou=null}}function QO(S,b,O,D){var N=b.interleaved;return N===null?(O.next=O,DS(b)):(O.next=N.next,N.next=O),b.interleaved=O,ym(S,D)}function pW(S,b,O,D){var N=b.interleaved;N===null?(O.next=O,DS(b)):(O.next=N.next,N.next=O),b.interleaved=O}function gW(S,b,O,D){var N=b.interleaved;return N===null?(O.next=O,DS(b)):(O.next=N.next,N.next=O),b.interleaved=O,ym(S,D)}function Zn(S,b){return ym(S,b)}var mW=ym;function ym(S,b){S.lanes=Je(S.lanes,b);var O=S.alternate;O!==null&&(O.lanes=Je(O.lanes,b)),O===null&&(S.flags&(yr|Uo))!==Ae&&K2(S);for(var D=S,N=S.return;N!==null;)N.childLanes=Je(N.childLanes,b),O=N.alternate,O!==null?O.childLanes=Je(O.childLanes,b):(N.flags&(yr|Uo))!==Ae&&K2(S),D=N,N=N.return;if(D.tag===d){var W=D.stateNode;return W}else return null}var qO=0,_O=1,xm=2,FS=3,Tm=!1,IS,Cm;IS=!1,Cm=null;function BS(S){var b={baseState:S.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:kt},effects:null};S.updateQueue=b}function tL(S,b){var O=b.updateQueue,D=S.updateQueue;if(O===D){var N={baseState:D.baseState,firstBaseUpdate:D.firstBaseUpdate,lastBaseUpdate:D.lastBaseUpdate,shared:D.shared,effects:D.effects};b.updateQueue=N}}function jo(S,b){var O={eventTime:S,lane:b,tag:qO,payload:null,callback:null,next:null};return O}function Vl(S,b,O){var D=S.updateQueue;if(D===null)return null;var N=D.shared;if(Cm===N&&!IS&&(n("An update (setState, replaceState, or forceUpdate) was scheduled from inside an update function. Update functions should be pure, with zero side-effects. Consider using componentDidUpdate or a callback."),IS=!0),pX()){var W=N.pending;return W===null?b.next=b:(b.next=W.next,W.next=b),N.pending=b,mW(S,O)}else return gW(S,N,b,O)}function Sm(S,b,O){var D=b.updateQueue;if(D!==null){var N=D.shared;if(cA(O)){var W=N.lanes;W=pA(W,S.pendingLanes);var Z=Je(W,O);N.lanes=Z,MC(S,Z)}}}function GS(S,b){var O=S.updateQueue,D=S.alternate;if(D!==null){var N=D.updateQueue;if(O===N){var W=null,Z=null,q=O.firstBaseUpdate;if(q!==null){var et=q;do{var nt={eventTime:et.eventTime,lane:et.lane,tag:et.tag,payload:et.payload,callback:et.callback,next:null};Z===null?W=Z=nt:(Z.next=nt,Z=nt),et=et.next}while(et!==null);Z===null?W=Z=b:(Z.next=b,Z=b)}else W=Z=b;O={baseState:N.baseState,firstBaseUpdate:W,lastBaseUpdate:Z,shared:N.shared,effects:N.effects},S.updateQueue=O;return}}var at=O.lastBaseUpdate;at===null?O.firstBaseUpdate=b:at.next=b,O.lastBaseUpdate=b}function yW(S,b,O,D,N,W){switch(O.tag){case _O:{var Z=O.payload;if(typeof Z=="function"){ZO();var q=Z.call(W,D,N);{if(S.mode&ir){Xr(!0);try{Z.call(W,D,N)}finally{Xr(!1)}}JO()}return q}return Z}case FS:S.flags=S.flags&~In|pi;case qO:{var et=O.payload,nt;if(typeof et=="function"){ZO(),nt=et.call(W,D,N);{if(S.mode&ir){Xr(!0);try{et.call(W,D,N)}finally{Xr(!1)}}JO()}}else nt=et;return nt==null?D:He({},D,nt)}case xm:return Tm=!0,D}return D}function Em(S,b,O,D){var N=S.updateQueue;Tm=!1,Cm=N.shared;var W=N.firstBaseUpdate,Z=N.lastBaseUpdate,q=N.shared.pending;if(q!==null){N.shared.pending=null;var et=q,nt=et.next;et.next=null,Z===null?W=nt:Z.next=nt,Z=et;var at=S.alternate;if(at!==null){var pt=at.updateQueue,vt=pt.lastBaseUpdate;vt!==Z&&(vt===null?pt.firstBaseUpdate=nt:vt.next=nt,pt.lastBaseUpdate=et)}}if(W!==null){var Ct=N.baseState,bt=kt,At=null,jt=null,Ce=null,me=W;do{var si=me.lane,ei=me.eventTime;if(mf(D,si)){if(Ce!==null){var Ot={eventTime:ei,lane:Hr,tag:me.tag,payload:me.payload,callback:me.callback,next:null};Ce=Ce.next=Ot}Ct=yW(S,N,me,Ct,b,O);var yt=me.callback;if(yt!==null&&me.lane!==Hr){S.flags|=ZT;var zt=N.effects;zt===null?N.effects=[me]:zt.push(me)}}else{var mt={eventTime:ei,lane:si,tag:me.tag,payload:me.payload,callback:me.callback,next:null};Ce===null?(jt=Ce=mt,At=Ct):Ce=Ce.next=mt,bt=Je(bt,si)}if(me=me.next,me===null){if(q=N.shared.pending,q===null)break;var ae=q,_t=ae.next;ae.next=null,me=_t,N.lastBaseUpdate=ae,N.shared.pending=null}}while(!0);Ce===null&&(At=Ct),N.baseState=At,N.firstBaseUpdate=jt,N.lastBaseUpdate=Ce;var Le=N.shared.interleaved;if(Le!==null){var Ue=Le;do bt=Je(bt,Ue.lane),Ue=Ue.next;while(Ue!==Le)}else W===null&&(N.shared.lanes=kt);Ov(bt),S.lanes=bt,S.memoizedState=Ct}Cm=null}function xW(S,b){if(typeof S!="function")throw new Error("Invalid argument passed as callback. Expected a function. Instead "+("received: "+S));S.call(b)}function eL(){Tm=!1}function bm(){return Tm}function iL(S,b,O){var D=b.effects;if(b.effects=null,D!==null)for(var N=0;N<D.length;N++){var W=D[N],Z=W.callback;Z!==null&&(W.callback=null,xW(Z,O))}}var nv={},zl=Gl(nv),sv=Gl(nv),Pm=Gl(nv);function wm(S){if(S===nv)throw new Error("Expected host context to exist. This error is likely caused by a bug in React. Please file an issue.");return S}function rL(){var S=wm(Pm.current);return S}function kS(S,b){Cn(Pm,b,S),Cn(sv,S,S),Cn(zl,nv,S);var O=GV(b);Tn(zl,S),Cn(zl,O,S)}function Bf(S){Tn(zl,S),Tn(sv,S),Tn(Pm,S)}function NS(){var S=wm(zl.current);return S}function nL(S){wm(Pm.current);var b=wm(zl.current),O=kV(b,S.type);b!==O&&(Cn(sv,S,S),Cn(zl,O,S))}function US(S){sv.current===S&&(Tn(zl,S),Tn(sv,S))}var TW=0,sL=1,aL=1,av=2,ma=Gl(TW);function VS(S,b){return(S&b)!==0}function Gf(S){return S&sL}function zS(S,b){return S&sL|b}function CW(S,b){return S|b}function Wl(S,b){Cn(ma,b,S)}function kf(S){Tn(ma,S)}function SW(S,b){var O=S.memoizedState;return O!==null?O.dehydrated!==null:(S.memoizedProps,!0)}function Mm(S){for(var b=S;b!==null;){if(b.tag===y){var O=b.memoizedState;if(O!==null){var D=O.dehydrated;if(D===null||EO(D)||sS(D))return b}}else if(b.tag===A&&b.memoizedProps.revealOrder!==void 0){var N=(b.flags&pi)!==Ae;if(N)return b}else if(b.child!==null){b.child.return=b,b=b.child;continue}if(b===S)return null;for(;b.sibling===null;){if(b.return===null||b.return===S)return null;b=b.return}b.sibling.return=b.return,b=b.sibling}return null}var Jn=0,Mr=1,to=2,Rr=4,sn=8,WS=[];function YS(){for(var S=0;S<WS.length;S++){var b=WS[S];b._workInProgressVersionPrimary=null}WS.length=0}function EW(S,b){var O=b._getVersion,D=O(b._source);S.mutableSourceEagerHydrationData==null?S.mutableSourceEagerHydrationData=[b,D]:S.mutableSourceEagerHydrationData.push(b,D)}var re=i.ReactCurrentDispatcher,ov=i.ReactCurrentBatchConfig,XS,Nf;XS=new Set;var lu=kt,Pi=null,Ar=null,Or=null,Rm=!1,lv=!1,hv=0,bW=0,PW=25,Dt=null,Ws=null,Yl=-1,HS=!1;function xi(){{var S=Dt;Ws===null?Ws=[S]:Ws.push(S)}}function Jt(){{var S=Dt;Ws!==null&&(Yl++,Ws[Yl]!==S&&wW(S))}}function Uf(S){S!=null&&!vi(S)&&n("%s received a final argument that is not an array (instead, received `%s`). When specified, the final argument must be an array.",Dt,typeof S)}function wW(S){{var b=Ft(Pi);if(!XS.has(b)&&(XS.add(b),Ws!==null)){for(var O="",D=30,N=0;N<=Yl;N++){for(var W=Ws[N],Z=N===Yl?S:W,q=N+1+". "+W;q.length<D;)q+=" ";q+=Z+`
`,O+=q}n(`React has detected a change in the order of Hooks called by %s. This will lead to bugs and errors if not fixed. For more information, read the Rules of Hooks: https://reactjs.org/link/rules-of-hooks

   Previous render            Next render
   ------------------------------------------------------
%s   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
`,b,O)}}}function Sn(){throw new Error(`Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:
1. You might have mismatching versions of React and the renderer (such as React DOM)
2. You might be breaking the Rules of Hooks
3. You might have more than one copy of React in the same app
See https://reactjs.org/link/invalid-hook-call for tips about how to debug and fix this problem.`)}function $S(S,b){if(HS)return!1;if(b===null)return n("%s received a final argument during this render, but not during the previous render. Even though the final argument is optional, its type cannot change between renders.",Dt),!1;S.length!==b.length&&n(`The final argument passed to %s changed size between renders. The order and size of this array must remain constant.

Previous: %s
Incoming: %s`,Dt,"["+b.join(", ")+"]","["+S.join(", ")+"]");for(var O=0;O<b.length&&O<S.length;O++)if(!ms(S[O],b[O]))return!1;return!0}function Vf(S,b,O,D,N,W){lu=W,Pi=b,Ws=S!==null?S._debugHookTypes:null,Yl=-1,HS=S!==null&&S.type!==b.type,b.memoizedState=null,b.updateQueue=null,b.lanes=kt,S!==null&&S.memoizedState!==null?re.current=RL:Ws!==null?re.current=ML:re.current=wL;var Z=O(D,N);if(lv){var q=0;do{if(lv=!1,hv=0,q>=PW)throw new Error("Too many re-renders. React limits the number of renders to prevent an infinite loop.");q+=1,HS=!1,Ar=null,Or=null,b.updateQueue=null,Yl=-1,re.current=AL,Z=O(D,N)}while(lv)}re.current=zm,b._debugHookTypes=Ws;var et=Ar!==null&&Ar.next!==null;if(lu=kt,Pi=null,Ar=null,Or=null,Dt=null,Ws=null,Yl=-1,S!==null&&(S.flags&zo)!==(b.flags&zo)&&(S.mode&ri)!==Pe&&n("Internal React error: Expected static flag was missing. Please notify the React team."),Rm=!1,et)throw new Error("Rendered fewer hooks than expected. This may be caused by an accidental early return statement.");return Z}function zf(){var S=hv!==0;return hv=0,S}function oL(S,b,O){b.updateQueue=S.updateQueue,(b.mode&ja)!==Pe?b.flags&=~(Sg|Vo|fa|oi):b.flags&=~(fa|oi),S.lanes=Ag(S.lanes,O)}function lL(){if(re.current=zm,Rm){for(var S=Pi.memoizedState;S!==null;){var b=S.queue;b!==null&&(b.pending=null),S=S.next}Rm=!1}lu=kt,Pi=null,Ar=null,Or=null,Ws=null,Yl=-1,Dt=null,CL=!1,lv=!1,hv=0}function eo(){var S={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Or===null?Pi.memoizedState=Or=S:Or=Or.next=S,Or}function Ys(){var S;if(Ar===null){var b=Pi.alternate;b!==null?S=b.memoizedState:S=null}else S=Ar.next;var O;if(Or===null?O=Pi.memoizedState:O=Or.next,O!==null)Or=O,O=Or.next,Ar=S;else{if(S===null)throw new Error("Rendered more hooks than during the previous render.");Ar=S;var D={memoizedState:Ar.memoizedState,baseState:Ar.baseState,baseQueue:Ar.baseQueue,queue:Ar.queue,next:null};Or===null?Pi.memoizedState=Or=D:Or=Or.next=D}return Or}function hL(){return{lastEffect:null,stores:null}}function KS(S,b){return typeof b=="function"?b(S):b}function ZS(S,b,O){var D=eo(),N;O!==void 0?N=O(b):N=b,D.memoizedState=D.baseState=N;var W={pending:null,interleaved:null,lanes:kt,dispatch:null,lastRenderedReducer:S,lastRenderedState:N};D.queue=W;var Z=W.dispatch=OW.bind(null,Pi,W);return[D.memoizedState,Z]}function JS(S,b,O){var D=Ys(),N=D.queue;if(N===null)throw new Error("Should have a queue. This is likely a bug in React. Please file an issue.");N.lastRenderedReducer=S;var W=Ar,Z=W.baseQueue,q=N.pending;if(q!==null){if(Z!==null){var et=Z.next,nt=q.next;Z.next=nt,q.next=et}W.baseQueue!==Z&&n("Internal error: Expected work-in-progress queue to be a clone. This is a bug in React."),W.baseQueue=Z=q,N.pending=null}if(Z!==null){var at=Z.next,pt=W.baseState,vt=null,Ct=null,bt=null,At=at;do{var jt=At.lane;if(mf(lu,jt)){if(bt!==null){var me={lane:Hr,action:At.action,hasEagerState:At.hasEagerState,eagerState:At.eagerState,next:null};bt=bt.next=me}if(At.hasEagerState)pt=At.eagerState;else{var si=At.action;pt=S(pt,si)}}else{var Ce={lane:jt,action:At.action,hasEagerState:At.hasEagerState,eagerState:At.eagerState,next:null};bt===null?(Ct=bt=Ce,vt=pt):bt=bt.next=Ce,Pi.lanes=Je(Pi.lanes,jt),Ov(jt)}At=At.next}while(At!==null&&At!==at);bt===null?vt=pt:bt.next=Ct,ms(pt,D.memoizedState)||yv(),D.memoizedState=pt,D.baseState=vt,D.baseQueue=bt,N.lastRenderedState=pt}var ei=N.interleaved;if(ei!==null){var mt=ei;do{var Ot=mt.lane;Pi.lanes=Je(Pi.lanes,Ot),Ov(Ot),mt=mt.next}while(mt!==ei)}else Z===null&&(N.lanes=kt);var yt=N.dispatch;return[D.memoizedState,yt]}function jS(S,b,O){var D=Ys(),N=D.queue;if(N===null)throw new Error("Should have a queue. This is likely a bug in React. Please file an issue.");N.lastRenderedReducer=S;var W=N.dispatch,Z=N.pending,q=D.memoizedState;if(Z!==null){N.pending=null;var et=Z.next,nt=et;do{var at=nt.action;q=S(q,at),nt=nt.next}while(nt!==et);ms(q,D.memoizedState)||yv(),D.memoizedState=q,D.baseQueue===null&&(D.baseState=q),N.lastRenderedState=q}return[q,W]}function GPt(S,b,O){}function kPt(S,b,O){}function QS(S,b,O){var D=Pi,N=eo(),W,Z=nn();if(Z){if(O===void 0)throw new Error("Missing getServerSnapshot, which is required for server-rendered content. Will revert to client rendering.");W=O(),Nf||W!==O()&&(n("The result of getServerSnapshot should be cached to avoid an infinite loop"),Nf=!0)}else{if(W=b(),!Nf){var q=b();ms(W,q)||(n("The result of getSnapshot should be cached to avoid an infinite loop"),Nf=!0)}var et=a0();if(et===null)throw new Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");Rg(et,lu)||uL(D,b,W)}N.memoizedState=W;var nt={value:W,getSnapshot:b};return N.queue=nt,Fm(dL.bind(null,D,nt,S),[S]),D.flags|=fa,uv(Mr|sn,fL.bind(null,D,nt,W,b),void 0,null),W}function Am(S,b,O){var D=Pi,N=Ys(),W=b();if(!Nf){var Z=b();ms(W,Z)||(n("The result of getSnapshot should be cached to avoid an infinite loop"),Nf=!0)}var q=N.memoizedState,et=!ms(q,W);et&&(N.memoizedState=W,yv());var nt=N.queue;if(dv(dL.bind(null,D,nt,S),[S]),nt.getSnapshot!==b||et||Or!==null&&Or.memoizedState.tag&Mr){D.flags|=fa,uv(Mr|sn,fL.bind(null,D,nt,W,b),void 0,null);var at=a0();if(at===null)throw new Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");Rg(at,lu)||uL(D,b,W)}return W}function uL(S,b,O){S.flags|=Cg;var D={getSnapshot:b,value:O},N=Pi.updateQueue;if(N===null)N=hL(),Pi.updateQueue=N,N.stores=[D];else{var W=N.stores;W===null?N.stores=[D]:W.push(D)}}function fL(S,b,O,D){b.value=O,b.getSnapshot=D,cL(b)&&vL(S)}function dL(S,b,O){var D=function(){cL(b)&&vL(S)};return O(D)}function cL(S){var b=S.getSnapshot,O=S.value;try{var D=b();return!ms(O,D)}catch{return!0}}function vL(S){var b=Zn(S,Ge);b!==null&&Ir(b,S,Ge,zi)}function Om(S){var b=eo();typeof S=="function"&&(S=S()),b.memoizedState=b.baseState=S;var O={pending:null,interleaved:null,lanes:kt,dispatch:null,lastRenderedReducer:KS,lastRenderedState:S};b.queue=O;var D=O.dispatch=LW.bind(null,Pi,O);return[b.memoizedState,D]}function qS(S){return JS(KS)}function _S(S){return jS(KS)}function uv(S,b,O,D){var N={tag:S,create:b,destroy:O,deps:D,next:null},W=Pi.updateQueue;if(W===null)W=hL(),Pi.updateQueue=W,W.lastEffect=N.next=N;else{var Z=W.lastEffect;if(Z===null)W.lastEffect=N.next=N;else{var q=Z.next;Z.next=N,N.next=q,W.lastEffect=N}}return N}function t1(S){var b=eo();{var O={current:S};return b.memoizedState=O,O}}function Lm(S){var b=Ys();return b.memoizedState}function fv(S,b,O,D){var N=eo(),W=D===void 0?null:D;Pi.flags|=S,N.memoizedState=uv(Mr|b,O,void 0,W)}function Dm(S,b,O,D){var N=Ys(),W=D===void 0?null:D,Z=void 0;if(Ar!==null){var q=Ar.memoizedState;if(Z=q.destroy,W!==null){var et=q.deps;if($S(W,et)){N.memoizedState=uv(b,O,Z,W);return}}}Pi.flags|=S,N.memoizedState=uv(Mr|b,O,Z,W)}function Fm(S,b){return(Pi.mode&ja)!==Pe?fv(Sg|fa|QT,sn,S,b):fv(fa|QT,sn,S,b)}function dv(S,b){return Dm(fa,sn,S,b)}function e1(S,b){return fv(oi,to,S,b)}function Im(S,b){return Dm(oi,to,S,b)}function i1(S,b){var O=oi;return O|=Hh,(Pi.mode&ja)!==Pe&&(O|=Vo),fv(O,Rr,S,b)}function Bm(S,b){return Dm(oi,Rr,S,b)}function pL(S,b){if(typeof b=="function"){var O=b,D=S();return O(D),function(){O(null)}}else if(b!=null){var N=b;N.hasOwnProperty("current")||n("Expected useImperativeHandle() first argument to either be a ref callback or React.createRef() object. Instead received: %s.","an object with keys {"+Object.keys(N).join(", ")+"}");var W=S();return N.current=W,function(){N.current=null}}}function r1(S,b,O){typeof b!="function"&&n("Expected useImperativeHandle() second argument to be a function that creates a handle. Instead received: %s.",b!==null?typeof b:"null");var D=O!=null?O.concat([S]):null,N=oi;return N|=Hh,(Pi.mode&ja)!==Pe&&(N|=Vo),fv(N,Rr,pL.bind(null,b,S),D)}function Gm(S,b,O){typeof b!="function"&&n("Expected useImperativeHandle() second argument to be a function that creates a handle. Instead received: %s.",b!==null?typeof b:"null");var D=O!=null?O.concat([S]):null;return Dm(oi,Rr,pL.bind(null,b,S),D)}function MW(S,b){}var km=MW;function n1(S,b){var O=eo(),D=b===void 0?null:b;return O.memoizedState=[S,D],S}function Nm(S,b){var O=Ys(),D=b===void 0?null:b,N=O.memoizedState;if(N!==null&&D!==null){var W=N[1];if($S(D,W))return N[0]}return O.memoizedState=[S,D],S}function s1(S,b){var O=eo(),D=b===void 0?null:b,N=S();return O.memoizedState=[N,D],N}function Um(S,b){var O=Ys(),D=b===void 0?null:b,N=O.memoizedState;if(N!==null&&D!==null){var W=N[1];if($S(D,W))return N[0]}var Z=S();return O.memoizedState=[Z,D],Z}function a1(S){var b=eo();return b.memoizedState=S,S}function gL(S){var b=Ys(),O=Ar,D=O.memoizedState;return yL(b,D,S)}function mL(S){var b=Ys();if(Ar===null)return b.memoizedState=S,S;var O=Ar.memoizedState;return yL(b,O,S)}function yL(S,b,O){var D=!d7(lu);if(D){if(!ms(O,b)){var N=vA();Pi.lanes=Je(Pi.lanes,N),Ov(N),S.baseState=!0}return b}else return S.baseState&&(S.baseState=!1,yv()),S.memoizedState=O,O}function RW(S,b,O){var D=ca();$r(C7(D,Yo)),S(!0);var N=ov.transition;ov.transition={};var W=ov.transition;ov.transition._updatedFibers=new Set;try{S(!1),b()}finally{if($r(D),ov.transition=N,N===null&&W._updatedFibers){var Z=W._updatedFibers.size;Z>10&&E("Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table."),W._updatedFibers.clear()}}}function o1(){var S=Om(!1),b=S[0],O=S[1],D=RW.bind(null,O),N=eo();return N.memoizedState=D,[b,D]}function xL(){var S=qS(),b=S[0],O=Ys(),D=O.memoizedState;return[b,D]}function TL(){var S=_S(),b=S[0],O=Ys(),D=O.memoizedState;return[b,D]}var CL=!1;function AW(){return CL}function l1(){var S=eo(),b=a0(),O=b.identifierPrefix,D;if(nn()){var N=$z();D=":"+O+"R"+N;var W=hv++;W>0&&(D+="H"+W.toString(32)),D+=":"}else{var Z=bW++;D=":"+O+"r"+Z.toString(32)+":"}return S.memoizedState=D,D}function Vm(){var S=Ys(),b=S.memoizedState;return b}function OW(S,b,O){typeof arguments[3]=="function"&&n("State updates from the useState() and useReducer() Hooks don't support the second callback argument. To execute a side effect after rendering, declare it in the component body with useEffect().");var D=Zl(S),N={lane:D,action:O,hasEagerState:!1,eagerState:null,next:null};if(SL(S))EL(b,N);else{var W=QO(S,b,N,D);if(W!==null){var Z=kn();Ir(W,S,D,Z),bL(W,b,D)}}PL(S,D)}function LW(S,b,O){typeof arguments[3]=="function"&&n("State updates from the useState() and useReducer() Hooks don't support the second callback argument. To execute a side effect after rendering, declare it in the component body with useEffect().");var D=Zl(S),N={lane:D,action:O,hasEagerState:!1,eagerState:null,next:null};if(SL(S))EL(b,N);else{var W=S.alternate;if(S.lanes===kt&&(W===null||W.lanes===kt)){var Z=b.lastRenderedReducer;if(Z!==null){var q;q=re.current,re.current=ya;try{var et=b.lastRenderedState,nt=Z(et,O);if(N.hasEagerState=!0,N.eagerState=nt,ms(nt,et)){pW(S,b,N,D);return}}catch{}finally{re.current=q}}}var at=QO(S,b,N,D);if(at!==null){var pt=kn();Ir(at,S,D,pt),bL(at,b,D)}}PL(S,D)}function SL(S){var b=S.alternate;return S===Pi||b!==null&&b===Pi}function EL(S,b){lv=Rm=!0;var O=S.pending;O===null?b.next=b:(b.next=O.next,O.next=b),S.pending=b}function bL(S,b,O){if(cA(O)){var D=b.lanes;D=pA(D,S.pendingLanes);var N=Je(D,O);b.lanes=N,MC(S,N)}}function PL(S,b,O){iC(S,b)}var zm={readContext:xr,useCallback:Sn,useContext:Sn,useEffect:Sn,useImperativeHandle:Sn,useInsertionEffect:Sn,useLayoutEffect:Sn,useMemo:Sn,useReducer:Sn,useRef:Sn,useState:Sn,useDebugValue:Sn,useDeferredValue:Sn,useTransition:Sn,useMutableSource:Sn,useSyncExternalStore:Sn,useId:Sn,unstable_isNewReconciler:U},wL=null,ML=null,RL=null,AL=null,io=null,ya=null,Wm=null;{var h1=function(){n("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().")},ke=function(){n("Do not call Hooks inside useEffect(...), useMemo(...), or other built-in Hooks. You can only call Hooks at the top level of your React function. For more information, see https://reactjs.org/link/rules-of-hooks")};wL={readContext:function(S){return xr(S)},useCallback:function(S,b){return Dt="useCallback",xi(),Uf(b),n1(S,b)},useContext:function(S){return Dt="useContext",xi(),xr(S)},useEffect:function(S,b){return Dt="useEffect",xi(),Uf(b),Fm(S,b)},useImperativeHandle:function(S,b,O){return Dt="useImperativeHandle",xi(),Uf(O),r1(S,b,O)},useInsertionEffect:function(S,b){return Dt="useInsertionEffect",xi(),Uf(b),e1(S,b)},useLayoutEffect:function(S,b){return Dt="useLayoutEffect",xi(),Uf(b),i1(S,b)},useMemo:function(S,b){Dt="useMemo",xi(),Uf(b);var O=re.current;re.current=io;try{return s1(S,b)}finally{re.current=O}},useReducer:function(S,b,O){Dt="useReducer",xi();var D=re.current;re.current=io;try{return ZS(S,b,O)}finally{re.current=D}},useRef:function(S){return Dt="useRef",xi(),t1(S)},useState:function(S){Dt="useState",xi();var b=re.current;re.current=io;try{return Om(S)}finally{re.current=b}},useDebugValue:function(S,b){return Dt="useDebugValue",xi(),void 0},useDeferredValue:function(S){return Dt="useDeferredValue",xi(),a1(S)},useTransition:function(){return Dt="useTransition",xi(),o1()},useMutableSource:function(S,b,O){return Dt="useMutableSource",xi(),void 0},useSyncExternalStore:function(S,b,O){return Dt="useSyncExternalStore",xi(),QS(S,b,O)},useId:function(){return Dt="useId",xi(),l1()},unstable_isNewReconciler:U},ML={readContext:function(S){return xr(S)},useCallback:function(S,b){return Dt="useCallback",Jt(),n1(S,b)},useContext:function(S){return Dt="useContext",Jt(),xr(S)},useEffect:function(S,b){return Dt="useEffect",Jt(),Fm(S,b)},useImperativeHandle:function(S,b,O){return Dt="useImperativeHandle",Jt(),r1(S,b,O)},useInsertionEffect:function(S,b){return Dt="useInsertionEffect",Jt(),e1(S,b)},useLayoutEffect:function(S,b){return Dt="useLayoutEffect",Jt(),i1(S,b)},useMemo:function(S,b){Dt="useMemo",Jt();var O=re.current;re.current=io;try{return s1(S,b)}finally{re.current=O}},useReducer:function(S,b,O){Dt="useReducer",Jt();var D=re.current;re.current=io;try{return ZS(S,b,O)}finally{re.current=D}},useRef:function(S){return Dt="useRef",Jt(),t1(S)},useState:function(S){Dt="useState",Jt();var b=re.current;re.current=io;try{return Om(S)}finally{re.current=b}},useDebugValue:function(S,b){return Dt="useDebugValue",Jt(),void 0},useDeferredValue:function(S){return Dt="useDeferredValue",Jt(),a1(S)},useTransition:function(){return Dt="useTransition",Jt(),o1()},useMutableSource:function(S,b,O){return Dt="useMutableSource",Jt(),void 0},useSyncExternalStore:function(S,b,O){return Dt="useSyncExternalStore",Jt(),QS(S,b,O)},useId:function(){return Dt="useId",Jt(),l1()},unstable_isNewReconciler:U},RL={readContext:function(S){return xr(S)},useCallback:function(S,b){return Dt="useCallback",Jt(),Nm(S,b)},useContext:function(S){return Dt="useContext",Jt(),xr(S)},useEffect:function(S,b){return Dt="useEffect",Jt(),dv(S,b)},useImperativeHandle:function(S,b,O){return Dt="useImperativeHandle",Jt(),Gm(S,b,O)},useInsertionEffect:function(S,b){return Dt="useInsertionEffect",Jt(),Im(S,b)},useLayoutEffect:function(S,b){return Dt="useLayoutEffect",Jt(),Bm(S,b)},useMemo:function(S,b){Dt="useMemo",Jt();var O=re.current;re.current=ya;try{return Um(S,b)}finally{re.current=O}},useReducer:function(S,b,O){Dt="useReducer",Jt();var D=re.current;re.current=ya;try{return JS(S,b,O)}finally{re.current=D}},useRef:function(S){return Dt="useRef",Jt(),Lm()},useState:function(S){Dt="useState",Jt();var b=re.current;re.current=ya;try{return qS(S)}finally{re.current=b}},useDebugValue:function(S,b){return Dt="useDebugValue",Jt(),km()},useDeferredValue:function(S){return Dt="useDeferredValue",Jt(),gL(S)},useTransition:function(){return Dt="useTransition",Jt(),xL()},useMutableSource:function(S,b,O){return Dt="useMutableSource",Jt(),void 0},useSyncExternalStore:function(S,b,O){return Dt="useSyncExternalStore",Jt(),Am(S,b)},useId:function(){return Dt="useId",Jt(),Vm()},unstable_isNewReconciler:U},AL={readContext:function(S){return xr(S)},useCallback:function(S,b){return Dt="useCallback",Jt(),Nm(S,b)},useContext:function(S){return Dt="useContext",Jt(),xr(S)},useEffect:function(S,b){return Dt="useEffect",Jt(),dv(S,b)},useImperativeHandle:function(S,b,O){return Dt="useImperativeHandle",Jt(),Gm(S,b,O)},useInsertionEffect:function(S,b){return Dt="useInsertionEffect",Jt(),Im(S,b)},useLayoutEffect:function(S,b){return Dt="useLayoutEffect",Jt(),Bm(S,b)},useMemo:function(S,b){Dt="useMemo",Jt();var O=re.current;re.current=Wm;try{return Um(S,b)}finally{re.current=O}},useReducer:function(S,b,O){Dt="useReducer",Jt();var D=re.current;re.current=Wm;try{return jS(S,b,O)}finally{re.current=D}},useRef:function(S){return Dt="useRef",Jt(),Lm()},useState:function(S){Dt="useState",Jt();var b=re.current;re.current=Wm;try{return _S(S)}finally{re.current=b}},useDebugValue:function(S,b){return Dt="useDebugValue",Jt(),km()},useDeferredValue:function(S){return Dt="useDeferredValue",Jt(),mL(S)},useTransition:function(){return Dt="useTransition",Jt(),TL()},useMutableSource:function(S,b,O){return Dt="useMutableSource",Jt(),void 0},useSyncExternalStore:function(S,b,O){return Dt="useSyncExternalStore",Jt(),Am(S,b)},useId:function(){return Dt="useId",Jt(),Vm()},unstable_isNewReconciler:U},io={readContext:function(S){return h1(),xr(S)},useCallback:function(S,b){return Dt="useCallback",ke(),xi(),n1(S,b)},useContext:function(S){return Dt="useContext",ke(),xi(),xr(S)},useEffect:function(S,b){return Dt="useEffect",ke(),xi(),Fm(S,b)},useImperativeHandle:function(S,b,O){return Dt="useImperativeHandle",ke(),xi(),r1(S,b,O)},useInsertionEffect:function(S,b){return Dt="useInsertionEffect",ke(),xi(),e1(S,b)},useLayoutEffect:function(S,b){return Dt="useLayoutEffect",ke(),xi(),i1(S,b)},useMemo:function(S,b){Dt="useMemo",ke(),xi();var O=re.current;re.current=io;try{return s1(S,b)}finally{re.current=O}},useReducer:function(S,b,O){Dt="useReducer",ke(),xi();var D=re.current;re.current=io;try{return ZS(S,b,O)}finally{re.current=D}},useRef:function(S){return Dt="useRef",ke(),xi(),t1(S)},useState:function(S){Dt="useState",ke(),xi();var b=re.current;re.current=io;try{return Om(S)}finally{re.current=b}},useDebugValue:function(S,b){return Dt="useDebugValue",ke(),xi(),void 0},useDeferredValue:function(S){return Dt="useDeferredValue",ke(),xi(),a1(S)},useTransition:function(){return Dt="useTransition",ke(),xi(),o1()},useMutableSource:function(S,b,O){return Dt="useMutableSource",ke(),xi(),void 0},useSyncExternalStore:function(S,b,O){return Dt="useSyncExternalStore",ke(),xi(),QS(S,b,O)},useId:function(){return Dt="useId",ke(),xi(),l1()},unstable_isNewReconciler:U},ya={readContext:function(S){return h1(),xr(S)},useCallback:function(S,b){return Dt="useCallback",ke(),Jt(),Nm(S,b)},useContext:function(S){return Dt="useContext",ke(),Jt(),xr(S)},useEffect:function(S,b){return Dt="useEffect",ke(),Jt(),dv(S,b)},useImperativeHandle:function(S,b,O){return Dt="useImperativeHandle",ke(),Jt(),Gm(S,b,O)},useInsertionEffect:function(S,b){return Dt="useInsertionEffect",ke(),Jt(),Im(S,b)},useLayoutEffect:function(S,b){return Dt="useLayoutEffect",ke(),Jt(),Bm(S,b)},useMemo:function(S,b){Dt="useMemo",ke(),Jt();var O=re.current;re.current=ya;try{return Um(S,b)}finally{re.current=O}},useReducer:function(S,b,O){Dt="useReducer",ke(),Jt();var D=re.current;re.current=ya;try{return JS(S,b,O)}finally{re.current=D}},useRef:function(S){return Dt="useRef",ke(),Jt(),Lm()},useState:function(S){Dt="useState",ke(),Jt();var b=re.current;re.current=ya;try{return qS(S)}finally{re.current=b}},useDebugValue:function(S,b){return Dt="useDebugValue",ke(),Jt(),km()},useDeferredValue:function(S){return Dt="useDeferredValue",ke(),Jt(),gL(S)},useTransition:function(){return Dt="useTransition",ke(),Jt(),xL()},useMutableSource:function(S,b,O){return Dt="useMutableSource",ke(),Jt(),void 0},useSyncExternalStore:function(S,b,O){return Dt="useSyncExternalStore",ke(),Jt(),Am(S,b)},useId:function(){return Dt="useId",ke(),Jt(),Vm()},unstable_isNewReconciler:U},Wm={readContext:function(S){return h1(),xr(S)},useCallback:function(S,b){return Dt="useCallback",ke(),Jt(),Nm(S,b)},useContext:function(S){return Dt="useContext",ke(),Jt(),xr(S)},useEffect:function(S,b){return Dt="useEffect",ke(),Jt(),dv(S,b)},useImperativeHandle:function(S,b,O){return Dt="useImperativeHandle",ke(),Jt(),Gm(S,b,O)},useInsertionEffect:function(S,b){return Dt="useInsertionEffect",ke(),Jt(),Im(S,b)},useLayoutEffect:function(S,b){return Dt="useLayoutEffect",ke(),Jt(),Bm(S,b)},useMemo:function(S,b){Dt="useMemo",ke(),Jt();var O=re.current;re.current=ya;try{return Um(S,b)}finally{re.current=O}},useReducer:function(S,b,O){Dt="useReducer",ke(),Jt();var D=re.current;re.current=ya;try{return jS(S,b,O)}finally{re.current=D}},useRef:function(S){return Dt="useRef",ke(),Jt(),Lm()},useState:function(S){Dt="useState",ke(),Jt();var b=re.current;re.current=ya;try{return _S(S)}finally{re.current=b}},useDebugValue:function(S,b){return Dt="useDebugValue",ke(),Jt(),km()},useDeferredValue:function(S){return Dt="useDeferredValue",ke(),Jt(),mL(S)},useTransition:function(){return Dt="useTransition",ke(),Jt(),TL()},useMutableSource:function(S,b,O){return Dt="useMutableSource",ke(),Jt(),void 0},useSyncExternalStore:function(S,b,O){return Dt="useSyncExternalStore",ke(),Jt(),Am(S,b)},useId:function(){return Dt="useId",ke(),Jt(),Vm()},unstable_isNewReconciler:U}}var Xl=t.unstable_now,OL=0,Ym=-1,cv=-1,Xm=-1,u1=!1,Hm=!1;function LL(){return u1}function DW(){Hm=!0}function FW(){u1=!1,Hm=!1}function IW(){u1=Hm,Hm=!1}function DL(){return OL}function FL(){OL=Xl()}function f1(S){cv=Xl(),S.actualStartTime<0&&(S.actualStartTime=Xl())}function IL(S){cv=-1}function $m(S,b){if(cv>=0){var O=Xl()-cv;S.actualDuration+=O,b&&(S.selfBaseDuration=O),cv=-1}}function ro(S){if(Ym>=0){var b=Xl()-Ym;Ym=-1;for(var O=S.return;O!==null;){switch(O.tag){case d:var D=O.stateNode;D.effectDuration+=b;return;case m:var N=O.stateNode;N.effectDuration+=b;return}O=O.return}}}function d1(S){if(Xm>=0){var b=Xl()-Xm;Xm=-1;for(var O=S.return;O!==null;){switch(O.tag){case d:var D=O.stateNode;D!==null&&(D.passiveEffectDuration+=b);return;case m:var N=O.stateNode;N!==null&&(N.passiveEffectDuration+=b);return}O=O.return}}}function no(){Ym=Xl()}function c1(){Xm=Xl()}function v1(S){for(var b=S.child;b;)S.actualDuration+=b.actualDuration,b=b.sibling}function xa(S,b){if(S&&S.defaultProps){var O=He({},b),D=S.defaultProps;for(var N in D)O[N]===void 0&&(O[N]=D[N]);return O}return b}var p1={},g1,m1,y1,x1,T1,BL,Km,C1,S1,E1,vv;{g1=new Set,m1=new Set,y1=new Set,x1=new Set,C1=new Set,T1=new Set,S1=new Set,E1=new Set,vv=new Set;var GL=new Set;Km=function(S,b){if(!(S===null||typeof S=="function")){var O=b+"_"+S;GL.has(O)||(GL.add(O),n("%s(...): Expected the last optional `callback` argument to be a function. Instead received: %s.",b,S))}},BL=function(S,b){if(b===void 0){var O=ie(S)||"Component";T1.has(O)||(T1.add(O),n("%s.getDerivedStateFromProps(): A valid state object (or null) must be returned. You have returned undefined.",O))}},Object.defineProperty(p1,"_processChildContext",{enumerable:!1,value:function(){throw new Error("_processChildContext is not available in React 16+. This likely means you have multiple copies of React and are attempting to nest a React 15 tree inside a React 16 tree using unstable_renderSubtreeIntoContainer, which isn't supported. Try to make sure you have only one copy of React (and ideally, switch to ReactDOM.createPortal).")}}),Object.freeze(p1)}function b1(S,b,O,D){var N=S.memoizedState,W=O(D,N);{if(S.mode&ir){Xr(!0);try{W=O(D,N)}finally{Xr(!1)}}BL(b,W)}var Z=W==null?N:He({},N,W);if(S.memoizedState=Z,S.lanes===kt){var q=S.updateQueue;q.baseState=Z}}var P1={isMounted:P6,enqueueSetState:function(S,b,O){var D=hf(S),N=kn(),W=Zl(D),Z=jo(N,W);Z.payload=b,O!=null&&(Km(O,"setState"),Z.callback=O);var q=Vl(D,Z,W);q!==null&&(Ir(q,D,W,N),Sm(q,D,W)),iC(D,W)},enqueueReplaceState:function(S,b,O){var D=hf(S),N=kn(),W=Zl(D),Z=jo(N,W);Z.tag=_O,Z.payload=b,O!=null&&(Km(O,"replaceState"),Z.callback=O);var q=Vl(D,Z,W);q!==null&&(Ir(q,D,W,N),Sm(q,D,W)),iC(D,W)},enqueueForceUpdate:function(S,b){var O=hf(S),D=kn(),N=Zl(O),W=jo(D,N);W.tag=xm,b!=null&&(Km(b,"forceUpdate"),W.callback=b);var Z=Vl(O,W,N);Z!==null&&(Ir(Z,O,N,D),Sm(Z,O,N)),i7(O,N)}};function kL(S,b,O,D,N,W,Z){var q=S.stateNode;if(typeof q.shouldComponentUpdate=="function"){var et=q.shouldComponentUpdate(D,W,Z);{if(S.mode&ir){Xr(!0);try{et=q.shouldComponentUpdate(D,W,Z)}finally{Xr(!1)}}et===void 0&&n("%s.shouldComponentUpdate(): Returned undefined instead of a boolean value. Make sure to return true or false.",ie(b)||"Component")}return et}return b.prototype&&b.prototype.isPureReactComponent?!Gc(O,D)||!Gc(N,W):!0}function BW(S,b,O){var D=S.stateNode;{var N=ie(b)||"Component",W=D.render;W||(b.prototype&&typeof b.prototype.render=="function"?n("%s(...): No `render` method found on the returned component instance: did you accidentally return an object from the constructor?",N):n("%s(...): No `render` method found on the returned component instance: you may have forgotten to define `render`.",N)),D.getInitialState&&!D.getInitialState.isReactClassApproved&&!D.state&&n("getInitialState was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Did you mean to define a state property instead?",N),D.getDefaultProps&&!D.getDefaultProps.isReactClassApproved&&n("getDefaultProps was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Use a static property to define defaultProps instead.",N),D.propTypes&&n("propTypes was defined as an instance property on %s. Use a static property to define propTypes instead.",N),D.contextType&&n("contextType was defined as an instance property on %s. Use a static property to define contextType instead.",N),b.childContextTypes&&!vv.has(b)&&(S.mode&ir)===Pe&&(vv.add(b),n(`%s uses the legacy childContextTypes API which is no longer supported and will be removed in the next major release. Use React.createContext() instead

.Learn more about this warning here: https://reactjs.org/link/legacy-context`,N)),b.contextTypes&&!vv.has(b)&&(S.mode&ir)===Pe&&(vv.add(b),n(`%s uses the legacy contextTypes API which is no longer supported and will be removed in the next major release. Use React.createContext() with static contextType instead.

Learn more about this warning here: https://reactjs.org/link/legacy-context`,N)),D.contextTypes&&n("contextTypes was defined as an instance property on %s. Use a static property to define contextTypes instead.",N),b.contextType&&b.contextTypes&&!S1.has(b)&&(S1.add(b),n("%s declares both contextTypes and contextType static properties. The legacy contextTypes property will be ignored.",N)),typeof D.componentShouldUpdate=="function"&&n("%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",N),b.prototype&&b.prototype.isPureReactComponent&&typeof D.shouldComponentUpdate<"u"&&n("%s has a method called shouldComponentUpdate(). shouldComponentUpdate should not be used when extending React.PureComponent. Please extend React.Component if shouldComponentUpdate is used.",ie(b)||"A pure component"),typeof D.componentDidUnmount=="function"&&n("%s has a method called componentDidUnmount(). But there is no such lifecycle method. Did you mean componentWillUnmount()?",N),typeof D.componentDidReceiveProps=="function"&&n("%s has a method called componentDidReceiveProps(). But there is no such lifecycle method. If you meant to update the state in response to changing props, use componentWillReceiveProps(). If you meant to fetch data or run side-effects or mutations after React has updated the UI, use componentDidUpdate().",N),typeof D.componentWillRecieveProps=="function"&&n("%s has a method called componentWillRecieveProps(). Did you mean componentWillReceiveProps()?",N),typeof D.UNSAFE_componentWillRecieveProps=="function"&&n("%s has a method called UNSAFE_componentWillRecieveProps(). Did you mean UNSAFE_componentWillReceiveProps()?",N);var Z=D.props!==O;D.props!==void 0&&Z&&n("%s(...): When calling super() in `%s`, make sure to pass up the same props that your component's constructor was passed.",N,N),D.defaultProps&&n("Setting defaultProps as an instance property on %s is not supported and will be ignored. Instead, define defaultProps as a static property on %s.",N,N),typeof D.getSnapshotBeforeUpdate=="function"&&typeof D.componentDidUpdate!="function"&&!y1.has(b)&&(y1.add(b),n("%s: getSnapshotBeforeUpdate() should be used with componentDidUpdate(). This component defines getSnapshotBeforeUpdate() only.",ie(b))),typeof D.getDerivedStateFromProps=="function"&&n("%s: getDerivedStateFromProps() is defined as an instance method and will be ignored. Instead, declare it as a static method.",N),typeof D.getDerivedStateFromError=="function"&&n("%s: getDerivedStateFromError() is defined as an instance method and will be ignored. Instead, declare it as a static method.",N),typeof b.getSnapshotBeforeUpdate=="function"&&n("%s: getSnapshotBeforeUpdate() is defined as a static method and will be ignored. Instead, declare it as an instance method.",N);var q=D.state;q&&(typeof q!="object"||vi(q))&&n("%s.state: must be set to an object or null",N),typeof D.getChildContext=="function"&&typeof b.childContextTypes!="object"&&n("%s.getChildContext(): childContextTypes must be defined in order to use getChildContext().",N)}}function NL(S,b){b.updater=P1,S.stateNode=b,T6(b,S),b._reactInternalInstance=p1}function UL(S,b,O){var D=!1,N=ys,W=ys,Z=b.contextType;if("contextType"in b){var q=Z===null||Z!==void 0&&Z.$$typeof===_e&&Z._context===void 0;if(!q&&!E1.has(b)){E1.add(b);var et="";Z===void 0?et=" However, it is set to undefined. This can be caused by a typo or by mixing up named and default imports. This can also happen due to a circular dependency, so try moving the createContext() call to a separate file.":typeof Z!="object"?et=" However, it is set to a "+typeof Z+".":Z.$$typeof===de?et=" Did you accidentally pass the Context.Provider instead?":Z._context!==void 0?et=" Did you accidentally pass the Context.Consumer instead?":et=" However, it is set to an object with keys {"+Object.keys(Z).join(", ")+"}.",n("%s defines an invalid contextType. contextType should point to the Context object returned by React.createContext().%s",ie(b)||"Component",et)}}if(typeof Z=="object"&&Z!==null)W=xr(Z);else{N=Mf(S,b,!0);var nt=b.contextTypes;D=nt!=null,W=D?Rf(S,N):ys}var at=new b(O,W);if(S.mode&ir){Xr(!0);try{at=new b(O,W)}finally{Xr(!1)}}var pt=S.memoizedState=at.state!==null&&at.state!==void 0?at.state:null;NL(S,at);{if(typeof b.getDerivedStateFromProps=="function"&&pt===null){var vt=ie(b)||"Component";m1.has(vt)||(m1.add(vt),n("`%s` uses `getDerivedStateFromProps` but its initial state is %s. This is not recommended. Instead, define the initial state by assigning an object to `this.state` in the constructor of `%s`. This ensures that `getDerivedStateFromProps` arguments have a consistent shape.",vt,at.state===null?"null":"undefined",vt))}if(typeof b.getDerivedStateFromProps=="function"||typeof at.getSnapshotBeforeUpdate=="function"){var Ct=null,bt=null,At=null;if(typeof at.componentWillMount=="function"&&at.componentWillMount.__suppressDeprecationWarning!==!0?Ct="componentWillMount":typeof at.UNSAFE_componentWillMount=="function"&&(Ct="UNSAFE_componentWillMount"),typeof at.componentWillReceiveProps=="function"&&at.componentWillReceiveProps.__suppressDeprecationWarning!==!0?bt="componentWillReceiveProps":typeof at.UNSAFE_componentWillReceiveProps=="function"&&(bt="UNSAFE_componentWillReceiveProps"),typeof at.componentWillUpdate=="function"&&at.componentWillUpdate.__suppressDeprecationWarning!==!0?At="componentWillUpdate":typeof at.UNSAFE_componentWillUpdate=="function"&&(At="UNSAFE_componentWillUpdate"),Ct!==null||bt!==null||At!==null){var jt=ie(b)||"Component",Ce=typeof b.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";x1.has(jt)||(x1.add(jt),n(`Unsafe legacy lifecycles will not be called for components using new component APIs.

%s uses %s but also contains the following legacy lifecycles:%s%s%s

The above lifecycles should be removed. Learn more about this warning here:
https://reactjs.org/link/unsafe-component-lifecycles`,jt,Ce,Ct!==null?`
  `+Ct:"",bt!==null?`
  `+bt:"",At!==null?`
  `+At:""))}}}return D&&RO(S,N,W),at}function GW(S,b){var O=b.state;typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),O!==b.state&&(n("%s.componentWillMount(): Assigning directly to this.state is deprecated (except inside a component's constructor). Use setState instead.",Ft(S)||"Component"),P1.enqueueReplaceState(b,b.state,null))}function VL(S,b,O,D){var N=b.state;if(typeof b.componentWillReceiveProps=="function"&&b.componentWillReceiveProps(O,D),typeof b.UNSAFE_componentWillReceiveProps=="function"&&b.UNSAFE_componentWillReceiveProps(O,D),b.state!==N){{var W=Ft(S)||"Component";g1.has(W)||(g1.add(W),n("%s.componentWillReceiveProps(): Assigning directly to this.state is deprecated (except inside a component's constructor). Use setState instead.",W))}P1.enqueueReplaceState(b,b.state,null)}}function w1(S,b,O,D){BW(S,b,O);var N=S.stateNode;N.props=O,N.state=S.memoizedState,N.refs={},BS(S);var W=b.contextType;if(typeof W=="object"&&W!==null)N.context=xr(W);else{var Z=Mf(S,b,!0);N.context=Rf(S,Z)}{if(N.state===O){var q=ie(b)||"Component";C1.has(q)||(C1.add(q),n("%s: It is not recommended to assign props directly to state because updates to props won't be reflected in state. In most cases, it is better to use props directly.",q))}S.mode&ir&&ga.recordLegacyContextWarning(S,N),ga.recordUnsafeLifecycleWarnings(S,N)}N.state=S.memoizedState;var et=b.getDerivedStateFromProps;if(typeof et=="function"&&(b1(S,b,et,O),N.state=S.memoizedState),typeof b.getDerivedStateFromProps!="function"&&typeof N.getSnapshotBeforeUpdate!="function"&&(typeof N.UNSAFE_componentWillMount=="function"||typeof N.componentWillMount=="function")&&(GW(S,N),Em(S,O,N,D),N.state=S.memoizedState),typeof N.componentDidMount=="function"){var nt=oi;nt|=Hh,(S.mode&ja)!==Pe&&(nt|=Vo),S.flags|=nt}}function kW(S,b,O,D){var N=S.stateNode,W=S.memoizedProps;N.props=W;var Z=N.context,q=b.contextType,et=ys;if(typeof q=="object"&&q!==null)et=xr(q);else{var nt=Mf(S,b,!0);et=Rf(S,nt)}var at=b.getDerivedStateFromProps,pt=typeof at=="function"||typeof N.getSnapshotBeforeUpdate=="function";!pt&&(typeof N.UNSAFE_componentWillReceiveProps=="function"||typeof N.componentWillReceiveProps=="function")&&(W!==O||Z!==et)&&VL(S,N,O,et),eL();var vt=S.memoizedState,Ct=N.state=vt;if(Em(S,O,N,D),Ct=S.memoizedState,W===O&&vt===Ct&&!nm()&&!bm()){if(typeof N.componentDidMount=="function"){var bt=oi;bt|=Hh,(S.mode&ja)!==Pe&&(bt|=Vo),S.flags|=bt}return!1}typeof at=="function"&&(b1(S,b,at,O),Ct=S.memoizedState);var At=bm()||kL(S,b,W,O,vt,Ct,et);if(At){if(!pt&&(typeof N.UNSAFE_componentWillMount=="function"||typeof N.componentWillMount=="function")&&(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"){var jt=oi;jt|=Hh,(S.mode&ja)!==Pe&&(jt|=Vo),S.flags|=jt}}else{if(typeof N.componentDidMount=="function"){var Ce=oi;Ce|=Hh,(S.mode&ja)!==Pe&&(Ce|=Vo),S.flags|=Ce}S.memoizedProps=O,S.memoizedState=Ct}return N.props=O,N.state=Ct,N.context=et,At}function NW(S,b,O,D,N){var W=b.stateNode;tL(S,b);var Z=b.memoizedProps,q=b.type===b.elementType?Z:xa(b.type,Z);W.props=q;var et=b.pendingProps,nt=W.context,at=O.contextType,pt=ys;if(typeof at=="object"&&at!==null)pt=xr(at);else{var vt=Mf(b,O,!0);pt=Rf(b,vt)}var Ct=O.getDerivedStateFromProps,bt=typeof Ct=="function"||typeof W.getSnapshotBeforeUpdate=="function";!bt&&(typeof W.UNSAFE_componentWillReceiveProps=="function"||typeof W.componentWillReceiveProps=="function")&&(Z!==et||nt!==pt)&&VL(b,W,D,pt),eL();var At=b.memoizedState,jt=W.state=At;if(Em(b,D,W,N),jt=b.memoizedState,Z===et&&At===jt&&!nm()&&!bm()&&!H)return typeof W.componentDidUpdate=="function"&&(Z!==S.memoizedProps||At!==S.memoizedState)&&(b.flags|=oi),typeof W.getSnapshotBeforeUpdate=="function"&&(Z!==S.memoizedProps||At!==S.memoizedState)&&(b.flags|=Yh),!1;typeof Ct=="function"&&(b1(b,O,Ct,D),jt=b.memoizedState);var Ce=bm()||kL(b,O,q,D,At,jt,pt)||H;return Ce?(!bt&&(typeof W.UNSAFE_componentWillUpdate=="function"||typeof W.componentWillUpdate=="function")&&(typeof W.componentWillUpdate=="function"&&W.componentWillUpdate(D,jt,pt),typeof W.UNSAFE_componentWillUpdate=="function"&&W.UNSAFE_componentWillUpdate(D,jt,pt)),typeof W.componentDidUpdate=="function"&&(b.flags|=oi),typeof W.getSnapshotBeforeUpdate=="function"&&(b.flags|=Yh)):(typeof W.componentDidUpdate=="function"&&(Z!==S.memoizedProps||At!==S.memoizedState)&&(b.flags|=oi),typeof W.getSnapshotBeforeUpdate=="function"&&(Z!==S.memoizedProps||At!==S.memoizedState)&&(b.flags|=Yh),b.memoizedProps=D,b.memoizedState=jt),W.props=D,W.state=jt,W.context=pt,Ce}function hu(S,b){return{value:S,source:b,stack:se(b),digest:null}}function M1(S,b,O){return{value:S,source:null,stack:O??null,digest:b??null}}function UW(S,b){return!0}function R1(S,b){try{var O=UW(S,b);if(O===!1)return;var D=b.value,N=b.source,W=b.stack,Z=W!==null?W:"";if(D!=null&&D._suppressLogging){if(S.tag===o)return;console.error(D)}var q=N?Ft(N):null,et=q?"The above error occurred in the <"+q+"> component:":"The above error occurred in one of your React components:",nt;if(S.tag===d)nt=`Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.`;else{var at=Ft(S)||"Anonymous";nt="React will try to recreate this component tree from scratch "+("using the error boundary you provided, "+at+".")}var pt=et+`
`+Z+`

`+(""+nt);console.error(pt)}catch(vt){setTimeout(function(){throw vt})}}var VW=typeof WeakMap=="function"?WeakMap:Map;function zL(S,b,O){var D=jo(zi,O);D.tag=FS,D.payload={element:null};var N=b.value;return D.callback=function(){DX(N),R1(S,b)},D}function A1(S,b,O){var D=jo(zi,O);D.tag=FS;var N=S.type.getDerivedStateFromError;if(typeof N=="function"){var W=b.value;D.payload=function(){return N(W)},D.callback=function(){q2(S),R1(S,b)}}var Z=S.stateNode;return Z!==null&&typeof Z.componentDidCatch=="function"&&(D.callback=function(){q2(S),R1(S,b),typeof N!="function"&&OX(this);var et=b.value,nt=b.stack;this.componentDidCatch(et,{componentStack:nt!==null?nt:""}),typeof N!="function"&&(vs(S.lanes,Ge)||n("%s: Error boundaries should implement getDerivedStateFromError(). In that method, return a state update to display an error message or fallback UI.",Ft(S)||"Unknown"))}),D}function WL(S,b,O){var D=S.pingCache,N;if(D===null?(D=S.pingCache=new VW,N=new Set,D.set(b,N)):(N=D.get(b),N===void 0&&(N=new Set,D.set(b,N))),!N.has(O)){N.add(O);var W=FX.bind(null,S,b,O);da&&Lv(S,O),b.then(W,W)}}function zW(S,b,O,D){var N=S.updateQueue;if(N===null){var W=new Set;W.add(O),S.updateQueue=W}else N.add(O)}function WW(S,b){var O=S.tag;if((S.mode&ri)===Pe&&(O===r||O===g||O===P)){var D=S.alternate;D?(S.updateQueue=D.updateQueue,S.memoizedState=D.memoizedState,S.lanes=D.lanes):(S.updateQueue=null,S.memoizedState=null)}}function YL(S){var b=S;do{if(b.tag===y&&SW(b))return b;b=b.return}while(b!==null);return null}function XL(S,b,O,D,N){if((S.mode&ri)===Pe){if(S===b)S.flags|=In;else{if(S.flags|=pi,O.flags|=JT,O.flags&=~(C6|cc),O.tag===o){var W=O.alternate;if(W===null)O.tag=M;else{var Z=jo(zi,Ge);Z.tag=xm,Vl(O,Z,Ge)}}O.lanes=Je(O.lanes,Ge)}return S}return S.flags|=In,S.lanes=N,S}function YW(S,b,O,D,N){if(O.flags|=cc,da&&Lv(S,N),D!==null&&typeof D=="object"&&typeof D.then=="function"){var W=D;WW(O),nn()&&O.mode&ri&&BO();var Z=YL(b);if(Z!==null){Z.flags&=~No,XL(Z,b,O,S,N),Z.mode&ri&&WL(S,W,N),zW(Z,S,W);return}else{if(!f7(N)){WL(S,W,N),lE();return}var q=new Error("A component suspended while responding to synchronous input. This will cause the UI to be replaced with a loading indicator. To fix, updates that suspend should be wrapped with startTransition.");D=q}}else if(nn()&&O.mode&ri){BO();var et=YL(b);if(et!==null){(et.flags&In)===Ae&&(et.flags|=No),XL(et,b,O,S,N),CS(hu(D,O));return}}D=hu(D,O),SX(D);var nt=b;do{switch(nt.tag){case d:{var at=D;nt.flags|=In;var pt=Cc(N);nt.lanes=Je(nt.lanes,pt);var vt=zL(nt,at,pt);GS(nt,vt);return}case o:var Ct=D,bt=nt.type,At=nt.stateNode;if((nt.flags&pi)===Ae&&(typeof bt.getDerivedStateFromError=="function"||At!==null&&typeof At.componentDidCatch=="function"&&!Y2(At))){nt.flags|=In;var jt=Cc(N);nt.lanes=Je(nt.lanes,jt);var Ce=A1(nt,Ct,jt);GS(nt,Ce);return}break}nt=nt.return}while(nt!==null)}function XW(){return null}var pv=i.ReactCurrentOwner,Ta=!1,O1,gv,L1,D1,F1,uu,I1,Zm,mv;O1={},gv={},L1={},D1={},F1={},uu=!1,I1={},Zm={},mv={};function Bn(S,b,O,D){S===null?b.child=KO(b,null,O,D):b.child=Df(b,S.child,O,D)}function HW(S,b,O,D){b.child=Df(b,S.child,null,D),b.child=Df(b,null,O,D)}function HL(S,b,O,D,N){if(b.type!==b.elementType){var W=O.propTypes;W&&va(W,D,"prop",ie(O))}var Z=O.render,q=b.ref,et,nt;If(b,N),pc(b);{if(pv.current=b,yn(!0),et=Vf(S,b,Z,D,q,N),nt=zf(),b.mode&ir){Xr(!0);try{et=Vf(S,b,Z,D,q,N),nt=zf()}finally{Xr(!1)}}yn(!1)}return cf(),S!==null&&!Ta?(oL(S,b,N),Qo(S,b,N)):(nn()&&nt&&pS(b),b.flags|=uf,Bn(S,b,et,N),b.child)}function $L(S,b,O,D,N){if(S===null){var W=O.type;if(jX(W)&&O.compare===null&&O.defaultProps===void 0){var Z=W;return Z=Jf(W),b.tag=P,b.type=Z,k1(b,W),KL(S,b,Z,D,N)}{var q=W.propTypes;if(q&&va(q,D,"prop",ie(W)),O.defaultProps!==void 0){var et=ie(W)||"Unknown";mv[et]||(n("%s: Support for defaultProps will be removed from memo components in a future major release. Use JavaScript default parameters instead.",et),mv[et]=!0)}}var nt=xE(O.type,null,D,b,b.mode,N);return nt.ref=b.ref,nt.return=b,b.child=nt,nt}{var at=O.type,pt=at.propTypes;pt&&va(pt,D,"prop",ie(at))}var vt=S.child,Ct=Y1(S,N);if(!Ct){var bt=vt.memoizedProps,At=O.compare;if(At=At!==null?At:Gc,At(bt,D)&&S.ref===b.ref)return Qo(S,b,N)}b.flags|=uf;var jt=pu(vt,D);return jt.ref=b.ref,jt.return=b,b.child=jt,jt}function KL(S,b,O,D,N){if(b.type!==b.elementType){var W=b.elementType;if(W.$$typeof===Qe){var Z=W,q=Z._payload,et=Z._init;try{W=et(q)}catch{W=null}var nt=W&&W.propTypes;nt&&va(nt,D,"prop",ie(W))}}if(S!==null){var at=S.memoizedProps;if(Gc(at,D)&&S.ref===b.ref&&b.type===S.type)if(Ta=!1,b.pendingProps=D=at,Y1(S,N))(S.flags&JT)!==Ae&&(Ta=!0);else return b.lanes=S.lanes,Qo(S,b,N)}return B1(S,b,O,D,N)}function ZL(S,b,O){var D=b.pendingProps,N=D.children,W=S!==null?S.memoizedState:null;if(D.mode==="hidden"||X)if((b.mode&ri)===Pe){var Z={baseLanes:kt,cachePool:null,transitions:null};b.memoizedState=Z,o0(b,O)}else if(vs(O,cs)){var pt={baseLanes:kt,cachePool:null,transitions:null};b.memoizedState=pt;var vt=W!==null?W.baseLanes:O;o0(b,vt)}else{var q=null,et;if(W!==null){var nt=W.baseLanes;et=Je(nt,O)}else et=O;b.lanes=b.childLanes=cs;var at={baseLanes:et,cachePool:q,transitions:null};return b.memoizedState=at,b.updateQueue=null,o0(b,et),null}else{var Ct;W!==null?(Ct=Je(W.baseLanes,O),b.memoizedState=null):Ct=O,o0(b,Ct)}return Bn(S,b,N,O),b.child}function $W(S,b,O){var D=b.pendingProps;return Bn(S,b,D,O),b.child}function KW(S,b,O){var D=b.pendingProps.children;return Bn(S,b,D,O),b.child}function ZW(S,b,O){{b.flags|=oi;{var D=b.stateNode;D.effectDuration=0,D.passiveEffectDuration=0}}var N=b.pendingProps,W=N.children;return Bn(S,b,W,O),b.child}function JL(S,b){var O=b.ref;(S===null&&O!==null||S!==null&&S.ref!==O)&&(b.flags|=Rl,b.flags|=jT)}function B1(S,b,O,D,N){if(b.type!==b.elementType){var W=O.propTypes;W&&va(W,D,"prop",ie(O))}var Z;{var q=Mf(b,O,!0);Z=Rf(b,q)}var et,nt;If(b,N),pc(b);{if(pv.current=b,yn(!0),et=Vf(S,b,O,D,Z,N),nt=zf(),b.mode&ir){Xr(!0);try{et=Vf(S,b,O,D,Z,N),nt=zf()}finally{Xr(!1)}}yn(!1)}return cf(),S!==null&&!Ta?(oL(S,b,N),Qo(S,b,N)):(nn()&&nt&&pS(b),b.flags|=uf,Bn(S,b,et,N),b.child)}function jL(S,b,O,D,N){{switch(fH(b)){case!1:{var W=b.stateNode,Z=b.type,q=new Z(b.memoizedProps,W.context),et=q.state;W.updater.enqueueSetState(W,et,null);break}case!0:{b.flags|=pi,b.flags|=In;var nt=new Error("Simulated error coming from DevTools"),at=Cc(N);b.lanes=Je(b.lanes,at);var pt=A1(b,hu(nt,b),at);GS(b,pt);break}}if(b.type!==b.elementType){var vt=O.propTypes;vt&&va(vt,D,"prop",ie(O))}}var Ct;_a(O)?(Ct=!0,am(b)):Ct=!1,If(b,N);var bt=b.stateNode,At;bt===null?(jm(S,b),UL(b,O,D),w1(b,O,D,N),At=!0):S===null?At=kW(b,O,D,N):At=NW(S,b,O,D,N);var jt=G1(S,b,O,At,Ct,N);{var Ce=b.stateNode;At&&Ce.props!==D&&(uu||n("It looks like %s is reassigning its own `this.props` while rendering. This is not supported and can lead to confusing bugs.",Ft(b)||"a component"),uu=!0)}return jt}function G1(S,b,O,D,N,W){JL(S,b);var Z=(b.flags&pi)!==Ae;if(!D&&!Z)return N&&LO(b,O,!1),Qo(S,b,W);var q=b.stateNode;pv.current=b;var et;if(Z&&typeof O.getDerivedStateFromError!="function")et=null,IL();else{pc(b);{if(yn(!0),et=q.render(),b.mode&ir){Xr(!0);try{q.render()}finally{Xr(!1)}}yn(!1)}cf()}return b.flags|=uf,S!==null&&Z?HW(S,b,et,W):Bn(S,b,et,W),b.memoizedState=q.state,N&&LO(b,O,!0),b.child}function QL(S){var b=S.stateNode;b.pendingContext?AO(S,b.pendingContext,b.pendingContext!==b.context):b.context&&AO(S,b.context,!1),kS(S,b.containerInfo)}function JW(S,b,O){if(QL(b),S===null)throw new Error("Should have a current fiber. This is a bug in React.");var D=b.pendingProps,N=b.memoizedState,W=N.element;tL(S,b),Em(b,D,null,O);var Z=b.memoizedState;b.stateNode;var q=Z.element;if(N.isDehydrated){var et={element:q,isDehydrated:!1,cache:Z.cache,pendingSuspenseBoundaries:Z.pendingSuspenseBoundaries,transitions:Z.transitions},nt=b.updateQueue;if(nt.baseState=et,b.memoizedState=et,b.flags&No){var at=hu(new Error("There was an error while hydrating. Because the error happened outside of a Suspense boundary, the entire root will switch to client rendering."),b);return qL(S,b,q,O,at)}else if(q!==W){var pt=hu(new Error("This root received an early update, before anything was able hydrate. Switched the entire root to client rendering."),b);return qL(S,b,q,O,pt)}else{qz(b);var vt=KO(b,null,q,O);b.child=vt;for(var Ct=vt;Ct;)Ct.flags=Ct.flags&~yr|Uo,Ct=Ct.sibling}}else{if(Lf(),q===W)return Qo(S,b,O);Bn(S,b,q,O)}return b.child}function qL(S,b,O,D,N){return Lf(),CS(N),b.flags|=No,Bn(S,b,O,D),b.child}function jW(S,b,O){nL(b),S===null&&TS(b);var D=b.type,N=b.pendingProps,W=S!==null?S.memoizedProps:null,Z=N.children,q=eS(D,N);return q?Z=null:W!==null&&eS(D,W)&&(b.flags|=dc),JL(S,b),Bn(S,b,Z,O),b.child}function QW(S,b){return S===null&&TS(b),null}function qW(S,b,O,D){jm(S,b);var N=b.pendingProps,W=O,Z=W._payload,q=W._init,et=q(Z);b.type=et;var nt=b.tag=QX(et),at=xa(et,N),pt;switch(nt){case r:return k1(b,et),b.type=et=Jf(et),pt=B1(null,b,et,at,D),pt;case o:return b.type=et=cE(et),pt=jL(null,b,et,at,D),pt;case g:return b.type=et=vE(et),pt=HL(null,b,et,at,D),pt;case C:{if(b.type!==b.elementType){var vt=et.propTypes;vt&&va(vt,at,"prop",ie(et))}return pt=$L(null,b,et,xa(et.type,at),D),pt}}var Ct="";throw et!==null&&typeof et=="object"&&et.$$typeof===Qe&&(Ct=" Did you wrap a component in React.lazy() more than once?"),new Error("Element type is invalid. Received a promise that resolves to: "+et+". "+("Lazy element type must resolve to a class or function."+Ct))}function _W(S,b,O,D,N){jm(S,b),b.tag=o;var W;return _a(O)?(W=!0,am(b)):W=!1,If(b,N),UL(b,O,D),w1(b,O,D,N),G1(null,b,O,!0,W,N)}function tY(S,b,O,D){jm(S,b);var N=b.pendingProps,W;{var Z=Mf(b,O,!1);W=Rf(b,Z)}If(b,D);var q,et;pc(b);{if(O.prototype&&typeof O.prototype.render=="function"){var nt=ie(O)||"Unknown";O1[nt]||(n("The <%s /> component appears to have a render method, but doesn't extend React.Component. This is likely to cause errors. Change %s to extend React.Component instead.",nt,nt),O1[nt]=!0)}b.mode&ir&&ga.recordLegacyContextWarning(b,null),yn(!0),pv.current=b,q=Vf(null,b,O,N,W,D),et=zf(),yn(!1)}if(cf(),b.flags|=uf,typeof q=="object"&&q!==null&&typeof q.render=="function"&&q.$$typeof===void 0){var at=ie(O)||"Unknown";gv[at]||(n("The <%s /> component appears to be a function component that returns a class instance. Change %s to a class that extends React.Component instead. If you can't use a class try assigning the prototype on the function as a workaround. `%s.prototype = React.Component.prototype`. Don't use an arrow function since it cannot be called with `new` by React.",at,at,at),gv[at]=!0)}if(typeof q=="object"&&q!==null&&typeof q.render=="function"&&q.$$typeof===void 0){{var pt=ie(O)||"Unknown";gv[pt]||(n("The <%s /> component appears to be a function component that returns a class instance. Change %s to a class that extends React.Component instead. If you can't use a class try assigning the prototype on the function as a workaround. `%s.prototype = React.Component.prototype`. Don't use an arrow function since it cannot be called with `new` by React.",pt,pt,pt),gv[pt]=!0)}b.tag=o,b.memoizedState=null,b.updateQueue=null;var vt=!1;return _a(O)?(vt=!0,am(b)):vt=!1,b.memoizedState=q.state!==null&&q.state!==void 0?q.state:null,BS(b),NL(b,q),w1(b,O,N,D),G1(null,b,O,!0,vt,D)}else{if(b.tag=r,b.mode&ir){Xr(!0);try{q=Vf(null,b,O,N,W,D),et=zf()}finally{Xr(!1)}}return nn()&&et&&pS(b),Bn(null,b,q,D),k1(b,O),b.child}}function k1(S,b){{if(b&&b.childContextTypes&&n("%s(...): childContextTypes cannot be defined on a function component.",b.displayName||b.name||"Component"),S.ref!==null){var O="",D=le();D&&(O+=`

Check the render method of \``+D+"`.");var N=D||"",W=S._debugSource;W&&(N=W.fileName+":"+W.lineNumber),F1[N]||(F1[N]=!0,n("Function components cannot be given refs. Attempts to access this ref will fail. Did you mean to use React.forwardRef()?%s",O))}if(b.defaultProps!==void 0){var Z=ie(b)||"Unknown";mv[Z]||(n("%s: Support for defaultProps will be removed from function components in a future major release. Use JavaScript default parameters instead.",Z),mv[Z]=!0)}if(typeof b.getDerivedStateFromProps=="function"){var q=ie(b)||"Unknown";D1[q]||(n("%s: Function components do not support getDerivedStateFromProps.",q),D1[q]=!0)}if(typeof b.contextType=="object"&&b.contextType!==null){var et=ie(b)||"Unknown";L1[et]||(n("%s: Function components do not support contextType.",et),L1[et]=!0)}}}var N1={dehydrated:null,treeContext:null,retryLane:Hr};function U1(S){return{baseLanes:S,cachePool:XW(),transitions:null}}function eY(S,b){var O=null;return{baseLanes:Je(S.baseLanes,b),cachePool:O,transitions:S.transitions}}function iY(S,b,O,D){if(b!==null){var N=b.memoizedState;if(N===null)return!1}return VS(S,av)}function rY(S,b){return Ag(S.childLanes,b)}function _L(S,b,O){var D=b.pendingProps;dH(b)&&(b.flags|=pi);var N=ma.current,W=!1,Z=(b.flags&pi)!==Ae;if(Z||iY(N,S)?(W=!0,b.flags&=~pi):(S===null||S.memoizedState!==null)&&(N=CW(N,aL)),N=Gf(N),Wl(b,N),S===null){TS(b);var q=b.memoizedState;if(q!==null){var et=q.dehydrated;if(et!==null)return lY(b,et)}var nt=D.children,at=D.fallback;if(W){var pt=nY(b,nt,at,O),vt=b.child;return vt.memoizedState=U1(O),b.memoizedState=N1,pt}else return V1(b,nt)}else{var Ct=S.memoizedState;if(Ct!==null){var bt=Ct.dehydrated;if(bt!==null)return hY(S,b,Z,D,bt,Ct,O)}if(W){var At=D.fallback,jt=D.children,Ce=aY(S,b,jt,At,O),me=b.child,si=S.child.memoizedState;return me.memoizedState=si===null?U1(O):eY(si,O),me.childLanes=rY(S,O),b.memoizedState=N1,Ce}else{var ei=D.children,mt=sY(S,b,ei,O);return b.memoizedState=null,mt}}}function V1(S,b,O){var D=S.mode,N={mode:"visible",children:b},W=z1(N,D);return W.return=S,S.child=W,W}function nY(S,b,O,D){var N=S.mode,W=S.child,Z={mode:"hidden",children:b},q,et;return(N&ri)===Pe&&W!==null?(q=W,q.childLanes=kt,q.pendingProps=Z,S.mode&bi&&(q.actualDuration=0,q.actualStartTime=-1,q.selfBaseDuration=0,q.treeBaseDuration=0),et=jl(O,N,D,null)):(q=z1(Z,N),et=jl(O,N,D,null)),q.return=S,et.return=S,q.sibling=et,S.child=q,et}function z1(S,b,O){return tD(S,b,kt,null)}function t2(S,b){return pu(S,b)}function sY(S,b,O,D){var N=S.child,W=N.sibling,Z=t2(N,{mode:"visible",children:O});if((b.mode&ri)===Pe&&(Z.lanes=D),Z.return=b,Z.sibling=null,W!==null){var q=b.deletions;q===null?(b.deletions=[W],b.flags|=Wh):q.push(W)}return b.child=Z,Z}function aY(S,b,O,D,N){var W=b.mode,Z=S.child,q=Z.sibling,et={mode:"hidden",children:O},nt;if((W&ri)===Pe&&b.child!==Z){var at=b.child;nt=at,nt.childLanes=kt,nt.pendingProps=et,b.mode&bi&&(nt.actualDuration=0,nt.actualStartTime=-1,nt.selfBaseDuration=Z.selfBaseDuration,nt.treeBaseDuration=Z.treeBaseDuration),b.deletions=null}else nt=t2(Z,et),nt.subtreeFlags=Z.subtreeFlags&zo;var pt;return q!==null?pt=pu(q,D):(pt=jl(D,W,N,null),pt.flags|=yr),pt.return=b,nt.return=b,nt.sibling=pt,b.child=nt,pt}function Jm(S,b,O,D){D!==null&&CS(D),Df(b,S.child,null,O);var N=b.pendingProps,W=N.children,Z=V1(b,W);return Z.flags|=yr,b.memoizedState=null,Z}function oY(S,b,O,D,N){var W=b.mode,Z={mode:"visible",children:O},q=z1(Z,W),et=jl(D,W,N,null);return et.flags|=yr,q.return=b,et.return=b,q.sibling=et,b.child=q,(b.mode&ri)!==Pe&&Df(b,S.child,null,N),et}function lY(S,b,O){return(S.mode&ri)===Pe?(n("Cannot hydrate Suspense in legacy mode. Switch from ReactDOM.hydrate(element, container) to ReactDOMClient.hydrateRoot(container, <App />).render(element) or remove the Suspense components from the server rendered components."),S.lanes=Ge):sS(b)?S.lanes=Zh:S.lanes=cs,null}function hY(S,b,O,D,N,W,Z){if(O)if(b.flags&No){b.flags&=~No;var mt=M1(new Error("There was an error while hydrating this Suspense boundary. Switched to client rendering."));return Jm(S,b,Z,mt)}else{if(b.memoizedState!==null)return b.child=S.child,b.flags|=pi,null;var Ot=D.children,yt=D.fallback,zt=oY(S,b,Ot,yt,Z),ae=b.child;return ae.memoizedState=U1(Z),b.memoizedState=N1,zt}else{if(jz(),(b.mode&ri)===Pe)return Jm(S,b,Z,null);if(sS(N)){var q,et,nt;{var at=cz(N);q=at.digest,et=at.message,nt=at.stack}var pt;et?pt=new Error(et):pt=new Error("The server could not finish this Suspense boundary, likely due to an error during server rendering. Switched to client rendering.");var vt=M1(pt,q,nt);return Jm(S,b,Z,vt)}var Ct=vs(Z,S.childLanes);if(Ta||Ct){var bt=a0();if(bt!==null){var At=x7(bt,Z);if(At!==Hr&&At!==W.retryLane){W.retryLane=At;var jt=zi;Zn(S,At),Ir(bt,S,At,jt)}}lE();var Ce=M1(new Error("This Suspense boundary received an update before it finished hydrating. This caused the boundary to switch to client rendering. The usual way to fix this is to wrap the original update in startTransition."));return Jm(S,b,Z,Ce)}else if(EO(N)){b.flags|=pi,b.child=S.child;var me=IX.bind(null,S);return vz(N,me),null}else{_z(b,N,W.treeContext);var si=D.children,ei=V1(b,si);return ei.flags|=Uo,ei}}}function e2(S,b,O){S.lanes=Je(S.lanes,b);var D=S.alternate;D!==null&&(D.lanes=Je(D.lanes,b)),LS(S.return,b,O)}function uY(S,b,O){for(var D=b;D!==null;){if(D.tag===y){var N=D.memoizedState;N!==null&&e2(D,O,S)}else if(D.tag===A)e2(D,O,S);else if(D.child!==null){D.child.return=D,D=D.child;continue}if(D===S)return;for(;D.sibling===null;){if(D.return===null||D.return===S)return;D=D.return}D.sibling.return=D.return,D=D.sibling}}function fY(S){for(var b=S,O=null;b!==null;){var D=b.alternate;D!==null&&Mm(D)===null&&(O=b),b=b.sibling}return O}function dY(S){if(S!==void 0&&S!=="forwards"&&S!=="backwards"&&S!=="together"&&!I1[S])if(I1[S]=!0,typeof S=="string")switch(S.toLowerCase()){case"together":case"forwards":case"backwards":{n('"%s" is not a valid value for revealOrder on <SuspenseList />. Use lowercase "%s" instead.',S,S.toLowerCase());break}case"forward":case"backward":{n('"%s" is not a valid value for revealOrder on <SuspenseList />. React uses the -s suffix in the spelling. Use "%ss" instead.',S,S.toLowerCase());break}default:n('"%s" is not a supported revealOrder on <SuspenseList />. Did you mean "together", "forwards" or "backwards"?',S);break}else n('%s is not a supported value for revealOrder on <SuspenseList />. Did you mean "together", "forwards" or "backwards"?',S)}function cY(S,b){S!==void 0&&!Zm[S]&&(S!=="collapsed"&&S!=="hidden"?(Zm[S]=!0,n('"%s" is not a supported value for tail on <SuspenseList />. Did you mean "collapsed" or "hidden"?',S)):b!=="forwards"&&b!=="backwards"&&(Zm[S]=!0,n('<SuspenseList tail="%s" /> is only valid if revealOrder is "forwards" or "backwards". Did you mean to specify revealOrder="forwards"?',S)))}function i2(S,b){{var O=vi(S),D=!O&&typeof la(S)=="function";if(O||D){var N=O?"array":"iterable";return n("A nested %s was passed to row #%s in <SuspenseList />. Wrap it in an additional SuspenseList to configure its revealOrder: <SuspenseList revealOrder=...> ... <SuspenseList revealOrder=...>{%s}</SuspenseList> ... </SuspenseList>",N,b,N),!1}}return!0}function vY(S,b){if((b==="forwards"||b==="backwards")&&S!==void 0&&S!==null&&S!==!1)if(vi(S)){for(var O=0;O<S.length;O++)if(!i2(S[O],O))return}else{var D=la(S);if(typeof D=="function"){var N=D.call(S);if(N)for(var W=N.next(),Z=0;!W.done;W=N.next()){if(!i2(W.value,Z))return;Z++}}else n('A single row was passed to a <SuspenseList revealOrder="%s" />. This is not useful since it needs multiple rows. Did you mean to pass multiple children or an array?',b)}}function W1(S,b,O,D,N){var W=S.memoizedState;W===null?S.memoizedState={isBackwards:b,rendering:null,renderingStartTime:0,last:D,tail:O,tailMode:N}:(W.isBackwards=b,W.rendering=null,W.renderingStartTime=0,W.last=D,W.tail=O,W.tailMode=N)}function r2(S,b,O){var D=b.pendingProps,N=D.revealOrder,W=D.tail,Z=D.children;dY(N),cY(W,N),vY(Z,N),Bn(S,b,Z,O);var q=ma.current,et=VS(q,av);if(et)q=zS(q,av),b.flags|=pi;else{var nt=S!==null&&(S.flags&pi)!==Ae;nt&&uY(b,b.child,O),q=Gf(q)}if(Wl(b,q),(b.mode&ri)===Pe)b.memoizedState=null;else switch(N){case"forwards":{var at=fY(b.child),pt;at===null?(pt=b.child,b.child=null):(pt=at.sibling,at.sibling=null),W1(b,!1,pt,at,W);break}case"backwards":{var vt=null,Ct=b.child;for(b.child=null;Ct!==null;){var bt=Ct.alternate;if(bt!==null&&Mm(bt)===null){b.child=Ct;break}var At=Ct.sibling;Ct.sibling=vt,vt=Ct,Ct=At}W1(b,!0,vt,null,W);break}case"together":{W1(b,!1,null,null,void 0);break}default:b.memoizedState=null}return b.child}function pY(S,b,O){kS(b,b.stateNode.containerInfo);var D=b.pendingProps;return S===null?b.child=Df(b,null,D,O):Bn(S,b,D,O),b.child}var n2=!1;function gY(S,b,O){var D=b.type,N=D._context,W=b.pendingProps,Z=b.memoizedProps,q=W.value;{"value"in W||n2||(n2=!0,n("The `value` prop is required for the `<Context.Provider>`. Did you misspell it or forget to pass it?"));var et=b.type.propTypes;et&&va(et,W,"prop","Context.Provider")}if(jO(b,N,q),Z!==null){var nt=Z.value;if(ms(nt,q)){if(Z.children===W.children&&!nm())return Qo(S,b,O)}else dW(b,N,O)}var at=W.children;return Bn(S,b,at,O),b.child}var s2=!1;function mY(S,b,O){var D=b.type;D._context===void 0?D!==D.Consumer&&(s2||(s2=!0,n("Rendering <Context> directly is not supported and will be removed in a future major release. Did you mean to render <Context.Consumer> instead?"))):D=D._context;var N=b.pendingProps,W=N.children;typeof W!="function"&&n("A context consumer was rendered with multiple children, or a child that isn't a function. A context consumer expects a single child that is a function. If you did pass a function, make sure there is no trailing or leading whitespace around it."),If(b,O);var Z=xr(D);pc(b);var q;return pv.current=b,yn(!0),q=W(Z),yn(!1),cf(),b.flags|=uf,Bn(S,b,q,O),b.child}function yv(){Ta=!0}function jm(S,b){(b.mode&ri)===Pe&&S!==null&&(S.alternate=null,b.alternate=null,b.flags|=yr)}function Qo(S,b,O){return S!==null&&(b.dependencies=S.dependencies),IL(),Ov(b.lanes),vs(O,b.childLanes)?(uW(S,b),b.child):null}function yY(S,b,O){{var D=b.return;if(D===null)throw new Error("Cannot swap the root fiber.");if(S.alternate=null,b.alternate=null,O.index=b.index,O.sibling=b.sibling,O.return=b.return,O.ref=b.ref,b===D.child)D.child=O;else{var N=D.child;if(N===null)throw new Error("Expected parent to have a child.");for(;N.sibling!==b;)if(N=N.sibling,N===null)throw new Error("Expected to find the previous sibling.");N.sibling=O}var W=D.deletions;return W===null?(D.deletions=[S],D.flags|=Wh):W.push(S),O.flags|=yr,O}}function Y1(S,b){var O=S.lanes;return!!vs(O,b)}function xY(S,b,O){switch(b.tag){case d:QL(b),b.stateNode,Lf();break;case l:nL(b);break;case o:{var D=b.type;_a(D)&&am(b);break}case h:kS(b,b.stateNode.containerInfo);break;case v:{var N=b.memoizedProps.value,W=b.type._context;jO(b,W,N);break}case m:{var Z=vs(O,b.childLanes);Z&&(b.flags|=oi);{var q=b.stateNode;q.effectDuration=0,q.passiveEffectDuration=0}}break;case y:{var et=b.memoizedState;if(et!==null){if(et.dehydrated!==null)return Wl(b,Gf(ma.current)),b.flags|=pi,null;var nt=b.child,at=nt.childLanes;if(vs(O,at))return _L(S,b,O);Wl(b,Gf(ma.current));var pt=Qo(S,b,O);return pt!==null?pt.sibling:null}else Wl(b,Gf(ma.current));break}case A:{var vt=(S.flags&pi)!==Ae,Ct=vs(O,b.childLanes);if(vt){if(Ct)return r2(S,b,O);b.flags|=pi}var bt=b.memoizedState;if(bt!==null&&(bt.rendering=null,bt.tail=null,bt.lastEffect=null),Wl(b,ma.current),Ct)break;return null}case F:case G:return b.lanes=kt,ZL(S,b,O)}return Qo(S,b,O)}function a2(S,b,O){if(b._debugNeedsRemount&&S!==null)return yY(S,b,xE(b.type,b.key,b.pendingProps,b._debugOwner||null,b.mode,b.lanes));if(S!==null){var D=S.memoizedProps,N=b.pendingProps;if(D!==N||nm()||b.type!==S.type)Ta=!0;else{var W=Y1(S,O);if(!W&&(b.flags&pi)===Ae)return Ta=!1,xY(S,b,O);(S.flags&JT)!==Ae?Ta=!0:Ta=!1}}else if(Ta=!1,nn()&&Xz(b)){var Z=b.index,q=Hz();IO(b,q,Z)}switch(b.lanes=kt,b.tag){case x:return tY(S,b,b.type,O);case w:{var et=b.elementType;return qW(S,b,et,O)}case r:{var nt=b.type,at=b.pendingProps,pt=b.elementType===nt?at:xa(nt,at);return B1(S,b,nt,pt,O)}case o:{var vt=b.type,Ct=b.pendingProps,bt=b.elementType===vt?Ct:xa(vt,Ct);return jL(S,b,vt,bt,O)}case d:return JW(S,b,O);case l:return jW(S,b,O);case a:return QW(S,b);case y:return _L(S,b,O);case h:return pY(S,b,O);case g:{var At=b.type,jt=b.pendingProps,Ce=b.elementType===At?jt:xa(At,jt);return HL(S,b,At,Ce,O)}case f:return $W(S,b,O);case c:return KW(S,b,O);case m:return ZW(S,b,O);case v:return gY(S,b,O);case u:return mY(S,b,O);case C:{var me=b.type,si=b.pendingProps,ei=xa(me,si);if(b.type!==b.elementType){var mt=me.propTypes;mt&&va(mt,ei,"prop",ie(me))}return ei=xa(me.type,ei),$L(S,b,me,ei,O)}case P:return KL(S,b,b.type,b.pendingProps,O);case M:{var Ot=b.type,yt=b.pendingProps,zt=b.elementType===Ot?yt:xa(Ot,yt);return _W(S,b,Ot,zt,O)}case A:return r2(S,b,O);case L:break;case F:return ZL(S,b,O)}throw new Error("Unknown unit of work tag ("+b.tag+"). This error is likely caused by a bug in React. Please file an issue.")}function Wf(S){S.flags|=oi}function o2(S){S.flags|=Rl,S.flags|=jT}var l2,X1,h2,u2;l2=function(S,b,O,D){for(var N=b.child;N!==null;){if(N.tag===l||N.tag===a)zV(S,N.stateNode);else if(N.tag!==h){if(N.child!==null){N.child.return=N,N=N.child;continue}}if(N===b)return;for(;N.sibling===null;){if(N.return===null||N.return===b)return;N=N.return}N.sibling.return=N.return,N=N.sibling}},X1=function(S,b){},h2=function(S,b,O,D,N){var W=S.memoizedProps;if(W!==D){var Z=b.stateNode,q=NS(),et=YV(Z,O,W,D,N,q);b.updateQueue=et,et&&Wf(b)}},u2=function(S,b,O,D){O!==D&&Wf(b)};function xv(S,b){if(!nn())switch(S.tailMode){case"hidden":{for(var O=S.tail,D=null;O!==null;)O.alternate!==null&&(D=O),O=O.sibling;D===null?S.tail=null:D.sibling=null;break}case"collapsed":{for(var N=S.tail,W=null;N!==null;)N.alternate!==null&&(W=N),N=N.sibling;W===null?!b&&S.tail!==null?S.tail.sibling=null:S.tail=null:W.sibling=null;break}}}function an(S){var b=S.alternate!==null&&S.alternate.child===S.child,O=kt,D=Ae;if(b){if((S.mode&bi)!==Pe){for(var et=S.selfBaseDuration,nt=S.child;nt!==null;)O=Je(O,Je(nt.lanes,nt.childLanes)),D|=nt.subtreeFlags&zo,D|=nt.flags&zo,et+=nt.treeBaseDuration,nt=nt.sibling;S.treeBaseDuration=et}else for(var at=S.child;at!==null;)O=Je(O,Je(at.lanes,at.childLanes)),D|=at.subtreeFlags&zo,D|=at.flags&zo,at.return=S,at=at.sibling;S.subtreeFlags|=D}else{if((S.mode&bi)!==Pe){for(var N=S.actualDuration,W=S.selfBaseDuration,Z=S.child;Z!==null;)O=Je(O,Je(Z.lanes,Z.childLanes)),D|=Z.subtreeFlags,D|=Z.flags,N+=Z.actualDuration,W+=Z.treeBaseDuration,Z=Z.sibling;S.actualDuration=N,S.treeBaseDuration=W}else for(var q=S.child;q!==null;)O=Je(O,Je(q.lanes,q.childLanes)),D|=q.subtreeFlags,D|=q.flags,q.return=S,q=q.sibling;S.subtreeFlags|=D}return S.childLanes=O,b}function TY(S,b,O){if(nW()&&(b.mode&ri)!==Pe&&(b.flags&pi)===Ae)return zO(b),Lf(),b.flags|=No|cc|In,!1;var D=fm(b);if(O!==null&&O.dehydrated!==null)if(S===null){if(!D)throw new Error("A dehydrated suspense component was completed without a hydrated node. This is probably a bug in React.");if(iW(b),an(b),(b.mode&bi)!==Pe){var N=O!==null;if(N){var W=b.child;W!==null&&(b.treeBaseDuration-=W.treeBaseDuration)}}return!1}else{if(Lf(),(b.flags&pi)===Ae&&(b.memoizedState=null),b.flags|=oi,an(b),(b.mode&bi)!==Pe){var Z=O!==null;if(Z){var q=b.child;q!==null&&(b.treeBaseDuration-=q.treeBaseDuration)}}return!1}else return WO(),!0}function f2(S,b,O){var D=b.pendingProps;switch(gS(b),b.tag){case x:case w:case P:case r:case g:case f:case c:case m:case u:case C:return an(b),null;case o:{var N=b.type;return _a(N)&&sm(b),an(b),null}case d:{var W=b.stateNode;if(Bf(b),dS(b),YS(),W.pendingContext&&(W.context=W.pendingContext,W.pendingContext=null),S===null||S.child===null){var Z=fm(b);if(Z)Wf(b);else if(S!==null){var q=S.memoizedState;(!q.isDehydrated||(b.flags&No)!==Ae)&&(b.flags|=Yh,WO())}}return X1(S,b),an(b),null}case l:{US(b);var et=rL(),nt=b.type;if(S!==null&&b.stateNode!=null)h2(S,b,nt,D,et),S.ref!==b.ref&&o2(b);else{if(!D){if(b.stateNode===null)throw new Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");return an(b),null}var at=NS(),pt=fm(b);if(pt)tW(b,et,at)&&Wf(b);else{var vt=VV(nt,D,et,at,b);l2(vt,b,!1,!1),b.stateNode=vt,WV(vt,nt,D,et)&&Wf(b)}b.ref!==null&&o2(b)}return an(b),null}case a:{var Ct=D;if(S&&b.stateNode!=null){var bt=S.memoizedProps;u2(S,b,bt,Ct)}else{if(typeof Ct!="string"&&b.stateNode===null)throw new Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");var At=rL(),jt=NS(),Ce=fm(b);Ce?eW(b)&&Wf(b):b.stateNode=XV(Ct,At,jt,b)}return an(b),null}case y:{kf(b);var me=b.memoizedState;if(S===null||S.memoizedState!==null&&S.memoizedState.dehydrated!==null){var si=TY(S,b,me);if(!si)return b.flags&In?b:null}if((b.flags&pi)!==Ae)return b.lanes=O,(b.mode&bi)!==Pe&&v1(b),b;var ei=me!==null,mt=S!==null&&S.memoizedState!==null;if(ei!==mt&&ei){var Ot=b.child;if(Ot.flags|=Xh,(b.mode&ri)!==Pe){var yt=S===null&&(b.memoizedProps.unstable_avoidThisFallback!==!0||!j);yt||VS(ma.current,aL)?CX():lE()}}var zt=b.updateQueue;if(zt!==null&&(b.flags|=oi),an(b),(b.mode&bi)!==Pe&&ei){var ae=b.child;ae!==null&&(b.treeBaseDuration-=ae.treeBaseDuration)}return null}case h:return Bf(b),X1(S,b),S===null&&kz(b.stateNode.containerInfo),an(b),null;case v:var _t=b.type._context;return OS(_t,b),an(b),null;case M:{var Le=b.type;return _a(Le)&&sm(b),an(b),null}case A:{kf(b);var Ue=b.memoizedState;if(Ue===null)return an(b),null;var wi=(b.flags&pi)!==Ae,ui=Ue.rendering;if(ui===null)if(wi)xv(Ue,!1);else{var dr=EX()&&(S===null||(S.flags&pi)===Ae);if(!dr)for(var fi=b.child;fi!==null;){var rr=Mm(fi);if(rr!==null){wi=!0,b.flags|=pi,xv(Ue,!1);var En=rr.updateQueue;return En!==null&&(b.updateQueue=En,b.flags|=oi),b.subtreeFlags=Ae,fW(b,O),Wl(b,zS(ma.current,av)),b.child}fi=fi.sibling}Ue.tail!==null&&Yr()>D2()&&(b.flags|=pi,wi=!0,xv(Ue,!1),b.lanes=uA)}else{if(!wi){var fn=Mm(ui);if(fn!==null){b.flags|=pi,wi=!0;var Ts=fn.updateQueue;if(Ts!==null&&(b.updateQueue=Ts,b.flags|=oi),xv(Ue,!0),Ue.tail===null&&Ue.tailMode==="hidden"&&!ui.alternate&&!nn())return an(b),null}else Yr()*2-Ue.renderingStartTime>D2()&&O!==cs&&(b.flags|=pi,wi=!0,xv(Ue,!1),b.lanes=uA)}if(Ue.isBackwards)ui.sibling=b.child,b.child=ui;else{var Nn=Ue.last;Nn!==null?Nn.sibling=ui:b.child=ui,Ue.last=ui}}if(Ue.tail!==null){var Un=Ue.tail;Ue.rendering=Un,Ue.tail=Un.sibling,Ue.renderingStartTime=Yr(),Un.sibling=null;var bn=ma.current;return wi?bn=zS(bn,av):bn=Gf(bn),Wl(b,bn),Un}return an(b),null}case L:break;case F:case G:{oE(b);var il=b.memoizedState,jf=il!==null;if(S!==null){var Bv=S.memoizedState,oo=Bv!==null;oo!==jf&&!X&&(b.flags|=Xh)}return!jf||(b.mode&ri)===Pe?an(b):vs(ao,cs)&&(an(b),b.subtreeFlags&(yr|oi)&&(b.flags|=Xh)),null}case I:return null;case B:return null}throw new Error("Unknown unit of work tag ("+b.tag+"). This error is likely caused by a bug in React. Please file an issue.")}function CY(S,b,O){switch(gS(b),b.tag){case o:{var D=b.type;_a(D)&&sm(b);var N=b.flags;return N&In?(b.flags=N&~In|pi,(b.mode&bi)!==Pe&&v1(b),b):null}case d:{b.stateNode,Bf(b),dS(b),YS();var W=b.flags;return(W&In)!==Ae&&(W&pi)===Ae?(b.flags=W&~In|pi,b):null}case l:return US(b),null;case y:{kf(b);var Z=b.memoizedState;if(Z!==null&&Z.dehydrated!==null){if(b.alternate===null)throw new Error("Threw in newly mounted dehydrated component. This is likely a bug in React. Please file an issue.");Lf()}var q=b.flags;return q&In?(b.flags=q&~In|pi,(b.mode&bi)!==Pe&&v1(b),b):null}case A:return kf(b),null;case h:return Bf(b),null;case v:var et=b.type._context;return OS(et,b),null;case F:case G:return oE(b),null;case I:return null;default:return null}}function d2(S,b,O){switch(gS(b),b.tag){case o:{var D=b.type.childContextTypes;D!=null&&sm(b);break}case d:{b.stateNode,Bf(b),dS(b),YS();break}case l:{US(b);break}case h:Bf(b);break;case y:kf(b);break;case A:kf(b);break;case v:var N=b.type._context;OS(N,b);break;case F:case G:oE(b);break}}var c2=null;c2=new Set;var Qm=!1,on=!1,SY=typeof WeakSet=="function"?WeakSet:Set,ce=null,Yf=null,Xf=null;function EY(S){$T(null,function(){throw S}),KT()}var bY=function(S,b){if(b.props=S.memoizedProps,b.state=S.memoizedState,S.mode&bi)try{no(),b.componentWillUnmount()}finally{ro(S)}else b.componentWillUnmount()};function v2(S,b){try{Hl(Rr,S)}catch(O){Gi(S,b,O)}}function H1(S,b,O){try{bY(S,O)}catch(D){Gi(S,b,D)}}function PY(S,b,O){try{O.componentDidMount()}catch(D){Gi(S,b,D)}}function p2(S,b){try{m2(S)}catch(O){Gi(S,b,O)}}function Hf(S,b){var O=S.ref;if(O!==null)if(typeof O=="function"){var D;try{if(V&&K&&S.mode&bi)try{no(),D=O(null)}finally{ro(S)}else D=O(null)}catch(N){Gi(S,b,N)}typeof D=="function"&&n("Unexpected return value from a callback ref in %s. A callback ref should not return a function.",Ft(S))}else O.current=null}function qm(S,b,O){try{O()}catch(D){Gi(S,b,D)}}var g2=!1;function wY(S,b){NV(S.containerInfo),ce=b,MY();var O=g2;return g2=!1,O}function MY(){for(;ce!==null;){var S=ce,b=S.child;(S.subtreeFlags&qT)!==Ae&&b!==null?(b.return=S,ce=b):RY()}}function RY(){for(;ce!==null;){var S=ce;$e(S);try{AY(S)}catch(O){Gi(S,S.return,O)}be();var b=S.sibling;if(b!==null){b.return=S.return,ce=b;return}ce=S.return}}function AY(S){var b=S.alternate,O=S.flags;if((O&Yh)!==Ae){switch($e(S),S.tag){case r:case g:case P:break;case o:{if(b!==null){var D=b.memoizedProps,N=b.memoizedState,W=S.stateNode;S.type===S.elementType&&!uu&&(W.props!==S.memoizedProps&&n("Expected %s props to match memoized props before getSnapshotBeforeUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",Ft(S)||"instance"),W.state!==S.memoizedState&&n("Expected %s state to match memoized state before getSnapshotBeforeUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",Ft(S)||"instance"));var Z=W.getSnapshotBeforeUpdate(S.elementType===S.type?D:xa(S.type,D),N);{var q=c2;Z===void 0&&!q.has(S.type)&&(q.add(S.type),n("%s.getSnapshotBeforeUpdate(): A snapshot value (or null) must be returned. You have returned undefined.",Ft(S)))}W.__reactInternalSnapshotBeforeUpdate=Z}break}case d:{{var et=S.stateNode;hz(et.containerInfo)}break}case l:case a:case h:case M:break;default:throw new Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}be()}}function Ca(S,b,O){var D=b.updateQueue,N=D!==null?D.lastEffect:null;if(N!==null){var W=N.next,Z=W;do{if((Z.tag&S)===S){var q=Z.destroy;Z.destroy=void 0,q!==void 0&&((S&sn)!==Jn?X6(b):(S&Rr)!==Jn&&sA(b),(S&to)!==Jn&&Dv(!0),qm(b,O,q),(S&to)!==Jn&&Dv(!1),(S&sn)!==Jn?H6():(S&Rr)!==Jn&&aA())}Z=Z.next}while(Z!==W)}}function Hl(S,b){var O=b.updateQueue,D=O!==null?O.lastEffect:null;if(D!==null){var N=D.next,W=N;do{if((W.tag&S)===S){(S&sn)!==Jn?W6(b):(S&Rr)!==Jn&&$6(b);var Z=W.create;(S&to)!==Jn&&Dv(!0),W.destroy=Z(),(S&to)!==Jn&&Dv(!1),(S&sn)!==Jn?Y6():(S&Rr)!==Jn&&K6();{var q=W.destroy;if(q!==void 0&&typeof q!="function"){var et=void 0;(W.tag&Rr)!==Ae?et="useLayoutEffect":(W.tag&to)!==Ae?et="useInsertionEffect":et="useEffect";var nt=void 0;q===null?nt=" You returned null. If your effect does not require clean up, return undefined (or nothing).":typeof q.then=="function"?nt=`

It looks like you wrote `+et+`(async () => ...) or returned a Promise. Instead, write the async function inside your effect and call it immediately:

`+et+`(() => {
  async function fetchData() {
    // You can await here
    const response = await MyAPI.getData(someId);
    // ...
  }
  fetchData();
}, [someId]); // Or [] if effect doesn't need props or state

Learn more about data fetching with Hooks: https://reactjs.org/link/hooks-data-fetching`:nt=" You returned: "+q,n("%s must not return anything besides a function, which is used for clean-up.%s",et,nt)}}}W=W.next}while(W!==N)}}function OY(S,b){if((b.flags&oi)!==Ae)switch(b.tag){case m:{var O=b.stateNode.passiveEffectDuration,D=b.memoizedProps,N=D.id,W=D.onPostCommit,Z=DL(),q=b.alternate===null?"mount":"update";LL()&&(q="nested-update"),typeof W=="function"&&W(N,q,O,Z);var et=b.return;t:for(;et!==null;){switch(et.tag){case d:var nt=et.stateNode;nt.passiveEffectDuration+=O;break t;case m:var at=et.stateNode;at.passiveEffectDuration+=O;break t}et=et.return}break}}}function LY(S,b,O,D){if((O.flags&vc)!==Ae)switch(O.tag){case r:case g:case P:{if(!on)if(O.mode&bi)try{no(),Hl(Rr|Mr,O)}finally{ro(O)}else Hl(Rr|Mr,O);break}case o:{var N=O.stateNode;if(O.flags&oi&&!on)if(b===null)if(O.type===O.elementType&&!uu&&(N.props!==O.memoizedProps&&n("Expected %s props to match memoized props before componentDidMount. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",Ft(O)||"instance"),N.state!==O.memoizedState&&n("Expected %s state to match memoized state before componentDidMount. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",Ft(O)||"instance")),O.mode&bi)try{no(),N.componentDidMount()}finally{ro(O)}else N.componentDidMount();else{var W=O.elementType===O.type?b.memoizedProps:xa(O.type,b.memoizedProps),Z=b.memoizedState;if(O.type===O.elementType&&!uu&&(N.props!==O.memoizedProps&&n("Expected %s props to match memoized props before componentDidUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",Ft(O)||"instance"),N.state!==O.memoizedState&&n("Expected %s state to match memoized state before componentDidUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",Ft(O)||"instance")),O.mode&bi)try{no(),N.componentDidUpdate(W,Z,N.__reactInternalSnapshotBeforeUpdate)}finally{ro(O)}else N.componentDidUpdate(W,Z,N.__reactInternalSnapshotBeforeUpdate)}var q=O.updateQueue;q!==null&&(O.type===O.elementType&&!uu&&(N.props!==O.memoizedProps&&n("Expected %s props to match memoized props before processing the update queue. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",Ft(O)||"instance"),N.state!==O.memoizedState&&n("Expected %s state to match memoized state before processing the update queue. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",Ft(O)||"instance")),iL(O,q,N));break}case d:{var et=O.updateQueue;if(et!==null){var nt=null;if(O.child!==null)switch(O.child.tag){case l:nt=O.child.stateNode;break;case o:nt=O.child.stateNode;break}iL(O,et,nt)}break}case l:{var at=O.stateNode;if(b===null&&O.flags&oi){var pt=O.type,vt=O.memoizedProps;JV(at,pt,vt)}break}case a:break;case h:break;case m:{{var Ct=O.memoizedProps,bt=Ct.onCommit,At=Ct.onRender,jt=O.stateNode.effectDuration,Ce=DL(),me=b===null?"mount":"update";LL()&&(me="nested-update"),typeof At=="function"&&At(O.memoizedProps.id,me,O.actualDuration,O.treeBaseDuration,O.actualStartTime,Ce);{typeof bt=="function"&&bt(O.memoizedProps.id,me,jt,Ce),RX(O);var si=O.return;t:for(;si!==null;){switch(si.tag){case d:var ei=si.stateNode;ei.effectDuration+=jt;break t;case m:var mt=si.stateNode;mt.effectDuration+=jt;break t}si=si.return}}}break}case y:{UY(S,O);break}case A:case M:case L:case F:case G:case B:break;default:throw new Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}on||O.flags&Rl&&m2(O)}function DY(S){switch(S.tag){case r:case g:case P:{if(S.mode&bi)try{no(),v2(S,S.return)}finally{ro(S)}else v2(S,S.return);break}case o:{var b=S.stateNode;typeof b.componentDidMount=="function"&&PY(S,S.return,b),p2(S,S.return);break}case l:{p2(S,S.return);break}}}function FY(S,b){for(var O=null,D=S;;){if(D.tag===l){if(O===null){O=D;try{var N=D.stateNode;b?sz(N):oz(D.stateNode,D.memoizedProps)}catch(Z){Gi(S,S.return,Z)}}}else if(D.tag===a){if(O===null)try{var W=D.stateNode;b?az(W):lz(W,D.memoizedProps)}catch(Z){Gi(S,S.return,Z)}}else if(!((D.tag===F||D.tag===G)&&D.memoizedState!==null&&D!==S)){if(D.child!==null){D.child.return=D,D=D.child;continue}}if(D===S)return;for(;D.sibling===null;){if(D.return===null||D.return===S)return;O===D&&(O=null),D=D.return}O===D&&(O=null),D.sibling.return=D.return,D=D.sibling}}function m2(S){var b=S.ref;if(b!==null){var O=S.stateNode,D;switch(S.tag){case l:D=O;break;default:D=O}if(typeof b=="function"){var N;if(S.mode&bi)try{no(),N=b(D)}finally{ro(S)}else N=b(D);typeof N=="function"&&n("Unexpected return value from a callback ref in %s. A callback ref should not return a function.",Ft(S))}else b.hasOwnProperty("current")||n("Unexpected ref object provided for %s. Use either a ref-setter function or React.createRef().",Ft(S)),b.current=D}}function IY(S){var b=S.alternate;b!==null&&(b.return=null),S.return=null}function y2(S){var b=S.alternate;b!==null&&(S.alternate=null,y2(b));{if(S.child=null,S.deletions=null,S.sibling=null,S.tag===l){var O=S.stateNode;O!==null&&Vz(O)}S.stateNode=null,S._debugOwner=null,S.return=null,S.dependencies=null,S.memoizedProps=null,S.memoizedState=null,S.pendingProps=null,S.stateNode=null,S.updateQueue=null}}function BY(S){for(var b=S.return;b!==null;){if(x2(b))return b;b=b.return}throw new Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.")}function x2(S){return S.tag===l||S.tag===d||S.tag===h}function T2(S){var b=S;t:for(;;){for(;b.sibling===null;){if(b.return===null||x2(b.return))return null;b=b.return}for(b.sibling.return=b.return,b=b.sibling;b.tag!==l&&b.tag!==a&&b.tag!==R;){if(b.flags&yr||b.child===null||b.tag===h)continue t;b.child.return=b,b=b.child}if(!(b.flags&yr))return b.stateNode}}function GY(S){var b=BY(S);switch(b.tag){case l:{var O=b.stateNode;b.flags&dc&&(SO(O),b.flags&=~dc);var D=T2(S);K1(S,D,O);break}case d:case h:{var N=b.stateNode.containerInfo,W=T2(S);$1(S,W,N);break}default:throw new Error("Invalid host parent fiber. This error is likely caused by a bug in React. Please file an issue.")}}function $1(S,b,O){var D=S.tag,N=D===l||D===a;if(N){var W=S.stateNode;b?ez(O,W,b):_V(O,W)}else if(D!==h){var Z=S.child;if(Z!==null){$1(Z,b,O);for(var q=Z.sibling;q!==null;)$1(q,b,O),q=q.sibling}}}function K1(S,b,O){var D=S.tag,N=D===l||D===a;if(N){var W=S.stateNode;b?tz(O,W,b):qV(O,W)}else if(D!==h){var Z=S.child;if(Z!==null){K1(Z,b,O);for(var q=Z.sibling;q!==null;)K1(q,b,O),q=q.sibling}}}var ln=null,Sa=!1;function kY(S,b,O){{var D=b;t:for(;D!==null;){switch(D.tag){case l:{ln=D.stateNode,Sa=!1;break t}case d:{ln=D.stateNode.containerInfo,Sa=!0;break t}case h:{ln=D.stateNode.containerInfo,Sa=!0;break t}}D=D.return}if(ln===null)throw new Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.");C2(S,b,O),ln=null,Sa=!1}IY(O)}function $l(S,b,O){for(var D=O.child;D!==null;)C2(S,b,D),D=D.sibling}function C2(S,b,O){switch(N6(O),O.tag){case l:on||Hf(O,b);case a:{{var D=ln,N=Sa;ln=null,$l(S,b,O),ln=D,Sa=N,ln!==null&&(Sa?rz(ln,O.stateNode):iz(ln,O.stateNode))}return}case R:{ln!==null&&(Sa?nz(ln,O.stateNode):nS(ln,O.stateNode));return}case h:{{var W=ln,Z=Sa;ln=O.stateNode.containerInfo,Sa=!0,$l(S,b,O),ln=W,Sa=Z}return}case r:case g:case C:case P:{if(!on){var q=O.updateQueue;if(q!==null){var et=q.lastEffect;if(et!==null){var nt=et.next,at=nt;do{var pt=at,vt=pt.destroy,Ct=pt.tag;vt!==void 0&&((Ct&to)!==Jn?qm(O,b,vt):(Ct&Rr)!==Jn&&(sA(O),O.mode&bi?(no(),qm(O,b,vt),ro(O)):qm(O,b,vt),aA())),at=at.next}while(at!==nt)}}}$l(S,b,O);return}case o:{if(!on){Hf(O,b);var bt=O.stateNode;typeof bt.componentWillUnmount=="function"&&H1(O,b,bt)}$l(S,b,O);return}case L:{$l(S,b,O);return}case F:{if(O.mode&ri){var At=on;on=At||O.memoizedState!==null,$l(S,b,O),on=At}else $l(S,b,O);break}default:{$l(S,b,O);return}}}function NY(S){S.memoizedState}function UY(S,b){var O=b.memoizedState;if(O===null){var D=b.alternate;if(D!==null){var N=D.memoizedState;if(N!==null){var W=N.dehydrated;W!==null&&Ez(W)}}}}function S2(S){var b=S.updateQueue;if(b!==null){S.updateQueue=null;var O=S.stateNode;O===null&&(O=S.stateNode=new SY),b.forEach(function(D){var N=BX.bind(null,S,D);if(!O.has(D)){if(O.add(D),da)if(Yf!==null&&Xf!==null)Lv(Xf,Yf);else throw Error("Expected finished root and lanes to be set. This is a bug in React.");D.then(N,N)}})}}function VY(S,b,O){Yf=O,Xf=S,$e(b),E2(b,S),$e(b),Yf=null,Xf=null}function Ea(S,b,O){var D=b.deletions;if(D!==null)for(var N=0;N<D.length;N++){var W=D[N];try{kY(S,b,W)}catch(et){Gi(W,b,et)}}var Z=ds();if(b.subtreeFlags&_T)for(var q=b.child;q!==null;)$e(q),E2(q,S),q=q.sibling;$e(Z)}function E2(S,b,O){var D=S.alternate,N=S.flags;switch(S.tag){case r:case g:case C:case P:{if(Ea(b,S),so(S),N&oi){try{Ca(to|Mr,S,S.return),Hl(to|Mr,S)}catch(Le){Gi(S,S.return,Le)}if(S.mode&bi){try{no(),Ca(Rr|Mr,S,S.return)}catch(Le){Gi(S,S.return,Le)}ro(S)}else try{Ca(Rr|Mr,S,S.return)}catch(Le){Gi(S,S.return,Le)}}return}case o:{Ea(b,S),so(S),N&Rl&&D!==null&&Hf(D,D.return);return}case l:{Ea(b,S),so(S),N&Rl&&D!==null&&Hf(D,D.return);{if(S.flags&dc){var W=S.stateNode;try{SO(W)}catch(Le){Gi(S,S.return,Le)}}if(N&oi){var Z=S.stateNode;if(Z!=null){var q=S.memoizedProps,et=D!==null?D.memoizedProps:q,nt=S.type,at=S.updateQueue;if(S.updateQueue=null,at!==null)try{jV(Z,at,nt,et,q,S)}catch(Le){Gi(S,S.return,Le)}}}}return}case a:{if(Ea(b,S),so(S),N&oi){if(S.stateNode===null)throw new Error("This should have a text node initialized. This error is likely caused by a bug in React. Please file an issue.");var pt=S.stateNode,vt=S.memoizedProps,Ct=D!==null?D.memoizedProps:vt;try{QV(pt,Ct,vt)}catch(Le){Gi(S,S.return,Le)}}return}case d:{if(Ea(b,S),so(S),N&oi&&D!==null){var bt=D.memoizedState;if(bt.isDehydrated)try{Sz(b.containerInfo)}catch(Le){Gi(S,S.return,Le)}}return}case h:{Ea(b,S),so(S);return}case y:{Ea(b,S),so(S);var At=S.child;if(At.flags&Xh){var jt=At.stateNode,Ce=At.memoizedState,me=Ce!==null;if(jt.isHidden=me,me){var si=At.alternate!==null&&At.alternate.memoizedState!==null;si||TX()}}if(N&oi){try{NY(S)}catch(Le){Gi(S,S.return,Le)}S2(S)}return}case F:{var ei=D!==null&&D.memoizedState!==null;if(S.mode&ri){var mt=on;on=mt||ei,Ea(b,S),on=mt}else Ea(b,S);if(so(S),N&Xh){var Ot=S.stateNode,yt=S.memoizedState,zt=yt!==null,ae=S;if(Ot.isHidden=zt,zt&&!ei&&(ae.mode&ri)!==Pe){ce=ae;for(var _t=ae.child;_t!==null;)ce=_t,WY(_t),_t=_t.sibling}FY(ae,zt)}return}case A:{Ea(b,S),so(S),N&oi&&S2(S);return}case L:return;default:{Ea(b,S),so(S);return}}}function so(S){var b=S.flags;if(b&yr){try{GY(S)}catch(O){Gi(S,S.return,O)}S.flags&=~yr}b&Uo&&(S.flags&=~Uo)}function zY(S,b,O){Yf=O,Xf=b,ce=S,b2(S,b,O),Yf=null,Xf=null}function b2(S,b,O){for(var D=(S.mode&ri)!==Pe;ce!==null;){var N=ce,W=N.child;if(N.tag===F&&D){var Z=N.memoizedState!==null,q=Z||Qm;if(q){Z1(S,b,O);continue}else{var et=N.alternate,nt=et!==null&&et.memoizedState!==null,at=nt||on,pt=Qm,vt=on;Qm=q,on=at,on&&!vt&&(ce=N,YY(N));for(var Ct=W;Ct!==null;)ce=Ct,b2(Ct,b,O),Ct=Ct.sibling;ce=N,Qm=pt,on=vt,Z1(S,b,O);continue}}(N.subtreeFlags&vc)!==Ae&&W!==null?(W.return=N,ce=W):Z1(S,b,O)}}function Z1(S,b,O){for(;ce!==null;){var D=ce;if((D.flags&vc)!==Ae){var N=D.alternate;$e(D);try{LY(b,N,D,O)}catch(Z){Gi(D,D.return,Z)}be()}if(D===S){ce=null;return}var W=D.sibling;if(W!==null){W.return=D.return,ce=W;return}ce=D.return}}function WY(S){for(;ce!==null;){var b=ce,O=b.child;switch(b.tag){case r:case g:case C:case P:{if(b.mode&bi)try{no(),Ca(Rr,b,b.return)}finally{ro(b)}else Ca(Rr,b,b.return);break}case o:{Hf(b,b.return);var D=b.stateNode;typeof D.componentWillUnmount=="function"&&H1(b,b.return,D);break}case l:{Hf(b,b.return);break}case F:{var N=b.memoizedState!==null;if(N){P2(S);continue}break}}O!==null?(O.return=b,ce=O):P2(S)}}function P2(S){for(;ce!==null;){var b=ce;if(b===S){ce=null;return}var O=b.sibling;if(O!==null){O.return=b.return,ce=O;return}ce=b.return}}function YY(S){for(;ce!==null;){var b=ce,O=b.child;if(b.tag===F){var D=b.memoizedState!==null;if(D){w2(S);continue}}O!==null?(O.return=b,ce=O):w2(S)}}function w2(S){for(;ce!==null;){var b=ce;$e(b);try{DY(b)}catch(D){Gi(b,b.return,D)}if(be(),b===S){ce=null;return}var O=b.sibling;if(O!==null){O.return=b.return,ce=O;return}ce=b.return}}function XY(S,b,O,D){ce=b,HY(b,S,O,D)}function HY(S,b,O,D){for(;ce!==null;){var N=ce,W=N.child;(N.subtreeFlags&ff)!==Ae&&W!==null?(W.return=N,ce=W):$Y(S,b,O,D)}}function $Y(S,b,O,D){for(;ce!==null;){var N=ce;if((N.flags&fa)!==Ae){$e(N);try{KY(b,N,O,D)}catch(Z){Gi(N,N.return,Z)}be()}if(N===S){ce=null;return}var W=N.sibling;if(W!==null){W.return=N.return,ce=W;return}ce=N.return}}function KY(S,b,O,D){switch(b.tag){case r:case g:case P:{if(b.mode&bi){c1();try{Hl(sn|Mr,b)}finally{d1(b)}}else Hl(sn|Mr,b);break}}}function ZY(S){ce=S,JY()}function JY(){for(;ce!==null;){var S=ce,b=S.child;if((ce.flags&Wh)!==Ae){var O=S.deletions;if(O!==null){for(var D=0;D<O.length;D++){var N=O[D];ce=N,qY(N,S)}{var W=S.alternate;if(W!==null){var Z=W.child;if(Z!==null){W.child=null;do{var q=Z.sibling;Z.sibling=null,Z=q}while(Z!==null)}}}ce=S}}(S.subtreeFlags&ff)!==Ae&&b!==null?(b.return=S,ce=b):jY()}}function jY(){for(;ce!==null;){var S=ce;(S.flags&fa)!==Ae&&($e(S),QY(S),be());var b=S.sibling;if(b!==null){b.return=S.return,ce=b;return}ce=S.return}}function QY(S){switch(S.tag){case r:case g:case P:{S.mode&bi?(c1(),Ca(sn|Mr,S,S.return),d1(S)):Ca(sn|Mr,S,S.return);break}}}function qY(S,b){for(;ce!==null;){var O=ce;$e(O),tX(O,b),be();var D=O.child;D!==null?(D.return=O,ce=D):_Y(S)}}function _Y(S){for(;ce!==null;){var b=ce,O=b.sibling,D=b.return;if(y2(b),b===S){ce=null;return}if(O!==null){O.return=D,ce=O;return}ce=D}}function tX(S,b){switch(S.tag){case r:case g:case P:{S.mode&bi?(c1(),Ca(sn,S,b),d1(S)):Ca(sn,S,b);break}}}function eX(S){switch(S.tag){case r:case g:case P:{try{Hl(Rr|Mr,S)}catch(O){Gi(S,S.return,O)}break}case o:{var b=S.stateNode;try{b.componentDidMount()}catch(O){Gi(S,S.return,O)}break}}}function iX(S){switch(S.tag){case r:case g:case P:{try{Hl(sn|Mr,S)}catch(b){Gi(S,S.return,b)}break}}}function rX(S){switch(S.tag){case r:case g:case P:{try{Ca(Rr|Mr,S,S.return)}catch(O){Gi(S,S.return,O)}break}case o:{var b=S.stateNode;typeof b.componentWillUnmount=="function"&&H1(S,S.return,b);break}}}function nX(S){switch(S.tag){case r:case g:case P:try{Ca(sn|Mr,S,S.return)}catch(b){Gi(S,S.return,b)}}}if(typeof Symbol=="function"&&Symbol.for){var Tv=Symbol.for;Tv("selector.component"),Tv("selector.has_pseudo_class"),Tv("selector.role"),Tv("selector.test_id"),Tv("selector.text")}var sX=[];function aX(){sX.forEach(function(S){return S()})}var oX=i.ReactCurrentActQueue;function lX(S){{var b=typeof IS_REACT_ACT_ENVIRONMENT<"u"?IS_REACT_ACT_ENVIRONMENT:void 0,O=typeof jest<"u";return O&&b!==!1}}function M2(){{var S=typeof IS_REACT_ACT_ENVIRONMENT<"u"?IS_REACT_ACT_ENVIRONMENT:void 0;return!S&&oX.current!==null&&n("The current testing environment is not configured to support act(...)"),S}}var hX=Math.ceil,J1=i.ReactCurrentDispatcher,j1=i.ReactCurrentOwner,hn=i.ReactCurrentBatchConfig,ba=i.ReactCurrentActQueue,Lr=0,R2=1,un=2,Xs=4,qo=0,Cv=1,fu=2,_m=3,Sv=4,A2=5,Q1=6,ni=Lr,Gn=null,Qi=null,Dr=kt,ao=kt,q1=Gl(kt),Fr=qo,Ev=null,t0=kt,bv=kt,e0=kt,Pv=null,jn=null,_1=0,O2=500,L2=1/0,uX=500,_o=null;function wv(){L2=Yr()+uX}function D2(){return L2}var i0=!1,tE=null,$f=null,du=!1,Kl=null,Mv=kt,eE=[],iE=null,fX=50,Rv=0,rE=null,nE=!1,r0=!1,dX=50,Kf=0,n0=null,Av=zi,s0=kt,F2=!1;function a0(){return Gn}function kn(){return(ni&(un|Xs))!==Lr?Yr():(Av!==zi||(Av=Yr()),Av)}function Zl(S){var b=S.mode;if((b&ri)===Pe)return Ge;if((ni&un)!==Lr&&Dr!==kt)return Cc(Dr);var O=oW()!==aW;if(O){if(hn.transition!==null){var D=hn.transition;D._updatedFibers||(D._updatedFibers=new Set),D._updatedFibers.add(S)}return s0===Hr&&(s0=vA()),s0}var N=ca();if(N!==Hr)return N;var W=HV();return W}function cX(S){var b=S.mode;return(b&ri)===Pe?Ge:p7()}function Ir(S,b,O,D){kX(),F2&&n("useInsertionEffect must not schedule updates."),nE&&(r0=!0),Sc(S,O,D),(ni&un)!==kt&&S===Gn?VX(b):(da&&mA(S,b,O),zX(b),S===Gn&&((ni&un)===Lr&&(bv=Je(bv,O)),Fr===Sv&&Jl(S,Dr)),Qn(S,D),O===Ge&&ni===Lr&&(b.mode&ri)===Pe&&!ba.isBatchingLegacy&&(wv(),FO()))}function vX(S,b,O){var D=S.current;D.lanes=b,Sc(S,b,O),Qn(S,O)}function pX(S){return(ni&un)!==Lr}function Qn(S,b){var O=S.callbackNode;h7(S,b);var D=Mg(S,S===Gn?Dr:kt);if(D===kt){O!==null&&J2(O),S.callbackNode=null,S.callbackPriority=Hr;return}var N=jh(D),W=S.callbackPriority;if(W===N&&!(ba.current!==null&&O!==fE)){O==null&&W!==Ge&&n("Expected scheduled callback to exist. This error is likely caused by a bug in React. Please file an issue.");return}O!=null&&J2(O);var Z;if(N===Ge)S.tag===kl?(ba.isBatchingLegacy!==null&&(ba.didScheduleLegacyUpdate=!0),Yz(G2.bind(null,S))):DO(G2.bind(null,S)),ba.current!==null?ba.current.push(Nl):KV(function(){(ni&(un|Xs))===Lr&&Nl()}),Z=null;else{var q;switch(TA(D)){case ps:q=Eg;break;case Yo:q=tC;break;case Xo:q=Kh;break;case Og:q=eC;break;default:q=Kh;break}Z=dE(q,I2.bind(null,S))}S.callbackPriority=N,S.callbackNode=Z}function I2(S,b){if(FW(),Av=zi,s0=kt,(ni&(un|Xs))!==Lr)throw new Error("Should not already be working.");var O=S.callbackNode,D=el();if(D&&S.callbackNode!==O)return null;var N=Mg(S,S===Gn?Dr:kt);if(N===kt)return null;var W=!Rg(S,N)&&!v7(S,N)&&!b,Z=W?PX(S,N):l0(S,N);if(Z!==qo){if(Z===fu){var q=EC(S);q!==kt&&(N=q,Z=sE(S,q))}if(Z===Cv){var et=Ev;throw cu(S,kt),Jl(S,N),Qn(S,Yr()),et}if(Z===Q1)Jl(S,N);else{var nt=!Rg(S,N),at=S.current.alternate;if(nt&&!mX(at)){if(Z=l0(S,N),Z===fu){var pt=EC(S);pt!==kt&&(N=pt,Z=sE(S,pt))}if(Z===Cv){var vt=Ev;throw cu(S,kt),Jl(S,N),Qn(S,Yr()),vt}}S.finishedWork=at,S.finishedLanes=N,gX(S,Z,N)}}return Qn(S,Yr()),S.callbackNode===O?I2.bind(null,S):null}function sE(S,b){var O=Pv;if(Lg(S)){var D=cu(S,b);D.flags|=No,Gz(S.containerInfo)}var N=l0(S,b);if(N!==fu){var W=jn;jn=O,W!==null&&B2(W)}return N}function B2(S){jn===null?jn=S:jn.push.apply(jn,S)}function gX(S,b,O){switch(b){case qo:case Cv:throw new Error("Root did not complete. This is a bug in React.");case fu:{vu(S,jn,_o);break}case _m:{if(Jl(S,O),dA(O)&&!j2()){var D=_1+O2-Yr();if(D>10){var N=Mg(S,kt);if(N!==kt)break;var W=S.suspendedLanes;if(!mf(W,O)){kn(),gA(S,W);break}S.timeoutHandle=iS(vu.bind(null,S,jn,_o),D);break}}vu(S,jn,_o);break}case Sv:{if(Jl(S,O),c7(O))break;if(!j2()){var Z=o7(S,O),q=Z,et=Yr()-q,nt=GX(et)-et;if(nt>10){S.timeoutHandle=iS(vu.bind(null,S,jn,_o),nt);break}}vu(S,jn,_o);break}case A2:{vu(S,jn,_o);break}default:throw new Error("Unknown root exit status.")}}function mX(S){for(var b=S;;){if(b.flags&Cg){var O=b.updateQueue;if(O!==null){var D=O.stores;if(D!==null)for(var N=0;N<D.length;N++){var W=D[N],Z=W.getSnapshot,q=W.value;try{if(!ms(Z(),q))return!1}catch{return!1}}}}var et=b.child;if(b.subtreeFlags&Cg&&et!==null){et.return=b,b=et;continue}if(b===S)return!0;for(;b.sibling===null;){if(b.return===null||b.return===S)return!0;b=b.return}b.sibling.return=b.return,b=b.sibling}return!0}function Jl(S,b){b=Ag(b,e0),b=Ag(b,bv),m7(S,b)}function G2(S){if(IW(),(ni&(un|Xs))!==Lr)throw new Error("Should not already be working.");el();var b=Mg(S,kt);if(!vs(b,Ge))return Qn(S,Yr()),null;var O=l0(S,b);if(S.tag!==kl&&O===fu){var D=EC(S);D!==kt&&(b=D,O=sE(S,D))}if(O===Cv){var N=Ev;throw cu(S,kt),Jl(S,b),Qn(S,Yr()),N}if(O===Q1)throw new Error("Root did not complete. This is a bug in React.");var W=S.current.alternate;return S.finishedWork=W,S.finishedLanes=b,vu(S,jn,_o),Qn(S,Yr()),null}function yX(S,b){b!==kt&&(MC(S,Je(b,Ge)),Qn(S,Yr()),(ni&(un|Xs))===Lr&&(wv(),Nl()))}function aE(S,b){var O=ni;ni|=R2;try{return S(b)}finally{ni=O,ni===Lr&&!ba.isBatchingLegacy&&(wv(),FO())}}function xX(S,b,O,D,N){var W=ca(),Z=hn.transition;try{return hn.transition=null,$r(ps),S(b,O,D,N)}finally{$r(W),hn.transition=Z,ni===Lr&&wv()}}function tl(S){Kl!==null&&Kl.tag===kl&&(ni&(un|Xs))===Lr&&el();var b=ni;ni|=R2;var O=hn.transition,D=ca();try{return hn.transition=null,$r(ps),S?S():void 0}finally{$r(D),hn.transition=O,ni=b,(ni&(un|Xs))===Lr&&Nl()}}function k2(){return(ni&(un|Xs))!==Lr}function o0(S,b){Cn(q1,ao,S),ao=Je(ao,b)}function oE(S){ao=q1.current,Tn(q1,S)}function cu(S,b){S.finishedWork=null,S.finishedLanes=kt;var O=S.timeoutHandle;if(O!==rS&&(S.timeoutHandle=rS,$V(O)),Qi!==null)for(var D=Qi.return;D!==null;){var N=D.alternate;d2(N,D),D=D.return}Gn=S;var W=pu(S.current,null);return Qi=W,Dr=ao=b,Fr=qo,Ev=null,t0=kt,bv=kt,e0=kt,Pv=null,jn=null,vW(),ga.discardPendingWarnings(),W}function N2(S,b){do{var O=Qi;try{if(mm(),lL(),be(),j1.current=null,O===null||O.return===null){Fr=Cv,Ev=b,Qi=null;return}if(V&&O.mode&bi&&$m(O,!0),z)if(cf(),b!==null&&typeof b=="object"&&typeof b.then=="function"){var D=b;J6(O,D,Dr)}else Z6(O,b,Dr);YW(S,O.return,O,b,Dr),W2(O)}catch(N){b=N,Qi===O&&O!==null?(O=O.return,Qi=O):O=Qi;continue}return}while(!0)}function U2(){var S=J1.current;return J1.current=zm,S===null?zm:S}function V2(S){J1.current=S}function TX(){_1=Yr()}function Ov(S){t0=Je(S,t0)}function CX(){Fr===qo&&(Fr=_m)}function lE(){(Fr===qo||Fr===_m||Fr===fu)&&(Fr=Sv),Gn!==null&&(bC(t0)||bC(bv))&&Jl(Gn,Dr)}function SX(S){Fr!==Sv&&(Fr=fu),Pv===null?Pv=[S]:Pv.push(S)}function EX(){return Fr===qo}function l0(S,b){var O=ni;ni|=un;var D=U2();if(Gn!==S||Dr!==b){if(da){var N=S.memoizedUpdaters;N.size>0&&(Lv(S,Dr),N.clear()),yA(S,b)}_o=xA(),cu(S,b)}oA(b);do try{bX();break}catch(W){N2(S,W)}while(!0);if(mm(),ni=O,V2(D),Qi!==null)throw new Error("Cannot commit an incomplete root. This error is likely caused by a bug in React. Please file an issue.");return lA(),Gn=null,Dr=kt,Fr}function bX(){for(;Qi!==null;)z2(Qi)}function PX(S,b){var O=ni;ni|=un;var D=U2();if(Gn!==S||Dr!==b){if(da){var N=S.memoizedUpdaters;N.size>0&&(Lv(S,Dr),N.clear()),yA(S,b)}_o=xA(),wv(),cu(S,b)}oA(b);do try{wX();break}catch(W){N2(S,W)}while(!0);return mm(),V2(D),ni=O,Qi!==null?(t7(),qo):(lA(),Gn=null,Dr=kt,Fr)}function wX(){for(;Qi!==null&&!R6();)z2(Qi)}function z2(S){var b=S.alternate;$e(S);var O;(S.mode&bi)!==Pe?(f1(S),O=hE(b,S,ao),$m(S,!0)):O=hE(b,S,ao),be(),S.memoizedProps=S.pendingProps,O===null?W2(S):Qi=O,j1.current=null}function W2(S){var b=S;do{var O=b.alternate,D=b.return;if((b.flags&cc)===Ae){$e(b);var N=void 0;if((b.mode&bi)===Pe?N=f2(O,b,ao):(f1(b),N=f2(O,b,ao),$m(b,!1)),be(),N!==null){Qi=N;return}}else{var W=CY(O,b);if(W!==null){W.flags&=S6,Qi=W;return}if((b.mode&bi)!==Pe){$m(b,!1);for(var Z=b.actualDuration,q=b.child;q!==null;)Z+=q.actualDuration,q=q.sibling;b.actualDuration=Z}if(D!==null)D.flags|=cc,D.subtreeFlags=Ae,D.deletions=null;else{Fr=Q1,Qi=null;return}}var et=b.sibling;if(et!==null){Qi=et;return}b=D,Qi=b}while(b!==null);Fr===qo&&(Fr=A2)}function vu(S,b,O){var D=ca(),N=hn.transition;try{hn.transition=null,$r(ps),MX(S,b,O,D)}finally{hn.transition=N,$r(D)}return null}function MX(S,b,O,D){do el();while(Kl!==null);if(NX(),(ni&(un|Xs))!==Lr)throw new Error("Should not already be working.");var N=S.finishedWork,W=S.finishedLanes;if(z6(W),N===null)return nA(),null;if(W===kt&&n("root.finishedLanes should not be empty during a commit. This is a bug in React."),S.finishedWork=null,S.finishedLanes=kt,N===S.current)throw new Error("Cannot commit the same tree as before. This error is likely caused by a bug in React. Please file an issue.");S.callbackNode=null,S.callbackPriority=Hr;var Z=Je(N.lanes,N.childLanes);y7(S,Z),S===Gn&&(Gn=null,Qi=null,Dr=kt),((N.subtreeFlags&ff)!==Ae||(N.flags&ff)!==Ae)&&(du||(du=!0,iE=O,dE(Kh,function(){return el(),null})));var q=(N.subtreeFlags&(qT|_T|vc|ff))!==Ae,et=(N.flags&(qT|_T|vc|ff))!==Ae;if(q||et){var nt=hn.transition;hn.transition=null;var at=ca();$r(ps);var pt=ni;ni|=Xs,j1.current=null,wY(S,N),FL(),VY(S,N,W),UV(S.containerInfo),S.current=N,j6(W),zY(N,S,W),Q6(),A6(),ni=pt,$r(at),hn.transition=nt}else S.current=N,FL();var vt=du;if(du?(du=!1,Kl=S,Mv=W):(Kf=0,n0=null),Z=S.pendingLanes,Z===kt&&($f=null),vt||$2(S.current,!1),G6(N.stateNode,D),da&&S.memoizedUpdaters.clear(),aX(),Qn(S,Yr()),b!==null)for(var Ct=S.onRecoverableError,bt=0;bt<b.length;bt++){var At=b[bt],jt=At.stack,Ce=At.digest;Ct(At.value,{componentStack:jt,digest:Ce})}if(i0){i0=!1;var me=tE;throw tE=null,me}return vs(Mv,Ge)&&S.tag!==kl&&el(),Z=S.pendingLanes,vs(Z,Ge)?(DW(),S===rE?Rv++:(Rv=0,rE=S)):Rv=0,Nl(),nA(),null}function el(){if(Kl!==null){var S=TA(Mv),b=S7(Xo,S),O=hn.transition,D=ca();try{return hn.transition=null,$r(b),AX()}finally{$r(D),hn.transition=O}}return!1}function RX(S){eE.push(S),du||(du=!0,dE(Kh,function(){return el(),null}))}function AX(){if(Kl===null)return!1;var S=iE;iE=null;var b=Kl,O=Mv;if(Kl=null,Mv=kt,(ni&(un|Xs))!==Lr)throw new Error("Cannot flush passive effects while already rendering.");nE=!0,r0=!1,q6(O);var D=ni;ni|=Xs,ZY(b.current),XY(b,b.current,O,S);{var N=eE;eE=[];for(var W=0;W<N.length;W++){var Z=N[W];OY(b,Z)}}_6(),$2(b.current,!0),ni=D,Nl(),r0?b===n0?Kf++:(Kf=0,n0=b):Kf=0,nE=!1,r0=!1,k6(b);{var q=b.current.stateNode;q.effectDuration=0,q.passiveEffectDuration=0}return!0}function Y2(S){return $f!==null&&$f.has(S)}function OX(S){$f===null?$f=new Set([S]):$f.add(S)}function LX(S){i0||(i0=!0,tE=S)}var DX=LX;function X2(S,b,O){var D=hu(O,b),N=zL(S,D,Ge),W=Vl(S,N,Ge),Z=kn();W!==null&&(Sc(W,Ge,Z),Qn(W,Z))}function Gi(S,b,O){if(EY(O),Dv(!1),S.tag===d){X2(S,S,O);return}var D=null;for(D=b;D!==null;){if(D.tag===d){X2(D,S,O);return}else if(D.tag===o){var N=D.type,W=D.stateNode;if(typeof N.getDerivedStateFromError=="function"||typeof W.componentDidCatch=="function"&&!Y2(W)){var Z=hu(O,S),q=A1(D,Z,Ge),et=Vl(D,q,Ge),nt=kn();et!==null&&(Sc(et,Ge,nt),Qn(et,nt));return}}D=D.return}n(`Internal React error: Attempted to capture a commit phase error inside a detached tree. This indicates a bug in React. Likely causes include deleting the same fiber more than once, committing an already-finished tree, or an inconsistent return pointer.

Error message:

%s`,O)}function FX(S,b,O){var D=S.pingCache;D!==null&&D.delete(b);var N=kn();gA(S,O),WX(S),Gn===S&&mf(Dr,O)&&(Fr===Sv||Fr===_m&&dA(Dr)&&Yr()-_1<O2?cu(S,kt):e0=Je(e0,O)),Qn(S,N)}function H2(S,b){b===Hr&&(b=cX(S));var O=kn(),D=Zn(S,b);D!==null&&(Sc(D,b,O),Qn(D,O))}function IX(S){var b=S.memoizedState,O=Hr;b!==null&&(O=b.retryLane),H2(S,O)}function BX(S,b){var O=Hr,D;switch(S.tag){case y:D=S.stateNode;var N=S.memoizedState;N!==null&&(O=N.retryLane);break;case A:D=S.stateNode;break;default:throw new Error("Pinged unknown suspense boundary type. This is probably a bug in React.")}D!==null&&D.delete(b),H2(S,O)}function GX(S){return S<120?120:S<480?480:S<1080?1080:S<1920?1920:S<3e3?3e3:S<4320?4320:hX(S/1960)*1960}function kX(){if(Rv>fX)throw Rv=0,rE=null,new Error("Maximum update depth exceeded. This can happen when a component repeatedly calls setState inside componentWillUpdate or componentDidUpdate. React limits the number of nested updates to prevent infinite loops.");Kf>dX&&(Kf=0,n0=null,n("Maximum update depth exceeded. This can happen when a component calls setState inside useEffect, but useEffect either doesn't have a dependency array, or one of the dependencies changes on every render."))}function NX(){ga.flushLegacyContextWarning(),ga.flushPendingUnsafeLifecycleWarnings()}function $2(S,b){$e(S),h0(S,Vo,rX),b&&h0(S,Sg,nX),h0(S,Vo,eX),b&&h0(S,Sg,iX),be()}function h0(S,b,O){for(var D=S,N=null;D!==null;){var W=D.subtreeFlags&b;D!==N&&D.child!==null&&W!==Ae?D=D.child:((D.flags&b)!==Ae&&O(D),D.sibling!==null?D=D.sibling:D=N=D.return)}}var u0=null;function K2(S){{if((ni&un)!==Lr||!(S.mode&ri))return;var b=S.tag;if(b!==x&&b!==d&&b!==o&&b!==r&&b!==g&&b!==C&&b!==P)return;var O=Ft(S)||"ReactComponent";if(u0!==null){if(u0.has(O))return;u0.add(O)}else u0=new Set([O]);var D=ue;try{$e(S),n("Can't perform a React state update on a component that hasn't mounted yet. This indicates that you have a side-effect in your render function that asynchronously later calls tries to update the component. Move this work to useEffect instead.")}finally{D?$e(S):be()}}}var hE;{var UX=null;hE=function(S,b,O){var D=eD(UX,b);try{return a2(S,b,O)}catch(W){if(Qz()||W!==null&&typeof W=="object"&&typeof W.then=="function")throw W;if(mm(),lL(),d2(S,b),eD(b,D),b.mode&bi&&f1(b),$T(null,a2,null,S,b,O),y6()){var N=KT();typeof N=="object"&&N!==null&&N._suppressLogging&&typeof W=="object"&&W!==null&&!W._suppressLogging&&(W._suppressLogging=!0)}throw W}}}var Z2=!1,uE;uE=new Set;function VX(S){if(Li&&!AW())switch(S.tag){case r:case g:case P:{var b=Qi&&Ft(Qi)||"Unknown",O=b;if(!uE.has(O)){uE.add(O);var D=Ft(S)||"Unknown";n("Cannot update a component (`%s`) while rendering a different component (`%s`). To locate the bad setState() call inside `%s`, follow the stack trace as described in https://reactjs.org/link/setstate-in-render",D,b,b)}break}case o:{Z2||(n("Cannot update during an existing state transition (such as within `render`). Render methods should be a pure function of props and state."),Z2=!0);break}}}function Lv(S,b){if(da){var O=S.memoizedUpdaters;O.forEach(function(D){mA(S,D,b)})}}var fE={};function dE(S,b){{var O=ba.current;return O!==null?(O.push(b),fE):rA(S,b)}}function J2(S){if(S!==fE)return M6(S)}function j2(){return ba.current!==null}function zX(S){{if(S.mode&ri){if(!M2())return}else if(!lX()||ni!==Lr||S.tag!==r&&S.tag!==g&&S.tag!==P)return;if(ba.current===null){var b=ue;try{$e(S),n(`An update to %s inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act`,Ft(S))}finally{b?$e(S):be()}}}}function WX(S){S.tag!==kl&&M2()&&ba.current===null&&n(`A suspended resource finished loading inside a test, but the event was not wrapped in act(...).

When testing, code that resolves suspended data should be wrapped into act(...):

act(() => {
  /* finish loading suspended data */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act`)}function Dv(S){F2=S}var Hs=null,Zf=null,YX=function(S){Hs=S};function Jf(S){{if(Hs===null)return S;var b=Hs(S);return b===void 0?S:b.current}}function cE(S){return Jf(S)}function vE(S){{if(Hs===null)return S;var b=Hs(S);if(b===void 0){if(S!=null&&typeof S.render=="function"){var O=Jf(S.render);if(S.render!==O){var D={$$typeof:Re,render:O};return S.displayName!==void 0&&(D.displayName=S.displayName),D}}return S}return b.current}}function Q2(S,b){{if(Hs===null)return!1;var O=S.elementType,D=b.type,N=!1,W=typeof D=="object"&&D!==null?D.$$typeof:null;switch(S.tag){case o:{typeof D=="function"&&(N=!0);break}case r:{(typeof D=="function"||W===Qe)&&(N=!0);break}case g:{(W===Re||W===Qe)&&(N=!0);break}case C:case P:{(W===Ni||W===Qe)&&(N=!0);break}default:return!1}if(N){var Z=Hs(O);if(Z!==void 0&&Z===Hs(D))return!0}return!1}}function q2(S){{if(Hs===null||typeof WeakSet!="function")return;Zf===null&&(Zf=new WeakSet),Zf.add(S)}}var XX=function(S,b){{if(Hs===null)return;var O=b.staleFamilies,D=b.updatedFamilies;el(),tl(function(){pE(S.current,D,O)})}},HX=function(S,b){{if(S.context!==ys)return;el(),tl(function(){Fv(b,S,null,null)})}};function pE(S,b,O){{var D=S.alternate,N=S.child,W=S.sibling,Z=S.tag,q=S.type,et=null;switch(Z){case r:case P:case o:et=q;break;case g:et=q.render;break}if(Hs===null)throw new Error("Expected resolveFamily to be set during hot reload.");var nt=!1,at=!1;if(et!==null){var pt=Hs(et);pt!==void 0&&(O.has(pt)?at=!0:b.has(pt)&&(Z===o?at=!0:nt=!0))}if(Zf!==null&&(Zf.has(S)||D!==null&&Zf.has(D))&&(at=!0),at&&(S._debugNeedsRemount=!0),at||nt){var vt=Zn(S,Ge);vt!==null&&Ir(vt,S,Ge,zi)}N!==null&&!at&&pE(N,b,O),W!==null&&pE(W,b,O)}}var $X=function(S,b){{var O=new Set,D=new Set(b.map(function(N){return N.current}));return gE(S.current,D,O),O}};function gE(S,b,O){{var D=S.child,N=S.sibling,W=S.tag,Z=S.type,q=null;switch(W){case r:case P:case o:q=Z;break;case g:q=Z.render;break}var et=!1;q!==null&&b.has(q)&&(et=!0),et?KX(S,O):D!==null&&gE(D,b,O),N!==null&&gE(N,b,O)}}function KX(S,b){{var O=ZX(S,b);if(O)return;for(var D=S;;){switch(D.tag){case l:b.add(D.stateNode);return;case h:b.add(D.stateNode.containerInfo);return;case d:b.add(D.stateNode.containerInfo);return}if(D.return===null)throw new Error("Expected to reach root first.");D=D.return}}}function ZX(S,b){for(var O=S,D=!1;;){if(O.tag===l)D=!0,b.add(O.stateNode);else if(O.child!==null){O.child.return=O,O=O.child;continue}if(O===S)return D;for(;O.sibling===null;){if(O.return===null||O.return===S)return D;O=O.return}O.sibling.return=O.return,O=O.sibling}return!1}var mE;{mE=!1;try{var _2=Object.preventExtensions({})}catch{mE=!0}}function JX(S,b,O,D){this.tag=S,this.key=O,this.elementType=null,this.type=null,this.stateNode=null,this.return=null,this.child=null,this.sibling=null,this.index=0,this.ref=null,this.pendingProps=b,this.memoizedProps=null,this.updateQueue=null,this.memoizedState=null,this.dependencies=null,this.mode=D,this.flags=Ae,this.subtreeFlags=Ae,this.deletions=null,this.lanes=kt,this.childLanes=kt,this.alternate=null,this.actualDuration=Number.NaN,this.actualStartTime=Number.NaN,this.selfBaseDuration=Number.NaN,this.treeBaseDuration=Number.NaN,this.actualDuration=0,this.actualStartTime=-1,this.selfBaseDuration=0,this.treeBaseDuration=0,this._debugSource=null,this._debugOwner=null,this._debugNeedsRemount=!1,this._debugHookTypes=null,!mE&&typeof Object.preventExtensions=="function"&&Object.preventExtensions(this)}var xs=function(S,b,O,D){return new JX(S,b,O,D)};function yE(S){var b=S.prototype;return!!(b&&b.isReactComponent)}function jX(S){return typeof S=="function"&&!yE(S)&&S.defaultProps===void 0}function QX(S){if(typeof S=="function")return yE(S)?o:r;if(S!=null){var b=S.$$typeof;if(b===Re)return g;if(b===Ni)return C}return x}function pu(S,b){var O=S.alternate;O===null?(O=xs(S.tag,b,S.key,S.mode),O.elementType=S.elementType,O.type=S.type,O.stateNode=S.stateNode,O._debugSource=S._debugSource,O._debugOwner=S._debugOwner,O._debugHookTypes=S._debugHookTypes,O.alternate=S,S.alternate=O):(O.pendingProps=b,O.type=S.type,O.flags=Ae,O.subtreeFlags=Ae,O.deletions=null,O.actualDuration=0,O.actualStartTime=-1),O.flags=S.flags&zo,O.childLanes=S.childLanes,O.lanes=S.lanes,O.child=S.child,O.memoizedProps=S.memoizedProps,O.memoizedState=S.memoizedState,O.updateQueue=S.updateQueue;var D=S.dependencies;switch(O.dependencies=D===null?null:{lanes:D.lanes,firstContext:D.firstContext},O.sibling=S.sibling,O.index=S.index,O.ref=S.ref,O.selfBaseDuration=S.selfBaseDuration,O.treeBaseDuration=S.treeBaseDuration,O._debugNeedsRemount=S._debugNeedsRemount,O.tag){case x:case r:case P:O.type=Jf(S.type);break;case o:O.type=cE(S.type);break;case g:O.type=vE(S.type);break}return O}function qX(S,b){S.flags&=zo|yr;var O=S.alternate;if(O===null)S.childLanes=kt,S.lanes=b,S.child=null,S.subtreeFlags=Ae,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null,S.selfBaseDuration=0,S.treeBaseDuration=0;else{S.childLanes=O.childLanes,S.lanes=O.lanes,S.child=O.child,S.subtreeFlags=Ae,S.deletions=null,S.memoizedProps=O.memoizedProps,S.memoizedState=O.memoizedState,S.updateQueue=O.updateQueue,S.type=O.type;var D=O.dependencies;S.dependencies=D===null?null:{lanes:D.lanes,firstContext:D.firstContext},S.selfBaseDuration=O.selfBaseDuration,S.treeBaseDuration=O.treeBaseDuration}return S}function _X(S,b,O){var D;return S===om?(D=ri,b===!0&&(D|=ir,D|=ja)):D=Pe,da&&(D|=bi),xs(d,null,null,D)}function xE(S,b,O,D,N,W){var Z=x,q=S;if(typeof S=="function")yE(S)?(Z=o,q=cE(q)):q=Jf(q);else if(typeof S=="string")Z=l;else t:switch(S){case ut:return jl(O.children,N,W,b);case Bt:Z=c,N|=ir,(N&ri)!==Pe&&(N|=ja);break;case Zt:return tH(O,N,W,b);case Xe:return eH(O,N,W,b);case Ve:return iH(O,N,W,b);case ls:return tD(O,N,W,b);case hs:case Ui:case gr:case Ao:case wr:default:{if(typeof S=="object"&&S!==null)switch(S.$$typeof){case de:Z=v;break t;case _e:Z=u;break t;case Re:Z=g,q=vE(q);break t;case Ni:Z=C;break t;case Qe:Z=w,q=null;break t}var et="";{(S===void 0||typeof S=="object"&&S!==null&&Object.keys(S).length===0)&&(et+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var nt=D?Ft(D):null;nt&&(et+=`

Check the render method of \``+nt+"`.")}throw new Error("Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) "+("but got: "+(S==null?S:typeof S)+"."+et))}}var at=xs(Z,O,b,N);return at.elementType=S,at.type=q,at.lanes=W,at._debugOwner=D,at}function TE(S,b,O){var D=null;D=S._owner;var N=S.type,W=S.key,Z=S.props,q=xE(N,W,Z,D,b,O);return q._debugSource=S._source,q._debugOwner=S._owner,q}function jl(S,b,O,D){var N=xs(f,S,D,b);return N.lanes=O,N}function tH(S,b,O,D){typeof S.id!="string"&&n('Profiler must specify an "id" of type `string` as a prop. Received the type `%s` instead.',typeof S.id);var N=xs(m,S,D,b|bi);return N.elementType=Zt,N.lanes=O,N.stateNode={effectDuration:0,passiveEffectDuration:0},N}function eH(S,b,O,D){var N=xs(y,S,D,b);return N.elementType=Xe,N.lanes=O,N}function iH(S,b,O,D){var N=xs(A,S,D,b);return N.elementType=Ve,N.lanes=O,N}function tD(S,b,O,D){var N=xs(F,S,D,b);N.elementType=ls,N.lanes=O;var W={isHidden:!1};return N.stateNode=W,N}function CE(S,b,O){var D=xs(a,S,null,b);return D.lanes=O,D}function rH(){var S=xs(l,null,null,Pe);return S.elementType="DELETED",S}function nH(S){var b=xs(R,null,null,Pe);return b.stateNode=S,b}function SE(S,b,O){var D=S.children!==null?S.children:[],N=xs(h,D,S.key,b);return N.lanes=O,N.stateNode={containerInfo:S.containerInfo,pendingChildren:null,implementation:S.implementation},N}function eD(S,b){return S===null&&(S=xs(x,null,null,Pe)),S.tag=b.tag,S.key=b.key,S.elementType=b.elementType,S.type=b.type,S.stateNode=b.stateNode,S.return=b.return,S.child=b.child,S.sibling=b.sibling,S.index=b.index,S.ref=b.ref,S.pendingProps=b.pendingProps,S.memoizedProps=b.memoizedProps,S.updateQueue=b.updateQueue,S.memoizedState=b.memoizedState,S.dependencies=b.dependencies,S.mode=b.mode,S.flags=b.flags,S.subtreeFlags=b.subtreeFlags,S.deletions=b.deletions,S.lanes=b.lanes,S.childLanes=b.childLanes,S.alternate=b.alternate,S.actualDuration=b.actualDuration,S.actualStartTime=b.actualStartTime,S.selfBaseDuration=b.selfBaseDuration,S.treeBaseDuration=b.treeBaseDuration,S._debugSource=b._debugSource,S._debugOwner=b._debugOwner,S._debugNeedsRemount=b._debugNeedsRemount,S._debugHookTypes=b._debugHookTypes,S}function sH(S,b,O,D,N){this.tag=b,this.containerInfo=S,this.pendingChildren=null,this.current=null,this.pingCache=null,this.finishedWork=null,this.timeoutHandle=rS,this.context=null,this.pendingContext=null,this.callbackNode=null,this.callbackPriority=Hr,this.eventTimes=wC(kt),this.expirationTimes=wC(zi),this.pendingLanes=kt,this.suspendedLanes=kt,this.pingedLanes=kt,this.expiredLanes=kt,this.mutableReadLanes=kt,this.finishedLanes=kt,this.entangledLanes=kt,this.entanglements=wC(kt),this.identifierPrefix=D,this.onRecoverableError=N,this.mutableSourceEagerHydrationData=null,this.effectDuration=0,this.passiveEffectDuration=0;{this.memoizedUpdaters=new Set;for(var W=this.pendingUpdatersLaneMap=[],Z=0;Z<rC;Z++)W.push(new Set)}switch(b){case om:this._debugRootType=O?"hydrateRoot()":"createRoot()";break;case kl:this._debugRootType=O?"hydrate()":"render()";break}}function iD(S,b,O,D,N,W,Z,q,et,nt){var at=new sH(S,b,O,q,et),pt=_X(b,W);at.current=pt,pt.stateNode=at;{var vt={element:D,isDehydrated:O,cache:null,transitions:null,pendingSuspenseBoundaries:null};pt.memoizedState=vt}return BS(pt),at}var EE="18.3.1";function aH(S,b,O){var D=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;return Ht(D),{$$typeof:os,key:D==null?null:""+D,children:S,containerInfo:b,implementation:O}}var bE,PE;bE=!1,PE={};function rD(S){if(!S)return ys;var b=hf(S),O=Wz(b);if(b.tag===o){var D=b.type;if(_a(D))return OO(b,D,O)}return O}function oH(S,b){{var O=hf(S);if(O===void 0){if(typeof S.render=="function")throw new Error("Unable to find node on an unmounted component.");var D=Object.keys(S).join(",");throw new Error("Argument appears to not be a ReactComponent. Keys: "+D)}var N=tA(O);if(N===null)return null;if(N.mode&ir){var W=Ft(O)||"Component";if(!PE[W]){PE[W]=!0;var Z=ue;try{$e(N),O.mode&ir?n("%s is deprecated in StrictMode. %s was passed an instance of %s which is inside StrictMode. Instead, add a ref directly to the element you want to reference. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-find-node",b,b,W):n("%s is deprecated in StrictMode. %s was passed an instance of %s which renders StrictMode children. Instead, add a ref directly to the element you want to reference. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-find-node",b,b,W)}finally{Z?$e(Z):be()}}}return N.stateNode}}function nD(S,b,O,D,N,W,Z,q){var et=!1,nt=null;return iD(S,b,et,nt,O,D,N,W,Z)}function sD(S,b,O,D,N,W,Z,q,et,nt){var at=!0,pt=iD(O,D,at,S,N,W,Z,q,et);pt.context=rD(null);var vt=pt.current,Ct=kn(),bt=Zl(vt),At=jo(Ct,bt);return At.callback=b??null,Vl(vt,At,bt),vX(pt,bt,Ct),pt}function Fv(S,b,O,D){B6(b,S);var N=b.current,W=kn(),Z=Zl(N);e7(Z);var q=rD(O);b.context===null?b.context=q:b.pendingContext=q,Li&&ue!==null&&!bE&&(bE=!0,n(`Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate.

Check the render method of %s.`,Ft(ue)||"Unknown"));var et=jo(W,Z);et.payload={element:S},D=D===void 0?null:D,D!==null&&(typeof D!="function"&&n("render(...): Expected the last optional `callback` argument to be a function. Instead received: %s.",D),et.callback=D);var nt=Vl(N,et,Z);return nt!==null&&(Ir(nt,N,Z,W),Sm(nt,N,Z)),Z}function f0(S){var b=S.current;if(!b.child)return null;switch(b.child.tag){case l:return b.child.stateNode;default:return b.child.stateNode}}function lH(S){switch(S.tag){case d:{var b=S.stateNode;if(Lg(b)){var O=u7(b);yX(b,O)}break}case y:{tl(function(){var N=Zn(S,Ge);if(N!==null){var W=kn();Ir(N,S,Ge,W)}});var D=Ge;wE(S,D);break}}}function aD(S,b){var O=S.memoizedState;O!==null&&O.dehydrated!==null&&(O.retryLane=g7(O.retryLane,b))}function wE(S,b){aD(S,b);var O=S.alternate;O&&aD(O,b)}function hH(S){if(S.tag===y){var b=yc,O=Zn(S,b);if(O!==null){var D=kn();Ir(O,S,b,D)}wE(S,b)}}function uH(S){if(S.tag===y){var b=Zl(S),O=Zn(S,b);if(O!==null){var D=kn();Ir(O,S,b,D)}wE(S,b)}}function oD(S){var b=w6(S);return b===null?null:b.stateNode}var lD=function(S){return null};function fH(S){return lD(S)}var hD=function(S){return!1};function dH(S){return hD(S)}var uD=null,fD=null,dD=null,cD=null,vD=null,pD=null,gD=null,mD=null,yD=null;{var xD=function(S,b,O){var D=b[O],N=vi(S)?S.slice():He({},S);return O+1===b.length?(vi(N)?N.splice(D,1):delete N[D],N):(N[D]=xD(S[D],b,O+1),N)},TD=function(S,b){return xD(S,b,0)},CD=function(S,b,O,D){var N=b[D],W=vi(S)?S.slice():He({},S);if(D+1===b.length){var Z=O[D];W[Z]=W[N],vi(W)?W.splice(N,1):delete W[N]}else W[N]=CD(S[N],b,O,D+1);return W},SD=function(S,b,O){if(b.length!==O.length){E("copyWithRename() expects paths of the same length");return}else for(var D=0;D<O.length-1;D++)if(b[D]!==O[D]){E("copyWithRename() expects paths to be the same except for the deepest key");return}return CD(S,b,O,0)},ED=function(S,b,O,D){if(O>=b.length)return D;var N=b[O],W=vi(S)?S.slice():He({},S);return W[N]=ED(S[N],b,O+1,D),W},bD=function(S,b,O){return ED(S,b,0,O)},ME=function(S,b){for(var O=S.memoizedState;O!==null&&b>0;)O=O.next,b--;return O};uD=function(S,b,O,D){var N=ME(S,b);if(N!==null){var W=bD(N.memoizedState,O,D);N.memoizedState=W,N.baseState=W,S.memoizedProps=He({},S.memoizedProps);var Z=Zn(S,Ge);Z!==null&&Ir(Z,S,Ge,zi)}},fD=function(S,b,O){var D=ME(S,b);if(D!==null){var N=TD(D.memoizedState,O);D.memoizedState=N,D.baseState=N,S.memoizedProps=He({},S.memoizedProps);var W=Zn(S,Ge);W!==null&&Ir(W,S,Ge,zi)}},dD=function(S,b,O,D){var N=ME(S,b);if(N!==null){var W=SD(N.memoizedState,O,D);N.memoizedState=W,N.baseState=W,S.memoizedProps=He({},S.memoizedProps);var Z=Zn(S,Ge);Z!==null&&Ir(Z,S,Ge,zi)}},cD=function(S,b,O){S.pendingProps=bD(S.memoizedProps,b,O),S.alternate&&(S.alternate.pendingProps=S.pendingProps);var D=Zn(S,Ge);D!==null&&Ir(D,S,Ge,zi)},vD=function(S,b){S.pendingProps=TD(S.memoizedProps,b),S.alternate&&(S.alternate.pendingProps=S.pendingProps);var O=Zn(S,Ge);O!==null&&Ir(O,S,Ge,zi)},pD=function(S,b,O){S.pendingProps=SD(S.memoizedProps,b,O),S.alternate&&(S.alternate.pendingProps=S.pendingProps);var D=Zn(S,Ge);D!==null&&Ir(D,S,Ge,zi)},gD=function(S){var b=Zn(S,Ge);b!==null&&Ir(b,S,Ge,zi)},mD=function(S){lD=S},yD=function(S){hD=S}}function cH(S){var b=tA(S);return b===null?null:b.stateNode}function vH(S){return null}function pH(){return ue}function gH(S){var b=S.findFiberByHostInstance,O=i.ReactCurrentDispatcher;return I6({bundleType:S.bundleType,version:S.version,rendererPackageName:S.rendererPackageName,rendererConfig:S.rendererConfig,overrideHookState:uD,overrideHookStateDeletePath:fD,overrideHookStateRenamePath:dD,overrideProps:cD,overridePropsDeletePath:vD,overridePropsRenamePath:pD,setErrorHandler:mD,setSuspenseHandler:yD,scheduleUpdate:gD,currentDispatcherRef:O,findHostInstanceByFiber:cH,findFiberByHostInstance:b||vH,findHostInstancesForRefresh:$X,scheduleRefresh:XX,scheduleRoot:HX,setRefreshHandler:YX,getCurrentFiber:pH,reconcilerVersion:EE})}var PD=typeof reportError=="function"?reportError:function(S){console.error(S)};function RE(S){this._internalRoot=S}d0.prototype.render=RE.prototype.render=function(S){var b=this._internalRoot;if(b===null)throw new Error("Cannot update an unmounted root.");{typeof arguments[1]=="function"?n("render(...): does not support the second callback argument. To execute a side effect after rendering, declare it in a component body with useEffect()."):c0(arguments[1])?n("You passed a container to the second argument of root.render(...). You don't need to pass it again since you already passed it to create the root."):typeof arguments[1]<"u"&&n("You passed a second argument to root.render(...) but it only accepts one argument.");var O=b.containerInfo;if(O.nodeType!==mr){var D=oD(b.current);D&&D.parentNode!==O&&n("render(...): It looks like the React-rendered content of the root container was removed without using React. This is not supported and will cause errors. Instead, call root.unmount() to empty a root's container.")}}Fv(S,b,null,null)},d0.prototype.unmount=RE.prototype.unmount=function(){typeof arguments[0]=="function"&&n("unmount(...): does not support a callback argument. To execute a side effect after rendering, declare it in a component body with useEffect().");var S=this._internalRoot;if(S!==null){this._internalRoot=null;var b=S.containerInfo;k2()&&n("Attempted to synchronously unmount a root while React was already rendering. React cannot finish unmounting the root until the current render has completed, which may lead to a race condition."),tl(function(){Fv(null,S,null,null)}),PO(b)}};function mH(S,b){if(!c0(S))throw new Error("createRoot(...): Target container is not a DOM element.");wD(S);var O=!1,D=!1,N="",W=PD;b!=null&&(b.hydrate?E("hydrate through createRoot is deprecated. Use ReactDOMClient.hydrateRoot(container, <App />) instead."):typeof b=="object"&&b!==null&&b.$$typeof===Me&&n(`You passed a JSX element to createRoot. You probably meant to call root.render instead. Example usage:

  let root = createRoot(domContainer);
  root.render(<App />);`),b.unstable_strictMode===!0&&(O=!0),b.identifierPrefix!==void 0&&(N=b.identifierPrefix),b.onRecoverableError!==void 0&&(W=b.onRecoverableError),b.transitionCallbacks!==void 0&&b.transitionCallbacks);var Z=nD(S,om,null,O,D,N,W);tm(Z.current,S);var q=S.nodeType===mr?S.parentNode:S;return Uc(q),new RE(Z)}function d0(S){this._internalRoot=S}function yH(S){S&&F7(S)}d0.prototype.unstable_scheduleHydration=yH;function xH(S,b,O){if(!c0(S))throw new Error("hydrateRoot(...): Target container is not a DOM element.");wD(S),b===void 0&&n("Must provide initial children as second argument to hydrateRoot. Example usage: hydrateRoot(domContainer, <App />)");var D=O??null,N=O!=null&&O.hydratedSources||null,W=!1,Z=!1,q="",et=PD;O!=null&&(O.unstable_strictMode===!0&&(W=!0),O.identifierPrefix!==void 0&&(q=O.identifierPrefix),O.onRecoverableError!==void 0&&(et=O.onRecoverableError));var nt=sD(b,null,S,om,D,W,Z,q,et);if(tm(nt.current,S),Uc(S),N)for(var at=0;at<N.length;at++){var pt=N[at];EW(nt,pt)}return new d0(nt)}function c0(S){return!!(S&&(S.nodeType===$n||S.nodeType===ko||S.nodeType===BT||!J))}function Iv(S){return!!(S&&(S.nodeType===$n||S.nodeType===ko||S.nodeType===BT||S.nodeType===mr&&S.nodeValue===" react-mount-point-unstable "))}function wD(S){S.nodeType===$n&&S.tagName&&S.tagName.toUpperCase()==="BODY"&&n("createRoot(): Creating roots directly with document.body is discouraged, since its children are often manipulated by third-party scripts and browser extensions. This may lead to subtle reconciliation issues. Try using a container element created for your app."),jc(S)&&(S._reactRootContainer?n("You are calling ReactDOMClient.createRoot() on a container that was previously passed to ReactDOM.render(). This is not supported."):n("You are calling ReactDOMClient.createRoot() on a container that has already been passed to createRoot() before. Instead, call root.render() on the existing root instead if you want to update it."))}var TH=i.ReactCurrentOwner,MD;MD=function(S){if(S._reactRootContainer&&S.nodeType!==mr){var b=oD(S._reactRootContainer.current);b&&b.parentNode!==S&&n("render(...): It looks like the React-rendered content of this container was removed without using React. This is not supported and will cause errors. Instead, call ReactDOM.unmountComponentAtNode to empty a container.")}var O=!!S._reactRootContainer,D=AE(S),N=!!(D&&Bl(D));N&&!O&&n("render(...): Replacing React-rendered children with a new root component. If you intended to update the children of this node, you should instead have the existing children update their state and render the new components instead of calling ReactDOM.render."),S.nodeType===$n&&S.tagName&&S.tagName.toUpperCase()==="BODY"&&n("render(): Rendering components directly into document.body is discouraged, since its children are often manipulated by third-party scripts and browser extensions. This may lead to subtle reconciliation issues. Try rendering into a container element created for your app.")};function AE(S){return S?S.nodeType===ko?S.documentElement:S.firstChild:null}function RD(){}function CH(S,b,O,D,N){if(N){if(typeof D=="function"){var W=D;D=function(){var vt=f0(Z);W.call(vt)}}var Z=sD(b,D,S,kl,null,!1,!1,"",RD);S._reactRootContainer=Z,tm(Z.current,S);var q=S.nodeType===mr?S.parentNode:S;return Uc(q),tl(),Z}else{for(var et;et=S.lastChild;)S.removeChild(et);if(typeof D=="function"){var nt=D;D=function(){var vt=f0(at);nt.call(vt)}}var at=nD(S,kl,null,!1,!1,"",RD);S._reactRootContainer=at,tm(at.current,S);var pt=S.nodeType===mr?S.parentNode:S;return Uc(pt),tl(function(){Fv(b,at,O,D)}),at}}function SH(S,b){S!==null&&typeof S!="function"&&n("%s(...): Expected the last optional `callback` argument to be a function. Instead received: %s.",b,S)}function v0(S,b,O,D,N){MD(O),SH(N===void 0?null:N,"render");var W=O._reactRootContainer,Z;if(!W)Z=CH(O,b,S,N,D);else{if(Z=W,typeof N=="function"){var q=N;N=function(){var et=f0(Z);q.call(et)}}Fv(b,Z,S,N)}return f0(Z)}var AD=!1;function EH(S){{AD||(AD=!0,n("findDOMNode is deprecated and will be removed in the next major release. Instead, add a ref directly to the element you want to reference. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-find-node"));var b=TH.current;if(b!==null&&b.stateNode!==null){var O=b.stateNode._warnedAboutRefsInRender;O||n("%s is accessing findDOMNode inside its render(). render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",ie(b.type)||"A component"),b.stateNode._warnedAboutRefsInRender=!0}}return S==null?null:S.nodeType===$n?S:oH(S,"findDOMNode")}function bH(S,b,O){if(n("ReactDOM.hydrate is no longer supported in React 18. Use hydrateRoot instead. Until you switch to the new API, your app will behave as if it's running React 17. Learn more: https://reactjs.org/link/switch-to-createroot"),!Iv(b))throw new Error("Target container is not a DOM element.");{var D=jc(b)&&b._reactRootContainer===void 0;D&&n("You are calling ReactDOM.hydrate() on a container that was previously passed to ReactDOMClient.createRoot(). This is not supported. Did you mean to call hydrateRoot(container, element)?")}return v0(null,S,b,!0,O)}function PH(S,b,O){if(n("ReactDOM.render is no longer supported in React 18. Use createRoot instead. Until you switch to the new API, your app will behave as if it's running React 17. Learn more: https://reactjs.org/link/switch-to-createroot"),!Iv(b))throw new Error("Target container is not a DOM element.");{var D=jc(b)&&b._reactRootContainer===void 0;D&&n("You are calling ReactDOM.render() on a container that was previously passed to ReactDOMClient.createRoot(). This is not supported. Did you mean to call root.render(element)?")}return v0(null,S,b,!1,O)}function wH(S,b,O,D){if(n("ReactDOM.unstable_renderSubtreeIntoContainer() is no longer supported in React 18. Consider using a portal instead. Until you switch to the createRoot API, your app will behave as if it's running React 17. Learn more: https://reactjs.org/link/switch-to-createroot"),!Iv(O))throw new Error("Target container is not a DOM element.");if(S==null||!x6(S))throw new Error("parentComponent must be a valid React Component");return v0(S,b,O,!1,D)}var OD=!1;function MH(S){if(OD||(OD=!0,n("unmountComponentAtNode is deprecated and will be removed in the next major release. Switch to the createRoot API. Learn more: https://reactjs.org/link/switch-to-createroot")),!Iv(S))throw new Error("unmountComponentAtNode(...): Target container is not a DOM element.");{var b=jc(S)&&S._reactRootContainer===void 0;b&&n("You are calling ReactDOM.unmountComponentAtNode() on a container that was previously passed to ReactDOMClient.createRoot(). This is not supported. Did you mean to call root.unmount()?")}if(S._reactRootContainer){{var O=AE(S),D=O&&!Bl(O);D&&n("unmountComponentAtNode(): The node you're attempting to unmount was rendered by another copy of React.")}return tl(function(){v0(null,null,S,!1,function(){S._reactRootContainer=null,PO(S)})}),!0}else{{var N=AE(S),W=!!(N&&Bl(N)),Z=S.nodeType===$n&&Iv(S.parentNode)&&!!S.parentNode._reactRootContainer;W&&n("unmountComponentAtNode(): The node you're attempting to unmount was rendered by React and is not a top-level container. %s",Z?"You may have accidentally passed in a React root node instead of its container.":"Instead, have the parent component update its state and rerender in order to remove this component.")}return!1}}E7(lH),P7(hH),w7(uH),M7(ca),R7(T7),(typeof Map!="function"||Map.prototype==null||typeof Map.prototype.forEach!="function"||typeof Set!="function"||Set.prototype==null||typeof Set.prototype.clear!="function"||typeof Set.prototype.forEach!="function")&&n("React depends on Map and Set built-in types. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),l6(AV),f6(aE,xX,tl);function RH(S,b){var O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!c0(b))throw new Error("Target container is not a DOM element.");return aH(S,b,null,O)}function AH(S,b,O,D){return wH(S,b,O,D)}var OE={usingClientEntryPoint:!1,Events:[Bl,wf,em,WR,YR,aE]};function OH(S,b){return OE.usingClientEntryPoint||n('You are importing createRoot from "react-dom" which is not supported. You should instead import it from "react-dom/client".'),mH(S,b)}function LH(S,b,O){return OE.usingClientEntryPoint||n('You are importing hydrateRoot from "react-dom" which is not supported. You should instead import it from "react-dom/client".'),xH(S,b,O)}function DH(S){return k2()&&n("flushSync was called from inside a lifecycle method. React cannot flush when React is already rendering. Consider moving this call to a scheduler task or micro task."),tl(S)}var FH=gH({findFiberByHostInstance:tu,bundleType:1,version:EE,rendererPackageName:"react-dom"});if(!FH&&ft&&window.top===window.self&&(navigator.userAgent.indexOf("Chrome")>-1&&navigator.userAgent.indexOf("Edge")===-1||navigator.userAgent.indexOf("Firefox")>-1)){var LD=window.location.protocol;/^(https?|file):$/.test(LD)&&console.info("%cDownload the React DevTools for a better development experience: https://reactjs.org/link/react-devtools"+(LD==="file:"?`
You might need to use a local HTTP server (instead of file://): https://reactjs.org/link/react-devtools-faq`:""),"font-weight:bold")}Rs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=OE,Rs.createPortal=RH,Rs.createRoot=OH,Rs.findDOMNode=EH,Rs.flushSync=DH,Rs.hydrate=bH,Rs.hydrateRoot=LH,Rs.render=PH,Rs.unmountComponentAtNode=MH,Rs.unstable_batchedUpdates=aE,Rs.unstable_renderSubtreeIntoContainer=AH,Rs.version=EE,typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error)})();R4.exports=Rs;var XH=R4.exports,LE=XH;{var p0=LE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;RP.createRoot=function(e,t){p0.usingClientEntryPoint=!0;try{return LE.createRoot(e,t)}finally{p0.usingClientEntryPoint=!1}},RP.hydrateRoot=function(e,t,i){p0.usingClientEntryPoint=!0;try{return LE.hydrateRoot(e,t,i)}finally{p0.usingClientEntryPoint=!1}}}var L4={exports:{}};(function(e,t){(function(s,p){e.exports=p()})(P4,()=>(()=>{var i={50792:n=>{var T=Object.prototype.hasOwnProperty,r="~";function o(){}Object.create&&(o.prototype=Object.create(null),new o().__proto__||(r=!1));function x(a,f,c){this.fn=a,this.context=f,this.once=c||!1}function d(a,f,c,u,v){if(typeof c!="function")throw new TypeError("The listener must be a function");var g=new x(c,u||a,v),m=r?r+f:f;return a._events[m]?a._events[m].fn?a._events[m]=[a._events[m],g]:a._events[m].push(g):(a._events[m]=g,a._eventsCount++),a}function h(a,f){--a._eventsCount===0?a._events=new o:delete a._events[f]}function l(){this._events=new o,this._eventsCount=0}l.prototype.eventNames=function(){var f=[],c,u;if(this._eventsCount===0)return f;for(u in c=this._events)T.call(c,u)&&f.push(r?u.slice(1):u);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(c)):f},l.prototype.listeners=function(f){var c=r?r+f:f,u=this._events[c];if(!u)return[];if(u.fn)return[u.fn];for(var v=0,g=u.length,m=new Array(g);v<g;v++)m[v]=u[v].fn;return m},l.prototype.listenerCount=function(f){var c=r?r+f:f,u=this._events[c];return u?u.fn?1:u.length:0},l.prototype.emit=function(f,c,u,v,g,m){var y=r?r+f:f;if(!this._events[y])return!1;var C=this._events[y],P=arguments.length,w,M;if(C.fn){switch(C.once&&this.removeListener(f,C.fn,void 0,!0),P){case 1:return C.fn.call(C.context),!0;case 2:return C.fn.call(C.context,c),!0;case 3:return C.fn.call(C.context,c,u),!0;case 4:return C.fn.call(C.context,c,u,v),!0;case 5:return C.fn.call(C.context,c,u,v,g),!0;case 6:return C.fn.call(C.context,c,u,v,g,m),!0}for(M=1,w=new Array(P-1);M<P;M++)w[M-1]=arguments[M];C.fn.apply(C.context,w)}else{var R=C.length,A;for(M=0;M<R;M++)switch(C[M].once&&this.removeListener(f,C[M].fn,void 0,!0),P){case 1:C[M].fn.call(C[M].context);break;case 2:C[M].fn.call(C[M].context,c);break;case 3:C[M].fn.call(C[M].context,c,u);break;case 4:C[M].fn.call(C[M].context,c,u,v);break;default:if(!w)for(A=1,w=new Array(P-1);A<P;A++)w[A-1]=arguments[A];C[M].fn.apply(C[M].context,w)}}return!0},l.prototype.on=function(f,c,u){return d(this,f,c,u,!1)},l.prototype.once=function(f,c,u){return d(this,f,c,u,!0)},l.prototype.removeListener=function(f,c,u,v){var g=r?r+f:f;if(!this._events[g])return this;if(!c)return h(this,g),this;var m=this._events[g];if(m.fn)m.fn===c&&(!v||m.once)&&(!u||m.context===u)&&h(this,g);else{for(var y=0,C=[],P=m.length;y<P;y++)(m[y].fn!==c||v&&!m[y].once||u&&m[y].context!==u)&&C.push(m[y]);C.length?this._events[g]=C.length===1?C[0]:C:h(this,g)}return this},l.prototype.removeAllListeners=function(f){var c;return f?(c=r?r+f:f,this._events[c]&&h(this,c)):(this._events=new o,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,n.exports=l},11517:(n,T,r)=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(38829),x=function(d,h,l,a){for(var f=d[0],c=1;c<d.length;c++){var u=d[c];o(u,f,h,l,a),f=u}return d};n.exports=x},80318:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(66979),x=function(d,h,l,a,f){return o(d,"angle",h,l,a,f)};n.exports=x},60757:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){for(var d=0;d<r.length;d++){var h=r[d];o.call(x,h)}return r};n.exports=T},69927:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){x===void 0&&(x=0);for(var d=x;d<r.length;d++){var h=r[d],l=!0;for(var a in o)h[a]!==o[a]&&(l=!1);if(l)return h}return null};n.exports=T},32265:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){x===void 0&&(x=0);for(var d=r.length-1;d>=x;d--){var h=r[d],l=!0;for(var a in o)h[a]!==o[a]&&(l=!1);if(l)return h}return null};n.exports=T},94420:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(11879),x=r(60461),d=r(95540),h=r(29747),l=r(41481),a=new l({sys:{queueDepthSort:h,events:{once:h}}},0,0,1,1).setOrigin(0,0),f=function(c,u){u===void 0&&(u={});var v=u.hasOwnProperty("width"),g=u.hasOwnProperty("height"),m=d(u,"width",-1),y=d(u,"height",-1),C=d(u,"cellWidth",1),P=d(u,"cellHeight",C),w=d(u,"position",x.TOP_LEFT),M=d(u,"x",0),R=d(u,"y",0),A=0,L=0,F=m*C,G=y*P;a.setPosition(M,R),a.setSize(C,P);for(var I=0;I<c.length;I++)if(o(c[I],a,w),v&&m===-1)a.x+=C;else if(g&&y===-1)a.y+=P;else if(g&&!v){if(L+=P,a.y+=P,L===G&&(L=0,A+=C,a.y=R,a.x+=C,A===F))break}else if(A+=C,a.x+=C,A===F&&(A=0,L+=P,a.x=M,a.y+=P,L===G))break;return c};n.exports=f},41721:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(66979),x=function(d,h,l,a,f){return o(d,"alpha",h,l,a,f)};n.exports=x},67285:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(66979),x=function(d,h,l,a,f){return o(d,"x",h,l,a,f)};n.exports=x},9074:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(66979),x=function(d,h,l,a,f,c,u){return l==null&&(l=h),o(d,"x",h,a,c,u),o(d,"y",l,f,c,u)};n.exports=x},75222:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(66979),x=function(d,h,l,a,f){return o(d,"y",h,l,a,f)};n.exports=x},22983:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d){x===void 0&&(x=0),d===void 0&&(d=6.28);for(var h=x,l=(d-x)/r.length,a=o.x,f=o.y,c=o.radius,u=0;u<r.length;u++)r[u].x=a+c*Math.cos(h),r[u].y=f+c*Math.sin(h),h+=l;return r};n.exports=T},95253:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d){x===void 0&&(x=0),d===void 0&&(d=6.28);for(var h=x,l=(d-x)/r.length,a=o.width/2,f=o.height/2,c=0;c<r.length;c++)r[c].x=o.x+a*Math.cos(h),r[c].y=o.y+f*Math.sin(h),h+=l;return r};n.exports=T},88505:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(15258),x=r(26708),d=function(h,l,a){var f;a?f=x(l,a,h.length):f=o(l,h.length);for(var c=0;c<h.length;c++){var u=h[c],v=f[c];u.x=v.x,u.y=v.y}return h};n.exports=d},41346:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(14649),x=r(86003),d=r(49498),h=function(l,a,f){f===void 0&&(f=0);var c=o(a,!1,l.length);f>0?x(c,f):f<0&&d(c,Math.abs(f));for(var u=0;u<l.length;u++)l[u].x=c[u].x,l[u].y=c[u].y;return l};n.exports=h},11575:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(84993),x=function(d,h,l){var a=o({x1:h.x1,y1:h.y1,x2:h.x2,y2:h.y2},l),f=o({x1:h.x2,y1:h.y2,x2:h.x3,y2:h.y3},l),c=o({x1:h.x3,y1:h.y3,x2:h.x1,y2:h.y1},l);a.pop(),f.pop(),c.pop(),a=a.concat(f,c);for(var u=a.length/d.length,v=0,g=0;g<d.length;g++){var m=d[g],y=a[Math.floor(v)];m.x=y.x,m.y=y.y,v+=u}return d};n.exports=x},29953:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){for(var d=0;d<r.length;d++){var h=r[d];h.anims&&h.anims.play(o,x)}return r};n.exports=T},66979:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d,h,l){d===void 0&&(d=0),h===void 0&&(h=0),l===void 0&&(l=1);var a,f=0,c=r.length;if(l===1)for(a=h;a<c;a++)r[a][o]+=x+f*d,f++;else for(a=h;a>=0;a--)r[a][o]+=x+f*d,f++;return r};n.exports=T},43967:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d,h,l){d===void 0&&(d=0),h===void 0&&(h=0),l===void 0&&(l=1);var a,f=0,c=r.length;if(l===1)for(a=h;a<c;a++)r[a][o]=x+f*d,f++;else for(a=h;a>=0;a--)r[a][o]=x+f*d,f++;return r};n.exports=T},88926:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(28176),x=function(d,h){for(var l=0;l<d.length;l++)o(h,d[l]);return d};n.exports=x},33286:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(24820),x=function(d,h){for(var l=0;l<d.length;l++)o(h,d[l]);return d};n.exports=x},96e3:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(65822),x=function(d,h){for(var l=0;l<d.length;l++)o(h,d[l]);return d};n.exports=x},28789:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(26597),x=function(d,h){for(var l=0;l<d.length;l++)o(h,d[l]);return d};n.exports=x},97154:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(90260),x=function(d,h){for(var l=0;l<d.length;l++)o(h,d[l]);return d};n.exports=x},20510:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(66979),x=function(d,h,l,a,f){return o(d,"rotation",h,l,a,f)};n.exports=x},91051:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(1163),x=r(20339),d=function(h,l,a){for(var f=l.x,c=l.y,u=0;u<h.length;u++){var v=h[u];o(v,f,c,a,Math.max(1,x(v.x,v.y,f,c)))}return h};n.exports=d},76332:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(1163),x=function(d,h,l,a){var f=h.x,c=h.y;if(a===0)return d;for(var u=0;u<d.length;u++)o(d[u],f,c,l,a);return d};n.exports=x},61619:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(66979),x=function(d,h,l,a,f){return o(d,"scaleX",h,l,a,f)};n.exports=x},94868:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(66979),x=function(d,h,l,a,f,c,u){return l==null&&(l=h),o(d,"scaleX",h,a,c,u),o(d,"scaleY",l,f,c,u)};n.exports=x},95532:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(66979),x=function(d,h,l,a,f){return o(d,"scaleY",h,l,a,f)};n.exports=x},8689:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(43967),x=function(d,h,l,a,f){return o(d,"alpha",h,l,a,f)};n.exports=x},2645:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(43967),x=function(d,h,l,a){return o(d,"blendMode",h,0,l,a)};n.exports=x},32372:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(43967),x=function(d,h,l,a,f){return o(d,"depth",h,l,a,f)};n.exports=x},85373:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){for(var d=0;d<r.length;d++)r[d].setInteractive(o,x);return r};n.exports=T},81583:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(43967),x=function(d,h,l,a,f,c,u){return l==null&&(l=h),o(d,"originX",h,a,c,u),o(d,"originY",l,f,c,u),d.forEach(function(v){v.updateDisplayOrigin()}),d};n.exports=x},79939:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(43967),x=function(d,h,l,a,f){return o(d,"rotation",h,l,a,f)};n.exports=x},2699:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(43967),x=function(d,h,l,a,f,c,u){return l==null&&(l=h),o(d,"scaleX",h,a,c,u),o(d,"scaleY",l,f,c,u)};n.exports=x},98739:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(43967),x=function(d,h,l,a,f){return o(d,"scaleX",h,l,a,f)};n.exports=x},98476:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(43967),x=function(d,h,l,a,f){return o(d,"scaleY",h,l,a,f)};n.exports=x},6207:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(43967),x=function(d,h,l,a,f,c,u){return l==null&&(l=h),o(d,"scrollFactorX",h,a,c,u),o(d,"scrollFactorY",l,f,c,u)};n.exports=x},6607:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(43967),x=function(d,h,l,a,f){return o(d,"scrollFactorX",h,l,a,f)};n.exports=x},72248:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(43967),x=function(d,h,l,a,f){return o(d,"scrollFactorY",h,l,a,f)};n.exports=x},14036:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d,h){for(var l=0;l<r.length;l++)r[l].setTint(o,x,d,h);return r};n.exports=T},50159:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(43967),x=function(d,h,l,a){return o(d,"visible",h,0,l,a)};n.exports=x},77597:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(43967),x=function(d,h,l,a,f){return o(d,"x",h,l,a,f)};n.exports=x},83194:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(43967),x=function(d,h,l,a,f,c,u){return l==null&&(l=h),o(d,"x",h,a,c,u),o(d,"y",l,f,c,u)};n.exports=x},67678:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(43967),x=function(d,h,l,a,f){return o(d,"y",h,l,a,f)};n.exports=x},35850:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(26099),x=function(d,h,l,a,f){a===void 0&&(a=0),f===void 0&&(f=new o);var c,u,v=d.length;if(v===1)c=d[0].x,u=d[0].y,d[0].x=h,d[0].y=l;else{var g=1,m=0;a===0&&(m=v-1,g=v-2),c=d[m].x,u=d[m].y,d[m].x=h,d[m].y=l;for(var y=0;y<v;y++)if(!(g>=v||g===-1)){var C=d[g],P=C.x,w=C.y;C.x=c,C.y=u,c=P,u=w,a===0?g--:g++}}return f.x=c,f.y=u,f};n.exports=x},8628:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(33680),x=function(d){return o(d)};n.exports=x},21837:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(7602),x=function(d,h,l,a,f){f===void 0&&(f=!1);var c=Math.abs(a-l)/d.length,u;if(f)for(u=0;u<d.length;u++)d[u][h]+=o(u*c,l,a);else for(u=0;u<d.length;u++)d[u][h]=o(u*c,l,a);return d};n.exports=x},21910:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(54261),x=function(d,h,l,a,f){f===void 0&&(f=!1);var c=Math.abs(a-l)/d.length,u;if(f)for(u=0;u<d.length;u++)d[u][h]+=o(u*c,l,a);else for(u=0;u<d.length;u++)d[u][h]=o(u*c,l,a);return d};n.exports=x},62054:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d,h){if(h===void 0&&(h=!1),r.length===0)return r;if(r.length===1)return h?r[0][o]+=(d+x)/2:r[0][o]=(d+x)/2,r;var l=Math.abs(d-x)/(r.length-1),a;if(h)for(a=0;a<r.length;a++)r[a][o]+=a*l+x;else for(a=0;a<r.length;a++)r[a][o]=a*l+x;return r};n.exports=T},79815:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){for(var o=0;o<r.length;o++)r[o].visible=!r[o].visible;return r};n.exports=T},39665:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       samme <samme.npm@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(15994),x=function(d,h,l){l===void 0&&(l=0);for(var a=0;a<d.length;a++){var f=d[a];f.x=o(f.x,h.left-l,h.right+l),f.y=o(f.y,h.top-l,h.bottom+l)}return d};n.exports=x},61061:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={AlignTo:r(11517),Angle:r(80318),Call:r(60757),GetFirst:r(69927),GetLast:r(32265),GridAlign:r(94420),IncAlpha:r(41721),IncX:r(67285),IncXY:r(9074),IncY:r(75222),PlaceOnCircle:r(22983),PlaceOnEllipse:r(95253),PlaceOnLine:r(88505),PlaceOnRectangle:r(41346),PlaceOnTriangle:r(11575),PlayAnimation:r(29953),PropertyValueInc:r(66979),PropertyValueSet:r(43967),RandomCircle:r(88926),RandomEllipse:r(33286),RandomLine:r(96e3),RandomRectangle:r(28789),RandomTriangle:r(97154),Rotate:r(20510),RotateAround:r(91051),RotateAroundDistance:r(76332),ScaleX:r(61619),ScaleXY:r(94868),ScaleY:r(95532),SetAlpha:r(8689),SetBlendMode:r(2645),SetDepth:r(32372),SetHitArea:r(85373),SetOrigin:r(81583),SetRotation:r(79939),SetScale:r(2699),SetScaleX:r(98739),SetScaleY:r(98476),SetScrollFactor:r(6207),SetScrollFactorX:r(6607),SetScrollFactorY:r(72248),SetTint:r(14036),SetVisible:r(50159),SetX:r(77597),SetXY:r(83194),SetY:r(67678),ShiftPosition:r(35850),Shuffle:r(8628),SmootherStep:r(21910),SmoothStep:r(21837),Spread:r(62054),ToggleVisible:r(79815),WrapInRectangle:r(39665)}},42099:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(45319),x=r(83419),d=r(74943),h=r(81957),l=r(41138),a=r(35154),f=r(90126),c=new x({initialize:function(v,g,m){this.manager=v,this.key=g,this.type="frame",this.frames=this.getFrames(v.textureManager,a(m,"frames",[]),a(m,"defaultTextureKey",null),a(m,"sortFrames",!0)),this.frameRate=a(m,"frameRate",null),this.duration=a(m,"duration",null),this.msPerFrame,this.skipMissedFrames=a(m,"skipMissedFrames",!0),this.delay=a(m,"delay",0),this.repeat=a(m,"repeat",0),this.repeatDelay=a(m,"repeatDelay",0),this.yoyo=a(m,"yoyo",!1),this.showBeforeDelay=a(m,"showBeforeDelay",!1),this.showOnStart=a(m,"showOnStart",!1),this.hideOnComplete=a(m,"hideOnComplete",!1),this.randomFrame=a(m,"randomFrame",!1),this.paused=!1,this.calculateDuration(this,this.getTotalFrames(),this.duration,this.frameRate),this.manager.on&&(this.manager.on(d.PAUSE_ALL,this.pause,this),this.manager.on(d.RESUME_ALL,this.resume,this))},getTotalFrames:function(){return this.frames.length},calculateDuration:function(u,v,g,m){g===null&&m===null?(u.frameRate=24,u.duration=24/v*1e3):g&&m===null?(u.duration=g,u.frameRate=v/(g/1e3)):(u.frameRate=m,u.duration=v/m*1e3),u.msPerFrame=1e3/u.frameRate},addFrame:function(u){return this.addFrameAt(this.frames.length,u)},addFrameAt:function(u,v){var g=this.getFrames(this.manager.textureManager,v);if(g.length>0){if(u===0)this.frames=g.concat(this.frames);else if(u===this.frames.length)this.frames=this.frames.concat(g);else{var m=this.frames.slice(0,u),y=this.frames.slice(u);this.frames=m.concat(g,y)}this.updateFrameSequence()}return this},checkFrame:function(u){return u>=0&&u<this.frames.length},getFirstTick:function(u){u.accumulator=0,u.nextTick=u.msPerFrame||u.currentFrame.duration},getFrameAt:function(u){return this.frames[u]},getFrames:function(u,v,g,m){m===void 0&&(m=!0);var y=[],C,P,w=1,M,R;if(typeof v=="string"){if(R=v,!u.exists(R))return console.warn('Texture "%s" not found',R),y;var A=u.get(R),L=A.getFrameNames();m&&f(L),v=[],L.forEach(function(U){v.push({key:R,frame:U})})}if(!Array.isArray(v)||v.length===0)return y;for(M=0;M<v.length;M++){var F=v[M],G=a(F,"key",g);if(G){var I=a(F,"frame",0),B=u.getFrame(G,I);if(!B){console.warn('Texture "%s" not found',G);continue}P=new l(G,I,w,B),P.duration=a(F,"duration",0),P.isFirst=!C,C&&(C.nextFrame=P,P.prevFrame=C),y.push(P),C=P,w++}}if(y.length>0){P.isLast=!0,P.nextFrame=y[0],y[0].prevFrame=P;var k=1/(y.length-1);for(M=0;M<y.length;M++)y[M].progress=M*k}return y},getNextTick:function(u){u.accumulator-=u.nextTick,u.nextTick=u.msPerFrame||u.currentFrame.duration},getFrameByProgress:function(u){return u=o(u,0,1),h(u,this.frames,"progress")},nextFrame:function(u){var v=u.currentFrame;v.isLast?u.yoyo?this.handleYoyoFrame(u,!1):u.repeatCounter>0?u.inReverse&&u.forward?u.forward=!1:this.repeatAnimation(u):u.complete():this.updateAndGetNextTick(u,v.nextFrame)},handleYoyoFrame:function(u,v){if(v||(v=!1),u.inReverse===!v&&u.repeatCounter>0){(u.repeatDelay===0||u.pendingRepeat)&&(u.forward=v),this.repeatAnimation(u);return}if(u.inReverse!==v&&u.repeatCounter===0){u.complete();return}u.forward=v;var g=v?u.currentFrame.nextFrame:u.currentFrame.prevFrame;this.updateAndGetNextTick(u,g)},getLastFrame:function(){return this.frames[this.frames.length-1]},previousFrame:function(u){var v=u.currentFrame;v.isFirst?u.yoyo?this.handleYoyoFrame(u,!0):u.repeatCounter>0?u.inReverse&&!u.forward?this.repeatAnimation(u):(u.forward=!0,this.repeatAnimation(u)):u.complete():this.updateAndGetNextTick(u,v.prevFrame)},updateAndGetNextTick:function(u,v){u.setCurrentFrame(v),this.getNextTick(u)},removeFrame:function(u){var v=this.frames.indexOf(u);return v!==-1&&this.removeFrameAt(v),this},removeFrameAt:function(u){return this.frames.splice(u,1),this.updateFrameSequence(),this},repeatAnimation:function(u){if(u._pendingStop===2){if(u._pendingStopValue===0)return u.stop();u._pendingStopValue--}u.repeatDelay>0&&!u.pendingRepeat?(u.pendingRepeat=!0,u.accumulator-=u.nextTick,u.nextTick+=u.repeatDelay):(u.repeatCounter--,u.forward?u.setCurrentFrame(u.currentFrame.nextFrame):u.setCurrentFrame(u.currentFrame.prevFrame),u.isPlaying&&(this.getNextTick(u),u.handleRepeat()))},toJSON:function(){var u={key:this.key,type:this.type,frames:[],frameRate:this.frameRate,duration:this.duration,skipMissedFrames:this.skipMissedFrames,delay:this.delay,repeat:this.repeat,repeatDelay:this.repeatDelay,yoyo:this.yoyo,showBeforeDelay:this.showBeforeDelay,showOnStart:this.showOnStart,randomFrame:this.randomFrame,hideOnComplete:this.hideOnComplete};return this.frames.forEach(function(v){u.frames.push(v.toJSON())}),u},updateFrameSequence:function(){for(var u=this.frames.length,v=1/(u-1),g,m=0;m<u;m++)g=this.frames[m],g.index=m+1,g.isFirst=!1,g.isLast=!1,g.progress=m*v,m===0?(g.isFirst=!0,u===1?(g.isLast=!0,g.nextFrame=g,g.prevFrame=g):(g.isLast=!1,g.prevFrame=this.frames[u-1],g.nextFrame=this.frames[m+1])):m===u-1&&u>1?(g.isLast=!0,g.prevFrame=this.frames[u-2],g.nextFrame=this.frames[0]):u>1&&(g.prevFrame=this.frames[m-1],g.nextFrame=this.frames[m+1]);return this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},destroy:function(){this.manager.off&&(this.manager.off(d.PAUSE_ALL,this.pause,this),this.manager.off(d.RESUME_ALL,this.resume,this)),this.manager.remove(this.key);for(var u=0;u<this.frames.length;u++)this.frames[u].destroy();this.frames=[],this.manager=null}});n.exports=c},41138:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=new o({initialize:function(h,l,a,f,c){c===void 0&&(c=!1),this.textureKey=h,this.textureFrame=l,this.index=a,this.frame=f,this.isFirst=!1,this.isLast=!1,this.prevFrame=null,this.nextFrame=null,this.duration=0,this.progress=0,this.isKeyFrame=c},toJSON:function(){return{key:this.textureKey,frame:this.textureFrame,duration:this.duration,keyframe:this.isKeyFrame}},destroy:function(){this.frame=void 0}});n.exports=x},60848:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(42099),x=r(83419),d=r(90330),h=r(50792),l=r(74943),a=r(8443),f=r(95540),c=r(35154),u=r(36383),v=r(20283),g=r(41836),m=new x({Extends:h,initialize:function(C){h.call(this),this.game=C,this.textureManager=null,this.globalTimeScale=1,this.anims=new d,this.mixes=new d,this.paused=!1,this.name="AnimationManager",C.events.once(a.BOOT,this.boot,this)},boot:function(){this.textureManager=this.game.textures,this.game.events.once(a.DESTROY,this.destroy,this)},addMix:function(y,C,P){var w=this.anims,M=this.mixes,R=typeof y=="string"?y:y.key,A=typeof C=="string"?C:C.key;if(w.has(R)&&w.has(A)){var L=M.get(R);L||(L={}),L[A]=P,M.set(R,L)}return this},removeMix:function(y,C){var P=this.mixes,w=typeof y=="string"?y:y.key,M=P.get(w);if(M)if(C){var R=typeof C=="string"?C:C.key;M.hasOwnProperty(R)&&delete M[R]}else C||P.delete(w);return this},getMix:function(y,C){var P=this.mixes,w=typeof y=="string"?y:y.key,M=typeof C=="string"?C:C.key,R=P.get(w);return R&&R.hasOwnProperty(M)?R[M]:0},add:function(y,C){return this.anims.has(y)?(console.warn("Animation key exists: "+y),this):(C.key=y,this.anims.set(y,C),this.emit(l.ADD_ANIMATION,y,C),this)},exists:function(y){return this.anims.has(y)},createFromAseprite:function(y,C,P){var w=[],M=this.game.cache.json.get(y);if(!M)return console.warn("No Aseprite data found for: "+y),w;var R=this,A=c(M,"meta",null),L=c(M,"frames",null);if(A&&L){var F=c(A,"frameTags",[]);F.forEach(function(G){var I=[],B=f(G,"name",null),k=f(G,"from",0),U=f(G,"to",0),H=f(G,"direction","forward");if(B&&(!C||C&&C.indexOf(B)>-1)){for(var X=0,j=k;j<=U;j++){var J=j.toString(),Y=L[J];if(Y){var $=f(Y,"duration",u.MAX_SAFE_INTEGER);I.push({key:y,frame:J,duration:$}),X+=$}}H==="reverse"&&(I=I.reverse());var z={key:B,frames:I,duration:X,yoyo:H==="pingpong"},V;P?P.anims&&(V=P.anims.create(z)):V=R.create(z),V&&w.push(V)}})}return w},create:function(y){var C=y.key,P=!1;return C&&(P=this.get(C),P?console.warn("AnimationManager key already exists: "+C):(P=new o(this,C,y),this.anims.set(C,P),this.emit(l.ADD_ANIMATION,C,P))),P},fromJSON:function(y,C){C===void 0&&(C=!1),C&&this.anims.clear(),typeof y=="string"&&(y=JSON.parse(y));var P=[];if(y.hasOwnProperty("anims")&&Array.isArray(y.anims)){for(var w=0;w<y.anims.length;w++)P.push(this.create(y.anims[w]));y.hasOwnProperty("globalTimeScale")&&(this.globalTimeScale=y.globalTimeScale)}else y.hasOwnProperty("key")&&y.type==="frame"&&P.push(this.create(y));return P},generateFrameNames:function(y,C){var P=c(C,"prefix",""),w=c(C,"start",0),M=c(C,"end",0),R=c(C,"suffix",""),A=c(C,"zeroPad",0),L=c(C,"outputArray",[]),F=c(C,"frames",!1);if(!this.textureManager.exists(y))return console.warn('Texture "%s" not found',y),L;var G=this.textureManager.get(y);if(!G)return L;var I;if(C)for(F||(F=v(w,M)),I=0;I<F.length;I++){var B=P+g(F[I],A,"0",1)+R;G.has(B)?L.push({key:y,frame:B}):console.warn('Frame "%s" not found in texture "%s"',B,y)}else for(F=G.getFrameNames(),I=0;I<F.length;I++)L.push({key:y,frame:F[I]});return L},generateFrameNumbers:function(y,C){var P=c(C,"start",0),w=c(C,"end",-1),M=c(C,"first",!1),R=c(C,"outputArray",[]),A=c(C,"frames",!1);if(!this.textureManager.exists(y))return console.warn('Texture "%s" not found',y),R;var L=this.textureManager.get(y);if(!L)return R;M&&L.has(M)&&R.push({key:y,frame:M}),A||(w===-1&&(w=L.frameTotal-2),A=v(P,w));for(var F=0;F<A.length;F++){var G=A[F];L.has(G)?R.push({key:y,frame:G}):console.warn('Frame "%s" not found in texture "%s"',G,y)}return R},get:function(y){return this.anims.get(y)},getAnimsFromTexture:function(y){for(var C=this.textureManager.get(y),P=C.key,w=this.anims.getArray(),M=[],R=0;R<w.length;R++)for(var A=w[R],L=A.frames,F=0;F<L.length;F++)if(L[F].textureKey===P){M.push(A.key);break}return M},pauseAll:function(){return this.paused||(this.paused=!0,this.emit(l.PAUSE_ALL)),this},play:function(y,C){Array.isArray(C)||(C=[C]);for(var P=0;P<C.length;P++)C[P].anims.play(y);return this},staggerPlay:function(y,C,P,w){P===void 0&&(P=0),w===void 0&&(w=!0),Array.isArray(C)||(C=[C]);var M=C.length;w||M--;for(var R=0;R<C.length;R++){var A=P<0?Math.abs(P)*(M-R):P*R;C[R].anims.playAfterDelay(y,A)}return this},remove:function(y){var C=this.get(y);return C&&(this.emit(l.REMOVE_ANIMATION,y,C),this.anims.delete(y),this.removeMix(y)),C},resumeAll:function(){return this.paused&&(this.paused=!1,this.emit(l.RESUME_ALL)),this},toJSON:function(y){var C={anims:[],globalTimeScale:this.globalTimeScale};return y!==void 0&&y!==""?C.anims.push(this.anims.get(y).toJSON()):this.anims.each(function(P,w){C.anims.push(w.toJSON())}),C},destroy:function(){this.anims.clear(),this.mixes.clear(),this.textureManager=null,this.game=null}});n.exports=m},9674:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(42099),x=r(30976),d=r(83419),h=r(90330),l=r(74943),a=r(95540),f=new d({initialize:function(u){this.parent=u,this.animationManager=u.scene.sys.anims,this.animationManager.on(l.REMOVE_ANIMATION,this.globalRemove,this),this.textureManager=this.animationManager.textureManager,this.anims=null,this.isPlaying=!1,this.hasStarted=!1,this.currentAnim=null,this.currentFrame=null,this.nextAnim=null,this.nextAnimsQueue=[],this.timeScale=1,this.frameRate=0,this.duration=0,this.msPerFrame=0,this.skipMissedFrames=!0,this.randomFrame=!1,this.delay=0,this.repeat=0,this.repeatDelay=0,this.yoyo=!1,this.showBeforeDelay=!1,this.showOnStart=!1,this.hideOnComplete=!1,this.forward=!0,this.inReverse=!1,this.accumulator=0,this.nextTick=0,this.delayCounter=0,this.repeatCounter=0,this.pendingRepeat=!1,this._paused=!1,this._wasPlaying=!1,this._pendingStop=0,this._pendingStopValue},chain:function(c){var u=this.parent;if(c===void 0)return this.nextAnimsQueue.length=0,this.nextAnim=null,u;Array.isArray(c)||(c=[c]);for(var v=0;v<c.length;v++){var g=c[v];this.nextAnim?this.nextAnimsQueue.push(g):this.nextAnim=g}return this.parent},getName:function(){return this.currentAnim?this.currentAnim.key:""},getFrameName:function(){return this.currentFrame?this.currentFrame.textureFrame:""},load:function(c){this.isPlaying&&this.stop();var u=this.animationManager,v=typeof c=="string"?c:a(c,"key",null),g=this.exists(v)?this.get(v):u.get(v);if(!g)console.warn("Missing animation: "+v);else{this.currentAnim=g;var m=g.getTotalFrames(),y=a(c,"frameRate",g.frameRate),C=a(c,"duration",g.duration);g.calculateDuration(this,m,C,y),this.delay=a(c,"delay",g.delay),this.repeat=a(c,"repeat",g.repeat),this.repeatDelay=a(c,"repeatDelay",g.repeatDelay),this.yoyo=a(c,"yoyo",g.yoyo),this.showBeforeDelay=a(c,"showBeforeDelay",g.showBeforeDelay),this.showOnStart=a(c,"showOnStart",g.showOnStart),this.hideOnComplete=a(c,"hideOnComplete",g.hideOnComplete),this.skipMissedFrames=a(c,"skipMissedFrames",g.skipMissedFrames),this.randomFrame=a(c,"randomFrame",g.randomFrame),this.timeScale=a(c,"timeScale",this.timeScale);var P=a(c,"startFrame",0);P>m&&(P=0),this.randomFrame&&(P=x(0,m-1));var w=g.frames[P];P===0&&!this.forward&&(w=g.getLastFrame()),this.currentFrame=w}return this.parent},pause:function(c){return this._paused||(this._paused=!0,this._wasPlaying=this.isPlaying,this.isPlaying=!1),c!==void 0&&this.setCurrentFrame(c),this.parent},resume:function(c){return this._paused&&(this._paused=!1,this.isPlaying=this._wasPlaying),c!==void 0&&this.setCurrentFrame(c),this.parent},playAfterDelay:function(c,u){if(!this.isPlaying)this.delayCounter=u,this.play(c,!0);else{var v=this.nextAnim,g=this.nextAnimsQueue;v&&g.unshift(v),this.nextAnim=c,this._pendingStop=1,this._pendingStopValue=u}return this.parent},playAfterRepeat:function(c,u){if(u===void 0&&(u=1),!this.isPlaying)this.play(c);else{var v=this.nextAnim,g=this.nextAnimsQueue;v&&g.unshift(v),this.repeatCounter!==-1&&u>this.repeatCounter&&(u=this.repeatCounter),this.nextAnim=c,this._pendingStop=2,this._pendingStopValue=u}return this.parent},play:function(c,u){u===void 0&&(u=!1);var v=this.currentAnim,g=this.parent,m=typeof c=="string"?c:c.key;if(u&&this.isPlaying&&v.key===m)return g;if(v&&this.isPlaying){var y=this.animationManager.getMix(v.key,c);if(y>0)return this.playAfterDelay(c,y)}return this.forward=!0,this.inReverse=!1,this._paused=!1,this._wasPlaying=!0,this.startAnimation(c)},playReverse:function(c,u){u===void 0&&(u=!1);var v=typeof c=="string"?c:c.key;return u&&this.isPlaying&&this.currentAnim.key===v?this.parent:(this.forward=!1,this.inReverse=!0,this._paused=!1,this._wasPlaying=!0,this.startAnimation(c))},startAnimation:function(c){this.load(c);var u=this.currentAnim,v=this.parent;return u&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat,u.getFirstTick(this),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!1,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.delayCounter+=this.delay,this.delayCounter===0?this.handleStart():this.showBeforeDelay&&this.setCurrentFrame(this.currentFrame)),v},handleStart:function(){this.showOnStart&&this.parent.setVisible(!0),this.setCurrentFrame(this.currentFrame),this.hasStarted=!0,this.emitEvents(l.ANIMATION_START)},handleRepeat:function(){this.pendingRepeat=!1,this.emitEvents(l.ANIMATION_REPEAT)},handleStop:function(){this._pendingStop=0,this.isPlaying=!1,this.emitEvents(l.ANIMATION_STOP)},handleComplete:function(){this._pendingStop=0,this.isPlaying=!1,this.hideOnComplete&&this.parent.setVisible(!1),this.emitEvents(l.ANIMATION_COMPLETE,l.ANIMATION_COMPLETE_KEY)},emitEvents:function(c,u){var v=this.currentAnim;if(v){var g=this.currentFrame,m=this.parent,y=g.textureFrame;m.emit(c,v,g,m,y),u&&m.emit(u+v.key,v,g,m,y)}},reverse:function(){return this.isPlaying&&(this.inReverse=!this.inReverse,this.forward=!this.forward),this.parent},getProgress:function(){var c=this.currentFrame;if(!c)return 0;var u=c.progress;return this.inReverse&&(u*=-1),u},setProgress:function(c){return this.forward||(c=1-c),this.setCurrentFrame(this.currentAnim.getFrameByProgress(c)),this.parent},setRepeat:function(c){return this.repeatCounter=c===-1?Number.MAX_VALUE:c,this.parent},globalRemove:function(c,u){u===void 0&&(u=this.currentAnim),this.isPlaying&&u.key===this.currentAnim.key&&(this.stop(),this.setCurrentFrame(this.currentAnim.frames[0]))},restart:function(c,u){c===void 0&&(c=!1),u===void 0&&(u=!1);var v=this.currentAnim,g=this.parent;return v?(u&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat),v.getFirstTick(this),this.emitEvents(l.ANIMATION_RESTART),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!c,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.setCurrentFrame(v.frames[0]),this.parent):g},complete:function(){if(this._pendingStop=0,this.isPlaying=!1,this.currentAnim&&this.handleComplete(),this.nextAnim){var c=this.nextAnim;this.nextAnim=this.nextAnimsQueue.length>0?this.nextAnimsQueue.shift():null,this.play(c)}return this.parent},stop:function(){if(this._pendingStop=0,this.isPlaying=!1,this.delayCounter=0,this.currentAnim&&this.handleStop(),this.nextAnim){var c=this.nextAnim;this.nextAnim=this.nextAnimsQueue.shift(),this.play(c)}return this.parent},stopAfterDelay:function(c){return this._pendingStop=1,this._pendingStopValue=c,this.parent},stopAfterRepeat:function(c){return c===void 0&&(c=1),this.repeatCounter!==-1&&c>this.repeatCounter&&(c=this.repeatCounter),this._pendingStop=2,this._pendingStopValue=c,this.parent},stopOnFrame:function(c){return this._pendingStop=3,this._pendingStopValue=c,this.parent},getTotalFrames:function(){return this.currentAnim?this.currentAnim.getTotalFrames():0},update:function(c,u){var v=this.currentAnim;if(!(!this.isPlaying||!v||v.paused)){if(this.accumulator+=u*this.timeScale*this.animationManager.globalTimeScale,this._pendingStop===1&&(this._pendingStopValue-=u,this._pendingStopValue<=0))return this.stop();if(!this.hasStarted)this.accumulator>=this.delayCounter&&(this.accumulator-=this.delayCounter,this.handleStart());else if(this.accumulator>=this.nextTick&&(this.forward?v.nextFrame(this):v.previousFrame(this),this.isPlaying&&this._pendingStop===0&&this.skipMissedFrames&&this.accumulator>this.nextTick)){var g=0;do this.forward?v.nextFrame(this):v.previousFrame(this),g++;while(this.isPlaying&&this.accumulator>this.nextTick&&g<60)}}},setCurrentFrame:function(c){var u=this.parent;return this.currentFrame=c,u.texture=c.frame.texture,u.frame=c.frame,u.isCropped&&u.frame.updateCropUVs(u._crop,u.flipX,u.flipY),c.setAlpha&&(u.alpha=c.alpha),u.setSizeToFrame(),u._originComponent&&(c.frame.customPivot?u.setOrigin(c.frame.pivotX,c.frame.pivotY):u.updateDisplayOrigin()),this.isPlaying&&this.hasStarted&&(this.emitEvents(l.ANIMATION_UPDATE),this._pendingStop===3&&this._pendingStopValue===c&&this.stop()),u},nextFrame:function(){return this.currentAnim&&this.currentAnim.nextFrame(this),this.parent},previousFrame:function(){return this.currentAnim&&this.currentAnim.previousFrame(this),this.parent},get:function(c){return this.anims?this.anims.get(c):null},exists:function(c){return this.anims?this.anims.has(c):!1},create:function(c){var u=c.key,v=!1;return u&&(v=this.get(u),v?console.warn("Animation key already exists: "+u):(v=new o(this,u,c),this.anims||(this.anims=new h),this.anims.set(u,v))),v},createFromAseprite:function(c,u){return this.animationManager.createFromAseprite(c,u,this.parent)},generateFrameNames:function(c,u){return this.animationManager.generateFrameNames(c,u)},generateFrameNumbers:function(c,u){return this.animationManager.generateFrameNumbers(c,u)},remove:function(c){var u=this.get(c);return u&&(this.currentAnim===u&&this.stop(),this.anims.delete(c)),u},destroy:function(){this.animationManager.off(l.REMOVE_ANIMATION,this.globalRemove,this),this.anims&&this.anims.clear(),this.animationManager=null,this.parent=null,this.nextAnim=null,this.nextAnimsQueue.length=0,this.currentAnim=null,this.currentFrame=null},isPaused:{get:function(){return this._paused}}});n.exports=f},57090:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="add"},25312:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="animationcomplete"},89580:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="animationcomplete-"},52860:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="animationrepeat"},63850:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="animationrestart"},99085:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="animationstart"},28087:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="animationstop"},1794:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="animationupdate"},52562:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pauseall"},57953:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="remove"},68339:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="resumeall"},74943:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ADD_ANIMATION:r(57090),ANIMATION_COMPLETE:r(25312),ANIMATION_COMPLETE_KEY:r(89580),ANIMATION_REPEAT:r(52860),ANIMATION_RESTART:r(63850),ANIMATION_START:r(99085),ANIMATION_STOP:r(28087),ANIMATION_UPDATE:r(1794),PAUSE_ALL:r(52562),REMOVE_ANIMATION:r(57953),RESUME_ALL:r(68339)}},60421:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Animation:r(42099),AnimationFrame:r(41138),AnimationManager:r(60848),AnimationState:r(9674),Events:r(74943)}},2161:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(90330),d=r(50792),h=r(24736),l=new o({initialize:function(){this.entries=new x,this.events=new d},add:function(a,f){return this.entries.set(a,f),this.events.emit(h.ADD,this,a,f),this},has:function(a){return this.entries.has(a)},exists:function(a){return this.entries.has(a)},get:function(a){return this.entries.get(a)},remove:function(a){var f=this.get(a);return f&&(this.entries.delete(a),this.events.emit(h.REMOVE,this,a,f.data)),this},getKeys:function(){return this.entries.keys()},destroy:function(){this.entries.clear(),this.events.removeAllListeners(),this.entries=null,this.events=null}});n.exports=l},24047:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2161),x=r(83419),d=r(8443),h=new x({initialize:function(a){this.game=a,this.binary=new o,this.bitmapFont=new o,this.json=new o,this.physics=new o,this.shader=new o,this.audio=new o,this.video=new o,this.text=new o,this.html=new o,this.obj=new o,this.tilemap=new o,this.xml=new o,this.custom={},this.game.events.once(d.DESTROY,this.destroy,this)},addCustom:function(l){return this.custom.hasOwnProperty(l)||(this.custom[l]=new o),this.custom[l]},destroy:function(){for(var l=["binary","bitmapFont","json","physics","shader","audio","video","text","html","obj","tilemap","xml"],a=0;a<l.length;a++)this[l[a]].destroy(),this[l[a]]=null;for(var f in this.custom)this.custom[f].destroy();this.custom=null,this.game=null}});n.exports=h},51464:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="add"},59261:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="remove"},24736:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ADD:r(51464),REMOVE:r(59261)}},83388:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={BaseCache:r(2161),CacheManager:r(24047),Events:r(24736)}},71911:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(31401),d=r(39506),h=r(50792),l=r(19715),a=r(87841),f=r(61340),c=r(80333),u=r(26099),v=new o({Extends:h,Mixins:[x.AlphaSingle,x.Visible],initialize:function(m,y,C,P){m===void 0&&(m=0),y===void 0&&(y=0),C===void 0&&(C=0),P===void 0&&(P=0),h.call(this),this.scene,this.sceneManager,this.scaleManager,this.cameraManager,this.id=0,this.name="",this.roundPixels=!1,this.useBounds=!1,this.worldView=new a,this.dirty=!0,this._x=m,this._y=y,this._width=C,this._height=P,this._bounds=new a,this._scrollX=0,this._scrollY=0,this._zoomX=1,this._zoomY=1,this._rotation=0,this.matrix=new f,this.transparent=!0,this.backgroundColor=c("rgba(0,0,0,0)"),this.disableCull=!1,this.culledObjects=[],this.midPoint=new u(C/2,P/2),this.originX=.5,this.originY=.5,this._customViewport=!1,this.mask=null,this._maskCamera=null,this.renderList=[],this.isSceneCamera=!0,this.renderRoundPixels=!0},addToRenderList:function(g){this.renderList.push(g)},setOrigin:function(g,m){return g===void 0&&(g=.5),m===void 0&&(m=g),this.originX=g,this.originY=m,this},getScroll:function(g,m,y){y===void 0&&(y=new u);var C=this.width*.5,P=this.height*.5;return y.x=g-C,y.y=m-P,this.useBounds&&(y.x=this.clampX(y.x),y.y=this.clampY(y.y)),y},centerOnX:function(g){var m=this.width*.5;return this.midPoint.x=g,this.scrollX=g-m,this.useBounds&&(this.scrollX=this.clampX(this.scrollX)),this},centerOnY:function(g){var m=this.height*.5;return this.midPoint.y=g,this.scrollY=g-m,this.useBounds&&(this.scrollY=this.clampY(this.scrollY)),this},centerOn:function(g,m){return this.centerOnX(g),this.centerOnY(m),this},centerToBounds:function(){if(this.useBounds){var g=this._bounds,m=this.width*.5,y=this.height*.5;this.midPoint.set(g.centerX,g.centerY),this.scrollX=g.centerX-m,this.scrollY=g.centerY-y}return this},centerToSize:function(){return this.scrollX=this.width*.5,this.scrollY=this.height*.5,this},cull:function(g){if(this.disableCull)return g;var m=this.matrix.matrix,y=m[0],C=m[1],P=m[2],w=m[3],M=y*w-C*P;if(!M)return g;var R=m[4],A=m[5],L=this.scrollX,F=this.scrollY,G=this.width,I=this.height,B=this.y,k=B+I,U=this.x,H=U+G,X=this.culledObjects,j=g.length;M=1/M,X.length=0;for(var J=0;J<j;++J){var Y=g[J];if(!Y.hasOwnProperty("width")||Y.parentContainer){X.push(Y);continue}var $=Y.width,z=Y.height,V=Y.x-L*Y.scrollFactorX-$*Y.originX,K=Y.y-F*Y.scrollFactorY-z*Y.originY,Q=V*y+K*P+R,_=V*C+K*w+A,tt=(V+$)*y+(K+z)*P+R,rt=(V+$)*C+(K+z)*w+A;tt>U&&Q<H&&rt>B&&_<k&&X.push(Y)}return X},getWorldPoint:function(g,m,y){y===void 0&&(y=new u);var C=this.matrix.matrix,P=C[0],w=C[1],M=C[2],R=C[3],A=C[4],L=C[5],F=P*R-w*M;if(!F)return y.x=g,y.y=m,y;F=1/F;var G=R*F,I=-w*F,B=-M*F,k=P*F,U=(M*L-R*A)*F,H=(w*A-P*L)*F,X=Math.cos(this.rotation),j=Math.sin(this.rotation),J=this.zoomX,Y=this.zoomY,$=this.scrollX,z=this.scrollY,V=g+($*X-z*j)*J,K=m+($*j+z*X)*Y;return y.x=V*G+K*B+U,y.y=V*I+K*k+H,y},ignore:function(g){var m=this.id;Array.isArray(g)||(g=[g]);for(var y=0;y<g.length;y++){var C=g[y];Array.isArray(C)?this.ignore(C):C.isParent?this.ignore(C.getChildren()):C.cameraFilter|=m}return this},clampX:function(g){var m=this._bounds,y=this.displayWidth,C=m.x+(y-this.width)/2,P=Math.max(C,C+m.width-y);return g<C?g=C:g>P&&(g=P),g},clampY:function(g){var m=this._bounds,y=this.displayHeight,C=m.y+(y-this.height)/2,P=Math.max(C,C+m.height-y);return g<C?g=C:g>P&&(g=P),g},removeBounds:function(){return this.useBounds=!1,this.dirty=!0,this._bounds.setEmpty(),this},setAngle:function(g){return g===void 0&&(g=0),this.rotation=d(g),this},setBackgroundColor:function(g){return g===void 0&&(g="rgba(0,0,0,0)"),this.backgroundColor=c(g),this.transparent=this.backgroundColor.alpha===0,this},setBounds:function(g,m,y,C,P){return P===void 0&&(P=!1),this._bounds.setTo(g,m,y,C),this.dirty=!0,this.useBounds=!0,P?this.centerToBounds():(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},getBounds:function(g){g===void 0&&(g=new a);var m=this._bounds;return g.setTo(m.x,m.y,m.width,m.height),g},setName:function(g){return g===void 0&&(g=""),this.name=g,this},setPosition:function(g,m){return m===void 0&&(m=g),this.x=g,this.y=m,this},setRotation:function(g){return g===void 0&&(g=0),this.rotation=g,this},setRoundPixels:function(g){return this.roundPixels=g,this},setScene:function(g,m){m===void 0&&(m=!0),this.scene&&this._customViewport&&this.sceneManager.customViewports--,this.scene=g,this.isSceneCamera=m;var y=g.sys;return this.sceneManager=y.game.scene,this.scaleManager=y.scale,this.cameraManager=y.cameras,this.updateSystem(),this},setScroll:function(g,m){return m===void 0&&(m=g),this.scrollX=g,this.scrollY=m,this},setSize:function(g,m){return m===void 0&&(m=g),this.width=g,this.height=m,this},setViewport:function(g,m,y,C){return this.x=g,this.y=m,this.width=y,this.height=C,this},setZoom:function(g,m){return g===void 0&&(g=1),m===void 0&&(m=g),g===0&&(g=.001),m===0&&(m=.001),this.zoomX=g,this.zoomY=m,this},setMask:function(g,m){return m===void 0&&(m=!0),this.mask=g,this._maskCamera=m?this.cameraManager.default:this,this},clearMask:function(g){return g===void 0&&(g=!1),g&&this.mask&&this.mask.destroy(),this.mask=null,this},toJSON:function(){var g={name:this.name,x:this.x,y:this.y,width:this.width,height:this.height,zoom:this.zoom,rotation:this.rotation,roundPixels:this.roundPixels,scrollX:this.scrollX,scrollY:this.scrollY,backgroundColor:this.backgroundColor.rgba};return this.useBounds&&(g.bounds={x:this._bounds.x,y:this._bounds.y,width:this._bounds.width,height:this._bounds.height}),g},update:function(){},setIsSceneCamera:function(g){return this.isSceneCamera=g,this},updateSystem:function(){if(!(!this.scaleManager||!this.isSceneCamera)){var g=this._x!==0||this._y!==0||this.scaleManager.width!==this._width||this.scaleManager.height!==this._height,m=this.sceneManager;g&&!this._customViewport?m.customViewports++:!g&&this._customViewport&&m.customViewports--,this.dirty=!0,this._customViewport=g}},destroy:function(){this.emit(l.DESTROY,this),this.removeAllListeners(),this.matrix.destroy(),this.culledObjects=[],this._customViewport&&this.sceneManager.customViewports--,this.renderList=[],this._bounds=null,this.scene=null,this.scaleManager=null,this.sceneManager=null,this.cameraManager=null},x:{get:function(){return this._x},set:function(g){this._x=g,this.updateSystem()}},y:{get:function(){return this._y},set:function(g){this._y=g,this.updateSystem()}},width:{get:function(){return this._width},set:function(g){this._width=g,this.updateSystem()}},height:{get:function(){return this._height},set:function(g){this._height=g,this.updateSystem()}},scrollX:{get:function(){return this._scrollX},set:function(g){g!==this._scrollX&&(this._scrollX=g,this.dirty=!0)}},scrollY:{get:function(){return this._scrollY},set:function(g){g!==this._scrollY&&(this._scrollY=g,this.dirty=!0)}},zoom:{get:function(){return(this._zoomX+this._zoomY)/2},set:function(g){this._zoomX=g,this._zoomY=g,this.dirty=!0}},zoomX:{get:function(){return this._zoomX},set:function(g){this._zoomX=g,this.dirty=!0}},zoomY:{get:function(){return this._zoomY},set:function(g){this._zoomY=g,this.dirty=!0}},rotation:{get:function(){return this._rotation},set:function(g){this._rotation=g,this.dirty=!0}},centerX:{get:function(){return this.x+.5*this.width}},centerY:{get:function(){return this.y+.5*this.height}},displayWidth:{get:function(){return this.width/this.zoomX}},displayHeight:{get:function(){return this.height/this.zoomY}}});n.exports=v},38058:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(71911),x=r(67502),d=r(45319),h=r(83419),l=r(31401),a=r(20052),f=r(19715),c=r(28915),u=r(87841),v=r(26099),g=new h({Extends:o,Mixins:[l.PostPipeline],initialize:function(y,C,P,w){o.call(this,y,C,P,w),this.initPostPipeline(),this.inputEnabled=!0,this.fadeEffect=new a.Fade(this),this.flashEffect=new a.Flash(this),this.shakeEffect=new a.Shake(this),this.panEffect=new a.Pan(this),this.rotateToEffect=new a.RotateTo(this),this.zoomEffect=new a.Zoom(this),this.lerp=new v(1,1),this.followOffset=new v,this.deadzone=null,this._follow=null},setDeadzone:function(m,y){if(m===void 0)this.deadzone=null;else{if(this.deadzone?(this.deadzone.width=m,this.deadzone.height=y):this.deadzone=new u(0,0,m,y),this._follow){var C=this.width/2,P=this.height/2,w=this._follow.x-this.followOffset.x,M=this._follow.y-this.followOffset.y;this.midPoint.set(w,M),this.scrollX=w-C,this.scrollY=M-P}x(this.deadzone,this.midPoint.x,this.midPoint.y)}return this},fadeIn:function(m,y,C,P,w,M){return this.fadeEffect.start(!1,m,y,C,P,!0,w,M)},fadeOut:function(m,y,C,P,w,M){return this.fadeEffect.start(!0,m,y,C,P,!0,w,M)},fadeFrom:function(m,y,C,P,w,M,R){return this.fadeEffect.start(!1,m,y,C,P,w,M,R)},fade:function(m,y,C,P,w,M,R){return this.fadeEffect.start(!0,m,y,C,P,w,M,R)},flash:function(m,y,C,P,w,M,R){return this.flashEffect.start(m,y,C,P,w,M,R)},shake:function(m,y,C,P,w){return this.shakeEffect.start(m,y,C,P,w)},pan:function(m,y,C,P,w,M,R){return this.panEffect.start(m,y,C,P,w,M,R)},rotateTo:function(m,y,C,P,w,M,R){return this.rotateToEffect.start(m,y,C,P,w,M,R)},zoomTo:function(m,y,C,P,w,M){return this.zoomEffect.start(m,y,C,P,w,M)},preRender:function(){this.renderList.length=0;var m=this.width,y=this.height,C=m*.5,P=y*.5,w=this.zoomX,M=this.zoomY,R=this.matrix;this.renderRoundPixels=this.roundPixels&&Number.isInteger(w)&&Number.isInteger(M);var A=m*this.originX,L=y*this.originY,F=this._follow,G=this.deadzone,I=this.scrollX,B=this.scrollY;G&&x(G,this.midPoint.x,this.midPoint.y);var k=!1;if(F&&!this.panEffect.isRunning){var U=this.lerp,H=F.x-this.followOffset.x,X=F.y-this.followOffset.y;G?(H<G.x?I=c(I,I-(G.x-H),U.x):H>G.right&&(I=c(I,I+(H-G.right),U.x)),X<G.y?B=c(B,B-(G.y-X),U.y):X>G.bottom&&(B=c(B,B+(X-G.bottom),U.y))):(I=c(I,H-A,U.x),B=c(B,X-L,U.y)),k=!0}this.roundPixels&&(I=Math.floor(I),B=Math.floor(B)),this.useBounds&&(I=this.clampX(I),B=this.clampY(B)),this.scrollX=I,this.scrollY=B;var j=I+C,J=B+P;this.midPoint.set(j,J);var Y=Math.floor(m/w+.5),$=Math.floor(y/M+.5),z=Math.floor(j-Y/2+.5),V=Math.floor(J-$/2+.5);this.worldView.setTo(z,V,Y,$),R.applyITRS(Math.floor(this.x+A+.5),Math.floor(this.y+L+.5),this.rotation,w,M),R.translate(-A,-L),this.shakeEffect.preRender(),k&&this.emit(f.FOLLOW_UPDATE,this,F)},setLerp:function(m,y){return m===void 0&&(m=1),y===void 0&&(y=m),this.lerp.set(m,y),this},setFollowOffset:function(m,y){return m===void 0&&(m=0),y===void 0&&(y=0),this.followOffset.set(m,y),this},startFollow:function(m,y,C,P,w,M){y===void 0&&(y=!1),C===void 0&&(C=1),P===void 0&&(P=C),w===void 0&&(w=0),M===void 0&&(M=w),this._follow=m,this.roundPixels=y,C=d(C,0,1),P=d(P,0,1),this.lerp.set(C,P),this.followOffset.set(w,M);var R=this.width/2,A=this.height/2,L=m.x-w,F=m.y-M;return this.midPoint.set(L,F),this.scrollX=L-R,this.scrollY=F-A,this.useBounds&&(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},stopFollow:function(){return this._follow=null,this},resetFX:function(){return this.rotateToEffect.reset(),this.panEffect.reset(),this.shakeEffect.reset(),this.flashEffect.reset(),this.fadeEffect.reset(),this},update:function(m,y){this.visible&&(this.rotateToEffect.update(m,y),this.panEffect.update(m,y),this.zoomEffect.update(m,y),this.shakeEffect.update(m,y),this.flashEffect.update(m,y),this.fadeEffect.update(m,y))},destroy:function(){this.resetFX(),o.prototype.destroy.call(this),this._follow=null,this.deadzone=null}});n.exports=g},32743:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(38058),x=r(83419),d=r(95540),h=r(37277),l=r(37303),a=r(97480),f=r(44594),c=new x({initialize:function(v){this.scene=v,this.systems=v.sys,this.roundPixels=v.sys.game.config.roundPixels,this.cameras=[],this.main,this.default,v.sys.events.once(f.BOOT,this.boot,this),v.sys.events.on(f.START,this.start,this)},boot:function(){var u=this.systems;u.settings.cameras?this.fromJSON(u.settings.cameras):this.add(),this.main=this.cameras[0],this.default=new o(0,0,u.scale.width,u.scale.height).setScene(this.scene),u.game.scale.on(a.RESIZE,this.onResize,this),this.systems.events.once(f.DESTROY,this.destroy,this)},start:function(){if(!this.main){var u=this.systems;u.settings.cameras?this.fromJSON(u.settings.cameras):this.add(),this.main=this.cameras[0]}var v=this.systems.events;v.on(f.UPDATE,this.update,this),v.once(f.SHUTDOWN,this.shutdown,this)},add:function(u,v,g,m,y,C){u===void 0&&(u=0),v===void 0&&(v=0),g===void 0&&(g=this.scene.sys.scale.width),m===void 0&&(m=this.scene.sys.scale.height),y===void 0&&(y=!1),C===void 0&&(C="");var P=new o(u,v,g,m);return P.setName(C),P.setScene(this.scene),P.setRoundPixels(this.roundPixels),P.id=this.getNextID(),this.cameras.push(P),y&&(this.main=P),P},addExisting:function(u,v){v===void 0&&(v=!1);var g=this.cameras.indexOf(u);return g===-1?(u.id=this.getNextID(),u.setRoundPixels(this.roundPixels),this.cameras.push(u),v&&(this.main=u),u):null},getNextID:function(){for(var u=this.cameras,v=1,g=0;g<32;g++){for(var m=!1,y=0;y<u.length;y++){var C=u[y];if(C&&C.id===v){m=!0;continue}}if(m)v=v<<1;else return v}return 0},getTotal:function(u){u===void 0&&(u=!1);for(var v=0,g=this.cameras,m=0;m<g.length;m++){var y=g[m];(!u||u&&y.visible)&&v++}return v},fromJSON:function(u){Array.isArray(u)||(u=[u]);for(var v=this.scene.sys.scale.width,g=this.scene.sys.scale.height,m=0;m<u.length;m++){var y=u[m],C=d(y,"x",0),P=d(y,"y",0),w=d(y,"width",v),M=d(y,"height",g),R=this.add(C,P,w,M);R.name=d(y,"name",""),R.zoom=d(y,"zoom",1),R.rotation=d(y,"rotation",0),R.scrollX=d(y,"scrollX",0),R.scrollY=d(y,"scrollY",0),R.roundPixels=d(y,"roundPixels",!1),R.visible=d(y,"visible",!0);var A=d(y,"backgroundColor",!1);A&&R.setBackgroundColor(A);var L=d(y,"bounds",null);if(L){var F=d(L,"x",0),G=d(L,"y",0),I=d(L,"width",v),B=d(L,"height",g);R.setBounds(F,G,I,B)}}return this},getCamera:function(u){for(var v=this.cameras,g=0;g<v.length;g++)if(v[g].name===u)return v[g];return null},getCamerasBelowPointer:function(u){for(var v=this.cameras,g=u.x,m=u.y,y=[],C=0;C<v.length;C++){var P=v[C];P.visible&&P.inputEnabled&&l(P,g,m)&&y.unshift(P)}return y},remove:function(u,v){v===void 0&&(v=!0),Array.isArray(u)||(u=[u]);for(var g=0,m=this.cameras,y=0;y<u.length;y++){var C=m.indexOf(u[y]);C!==-1&&(v?m[C].destroy():m[C].renderList=[],m.splice(C,1),g++)}return!this.main&&m[0]&&(this.main=m[0]),g},render:function(u,v){for(var g=this.scene,m=this.cameras,y=0;y<m.length;y++){var C=m[y];if(C.visible&&C.alpha>0){C.preRender();var P=this.getVisibleChildren(v.getChildren(),C);u.render(g,P,C)}}},getVisibleChildren:function(u,v){return u.filter(function(g){return g.willRender(v)})},resetAll:function(){for(var u=0;u<this.cameras.length;u++)this.cameras[u].destroy();return this.cameras=[],this.main=this.add(),this.main},update:function(u,v){for(var g=0;g<this.cameras.length;g++)this.cameras[g].update(u,v)},onResize:function(u,v,g,m,y){for(var C=0;C<this.cameras.length;C++){var P=this.cameras[C];P._x===0&&P._y===0&&P._width===m&&P._height===y&&P.setSize(v.width,v.height)}},resize:function(u,v){for(var g=0;g<this.cameras.length;g++)this.cameras[g].setSize(u,v)},shutdown:function(){this.main=void 0;for(var u=0;u<this.cameras.length;u++)this.cameras[u].destroy();this.cameras=[];var v=this.systems.events;v.off(f.UPDATE,this.update,this),v.off(f.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.default.destroy(),this.systems.events.off(f.START,this.start,this),this.systems.events.off(f.DESTROY,this.destroy,this),this.systems.game.scale.off(a.RESIZE,this.onResize,this),this.scene=null,this.systems=null}});h.register("CameraManager",c,"cameras"),n.exports=c},5020:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(45319),x=r(83419),d=r(19715),h=new x({initialize:function(a){this.camera=a,this.isRunning=!1,this.isComplete=!1,this.direction=!0,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(l,a,f,c,u,v,g,m){if(l===void 0&&(l=!0),a===void 0&&(a=1e3),f===void 0&&(f=0),c===void 0&&(c=0),u===void 0&&(u=0),v===void 0&&(v=!1),g===void 0&&(g=null),m===void 0&&(m=this.camera.scene),!v&&this.isRunning)return this.camera;this.isRunning=!0,this.isComplete=!1,this.duration=a,this.direction=l,this.progress=0,this.red=f,this.green=c,this.blue=u,this.alpha=l?Number.MIN_VALUE:1,this._elapsed=0,this._onUpdate=g,this._onUpdateScope=m;var y=l?d.FADE_OUT_START:d.FADE_IN_START;return this.camera.emit(y,this.camera,this,a,f,c,u),this.camera},update:function(l,a){this.isRunning&&(this._elapsed+=a,this.progress=o(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this.direction?this.progress:1-this.progress:(this.alpha=this.direction?1:0,this.effectComplete()))},postRenderCanvas:function(l){if(!this.isRunning&&!this.isComplete)return!1;var a=this.camera;return l.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",l.fillRect(a.x,a.y,a.width,a.height),!0},postRenderWebGL:function(l,a){if(!this.isRunning&&!this.isComplete)return!1;var f=this.camera,c=this.red/255,u=this.green/255,v=this.blue/255;return l.drawFillRect(f.x,f.y,f.width,f.height,a(v,u,c,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.isComplete=!0;var l=this.direction?d.FADE_OUT_COMPLETE:d.FADE_IN_COMPLETE;this.camera.emit(l,this.camera,this)},reset:function(){this.isRunning=!1,this.isComplete=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});n.exports=h},10662:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(45319),x=r(83419),d=r(19715),h=new x({initialize:function(a){this.camera=a,this.isRunning=!1,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=1,this.progress=0,this._elapsed=0,this._alpha,this._onUpdate,this._onUpdateScope},start:function(l,a,f,c,u,v,g){return l===void 0&&(l=250),a===void 0&&(a=255),f===void 0&&(f=255),c===void 0&&(c=255),u===void 0&&(u=!1),v===void 0&&(v=null),g===void 0&&(g=this.camera.scene),!u&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=l,this.progress=0,this.red=a,this.green=f,this.blue=c,this._alpha=this.alpha,this._elapsed=0,this._onUpdate=v,this._onUpdateScope=g,this.camera.emit(d.FLASH_START,this.camera,this,l,a,f,c),this.camera)},update:function(l,a){this.isRunning&&(this._elapsed+=a,this.progress=o(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this._alpha*(1-this.progress):this.effectComplete())},postRenderCanvas:function(l){if(!this.isRunning)return!1;var a=this.camera;return l.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",l.fillRect(a.x,a.y,a.width,a.height),!0},postRenderWebGL:function(l,a){if(!this.isRunning)return!1;var f=this.camera,c=this.red/255,u=this.green/255,v=this.blue/255;return l.drawFillRect(f.x,f.y,f.width,f.height,a(v,u,c,1),this.alpha),!0},effectComplete:function(){this.alpha=this._alpha,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(d.FLASH_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});n.exports=h},20359:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(45319),x=r(83419),d=r(62640),h=r(19715),l=r(26099),a=new x({initialize:function(c){this.camera=c,this.isRunning=!1,this.duration=0,this.source=new l,this.current=new l,this.destination=new l,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(f,c,u,v,g,m,y){u===void 0&&(u=1e3),v===void 0&&(v=d.Linear),g===void 0&&(g=!1),m===void 0&&(m=null),y===void 0&&(y=this.camera.scene);var C=this.camera;return!g&&this.isRunning||(this.isRunning=!0,this.duration=u,this.progress=0,this.source.set(C.scrollX,C.scrollY),this.destination.set(f,c),C.getScroll(f,c,this.current),typeof v=="string"&&d.hasOwnProperty(v)?this.ease=d[v]:typeof v=="function"&&(this.ease=v),this._elapsed=0,this._onUpdate=m,this._onUpdateScope=y,this.camera.emit(h.PAN_START,this.camera,this,u,f,c)),C},update:function(f,c){if(this.isRunning){this._elapsed+=c;var u=o(this._elapsed/this.duration,0,1);this.progress=u;var v=this.camera;if(this._elapsed<this.duration){var g=this.ease(u);v.getScroll(this.destination.x,this.destination.y,this.current);var m=this.source.x+(this.current.x-this.source.x)*g,y=this.source.y+(this.current.y-this.source.y)*g;v.setScroll(m,y),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,v,u,m,y)}else v.centerOn(this.destination.x,this.destination.y),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,v,u,v.scrollX,v.scrollY),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(h.PAN_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});n.exports=a},34208:(n,T,r)=>{/**
 * @author       Jason Nicholls <nicholls.jason@gmail.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var o=r(45319),x=r(83419),d=r(19715),h=r(62640),l=new x({initialize:function(f){this.camera=f,this.isRunning=!1,this.duration=0,this.source=0,this.current=0,this.destination=0,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope,this.clockwise=!0,this.shortestPath=!1},start:function(a,f,c,u,v,g,m){c===void 0&&(c=1e3),u===void 0&&(u=h.Linear),v===void 0&&(v=!1),g===void 0&&(g=null),m===void 0&&(m=this.camera.scene),f===void 0&&(f=!1),this.shortestPath=f;var y=a;a<0?(y=-1*a,this.clockwise=!1):this.clockwise=!0;var C=360*Math.PI/180;y=y-Math.floor(y/C)*C;var P=this.camera;if(!v&&this.isRunning)return P;if(this.isRunning=!0,this.duration=c,this.progress=0,this.source=P.rotation,this.destination=y,typeof u=="string"&&h.hasOwnProperty(u)?this.ease=h[u]:typeof u=="function"&&(this.ease=u),this._elapsed=0,this._onUpdate=g,this._onUpdateScope=m,this.shortestPath){var w=0,M=0;this.destination>this.source?w=Math.abs(this.destination-this.source):w=Math.abs(this.destination+C)-this.source,this.source>this.destination?M=Math.abs(this.source-this.destination):M=Math.abs(this.source+C)-this.destination,w<M?this.clockwise=!0:w>M&&(this.clockwise=!1)}return this.camera.emit(d.ROTATE_START,this.camera,this,c,y),P},update:function(a,f){if(this.isRunning){this._elapsed+=f;var c=o(this._elapsed/this.duration,0,1);this.progress=c;var u=this.camera;if(this._elapsed<this.duration){var v=this.ease(c);this.current=u.rotation;var g=0,m=360*Math.PI/180,y=this.destination,C=this.current;this.clockwise===!1&&(y=this.current,C=this.destination),y>=C?g=Math.abs(y-C):g=Math.abs(y+m)-C;var P=0;this.clockwise?P=u.rotation+g*v:P=u.rotation-g*v,u.rotation=P,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,u,c,P)}else u.rotation=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,u,c,this.destination),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(d.ROTATE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});n.exports=l},30330:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(45319),x=r(83419),d=r(19715),h=r(26099),l=new x({initialize:function(f){this.camera=f,this.isRunning=!1,this.duration=0,this.intensity=new h,this.progress=0,this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate,this._onUpdateScope},start:function(a,f,c,u,v){return a===void 0&&(a=100),f===void 0&&(f=.05),c===void 0&&(c=!1),u===void 0&&(u=null),v===void 0&&(v=this.camera.scene),!c&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=a,this.progress=0,typeof f=="number"?this.intensity.set(f):this.intensity.set(f.x,f.y),this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate=u,this._onUpdateScope=v,this.camera.emit(d.SHAKE_START,this.camera,this,a,f),this.camera)},preRender:function(){this.isRunning&&this.camera.matrix.translate(this._offsetX,this._offsetY)},update:function(a,f){if(this.isRunning)if(this._elapsed+=f,this.progress=o(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration){var c=this.intensity,u=this.camera.width,v=this.camera.height,g=this.camera.zoom;this._offsetX=(Math.random()*c.x*u*2-c.x*u)*g,this._offsetY=(Math.random()*c.y*v*2-c.y*v)*g,this.camera.roundPixels&&(this._offsetX=Math.round(this._offsetX),this._offsetY=Math.round(this._offsetY))}else this.effectComplete()},effectComplete:function(){this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(d.SHAKE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.intensity=null}});n.exports=l},45641:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(45319),x=r(83419),d=r(62640),h=r(19715),l=new x({initialize:function(f){this.camera=f,this.isRunning=!1,this.duration=0,this.source=1,this.destination=1,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(a,f,c,u,v,g){f===void 0&&(f=1e3),c===void 0&&(c=d.Linear),u===void 0&&(u=!1),v===void 0&&(v=null),g===void 0&&(g=this.camera.scene);var m=this.camera;return!u&&this.isRunning||(this.isRunning=!0,this.duration=f,this.progress=0,this.source=m.zoom,this.destination=a,typeof c=="string"&&d.hasOwnProperty(c)?this.ease=d[c]:typeof c=="function"&&(this.ease=c),this._elapsed=0,this._onUpdate=v,this._onUpdateScope=g,this.camera.emit(h.ZOOM_START,this.camera,this,f,a)),m},update:function(a,f){this.isRunning&&(this._elapsed+=f,this.progress=o(this._elapsed/this.duration,0,1),this._elapsed<this.duration?(this.camera.zoom=this.source+(this.destination-this.source)*this.ease(this.progress),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.camera.zoom)):(this.camera.zoom=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.destination),this.effectComplete()))},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(h.ZOOM_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});n.exports=l},20052:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Fade:r(5020),Flash:r(10662),Pan:r(20359),Shake:r(30330),RotateTo:r(34208),Zoom:r(45641)}},16438:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="cameradestroy"},32726:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerafadeincomplete"},87807:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerafadeinstart"},45917:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerafadeoutcomplete"},95666:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerafadeoutstart"},47056:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="cameraflashcomplete"},91261:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="cameraflashstart"},45047:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="followupdate"},81927:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerapancomplete"},74264:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerapanstart"},54419:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="postrender"},79330:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="prerender"},93183:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerarotatecomplete"},80112:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerarotatestart"},62252:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerashakecomplete"},86017:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerashakestart"},539:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerazoomcomplete"},51892:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerazoomstart"},19715:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={DESTROY:r(16438),FADE_IN_COMPLETE:r(32726),FADE_IN_START:r(87807),FADE_OUT_COMPLETE:r(45917),FADE_OUT_START:r(95666),FLASH_COMPLETE:r(47056),FLASH_START:r(91261),FOLLOW_UPDATE:r(45047),PAN_COMPLETE:r(81927),PAN_START:r(74264),POST_RENDER:r(54419),PRE_RENDER:r(79330),ROTATE_COMPLETE:r(93183),ROTATE_START:r(80112),SHAKE_COMPLETE:r(62252),SHAKE_START:r(86017),ZOOM_COMPLETE:r(539),ZOOM_START:r(51892)}},87969:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Camera:r(38058),BaseCamera:r(71911),CameraManager:r(32743),Effects:r(20052),Events:r(19715)}},63091:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(35154),d=new o({initialize:function(l){this.camera=x(l,"camera",null),this.left=x(l,"left",null),this.right=x(l,"right",null),this.up=x(l,"up",null),this.down=x(l,"down",null),this.zoomIn=x(l,"zoomIn",null),this.zoomOut=x(l,"zoomOut",null),this.zoomSpeed=x(l,"zoomSpeed",.01),this.minZoom=x(l,"minZoom",.001),this.maxZoom=x(l,"maxZoom",1e3),this.speedX=0,this.speedY=0;var a=x(l,"speed",null);typeof a=="number"?(this.speedX=a,this.speedY=a):(this.speedX=x(l,"speed.x",0),this.speedY=x(l,"speed.y",0)),this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(h){return this.camera=h,this},update:function(h){if(this.active){h===void 0&&(h=1);var l=this.camera;this.up&&this.up.isDown?l.scrollY-=this.speedY*h|0:this.down&&this.down.isDown&&(l.scrollY+=this.speedY*h|0),this.left&&this.left.isDown?l.scrollX-=this.speedX*h|0:this.right&&this.right.isDown&&(l.scrollX+=this.speedX*h|0),this.zoomIn&&this.zoomIn.isDown?(l.zoom-=this.zoomSpeed,l.zoom<this.minZoom&&(l.zoom=this.minZoom)):this.zoomOut&&this.zoomOut.isDown&&(l.zoom+=this.zoomSpeed,l.zoom>this.maxZoom&&(l.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});n.exports=d},58818:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(35154),d=new o({initialize:function(l){this.camera=x(l,"camera",null),this.left=x(l,"left",null),this.right=x(l,"right",null),this.up=x(l,"up",null),this.down=x(l,"down",null),this.zoomIn=x(l,"zoomIn",null),this.zoomOut=x(l,"zoomOut",null),this.zoomSpeed=x(l,"zoomSpeed",.01),this.minZoom=x(l,"minZoom",.001),this.maxZoom=x(l,"maxZoom",1e3),this.accelX=0,this.accelY=0;var a=x(l,"acceleration",null);typeof a=="number"?(this.accelX=a,this.accelY=a):(this.accelX=x(l,"acceleration.x",0),this.accelY=x(l,"acceleration.y",0)),this.dragX=0,this.dragY=0;var f=x(l,"drag",null);typeof f=="number"?(this.dragX=f,this.dragY=f):(this.dragX=x(l,"drag.x",0),this.dragY=x(l,"drag.y",0)),this.maxSpeedX=0,this.maxSpeedY=0;var c=x(l,"maxSpeed",null);typeof c=="number"?(this.maxSpeedX=c,this.maxSpeedY=c):(this.maxSpeedX=x(l,"maxSpeed.x",0),this.maxSpeedY=x(l,"maxSpeed.y",0)),this._speedX=0,this._speedY=0,this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(h){return this.camera=h,this},update:function(h){if(this.active){h===void 0&&(h=1);var l=this.camera;this._speedX>0?(this._speedX-=this.dragX*h,this._speedX<0&&(this._speedX=0)):this._speedX<0&&(this._speedX+=this.dragX*h,this._speedX>0&&(this._speedX=0)),this._speedY>0?(this._speedY-=this.dragY*h,this._speedY<0&&(this._speedY=0)):this._speedY<0&&(this._speedY+=this.dragY*h,this._speedY>0&&(this._speedY=0)),this.up&&this.up.isDown?(this._speedY+=this.accelY,this._speedY>this.maxSpeedY&&(this._speedY=this.maxSpeedY)):this.down&&this.down.isDown&&(this._speedY-=this.accelY,this._speedY<-this.maxSpeedY&&(this._speedY=-this.maxSpeedY)),this.left&&this.left.isDown?(this._speedX+=this.accelX,this._speedX>this.maxSpeedX&&(this._speedX=this.maxSpeedX)):this.right&&this.right.isDown&&(this._speedX-=this.accelX,this._speedX<-this.maxSpeedX&&(this._speedX=-this.maxSpeedX)),this.zoomIn&&this.zoomIn.isDown?this._zoom=-this.zoomSpeed:this.zoomOut&&this.zoomOut.isDown?this._zoom=this.zoomSpeed:this._zoom=0,this._speedX!==0&&(l.scrollX-=this._speedX*h|0),this._speedY!==0&&(l.scrollY-=this._speedY*h|0),this._zoom!==0&&(l.zoom+=this._zoom,l.zoom<this.minZoom?l.zoom=this.minZoom:l.zoom>this.maxZoom&&(l.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});n.exports=d},38865:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={FixedKeyControl:r(63091),SmoothedKeyControl:r(58818)}},26638:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Controls:r(38865),Scene2D:r(87969)}},8054:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={VERSION:"3.88.2",LOG_VERSION:"v388",BlendModes:r(10312),ScaleModes:r(29795),AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,FOREVER:-1,NONE:4,UP:5,DOWN:6,LEFT:7,RIGHT:8};n.exports=o},69547:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(8054),d=r(42363),h=r(82264),l=r(95540),a=r(35154),f=r(41212),c=r(29747),u=r(75508),v=r(36060),g=r(80333),m=new o({initialize:function(C){C===void 0&&(C={});var P=["#ff0000","#ffff00","#00ff00","#00ffff","#000000"],w="#ffffff",M=a(C,"scale",null);this.width=a(M,"width",1024,C),this.height=a(M,"height",768,C),this.zoom=a(M,"zoom",1,C),this.parent=a(M,"parent",void 0,C),this.scaleMode=a(M,M?"mode":"scaleMode",0,C),this.expandParent=a(M,"expandParent",!0,C),this.autoRound=a(M,"autoRound",!1,C),this.autoCenter=a(M,"autoCenter",0,C),this.resizeInterval=a(M,"resizeInterval",500,C),this.fullscreenTarget=a(M,"fullscreenTarget",null,C),this.minWidth=a(M,"min.width",0,C),this.maxWidth=a(M,"max.width",0,C),this.minHeight=a(M,"min.height",0,C),this.maxHeight=a(M,"max.height",0,C),this.snapWidth=a(M,"snap.width",0,C),this.snapHeight=a(M,"snap.height",0,C),this.renderType=a(C,"type",x.AUTO),this.canvas=a(C,"canvas",null),this.context=a(C,"context",null),this.canvasStyle=a(C,"canvasStyle",null),this.customEnvironment=a(C,"customEnvironment",!1),this.sceneConfig=a(C,"scene",null),this.seed=a(C,"seed",[(Date.now()*Math.random()).toString()]),u.RND=new u.RandomDataGenerator(this.seed),this.gameTitle=a(C,"title",""),this.gameURL=a(C,"url","https://phaser.io/"+x.LOG_VERSION),this.gameVersion=a(C,"version",""),this.autoFocus=a(C,"autoFocus",!0),this.stableSort=a(C,"stableSort",-1),this.stableSort===-1&&(this.stableSort=h.browser.es2019?1:0),h.features.stableSort=this.stableSort,this.domCreateContainer=a(C,"dom.createContainer",!1),this.domPointerEvents=a(C,"dom.pointerEvents","none"),this.inputKeyboard=a(C,"input.keyboard",!0),this.inputKeyboardEventTarget=a(C,"input.keyboard.target",window),this.inputKeyboardCapture=a(C,"input.keyboard.capture",[]),this.inputMouse=a(C,"input.mouse",!0),this.inputMouseEventTarget=a(C,"input.mouse.target",null),this.inputMousePreventDefaultDown=a(C,"input.mouse.preventDefaultDown",!0),this.inputMousePreventDefaultUp=a(C,"input.mouse.preventDefaultUp",!0),this.inputMousePreventDefaultMove=a(C,"input.mouse.preventDefaultMove",!0),this.inputMousePreventDefaultWheel=a(C,"input.mouse.preventDefaultWheel",!0),this.inputTouch=a(C,"input.touch",h.input.touch),this.inputTouchEventTarget=a(C,"input.touch.target",null),this.inputTouchCapture=a(C,"input.touch.capture",!0),this.inputActivePointers=a(C,"input.activePointers",1),this.inputSmoothFactor=a(C,"input.smoothFactor",0),this.inputWindowEvents=a(C,"input.windowEvents",!0),this.inputGamepad=a(C,"input.gamepad",!1),this.inputGamepadEventTarget=a(C,"input.gamepad.target",window),this.disableContextMenu=a(C,"disableContextMenu",!1),this.audio=a(C,"audio",{}),this.hideBanner=a(C,"banner",null)===!1,this.hidePhaser=a(C,"banner.hidePhaser",!1),this.bannerTextColor=a(C,"banner.text",w),this.bannerBackgroundColor=a(C,"banner.background",P),this.gameTitle===""&&this.hidePhaser&&(this.hideBanner=!0),this.fps=a(C,"fps",null),this.disablePreFX=a(C,"disablePreFX",!1),this.disablePostFX=a(C,"disablePostFX",!1);var R=a(C,"render",null);this.pipeline=a(R,"pipeline",null,C),this.autoMobilePipeline=a(R,"autoMobilePipeline",!0,C),this.defaultPipeline=a(R,"defaultPipeline",v.MULTI_PIPELINE,C),this.antialias=a(R,"antialias",!0,C),this.antialiasGL=a(R,"antialiasGL",!0,C),this.mipmapFilter=a(R,"mipmapFilter","",C),this.desynchronized=a(R,"desynchronized",!1,C),this.roundPixels=a(R,"roundPixels",!1,C),this.pixelArt=a(R,"pixelArt",this.zoom!==1,C),this.pixelArt&&(this.antialias=!1,this.antialiasGL=!1,this.roundPixels=!0),this.transparent=a(R,"transparent",!1,C),this.clearBeforeRender=a(R,"clearBeforeRender",!0,C),this.preserveDrawingBuffer=a(R,"preserveDrawingBuffer",!1,C),this.premultipliedAlpha=a(R,"premultipliedAlpha",!0,C),this.failIfMajorPerformanceCaveat=a(R,"failIfMajorPerformanceCaveat",!1,C),this.powerPreference=a(R,"powerPreference","default",C),this.batchSize=a(R,"batchSize",4096,C),this.maxTextures=a(R,"maxTextures",-1,C),this.maxLights=a(R,"maxLights",10,C);var A=a(C,"backgroundColor",0);this.backgroundColor=g(A),this.transparent&&(this.backgroundColor=g(0),this.backgroundColor.alpha=0),this.preBoot=a(C,"callbacks.preBoot",c),this.postBoot=a(C,"callbacks.postBoot",c),this.physics=a(C,"physics",{}),this.defaultPhysicsSystem=a(this.physics,"default",!1),this.loaderBaseURL=a(C,"loader.baseURL",""),this.loaderPath=a(C,"loader.path",""),this.loaderMaxParallelDownloads=a(C,"loader.maxParallelDownloads",h.os.android?6:32),this.loaderCrossOrigin=a(C,"loader.crossOrigin",void 0),this.loaderResponseType=a(C,"loader.responseType",""),this.loaderAsync=a(C,"loader.async",!0),this.loaderUser=a(C,"loader.user",""),this.loaderPassword=a(C,"loader.password",""),this.loaderTimeout=a(C,"loader.timeout",0),this.loaderMaxRetries=a(C,"loader.maxRetries",2),this.loaderWithCredentials=a(C,"loader.withCredentials",!1),this.loaderImageLoadType=a(C,"loader.imageLoadType","XHR"),this.loaderLocalScheme=a(C,"loader.localScheme",["file://","capacitor://"]),this.glowFXQuality=a(C,"fx.glow.quality",.1),this.glowFXDistance=a(C,"fx.glow.distance",10),this.installGlobalPlugins=[],this.installScenePlugins=[];var L=a(C,"plugins",null),F=d.DefaultScene;L&&(Array.isArray(L)?this.defaultPlugins=L:f(L)&&(this.installGlobalPlugins=l(L,"global",[]),this.installScenePlugins=l(L,"scene",[]),Array.isArray(L.default)?F=L.default:Array.isArray(L.defaultMerge)&&(F=F.concat(L.defaultMerge)))),this.defaultPlugins=F;var G="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAg";this.defaultImage=a(C,"images.default",G+"AQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg=="),this.missingImage=a(C,"images.missing",G+"CAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg=="),this.whiteImage=a(C,"images.white","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAIAAAAmkwkpAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABdJREFUeNpi/P//PwMMMDEgAdwcgAADAJZuAwXJYZOzAAAAAElFTkSuQmCC"),window&&(window.FORCE_WEBGL?this.renderType=x.WEBGL:window.FORCE_CANVAS&&(this.renderType=x.CANVAS))}});n.exports=m},86054:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(20623),x=r(27919),d=r(8054),h=r(89357),l=function(a){var f=a.config;if((f.customEnvironment||f.canvas)&&f.renderType===d.AUTO)throw new Error("Must set explicit renderType in custom environment");if(!f.customEnvironment&&!f.canvas&&f.renderType!==d.HEADLESS)if(f.renderType===d.AUTO&&(f.renderType=h.webGL?d.WEBGL:d.CANVAS),f.renderType===d.WEBGL){if(!h.webGL)throw new Error("Cannot create WebGL context, aborting.")}else if(f.renderType===d.CANVAS){if(!h.canvas)throw new Error("Cannot create Canvas context, aborting.")}else throw new Error("Unknown value for renderer type: "+f.renderType);f.antialias||x.disableSmoothing();var c=a.scale.baseSize,u=c.width,v=c.height;if(f.canvas?(a.canvas=f.canvas,a.canvas.width=u,a.canvas.height=v):a.canvas=x.create(a,u,v,f.renderType),f.canvasStyle&&(a.canvas.style=f.canvasStyle),f.antialias||o.setCrisp(a.canvas),f.renderType!==d.HEADLESS){var g,m;g=r(68627),m=r(74797),f.renderType===d.WEBGL?a.renderer=new m(a):(a.renderer=new g(a),a.context=a.renderer.gameContext)}};n.exports=l},96391:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(8054),x=function(d){var h=d.config;if(!h.hideBanner){var l="WebGL";h.renderType===o.CANVAS?l="Canvas":h.renderType===o.HEADLESS&&(l="Headless");var a=h.audio,f=d.device.audio,c;if(f.webAudio&&!a.disableWebAudio?c="Web Audio":a.noAudio||!f.webAudio&&!f.audioData?c="No Audio":c="HTML5 Audio",d.device.browser.ie)window.console&&console.log("Phaser v"+o.VERSION+" / https://phaser.io");else{var u="",v=[u];if(Array.isArray(h.bannerBackgroundColor)){var g;h.bannerBackgroundColor.forEach(function(y){u=u.concat("%c "),v.push("background: "+y),g=y}),v[v.length-1]="color: "+h.bannerTextColor+"; background: "+g}else u=u.concat("%c "),v.push("color: "+h.bannerTextColor+"; background: "+h.bannerBackgroundColor);v.push("background: transparent"),h.gameTitle&&(u=u.concat(h.gameTitle),h.gameVersion&&(u=u.concat(" v"+h.gameVersion)),h.hidePhaser||(u=u.concat(" / ")));var m="";h.hidePhaser||(u=u.concat("Phaser v"+o.VERSION+m+" ("+l+" | "+c+")")),u=u.concat(" %c "+h.gameURL),v[0]=u,console.log.apply(console,v)}}};n.exports=x},50127:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(40366),x=r(60848),d=r(24047),h=r(27919),l=r(83419),a=r(69547),f=r(83719),c=r(86054),u=r(45893),v=r(96391),g=r(82264),m=r(57264),y=r(50792),C=r(8443),P=r(7003),w=r(37277),M=r(77332),R=r(76531),A=r(60903),L=r(69442),F=r(17130),G=r(65898),I=r(51085),B=r(14747),k=new l({initialize:function(H){this.config=new a(H),this.renderer=null,this.domContainer=null,this.canvas=null,this.context=null,this.isBooted=!1,this.isRunning=!1,this.events=new y,this.anims=new x(this),this.textures=new F(this),this.cache=new d(this),this.registry=new u(this,new y),this.input=new P(this,this.config),this.scene=new A(this,this.config.sceneConfig),this.device=g,this.scale=new R(this,this.config),this.sound=null,this.sound=B.create(this),this.loop=new G(this,this.config.fps),this.plugins=new M(this,this.config),this.pendingDestroy=!1,this.removeCanvas=!1,this.noReturn=!1,this.hasFocus=!1,this.isPaused=!1,m(this.boot.bind(this))},boot:function(){if(!w.hasCore("EventEmitter")){console.warn("Aborting. Core Plugins missing.");return}this.isBooted=!0,this.config.preBoot(this),this.scale.preBoot(),c(this),f(this),v(this),o(this.canvas,this.config.parent),this.textures.once(L.READY,this.texturesReady,this),this.events.emit(C.BOOT)},texturesReady:function(){this.events.emit(C.READY),this.start()},start:function(){this.isRunning=!0,this.config.postBoot(this),this.renderer?this.loop.start(this.step.bind(this)):this.loop.start(this.headlessStep.bind(this)),I(this);var U=this.events;U.on(C.HIDDEN,this.onHidden,this),U.on(C.VISIBLE,this.onVisible,this),U.on(C.BLUR,this.onBlur,this),U.on(C.FOCUS,this.onFocus,this)},step:function(U,H){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var X=this.events;X.emit(C.PRE_STEP,U,H),X.emit(C.STEP,U,H),this.scene.update(U,H),X.emit(C.POST_STEP,U,H);var j=this.renderer;j.preRender(),X.emit(C.PRE_RENDER,j,U,H),this.scene.render(j),j.postRender(),X.emit(C.POST_RENDER,j,U,H)}},headlessStep:function(U,H){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var X=this.events;X.emit(C.PRE_STEP,U,H),X.emit(C.STEP,U,H),this.scene.update(U,H),X.emit(C.POST_STEP,U,H),this.scene.isProcessing=!1,X.emit(C.PRE_RENDER,null,U,H),X.emit(C.POST_RENDER,null,U,H)}},onHidden:function(){this.loop.pause(),this.events.emit(C.PAUSE)},pause:function(){var U=this.isPaused;this.isPaused=!0,U||this.events.emit(C.PAUSE)},onVisible:function(){this.loop.resume(),this.events.emit(C.RESUME,this.loop.pauseDuration)},resume:function(){var U=this.isPaused;this.isPaused=!1,U&&this.events.emit(C.RESUME,0)},onBlur:function(){this.hasFocus=!1,this.loop.blur()},onFocus:function(){this.hasFocus=!0,this.loop.focus()},getFrame:function(){return this.loop.frame},getTime:function(){return this.loop.now},destroy:function(U,H){H===void 0&&(H=!1),this.pendingDestroy=!0,this.removeCanvas=U,this.noReturn=H},runDestroy:function(){this.scene.destroy(),this.events.emit(C.DESTROY),this.events.removeAllListeners(),this.renderer&&this.renderer.destroy(),this.removeCanvas&&this.canvas&&(h.remove(this.canvas),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)),this.domContainer&&this.domContainer.parentNode&&this.domContainer.parentNode.removeChild(this.domContainer),this.loop.destroy(),this.pendingDestroy=!1}});n.exports=k},65898:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(35154),d=r(29747),h=r(43092),l=new o({initialize:function(f,c){this.game=f,this.raf=new h,this.started=!1,this.running=!1,this.minFps=x(c,"min",5),this.targetFps=x(c,"target",60),this.fpsLimit=x(c,"limit",0),this.hasFpsLimit=this.fpsLimit>0,this._limitRate=this.hasFpsLimit?1e3/this.fpsLimit:0,this._min=1e3/this.minFps,this._target=1e3/this.targetFps,this.actualFps=this.targetFps,this.nextFpsUpdate=0,this.framesThisSecond=0,this.callback=d,this.forceSetTimeOut=x(c,"forceSetTimeOut",!1),this.time=0,this.startTime=0,this.lastTime=0,this.frame=0,this.inFocus=!0,this.pauseDuration=0,this._pauseTime=0,this._coolDown=0,this.delta=0,this.deltaIndex=0,this.deltaHistory=[],this.deltaSmoothingMax=x(c,"deltaHistory",10),this.panicMax=x(c,"panicMax",120),this.rawDelta=0,this.now=0,this.smoothStep=x(c,"smoothStep",!0)},blur:function(){this.inFocus=!1},focus:function(){this.inFocus=!0,this.resetDelta()},pause:function(){this._pauseTime=window.performance.now()},resume:function(){this.resetDelta(),this.pauseDuration=this.time-this._pauseTime,this.startTime+=this.pauseDuration},resetDelta:function(){var a=window.performance.now();this.time=a,this.lastTime=a,this.nextFpsUpdate=a+1e3,this.framesThisSecond=0;for(var f=0;f<this.deltaSmoothingMax;f++)this.deltaHistory[f]=Math.min(this._target,this.deltaHistory[f]);this.delta=0,this.deltaIndex=0,this._coolDown=this.panicMax},start:function(a){if(this.started)return this;this.started=!0,this.running=!0;for(var f=0;f<this.deltaSmoothingMax;f++)this.deltaHistory[f]=this._target;this.resetDelta(),this.startTime=window.performance.now(),this.callback=a;var c=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(c,this.forceSetTimeOut,this._target)},smoothDelta:function(a){var f=this.deltaIndex,c=this.deltaHistory,u=this.deltaSmoothingMax;(this._coolDown>0||!this.inFocus)&&(this._coolDown--,a=Math.min(a,this._target)),a>this._min&&(a=c[f],a=Math.min(a,this._min)),c[f]=a,this.deltaIndex++,this.deltaIndex>=u&&(this.deltaIndex=0);for(var v=0,g=0;g<u;g++)v+=c[g];return v/=u,v},updateFPS:function(a){this.actualFps=.25*this.framesThisSecond+.75*this.actualFps,this.nextFpsUpdate=a+1e3,this.framesThisSecond=0},stepLimitFPS:function(a){this.now=a;var f=Math.max(0,a-this.lastTime);this.rawDelta=f,this.time+=this.rawDelta,this.smoothStep&&(f=this.smoothDelta(f)),this.delta+=f,a>=this.nextFpsUpdate&&this.updateFPS(a),this.framesThisSecond++,this.delta>=this._limitRate&&(this.callback(a,this.delta),this.delta=0),this.lastTime=a,this.frame++},step:function(a){this.now=a;var f=Math.max(0,a-this.lastTime);this.rawDelta=f,this.time+=this.rawDelta,this.smoothStep&&(f=this.smoothDelta(f)),this.delta=f,a>=this.nextFpsUpdate&&this.updateFPS(a),this.framesThisSecond++,this.callback(a,f),this.lastTime=a,this.frame++},tick:function(){var a=window.performance.now();this.hasFpsLimit?this.stepLimitFPS(a):this.step(a)},sleep:function(){this.running&&(this.raf.stop(),this.running=!1)},wake:function(a){a===void 0&&(a=!1);var f=window.performance.now();if(!this.running){a&&(this.startTime+=-this.lastTime+(this.lastTime+f));var c=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(c,this.forceSetTimeOut,this._target),this.running=!0,this.nextFpsUpdate=f+1e3,this.framesThisSecond=0,this.fpsLimitTriggered=!1,this.tick()}},getDuration:function(){return Math.round(this.lastTime-this.startTime)/1e3},getDurationMS:function(){return Math.round(this.lastTime-this.startTime)},stop:function(){return this.running=!1,this.started=!1,this.raf.stop(),this},destroy:function(){this.stop(),this.raf.destroy(),this.raf=null,this.game=null,this.callback=null}});n.exports=l},51085:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(8443),x=function(d){var h,l=d.events;if(document.hidden!==void 0)h="visibilitychange";else{var a=["webkit","moz","ms"];a.forEach(function(c){document[c+"Hidden"]!==void 0&&(document.hidden=function(){return document[c+"Hidden"]},h=c+"visibilitychange")})}var f=function(c){document.hidden||c.type==="pause"?l.emit(o.HIDDEN):l.emit(o.VISIBLE)};h&&document.addEventListener(h,f,!1),window.onblur=function(){l.emit(o.BLUR)},window.onfocus=function(){l.emit(o.FOCUS)},window.focus&&d.config.autoFocus&&window.focus()};n.exports=x},97217:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="blur"},47548:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="boot"},19814:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="contextlost"},68446:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="destroy"},41700:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="focus"},25432:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="hidden"},65942:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pause"},59211:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="postrender"},47789:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="poststep"},39066:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="prerender"},460:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="prestep"},16175:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="ready"},42331:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="resume"},11966:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="step"},32969:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="systemready"},94830:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="visible"},8443:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={BLUR:r(97217),BOOT:r(47548),CONTEXT_LOST:r(19814),DESTROY:r(68446),FOCUS:r(41700),HIDDEN:r(25432),PAUSE:r(65942),POST_RENDER:r(59211),POST_STEP:r(47789),PRE_RENDER:r(39066),PRE_STEP:r(460),READY:r(16175),RESUME:r(42331),STEP:r(11966),SYSTEM_READY:r(32969),VISIBLE:r(94830)}},42857:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Config:r(69547),CreateRenderer:r(86054),DebugHeader:r(96391),Events:r(8443),TimeStep:r(65898),VisibilityHandler:r(51085)}},99584:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(5290),x=r(27919),d=r(35154),h=function(l){var a=d(l,"data",[]),f=d(l,"canvas",null),c=d(l,"palette",o),u=d(l,"pixelWidth",1),v=d(l,"pixelHeight",u),g=d(l,"resizeCanvas",!0),m=d(l,"clearCanvas",!0),y=d(l,"preRender",null),C=d(l,"postRender",null),P=Math.floor(Math.abs(a[0].length*u)),w=Math.floor(Math.abs(a.length*v));f||(f=x.create2D(this,P,w),g=!1,m=!1),g&&(f.width=P,f.height=w);var M=f.getContext("2d",{willReadFrequently:!0});m&&M.clearRect(0,0,P,w),y&&y(f,M);for(var R=0;R<a.length;R++)for(var A=a[R],L=0;L<A.length;L++){var F=A[L];F!=="."&&F!==" "&&(M.fillStyle=c[F],M.fillRect(L*u,R*v,u,v))}return C&&C(f,M),f};n.exports=h},15822:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={GenerateTexture:r(99584),Palettes:r(57763)}},5290:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",A:"#44891A",B:"#A3CE27",C:"#1B2632",D:"#005784",E:"#31A2F2",F:"#B2DCEF"}},23816:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",A:"#bd736a",B:"#525252",C:"#838383",D:"#acee8b",E:"#7b73de",F:"#acacac"}},9866:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",A:"#6cd947",B:"#7be2f9",C:"#eb8a60",D:"#e23d69",E:"#ffd93f",F:"#fff"}},77552:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#f5f4eb"}},92259:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#fff"}},57763:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ARNE16:r(5290),C64:r(23816),CGA:r(9866),JMP:r(77552),MSX:r(92259)}},46728:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(36316),d=r(80021),h=r(26099),l=new o({Extends:d,initialize:function(f,c,u,v){d.call(this,"CubicBezierCurve"),Array.isArray(f)&&(v=new h(f[6],f[7]),u=new h(f[4],f[5]),c=new h(f[2],f[3]),f=new h(f[0],f[1])),this.p0=f,this.p1=c,this.p2=u,this.p3=v},getStartPoint:function(a){return a===void 0&&(a=new h),a.copy(this.p0)},getResolution:function(a){return a},getPoint:function(a,f){f===void 0&&(f=new h);var c=this.p0,u=this.p1,v=this.p2,g=this.p3;return f.set(x(a,c.x,u.x,v.x,g.x),x(a,c.y,u.y,v.y,g.y))},draw:function(a,f){f===void 0&&(f=32);var c=this.getPoints(f);a.beginPath(),a.moveTo(this.p0.x,this.p0.y);for(var u=1;u<c.length;u++)a.lineTo(c[u].x,c[u].y);return a.strokePath(),a},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y,this.p3.x,this.p3.y]}}});l.fromJSON=function(a){var f=a.points,c=new h(f[0],f[1]),u=new h(f[2],f[3]),v=new h(f[4],f[5]),g=new h(f[6],f[7]);return new l(c,u,v,g)},n.exports=l},80021:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(19217),d=r(87841),h=r(26099),l=new o({initialize:function(f){this.type=f,this.defaultDivisions=5,this.arcLengthDivisions=100,this.cacheArcLengths=[],this.needsUpdate=!0,this.active=!0,this._tmpVec2A=new h,this._tmpVec2B=new h},draw:function(a,f){return f===void 0&&(f=32),a.strokePoints(this.getPoints(f))},getBounds:function(a,f){a||(a=new d),f===void 0&&(f=16);var c=this.getLength();f>c&&(f=c/2);var u=Math.max(1,Math.round(c/f));return x(this.getSpacedPoints(u),a)},getDistancePoints:function(a){var f=this.getLength(),c=Math.max(1,f/a);return this.getSpacedPoints(c)},getEndPoint:function(a){return a===void 0&&(a=new h),this.getPointAt(1,a)},getLength:function(){var a=this.getLengths();return a[a.length-1]},getLengths:function(a){if(a===void 0&&(a=this.arcLengthDivisions),this.cacheArcLengths.length===a+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var f=[],c,u=this.getPoint(0,this._tmpVec2A),v=0;f.push(0);for(var g=1;g<=a;g++)c=this.getPoint(g/a,this._tmpVec2B),v+=c.distance(u),f.push(v),u.copy(c);return this.cacheArcLengths=f,f},getPointAt:function(a,f){var c=this.getUtoTmapping(a);return this.getPoint(c,f)},getPoints:function(a,f,c){c===void 0&&(c=[]),a||(f?a=this.getLength()/f:a=this.defaultDivisions);for(var u=0;u<=a;u++)c.push(this.getPoint(u/a));return c},getRandomPoint:function(a){return a===void 0&&(a=new h),this.getPoint(Math.random(),a)},getSpacedPoints:function(a,f,c){c===void 0&&(c=[]),a||(f?a=this.getLength()/f:a=this.defaultDivisions);for(var u=0;u<=a;u++){var v=this.getUtoTmapping(u/a,null,a);c.push(this.getPoint(v))}return c},getStartPoint:function(a){return a===void 0&&(a=new h),this.getPointAt(0,a)},getTangent:function(a,f){f===void 0&&(f=new h);var c=1e-4,u=a-c,v=a+c;return u<0&&(u=0),v>1&&(v=1),this.getPoint(u,this._tmpVec2A),this.getPoint(v,f),f.subtract(this._tmpVec2A).normalize()},getTangentAt:function(a,f){var c=this.getUtoTmapping(a);return this.getTangent(c,f)},getTFromDistance:function(a,f){return a<=0?0:this.getUtoTmapping(0,a,f)},getUtoTmapping:function(a,f,c){var u=this.getLengths(c),v=0,g=u.length,m;f?m=Math.min(f,u[g-1]):m=a*u[g-1];for(var y=0,C=g-1,P;y<=C;)if(v=Math.floor(y+(C-y)/2),P=u[v]-m,P<0)y=v+1;else if(P>0)C=v-1;else{C=v;break}if(v=C,u[v]===m)return v/(g-1);var w=u[v],M=u[v+1],R=M-w,A=(m-w)/R;return(v+A)/(g-1)},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()}});n.exports=l},73825:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(80021),d=r(39506),h=r(35154),l=r(43396),a=r(26099),f=new o({Extends:x,initialize:function(u,v,g,m,y,C,P,w){if(typeof u=="object"){var M=u;u=h(M,"x",0),v=h(M,"y",0),g=h(M,"xRadius",0),m=h(M,"yRadius",g),y=h(M,"startAngle",0),C=h(M,"endAngle",360),P=h(M,"clockwise",!1),w=h(M,"rotation",0)}else m===void 0&&(m=g),y===void 0&&(y=0),C===void 0&&(C=360),P===void 0&&(P=!1),w===void 0&&(w=0);x.call(this,"EllipseCurve"),this.p0=new a(u,v),this._xRadius=g,this._yRadius=m,this._startAngle=d(y),this._endAngle=d(C),this._clockwise=P,this._rotation=d(w)},getStartPoint:function(c){return c===void 0&&(c=new a),this.getPoint(0,c)},getResolution:function(c){return c*2},getPoint:function(c,u){u===void 0&&(u=new a);for(var v=Math.PI*2,g=this._endAngle-this._startAngle,m=Math.abs(g)<Number.EPSILON;g<0;)g+=v;for(;g>v;)g-=v;g<Number.EPSILON&&(m?g=0:g=v),this._clockwise&&!m&&(g===v?g=-v:g=g-v);var y=this._startAngle+c*g,C=this.p0.x+this._xRadius*Math.cos(y),P=this.p0.y+this._yRadius*Math.sin(y);if(this._rotation!==0){var w=Math.cos(this._rotation),M=Math.sin(this._rotation),R=C-this.p0.x,A=P-this.p0.y;C=R*w-A*M+this.p0.x,P=R*M+A*w+this.p0.y}return u.set(C,P)},setXRadius:function(c){return this.xRadius=c,this},setYRadius:function(c){return this.yRadius=c,this},setWidth:function(c){return this.xRadius=c/2,this},setHeight:function(c){return this.yRadius=c/2,this},setStartAngle:function(c){return this.startAngle=c,this},setEndAngle:function(c){return this.endAngle=c,this},setClockwise:function(c){return this.clockwise=c,this},setRotation:function(c){return this.rotation=c,this},x:{get:function(){return this.p0.x},set:function(c){this.p0.x=c}},y:{get:function(){return this.p0.y},set:function(c){this.p0.y=c}},xRadius:{get:function(){return this._xRadius},set:function(c){this._xRadius=c}},yRadius:{get:function(){return this._yRadius},set:function(c){this._yRadius=c}},startAngle:{get:function(){return l(this._startAngle)},set:function(c){this._startAngle=d(c)}},endAngle:{get:function(){return l(this._endAngle)},set:function(c){this._endAngle=d(c)}},clockwise:{get:function(){return this._clockwise},set:function(c){this._clockwise=c}},angle:{get:function(){return l(this._rotation)},set:function(c){this._rotation=d(c)}},rotation:{get:function(){return this._rotation},set:function(c){this._rotation=c}},toJSON:function(){return{type:this.type,x:this.p0.x,y:this.p0.y,xRadius:this._xRadius,yRadius:this._yRadius,startAngle:l(this._startAngle),endAngle:l(this._endAngle),clockwise:this._clockwise,rotation:l(this._rotation)}}});f.fromJSON=function(c){return new f(c)},n.exports=f},33951:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(80021),d=r(19217),h=r(87841),l=r(26099),a=new o({Extends:x,initialize:function(c,u){x.call(this,"LineCurve"),Array.isArray(c)&&(u=new l(c[2],c[3]),c=new l(c[0],c[1])),this.p0=c,this.p1=u,this.arcLengthDivisions=1},getBounds:function(f){return f===void 0&&(f=new h),d([this.p0,this.p1],f)},getStartPoint:function(f){return f===void 0&&(f=new l),f.copy(this.p0)},getResolution:function(f){return f===void 0&&(f=1),f},getPoint:function(f,c){return c===void 0&&(c=new l),f===1?c.copy(this.p1):(c.copy(this.p1).subtract(this.p0).scale(f).add(this.p0),c)},getPointAt:function(f,c){return this.getPoint(f,c)},getTangent:function(f,c){return c===void 0&&(c=new l),c.copy(this.p1).subtract(this.p0).normalize(),c},getUtoTmapping:function(f,c,u){var v;if(c){var g=this.getLengths(u),m=g[g.length-1],y=Math.min(c,m);v=y/m}else v=f;return v},draw:function(f){return f.lineBetween(this.p0.x,this.p0.y,this.p1.x,this.p1.y),f},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y]}}});a.fromJSON=function(f){var c=f.points,u=new l(c[0],c[1]),v=new l(c[2],c[3]);return new a(u,v)},n.exports=a},14744:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(80021),d=r(32112),h=r(26099),l=new o({Extends:x,initialize:function(f,c,u){x.call(this,"QuadraticBezierCurve"),Array.isArray(f)&&(u=new h(f[4],f[5]),c=new h(f[2],f[3]),f=new h(f[0],f[1])),this.p0=f,this.p1=c,this.p2=u},getStartPoint:function(a){return a===void 0&&(a=new h),a.copy(this.p0)},getResolution:function(a){return a},getPoint:function(a,f){f===void 0&&(f=new h);var c=this.p0,u=this.p1,v=this.p2;return f.set(d(a,c.x,u.x,v.x),d(a,c.y,u.y,v.y))},draw:function(a,f){f===void 0&&(f=32);var c=this.getPoints(f);a.beginPath(),a.moveTo(this.p0.x,this.p0.y);for(var u=1;u<c.length;u++)a.lineTo(c[u].x,c[u].y);return a.strokePath(),a},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y]}}});l.fromJSON=function(a){var f=a.points,c=new h(f[0],f[1]),u=new h(f[2],f[3]),v=new h(f[4],f[5]);return new l(c,u,v)},n.exports=l},42534:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(87842),x=r(83419),d=r(80021),h=r(26099),l=new x({Extends:d,initialize:function(f){f===void 0&&(f=[]),d.call(this,"SplineCurve"),this.points=[],this.addPoints(f)},addPoints:function(a){for(var f=0;f<a.length;f++){var c=new h;typeof a[f]=="number"?(c.x=a[f],c.y=a[f+1],f++):Array.isArray(a[f])?(c.x=a[f][0],c.y=a[f][1]):(c.x=a[f].x,c.y=a[f].y),this.points.push(c)}return this},addPoint:function(a,f){var c=new h(a,f);return this.points.push(c),c},getStartPoint:function(a){return a===void 0&&(a=new h),a.copy(this.points[0])},getResolution:function(a){return a*this.points.length},getPoint:function(a,f){f===void 0&&(f=new h);var c=this.points,u=(c.length-1)*a,v=Math.floor(u),g=u-v,m=c[v===0?v:v-1],y=c[v],C=c[v>c.length-2?c.length-1:v+1],P=c[v>c.length-3?c.length-1:v+2];return f.set(o(g,m.x,y.x,C.x,P.x),o(g,m.y,y.y,C.y,P.y))},toJSON:function(){for(var a=[],f=0;f<this.points.length;f++)a.push(this.points[f].x),a.push(this.points[f].y);return{type:this.type,points:a}}});l.fromJSON=function(a){return new l(a.points)},n.exports=l},25410:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Path:r(46669),MoveTo:r(68618),CubicBezier:r(46728),Curve:r(80021),Ellipse:r(73825),Line:r(33951),QuadraticBezier:r(14744),Spline:r(42534)}},68618:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(26099),d=new o({initialize:function(l,a){this.active=!1,this.p0=new x(l,a)},getPoint:function(h,l){return l===void 0&&(l=new x),l.copy(this.p0)},getPointAt:function(h,l){return this.getPoint(h,l)},getResolution:function(){return 1},getLength:function(){return 0},toJSON:function(){return{type:"MoveTo",points:[this.p0.x,this.p0.y]}}});n.exports=d},46669:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(46728),d=r(73825),h=r(39429),l=r(33951),a=r(68618),f=r(14744),c=r(87841),u=r(42534),v=r(26099),g=r(36383),m=new o({initialize:function(C,P){C===void 0&&(C=0),P===void 0&&(P=0),this.name="",this.defaultDivisions=12,this.curves=[],this.cacheLengths=[],this.autoClose=!1,this.startPoint=new v,this._tmpVec2A=new v,this._tmpVec2B=new v,typeof C=="object"?this.fromJSON(C):this.startPoint.set(C,P)},add:function(y){return this.curves.push(y),this},circleTo:function(y,C,P){return C===void 0&&(C=!1),this.ellipseTo(y,y,0,360,C,P)},closePath:function(){var y=this.curves[0].getPoint(0),C=this.curves[this.curves.length-1].getPoint(1);return y.equals(C)||this.curves.push(new l(C,y)),this},cubicBezierTo:function(y,C,P,w,M,R){var A=this.getEndPoint(),L,F,G;return y instanceof v?(L=y,F=C,G=P):(L=new v(P,w),F=new v(M,R),G=new v(y,C)),this.add(new x(A,L,F,G))},quadraticBezierTo:function(y,C,P,w){var M=this.getEndPoint(),R,A;return y instanceof v?(R=y,A=C):(R=new v(P,w),A=new v(y,C)),this.add(new f(M,R,A))},draw:function(y,C){for(var P=0;P<this.curves.length;P++){var w=this.curves[P];w.active&&w.draw(y,C)}return y},ellipseTo:function(y,C,P,w,M,R){var A=new d(0,0,y,C,P,w,M,R),L=this.getEndPoint(this._tmpVec2A),F=A.getStartPoint(this._tmpVec2B);return L.subtract(F),A.x=L.x,A.y=L.y,this.add(A)},fromJSON:function(y){this.curves=[],this.cacheLengths=[],this.startPoint.set(y.x,y.y),this.autoClose=y.autoClose;for(var C=0;C<y.curves.length;C++){var P=y.curves[C];switch(P.type){case"LineCurve":this.add(l.fromJSON(P));break;case"EllipseCurve":this.add(d.fromJSON(P));break;case"SplineCurve":this.add(u.fromJSON(P));break;case"CubicBezierCurve":this.add(x.fromJSON(P));break;case"QuadraticBezierCurve":this.add(f.fromJSON(P));break}}return this},getBounds:function(y,C){y===void 0&&(y=new c),C===void 0&&(C=16),y.x=Number.MAX_VALUE,y.y=Number.MAX_VALUE;for(var P=new c,w=g.MIN_SAFE_INTEGER,M=g.MIN_SAFE_INTEGER,R=0;R<this.curves.length;R++){var A=this.curves[R];A.active&&(A.getBounds(P,C),y.x=Math.min(y.x,P.x),y.y=Math.min(y.y,P.y),w=Math.max(w,P.right),M=Math.max(M,P.bottom))}return y.right=w,y.bottom=M,y},getCurveLengths:function(){if(this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var y=[],C=0,P=0;P<this.curves.length;P++)C+=this.curves[P].getLength(),y.push(C);return this.cacheLengths=y,y},getCurveAt:function(y){for(var C=y*this.getLength(),P=this.getCurveLengths(),w=0;w<P.length;){if(P[w]>=C)return this.curves[w];w++}return null},getEndPoint:function(y){return y===void 0&&(y=new v),this.curves.length>0?this.curves[this.curves.length-1].getPoint(1,y):y.copy(this.startPoint),y},getLength:function(){var y=this.getCurveLengths();return y[y.length-1]},getPoint:function(y,C){C===void 0&&(C=new v);for(var P=y*this.getLength(),w=this.getCurveLengths(),M=0;M<w.length;){if(w[M]>=P){var R=w[M]-P,A=this.curves[M],L=A.getLength(),F=L===0?0:1-R/L;return A.getPointAt(F,C)}M++}return null},getPoints:function(y,C){!y&&!C&&(y=this.defaultDivisions);for(var P=[],w,M=0;M<this.curves.length;M++){var R=this.curves[M];if(R.active)for(var A=R.getResolution(y),L=R.getPoints(A,C),F=0;F<L.length;F++){var G=L[F];w&&w.equals(G)||(P.push(G),w=G)}}return this.autoClose&&P.length>1&&!P[P.length-1].equals(P[0])&&P.push(P[0]),P},getRandomPoint:function(y){return y===void 0&&(y=new v),this.getPoint(Math.random(),y)},getSpacedPoints:function(y){y===void 0&&(y=40);for(var C=[],P=0;P<=y;P++)C.push(this.getPoint(P/y));return this.autoClose&&C.push(C[0]),C},getStartPoint:function(y){return y===void 0&&(y=new v),y.copy(this.startPoint)},getTangent:function(y,C){C===void 0&&(C=new v);for(var P=y*this.getLength(),w=this.getCurveLengths(),M=0;M<w.length;){if(w[M]>=P){var R=w[M]-P,A=this.curves[M],L=A.getLength(),F=L===0?0:1-R/L;return A.getTangentAt(F,C)}M++}return null},lineTo:function(y,C){y instanceof v?this._tmpVec2B.copy(y):typeof y=="object"?this._tmpVec2B.setFromObject(y):this._tmpVec2B.set(y,C);var P=this.getEndPoint(this._tmpVec2A);return this.add(new l([P.x,P.y,this._tmpVec2B.x,this._tmpVec2B.y]))},splineTo:function(y){return y.unshift(this.getEndPoint()),this.add(new u(y))},moveTo:function(y,C){return y instanceof v?this.add(new a(y.x,y.y)):this.add(new a(y,C))},toJSON:function(){for(var y=[],C=0;C<this.curves.length;C++)y.push(this.curves[C].toJSON());return{type:"Path",x:this.startPoint.x,y:this.startPoint.y,autoClose:this.autoClose,curves:y}},updateArcLengths:function(){this.cacheLengths=[],this.getCurveLengths()},destroy:function(){this.curves.length=0,this.cacheLengths.length=0,this.startPoint=void 0}});h.register("path",function(y,C){return new m(y,C)}),n.exports=m},45893:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(24882),d=new o({initialize:function(l,a){this.parent=l,this.events=a,a||(this.events=l.events?l.events:l),this.list={},this.values={},this._frozen=!1,!l.hasOwnProperty("sys")&&this.events&&this.events.once(x.DESTROY,this.destroy,this)},get:function(h){var l=this.list;if(Array.isArray(h)){for(var a=[],f=0;f<h.length;f++)a.push(l[h[f]]);return a}else return l[h]},getAll:function(){var h={};for(var l in this.list)this.list.hasOwnProperty(l)&&(h[l]=this.list[l]);return h},query:function(h){var l={};for(var a in this.list)this.list.hasOwnProperty(a)&&a.match(h)&&(l[a]=this.list[a]);return l},set:function(h,l){if(this._frozen)return this;if(typeof h=="string")return this.setValue(h,l);for(var a in h)this.setValue(a,h[a]);return this},inc:function(h,l){if(this._frozen)return this;l===void 0&&(l=1);var a=this.get(h);return a===void 0&&(a=0),this.set(h,a+l),this},toggle:function(h){return this._frozen?this:(this.set(h,!this.get(h)),this)},setValue:function(h,l){if(this._frozen)return this;if(this.has(h))this.values[h]=l;else{var a=this,f=this.list,c=this.events,u=this.parent;Object.defineProperty(this.values,h,{enumerable:!0,configurable:!0,get:function(){return f[h]},set:function(v){if(!a._frozen){var g=f[h];f[h]=v,c.emit(x.CHANGE_DATA,u,h,v,g),c.emit(x.CHANGE_DATA_KEY+h,u,v,g)}}}),f[h]=l,c.emit(x.SET_DATA,u,h,l)}return this},each:function(h,l){for(var a=[this.parent,null,void 0],f=1;f<arguments.length;f++)a.push(arguments[f]);for(var c in this.list)a[1]=c,a[2]=this.list[c],h.apply(l,a);return this},merge:function(h,l){l===void 0&&(l=!0);for(var a in h)h.hasOwnProperty(a)&&(l||!l&&!this.has(a))&&this.setValue(a,h[a]);return this},remove:function(h){if(this._frozen)return this;if(Array.isArray(h))for(var l=0;l<h.length;l++)this.removeValue(h[l]);else return this.removeValue(h);return this},removeValue:function(h){if(this.has(h)){var l=this.list[h];delete this.list[h],delete this.values[h],this.events.emit(x.REMOVE_DATA,this.parent,h,l)}return this},pop:function(h){var l=void 0;return!this._frozen&&this.has(h)&&(l=this.list[h],delete this.list[h],delete this.values[h],this.events.emit(x.REMOVE_DATA,this.parent,h,l)),l},has:function(h){return this.list.hasOwnProperty(h)},setFreeze:function(h){return this._frozen=h,this},reset:function(){for(var h in this.list)delete this.list[h],delete this.values[h];return this._frozen=!1,this},destroy:function(){this.reset(),this.events.off(x.CHANGE_DATA),this.events.off(x.SET_DATA),this.events.off(x.REMOVE_DATA),this.parent=null},freeze:{get:function(){return this._frozen},set:function(h){this._frozen=!!h}},count:{get:function(){var h=0;for(var l in this.list)this.list[l]!==void 0&&h++;return h}}});n.exports=d},63646:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(45893),d=r(37277),h=r(44594),l=new o({Extends:x,initialize:function(f){x.call(this,f,f.sys.events),this.scene=f,this.systems=f.sys,f.sys.events.once(h.BOOT,this.boot,this),f.sys.events.on(h.START,this.start,this)},boot:function(){this.events=this.systems.events,this.events.once(h.DESTROY,this.destroy,this)},start:function(){this.events.once(h.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.systems.events.off(h.SHUTDOWN,this.shutdown,this)},destroy:function(){x.prototype.destroy.call(this),this.events.off(h.START,this.start,this),this.scene=null,this.systems=null}});d.register("DataManagerPlugin",l,"data"),n.exports=l},10700:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="changedata"},93608:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="changedata-"},60883:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="destroy"},69780:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="removedata"},22166:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="setdata"},24882:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={CHANGE_DATA:r(10700),CHANGE_DATA_KEY:r(93608),DESTROY:r(60883),REMOVE_DATA:r(69780),SET_DATA:r(22166)}},44965:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={DataManager:r(45893),DataManagerPlugin:r(63646),Events:r(24882)}},7098:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(84148),x={flac:!1,aac:!1,audioData:!1,dolby:!1,m4a:!1,mp3:!1,ogg:!1,opus:!1,wav:!1,webAudio:!1,webm:!1};function d(){if(typeof importScripts=="function")return x;x.audioData=!!window.Audio,x.webAudio=!!(window.AudioContext||window.webkitAudioContext);var h=document.createElement("audio"),l=!!h.canPlayType;try{if(l){var a=function(u,v){var g=h.canPlayType("audio/"+u).replace(/^no$/,"");return v?!!(g||h.canPlayType("audio/"+v).replace(/^no$/,"")):!!g};if(x.ogg=a('ogg; codecs="vorbis"'),x.opus=a('ogg; codecs="opus"',"opus"),x.mp3=a("mpeg"),x.wav=a("wav"),x.m4a=a("x-m4a"),x.aac=a("aac"),x.flac=a("flac","x-flac"),x.webm=a('webm; codecs="vorbis"'),h.canPlayType('audio/mp4; codecs="ec-3"')!==""){if(o.edge)x.dolby=!0;else if(o.safari&&o.safariVersion>=9&&/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)){var f=parseInt(RegExp.$1,10),c=parseInt(RegExp.$2,10);(f===10&&c>=11||f>10)&&(x.dolby=!0)}}}}catch{}return x}n.exports=d()},84148:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(25892),x={chrome:!1,chromeVersion:0,edge:!1,firefox:!1,firefoxVersion:0,ie:!1,ieVersion:0,mobileSafari:!1,opera:!1,safari:!1,safariVersion:0,silk:!1,trident:!1,tridentVersion:0,es2019:!1};function d(){var h=navigator.userAgent;return/Edg\/\d+/.test(h)?(x.edge=!0,x.es2019=!0):/OPR/.test(h)?(x.opera=!0,x.es2019=!0):/Chrome\/(\d+)/.test(h)&&!o.windowsPhone?(x.chrome=!0,x.chromeVersion=parseInt(RegExp.$1,10),x.es2019=x.chromeVersion>69):/Firefox\D+(\d+)/.test(h)?(x.firefox=!0,x.firefoxVersion=parseInt(RegExp.$1,10),x.es2019=x.firefoxVersion>10):/AppleWebKit\/(?!.*CriOS)/.test(h)&&o.iOS?(x.mobileSafari=!0,x.es2019=!0):/MSIE (\d+\.\d+);/.test(h)?(x.ie=!0,x.ieVersion=parseInt(RegExp.$1,10)):/Version\/(\d+\.\d+(\.\d+)?) Safari/.test(h)&&!o.windowsPhone?(x.safari=!0,x.safariVersion=parseInt(RegExp.$1,10),x.es2019=x.safariVersion>10):/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(h)&&(x.ie=!0,x.trident=!0,x.tridentVersion=parseInt(RegExp.$1,10),x.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(h)&&(x.silk=!0),x}n.exports=d()},89289:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(27919),x={supportInverseAlpha:!1,supportNewBlendModes:!1};function d(){var a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",f="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",c=new Image;return c.onload=function(){var u=new Image;u.onload=function(){var v=o.create2D(u,6),g=v.getContext("2d",{willReadFrequently:!0});if(g.globalCompositeOperation="multiply",g.drawImage(c,0,0),g.drawImage(u,2,0),!g.getImageData(2,0,1,1))return!1;var m=g.getImageData(2,0,1,1).data;o.remove(u),x.supportNewBlendModes=m[0]===255&&m[1]===0&&m[2]===0},u.src=a+"/wCKxvRF"+f},c.src=a+"AP804Oa6"+f,!1}function h(){var a=o.create2D(this,2),f=a.getContext("2d",{willReadFrequently:!0});f.fillStyle="rgba(10, 20, 30, 0.5)",f.fillRect(0,0,1,1);var c=f.getImageData(0,0,1,1);if(c===null)return!1;f.putImageData(c,1,0);var u=f.getImageData(1,0,1,1),v=u.data[0]===c.data[0]&&u.data[1]===c.data[1]&&u.data[2]===c.data[2]&&u.data[3]===c.data[3];return o.remove(this),v}function l(){return typeof importScripts!="function"&&document!==void 0&&(x.supportNewBlendModes=d(),x.supportInverseAlpha=h()),x}n.exports=l()},89357:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(25892),x=r(84148),d=r(27919),h={canvas:!1,canvasBitBltShift:null,file:!1,fileSystem:!1,getUserMedia:!0,littleEndian:!1,localStorage:!1,pointerLock:!1,stableSort:!1,support32bit:!1,vibration:!1,webGL:!1,worker:!1};function l(){var f=new ArrayBuffer(4),c=new Uint8Array(f),u=new Uint32Array(f);return c[0]=161,c[1]=178,c[2]=195,c[3]=212,u[0]===3569595041?!0:u[0]===2712847316?!1:null}function a(){if(typeof importScripts=="function")return h;h.canvas=!!window.CanvasRenderingContext2D;try{h.localStorage=!!localStorage.getItem}catch{h.localStorage=!1}h.file=!!window.File&&!!window.FileReader&&!!window.FileList&&!!window.Blob,h.fileSystem=!!window.requestFileSystem;var f=!1,c=function(){if(window.WebGLRenderingContext)try{var u=d.createWebGL(this),v=u.getContext("webgl")||u.getContext("experimental-webgl"),g=d.create2D(this),m=g.getContext("2d",{willReadFrequently:!0}),y=m.createImageData(1,1);return f=y.data instanceof Uint8ClampedArray,d.remove(u),d.remove(g),!!v}catch{return!1}return!1};return h.webGL=c(),h.worker=!!window.Worker,h.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,h.getUserMedia=h.getUserMedia&&!!navigator.getUserMedia&&!!window.URL,x.firefox&&x.firefoxVersion<21&&(h.getUserMedia=!1),!o.iOS&&(x.ie||x.firefox||x.chrome)&&(h.canvasBitBltShift=!0),(x.safari||x.mobileSafari)&&(h.canvasBitBltShift=!1),navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&(h.vibration=!0),typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint32Array<"u"&&(h.littleEndian=l()),h.support32bit=typeof ArrayBuffer<"u"&&typeof Uint8ClampedArray<"u"&&typeof Int32Array<"u"&&h.littleEndian!==null&&f,h}n.exports=a()},91639:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={available:!1,cancel:"",keyboard:!1,request:""};function r(){if(typeof importScripts=="function")return T;var o,x="Fullscreen",d="FullScreen",h=["request"+x,"request"+d,"webkitRequest"+x,"webkitRequest"+d,"msRequest"+x,"msRequest"+d,"mozRequest"+d,"mozRequest"+x];for(o=0;o<h.length;o++)if(document.documentElement[h[o]]){T.available=!0,T.request=h[o];break}var l=["cancel"+d,"exit"+x,"webkitCancel"+d,"webkitExit"+x,"msCancel"+d,"msExit"+x,"mozCancel"+d,"mozExit"+x];if(T.available){for(o=0;o<l.length;o++)if(document[l[o]]){T.cancel=l[o];break}}return window.Element&&Element.ALLOW_KEYBOARD_INPUT&&!/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)&&(T.keyboard=!0),Object.defineProperty(T,"active",{get:function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}}),T}n.exports=r()},31784:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(84148),x={gamepads:!1,mspointer:!1,touch:!1,wheelEvent:null};function d(){return typeof importScripts=="function"||(("ontouchstart"in document.documentElement||navigator.maxTouchPoints&&navigator.maxTouchPoints>=1)&&(x.touch=!0),(navigator.msPointerEnabled||navigator.pointerEnabled)&&(x.mspointer=!0),navigator.getGamepads&&(x.gamepads=!0),"onwheel"in window||o.ie&&"WheelEvent"in window?x.wheelEvent="wheel":"onmousewheel"in window?x.wheelEvent="mousewheel":o.firefox&&"MouseScrollEvent"in window&&(x.wheelEvent="DOMMouseScroll")),x}n.exports=d()},25892:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={android:!1,chromeOS:!1,cordova:!1,crosswalk:!1,desktop:!1,ejecta:!1,electron:!1,iOS:!1,iOSVersion:0,iPad:!1,iPhone:!1,kindle:!1,linux:!1,macOS:!1,node:!1,nodeWebkit:!1,pixelRatio:1,webApp:!1,windows:!1,windowsPhone:!1};function r(){if(typeof importScripts=="function")return T;var o=navigator.userAgent;/Windows/.test(o)?T.windows=!0:/Mac OS/.test(o)&&!/like Mac OS/.test(o)?navigator.maxTouchPoints&&navigator.maxTouchPoints>2?(T.iOS=!0,T.iPad=!0,navigator.appVersion.match(/Version\/(\d+)/),T.iOSVersion=parseInt(RegExp.$1,10)):T.macOS=!0:/Android/.test(o)?T.android=!0:/Linux/.test(o)?T.linux=!0:/iP[ao]d|iPhone/i.test(o)?(T.iOS=!0,navigator.appVersion.match(/OS (\d+)/),T.iOSVersion=parseInt(RegExp.$1,10),T.iPhone=o.toLowerCase().indexOf("iphone")!==-1,T.iPad=o.toLowerCase().indexOf("ipad")!==-1):/Kindle/.test(o)||/\bKF[A-Z][A-Z]+/.test(o)||/Silk.*Mobile Safari/.test(o)?T.kindle=!0:/CrOS/.test(o)&&(T.chromeOS=!0),(/Windows Phone/i.test(o)||/IEMobile/i.test(o))&&(T.android=!1,T.iOS=!1,T.macOS=!1,T.windows=!0,T.windowsPhone=!0);var x=/Silk/.test(o);return(T.windows||T.macOS||T.linux&&!x||T.chromeOS)&&(T.desktop=!0),(T.windowsPhone||/Windows NT/i.test(o)&&/Touch/i.test(o))&&(T.desktop=!1),navigator.standalone&&(T.webApp=!0),typeof importScripts!="function"&&(window.cordova!==void 0&&(T.cordova=!0),window.ejecta!==void 0&&(T.ejecta=!0)),typeof process<"u"&&process.versions&&process.versions.node&&(T.node=!0),T.node&&typeof process.versions=="object"&&(T.nodeWebkit=!!process.versions["node-webkit"],T.electron=!!process.versions.electron),/Crosswalk/.test(o)&&(T.crosswalk=!0),T.pixelRatio=window.devicePixelRatio||1,T}n.exports=r()},43267:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(95540),x={h264:!1,hls:!1,mp4:!1,m4v:!1,ogg:!1,vp9:!1,webm:!1,hasRequestVideoFrame:!1};function d(){if(typeof importScripts=="function")return x;var h=document.createElement("video"),l=!!h.canPlayType,a=/^no$/;try{l&&(h.canPlayType('video/ogg; codecs="theora"').replace(a,"")&&(x.ogg=!0),h.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(a,"")&&(x.h264=!0,x.mp4=!0),h.canPlayType("video/x-m4v").replace(a,"")&&(x.m4v=!0),h.canPlayType('video/webm; codecs="vp8, vorbis"').replace(a,"")&&(x.webm=!0),h.canPlayType('video/webm; codecs="vp9"').replace(a,"")&&(x.vp9=!0),h.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(a,"")&&(x.hls=!0))}catch{}return h.parentNode&&h.parentNode.removeChild(h),x.getVideoURL=function(f){Array.isArray(f)||(f=[f]);for(var c=0;c<f.length;c++){var u=o(f[c],"url",f[c]);if(u.indexOf("blob:")===0)return{url:u,type:""};var v;if(u.indexOf("data:")===0?v=u.split(",")[0].match(/\/(.*?);/):v=u.match(/\.([a-zA-Z0-9]+)($|\?)/),v=o(f[c],"type",v?v[1]:"").toLowerCase(),x[v])return{url:u,type:v}}return null},x}n.exports=d()},82264:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={os:r(25892),browser:r(84148),features:r(89357),input:r(31784),audio:r(7098),video:r(43267),fullscreen:r(91639),canvasFeatures:r(89289)}},89422:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=new Float32Array(20),d=new o({initialize:function(){this._matrix=new Float32Array(20),this.alpha=1,this._dirty=!0,this._data=new Float32Array(20),this.reset()},set:function(h){return this._matrix.set(h),this._dirty=!0,this},reset:function(){var h=this._matrix;return h.fill(0),h[0]=1,h[6]=1,h[12]=1,h[18]=1,this.alpha=1,this._dirty=!0,this},getData:function(){var h=this._data;return this._dirty&&(h.set(this._matrix),h[4]/=255,h[9]/=255,h[14]/=255,h[19]/=255,this._dirty=!1),h},brightness:function(h,l){h===void 0&&(h=0),l===void 0&&(l=!1);var a=h;return this.multiply([a,0,0,0,0,0,a,0,0,0,0,0,a,0,0,0,0,0,1,0],l)},saturate:function(h,l){h===void 0&&(h=0),l===void 0&&(l=!1);var a=h*2/3+1,f=(a-1)*-.5;return this.multiply([a,f,f,0,0,f,a,f,0,0,f,f,a,0,0,0,0,0,1,0],l)},desaturate:function(h){return h===void 0&&(h=!1),this.saturate(-1,h)},hue:function(h,l){h===void 0&&(h=0),l===void 0&&(l=!1),h=h/180*Math.PI;var a=Math.cos(h),f=Math.sin(h),c=.213,u=.715,v=.072;return this.multiply([c+a*(1-c)+f*-c,u+a*-u+f*-u,v+a*-v+f*(1-v),0,0,c+a*-c+f*.143,u+a*(1-u)+f*.14,v+a*-v+f*-.283,0,0,c+a*-c+f*-(1-c),u+a*-u+f*u,v+a*(1-v)+f*v,0,0,0,0,0,1,0],l)},grayscale:function(h,l){return h===void 0&&(h=1),l===void 0&&(l=!1),this.saturate(-h,l)},blackWhite:function(h){return h===void 0&&(h=!1),this.multiply(d.BLACK_WHITE,h)},contrast:function(h,l){h===void 0&&(h=0),l===void 0&&(l=!1);var a=h+1,f=-.5*(a-1);return this.multiply([a,0,0,0,f,0,a,0,0,f,0,0,a,0,f,0,0,0,1,0],l)},negative:function(h){return h===void 0&&(h=!1),this.multiply(d.NEGATIVE,h)},desaturateLuminance:function(h){return h===void 0&&(h=!1),this.multiply(d.DESATURATE_LUMINANCE,h)},sepia:function(h){return h===void 0&&(h=!1),this.multiply(d.SEPIA,h)},night:function(h,l){return h===void 0&&(h=.1),l===void 0&&(l=!1),this.multiply([h*-2,-h,0,0,0,-h,0,h,0,0,0,h,h*2,0,0,0,0,0,1,0],l)},lsd:function(h){return h===void 0&&(h=!1),this.multiply(d.LSD,h)},brown:function(h){return h===void 0&&(h=!1),this.multiply(d.BROWN,h)},vintagePinhole:function(h){return h===void 0&&(h=!1),this.multiply(d.VINTAGE,h)},kodachrome:function(h){return h===void 0&&(h=!1),this.multiply(d.KODACHROME,h)},technicolor:function(h){return h===void 0&&(h=!1),this.multiply(d.TECHNICOLOR,h)},polaroid:function(h){return h===void 0&&(h=!1),this.multiply(d.POLAROID,h)},shiftToBGR:function(h){return h===void 0&&(h=!1),this.multiply(d.SHIFT_BGR,h)},multiply:function(h,l){l===void 0&&(l=!1),l||this.reset();var a=this._matrix,f=x;return f.set(a),a.set([f[0]*h[0]+f[1]*h[5]+f[2]*h[10]+f[3]*h[15],f[0]*h[1]+f[1]*h[6]+f[2]*h[11]+f[3]*h[16],f[0]*h[2]+f[1]*h[7]+f[2]*h[12]+f[3]*h[17],f[0]*h[3]+f[1]*h[8]+f[2]*h[13]+f[3]*h[18],f[0]*h[4]+f[1]*h[9]+f[2]*h[14]+f[3]*h[19]+f[4],f[5]*h[0]+f[6]*h[5]+f[7]*h[10]+f[8]*h[15],f[5]*h[1]+f[6]*h[6]+f[7]*h[11]+f[8]*h[16],f[5]*h[2]+f[6]*h[7]+f[7]*h[12]+f[8]*h[17],f[5]*h[3]+f[6]*h[8]+f[7]*h[13]+f[8]*h[18],f[5]*h[4]+f[6]*h[9]+f[7]*h[14]+f[8]*h[19]+f[9],f[10]*h[0]+f[11]*h[5]+f[12]*h[10]+f[13]*h[15],f[10]*h[1]+f[11]*h[6]+f[12]*h[11]+f[13]*h[16],f[10]*h[2]+f[11]*h[7]+f[12]*h[12]+f[13]*h[17],f[10]*h[3]+f[11]*h[8]+f[12]*h[13]+f[13]*h[18],f[10]*h[4]+f[11]*h[9]+f[12]*h[14]+f[13]*h[19]+f[14],f[15]*h[0]+f[16]*h[5]+f[17]*h[10]+f[18]*h[15],f[15]*h[1]+f[16]*h[6]+f[17]*h[11]+f[18]*h[16],f[15]*h[2]+f[16]*h[7]+f[17]*h[12]+f[18]*h[17],f[15]*h[3]+f[16]*h[8]+f[17]*h[13]+f[18]*h[18],f[15]*h[4]+f[16]*h[9]+f[17]*h[14]+f[18]*h[19]+f[19]]),this._dirty=!0,this}});d.BLACK_WHITE=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],d.NEGATIVE=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],d.DESATURATE_LUMINANCE=[.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,0,0,0,1,0],d.SEPIA=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],d.LSD=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],d.BROWN=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],d.VINTAGE=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],d.KODACHROME=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],d.TECHNICOLOR=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],d.POLAROID=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],d.SHIFT_BGR=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],n.exports=d},51767:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(29747),d=new o({initialize:function(l,a,f){this._rgb=[0,0,0],this.onChangeCallback=x,this.dirty=!1,this.set(l,a,f)},set:function(h,l,a){return h===void 0&&(h=0),l===void 0&&(l=0),a===void 0&&(a=0),this._rgb=[h,l,a],this.onChange(),this},equals:function(h,l,a){var f=this._rgb;return f[0]===h&&f[1]===l&&f[2]===a},onChange:function(){this.dirty=!0;var h=this._rgb;this.onChangeCallback.call(this,h[0],h[1],h[2])},r:{get:function(){return this._rgb[0]},set:function(h){this._rgb[0]=h,this.onChange()}},g:{get:function(){return this._rgb[1]},set:function(h){this._rgb[1]=h,this.onChange()}},b:{get:function(){return this._rgb[2]},set:function(h){this._rgb[2]=h,this.onChange()}},destroy:function(){this.onChangeCallback=null}});n.exports=d},60461:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12};n.exports=T},54312:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(62235),x=r(35893),d=r(86327),h=r(88417),l=function(a,f,c,u){return c===void 0&&(c=0),u===void 0&&(u=0),h(a,x(f)+c),d(a,o(f)+u),a};n.exports=l},46768:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(62235),x=r(26541),d=r(86327),h=r(385),l=function(a,f,c,u){return c===void 0&&(c=0),u===void 0&&(u=0),h(a,x(f)-c),d(a,o(f)+u),a};n.exports=l},35827:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(62235),x=r(54380),d=r(86327),h=r(40136),l=function(a,f,c,u){return c===void 0&&(c=0),u===void 0&&(u=0),h(a,x(f)+c),d(a,o(f)+u),a};n.exports=l},46871:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(66786),x=r(35893),d=r(7702),h=function(l,a,f,c){return f===void 0&&(f=0),c===void 0&&(c=0),o(l,x(a)+f,d(a)+c),l};n.exports=h},5198:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(7702),x=r(26541),d=r(20786),h=r(385),l=function(a,f,c,u){return c===void 0&&(c=0),u===void 0&&(u=0),h(a,x(f)-c),d(a,o(f)+u),a};n.exports=l},11879:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(60461),x=[];x[o.BOTTOM_CENTER]=r(54312),x[o.BOTTOM_LEFT]=r(46768),x[o.BOTTOM_RIGHT]=r(35827),x[o.CENTER]=r(46871),x[o.LEFT_CENTER]=r(5198),x[o.RIGHT_CENTER]=r(80503),x[o.TOP_CENTER]=r(89698),x[o.TOP_LEFT]=r(922),x[o.TOP_RIGHT]=r(21373),x[o.LEFT_BOTTOM]=x[o.BOTTOM_LEFT],x[o.LEFT_TOP]=x[o.TOP_LEFT],x[o.RIGHT_BOTTOM]=x[o.BOTTOM_RIGHT],x[o.RIGHT_TOP]=x[o.TOP_RIGHT];var d=function(h,l,a,f,c){return x[a](h,l,f,c)};n.exports=d},80503:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(7702),x=r(54380),d=r(20786),h=r(40136),l=function(a,f,c,u){return c===void 0&&(c=0),u===void 0&&(u=0),h(a,x(f)+c),d(a,o(f)+u),a};n.exports=l},89698:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(35893),x=r(17717),d=r(88417),h=r(66737),l=function(a,f,c,u){return c===void 0&&(c=0),u===void 0&&(u=0),d(a,o(f)+c),h(a,x(f)-u),a};n.exports=l},922:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(26541),x=r(17717),d=r(385),h=r(66737),l=function(a,f,c,u){return c===void 0&&(c=0),u===void 0&&(u=0),d(a,o(f)-c),h(a,x(f)-u),a};n.exports=l},21373:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(54380),x=r(17717),d=r(40136),h=r(66737),l=function(a,f,c,u){return c===void 0&&(c=0),u===void 0&&(u=0),d(a,o(f)+c),h(a,x(f)-u),a};n.exports=l},91660:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={BottomCenter:r(54312),BottomLeft:r(46768),BottomRight:r(35827),Center:r(46871),LeftCenter:r(5198),QuickSet:r(11879),RightCenter:r(80503),TopCenter:r(89698),TopLeft:r(922),TopRight:r(21373)}},71926:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(60461),x=r(79291),d={In:r(91660),To:r(16694)};d=x(!1,d,o),n.exports=d},21578:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(62235),x=r(35893),d=r(88417),h=r(66737),l=function(a,f,c,u){return c===void 0&&(c=0),u===void 0&&(u=0),d(a,x(f)+c),h(a,o(f)+u),a};n.exports=l},10210:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(62235),x=r(26541),d=r(385),h=r(66737),l=function(a,f,c,u){return c===void 0&&(c=0),u===void 0&&(u=0),d(a,x(f)-c),h(a,o(f)+u),a};n.exports=l},82341:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(62235),x=r(54380),d=r(40136),h=r(66737),l=function(a,f,c,u){return c===void 0&&(c=0),u===void 0&&(u=0),d(a,x(f)+c),h(a,o(f)+u),a};n.exports=l},87958:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(62235),x=r(26541),d=r(86327),h=r(40136),l=function(a,f,c,u){return c===void 0&&(c=0),u===void 0&&(u=0),h(a,x(f)-c),d(a,o(f)+u),a};n.exports=l},40080:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(7702),x=r(26541),d=r(20786),h=r(40136),l=function(a,f,c,u){return c===void 0&&(c=0),u===void 0&&(u=0),h(a,x(f)-c),d(a,o(f)+u),a};n.exports=l},88466:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(26541),x=r(17717),d=r(40136),h=r(66737),l=function(a,f,c,u){return c===void 0&&(c=0),u===void 0&&(u=0),d(a,o(f)-c),h(a,x(f)-u),a};n.exports=l},38829:(n,T,r)=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(60461),x=[];x[o.BOTTOM_CENTER]=r(21578),x[o.BOTTOM_LEFT]=r(10210),x[o.BOTTOM_RIGHT]=r(82341),x[o.LEFT_BOTTOM]=r(87958),x[o.LEFT_CENTER]=r(40080),x[o.LEFT_TOP]=r(88466),x[o.RIGHT_BOTTOM]=r(19211),x[o.RIGHT_CENTER]=r(34609),x[o.RIGHT_TOP]=r(48741),x[o.TOP_CENTER]=r(49440),x[o.TOP_LEFT]=r(81288),x[o.TOP_RIGHT]=r(61323);var d=function(h,l,a,f,c){return x[a](h,l,f,c)};n.exports=d},19211:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(62235),x=r(54380),d=r(86327),h=r(385),l=function(a,f,c,u){return c===void 0&&(c=0),u===void 0&&(u=0),h(a,x(f)+c),d(a,o(f)+u),a};n.exports=l},34609:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(7702),x=r(54380),d=r(20786),h=r(385),l=function(a,f,c,u){return c===void 0&&(c=0),u===void 0&&(u=0),h(a,x(f)+c),d(a,o(f)+u),a};n.exports=l},48741:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(54380),x=r(17717),d=r(385),h=r(66737),l=function(a,f,c,u){return c===void 0&&(c=0),u===void 0&&(u=0),d(a,o(f)+c),h(a,x(f)-u),a};n.exports=l},49440:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(35893),x=r(17717),d=r(86327),h=r(88417),l=function(a,f,c,u){return c===void 0&&(c=0),u===void 0&&(u=0),h(a,o(f)+c),d(a,x(f)-u),a};n.exports=l},81288:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(26541),x=r(17717),d=r(86327),h=r(385),l=function(a,f,c,u){return c===void 0&&(c=0),u===void 0&&(u=0),h(a,o(f)-c),d(a,x(f)-u),a};n.exports=l},61323:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(54380),x=r(17717),d=r(86327),h=r(40136),l=function(a,f,c,u){return c===void 0&&(c=0),u===void 0&&(u=0),h(a,o(f)+c),d(a,x(f)-u),a};n.exports=l},16694:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={BottomCenter:r(21578),BottomLeft:r(10210),BottomRight:r(82341),LeftBottom:r(87958),LeftCenter:r(40080),LeftTop:r(88466),QuickSet:r(38829),RightBottom:r(19211),RightCenter:r(34609),RightTop:r(48741),TopCenter:r(49440),TopLeft:r(81288),TopRight:r(61323)}},66786:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(88417),x=r(20786),d=function(h,l,a){return o(h,l),x(h,a)};n.exports=d},62235:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r.y+r.height-r.height*r.originY};n.exports=T},72873:(n,T,r)=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(62235),x=r(26541),d=r(54380),h=r(17717),l=r(87841),a=function(f,c){c===void 0&&(c=new l);var u=x(f),v=h(f);return c.x=u,c.y=v,c.width=d(f)-u,c.height=o(f)-v,c};n.exports=a},35893:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r.x-r.width*r.originX+r.width*.5};n.exports=T},7702:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r.y-r.height*r.originY+r.height*.5};n.exports=T},26541:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r.x-r.width*r.originX};n.exports=T},87431:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r.width*r.originX};n.exports=T},46928:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r.height*r.originY};n.exports=T},54380:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r.x+r.width-r.width*r.originX};n.exports=T},17717:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r.y-r.height*r.originY};n.exports=T},86327:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return r.y=o-r.height+r.height*r.originY,r};n.exports=T},88417:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){var x=r.width*r.originX;return r.x=o+x-r.width*.5,r};n.exports=T},20786:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){var x=r.height*r.originY;return r.y=o+x-r.height*.5,r};n.exports=T},385:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return r.x=o+r.width*r.originX,r};n.exports=T},40136:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return r.x=o-r.width+r.width*r.originX,r};n.exports=T},66737:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return r.y=o+r.height*r.originY,r};n.exports=T},58724:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={CenterOn:r(66786),GetBottom:r(62235),GetBounds:r(72873),GetCenterX:r(35893),GetCenterY:r(7702),GetLeft:r(26541),GetOffsetX:r(87431),GetOffsetY:r(46928),GetRight:r(54380),GetTop:r(17717),SetBottom:r(86327),SetCenterX:r(88417),SetCenterY:r(20786),SetLeft:r(385),SetRight:r(40136),SetTop:r(66737)}},20623:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setCrisp:function(r){var o=["optimizeSpeed","-moz-crisp-edges","-o-crisp-edges","-webkit-optimize-contrast","optimize-contrast","crisp-edges","pixelated"];return o.forEach(function(x){r.style["image-rendering"]=x}),r.style.msInterpolationMode="nearest-neighbor",r},setBicubic:function(r){return r.style["image-rendering"]="auto",r.style.msInterpolationMode="bicubic",r}};n.exports=T},27919:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(8054),x=r(68703),d=[],h=!1,l=function(){var a=function(P,w,M,R,A){w===void 0&&(w=1),M===void 0&&(M=1),R===void 0&&(R=o.CANVAS),A===void 0&&(A=!1);var L,F=u(R);return F===null?(F={parent:P,canvas:document.createElement("canvas"),type:R},R===o.CANVAS&&d.push(F),L=F.canvas):(F.parent=P,L=F.canvas),A&&(F.parent=L),L.width=w,L.height=M,h&&R===o.CANVAS&&x.disable(L.getContext("2d",{willReadFrequently:!1})),L},f=function(P,w,M){return a(P,w,M,o.CANVAS)},c=function(P,w,M){return a(P,w,M,o.WEBGL)},u=function(P){if(P===void 0&&(P=o.CANVAS),P===o.WEBGL)return null;for(var w=0;w<d.length;w++){var M=d[w];if(!M.parent&&M.type===P)return M}return null},v=function(P){var w=P instanceof HTMLCanvasElement;d.forEach(function(M){(w&&M.canvas===P||!w&&M.parent===P)&&(M.parent=null,M.canvas.width=1,M.canvas.height=1)})},g=function(){var P=0;return d.forEach(function(w){w.parent&&P++}),P},m=function(){return d.length-g()},y=function(){h=!0},C=function(){h=!1};return{create2D:f,create:a,createWebGL:c,disableSmoothing:y,enableSmoothing:C,first:u,free:m,pool:d,remove:v,total:g}};n.exports=l()},68703:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T="",r=function(){var o=function(l){for(var a=["i","webkitI","msI","mozI","oI"],f=0;f<a.length;f++){var c=a[f]+"mageSmoothingEnabled";if(c in l)return c}return null},x=function(l){return T===""&&(T=o(l)),T&&(l[T]=!0),l},d=function(l){return T===""&&(T=o(l)),T&&(l[T]=!1),l},h=function(l){return T!==null?l[T]:null};return{disable:d,enable:x,getPrefix:o,isEnabled:h}};n.exports=r()},65208:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return o===void 0&&(o="none"),r.style.msTouchAction=o,r.style["ms-touch-action"]=o,r.style["touch-action"]=o,r};n.exports=T},91610:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){o===void 0&&(o="none");var x=["-webkit-","-khtml-","-moz-","-ms-",""];return x.forEach(function(d){r.style[d+"user-select"]=o}),r.style["-webkit-touch-callout"]=o,r.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)",r};n.exports=T},26253:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={CanvasInterpolation:r(20623),CanvasPool:r(27919),Smoothing:r(68703),TouchAction:r(65208),UserSelect:r(91610)}},40987:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(37589),d=r(1e3),h=r(7537),l=r(87837),a=new o({initialize:function(c,u,v,g){c===void 0&&(c=0),u===void 0&&(u=0),v===void 0&&(v=0),g===void 0&&(g=255),this.r=0,this.g=0,this.b=0,this.a=255,this._h=0,this._s=0,this._v=0,this._locked=!1,this.gl=[0,0,0,1],this._color=0,this._color32=0,this._rgba="",this.setTo(c,u,v,g)},transparent:function(){return this._locked=!0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this._locked=!1,this.update(!0)},setTo:function(f,c,u,v,g){return v===void 0&&(v=255),g===void 0&&(g=!0),this._locked=!0,this.red=f,this.green=c,this.blue=u,this.alpha=v,this._locked=!1,this.update(g)},setGLTo:function(f,c,u,v){return v===void 0&&(v=1),this._locked=!0,this.redGL=f,this.greenGL=c,this.blueGL=u,this.alphaGL=v,this._locked=!1,this.update(!0)},setFromRGB:function(f){return this._locked=!0,this.red=f.r,this.green=f.g,this.blue=f.b,f.hasOwnProperty("a")&&(this.alpha=f.a),this._locked=!1,this.update(!0)},setFromHSV:function(f,c,u){return h(f,c,u,this)},update:function(f){if(f===void 0&&(f=!1),this._locked)return this;var c=this.r,u=this.g,v=this.b,g=this.a;return this._color=x(c,u,v),this._color32=d(c,u,v,g),this._rgba="rgba("+c+","+u+","+v+","+g/255+")",f&&l(c,u,v,this),this},updateHSV:function(){var f=this.r,c=this.g,u=this.b;return l(f,c,u,this),this},clone:function(){return new a(this.r,this.g,this.b,this.a)},gray:function(f){return this.setTo(f,f,f)},random:function(f,c){f===void 0&&(f=0),c===void 0&&(c=255);var u=Math.floor(f+Math.random()*(c-f)),v=Math.floor(f+Math.random()*(c-f)),g=Math.floor(f+Math.random()*(c-f));return this.setTo(u,v,g)},randomGray:function(f,c){f===void 0&&(f=0),c===void 0&&(c=255);var u=Math.floor(f+Math.random()*(c-f));return this.setTo(u,u,u)},saturate:function(f){return this.s+=f/100,this},desaturate:function(f){return this.s-=f/100,this},lighten:function(f){return this.v+=f/100,this},darken:function(f){return this.v-=f/100,this},brighten:function(f){var c=this.r,u=this.g,v=this.b;return c=Math.max(0,Math.min(255,c-Math.round(255*-(f/100)))),u=Math.max(0,Math.min(255,u-Math.round(255*-(f/100)))),v=Math.max(0,Math.min(255,v-Math.round(255*-(f/100)))),this.setTo(c,u,v)},color:{get:function(){return this._color}},color32:{get:function(){return this._color32}},rgba:{get:function(){return this._rgba}},redGL:{get:function(){return this.gl[0]},set:function(f){this.gl[0]=Math.min(Math.abs(f),1),this.r=Math.floor(this.gl[0]*255),this.update(!0)}},greenGL:{get:function(){return this.gl[1]},set:function(f){this.gl[1]=Math.min(Math.abs(f),1),this.g=Math.floor(this.gl[1]*255),this.update(!0)}},blueGL:{get:function(){return this.gl[2]},set:function(f){this.gl[2]=Math.min(Math.abs(f),1),this.b=Math.floor(this.gl[2]*255),this.update(!0)}},alphaGL:{get:function(){return this.gl[3]},set:function(f){this.gl[3]=Math.min(Math.abs(f),1),this.a=Math.floor(this.gl[3]*255),this.update()}},red:{get:function(){return this.r},set:function(f){f=Math.floor(Math.abs(f)),this.r=Math.min(f,255),this.gl[0]=f/255,this.update(!0)}},green:{get:function(){return this.g},set:function(f){f=Math.floor(Math.abs(f)),this.g=Math.min(f,255),this.gl[1]=f/255,this.update(!0)}},blue:{get:function(){return this.b},set:function(f){f=Math.floor(Math.abs(f)),this.b=Math.min(f,255),this.gl[2]=f/255,this.update(!0)}},alpha:{get:function(){return this.a},set:function(f){f=Math.floor(Math.abs(f)),this.a=Math.min(f,255),this.gl[3]=f/255,this.update()}},h:{get:function(){return this._h},set:function(f){this._h=f,h(f,this._s,this._v,this)}},s:{get:function(){return this._s},set:function(f){this._s=f,h(this._h,f,this._v,this)}},v:{get:function(){return this._v},set:function(f){this._v=f,h(this._h,this._s,f,this)}}});n.exports=a},92728:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(37589),x=function(d){d===void 0&&(d=1024);var h=[],l=255,a,f=255,c=0,u=0;for(a=0;a<=l;a++)h.push({r:f,g:a,b:u,color:o(f,a,u)});for(c=255,a=l;a>=0;a--)h.push({r:a,g:c,b:u,color:o(a,c,u)});for(f=0,a=0;a<=l;a++,c--)h.push({r:f,g:c,b:a,color:o(f,c,a)});for(c=0,u=255,a=0;a<=l;a++,u--,f++)h.push({r:f,g:c,b:u,color:o(f,c,u)});if(d===1024)return h;var v=[],g=0,m=1024/d;for(a=0;a<d;a++)v.push(h[Math.floor(g)]),g+=m;return v};n.exports=x},91588:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){var o={r:r>>16&255,g:r>>8&255,b:r&255,a:255};return r>16777215&&(o.a=r>>>24),o};n.exports=T},62957:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){var o=r.toString(16);return o.length===1?"0"+o:o};n.exports=T},37589:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){return r<<16|o<<8|x};n.exports=T},1e3:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d){return d<<24|r<<16|o<<8|x};n.exports=T},62183:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(40987),x=r(89528),d=function(h,l,a){var f=a,c=a,u=a;if(l!==0){var v=a<.5?a*(1+l):a+l-a*l,g=2*a-v;f=x(g,v,h+1/3),c=x(g,v,h),u=x(g,v,h-1/3)}var m=new o;return m.setGLTo(f,c,u,1)};n.exports=d},27939:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(7537),x=function(d,h){d===void 0&&(d=1),h===void 0&&(h=1);for(var l=[],a=0;a<=359;a++)l.push(o(a/359,d,h));return l};n.exports=x},7537:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(37589);function x(h,l,a,f){var c=(h+l*6)%6,u=Math.min(c,4-c,1);return Math.round(255*(f-f*a*Math.max(0,u)))}var d=function(h,l,a,f){l===void 0&&(l=1),a===void 0&&(a=1);var c=x(5,h,l,a),u=x(3,h,l,a),v=x(1,h,l,a);return f?f.setTo?f.setTo(c,u,v,f.alpha,!0):(f.r=c,f.g=u,f.b=v,f.color=o(c,u,v),f):{r:c,g:u,b:v,color:o(c,u,v)}};n.exports=d},70238:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(40987),x=function(d){var h=new o;d=d.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,function(u,v,g,m){return v+v+g+g+m+m});var l=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(d);if(l){var a=parseInt(l[1],16),f=parseInt(l[2],16),c=parseInt(l[3],16);h.setTo(a,f,c)}return h};n.exports=x},89528:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){return x<0&&(x+=1),x>1&&(x-=1),x<.16666666666666666?r+(o-r)*6*x:x<.5?o:x<.6666666666666666?r+(o-r)*(.6666666666666666-x)*6:r};n.exports=T},30100:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(40987),x=r(90664),d=function(h){var l=x(h);return new o(l.r,l.g,l.b,l.a)};n.exports=d},90664:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r>16777215?{a:r>>>24,r:r>>16&255,g:r>>8&255,b:r&255}:{a:255,r:r>>16&255,g:r>>8&255,b:r&255}};n.exports=T},13699:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(28915),x=r(37589),d=function(a,f,c,u,v,g,m,y){m===void 0&&(m=100),y===void 0&&(y=0);var C=y/m,P=o(a,u,C),w=o(f,v,C),M=o(c,g,C);return{r:P,g:w,b:M,a:255,color:x(P,w,M)}},h=function(a,f,c,u){return c===void 0&&(c=100),u===void 0&&(u=0),d(a.r,a.g,a.b,f.r,f.g,f.b,c,u)},l=function(a,f,c,u,v,g){return v===void 0&&(v=100),g===void 0&&(g=0),d(a.r,a.g,a.b,f,c,u,v,g)};n.exports={RGBWithRGB:d,ColorWithRGB:l,ColorWithColor:h}},68957:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(40987),x=function(d){return new o(d.r,d.g,d.b,d.a)};n.exports=x},87388:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(40987),x=function(d){var h=new o,l=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(d.toLowerCase());if(l){var a=parseInt(l[1],10),f=parseInt(l[2],10),c=parseInt(l[3],10),u=l[4]!==void 0?parseFloat(l[4]):1;h.setTo(a,f,c,u*255)}return h};n.exports=x},87837:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d){d===void 0&&(d={h:0,s:0,v:0}),r/=255,o/=255,x/=255;var h=Math.min(r,o,x),l=Math.max(r,o,x),a=l-h,f=0,c=l===0?0:a/l,u=l;return l!==h&&(l===r?f=(o-x)/a+(o<x?6:0):l===o?f=(x-r)/a+2:l===x&&(f=(r-o)/a+4),f/=6),d.hasOwnProperty("_h")?(d._h=f,d._s=c,d._v=u):(d.h=f,d.s=c,d.v=u),d};n.exports=T},75723:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(62957),x=function(d,h,l,a,f){return a===void 0&&(a=255),f===void 0&&(f="#"),f==="#"?"#"+((1<<24)+(d<<16)+(h<<8)+l).toString(16).slice(1,7):"0x"+o(a)+o(d)+o(h)+o(l)};n.exports=x},85386:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(30976),x=r(40987),d=function(h,l){return h===void 0&&(h=0),l===void 0&&(l=255),new x(o(h,l),o(h,l),o(h,l))};n.exports=d},80333:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(70238),x=r(30100),d=r(68957),h=r(87388),l=function(a){var f=typeof a;switch(f){case"string":return a.substr(0,3).toLowerCase()==="rgb"?h(a):o(a);case"number":return x(a);case"object":return d(a)}};n.exports=l},3956:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(40987);o.ColorSpectrum=r(92728),o.ColorToRGBA=r(91588),o.ComponentToHex=r(62957),o.GetColor=r(37589),o.GetColor32=r(1e3),o.HexStringToColor=r(70238),o.HSLToColor=r(62183),o.HSVColorWheel=r(27939),o.HSVToRGB=r(7537),o.HueToComponent=r(89528),o.IntegerToColor=r(30100),o.IntegerToRGB=r(90664),o.Interpolate=r(13699),o.ObjectToColor=r(68957),o.RandomRGB=r(85386),o.RGBStringToColor=r(87388),o.RGBToHSV=r(87837),o.RGBToString=r(75723),o.ValueToColor=r(80333),n.exports=o},27460:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Align:r(71926),BaseShader:r(73894),Bounds:r(58724),Canvas:r(26253),Color:r(3956),ColorMatrix:r(89422),Masks:r(69781),RGB:r(51767)}},6858:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(39429),d=new o({initialize:function(l,a,f,c,u,v){a||(a=l.sys.make.image({x:f,y:c,key:u,frame:v,add:!1})),this.bitmapMask=a,this.invertAlpha=!1,this.isStencil=!1},setBitmap:function(h){this.bitmapMask=h},preRenderWebGL:function(h,l,a){h.pipelines.BITMAPMASK_PIPELINE.beginMask(this,l,a)},postRenderWebGL:function(h,l,a){h.pipelines.BITMAPMASK_PIPELINE.endMask(this,l,a)},preRenderCanvas:function(){},postRenderCanvas:function(){},destroy:function(){this.bitmapMask=null}});x.register("bitmapMask",function(h,l,a,f,c){return new d(this.scene,h,l,a,f,c)}),n.exports=d},80661:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=new o({initialize:function(h,l){this.geometryMask=l,this.invertAlpha=!1,this.isStencil=!0,this.level=0},setShape:function(d){return this.geometryMask=d,this},setInvertAlpha:function(d){return d===void 0&&(d=!0),this.invertAlpha=d,this},preRenderWebGL:function(d,h,l){var a=d.gl;d.flush(),d.maskStack.length===0&&(a.enable(a.STENCIL_TEST),a.clear(a.STENCIL_BUFFER_BIT),d.maskCount=0),d.currentCameraMask.mask!==this&&(d.currentMask.mask=this),d.maskStack.push({mask:this,camera:l}),this.applyStencil(d,l,!0),d.maskCount++},applyStencil:function(d,h,l){var a=d.gl,f=this.geometryMask,c=d.maskCount,u=255;a.colorMask(!1,!1,!1,!1),l?(a.stencilFunc(a.EQUAL,c,u),a.stencilOp(a.KEEP,a.KEEP,a.INCR),c++):(a.stencilFunc(a.EQUAL,c+1,u),a.stencilOp(a.KEEP,a.KEEP,a.DECR)),this.level=c,f.renderWebGL(d,f,h),d.flush(),a.colorMask(!0,!0,!0,!0),a.stencilOp(a.KEEP,a.KEEP,a.KEEP),this.invertAlpha?a.stencilFunc(a.NOTEQUAL,c,u):a.stencilFunc(a.EQUAL,c,u)},postRenderWebGL:function(d){var h=d.gl;d.maskStack.pop(),d.maskCount--,d.flush();var l=d.currentMask;if(d.maskStack.length===0)l.mask=null,h.disable(h.STENCIL_TEST);else{var a=d.maskStack[d.maskStack.length-1];a.mask.applyStencil(d,a.camera,!1),d.currentCameraMask.mask!==a.mask?(l.mask=a.mask,l.camera=a.camera):l.mask=null}},preRenderCanvas:function(d,h,l){var a=this.geometryMask;d.currentContext.save(),a.renderCanvas(d,a,l,null,null,!0),d.currentContext.clip()},postRenderCanvas:function(d){d.currentContext.restore()},destroy:function(){this.geometryMask=null}});n.exports=x},69781:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={BitmapMask:r(6858),GeometryMask:r(80661)}},73894:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=new o({initialize:function(h,l,a,f){(!l||l==="")&&(l=["precision mediump float;","uniform vec2 resolution;","varying vec2 fragCoord;","void main () {","    vec2 uv = fragCoord / resolution.xy;","    gl_FragColor = vec4(uv.xyx, 1.0);","}"].join(`
`)),(!a||a==="")&&(a=["precision mediump float;","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","varying vec2 fragCoord;","varying vec2 outTexCoord;","void main () {","   gl_Position = uProjectionMatrix * uViewMatrix * vec4(inPosition, 1.0, 1.0);","   fragCoord = vec2(inPosition.x, uResolution.y - inPosition.y);","   outTexCoord = vec2(inPosition.x / uResolution.x, fragCoord.y / uResolution.y);","}"].join(`
`)),f===void 0&&(f=null),this.key=h,this.fragmentSrc=l,this.vertexSrc=a,this.uniforms=f}});n.exports=x},40366:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){var x;if(o)typeof o=="string"?x=document.getElementById(o):typeof o=="object"&&o.nodeType===1&&(x=o);else if(r.parentElement||o===null)return r;return x||(x=document.body),x.appendChild(r),r};n.exports=T},83719:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(40366),x=function(d){var h=d.config;if(!(!h.parent||!h.domCreateContainer)){var l=document.createElement("div");l.style.cssText=["display: block;","width: "+d.scale.width+"px;","height: "+d.scale.height+"px;","padding: 0; margin: 0;","position: absolute;","overflow: hidden;","pointer-events: "+h.domPointerEvents+";","transform: scale(1);","transform-origin: left top;"].join(" "),d.domContainer=l,o(l,h.parent)}};n.exports=x},57264:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(25892),x=function(d){if(document.readyState==="complete"||document.readyState==="interactive"){d();return}var h=function(){document.removeEventListener("deviceready",h,!0),document.removeEventListener("DOMContentLoaded",h,!0),window.removeEventListener("load",h,!0),d()};document.body?o.cordova?document.addEventListener("deviceready",h,!1):(document.addEventListener("DOMContentLoaded",h,!0),window.addEventListener("load",h,!0)):window.setTimeout(h,20)};n.exports=x},57811:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){if(!r)return window.innerHeight;var o=Math.abs(window.orientation),x={w:0,h:0},d=document.createElement("div");return d.setAttribute("style","position: fixed; height: 100vh; width: 0; top: 0"),document.documentElement.appendChild(d),x.w=o===90?d.offsetHeight:window.innerWidth,x.h=o===90?window.innerWidth:d.offsetHeight,document.documentElement.removeChild(d),d=null,Math.abs(window.orientation)!==90?x.h:x.w};n.exports=T},45818:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(13560),x=function(d,h){var l=window.screen,a=l?l.orientation||l.mozOrientation||l.msOrientation:!1;if(a&&typeof a.type=="string")return a.type;if(typeof a=="string")return a;if(typeof window.orientation=="number")return window.orientation===0||window.orientation===180?o.ORIENTATION.PORTRAIT:o.ORIENTATION.LANDSCAPE;if(window.matchMedia){if(window.matchMedia("(orientation: portrait)").matches)return o.ORIENTATION.PORTRAIT;if(window.matchMedia("(orientation: landscape)").matches)return o.ORIENTATION.LANDSCAPE}else return h>d?o.ORIENTATION.PORTRAIT:o.ORIENTATION.LANDSCAPE};n.exports=x},74403:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){var o;return r!==""&&(typeof r=="string"?o=document.getElementById(r):r&&r.nodeType===1&&(o=r)),o||(o=document.body),o};n.exports=T},56836:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){var o="";try{if(window.DOMParser){var x=new DOMParser;o=x.parseFromString(r,"text/xml")}else o=new ActiveXObject("Microsoft.XMLDOM"),o.loadXML(r)}catch{o=null}return!o||!o.documentElement||o.getElementsByTagName("parsererror").length?null:o};n.exports=T},35846:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){r.parentNode&&r.parentNode.removeChild(r)};n.exports=T},43092:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(29747),d=new o({initialize:function(){this.isRunning=!1,this.callback=x,this.isSetTimeOut=!1,this.timeOutID=null,this.delay=0;var l=this;this.step=function a(f){l.callback(f),l.isRunning&&(l.timeOutID=window.requestAnimationFrame(a))},this.stepTimeout=function a(){l.isRunning&&(l.timeOutID=window.setTimeout(a,l.delay)),l.callback(window.performance.now())}},start:function(h,l,a){this.isRunning||(this.callback=h,this.isSetTimeOut=l,this.delay=a,this.isRunning=!0,this.timeOutID=l?window.setTimeout(this.stepTimeout,0):window.requestAnimationFrame(this.step))},stop:function(){this.isRunning=!1,this.isSetTimeOut?clearTimeout(this.timeOutID):window.cancelAnimationFrame(this.timeOutID)},destroy:function(){this.stop(),this.callback=x}});n.exports=d},84902:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={AddToDOM:r(40366),DOMContentLoaded:r(57264),GetInnerHeight:r(57811),GetScreenOrientation:r(45818),GetTarget:r(74403),ParseXML:r(56836),RemoveFromDOM:r(35846),RequestAnimationFrame:r(43092)};n.exports=o},47565:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(50792),d=r(37277),h=new o({Extends:x,initialize:function(){x.call(this)},shutdown:function(){this.removeAllListeners()},destroy:function(){this.removeAllListeners()}});d.register("EventEmitter",h,"events"),n.exports=h},93055:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={EventEmitter:r(47565)}},20122:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(72898),d=r(14811),h=new o({Extends:x,initialize:function(a,f){f===void 0&&(f=1),x.call(this,d.BARREL,a),this.amount=f}});n.exports=h},32251:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(72898),d=r(14811),h=new o({Extends:x,initialize:function(a,f,c,u,v,g,m){c===void 0&&(c=1),u===void 0&&(u=1),v===void 0&&(v=1),g===void 0&&(g=1),m===void 0&&(m=4),x.call(this,d.BLOOM,a),this.steps=m,this.offsetX=c,this.offsetY=u,this.blurStrength=v,this.strength=g,this.glcolor=[1,1,1],f!=null&&(this.color=f)},color:{get:function(){var l=this.glcolor;return(l[0]*255<<16)+(l[1]*255<<8)+(l[2]*255|0)},set:function(l){var a=this.glcolor;a[0]=(l>>16&255)/255,a[1]=(l>>8&255)/255,a[2]=(l&255)/255}}});n.exports=h},9047:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(72898),d=r(14811),h=new o({Extends:x,initialize:function(a,f,c,u,v,g,m){f===void 0&&(f=0),c===void 0&&(c=2),u===void 0&&(u=2),v===void 0&&(v=1),m===void 0&&(m=4),x.call(this,d.BLUR,a),this.quality=f,this.x=c,this.y=u,this.steps=m,this.strength=v,this.glcolor=[1,1,1],g!=null&&(this.color=g)},color:{get:function(){var l=this.glcolor;return(l[0]*255<<16)+(l[1]*255<<8)+(l[2]*255|0)},set:function(l){var a=this.glcolor;a[0]=(l>>16&255)/255,a[1]=(l>>8&255)/255,a[2]=(l&255)/255}}});n.exports=h},27885:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(72898),d=r(14811),h=new o({Extends:x,initialize:function(a,f,c,u,v,g,m,y){f===void 0&&(f=.5),c===void 0&&(c=1),u===void 0&&(u=.2),v===void 0&&(v=!1),g===void 0&&(g=1),m===void 0&&(m=1),y===void 0&&(y=1),x.call(this,d.BOKEH,a),this.radius=f,this.amount=c,this.contrast=u,this.isTiltShift=v,this.strength=y,this.blurX=g,this.blurY=m}});n.exports=h},12578:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(72898),d=r(14811),h=new o({Extends:x,initialize:function(a,f,c,u,v,g){f===void 0&&(f=8),v===void 0&&(v=1),g===void 0&&(g=.005),x.call(this,d.CIRCLE,a),this.scale=v,this.feather=g,this.thickness=f,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4],c!=null&&(this.color=c),u!=null&&(this.backgroundColor=u)},color:{get:function(){var l=this.glcolor;return(l[0]*255<<16)+(l[1]*255<<8)+(l[2]*255|0)},set:function(l){var a=this.glcolor;a[0]=(l>>16&255)/255,a[1]=(l>>8&255)/255,a[2]=(l&255)/255}},backgroundColor:{get:function(){var l=this.glcolor2;return(l[0]*255<<16)+(l[1]*255<<8)+(l[2]*255|0)},set:function(l){var a=this.glcolor2;a[0]=(l>>16&255)/255,a[1]=(l>>8&255)/255,a[2]=(l&255)/255}},backgroundAlpha:{get:function(){return this.glcolor2[3]},set:function(l){this.glcolor2[3]=l}}});n.exports=h},15802:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(89422),d=r(14811),h=new o({Extends:x,initialize:function(a){x.call(this),this.type=d.COLOR_MATRIX,this.gameObject=a,this.active=!0},destroy:function(){this.gameObject=null,this._matrix=null,this._data=null}});n.exports=h},72898:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=new o({initialize:function(h,l){this.type=h,this.gameObject=l,this.active=!0},setActive:function(d){return this.active=d,this},destroy:function(){this.gameObject=null,this.active=!1}});n.exports=x},44553:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(72898),d=r(14811),h=new o({Extends:x,initialize:function(a,f,c,u){f===void 0&&(f="__WHITE"),c===void 0&&(c=.005),u===void 0&&(u=.005),x.call(this,d.DISPLACEMENT,a),this.x=c,this.y=u,this.glTexture,this.setTexture(f)},setTexture:function(l){var a=this.gameObject.scene.sys.textures.getFrame(l);return a&&(this.glTexture=a.glTexture),this}});n.exports=h},68531:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(72898),d=r(14811),h=new o({Extends:x,initialize:function(a,f,c,u,v){c===void 0&&(c=4),u===void 0&&(u=0),v===void 0&&(v=!1),x.call(this,d.GLOW,a),this.outerStrength=c,this.innerStrength=u,this.knockout=v,this.glcolor=[1,1,1,1],f!==void 0&&(this.color=f)},color:{get:function(){var l=this.glcolor;return(l[0]*255<<16)+(l[1]*255<<8)+(l[2]*255|0)},set:function(l){var a=this.glcolor;a[0]=(l>>16&255)/255,a[1]=(l>>8&255)/255,a[2]=(l&255)/255}}});n.exports=h},37102:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(72898),d=r(14811),h=new o({Extends:x,initialize:function(a,f,c,u,v,g,m,y,C){u===void 0&&(u=.2),v===void 0&&(v=0),g===void 0&&(g=0),m===void 0&&(m=0),y===void 0&&(y=1),C===void 0&&(C=0),x.call(this,d.GRADIENT,a),this.alpha=u,this.size=C,this.fromX=v,this.fromY=g,this.toX=m,this.toY=y,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0],f!=null&&(this.color1=f),c!=null&&(this.color2=c)},color1:{get:function(){var l=this.glcolor1;return(l[0]<<16)+(l[1]<<8)+(l[2]|0)},set:function(l){var a=this.glcolor1;a[0]=l>>16&255,a[1]=l>>8&255,a[2]=l&255}},color2:{get:function(){var l=this.glcolor2;return(l[0]<<16)+(l[1]<<8)+(l[2]|0)},set:function(l){var a=this.glcolor2;a[0]=l>>16&255,a[1]=l>>8&255,a[2]=l&255}}});n.exports=h},86886:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(72898),d=r(14811),h=new o({Extends:x,initialize:function(a,f){f===void 0&&(f=1),x.call(this,d.PIXELATE,a),this.amount=f}});n.exports=h},92322:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(72898),d=r(14811),h=new o({Extends:x,initialize:function(a,f,c,u,v,g,m,y){f===void 0&&(f=0),c===void 0&&(c=0),u===void 0&&(u=.1),v===void 0&&(v=1),m===void 0&&(m=6),y===void 0&&(y=1),x.call(this,d.SHADOW,a),this.x=f,this.y=c,this.decay=u,this.power=v,this.glcolor=[0,0,0,1],this.samples=m,this.intensity=y,g!==void 0&&(this.color=g)},color:{get:function(){var l=this.glcolor;return(l[0]*255<<16)+(l[1]*255<<8)+(l[2]*255|0)},set:function(l){var a=this.glcolor;a[0]=(l>>16&255)/255,a[1]=(l>>8&255)/255,a[2]=(l&255)/255}}});n.exports=h},39563:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(72898),d=r(14811),h=new o({Extends:x,initialize:function(a,f,c,u,v){f===void 0&&(f=.5),c===void 0&&(c=.5),u===void 0&&(u=3),v===void 0&&(v=!1),x.call(this,d.SHINE,a),this.speed=f,this.lineWidth=c,this.gradient=u,this.reveal=v}});n.exports=h},56448:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(72898),d=r(14811),h=new o({Extends:x,initialize:function(a,f,c,u,v){f===void 0&&(f=.5),c===void 0&&(c=.5),u===void 0&&(u=.5),v===void 0&&(v=.5),x.call(this,d.VIGNETTE,a),this.x=f,this.y=c,this.radius=u,this.strength=v}});n.exports=h},38433:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(72898),d=r(14811),h=new o({Extends:x,initialize:function(a,f,c,u,v){f===void 0&&(f=.1),c===void 0&&(c=0),u===void 0&&(u=0),v===void 0&&(v=!1),x.call(this,d.WIPE,a),this.progress=0,this.wipeWidth=f,this.direction=c,this.axis=u,this.reveal=v}});n.exports=h},14811:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={GLOW:4,SHADOW:5,PIXELATE:6,VIGNETTE:7,SHINE:8,BLUR:9,GRADIENT:12,BLOOM:13,COLOR_MATRIX:14,CIRCLE:15,BARREL:16,DISPLACEMENT:17,WIPE:18,BOKEH:19};n.exports=T},66064:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(79291),x=r(14811),d={Barrel:r(20122),Controller:r(72898),Bloom:r(32251),Blur:r(9047),Bokeh:r(27885),Circle:r(12578),ColorMatrix:r(15802),Displacement:r(44553),Glow:r(68531),Gradient:r(37102),Pixelate:r(86886),Shadow:r(92322),Shine:r(39563),Vignette:r(56448),Wipe:r(38433)};d=o(!1,d,x),n.exports=d},25305:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(10312),x=r(23568),d=function(h,l,a){l.x=x(a,"x",0),l.y=x(a,"y",0),l.depth=x(a,"depth",0),l.flipX=x(a,"flipX",!1),l.flipY=x(a,"flipY",!1);var f=x(a,"scale",null);typeof f=="number"?l.setScale(f):f!==null&&(l.scaleX=x(f,"x",1),l.scaleY=x(f,"y",1));var c=x(a,"scrollFactor",null);typeof c=="number"?l.setScrollFactor(c):c!==null&&(l.scrollFactorX=x(c,"x",1),l.scrollFactorY=x(c,"y",1)),l.rotation=x(a,"rotation",0);var u=x(a,"angle",null);u!==null&&(l.angle=u),l.alpha=x(a,"alpha",1);var v=x(a,"origin",null);if(typeof v=="number")l.setOrigin(v);else if(v!==null){var g=x(v,"x",.5),m=x(v,"y",.5);l.setOrigin(g,m)}l.blendMode=x(a,"blendMode",o.NORMAL),l.visible=x(a,"visible",!0);var y=x(a,"add",!0);return y&&h.sys.displayList.add(l),l.preUpdate&&h.sys.updateList.add(l),l};n.exports=d},13059:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(23568),x=function(d,h){var l=o(h,"anims",null);if(l===null)return d;if(typeof l=="string")d.anims.play(l);else if(typeof l=="object"){var a=d.anims,f=o(l,"key",void 0);if(f){var c=o(l,"startFrame",void 0),u=o(l,"delay",0),v=o(l,"repeat",0),g=o(l,"repeatDelay",0),m=o(l,"yoyo",!1),y=o(l,"play",!1),C=o(l,"delayedPlay",0),P={key:f,delay:u,repeat:v,repeatDelay:g,yoyo:m,startFrame:c};y?a.play(P):C>0?a.playAfterDelay(P,C):a.load(P)}}return d};n.exports=x},8050:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(73162),d=r(37277),h=r(51708),l=r(44594),a=r(19186),f=new o({Extends:x,initialize:function(u){x.call(this,u),this.sortChildrenFlag=!1,this.scene=u,this.systems=u.sys,this.events=u.sys.events,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.events.once(l.BOOT,this.boot,this),this.events.on(l.START,this.start,this)},boot:function(){this.events.once(l.DESTROY,this.destroy,this)},addChildCallback:function(c){c.displayList&&c.displayList!==this&&c.removeFromDisplayList(),c.parentContainer&&c.parentContainer.remove(c),c.displayList||(this.queueDepthSort(),c.displayList=this,c.emit(h.ADDED_TO_SCENE,c,this.scene),this.events.emit(l.ADDED_TO_SCENE,c,this.scene))},removeChildCallback:function(c){this.queueDepthSort(),c.displayList=null,c.emit(h.REMOVED_FROM_SCENE,c,this.scene),this.events.emit(l.REMOVED_FROM_SCENE,c,this.scene)},start:function(){this.events.once(l.SHUTDOWN,this.shutdown,this)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(a(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(c,u){return c._depth-u._depth},getChildren:function(){return this.list},shutdown:function(){for(var c=this.list,u=c.length;u--;)c[u].destroy(!0);c.length=0,this.events.off(l.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(l.START,this.start,this),this.scene=null,this.systems=null,this.events=null}});d.register("DisplayList",f,"displayList"),n.exports=f},95643:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(53774),d=r(45893),h=r(50792),l=r(51708),a=r(44594),f=new o({Extends:h,initialize:function(u,v){h.call(this),this.scene=u,this.displayList=null,this.type=v,this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.on(l.ADDED_TO_SCENE,this.addedToScene,this),this.on(l.REMOVED_FROM_SCENE,this.removedFromScene,this),u.sys.queueDepthSort()},setActive:function(c){return this.active=c,this},setName:function(c){return this.name=c,this},setState:function(c){return this.state=c,this},setDataEnabled:function(){return this.data||(this.data=new d(this)),this},setData:function(c,u){return this.data||(this.data=new d(this)),this.data.set(c,u),this},incData:function(c,u){return this.data||(this.data=new d(this)),this.data.inc(c,u),this},toggleData:function(c){return this.data||(this.data=new d(this)),this.data.toggle(c),this},getData:function(c){return this.data||(this.data=new d(this)),this.data.get(c)},setInteractive:function(c,u,v){return this.scene.sys.input.enable(this,c,u,v),this},disableInteractive:function(c){return c===void 0&&(c=!1),this.scene.sys.input.disable(this,c),this},removeInteractive:function(c){return c===void 0&&(c=!1),this.scene.sys.input.clear(this),c&&this.scene.sys.input.resetCursor(),this.input=void 0,this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return x(this)},willRender:function(c){var u=this.displayList&&this.displayList.active?this.displayList.willRender(c):!0;return!(!u||f.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&c.id)},getIndexList:function(){for(var c=this,u=this.parentContainer,v=[];u&&(v.unshift(u.getIndex(c)),c=u,u.parentContainer);)u=u.parentContainer;return this.displayList?v.unshift(this.displayList.getIndex(c)):v.unshift(this.scene.sys.displayList.getIndex(c)),v},addToDisplayList:function(c){return c===void 0&&(c=this.scene.sys.displayList),this.displayList&&this.displayList!==c&&this.removeFromDisplayList(),c.exists(this)||(this.displayList=c,c.add(this,!0),c.queueDepthSort(),this.emit(l.ADDED_TO_SCENE,this,this.scene),c.events.emit(a.ADDED_TO_SCENE,this,this.scene)),this},addToUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.add(this),this},removeFromDisplayList:function(){var c=this.displayList||this.scene.sys.displayList;return c&&c.exists(this)&&(c.remove(this,!0),c.queueDepthSort(),this.displayList=null,this.emit(l.REMOVED_FROM_SCENE,this,this.scene),c.events.emit(a.REMOVED_FROM_SCENE,this,this.scene)),this},removeFromUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.remove(this),this},getDisplayList:function(){var c=null;return this.parentContainer?c=this.parentContainer.list:this.displayList&&(c=this.displayList.list),c},destroy:function(c){!this.scene||this.ignoreDestroy||(c===void 0&&(c=!1),this.preDestroy&&this.preDestroy.call(this),this.emit(l.DESTROY,this,c),this.removeAllListeners(),this.postPipelines&&this.resetPostPipeline(!0),this.removeFromDisplayList(),this.removeFromUpdateList(),this.input&&(this.scene.sys.input.clear(this),this.input=void 0),this.data&&(this.data.destroy(),this.data=void 0),this.body&&(this.body.destroy(),this.body=void 0),this.preFX&&(this.preFX.destroy(),this.preFX=void 0),this.postFX&&(this.postFX.destroy(),this.postFX=void 0),this.active=!1,this.visible=!1,this.scene=void 0,this.parentContainer=void 0)}});f.RENDER_MASK=15,n.exports=f},44603:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(37277),d=r(44594),h=new o({initialize:function(a){this.scene=a,this.systems=a.sys,this.events=a.sys.events,this.displayList,this.updateList,this.events.once(d.BOOT,this.boot,this),this.events.on(d.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(d.DESTROY,this.destroy,this)},start:function(){this.events.once(d.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.events.off(d.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(d.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});h.register=function(l,a){h.prototype.hasOwnProperty(l)||(h.prototype[l]=a)},h.remove=function(l){h.prototype.hasOwnProperty(l)&&delete h.prototype[l]},x.register("GameObjectCreator",h,"make"),n.exports=h},39429:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(37277),d=r(44594),h=new o({initialize:function(a){this.scene=a,this.systems=a.sys,this.events=a.sys.events,this.displayList,this.updateList,this.events.once(d.BOOT,this.boot,this),this.events.on(d.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(d.DESTROY,this.destroy,this)},start:function(){this.events.once(d.SHUTDOWN,this.shutdown,this)},existing:function(l){return(l.renderCanvas||l.renderWebGL)&&this.displayList.add(l),l.preUpdate&&this.updateList.add(l),l},shutdown:function(){this.events.off(d.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(d.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});h.register=function(l,a){h.prototype.hasOwnProperty(l)||(h.prototype[l]=a)},h.remove=function(l){h.prototype.hasOwnProperty(l)&&delete h.prototype[l]},x.register("GameObjectFactory",h,"add"),n.exports=h},91296:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(61340),x=new o,d=new o,h=new o,l={camera:x,sprite:d,calc:h},a=function(f,c,u){var v=x,g=d,m=h;return g.applyITRS(f.x,f.y,f.rotation,f.scaleX,f.scaleY),v.copyFrom(c.matrix),u?(v.multiplyWithOffset(u,-c.scrollX*f.scrollFactorX,-c.scrollY*f.scrollFactorY),g.e=f.x,g.f=f.y):(g.e-=c.scrollX*f.scrollFactorX,g.f-=c.scrollY*f.scrollFactorY),v.multiply(g,m),l};n.exports=a},45027:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(25774),d=r(37277),h=r(44594),l=new o({Extends:x,initialize:function(f){x.call(this),this.checkQueue=!0,this.scene=f,this.systems=f.sys,f.sys.events.once(h.BOOT,this.boot,this),f.sys.events.on(h.START,this.start,this)},boot:function(){this.systems.events.once(h.DESTROY,this.destroy,this)},start:function(){var a=this.systems.events;a.on(h.PRE_UPDATE,this.update,this),a.on(h.UPDATE,this.sceneUpdate,this),a.once(h.SHUTDOWN,this.shutdown,this)},sceneUpdate:function(a,f){for(var c=this._active,u=c.length,v=0;v<u;v++){var g=c[v];g.active&&g.preUpdate.call(g,a,f)}},shutdown:function(){for(var a=this._active.length;a--;)this._active[a].destroy(!0);for(a=this._pending.length;a--;)this._pending[a].destroy(!0);for(a=this._destroy.length;a--;)this._destroy[a].destroy(!0);this._toProcess=0,this._pending=[],this._active=[],this._destroy=[],this.removeAllListeners();var f=this.systems.events;f.off(h.PRE_UPDATE,this.update,this),f.off(h.UPDATE,this.sceneUpdate,this),f.off(h.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.systems.events.off(h.START,this.start,this),this.scene=null,this.systems=null}});d.register("UpdateList",l,"updateList"),n.exports=l},3217:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d,h,l,a,f,c,u,v,g,m,y,C){var P=x.x-o.displayOriginX+h,w=x.y-o.displayOriginY+l,M=P+x.w,R=w+x.h,A=a.a,L=a.b,F=a.c,G=a.d,I=a.e,B=a.f,k=P*A+w*F+I,U=P*L+w*G+B,H=P*A+R*F+I,X=P*L+R*G+B,j=M*A+R*F+I,J=M*L+R*G+B,Y=M*A+w*F+I,$=M*L+w*G+B;f&&(k=Math.round(k),U=Math.round(U),H=Math.round(H),X=Math.round(X),j=Math.round(j),J=Math.round(J),Y=Math.round(Y),$=Math.round($)),r.batchQuad(o,k,U,H,X,j,J,Y,$,d.u0,d.v0,d.u1,d.v1,c,u,v,g,m,y,C)};n.exports=T},53048:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d){if(x===void 0&&(x=!1),d===void 0)return d={local:{x:0,y:0,width:0,height:0},global:{x:0,y:0,width:0,height:0},lines:{shortest:0,longest:0,lengths:null,height:0},wrappedText:"",words:[],characters:[],scaleX:0,scaleY:0},d;var h=r.text,l=h.length,a=r.maxWidth,f=r.wordWrapCharCode,c=Number.MAX_VALUE,u=Number.MAX_VALUE,v=0,g=0,m=r.fontData.chars,y=r.fontData.lineHeight,C=r.letterSpacing,P=r.lineSpacing,w=0,M=0,R=0,A=null,L=r._align,F=0,G=0,I=r.fontSize/r.fontData.size,B=I*r.scaleX,k=I*r.scaleY,U=null,H=0,X=[],j=Number.MAX_VALUE,J=0,Y=0,$=0,z,V,K,Q=[],_=[],tt=null,rt=function(ai,Gt){for(var Wt=0,fe=0;fe<ai.length;fe++){var xe=ai.charCodeAt(fe),Ie=Gt.chars[xe];Ie&&(Wt+=Ie.xAdvance)}return Wt*B};if(a>0){K=h.split(`
`);var ot=[];for(z=0;z<K.length;z++){var ft=K[z],ct="",gt="",xt="",wt="";for(V=0;V<ft.length;V++)if(R=ft.charCodeAt(V),ct+=ft[V],R===f||V===ft.length-1){wt=xt+ct;var Tt=rt(wt,r.fontData);Tt<=a?xt=wt:(gt=gt.slice(0,-1),gt+=(gt?`
`:"")+xt,xt=ct),ct=""}gt=gt.slice(0,-1),gt+=(gt?`
`:"")+xt,ot.push(gt)}h=ot.join(`
`),d.wrappedText=h,l=h.length}var Ht=0;for(z=0;z<l;z++){if(R=h.charCodeAt(z),R===10){tt!==null&&(Q.push({word:tt.word,i:tt.i,x:tt.x*B,y:tt.y*k,w:tt.w*B,h:tt.h*k}),tt=null),U=null,X[Y]=$,$>J&&(J=$),$<j&&(j=$),Y++,$=0,w=0,M=(y+P)*Y;continue}if(A=m[R],!!A){if(F=w,G=M,U!==null){var Xt=A.kerning[H];F+=Xt!==void 0?Xt:0}c>F&&(c=F),u>G&&(u=G);var Kt=F+A.xAdvance,Pt=G+y;v<Kt&&(v=Kt),g<Pt&&(g=Pt);var Nt=A.xOffset+A.xAdvance+(Xt!==void 0?Xt:0);R===f?tt!==null&&(Q.push({word:tt.word,i:tt.i,x:tt.x*B,y:tt.y*k,w:tt.w*B,h:tt.h*k}),tt=null):(tt===null&&(tt={word:"",i:Ht,x:w,y:M,w:0,h:y}),tt.word=tt.word.concat(h[z]),tt.w+=Nt),_.push({i:Ht,idx:z,char:h[z],code:R,x:(A.xOffset+F)*I,y:(A.yOffset+M)*I,w:A.width*I,h:A.height*I,t:M*I,r:Kt*I,b:y*I,line:Y,glyph:A}),w+=A.xAdvance+C+(Xt!==void 0?Xt:0),U=A,H=R,$=Kt*I,Ht++}}if(tt!==null&&Q.push({word:tt.word,i:tt.i,x:tt.x*B,y:tt.y*k,w:tt.w*B,h:tt.h*k}),X[Y]=$,$>J&&(J=$),$<j&&(j=$),L>0)for(var Vt=0;Vt<_.length;Vt++){var ee=_[Vt];if(L===1){var Ee=(J-X[ee.line])/2;ee.x+=Ee,ee.r+=Ee}else if(L===2){var we=J-X[ee.line];ee.x+=we,ee.r+=we}}var ve=d.local,Fe=d.global;return K=d.lines,ve.x=c*I,ve.y=u*I,ve.width=v*I,ve.height=g*I,Fe.x=r.x-r._displayOriginX+c*B,Fe.y=r.y-r._displayOriginY+u*k,Fe.width=v*B,Fe.height=g*k,K.shortest=j,K.longest=J,K.lengths=X,o&&(ve.x=Math.ceil(ve.x),ve.y=Math.ceil(ve.y),ve.width=Math.ceil(ve.width),ve.height=Math.ceil(ve.height),Fe.x=Math.ceil(Fe.x),Fe.y=Math.ceil(Fe.y),Fe.width=Math.ceil(Fe.width),Fe.height=Math.ceil(Fe.height),K.shortest=Math.ceil(j),K.longest=Math.ceil(J)),x&&(r._displayOriginX=r.originX*ve.width,r._displayOriginY=r.originY*ve.height,Fe.x=r.x-r._displayOriginX*r.scaleX,Fe.y=r.y-r._displayOriginY*r.scaleY,o&&(Fe.x=Math.ceil(Fe.x),Fe.y=Math.ceil(Fe.y))),d.words=Q,d.characters=_,d.lines.height=y,d.scale=I,d.scaleX=r.scaleX,d.scaleY=r.scaleY,d};n.exports=T},61327:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(21859),x=function(d,h,l,a,f,c,u){var v=d.sys.textures.get(l),g=v.get(a),m=d.sys.cache.xml.get(f);if(g&&m){var y=o(m,g,c,u,v);return d.sys.cache.bitmapFont.add(h,{data:y,texture:l,frame:a,fromAtlas:!0}),!0}else return!1};n.exports=x},6925:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(35154),x=function(d,h){var l=h.width,a=h.height,f=Math.floor(l/2),c=Math.floor(a/2),u=o(h,"chars","");if(u!==""){var v=o(h,"image",""),g=d.sys.textures.getFrame(v),m=g.cutX,y=g.cutY,C=g.source.width,P=g.source.height,w=o(h,"offset.x",0),M=o(h,"offset.y",0),R=o(h,"spacing.x",0),A=o(h,"spacing.y",0),L=o(h,"lineSpacing",0),F=o(h,"charsPerRow",null);F===null&&(F=C/l,F>u.length&&(F=u.length));for(var G=w,I=M,B={retroFont:!0,font:v,size:l,lineHeight:a+L,chars:{}},k=0,U=0;U<u.length;U++){var H=u.charCodeAt(U),X=(m+G)/C,j=(y+I)/P,J=(m+G+l)/C,Y=(y+I+a)/P;B.chars[H]={x:G,y:I,width:l,height:a,centerX:f,centerY:c,xOffset:0,yOffset:0,xAdvance:l,data:{},kerning:{},u0:X,v0:j,u1:J,v1:Y},k++,k===F?(k=0,G=w,I+=a+A):G+=l+R}var $={data:B,frame:null,texture:v};return $}};n.exports=x},21859:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function T(o,x){return parseInt(o.getAttribute(x),10)}var r=function(o,x,d,h,l){d===void 0&&(d=0),h===void 0&&(h=0);var a=x.cutX,f=x.cutY,c=x.source.width,u=x.source.height,v=x.sourceIndex,g={},m=o.getElementsByTagName("info")[0],y=o.getElementsByTagName("common")[0];g.font=m.getAttribute("face"),g.size=T(m,"size"),g.lineHeight=T(y,"lineHeight")+h,g.chars={};var C=o.getElementsByTagName("char"),P=x!==void 0&&x.trimmed;if(P)var w=x.height,M=x.width;for(var R=0;R<C.length;R++){var A=C[R],L=T(A,"id"),F=String.fromCharCode(L),G=T(A,"x"),I=T(A,"y"),B=T(A,"width"),k=T(A,"height");P&&(G<M&&(M=G),I<w&&(w=I)),P&&w!==0&&M!==0&&(G-=x.x,I-=x.y);var U=(a+G)/c,H=(f+I)/u,X=(a+G+B)/c,j=(f+I+k)/u;if(g.chars[L]={x:G,y:I,width:B,height:k,centerX:Math.floor(B/2),centerY:Math.floor(k/2),xOffset:T(A,"xoffset"),yOffset:T(A,"yoffset"),xAdvance:T(A,"xadvance")+d,data:{},kerning:{},u0:U,v0:H,u1:X,v1:j},l&&B!==0&&k!==0){var J=l.add(F,v,G,I,B,k);J&&J.setUVs(B,k,U,H,X,j)}}var Y=o.getElementsByTagName("kerning");for(R=0;R<Y.length;R++){var $=Y[R],z=T($,"first"),V=T($,"second"),K=T($,"amount");g.chars[V].kerning[z]=K}return g};n.exports=r},196:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(87662),x=r(79291),d={Parse:r(6925)};d=x(!1,d,o),n.exports=d},87662:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={TEXT_SET1:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",TEXT_SET2:` !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ`,TEXT_SET3:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",TEXT_SET4:"ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789",TEXT_SET5:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789",TEXT_SET6:`ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789"(),-.' `,TEXT_SET7:`AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW")28FLRX-'39`,TEXT_SET8:"0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET9:`ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'"?!`,TEXT_SET10:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET11:`ABCDEFGHIJKLMNOPQRSTUVWXYZ.,"-+!?()':;0123456789`};n.exports=T},2638:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(22186),x=r(83419),d=r(12310),h=new x({Extends:o,Mixins:[d],initialize:function(a,f,c,u,v,g,m){o.call(this,a,f,c,u,v,g,m),this.type="DynamicBitmapText",this.scrollX=0,this.scrollY=0,this.cropWidth=0,this.cropHeight=0,this.displayCallback,this.callbackData={parent:this,color:0,tint:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},index:0,charCode:0,x:0,y:0,scale:0,rotation:0,data:0}},setSize:function(l,a){return this.cropWidth=l,this.cropHeight=a,this},setDisplayCallback:function(l){return this.displayCallback=l,this},setScrollX:function(l){return this.scrollX=l,this},setScrollY:function(l){return this.scrollY=l,this}});n.exports=h},86741:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(20926),x=function(d,h,l,a){var f=h._text,c=f.length,u=d.currentContext;if(!(c===0||!o(d,u,h,l,a))){l.addToRenderList(h);var v=h.fromAtlas?h.frame:h.texture.frames.__BASE,g=h.displayCallback,m=h.callbackData,y=h.fontData.chars,C=h.fontData.lineHeight,P=h._letterSpacing,w=0,M=0,R=0,A=null,L=0,F=0,G=0,I=0,B=0,k=0,U=null,H=0,X=h.frame.source.image,j=v.cutX,J=v.cutY,Y=0,$=0,z=h._fontSize/h.fontData.size,V=h._align,K=0,Q=0;h.getTextBounds(!1);var _=h._bounds.lines;V===1?Q=(_.longest-_.lengths[0])/2:V===2&&(Q=_.longest-_.lengths[0]),u.translate(-h.displayOriginX,-h.displayOriginY);var tt=l.roundPixels;h.cropWidth>0&&h.cropHeight>0&&(u.beginPath(),u.rect(0,0,h.cropWidth,h.cropHeight),u.clip());for(var rt=0;rt<c;rt++){if($=z,Y=0,R=f.charCodeAt(rt),R===10){K++,V===1?Q=(_.longest-_.lengths[K])/2:V===2&&(Q=_.longest-_.lengths[K]),w=0,M+=C,U=null;continue}if(A=y[R],!!A){if(L=j+A.x,F=J+A.y,G=A.width,I=A.height,B=A.xOffset+w-h.scrollX,k=A.yOffset+M-h.scrollY,U!==null){var ot=A.kerning[H];B+=ot!==void 0?ot:0}if(g){m.index=rt,m.charCode=R,m.x=B,m.y=k,m.scale=$,m.rotation=Y,m.data=A.data;var ft=g(m);B=ft.x,k=ft.y,$=ft.scale,Y=ft.rotation}B*=$,k*=$,B+=Q,w+=A.xAdvance+P+(ot!==void 0?ot:0),U=A,H=R,!(G===0||I===0||R===32)&&(tt&&(B=Math.round(B),k=Math.round(k)),u.save(),u.translate(B,k),u.rotate(Y),u.scale($,$),u.drawImage(X,L,F,G,I,0,0,G,I),u.restore())}}u.restore()}};n.exports=x},11164:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2638),x=r(25305),d=r(44603),h=r(23568);d.register("dynamicBitmapText",function(l,a){l===void 0&&(l={});var f=h(l,"font",""),c=h(l,"text",""),u=h(l,"size",!1),v=new o(this.scene,0,0,f,c,u);return a!==void 0&&(l.add=a),x(this.scene,v,l),v})},72566:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2638),x=r(39429);x.register("dynamicBitmapText",function(d,h,l,a,f){return this.displayList.add(new o(this.scene,d,h,l,a,f))})},12310:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),x=o,d=o;x=r(73482),d=r(86741),n.exports={renderWebGL:x,renderCanvas:d}},73482:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(91296),x=r(61340),d=r(70554),h=new x,l=function(a,f,c,u){var v=f.text,g=v.length;if(g!==0){c.addToRenderList(f);var m=a.pipelines.set(f.pipeline,f),y=o(f,c,u);a.pipelines.preBatch(f);var C=y.sprite,P=y.calc,w=h,M=f.cropWidth>0||f.cropHeight>0;M&&(m.flush(),a.pushScissor(P.tx,P.ty,f.cropWidth*P.scaleX,f.cropHeight*P.scaleY));var R=f.frame,A=R.glTexture,L=f.tintFill,F=d.getTintAppendFloatAlpha(f.tintTopLeft,c.alpha*f._alphaTL),G=d.getTintAppendFloatAlpha(f.tintTopRight,c.alpha*f._alphaTR),I=d.getTintAppendFloatAlpha(f.tintBottomLeft,c.alpha*f._alphaBL),B=d.getTintAppendFloatAlpha(f.tintBottomRight,c.alpha*f._alphaBR),k=m.setGameObject(f),U=0,H=0,X=0,j=0,J=f.letterSpacing,Y,$=0,z=0,V,K=f.scrollX,Q=f.scrollY,_=f.fontData,tt=_.chars,rt=_.lineHeight,ot=f.fontSize/_.size,ft=0,ct=f._align,gt=0,xt=0,wt=f.getTextBounds(!1);f.maxWidth>0&&(v=wt.wrappedText,g=v.length);var Tt=f._bounds.lines;ct===1?xt=(Tt.longest-Tt.lengths[0])/2:ct===2&&(xt=Tt.longest-Tt.lengths[0]);for(var Ht=c.roundPixels,Xt=f.displayCallback,Kt=f.callbackData,Pt=0;Pt<g;Pt++){if(X=v.charCodeAt(Pt),X===10){gt++,ct===1?xt=(Tt.longest-Tt.lengths[gt])/2:ct===2&&(xt=Tt.longest-Tt.lengths[gt]),U=0,H+=rt,V=null;continue}if(Y=tt[X],!!Y){$=Y.width,z=Y.height;var Nt=Y.xOffset+U-K,Vt=Y.yOffset+H-Q;if(V!==null){var ee=Y.kerning[j]||0;Nt+=ee,U+=ee}if(U+=Y.xAdvance+J,V=Y,j=X,!($===0||z===0||X===32)){if(ot=f.fontSize/f.fontData.size,ft=0,Xt){Kt.color=0,Kt.tint.topLeft=F,Kt.tint.topRight=G,Kt.tint.bottomLeft=I,Kt.tint.bottomRight=B,Kt.index=Pt,Kt.charCode=X,Kt.x=Nt,Kt.y=Vt,Kt.scale=ot,Kt.rotation=ft,Kt.data=Y.data;var Ee=Xt(Kt);Nt=Ee.x,Vt=Ee.y,ot=Ee.scale,ft=Ee.rotation,Ee.color?(F=Ee.color,G=Ee.color,I=Ee.color,B=Ee.color):(F=Ee.tint.topLeft,G=Ee.tint.topRight,I=Ee.tint.bottomLeft,B=Ee.tint.bottomRight),F=d.getTintAppendFloatAlpha(F,c.alpha*f._alphaTL),G=d.getTintAppendFloatAlpha(G,c.alpha*f._alphaTR),I=d.getTintAppendFloatAlpha(I,c.alpha*f._alphaBL),B=d.getTintAppendFloatAlpha(B,c.alpha*f._alphaBR)}Nt*=ot,Vt*=ot,Nt-=f.displayOriginX,Vt-=f.displayOriginY,Nt+=xt,w.applyITRS(Nt,Vt,ft,ot,ot),P.multiply(w,C);var we=Y.u0,ve=Y.v0,Fe=Y.u1,ai=Y.v1,Gt=$,Wt=z,fe=C.e,xe=C.f,Ie=Wt*C.c+C.e,Ri=Wt*C.d+C.f,Ci=Gt*C.a+Wt*C.c+C.e,Xi=Gt*C.b+Wt*C.d+C.f,ti=Gt*C.a+C.e,Hi=Gt*C.b+C.f;Ht&&(fe=Math.round(fe),xe=Math.round(xe),Ie=Math.round(Ie),Ri=Math.round(Ri),Ci=Math.round(Ci),Xi=Math.round(Xi),ti=Math.round(ti),Hi=Math.round(Hi)),m.shouldFlush(6)&&(m.flush(),k=m.setGameObject(f)),m.batchQuad(f,fe,xe,Ie,Ri,Ci,Xi,ti,Hi,we,ve,Fe,ai,F,G,I,B,L,A,k)}}}M&&(m.flush(),a.popScissor()),a.pipelines.postBatch(f)}};n.exports=l},22186:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(45319),d=r(31401),h=r(95643),l=r(53048),a=r(61327),f=r(21859),c=r(87841),u=r(18658),v=new o({Extends:h,Mixins:[d.Alpha,d.BlendMode,d.Depth,d.GetBounds,d.Mask,d.Origin,d.Pipeline,d.PostPipeline,d.ScrollFactor,d.Texture,d.Tint,d.Transform,d.Visible,u],initialize:function(m,y,C,P,w,M,R){w===void 0&&(w=""),R===void 0&&(R=0),h.call(this,m,"BitmapText"),this.font=P;var A=this.scene.sys.cache.bitmapFont.get(P);if(!A)throw new Error("Invalid BitmapText key: "+P);this.fontData=A.data,this._text="",this._fontSize=M||this.fontData.size,this._letterSpacing=0,this._lineSpacing=0,this._align=R,this._bounds=l(),this._dirty=!0,this._maxWidth=0,this.wordWrapCharCode=32,this.charColors=[],this.dropShadowX=0,this.dropShadowY=0,this.dropShadowColor=0,this.dropShadowAlpha=.5,this.fromAtlas=A.fromAtlas,this.setTexture(A.texture,A.frame),this.setPosition(y,C),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(),this.setText(w)},setLeftAlign:function(){return this._align=v.ALIGN_LEFT,this._dirty=!0,this},setCenterAlign:function(){return this._align=v.ALIGN_CENTER,this._dirty=!0,this},setRightAlign:function(){return this._align=v.ALIGN_RIGHT,this._dirty=!0,this},setFontSize:function(g){return this._fontSize=g,this._dirty=!0,this},setLetterSpacing:function(g){return g===void 0&&(g=0),this._letterSpacing=g,this._dirty=!0,this},setLineSpacing:function(g){return g===void 0&&(g=0),this.lineSpacing=g,this},setText:function(g){return!g&&g!==0&&(g=""),Array.isArray(g)&&(g=g.join(`
`)),g!==this.text&&(this._text=g.toString(),this._dirty=!0,this.updateDisplayOrigin()),this},setDropShadow:function(g,m,y,C){return g===void 0&&(g=0),m===void 0&&(m=0),y===void 0&&(y=0),C===void 0&&(C=.5),this.dropShadowX=g,this.dropShadowY=m,this.dropShadowColor=y,this.dropShadowAlpha=C,this},setCharacterTint:function(g,m,y,C,P,w,M){g===void 0&&(g=0),m===void 0&&(m=1),y===void 0&&(y=!1),C===void 0&&(C=-1),P===void 0&&(P=C,w=C,M=C);var R=this.text.length;m===-1&&(m=R),g<0&&(g=R+g),g=x(g,0,R-1);for(var A=x(g+m,g,R),L=this.charColors,F=g;F<A;F++){var G=L[F];if(C===-1)L[F]=null;else{var I=y?1:0;G?(G.tintEffect=I,G.tintTL=C,G.tintTR=P,G.tintBL=w,G.tintBR=M):L[F]={tintEffect:I,tintTL:C,tintTR:P,tintBL:w,tintBR:M}}}return this},setWordTint:function(g,m,y,C,P,w,M){m===void 0&&(m=1);for(var R=this.getTextBounds(),A=R.words,L=typeof g=="number",F=0,G=0;G<A.length;G++){var I=A[G];if((L&&G===g||!L&&I.word===g)&&(this.setCharacterTint(I.i,I.word.length,y,C,P,w,M),F++,F===m))return this}return this},getTextBounds:function(g){var m=this._bounds;return(this._dirty||g||this.scaleX!==m.scaleX||this.scaleY!==m.scaleY)&&(l(this,g,!0,m),this._dirty=!1),m},getCharacterAt:function(g,m,y){for(var C=this.getLocalPoint(g,m,null,y),P=this.getTextBounds(),w=P.characters,M=new c,R=0;R<w.length;R++){var A=w[R];if(M.setTo(A.x,A.t,A.r-A.x,A.b),M.contains(C.x,C.y))return A}return null},updateDisplayOrigin:function(){return this._dirty=!0,this.getTextBounds(!1),this},setFont:function(g,m,y){m===void 0&&(m=this._fontSize),y===void 0&&(y=this._align);var C=this.scene.sys.cache.bitmapFont.get(g);return C&&(this.font=g,this.fontData=C.data,this._fontSize=m,this._align=y,this.fromAtlas=C.fromAtlas===!0,this.setTexture(C.texture,C.frame),l(this,!1,!0,this._bounds)),this},setMaxWidth:function(g,m){return this._maxWidth=g,this._dirty=!0,m!==void 0&&(this.wordWrapCharCode=m),this},align:{set:function(g){this._align=g,this._dirty=!0},get:function(){return this._align}},text:{set:function(g){this.setText(g)},get:function(){return this._text}},fontSize:{set:function(g){this._fontSize=g,this._dirty=!0},get:function(){return this._fontSize}},letterSpacing:{set:function(g){this._letterSpacing=g,this._dirty=!0},get:function(){return this._letterSpacing}},lineSpacing:{set:function(g){this._lineSpacing=g,this._dirty=!0},get:function(){return this._lineSpacing}},maxWidth:{set:function(g){this._maxWidth=g,this._dirty=!0},get:function(){return this._maxWidth}},width:{get:function(){return this.getTextBounds(!1),this._bounds.global.width}},height:{get:function(){return this.getTextBounds(!1),this._bounds.global.height}},displayWidth:{get:function(){return this.width}},displayHeight:{get:function(){return this.height}},toJSON:function(){var g=d.ToJSON(this),m={font:this.font,text:this.text,fontSize:this.fontSize,letterSpacing:this.letterSpacing,lineSpacing:this.lineSpacing,align:this.align};return g.data=m,g},preDestroy:function(){this.charColors.length=0,this._bounds=null,this.fontData=null}});v.ALIGN_LEFT=0,v.ALIGN_CENTER=1,v.ALIGN_RIGHT=2,v.ParseFromAtlas=a,v.ParseXMLBitmapFont=f,n.exports=v},37289:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(20926),x=function(d,h,l,a){var f=h._text,c=f.length,u=d.currentContext;if(!(c===0||!o(d,u,h,l,a))){l.addToRenderList(h);var v=h.fromAtlas?h.frame:h.texture.frames.__BASE,g=h.fontData.chars,m=h.fontData.lineHeight,y=h._letterSpacing,C=h._lineSpacing,P=0,w=0,M=0,R=null,A=0,L=0,F=0,G=0,I=0,B=0,k=null,U=0,H=v.source.image,X=v.cutX,j=v.cutY,J=h._fontSize/h.fontData.size,Y=h._align,$=0,z=0,V=h.getTextBounds(!1);h.maxWidth>0&&(f=V.wrappedText,c=f.length);var K=h._bounds.lines;Y===1?z=(K.longest-K.lengths[0])/2:Y===2&&(z=K.longest-K.lengths[0]),u.translate(-h.displayOriginX,-h.displayOriginY);for(var Q=l.roundPixels,_=0;_<c;_++){if(M=f.charCodeAt(_),M===10){$++,Y===1?z=(K.longest-K.lengths[$])/2:Y===2&&(z=K.longest-K.lengths[$]),P=0,w+=m+C,k=null;continue}if(R=g[M],!!R){if(A=X+R.x,L=j+R.y,F=R.width,G=R.height,I=R.xOffset+P,B=R.yOffset+w,k!==null){var tt=R.kerning[U];I+=tt!==void 0?tt:0}I*=J,B*=J,I+=z,P+=R.xAdvance+y+(tt!==void 0?tt:0),k=R,U=M,!(F===0||G===0||M===32)&&(Q&&(I=Math.round(I),B=Math.round(B)),u.save(),u.translate(I,B),u.scale(J,J),u.drawImage(H,A,L,F,G,0,0,F,G),u.restore())}}u.restore()}};n.exports=x},57336:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(22186),x=r(25305),d=r(44603),h=r(23568),l=r(35154);d.register("bitmapText",function(a,f){a===void 0&&(a={});var c=l(a,"font",""),u=h(a,"text",""),v=h(a,"size",!1),g=l(a,"align",0),m=new o(this.scene,0,0,c,u,v,g);return f!==void 0&&(a.add=f),x(this.scene,m,a),m})},34914:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(22186),x=r(39429);x.register("bitmapText",function(d,h,l,a,f,c){return this.displayList.add(new o(this.scene,d,h,l,a,f,c))})},18658:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),x=o,d=o;x=r(33590),d=r(37289),n.exports={renderWebGL:x,renderCanvas:d}},33590:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(3217),x=r(91296),d=r(70554),h=function(l,a,f,c){var u=a._text,v=u.length;if(v!==0){f.addToRenderList(a);var g=l.pipelines.set(a.pipeline,a),m=x(a,f,c).calc;l.pipelines.preBatch(a);var y=f.roundPixels,C=f.alpha,P=a.charColors,w=a.tintFill,M=d.getTintAppendFloatAlpha,R=M(a.tintTopLeft,C*a._alphaTL),A=M(a.tintTopRight,C*a._alphaTR),L=M(a.tintBottomLeft,C*a._alphaBL),F=M(a.tintBottomRight,C*a._alphaBR),G=a.frame.glTexture,I=g.setGameObject(a),B=a.getTextBounds(!1),k,U,H,X=B.characters,j=a.dropShadowX,J=a.dropShadowY,Y=j!==0||J!==0;if(Y){var $=a.dropShadowColor,z=a.dropShadowAlpha,V=M($,C*z*a._alphaTL),K=M($,C*z*a._alphaTR),Q=M($,C*z*a._alphaBL),_=M($,C*z*a._alphaBR);for(k=0;k<X.length;k++)U=X[k],H=U.glyph,!(U.code===32||H.width===0||H.height===0)&&o(g,a,U,H,j,J,m,y,V,K,Q,_,1,G,I)}for(k=0;k<X.length;k++)if(U=X[k],H=U.glyph,!(U.code===32||H.width===0||H.height===0))if(g.shouldFlush(6)&&(g.flush(),I=g.setGameObject(a)),P[U.i]){var tt=P[U.i],rt=tt.tintEffect,ot=M(tt.tintTL,C*a._alphaTL),ft=M(tt.tintTR,C*a._alphaTR),ct=M(tt.tintBL,C*a._alphaBL),gt=M(tt.tintBR,C*a._alphaBR);o(g,a,U,H,0,0,m,y,ot,ft,ct,gt,rt,G,I)}else o(g,a,U,H,0,0,m,y,R,A,L,F,w,G,I);l.pipelines.postBatch(a)}};n.exports=h},6107:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(48011),x=r(46590),d=r(83419),h=r(31401),l=r(4327),a=r(95643),f=r(73162),c=new d({Extends:a,Mixins:[h.Alpha,h.BlendMode,h.Depth,h.Mask,h.Pipeline,h.PostPipeline,h.ScrollFactor,h.Size,h.Texture,h.Transform,h.Visible,o],initialize:function(v,g,m,y,C){a.call(this,v,"Blitter"),this.setTexture(y,C),this.setPosition(g,m),this.initPipeline(),this.initPostPipeline(),this.children=new f,this.renderList=[],this.dirty=!1},create:function(u,v,g,m,y){m===void 0&&(m=!0),y===void 0&&(y=this.children.length),g===void 0?g=this.frame:g instanceof l||(g=this.texture.get(g));var C=new x(this,u,v,g,m);return this.children.addAt(C,y,!1),this.dirty=!0,C},createFromCallback:function(u,v,g,m){for(var y=this.createMultiple(v,g,m),C=0;C<y.length;C++){var P=y[C];u.call(this,P,C)}return y},createMultiple:function(u,v,g){v===void 0&&(v=this.frame.name),g===void 0&&(g=!0),Array.isArray(v)||(v=[v]);var m=[],y=this;return v.forEach(function(C){for(var P=0;P<u;P++)m.push(y.create(0,0,C,g))}),m},childCanRender:function(u){return u.visible&&u.alpha>0},getRenderList:function(){return this.dirty&&(this.renderList=this.children.list.filter(this.childCanRender,this),this.dirty=!1),this.renderList},clear:function(){this.children.removeAll(),this.dirty=!0},preDestroy:function(){this.children.destroy(),this.renderList=[]}});n.exports=c},72396:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d){var h=o.getRenderList();if(h.length!==0){var l=r.currentContext,a=x.alpha*o.alpha;if(a!==0){x.addToRenderList(o),l.globalCompositeOperation=r.blendModes[o.blendMode],l.imageSmoothingEnabled=!o.frame.source.scaleMode;var f=o.x-x.scrollX*o.scrollFactorX,c=o.y-x.scrollY*o.scrollFactorY;l.save(),d&&d.copyToContext(l);for(var u=x.roundPixels,v=0;v<h.length;v++){var g=h[v],m=g.flipX||g.flipY,y=g.frame,C=y.canvasData,P=y.x,w=y.y,M=1,R=1,A=g.alpha*a;A!==0&&(l.globalAlpha=A,m?(g.flipX&&(M=-1,P-=C.width),g.flipY&&(R=-1,w-=C.height),C.width>0&&C.height>0&&(l.save(),l.translate(g.x+f,g.y+c),l.scale(M,R),l.drawImage(y.source.image,C.x,C.y,C.width,C.height,P,w,C.width,C.height),l.restore())):(u&&(P=Math.round(P),w=Math.round(w)),C.width>0&&C.height>0&&l.drawImage(y.source.image,C.x,C.y,C.width,C.height,P+g.x+f,w+g.y+c,C.width,C.height)))}l.restore()}}};n.exports=T},9403:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(6107),x=r(25305),d=r(44603),h=r(23568);d.register("blitter",function(l,a){l===void 0&&(l={});var f=h(l,"key",null),c=h(l,"frame",null),u=new o(this.scene,0,0,f,c);return a!==void 0&&(l.add=a),x(this.scene,u,l),u})},12709:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(6107),x=r(39429);x.register("blitter",function(d,h,l,a){return this.displayList.add(new o(this.scene,d,h,l,a))})},48011:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),x=o,d=o;x=r(99485),d=r(72396),n.exports={renderWebGL:x,renderCanvas:d}},99485:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(61340),x=r(70554),d=new o,h=function(l,a,f,c){var u=a.getRenderList(),v=f.alpha*a.alpha;if(!(u.length===0||v===0)){f.addToRenderList(a);var g=l.pipelines.set(this.pipeline,a),m=f.scrollX*a.scrollFactorX,y=f.scrollY*a.scrollFactorY,C=d.copyFrom(f.matrix);c&&(C.multiplyWithOffset(c,-m,-y),m=0,y=0);var P=a.x-m,w=a.y-y,M=-1,R=!1,A=f.roundPixels;l.pipelines.preBatch(a);for(var L=0;L<u.length;L++){var F=u[L],G=F.frame,I=F.alpha*v;if(I!==0){var B=G.width,k=G.height,U=P+F.x+G.x,H=w+F.y+G.y;F.flipX&&(B*=-1,U+=G.width),F.flipY&&(k*=-1,H+=G.height);var X=C.setQuad(U,H,U+B,H+k,A),j=x.getTintAppendFloatAlpha(F.tint,I);if(G.sourceIndex!==M){var J=g.setGameObject(a,G);M=G.sourceIndex}g.batchQuad(a,X[0],X[1],X[2],X[3],X[4],X[5],X[6],X[7],G.u0,G.v0,G.u1,G.v1,j,j,j,j,R,G.glTexture,J)&&(M=-1)}}l.pipelines.postBatch(a)}};n.exports=h},46590:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(4327),d=new o({initialize:function(l,a,f,c,u){this.parent=l,this.x=a,this.y=f,this.frame=c,this.data={},this.tint=16777215,this._visible=u,this._alpha=1,this.flipX=!1,this.flipY=!1,this.hasTransformComponent=!0},setFrame:function(h){return h===void 0?this.frame=this.parent.frame:h instanceof x&&h.texture===this.parent.texture?this.frame=h:this.frame=this.parent.texture.get(h),this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this},reset:function(h,l,a){return this.x=h,this.y=l,this.flipX=!1,this.flipY=!1,this._alpha=1,this._visible=!0,this.parent.dirty=!0,a&&this.setFrame(a),this},setPosition:function(h,l){return this.x=h,this.y=l,this},setFlipX:function(h){return this.flipX=h,this},setFlipY:function(h){return this.flipY=h,this},setFlip:function(h,l){return this.flipX=h,this.flipY=l,this},setVisible:function(h){return this.visible=h,this},setAlpha:function(h){return this.alpha=h,this},setTint:function(h){return this.tint=h,this},destroy:function(){this.parent.dirty=!0,this.parent.children.remove(this),this.parent=void 0,this.frame=void 0,this.data=void 0},visible:{get:function(){return this._visible},set:function(h){this.parent.dirty|=this._visible!==h,this._visible=h}},alpha:{get:function(){return this._alpha},set:function(h){this.parent.dirty|=this._alpha>0!=h>0,this._alpha=h}}});n.exports=d},16005:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(45319),x=2,d={_alpha:1,_alphaTL:1,_alphaTR:1,_alphaBL:1,_alphaBR:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(h,l,a,f){return h===void 0&&(h=1),l===void 0?this.alpha=h:(this._alphaTL=o(h,0,1),this._alphaTR=o(l,0,1),this._alphaBL=o(a,0,1),this._alphaBR=o(f,0,1)),this},alpha:{get:function(){return this._alpha},set:function(h){var l=o(h,0,1);this._alpha=l,this._alphaTL=l,this._alphaTR=l,this._alphaBL=l,this._alphaBR=l,l===0?this.renderFlags&=~x:this.renderFlags|=x}},alphaTopLeft:{get:function(){return this._alphaTL},set:function(h){var l=o(h,0,1);this._alphaTL=l,l!==0&&(this.renderFlags|=x)}},alphaTopRight:{get:function(){return this._alphaTR},set:function(h){var l=o(h,0,1);this._alphaTR=l,l!==0&&(this.renderFlags|=x)}},alphaBottomLeft:{get:function(){return this._alphaBL},set:function(h){var l=o(h,0,1);this._alphaBL=l,l!==0&&(this.renderFlags|=x)}},alphaBottomRight:{get:function(){return this._alphaBR},set:function(h){var l=o(h,0,1);this._alphaBR=l,l!==0&&(this.renderFlags|=x)}}};n.exports=d},88509:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(45319),x=2,d={_alpha:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(h){return h===void 0&&(h=1),this.alpha=h,this},alpha:{get:function(){return this._alpha},set:function(h){var l=o(h,0,1);this._alpha=l,l===0?this.renderFlags&=~x:this.renderFlags|=x}}};n.exports=d},90065:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(10312),x={_blendMode:o.NORMAL,blendMode:{get:function(){return this._blendMode},set:function(d){typeof d=="string"&&(d=o[d]),d|=0,d>=-1&&(this._blendMode=d)}},setBlendMode:function(d){return this.blendMode=d,this}};n.exports=x},94215:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={width:0,height:0,displayWidth:{get:function(){return this.scaleX*this.width},set:function(r){this.scaleX=r/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(r){this.scaleY=r/this.height}},setSize:function(r,o){return this.width=r,this.height=o,this},setDisplaySize:function(r,o){return this.displayWidth=r,this.displayHeight=o,this}};n.exports=T},61683:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={texture:null,frame:null,isCropped:!1,setCrop:function(r,o,x,d){if(r===void 0)this.isCropped=!1;else if(this.frame){if(typeof r=="number")this.frame.setCropUVs(this._crop,r,o,x,d,this.flipX,this.flipY);else{var h=r;this.frame.setCropUVs(this._crop,h.x,h.y,h.width,h.height,this.flipX,this.flipY)}this.isCropped=!0}return this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};n.exports=T},89272:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(37105),x={_depth:0,depth:{get:function(){return this._depth},set:function(d){this.displayList&&this.displayList.queueDepthSort(),this._depth=d}},setDepth:function(d){return d===void 0&&(d=0),this.depth=d,this},setToTop:function(){var d=this.getDisplayList();return d&&o.BringToTop(d,this),this},setToBack:function(){var d=this.getDisplayList();return d&&o.SendToBack(d,this),this},setAbove:function(d){var h=this.getDisplayList();return h&&d&&o.MoveAbove(h,this,d),this},setBelow:function(d){var h=this.getDisplayList();return h&&d&&o.MoveBelow(h,this,d),this}};n.exports=x},47059:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(66064),d=r(19133),h=new o({initialize:function(a,f){this.gameObject=a,this.isPost=f,this.enabled=!1,this.list=[],this.padding=0},setPadding:function(l){return l===void 0&&(l=0),this.padding=l,this.gameObject},onFXCopy:function(){},onFX:function(){},enable:function(l){if(!this.isPost){var a=this.gameObject.scene.sys.renderer;a&&a.pipelines?(this.gameObject.pipeline=a.pipelines.FX_PIPELINE,l!==void 0&&(this.padding=l),this.enabled=!0):this.enabled=!1}},clear:function(){if(this.isPost)this.gameObject.resetPostPipeline(!0);else{for(var l=this.list,a=0;a<l.length;a++)l[a].destroy();this.list=[]}return this.enabled=!1,this.gameObject},remove:function(l){var a;if(this.isPost){var f=this.gameObject.getPostPipeline(String(l.type));for(Array.isArray(f)||(f=[f]),a=0;a<f.length;a++){var c=f[a];if(c.controller===l){this.gameObject.removePostPipeline(c),l.destroy();break}}}else{var u=this.list;for(a=0;a<u.length;a++)u[a]===l&&(d(u,a),l.destroy())}return this.gameObject},disable:function(l){return l===void 0&&(l=!1),this.isPost||this.gameObject.resetPipeline(),this.enabled=!1,l&&this.clear(),this.gameObject},add:function(l,a){if(this.isPost){var f=String(l.type);this.gameObject.setPostPipeline(f,a);var c=this.gameObject.getPostPipeline(f);if(c)return Array.isArray(c)&&(c=c.pop()),c&&(c.controller=l),l}else return this.enabled||this.enable(),this.list.push(l),l},addGlow:function(l,a,f,c,u,v){return this.add(new x.Glow(this.gameObject,l,a,f,c),{quality:u,distance:v})},addShadow:function(l,a,f,c,u,v,g){return this.add(new x.Shadow(this.gameObject,l,a,f,c,u,v,g))},addPixelate:function(l){return this.add(new x.Pixelate(this.gameObject,l))},addVignette:function(l,a,f,c){return this.add(new x.Vignette(this.gameObject,l,a,f,c))},addShine:function(l,a,f,c){return this.add(new x.Shine(this.gameObject,l,a,f,c))},addBlur:function(l,a,f,c,u,v){return this.add(new x.Blur(this.gameObject,l,a,f,c,u,v))},addGradient:function(l,a,f,c,u,v,g,m){return this.add(new x.Gradient(this.gameObject,l,a,f,c,u,v,g,m))},addBloom:function(l,a,f,c,u,v){return this.add(new x.Bloom(this.gameObject,l,a,f,c,u,v))},addColorMatrix:function(){return this.add(new x.ColorMatrix(this.gameObject))},addCircle:function(l,a,f,c,u){return this.add(new x.Circle(this.gameObject,l,a,f,c,u))},addBarrel:function(l){return this.add(new x.Barrel(this.gameObject,l))},addDisplacement:function(l,a,f){return this.add(new x.Displacement(this.gameObject,l,a,f))},addWipe:function(l,a,f){return this.add(new x.Wipe(this.gameObject,l,a,f))},addReveal:function(l,a,f){return this.add(new x.Wipe(this.gameObject,l,a,f,!0))},addBokeh:function(l,a,f){return this.add(new x.Bokeh(this.gameObject,l,a,f))},addTiltShift:function(l,a,f,c,u,v){return this.add(new x.Bokeh(this.gameObject,l,a,f,!0,c,u,v))},destroy:function(){this.clear(),this.gameObject=null}});n.exports=h},54434:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={flipX:!1,flipY:!1,toggleFlipX:function(){return this.flipX=!this.flipX,this},toggleFlipY:function(){return this.flipY=!this.flipY,this},setFlipX:function(r){return this.flipX=r,this},setFlipY:function(r){return this.flipY=r,this},setFlip:function(r,o){return this.flipX=r,this.flipY=o,this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this}};n.exports=T},8004:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(87841),x=r(11520),d=r(26099),h={prepareBoundsOutput:function(l,a){if(a===void 0&&(a=!1),this.rotation!==0&&x(l,this.x,this.y,this.rotation),a&&this.parentContainer){var f=this.parentContainer.getBoundsTransformMatrix();f.transformPoint(l.x,l.y,l)}return l},getCenter:function(l,a){return l===void 0&&(l=new d),l.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,l.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(l,a)},getTopLeft:function(l,a){return l||(l=new d),l.x=this.x-this.displayWidth*this.originX,l.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(l,a)},getTopCenter:function(l,a){return l||(l=new d),l.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,l.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(l,a)},getTopRight:function(l,a){return l||(l=new d),l.x=this.x-this.displayWidth*this.originX+this.displayWidth,l.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(l,a)},getLeftCenter:function(l,a){return l||(l=new d),l.x=this.x-this.displayWidth*this.originX,l.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(l,a)},getRightCenter:function(l,a){return l||(l=new d),l.x=this.x-this.displayWidth*this.originX+this.displayWidth,l.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(l,a)},getBottomLeft:function(l,a){return l||(l=new d),l.x=this.x-this.displayWidth*this.originX,l.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(l,a)},getBottomCenter:function(l,a){return l||(l=new d),l.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,l.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(l,a)},getBottomRight:function(l,a){return l||(l=new d),l.x=this.x-this.displayWidth*this.originX+this.displayWidth,l.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(l,a)},getBounds:function(l){l===void 0&&(l=new o);var a,f,c,u,v,g,m,y;if(this.parentContainer){var C=this.parentContainer.getBoundsTransformMatrix();this.getTopLeft(l),C.transformPoint(l.x,l.y,l),a=l.x,f=l.y,this.getTopRight(l),C.transformPoint(l.x,l.y,l),c=l.x,u=l.y,this.getBottomLeft(l),C.transformPoint(l.x,l.y,l),v=l.x,g=l.y,this.getBottomRight(l),C.transformPoint(l.x,l.y,l),m=l.x,y=l.y}else this.getTopLeft(l),a=l.x,f=l.y,this.getTopRight(l),c=l.x,u=l.y,this.getBottomLeft(l),v=l.x,g=l.y,this.getBottomRight(l),m=l.x,y=l.y;return l.x=Math.min(a,c,v,m),l.y=Math.min(f,u,g,y),l.width=Math.max(a,c,v,m)-l.x,l.height=Math.max(f,u,g,y)-l.y,l}};n.exports=h},8573:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(6858),x=r(80661),d={mask:null,setMask:function(h){return this.mask=h,this},clearMask:function(h){return h===void 0&&(h=!1),h&&this.mask&&this.mask.destroy(),this.mask=null,this},createBitmapMask:function(h,l,a,f,c){return h===void 0&&(this.texture||this.shader||this.geom)&&(h=this),new o(this.scene,h,l,a,f,c)},createGeometryMask:function(h){return h===void 0&&(this.type==="Graphics"||this.geom)&&(h=this),new x(this.scene,h)}};n.exports=d},27387:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={_originComponent:!0,originX:.5,originY:.5,_displayOriginX:0,_displayOriginY:0,displayOriginX:{get:function(){return this._displayOriginX},set:function(r){this._displayOriginX=r,this.originX=r/this.width}},displayOriginY:{get:function(){return this._displayOriginY},set:function(r){this._displayOriginY=r,this.originY=r/this.height}},setOrigin:function(r,o){return r===void 0&&(r=.5),o===void 0&&(o=r),this.originX=r,this.originY=o,this.updateDisplayOrigin()},setOriginFromFrame:function(){return!this.frame||!this.frame.customPivot?this.setOrigin():(this.originX=this.frame.pivotX,this.originY=this.frame.pivotY,this.updateDisplayOrigin())},setDisplayOrigin:function(r,o){return r===void 0&&(r=0),o===void 0&&(o=r),this.displayOriginX=r,this.displayOriginY=o,this},updateDisplayOrigin:function(){return this._displayOriginX=this.originX*this.width,this._displayOriginY=this.originY*this.height,this}};n.exports=T},37640:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(39506),x=r(57355),d=r(35154),h=r(86353),l=r(26099),a={path:null,rotateToPath:!1,pathRotationOffset:0,pathOffset:null,pathVector:null,pathDelta:null,pathTween:null,pathConfig:null,_prevDirection:h.PLAYING_FORWARD,setPath:function(f,c){c===void 0&&(c=this.pathConfig);var u=this.pathTween;return u&&u.isPlaying()&&u.stop(),this.path=f,c&&this.startFollow(c),this},setRotateToPath:function(f,c){return c===void 0&&(c=0),this.rotateToPath=f,this.pathRotationOffset=c,this},isFollowing:function(){var f=this.pathTween;return f&&f.isPlaying()},startFollow:function(f,c){f===void 0&&(f={}),c===void 0&&(c=0);var u=this.pathTween;u&&u.isPlaying()&&u.stop(),typeof f=="number"&&(f={duration:f}),f.from=d(f,"from",0),f.to=d(f,"to",1);var v=x(f,"positionOnPath",!1);this.rotateToPath=x(f,"rotateToPath",!1),this.pathRotationOffset=d(f,"rotationOffset",0);var g=d(f,"startAt",c);if(g&&(f.onStart=function(y){var C=y.data[0];C.progress=g,C.elapsed=C.duration*g;var P=C.ease(C.progress);C.current=C.start+(C.end-C.start)*P,C.setTargetValue()}),this.pathOffset||(this.pathOffset=new l(this.x,this.y)),this.pathVector||(this.pathVector=new l),this.pathDelta||(this.pathDelta=new l),this.pathDelta.reset(),f.persist=!0,this.pathTween=this.scene.sys.tweens.addCounter(f),this.path.getStartPoint(this.pathOffset),v&&(this.x=this.pathOffset.x,this.y=this.pathOffset.y),this.pathOffset.x=this.x-this.pathOffset.x,this.pathOffset.y=this.y-this.pathOffset.y,this._prevDirection=h.PLAYING_FORWARD,this.rotateToPath){var m=this.path.getPoint(.1);this.rotation=Math.atan2(m.y-this.y,m.x-this.x)+o(this.pathRotationOffset)}return this.pathConfig=f,this},pauseFollow:function(){var f=this.pathTween;return f&&f.isPlaying()&&f.pause(),this},resumeFollow:function(){var f=this.pathTween;return f&&f.isPaused()&&f.resume(),this},stopFollow:function(){var f=this.pathTween;return f&&f.isPlaying()&&f.stop(),this},pathUpdate:function(){var f=this.pathTween;if(f&&f.data){var c=f.data[0],u=this.pathDelta,v=this.pathVector;if(u.copy(v).negate(),c.state===h.COMPLETE){this.path.getPoint(c.end,v),u.add(v),v.add(this.pathOffset),this.setPosition(v.x,v.y);return}else if(c.state!==h.PLAYING_FORWARD&&c.state!==h.PLAYING_BACKWARD)return;this.path.getPoint(f.getValue(),v),u.add(v),v.add(this.pathOffset);var g=this.x,m=this.y;this.setPosition(v.x,v.y);var y=this.x-g,C=this.y-m;if(y===0&&C===0)return;if(c.state!==this._prevDirection){this._prevDirection=c.state;return}this.rotateToPath&&(this.rotation=Math.atan2(C,y)+o(this.pathRotationOffset))}}};n.exports=a},72699:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(62644),x={defaultPipeline:null,pipeline:null,pipelineData:null,initPipeline:function(d){this.pipelineData={};var h=this.scene.sys.renderer;if(!h)return!1;var l=h.pipelines;if(l){d===void 0&&(d=l.default);var a=l.get(d);if(a)return this.defaultPipeline=a,this.pipeline=a,!0}return!1},setPipeline:function(d,h,l){var a=this.scene.sys.renderer;if(!a)return this;var f=a.pipelines;if(f){var c=f.get(d);c&&(this.pipeline=c),h&&(this.pipelineData=l?o(h):h)}return this},setPipelineData:function(d,h){var l=this.pipelineData;return h===void 0?delete l[d]:l[d]=h,this},resetPipeline:function(d){return d===void 0&&(d=!1),this.pipeline=this.defaultPipeline,d&&(this.pipelineData={}),this.pipeline!==null},getPipelineName:function(){return this.pipeline===null?null:this.pipeline.name}};n.exports=x},17581:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(62644),x=r(47059),d=r(19133),h={hasPostPipeline:!1,postPipelines:null,postPipelineData:null,preFX:null,postFX:null,initPostPipeline:function(l){this.postPipelines=[],this.postPipelineData={},this.postFX=new x(this,!0),l&&(this.preFX=new x(this,!1))},setPostPipeline:function(l,a,f){var c=this.scene.sys.renderer;if(!c)return this;var u=c.pipelines;if(u){Array.isArray(l)||(l=[l]);for(var v=0;v<l.length;v++){var g=u.getPostPipeline(l[v],this,a);g&&this.postPipelines.push(g)}a&&(this.postPipelineData=f?o(a):a)}return this.hasPostPipeline=this.postPipelines.length>0,this},setPostPipelineData:function(l,a){var f=this.postPipelineData;return a===void 0?delete f[l]:f[l]=a,this},getPostPipeline:function(l){for(var a=typeof l=="string",f=this.postPipelines,c=[],u=0;u<f.length;u++){var v=f[u];(a&&v.name===l||!a&&v instanceof l)&&c.push(v)}return c.length===1?c[0]:c},resetPostPipeline:function(l){l===void 0&&(l=!1);for(var a=this.postPipelines,f=0;f<a.length;f++)a[f].destroy();this.postPipelines=[],this.hasPostPipeline=!1,l&&(this.postPipelineData={})},removePostPipeline:function(l){for(var a=typeof l=="string",f=this.postPipelines,c=f.length-1;c>=0;c--){var u=f[c];(a&&u.name===l||!a&&u===l)&&(u.destroy(),d(f,c))}return this.hasPostPipeline=this.postPipelines.length>0,this},clearFX:function(){return this.preFX&&this.preFX.clear(),this.postFX&&this.postFX.clear(),this}};n.exports=h},80227:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={scrollFactorX:1,scrollFactorY:1,setScrollFactor:function(r,o){return o===void 0&&(o=r),this.scrollFactorX=r,this.scrollFactorY=o,this}};n.exports=T},16736:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={_sizeComponent:!0,width:0,height:0,displayWidth:{get:function(){return Math.abs(this.scaleX*this.frame.realWidth)},set:function(r){this.scaleX=r/this.frame.realWidth}},displayHeight:{get:function(){return Math.abs(this.scaleY*this.frame.realHeight)},set:function(r){this.scaleY=r/this.frame.realHeight}},setSizeToFrame:function(r){r||(r=this.frame),this.width=r.realWidth,this.height=r.realHeight;var o=this.input;return o&&!o.customHitArea&&(o.hitArea.width=this.width,o.hitArea.height=this.height),this},setSize:function(r,o){return this.width=r,this.height=o,this},setDisplaySize:function(r,o){return this.displayWidth=r,this.displayHeight=o,this}};n.exports=T},37726:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(4327),x=8,d={texture:null,frame:null,isCropped:!1,setTexture:function(h,l,a,f){return this.texture=this.scene.sys.textures.get(h),this.setFrame(l,a,f)},setFrame:function(h,l,a){return l===void 0&&(l=!0),a===void 0&&(a=!0),h instanceof o?(this.texture=this.scene.sys.textures.get(h.texture.key),this.frame=h):this.frame=this.texture.get(h),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~x:this.renderFlags|=x,this._sizeComponent&&l&&this.setSizeToFrame(),this._originComponent&&a&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this}};n.exports=d},79812:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(4327),x=8,d={texture:null,frame:null,isCropped:!1,setCrop:function(h,l,a,f){if(h===void 0)this.isCropped=!1;else if(this.frame){if(typeof h=="number")this.frame.setCropUVs(this._crop,h,l,a,f,this.flipX,this.flipY);else{var c=h;this.frame.setCropUVs(this._crop,c.x,c.y,c.width,c.height,this.flipX,this.flipY)}this.isCropped=!0}return this},setTexture:function(h,l){return this.texture=this.scene.sys.textures.get(h),this.setFrame(l)},setFrame:function(h,l,a){return l===void 0&&(l=!0),a===void 0&&(a=!0),h instanceof o?(this.texture=this.scene.sys.textures.get(h.texture.key),this.frame=h):this.frame=this.texture.get(h),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~x:this.renderFlags|=x,this._sizeComponent&&l&&this.setSizeToFrame(),this._originComponent&&a&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this.isCropped&&this.frame.updateCropUVs(this._crop,this.flipX,this.flipY),this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};n.exports=d},27472:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={tintTopLeft:16777215,tintTopRight:16777215,tintBottomLeft:16777215,tintBottomRight:16777215,tintFill:!1,clearTint:function(){return this.setTint(16777215),this},setTint:function(r,o,x,d){return r===void 0&&(r=16777215),o===void 0&&(o=r,x=r,d=r),this.tintTopLeft=r,this.tintTopRight=o,this.tintBottomLeft=x,this.tintBottomRight=d,this.tintFill=!1,this},setTintFill:function(r,o,x,d){return this.setTint(r,o,x,d),this.tintFill=!0,this},tint:{get:function(){return this.tintTopLeft},set:function(r){this.setTint(r,r,r,r)}},isTinted:{get:function(){var r=16777215;return this.tintFill||this.tintTopLeft!==r||this.tintTopRight!==r||this.tintBottomLeft!==r||this.tintBottomRight!==r}}};n.exports=T},53774:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){var o={name:r.name,type:r.type,x:r.x,y:r.y,depth:r.depth,scale:{x:r.scaleX,y:r.scaleY},origin:{x:r.originX,y:r.originY},flipX:r.flipX,flipY:r.flipY,rotation:r.rotation,alpha:r.alpha,visible:r.visible,blendMode:r.blendMode,textureKey:"",frameKey:"",data:{}};return r.texture&&(o.textureKey=r.texture.key,o.frameKey=r.frame.name),o};n.exports=T},16901:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(36383),x=r(61340),d=r(85955),h=r(86554),l=r(30954),a=r(26099),f=4,c={hasTransformComponent:!0,_scaleX:1,_scaleY:1,_rotation:0,x:0,y:0,z:0,w:0,scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(u){this._scaleX=u,this._scaleY=u,u===0?this.renderFlags&=~f:this.renderFlags|=f}},scaleX:{get:function(){return this._scaleX},set:function(u){this._scaleX=u,u===0?this.renderFlags&=~f:this._scaleY!==0&&(this.renderFlags|=f)}},scaleY:{get:function(){return this._scaleY},set:function(u){this._scaleY=u,u===0?this.renderFlags&=~f:this._scaleX!==0&&(this.renderFlags|=f)}},angle:{get:function(){return l(this._rotation*o.RAD_TO_DEG)},set:function(u){this.rotation=l(u)*o.DEG_TO_RAD}},rotation:{get:function(){return this._rotation},set:function(u){this._rotation=h(u)}},setPosition:function(u,v,g,m){return u===void 0&&(u=0),v===void 0&&(v=u),g===void 0&&(g=0),m===void 0&&(m=0),this.x=u,this.y=v,this.z=g,this.w=m,this},copyPosition:function(u){return u.x!==void 0&&(this.x=u.x),u.y!==void 0&&(this.y=u.y),u.z!==void 0&&(this.z=u.z),u.w!==void 0&&(this.w=u.w),this},setRandomPosition:function(u,v,g,m){return u===void 0&&(u=0),v===void 0&&(v=0),g===void 0&&(g=this.scene.sys.scale.width),m===void 0&&(m=this.scene.sys.scale.height),this.x=u+Math.random()*g,this.y=v+Math.random()*m,this},setRotation:function(u){return u===void 0&&(u=0),this.rotation=u,this},setAngle:function(u){return u===void 0&&(u=0),this.angle=u,this},setScale:function(u,v){return u===void 0&&(u=1),v===void 0&&(v=u),this.scaleX=u,this.scaleY=v,this},setX:function(u){return u===void 0&&(u=0),this.x=u,this},setY:function(u){return u===void 0&&(u=0),this.y=u,this},setZ:function(u){return u===void 0&&(u=0),this.z=u,this},setW:function(u){return u===void 0&&(u=0),this.w=u,this},getLocalTransformMatrix:function(u){return u===void 0&&(u=new x),u.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY)},getWorldTransformMatrix:function(u,v){u===void 0&&(u=new x);var g=this.parentContainer;if(!g)return this.getLocalTransformMatrix(u);var m=!1;for(v||(v=new x,m=!0),u.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY);g;)v.applyITRS(g.x,g.y,g._rotation,g._scaleX,g._scaleY),v.multiply(u,u),g=g.parentContainer;return m&&v.destroy(),u},getLocalPoint:function(u,v,g,m){g||(g=new a),m||(m=this.scene.sys.cameras.main);var y=m.scrollX,C=m.scrollY,P=u+y*this.scrollFactorX-y,w=v+C*this.scrollFactorY-C;return this.parentContainer?this.getWorldTransformMatrix().applyInverse(P,w,g):d(P,w,this.x,this.y,this.rotation,this.scaleX,this.scaleY,g),this._originComponent&&(g.x+=this._displayOriginX,g.y+=this._displayOriginY),g},getWorldPoint:function(u,v,g){u===void 0&&(u=new a);var m=this.parentContainer;if(!m)return u.x=this.x,u.y=this.y,u;var y=this.getWorldTransformMatrix(v,g);return u.x=y.tx,u.y=y.ty,u},getParentRotation:function(){for(var u=0,v=this.parentContainer;v;)u+=v.rotation,v=v.parentContainer;return u}};n.exports=c},61340:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(36383),d=r(26099),h=new o({initialize:function(a,f,c,u,v,g){a===void 0&&(a=1),f===void 0&&(f=0),c===void 0&&(c=0),u===void 0&&(u=1),v===void 0&&(v=0),g===void 0&&(g=0),this.matrix=new Float32Array([a,f,c,u,v,g,0,0,1]),this.decomposedMatrix={translateX:0,translateY:0,scaleX:1,scaleY:1,rotation:0},this.quad=new Float32Array(8)},a:{get:function(){return this.matrix[0]},set:function(l){this.matrix[0]=l}},b:{get:function(){return this.matrix[1]},set:function(l){this.matrix[1]=l}},c:{get:function(){return this.matrix[2]},set:function(l){this.matrix[2]=l}},d:{get:function(){return this.matrix[3]},set:function(l){this.matrix[3]=l}},e:{get:function(){return this.matrix[4]},set:function(l){this.matrix[4]=l}},f:{get:function(){return this.matrix[5]},set:function(l){this.matrix[5]=l}},tx:{get:function(){return this.matrix[4]},set:function(l){this.matrix[4]=l}},ty:{get:function(){return this.matrix[5]},set:function(l){this.matrix[5]=l}},rotation:{get:function(){return Math.acos(this.a/this.scaleX)*(Math.atan(-this.c/this.a)<0?-1:1)}},rotationNormalized:{get:function(){var l=this.matrix,a=l[0],f=l[1],c=l[2],u=l[3];return a||f?f>0?Math.acos(a/this.scaleX):-Math.acos(a/this.scaleX):c||u?x.TAU-(u>0?Math.acos(-c/this.scaleY):-Math.acos(c/this.scaleY)):0}},scaleX:{get:function(){return Math.sqrt(this.a*this.a+this.b*this.b)}},scaleY:{get:function(){return Math.sqrt(this.c*this.c+this.d*this.d)}},loadIdentity:function(){var l=this.matrix;return l[0]=1,l[1]=0,l[2]=0,l[3]=1,l[4]=0,l[5]=0,this},translate:function(l,a){var f=this.matrix;return f[4]=f[0]*l+f[2]*a+f[4],f[5]=f[1]*l+f[3]*a+f[5],this},scale:function(l,a){var f=this.matrix;return f[0]*=l,f[1]*=l,f[2]*=a,f[3]*=a,this},rotate:function(l){var a=Math.sin(l),f=Math.cos(l),c=this.matrix,u=c[0],v=c[1],g=c[2],m=c[3];return c[0]=u*f+g*a,c[1]=v*f+m*a,c[2]=u*-a+g*f,c[3]=v*-a+m*f,this},multiply:function(l,a){var f=this.matrix,c=l.matrix,u=f[0],v=f[1],g=f[2],m=f[3],y=f[4],C=f[5],P=c[0],w=c[1],M=c[2],R=c[3],A=c[4],L=c[5],F=a===void 0?f:a.matrix;return F[0]=P*u+w*g,F[1]=P*v+w*m,F[2]=M*u+R*g,F[3]=M*v+R*m,F[4]=A*u+L*g+y,F[5]=A*v+L*m+C,F},multiplyWithOffset:function(l,a,f){var c=this.matrix,u=l.matrix,v=c[0],g=c[1],m=c[2],y=c[3],C=c[4],P=c[5],w=a*v+f*m+C,M=a*g+f*y+P,R=u[0],A=u[1],L=u[2],F=u[3],G=u[4],I=u[5];return c[0]=R*v+A*m,c[1]=R*g+A*y,c[2]=L*v+F*m,c[3]=L*g+F*y,c[4]=G*v+I*m+w,c[5]=G*g+I*y+M,this},transform:function(l,a,f,c,u,v){var g=this.matrix,m=g[0],y=g[1],C=g[2],P=g[3],w=g[4],M=g[5];return g[0]=l*m+a*C,g[1]=l*y+a*P,g[2]=f*m+c*C,g[3]=f*y+c*P,g[4]=u*m+v*C+w,g[5]=u*y+v*P+M,this},transformPoint:function(l,a,f){f===void 0&&(f={x:0,y:0});var c=this.matrix,u=c[0],v=c[1],g=c[2],m=c[3],y=c[4],C=c[5];return f.x=l*u+a*g+y,f.y=l*v+a*m+C,f},invert:function(){var l=this.matrix,a=l[0],f=l[1],c=l[2],u=l[3],v=l[4],g=l[5],m=a*u-f*c;return l[0]=u/m,l[1]=-f/m,l[2]=-c/m,l[3]=a/m,l[4]=(c*g-u*v)/m,l[5]=-(a*g-f*v)/m,this},copyFrom:function(l){var a=this.matrix;return a[0]=l.a,a[1]=l.b,a[2]=l.c,a[3]=l.d,a[4]=l.e,a[5]=l.f,this},copyFromArray:function(l){var a=this.matrix;return a[0]=l[0],a[1]=l[1],a[2]=l[2],a[3]=l[3],a[4]=l[4],a[5]=l[5],this},copyToContext:function(l){var a=this.matrix;return l.transform(a[0],a[1],a[2],a[3],a[4],a[5]),l},setToContext:function(l){return l.setTransform(this.a,this.b,this.c,this.d,this.e,this.f),l},copyToArray:function(l){var a=this.matrix;return l===void 0?l=[a[0],a[1],a[2],a[3],a[4],a[5]]:(l[0]=a[0],l[1]=a[1],l[2]=a[2],l[3]=a[3],l[4]=a[4],l[5]=a[5]),l},setTransform:function(l,a,f,c,u,v){var g=this.matrix;return g[0]=l,g[1]=a,g[2]=f,g[3]=c,g[4]=u,g[5]=v,this},decomposeMatrix:function(){var l=this.decomposedMatrix,a=this.matrix,f=a[0],c=a[1],u=a[2],v=a[3],g=f*v-c*u;if(l.translateX=a[4],l.translateY=a[5],f||c){var m=Math.sqrt(f*f+c*c);l.rotation=c>0?Math.acos(f/m):-Math.acos(f/m),l.scaleX=m,l.scaleY=g/m}else if(u||v){var y=Math.sqrt(u*u+v*v);l.rotation=Math.PI*.5-(v>0?Math.acos(-u/y):-Math.acos(u/y)),l.scaleX=g/y,l.scaleY=y}else l.rotation=0,l.scaleX=0,l.scaleY=0;return l},applyITRS:function(l,a,f,c,u){var v=this.matrix,g=Math.sin(f),m=Math.cos(f);return v[4]=l,v[5]=a,v[0]=m*c,v[1]=g*c,v[2]=-g*u,v[3]=m*u,this},applyInverse:function(l,a,f){f===void 0&&(f=new d);var c=this.matrix,u=c[0],v=c[1],g=c[2],m=c[3],y=c[4],C=c[5],P=1/(u*m+g*-v);return f.x=m*P*l+-g*P*a+(C*g-y*m)*P,f.y=u*P*a+-v*P*l+(-C*u+y*v)*P,f},setQuad:function(l,a,f,c,u,v){u===void 0&&(u=!1),v===void 0&&(v=this.quad);var g=this.matrix,m=g[0],y=g[1],C=g[2],P=g[3],w=g[4],M=g[5],R=l*m+a*C+w,A=l*y+a*P+M,L=l*m+c*C+w,F=l*y+c*P+M,G=f*m+c*C+w,I=f*y+c*P+M,B=f*m+a*C+w,k=f*y+a*P+M;if(u){var U=Math.floor(R+.5),H=Math.floor(A+.5),X=U-R,j=H-A;v[0]=U,v[1]=H,v[2]=L+X,v[3]=F+j,v[4]=G+X,v[5]=I+j,v[6]=B+X,v[7]=k+j}else v[0]=R,v[1]=A,v[2]=L,v[3]=F,v[4]=G,v[5]=I,v[6]=B,v[7]=k;return v},getX:function(l,a){return l*this.a+a*this.c+this.e},getY:function(l,a){return l*this.b+a*this.d+this.f},getXRound:function(l,a,f){var c=this.getX(l,a);return f&&(c=Math.floor(c+.5)),c},getYRound:function(l,a,f){var c=this.getY(l,a);return f&&(c=Math.floor(c+.5)),c},getCSSMatrix:function(){var l=this.matrix;return"matrix("+l[0]+","+l[1]+","+l[2]+","+l[3]+","+l[4]+","+l[5]+")"},destroy:function(){this.matrix=null,this.quad=null,this.decomposedMatrix=null}});n.exports=h},59715:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=1,r={_visible:!0,visible:{get:function(){return this._visible},set:function(o){o?(this._visible=!0,this.renderFlags|=T):(this._visible=!1,this.renderFlags&=~T)}},setVisible:function(o){return this.visible=o,this}};n.exports=r},31401:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Alpha:r(16005),AlphaSingle:r(88509),BlendMode:r(90065),ComputedSize:r(94215),Crop:r(61683),Depth:r(89272),Flip:r(54434),FX:r(47059),GetBounds:r(8004),Mask:r(8573),Origin:r(27387),PathFollower:r(37640),Pipeline:r(72699),PostPipeline:r(17581),ScrollFactor:r(80227),Size:r(16736),Texture:r(37726),TextureCrop:r(79812),Tint:r(27472),ToJSON:r(53774),Transform:r(16901),TransformMatrix:r(61340),Visible:r(59715)}},31559:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(37105),x=r(10312),d=r(83419),h=r(31401),l=r(51708),a=r(95643),f=r(87841),c=r(29959),u=r(36899),v=r(26099),g=new h.TransformMatrix,m=new d({Extends:a,Mixins:[h.AlphaSingle,h.BlendMode,h.ComputedSize,h.Depth,h.Mask,h.PostPipeline,h.Transform,h.Visible,c],initialize:function(C,P,w,M){a.call(this,C,"Container"),this.list=[],this.exclusive=!0,this.maxSize=-1,this.position=0,this.localTransform=new h.TransformMatrix,this._sortKey="",this._sysEvents=C.sys.events,this.scrollFactorX=1,this.scrollFactorY=1,this.initPostPipeline(),this.setPosition(P,w),this.setBlendMode(x.SKIP_CHECK),M&&this.add(M)},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this.width*.5}},displayOriginY:{get:function(){return this.height*.5}},setExclusive:function(y){return y===void 0&&(y=!0),this.exclusive=y,this},getBounds:function(y){if(y===void 0&&(y=new f),y.setTo(this.x,this.y,0,0),this.parentContainer){var C=this.parentContainer.getBoundsTransformMatrix(),P=C.transformPoint(this.x,this.y);y.setTo(P.x,P.y,0,0)}if(this.list.length>0){var w=this.list,M=new f,R=!1;y.setEmpty();for(var A=0;A<w.length;A++){var L=w[A];L.getBounds&&(L.getBounds(M),R?u(M,y,y):(y.setTo(M.x,M.y,M.width,M.height),R=!0))}}return y},addHandler:function(y){y.once(l.DESTROY,this.onChildDestroyed,this),this.exclusive&&(y.parentContainer&&y.parentContainer.remove(y),y.parentContainer=this,y.removeFromDisplayList(),y.addedToScene())},removeHandler:function(y){y.off(l.DESTROY,this.remove,this),this.exclusive&&(y.parentContainer=null,y.removedFromScene(),y.addToDisplayList())},pointToContainer:function(y,C){C===void 0&&(C=new v),this.parentContainer?this.parentContainer.pointToContainer(y,C):(C.x=y.x,C.y=y.y);var P=g;return P.applyITRS(this.x,this.y,this.rotation,this.scaleX,this.scaleY),P.invert(),P.transformPoint(y.x,y.y,C),C},getBoundsTransformMatrix:function(){return this.getWorldTransformMatrix(g,this.localTransform)},add:function(y){return o.Add(this.list,y,this.maxSize,this.addHandler,this),this},addAt:function(y,C){return o.AddAt(this.list,y,C,this.maxSize,this.addHandler,this),this},getAt:function(y){return this.list[y]},getIndex:function(y){return this.list.indexOf(y)},sort:function(y,C){return y?(C===void 0&&(C=function(P,w){return P[y]-w[y]}),o.StableSort(this.list,C),this):this},getByName:function(y){return o.GetFirst(this.list,"name",y)},getRandom:function(y,C){return o.GetRandom(this.list,y,C)},getFirst:function(y,C,P,w){return o.GetFirst(this.list,y,C,P,w)},getAll:function(y,C,P,w){return o.GetAll(this.list,y,C,P,w)},count:function(y,C,P,w){return o.CountAllMatching(this.list,y,C,P,w)},swap:function(y,C){return o.Swap(this.list,y,C),this},moveTo:function(y,C){return o.MoveTo(this.list,y,C),this},moveAbove:function(y,C){return o.MoveAbove(this.list,y,C),this},moveBelow:function(y,C){return o.MoveBelow(this.list,y,C),this},remove:function(y,C){var P=o.Remove(this.list,y,this.removeHandler,this);if(C&&P){Array.isArray(P)||(P=[P]);for(var w=0;w<P.length;w++)P[w].destroy()}return this},removeAt:function(y,C){var P=o.RemoveAt(this.list,y,this.removeHandler,this);return C&&P&&P.destroy(),this},removeBetween:function(y,C,P){var w=o.RemoveBetween(this.list,y,C,this.removeHandler,this);if(P)for(var M=0;M<w.length;M++)w[M].destroy();return this},removeAll:function(y){var C=this.list;if(y){for(var P=0;P<C.length;P++)C[P]&&C[P].scene&&(C[P].off(l.DESTROY,this.onChildDestroyed,this),C[P].destroy());this.list=[]}else o.RemoveBetween(C,0,C.length,this.removeHandler,this);return this},bringToTop:function(y){return o.BringToTop(this.list,y),this},sendToBack:function(y){return o.SendToBack(this.list,y),this},moveUp:function(y){return o.MoveUp(this.list,y),this},moveDown:function(y){return o.MoveDown(this.list,y),this},reverse:function(){return this.list.reverse(),this},shuffle:function(){return o.Shuffle(this.list),this},replace:function(y,C,P){var w=o.Replace(this.list,y,C);return w&&(this.addHandler(C),this.removeHandler(y),P&&y.destroy()),this},exists:function(y){return this.list.indexOf(y)>-1},setAll:function(y,C,P,w){return o.SetAll(this.list,y,C,P,w),this},each:function(y,C){var P=[null],w,M=this.list.slice(),R=M.length;for(w=2;w<arguments.length;w++)P.push(arguments[w]);for(w=0;w<R;w++)P[0]=M[w],y.apply(C,P);return this},iterate:function(y,C){var P=[null],w;for(w=2;w<arguments.length;w++)P.push(arguments[w]);for(w=0;w<this.list.length;w++)P[0]=this.list[w],y.apply(C,P);return this},setScrollFactor:function(y,C,P){return C===void 0&&(C=y),P===void 0&&(P=!1),this.scrollFactorX=y,this.scrollFactorY=C,P&&(o.SetAll(this.list,"scrollFactorX",y),o.SetAll(this.list,"scrollFactorY",C)),this},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}},preDestroy:function(){this.removeAll(!!this.exclusive),this.localTransform.destroy(),this.list=[]},onChildDestroyed:function(y){o.Remove(this.list,y),this.exclusive&&(y.parentContainer=null,y.removedFromScene())}});n.exports=m},53584:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d){x.addToRenderList(o);var h=o.list;if(h.length!==0){var l=o.localTransform;d?(l.loadIdentity(),l.multiply(d),l.translate(o.x,o.y),l.rotate(o.rotation),l.scale(o.scaleX,o.scaleY)):l.applyITRS(o.x,o.y,o.rotation,o.scaleX,o.scaleY);var a=o.blendMode!==-1;a||r.setBlendMode(0);var f=o._alpha,c=o.scrollFactorX,u=o.scrollFactorY;o.mask&&o.mask.preRenderCanvas(r,null,x);for(var v=0;v<h.length;v++){var g=h[v];if(g.willRender(x)){var m=g.alpha,y=g.scrollFactorX,C=g.scrollFactorY;!a&&g.blendMode!==r.currentBlendMode&&r.setBlendMode(g.blendMode),g.setScrollFactor(y*c,C*u),g.setAlpha(m*f),g.renderCanvas(r,g,x,l),g.setAlpha(m),g.setScrollFactor(y,C)}}o.mask&&o.mask.postRenderCanvas(r)}};n.exports=T},77143:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(25305),x=r(31559),d=r(44603),h=r(23568),l=r(95540);d.register("container",function(a,f){a===void 0&&(a={});var c=h(a,"x",0),u=h(a,"y",0),v=l(a,"children",null),g=new x(this.scene,c,u,v);return f!==void 0&&(a.add=f),o(this.scene,g,a),g})},24961:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(31559),x=r(39429);x.register("container",function(d,h,l){return this.displayList.add(new o(this.scene,d,h,l))})},29959:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),x=o,d=o;x=r(72249),d=r(53584),n.exports={renderWebGL:x,renderCanvas:d}},72249:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d){x.addToRenderList(o);var h=o.list,l=h.length;if(l!==0){var a=o.localTransform;d?(a.loadIdentity(),a.multiply(d),a.translate(o.x,o.y),a.rotate(o.rotation),a.scale(o.scaleX,o.scaleY)):a.applyITRS(o.x,o.y,o.rotation,o.scaleX,o.scaleY),r.pipelines.preBatch(o);var f=o.blendMode!==-1;f||r.setBlendMode(0);for(var c=o.alpha,u=o.scrollFactorX,v=o.scrollFactorY,g=0;g<l;g++){var m=h[g];if(m.willRender(x)){var y,C,P,w;if(m.alphaTopLeft!==void 0)y=m.alphaTopLeft,C=m.alphaTopRight,P=m.alphaBottomLeft,w=m.alphaBottomRight;else{var M=m.alpha;y=M,C=M,P=M,w=M}var R=m.scrollFactorX,A=m.scrollFactorY;!f&&m.blendMode!==r.currentBlendMode&&r.setBlendMode(m.blendMode);var L=m.mask;L&&L.preRenderWebGL(r,m,x);var F=m.type;F!==r.currentType&&(r.newType=!0,r.currentType=F),r.nextTypeMatch=g<l-1?h[g+1].type===r.currentType:!1,m.setScrollFactor(R*u,A*v),m.setAlpha(y*c,C*c,P*c,w*c),m.renderWebGL(r,m,x,a,o),m.setAlpha(y,C,P,w),m.setScrollFactor(R,A),L&&L.postRenderWebGL(r,x),r.newType=!1}}r.pipelines.postBatch(o)}};n.exports=T},47407:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports=["normal","multiply","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]},3069:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(31401),d=r(441),h=r(95643),l=r(41212),a=r(35846),f=r(44594),c=r(61369),u=new o({Extends:h,Mixins:[x.AlphaSingle,x.BlendMode,x.Depth,x.Origin,x.ScrollFactor,x.Transform,x.Visible,d],initialize:function(g,m,y,C,P,w){h.call(this,g,"DOMElement"),this.parent=g.sys.game.domContainer,this.cache=g.sys.cache.html,this.node,this.transformOnly=!1,this.skewX=0,this.skewY=0,this.rotate3d=new c,this.rotate3dAngle="deg",this.pointerEvents="auto",this.width=0,this.height=0,this.displayWidth=0,this.displayHeight=0,this.handler=this.dispatchNativeEvent.bind(this),this.setPosition(m,y),typeof C=="string"?C[0]==="#"?this.setElement(C.substr(1),P,w):this.createElement(C,P,w):C&&this.setElement(C,P,w),g.sys.events.on(f.SLEEP,this.handleSceneEvent,this),g.sys.events.on(f.WAKE,this.handleSceneEvent,this),g.sys.events.on(f.PRE_RENDER,this.preRender,this)},handleSceneEvent:function(v){var g=this.node,m=g.style;g&&(m.display=v.settings.visible?"block":"none")},setSkew:function(v,g){return v===void 0&&(v=0),g===void 0&&(g=v),this.skewX=v,this.skewY=g,this},setPerspective:function(v){return this.parent.style.perspective=v+"px",this},perspective:{get:function(){return parseFloat(this.parent.style.perspective)},set:function(v){this.parent.style.perspective=v+"px"}},addListener:function(v){if(this.node){v=v.split(" ");for(var g=0;g<v.length;g++)this.node.addEventListener(v[g],this.handler,!1)}return this},removeListener:function(v){if(this.node){v=v.split(" ");for(var g=0;g<v.length;g++)this.node.removeEventListener(v[g],this.handler)}return this},dispatchNativeEvent:function(v){this.emit(v.type,v)},createElement:function(v,g,m){return this.setElement(document.createElement(v),g,m)},setElement:function(v,g,m){this.removeElement();var y;if(typeof v=="string"?(v[0]==="#"&&(v=v.substr(1)),y=document.getElementById(v)):typeof v=="object"&&v.nodeType===1&&(y=v),!y)return this;if(this.node=y,g&&l(g))for(var C in g)y.style[C]=g[C];else typeof g=="string"&&(y.style=g);return y.style.zIndex="0",y.style.display="inline",y.style.position="absolute",y.phaser=this,this.parent&&this.parent.appendChild(y),m&&(y.innerText=m),this.updateSize()},createFromCache:function(v,g){var m=this.cache.get(v);return m&&this.createFromHTML(m,g),this},createFromHTML:function(v,g){g===void 0&&(g="div"),this.removeElement();var m=document.createElement(g);return this.node=m,m.style.zIndex="0",m.style.display="inline",m.style.position="absolute",m.phaser=this,this.parent&&this.parent.appendChild(m),m.innerHTML=v,this.updateSize()},removeElement:function(){return this.node&&(a(this.node),this.node=null),this},updateSize:function(){var v=this.node;return this.width=v.clientWidth,this.height=v.clientHeight,this.displayWidth=this.width*this.scaleX,this.displayHeight=this.height*this.scaleY,this},getChildByProperty:function(v,g){if(this.node){for(var m=this.node.querySelectorAll("*"),y=0;y<m.length;y++)if(m[y][v]===g)return m[y]}return null},getChildByID:function(v){return this.getChildByProperty("id",v)},getChildByName:function(v){return this.getChildByProperty("name",v)},setClassName:function(v){return this.node&&(this.node.className=v,this.updateSize()),this},setText:function(v){return this.node&&(this.node.innerText=v,this.updateSize()),this},setHTML:function(v){return this.node&&(this.node.innerHTML=v,this.updateSize()),this},preRender:function(){var v=this.parentContainer,g=this.node;g&&v&&!v.willRender()&&(g.style.display="none")},willRender:function(){return!0},preDestroy:function(){this.removeElement(),this.scene.sys.events.off(f.SLEEP,this.handleSceneEvent,this),this.scene.sys.events.off(f.WAKE,this.handleSceneEvent,this),this.scene.sys.events.off(f.PRE_RENDER,this.preRender,this)}});n.exports=u},49381:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(47407),x=r(95643),d=r(61340),h=new d,l=new d,a=new d,f=function(c,u,v,g){if(u.node){var m=u.node.style,y=u.scene.sys.settings;if(!m||!y.visible||x.RENDER_MASK!==u.renderFlags||u.cameraFilter!==0&&u.cameraFilter&v.id||u.parentContainer&&!u.parentContainer.willRender()){m.display="none";return}var C=u.parentContainer,P=v.alpha*u.alpha;C&&(P*=C.alpha);var w=h,M=l,R=a,A=0,L=0,F="0%",G="0%";g?(A=u.width*u.scaleX*u.originX,L=u.height*u.scaleY*u.originY,M.applyITRS(u.x-A,u.y-L,u.rotation,u.scaleX,u.scaleY),w.copyFrom(v.matrix),w.multiplyWithOffset(g,-v.scrollX*u.scrollFactorX,-v.scrollY*u.scrollFactorY),M.e=u.x-A,M.f=u.y-L,w.multiply(M,R)):(A=u.width*u.originX,L=u.height*u.originY,M.applyITRS(u.x,u.y,u.rotation,u.scaleX,u.scaleY),w.copyFrom(v.matrix),F=100*u.originX+"%",G=100*u.originY+"%",M.e-=v.scrollX*u.scrollFactorX,M.f-=v.scrollY*u.scrollFactorY,w.multiply(M,R),R.e-=A,R.f-=L),u.transformOnly||(m.display="block",m.opacity=P,m.zIndex=u._depth,m.pointerEvents=u.pointerEvents,m.mixBlendMode=o[u._blendMode]),m.transform=R.getCSSMatrix()+" skew("+u.skewX+"rad, "+u.skewY+"rad) rotate3d("+u.rotate3d.x+","+u.rotate3d.y+","+u.rotate3d.z+","+u.rotate3d.w+u.rotate3dAngle+")",m.transformOrigin=F+" "+G}};n.exports=f},2611:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(3069),x=r(39429);x.register("dom",function(d,h,l,a,f){var c=new o(this.scene,d,h,l,a,f);return this.displayList.add(c),c})},441:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),x=o,d=o;x=r(49381),d=r(49381),n.exports={renderWebGL:x,renderCanvas:d}},62980:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="addedtoscene"},41337:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="destroy"},44947:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="removedfromscene"},49358:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="complete"},35163:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="created"},97249:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="error"},19483:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="locked"},56059:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="loop"},26772:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="metadata"},64437:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="playing"},83411:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="play"},75780:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="seeked"},67799:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="seeking"},63500:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="stalled"},55541:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="stop"},53208:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="textureready"},4992:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="unlocked"},12:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="unsupported"},51708:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ADDED_TO_SCENE:r(62980),DESTROY:r(41337),REMOVED_FROM_SCENE:r(44947),VIDEO_COMPLETE:r(49358),VIDEO_CREATED:r(35163),VIDEO_ERROR:r(97249),VIDEO_LOCKED:r(19483),VIDEO_LOOP:r(56059),VIDEO_METADATA:r(26772),VIDEO_PLAY:r(83411),VIDEO_PLAYING:r(64437),VIDEO_SEEKED:r(75780),VIDEO_SEEKING:r(67799),VIDEO_STALLED:r(63500),VIDEO_STOP:r(55541),VIDEO_TEXTURE:r(53208),VIDEO_UNLOCKED:r(4992),VIDEO_UNSUPPORTED:r(12)}},42421:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(31401),d=r(95643),h=r(64993),l=new o({Extends:d,Mixins:[x.Alpha,x.BlendMode,x.Depth,x.Flip,x.Origin,x.ScrollFactor,x.Size,x.Texture,x.Tint,x.Transform,x.Visible,h],initialize:function(f){d.call(this,f,"Extern")},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(){},render:function(){}});n.exports=l},70217:()=>{},56315:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(42421),x=r(39429);x.register("extern",function(){var d=new o(this.scene);return this.displayList.add(d),d})},64993:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),x=o,d=o;x=r(80287),d=r(70217),n.exports={renderWebGL:x,renderCanvas:d}},80287:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(91296),x=function(d,h,l,a){d.pipelines.clear();var f=o(h,l,a).calc;h.render.call(h,d,l,f),d.pipelines.rebind()};n.exports=x},85592:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ARC:0,BEGIN_PATH:1,CLOSE_PATH:2,FILL_RECT:3,LINE_TO:4,MOVE_TO:5,LINE_STYLE:6,FILL_STYLE:7,FILL_PATH:8,STROKE_PATH:9,FILL_TRIANGLE:10,STROKE_TRIANGLE:11,SAVE:14,RESTORE:15,TRANSLATE:16,SCALE:17,ROTATE:18,GRADIENT_FILL_STYLE:21,GRADIENT_LINE_STYLE:22}},43831:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(71911),x=r(83419),d=r(85592),h=r(31401),l=r(8497),a=r(95643),f=r(95540),c=r(35154),u=r(36383),v=r(84503),g=new x({Extends:a,Mixins:[h.AlphaSingle,h.BlendMode,h.Depth,h.Mask,h.Pipeline,h.PostPipeline,h.Transform,h.Visible,h.ScrollFactor,v],initialize:function(y,C){var P=c(C,"x",0),w=c(C,"y",0);a.call(this,y,"Graphics"),this.setPosition(P,w),this.initPipeline(),this.initPostPipeline(),this.displayOriginX=0,this.displayOriginY=0,this.commandBuffer=[],this.defaultFillColor=-1,this.defaultFillAlpha=1,this.defaultStrokeWidth=1,this.defaultStrokeColor=-1,this.defaultStrokeAlpha=1,this._lineWidth=1,this.lineStyle(1,0,0),this.fillStyle(0,0),this.setDefaultStyles(C)},setDefaultStyles:function(m){return c(m,"lineStyle",null)&&(this.defaultStrokeWidth=c(m,"lineStyle.width",1),this.defaultStrokeColor=c(m,"lineStyle.color",16777215),this.defaultStrokeAlpha=c(m,"lineStyle.alpha",1),this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha)),c(m,"fillStyle",null)&&(this.defaultFillColor=c(m,"fillStyle.color",16777215),this.defaultFillAlpha=c(m,"fillStyle.alpha",1),this.fillStyle(this.defaultFillColor,this.defaultFillAlpha)),this},lineStyle:function(m,y,C){return C===void 0&&(C=1),this.commandBuffer.push(d.LINE_STYLE,m,y,C),this._lineWidth=m,this},fillStyle:function(m,y){return y===void 0&&(y=1),this.commandBuffer.push(d.FILL_STYLE,m,y),this},fillGradientStyle:function(m,y,C,P,w,M,R,A){return w===void 0&&(w=1),M===void 0&&(M=w),R===void 0&&(R=w),A===void 0&&(A=w),this.commandBuffer.push(d.GRADIENT_FILL_STYLE,w,M,R,A,m,y,C,P),this},lineGradientStyle:function(m,y,C,P,w,M){return M===void 0&&(M=1),this.commandBuffer.push(d.GRADIENT_LINE_STYLE,m,M,y,C,P,w),this},beginPath:function(){return this.commandBuffer.push(d.BEGIN_PATH),this},closePath:function(){return this.commandBuffer.push(d.CLOSE_PATH),this},fillPath:function(){return this.commandBuffer.push(d.FILL_PATH),this},fill:function(){return this.commandBuffer.push(d.FILL_PATH),this},strokePath:function(){return this.commandBuffer.push(d.STROKE_PATH),this},stroke:function(){return this.commandBuffer.push(d.STROKE_PATH),this},fillCircleShape:function(m){return this.fillCircle(m.x,m.y,m.radius)},strokeCircleShape:function(m){return this.strokeCircle(m.x,m.y,m.radius)},fillCircle:function(m,y,C){return this.beginPath(),this.arc(m,y,C,0,u.PI2),this.fillPath(),this},strokeCircle:function(m,y,C){return this.beginPath(),this.arc(m,y,C,0,u.PI2),this.strokePath(),this},fillRectShape:function(m){return this.fillRect(m.x,m.y,m.width,m.height)},strokeRectShape:function(m){return this.strokeRect(m.x,m.y,m.width,m.height)},fillRect:function(m,y,C,P){return this.commandBuffer.push(d.FILL_RECT,m,y,C,P),this},strokeRect:function(m,y,C,P){var w=this._lineWidth/2,M=m-w,R=m+w;return this.beginPath(),this.moveTo(m,y),this.lineTo(m,y+P),this.strokePath(),this.beginPath(),this.moveTo(m+C,y),this.lineTo(m+C,y+P),this.strokePath(),this.beginPath(),this.moveTo(M,y),this.lineTo(R+C,y),this.strokePath(),this.beginPath(),this.moveTo(M,y+P),this.lineTo(R+C,y+P),this.strokePath(),this},fillRoundedRect:function(m,y,C,P,w){w===void 0&&(w=20);var M=w,R=w,A=w,L=w;typeof w!="number"&&(M=f(w,"tl",20),R=f(w,"tr",20),A=f(w,"bl",20),L=f(w,"br",20));var F=M>=0,G=R>=0,I=A>=0,B=L>=0;return M=Math.abs(M),R=Math.abs(R),A=Math.abs(A),L=Math.abs(L),this.beginPath(),this.moveTo(m+M,y),this.lineTo(m+C-R,y),G?this.arc(m+C-R,y+R,R,-u.TAU,0):this.arc(m+C,y,R,Math.PI,u.TAU,!0),this.lineTo(m+C,y+P-L),B?this.arc(m+C-L,y+P-L,L,0,u.TAU):this.arc(m+C,y+P,L,-u.TAU,Math.PI,!0),this.lineTo(m+A,y+P),I?this.arc(m+A,y+P-A,A,u.TAU,Math.PI):this.arc(m,y+P,A,0,-u.TAU,!0),this.lineTo(m,y+M),F?this.arc(m+M,y+M,M,-Math.PI,-u.TAU):this.arc(m,y,M,u.TAU,0,!0),this.fillPath(),this},strokeRoundedRect:function(m,y,C,P,w){w===void 0&&(w=20);var M=w,R=w,A=w,L=w,F=Math.min(C,P)/2;typeof w!="number"&&(M=f(w,"tl",20),R=f(w,"tr",20),A=f(w,"bl",20),L=f(w,"br",20));var G=M>=0,I=R>=0,B=A>=0,k=L>=0;return M=Math.min(Math.abs(M),F),R=Math.min(Math.abs(R),F),A=Math.min(Math.abs(A),F),L=Math.min(Math.abs(L),F),this.beginPath(),this.moveTo(m+M,y),this.lineTo(m+C-R,y),this.moveTo(m+C-R,y),I?this.arc(m+C-R,y+R,R,-u.TAU,0):this.arc(m+C,y,R,Math.PI,u.TAU,!0),this.lineTo(m+C,y+P-L),this.moveTo(m+C,y+P-L),k?this.arc(m+C-L,y+P-L,L,0,u.TAU):this.arc(m+C,y+P,L,-u.TAU,Math.PI,!0),this.lineTo(m+A,y+P),this.moveTo(m+A,y+P),B?this.arc(m+A,y+P-A,A,u.TAU,Math.PI):this.arc(m,y+P,A,0,-u.TAU,!0),this.lineTo(m,y+M),this.moveTo(m,y+M),G?this.arc(m+M,y+M,M,-Math.PI,-u.TAU):this.arc(m,y,M,u.TAU,0,!0),this.strokePath(),this},fillPointShape:function(m,y){return this.fillPoint(m.x,m.y,y)},fillPoint:function(m,y,C){return!C||C<1?C=1:(m-=C/2,y-=C/2),this.commandBuffer.push(d.FILL_RECT,m,y,C,C),this},fillTriangleShape:function(m){return this.fillTriangle(m.x1,m.y1,m.x2,m.y2,m.x3,m.y3)},strokeTriangleShape:function(m){return this.strokeTriangle(m.x1,m.y1,m.x2,m.y2,m.x3,m.y3)},fillTriangle:function(m,y,C,P,w,M){return this.commandBuffer.push(d.FILL_TRIANGLE,m,y,C,P,w,M),this},strokeTriangle:function(m,y,C,P,w,M){return this.commandBuffer.push(d.STROKE_TRIANGLE,m,y,C,P,w,M),this},strokeLineShape:function(m){return this.lineBetween(m.x1,m.y1,m.x2,m.y2)},lineBetween:function(m,y,C,P){return this.beginPath(),this.moveTo(m,y),this.lineTo(C,P),this.strokePath(),this},lineTo:function(m,y){return this.commandBuffer.push(d.LINE_TO,m,y),this},moveTo:function(m,y){return this.commandBuffer.push(d.MOVE_TO,m,y),this},strokePoints:function(m,y,C,P){y===void 0&&(y=!1),C===void 0&&(C=!1),P===void 0&&(P=m.length),this.beginPath(),this.moveTo(m[0].x,m[0].y);for(var w=1;w<P;w++)this.lineTo(m[w].x,m[w].y);return y&&this.lineTo(m[0].x,m[0].y),C&&this.closePath(),this.strokePath(),this},fillPoints:function(m,y,C,P){y===void 0&&(y=!1),C===void 0&&(C=!1),P===void 0&&(P=m.length),this.beginPath(),this.moveTo(m[0].x,m[0].y);for(var w=1;w<P;w++)this.lineTo(m[w].x,m[w].y);return y&&this.lineTo(m[0].x,m[0].y),C&&this.closePath(),this.fillPath(),this},strokeEllipseShape:function(m,y){y===void 0&&(y=32);var C=m.getPoints(y);return this.strokePoints(C,!0)},strokeEllipse:function(m,y,C,P,w){w===void 0&&(w=32);var M=new l(m,y,C,P),R=M.getPoints(w);return this.strokePoints(R,!0)},fillEllipseShape:function(m,y){y===void 0&&(y=32);var C=m.getPoints(y);return this.fillPoints(C,!0)},fillEllipse:function(m,y,C,P,w){w===void 0&&(w=32);var M=new l(m,y,C,P),R=M.getPoints(w);return this.fillPoints(R,!0)},arc:function(m,y,C,P,w,M,R){return M===void 0&&(M=!1),R===void 0&&(R=0),this.commandBuffer.push(d.ARC,m,y,C,P,w,M,R),this},slice:function(m,y,C,P,w,M,R){return M===void 0&&(M=!1),R===void 0&&(R=0),this.commandBuffer.push(d.BEGIN_PATH),this.commandBuffer.push(d.MOVE_TO,m,y),this.commandBuffer.push(d.ARC,m,y,C,P,w,M,R),this.commandBuffer.push(d.CLOSE_PATH),this},save:function(){return this.commandBuffer.push(d.SAVE),this},restore:function(){return this.commandBuffer.push(d.RESTORE),this},translateCanvas:function(m,y){return this.commandBuffer.push(d.TRANSLATE,m,y),this},scaleCanvas:function(m,y){return this.commandBuffer.push(d.SCALE,m,y),this},rotateCanvas:function(m){return this.commandBuffer.push(d.ROTATE,m),this},clear:function(){return this.commandBuffer.length=0,this.defaultFillColor>-1&&this.fillStyle(this.defaultFillColor,this.defaultFillAlpha),this.defaultStrokeColor>-1&&this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha),this},generateTexture:function(m,y,C){var P=this.scene.sys,w=P.game.renderer;y===void 0&&(y=P.scale.width),C===void 0&&(C=P.scale.height),g.TargetCamera.setScene(this.scene),g.TargetCamera.setViewport(0,0,y,C),g.TargetCamera.scrollX=this.x,g.TargetCamera.scrollY=this.y;var M,R,A={willReadFrequently:!0};if(typeof m=="string")if(P.textures.exists(m)){M=P.textures.get(m);var L=M.getSourceImage();L instanceof HTMLCanvasElement&&(R=L.getContext("2d",A))}else M=P.textures.createCanvas(m,y,C),R=M.getSourceImage().getContext("2d",A);else m instanceof HTMLCanvasElement&&(R=m.getContext("2d",A));return R&&(this.renderCanvas(w,this,g.TargetCamera,null,R,!1),M&&M.refresh()),this},preDestroy:function(){this.commandBuffer=[]}});g.TargetCamera=new o,n.exports=g},32768:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(85592),x=r(20926),d=function(h,l,a,f,c,u){var v=l.commandBuffer,g=v.length,m=c||h.currentContext;if(!(g===0||!x(h,m,l,a,f))){a.addToRenderList(l);var y=1,C=1,P=0,w=0,M=1,R=0,A=0,L=0;m.beginPath();for(var F=0;F<g;++F){var G=v[F];switch(G){case o.ARC:m.arc(v[F+1],v[F+2],v[F+3],v[F+4],v[F+5],v[F+6]),F+=7;break;case o.LINE_STYLE:M=v[F+1],P=v[F+2],y=v[F+3],R=(P&16711680)>>>16,A=(P&65280)>>>8,L=P&255,m.strokeStyle="rgba("+R+","+A+","+L+","+y+")",m.lineWidth=M,F+=3;break;case o.FILL_STYLE:w=v[F+1],C=v[F+2],R=(w&16711680)>>>16,A=(w&65280)>>>8,L=w&255,m.fillStyle="rgba("+R+","+A+","+L+","+C+")",F+=2;break;case o.BEGIN_PATH:m.beginPath();break;case o.CLOSE_PATH:m.closePath();break;case o.FILL_PATH:u||m.fill();break;case o.STROKE_PATH:u||m.stroke();break;case o.FILL_RECT:u?m.rect(v[F+1],v[F+2],v[F+3],v[F+4]):m.fillRect(v[F+1],v[F+2],v[F+3],v[F+4]),F+=4;break;case o.FILL_TRIANGLE:m.beginPath(),m.moveTo(v[F+1],v[F+2]),m.lineTo(v[F+3],v[F+4]),m.lineTo(v[F+5],v[F+6]),m.closePath(),u||m.fill(),F+=6;break;case o.STROKE_TRIANGLE:m.beginPath(),m.moveTo(v[F+1],v[F+2]),m.lineTo(v[F+3],v[F+4]),m.lineTo(v[F+5],v[F+6]),m.closePath(),u||m.stroke(),F+=6;break;case o.LINE_TO:m.lineTo(v[F+1],v[F+2]),F+=2;break;case o.MOVE_TO:m.moveTo(v[F+1],v[F+2]),F+=2;break;case o.LINE_FX_TO:m.lineTo(v[F+1],v[F+2]),F+=5;break;case o.MOVE_FX_TO:m.moveTo(v[F+1],v[F+2]),F+=5;break;case o.SAVE:m.save();break;case o.RESTORE:m.restore();break;case o.TRANSLATE:m.translate(v[F+1],v[F+2]),F+=2;break;case o.SCALE:m.scale(v[F+1],v[F+2]),F+=2;break;case o.ROTATE:m.rotate(v[F+1]),F+=1;break;case o.GRADIENT_FILL_STYLE:F+=5;break;case o.GRADIENT_LINE_STYLE:F+=6;break}}m.restore()}};n.exports=d},87079:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(44603),x=r(43831);o.register("graphics",function(d,h){d===void 0&&(d={}),h!==void 0&&(d.add=h);var l=new x(this.scene,d);return d.add&&this.scene.sys.displayList.add(l),l})},1201:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(43831),x=r(39429);x.register("graphics",function(d){return this.displayList.add(new o(this.scene,d))})},84503:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),x=o,d=o;x=r(77545),d=r(32768),d=r(32768),n.exports={renderWebGL:x,renderCanvas:d}},77545:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(85592),x=r(91296),d=r(61340),h=r(70554),l=function(v,g,m){this.x=v,this.y=g,this.width=m},a=function(v,g,m){this.points=[],this.pointsLength=1,this.points[0]=new l(v,g,m)},f=[],c=new d,u=function(v,g,m,y){if(g.commandBuffer.length!==0){m.addToRenderList(g);var C=v.pipelines.set(g.pipeline,g);v.pipelines.preBatch(g);for(var P=x(g,m,y).calc,w=c.loadIdentity(),M=g.commandBuffer,R=m.alpha*g.alpha,A=1,L=C.fillTint,F=C.strokeTint,G=0,I=0,B=0,k=.01,U=Math.PI*2,H,X=[],j=0,J=!0,Y=null,$=h.getTintAppendFloatAlpha,z=0;z<M.length;z++)switch(H=M[z],H){case o.BEGIN_PATH:{X.length=0,Y=null,J=!0;break}case o.CLOSE_PATH:{J=!1,Y&&Y.points.length&&Y.points.push(Y.points[0]);break}case o.FILL_PATH:{for(j=0;j<X.length;j++)C.batchFillPath(X[j].points,w,P);break}case o.STROKE_PATH:{for(j=0;j<X.length;j++)C.batchStrokePath(X[j].points,A,J,w,P);break}case o.LINE_STYLE:{A=M[++z];var V=M[++z],K=M[++z]*R,Q=$(V,K);F.TL=Q,F.TR=Q,F.BL=Q,F.BR=Q;break}case o.FILL_STYLE:{var _=M[++z],tt=M[++z]*R,rt=$(_,tt);L.TL=rt,L.TR=rt,L.BL=rt,L.BR=rt;break}case o.GRADIENT_FILL_STYLE:{var ot=M[++z]*R,ft=M[++z]*R,ct=M[++z]*R,gt=M[++z]*R;L.TL=$(M[++z],ot),L.TR=$(M[++z],ft),L.BL=$(M[++z],ct),L.BR=$(M[++z],gt);break}case o.GRADIENT_LINE_STYLE:{A=M[++z];var xt=M[++z]*R;F.TL=$(M[++z],xt),F.TR=$(M[++z],xt),F.BL=$(M[++z],xt),F.BR=$(M[++z],xt);break}case o.ARC:{var wt=0,Tt=M[++z],Ht=M[++z],Xt=M[++z],Kt=M[++z],Pt=M[++z],Nt=M[++z],Vt=M[++z];for(Pt-=Kt,Nt?Pt<-U?Pt=-U:Pt>0&&(Pt=-U+Pt%U):Pt>U?Pt=U:Pt<0&&(Pt=U+Pt%U),Y===null&&(Y=new a(Tt+Math.cos(Kt)*Xt,Ht+Math.sin(Kt)*Xt,A),X.push(Y),wt+=k);wt<1+Vt;)B=Pt*wt+Kt,G=Tt+Math.cos(B)*Xt,I=Ht+Math.sin(B)*Xt,Y.points.push(new l(G,I,A)),wt+=k;B=Pt+Kt,G=Tt+Math.cos(B)*Xt,I=Ht+Math.sin(B)*Xt,Y.points.push(new l(G,I,A));break}case o.FILL_RECT:{C.batchFillRect(M[++z],M[++z],M[++z],M[++z],w,P);break}case o.FILL_TRIANGLE:{C.batchFillTriangle(M[++z],M[++z],M[++z],M[++z],M[++z],M[++z],w,P);break}case o.STROKE_TRIANGLE:{C.batchStrokeTriangle(M[++z],M[++z],M[++z],M[++z],M[++z],M[++z],A,w,P);break}case o.LINE_TO:{Y!==null?Y.points.push(new l(M[++z],M[++z],A)):(Y=new a(M[++z],M[++z],A),X.push(Y));break}case o.MOVE_TO:{Y=new a(M[++z],M[++z],A),X.push(Y);break}case o.SAVE:{f.push(w.copyToArray());break}case o.RESTORE:{w.copyFromArray(f.pop());break}case o.TRANSLATE:{Tt=M[++z],Ht=M[++z],w.translate(Tt,Ht);break}case o.SCALE:{Tt=M[++z],Ht=M[++z],w.scale(Tt,Ht);break}case o.ROTATE:{w.rotate(M[++z]);break}}v.pipelines.postBatch(g)}};n.exports=u},26479:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(61061),x=r(83419),d=r(51708),h=r(50792),l=r(46710),a=r(95540),f=r(35154),c=r(97022),u=r(41212),v=r(88492),g=r(35072),m=r(68287),y=new x({Extends:h,initialize:function(P,w,M){h.call(this),M?w&&!Array.isArray(w)&&(w=[w]):Array.isArray(w)?u(w[0])&&(M=w,w=null):u(w)&&(M=w,w=null),this.scene=P,this.children=new g,this.isParent=!0,this.type="Group",this.classType=a(M,"classType",m),this.name=a(M,"name",""),this.active=a(M,"active",!0),this.maxSize=a(M,"maxSize",-1),this.defaultKey=a(M,"defaultKey",null),this.defaultFrame=a(M,"defaultFrame",null),this.runChildUpdate=a(M,"runChildUpdate",!1),this.createCallback=a(M,"createCallback",null),this.removeCallback=a(M,"removeCallback",null),this.createMultipleCallback=a(M,"createMultipleCallback",null),this.internalCreateCallback=a(M,"internalCreateCallback",null),this.internalRemoveCallback=a(M,"internalRemoveCallback",null),w&&this.addMultiple(w),M&&this.createMultiple(M),this.on(d.ADDED_TO_SCENE,this.addedToScene,this),this.on(d.REMOVED_FROM_SCENE,this.removedFromScene,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},create:function(C,P,w,M,R,A){if(C===void 0&&(C=0),P===void 0&&(P=0),w===void 0&&(w=this.defaultKey),M===void 0&&(M=this.defaultFrame),R===void 0&&(R=!0),A===void 0&&(A=!0),this.isFull())return null;var L=new this.classType(this.scene,C,P,w,M);return L.addToDisplayList(this.scene.sys.displayList),L.addToUpdateList(),L.visible=R,L.setActive(A),this.add(L),L},createMultiple:function(C){if(this.isFull())return[];Array.isArray(C)||(C=[C]);var P=[];if(C[0].key)for(var w=0;w<C.length;w++){var M=this.createFromConfig(C[w]);P=P.concat(M)}return P},createFromConfig:function(C){if(this.isFull())return[];this.classType=a(C,"classType",this.classType);var P=a(C,"key",void 0),w=a(C,"frame",null),M=a(C,"visible",!0),R=a(C,"active",!0),A=[];if(P===void 0)return A;Array.isArray(P)||(P=[P]),Array.isArray(w)||(w=[w]);var L=a(C,"repeat",0),F=a(C,"randomKey",!1),G=a(C,"randomFrame",!1),I=a(C,"yoyo",!1),B=a(C,"quantity",!1),k=a(C,"frameQuantity",1),U=a(C,"max",0),H=v(P,w,{max:U,qty:B||k,random:F,randomB:G,repeat:L,yoyo:I});C.createCallback&&(this.createCallback=C.createCallback),C.removeCallback&&(this.removeCallback=C.removeCallback),C.internalCreateCallback&&(this.internalCreateCallback=C.internalCreateCallback),C.internalRemoveCallback&&(this.internalRemoveCallback=C.internalRemoveCallback);for(var X=0;X<H.length;X++){var j=this.create(0,0,H[X].a,H[X].b,M,R);if(!j)break;A.push(j)}if(c(C,"setXY")){var J=f(C,"setXY.x",0),Y=f(C,"setXY.y",0),$=f(C,"setXY.stepX",0),z=f(C,"setXY.stepY",0);o.SetXY(A,J,Y,$,z)}if(c(C,"setRotation")){var V=f(C,"setRotation.value",0),K=f(C,"setRotation.step",0);o.SetRotation(A,V,K)}if(c(C,"setScale")){var Q=f(C,"setScale.x",1),_=f(C,"setScale.y",Q),tt=f(C,"setScale.stepX",0),rt=f(C,"setScale.stepY",0);o.SetScale(A,Q,_,tt,rt)}if(c(C,"setOrigin")){var ot=f(C,"setOrigin.x",.5),ft=f(C,"setOrigin.y",ot),ct=f(C,"setOrigin.stepX",0),gt=f(C,"setOrigin.stepY",0);o.SetOrigin(A,ot,ft,ct,gt)}if(c(C,"setAlpha")){var xt=f(C,"setAlpha.value",1),wt=f(C,"setAlpha.step",0);o.SetAlpha(A,xt,wt)}if(c(C,"setDepth")){var Tt=f(C,"setDepth.value",0),Ht=f(C,"setDepth.step",0);o.SetDepth(A,Tt,Ht)}if(c(C,"setScrollFactor")){var Xt=f(C,"setScrollFactor.x",1),Kt=f(C,"setScrollFactor.y",Xt),Pt=f(C,"setScrollFactor.stepX",0),Nt=f(C,"setScrollFactor.stepY",0);o.SetScrollFactor(A,Xt,Kt,Pt,Nt)}var Vt=a(C,"hitArea",null),ee=a(C,"hitAreaCallback",null);Vt&&o.SetHitArea(A,Vt,ee);var Ee=a(C,"gridAlign",!1);return Ee&&o.GridAlign(A,Ee),this.createMultipleCallback&&this.createMultipleCallback.call(this,A),A},preUpdate:function(C,P){if(!(!this.runChildUpdate||this.children.size===0))for(var w=this.children.entries.slice(),M=0;M<w.length;M++){var R=w[M];R.active&&R.update(C,P)}},add:function(C,P){return P===void 0&&(P=!1),this.isFull()?this:(this.children.set(C),this.internalCreateCallback&&this.internalCreateCallback.call(this,C),this.createCallback&&this.createCallback.call(this,C),P&&(C.addToDisplayList(this.scene.sys.displayList),C.addToUpdateList()),C.on(d.DESTROY,this.remove,this),this)},addMultiple:function(C,P){if(P===void 0&&(P=!1),Array.isArray(C))for(var w=0;w<C.length;w++)this.add(C[w],P);return this},remove:function(C,P,w){return P===void 0&&(P=!1),w===void 0&&(w=!1),this.children.contains(C)?(this.children.delete(C),this.internalRemoveCallback&&this.internalRemoveCallback.call(this,C),this.removeCallback&&this.removeCallback.call(this,C),C.off(d.DESTROY,this.remove,this),w?C.destroy():P&&(C.removeFromDisplayList(),C.removeFromUpdateList()),this):this},clear:function(C,P){C===void 0&&(C=!1),P===void 0&&(P=!1);for(var w=this.children,M=0;M<w.size;M++){var R=w.entries[M];R.off(d.DESTROY,this.remove,this),P?R.destroy():C&&(R.removeFromDisplayList(),R.removeFromUpdateList())}return this.children.clear(),this},contains:function(C){return this.children.contains(C)},getChildren:function(){return this.children.entries},getLength:function(){return this.children.size},getMatching:function(C,P,w,M){return l(this.children.entries,C,P,w,M)},getFirst:function(C,P,w,M,R,A,L){return this.getHandler(!0,1,C,P,w,M,R,A,L)},getFirstNth:function(C,P,w,M,R,A,L,F){return this.getHandler(!0,C,P,w,M,R,A,L,F)},getLast:function(C,P,w,M,R,A,L){return this.getHandler(!1,1,C,P,w,M,R,A,L)},getLastNth:function(C,P,w,M,R,A,L,F){return this.getHandler(!1,C,P,w,M,R,A,L,F)},getHandler:function(C,P,w,M,R,A,L,F,G){w===void 0&&(w=!1),M===void 0&&(M=!1);var I,B,k=0,U=this.children.entries;if(C)for(B=0;B<U.length;B++)if(I=U[B],I.active===w){if(k++,k===P)break}else I=null;else for(B=U.length-1;B>=0;B--)if(I=U[B],I.active===w){if(k++,k===P)break}else I=null;return I?(typeof R=="number"&&(I.x=R),typeof A=="number"&&(I.y=A),I):M?this.create(R,A,L,F,G):null},get:function(C,P,w,M,R){return this.getFirst(!1,!0,C,P,w,M,R)},getFirstAlive:function(C,P,w,M,R,A){return this.getFirst(!0,C,P,w,M,R,A)},getFirstDead:function(C,P,w,M,R,A){return this.getFirst(!1,C,P,w,M,R,A)},playAnimation:function(C,P){return o.PlayAnimation(this.children.entries,C,P),this},isFull:function(){return this.maxSize===-1?!1:this.children.size>=this.maxSize},countActive:function(C){C===void 0&&(C=!0);for(var P=0,w=0;w<this.children.size;w++)this.children.entries[w].active===C&&P++;return P},getTotalUsed:function(){return this.countActive()},getTotalFree:function(){var C=this.getTotalUsed(),P=this.maxSize===-1?999999999999:this.maxSize;return P-C},setActive:function(C){return this.active=C,this},setName:function(C){return this.name=C,this},propertyValueSet:function(C,P,w,M,R){return o.PropertyValueSet(this.children.entries,C,P,w,M,R),this},propertyValueInc:function(C,P,w,M,R){return o.PropertyValueInc(this.children.entries,C,P,w,M,R),this},setX:function(C,P){return o.SetX(this.children.entries,C,P),this},setY:function(C,P){return o.SetY(this.children.entries,C,P),this},setXY:function(C,P,w,M){return o.SetXY(this.children.entries,C,P,w,M),this},incX:function(C,P){return o.IncX(this.children.entries,C,P),this},incY:function(C,P){return o.IncY(this.children.entries,C,P),this},incXY:function(C,P,w,M){return o.IncXY(this.children.entries,C,P,w,M),this},shiftPosition:function(C,P,w){return o.ShiftPosition(this.children.entries,C,P,w),this},angle:function(C,P){return o.Angle(this.children.entries,C,P),this},rotate:function(C,P){return o.Rotate(this.children.entries,C,P),this},rotateAround:function(C,P){return o.RotateAround(this.children.entries,C,P),this},rotateAroundDistance:function(C,P,w){return o.RotateAroundDistance(this.children.entries,C,P,w),this},setAlpha:function(C,P){return o.SetAlpha(this.children.entries,C,P),this},setTint:function(C,P,w,M){return o.SetTint(this.children.entries,C,P,w,M),this},setOrigin:function(C,P,w,M){return o.SetOrigin(this.children.entries,C,P,w,M),this},scaleX:function(C,P){return o.ScaleX(this.children.entries,C,P),this},scaleY:function(C,P){return o.ScaleY(this.children.entries,C,P),this},scaleXY:function(C,P,w,M){return o.ScaleXY(this.children.entries,C,P,w,M),this},setDepth:function(C,P){return o.SetDepth(this.children.entries,C,P),this},setBlendMode:function(C){return o.SetBlendMode(this.children.entries,C),this},setHitArea:function(C,P){return o.SetHitArea(this.children.entries,C,P),this},shuffle:function(){return o.Shuffle(this.children.entries),this},kill:function(C){this.children.contains(C)&&C.setActive(!1)},killAndHide:function(C){this.children.contains(C)&&(C.setActive(!1),C.setVisible(!1))},setVisible:function(C,P,w){return o.SetVisible(this.children.entries,C,P,w),this},toggleVisible:function(){return o.ToggleVisible(this.children.entries),this},destroy:function(C,P){C===void 0&&(C=!1),P===void 0&&(P=!1),!(!this.scene||this.ignoreDestroy)&&(this.emit(d.DESTROY,this),this.removeAllListeners(),this.scene.sys.updateList.remove(this),this.clear(P,C),this.scene=void 0,this.children=void 0)}});n.exports=y},94975:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(44603),x=r(26479);o.register("group",function(d){return new x(this.scene,null,d)})},3385:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(26479),x=r(39429);x.register("group",function(d,h){return this.updateList.add(new o(this.scene,d,h))})},88571:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(31401),d=r(95643),h=r(59819),l=new o({Extends:d,Mixins:[x.Alpha,x.BlendMode,x.Depth,x.Flip,x.GetBounds,x.Mask,x.Origin,x.Pipeline,x.PostPipeline,x.ScrollFactor,x.Size,x.TextureCrop,x.Tint,x.Transform,x.Visible,h],initialize:function(f,c,u,v,g){d.call(this,f,"Image"),this._crop=this.resetCropObject(),this.setTexture(v,g),this.setPosition(c,u),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)}});n.exports=l},40652:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d){x.addToRenderList(o),r.batchSprite(o,o.frame,x,d)};n.exports=T},82459:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(25305),x=r(44603),d=r(23568),h=r(88571);x.register("image",function(l,a){l===void 0&&(l={});var f=d(l,"key",null),c=d(l,"frame",null),u=new h(this.scene,0,0,f,c);return a!==void 0&&(l.add=a),o(this.scene,u,l),u})},2117:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(88571),x=r(39429);x.register("image",function(d,h,l,a){return this.displayList.add(new o(this.scene,d,h,l,a))})},59819:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),x=o,d=o;x=r(99517),d=r(40652),n.exports={renderWebGL:x,renderCanvas:d}},99517:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d){x.addToRenderList(o),this.pipeline.batchSprite(o,x,d)};n.exports=T},77856:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={Events:r(51708),DisplayList:r(8050),GameObjectCreator:r(44603),GameObjectFactory:r(39429),UpdateList:r(45027),Components:r(31401),GetCalcMatrix:r(91296),BuildGameObject:r(25305),BuildGameObjectAnimation:r(13059),GameObject:r(95643),BitmapText:r(22186),Blitter:r(6107),Bob:r(46590),Container:r(31559),DOMElement:r(3069),DynamicBitmapText:r(2638),Extern:r(42421),Graphics:r(43831),Group:r(26479),Image:r(88571),Layer:r(93595),Particles:r(18404),PathFollower:r(1159),RenderTexture:r(591),RetroFont:r(196),Rope:r(77757),Sprite:r(68287),Text:r(50171),GetTextSize:r(14220),MeasureText:r(79557),TextStyle:r(35762),TileSprite:r(20839),Zone:r(41481),Video:r(18471),Shape:r(17803),Arc:r(23629),Curve:r(89),Ellipse:r(19921),Grid:r(30479),IsoBox:r(61475),IsoTriangle:r(16933),Line:r(57847),Polygon:r(24949),Rectangle:r(74561),Star:r(55911),Triangle:r(36931),Factories:{Blitter:r(12709),Container:r(24961),DOMElement:r(2611),DynamicBitmapText:r(72566),Extern:r(56315),Graphics:r(1201),Group:r(3385),Image:r(2117),Layer:r(20005),Particles:r(676),PathFollower:r(90145),RenderTexture:r(60505),Rope:r(96819),Sprite:r(46409),StaticBitmapText:r(34914),Text:r(68005),TileSprite:r(91681),Zone:r(84175),Video:r(89025),Arc:r(42563),Curve:r(40511),Ellipse:r(1543),Grid:r(34137),IsoBox:r(3933),IsoTriangle:r(49803),Line:r(2481),Polygon:r(64827),Rectangle:r(87959),Star:r(93697),Triangle:r(45245)},Creators:{Blitter:r(9403),Container:r(77143),DynamicBitmapText:r(11164),Graphics:r(87079),Group:r(94975),Image:r(82459),Layer:r(25179),Particles:r(92730),RenderTexture:r(34495),Rope:r(26209),Sprite:r(15567),StaticBitmapText:r(57336),Text:r(71259),TileSprite:r(14167),Zone:r(95261),Video:r(11511)}};o.Shader=r(20071),o.Mesh=r(4703),o.NineSlice=r(28103),o.PointLight=r(80321),o.Plane=r(33663),o.Factories.Shader=r(74177),o.Factories.Mesh=r(9225),o.Factories.NineSlice=r(47521),o.Factories.PointLight=r(71255),o.Factories.Plane=r(30985),o.Creators.Shader=r(54935),o.Creators.Mesh=r(20527),o.Creators.NineSlice=r(28279),o.Creators.PointLight=r(39829),o.Creators.Plane=r(56015),o.Light=r(41432),o.LightsManager=r(61356),o.LightsPlugin=r(88992),n.exports=o},93595:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(10312),x=r(83419),d=r(31401),h=r(53774),l=r(45893),a=r(50792),f=r(51708),c=r(73162),u=r(33963),v=r(44594),g=r(19186),m=new x({Extends:c,Mixins:[d.AlphaSingle,d.BlendMode,d.Depth,d.Mask,d.PostPipeline,d.Visible,a,u],initialize:function(C,P){c.call(this,C),a.call(this),this.scene=C,this.displayList=null,this.type="Layer",this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.systems=C.sys,this.events=C.sys.events,this.sortChildrenFlag=!1,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.initPostPipeline(),this.clearAlpha(),this.setBlendMode(o.SKIP_CHECK),P&&this.add(P),C.sys.queueDepthSort()},setActive:function(y){return this.active=y,this},setName:function(y){return this.name=y,this},setState:function(y){return this.state=y,this},setDataEnabled:function(){return this.data||(this.data=new l(this)),this},setData:function(y,C){return this.data||(this.data=new l(this)),this.data.set(y,C),this},incData:function(y,C){return this.data||(this.data=new l(this)),this.data.inc(y,C),this},toggleData:function(y){return this.data||(this.data=new l(this)),this.data.toggle(y),this},getData:function(y){return this.data||(this.data=new l(this)),this.data.get(y)},setInteractive:function(){return this},disableInteractive:function(){return this},removeInteractive:function(){return this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return h(this)},willRender:function(y){return!(this.renderFlags!==15||this.list.length===0||this.cameraFilter!==0&&this.cameraFilter&y.id)},getIndexList:function(){for(var y=this,C=this.parentContainer,P=[];C&&(P.unshift(C.getIndex(y)),y=C,C.parentContainer);)C=C.parentContainer;return P.unshift(this.displayList.getIndex(y)),P},addChildCallback:function(y){var C=y.displayList;C&&C!==this&&y.removeFromDisplayList(),y.displayList||(this.queueDepthSort(),y.displayList=this,y.emit(f.ADDED_TO_SCENE,y,this.scene),this.events.emit(v.ADDED_TO_SCENE,y,this.scene))},removeChildCallback:function(y){this.queueDepthSort(),y.displayList=null,y.emit(f.REMOVED_FROM_SCENE,y,this.scene),this.events.emit(v.REMOVED_FROM_SCENE,y,this.scene)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(g(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(y,C){return y._depth-C._depth},getChildren:function(){return this.list},addToDisplayList:function(y){return y===void 0&&(y=this.scene.sys.displayList),this.displayList&&this.displayList!==y&&this.removeFromDisplayList(),y.exists(this)||(this.displayList=y,y.add(this,!0),y.queueDepthSort(),this.emit(f.ADDED_TO_SCENE,this,this.scene),y.events.emit(v.ADDED_TO_SCENE,this,this.scene)),this},removeFromDisplayList:function(){var y=this.displayList||this.scene.sys.displayList;return y.exists(this)&&(y.remove(this,!0),y.queueDepthSort(),this.displayList=null,this.emit(f.REMOVED_FROM_SCENE,this,this.scene),y.events.emit(v.REMOVED_FROM_SCENE,this,this.scene)),this},getDisplayList:function(){var y=null;return this.parentContainer?y=this.parentContainer.list:this.displayList&&(y=this.displayList.list),y},destroy:function(y){if(!(!this.scene||this.ignoreDestroy)){this.emit(f.DESTROY,this);for(var C=this.list;C.length;)C[0].destroy(y);this.removeAllListeners(),this.resetPostPipeline(!0),this.displayList&&(this.displayList.remove(this,!0,!1),this.displayList.queueDepthSort()),this.data&&(this.data.destroy(),this.data=void 0),this.active=!1,this.visible=!1,this.list=void 0,this.scene=void 0,this.displayList=void 0,this.systems=void 0,this.events=void 0}}});n.exports=m},2956:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){var d=o.list;if(d.length!==0){o.depthSort();var h=o.blendMode!==-1;h||r.setBlendMode(0);var l=o._alpha;o.mask&&o.mask.preRenderCanvas(r,null,x);for(var a=0;a<d.length;a++){var f=d[a];if(f.willRender(x)){var c=f.alpha;!h&&f.blendMode!==r.currentBlendMode&&r.setBlendMode(f.blendMode),f.setAlpha(c*l),f.renderCanvas(r,f,x),f.setAlpha(c)}}o.mask&&o.mask.postRenderCanvas(r)}};n.exports=T},25179:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(25305),x=r(93595),d=r(44603),h=r(23568);d.register("layer",function(l,a){l===void 0&&(l={});var f=h(l,"children",null),c=new x(this.scene,f);return a!==void 0&&(l.add=a),o(this.scene,c,l),c})},20005:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(93595),x=r(39429);x.register("layer",function(d){return this.displayList.add(new o(this.scene,d))})},33963:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),x=o,d=o;x=r(15869),d=r(2956),n.exports={renderWebGL:x,renderCanvas:d}},15869:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){var d=o.list,h=d.length;if(h!==0){o.depthSort(),r.pipelines.preBatch(o);var l=o.blendMode!==-1;l||r.setBlendMode(0);for(var a=o.alpha,f=0;f<h;f++){var c=d[f];if(c.willRender(x)){var u,v,g,m;if(c.alphaTopLeft!==void 0)u=c.alphaTopLeft,v=c.alphaTopRight,g=c.alphaBottomLeft,m=c.alphaBottomRight;else{var y=c.alpha;u=y,v=y,g=y,m=y}!l&&c.blendMode!==r.currentBlendMode&&r.setBlendMode(c.blendMode);var C=c.mask;C&&C.preRenderWebGL(r,c,x);var P=c.type;P!==r.currentType&&(r.newType=!0,r.currentType=P),r.nextTypeMatch=f<h-1?d[f+1].type===r.currentType:!1,c.setAlpha(u*a,v*a,g*a,m*a),c.renderWebGL(r,c,x),c.setAlpha(u,v,g,m),C&&C.postRenderWebGL(r,x),r.newType=!1}}r.pipelines.postBatch(o)}};n.exports=T},41432:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(96503),x=r(83419),d=r(31401),h=r(51767),l=r(70554),a=new x({Extends:o,Mixins:[d.Origin,d.ScrollFactor,d.Visible],initialize:function(c,u,v,g,m,y,C){o.call(this,c,u,v),this.color=new h(g,m,y),this.intensity=C,this.renderFlags=15,this.cameraFilter=0,this.setScrollFactor(1,1),this.setOrigin(),this.setDisplayOrigin(v)},displayWidth:{get:function(){return this.diameter},set:function(f){this.diameter=f}},displayHeight:{get:function(){return this.diameter},set:function(f){this.diameter=f}},width:{get:function(){return this.diameter},set:function(f){this.diameter=f}},height:{get:function(){return this.diameter},set:function(f){this.diameter=f}},willRender:function(f){return!(a.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&f.id)},setColor:function(f){var c=l.getFloatsFromUintRGB(f);return this.color.set(c[0],c[1],c[2]),this},setIntensity:function(f){return this.intensity=f,this},setRadius:function(f){return this.radius=f,this}});a.RENDER_MASK=15,n.exports=a},61356:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(81491),x=r(83419),d=r(20339),h=r(41432),l=r(80321),a=r(51767),f=r(19133),c=r(19186),u=r(70554),v=new x({initialize:function(){this.lights=[],this.ambientColor=new a(.1,.1,.1),this.active=!1,this.maxLights=-1,this.visibleLights=0},addPointLight:function(g,m,y,C,P,w){return this.systems.displayList.add(new l(this.scene,g,m,y,C,P,w))},enable:function(){return this.maxLights===-1&&(this.maxLights=this.systems.renderer.config.maxLights),this.active=!0,this},disable:function(){return this.active=!1,this},getLights:function(g){for(var m=this.lights,y=g.worldView,C=[],P=0;P<m.length;P++){var w=m[P];w.willRender(g)&&o(w,y)&&C.push({light:w,distance:d(w.x,w.y,y.centerX,y.centerY)})}return C.length>this.maxLights&&(c(C,this.sortByDistance),C=C.slice(0,this.maxLights)),this.visibleLights=C.length,C},sortByDistance:function(g,m){return g.distance>=m.distance},setAmbientColor:function(g){var m=u.getFloatsFromUintRGB(g);return this.ambientColor.set(m[0],m[1],m[2]),this},getMaxVisibleLights:function(){return this.maxLights},getLightCount:function(){return this.lights.length},addLight:function(g,m,y,C,P){g===void 0&&(g=0),m===void 0&&(m=0),y===void 0&&(y=128),C===void 0&&(C=16777215),P===void 0&&(P=1);var w=u.getFloatsFromUintRGB(C),M=new h(g,m,y,w[0],w[1],w[2],P);return this.lights.push(M),M},removeLight:function(g){var m=this.lights.indexOf(g);return m>=0&&f(this.lights,m),this},shutdown:function(){this.lights.length=0},destroy:function(){this.shutdown()}});n.exports=v},88992:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(61356),d=r(37277),h=r(44594),l=new o({Extends:x,initialize:function(f){this.scene=f,this.systems=f.sys,f.sys.settings.isBooted||f.sys.events.once(h.BOOT,this.boot,this),x.call(this)},boot:function(){var a=this.systems.events;a.on(h.SHUTDOWN,this.shutdown,this),a.on(h.DESTROY,this.destroy,this)},destroy:function(){this.shutdown(),this.scene=void 0,this.systems=void 0}});d.register("LightsPlugin",l,"lights"),n.exports=l},4703:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(31401),d=r(39506),h=r(83997),l=r(95643),a=r(34684),f=r(92515),c=r(91296),u=r(37867),v=r(29807),g=r(43396),m=r(19186),y=r(25836),C=r(39318),P=new o({Extends:l,Mixins:[x.AlphaSingle,x.BlendMode,x.Depth,x.Mask,x.Pipeline,x.PostPipeline,x.ScrollFactor,x.Size,x.Texture,x.Transform,x.Visible,v],initialize:function(M,R,A,L,F,G,I,B,k,U,H,X){R===void 0&&(R=0),A===void 0&&(A=0),L===void 0&&(L="__WHITE"),l.call(this,M,"Mesh"),this.faces=[],this.vertices=[],this.tintFill=!1,this.debugCallback=null,this.debugGraphic=null,this.hideCCW=!0,this.modelPosition=new y,this.modelScale=new y(1,1,1),this.modelRotation=new y,this.dirtyCache=[0,0,0,0,0,0,0,0,0,0,0,0],this.transformMatrix=new u,this.viewPosition=new y,this.viewMatrix=new u,this.projectionMatrix=new u,this.totalRendered=0,this.totalFrame=0,this.ignoreDirtyCache=!1,this.fov,this.displayOriginX=0,this.displayOriginY=0;var j=M.sys.renderer;this.setPosition(R,A),this.setTexture(L,F),this.setSize(j.width,j.height),this.initPipeline(),this.initPostPipeline(),this.setPerspective(j.width,j.height),G&&this.addVertices(G,I,B,k,U,H,X)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},panX:function(w){return this.viewPosition.addScale(y.LEFT,w),this.dirtyCache[10]=1,this},panY:function(w){return this.viewPosition.y+=y.DOWN.y*w,this.dirtyCache[10]=1,this},panZ:function(w){return this.viewPosition.z+=w,this.dirtyCache[10]=1,this},setPerspective:function(w,M,R,A,L){return R===void 0&&(R=45),A===void 0&&(A=.01),L===void 0&&(L=1e3),this.fov=R,this.projectionMatrix.perspective(d(R),w/M,A,L),this.dirtyCache[10]=1,this.dirtyCache[11]=0,this},setOrtho:function(w,M,R,A){return w===void 0&&(w=this.scene.sys.renderer.getAspectRatio()),M===void 0&&(M=1),R===void 0&&(R=-1e3),A===void 0&&(A=1e3),this.fov=0,this.projectionMatrix.ortho(-w,w,-M,M,R,A),this.dirtyCache[10]=1,this.dirtyCache[11]=1,this},clear:function(){return this.faces.forEach(function(w){w.destroy()}),this.faces=[],this.vertices=[],this},addVerticesFromObj:function(w,M,R,A,L,F,G,I,B){var k=this.scene.sys.cache.obj.get(w),U;return k&&(U=a(k,this,M,R,A,L,F,G,I,B)),(!U||U.verts.length===0)&&console.warn("Mesh.addVerticesFromObj data empty:",w),this},sortByDepth:function(w,M){return w.depth-M.depth},depthSort:function(){return m(this.faces,this.sortByDepth),this},addVertex:function(w,M,R,A,L,F,G){var I=new C(w,M,R,A,L,F,G);return this.vertices.push(I),I},addFace:function(w,M,R){var A=new h(w,M,R);return this.faces.push(A),this.dirtyCache[9]=-1,A},addVertices:function(w,M,R,A,L,F,G){var I=f(w,M,R,A,L,F,G);return I?(this.faces=this.faces.concat(I.faces),this.vertices=this.vertices.concat(I.vertices)):console.warn("Mesh.addVertices data empty or invalid"),this.dirtyCache[9]=-1,this},getFaceCount:function(){return this.faces.length},getVertexCount:function(){return this.vertices.length},getFace:function(w){return this.faces[w]},hasFaceAt:function(w,M,R){R===void 0&&(R=this.scene.sys.cameras.main);for(var A=c(this,R).calc,L=this.faces,F=0;F<L.length;F++){var G=L[F];if(G.contains(w,M,A))return!0}return!1},getFaceAt:function(w,M,R){R===void 0&&(R=this.scene.sys.cameras.main);for(var A=c(this,R).calc,L=this.faces,F=[],G=0;G<L.length;G++){var I=L[G];I.contains(w,M,A)&&F.push(I)}return m(F,this.sortByDepth)},setDebug:function(w,M){return this.debugGraphic=w,!w&&!M?this.debugCallback=null:M?this.debugCallback=M:this.debugCallback=this.renderDebug,this},isDirty:function(){var w=this.modelPosition,M=this.modelRotation,R=this.modelScale,A=this.dirtyCache,L=w.x,F=w.y,G=w.z,I=M.x,B=M.y,k=M.z,U=R.x,H=R.y,X=R.z,j=this.getFaceCount(),J=A[0],Y=A[1],$=A[2],z=A[3],V=A[4],K=A[5],Q=A[6],_=A[7],tt=A[8],rt=A[9];return A[0]=L,A[1]=F,A[2]=G,A[3]=I,A[4]=B,A[5]=k,A[6]=U,A[7]=H,A[8]=X,A[9]=j,J!==L||Y!==F||$!==G||z!==I||V!==B||K!==k||Q!==U||_!==H||tt!==X||rt!==j},preUpdate:function(){this.totalRendered=this.totalFrame,this.totalFrame=0;var w=this.dirtyCache;if(!(!this.ignoreDirtyCache&&!w[10]&&!this.isDirty())){var M=this.width,R=this.height,A=this.viewMatrix,L=this.viewPosition;w[10]&&(A.identity(),A.translate(L),A.invert(),w[10]=0);var F=this.transformMatrix;F.setWorldMatrix(this.modelRotation,this.modelPosition,this.modelScale,this.viewMatrix,this.projectionMatrix);for(var G=L.z,I=this.faces,B=0;B<I.length;B++)I[B].transformCoordinatesLocal(F,M,R,G);this.depthSort()}},renderDebug:function(w,M){for(var R=w.debugGraphic,A=0;A<M.length;A++){var L=M[A],F=L.vertex1.tx,G=L.vertex1.ty,I=L.vertex2.tx,B=L.vertex2.ty,k=L.vertex3.tx,U=L.vertex3.ty;R.strokeTriangle(F,G,I,B,k,U)}},preDestroy:function(){this.clear(),this.debugCallback=null,this.debugGraphic=null},clearTint:function(){return this.setTint()},setInteractive:function(w){w===void 0&&(w={});var M=(function(R,A,L){for(var F=this.faces,G=0;G<F.length;G++){var I=F[G];if(I.contains(A,L))return!0}return!1}).bind(this);return this.scene.sys.input.enable(this,w,M),this},setTint:function(w){w===void 0&&(w=16777215);for(var M=this.vertices,R=0;R<M.length;R++)M[R].color=w;return this},uvScroll:function(w,M){for(var R=this.faces,A=0;A<R.length;A++)R[A].scrollUV(w,M);return this},uvScale:function(w,M){for(var R=this.faces,A=0;A<R.length;A++)R[A].scaleUV(w,M);return this},tint:{set:function(w){this.setTint(w)}},rotateX:{get:function(){return g(this.modelRotation.x)},set:function(w){this.modelRotation.x=d(w)}},rotateY:{get:function(){return g(this.modelRotation.y)},set:function(w){this.modelRotation.y=d(w)}},rotateZ:{get:function(){return g(this.modelRotation.z)},set:function(w){this.modelRotation.z=d(w)}}});n.exports=P},36488:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(){};n.exports=T},20527:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(25305),x=r(44603),d=r(23568),h=r(35154),l=r(4703);x.register("mesh",function(a,f){a===void 0&&(a={});var c=d(a,"key",null),u=d(a,"frame",null),v=h(a,"vertices",[]),g=h(a,"uvs",[]),m=h(a,"indicies",[]),y=h(a,"containsZ",!1),C=h(a,"normals",[]),P=h(a,"colors",16777215),w=h(a,"alphas",1),M=new l(this.scene,0,0,c,u,v,g,m,y,C,P,w);return f!==void 0&&(a.add=f),o(this.scene,M,a),M})},9225:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(4703),x=r(39429);x.register("mesh",function(d,h,l,a,f,c,u,v,g,m,y){return this.displayList.add(new o(this.scene,d,h,l,a,f,c,u,v,g,m,y))})},29807:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),x=o,d=o;x=r(48833),d=r(36488),n.exports={renderWebGL:x,renderCanvas:d}},48833:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(91296),x=function(d,h,l,a){var f=h.faces,c=f.length;if(c!==0){l.addToRenderList(h);var u=d.pipelines.set(h.pipeline,h),v=o(h,l,a).calc;d.pipelines.preBatch(h);for(var g=u.setGameObject(h),m=u.vertexViewF32,y=u.vertexViewU32,C=u.vertexCount*u.currentShader.vertexComponentCount-1,P=h.tintFill,w=[],M=h.debugCallback,R=v.a,A=v.b,L=v.c,F=v.d,G=v.e,I=v.f,B=h.viewPosition.z,k=h.hideCCW,U=l.roundPixels,H=l.alpha*h.alpha,X=0,j=0;j<c;j++){var J=f[j];J.isInView(l,k,B,H,R,A,L,F,G,I,U)&&(u.shouldFlush(3)&&(u.flush(),g=u.setGameObject(h),C=u.vertexCount*u.currentShader.vertexComponentCount-1),C=J.load(m,y,C,g,P),X++,u.vertexCount+=3,u.currentBatch.count=u.vertexCount-u.currentBatch.start,M&&w.push(J))}h.totalFrame+=X,M&&M.call(h,h,w),d.pipelines.postBatch(h)}};n.exports=x},28103:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(31401),d=r(95643),h=r(78023),l=r(39318),a=new o({Extends:d,Mixins:[x.AlphaSingle,x.BlendMode,x.Depth,x.GetBounds,x.Mask,x.Origin,x.Pipeline,x.PostPipeline,x.ScrollFactor,x.Texture,x.Transform,x.Visible,h],initialize:function(c,u,v,g,m,y,C,P,w,M,R){d.call(this,c,"NineSlice"),this._width,this._height,this._originX=.5,this._originY=.5,this._sizeComponent=!0,this.vertices=[],this.leftWidth,this.rightWidth,this.topHeight,this.bottomHeight,this.tint=16777215,this.tintFill=!1;var A=c.textures.getFrame(g,m);this.is3Slice=!M&&!R,A&&A.scale9&&(this.is3Slice=A.is3Slice);for(var L=this.is3Slice?18:54,F=0;F<L;F++)this.vertices.push(new l);this.setPosition(u,v),this.setTexture(g,m),this.setSlices(y,C,P,w,M,R,!1),this.updateDisplayOrigin(),this.initPipeline(),this.initPostPipeline()},setSlices:function(f,c,u,v,g,m,y){u===void 0&&(u=10),v===void 0&&(v=10),g===void 0&&(g=0),m===void 0&&(m=0),y===void 0&&(y=!1);var C=this.frame,P=!1;if(this.is3Slice&&y&&g!==0&&m!==0&&(P=!0),P)console.warn("Cannot change 9 slice to 3 slice");else{if(C&&C.scale9&&!y){var w=C.data.scale9Borders,M=w.x,R=w.y;u=M,v=C.width-w.w-M,g=R,m=C.height-w.h-R,f===void 0&&(f=C.width),c===void 0&&(c=C.height)}else f===void 0&&(f=256),c===void 0&&(c=256);this._width=f,this._height=c,this.leftWidth=u,this.rightWidth=v,this.topHeight=g,this.bottomHeight=m,this.is3Slice&&(c=C.height,this._height=c,this.topHeight=c,this.bottomHeight=0),this.updateVertices(),this.updateUVs()}return this},updateUVs:function(){var f=this.leftWidth,c=this.rightWidth,u=this.topHeight,v=this.bottomHeight,g=this.frame.width,m=this.frame.height;this.updateQuadUVs(0,0,0,f/g,u/m),this.updateQuadUVs(6,f/g,0,1-c/g,u/m),this.updateQuadUVs(12,1-c/g,0,1,u/m),this.is3Slice||(this.updateQuadUVs(18,0,u/m,f/g,1-v/m),this.updateQuadUVs(24,f/g,u/m,1-c/g,1-v/m),this.updateQuadUVs(30,1-c/g,u/m,1,1-v/m),this.updateQuadUVs(36,0,1-v/m,f/g,1),this.updateQuadUVs(42,f/g,1-v/m,1-c/g,1),this.updateQuadUVs(48,1-c/g,1-v/m,1,1))},updateVertices:function(){var f=this.leftWidth,c=this.rightWidth,u=this.topHeight,v=this.bottomHeight,g=this.width,m=this.height;this.updateQuad(0,-.5,.5,-.5+f/g,.5-u/m),this.updateQuad(6,-.5+f/g,.5,.5-c/g,.5-u/m),this.updateQuad(12,.5-c/g,.5,.5,.5-u/m),this.is3Slice||(this.updateQuad(18,-.5,.5-u/m,-.5+f/g,-.5+v/m),this.updateQuad(24,-.5+f/g,.5-u/m,.5-c/g,-.5+v/m),this.updateQuad(30,.5-c/g,.5-u/m,.5,-.5+v/m),this.updateQuad(36,-.5,-.5+v/m,-.5+f/g,-.5),this.updateQuad(42,-.5+f/g,-.5+v/m,.5-c/g,-.5),this.updateQuad(48,.5-c/g,-.5+v/m,.5,-.5))},updateQuad:function(f,c,u,v,g){var m=this.width,y=this.height,C=this.originX,P=this.originY,w=this.vertices;w[f+0].resize(c,u,m,y,C,P),w[f+1].resize(c,g,m,y,C,P),w[f+2].resize(v,u,m,y,C,P),w[f+3].resize(c,g,m,y,C,P),w[f+4].resize(v,g,m,y,C,P),w[f+5].resize(v,u,m,y,C,P)},updateQuadUVs:function(f,c,u,v,g){var m=this.vertices,y=this.frame,C=y.u0,P=y.v0,w=y.u1,M=y.v1;if(C!==0||w!==1){var R=w-C;c=C+c*R,v=C+v*R}if(P!==0||M!==1){var A=M-P;u=P+u*A,g=P+g*A}m[f+0].setUVs(c,u),m[f+1].setUVs(c,g),m[f+2].setUVs(v,u),m[f+3].setUVs(c,g),m[f+4].setUVs(v,g),m[f+5].setUVs(v,u)},clearTint:function(){return this.setTint(16777215),this},setTint:function(f){return f===void 0&&(f=16777215),this.tint=f,this.tintFill=!1,this},setTintFill:function(f){return this.setTint(f),this.tintFill=!0,this},isTinted:{get:function(){return this.tint!==16777215}},width:{get:function(){return this._width},set:function(f){this._width=Math.max(f,this.leftWidth+this.rightWidth),this.updateVertices()}},height:{get:function(){return this._height},set:function(f){this.is3Slice||(this._height=Math.max(f,this.topHeight+this.bottomHeight),this.updateVertices())}},displayWidth:{get:function(){return this.scaleX*this.width},set:function(f){this.scaleX=f/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(f){this.scaleY=f/this.height}},setSize:function(f,c){this.width=f,this.height=c,this.updateDisplayOrigin();var u=this.input;return u&&!u.customHitArea&&(u.hitArea.width=this.width,u.hitArea.height=this.height),this},setDisplaySize:function(f,c){return this.displayWidth=f,this.displayHeight=c,this},originX:{get:function(){return this._originX},set:function(f){this._originX=f,this.updateVertices()}},originY:{get:function(){return this._originY},set:function(f){this._originY=f,this.updateVertices()}},setOrigin:function(f,c){return f===void 0&&(f=.5),c===void 0&&(c=f),this._originX=f,this._originY=c,this.updateVertices(),this.updateDisplayOrigin()},setSizeToFrame:function(){if(this.is3Slice){var f=this.frame.height;this._height=f,this.topHeight=f,this.bottomHeight=0}return this.updateUVs(),this},preDestroy:function(){this.vertices=[]}});n.exports=a},28279:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(25305),x=r(44603),d=r(23568),h=r(35154),l=r(28103);x.register("nineslice",function(a,f){a===void 0&&(a={});var c=d(a,"key",null),u=d(a,"frame",null),v=h(a,"width",256),g=h(a,"height",256),m=h(a,"leftWidth",10),y=h(a,"rightWidth",10),C=h(a,"topHeight",0),P=h(a,"bottomHeight",0),w=new l(this.scene,0,0,c,u,v,g,m,y,C,P);return f!==void 0&&(a.add=f),o(this.scene,w,a),w})},47521:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(28103),x=r(39429);x.register("nineslice",function(d,h,l,a,f,c,u,v,g,m){return this.displayList.add(new o(this.scene,d,h,l,a,f,c,u,v,g,m))})},78023:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),x=o,d=o;x=r(52230),n.exports={renderWebGL:x,renderCanvas:d}},52230:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(91296),x=r(70554),d=function(h,l,a,f){var c=l.vertices,u=c.length;if(u!==0){a.addToRenderList(l);var v=h.pipelines.set(l.pipeline,l),g=o(l,a,f,!1).calc;h.pipelines.preBatch(l);var m=v.setGameObject(l),y=v.vertexViewF32,C=v.vertexViewU32,P=v.vertexCount*v.currentShader.vertexComponentCount-1,w=a.roundPixels,M=l.tintFill,R=a.alpha*l.alpha,A=x.getTintAppendFloatAlpha(l.tint,R),L=v.vertexAvailable(),F=-1;L<u&&(F=L);for(var G=0;G<u;G++){var I=c[G];G===F&&(v.flush(),m=v.setGameObject(l),P=0),y[++P]=g.getXRound(I.vx,I.vy,w),y[++P]=g.getYRound(I.vx,I.vy,w),y[++P]=I.u,y[++P]=I.v,y[++P]=m,y[++P]=M,C[++P]=A,v.vertexCount++,v.currentBatch.count=v.vertexCount-v.currentBatch.start}h.pipelines.postBatch(l)}};n.exports=d},76472:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(44777),d=r(37589),h=r(6113),l=r(91389),a=r(90664),f=new o({Extends:x,initialize:function(u){x.call(this,u,null,!1),this.active=!1,this.easeName="Linear",this.r=[],this.g=[],this.b=[]},getMethod:function(){return this.propertyValue===null?0:9},setMethods:function(){var c=this.propertyValue,u=c,v=this.defaultEmit,g=this.defaultUpdate;if(this.method===9){this.start=c[0],this.ease=h("Linear"),this.interpolation=l("linear"),v=this.easedValueEmit,g=this.easeValueUpdate,u=c[0],this.active=!0;for(var m=0;m<c.length;m++){var y=a(c[m]);this.r.push(y.r),this.g.push(y.g),this.b.push(y.b)}}return this.onEmit=v,this.onUpdate=g,this.current=u,this},setEase:function(c){this.easeName=c,this.ease=h(c)},easedValueEmit:function(){return this.current=this.start,this.start},easeValueUpdate:function(c,u,v){var g=this.ease(v),m=this.interpolation(this.r,g),y=this.interpolation(this.g,g),C=this.interpolation(this.b,g),P=d(m,y,C);return this.current=P,P}});n.exports=f},44777:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(30976),x=r(45319),d=r(83419),h=r(99472),l=r(6113),a=r(95540),f=r(91389),c=r(77720),u=r(15994),v=new d({initialize:function(m,y,C){C===void 0&&(C=!1),this.propertyKey=m,this.propertyValue=y,this.defaultValue=y,this.steps=0,this.counter=0,this.yoyo=!1,this.direction=0,this.start=0,this.current=0,this.end=0,this.ease=null,this.interpolation=null,this.emitOnly=C,this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,this.active=!0,this.method=0,this._onEmit,this._onUpdate},loadConfig:function(g,m){g===void 0&&(g={}),m&&(this.propertyKey=m),this.propertyValue=a(g,this.propertyKey,this.defaultValue),this.method=this.getMethod(),this.setMethods(),this.emitOnly&&(this.onUpdate=this.defaultUpdate)},toJSON:function(){return JSON.stringify(this.propertyValue)},onChange:function(g){var m;switch(this.method){case 1:case 3:case 8:m=g;break;case 2:this.propertyValue.indexOf(g)>=0&&(m=g);break;case 4:var y=(this.end-this.start)/this.steps;m=c(g,y),this.counter=m;break;case 5:case 6:case 7:m=x(g,this.start,this.end);break;case 9:m=this.start[0];break}return this.current=m,this},getMethod:function(){var g=this.propertyValue;if(g===null)return 0;var m=typeof g;if(m==="number")return 1;if(Array.isArray(g))return 2;if(m==="function")return 3;if(m==="object"){if(this.hasBoth(g,"start","end"))return this.has(g,"steps")?4:5;if(this.hasBoth(g,"min","max"))return 6;if(this.has(g,"random"))return 7;if(this.hasEither(g,"onEmit","onUpdate"))return 8;if(this.hasEither(g,"values","interpolation"))return 9}return 0},setMethods:function(){var g=this.propertyValue,m=g,y=this.defaultEmit,C=this.defaultUpdate;switch(this.method){case 1:y=this.staticValueEmit;break;case 2:y=this.randomStaticValueEmit,m=g[0];break;case 3:this._onEmit=g,y=this.proxyEmit,m=this.defaultValue;break;case 4:this.start=g.start,this.end=g.end,this.steps=g.steps,this.counter=this.start,this.yoyo=this.has(g,"yoyo")?g.yoyo:!1,this.direction=0,y=this.steppedEmit,m=this.start;break;case 5:this.start=g.start,this.end=g.end;var P=this.has(g,"ease")?g.ease:"Linear";this.ease=l(P,g.easeParams),y=this.has(g,"random")&&g.random?this.randomRangedValueEmit:this.easedValueEmit,C=this.easeValueUpdate,m=this.start;break;case 6:this.start=g.min,this.end=g.max,y=this.has(g,"int")&&g.int?this.randomRangedIntEmit:this.randomRangedValueEmit,m=this.start;break;case 7:var w=g.random;Array.isArray(w)&&(this.start=w[0],this.end=w[1]),y=this.randomRangedIntEmit,m=this.start;break;case 8:this._onEmit=this.has(g,"onEmit")?g.onEmit:this.defaultEmit,this._onUpdate=this.has(g,"onUpdate")?g.onUpdate:this.defaultUpdate,y=this.proxyEmit,C=this.proxyUpdate,m=this.defaultValue;break;case 9:this.start=g.values;var M=this.has(g,"ease")?g.ease:"Linear";this.ease=l(M,g.easeParams),this.interpolation=f(g.interpolation),y=this.easedValueEmit,C=this.easeValueUpdate,m=this.start[0];break}return this.onEmit=y,this.onUpdate=C,this.current=m,this},has:function(g,m){return g.hasOwnProperty(m)},hasBoth:function(g,m,y){return g.hasOwnProperty(m)&&g.hasOwnProperty(y)},hasEither:function(g,m,y){return g.hasOwnProperty(m)||g.hasOwnProperty(y)},defaultEmit:function(){return this.defaultValue},defaultUpdate:function(g,m,y,C){return C},proxyEmit:function(g,m,y){var C=this._onEmit(g,m,y);return this.current=C,C},proxyUpdate:function(g,m,y,C){var P=this._onUpdate(g,m,y,C);return this.current=P,P},staticValueEmit:function(){return this.current},staticValueUpdate:function(){return this.current},randomStaticValueEmit:function(){var g=Math.floor(Math.random()*this.propertyValue.length);return this.current=this.propertyValue[g],this.current},randomRangedValueEmit:function(g,m){var y=h(this.start,this.end);return g&&g.data[m]&&(g.data[m].min=y,g.data[m].max=this.end),this.current=y,y},randomRangedIntEmit:function(g,m){var y=o(this.start,this.end);return g&&g.data[m]&&(g.data[m].min=y,g.data[m].max=this.end),this.current=y,y},steppedEmit:function(){var g=this.counter,m=g,y=(this.end-this.start)/this.steps;if(this.yoyo){var C;this.direction===0?(m+=y,m>=this.end&&(C=m-this.end,m=this.end-C,this.direction=1)):(m-=y,m<=this.start&&(C=this.start-m,m=this.start+C,this.direction=0)),this.counter=m}else this.counter=u(m+y,this.start,this.end);return this.current=g,g},easedValueEmit:function(g,m){if(g&&g.data[m]){var y=g.data[m];y.min=this.start,y.max=this.end}return this.current=this.start,this.start},easeValueUpdate:function(g,m,y){var C=g.data[m],P,w=this.ease(y);return this.interpolation?P=this.interpolation(this.start,w):P=(C.max-C.min)*w+C.min,this.current=P,P},destroy:function(){this.propertyValue=null,this.defaultValue=null,this.ease=null,this.interpolation=null,this._onEmit=null,this._onUpdate=null}});n.exports=v},24502:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(95540),d=r(20286),h=new o({Extends:d,initialize:function(a,f,c,u,v){if(typeof a=="object"){var g=a;a=x(g,"x",0),f=x(g,"y",0),c=x(g,"power",0),u=x(g,"epsilon",100),v=x(g,"gravity",50)}else a===void 0&&(a=0),f===void 0&&(f=0),c===void 0&&(c=0),u===void 0&&(u=100),v===void 0&&(v=50);d.call(this,a,f,!0),this._gravity=v,this._power=c*v,this._epsilon=u*u},update:function(l,a){var f=this.x-l.x,c=this.y-l.y,u=f*f+c*c;if(u!==0){var v=Math.sqrt(u);u<this._epsilon&&(u=this._epsilon);var g=this._power*a/(u*v)*100;l.velocityX+=f*g,l.velocityY+=c*g}},epsilon:{get:function(){return Math.sqrt(this._epsilon)},set:function(l){this._epsilon=l*l}},power:{get:function(){return this._power/this._gravity},set:function(l){this._power=l*this._gravity}},gravity:{get:function(){return this._gravity},set:function(l){var a=this.power;this._gravity=l,this.power=a}}});n.exports=h},56480:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(9674),x=r(45319),d=r(83419),h=r(39506),l=r(87841),a=r(11520),f=r(26099),c=new d({initialize:function(v){this.emitter=v,this.texture=null,this.frame=null,this.x=0,this.y=0,this.worldPosition=new f,this.velocityX=0,this.velocityY=0,this.accelerationX=0,this.accelerationY=0,this.maxVelocityX=1e4,this.maxVelocityY=1e4,this.bounce=0,this.scaleX=1,this.scaleY=1,this.alpha=1,this.angle=0,this.rotation=0,this.tint=16777215,this.life=1e3,this.lifeCurrent=1e3,this.delayCurrent=0,this.holdCurrent=0,this.lifeT=0,this.data={tint:{min:16777215,max:16777215},alpha:{min:1,max:1},rotate:{min:0,max:0},scaleX:{min:1,max:1},scaleY:{min:1,max:1},x:{min:0,max:0},y:{min:0,max:0},accelerationX:{min:0,max:0},accelerationY:{min:0,max:0},maxVelocityX:{min:0,max:0},maxVelocityY:{min:0,max:0},moveToX:{min:0,max:0},moveToY:{min:0,max:0},bounce:{min:0,max:0}},this.isCropped=!1,this.scene=v.scene,this.anims=null,this.emitter.anims.length>0&&(this.anims=new o(this)),this.bounds=new l},emit:function(u,v,g,m,y,C){return this.emitter.emit(u,v,g,m,y,C)},isAlive:function(){return this.lifeCurrent>0},kill:function(){this.lifeCurrent=0},setPosition:function(u,v){u===void 0&&(u=0),v===void 0&&(v=0),this.x=u,this.y=v},fire:function(u,v){var g=this.emitter,m=g.ops,y=g.getAnim();if(y?this.anims.play(y):(this.frame=g.getFrame(),this.texture=this.frame.texture),!this.frame)throw new Error("Particle has no texture frame");if(g.getEmitZone(this),u===void 0?this.x+=m.x.onEmit(this,"x"):m.x.steps>0?this.x+=u+m.x.onEmit(this,"x"):this.x+=u,v===void 0?this.y+=m.y.onEmit(this,"y"):m.y.steps>0?this.y+=v+m.y.onEmit(this,"y"):this.y+=v,this.life=m.lifespan.onEmit(this,"lifespan"),this.lifeCurrent=this.life,this.lifeT=0,this.delayCurrent=m.delay.onEmit(this,"delay"),this.holdCurrent=m.hold.onEmit(this,"hold"),this.scaleX=m.scaleX.onEmit(this,"scaleX"),this.scaleY=m.scaleY.active?m.scaleY.onEmit(this,"scaleY"):this.scaleX,this.angle=m.rotate.onEmit(this,"rotate"),this.rotation=h(this.angle),g.worldMatrix.transformPoint(this.x,this.y,this.worldPosition),this.delayCurrent===0&&g.getDeathZone(this))return this.lifeCurrent=0,!1;var C=m.speedX.onEmit(this,"speedX"),P=m.speedY.active?m.speedY.onEmit(this,"speedY"):C;if(g.radial){var w=h(m.angle.onEmit(this,"angle"));this.velocityX=Math.cos(w)*Math.abs(C),this.velocityY=Math.sin(w)*Math.abs(P)}else if(g.moveTo){var M=m.moveToX.onEmit(this,"moveToX"),R=m.moveToY.onEmit(this,"moveToY"),A=this.life/1e3;this.velocityX=(M-this.x)/A,this.velocityY=(R-this.y)/A}else this.velocityX=C,this.velocityY=P;return g.acceleration&&(this.accelerationX=m.accelerationX.onEmit(this,"accelerationX"),this.accelerationY=m.accelerationY.onEmit(this,"accelerationY")),this.maxVelocityX=m.maxVelocityX.onEmit(this,"maxVelocityX"),this.maxVelocityY=m.maxVelocityY.onEmit(this,"maxVelocityY"),this.bounce=m.bounce.onEmit(this,"bounce"),this.alpha=m.alpha.onEmit(this,"alpha"),m.color.active?this.tint=m.color.onEmit(this,"tint"):this.tint=m.tint.onEmit(this,"tint"),!0},update:function(u,v,g){if(this.lifeCurrent<=0)return this.holdCurrent>0?(this.holdCurrent-=u,this.holdCurrent<=0):!0;if(this.delayCurrent>0)return this.delayCurrent-=u,!1;this.anims&&this.anims.update(0,u);var m=this.emitter,y=m.ops,C=1-this.lifeCurrent/this.life;if(this.lifeT=C,this.x=y.x.onUpdate(this,"x",C,this.x),this.y=y.y.onUpdate(this,"y",C,this.y),m.moveTo){var P=y.moveToX.onUpdate(this,"moveToX",C,m.moveToX),w=y.moveToY.onUpdate(this,"moveToY",C,m.moveToY),M=this.lifeCurrent/1e3;this.velocityX=(P-this.x)/M,this.velocityY=(w-this.y)/M}return this.computeVelocity(m,u,v,g,C),this.scaleX=y.scaleX.onUpdate(this,"scaleX",C,this.scaleX),y.scaleY.active?this.scaleY=y.scaleY.onUpdate(this,"scaleY",C,this.scaleY):this.scaleY=this.scaleX,this.angle=y.rotate.onUpdate(this,"rotate",C,this.angle),this.rotation=h(this.angle),m.getDeathZone(this)?(this.lifeCurrent=0,!0):(this.alpha=x(y.alpha.onUpdate(this,"alpha",C,this.alpha),0,1),y.color.active?this.tint=y.color.onUpdate(this,"color",C,this.tint):this.tint=y.tint.onUpdate(this,"tint",C,this.tint),this.lifeCurrent-=u,this.lifeCurrent<=0&&this.holdCurrent<=0)},computeVelocity:function(u,v,g,m,y){var C=u.ops,P=this.velocityX,w=this.velocityY,M=C.accelerationX.onUpdate(this,"accelerationX",y,this.accelerationX),R=C.accelerationY.onUpdate(this,"accelerationY",y,this.accelerationY),A=C.maxVelocityX.onUpdate(this,"maxVelocityX",y,this.maxVelocityX),L=C.maxVelocityY.onUpdate(this,"maxVelocityY",y,this.maxVelocityY);this.bounce=C.bounce.onUpdate(this,"bounce",y,this.bounce),P+=u.gravityX*g+M*g,w+=u.gravityY*g+R*g,P=x(P,-A,A),w=x(w,-L,L),this.velocityX=P,this.velocityY=w,this.x+=P*g,this.y+=w*g,u.worldMatrix.transformPoint(this.x,this.y,this.worldPosition);for(var F=0;F<m.length;F++){var G=m[F];G.active&&G.update(this,v,g,y)}},setSizeToFrame:function(){},getBounds:function(u){u===void 0&&(u=this.emitter.getWorldTransformMatrix());var v=Math.abs(u.scaleX)*this.scaleX,g=Math.abs(u.scaleY)*this.scaleY,m=this.x,y=this.y,C=this.rotation,P=this.frame.width*v/2,w=this.frame.height*g/2,M=this.bounds,R=new f(m-P,y-w),A=new f(m+P,y-w),L=new f(m-P,y+w),F=new f(m+P,y+w);return C!==0&&(a(R,m,y,C),a(A,m,y,C),a(L,m,y,C),a(F,m,y,C)),u.transformPoint(R.x,R.y,R),u.transformPoint(A.x,A.y,A),u.transformPoint(L.x,L.y,L),u.transformPoint(F.x,F.y,F),M.x=Math.min(R.x,A.x,L.x,F.x),M.y=Math.min(R.y,A.y,L.y,F.y),M.width=Math.max(R.x,A.x,L.x,F.x)-M.x,M.height=Math.max(R.y,A.y,L.y,F.y)-M.y,M},destroy:function(){this.anims&&this.anims.destroy(),this.anims=null,this.emitter=null,this.texture=null,this.frame=null,this.scene=null}});n.exports=c},69601:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(20286),d=r(87841),h=new o({Extends:x,initialize:function(a,f,c,u,v,g,m,y){v===void 0&&(v=!0),g===void 0&&(g=!0),m===void 0&&(m=!0),y===void 0&&(y=!0),x.call(this,a,f,!0),this.bounds=new d(a,f,c,u),this.collideLeft=v,this.collideRight=g,this.collideTop=m,this.collideBottom=y},update:function(l){var a=this.bounds,f=-l.bounce,c=l.worldPosition;c.x<a.x&&this.collideLeft?(l.x+=a.x-c.x,l.velocityX*=f):c.x>a.right&&this.collideRight&&(l.x-=c.x-a.right,l.velocityX*=f),c.y<a.y&&this.collideTop?(l.y+=a.y-c.y,l.velocityY*=f):c.y>a.bottom&&this.collideBottom&&(l.y-=c.y-a.bottom,l.velocityY*=f)}});n.exports=h},31600:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(31401),d=r(53774),h=r(43459),l=r(26388),a=r(19909),f=r(76472),c=r(44777),u=r(20696),v=r(95643),g=r(95540),m=r(26546),y=r(24502),C=r(1985),P=r(97022),w=r(86091),M=r(73162),R=r(20074),A=r(269),L=r(56480),F=r(69601),G=r(68875),I=r(87841),B=r(59996),k=r(72905),U=r(90668),H=r(19186),X=r(61340),j=r(26099),J=r(15994),Y=["active","advance","blendMode","colorEase","deathCallback","deathCallbackScope","duration","emitCallback","emitCallbackScope","follow","frequency","gravityX","gravityY","maxAliveParticles","maxParticles","name","emitting","particleBringToTop","particleClass","radial","sortCallback","sortOrderAsc","sortProperty","stopAfter","tintFill","timeScale","trackVisible","visible"],$=["accelerationX","accelerationY","alpha","angle","bounce","color","delay","hold","lifespan","maxVelocityX","maxVelocityY","moveToX","moveToY","quantity","rotate","scaleX","scaleY","speedX","speedY","tint","x","y"],z=new o({Extends:v,Mixins:[x.AlphaSingle,x.BlendMode,x.Depth,x.Mask,x.Pipeline,x.PostPipeline,x.ScrollFactor,x.Texture,x.Transform,x.Visible,U],initialize:function(K,Q,_,tt,rt){v.call(this,K,"ParticleEmitter"),this.particleClass=L,this.config=null,this.ops={accelerationX:new c("accelerationX",0),accelerationY:new c("accelerationY",0),alpha:new c("alpha",1),angle:new c("angle",{min:0,max:360},!0),bounce:new c("bounce",0),color:new f("color"),delay:new c("delay",0,!0),hold:new c("hold",0,!0),lifespan:new c("lifespan",1e3,!0),maxVelocityX:new c("maxVelocityX",1e4),maxVelocityY:new c("maxVelocityY",1e4),moveToX:new c("moveToX",0),moveToY:new c("moveToY",0),quantity:new c("quantity",1,!0),rotate:new c("rotate",0),scaleX:new c("scaleX",1),scaleY:new c("scaleY",1),speedX:new c("speedX",0,!0),speedY:new c("speedY",0,!0),tint:new c("tint",16777215),x:new c("x",0),y:new c("y",0)},this.radial=!0,this.gravityX=0,this.gravityY=0,this.acceleration=!1,this.moveTo=!1,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.maxParticles=0,this.maxAliveParticles=0,this.stopAfter=0,this.duration=0,this.frequency=0,this.emitting=!0,this.particleBringToTop=!0,this.timeScale=1,this.emitZones=[],this.deathZones=[],this.viewBounds=null,this.follow=null,this.followOffset=new j,this.trackVisible=!1,this.frames=[],this.randomFrame=!0,this.frameQuantity=1,this.anims=[],this.randomAnim=!0,this.animQuantity=1,this.dead=[],this.alive=[],this.counters=new Float32Array(10),this.skipping=!1,this.worldMatrix=new X,this.sortProperty="",this.sortOrderAsc=!0,this.sortCallback=this.depthSortCallback,this.processors=new M(this),this.tintFill=!1,this.initPipeline(),this.initPostPipeline(),this.setPosition(Q,_),this.setTexture(tt),rt&&this.setConfig(rt)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},setConfig:function(V){if(!V)return this;this.config=V;var K=0,Q="",_=this.ops;for(K=0;K<$.length;K++)Q=$[K],_[Q].loadConfig(V);for(K=0;K<Y.length;K++)Q=Y[K],P(V,Q)&&(this[Q]=g(V,Q));if(this.acceleration=this.accelerationX!==0||this.accelerationY!==0,this.moveTo=this.moveToX!==0&&this.moveToY!==0,P(V,"speed")&&(_.speedX.loadConfig(V,"speed"),_.speedY.active=!1),(C(V,["speedX","speedY"])||this.moveTo)&&(this.radial=!1),P(V,"scale")&&(_.scaleX.loadConfig(V,"scale"),_.scaleY.active=!1),P(V,"callbackScope")){var tt=g(V,"callbackScope",null);this.emitCallbackScope=tt,this.deathCallbackScope=tt}if(P(V,"emitZone")&&this.addEmitZone(V.emitZone),P(V,"deathZone")&&this.addDeathZone(V.deathZone),P(V,"bounds")){var rt=this.addParticleBounds(V.bounds);rt.collideLeft=g(V,"collideLeft",!0),rt.collideRight=g(V,"collideRight",!0),rt.collideTop=g(V,"collideTop",!0),rt.collideBottom=g(V,"collideBottom",!0)}return P(V,"followOffset")&&this.followOffset.setFromObject(g(V,"followOffset",0)),P(V,"texture")&&this.setTexture(V.texture),P(V,"frame")?this.setEmitterFrame(V.frame):P(V,"anim")&&this.setAnim(V.anim),P(V,"reserve")&&this.reserve(V.reserve),P(V,"advance")&&this.fastForward(V.advance),this.resetCounters(this.frequency,this.emitting),this.emitting&&this.emit(u.START,this),this},updateConfig:function(V){return V&&(this.config?this.setConfig(A(this.config,V)):this.setConfig(V)),this},toJSON:function(){var V=d(this),K=0,Q="";for(K=0;K<Y.length;K++)Q=Y[K],V[Q]=this[Q];var _=this.ops;for(K=0;K<$.length;K++)Q=$[K],_[Q]&&(V[Q]=_[Q].toJSON());return _.speedY.active||(delete V.speedX,V.speed=_.speedX.toJSON()),this.scaleX===this.scaleY&&(delete V.scaleX,delete V.scaleY,V.scale=_.scaleX.toJSON()),V},resetCounters:function(V,K){var Q=this.counters;Q.fill(0),Q[0]=V,K&&(Q[5]=1)},startFollow:function(V,K,Q,_){return K===void 0&&(K=0),Q===void 0&&(Q=0),_===void 0&&(_=!1),this.follow=V,this.followOffset.set(K,Q),this.trackVisible=_,this},stopFollow:function(){return this.follow=null,this.followOffset.set(0,0),this.trackVisible=!1,this},getFrame:function(){var V=this.frames,K=V.length,Q;return K===1?Q=V[0]:this.randomFrame?Q=m(V):(Q=V[this.currentFrame],this.frameCounter++,this.frameCounter===this.frameQuantity&&(this.frameCounter=0,this.currentFrame++,this.currentFrame===K&&(this.currentFrame=0))),this.texture.get(Q)},setEmitterFrame:function(V,K,Q){K===void 0&&(K=!0),Q===void 0&&(Q=1),this.randomFrame=K,this.frameQuantity=Q,this.currentFrame=0;var _=typeof V;if(this.frames.length=0,Array.isArray(V))this.frames=this.frames.concat(V);else if(_==="string"||_==="number")this.frames.push(V);else if(_==="object"){var tt=V;V=g(tt,"frames",null),V&&(this.frames=this.frames.concat(V));var rt=g(tt,"cycle",!1);this.randomFrame=!rt,this.frameQuantity=g(tt,"quantity",Q)}return this.frames.length===1&&(this.frameQuantity=1,this.randomFrame=!1),this},getAnim:function(){var V=this.anims,K=V.length;if(K===0)return null;if(K===1)return V[0];if(this.randomAnim)return m(V);var Q=V[this.currentAnim];return this.animCounter++,this.animCounter>=this.animQuantity&&(this.animCounter=0,this.currentAnim=J(this.currentAnim+1,0,K)),Q},setAnim:function(V,K,Q){K===void 0&&(K=!0),Q===void 0&&(Q=1),this.randomAnim=K,this.animQuantity=Q,this.currentAnim=0;var _=typeof V;if(this.anims.length=0,Array.isArray(V))this.anims=this.anims.concat(V);else if(_==="string")this.anims.push(V);else if(_==="object"){var tt=V;V=g(tt,"anims",null),V&&(this.anims=this.anims.concat(V));var rt=g(tt,"cycle",!1);this.randomAnim=!rt,this.animQuantity=g(tt,"quantity",Q)}return this.anims.length===1&&(this.animQuantity=1,this.randomAnim=!1),this},setRadial:function(V){return V===void 0&&(V=!0),this.radial=V,this},addParticleBounds:function(V,K,Q,_,tt,rt,ot,ft){if(typeof V=="object"){var ct=V;V=ct.x,K=ct.y,Q=P(ct,"w")?ct.w:ct.width,_=P(ct,"h")?ct.h:ct.height}return this.addParticleProcessor(new F(V,K,Q,_,tt,rt,ot,ft))},setParticleSpeed:function(V,K){return K===void 0&&(K=V),this.ops.speedX.onChange(V),V===K?this.ops.speedY.active=!1:this.ops.speedY.onChange(K),this.radial=!0,this},setParticleScale:function(V,K){return V===void 0&&(V=1),K===void 0&&(K=V),this.ops.scaleX.onChange(V),this.ops.scaleY.onChange(K),this},setParticleGravity:function(V,K){return this.gravityX=V,this.gravityY=K,this},setParticleAlpha:function(V){return this.ops.alpha.onChange(V),this},setParticleTint:function(V){return this.ops.tint.onChange(V),this},setEmitterAngle:function(V){return this.ops.angle.onChange(V),this},setParticleLifespan:function(V){return this.ops.lifespan.onChange(V),this},setQuantity:function(V){return this.quantity=V,this},setFrequency:function(V,K){return this.frequency=V,this.flowCounter=V>0?V:0,K&&(this.quantity=K),this},addDeathZone:function(V){Array.isArray(V)||(V=[V]);for(var K,Q=[],_=0;_<V.length;_++)if(K=V[_],K instanceof l)Q.push(K);else if(typeof K.contains=="function")K=new l(K,!0),Q.push(K);else{var tt=g(K,"type","onEnter"),rt=g(K,"source",null);if(rt&&typeof rt.contains=="function"){var ot=tt==="onEnter";K=new l(rt,ot),Q.push(K)}}return this.deathZones=this.deathZones.concat(Q),Q},removeDeathZone:function(V){return k(this.deathZones,V),this},clearDeathZones:function(){return this.deathZones.length=0,this},addEmitZone:function(V){Array.isArray(V)||(V=[V]);for(var K,Q=[],_=0;_<V.length;_++)if(K=V[_],K instanceof G||K instanceof a)Q.push(K);else{var tt=g(K,"source",null);if(tt){var rt=g(K,"type","random");if(rt==="random"&&typeof tt.getRandomPoint=="function")K=new G(tt),Q.push(K);else if(rt==="edge"&&typeof tt.getPoints=="function"){var ot=g(K,"quantity",1),ft=g(K,"stepRate",0),ct=g(K,"yoyo",!1),gt=g(K,"seamless",!0),xt=g(K,"total",-1);K=new a(tt,ot,ft,ct,gt,xt),Q.push(K)}}}return this.emitZones=this.emitZones.concat(Q),Q},removeEmitZone:function(V){return k(this.emitZones,V),this.zoneIndex=0,this},clearEmitZones:function(){return this.emitZones.length=0,this.zoneIndex=0,this},getEmitZone:function(V){var K=this.emitZones,Q=K.length;if(Q!==0){var _=K[this.zoneIndex];_.getPoint(V),_.total>-1&&(this.zoneTotal++,this.zoneTotal===_.total&&(this.zoneTotal=0,this.zoneIndex++,this.zoneIndex===Q&&(this.zoneIndex=0)))}},getDeathZone:function(V){for(var K=this.deathZones,Q=0;Q<K.length;Q++){var _=K[Q];if(_.willKill(V))return this.emit(u.DEATH_ZONE,this,V,_),!0}return!1},setEmitZone:function(V){var K;return isFinite(V)?K=V:K=this.emitZones.indexOf(V),K>=0&&(this.zoneIndex=K),this},addParticleProcessor:function(V){return this.processors.exists(V)||(V.emitter&&V.emitter.removeParticleProcessor(V),this.processors.add(V),V.emitter=this),V},removeParticleProcessor:function(V){return this.processors.exists(V)&&(this.processors.remove(V,!0),V.emitter=null),V},getProcessors:function(){return this.processors.getAll("active",!0)},createGravityWell:function(V){return this.addParticleProcessor(new y(V))},reserve:function(V){var K=this.dead;if(this.maxParticles>0){var Q=this.getParticleCount();Q+V>this.maxParticles&&(V=this.maxParticles-(Q+V))}for(var _=0;_<V;_++)K.push(new this.particleClass(this));return this},getAliveParticleCount:function(){return this.alive.length},getDeadParticleCount:function(){return this.dead.length},getParticleCount:function(){return this.getAliveParticleCount()+this.getDeadParticleCount()},atLimit:function(){return this.maxParticles>0&&this.getParticleCount()>=this.maxParticles?!0:this.maxAliveParticles>0&&this.getAliveParticleCount()>=this.maxAliveParticles},onParticleEmit:function(V,K){return V===void 0?(this.emitCallback=null,this.emitCallbackScope=null):typeof V=="function"&&(this.emitCallback=V,K&&(this.emitCallbackScope=K)),this},onParticleDeath:function(V,K){return V===void 0?(this.deathCallback=null,this.deathCallbackScope=null):typeof V=="function"&&(this.deathCallback=V,K&&(this.deathCallbackScope=K)),this},killAll:function(){for(var V=this.dead,K=this.alive;K.length>0;)V.push(K.pop());return this},forEachAlive:function(V,K){for(var Q=this.alive,_=Q.length,tt=0;tt<_;tt++)V.call(K,Q[tt],this);return this},forEachDead:function(V,K){for(var Q=this.dead,_=Q.length,tt=0;tt<_;tt++)V.call(K,Q[tt],this);return this},start:function(V,K){return V===void 0&&(V=0),this.emitting||(V>0&&this.fastForward(V),this.emitting=!0,this.resetCounters(this.frequency,!0),K!==void 0&&(this.duration=Math.abs(K)),this.emit(u.START,this)),this},stop:function(V){return V===void 0&&(V=!1),this.emitting&&(this.emitting=!1,V&&this.killAll(),this.emit(u.STOP,this)),this},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},setSortProperty:function(V,K){return V===void 0&&(V=""),K===void 0&&(K=this.true),this.sortProperty=V,this.sortOrderAsc=K,this.sortCallback=this.depthSortCallback,this},setSortCallback:function(V){return this.sortProperty!==""?V=this.depthSortCallback:V=null,this.sortCallback=V,this},depthSort:function(){return H(this.alive,this.sortCallback.bind(this)),this},depthSortCallback:function(V,K){var Q=this.sortProperty;return this.sortOrderAsc?V[Q]-K[Q]:K[Q]-V[Q]},flow:function(V,K,Q){return K===void 0&&(K=1),this.emitting=!1,this.frequency=V,this.quantity=K,Q!==void 0&&(this.stopAfter=Q),this.start()},explode:function(V,K,Q){this.frequency=-1,this.resetCounters(-1,!0);var _=this.emitParticle(V,K,Q);return this.emit(u.EXPLODE,this,_),_},emitParticleAt:function(V,K,Q){return this.emitParticle(Q,V,K)},emitParticle:function(V,K,Q){if(!this.atLimit()){V===void 0&&(V=this.ops.quantity.onEmit());for(var _=this.dead,tt=this.stopAfter,rt=this.follow?this.follow.x+this.followOffset.x:K,ot=this.follow?this.follow.y+this.followOffset.y:Q,ft=0;ft<V;ft++){var ct=_.pop();if(ct||(ct=new this.particleClass(this)),ct.fire(rt,ot)?(this.particleBringToTop?this.alive.push(ct):this.alive.unshift(ct),this.emitCallback&&this.emitCallback.call(this.emitCallbackScope,ct,this)):this.dead.push(ct),tt>0&&(this.stopCounter++,this.stopCounter>=tt)||this.atLimit())break}return ct}},fastForward:function(V,K){K===void 0&&(K=1e3/60);var Q=0;for(this.skipping=!0;Q<Math.abs(V);)this.preUpdate(0,K),Q+=K;return this.skipping=!1,this},preUpdate:function(V,K){K*=this.timeScale;var Q=K/1e3;this.trackVisible&&(this.visible=this.follow.visible),this.getWorldTransformMatrix(this.worldMatrix);var _=this.getProcessors(),tt=this.alive,rt=this.dead,ot=0,ft=[],ct=tt.length;for(ot=0;ot<ct;ot++){var gt=tt[ot];gt.update(K,Q,_)&&ft.push({index:ot,particle:gt})}if(ct=ft.length,ct>0){var xt=this.deathCallback,wt=this.deathCallbackScope;for(ot=ct-1;ot>=0;ot--){var Tt=ft[ot];tt.splice(Tt.index,1),rt.push(Tt.particle),xt&&xt.call(wt,Tt.particle),Tt.particle.setPosition()}}if(!this.emitting&&!this.skipping){this.completeFlag===1&&tt.length===0&&(this.completeFlag=0,this.emit(u.COMPLETE,this));return}if(this.frequency===0)this.emitParticle();else if(this.frequency>0)for(this.flowCounter-=K;this.flowCounter<=0;)this.emitParticle(),this.flowCounter+=this.frequency;this.skipping||(this.duration>0&&(this.elapsed+=K,this.elapsed>=this.duration&&this.stop()),this.stopAfter>0&&this.stopCounter>=this.stopAfter&&this.stop())},overlap:function(V){for(var K=this.getWorldTransformMatrix(),Q=this.alive,_=Q.length,tt=[],rt=0;rt<_;rt++){var ot=Q[rt];B(V,ot.getBounds(K))&&tt.push(ot)}return tt},getBounds:function(V,K,Q,_){V===void 0&&(V=0),K===void 0&&(K=0),Q===void 0&&(Q=1e3/60),_===void 0&&(_=new I);var tt=this.getWorldTransformMatrix(),rt,ot,ft=this.alive,ct=!1;if(_.setTo(0,0,0,0),K>0){var gt=0;for(this.skipping=!0;gt<Math.abs(K);){for(this.preUpdate(0,Q),rt=0;rt<ft.length;rt++)ot=ft[rt].getBounds(tt),ct?R(_,ot):(ct=!0,h(ot,_));gt+=Q}this.skipping=!1}else for(rt=0;rt<ft.length;rt++)ot=ft[rt].getBounds(tt),ct?R(_,ot):(ct=!0,h(ot,_));return V>0&&w(_,V,V),_},createEmitter:function(){throw new Error("createEmitter removed. See ParticleEmitter docs for info")},particleX:{get:function(){return this.ops.x.current},set:function(V){this.ops.x.onChange(V)}},particleY:{get:function(){return this.ops.y.current},set:function(V){this.ops.y.onChange(V)}},accelerationX:{get:function(){return this.ops.accelerationX.current},set:function(V){this.ops.accelerationX.onChange(V)}},accelerationY:{get:function(){return this.ops.accelerationY.current},set:function(V){this.ops.accelerationY.onChange(V)}},maxVelocityX:{get:function(){return this.ops.maxVelocityX.current},set:function(V){this.ops.maxVelocityX.onChange(V)}},maxVelocityY:{get:function(){return this.ops.maxVelocityY.current},set:function(V){this.ops.maxVelocityY.onChange(V)}},speed:{get:function(){return this.ops.speedX.current},set:function(V){this.ops.speedX.onChange(V),this.ops.speedY.onChange(V)}},speedX:{get:function(){return this.ops.speedX.current},set:function(V){this.ops.speedX.onChange(V)}},speedY:{get:function(){return this.ops.speedY.current},set:function(V){this.ops.speedY.onChange(V)}},moveToX:{get:function(){return this.ops.moveToX.current},set:function(V){this.ops.moveToX.onChange(V)}},moveToY:{get:function(){return this.ops.moveToY.current},set:function(V){this.ops.moveToY.onChange(V)}},bounce:{get:function(){return this.ops.bounce.current},set:function(V){this.ops.bounce.onChange(V)}},particleScaleX:{get:function(){return this.ops.scaleX.current},set:function(V){this.ops.scaleX.onChange(V)}},particleScaleY:{get:function(){return this.ops.scaleY.current},set:function(V){this.ops.scaleY.onChange(V)}},particleColor:{get:function(){return this.ops.color.current},set:function(V){this.ops.color.onChange(V)}},colorEase:{get:function(){return this.ops.color.easeName},set:function(V){this.ops.color.setEase(V)}},particleTint:{get:function(){return this.ops.tint.current},set:function(V){this.ops.tint.onChange(V)}},particleAlpha:{get:function(){return this.ops.alpha.current},set:function(V){this.ops.alpha.onChange(V)}},lifespan:{get:function(){return this.ops.lifespan.current},set:function(V){this.ops.lifespan.onChange(V)}},particleAngle:{get:function(){return this.ops.angle.current},set:function(V){this.ops.angle.onChange(V)}},particleRotate:{get:function(){return this.ops.rotate.current},set:function(V){this.ops.rotate.onChange(V)}},quantity:{get:function(){return this.ops.quantity.current},set:function(V){this.ops.quantity.onChange(V)}},delay:{get:function(){return this.ops.delay.current},set:function(V){this.ops.delay.onChange(V)}},hold:{get:function(){return this.ops.hold.current},set:function(V){this.ops.hold.onChange(V)}},flowCounter:{get:function(){return this.counters[0]},set:function(V){this.counters[0]=V}},frameCounter:{get:function(){return this.counters[1]},set:function(V){this.counters[1]=V}},animCounter:{get:function(){return this.counters[2]},set:function(V){this.counters[2]=V}},elapsed:{get:function(){return this.counters[3]},set:function(V){this.counters[3]=V}},stopCounter:{get:function(){return this.counters[4]},set:function(V){this.counters[4]=V}},completeFlag:{get:function(){return this.counters[5]},set:function(V){this.counters[5]=V}},zoneIndex:{get:function(){return this.counters[6]},set:function(V){this.counters[6]=V}},zoneTotal:{get:function(){return this.counters[7]},set:function(V){this.counters[7]=V}},currentFrame:{get:function(){return this.counters[8]},set:function(V){this.counters[8]=V}},currentAnim:{get:function(){return this.counters[9]},set:function(V){this.counters[9]=V}},preDestroy:function(){this.texture=null,this.frames=null,this.anims=null,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.emitZones=null,this.deathZones=null,this.bounds=null,this.follow=null,this.counters=null;var V,K=this.ops;for(V=0;V<$.length;V++){var Q=$[V];K[Q].destroy()}for(V=0;V<this.alive.length;V++)this.alive[V].destroy();for(V=0;V<this.dead.length;V++)this.dead[V].destroy();this.ops=null,this.alive=[],this.dead=[],this.worldMatrix.destroy()}});n.exports=z},9871:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(59996),x=r(61340),d=new x,h=new x,l=new x,a=new x,f=function(c,u,v,g){var m=d,y=h,C=l,P=a;g?(P.loadIdentity(),P.multiply(g),P.translate(u.x,u.y),P.rotate(u.rotation),P.scale(u.scaleX,u.scaleY)):P.applyITRS(u.x,u.y,u.rotation,u.scaleX,u.scaleY);var w=c.currentContext,M=v.roundPixels,R=v.alpha,A=u.alpha,L=u.alive,F=L.length,G=u.viewBounds;if(!(!u.visible||F===0||G&&!o(G,v.worldView))){u.sortCallback&&u.depthSort(),v.addToRenderList(u);var I=u.scrollFactorX,B=u.scrollFactorY;w.save(),w.globalCompositeOperation=c.blendModes[u.blendMode];for(var k=0;k<F;k++){var U=L[k],H=U.alpha*A*R;if(!(H<=0||U.scaleX===0||U.scaleY===0)){C.applyITRS(U.x,U.y,U.rotation,U.scaleX,U.scaleY),m.copyFrom(v.matrix),m.multiplyWithOffset(P,-v.scrollX*I,-v.scrollY*B),C.e=U.x,C.f=U.y,m.multiply(C,y);var X=U.frame,j=X.canvasData;if(j.width>0&&j.height>0){var J=-X.halfWidth,Y=-X.halfHeight;w.globalAlpha=H,w.save(),y.setToContext(w),M&&(J=Math.round(J),Y=Math.round(Y)),w.imageSmoothingEnabled=!X.source.scaleMode,w.drawImage(X.source.image,j.x,j.y,j.width,j.height,J,Y,j.width,j.height),w.restore()}}}w.restore()}};n.exports=f},92730:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(25305),x=r(44603),d=r(23568),h=r(95540),l=r(31600);x.register("particles",function(a,f){a===void 0&&(a={});var c=d(a,"key",null),u=h(a,"config",null),v=new l(this.scene,0,0,c);return f!==void 0&&(a.add=f),o(this.scene,v,a),u&&v.setConfig(u),v})},676:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(39429),x=r(31600);o.register("particles",function(d,h,l,a){return d!==void 0&&typeof d=="string"&&console.warn("ParticleEmitterManager was removed in Phaser 3.60. See documentation for details"),this.displayList.add(new x(this.scene,d,h,l,a))})},90668:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),x=o,d=o;x=r(21188),d=r(9871),n.exports={renderWebGL:x,renderCanvas:d}},21188:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(59996),x=r(61340),d=r(70554),h=new x,l=new x,a=new x,f=new x,c=function(u,v,g,m){var y=u.pipelines.set(v.pipeline),C=h,P=l,w=a,M=f;m?(M.loadIdentity(),M.multiply(m),M.translate(v.x,v.y),M.rotate(v.rotation),M.scale(v.scaleX,v.scaleY)):M.applyITRS(v.x,v.y,v.rotation,v.scaleX,v.scaleY);var R=d.getTintAppendFloatAlpha,A=g.alpha,L=v.alpha;u.pipelines.preBatch(v);var F=v.alive,G=F.length,I=v.viewBounds;if(!(G===0||I&&!o(I,g.worldView))){v.sortCallback&&v.depthSort(),g.addToRenderList(v),C.copyFrom(g.matrix),C.multiplyWithOffset(M,-g.scrollX*v.scrollFactorX,-g.scrollY*v.scrollFactorY),u.setBlendMode(v.blendMode),v.mask&&(v.mask.preRenderWebGL(u,v,g),u.pipelines.set(v.pipeline));for(var B=v.tintFill,k,U,H=0;H<G;H++){var X=F[H],j=X.alpha*L*A;if(!(j<=0||X.scaleX===0||X.scaleY===0)){w.applyITRS(X.x,X.y,X.rotation,X.scaleX,X.scaleY),w.e=X.x,w.f=X.y,C.multiply(w,P);var J=X.frame;J.glTexture!==U&&(U=J.glTexture,k=y.setGameObject(v,J));var Y=-J.halfWidth,$=-J.halfHeight,z=P.setQuad(Y,$,Y+J.width,$+J.height),V=R(X.tint,j);y.shouldFlush(6)&&(y.flush(),k=y.setGameObject(v,J)),y.batchQuad(v,z[0],z[1],z[2],z[3],z[4],z[5],z[6],z[7],J.u0,J.v0,J.u1,J.v1,V,V,V,V,B,U,k)}}v.mask&&v.mask.postRenderWebGL(u,g),u.pipelines.postBatch(v)}};n.exports=c},20286:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=new o({initialize:function(h,l,a){h===void 0&&(h=0),l===void 0&&(l=0),a===void 0&&(a=!0),this.emitter,this.x=h,this.y=l,this.active=a},update:function(){},destroy:function(){this.emitter=null}});n.exports=x},9774:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="complete"},812:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="deathzone"},30522:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="explode"},96695:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="start"},18677:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="stop"},20696:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={COMPLETE:r(9774),DEATH_ZONE:r(812),EXPLODE:r(30522),START:r(96695),STOP:r(18677)}},18404:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={EmitterColorOp:r(76472),EmitterOp:r(44777),Events:r(20696),GravityWell:r(24502),Particle:r(56480),ParticleBounds:r(69601),ParticleEmitter:r(31600),ParticleProcessor:r(20286),Zones:r(21024)}},26388:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=new o({initialize:function(h,l){this.source=h,this.killOnEnter=l},willKill:function(d){var h=d.worldPosition,l=this.source.contains(h.x,h.y);return l&&this.killOnEnter||!l&&!this.killOnEnter}});n.exports=x},19909:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=new o({initialize:function(h,l,a,f,c,u){f===void 0&&(f=!1),c===void 0&&(c=!0),u===void 0&&(u=-1),this.source=h,this.points=[],this.quantity=l,this.stepRate=a,this.yoyo=f,this.counter=-1,this.seamless=c,this._length=0,this._direction=0,this.total=u,this.updateSource()},updateSource:function(){if(this.points=this.source.getPoints(this.quantity,this.stepRate),this.seamless){var d=this.points[0],h=this.points[this.points.length-1];d.x===h.x&&d.y===h.y&&this.points.pop()}var l=this._length;return this._length=this.points.length,this._length<l&&this.counter>this._length&&(this.counter=this._length-1),this},changeSource:function(d){return this.source=d,this.updateSource()},getPoint:function(d){this._direction===0?(this.counter++,this.counter>=this._length&&(this.yoyo?(this._direction=1,this.counter=this._length-1):this.counter=0)):(this.counter--,this.counter===-1&&(this.yoyo?(this._direction=0,this.counter=0):this.counter=this._length-1));var h=this.points[this.counter];h&&(d.x=h.x,d.y=h.y)}});n.exports=x},68875:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(26099),d=new o({initialize:function(l){this.source=l,this._tempVec=new x,this.total=-1},getPoint:function(h){var l=this._tempVec;this.source.getRandomPoint(l),h.x=l.x,h.y=l.y}});n.exports=d},21024:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={DeathZone:r(26388),EdgeZone:r(19909),RandomZone:r(68875)}},1159:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(31401),d=r(68287),h=new o({Extends:d,Mixins:[x.PathFollower],initialize:function(a,f,c,u,v,g){d.call(this,a,c,u,v,g),this.path=f},preUpdate:function(l,a){this.anims.update(l,a),this.pathUpdate(l)}});n.exports=h},90145:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(39429),x=r(1159);o.register("follower",function(d,h,l,a,f){var c=new x(this.scene,d,h,l,a,f);return this.displayList.add(c),this.updateList.add(c),c})},33663:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(9674),x=r(83419),d=r(48803),h=r(90664),l=r(4703),a=r(45650),f=new x({Extends:l,initialize:function(u,v,g,m,y,C,P,w){m||(m="__DEFAULT"),l.call(this,u,v,g,m,y),this.type="Plane",this.anims=new o(this),this.gridWidth,this.gridHeight,this.isTiled,this._checkerboard=null,this.hideCCW=!1,this.setGridSize(C,P,w),this.setSizeToFrame(!1),this.setViewHeight()},originX:{get:function(){return .5}},originY:{get:function(){return .5}},setGridSize:function(c,u,v){c===void 0&&(c=8),u===void 0&&(u=8),v===void 0&&(v=!1);var g=!1;return v&&(g=!0),this.gridWidth=c,this.gridHeight=u,this.isTiled=v,this.clear(),d({mesh:this,widthSegments:c,heightSegments:u,isOrtho:!1,tile:v,flipY:g}),this},setSizeToFrame:function(c){c===void 0&&(c=!0);var u=this.frame;if(this.setPerspective(this.width/u.width,this.height/u.height),this._checkerboard&&this._checkerboard!==this.texture&&this.removeCheckerboard(),!c)return this;var v=this.gridWidth,g=this.gridHeight,m=this.vertices,y=u.u0,C=u.u1,P=u.v0,w=u.v1,M,R,A=0;if(this.isTiled)for(P=u.v1,w=u.v0,R=0;R<g;R++)for(M=0;M<v;M++)m[A++].setUVs(y,w),m[A++].setUVs(y,P),m[A++].setUVs(C,w),m[A++].setUVs(y,P),m[A++].setUVs(C,P),m[A++].setUVs(C,w);else{var L=v+1,F=g+1,G=C-y,I=w-P,B=[];for(R=0;R<F;R++)for(M=0;M<L;M++){var k=y+G*(M/v),U=P+I*(R/g);B.push(k,U)}for(R=0;R<g;R++)for(M=0;M<v;M++){var H=(M+L*R)*2,X=(M+L*(R+1))*2,j=(M+1+L*(R+1))*2,J=(M+1+L*R)*2;m[A++].setUVs(B[H],B[H+1]),m[A++].setUVs(B[X],B[X+1]),m[A++].setUVs(B[J],B[J+1]),m[A++].setUVs(B[X],B[X+1]),m[A++].setUVs(B[j],B[j+1]),m[A++].setUVs(B[J],B[J+1])}}return this},setViewHeight:function(c){c===void 0&&(c=this.frame.height);var u=this.fov*(Math.PI/180);this.viewPosition.z=this.height/c/Math.tan(u/2),this.dirtyCache[10]=1},createCheckerboard:function(c,u,v,g,m){c===void 0&&(c=16777215),u===void 0&&(u=255),v===void 0&&(v=255),g===void 0&&(g=255),m===void 0&&(m=128);for(var y=h(c),C=h(u),P=[],w=0;w<16;w++)for(var M=0;M<16;M++)w<8&&M<8||w>7&&M>7?P.push(y.r,y.g,y.b,v):P.push(C.r,C.g,C.b,g);var R=this.scene.sys.textures.addUint8Array(a(),new Uint8Array(P),16,16);return this.removeCheckerboard(),this.setTexture(R),this.setSizeToFrame(),this.setViewHeight(m),this},removeCheckerboard:function(){this._checkerboard&&(this._checkerboard.destroy(),this._checkerboard=null)},play:function(c,u){return this.anims.play(c,u)},playReverse:function(c,u){return this.anims.playReverse(c,u)},playAfterDelay:function(c,u){return this.anims.playAfterDelay(c,u)},playAfterRepeat:function(c,u){return this.anims.playAfterRepeat(c,u)},stop:function(){return this.anims.stop()},stopAfterDelay:function(c){return this.anims.stopAfterDelay(c)},stopAfterRepeat:function(c){return this.anims.stopAfterRepeat(c)},stopOnFrame:function(c){return this.anims.stopOnFrame(c)},preUpdate:function(c,u){l.prototype.preUpdate.call(this,c,u),this.anims.update(c,u)},preDestroy:function(){this.clear(),this.removeCheckerboard(),this.anims.destroy(),this.anims=void 0,this.debugCallback=null,this.debugGraphic=null}});n.exports=f},56015:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(25305),x=r(13059),d=r(44603),h=r(23568),l=r(35154),a=r(33663);d.register("plane",function(f,c){f===void 0&&(f={});var u=h(f,"key",null),v=h(f,"frame",null),g=l(f,"width",8),m=l(f,"height",8),y=l(f,"tile",!1),C=new a(this.scene,0,0,u,v,g,m,y);c!==void 0&&(f.add=c);var P=l(f,"checkerboard",null);if(P){var w=l(P,"color1",16777215),M=l(P,"color2",255),R=l(P,"alpha1",255),A=l(P,"alpha2",255),L=l(P,"height",128);C.createCheckerboard(w,M,R,A,L)}return o(this.scene,C,f),x(C,f),C})},30985:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(33663),x=r(39429);x.register("plane",function(d,h,l,a,f,c,u){return this.displayList.add(new o(this.scene,d,h,l,a,f,c,u))})},80321:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(31401),d=r(95643),h=r(30100),l=r(36060),a=r(67277),f=new o({Extends:d,Mixins:[x.AlphaSingle,x.BlendMode,x.Depth,x.Mask,x.Pipeline,x.PostPipeline,x.ScrollFactor,x.Transform,x.Visible,a],initialize:function(u,v,g,m,y,C,P){m===void 0&&(m=16777215),y===void 0&&(y=128),C===void 0&&(C=1),P===void 0&&(P=.1),d.call(this,u,"PointLight"),this.initPipeline(l.POINTLIGHT_PIPELINE),this.initPostPipeline(),this.setPosition(v,g),this.color=h(m),this.intensity=C,this.attenuation=P,this.width=y*2,this.height=y*2,this._radius=y},radius:{get:function(){return this._radius},set:function(c){this._radius=c,this.width=c*2,this.height=c*2}},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this._radius}},displayOriginY:{get:function(){return this._radius}}});n.exports=f},39829:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(25305),x=r(44603),d=r(23568),h=r(80321);x.register("pointlight",function(l,a){l===void 0&&(l={});var f=d(l,"color",16777215),c=d(l,"radius",128),u=d(l,"intensity",1),v=d(l,"attenuation",.1),g=new h(this.scene,0,0,f,c,u,v);return a!==void 0&&(l.add=a),o(this.scene,g,l),g})},71255:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(39429),x=r(80321);o.register("pointlight",function(d,h,l,a,f,c){return this.displayList.add(new x(this.scene,d,h,l,a,f,c))})},67277:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),x=o,d=o;x=r(57787),n.exports={renderWebGL:x,renderCanvas:d}},57787:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(91296),x=function(d,h,l,a){l.addToRenderList(h);var f=d.pipelines.set(h.pipeline),c=o(h,l,a).calc,u=h.width,v=h.height,g=-h._radius,m=-h._radius,y=g+u,C=m+v,P=c.getX(0,0),w=c.getY(0,0),M=c.getX(g,m),R=c.getY(g,m),A=c.getX(g,C),L=c.getY(g,C),F=c.getX(y,C),G=c.getY(y,C),I=c.getX(y,m),B=c.getY(y,m);d.pipelines.preBatch(h),f.batchPointLight(h,l,M,R,A,L,F,G,I,B,P,w),d.pipelines.postBatch(h)};n.exports=x},591:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(81320),d=r(88571),h=new o({Extends:d,initialize:function(a,f,c,u,v,g){f===void 0&&(f=0),c===void 0&&(c=0),u===void 0&&(u=32),v===void 0&&(v=32),g===void 0&&(g=!0);var m=new x(a.sys.textures,"",u,v,g);d.call(this,a,f,c,m),this.type="RenderTexture",this.camera=this.texture.camera,this._saved=!1},setSize:function(l,a){this.width=l,this.height=a,this.updateDisplayOrigin();var f=this.input;return f&&!f.customHitArea&&(f.hitArea.width=l,f.hitArea.height=a),this},resize:function(l,a,f){return this.texture.setSize(l,a,f),this.setSize(this.texture.width,this.texture.height),this},saveTexture:function(l){var a=this.texture;return a.key=l,a.manager.addDynamicTexture(a)&&(this._saved=!0),a},fill:function(l,a,f,c,u,v){return this.texture.fill(l,a,f,c,u,v),this},clear:function(){return this.texture.clear(),this},stamp:function(l,a,f,c,u){return this.texture.stamp(l,a,f,c,u),this},erase:function(l,a,f){return this.texture.erase(l,a,f),this},draw:function(l,a,f,c,u){return this.texture.draw(l,a,f,c,u),this},drawFrame:function(l,a,f,c,u,v){return this.texture.drawFrame(l,a,f,c,u,v),this},repeat:function(l,a,f,c,u,v,g,m,y){return this.texture.repeat(l,a,f,c,u,v,g,m,y),this},beginDraw:function(){return this.texture.beginDraw(),this},batchDraw:function(l,a,f,c,u){return this.texture.batchDraw(l,a,f,c,u),this},batchDrawFrame:function(l,a,f,c,u,v){return this.texture.batchDrawFrame(l,a,f,c,u,v),this},endDraw:function(l){return this.texture.endDraw(l),this},snapshotArea:function(l,a,f,c,u,v,g){return this.texture.snapshotArea(l,a,f,c,u,v,g),this},snapshot:function(l,a,f){return this.snapshotArea(0,0,this.width,this.height,l,a,f)},snapshotPixel:function(l,a,f){return this.snapshotArea(l,a,1,1,f,"pixel")},preDestroy:function(){this.camera=null,this._saved||this.texture.destroy()}});n.exports=h},34495:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(25305),x=r(44603),d=r(23568),h=r(591);x.register("renderTexture",function(l,a){l===void 0&&(l={});var f=d(l,"x",0),c=d(l,"y",0),u=d(l,"width",32),v=d(l,"height",32),g=new h(this.scene,f,c,u,v);return a!==void 0&&(l.add=a),o(this.scene,g,l),g})},60505:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(39429),x=r(591);o.register("renderTexture",function(d,h,l,a){return this.displayList.add(new x(this.scene,d,h,l,a))})},77757:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(9674),x=r(83419),d=r(31401),h=r(95643),l=r(36060),a=r(38745),f=r(26099),c=new x({Extends:h,Mixins:[d.AlphaSingle,d.BlendMode,d.Depth,d.Flip,d.Mask,d.Pipeline,d.PostPipeline,d.Size,d.Texture,d.Transform,d.Visible,d.ScrollFactor,a],initialize:function(v,g,m,y,C,P,w,M,R){y===void 0&&(y="__DEFAULT"),P===void 0&&(P=2),w===void 0&&(w=!0),h.call(this,v,"Rope"),this.anims=new o(this),this.points=P,this.vertices,this.uv,this.colors,this.alphas,this.tintFill=y==="__DEFAULT",this.dirty=!1,this.horizontal=w,this._flipX=!1,this._flipY=!1,this._perp=new f,this.debugCallback=null,this.debugGraphic=null,this.setTexture(y,C),this.setPosition(g,m),this.setSizeToFrame(),this.initPipeline(l.ROPE_PIPELINE),this.initPostPipeline(),Array.isArray(P)&&this.resizeArrays(P.length),this.setPoints(P,M,R),this.updateVertices()},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(u,v){var g=this.anims.currentFrame;this.anims.update(u,v),this.anims.currentFrame!==g&&(this.updateUVs(),this.updateVertices())},play:function(u,v,g){return this.anims.play(u,v,g),this},setDirty:function(){return this.dirty=!0,this},setHorizontal:function(u,v,g){return u===void 0&&(u=this.points.length),this.horizontal?this:(this.horizontal=!0,this.setPoints(u,v,g))},setVertical:function(u,v,g){return u===void 0&&(u=this.points.length),this.horizontal?(this.horizontal=!1,this.setPoints(u,v,g)):this},setTintFill:function(u){return u===void 0&&(u=!1),this.tintFill=u,this},setAlphas:function(u,v){var g=this.points.length;if(g<1)return this;var m=this.alphas;u===void 0?u=[1]:!Array.isArray(u)&&v===void 0&&(u=[u]);var y,C=0;if(v!==void 0)for(y=0;y<g;y++)C=y*2,m[C]=u,m[C+1]=v;else if(u.length===g)for(y=0;y<g;y++)C=y*2,m[C]=u[y],m[C+1]=u[y];else{var P=u[0];for(y=0;y<g;y++)C=y*2,u.length>C&&(P=u[C]),m[C]=P,u.length>C+1&&(P=u[C+1]),m[C+1]=P}return this},setColors:function(u){var v=this.points.length;if(v<1)return this;var g=this.colors;u===void 0?u=[16777215]:Array.isArray(u)||(u=[u]);var m,y=0;if(u.length===v)for(m=0;m<v;m++)y=m*2,g[y]=u[m],g[y+1]=u[m];else{var C=u[0];for(m=0;m<v;m++)y=m*2,u.length>y&&(C=u[y]),g[y]=C,u.length>y+1&&(C=u[y+1]),g[y+1]=C}return this},setPoints:function(u,v,g){if(u===void 0&&(u=2),typeof u=="number"){var m=u;m<2&&(m=2),u=[];var y,C,P;if(this.horizontal)for(P=-this.frame.halfWidth,C=this.frame.width/(m-1),y=0;y<m;y++)u.push({x:P+y*C,y:0});else for(P=-this.frame.halfHeight,C=this.frame.height/(m-1),y=0;y<m;y++)u.push({x:0,y:P+y*C})}var w=u.length,M=this.points.length;return w<1?(console.warn("Rope: Not enough points given"),this):(w===1&&(u.unshift({x:0,y:0}),w++),M!==w&&this.resizeArrays(w),this.dirty=!0,this.points=u,this.updateUVs(),v!=null&&this.setColors(v),g!=null&&this.setAlphas(g),this)},updateUVs:function(){for(var u=this.uv,v=this.points.length,g=this.frame.u0,m=this.frame.v0,y=this.frame.u1,C=this.frame.v1,P=(y-g)/(v-1),w=(C-m)/(v-1),M=0;M<v;M++){var R=M*4,A,L,F,G;this.horizontal?(this._flipX?(A=y-M*P,F=y-M*P):(A=g+M*P,F=g+M*P),this._flipY?(L=C,G=m):(L=m,G=C)):(this._flipX?(A=g,F=y):(A=y,F=g),this._flipY?(L=C-M*w,G=C-M*w):(L=m+M*w,G=m+M*w)),u[R+0]=A,u[R+1]=L,u[R+2]=F,u[R+3]=G}return this},resizeArrays:function(u){var v=this.colors,g=this.alphas;this.vertices=new Float32Array(u*4),this.uv=new Float32Array(u*4),v=new Uint32Array(u*2),g=new Float32Array(u*2);for(var m=0;m<u*2;m++)v[m]=16777215,g[m]=1;return this.colors=v,this.alphas=g,this.dirty=!0,this},updateVertices:function(){var u=this._perp,v=this.points,g=this.vertices,m=v.length;if(this.dirty=!1,!(m<1)){for(var y,C=v[0],P=this.horizontal?this.frame.halfHeight:this.frame.halfWidth,w=0;w<m;w++){var M=v[w],R=w*4;w<m-1?y=v[w+1]:y=M,u.x=y.y-C.y,u.y=-(y.x-C.x);var A=u.length();u.x/=A,u.y/=A,u.x*=P,u.y*=P,g[R]=M.x+u.x,g[R+1]=M.y+u.y,g[R+2]=M.x-u.x,g[R+3]=M.y-u.y,C=M}return this}},setDebug:function(u,v){return this.debugGraphic=u,!u&&!v?this.debugCallback=null:v?this.debugCallback=v:this.debugCallback=this.renderDebugVerts,this},renderDebugVerts:function(u,v,g){var m=u.debugGraphic,y=g[0],C=g[1],P=g[2],w=g[3];m.lineBetween(y,C,P,w);for(var M=4;M<v;M+=4){var R=g[M+0],A=g[M+1],L=g[M+2],F=g[M+3];m.lineBetween(y,C,R,A),m.lineBetween(P,w,L,F),m.lineBetween(P,w,R,A),m.lineBetween(R,A,L,F),y=R,C=A,P=L,w=F}},preDestroy:function(){this.anims.destroy(),this.anims=void 0,this.points=null,this.vertices=null,this.uv=null,this.colors=null,this.alphas=null,this.debugCallback=null,this.debugGraphic=null},flipX:{get:function(){return this._flipX},set:function(u){return this._flipX=u,this.updateUVs()}},flipY:{get:function(){return this._flipY},set:function(u){return this._flipY=u,this.updateUVs()}}});n.exports=c},95262:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(){};n.exports=T},26209:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(25305),x=r(44603),d=r(23568),h=r(35154),l=r(77757);x.register("rope",function(a,f){a===void 0&&(a={});var c=d(a,"key",null),u=d(a,"frame",null),v=d(a,"horizontal",!0),g=h(a,"points",void 0),m=h(a,"colors",void 0),y=h(a,"alphas",void 0),C=new l(this.scene,0,0,c,u,g,v,m,y);return f!==void 0&&(a.add=f),o(this.scene,C,a),C})},96819:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(77757),x=r(39429);x.register("rope",function(d,h,l,a,f,c,u,v){return this.displayList.add(new o(this.scene,d,h,l,a,f,c,u,v))})},38745:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),x=o,d=o;x=r(20439),d=r(95262),n.exports={renderWebGL:x,renderCanvas:d}},20439:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(91296),x=r(70554),d=function(h,l,a,f){a.addToRenderList(l);var c=h.pipelines.set(l.pipeline,l),u=o(l,a,f).calc,v=l.vertices,g=l.uv,m=l.colors,y=l.alphas,C=l.alpha,P=x.getTintAppendFloatAlpha,w=a.roundPixels,M=v.length,R=Math.floor(M*.5);c.flush(),h.pipelines.preBatch(l);var A=c.setGameObject(l),L=c.vertexViewF32,F=c.vertexViewU32,G=c.vertexCount*c.currentShader.vertexComponentCount-1,I=0,B=l.tintFill;l.dirty&&l.updateVertices();for(var k=l.debugCallback,U=[],H=0;H<M;H+=2){var X=v[H+0],j=v[H+1],J=X*u.a+j*u.c+u.e,Y=X*u.b+j*u.d+u.f;w&&(J=Math.round(J),Y=Math.round(Y)),L[++G]=J,L[++G]=Y,L[++G]=g[H+0],L[++G]=g[H+1],L[++G]=A,L[++G]=B,F[++G]=P(m[I],a.alpha*(y[I]*C)),I++,k&&(U[H+0]=J,U[H+1]=Y)}k&&k.call(l,l,M,U),c.vertexCount+=R,c.currentBatch.count=c.vertexCount-c.currentBatch.start,h.pipelines.postBatch(l)};n.exports=d},20071:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(31401),d=r(95643),h=r(95540),l=r(79291),a=r(61622),f=r(25479),c=r(61340),u=r(95428),v=r(92503),g=new o({Extends:d,Mixins:[x.ComputedSize,x.Depth,x.GetBounds,x.Mask,x.Origin,x.ScrollFactor,x.Transform,x.Visible,f],initialize:function(y,C,P,w,M,R,A,L){P===void 0&&(P=0),w===void 0&&(w=0),M===void 0&&(M=128),R===void 0&&(R=128),d.call(this,y,"Shader"),this.blendMode=-1,this.shader;var F=y.sys.renderer;this.renderer=F,this.gl=F.gl,this.vertexData=new ArrayBuffer(6*(Float32Array.BYTES_PER_ELEMENT*2)),this.vertexBuffer=F.createVertexBuffer(this.vertexData.byteLength,this.gl.STREAM_DRAW),this._deferSetShader=null,this._deferProjOrtho=null,this.program=null,this.bytes=new Uint8Array(this.vertexData),this.vertexViewF32=new Float32Array(this.vertexData),this._tempMatrix1=new c,this._tempMatrix2=new c,this._tempMatrix3=new c,this.viewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.uniforms={},this.pointer=null,this._rendererWidth=F.width,this._rendererHeight=F.height,this._textureCount=0,this.framebuffer=null,this.glTexture=null,this.renderToTexture=!1,this.texture=null,this.setPosition(P,w),this.setSize(M,R),this.setOrigin(.5,.5),this.setShader(C,A,L),this.renderer.on(v.RESTORE_WEBGL,this.onContextRestored,this)},willRender:function(m){return this.renderToTexture?!0:!(d.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&m.id)},setRenderToTexture:function(m,y){if(!this.renderToTexture){var C=this.width,P=this.height,w=this.renderer;this.glTexture=w.createTextureFromSource(null,C,P,0),this.framebuffer=w.createFramebuffer(C,P,this.glTexture,!1),this._rendererWidth=C,this._rendererHeight=P,this.renderToTexture=!0,this.projOrtho(0,this.width,this.height,0),m&&(this.texture=this.scene.sys.textures.addGLTexture(m,this.glTexture))}return this.shader&&(w.pipelines.clear(),this.load(),this.flush(),w.pipelines.rebind()),this},setShader:function(m,y,C){if(this.renderer.contextLost)return this._deferSetShader={key:m,textures:y,textureData:C},this;if(y===void 0&&(y=[]),typeof m=="string"){var P=this.scene.sys.cache.shader;if(!P.has(m))return console.warn("Shader missing: "+m),this;this.shader=P.get(m)}else this.shader=m;var w=this.gl,M=this.renderer;this.program&&M.deleteProgram(this.program);var R=M.createProgram(this.shader.vertexSrc,this.shader.fragmentSrc);w.uniformMatrix4fv(w.getUniformLocation(R.webGLProgram,"uViewMatrix"),!1,this.viewMatrix),w.uniformMatrix4fv(w.getUniformLocation(R.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),w.uniform2f(w.getUniformLocation(R.webGLProgram,"uResolution"),this.width,this.height),this.program=R;var A=new Date,L={resolution:{type:"2f",value:{x:this.width,y:this.height}},time:{type:"1f",value:0},mouse:{type:"2f",value:{x:this.width/2,y:this.height/2}},date:{type:"4fv",value:[A.getFullYear(),A.getMonth(),A.getDate(),A.getHours()*60*60+A.getMinutes()*60+A.getSeconds()]},sampleRate:{type:"1f",value:44100},iChannel0:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel1:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel2:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel3:{type:"sampler2D",value:null,textureData:{repeat:!0}}};this.shader.uniforms?this.uniforms=l(!0,{},this.shader.uniforms,L):this.uniforms=L;for(var F=0;F<4;F++)y[F]&&this.setSampler2D("iChannel"+F,y[F],F,C);return this.initUniforms(),this.projOrtho(0,this._rendererWidth,this._rendererHeight,0),this},setPointer:function(m){return this.pointer=m,this},projOrtho:function(m,y,C,P){if(this.renderer.contextLost){this._deferProjOrtho={left:m,right:y,bottom:C,top:P};return}var w=-1e3,M=1e3,R=1/(m-y),A=1/(C-P),L=1/(w-M),F=this.projectionMatrix;F[0]=-2*R,F[5]=-2*A,F[10]=2*L,F[12]=(m+y)*R,F[13]=(P+C)*A,F[14]=(M+w)*L;var G=this.program,I=this.gl,B=this.renderer;B.setProgram(G),I.uniformMatrix4fv(I.getUniformLocation(G.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),this._rendererWidth=y,this._rendererHeight=C},initUniforms:function(){var m=this.renderer.glFuncMap,y=this.program;this._textureCount=0;for(var C in this.uniforms){var P=this.uniforms[C],w=P.type,M=m[w];P.uniformLocation=this.renderer.createUniformLocation(y,C),w!=="sampler2D"&&(P.glMatrix=M.matrix,P.glValueLength=M.length,P.glFunc=M.func)}},setSampler2DBuffer:function(m,y,C,P,w,M){w===void 0&&(w=0),M===void 0&&(M={});var R=this.uniforms[m];return R.value=y,M.width=C,M.height=P,R.textureData=M,this._textureCount=w,this.initSampler2D(R),this},setSampler2D:function(m,y,C,P){C===void 0&&(C=0);var w=this.scene.sys.textures;if(w.exists(y)){var M=w.getFrame(y);if(M.glTexture&&M.glTexture.isRenderTexture)return this.setSampler2DBuffer(m,M.glTexture,M.width,M.height,C,P);var R=this.uniforms[m],A=M.source;R.textureKey=y,R.source=A.image,R.value=M.glTexture,A.isGLTexture&&(P||(P={}),P.width=A.width,P.height=A.height),P&&(R.textureData=P),this._textureCount=C,this.initSampler2D(R)}return this},setUniform:function(m,y){return a(this.uniforms,m,y),this},getUniform:function(m){return h(this.uniforms,m,null)},setChannel0:function(m,y){return this.setSampler2D("iChannel0",m,0,y)},setChannel1:function(m,y){return this.setSampler2D("iChannel1",m,1,y)},setChannel2:function(m,y){return this.setSampler2D("iChannel2",m,2,y)},setChannel3:function(m,y){return this.setSampler2D("iChannel3",m,3,y)},initSampler2D:function(m){if(m.value){var y=m.textureData;if(y&&!m.value.isRenderTexture){var C=this.gl,P=m.value,w=C[h(y,"magFilter","linear").toUpperCase()],M=C[h(y,"minFilter","linear").toUpperCase()],R=C[h(y,"wrapS","repeat").toUpperCase()],A=C[h(y,"wrapT","repeat").toUpperCase()],L=C[h(y,"format","rgba").toUpperCase()],F=h(y,"flipY",!1),G=h(y,"width",P.width),I=h(y,"height",P.height),B=h(y,"source",P.pixels);y.repeat&&(R=C.REPEAT,A=C.REPEAT),y.width&&(B=null),P.update(B,G,I,F,R,A,M,w,L)}this.renderer.setProgram(this.program),this._textureCount++}},syncUniforms:function(){var m=this.gl,y=this.uniforms,C,P,w,M,R,A=0;for(var L in y)C=y[L],w=C.glFunc,P=C.glValueLength,M=C.uniformLocation,R=C.value,R!==null&&(P===1?C.glMatrix?w.call(m,M.webGLUniformLocation,C.transpose,R):w.call(m,M.webGLUniformLocation,R):P===2?w.call(m,M.webGLUniformLocation,R.x,R.y):P===3?w.call(m,M.webGLUniformLocation,R.x,R.y,R.z):P===4?w.call(m,M.webGLUniformLocation,R.x,R.y,R.z,R.w):C.type==="sampler2D"&&(m.activeTexture(m.TEXTURE0+A),m.bindTexture(m.TEXTURE_2D,R.webGLTexture),m.uniform1i(M.webGLUniformLocation,A),A++))},load:function(m){var y=this.gl,C=this.width,P=this.height,w=this.renderer,M=this.program,R=this.viewMatrix;if(!this.renderToTexture){var A=-this._displayOriginX,L=-this._displayOriginY;R[0]=m[0],R[1]=m[1],R[4]=m[2],R[5]=m[3],R[8]=m[4],R[9]=m[5],R[12]=R[0]*A+R[4]*L,R[13]=R[1]*A+R[5]*L}y.useProgram(M.webGLProgram),y.uniformMatrix4fv(y.getUniformLocation(M.webGLProgram,"uViewMatrix"),!1,R),y.uniformMatrix4fv(y.getUniformLocation(M.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),y.uniform2f(y.getUniformLocation(M.webGLProgram,"uResolution"),this.width,this.height);var F=this.uniforms,G=F.resolution;G.value.x=C,G.value.y=P,F.time.value=w.game.loop.getDuration();var I=this.pointer;if(I){var B=F.mouse,k=I.x/C,U=1-I.y/P;B.value.x=k.toFixed(2),B.value.y=U.toFixed(2)}this.syncUniforms()},flush:function(){var m=this.width,y=this.height,C=this.program,P=this.gl,w=this.vertexBuffer,M=this.renderer,R=Float32Array.BYTES_PER_ELEMENT*2;this.renderToTexture&&(M.setFramebuffer(this.framebuffer),P.clearColor(0,0,0,0),P.clear(P.COLOR_BUFFER_BIT)),P.bindBuffer(P.ARRAY_BUFFER,w.webGLBuffer);var A=P.getAttribLocation(C.webGLProgram,"inPosition");A!==-1&&(P.enableVertexAttribArray(A),P.vertexAttribPointer(A,2,P.FLOAT,!1,R,0));var L=this.vertexViewF32;L[3]=y,L[4]=m,L[5]=y,L[8]=m,L[9]=y,L[10]=m;var F=6;P.bufferSubData(P.ARRAY_BUFFER,0,this.bytes.subarray(0,F*R)),P.drawArrays(P.TRIANGLES,0,F),this.renderToTexture&&M.setFramebuffer(null,!1)},setAlpha:function(){},setBlendMode:function(){},onContextRestored:function(){if(this._deferSetShader!==null){var m=this._deferSetShader.key,y=this._deferSetShader.textures,C=this._deferSetShader.textureData;this._deferSetShader=null,this.setShader(m,y,C)}if(this._deferProjOrtho!==null){var P=this._deferProjOrtho.left,w=this._deferProjOrtho.right,M=this._deferProjOrtho.bottom,R=this._deferProjOrtho.top;this._deferProjOrtho=null,this.projOrtho(P,w,M,R)}},preDestroy:function(){var m=this.renderer;m.off(v.RESTORE_WEBGL,this.onContextRestored,this),m.deleteProgram(this.program),m.deleteBuffer(this.vertexBuffer),this.renderToTexture&&(m.deleteFramebuffer(this.framebuffer),this.texture.destroy(),this.framebuffer=null,this.glTexture=null,this.texture=null),u(this.uniforms,function(y){m.deleteUniformLocation(y.uniformLocation),y.uniformLocation=null})}});n.exports=g},80464:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(){};n.exports=T},54935:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(25305),x=r(44603),d=r(23568),h=r(20071);x.register("shader",function(l,a){l===void 0&&(l={});var f=d(l,"key",null),c=d(l,"x",0),u=d(l,"y",0),v=d(l,"width",128),g=d(l,"height",128),m=new h(this.scene,f,c,u,v,g);return a!==void 0&&(l.add=a),o(this.scene,m,l),m})},74177:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(20071),x=r(39429);x.register("shader",function(d,h,l,a,f,c,u){return this.displayList.add(new o(this.scene,d,h,l,a,f,c,u))})},25479:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),x=o,d=o;x=r(19257),d=r(80464),n.exports={renderWebGL:x,renderCanvas:d}},19257:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(91296),x=function(d,h,l,a){if(h.shader){if(l.addToRenderList(h),d.pipelines.clear(),h.renderToTexture)h.load(),h.flush();else{var f=o(h,l,a).calc;(d.width!==h._rendererWidth||d.height!==h._rendererHeight)&&h.projOrtho(0,d.width,d.height,0),h.load(f.matrix),h.flush()}d.pipelines.rebind()}};n.exports=x},10441:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(70554),x=function(d,h,l,a,f,c){for(var u=o.getTintAppendFloatAlpha(l.fillColor,l.fillAlpha*a),v=l.pathData,g=l.pathIndexes,m=0;m<g.length;m+=3){var y=g[m]*2,C=g[m+1]*2,P=g[m+2]*2,w=v[y+0]-f,M=v[y+1]-c,R=v[C+0]-f,A=v[C+1]-c,L=v[P+0]-f,F=v[P+1]-c,G=h.getX(w,M),I=h.getY(w,M),B=h.getX(R,A),k=h.getY(R,A),U=h.getX(L,F),H=h.getY(L,F);d.batchTri(l,G,I,B,k,U,H,0,0,1,1,u,u,u,2)}};n.exports=x},65960:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d){var h=x||o.fillColor,l=d||o.fillAlpha,a=(h&16711680)>>>16,f=(h&65280)>>>8,c=h&255;r.fillStyle="rgba("+a+","+f+","+c+","+l+")"};n.exports=T},75177:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d){var h=x||o.strokeColor,l=d||o.strokeAlpha,a=(h&16711680)>>>16,f=(h&65280)>>>8,c=h&255;r.strokeStyle="rgba("+a+","+f+","+c+","+l+")",r.lineWidth=o.lineWidth};n.exports=T},17803:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(31401),d=r(95643),h=r(23031),l=new o({Extends:d,Mixins:[x.AlphaSingle,x.BlendMode,x.Depth,x.GetBounds,x.Mask,x.Origin,x.Pipeline,x.PostPipeline,x.ScrollFactor,x.Transform,x.Visible],initialize:function(f,c,u){c===void 0&&(c="Shape"),d.call(this,f,c),this.geom=u,this.pathData=[],this.pathIndexes=[],this.fillColor=16777215,this.fillAlpha=1,this.strokeColor=16777215,this.strokeAlpha=1,this.lineWidth=1,this.isFilled=!1,this.isStroked=!1,this.closePath=!0,this._tempLine=new h,this.width=0,this.height=0,this.initPipeline(),this.initPostPipeline()},setFillStyle:function(a,f){return f===void 0&&(f=1),a===void 0?this.isFilled=!1:(this.fillColor=a,this.fillAlpha=f,this.isFilled=!0),this},setStrokeStyle:function(a,f,c){return c===void 0&&(c=1),a===void 0?this.isStroked=!1:(this.lineWidth=a,this.strokeColor=f,this.strokeAlpha=c,this.isStroked=!0),this},setClosePath:function(a){return this.closePath=a,this},setSize:function(a,f){return this.width=a,this.height=f,this},setDisplaySize:function(a,f){return this.displayWidth=a,this.displayHeight=f,this},preDestroy:function(){this.geom=null,this._tempLine=null,this.pathData=[],this.pathIndexes=[]},displayWidth:{get:function(){return this.scaleX*this.width},set:function(a){this.scaleX=a/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(a){this.scaleY=a/this.height}}});n.exports=l},34682:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(70554),x=function(d,h,l,a,f){var c=d.strokeTint,u=o.getTintAppendFloatAlpha(h.strokeColor,h.strokeAlpha*l);c.TL=u,c.TR=u,c.BL=u,c.BR=u;var v=h.pathData,g=v.length-1,m=h.lineWidth,y=m/2,C=v[0]-a,P=v[1]-f;h.closePath||(g-=2);for(var w=2;w<g;w+=2){var M=v[w]-a,R=v[w+1]-f;d.batchLine(C,P,M,R,y,y,m,w-2,h.closePath?w===g-1:!1),C=M,P=R}};n.exports=x},23629:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(13609),x=r(83419),d=r(39506),h=r(94811),l=r(96503),a=r(36383),f=r(17803),c=new x({Extends:f,Mixins:[o],initialize:function(v,g,m,y,C,P,w,M,R){g===void 0&&(g=0),m===void 0&&(m=0),y===void 0&&(y=128),C===void 0&&(C=0),P===void 0&&(P=360),w===void 0&&(w=!1),f.call(this,v,"Arc",new l(0,0,y)),this._startAngle=C,this._endAngle=P,this._anticlockwise=w,this._iterations=.01,this.setPosition(g,m);var A=this.geom.radius*2;this.setSize(A,A),M!==void 0&&this.setFillStyle(M,R),this.updateDisplayOrigin(),this.updateData()},iterations:{get:function(){return this._iterations},set:function(u){this._iterations=u,this.updateData()}},radius:{get:function(){return this.geom.radius},set:function(u){this.geom.radius=u;var v=u*2;this.setSize(v,v),this.updateDisplayOrigin(),this.updateData()}},startAngle:{get:function(){return this._startAngle},set:function(u){this._startAngle=u,this.updateData()}},endAngle:{get:function(){return this._endAngle},set:function(u){this._endAngle=u,this.updateData()}},anticlockwise:{get:function(){return this._anticlockwise},set:function(u){this._anticlockwise=u,this.updateData()}},setRadius:function(u){return this.radius=u,this},setIterations:function(u){return u===void 0&&(u=.01),this.iterations=u,this},setStartAngle:function(u,v){return this._startAngle=u,v!==void 0&&(this._anticlockwise=v),this.updateData()},setEndAngle:function(u,v){return this._endAngle=u,v!==void 0&&(this._anticlockwise=v),this.updateData()},updateData:function(){var u=this._iterations,v=u,g=this.geom.radius,m=d(this._startAngle),y=d(this._endAngle),C=this._anticlockwise,P=g,w=g;y-=m,C?y<-a.PI2?y=-a.PI2:y>0&&(y=-a.PI2+y%a.PI2):y>a.PI2?y=a.PI2:y<0&&(y=a.PI2+y%a.PI2);for(var M=[P+Math.cos(m)*g,w+Math.sin(m)*g],R;v<1;)R=y*v+m,M.push(P+Math.cos(R)*g,w+Math.sin(R)*g),v+=u;return R=y+m,M.push(P+Math.cos(R)*g,w+Math.sin(R)*g),M.push(P+Math.cos(m)*g,w+Math.sin(m)*g),this.pathIndexes=h(M),this.pathData=M,this}});n.exports=c},42542:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(39506),x=r(65960),d=r(75177),h=r(20926),l=function(a,f,c,u){c.addToRenderList(f);var v=a.currentContext;if(h(a,v,f,c,u)){var g=f.radius;v.beginPath(),v.arc(g-f.originX*(g*2),g-f.originY*(g*2),g,o(f._startAngle),o(f._endAngle),f.anticlockwise),f.closePath&&v.closePath(),f.isFilled&&(x(v,f),v.fill()),f.isStroked&&(d(v,f),v.stroke()),v.restore()}};n.exports=l},42563:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(23629),x=r(39429);x.register("arc",function(d,h,l,a,f,c,u,v){return this.displayList.add(new o(this.scene,d,h,l,a,f,c,u,v))}),x.register("circle",function(d,h,l,a,f){return this.displayList.add(new o(this.scene,d,h,l,0,360,!1,a,f))})},13609:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),x=o,d=o;x=r(41447),d=r(42542),n.exports={renderWebGL:x,renderCanvas:d}},41447:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(91296),x=r(10441),d=r(34682),h=function(l,a,f,c){f.addToRenderList(a);var u=l.pipelines.set(a.pipeline),v=o(a,f,c),g=u.calcMatrix.copyFrom(v.calc),m=a._displayOriginX,y=a._displayOriginY,C=f.alpha*a.alpha;l.pipelines.preBatch(a),a.isFilled&&x(u,g,a,C,m,y),a.isStroked&&d(u,a,C,m,y),l.pipelines.postBatch(a)};n.exports=h},89:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(33141),d=r(94811),h=r(87841),l=r(17803),a=new o({Extends:l,Mixins:[x],initialize:function(c,u,v,g,m,y){u===void 0&&(u=0),v===void 0&&(v=0),l.call(this,c,"Curve",g),this._smoothness=32,this._curveBounds=new h,this.closePath=!1,this.setPosition(u,v),m!==void 0&&this.setFillStyle(m,y),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(f){this._smoothness=f,this.updateData()}},setSmoothness:function(f){return this._smoothness=f,this.updateData()},updateData:function(){var f=this._curveBounds,c=this._smoothness;this.geom.getBounds(f,c),this.setSize(f.width,f.height),this.updateDisplayOrigin();for(var u=[],v=this.geom.getPoints(c),g=0;g<v.length;g++)u.push(v[g].x,v[g].y);return u.push(v[0].x,v[0].y),this.pathIndexes=d(u),this.pathData=u,this}});n.exports=a},3170:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(65960),x=r(75177),d=r(20926),h=function(l,a,f,c){f.addToRenderList(a);var u=l.currentContext;if(d(l,u,a,f,c)){var v=a._displayOriginX+a._curveBounds.x,g=a._displayOriginY+a._curveBounds.y,m=a.pathData,y=m.length-1,C=m[0]-v,P=m[1]-g;u.beginPath(),u.moveTo(C,P),a.closePath||(y-=2);for(var w=2;w<y;w+=2){var M=m[w]-v,R=m[w+1]-g;u.lineTo(M,R)}a.closePath&&u.closePath(),a.isFilled&&(o(u,a),u.fill()),a.isStroked&&(x(u,a),u.stroke()),u.restore()}};n.exports=h},40511:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(39429),x=r(89);o.register("curve",function(d,h,l,a,f){return this.displayList.add(new x(this.scene,d,h,l,a,f))})},33141:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),x=o,d=o;x=r(53987),d=r(3170),n.exports={renderWebGL:x,renderCanvas:d}},53987:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(10441),x=r(91296),d=r(34682),h=function(l,a,f,c){f.addToRenderList(a);var u=l.pipelines.set(a.pipeline),v=x(a,f,c),g=u.calcMatrix.copyFrom(v.calc),m=a._displayOriginX+a._curveBounds.x,y=a._displayOriginY+a._curveBounds.y,C=f.alpha*a.alpha;l.pipelines.preBatch(a),a.isFilled&&o(u,g,a,C,m,y),a.isStroked&&d(u,a,C,m,y),l.pipelines.postBatch(a)};n.exports=h},19921:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(94811),d=r(54205),h=r(8497),l=r(17803),a=new o({Extends:l,Mixins:[d],initialize:function(c,u,v,g,m,y,C){u===void 0&&(u=0),v===void 0&&(v=0),g===void 0&&(g=128),m===void 0&&(m=128),l.call(this,c,"Ellipse",new h(g/2,m/2,g,m)),this._smoothness=64,this.setPosition(u,v),this.width=g,this.height=m,y!==void 0&&this.setFillStyle(y,C),this.updateDisplayOrigin(),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(f){this._smoothness=f,this.updateData()}},setSize:function(f,c){return this.width=f,this.height=c,this.geom.setPosition(f/2,c/2),this.geom.setSize(f,c),this.updateDisplayOrigin(),this.updateData()},setSmoothness:function(f){return this._smoothness=f,this.updateData()},updateData:function(){for(var f=[],c=this.geom.getPoints(this._smoothness),u=0;u<c.length;u++)f.push(c[u].x,c[u].y);return f.push(c[0].x,c[0].y),this.pathIndexes=x(f),this.pathData=f,this}});n.exports=a},7930:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(65960),x=r(75177),d=r(20926),h=function(l,a,f,c){f.addToRenderList(a);var u=l.currentContext;if(d(l,u,a,f,c)){var v=a._displayOriginX,g=a._displayOriginY,m=a.pathData,y=m.length-1,C=m[0]-v,P=m[1]-g;u.beginPath(),u.moveTo(C,P),a.closePath||(y-=2);for(var w=2;w<y;w+=2){var M=m[w]-v,R=m[w+1]-g;u.lineTo(M,R)}u.closePath(),a.isFilled&&(o(u,a),u.fill()),a.isStroked&&(x(u,a),u.stroke()),u.restore()}};n.exports=h},1543:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(19921),x=r(39429);x.register("ellipse",function(d,h,l,a,f,c){return this.displayList.add(new o(this.scene,d,h,l,a,f,c))})},54205:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),x=o,d=o;x=r(19467),d=r(7930),n.exports={renderWebGL:x,renderCanvas:d}},19467:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(10441),x=r(91296),d=r(34682),h=function(l,a,f,c){f.addToRenderList(a);var u=l.pipelines.set(a.pipeline),v=x(a,f,c),g=u.calcMatrix.copyFrom(v.calc),m=a._displayOriginX,y=a._displayOriginY,C=f.alpha*a.alpha;l.pipelines.preBatch(a),a.isFilled&&o(u,g,a,C,m,y),a.isStroked&&d(u,a,C,m,y),l.pipelines.postBatch(a)};n.exports=h},30479:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(17803),d=r(26015),h=new o({Extends:x,Mixins:[d],initialize:function(a,f,c,u,v,g,m,y,C,P,w){f===void 0&&(f=0),c===void 0&&(c=0),u===void 0&&(u=128),v===void 0&&(v=128),g===void 0&&(g=32),m===void 0&&(m=32),x.call(this,a,"Grid",null),this.cellWidth=g,this.cellHeight=m,this.showCells=!0,this.outlineFillColor=0,this.outlineFillAlpha=0,this.showOutline=!0,this.showAltCells=!1,this.altFillColor,this.altFillAlpha,this.setPosition(f,c),this.setSize(u,v),this.setFillStyle(y,C),P!==void 0&&this.setOutlineStyle(P,w),this.updateDisplayOrigin()},setFillStyle:function(l,a){return a===void 0&&(a=1),l===void 0?this.showCells=!1:(this.fillColor=l,this.fillAlpha=a,this.showCells=!0),this},setAltFillStyle:function(l,a){return a===void 0&&(a=1),l===void 0?this.showAltCells=!1:(this.altFillColor=l,this.altFillAlpha=a,this.showAltCells=!0),this},setOutlineStyle:function(l,a){return a===void 0&&(a=1),l===void 0?this.showOutline=!1:(this.outlineFillColor=l,this.outlineFillAlpha=a,this.showOutline=!0),this}});n.exports=h},49912:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(65960),x=r(75177),d=r(20926),h=function(l,a,f,c){f.addToRenderList(a);var u=l.currentContext;if(d(l,u,a,f,c)){var v=-a._displayOriginX,g=-a._displayOriginY,m=f.alpha*a.alpha,y=a.width,C=a.height,P=a.cellWidth,w=a.cellHeight,M=Math.ceil(y/P),R=Math.ceil(C/w),A=P,L=w,F=P-(M*P-y),G=w-(R*w-C),I=a.showCells,B=a.showAltCells,k=a.showOutline,U=0,H=0,X=0,j=0,J=0;if(k&&(A--,L--,F===P&&F--,G===w&&G--),I&&a.fillAlpha>0)for(o(u,a),H=0;H<R;H++)for(B&&(X=H%2),U=0;U<M;U++){if(B&&X){X=0;continue}X++,j=U<M-1?A:F,J=H<R-1?L:G,u.fillRect(v+U*P,g+H*w,j,J)}if(B&&a.altFillAlpha>0)for(o(u,a,a.altFillColor,a.altFillAlpha*m),H=0;H<R;H++)for(B&&(X=H%2),U=0;U<M;U++){if(B&&!X){X=1;continue}X=0,j=U<M-1?A:F,J=H<R-1?L:G,u.fillRect(v+U*P,g+H*w,j,J)}if(k&&a.outlineFillAlpha>0){for(x(u,a,a.outlineFillColor,a.outlineFillAlpha*m),U=1;U<M;U++){var Y=U*P;u.beginPath(),u.moveTo(Y+v,g),u.lineTo(Y+v,C+g),u.stroke()}for(H=1;H<R;H++){var $=H*w;u.beginPath(),u.moveTo(v,$+g),u.lineTo(v+y,$+g),u.stroke()}}u.restore()}};n.exports=h},34137:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(39429),x=r(30479);o.register("grid",function(d,h,l,a,f,c,u,v,g,m){return this.displayList.add(new x(this.scene,d,h,l,a,f,c,u,v,g,m))})},26015:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),x=o,d=o;x=r(46161),d=r(49912),n.exports={renderWebGL:x,renderCanvas:d}},46161:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(91296),x=r(70554),d=function(h,l,a,f){a.addToRenderList(l);var c=h.pipelines.set(l.pipeline),u=o(l,a,f),v=c.calcMatrix.copyFrom(u.calc);v.translate(-l._displayOriginX,-l._displayOriginY);var g=a.alpha*l.alpha,m=l.width,y=l.height,C=l.cellWidth,P=l.cellHeight,w=Math.ceil(m/C),M=Math.ceil(y/P),R=C,A=P,L=C-(w*C-m),F=P-(M*P-y),G,I,B=l.showCells,k=l.showAltCells,U=l.showOutline,H=0,X=0,j=0,J=0,Y=0;if(U&&(R--,A--,L===C&&L--,F===P&&F--),h.pipelines.preBatch(l),B&&l.fillAlpha>0)for(G=c.fillTint,I=x.getTintAppendFloatAlpha(l.fillColor,l.fillAlpha*g),G.TL=I,G.TR=I,G.BL=I,G.BR=I,X=0;X<M;X++)for(k&&(j=X%2),H=0;H<w;H++){if(k&&j){j=0;continue}j++,J=H<w-1?R:L,Y=X<M-1?A:F,c.batchFillRect(H*C,X*P,J,Y)}if(k&&l.altFillAlpha>0)for(G=c.fillTint,I=x.getTintAppendFloatAlpha(l.altFillColor,l.altFillAlpha*g),G.TL=I,G.TR=I,G.BL=I,G.BR=I,X=0;X<M;X++)for(k&&(j=X%2),H=0;H<w;H++){if(k&&!j){j=1;continue}j=0,J=H<w-1?R:L,Y=X<M-1?A:F,c.batchFillRect(H*C,X*P,J,Y)}if(U&&l.outlineFillAlpha>0){var $=c.strokeTint,z=x.getTintAppendFloatAlpha(l.outlineFillColor,l.outlineFillAlpha*g);for($.TL=z,$.TR=z,$.BL=z,$.BR=z,H=1;H<w;H++){var V=H*C;c.batchLine(V,0,V,y,1,1,1,0,!1)}for(X=1;X<M;X++){var K=X*P;c.batchLine(0,K,m,K,1,1,1,0,!1)}}h.pipelines.postBatch(l)};n.exports=d},61475:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(99651),x=r(83419),d=r(17803),h=new x({Extends:d,Mixins:[o],initialize:function(a,f,c,u,v,g,m,y){f===void 0&&(f=0),c===void 0&&(c=0),u===void 0&&(u=48),v===void 0&&(v=32),g===void 0&&(g=15658734),m===void 0&&(m=10066329),y===void 0&&(y=13421772),d.call(this,a,"IsoBox",null),this.projection=4,this.fillTop=g,this.fillLeft=m,this.fillRight=y,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isFilled=!0,this.setPosition(f,c),this.setSize(u,v),this.updateDisplayOrigin()},setProjection:function(l){return this.projection=l,this},setFaces:function(l,a,f){return l===void 0&&(l=!0),a===void 0&&(a=!0),f===void 0&&(f=!0),this.showTop=l,this.showLeft=a,this.showRight=f,this},setFillStyle:function(l,a,f){return this.fillTop=l,this.fillLeft=a,this.fillRight=f,this.isFilled=!0,this}});n.exports=h},11508:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(65960),x=r(20926),d=function(h,l,a,f){a.addToRenderList(l);var c=h.currentContext;if(x(h,c,l,a,f)&&l.isFilled){var u=l.width,v=l.height,g=u/2,m=u/l.projection;l.showTop&&(o(c,l,l.fillTop),c.beginPath(),c.moveTo(-g,-v),c.lineTo(0,-m-v),c.lineTo(g,-v),c.lineTo(g,-1),c.lineTo(0,m-1),c.lineTo(-g,-1),c.lineTo(-g,-v),c.fill()),l.showLeft&&(o(c,l,l.fillLeft),c.beginPath(),c.moveTo(-g,0),c.lineTo(0,m),c.lineTo(0,m-v),c.lineTo(-g,-v),c.lineTo(-g,0),c.fill()),l.showRight&&(o(c,l,l.fillRight),c.beginPath(),c.moveTo(g,0),c.lineTo(0,m),c.lineTo(0,m-v),c.lineTo(g,-v),c.lineTo(g,0),c.fill()),c.restore()}};n.exports=d},3933:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(39429),x=r(61475);o.register("isobox",function(d,h,l,a,f,c,u){return this.displayList.add(new x(this.scene,d,h,l,a,f,c,u))})},99651:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),x=o,d=o;x=r(68149),d=r(11508),n.exports={renderWebGL:x,renderCanvas:d}},68149:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(91296),x=r(70554),d=function(h,l,a,f){a.addToRenderList(l);var c=h.pipelines.set(l.pipeline),u=o(l,a,f),v=c.calcMatrix.copyFrom(u.calc),g=l.width,m=l.height,y=g/2,C=g/l.projection,P=a.alpha*l.alpha;if(l.isFilled){var w,M,R,A,L,F,G,I,B;h.pipelines.preBatch(l),l.showTop&&(w=x.getTintAppendFloatAlpha(l.fillTop,P),M=v.getX(-y,-m),R=v.getY(-y,-m),A=v.getX(0,-C-m),L=v.getY(0,-C-m),F=v.getX(y,-m),G=v.getY(y,-m),I=v.getX(0,C-m),B=v.getY(0,C-m),c.batchQuad(l,M,R,A,L,F,G,I,B,0,0,1,1,w,w,w,w,2)),l.showLeft&&(w=x.getTintAppendFloatAlpha(l.fillLeft,P),M=v.getX(-y,0),R=v.getY(-y,0),A=v.getX(0,C),L=v.getY(0,C),F=v.getX(0,C-m),G=v.getY(0,C-m),I=v.getX(-y,-m),B=v.getY(-y,-m),c.batchQuad(l,M,R,A,L,F,G,I,B,0,0,1,1,w,w,w,w,2)),l.showRight&&(w=x.getTintAppendFloatAlpha(l.fillRight,P),M=v.getX(y,0),R=v.getY(y,0),A=v.getX(0,C),L=v.getY(0,C),F=v.getX(0,C-m),G=v.getY(0,C-m),I=v.getX(y,-m),B=v.getY(y,-m),c.batchQuad(l,M,R,A,L,F,G,I,B,0,0,1,1,w,w,w,w,2)),h.pipelines.postBatch(l)}};n.exports=d},16933:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(60561),d=r(17803),h=new o({Extends:d,Mixins:[x],initialize:function(a,f,c,u,v,g,m,y,C){f===void 0&&(f=0),c===void 0&&(c=0),u===void 0&&(u=48),v===void 0&&(v=32),g===void 0&&(g=!1),m===void 0&&(m=15658734),y===void 0&&(y=10066329),C===void 0&&(C=13421772),d.call(this,a,"IsoTriangle",null),this.projection=4,this.fillTop=m,this.fillLeft=y,this.fillRight=C,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isReversed=g,this.isFilled=!0,this.setPosition(f,c),this.setSize(u,v),this.updateDisplayOrigin()},setProjection:function(l){return this.projection=l,this},setReversed:function(l){return this.isReversed=l,this},setFaces:function(l,a,f){return l===void 0&&(l=!0),a===void 0&&(a=!0),f===void 0&&(f=!0),this.showTop=l,this.showLeft=a,this.showRight=f,this},setFillStyle:function(l,a,f){return this.fillTop=l,this.fillLeft=a,this.fillRight=f,this.isFilled=!0,this}});n.exports=h},79590:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(65960),x=r(20926),d=function(h,l,a,f){a.addToRenderList(l);var c=h.currentContext;if(x(h,c,l,a,f)&&l.isFilled){var u=l.width,v=l.height,g=u/2,m=u/l.projection,y=l.isReversed;l.showTop&&y&&(o(c,l,l.fillTop),c.beginPath(),c.moveTo(-g,-v),c.lineTo(0,-m-v),c.lineTo(g,-v),c.lineTo(0,m-v),c.fill()),l.showLeft&&(o(c,l,l.fillLeft),c.beginPath(),y?(c.moveTo(-g,-v),c.lineTo(0,m),c.lineTo(0,m-v)):(c.moveTo(-g,0),c.lineTo(0,m),c.lineTo(0,m-v)),c.fill()),l.showRight&&(o(c,l,l.fillRight),c.beginPath(),y?(c.moveTo(g,-v),c.lineTo(0,m),c.lineTo(0,m-v)):(c.moveTo(g,0),c.lineTo(0,m),c.lineTo(0,m-v)),c.fill()),c.restore()}};n.exports=d},49803:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(39429),x=r(16933);o.register("isotriangle",function(d,h,l,a,f,c,u,v){return this.displayList.add(new x(this.scene,d,h,l,a,f,c,u,v))})},60561:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),x=o,d=o;x=r(51503),d=r(79590),n.exports={renderWebGL:x,renderCanvas:d}},51503:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(91296),x=r(70554),d=function(h,l,a,f){a.addToRenderList(l);var c=h.pipelines.set(l.pipeline),u=o(l,a,f),v=c.calcMatrix.copyFrom(u.calc),g=l.width,m=l.height,y=g/2,C=g/l.projection,P=l.isReversed,w=a.alpha*l.alpha;if(l.isFilled){h.pipelines.preBatch(l);var M,R,A,L,F,G,I;if(l.showTop&&P){M=x.getTintAppendFloatAlpha(l.fillTop,w),R=v.getX(-y,-m),A=v.getY(-y,-m),L=v.getX(0,-C-m),F=v.getY(0,-C-m),G=v.getX(y,-m),I=v.getY(y,-m);var B=v.getX(0,C-m),k=v.getY(0,C-m);c.batchQuad(l,R,A,L,F,G,I,B,k,0,0,1,1,M,M,M,M,2)}l.showLeft&&(M=x.getTintAppendFloatAlpha(l.fillLeft,w),P?(R=v.getX(-y,-m),A=v.getY(-y,-m),L=v.getX(0,C),F=v.getY(0,C),G=v.getX(0,C-m),I=v.getY(0,C-m)):(R=v.getX(-y,0),A=v.getY(-y,0),L=v.getX(0,C),F=v.getY(0,C),G=v.getX(0,C-m),I=v.getY(0,C-m)),c.batchTri(l,R,A,L,F,G,I,0,0,1,1,M,M,M,2)),l.showRight&&(M=x.getTintAppendFloatAlpha(l.fillRight,w),P?(R=v.getX(y,-m),A=v.getY(y,-m),L=v.getX(0,C),F=v.getY(0,C),G=v.getX(0,C-m),I=v.getY(0,C-m)):(R=v.getX(y,0),A=v.getY(y,0),L=v.getX(0,C),F=v.getY(0,C),G=v.getX(0,C-m),I=v.getY(0,C-m)),c.batchTri(l,R,A,L,F,G,I,0,0,1,1,M,M,M,2)),h.pipelines.postBatch(l)}};n.exports=d},57847:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(17803),d=r(23031),h=r(36823),l=new o({Extends:x,Mixins:[h],initialize:function(f,c,u,v,g,m,y,C,P){c===void 0&&(c=0),u===void 0&&(u=0),v===void 0&&(v=0),g===void 0&&(g=0),m===void 0&&(m=128),y===void 0&&(y=0),x.call(this,f,"Line",new d(v,g,m,y));var w=Math.max(1,this.geom.right-this.geom.left),M=Math.max(1,this.geom.bottom-this.geom.top);this.lineWidth=1,this._startWidth=1,this._endWidth=1,this.setPosition(c,u),this.setSize(w,M),C!==void 0&&this.setStrokeStyle(1,C,P),this.updateDisplayOrigin()},setLineWidth:function(a,f){return f===void 0&&(f=a),this._startWidth=a,this._endWidth=f,this.lineWidth=a,this},setTo:function(a,f,c,u){return this.geom.setTo(a,f,c,u),this}});n.exports=l},17440:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(75177),x=r(20926),d=function(h,l,a,f){a.addToRenderList(l);var c=h.currentContext;if(x(h,c,l,a,f)){var u=l._displayOriginX,v=l._displayOriginY;l.isStroked&&(o(c,l),c.beginPath(),c.moveTo(l.geom.x1-u,l.geom.y1-v),c.lineTo(l.geom.x2-u,l.geom.y2-v),c.stroke()),c.restore()}};n.exports=d},2481:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(39429),x=r(57847);o.register("line",function(d,h,l,a,f,c,u,v){return this.displayList.add(new x(this.scene,d,h,l,a,f,c,u,v))})},36823:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),x=o,d=o;x=r(77385),d=r(17440),n.exports={renderWebGL:x,renderCanvas:d}},77385:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(91296),x=r(70554),d=function(h,l,a,f){a.addToRenderList(l);var c=h.pipelines.set(l.pipeline),u=o(l,a,f);c.calcMatrix.copyFrom(u.calc);var v=l._displayOriginX,g=l._displayOriginY,m=a.alpha*l.alpha;if(h.pipelines.preBatch(l),l.isStroked){var y=c.strokeTint,C=x.getTintAppendFloatAlpha(l.strokeColor,l.strokeAlpha*m);y.TL=C,y.TR=C,y.BL=C,y.BR=C,c.batchLine(l.geom.x1-v,l.geom.y1-g,l.geom.x2-v,l.geom.y2-g,l._startWidth/2,l._endWidth/2,1,0,!1,u.sprite,u.camera)}h.pipelines.postBatch(l)};n.exports=d},24949:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(90273),x=r(83419),d=r(94811),h=r(13829),l=r(25717),a=r(17803),f=r(5469),c=new x({Extends:a,Mixins:[o],initialize:function(v,g,m,y,C,P){g===void 0&&(g=0),m===void 0&&(m=0),a.call(this,v,"Polygon",new l(y));var w=h(this.geom);this.setPosition(g,m),this.setSize(w.width,w.height),C!==void 0&&this.setFillStyle(C,P),this.updateDisplayOrigin(),this.updateData()},smooth:function(u){u===void 0&&(u=1);for(var v=0;v<u;v++)f(this.geom);return this.updateData()},setTo:function(u){this.geom.setTo(u);var v=h(this.geom);return this.setSize(v.width,v.height),this.updateDisplayOrigin(),this.updateData()},updateData:function(){for(var u=[],v=this.geom.points,g=0;g<v.length;g++)u.push(v[g].x,v[g].y);return u.push(v[0].x,v[0].y),this.pathIndexes=d(u),this.pathData=u,this}});n.exports=c},38710:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(65960),x=r(75177),d=r(20926),h=function(l,a,f,c){f.addToRenderList(a);var u=l.currentContext;if(d(l,u,a,f,c)){var v=a._displayOriginX,g=a._displayOriginY,m=a.pathData,y=m.length-1,C=m[0]-v,P=m[1]-g;u.beginPath(),u.moveTo(C,P),a.closePath||(y-=2);for(var w=2;w<y;w+=2){var M=m[w]-v,R=m[w+1]-g;u.lineTo(M,R)}a.closePath&&u.closePath(),a.isFilled&&(o(u,a),u.fill()),a.isStroked&&(x(u,a),u.stroke()),u.restore()}};n.exports=h},64827:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(39429),x=r(24949);o.register("polygon",function(d,h,l,a,f){return this.displayList.add(new x(this.scene,d,h,l,a,f))})},90273:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),x=o,d=o;x=r(73695),d=r(38710),n.exports={renderWebGL:x,renderCanvas:d}},73695:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(10441),x=r(91296),d=r(34682),h=function(l,a,f,c){f.addToRenderList(a);var u=l.pipelines.set(a.pipeline),v=x(a,f,c),g=u.calcMatrix.copyFrom(v.calc),m=a._displayOriginX,y=a._displayOriginY,C=f.alpha*a.alpha;l.pipelines.preBatch(a),a.isFilled&&o(u,g,a,C,m,y),a.isStroked&&d(u,a,C,m,y),l.pipelines.postBatch(a)};n.exports=h},74561:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(87841),d=r(17803),h=r(95597),l=new o({Extends:d,Mixins:[h],initialize:function(f,c,u,v,g,m,y){c===void 0&&(c=0),u===void 0&&(u=0),v===void 0&&(v=128),g===void 0&&(g=128),d.call(this,f,"Rectangle",new x(0,0,v,g)),this.setPosition(c,u),this.setSize(v,g),m!==void 0&&this.setFillStyle(m,y),this.updateDisplayOrigin(),this.updateData()},setSize:function(a,f){this.width=a,this.height=f,this.geom.setSize(a,f),this.updateData(),this.updateDisplayOrigin();var c=this.input;return c&&!c.customHitArea&&(c.hitArea.width=a,c.hitArea.height=f),this},updateData:function(){var a=[],f=this.geom,c=this._tempLine;return f.getLineA(c),a.push(c.x1,c.y1,c.x2,c.y2),f.getLineB(c),a.push(c.x2,c.y2),f.getLineC(c),a.push(c.x2,c.y2),f.getLineD(c),a.push(c.x2,c.y2),this.pathData=a,this}});n.exports=l},48682:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(65960),x=r(75177),d=r(20926),h=function(l,a,f,c){f.addToRenderList(a);var u=l.currentContext;if(d(l,u,a,f,c)){var v=a._displayOriginX,g=a._displayOriginY;a.isFilled&&(o(u,a),u.fillRect(-v,-g,a.width,a.height)),a.isStroked&&(x(u,a),u.beginPath(),u.rect(-v,-g,a.width,a.height),u.stroke()),u.restore()}};n.exports=h},87959:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(39429),x=r(74561);o.register("rectangle",function(d,h,l,a,f,c){return this.displayList.add(new x(this.scene,d,h,l,a,f,c))})},95597:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),x=o,d=o;x=r(52059),d=r(48682),n.exports={renderWebGL:x,renderCanvas:d}},52059:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(91296),x=r(34682),d=r(70554),h=function(l,a,f,c){f.addToRenderList(a);var u=l.pipelines.set(a.pipeline),v=o(a,f,c);u.calcMatrix.copyFrom(v.calc);var g=a._displayOriginX,m=a._displayOriginY,y=f.alpha*a.alpha;if(l.pipelines.preBatch(a),a.isFilled){var C=u.fillTint,P=d.getTintAppendFloatAlpha(a.fillColor,a.fillAlpha*y);C.TL=P,C.TR=P,C.BL=P,C.BR=P,u.batchFillRect(-g,-m,a.width,a.height)}a.isStroked&&x(u,a,y,g,m),l.pipelines.postBatch(a)};n.exports=h},55911:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(81991),x=r(83419),d=r(94811),h=r(17803),l=new x({Extends:h,Mixins:[o],initialize:function(f,c,u,v,g,m,y,C){c===void 0&&(c=0),u===void 0&&(u=0),v===void 0&&(v=5),g===void 0&&(g=32),m===void 0&&(m=64),h.call(this,f,"Star",null),this._points=v,this._innerRadius=g,this._outerRadius=m,this.setPosition(c,u),this.setSize(m*2,m*2),y!==void 0&&this.setFillStyle(y,C),this.updateDisplayOrigin(),this.updateData()},setPoints:function(a){return this._points=a,this.updateData()},setInnerRadius:function(a){return this._innerRadius=a,this.updateData()},setOuterRadius:function(a){return this._outerRadius=a,this.updateData()},points:{get:function(){return this._points},set:function(a){this._points=a,this.updateData()}},innerRadius:{get:function(){return this._innerRadius},set:function(a){this._innerRadius=a,this.updateData()}},outerRadius:{get:function(){return this._outerRadius},set:function(a){this._outerRadius=a,this.updateData()}},updateData:function(){var a=[],f=this._points,c=this._innerRadius,u=this._outerRadius,v=Math.PI/2*3,g=Math.PI/f,m=u,y=u;a.push(m,y+-u);for(var C=0;C<f;C++)a.push(m+Math.cos(v)*u,y+Math.sin(v)*u),v+=g,a.push(m+Math.cos(v)*c,y+Math.sin(v)*c),v+=g;return a.push(m,y+-u),this.pathIndexes=d(a),this.pathData=a,this}});n.exports=l},64272:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(65960),x=r(75177),d=r(20926),h=function(l,a,f,c){f.addToRenderList(a);var u=l.currentContext;if(d(l,u,a,f,c)){var v=a._displayOriginX,g=a._displayOriginY,m=a.pathData,y=m.length-1,C=m[0]-v,P=m[1]-g;u.beginPath(),u.moveTo(C,P),a.closePath||(y-=2);for(var w=2;w<y;w+=2){var M=m[w]-v,R=m[w+1]-g;u.lineTo(M,R)}u.closePath(),a.isFilled&&(o(u,a),u.fill()),a.isStroked&&(x(u,a),u.stroke()),u.restore()}};n.exports=h},93697:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(55911),x=r(39429);x.register("star",function(d,h,l,a,f,c,u){return this.displayList.add(new o(this.scene,d,h,l,a,f,c,u))})},81991:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),x=o,d=o;x=r(57017),d=r(64272),n.exports={renderWebGL:x,renderCanvas:d}},57017:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(10441),x=r(91296),d=r(34682),h=function(l,a,f,c){f.addToRenderList(a);var u=l.pipelines.set(a.pipeline),v=x(a,f,c),g=u.calcMatrix.copyFrom(v.calc),m=a._displayOriginX,y=a._displayOriginY,C=f.alpha*a.alpha;l.pipelines.preBatch(a),a.isFilled&&o(u,g,a,C,m,y),a.isStroked&&d(u,a,C,m,y),l.pipelines.postBatch(a)};n.exports=h},36931:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(17803),d=r(16483),h=r(96195),l=new o({Extends:x,Mixins:[h],initialize:function(f,c,u,v,g,m,y,C,P,w,M){c===void 0&&(c=0),u===void 0&&(u=0),v===void 0&&(v=0),g===void 0&&(g=128),m===void 0&&(m=64),y===void 0&&(y=0),C===void 0&&(C=128),P===void 0&&(P=128),x.call(this,f,"Triangle",new d(v,g,m,y,C,P));var R=this.geom.right-this.geom.left,A=this.geom.bottom-this.geom.top;this.setPosition(c,u),this.setSize(R,A),w!==void 0&&this.setFillStyle(w,M),this.updateDisplayOrigin(),this.updateData()},setTo:function(a,f,c,u,v,g){return this.geom.setTo(a,f,c,u,v,g),this.updateData()},updateData:function(){var a=[],f=this.geom,c=this._tempLine;return f.getLineA(c),a.push(c.x1,c.y1,c.x2,c.y2),f.getLineB(c),a.push(c.x2,c.y2),f.getLineC(c),a.push(c.x2,c.y2),this.pathData=a,this}});n.exports=l},85172:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(65960),x=r(75177),d=r(20926),h=function(l,a,f,c){f.addToRenderList(a);var u=l.currentContext;if(d(l,u,a,f,c)){var v=a._displayOriginX,g=a._displayOriginY,m=a.geom.x1-v,y=a.geom.y1-g,C=a.geom.x2-v,P=a.geom.y2-g,w=a.geom.x3-v,M=a.geom.y3-g;u.beginPath(),u.moveTo(m,y),u.lineTo(C,P),u.lineTo(w,M),u.closePath(),a.isFilled&&(o(u,a),u.fill()),a.isStroked&&(x(u,a),u.stroke()),u.restore()}};n.exports=h},45245:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(39429),x=r(36931);o.register("triangle",function(d,h,l,a,f,c,u,v,g,m){return this.displayList.add(new x(this.scene,d,h,l,a,f,c,u,v,g,m))})},96195:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),x=o,d=o;x=r(83253),d=r(85172),n.exports={renderWebGL:x,renderCanvas:d}},83253:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(91296),x=r(34682),d=r(70554),h=function(l,a,f,c){f.addToRenderList(a);var u=l.pipelines.set(a.pipeline),v=o(a,f,c);u.calcMatrix.copyFrom(v.calc);var g=a._displayOriginX,m=a._displayOriginY,y=f.alpha*a.alpha;if(l.pipelines.preBatch(a),a.isFilled){var C=u.fillTint,P=d.getTintAppendFloatAlpha(a.fillColor,a.fillAlpha*y);C.TL=P,C.TR=P,C.BL=P,C.BR=P;var w=a.geom.x1-g,M=a.geom.y1-m,R=a.geom.x2-g,A=a.geom.y2-m,L=a.geom.x3-g,F=a.geom.y3-m;u.batchFillTriangle(w,M,R,A,L,F,v.sprite,v.camera)}a.isStroked&&x(u,a,y,g,m),l.pipelines.postBatch(a)};n.exports=h},68287:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(9674),x=r(83419),d=r(31401),h=r(95643),l=r(92751),a=new x({Extends:h,Mixins:[d.Alpha,d.BlendMode,d.Depth,d.Flip,d.GetBounds,d.Mask,d.Origin,d.Pipeline,d.PostPipeline,d.ScrollFactor,d.Size,d.TextureCrop,d.Tint,d.Transform,d.Visible,l],initialize:function(c,u,v,g,m){h.call(this,c,"Sprite"),this._crop=this.resetCropObject(),this.anims=new o(this),this.setTexture(g,m),this.setPosition(u,v),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(f,c){this.anims.update(f,c)},play:function(f,c){return this.anims.play(f,c)},playReverse:function(f,c){return this.anims.playReverse(f,c)},playAfterDelay:function(f,c){return this.anims.playAfterDelay(f,c)},playAfterRepeat:function(f,c){return this.anims.playAfterRepeat(f,c)},chain:function(f){return this.anims.chain(f)},stop:function(){return this.anims.stop()},stopAfterDelay:function(f){return this.anims.stopAfterDelay(f)},stopAfterRepeat:function(f){return this.anims.stopAfterRepeat(f)},stopOnFrame:function(f){return this.anims.stopOnFrame(f)},toJSON:function(){return d.ToJSON(this)},preDestroy:function(){this.anims.destroy(),this.anims=void 0}});n.exports=a},76552:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d){x.addToRenderList(o),r.batchSprite(o,o.frame,x,d)};n.exports=T},15567:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(25305),x=r(13059),d=r(44603),h=r(23568),l=r(68287);d.register("sprite",function(a,f){a===void 0&&(a={});var c=h(a,"key",null),u=h(a,"frame",null),v=new l(this.scene,0,0,c,u);return f!==void 0&&(a.add=f),o(this.scene,v,a),x(v,a),v})},46409:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(39429),x=r(68287);o.register("sprite",function(d,h,l,a){return this.displayList.add(new x(this.scene,d,h,l,a))})},92751:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),x=o,d=o;x=r(9409),d=r(76552),n.exports={renderWebGL:x,renderCanvas:d}},9409:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d){x.addToRenderList(o),o.pipeline.batchSprite(o,x,d)};n.exports=T},14220:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){var d=r.canvas,h=r.context,l=r.style,a=[],f=0,c=x.length;l.maxLines>0&&l.maxLines<x.length&&(c=l.maxLines),l.syncFont(d,h);for(var u=r.letterSpacing,v=0;v<c;v++){var g=l.strokeThickness;if(u===0)g+=h.measureText(x[v]).width;else{for(var m=x[v],y=0;y<m.length;y++)g+=h.measureText(m[y]).width;m.length>1&&(g+=u*(m.length-1))}l.wordWrap&&(g-=h.measureText(" ").width),a[v]=Math.ceil(g),f=Math.max(f,a[v])}var C=o.fontSize+l.strokeThickness,P=C*c,w=r.lineSpacing;return c>1&&(P+=w*(c-1)),{width:f,height:P,lines:c,lineWidths:a,lineSpacing:w,lineHeight:C}};n.exports=T},79557:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(27919),x=function(d){var h=o.create(this),l=h.getContext("2d",{willReadFrequently:!0});d.syncFont(h,l);var a=l.measureText(d.testString);if("actualBoundingBoxAscent"in a){var f=a.actualBoundingBoxAscent,c=a.actualBoundingBoxDescent;return o.remove(h),{ascent:f,descent:c,fontSize:f+c}}var u=Math.ceil(a.width*d.baselineX),v=u,g=2*v;v=v*d.baselineY|0,h.width=u,h.height=g,l.fillStyle="#f00",l.fillRect(0,0,u,g),l.font=d._font,l.textBaseline="alphabetic",l.fillStyle="#000",l.fillText(d.testString,0,v);var m={ascent:0,descent:0,fontSize:0},y=l.getImageData(0,0,u,g);if(!y)return m.ascent=v,m.descent=v+6,m.fontSize=m.ascent+m.descent,o.remove(h),m;var C=y.data,P=C.length,w=u*4,M,R,A=0,L=!1;for(M=0;M<v;M++){for(R=0;R<w;R+=4)if(C[A+R]!==255){L=!0;break}if(!L)A+=w;else break}for(m.ascent=v-M,A=P-w,L=!1,M=g;M>v;M--){for(R=0;R<w;R+=4)if(C[A+R]!==255){L=!0;break}if(!L)A-=w;else break}return m.descent=M-v,m.fontSize=m.ascent+m.descent,o.remove(h),m};n.exports=x},50171:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(40366),x=r(27919),d=r(83419),h=r(31401),l=r(95643),a=r(14220),f=r(35154),c=r(35846),u=r(61771),v=r(35762),g=r(45650),m=new d({Extends:l,Mixins:[h.Alpha,h.BlendMode,h.ComputedSize,h.Crop,h.Depth,h.Flip,h.GetBounds,h.Mask,h.Origin,h.Pipeline,h.PostPipeline,h.ScrollFactor,h.Tint,h.Transform,h.Visible,u],initialize:function(C,P,w,M,R){P===void 0&&(P=0),w===void 0&&(w=0),l.call(this,C,"Text"),this.renderer=C.sys.renderer,this.setPosition(P,w),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(!0),this.canvas=x.create(this),this.context,this.style=new v(this,R),this.autoRound=!0,this.splitRegExp=/(?:\r\n|\r|\n)/,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.lineSpacing=0,this.letterSpacing=0,this.style.resolution===0&&(this.style.resolution=1),this._crop=this.resetCropObject(),this._textureKey=g(),this.texture=C.sys.textures.addCanvas(this._textureKey,this.canvas),this.context=this.texture.context,this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.initRTL(),this.setText(M),R&&R.padding&&this.setPadding(R.padding),R&&R.lineSpacing&&this.setLineSpacing(R.lineSpacing),R&&R.letterSpacing&&this.setLetterSpacing(R.letterSpacing)},initRTL:function(){this.style.rtl&&(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",o(this.canvas,this.scene.sys.canvas),this.originX=1)},runWordWrap:function(y){var C=this.style;if(C.wordWrapCallback){var P=C.wordWrapCallback.call(C.wordWrapCallbackScope,y,this);return Array.isArray(P)&&(P=P.join(`
`)),P}else return C.wordWrapWidth?C.wordWrapUseAdvanced?this.advancedWordWrap(y,this.context,this.style.wordWrapWidth):this.basicWordWrap(y,this.context,this.style.wordWrapWidth):y},advancedWordWrap:function(y,C,P){for(var w="",M=y.replace(/ +/gi," ").split(this.splitRegExp),R=M.length,A=0;A<R;A++){var L=M[A],F="";L=L.replace(/^ *|\s*$/gi,"");var G=L.length*this.letterSpacing,I=C.measureText(L).width+G;if(I<P){w+=L+`
`;continue}for(var B=P,k=L.split(" "),U=0;U<k.length;U++){var H=k[U],X=H+" ",j=X.length*this.letterSpacing,J=C.measureText(X).width+j;if(console.log(k.length,H),J>B){if(U===0){for(var Y=X;Y.length;){Y=Y.slice(0,-1);var $=Y.length*this.letterSpacing;if(J=C.measureText(Y).width+$,J<=B)break}if(!Y.length)throw new Error("wordWrapWidth < a single character");var z=H.substr(Y.length);k[U]=z,F+=Y}var V=k[U].length?U:U+1,K=k.slice(V).join(" ").replace(/[ \n]*$/gi,"");M.splice(A+1,0,K),R=M.length;break}else F+=X,B-=J}w+=F.replace(/[ \n]*$/gi,"")+`
`}return w=w.replace(/[\s|\n]*$/gi,""),w},basicWordWrap:function(y,C,P){for(var w="",M=y.split(this.splitRegExp),R=M.length-1,A=C.measureText(" ").width,L=0;L<=R;L++){for(var F=P,G=M[L].split(" "),I=G.length-1,B=0;B<=I;B++){var k=G[B],U=k.length*this.letterSpacing,H=C.measureText(k).width+U,X=H;B<I&&(X+=A),X>F&&B>0&&(w+=`
`,F=P),w+=k,B<I?(w+=" ",F-=X):F-=H}L<R&&(w+=`
`)}return w},getWrappedText:function(y){y===void 0&&(y=this._text),this.style.syncFont(this.canvas,this.context);var C=this.runWordWrap(y);return C.split(this.splitRegExp)},setText:function(y){return!y&&y!==0&&(y=""),Array.isArray(y)&&(y=y.join(`
`)),y!==this._text&&(this._text=y.toString(),this.updateText()),this},appendText:function(y,C){C===void 0&&(C=!0),!y&&y!==0&&(y=""),Array.isArray(y)&&(y=y.join(`
`)),y=y.toString();var P=this._text.concat(C?`
`+y:y);return P!==this._text&&(this._text=P,this.updateText()),this},setStyle:function(y){return this.style.setStyle(y)},setFont:function(y){return this.style.setFont(y)},setFontFamily:function(y){return this.style.setFontFamily(y)},setFontSize:function(y){return this.style.setFontSize(y)},setFontStyle:function(y){return this.style.setFontStyle(y)},setFixedSize:function(y,C){return this.style.setFixedSize(y,C)},setBackgroundColor:function(y){return this.style.setBackgroundColor(y)},setFill:function(y){return this.style.setFill(y)},setColor:function(y){return this.style.setColor(y)},setStroke:function(y,C){return this.style.setStroke(y,C)},setShadow:function(y,C,P,w,M,R){return this.style.setShadow(y,C,P,w,M,R)},setShadowOffset:function(y,C){return this.style.setShadowOffset(y,C)},setShadowColor:function(y){return this.style.setShadowColor(y)},setShadowBlur:function(y){return this.style.setShadowBlur(y)},setShadowStroke:function(y){return this.style.setShadowStroke(y)},setShadowFill:function(y){return this.style.setShadowFill(y)},setWordWrapWidth:function(y,C){return this.style.setWordWrapWidth(y,C)},setWordWrapCallback:function(y,C){return this.style.setWordWrapCallback(y,C)},setAlign:function(y){return this.style.setAlign(y)},setResolution:function(y){return this.style.setResolution(y)},setLineSpacing:function(y){return this.lineSpacing=y,this.updateText()},setLetterSpacing:function(y){return this.letterSpacing=y,this.updateText()},setPadding:function(y,C,P,w){if(typeof y=="object"){var M=y,R=f(M,"x",null);R!==null?(y=R,P=R):(y=f(M,"left",0),P=f(M,"right",y));var A=f(M,"y",null);A!==null?(C=A,w=A):(C=f(M,"top",0),w=f(M,"bottom",C))}else y===void 0&&(y=0),C===void 0&&(C=y),P===void 0&&(P=y),w===void 0&&(w=C);return this.padding.left=y,this.padding.top=C,this.padding.right=P,this.padding.bottom=w,this.updateText()},setMaxLines:function(y){return this.style.setMaxLines(y)},setRTL:function(y){y===void 0&&(y=!0);var C=this.style;return C.rtl===y?this:(C.rtl=y,y?(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",o(this.canvas,this.scene.sys.canvas)):(this.canvas.dir="ltr",this.context.direction="ltr"),C.align==="left"?C.align="right":C.align==="right"&&(C.align="left"),this)},updateText:function(){var y=this.canvas,C=this.context,P=this.style,w=P.resolution,M=P.metrics;P.syncFont(y,C);var R=this._text;(P.wordWrapWidth||P.wordWrapCallback)&&(R=this.runWordWrap(this._text));var A=R.split(this.splitRegExp),L=a(this,M,A),F=this.padding,G;P.fixedWidth===0?(this.width=L.width+F.left+F.right,G=L.width):(this.width=P.fixedWidth,G=this.width-F.left-F.right,G<L.width&&(G=L.width)),P.fixedHeight===0?this.height=L.height+F.top+F.bottom:this.height=P.fixedHeight;var I=this.width,B=this.height;this.updateDisplayOrigin(),I*=w,B*=w,I=Math.max(I,1),B=Math.max(B,1),y.width!==I||y.height!==B?(y.width=I,y.height=B,this.frame.setSize(I,B),P.syncFont(y,C),P.rtl&&(C.direction="rtl")):C.clearRect(0,0,I,B),C.save(),C.scale(w,w),P.backgroundColor&&(C.fillStyle=P.backgroundColor,C.fillRect(0,0,I,B)),P.syncStyle(y,C),C.translate(F.left,F.top);for(var k,U,H=0;H<L.lines;H++){if(k=P.strokeThickness/2,U=P.strokeThickness/2+H*L.lineHeight+M.ascent,H>0&&(U+=L.lineSpacing*H),P.rtl)k=I-k-F.left-F.right;else if(P.align==="right")k+=G-L.lineWidths[H];else if(P.align==="center")k+=(G-L.lineWidths[H])/2;else if(P.align==="justify"){var X=.85;if(L.lineWidths[H]/L.width>=X){var j=L.width-L.lineWidths[H],J=C.measureText(" ").width,Y=A[H].trim(),$=Y.split(" ");j+=(A[H].length-Y.length)*J;for(var z=Math.floor(j/J),V=0;z>0;)$[V]+=" ",V=(V+1)%($.length-1||1),--z;A[H]=$.join(" ")}}this.autoRound&&(k=Math.round(k),U=Math.round(U));var K=this.letterSpacing;if(P.strokeThickness&&K===0&&(P.syncShadow(C,P.shadowStroke),C.strokeText(A[H],k,U)),P.color)if(P.syncShadow(C,P.shadowFill),K!==0)for(var Q=0,_=A[H].split(""),tt=0;tt<_.length;tt++)P.strokeThickness&&(P.syncShadow(C,P.shadowStroke),C.strokeText(_[tt],k+Q,U),P.syncShadow(C,P.shadowFill)),C.fillText(_[tt],k+Q,U),Q+=C.measureText(_[tt]).width+K;else C.fillText(A[H],k,U)}C.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(y,this.frame.source.glTexture,!0));var rt=this.input;return rt&&!rt.customHitArea&&(rt.hitArea.width=this.width,rt.hitArea.height=this.height),this},getTextMetrics:function(){return this.style.getTextMetrics()},text:{get:function(){return this._text},set:function(y){this.setText(y)}},toJSON:function(){var y=h.ToJSON(this),C={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return y.data=C,y},preDestroy:function(){c(this.canvas),x.remove(this.canvas);var y=this.texture;y&&y.destroy()}});n.exports=m},79724:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d){o.width===0||o.height===0||(x.addToRenderList(o),r.batchSprite(o,o.frame,x,d))};n.exports=T},71259:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(25305),x=r(44603),d=r(23568),h=r(50171);x.register("text",function(l,a){l===void 0&&(l={});var f=d(l,"text",""),c=d(l,"style",null),u=d(l,"padding",null);u!==null&&(c.padding=u);var v=new h(this.scene,0,0,f,c);return a!==void 0&&(l.add=a),o(this.scene,v,l),v.autoRound=d(l,"autoRound",!0),v.resolution=d(l,"resolution",1),v})},68005:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(50171),x=r(39429);x.register("text",function(d,h,l,a){return this.displayList.add(new o(this.scene,d,h,l,a))})},61771:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),x=o,d=o;x=r(34397),d=r(79724),n.exports={renderWebGL:x,renderCanvas:d}},35762:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(23568),d=r(35154),h=r(79557),l={fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],backgroundColor:["backgroundColor",null],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],align:["align","left"],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],rtl:["rtl",!1],testString:["testString","|Mqgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wordWrapWidth:["wordWrap.width",null],wordWrapCallback:["wordWrap.callback",null],wordWrapCallbackScope:["wordWrap.callbackScope",null],wordWrapUseAdvanced:["wordWrap.useAdvancedWrap",!1]},a=new o({initialize:function(c,u){this.parent=c,this.fontFamily,this.fontSize,this.fontStyle,this.backgroundColor,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.align,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.rtl,this.testString,this.baselineX,this.baselineY,this.wordWrapWidth,this.wordWrapCallback,this.wordWrapCallbackScope,this.wordWrapUseAdvanced,this._font,this.setStyle(u,!1,!0)},setStyle:function(f,c,u){c===void 0&&(c=!0),u===void 0&&(u=!1);for(var v in l){var g=u?l[v][1]:this[v];v==="wordWrapCallback"||v==="wordWrapCallbackScope"?this[v]=d(f,l[v][0],g):f&&v==="fontSize"&&typeof f.fontSize=="number"?this[v]=f.fontSize.toString()+"px":this[v]=x(f,l[v][0],g)}var m=d(f,"font",null);m!==null&&this.setFont(m,!1),this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim();var y=d(f,"fill",null);y!==null&&(this.color=y);var C=d(f,"metrics",!1);return C?this.metrics={ascent:d(C,"ascent",0),descent:d(C,"descent",0),fontSize:d(C,"fontSize",0)}:(c||!this.metrics)&&(this.metrics=h(this)),c?this.parent.updateText():this.parent},syncFont:function(f,c){c.font=this._font},syncStyle:function(f,c){c.textBaseline="alphabetic",c.fillStyle=this.color,c.strokeStyle=this.stroke,c.lineWidth=this.strokeThickness,c.lineCap="round",c.lineJoin="round"},syncShadow:function(f,c){c?(f.shadowOffsetX=this.shadowOffsetX,f.shadowOffsetY=this.shadowOffsetY,f.shadowColor=this.shadowColor,f.shadowBlur=this.shadowBlur):(f.shadowOffsetX=0,f.shadowOffsetY=0,f.shadowColor=0,f.shadowBlur=0)},update:function(f){return f&&(this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim(),this.metrics=h(this)),this.parent.updateText()},setFont:function(f,c){c===void 0&&(c=!0);var u=f,v="",g="";if(typeof f!="string")u=d(f,"fontFamily","Courier"),v=d(f,"fontSize","16px"),g=d(f,"fontStyle","");else{var m=f.split(" "),y=0;g=m.length>2?m[y++]:"",v=m[y++]||"16px",u=m[y++]||"Courier"}return(u!==this.fontFamily||v!==this.fontSize||g!==this.fontStyle)&&(this.fontFamily=u,this.fontSize=v,this.fontStyle=g,c&&this.update(!0)),this.parent},setFontFamily:function(f){return this.fontFamily!==f&&(this.fontFamily=f,this.update(!0)),this.parent},setFontStyle:function(f){return this.fontStyle!==f&&(this.fontStyle=f,this.update(!0)),this.parent},setFontSize:function(f){return typeof f=="number"&&(f=f.toString()+"px"),this.fontSize!==f&&(this.fontSize=f,this.update(!0)),this.parent},setTestString:function(f){return this.testString=f,this.update(!0)},setFixedSize:function(f,c){return this.fixedWidth=f,this.fixedHeight=c,f&&(this.parent.width=f),c&&(this.parent.height=c),this.update(!1)},setBackgroundColor:function(f){return this.backgroundColor=f,this.update(!1)},setFill:function(f){return this.color=f,this.update(!1)},setColor:function(f){return this.color=f,this.update(!1)},setResolution:function(f){return this.resolution=f,this.update(!1)},setStroke:function(f,c){return c===void 0&&(c=this.strokeThickness),f===void 0&&this.strokeThickness!==0?(this.strokeThickness=0,this.update(!0)):(this.stroke!==f||this.strokeThickness!==c)&&(this.stroke=f,this.strokeThickness=c,this.update(!0)),this.parent},setShadow:function(f,c,u,v,g,m){return f===void 0&&(f=0),c===void 0&&(c=0),u===void 0&&(u="#000"),v===void 0&&(v=0),g===void 0&&(g=!1),m===void 0&&(m=!0),this.shadowOffsetX=f,this.shadowOffsetY=c,this.shadowColor=u,this.shadowBlur=v,this.shadowStroke=g,this.shadowFill=m,this.update(!1)},setShadowOffset:function(f,c){return f===void 0&&(f=0),c===void 0&&(c=f),this.shadowOffsetX=f,this.shadowOffsetY=c,this.update(!1)},setShadowColor:function(f){return f===void 0&&(f="#000"),this.shadowColor=f,this.update(!1)},setShadowBlur:function(f){return f===void 0&&(f=0),this.shadowBlur=f,this.update(!1)},setShadowStroke:function(f){return this.shadowStroke=f,this.update(!1)},setShadowFill:function(f){return this.shadowFill=f,this.update(!1)},setWordWrapWidth:function(f,c){return c===void 0&&(c=!1),this.wordWrapWidth=f,this.wordWrapUseAdvanced=c,this.update(!1)},setWordWrapCallback:function(f,c){return c===void 0&&(c=null),this.wordWrapCallback=f,this.wordWrapCallbackScope=c,this.update(!1)},setAlign:function(f){return f===void 0&&(f="left"),this.align=f,this.update(!1)},setMaxLines:function(f){return f===void 0&&(f=0),this.maxLines=f,this.update(!1)},getTextMetrics:function(){var f=this.metrics;return{ascent:f.ascent,descent:f.descent,fontSize:f.fontSize}},toJSON:function(){var f={};for(var c in l)f[c]=this[c];return f.metrics=this.getTextMetrics(),f},destroy:function(){this.parent=void 0}});n.exports=a},34397:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(70554),x=function(d,h,l,a){if(!(h.width===0||h.height===0)){l.addToRenderList(h);var f=h.frame,c=f.width,u=f.height,v=o.getTintAppendFloatAlpha,g=d.pipelines.set(h.pipeline,h),m=g.setTexture2D(f.glTexture,h);g.batchTexture(h,f.glTexture,c,u,h.x,h.y,c/h.style.resolution,u/h.style.resolution,h.scaleX,h.scaleY,h.rotation,h.flipX,h.flipY,h.scrollFactorX,h.scrollFactorY,h.displayOriginX,h.displayOriginY,0,0,c,u,v(h.tintTopLeft,l.alpha*h._alphaTL),v(h.tintTopRight,l.alpha*h._alphaTR),v(h.tintBottomLeft,l.alpha*h._alphaBL),v(h.tintBottomRight,l.alpha*h._alphaBR),h.tintFill,0,0,l,a,!1,m)}};n.exports=x},20839:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(27919),x=r(83419),d=r(31401),h=r(95643),l=r(98439),a=r(68703),f=r(56295),c=r(45650),u=r(26099),v=8,g=new x({Extends:h,Mixins:[d.Alpha,d.BlendMode,d.ComputedSize,d.Crop,d.Depth,d.Flip,d.GetBounds,d.Mask,d.Origin,d.Pipeline,d.PostPipeline,d.ScrollFactor,d.Tint,d.Transform,d.Visible,f],initialize:function(y,C,P,w,M,R,A){var L=y.sys.renderer;h.call(this,y,"TileSprite");var F=y.sys.textures.get(R),G=F.get(A);G.source.compressionAlgorithm&&(console.warn("TileSprite cannot use compressed texture"),F=y.sys.textures.get("__MISSING"),G=F.get()),F.type==="DynamicTexture"&&(console.warn("TileSprite cannot use Dynamic Texture"),F=y.sys.textures.get("__MISSING"),G=F.get()),!w||!M?(w=w||G.width,M=M||G.height):(w=Math.floor(w),M=Math.floor(M)),this._tilePosition=new u,this._tileScale=new u(1,1),this.dirty=!1,this.renderer=L,this.canvas=o.create(this,w,M),this.context=this.canvas.getContext("2d",{willReadFrequently:!1}),this.displayTexture=F,this.displayFrame=G,this._crop=this.resetCropObject(),this._textureKey=c(),this.texture=y.sys.textures.addCanvas(this._textureKey,this.canvas),this.frame=this.texture.get(),this.potWidth=l(G.width),this.potHeight=l(G.height),this.fillCanvas=o.create2D(this,this.potWidth,this.potHeight),this.fillContext=this.fillCanvas.getContext("2d",{willReadFrequently:!1}),this.fillPattern=null,this.setPosition(C,P),this.setSize(w,M),this.setFrame(A),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},setTexture:function(m,y){return this.displayTexture=this.scene.sys.textures.get(m),this.setFrame(y)},setFrame:function(m){var y=this.displayTexture.get(m);return this.potWidth=l(y.width),this.potHeight=l(y.height),this.canvas.width=0,!y.cutWidth||!y.cutHeight?this.renderFlags&=~v:this.renderFlags|=v,this.displayFrame=y,this.dirty=!0,this.updateTileTexture(),this},setTilePosition:function(m,y){return m!==void 0&&(this.tilePositionX=m),y!==void 0&&(this.tilePositionY=y),this},setTileScale:function(m,y){return m===void 0&&(m=this.tileScaleX),y===void 0&&(y=m),this.tileScaleX=m,this.tileScaleY=y,this},updateTileTexture:function(){if(!(!this.dirty||!this.renderer)){var m=this.displayFrame;if(m.source.isRenderTexture||m.source.isGLTexture){console.warn("TileSprites can only use Image or Canvas based textures"),this.dirty=!1;return}var y=this.fillContext,C=this.fillCanvas,P=this.potWidth,w=this.potHeight;(!this.renderer||!this.renderer.gl)&&(P=m.cutWidth,w=m.cutHeight),y.clearRect(0,0,P,w),C.width=P,C.height=w,y.drawImage(m.source.image,m.cutX,m.cutY,m.cutWidth,m.cutHeight,0,0,P,w),this.renderer&&this.renderer.gl?this.fillPattern=this.renderer.canvasToTexture(C,this.fillPattern):this.fillPattern=y.createPattern(C,"repeat"),this.updateCanvas(),this.dirty=!1}},updateCanvas:function(){var m=this.canvas;if((m.width!==this.width||m.height!==this.height)&&(m.width=this.width,m.height=this.height,this.frame.setSize(this.width,this.height),this.updateDisplayOrigin(),this.dirty=!0),!this.dirty||this.renderer&&this.renderer.gl){this.dirty=!1;return}var y=this.context;this.scene.sys.game.config.antialias||a.disable(y);var C=this._tileScale.x,P=this._tileScale.y,w=this._tilePosition.x,M=this._tilePosition.y;y.clearRect(0,0,this.width,this.height),y.save(),y.scale(C,P),y.translate(-w,-M),y.fillStyle=this.fillPattern,y.fillRect(w,M,this.width/C,this.height/P),y.restore(),this.dirty=!1},preDestroy:function(){this.renderer&&this.renderer.gl&&this.renderer.deleteTexture(this.fillPattern),o.remove(this.canvas),o.remove(this.fillCanvas),this.fillPattern=null,this.fillContext=null,this.fillCanvas=null,this.displayTexture=null,this.displayFrame=null;var m=this.texture;m&&m.destroy(),this.renderer=null},tilePositionX:{get:function(){return this._tilePosition.x},set:function(m){this._tilePosition.x=m,this.dirty=!0}},tilePositionY:{get:function(){return this._tilePosition.y},set:function(m){this._tilePosition.y=m,this.dirty=!0}},tileScaleX:{get:function(){return this._tileScale.x},set:function(m){this._tileScale.x=m,this.dirty=!0}},tileScaleY:{get:function(){return this._tileScale.y},set:function(m){this._tileScale.y=m,this.dirty=!0}}});n.exports=g},46992:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d){o.updateCanvas(),x.addToRenderList(o),r.batchSprite(o,o.frame,x,d)};n.exports=T},14167:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(25305),x=r(44603),d=r(23568),h=r(20839);x.register("tileSprite",function(l,a){l===void 0&&(l={});var f=d(l,"x",0),c=d(l,"y",0),u=d(l,"width",512),v=d(l,"height",512),g=d(l,"key",""),m=d(l,"frame",""),y=new h(this.scene,f,c,u,v,g,m);return a!==void 0&&(l.add=a),o(this.scene,y,l),y})},91681:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(20839),x=r(39429);x.register("tileSprite",function(d,h,l,a,f,c){return this.displayList.add(new o(this.scene,d,h,l,a,f,c))})},56295:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),x=o,d=o;x=r(18553),d=r(46992),n.exports={renderWebGL:x,renderCanvas:d}},18553:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(70554),x=function(d,h,l,a){h.updateCanvas();var f=h.width,c=h.height;if(!(f===0||c===0)){l.addToRenderList(h);var u=o.getTintAppendFloatAlpha,v=d.pipelines.set(h.pipeline,h),g=v.setTexture2D(h.fillPattern,h);v.batchTexture(h,h.fillPattern,h.displayFrame.width*h.tileScaleX,h.displayFrame.height*h.tileScaleY,h.x,h.y,f,c,h.scaleX,h.scaleY,h.rotation,h.flipX,h.flipY,h.scrollFactorX,h.scrollFactorY,h.originX*f,h.originY*c,0,0,f,c,u(h.tintTopLeft,l.alpha*h._alphaTL),u(h.tintTopRight,l.alpha*h._alphaTR),u(h.tintBottomLeft,l.alpha*h._alphaBL),u(h.tintBottomRight,l.alpha*h._alphaBR),h.tintFill,h.tilePositionX%h.displayFrame.width/h.displayFrame.width,h.tilePositionY%h.displayFrame.height/h.displayFrame.height,l,a,!1,g)}};n.exports=x},18471:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(45319),x=r(83419),d=r(31401),h=r(51708),l=r(8443),a=r(95643),f=r(36383),c=r(14463),u=r(45650),v=r(10247),g=new x({Extends:a,Mixins:[d.Alpha,d.BlendMode,d.ComputedSize,d.Depth,d.Flip,d.GetBounds,d.Mask,d.Origin,d.Pipeline,d.PostPipeline,d.ScrollFactor,d.TextureCrop,d.Tint,d.Transform,d.Visible,v],initialize:function(y,C,P,w){a.call(this,y,"Video"),this.video,this.videoTexture,this.videoTextureSource,this.snapshotTexture,this.flipY=!1,this._key=u(),this.touchLocked=!1,this.playWhenUnlocked=!1,this.frameReady=!1,this.isStalled=!1,this.failedPlayAttempts=0,this.metadata,this.retry=0,this.retryInterval=500,this._systemMuted=!1,this._codeMuted=!1,this._systemPaused=!1,this._codePaused=!1,this._callbacks={ended:this.completeHandler.bind(this),legacy:this.legacyPlayHandler.bind(this),playing:this.playingHandler.bind(this),seeked:this.seekedHandler.bind(this),seeking:this.seekingHandler.bind(this),stalled:this.stalledHandler.bind(this),suspend:this.stalledHandler.bind(this),waiting:this.stalledHandler.bind(this)},this._loadCallbackHandler=this.loadErrorHandler.bind(this),this._metadataCallbackHandler=this.metadataHandler.bind(this),this._crop=this.resetCropObject(),this.markers={},this._markerIn=0,this._markerOut=0,this._playingMarker=!1,this._lastUpdate=0,this.cacheKey="",this.isSeeking=!1,this._playCalled=!1,this._getFrame=!1,this._rfvCallbackId=0;var M=y.sys.game;this._device=M.device.video,this.setPosition(C,P),this.setSize(256,256),this.initPipeline(),this.initPostPipeline(!0),M.events.on(l.PAUSE,this.globalPause,this),M.events.on(l.RESUME,this.globalResume,this);var R=y.sys.sound;R&&R.on(c.GLOBAL_MUTE,this.globalMute,this),w&&this.load(w)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},load:function(m){var y=this.scene.sys.cache.video.get(m);return y?(this.cacheKey=m,this.loadHandler(y.url,y.noAudio,y.crossOrigin)):console.warn("No video in cache for key: "+m),this},changeSource:function(m,y,C,P,w){y===void 0&&(y=!0),C===void 0&&(C=!1),this.cacheKey!==m&&(this.load(m),y&&this.play(C,P,w))},getVideoKey:function(){return this.cacheKey},loadURL:function(m,y,C){y===void 0&&(y=!1);var P=this._device.getVideoURL(m);return P?(this.cacheKey="",this.loadHandler(P.url,y,C)):console.warn("No supported video format found for "+m),this},loadMediaStream:function(m,y,C){return this.loadHandler(null,y,C,m)},loadHandler:function(m,y,C,P){y||(y=!1);var w=this.video;if(w?(this.removeLoadEventHandlers(),this.stop()):(w=document.createElement("video"),w.controls=!1,w.setAttribute("playsinline","playsinline"),w.setAttribute("preload","auto"),w.setAttribute("disablePictureInPicture","true")),y?(w.muted=!0,w.defaultMuted=!0,w.setAttribute("autoplay","autoplay")):(w.muted=!1,w.defaultMuted=!1,w.removeAttribute("autoplay")),C?w.setAttribute("crossorigin",C):w.removeAttribute("crossorigin"),P)if("srcObject"in w)try{w.srcObject=P}catch(R){if(R.name!=="TypeError")throw R;w.src=URL.createObjectURL(P)}else w.src=URL.createObjectURL(P);else w.src=m;this.retry=0,this.video=w,this._playCalled=!1,w.load(),this.addLoadEventHandlers();var M=this.scene.sys.textures.get(this._key);return this.setTexture(M),this},requestVideoFrame:function(m,y){var C=this.video;if(C){var P=y.width,w=y.height,M=this.videoTexture,R=this.videoTextureSource,A=!M||R.source!==C;A?(this._codePaused=C.paused,this._codeMuted=C.muted,M?(R.source=C,R.width=P,R.height=w,M.get().setSize(P,w)):(M=this.scene.sys.textures.create(this._key,C,P,w),M.add("__BASE",0,0,0,P,w),this.setTexture(M),this.videoTexture=M,this.videoTextureSource=M.source[0],this.videoTextureSource.setFlipY(this.flipY),this.emit(h.VIDEO_TEXTURE,this,M)),this.setSizeToFrame(),this.updateDisplayOrigin()):R.update(),this.isStalled=!1,this.metadata=y;var L=y.mediaTime;A&&(this._lastUpdate=L,this.emit(h.VIDEO_CREATED,this,P,w),this.frameReady||(this.frameReady=!0,this.emit(h.VIDEO_PLAY,this))),this._playingMarker?L>=this._markerOut&&(C.loop?(C.currentTime=this._markerIn,this.emit(h.VIDEO_LOOP,this)):(this.stop(!1),this.emit(h.VIDEO_COMPLETE,this))):L<this._lastUpdate&&this.emit(h.VIDEO_LOOP,this),this._lastUpdate=L,this._getFrame?(this.removeEventHandlers(),C.pause(),this._getFrame=!1):this._rfvCallbackId=this.video.requestVideoFrameCallback(this.requestVideoFrame.bind(this))}},play:function(m,y,C){y===void 0&&(y=-1),C===void 0&&(C=f.MAX_SAFE_INTEGER);var P=this.video;return!P||this.isPlaying()?(P||console.warn("Video not loaded"),this):(m===void 0&&(m=P.loop),P.loop=m,this._markerIn=y,this._markerOut=C,this._playingMarker=y>-1&&C>y&&C<f.MAX_SAFE_INTEGER,this._playCalled||(this._getFrame=!1,this._rfvCallbackId=P.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this._playCalled=!0,this.createPlayPromise()),this)},getFirstFrame:function(){var m=this.video;return!m||this.isPlaying()?(m||console.warn("Video not loaded"),this):(this._playCalled||(this._getFrame=!0,this._rfvCallbackId=m.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this.createPlayPromise()),this)},addLoadEventHandlers:function(){var m=this.video;m&&(m.addEventListener("error",this._loadCallbackHandler),m.addEventListener("abort",this._loadCallbackHandler),m.addEventListener("loadedmetadata",this._metadataCallbackHandler))},removeLoadEventHandlers:function(){var m=this.video;m&&(m.removeEventListener("error",this._loadCallbackHandler),m.removeEventListener("abort",this._loadCallbackHandler))},addEventHandlers:function(){var m=this.video;if(m){var y=this._callbacks;for(var C in y)m.addEventListener(C,y[C])}},removeEventHandlers:function(){var m=this.video;if(m){var y=this._callbacks;for(var C in y)m.removeEventListener(C,y[C])}},createPlayPromise:function(m){m===void 0&&(m=!0);var y=this.video,C=y.play();if(C!==void 0){var P=this.playSuccess.bind(this),w=this.playError.bind(this);if(!m){var M=this;w=function(){M.failedPlayAttempts++}}C.then(P).catch(w)}else y.addEventListener("playing",this._callbacks.legacy),m||this.failedPlayAttempts++},addMarker:function(m,y,C){return!isNaN(y)&&y>=0&&!isNaN(C)&&C>y&&(this.markers[m]=[y,C]),this},playMarker:function(m,y){var C=this.markers[m];return C&&this.play(y,C[0],C[1]),this},removeMarker:function(m){return delete this.markers[m],this},snapshot:function(m,y){return m===void 0&&(m=this.width),y===void 0&&(y=this.height),this.snapshotArea(0,0,this.width,this.height,m,y)},snapshotArea:function(m,y,C,P,w,M){m===void 0&&(m=0),y===void 0&&(y=0),C===void 0&&(C=this.width),P===void 0&&(P=this.height),w===void 0&&(w=C),M===void 0&&(M=P);var R=this.video,A=this.snapshotTexture;return A?(A.setSize(w,M),R&&A.context.drawImage(R,m,y,C,P,0,0,w,M)):(A=this.scene.sys.textures.createCanvas(u(),w,M),this.snapshotTexture=A,R&&A.context.drawImage(R,m,y,C,P,0,0,w,M)),A.update()},saveSnapshotTexture:function(m){return this.snapshotTexture?this.scene.sys.textures.renameTexture(this.snapshotTexture.key,m):this.snapshotTexture=this.scene.sys.textures.createCanvas(m,this.width,this.height),this.snapshotTexture},playSuccess:function(){if(this._playCalled){this.addEventHandlers(),this._codePaused=!1,this.touchLocked&&(this.touchLocked=!1,this.emit(h.VIDEO_UNLOCKED,this));var m=this.scene.sys.sound;m&&m.mute&&this.setMute(!0),this._markerIn>-1&&(this.video.currentTime=this._markerIn)}},playError:function(m){var y=m.name;y==="NotAllowedError"?(this.touchLocked=!0,this.playWhenUnlocked=!0,this.failedPlayAttempts=1,this.emit(h.VIDEO_LOCKED,this)):y==="NotSupportedError"?(this.stop(!1),this.emit(h.VIDEO_UNSUPPORTED,this,m)):(this.stop(!1),this.emit(h.VIDEO_ERROR,this,m))},legacyPlayHandler:function(){var m=this.video;m&&(this.playSuccess(),m.removeEventListener("playing",this._callbacks.legacy))},playingHandler:function(){this.isStalled=!1,this.emit(h.VIDEO_PLAYING,this)},loadErrorHandler:function(m){this.stop(!1),this.emit(h.VIDEO_ERROR,this,m)},metadataHandler:function(m){this.emit(h.VIDEO_METADATA,this,m)},setSizeToFrame:function(m){m||(m=this.frame),this.width=m.realWidth,this.height=m.realHeight,this.scaleX!==1&&(this.scaleX=this.displayWidth/this.width),this.scaleY!==1&&(this.scaleY=this.displayHeight/this.height);var y=this.input;return y&&!y.customHitArea&&(y.hitArea.width=this.width,y.hitArea.height=this.height),this},stalledHandler:function(m){this.isStalled=!0,this.emit(h.VIDEO_STALLED,this,m)},completeHandler:function(){this._playCalled=!1,this.emit(h.VIDEO_COMPLETE,this)},preUpdate:function(m,y){var C=this.video;!C||!this._playCalled||this.touchLocked&&this.playWhenUnlocked&&(this.retry+=y,this.retry>=this.retryInterval&&(this.createPlayPromise(!1),this.retry=0))},seekTo:function(m){var y=this.video;if(y){var C=y.duration;if(C!==1/0&&!isNaN(C)){var P=C*m;this.setCurrentTime(P)}}return this},getCurrentTime:function(){return this.video?this.video.currentTime:0},setCurrentTime:function(m){var y=this.video;if(y){if(typeof m=="string"){var C=m[0],P=parseFloat(m.substr(1));C==="+"?m=y.currentTime+P:C==="-"&&(m=y.currentTime-P)}y.currentTime=m}return this},seekingHandler:function(){this.isSeeking=!0,this.emit(h.VIDEO_SEEKING,this)},seekedHandler:function(){this.isSeeking=!1,this.emit(h.VIDEO_SEEKED,this)},getProgress:function(){var m=this.video;if(m){var y=m.duration;if(y!==1/0&&!isNaN(y))return m.currentTime/y}return-1},getDuration:function(){return this.video?this.video.duration:0},setMute:function(m){m===void 0&&(m=!0),this._codeMuted=m;var y=this.video;return y&&(y.muted=this._systemMuted?!0:m),this},isMuted:function(){return this._codeMuted},globalMute:function(m,y){this._systemMuted=y;var C=this.video;C&&(C.muted=this._codeMuted?!0:y)},globalPause:function(){this._systemPaused=!0,this.video&&!this.video.ended&&(this.removeEventHandlers(),this.video.pause())},globalResume:function(){this._systemPaused=!1,this.video&&!this._codePaused&&!this.video.ended&&this.createPlayPromise()},setPaused:function(m){m===void 0&&(m=!0);var y=this.video;return this._codePaused=m,y&&!y.ended&&(m?y.paused||(this.removeEventHandlers(),y.pause()):m||(this._playCalled?y.paused&&!this._systemPaused&&this.createPlayPromise():this.play())),this},pause:function(){return this.setPaused(!0)},resume:function(){return this.setPaused(!1)},getVolume:function(){return this.video?this.video.volume:1},setVolume:function(m){return m===void 0&&(m=1),this.video&&(this.video.volume=o(m,0,1)),this},getPlaybackRate:function(){return this.video?this.video.playbackRate:1},setPlaybackRate:function(m){return this.video&&(this.video.playbackRate=m),this},getLoop:function(){return this.video?this.video.loop:!1},setLoop:function(m){return m===void 0&&(m=!0),this.video&&(this.video.loop=m),this},isPlaying:function(){return this.video?!(this.video.paused||this.video.ended):!1},isPaused:function(){return this.video&&this._playCalled&&this.video.paused||this._codePaused||this._systemPaused},saveTexture:function(m,y){return y===void 0&&(y=!1),this.videoTexture&&(this.scene.sys.textures.renameTexture(this._key,m),this.videoTextureSource.setFlipY(y)),this._key=m,this.flipY=y,!!this.videoTexture},stop:function(m){m===void 0&&(m=!0);var y=this.video;return y&&(this.removeEventHandlers(),y.cancelVideoFrameCallback(this._rfvCallbackId),y.pause()),this.retry=0,this._playCalled=!1,m&&this.emit(h.VIDEO_STOP,this),this},removeVideoElement:function(){var m=this.video;if(m){for(m.parentNode&&m.parentNode.removeChild(m);m.hasChildNodes();)m.removeChild(m.firstChild);m.removeAttribute("autoplay"),m.removeAttribute("src"),this.video=null}},preDestroy:function(){this.stop(!1),this.removeLoadEventHandlers(),this.removeVideoElement();var m=this.scene.sys.game.events;m.off(l.PAUSE,this.globalPause,this),m.off(l.RESUME,this.globalResume,this);var y=this.scene.sys.sound;y&&y.off(c.GLOBAL_MUTE,this.globalMute,this)}});n.exports=g},58352:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d){o.videoTexture&&(x.addToRenderList(o),r.batchSprite(o,o.frame,x,d))};n.exports=T},11511:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(25305),x=r(44603),d=r(23568),h=r(18471);x.register("video",function(l,a){l===void 0&&(l={});var f=d(l,"key",null),c=new h(this.scene,0,0,f);return a!==void 0&&(l.add=a),o(this.scene,c,l),c})},89025:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(18471),x=r(39429);x.register("video",function(d,h,l){return this.displayList.add(new o(this.scene,d,h,l))})},10247:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),x=o,d=o;x=r(29849),d=r(58352),n.exports={renderWebGL:x,renderCanvas:d}},29849:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d){o.videoTexture&&(x.addToRenderList(o),o.pipeline.batchSprite(o,x,d))};n.exports=T},41481:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(10312),x=r(96503),d=r(87902),h=r(83419),l=r(31401),a=r(95643),f=r(87841),c=r(37303),u=new h({Extends:a,Mixins:[l.Depth,l.GetBounds,l.Origin,l.Transform,l.ScrollFactor,l.Visible],initialize:function(g,m,y,C,P){C===void 0&&(C=1),P===void 0&&(P=C),a.call(this,g,"Zone"),this.setPosition(m,y),this.width=C,this.height=P,this.blendMode=o.NORMAL,this.updateDisplayOrigin()},displayWidth:{get:function(){return this.scaleX*this.width},set:function(v){this.scaleX=v/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(v){this.scaleY=v/this.height}},setSize:function(v,g,m){m===void 0&&(m=!0),this.width=v,this.height=g,this.updateDisplayOrigin();var y=this.input;return m&&y&&!y.customHitArea&&(y.hitArea.width=v,y.hitArea.height=g),this},setDisplaySize:function(v,g){return this.displayWidth=v,this.displayHeight=g,this},setCircleDropZone:function(v){return this.setDropZone(new x(0,0,v),d)},setRectangleDropZone:function(v,g){return this.setDropZone(new f(0,0,v,g),c)},setDropZone:function(v,g){return this.input||this.setInteractive(v,g,!0),this},setAlpha:function(){},setBlendMode:function(){},renderCanvas:function(v,g,m){m.addToRenderList(g)},renderWebGL:function(v,g,m){m.addToRenderList(g)}});n.exports=u},95261:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(44603),x=r(23568),d=r(41481);o.register("zone",function(h){var l=x(h,"x",0),a=x(h,"y",0),f=x(h,"width",1),c=x(h,"height",f);return new d(this.scene,l,a,f,c)})},84175:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(41481),x=r(39429);x.register("zone",function(d,h,l,a){return this.displayList.add(new o(this.scene,d,h,l,a))})},95166:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r.radius>0?Math.PI*r.radius*r.radius:0};n.exports=T},96503:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(87902),d=r(26241),h=r(79124),l=r(23777),a=r(28176),f=new o({initialize:function(u,v,g){u===void 0&&(u=0),v===void 0&&(v=0),g===void 0&&(g=0),this.type=l.CIRCLE,this.x=u,this.y=v,this._radius=g,this._diameter=g*2},contains:function(c,u){return x(this,c,u)},getPoint:function(c,u){return d(this,c,u)},getPoints:function(c,u,v){return h(this,c,u,v)},getRandomPoint:function(c){return a(this,c)},setTo:function(c,u,v){return this.x=c,this.y=u,this._radius=v,this._diameter=v*2,this},setEmpty:function(){return this._radius=0,this._diameter=0,this},setPosition:function(c,u){return u===void 0&&(u=c),this.x=c,this.y=u,this},isEmpty:function(){return this._radius<=0},radius:{get:function(){return this._radius},set:function(c){this._radius=c,this._diameter=c*2}},diameter:{get:function(){return this._diameter},set:function(c){this._diameter=c,this._radius=c*.5}},left:{get:function(){return this.x-this._radius},set:function(c){this.x=c+this._radius}},right:{get:function(){return this.x+this._radius},set:function(c){this.x=c-this._radius}},top:{get:function(){return this.y-this._radius},set:function(c){this.y=c+this._radius}},bottom:{get:function(){return this.y+this._radius},set:function(c){this.y=c-this._radius}}});n.exports=f},71562:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return 2*(Math.PI*r.radius)};n.exports=T},92110:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141),x=function(d,h,l){return l===void 0&&(l=new o),l.x=d.x+d.radius*Math.cos(h),l.y=d.y+d.radius*Math.sin(h),l};n.exports=x},42250:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(96503),x=function(d){return new o(d.x,d.y,d.radius)};n.exports=x},87902:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){if(r.radius>0&&o>=r.left&&o<=r.right&&x>=r.top&&x<=r.bottom){var d=(r.x-o)*(r.x-o),h=(r.y-x)*(r.y-x);return d+h<=r.radius*r.radius}else return!1};n.exports=T},5698:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(87902),x=function(d,h){return o(d,h.x,h.y)};n.exports=x},70588:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(87902),x=function(d,h){return o(d,h.x,h.y)&&o(d,h.right,h.y)&&o(d,h.x,h.bottom)&&o(d,h.right,h.bottom)};n.exports=x},26394:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return o.setTo(r.x,r.y,r.radius)};n.exports=T},76278:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return r.x===o.x&&r.y===o.y&&r.radius===o.radius};n.exports=T},2074:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(87841),x=function(d,h){return h===void 0&&(h=new o),h.x=d.left,h.y=d.top,h.width=d.diameter,h.height=d.diameter,h};n.exports=x},26241:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(92110),x=r(62945),d=r(36383),h=r(2141),l=function(a,f,c){c===void 0&&(c=new h);var u=x(f,0,d.PI2);return o(a,u,c)};n.exports=l},79124:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(71562),x=r(92110),d=r(62945),h=r(36383),l=function(a,f,c,u){u===void 0&&(u=[]),!f&&c>0&&(f=o(a)/c);for(var v=0;v<f;v++){var g=d(v/f,0,h.PI2);u.push(x(a,g))}return u};n.exports=l},50884:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){return r.x+=o,r.y+=x,r};n.exports=T},39212:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return r.x+=o.x,r.y+=o.y,r};n.exports=T},28176:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141),x=function(d,h){h===void 0&&(h=new o);var l=2*Math.PI*Math.random(),a=Math.random()+Math.random(),f=a>1?2-a:a,c=f*Math.cos(l),u=f*Math.sin(l);return h.x=d.x+c*d.radius,h.y=d.y+u*d.radius,h};n.exports=x},88911:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(96503);o.Area=r(95166),o.Circumference=r(71562),o.CircumferencePoint=r(92110),o.Clone=r(42250),o.Contains=r(87902),o.ContainsPoint=r(5698),o.ContainsRect=r(70588),o.CopyFrom=r(26394),o.Equals=r(76278),o.GetBounds=r(2074),o.GetPoint=r(26241),o.GetPoints=r(79124),o.Offset=r(50884),o.OffsetPoint=r(39212),o.Random=r(28176),n.exports=o},23777:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={CIRCLE:0,ELLIPSE:1,LINE:2,POINT:3,POLYGON:4,RECTANGLE:5,TRIANGLE:6};n.exports=T},78874:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r.isEmpty()?0:r.getMajorRadius()*r.getMinorRadius()*Math.PI};n.exports=T},92990:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){var o=r.width/2,x=r.height/2,d=Math.pow(o-x,2)/Math.pow(o+x,2);return Math.PI*(o+x)*(1+3*d/(10+Math.sqrt(4-3*d)))};n.exports=T},79522:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141),x=function(d,h,l){l===void 0&&(l=new o);var a=d.width/2,f=d.height/2;return l.x=d.x+a*Math.cos(h),l.y=d.y+f*Math.sin(h),l};n.exports=x},58102:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(8497),x=function(d){return new o(d.x,d.y,d.width,d.height)};n.exports=x},81154:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){if(r.width<=0||r.height<=0)return!1;var d=(o-r.x)/r.width,h=(x-r.y)/r.height;return d*=d,h*=h,d+h<.25};n.exports=T},46662:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(81154),x=function(d,h){return o(d,h.x,h.y)};n.exports=x},1632:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(81154),x=function(d,h){return o(d,h.x,h.y)&&o(d,h.right,h.y)&&o(d,h.x,h.bottom)&&o(d,h.right,h.bottom)};n.exports=x},65534:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return o.setTo(r.x,r.y,r.width,r.height)};n.exports=T},8497:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(81154),d=r(90549),h=r(48320),l=r(23777),a=r(24820),f=new o({initialize:function(u,v,g,m){u===void 0&&(u=0),v===void 0&&(v=0),g===void 0&&(g=0),m===void 0&&(m=0),this.type=l.ELLIPSE,this.x=u,this.y=v,this.width=g,this.height=m},contains:function(c,u){return x(this,c,u)},getPoint:function(c,u){return d(this,c,u)},getPoints:function(c,u,v){return h(this,c,u,v)},getRandomPoint:function(c){return a(this,c)},setTo:function(c,u,v,g){return this.x=c,this.y=u,this.width=v,this.height=g,this},setEmpty:function(){return this.width=0,this.height=0,this},setPosition:function(c,u){return u===void 0&&(u=c),this.x=c,this.y=u,this},setSize:function(c,u){return u===void 0&&(u=c),this.width=c,this.height=u,this},isEmpty:function(){return this.width<=0||this.height<=0},getMinorRadius:function(){return Math.min(this.width,this.height)/2},getMajorRadius:function(){return Math.max(this.width,this.height)/2},left:{get:function(){return this.x-this.width/2},set:function(c){this.x=c+this.width/2}},right:{get:function(){return this.x+this.width/2},set:function(c){this.x=c-this.width/2}},top:{get:function(){return this.y-this.height/2},set:function(c){this.y=c+this.height/2}},bottom:{get:function(){return this.y+this.height/2},set:function(c){this.y=c-this.height/2}}});n.exports=f},36146:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return r.x===o.x&&r.y===o.y&&r.width===o.width&&r.height===o.height};n.exports=T},23694:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(87841),x=function(d,h){return h===void 0&&(h=new o),h.x=d.left,h.y=d.top,h.width=d.width,h.height=d.height,h};n.exports=x},90549:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(79522),x=r(62945),d=r(36383),h=r(2141),l=function(a,f,c){c===void 0&&(c=new h);var u=x(f,0,d.PI2);return o(a,u,c)};n.exports=l},48320:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(92990),x=r(79522),d=r(62945),h=r(36383),l=function(a,f,c,u){u===void 0&&(u=[]),!f&&c>0&&(f=o(a)/c);for(var v=0;v<f;v++){var g=d(v/f,0,h.PI2);u.push(x(a,g))}return u};n.exports=l},73424:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){return r.x+=o,r.y+=x,r};n.exports=T},44808:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return r.x+=o.x,r.y+=o.y,r};n.exports=T},24820:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141),x=function(d,h){h===void 0&&(h=new o);var l=Math.random()*Math.PI*2,a=Math.sqrt(Math.random());return h.x=d.x+a*Math.cos(l)*d.width/2,h.y=d.y+a*Math.sin(l)*d.height/2,h};n.exports=x},49203:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(8497);o.Area=r(78874),o.Circumference=r(92990),o.CircumferencePoint=r(79522),o.Clone=r(58102),o.Contains=r(81154),o.ContainsPoint=r(46662),o.ContainsRect=r(1632),o.CopyFrom=r(65534),o.Equals=r(36146),o.GetBounds=r(23694),o.GetPoint=r(90549),o.GetPoints=r(48320),o.Offset=r(73424),o.OffsetPoint=r(44808),o.Random=r(24820),n.exports=o},55738:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(23777),x=r(79291),d={Circle:r(88911),Ellipse:r(49203),Intersects:r(91865),Line:r(2529),Mesh:r(73090),Point:r(43711),Polygon:r(58423),Rectangle:r(93232),Triangle:r(84435)};d=x(!1,d,o),n.exports=d},2044:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(20339),x=function(d,h){return o(d.x,d.y,h.x,h.y)<=d.radius+h.radius};n.exports=x},81491:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){var x=o.width/2,d=o.height/2,h=Math.abs(r.x-o.x-x),l=Math.abs(r.y-o.y-d),a=x+r.radius,f=d+r.radius;if(h>a||l>f)return!1;if(h<=x||l<=d)return!0;var c=h-x,u=l-d,v=c*c,g=u*u,m=r.radius*r.radius;return v+g<=m};n.exports=T},63376:(n,T,r)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141),x=r(2044),d=function(h,l,a){if(a===void 0&&(a=[]),x(h,l)){var f=h.x,c=h.y,u=h.radius,v=l.x,g=l.y,m=l.radius,y,C,P,w,M;if(c===g)M=(m*m-u*u-v*v+f*f)/(2*(f-v)),y=1,C=-2*g,P=v*v+M*M-2*v*M+g*g-m*m,w=C*C-4*y*P,w===0?a.push(new o(M,-C/(2*y))):w>0&&(a.push(new o(M,(-C+Math.sqrt(w))/(2*y))),a.push(new o(M,(-C-Math.sqrt(w))/(2*y))));else{var R=(f-v)/(c-g),A=(m*m-u*u-v*v+f*f-g*g+c*c)/(2*(c-g));y=R*R+1,C=2*c*R-2*A*R-2*f,P=f*f+c*c+A*A-u*u-2*c*A,w=C*C-4*y*P,w===0?(M=-C/(2*y),a.push(new o(M,A-M*R))):w>0&&(M=(-C+Math.sqrt(w))/(2*y),a.push(new o(M,A-M*R)),M=(-C-Math.sqrt(w))/(2*y),a.push(new o(M,A-M*R)))}}return a};n.exports=d},97439:(n,T,r)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(4042),x=r(81491),d=function(h,l,a){if(a===void 0&&(a=[]),x(h,l)){var f=l.getLineA(),c=l.getLineB(),u=l.getLineC(),v=l.getLineD();o(f,h,a),o(c,h,a),o(u,h,a),o(v,h,a)}return a};n.exports=d},4042:(n,T,r)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141),x=r(80462),d=function(h,l,a){if(a===void 0&&(a=[]),x(h,l)){var f=h.x1,c=h.y1,u=h.x2,v=h.y2,g=l.x,m=l.y,y=l.radius,C=u-f,P=v-c,w=f-g,M=c-m,R=C*C+P*P,A=2*(C*w+P*M),L=w*w+M*M-y*y,F=A*A-4*R*L,G,I;if(F===0){var B=-A/(2*R);G=f+B*C,I=c+B*P,B>=0&&B<=1&&a.push(new o(G,I))}else if(F>0){var k=(-A-Math.sqrt(F))/(2*R);G=f+k*C,I=c+k*P,k>=0&&k<=1&&a.push(new o(G,I));var U=(-A+Math.sqrt(F))/(2*R);G=f+U*C,I=c+U*P,U>=0&&U<=1&&a.push(new o(G,I))}}return a};n.exports=d},36100:(n,T,r)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(25836),x=function(d,h,l,a){l===void 0&&(l=!1);var f=d.x1,c=d.y1,u=d.x2,v=d.y2,g=h.x1,m=h.y1,y=h.x2,C=h.y2,P=u-f,w=v-c,M=y-g,R=C-m,A=P*R-w*M;if(A===0)return null;var L,F,G;if(l){if(L=(P*(m-c)+w*(f-g))/(M*w-R*P),P!==0)F=(g+M*L-f)/P;else if(w!==0)F=(m+R*L-c)/w;else return null;if(F<0||L<0||L>1)return null;G=F}else{if(L=((g-f)*R-(m-c)*M)/A,F=((c-m)*P-(f-g)*w)/A,L<0||L>1||F<0||F>1)return null;G=L}return a===void 0&&(a=new o),a.set(f+P*G,c+w*G,G)};n.exports=x},3073:(n,T,r)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(36100),x=r(23031),d=r(25836),h=new x,l=new d,a=function(f,c,u,v){u===void 0&&(u=!1),v===void 0&&(v=new d);var g=!1;v.set(),l.set();for(var m=c[c.length-1],y=0;y<c.length;y++){var C=c[y];h.setTo(m.x,m.y,C.x,C.y),m=C,o(f,h,u,l)&&(!g||l.z<v.z)&&(v.copy(l),g=!0)}return g?v:null};n.exports=a},56362:(n,T,r)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(25836),x=r(61369),d=r(3073),h=new o,l=function(a,f,c,u){u===void 0&&(u=new x),Array.isArray(f)||(f=[f]);var v=!1;u.set(),h.set();for(var g=0;g<f.length;g++)d(a,f[g].points,c,h)&&(!v||h.z<u.z)&&(u.set(h.x,h.y,h.z,g),v=!0);return v?u:null};n.exports=l},60646:(n,T,r)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141),x=r(76112),d=r(92773),h=function(l,a,f){if(f===void 0&&(f=[]),d(l,a))for(var c=a.getLineA(),u=a.getLineB(),v=a.getLineC(),g=a.getLineD(),m=[new o,new o,new o,new o],y=[x(c,l,m[0]),x(u,l,m[1]),x(v,l,m[2]),x(g,l,m[3])],C=0;C<4;C++)y[C]&&f.push(m[C]);return f};n.exports=h},71147:(n,T,r)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(61369),x=r(56362),d=r(23031),h=new d;function l(c,u,v,g,m){var y=Math.cos(c),C=Math.sin(c);h.setTo(u,v,u+y,v+C);var P=x(h,g,!0);P&&m.push(new o(P.x,P.y,c,P.w))}function a(c,u){return c.z-u.z}var f=function(c,u,v){Array.isArray(v)||(v=[v]);for(var g=[],m=[],y=0;y<v.length;y++)for(var C=v[y].points,P=0;P<C.length;P++){var w=Math.atan2(C[P].y-u,C[P].x-c);m.indexOf(w)===-1&&(l(w,c,u,v,g),l(w-1e-5,c,u,v,g),l(w+1e-5,c,u,v,g),m.push(w))}return g.sort(a)};n.exports=f},68389:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(87841),x=r(59996),d=function(h,l,a){return a===void 0&&(a=new o),x(h,l)&&(a.x=Math.max(h.x,l.x),a.y=Math.max(h.y,l.y),a.width=Math.min(h.right,l.right)-a.x,a.height=Math.min(h.bottom,l.bottom)-a.y),a};n.exports=d},52784:(n,T,r)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(60646),x=r(59996),d=function(h,l,a){if(a===void 0&&(a=[]),x(h,l)){var f=h.getLineA(),c=h.getLineB(),u=h.getLineC(),v=h.getLineD();o(f,l,a),o(c,l,a),o(u,l,a),o(v,l,a)}return a};n.exports=d},26341:(n,T,r)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(89265),x=r(60646),d=function(h,l,a){if(a===void 0&&(a=[]),o(h,l)){var f=l.getLineA(),c=l.getLineB(),u=l.getLineC();x(f,h,a),x(c,h,a),x(u,h,a)}return a};n.exports=d},38720:(n,T,r)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(4042),x=r(67636),d=function(h,l,a){if(a===void 0&&(a=[]),x(h,l)){var f=h.getLineA(),c=h.getLineB(),u=h.getLineC();o(f,l,a),o(c,l,a),o(u,l,a)}return a};n.exports=d},13882:(n,T,r)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141),x=r(2822),d=r(76112),h=function(l,a,f){if(f===void 0&&(f=[]),x(l,a))for(var c=l.getLineA(),u=l.getLineB(),v=l.getLineC(),g=[new o,new o,new o],m=[d(c,a,g[0]),d(u,a,g[1]),d(v,a,g[2])],y=0;y<3;y++)m[y]&&f.push(g[y]);return f};n.exports=h},75636:(n,T,r)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(82944),x=r(13882),d=function(h,l,a){if(a===void 0&&(a=[]),o(h,l)){var f=l.getLineA(),c=l.getLineB(),u=l.getLineC();x(h,f,a),x(h,c,a),x(h,u,a)}return a};n.exports=d},80462:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(87902),x=r(2141),d=new x,h=function(l,a,f){if(f===void 0&&(f=d),o(a,l.x1,l.y1))return f.x=l.x1,f.y=l.y1,!0;if(o(a,l.x2,l.y2))return f.x=l.x2,f.y=l.y2,!0;var c=l.x2-l.x1,u=l.y2-l.y1,v=a.x-l.x1,g=a.y-l.y1,m=c*c+u*u,y=c,C=u;if(m>0){var P=(v*c+g*u)/m;y*=P,C*=P}f.x=l.x1+y,f.y=l.y1+C;var w=y*y+C*C;return w<=m&&y*c+C*u>=0&&o(a,f.x,f.y)};n.exports=h},76112:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){var d=r.x1,h=r.y1,l=r.x2,a=r.y2,f=o.x1,c=o.y1,u=o.x2,v=o.y2;if(d===l&&h===a||f===u&&c===v)return!1;var g=(v-c)*(l-d)-(u-f)*(a-h);if(g===0)return!1;var m=((u-f)*(h-c)-(v-c)*(d-f))/g,y=((l-d)*(h-c)-(a-h)*(d-f))/g;return m<0||m>1||y<0||y>1?!1:(x&&(x.x=d+m*(l-d),x.y=h+m*(a-h)),!0)};n.exports=T},92773:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){var x=r.x1,d=r.y1,h=r.x2,l=r.y2,a=o.x,f=o.y,c=o.right,u=o.bottom,v=0;if(x>=a&&x<=c&&d>=f&&d<=u||h>=a&&h<=c&&l>=f&&l<=u)return!0;if(x<a&&h>=a){if(v=d+(l-d)*(a-x)/(h-x),v>f&&v<=u)return!0}else if(x>c&&h<=c&&(v=d+(l-d)*(c-x)/(h-x),v>=f&&v<=u))return!0;if(d<f&&l>=f){if(v=x+(h-x)*(f-d)/(l-d),v>=a&&v<=c)return!0}else if(d>u&&l<=u&&(v=x+(h-x)*(u-d)/(l-d),v>=a&&v<=c))return!0;return!1};n.exports=T},16204:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){x===void 0&&(x=1);var d=o.x1,h=o.y1,l=o.x2,a=o.y2,f=r.x,c=r.y,u=(l-d)*(l-d)+(a-h)*(a-h);if(u===0)return!1;var v=((f-d)*(l-d)+(c-h)*(a-h))/u;if(v<0)return Math.sqrt((d-f)*(d-f)+(h-c)*(h-c))<=x;if(v>=0&&v<=1){var g=((h-c)*(l-d)-(d-f)*(a-h))/u;return Math.abs(g)*Math.sqrt(u)<=x}else return Math.sqrt((l-f)*(l-f)+(a-c)*(a-c))<=x};n.exports=T},14199:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(16204),x=function(d,h){if(!o(d,h))return!1;var l=Math.min(h.x1,h.x2),a=Math.max(h.x1,h.x2),f=Math.min(h.y1,h.y2),c=Math.max(h.y1,h.y2);return d.x>=l&&d.x<=a&&d.y>=f&&d.y<=c};n.exports=x},59996:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return r.width<=0||r.height<=0||o.width<=0||o.height<=0?!1:!(r.right<o.x||r.bottom<o.y||r.x>o.right||r.y>o.bottom)};n.exports=T},89265:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(76112),x=r(37303),d=r(48653),h=r(77493),l=function(a,f){if(f.left>a.right||f.right<a.left||f.top>a.bottom||f.bottom<a.top)return!1;var c=f.getLineA(),u=f.getLineB(),v=f.getLineC();if(x(a,c.x1,c.y1)||x(a,c.x2,c.y2)||x(a,u.x1,u.y1)||x(a,u.x2,u.y2)||x(a,v.x1,v.y1)||x(a,v.x2,v.y2))return!0;var g=a.getLineA(),m=a.getLineB(),y=a.getLineC(),C=a.getLineD();if(o(c,g)||o(c,m)||o(c,y)||o(c,C)||o(u,g)||o(u,m)||o(u,y)||o(u,C)||o(v,g)||o(v,m)||o(v,y)||o(v,C))return!0;var P=h(a),w=d(f,P,!0);return w.length>0};n.exports=l},84411:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d,h,l){return l===void 0&&(l=0),!(o>r.right+l||x<r.left-l||d>r.bottom+l||h<r.top-l)};n.exports=T},67636:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(80462),x=r(10690),d=function(h,l){return h.left>l.right||h.right<l.left||h.top>l.bottom||h.bottom<l.top?!1:!!(x(h,l.x,l.y)||o(h.getLineA(),l)||o(h.getLineB(),l)||o(h.getLineC(),l))};n.exports=d},2822:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(76112),x=function(d,h){return!!(d.contains(h.x1,h.y1)||d.contains(h.x2,h.y2)||o(d.getLineA(),h)||o(d.getLineB(),h)||o(d.getLineC(),h))};n.exports=x},82944:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(48653),x=r(71694),d=r(76112),h=function(l,a){if(l.left>a.right||l.right<a.left||l.top>a.bottom||l.bottom<a.top)return!1;var f=l.getLineA(),c=l.getLineB(),u=l.getLineC(),v=a.getLineA(),g=a.getLineB(),m=a.getLineC();if(d(f,v)||d(f,g)||d(f,m)||d(c,v)||d(c,g)||d(c,m)||d(u,v)||d(u,g)||d(u,m))return!0;var y=x(l),C=o(a,y,!0);return C.length>0||(y=x(a),C=o(l,y,!0),C.length>0)};n.exports=h},91865:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={CircleToCircle:r(2044),CircleToRectangle:r(81491),GetCircleToCircle:r(63376),GetCircleToRectangle:r(97439),GetLineToCircle:r(4042),GetLineToLine:r(36100),GetLineToPoints:r(3073),GetLineToPolygon:r(56362),GetLineToRectangle:r(60646),GetRaysFromPointToPolygon:r(71147),GetRectangleIntersection:r(68389),GetRectangleToRectangle:r(52784),GetRectangleToTriangle:r(26341),GetTriangleToCircle:r(38720),GetTriangleToLine:r(13882),GetTriangleToTriangle:r(75636),LineToCircle:r(80462),LineToLine:r(76112),LineToRectangle:r(92773),PointToLine:r(16204),PointToLineSegment:r(14199),RectangleToRectangle:r(59996),RectangleToTriangle:r(89265),RectangleToValues:r(84411),TriangleToCircle:r(67636),TriangleToLine:r(2822),TriangleToTriangle:r(82944)}},91938:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return Math.atan2(r.y2-r.y1,r.x2-r.x1)};n.exports=T},84993:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){o===void 0&&(o=1),x===void 0&&(x=[]);var d=Math.round(r.x1),h=Math.round(r.y1),l=Math.round(r.x2),a=Math.round(r.y2),f=Math.abs(l-d),c=Math.abs(a-h),u=d<l?1:-1,v=h<a?1:-1,g=f-c;x.push({x:d,y:h});for(var m=1;!(d===l&&h===a);){var y=g<<1;y>-c&&(g-=c,d+=u),y<f&&(g+=f,h+=v),m%o===0&&x.push({x:d,y:h}),m++}return x};n.exports=T},36469:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){var d=o-(r.x1+r.x2)/2,h=x-(r.y1+r.y2)/2;return r.x1+=d,r.y1+=h,r.x2+=d,r.y2+=h,r};n.exports=T},31116:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(23031),x=function(d){return new o(d.x1,d.y1,d.x2,d.y2)};n.exports=x},59944:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return o.setTo(r.x1,r.y1,r.x2,r.y2)};n.exports=T},59220:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return r.x1===o.x1&&r.y1===o.y1&&r.x2===o.x2&&r.y2===o.y2};n.exports=T},78177:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(35001),x=function(d,h,l){l===void 0&&(l=h);var a=o(d),f=d.x2-d.x1,c=d.y2-d.y1;return h&&(d.x1=d.x1-f/a*h,d.y1=d.y1-c/a*h),l&&(d.x2=d.x2+f/a*l,d.y2=d.y2+c/a*l),d};n.exports=x},26708:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(52816),x=r(6113),d=r(2141),h=function(l,a,f,c,u){c===void 0&&(c=0),u===void 0&&(u=[]);var v=[],g=l.x1,m=l.y1,y=l.x2-g,C=l.y2-m,P=x(a,u),w,M,R=f-1;for(w=0;w<R;w++)M=P(w/R),v.push(new d(g+y*M,m+C*M));if(M=P(1),v.push(new d(g+y*M,m+C*M)),c>0){var A=v[0],L=[A];for(w=1;w<v.length-1;w++){var F=v[w];o(A,F)>=c&&(L.push(F),A=F)}var G=v[v.length-1];return o(A,G)<c&&L.pop(),L.push(G),L}else return v};n.exports=h},32125:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141),x=function(d,h){return h===void 0&&(h=new o),h.x=(d.x1+d.x2)/2,h.y=(d.y1+d.y2)/2,h};n.exports=x},99569:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141),x=function(d,h,l){l===void 0&&(l=new o);var a=d.x1,f=d.y1,c=d.x2,u=d.y2,v=(c-a)*(c-a)+(u-f)*(u-f);if(v===0)return l;var g=((h.x-a)*(c-a)+(h.y-f)*(u-f))/v;return l.x=a+g*(c-a),l.y=f+g*(u-f),l};n.exports=x},34638:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(36383),x=r(91938),d=r(2141),h=function(l,a){a===void 0&&(a=new d);var f=x(l)-o.TAU;return a.x=Math.cos(f),a.y=Math.sin(f),a};n.exports=h},13151:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141),x=function(d,h,l){return l===void 0&&(l=new o),l.x=d.x1+(d.x2-d.x1)*h,l.y=d.y1+(d.y2-d.y1)*h,l};n.exports=x},15258:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(35001),x=r(2141),d=function(h,l,a,f){f===void 0&&(f=[]),!l&&a>0&&(l=o(h)/a);for(var c=h.x1,u=h.y1,v=h.x2,g=h.y2,m=0;m<l;m++){var y=m/l,C=c+(v-c)*y,P=u+(g-u)*y;f.push(new x(C,P))}return f};n.exports=d},26408:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){var x=r.x1,d=r.y1,h=r.x2,l=r.y2,a=(h-x)*(h-x)+(l-d)*(l-d);if(a===0)return!1;var f=((d-o.y)*(h-x)-(x-o.x)*(l-d))/a;return Math.abs(f)*Math.sqrt(a)};n.exports=T},98770:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return Math.abs(r.y1-r.y2)};n.exports=T},35001:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return Math.sqrt((r.x2-r.x1)*(r.x2-r.x1)+(r.y2-r.y1)*(r.y2-r.y1))};n.exports=T},23031:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(13151),d=r(15258),h=r(23777),l=r(65822),a=r(26099),f=new o({initialize:function(u,v,g,m){u===void 0&&(u=0),v===void 0&&(v=0),g===void 0&&(g=0),m===void 0&&(m=0),this.type=h.LINE,this.x1=u,this.y1=v,this.x2=g,this.y2=m},getPoint:function(c,u){return x(this,c,u)},getPoints:function(c,u,v){return d(this,c,u,v)},getRandomPoint:function(c){return l(this,c)},setTo:function(c,u,v,g){return c===void 0&&(c=0),u===void 0&&(u=0),v===void 0&&(v=0),g===void 0&&(g=0),this.x1=c,this.y1=u,this.x2=v,this.y2=g,this},setFromObjects:function(c,u){return this.x1=c.x,this.y1=c.y,this.x2=u.x,this.y2=u.y,this},getPointA:function(c){return c===void 0&&(c=new a),c.set(this.x1,this.y1),c},getPointB:function(c){return c===void 0&&(c=new a),c.set(this.x2,this.y2),c},left:{get:function(){return Math.min(this.x1,this.x2)},set:function(c){this.x1<=this.x2?this.x1=c:this.x2=c}},right:{get:function(){return Math.max(this.x1,this.x2)},set:function(c){this.x1>this.x2?this.x1=c:this.x2=c}},top:{get:function(){return Math.min(this.y1,this.y2)},set:function(c){this.y1<=this.y2?this.y1=c:this.y2=c}},bottom:{get:function(){return Math.max(this.y1,this.y2)},set:function(c){this.y1>this.y2?this.y1=c:this.y2=c}}});n.exports=f},64795:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(36383),x=r(15994),d=r(91938),h=function(l){var a=d(l)-o.TAU;return x(a,-Math.PI,Math.PI)};n.exports=h},52616:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(36383),x=r(91938),d=function(h){return Math.cos(x(h)-o.TAU)};n.exports=d},87231:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(36383),x=r(91938),d=function(h){return Math.sin(x(h)-o.TAU)};n.exports=d},89662:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){return r.x1+=o,r.y1+=x,r.x2+=o,r.y2+=x,r};n.exports=T},71165:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return-((r.x2-r.x1)/(r.y2-r.y1))};n.exports=T},65822:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141),x=function(d,h){h===void 0&&(h=new o);var l=Math.random();return h.x=d.x1+l*(d.x2-d.x1),h.y=d.y1+l*(d.y2-d.y1),h};n.exports=x},69777:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(91938),x=r(64795),d=function(h,l){return 2*x(l)-Math.PI-o(h)};n.exports=d},39706:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(64400),x=function(d,h){var l=(d.x1+d.x2)/2,a=(d.y1+d.y2)/2;return o(d,l,a,h)};n.exports=x},82585:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(64400),x=function(d,h,l){return o(d,h.x,h.y,l)};n.exports=x},64400:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d){var h=Math.cos(d),l=Math.sin(d),a=r.x1-o,f=r.y1-x;return r.x1=a*h-f*l+o,r.y1=a*l+f*h+x,a=r.x2-o,f=r.y2-x,r.x2=a*h-f*l+o,r.y2=a*l+f*h+x,r};n.exports=T},62377:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d,h){return r.x1=o,r.y1=x,r.x2=o+Math.cos(d)*h,r.y2=x+Math.sin(d)*h,r};n.exports=T},71366:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return(r.y2-r.y1)/(r.x2-r.x1)};n.exports=T},10809:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return Math.abs(r.x1-r.x2)};n.exports=T},2529:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(23031);o.Angle=r(91938),o.BresenhamPoints=r(84993),o.CenterOn=r(36469),o.Clone=r(31116),o.CopyFrom=r(59944),o.Equals=r(59220),o.Extend=r(78177),o.GetEasedPoints=r(26708),o.GetMidPoint=r(32125),o.GetNearestPoint=r(99569),o.GetNormal=r(34638),o.GetPoint=r(13151),o.GetPoints=r(15258),o.GetShortestDistance=r(26408),o.Height=r(98770),o.Length=r(35001),o.NormalAngle=r(64795),o.NormalX=r(52616),o.NormalY=r(87231),o.Offset=r(89662),o.PerpSlope=r(71165),o.Random=r(65822),o.ReflectAngle=r(69777),o.Rotate=r(39706),o.RotateAroundPoint=r(82585),o.RotateAroundXY=r(64400),o.SetToAngle=r(62377),o.Slope=r(71366),o.Width=r(10809),n.exports=o},83997:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(87841),d=r(26099);function h(a,f,c,u){var v=a-c,g=f-u,m=v*v+g*g;return Math.sqrt(m)}var l=new o({initialize:function(f,c,u){this.vertex1=f,this.vertex2=c,this.vertex3=u,this.bounds=new x,this._inCenter=new d},getInCenter:function(a){a===void 0&&(a=!0);var f=this.vertex1,c=this.vertex2,u=this.vertex3,v,g,m,y,C,P;a?(v=f.x,g=f.y,m=c.x,y=c.y,C=u.x,P=u.y):(v=f.vx,g=f.vy,m=c.vx,y=c.vy,C=u.vx,P=u.vy);var w=h(C,P,m,y),M=h(v,g,C,P),R=h(m,y,v,g),A=w+M+R;return this._inCenter.set((v*w+m*M+C*R)/A,(g*w+y*M+P*R)/A)},contains:function(a,f,c){var u=this.vertex1,v=this.vertex2,g=this.vertex3,m=u.vx,y=u.vy,C=v.vx,P=v.vy,w=g.vx,M=g.vy;if(c){var R=c.a,A=c.b,L=c.c,F=c.d,G=c.e,I=c.f;m=u.vx*R+u.vy*L+G,y=u.vx*A+u.vy*F+I,C=v.vx*R+v.vy*L+G,P=v.vx*A+v.vy*F+I,w=g.vx*R+g.vy*L+G,M=g.vx*A+g.vy*F+I}var B=w-m,k=M-y,U=C-m,H=P-y,X=a-m,j=f-y,J=B*B+k*k,Y=B*U+k*H,$=B*X+k*j,z=U*U+H*H,V=U*X+H*j,K=J*z-Y*Y,Q=K===0?0:1/K,_=(z*$-Y*V)*Q,tt=(J*V-Y*$)*Q;return _>=0&&tt>=0&&_+tt<1},isCounterClockwise:function(a){var f=this.vertex1,c=this.vertex2,u=this.vertex3,v=(c.vx-f.vx)*(u.vy-f.vy)-(c.vy-f.vy)*(u.vx-f.vx);return a<=0?v>=0:v<0},load:function(a,f,c,u,v){return c=this.vertex1.load(a,f,c,u,v),c=this.vertex2.load(a,f,c,u,v),c=this.vertex3.load(a,f,c,u,v),c},transformCoordinatesLocal:function(a,f,c,u){return this.vertex1.transformCoordinatesLocal(a,f,c,u),this.vertex2.transformCoordinatesLocal(a,f,c,u),this.vertex3.transformCoordinatesLocal(a,f,c,u),this},updateBounds:function(){var a=this.vertex1,f=this.vertex2,c=this.vertex3,u=this.bounds;return u.x=Math.min(a.vx,f.vx,c.vx),u.y=Math.min(a.vy,f.vy,c.vy),u.width=Math.max(a.vx,f.vx,c.vx)-u.x,u.height=Math.max(a.vy,f.vy,c.vy)-u.y,this},isInView:function(a,f,c,u,v,g,m,y,C,P,w){this.update(u,v,g,m,y,C,P,w);var M=this.vertex1,R=this.vertex2,A=this.vertex3;if(M.ta<=0&&R.ta<=0&&A.ta<=0||f&&!this.isCounterClockwise(c))return!1;var L=this.bounds;L.x=Math.min(M.tx,R.tx,A.tx),L.y=Math.min(M.ty,R.ty,A.ty),L.width=Math.max(M.tx,R.tx,A.tx)-L.x,L.height=Math.max(M.ty,R.ty,A.ty)-L.y;var F=a.x+a.width,G=a.y+a.height;return L.width<=0||L.height<=0||a.width<=0||a.height<=0?!1:!(L.right<a.x||L.bottom<a.y||L.x>F||L.y>G)},scrollUV:function(a,f){return this.vertex1.scrollUV(a,f),this.vertex2.scrollUV(a,f),this.vertex3.scrollUV(a,f),this},scaleUV:function(a,f){return this.vertex1.scaleUV(a,f),this.vertex2.scaleUV(a,f),this.vertex3.scaleUV(a,f),this},setColor:function(a){return this.vertex1.color=a,this.vertex2.color=a,this.vertex3.color=a,this},update:function(a,f,c,u,v,g,m,y){return this.vertex1.update(f,c,u,v,g,m,y,a),this.vertex2.update(f,c,u,v,g,m,y,a),this.vertex3.update(f,c,u,v,g,m,y,a),this},translate:function(a,f){f===void 0&&(f=0);var c=this.vertex1,u=this.vertex2,v=this.vertex3;return c.x+=a,c.y+=f,u.x+=a,u.y+=f,v.x+=a,v.y+=f,this},x:{get:function(){return this.getInCenter().x},set:function(a){var f=this.getInCenter();this.translate(a-f.x,0)}},y:{get:function(){return this.getInCenter().y},set:function(a){var f=this.getInCenter();this.translate(0,a-f.y)}},alpha:{get:function(){var a=this.vertex1,f=this.vertex2,c=this.vertex3;return(a.alpha+f.alpha+c.alpha)/3},set:function(a){this.vertex1.alpha=a,this.vertex2.alpha=a,this.vertex3.alpha=a}},depth:{get:function(){var a=this.vertex1,f=this.vertex2,c=this.vertex3;return(a.vz+f.vz+c.vz)/3}},destroy:function(){this.vertex1=null,this.vertex2=null,this.vertex3=null}});n.exports=l},48803:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83997),x=r(95540),d=r(37867),h=r(25836),l=r(39318),a=new h,f=new h,c=new d,u=function(v){var g=x(v,"mesh"),m=x(v,"texture",null),y=x(v,"frame"),C=x(v,"width",1),P=x(v,"height",C),w=x(v,"widthSegments",1),M=x(v,"heightSegments",w),R=x(v,"x",0),A=x(v,"y",0),L=x(v,"z",0),F=x(v,"rotateX",0),G=x(v,"rotateY",0),I=x(v,"rotateZ",0),B=x(v,"zIsUp",!0),k=x(v,"isOrtho",g?g.dirtyCache[11]:!1),U=x(v,"colors",[16777215]),H=x(v,"alphas",[1]),X=x(v,"tile",!1),j=x(v,"flipY",!1),J=x(v,"width",null),Y={faces:[],verts:[]};a.set(R,A,L),f.set(F,G,I),c.fromRotationXYTranslation(f,a,B);var $;if(!m&&g)m=g.texture,y||($=g.frame);else if(g&&typeof m=="string")m=g.scene.sys.textures.get(m);else if(!m)return Y;$||($=m.get(y)),!J&&k&&m&&g&&(C=$.width/g.height,P=$.height/g.height);var z=C/2,V=P/2,K=Math.floor(w),Q=Math.floor(M),_=K+1,tt=Q+1,rt=C/K,ot=P/Q,ft=[],ct=[],gt,xt,wt=0,Tt=1,Ht=0,Xt=1;$&&(wt=$.u0,Tt=$.u1,j?(Ht=$.v1,Xt=$.v0):(Ht=$.v0,Xt=$.v1));var Kt=Tt-wt,Pt=Xt-Ht;for(xt=0;xt<tt;xt++){var Nt=xt*ot-V;for(gt=0;gt<_;gt++){var Vt=gt*rt-z;ct.push(Vt,-Nt);var ee=wt+Kt*(gt/K),Ee=Ht+Pt*(xt/Q);ft.push(ee,Ee)}}Array.isArray(U)||(U=[U]),Array.isArray(H)||(H=[H]);var we=0,ve=0;for(xt=0;xt<Q;xt++)for(gt=0;gt<K;gt++){var Fe=(gt+_*xt)*2,ai=(gt+_*(xt+1))*2,Gt=(gt+1+_*(xt+1))*2,Wt=(gt+1+_*xt)*2,fe=U[ve],xe=H[we],Ie=new l(ct[Fe],ct[Fe+1],0,ft[Fe],ft[Fe+1],fe,xe).transformMat4(c),Ri=new l(ct[ai],ct[ai+1],0,ft[ai],ft[ai+1],fe,xe).transformMat4(c),Ci=new l(ct[Wt],ct[Wt+1],0,ft[Wt],ft[Wt+1],fe,xe).transformMat4(c),Xi=new l(ct[ai],ct[ai+1],0,ft[ai],ft[ai+1],fe,xe).transformMat4(c),ti=new l(ct[Gt],ct[Gt+1],0,ft[Gt],ft[Gt+1],fe,xe).transformMat4(c),Hi=new l(ct[Wt],ct[Wt+1],0,ft[Wt],ft[Wt+1],fe,xe).transformMat4(c);X&&(Ie.setUVs(wt,Xt),Ri.setUVs(wt,Ht),Ci.setUVs(Tt,Xt),Xi.setUVs(wt,Ht),ti.setUVs(Tt,Ht),Hi.setUVs(Tt,Xt)),ve++,ve===U.length&&(ve=0),we++,we===H.length&&(we=0),Y.verts.push(Ie,Ri,Ci,Xi,ti,Hi),Y.faces.push(new o(Ie,Ri,Ci),new o(Xi,ti,Hi))}return g&&(g.faces=g.faces.concat(Y.faces),g.vertices=g.vertices.concat(Y.verts)),Y};n.exports=u},34684:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83997),x=r(37867),d=r(25836),h=r(39318),l=new d,a=new d,f=new x,c=function(u,v,g,m,y,C,P,w,M,R){g===void 0&&(g=1),m===void 0&&(m=0),y===void 0&&(y=0),C===void 0&&(C=0),P===void 0&&(P=0),w===void 0&&(w=0),M===void 0&&(M=0),R===void 0&&(R=!0);var A={faces:[],verts:[]},L=u.materials;l.set(m,y,C),a.set(P,w,M),f.fromRotationXYTranslation(a,l,R);for(var F=0;F<u.models.length;F++)for(var G=u.models[F],I=G.vertices,B=G.textureCoords,k=G.faces,U=0;U<k.length;U++){var H=k[U],X=H.vertices[0],j=H.vertices[1],J=H.vertices[2],Y=I[X.vertexIndex],$=I[j.vertexIndex],z=I[J.vertexIndex],V=X.textureCoordsIndex,K=j.textureCoordsIndex,Q=J.textureCoordsIndex,_=V===-1?{u:0,v:1}:B[V],tt=K===-1?{u:0,v:0}:B[K],rt=Q===-1?{u:1,v:1}:B[Q],ot=16777215;H.material!==""&&L[H.material]&&(ot=L[H.material]);var ft=new h(Y.x*g,Y.y*g,Y.z*g,_.u,_.v,ot).transformMat4(f),ct=new h($.x*g,$.y*g,$.z*g,tt.u,tt.v,ot).transformMat4(f),gt=new h(z.x*g,z.y*g,z.z*g,rt.u,rt.v,ot).transformMat4(f);A.verts.push(ft,ct,gt),A.faces.push(new o(ft,ct,gt))}return v&&(v.faces=v.faces.concat(A.faces),v.vertices=v.vertices.concat(A.verts)),A};n.exports=c},92515:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83997),x=r(39318),d=function(h,l,a,f,c,u,v,g){if(f===void 0&&(f=!1),u===void 0&&(u=16777215),v===void 0&&(v=1),g===void 0&&(g=!1),h.length!==l.length&&!f){console.warn("GenerateVerts: vertices and uvs count not equal");return}var m={faces:[],vertices:[]},y,C,P,w,M,R,A,L,F,G,I,B=f?3:2,k=Array.isArray(u),U=Array.isArray(v);if(Array.isArray(a)&&a.length>0)for(y=0;y<a.length;y++){var H=a[y],X=a[y]*2,j=a[y]*B;C=h[j],P=h[j+1],w=f?h[j+2]:0,M=l[X],R=l[X+1],g&&(R=1-R),A=k?u[H]:u,L=U?v[H]:v,F=0,G=0,I=0,c&&(F=c[j],G=c[j+1],I=f?c[j+2]:0),m.vertices.push(new x(C,P,w,M,R,A,L,F,G,I))}else{var J=0,Y=0;for(y=0;y<h.length;y+=B)C=h[y],P=h[y+1],w=f?h[y+2]:0,M=l[J],R=l[J+1],A=k?u[Y]:u,L=U?v[Y]:v,F=0,G=0,I=0,c&&(F=c[y],G=c[y+1],I=f?c[y+2]:0),m.vertices.push(new x(C,P,w,M,R,A,L,F,G,I)),J+=2,Y++}for(y=0;y<m.vertices.length;y+=3){var $=m.vertices[y],z=m.vertices[y+1],V=m.vertices[y+2];m.faces.push(new o($,z,V))}return m};n.exports=d},85048:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=!0,r="untitled",o="",x="";function d(C){var P=C.indexOf("#");return P>-1?C.substring(0,P):C}function h(C){return C.models.length===0&&C.models.push({faces:[],name:r,textureCoords:[],vertexNormals:[],vertices:[]}),o="",C.models[C.models.length-1]}function l(C,P){var w=C.length>=2?C[1]:r;P.models.push({faces:[],name:w,textureCoords:[],vertexNormals:[],vertices:[]}),o=""}function a(C){C.length===2&&(o=C[1])}function f(C,P){var w=C.length,M=w>=2?parseFloat(C[1]):0,R=w>=3?parseFloat(C[2]):0,A=w>=4?parseFloat(C[3]):0;h(P).vertices.push({x:M,y:R,z:A})}function c(C,P){var w=C.length,M=w>=2?parseFloat(C[1]):0,R=w>=3?parseFloat(C[2]):0,A=w>=4?parseFloat(C[3]):0;isNaN(M)&&(M=0),isNaN(R)&&(R=0),isNaN(A)&&(A=0),T&&(R=1-R),h(P).textureCoords.push({u:M,v:R,w:A})}function u(C,P){var w=C.length,M=w>=2?parseFloat(C[1]):0,R=w>=3?parseFloat(C[2]):0,A=w>=4?parseFloat(C[3]):0;h(P).vertexNormals.push({x:M,y:R,z:A})}function v(C,P){var w=C.length-1;if(!(w<3)){for(var M={group:o,material:x,vertices:[]},R=0;R<w;R++){var A=C[R+1],L=A.split("/"),F=L.length;if(!(F<1||F>3)){var G=0,I=0,B=0;G=parseInt(L[0],10),F>1&&L[1]!==""&&(I=parseInt(L[1],10)),F>2&&(B=parseInt(L[2],10)),G!==0&&(G<0&&(G=h(P).vertices.length+1+G),I-=1,G-=1,B-=1,M.vertices.push({textureCoordsIndex:I,vertexIndex:G,vertexNormalIndex:B}))}}h(P).faces.push(M)}}function g(C,P){C.length>=2&&P.materialLibraries.push(C[1])}function m(C){C.length>=2&&(x=C[1])}var y=function(C,P){P===void 0&&(P=!0),T=P;var w={materials:{},materialLibraries:[],models:[]};o="",x="";for(var M=C.split(`
`),R=0;R<M.length;R++){var A=d(M[R]),L=A.replace(/\s\s+/g," ").trim().split(" ");switch(L[0].toLowerCase()){case"o":l(L,w);break;case"g":a(L);break;case"v":f(L,w);break;case"vt":c(L,w);break;case"vn":u(L,w);break;case"f":v(L,w);break;case"mtllib":g(L,w);break;case"usemtl":m(L);break}}return w};n.exports=y},61485:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(37589),x=function(d){for(var h={},l=d.split(`
`),a="",f=0;f<l.length;f++){var c=l[f].trim();if(!(c.indexOf("#")===0||c==="")){var u=c.replace(/\s\s+/g," ").trim().split(" ");switch(u[0].toLowerCase()){case"newmtl":{a=u[1];break}case"kd":{var v=Math.floor(u[1]*255),g=u.length>=2?Math.floor(u[2]*255):v,m=u.length>=3?Math.floor(u[3]*255):v;h[a]=o(v,g,m);break}}}}return h};n.exports=x},92570:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d){var h,l;if(x===void 0&&d===void 0){var a=r.getInCenter();h=a.x,l=a.y}var f=Math.cos(o),c=Math.sin(o),u=r.vertex1,v=r.vertex2,g=r.vertex3,m=u.x-h,y=u.y-l;u.set(m*f-y*c+h,m*c+y*f+l),m=v.x-h,y=v.y-l,v.set(m*f-y*c+h,m*c+y*f+l),m=g.x-h,y=g.y-l,g.set(m*f-y*c+h,m*c+y*f+l)};n.exports=T},39318:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(70554),d=r(25836),h=new o({Extends:d,initialize:function(a,f,c,u,v,g,m,y,C,P){g===void 0&&(g=16777215),m===void 0&&(m=1),y===void 0&&(y=0),C===void 0&&(C=0),P===void 0&&(P=0),d.call(this,a,f,c),this.vx=0,this.vy=0,this.vz=0,this.nx=y,this.ny=C,this.nz=P,this.u=u,this.v=v,this.color=g,this.alpha=m,this.tx=0,this.ty=0,this.ta=0,this.tu=u,this.tv=v},setUVs:function(l,a){return this.u=l,this.v=a,this.tu=l,this.tv=a,this},scrollUV:function(l,a){return this.tu+=l,this.tv+=a,this},scaleUV:function(l,a){return this.tu=this.u*l,this.tv=this.v*a,this},transformCoordinatesLocal:function(l,a,f,c){var u=this.x,v=this.y,g=this.z,m=l.val,y=u*m[0]+v*m[4]+g*m[8]+m[12],C=u*m[1]+v*m[5]+g*m[9]+m[13],P=u*m[2]+v*m[6]+g*m[10]+m[14],w=u*m[3]+v*m[7]+g*m[11]+m[15];this.vx=y/w*a,this.vy=-(C/w)*f,c<=0?this.vz=P/w:this.vz=-(P/w)},resize:function(l,a,f,c,u,v){return this.x=l,this.y=a,this.vx=this.x*f,this.vy=-this.y*c,this.vz=0,u<.5?this.vx+=f*(.5-u):u>.5&&(this.vx-=f*(u-.5)),v<.5?this.vy+=c*(.5-v):v>.5&&(this.vy-=c*(v-.5)),this},update:function(l,a,f,c,u,v,g,m){var y=this.vx*l+this.vy*f+u,C=this.vx*a+this.vy*c+v;return g&&(y=Math.round(y),C=Math.round(C)),this.tx=y,this.ty=C,this.ta=this.alpha*m,this},load:function(l,a,f,c,u){return l[++f]=this.tx,l[++f]=this.ty,l[++f]=this.tu,l[++f]=this.tv,l[++f]=c,l[++f]=u,a[++f]=x.getTintAppendFloatAlpha(this.color,this.ta),f}});n.exports=h},73090:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={Face:r(83997),GenerateGridVerts:r(48803),GenerateObjVerts:r(34684),GenerateVerts:r(92515),ParseObj:r(85048),ParseObjMaterial:r(61485),RotateFace:r(92570),Vertex:r(39318)};n.exports=o},96550:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r.setTo(Math.ceil(r.x),Math.ceil(r.y))};n.exports=T},99706:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141),x=function(d){return new o(d.x,d.y)};n.exports=x},68010:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return o.setTo(r.x,r.y)};n.exports=T},27814:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return r.x===o.x&&r.y===o.y};n.exports=T},73565:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r.setTo(Math.floor(r.x),Math.floor(r.y))};n.exports=T},87555:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141),x=function(d,h){if(h===void 0&&(h=new o),!Array.isArray(d))throw new Error("GetCentroid points argument must be an array");var l=d.length;if(l<1)throw new Error("GetCentroid points array must not be empty");if(l===1)h.x=d[0].x,h.y=d[0].y;else{for(var a=0;a<l;a++)h.x+=d[a].x,h.y+=d[a].y;h.x/=l,h.y/=l}return h};n.exports=x},28793:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return Math.sqrt(r.x*r.x+r.y*r.y)};n.exports=T},44405:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r.x*r.x+r.y*r.y};n.exports=T},20873:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(87841),x=function(d,h){h===void 0&&(h=new o);for(var l=Number.NEGATIVE_INFINITY,a=Number.POSITIVE_INFINITY,f=Number.NEGATIVE_INFINITY,c=Number.POSITIVE_INFINITY,u=0;u<d.length;u++){var v=d[u];v.x>l&&(l=v.x),v.x<a&&(a=v.x),v.y>f&&(f=v.y),v.y<c&&(c=v.y)}return h.x=a,h.y=c,h.width=l-a,h.height=f-c,h};n.exports=x},26152:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141),x=function(d,h,l,a){return l===void 0&&(l=0),a===void 0&&(a=new o),a.x=d.x+(h.x-d.x)*l,a.y=d.y+(h.y-d.y)*l,a};n.exports=x},55767:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r.setTo(r.y,r.x)};n.exports=T},79432:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141),x=function(d,h){return h===void 0&&(h=new o),h.setTo(-d.x,-d.y)};n.exports=x},2141:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(23777),d=new o({initialize:function(l,a){l===void 0&&(l=0),a===void 0&&(a=l),this.type=x.POINT,this.x=l,this.y=a},setTo:function(h,l){return h===void 0&&(h=0),l===void 0&&(l=h),this.x=h,this.y=l,this}});n.exports=d},72930:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141),x=r(44405),d=function(h,l,a){a===void 0&&(a=new o);var f=h.x*l.x+h.y*l.y,c=f/x(l);return c!==0&&(a.x=c*l.x,a.y=c*l.y),a};n.exports=d},62880:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141),x=function(d,h,l){l===void 0&&(l=new o);var a=d.x*h.x+d.y*h.y;return a!==0&&(l.x=a*h.x,l.y=a*h.y),l};n.exports=x},15093:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(28793),x=function(d,h){if(d.x!==0||d.y!==0){var l=o(d);d.x/=l,d.y/=l}return d.x*=h,d.y*=h,d};n.exports=x},43711:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141);o.Ceil=r(96550),o.Clone=r(99706),o.CopyFrom=r(68010),o.Equals=r(27814),o.Floor=r(73565),o.GetCentroid=r(87555),o.GetMagnitude=r(28793),o.GetMagnitudeSq=r(44405),o.GetRectangleFromPoints=r(20873),o.Interpolate=r(26152),o.Invert=r(55767),o.Negative=r(79432),o.Project=r(72930),o.ProjectUnit=r(62880),o.SetMagnitude=r(15093),n.exports=o},12306:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(25717),x=function(d){return new o(d.points)};n.exports=x},63814:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){for(var d=!1,h=-1,l=r.points.length-1;++h<r.points.length;l=h){var a=r.points[h].x,f=r.points[h].y,c=r.points[l].x,u=r.points[l].y;(f<=x&&x<u||u<=x&&x<f)&&o<(c-a)*(x-f)/(u-f)+a&&(d=!d)}return d};n.exports=T},99338:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(63814),x=function(d,h){return o(d,h.x,h.y)};n.exports=x},94811:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function T(Y,$,z){z=z||2;var V=$&&$.length,K=V?$[0]*z:Y.length,Q=r(Y,0,K,z,!0),_=[];if(!Q||Q.next===Q.prev)return _;var tt,rt,ot,ft,ct,gt,xt;if(V&&(Q=f(Y,$,Q,z)),Y.length>80*z){tt=ot=Y[0],rt=ft=Y[1];for(var wt=z;wt<K;wt+=z)ct=Y[wt],gt=Y[wt+1],ct<tt&&(tt=ct),gt<rt&&(rt=gt),ct>ot&&(ot=ct),gt>ft&&(ft=gt);xt=Math.max(ot-tt,ft-rt),xt=xt!==0?32767/xt:0}return x(Q,_,z,tt,rt,xt,0),_}function r(Y,$,z,V,K){var Q,_;if(K===J(Y,$,z,V)>0)for(Q=$;Q<z;Q+=V)_=H(Q,Y[Q],Y[Q+1],_);else for(Q=z-V;Q>=$;Q-=V)_=H(Q,Y[Q],Y[Q+1],_);return _&&A(_,_.next)&&(X(_),_=_.next),_}function o(Y,$){if(!Y)return Y;$||($=Y);var z=Y,V;do if(V=!1,!z.steiner&&(A(z,z.next)||R(z.prev,z,z.next)===0)){if(X(z),z=$=z.prev,z===z.next)break;V=!0}else z=z.next;while(V||z!==$);return $}function x(Y,$,z,V,K,Q,_){if(Y){!_&&Q&&m(Y,V,K,Q);for(var tt=Y,rt,ot;Y.prev!==Y.next;){if(rt=Y.prev,ot=Y.next,Q?h(Y,V,K,Q):d(Y)){$.push(rt.i/z|0),$.push(Y.i/z|0),$.push(ot.i/z|0),X(Y),Y=ot.next,tt=ot.next;continue}if(Y=ot,Y===tt){_?_===1?(Y=l(o(Y),$,z),x(Y,$,z,V,K,Q,2)):_===2&&a(Y,$,z,V,K,Q):x(o(Y),$,z,V,K,Q,1);break}}}}function d(Y){var $=Y.prev,z=Y,V=Y.next;if(R($,z,V)>=0)return!1;for(var K=$.x,Q=z.x,_=V.x,tt=$.y,rt=z.y,ot=V.y,ft=K<Q?K<_?K:_:Q<_?Q:_,ct=tt<rt?tt<ot?tt:ot:rt<ot?rt:ot,gt=K>Q?K>_?K:_:Q>_?Q:_,xt=tt>rt?tt>ot?tt:ot:rt>ot?rt:ot,wt=V.next;wt!==$;){if(wt.x>=ft&&wt.x<=gt&&wt.y>=ct&&wt.y<=xt&&w(K,tt,Q,rt,_,ot,wt.x,wt.y)&&R(wt.prev,wt,wt.next)>=0)return!1;wt=wt.next}return!0}function h(Y,$,z,V){var K=Y.prev,Q=Y,_=Y.next;if(R(K,Q,_)>=0)return!1;for(var tt=K.x,rt=Q.x,ot=_.x,ft=K.y,ct=Q.y,gt=_.y,xt=tt<rt?tt<ot?tt:ot:rt<ot?rt:ot,wt=ft<ct?ft<gt?ft:gt:ct<gt?ct:gt,Tt=tt>rt?tt>ot?tt:ot:rt>ot?rt:ot,Ht=ft>ct?ft>gt?ft:gt:ct>gt?ct:gt,Xt=C(xt,wt,$,z,V),Kt=C(Tt,Ht,$,z,V),Pt=Y.prevZ,Nt=Y.nextZ;Pt&&Pt.z>=Xt&&Nt&&Nt.z<=Kt;){if(Pt.x>=xt&&Pt.x<=Tt&&Pt.y>=wt&&Pt.y<=Ht&&Pt!==K&&Pt!==_&&w(tt,ft,rt,ct,ot,gt,Pt.x,Pt.y)&&R(Pt.prev,Pt,Pt.next)>=0||(Pt=Pt.prevZ,Nt.x>=xt&&Nt.x<=Tt&&Nt.y>=wt&&Nt.y<=Ht&&Nt!==K&&Nt!==_&&w(tt,ft,rt,ct,ot,gt,Nt.x,Nt.y)&&R(Nt.prev,Nt,Nt.next)>=0))return!1;Nt=Nt.nextZ}for(;Pt&&Pt.z>=Xt;){if(Pt.x>=xt&&Pt.x<=Tt&&Pt.y>=wt&&Pt.y<=Ht&&Pt!==K&&Pt!==_&&w(tt,ft,rt,ct,ot,gt,Pt.x,Pt.y)&&R(Pt.prev,Pt,Pt.next)>=0)return!1;Pt=Pt.prevZ}for(;Nt&&Nt.z<=Kt;){if(Nt.x>=xt&&Nt.x<=Tt&&Nt.y>=wt&&Nt.y<=Ht&&Nt!==K&&Nt!==_&&w(tt,ft,rt,ct,ot,gt,Nt.x,Nt.y)&&R(Nt.prev,Nt,Nt.next)>=0)return!1;Nt=Nt.nextZ}return!0}function l(Y,$,z){var V=Y;do{var K=V.prev,Q=V.next.next;!A(K,Q)&&L(K,V,V.next,Q)&&B(K,Q)&&B(Q,K)&&($.push(K.i/z|0),$.push(V.i/z|0),$.push(Q.i/z|0),X(V),X(V.next),V=Y=Q),V=V.next}while(V!==Y);return o(V)}function a(Y,$,z,V,K,Q){var _=Y;do{for(var tt=_.next.next;tt!==_.prev;){if(_.i!==tt.i&&M(_,tt)){var rt=U(_,tt);_=o(_,_.next),rt=o(rt,rt.next),x(_,$,z,V,K,Q,0),x(rt,$,z,V,K,Q,0);return}tt=tt.next}_=_.next}while(_!==Y)}function f(Y,$,z,V){var K=[],Q,_,tt,rt,ot;for(Q=0,_=$.length;Q<_;Q++)tt=$[Q]*V,rt=Q<_-1?$[Q+1]*V:Y.length,ot=r(Y,tt,rt,V,!1),ot===ot.next&&(ot.steiner=!0),K.push(P(ot));for(K.sort(c),Q=0;Q<K.length;Q++)z=u(K[Q],z);return z}function c(Y,$){return Y.x-$.x}function u(Y,$){var z=v(Y,$);if(!z)return $;var V=U(z,Y);return o(V,V.next),o(z,z.next)}function v(Y,$){var z=$,V=Y.x,K=Y.y,Q=-1/0,_;do{if(K<=z.y&&K>=z.next.y&&z.next.y!==z.y){var tt=z.x+(K-z.y)*(z.next.x-z.x)/(z.next.y-z.y);if(tt<=V&&tt>Q&&(Q=tt,_=z.x<z.next.x?z:z.next,tt===V))return _}z=z.next}while(z!==$);if(!_)return null;var rt=_,ot=_.x,ft=_.y,ct=1/0,gt;z=_;do V>=z.x&&z.x>=ot&&V!==z.x&&w(K<ft?V:Q,K,ot,ft,K<ft?Q:V,K,z.x,z.y)&&(gt=Math.abs(K-z.y)/(V-z.x),B(z,Y)&&(gt<ct||gt===ct&&(z.x>_.x||z.x===_.x&&g(_,z)))&&(_=z,ct=gt)),z=z.next;while(z!==rt);return _}function g(Y,$){return R(Y.prev,Y,$.prev)<0&&R($.next,Y,Y.next)<0}function m(Y,$,z,V){var K=Y;do K.z===0&&(K.z=C(K.x,K.y,$,z,V)),K.prevZ=K.prev,K.nextZ=K.next,K=K.next;while(K!==Y);K.prevZ.nextZ=null,K.prevZ=null,y(K)}function y(Y){var $,z,V,K,Q,_,tt,rt,ot=1;do{for(z=Y,Y=null,Q=null,_=0;z;){for(_++,V=z,tt=0,$=0;$<ot&&(tt++,V=V.nextZ,!!V);$++);for(rt=ot;tt>0||rt>0&&V;)tt!==0&&(rt===0||!V||z.z<=V.z)?(K=z,z=z.nextZ,tt--):(K=V,V=V.nextZ,rt--),Q?Q.nextZ=K:Y=K,K.prevZ=Q,Q=K;z=V}Q.nextZ=null,ot*=2}while(_>1);return Y}function C(Y,$,z,V,K){return Y=(Y-z)*K|0,$=($-V)*K|0,Y=(Y|Y<<8)&16711935,Y=(Y|Y<<4)&252645135,Y=(Y|Y<<2)&858993459,Y=(Y|Y<<1)&1431655765,$=($|$<<8)&16711935,$=($|$<<4)&252645135,$=($|$<<2)&858993459,$=($|$<<1)&1431655765,Y|$<<1}function P(Y){var $=Y,z=Y;do($.x<z.x||$.x===z.x&&$.y<z.y)&&(z=$),$=$.next;while($!==Y);return z}function w(Y,$,z,V,K,Q,_,tt){return(K-_)*($-tt)>=(Y-_)*(Q-tt)&&(Y-_)*(V-tt)>=(z-_)*($-tt)&&(z-_)*(Q-tt)>=(K-_)*(V-tt)}function M(Y,$){return Y.next.i!==$.i&&Y.prev.i!==$.i&&!I(Y,$)&&(B(Y,$)&&B($,Y)&&k(Y,$)&&(R(Y.prev,Y,$.prev)||R(Y,$.prev,$))||A(Y,$)&&R(Y.prev,Y,Y.next)>0&&R($.prev,$,$.next)>0)}function R(Y,$,z){return($.y-Y.y)*(z.x-$.x)-($.x-Y.x)*(z.y-$.y)}function A(Y,$){return Y.x===$.x&&Y.y===$.y}function L(Y,$,z,V){var K=G(R(Y,$,z)),Q=G(R(Y,$,V)),_=G(R(z,V,Y)),tt=G(R(z,V,$));return!!(K!==Q&&_!==tt||K===0&&F(Y,z,$)||Q===0&&F(Y,V,$)||_===0&&F(z,Y,V)||tt===0&&F(z,$,V))}function F(Y,$,z){return $.x<=Math.max(Y.x,z.x)&&$.x>=Math.min(Y.x,z.x)&&$.y<=Math.max(Y.y,z.y)&&$.y>=Math.min(Y.y,z.y)}function G(Y){return Y>0?1:Y<0?-1:0}function I(Y,$){var z=Y;do{if(z.i!==Y.i&&z.next.i!==Y.i&&z.i!==$.i&&z.next.i!==$.i&&L(z,z.next,Y,$))return!0;z=z.next}while(z!==Y);return!1}function B(Y,$){return R(Y.prev,Y,Y.next)<0?R(Y,$,Y.next)>=0&&R(Y,Y.prev,$)>=0:R(Y,$,Y.prev)<0||R(Y,Y.next,$)<0}function k(Y,$){var z=Y,V=!1,K=(Y.x+$.x)/2,Q=(Y.y+$.y)/2;do z.y>Q!=z.next.y>Q&&z.next.y!==z.y&&K<(z.next.x-z.x)*(Q-z.y)/(z.next.y-z.y)+z.x&&(V=!V),z=z.next;while(z!==Y);return V}function U(Y,$){var z=new j(Y.i,Y.x,Y.y),V=new j($.i,$.x,$.y),K=Y.next,Q=$.prev;return Y.next=$,$.prev=Y,z.next=K,K.prev=z,V.next=z,z.prev=V,Q.next=V,V.prev=Q,V}function H(Y,$,z,V){var K=new j(Y,$,z);return V?(K.next=V.next,K.prev=V,V.next.prev=K,V.next=K):(K.prev=K,K.next=K),K}function X(Y){Y.next.prev=Y.prev,Y.prev.next=Y.next,Y.prevZ&&(Y.prevZ.nextZ=Y.nextZ),Y.nextZ&&(Y.nextZ.prevZ=Y.prevZ)}function j(Y,$,z){this.i=Y,this.x=$,this.y=z,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}T.deviation=function(Y,$,z,V){var K=$&&$.length,Q=K?$[0]*z:Y.length,_=Math.abs(J(Y,0,Q,z));if(K)for(var tt=0,rt=$.length;tt<rt;tt++){var ot=$[tt]*z,ft=tt<rt-1?$[tt+1]*z:Y.length;_-=Math.abs(J(Y,ot,ft,z))}var ct=0;for(tt=0;tt<V.length;tt+=3){var gt=V[tt]*z,xt=V[tt+1]*z,wt=V[tt+2]*z;ct+=Math.abs((Y[gt]-Y[wt])*(Y[xt+1]-Y[gt+1])-(Y[gt]-Y[xt])*(Y[wt+1]-Y[gt+1]))}return _===0&&ct===0?0:Math.abs((ct-_)/_)};function J(Y,$,z,V){for(var K=0,Q=$,_=z-V;Q<z;Q+=V)K+=(Y[_]-Y[Q])*(Y[Q+1]+Y[_+1]),_=Q;return K}T.flatten=function(Y){for(var $=Y[0][0].length,z={vertices:[],holes:[],dimensions:$},V=0,K=0;K<Y.length;K++){for(var Q=0;Q<Y[K].length;Q++)for(var _=0;_<$;_++)z.vertices.push(Y[K][Q][_]);K>0&&(V+=Y[K-1].length,z.holes.push(V))}return z},n.exports=T},13829:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(87841),x=function(d,h){h===void 0&&(h=new o);for(var l=1/0,a=1/0,f=-l,c=-a,u,v=0;v<d.points.length;v++)u=d.points[v],l=Math.min(l,u.x),a=Math.min(a,u.y),f=Math.max(f,u.x),c=Math.max(c,u.y);return h.x=l,h.y=a,h.width=f-l,h.height=c-a,h};n.exports=x},26173:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){o===void 0&&(o=[]);for(var x=0;x<r.points.length;x++)o.push(r.points[x].x),o.push(r.points[x].y);return o};n.exports=T},9564:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(35001),x=r(23031),d=r(30052),h=function(l,a,f,c){c===void 0&&(c=[]);var u=l.points,v=d(l);!a&&f>0&&(a=v/f);for(var g=0;g<a;g++)for(var m=v*(g/a),y=0,C=0;C<u.length;C++){var P=u[C],w=u[(C+1)%u.length],M=new x(P.x,P.y,w.x,w.y),R=o(M);if(m<y||m>y+R){y+=R;continue}var A=M.getPoint((m-y)/R);c.push(A);break}return c};n.exports=h},30052:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(35001),x=r(23031),d=function(h){for(var l=h.points,a=0,f=0;f<l.length;f++){var c=l[f],u=l[(f+1)%l.length],v=new x(c.x,c.y,u.x,u.y);a+=o(v)}return a};n.exports=d},25717:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(63814),d=r(9564),h=r(23777),l=new o({initialize:function(f){this.type=h.POLYGON,this.area=0,this.points=[],f&&this.setTo(f)},contains:function(a,f){return x(this,a,f)},setTo:function(a){if(this.area=0,this.points=[],typeof a=="string"&&(a=a.split(" ")),!Array.isArray(a))return this;for(var f,c=0;c<a.length;c++)f={x:0,y:0},typeof a[c]=="number"||typeof a[c]=="string"?(f.x=parseFloat(a[c]),f.y=parseFloat(a[c+1]),c++):Array.isArray(a[c])?(f.x=a[c][0],f.y=a[c][1]):(f.x=a[c].x,f.y=a[c].y),this.points.push(f);return this.calculateArea(),this},calculateArea:function(){if(this.points.length<3)return this.area=0,this.area;for(var a=0,f,c,u=0;u<this.points.length-1;u++)f=this.points[u],c=this.points[u+1],a+=(c.x-f.x)*(f.y+c.y);return f=this.points[0],c=this.points[this.points.length-1],a+=(f.x-c.x)*(c.y+f.y),this.area=-a*.5,this.area},getPoints:function(a,f,c){return d(this,a,f,c)}});n.exports=l},8133:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r.points.reverse(),r};n.exports=T},29524:n=>{function T(l,a){var f=l.x-a.x,c=l.y-a.y;return f*f+c*c}function r(l,a,f){var c=a.x,u=a.y,v=f.x-c,g=f.y-u;if(v!==0||g!==0){var m=((l.x-c)*v+(l.y-u)*g)/(v*v+g*g);m>1?(c=f.x,u=f.y):m>0&&(c+=v*m,u+=g*m)}return v=l.x-c,g=l.y-u,v*v+g*g}function o(l,a){for(var f=l[0],c=[f],u,v=1,g=l.length;v<g;v++)u=l[v],T(u,f)>a&&(c.push(u),f=u);return f!==u&&c.push(u),c}function x(l,a,f,c,u){for(var v=c,g,m=a+1;m<f;m++){var y=r(l[m],l[a],l[f]);y>v&&(g=m,v=y)}v>c&&(g-a>1&&x(l,a,g,c,u),u.push(l[g]),f-g>1&&x(l,g,f,c,u))}function d(l,a){var f=l.length-1,c=[l[0]];return x(l,0,f,a,c),c.push(l[f]),c}var h=function(l,a,f){a===void 0&&(a=1),f===void 0&&(f=!1);var c=l.points;if(c.length>2){var u=a*a;f||(c=o(c,u)),l.setTo(d(c,u))}return l};n.exports=h},5469:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Igor Ognichenko <ognichenko.igor@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(o,x){return o[0]=x[0],o[1]=x[1],o},r=function(o){var x,d=[],h=o.points;for(x=0;x<h.length;x++)d.push([h[x].x,h[x].y]);var l=[];for(d.length>0&&l.push(T([0,0],d[0])),x=0;x<d.length-1;x++){var a=d[x],f=d[x+1],c=a[0],u=a[1],v=f[0],g=f[1];l.push([.85*c+.15*v,.85*u+.15*g]),l.push([.15*c+.85*v,.15*u+.85*g])}return d.length>1&&l.push(T([0,0],d[d.length-1])),o.setTo(l)};n.exports=r},24709:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){for(var d=r.points,h=0;h<d.length;h++)d[h].x+=o,d[h].y+=x;return r};n.exports=T},58423:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(25717);o.Clone=r(12306),o.Contains=r(63814),o.ContainsPoint=r(99338),o.Earcut=r(94811),o.GetAABB=r(13829),o.GetNumberArray=r(26173),o.GetPoints=r(9564),o.Perimeter=r(30052),o.Reverse=r(8133),o.Simplify=r(29524),o.Smooth=r(5469),o.Translate=r(24709),n.exports=o},62224:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r.width*r.height};n.exports=T},98615:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r.x=Math.ceil(r.x),r.y=Math.ceil(r.y),r};n.exports=T},31688:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r.x=Math.ceil(r.x),r.y=Math.ceil(r.y),r.width=Math.ceil(r.width),r.height=Math.ceil(r.height),r};n.exports=T},67502:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){return r.x=o-r.width/2,r.y=x-r.height/2,r};n.exports=T},65085:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(87841),x=function(d){return new o(d.x,d.y,d.width,d.height)};n.exports=x},37303:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){return r.width<=0||r.height<=0?!1:r.x<=o&&r.x+r.width>=o&&r.y<=x&&r.y+r.height>=x};n.exports=T},96553:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(37303),x=function(d,h){return o(d,h.x,h.y)};n.exports=x},70273:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return o.width*o.height>r.width*r.height?!1:o.x>r.x&&o.x<r.right&&o.right>r.x&&o.right<r.right&&o.y>r.y&&o.y<r.bottom&&o.bottom>r.y&&o.bottom<r.bottom};n.exports=T},43459:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return o.setTo(r.x,r.y,r.width,r.height)};n.exports=T},77493:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return o===void 0&&(o=[]),o.push({x:r.x,y:r.y}),o.push({x:r.right,y:r.y}),o.push({x:r.right,y:r.bottom}),o.push({x:r.x,y:r.bottom}),o};n.exports=T},9219:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return r.x===o.x&&r.y===o.y&&r.width===o.width&&r.height===o.height};n.exports=T},53751:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(8249),x=function(d,h){var l=o(d);return l<o(h)?d.setSize(h.height*l,h.height):d.setSize(h.width,h.width/l),d.setPosition(h.centerX-d.width/2,h.centerY-d.height/2)};n.exports=x},16088:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(8249),x=function(d,h){var l=o(d);return l>o(h)?d.setSize(h.height*l,h.height):d.setSize(h.width,h.width/l),d.setPosition(h.centerX-d.width/2,h.centerY-d.height/2)};n.exports=x},80774:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r.x=Math.floor(r.x),r.y=Math.floor(r.y),r};n.exports=T},83859:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r.x=Math.floor(r.x),r.y=Math.floor(r.y),r.width=Math.floor(r.width),r.height=Math.floor(r.height),r};n.exports=T},19217:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(87841),x=r(36383),d=function(h,l){if(l===void 0&&(l=new o),h.length===0)return l;for(var a=Number.MAX_VALUE,f=Number.MAX_VALUE,c=x.MIN_SAFE_INTEGER,u=x.MIN_SAFE_INTEGER,v,g,m,y=0;y<h.length;y++)v=h[y],Array.isArray(v)?(g=v[0],m=v[1]):(g=v.x,m=v.y),a=Math.min(a,g),f=Math.min(f,m),c=Math.max(c,g),u=Math.max(u,m);return l.x=a,l.y=f,l.width=c-a,l.height=u-f,l};n.exports=d},9477:(n,T,r)=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(87841),x=function(d,h,l,a,f){return f===void 0&&(f=new o),f.setTo(Math.min(d,l),Math.min(h,a),Math.abs(d-l),Math.abs(h-a))};n.exports=x},8249:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r.height===0?NaN:r.width/r.height};n.exports=T},27165:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141),x=function(d,h){return h===void 0&&(h=new o),h.x=d.centerX,h.y=d.centerY,h};n.exports=x},20812:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(13019),x=r(2141),d=function(h,l,a){if(a===void 0&&(a=new x),l<=0||l>=1)return a.x=h.x,a.y=h.y,a;var f=o(h)*l;return l>.5?(f-=h.width+h.height,f<=h.width?(a.x=h.right-f,a.y=h.bottom):(a.x=h.x,a.y=h.bottom-(f-h.width))):f<=h.width?(a.x=h.x+f,a.y=h.y):(a.x=h.right,a.y=h.y+(f-h.width)),a};n.exports=d},34819:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(20812),x=r(13019),d=function(h,l,a,f){f===void 0&&(f=[]),!l&&a>0&&(l=x(h)/a);for(var c=0;c<l;c++){var u=c/l;f.push(o(h,u))}return f};n.exports=d},51313:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141),x=function(d,h){return h===void 0&&(h=new o),h.x=d.width,h.y=d.height,h};n.exports=x},86091:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(67502),x=function(d,h,l){var a=d.centerX,f=d.centerY;return d.setSize(d.width+h*2,d.height+l*2),o(d,a,f)};n.exports=x},53951:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(87841),x=r(59996),d=function(h,l,a){return a===void 0&&(a=new o),x(h,l)?(a.x=Math.max(h.x,l.x),a.y=Math.max(h.y,l.y),a.width=Math.min(h.right,l.right)-a.x,a.height=Math.min(h.bottom,l.bottom)-a.y):a.setEmpty(),a};n.exports=d},14649:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(13019),x=r(2141),d=function(h,l,a,f){if(f===void 0&&(f=[]),!l&&!a)return f;l?a=Math.round(o(h)/l):l=o(h)/a;for(var c=h.x,u=h.y,v=0,g=0;g<a;g++)switch(f.push(new x(c,u)),v){case 0:c+=l,c>=h.right&&(v=1,u+=c-h.right,c=h.right);break;case 1:u+=l,u>=h.bottom&&(v=2,c-=u-h.bottom,u=h.bottom);break;case 2:c-=l,c<=h.left&&(v=3,u-=h.left-c,c=h.left);break;case 3:u-=l,u<=h.top&&(v=0,u=h.top);break}return f};n.exports=d},33595:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){for(var x=r.x,d=r.right,h=r.y,l=r.bottom,a=0;a<o.length;a++)x=Math.min(x,o[a].x),d=Math.max(d,o[a].x),h=Math.min(h,o[a].y),l=Math.max(l,o[a].y);return r.x=x,r.y=h,r.width=d-x,r.height=l-h,r};n.exports=T},20074:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){var x=Math.min(r.x,o.x),d=Math.max(r.right,o.right);r.x=x,r.width=d-x;var h=Math.min(r.y,o.y),l=Math.max(r.bottom,o.bottom);return r.y=h,r.height=l-h,r};n.exports=T},92171:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){var d=Math.min(r.x,o),h=Math.max(r.right,o);r.x=d,r.width=h-d;var l=Math.min(r.y,x),a=Math.max(r.bottom,x);return r.y=l,r.height=a-l,r};n.exports=T},42981:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){return r.x+=o,r.y+=x,r};n.exports=T},46907:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return r.x+=o.x,r.y+=o.y,r};n.exports=T},60170:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return r.x<o.right&&r.right>o.x&&r.y<o.bottom&&r.bottom>o.y};n.exports=T},13019:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return 2*(r.width+r.height)};n.exports=T},85133:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141),x=r(39506),d=function(h,l,a){a===void 0&&(a=new o),l=x(l);var f=Math.sin(l),c=Math.cos(l),u=c>0?h.width/2:h.width/-2,v=f>0?h.height/2:h.height/-2;return Math.abs(u*f)<Math.abs(v*c)?v=u*f/c:u=v*c/f,a.x=u+h.centerX,a.y=v+h.centerY,a};n.exports=d},26597:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141),x=function(d,h){return h===void 0&&(h=new o),h.x=d.x+Math.random()*d.width,h.y=d.y+Math.random()*d.height,h};n.exports=x},86470:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(30976),x=r(70273),d=r(2141),h=function(l,a,f){if(f===void 0&&(f=new d),x(l,a))switch(o(0,3)){case 0:f.x=l.x+Math.random()*(a.right-l.x),f.y=l.y+Math.random()*(a.top-l.y);break;case 1:f.x=a.x+Math.random()*(l.right-a.x),f.y=a.bottom+Math.random()*(l.bottom-a.bottom);break;case 2:f.x=l.x+Math.random()*(a.x-l.x),f.y=a.y+Math.random()*(l.bottom-a.y);break;case 3:f.x=a.right+Math.random()*(l.right-a.right),f.y=l.y+Math.random()*(a.bottom-l.y);break}return f};n.exports=h},87841:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(37303),d=r(20812),h=r(34819),l=r(23777),a=r(23031),f=r(26597),c=new o({initialize:function(v,g,m,y){v===void 0&&(v=0),g===void 0&&(g=0),m===void 0&&(m=0),y===void 0&&(y=0),this.type=l.RECTANGLE,this.x=v,this.y=g,this.width=m,this.height=y},contains:function(u,v){return x(this,u,v)},getPoint:function(u,v){return d(this,u,v)},getPoints:function(u,v,g){return h(this,u,v,g)},getRandomPoint:function(u){return f(this,u)},setTo:function(u,v,g,m){return this.x=u,this.y=v,this.width=g,this.height=m,this},setEmpty:function(){return this.setTo(0,0,0,0)},setPosition:function(u,v){return v===void 0&&(v=u),this.x=u,this.y=v,this},setSize:function(u,v){return v===void 0&&(v=u),this.width=u,this.height=v,this},isEmpty:function(){return this.width<=0||this.height<=0},getLineA:function(u){return u===void 0&&(u=new a),u.setTo(this.x,this.y,this.right,this.y),u},getLineB:function(u){return u===void 0&&(u=new a),u.setTo(this.right,this.y,this.right,this.bottom),u},getLineC:function(u){return u===void 0&&(u=new a),u.setTo(this.right,this.bottom,this.x,this.bottom),u},getLineD:function(u){return u===void 0&&(u=new a),u.setTo(this.x,this.bottom,this.x,this.y),u},left:{get:function(){return this.x},set:function(u){u>=this.right?this.width=0:this.width=this.right-u,this.x=u}},right:{get:function(){return this.x+this.width},set:function(u){u<=this.x?this.width=0:this.width=u-this.x}},top:{get:function(){return this.y},set:function(u){u>=this.bottom?this.height=0:this.height=this.bottom-u,this.y=u}},bottom:{get:function(){return this.y+this.height},set:function(u){u<=this.y?this.height=0:this.height=u-this.y}},centerX:{get:function(){return this.x+this.width/2},set:function(u){this.x=u-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(u){this.y=u-this.height/2}}});n.exports=c},94845:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return r.width===o.width&&r.height===o.height};n.exports=T},31730:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){return x===void 0&&(x=o),r.width*=o,r.height*=x,r};n.exports=T},36899:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(87841),x=function(d,h,l){l===void 0&&(l=new o);var a=Math.min(d.x,h.x),f=Math.min(d.y,h.y),c=Math.max(d.right,h.right)-a,u=Math.max(d.bottom,h.bottom)-f;return l.setTo(a,f,c,u)};n.exports=x},93232:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(87841);o.Area=r(62224),o.Ceil=r(98615),o.CeilAll=r(31688),o.CenterOn=r(67502),o.Clone=r(65085),o.Contains=r(37303),o.ContainsPoint=r(96553),o.ContainsRect=r(70273),o.CopyFrom=r(43459),o.Decompose=r(77493),o.Equals=r(9219),o.FitInside=r(53751),o.FitOutside=r(16088),o.Floor=r(80774),o.FloorAll=r(83859),o.FromPoints=r(19217),o.FromXY=r(9477),o.GetAspectRatio=r(8249),o.GetCenter=r(27165),o.GetPoint=r(20812),o.GetPoints=r(34819),o.GetSize=r(51313),o.Inflate=r(86091),o.Intersection=r(53951),o.MarchingAnts=r(14649),o.MergePoints=r(33595),o.MergeRect=r(20074),o.MergeXY=r(92171),o.Offset=r(42981),o.OffsetPoint=r(46907),o.Overlaps=r(60170),o.Perimeter=r(13019),o.PerimeterPoint=r(85133),o.Random=r(26597),o.RandomOutside=r(86470),o.SameDimensions=r(94845),o.Scale=r(31730),o.Union=r(36899),n.exports=o},41658:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){var o=r.x1,x=r.y1,d=r.x2,h=r.y2,l=r.x3,a=r.y3;return Math.abs(((l-o)*(h-x)-(d-o)*(a-x))/2)};n.exports=T},39208:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(16483),x=function(d,h,l){var a=l*(Math.sqrt(3)/2),f=d,c=h,u=d+l/2,v=h+a,g=d-l/2,m=h+a;return new o(f,c,u,v,g,m)};n.exports=x},39545:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(94811),x=r(16483),d=function(h,l,a,f,c){l===void 0&&(l=null),a===void 0&&(a=1),f===void 0&&(f=1),c===void 0&&(c=[]);for(var u=o(h,l),v,g,m,y,C,P,w,M,R,A=0;A<u.length;A+=3)v=u[A],g=u[A+1],m=u[A+2],y=h[v*2]*a,C=h[v*2+1]*f,P=h[g*2]*a,w=h[g*2+1]*f,M=h[m*2]*a,R=h[m*2+1]*f,c.push(new x(y,C,P,w,M,R));return c};n.exports=d},90301:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(16483),x=function(d,h,l,a){a===void 0&&(a=l);var f=d,c=h,u=d,v=h-a,g=d+l,m=h;return new o(f,c,u,v,g,m)};n.exports=x},23707:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(97523),x=r(13584),d=function(h,l,a,f){f===void 0&&(f=o);var c=f(h),u=l-c.x,v=a-c.y;return x(h,u,v)};n.exports=d},97523:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141),x=function(d,h){return h===void 0&&(h=new o),h.x=(d.x1+d.x2+d.x3)/3,h.y=(d.y1+d.y2+d.y3)/3,h};n.exports=x},24951:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(26099);function x(h,l,a,f){return h*f-l*a}var d=function(h,l){l===void 0&&(l=new o);var a=h.x3,f=h.y3,c=h.x1-a,u=h.y1-f,v=h.x2-a,g=h.y2-f,m=2*x(c,u,v,g),y=x(u,c*c+u*u,g,v*v+g*g),C=x(c,c*c+u*u,v,v*v+g*g);return l.x=a-y/m,l.y=f+C/m,l};n.exports=d},85614:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(96503),x=function(d,h){h===void 0&&(h=new o);var l=d.x1,a=d.y1,f=d.x2,c=d.y2,u=d.x3,v=d.y3,g=f-l,m=c-a,y=u-l,C=v-a,P=g*(l+f)+m*(a+c),w=y*(l+u)+C*(a+v),M=2*(g*(v-c)-m*(u-f)),R,A;if(Math.abs(M)<1e-6){var L=Math.min(l,f,u),F=Math.min(a,c,v);R=(Math.max(l,f,u)-L)*.5,A=(Math.max(a,c,v)-F)*.5,h.x=L+R,h.y=F+A,h.radius=Math.sqrt(R*R+A*A)}else h.x=(C*P-m*w)/M,h.y=(g*w-y*P)/M,R=h.x-l,A=h.y-a,h.radius=Math.sqrt(R*R+A*A);return h};n.exports=x},74422:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(16483),x=function(d){return new o(d.x1,d.y1,d.x2,d.y2,d.x3,d.y3)};n.exports=x},10690:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){var d=r.x3-r.x1,h=r.y3-r.y1,l=r.x2-r.x1,a=r.y2-r.y1,f=o-r.x1,c=x-r.y1,u=d*d+h*h,v=d*l+h*a,g=d*f+h*c,m=l*l+a*a,y=l*f+a*c,C=u*m-v*v,P=C===0?0:1/C,w=(m*g-v*y)*P,M=(u*y-v*g)*P;return w>=0&&M>=0&&w+M<1};n.exports=T},48653:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d){x===void 0&&(x=!1),d===void 0&&(d=[]);for(var h=r.x3-r.x1,l=r.y3-r.y1,a=r.x2-r.x1,f=r.y2-r.y1,c=h*h+l*l,u=h*a+l*f,v=a*a+f*f,g=c*v-u*u,m=g===0?0:1/g,y,C,P,w,M,R,A=r.x1,L=r.y1,F=0;F<o.length&&(P=o[F].x-A,w=o[F].y-L,M=h*P+l*w,R=a*P+f*w,y=(v*M-u*R)*m,C=(c*R-u*M)*m,!(y>=0&&C>=0&&y+C<1&&(d.push({x:o[F].x,y:o[F].y}),x)));F++);return d};n.exports=T},96006:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(10690),x=function(d,h){return o(d,h.x,h.y)};n.exports=x},71326:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return o.setTo(r.x1,r.y1,r.x2,r.y2,r.x3,r.y3)};n.exports=T},71694:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return o===void 0&&(o=[]),o.push({x:r.x1,y:r.y1}),o.push({x:r.x2,y:r.y2}),o.push({x:r.x3,y:r.y3}),o};n.exports=T},33522:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return r.x1===o.x1&&r.y1===o.y1&&r.x2===o.x2&&r.y2===o.y2&&r.x3===o.x3&&r.y3===o.y3};n.exports=T},20437:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141),x=r(35001),d=function(h,l,a){a===void 0&&(a=new o);var f=h.getLineA(),c=h.getLineB(),u=h.getLineC();if(l<=0||l>=1)return a.x=f.x1,a.y=f.y1,a;var v=x(f),g=x(c),m=x(u),y=v+g+m,C=y*l,P=0;return C<v?(P=C/v,a.x=f.x1+(f.x2-f.x1)*P,a.y=f.y1+(f.y2-f.y1)*P):C>v+g?(C-=v+g,P=C/m,a.x=u.x1+(u.x2-u.x1)*P,a.y=u.y1+(u.y2-u.y1)*P):(C-=v,P=C/g,a.x=c.x1+(c.x2-c.x1)*P,a.y=c.y1+(c.y2-c.y1)*P),a};n.exports=d},80672:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(35001),x=r(2141),d=function(h,l,a,f){f===void 0&&(f=[]);var c=h.getLineA(),u=h.getLineB(),v=h.getLineC(),g=o(c),m=o(u),y=o(v),C=g+m+y;!l&&a>0&&(l=C/a);for(var P=0;P<l;P++){var w=C*(P/l),M=0,R=new x;w<g?(M=w/g,R.x=c.x1+(c.x2-c.x1)*M,R.y=c.y1+(c.y2-c.y1)*M):w>g+m?(w-=g+m,M=w/y,R.x=v.x1+(v.x2-v.x1)*M,R.y=v.y1+(v.y2-v.y1)*M):(w-=g,M=w/m,R.x=u.x1+(u.x2-u.x1)*M,R.y=u.y1+(u.y2-u.y1)*M),f.push(R)}return f};n.exports=d},39757:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141);function x(h,l,a,f){var c=h-a,u=l-f,v=c*c+u*u;return Math.sqrt(v)}var d=function(h,l){l===void 0&&(l=new o);var a=h.x1,f=h.y1,c=h.x2,u=h.y2,v=h.x3,g=h.y3,m=x(v,g,c,u),y=x(a,f,v,g),C=x(c,u,a,f),P=m+y+C;return l.x=(a*m+c*y+v*C)/P,l.y=(f*m+u*y+g*C)/P,l};n.exports=d},13584:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){return r.x1+=o,r.y1+=x,r.x2+=o,r.y2+=x,r.x3+=o,r.y3+=x,r};n.exports=T},1376:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(35001),x=function(d){var h=d.getLineA(),l=d.getLineB(),a=d.getLineC();return o(h)+o(l)+o(a)};n.exports=x},90260:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141),x=function(d,h){h===void 0&&(h=new o);var l=d.x2-d.x1,a=d.y2-d.y1,f=d.x3-d.x1,c=d.y3-d.y1,u=Math.random(),v=Math.random();return u+v>=1&&(u=1-u,v=1-v),h.x=d.x1+(l*u+f*v),h.y=d.y1+(a*u+c*v),h};n.exports=x},52172:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(99614),x=r(39757),d=function(h,l){var a=x(h);return o(h,a.x,a.y,l)};n.exports=d},49907:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(99614),x=function(d,h,l){return o(d,h.x,h.y,l)};n.exports=x},99614:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d){var h=Math.cos(d),l=Math.sin(d),a=r.x1-o,f=r.y1-x;return r.x1=a*h-f*l+o,r.y1=a*l+f*h+x,a=r.x2-o,f=r.y2-x,r.x2=a*h-f*l+o,r.y2=a*l+f*h+x,a=r.x3-o,f=r.y3-x,r.x3=a*h-f*l+o,r.y3=a*l+f*h+x,r};n.exports=T},16483:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(10690),d=r(20437),h=r(80672),l=r(23777),a=r(23031),f=r(90260),c=new o({initialize:function(v,g,m,y,C,P){v===void 0&&(v=0),g===void 0&&(g=0),m===void 0&&(m=0),y===void 0&&(y=0),C===void 0&&(C=0),P===void 0&&(P=0),this.type=l.TRIANGLE,this.x1=v,this.y1=g,this.x2=m,this.y2=y,this.x3=C,this.y3=P},contains:function(u,v){return x(this,u,v)},getPoint:function(u,v){return d(this,u,v)},getPoints:function(u,v,g){return h(this,u,v,g)},getRandomPoint:function(u){return f(this,u)},setTo:function(u,v,g,m,y,C){return u===void 0&&(u=0),v===void 0&&(v=0),g===void 0&&(g=0),m===void 0&&(m=0),y===void 0&&(y=0),C===void 0&&(C=0),this.x1=u,this.y1=v,this.x2=g,this.y2=m,this.x3=y,this.y3=C,this},getLineA:function(u){return u===void 0&&(u=new a),u.setTo(this.x1,this.y1,this.x2,this.y2),u},getLineB:function(u){return u===void 0&&(u=new a),u.setTo(this.x2,this.y2,this.x3,this.y3),u},getLineC:function(u){return u===void 0&&(u=new a),u.setTo(this.x3,this.y3,this.x1,this.y1),u},left:{get:function(){return Math.min(this.x1,this.x2,this.x3)},set:function(u){var v=0;this.x1<=this.x2&&this.x1<=this.x3?v=this.x1-u:this.x2<=this.x1&&this.x2<=this.x3?v=this.x2-u:v=this.x3-u,this.x1-=v,this.x2-=v,this.x3-=v}},right:{get:function(){return Math.max(this.x1,this.x2,this.x3)},set:function(u){var v=0;this.x1>=this.x2&&this.x1>=this.x3?v=this.x1-u:this.x2>=this.x1&&this.x2>=this.x3?v=this.x2-u:v=this.x3-u,this.x1-=v,this.x2-=v,this.x3-=v}},top:{get:function(){return Math.min(this.y1,this.y2,this.y3)},set:function(u){var v=0;this.y1<=this.y2&&this.y1<=this.y3?v=this.y1-u:this.y2<=this.y1&&this.y2<=this.y3?v=this.y2-u:v=this.y3-u,this.y1-=v,this.y2-=v,this.y3-=v}},bottom:{get:function(){return Math.max(this.y1,this.y2,this.y3)},set:function(u){var v=0;this.y1>=this.y2&&this.y1>=this.y3?v=this.y1-u:this.y2>=this.y1&&this.y2>=this.y3?v=this.y2-u:v=this.y3-u,this.y1-=v,this.y2-=v,this.y3-=v}}});n.exports=c},84435:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(16483);o.Area=r(41658),o.BuildEquilateral=r(39208),o.BuildFromPolygon=r(39545),o.BuildRight=r(90301),o.CenterOn=r(23707),o.Centroid=r(97523),o.CircumCenter=r(24951),o.CircumCircle=r(85614),o.Clone=r(74422),o.Contains=r(10690),o.ContainsArray=r(48653),o.ContainsPoint=r(96006),o.CopyFrom=r(71326),o.Decompose=r(71694),o.Equals=r(33522),o.GetPoint=r(20437),o.GetPoints=r(80672),o.InCenter=r(39757),o.Perimeter=r(1376),o.Offset=r(13584),o.Random=r(90260),o.Rotate=r(52172),o.RotateAroundPoint=r(49907),o.RotateAroundXY=r(99614),n.exports=o},74457:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){return{gameObject:r,enabled:!0,draggable:!1,dropZone:!1,cursor:!1,target:null,camera:null,hitArea:o,hitAreaCallback:x,hitAreaDebug:null,customHitArea:!1,localX:0,localY:0,dragState:0,dragStartX:0,dragStartY:0,dragStartXGlobal:0,dragStartYGlobal:0,dragStartCamera:null,dragX:0,dragY:0}};n.exports=T},84409:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return function(x,d,h,l){var a=r.getPixelAlpha(d,h,l.texture.key,l.frame.name);return a&&a>=o}};n.exports=T},7003:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(93301),d=r(50792),h=r(8214),l=r(8443),a=r(78970),f=r(85098),c=r(42515),u=r(36210),v=r(61340),g=r(85955),m=new o({initialize:function(C,P){this.game=C,this.scaleManager,this.canvas,this.config=P,this.enabled=!0,this.events=new d,this.isOver=!0,this.defaultCursor="",this.keyboard=P.inputKeyboard?new a(this):null,this.mouse=P.inputMouse?new f(this):null,this.touch=P.inputTouch?new u(this):null,this.pointers=[],this.pointersTotal=P.inputActivePointers;for(var w=0;w<=this.pointersTotal;w++){var M=new c(this,w);M.smoothFactor=P.inputSmoothFactor,this.pointers.push(M)}this.mousePointer=P.inputMouse?this.pointers[0]:null,this.activePointer=this.pointers[0],this.globalTopOnly=!0,this.time=0,this._tempPoint={x:0,y:0},this._tempHitTest=[],this._tempMatrix=new v,this._tempMatrix2=new v,this._tempSkip=!1,this.mousePointerContainer=[this.mousePointer],C.events.once(l.BOOT,this.boot,this)},boot:function(){var y=this.game,C=y.events;this.canvas=y.canvas,this.scaleManager=y.scale,this.events.emit(h.MANAGER_BOOT),C.on(l.PRE_RENDER,this.preRender,this),C.once(l.DESTROY,this.destroy,this)},setCanvasOver:function(y){this.isOver=!0,this.events.emit(h.GAME_OVER,y)},setCanvasOut:function(y){this.isOver=!1,this.events.emit(h.GAME_OUT,y)},preRender:function(){var y=this.game.loop.now,C=this.game.loop.delta,P=this.game.scene.getScenes(!0,!0);this.time=y,this.events.emit(h.MANAGER_UPDATE);for(var w=0;w<P.length;w++){var M=P[w];if(M.sys.input&&M.sys.input.updatePoll(y,C)&&this.globalTopOnly)return}},setDefaultCursor:function(y){this.defaultCursor=y,this.canvas.style.cursor!==y&&(this.canvas.style.cursor=y)},setCursor:function(y){y.cursor&&(this.canvas.style.cursor=y.cursor)},resetCursor:function(y,C){(C||y&&y.cursor)&&this.canvas&&(this.canvas.style.cursor=this.defaultCursor)},addPointer:function(y){y===void 0&&(y=1);var C=[];this.pointersTotal+y>10&&(y=10-this.pointersTotal);for(var P=0;P<y;P++){var w=this.pointers.length,M=new c(this,w);M.smoothFactor=this.config.inputSmoothFactor,this.pointers.push(M),this.pointersTotal++,C.push(M)}return C},updateInputPlugins:function(y,C){var P=this.game.scene.getScenes(!1,!0);this._tempSkip=!1;for(var w=0;w<P.length;w++){var M=P[w];if(M.sys.input){var R=M.sys.input.update(y,C);if(R&&this.globalTopOnly||this._tempSkip)return}}},onTouchStart:function(y){for(var C=this.pointers,P=[],w=0;w<y.changedTouches.length;w++)for(var M=y.changedTouches[w],R=1;R<C.length;R++){var A=C[R];if(!A.active){A.touchstart(M,y),this.activePointer=A,P.push(A);break}}this.updateInputPlugins(x.TOUCH_START,P)},onTouchMove:function(y){for(var C=this.pointers,P=[],w=0;w<y.changedTouches.length;w++)for(var M=y.changedTouches[w],R=1;R<C.length;R++){var A=C[R];if(A.active&&A.identifier===M.identifier){var L=document.elementFromPoint(M.clientX,M.clientY),F=L===this.canvas;!this.isOver&&F?this.setCanvasOver(y):this.isOver&&!F&&this.setCanvasOut(y),this.isOver&&(A.touchmove(M,y),this.activePointer=A,P.push(A));break}}this.updateInputPlugins(x.TOUCH_MOVE,P)},onTouchEnd:function(y){for(var C=this.pointers,P=[],w=0;w<y.changedTouches.length;w++)for(var M=y.changedTouches[w],R=1;R<C.length;R++){var A=C[R];if(A.active&&A.identifier===M.identifier){A.touchend(M,y),P.push(A);break}}this.updateInputPlugins(x.TOUCH_END,P)},onTouchCancel:function(y){for(var C=this.pointers,P=[],w=0;w<y.changedTouches.length;w++)for(var M=y.changedTouches[w],R=1;R<C.length;R++){var A=C[R];if(A.active&&A.identifier===M.identifier){A.touchcancel(M,y),P.push(A);break}}this.updateInputPlugins(x.TOUCH_CANCEL,P)},onMouseDown:function(y){var C=this.mousePointer;C.down(y),C.updateMotion(),this.activePointer=C,this.updateInputPlugins(x.MOUSE_DOWN,this.mousePointerContainer)},onMouseMove:function(y){var C=this.mousePointer;C.move(y),C.updateMotion(),this.activePointer=C,this.updateInputPlugins(x.MOUSE_MOVE,this.mousePointerContainer)},onMouseUp:function(y){var C=this.mousePointer;C.up(y),C.updateMotion(),this.activePointer=C,this.updateInputPlugins(x.MOUSE_UP,this.mousePointerContainer)},onMouseWheel:function(y){var C=this.mousePointer;C.wheel(y),this.activePointer=C,this.updateInputPlugins(x.MOUSE_WHEEL,this.mousePointerContainer)},onPointerLockChange:function(y){var C=this.mouse.locked;this.mousePointer.locked=C,this.events.emit(h.POINTERLOCK_CHANGE,y,C)},inputCandidate:function(y,C){var P=y.input;if(!P||!P.enabled||!y.willRender(C))return!1;var w=!0,M=y.parentContainer;if(M)do{if(!M.willRender(C)){w=!1;break}M=M.parentContainer}while(M);return w},hitTest:function(y,C,P,w){w===void 0&&(w=this._tempHitTest);var M=this._tempPoint,R=P.scrollX,A=P.scrollY;w.length=0;var L=y.x,F=y.y;P.getWorldPoint(L,F,M),y.worldX=M.x,y.worldY=M.y;for(var G={x:0,y:0},I=this._tempMatrix,B=this._tempMatrix2,k=0;k<C.length;k++){var U=C[k];if(this.inputCandidate(U,P)){var H=M.x+R*U.scrollFactorX-R,X=M.y+A*U.scrollFactorY-A;U.parentContainer?(U.getWorldTransformMatrix(I,B),I.applyInverse(H,X,G)):g(H,X,U.x,U.y,U.rotation,U.scaleX,U.scaleY,G),this.pointWithinHitArea(U,G.x,G.y)&&w.push(U)}}return w},pointWithinHitArea:function(y,C,P){C+=y.displayOriginX,P+=y.displayOriginY;var w=y.input;return w&&w.hitAreaCallback(w.hitArea,C,P,y)?(w.localX=C,w.localY=P,!0):!1},pointWithinInteractiveObject:function(y,C,P){return y.hitArea?(C+=y.gameObject.displayOriginX,P+=y.gameObject.displayOriginY,y.localX=C,y.localY=P,y.hitAreaCallback(y.hitArea,C,P,y)):!1},transformPointer:function(y,C,P,w){var M=y.position,R=y.prevPosition;R.x=M.x,R.y=M.y;var A=this.scaleManager.transformX(C),L=this.scaleManager.transformY(P),F=y.smoothFactor;!w||F===0?(M.x=A,M.y=L):(M.x=A*F+R.x*(1-F),M.y=L*F+R.y*(1-F))},destroy:function(){this.events.removeAllListeners(),this.game.events.off(l.PRE_RENDER),this.keyboard&&this.keyboard.destroy(),this.mouse&&this.mouse.destroy(),this.touch&&this.touch.destroy();for(var y=0;y<this.pointers.length;y++)this.pointers[y].destroy();this.pointers=[],this._tempHitTest=[],this._tempMatrix.destroy(),this.canvas=null,this.game=null}});n.exports=m},48205:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(96503),x=r(87902),d=r(83419),h=r(93301),l=r(74457),a=r(84409),f=r(20339),c=r(8497),u=r(81154),v=r(8214),g=r(50792),m=r(95540),y=r(23777),C=r(89639),P=r(41212),w=r(37277),M=r(87841),R=r(37303),A=r(44594),L=r(16483),F=r(10690),G=new d({Extends:g,initialize:function(B){g.call(this),this.scene=B,this.systems=B.sys,this.settings=B.sys.settings,this.manager=B.sys.game.input,this.pluginEvents=new g,this.enabled=!0,this.displayList,this.cameras,C.install(this),this.mouse=this.manager.mouse,this.topOnly=!0,this.pollRate=-1,this._pollTimer=0;var k={cancelled:!1};this._eventContainer={stopPropagation:function(){k.cancelled=!0}},this._eventData=k,this.dragDistanceThreshold=0,this.dragTimeThreshold=0,this._temp=[],this._tempZones=[],this._list=[],this._pendingInsertion=[],this._pendingRemoval=[],this._draggable=[],this._drag={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._dragState=[],this._over={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._validTypes=["onDown","onUp","onOver","onOut","onMove","onDragStart","onDrag","onDragEnd","onDragEnter","onDragLeave","onDragOver","onDrop"],this._updatedThisFrame=!1,B.sys.events.once(A.BOOT,this.boot,this),B.sys.events.on(A.START,this.start,this)},boot:function(){this.cameras=this.systems.cameras,this.displayList=this.systems.displayList,this.systems.events.once(A.DESTROY,this.destroy,this),this.pluginEvents.emit(v.BOOT)},start:function(){var I=this.systems.events;I.on(A.TRANSITION_START,this.transitionIn,this),I.on(A.TRANSITION_OUT,this.transitionOut,this),I.on(A.TRANSITION_COMPLETE,this.transitionComplete,this),I.on(A.PRE_UPDATE,this.preUpdate,this),I.once(A.SHUTDOWN,this.shutdown,this),this.manager.events.on(v.GAME_OUT,this.onGameOut,this),this.manager.events.on(v.GAME_OVER,this.onGameOver,this),this.enabled=!0,this._dragState=[0,0,0,0,0,0,0,0,0,0],this.pluginEvents.emit(v.START)},onGameOver:function(I){this.isActive()&&this.emit(v.GAME_OVER,I.timeStamp,I)},onGameOut:function(I){this.isActive()&&this.emit(v.GAME_OUT,I.timeStamp,I)},preUpdate:function(){this.pluginEvents.emit(v.PRE_UPDATE);var I=this._pendingRemoval,B=this._pendingInsertion,k=I.length,U=B.length;if(!(k===0&&U===0)){for(var H=this._list,X=0;X<k;X++){var j=I[X],J=H.indexOf(j);J>-1&&(H.splice(J,1),this.clear(j,!0))}this._pendingRemoval.length=0,this._list=H.concat(B.splice(0))}},isActive:function(){return this.manager&&this.manager.enabled&&this.enabled&&this.scene.sys.canInput()},setCursor:function(I){this.manager&&this.manager.setCursor(I)},resetCursor:function(){this.manager&&this.manager.resetCursor(null,!0)},updatePoll:function(I,B){if(!this.isActive())return!1;if(this.pluginEvents.emit(v.UPDATE,I,B),this._updatedThisFrame)return this._updatedThisFrame=!1,!1;var k,U=this.manager,H=U.pointers;for(k=0;k<H.length;k++)H[k].updateMotion();if(this._list.length===0)return!1;var X=this.pollRate;if(X===-1)return!1;if(X>0)if(this._pollTimer-=B,this._pollTimer<0)this._pollTimer=this.pollRate;else return!1;var j=!1;for(k=0;k<H.length;k++){var J=0,Y=H[k];this._tempZones=[],this._temp=this.hitTestPointer(Y),this.sortGameObjects(this._temp,Y),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),J+=this.processOverOutEvents(Y),this.getDragState(Y)===2&&this.processDragThresholdEvent(Y,I),J>0&&(j=!0)}return j},update:function(I,B){if(!this.isActive())return!1;for(var k=!1,U=0;U<B.length;U++){var H=0,X=B[U];switch(this._tempZones=[],this._temp=this.hitTestPointer(X),this.sortGameObjects(this._temp,X),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),I){case h.MOUSE_DOWN:H+=this.processDragDownEvent(X),H+=this.processDownEvents(X),H+=this.processOverOutEvents(X);break;case h.MOUSE_UP:H+=this.processDragUpEvent(X),H+=this.processUpEvents(X),H+=this.processOverOutEvents(X);break;case h.TOUCH_START:H+=this.processDragDownEvent(X),H+=this.processDownEvents(X),H+=this.processOverEvents(X);break;case h.TOUCH_END:case h.TOUCH_CANCEL:H+=this.processDragUpEvent(X),H+=this.processUpEvents(X),H+=this.processOutEvents(X);break;case h.MOUSE_MOVE:case h.TOUCH_MOVE:H+=this.processDragMoveEvent(X),H+=this.processMoveEvents(X),H+=this.processOverOutEvents(X);break;case h.MOUSE_WHEEL:H+=this.processWheelEvent(X);break}H>0&&(k=!0)}return this._updatedThisFrame=!0,k},clear:function(I,B){B===void 0&&(B=!1),this.disable(I);var k=I.input;k&&(this.removeDebug(I),this.manager.resetCursor(k),k.gameObject=void 0,k.target=void 0,k.hitArea=void 0,k.hitAreaCallback=void 0,k.callbackContext=void 0,I.input=null),B||this.queueForRemoval(I);var U=this._draggable.indexOf(I);return U>-1&&this._draggable.splice(U,1),I},disable:function(I,B){B===void 0&&(B=!1);var k=I.input;k&&(k.enabled=!1,k.dragState=0);for(var U=this._drag,H=this._over,X=this.manager,j=0,J;j<X.pointers.length;j++)J=U[j].indexOf(I),J>-1&&U[j].splice(J,1),J=H[j].indexOf(I),J>-1&&H[j].splice(J,1);return B&&this.resetCursor(),this},enable:function(I,B,k,U){return U===void 0&&(U=!1),I.input?I.input.enabled=!0:this.setHitArea(I,B,k),I.input&&U&&!I.input.dropZone&&(I.input.dropZone=U),this},hitTestPointer:function(I){for(var B=this.cameras.getCamerasBelowPointer(I),k=0;k<B.length;k++){for(var U=B[k],H=this.manager.hitTest(I,this._list,U),X=0;X<H.length;X++){var j=H[X];j.input.dropZone&&this._tempZones.push(j)}if(H.length>0)return I.camera=U,H}return I.camera=B[0],[]},processDownEvents:function(I){var B=0,k=this._temp,U=this._eventData,H=this._eventContainer;U.cancelled=!1;for(var X=0;X<k.length;X++){var j=k[X];if(!(!j.input||!j.input.enabled)&&(B++,j.emit(v.GAMEOBJECT_POINTER_DOWN,I,j.input.localX,j.input.localY,H),U.cancelled||!this.isActive()||j.input&&j.input.enabled&&(this.emit(v.GAMEOBJECT_DOWN,I,j,H),U.cancelled||!this.isActive())))break}return!U.cancelled&&this.isActive()&&(I.downElement===this.manager.game.canvas?this.emit(v.POINTER_DOWN,I,k):this.emit(v.POINTER_DOWN_OUTSIDE,I)),B},getDragState:function(I){return this._dragState[I.id]},setDragState:function(I,B){this._dragState[I.id]=B},processDragThresholdEvent:function(I,B){var k=!1,U=this.dragTimeThreshold,H=this.dragDistanceThreshold;if((H>0&&f(I.x,I.y,I.downX,I.downY)>=H||U>0&&B>=I.downTime+U)&&(k=!0),k)return this.setDragState(I,3),this.processDragStartList(I)},processDragStartList:function(I){if(this.getDragState(I)!==3)return 0;var B=this._drag[I.id];B.length>1&&(B=B.slice(0));for(var k=0;k<B.length;k++){var U=B[k],H=U.input;H.dragState=2,H.dragStartX=U.x,H.dragStartY=U.y,H.dragStartXGlobal=I.worldX,H.dragStartYGlobal=I.worldY,H.dragStartCamera=I.camera,H.dragX=H.dragStartXGlobal-H.dragStartX,H.dragY=H.dragStartYGlobal-H.dragStartY,U.emit(v.GAMEOBJECT_DRAG_START,I,H.dragX,H.dragY),this.emit(v.DRAG_START,I,U)}return this.setDragState(I,4),B.length},processDragDownEvent:function(I){var B=this._temp;if(this._draggable.length===0||B.length===0||!I.primaryDown||this.getDragState(I)!==0)return 0;this.setDragState(I,1);for(var k=[],U=0;U<B.length;U++){var H=B[U];H.input.draggable&&H.input.dragState===0&&k.push(H)}return k.length===0?(this.setDragState(I,0),0):(k.length>1&&(this.sortGameObjects(k,I),this.topOnly&&k.splice(1)),this._drag[I.id]=k,this.dragDistanceThreshold===0&&this.dragTimeThreshold===0?(this.setDragState(I,3),this.processDragStartList(I)):(this.setDragState(I,2),0))},processDragMoveEvent:function(I){if(this.getDragState(I)===2&&this.processDragThresholdEvent(I,this.manager.game.loop.now),this.getDragState(I)!==4)return 0;var B=this._tempZones,k=this._drag[I.id];k.length>1&&(k=k.slice(0));for(var U=0;U<k.length;U++){var H=k[U],X=H.input,j=X.target;if(j){var J=B.indexOf(j);J===0?(H.emit(v.GAMEOBJECT_DRAG_OVER,I,j),this.emit(v.DRAG_OVER,I,H,j)):J>0?(H.emit(v.GAMEOBJECT_DRAG_LEAVE,I,j),this.emit(v.DRAG_LEAVE,I,H,j),X.target=B[0],j=X.target,H.emit(v.GAMEOBJECT_DRAG_ENTER,I,j),this.emit(v.DRAG_ENTER,I,H,j)):(H.emit(v.GAMEOBJECT_DRAG_LEAVE,I,j),this.emit(v.DRAG_LEAVE,I,H,j),B[0]?(X.target=B[0],j=X.target,H.emit(v.GAMEOBJECT_DRAG_ENTER,I,j),this.emit(v.DRAG_ENTER,I,H,j)):X.target=null)}else!j&&B[0]&&(X.target=B[0],j=X.target,H.emit(v.GAMEOBJECT_DRAG_ENTER,I,j),this.emit(v.DRAG_ENTER,I,H,j));var Y,$,z=I.positionToCamera(X.dragStartCamera);if(!H.parentContainer)Y=z.x-X.dragX,$=z.y-X.dragY;else{var V=z.x-X.dragStartXGlobal,K=z.y-X.dragStartYGlobal,Q=H.getParentRotation(),_=V*Math.cos(Q)+K*Math.sin(Q),tt=K*Math.cos(Q)-V*Math.sin(Q);_*=1/H.parentContainer.scaleX,tt*=1/H.parentContainer.scaleY,Y=_+X.dragStartX,$=tt+X.dragStartY}H.emit(v.GAMEOBJECT_DRAG,I,Y,$),this.emit(v.DRAG,I,H,Y,$)}return k.length},processDragUpEvent:function(I){var B=this._drag[I.id];B.length>1&&(B=B.slice(0));for(var k=0;k<B.length;k++){var U=B[k],H=U.input;if(H&&H.dragState===2){H.dragState=0,H.dragX=H.localX-U.displayOriginX,H.dragY=H.localY-U.displayOriginY,H.dragStartCamera=null;var X=!1,j=H.target;j&&(U.emit(v.GAMEOBJECT_DROP,I,j),this.emit(v.DROP,I,U,j),H.target=null,X=!0),U.input&&U.input.enabled&&(U.emit(v.GAMEOBJECT_DRAG_END,I,H.dragX,H.dragY,X),this.emit(v.DRAG_END,I,U,X))}}return this.setDragState(I,0),B.splice(0),0},processMoveEvents:function(I){var B=0,k=this._temp,U=this._eventData,H=this._eventContainer;U.cancelled=!1;for(var X=0;X<k.length;X++){var j=k[X];if(!(!j.input||!j.input.enabled)&&(B++,j.emit(v.GAMEOBJECT_POINTER_MOVE,I,j.input.localX,j.input.localY,H),U.cancelled||!this.isActive()||j.input&&j.input.enabled&&(this.emit(v.GAMEOBJECT_MOVE,I,j,H),U.cancelled||!this.isActive()||this.topOnly)))break}return!U.cancelled&&this.isActive()&&this.emit(v.POINTER_MOVE,I,k),B},processWheelEvent:function(I){var B=0,k=this._temp,U=this._eventData,H=this._eventContainer;U.cancelled=!1;for(var X=I.deltaX,j=I.deltaY,J=I.deltaZ,Y=0;Y<k.length;Y++){var $=k[Y];if(!(!$.input||!$.input.enabled)&&(B++,$.emit(v.GAMEOBJECT_POINTER_WHEEL,I,X,j,J,H),U.cancelled||!this.isActive()||$.input&&$.input.enabled&&(this.emit(v.GAMEOBJECT_WHEEL,I,$,X,j,J,H),U.cancelled||!this.isActive())))break}return!U.cancelled&&this.isActive()&&this.emit(v.POINTER_WHEEL,I,k,X,j,J),B},processOverEvents:function(I){var B=this._temp,k=0,U=B.length,H=[];if(U>0){var X=this.manager,j=this._eventData,J=this._eventContainer;j.cancelled=!1;for(var Y=0;Y<U;Y++){var $=B[Y];if(!(!$.input||!$.input.enabled)&&(H.push($),X.setCursor($.input),$.emit(v.GAMEOBJECT_POINTER_OVER,I,$.input.localX,$.input.localY,J),k++,j.cancelled||!this.isActive()||$.input&&$.input.enabled&&(this.emit(v.GAMEOBJECT_OVER,I,$,J),j.cancelled||!this.isActive())))break}!j.cancelled&&this.isActive()&&this.emit(v.POINTER_OVER,I,H)}return this._over[I.id]=H,k},processOutEvents:function(I){var B=this._over[I.id],k=0,U=B.length;if(U>0){var H=this.manager,X=this._eventData,j=this._eventContainer;X.cancelled=!1,this.sortGameObjects(B,I);for(var J=0;J<U;J++){var Y=B[J];if(Y=B[J],!(!Y.input||!Y.input.enabled)&&(H.resetCursor(Y.input),Y.emit(v.GAMEOBJECT_POINTER_OUT,I,j),k++,X.cancelled||!this.isActive()||Y.input&&Y.input.enabled&&(this.emit(v.GAMEOBJECT_OUT,I,Y,j),X.cancelled||!this.isActive())))break}!X.cancelled&&this.isActive()&&this.emit(v.POINTER_OUT,I,B),this._over[I.id]=[]}return k},processOverOutEvents:function(I){var B=this._temp,k,U,H=[],X=[],j=[],J=this._over[I.id],Y=this._drag[I.id],$=this.manager;for(k=0;k<J.length;k++)U=J[k],B.indexOf(U)===-1&&Y.indexOf(U)===-1?H.push(U):j.push(U);for(k=0;k<B.length;k++)U=B[k],J.indexOf(U)===-1&&X.push(U);var z=H.length,V=0,K=this._eventData,Q=this._eventContainer;if(K.cancelled=!1,z>0){for(this.sortGameObjects(H,I),k=0;k<z&&(U=H[k],!(!(!U.input||!U.input.enabled)&&($.resetCursor(U.input),U.emit(v.GAMEOBJECT_POINTER_OUT,I,Q),V++,K.cancelled||!this.isActive()||U.input&&U.input.enabled&&(this.emit(v.GAMEOBJECT_OUT,I,U,Q),K.cancelled||!this.isActive()))));k++);(!K.cancelled||this.isActive())&&this.emit(v.POINTER_OUT,I,H)}if(z=X.length,K.cancelled=!1,z>0){for(this.sortGameObjects(X,I),k=0;k<z&&(U=X[k],!(!(!U.input||!U.input.enabled)&&($.setCursor(U.input),U.emit(v.GAMEOBJECT_POINTER_OVER,I,U.input.localX,U.input.localY,Q),V++,K.cancelled||!this.isActive()||U.input&&U.input.enabled&&(this.emit(v.GAMEOBJECT_OVER,I,U,Q),K.cancelled||!this.isActive()))));k++);!K.cancelled&&this.isActive()&&this.emit(v.POINTER_OVER,I,X)}return J=j.concat(X),this._over[I.id]=this.sortGameObjects(J,I),V},processUpEvents:function(I){var B=this._temp,k=this._eventData,U=this._eventContainer;k.cancelled=!1;for(var H=0;H<B.length;H++){var X=B[H];if(!(!X.input||!X.input.enabled)&&(X.emit(v.GAMEOBJECT_POINTER_UP,I,X.input.localX,X.input.localY,U),k.cancelled||!this.isActive()||X.input&&X.input.enabled&&(this.emit(v.GAMEOBJECT_UP,I,X,U),k.cancelled||!this.isActive())))break}return!k.cancelled&&this.isActive()&&(I.upElement===this.manager.game.canvas?this.emit(v.POINTER_UP,I,B):this.emit(v.POINTER_UP_OUTSIDE,I)),B.length},forceDownState:function(I,B){this.forceState(I,B,v.GAMEOBJECT_POINTER_DOWN,v.GAMEOBJECT_DOWN,!1)},forceUpState:function(I,B){this.forceState(I,B,v.GAMEOBJECT_POINTER_UP,v.GAMEOBJECT_UP,!1)},forceOverState:function(I,B){this.forceState(I,B,v.GAMEOBJECT_POINTER_OVER,v.GAMEOBJECT_OVER,!0)},forceOutState:function(I,B){this.forceState(I,B,v.GAMEOBJECT_POINTER_OUT,v.GAMEOBJECT_OUT,!1)},forceState:function(I,B,k,U,H){var X=this._eventData,j=this._eventContainer;X.cancelled=!1,B.input&&B.input.enabled&&(B.emit(k,I,B.input.localX,B.input.localY,j),H&&this.setCursor(B.input),!X.cancelled&&this.isActive()&&B.input&&B.input.enabled&&this.emit(U,I,B,j))},queueForInsertion:function(I){return this._pendingInsertion.indexOf(I)===-1&&this._list.indexOf(I)===-1&&this._pendingInsertion.push(I),this},queueForRemoval:function(I){return this._pendingRemoval.push(I),this},setDraggable:function(I,B){B===void 0&&(B=!0),Array.isArray(I)||(I=[I]);for(var k=0;k<I.length;k++){var U=I[k];U.input.draggable=B;var H=this._draggable.indexOf(U);B&&H===-1?this._draggable.push(U):!B&&H>-1&&this._draggable.splice(H,1)}return this},makePixelPerfect:function(I){I===void 0&&(I=1);var B=this.systems.textures;return a(B,I)},setHitArea:function(I,B,k){if(B===void 0)return this.setHitAreaFromTexture(I);Array.isArray(I)||(I=[I]);var U=!1,H=!1,X=!1,j=!1,J=!1,Y=!0;if(P(B)&&Object.keys(B).length){var $=B,z=I.some(function(tt){return tt.hasOwnProperty("faces")});if(!z){B=m($,"hitArea",null),k=m($,"hitAreaCallback",null),J=m($,"pixelPerfect",!1);var V=m($,"alphaTolerance",1);J&&(B={},k=this.makePixelPerfect(V))}U=m($,"draggable",!1),H=m($,"dropZone",!1),X=m($,"cursor",!1),j=m($,"useHandCursor",!1),(!B||!k)&&(this.setHitAreaFromTexture(I),Y=!1)}else typeof B=="function"&&!k&&(k=B,B={});for(var K=0;K<I.length;K++){var Q=I[K];if(J&&Q.type==="Container"){console.warn("Cannot pixelPerfect test a Container. Use a custom callback.");continue}var _=Q.input?Q.input:l(Q,B,k);_.customHitArea=Y,_.dropZone=H,_.cursor=j?"pointer":X,Q.input=_,U&&this.setDraggable(Q),this.queueForInsertion(Q)}return this},setHitAreaCircle:function(I,B,k,U,H){H===void 0&&(H=x);var X=new o(B,k,U);return this.setHitArea(I,X,H)},setHitAreaEllipse:function(I,B,k,U,H,X){X===void 0&&(X=u);var j=new c(B,k,U,H);return this.setHitArea(I,j,X)},setHitAreaFromTexture:function(I,B){B===void 0&&(B=R),Array.isArray(I)||(I=[I]);for(var k=0;k<I.length;k++){var U=I[k],H=U.frame,X=0,j=0;if(U.width?(X=U.width,j=U.height):H&&(X=H.realWidth,j=H.realHeight),U.type==="Container"&&(X===0||j===0)){console.warn("Container.setInteractive must specify a Shape or call setSize() first");continue}X!==0&&j!==0&&(U.input=l(U,new M(0,0,X,j),B),this.queueForInsertion(U))}return this},setHitAreaRectangle:function(I,B,k,U,H,X){X===void 0&&(X=R);var j=new M(B,k,U,H);return this.setHitArea(I,j,X)},setHitAreaTriangle:function(I,B,k,U,H,X,j,J){J===void 0&&(J=F);var Y=new L(B,k,U,H,X,j);return this.setHitArea(I,Y,J)},enableDebug:function(I,B){B===void 0&&(B=65280);var k=I.input;if(!k||!k.hitArea)return this;var U=k.hitArea,H=U.type,X=k.hitAreaDebug,j=this.systems.add,J=this.systems.updateList;X&&(J.remove(X),X.destroy(),X=null);var Y=0,$=0;switch(H){case y.CIRCLE:X=j.arc(0,0,U.radius),Y=U.x-U.radius,$=U.y-U.radius;break;case y.ELLIPSE:X=j.ellipse(0,0,U.width,U.height),Y=U.x-U.width/2,$=U.y-U.height/2;break;case y.LINE:X=j.line(0,0,U.x1,U.y1,U.x2,U.y2);break;case y.POLYGON:X=j.polygon(0,0,U.points);break;case y.RECTANGLE:X=j.rectangle(0,0,U.width,U.height),Y=U.x,$=U.y;break;case y.TRIANGLE:X=j.triangle(0,0,U.x1,U.y1,U.x2,U.y2,U.x3,U.y3);break}return X&&(X.isFilled=!1,X.strokeColor=B,X.preUpdate=function(){X.setVisible(I.visible),X.setStrokeStyle(1/I.scale,X.strokeColor),X.setDisplayOrigin(I.displayOriginX,I.displayOriginY);var z=I.x,V=I.y,K=I.rotation,Q=I.scaleX,_=I.scaleY;if(I.parentContainer){var tt=I.getWorldTransformMatrix();z=tt.tx,V=tt.ty,K=tt.rotation,Q=tt.scaleX,_=tt.scaleY}X.setRotation(K),X.setScale(Q,_),X.setPosition(z+Y*Q,V+$*_),X.setScrollFactor(I.scrollFactorX,I.scrollFactorY),X.setDepth(I.depth)},J.add(X),k.hitAreaDebug=X),this},removeDebug:function(I){var B=I.input;if(B&&B.hitAreaDebug){var k=B.hitAreaDebug;k.destroy(),B.hitAreaDebug=null}return this},setPollAlways:function(){return this.setPollRate(0)},setPollOnMove:function(){return this.setPollRate(-1)},setPollRate:function(I){return this.pollRate=I,this._pollTimer=0,this},setGlobalTopOnly:function(I){return this.manager.globalTopOnly=I,this},setTopOnly:function(I){return this.topOnly=I,this},sortGameObjects:function(I,B){if(I.length<2||!B.camera)return I;var k=B.camera.renderList;return I.sort(function(U,H){var X=Math.max(k.indexOf(U),0),j=Math.max(k.indexOf(H),0);return j-X})},sortDropZones:function(I){return I.length<2?I:(this.scene.sys.depthSort(),I.sort(this.sortDropZoneHandler.bind(this)))},sortDropZoneHandler:function(I,B){if(!I.parentContainer&&!B.parentContainer)return this.displayList.getIndex(B)-this.displayList.getIndex(I);if(I.parentContainer===B.parentContainer)return B.parentContainer.getIndex(B)-I.parentContainer.getIndex(I);if(I.parentContainer===B)return-1;if(B.parentContainer===I)return 1;for(var k=I.getIndexList(),U=B.getIndexList(),H=Math.min(k.length,U.length),X=0;X<H;X++){var j=k[X],J=U[X];if(j!==J)return J-j}return U.length-k.length},stopPropagation:function(){return this.manager._tempSkip=!0,this},addPointer:function(I){return this.manager.addPointer(I)},setDefaultCursor:function(I){return this.manager.setDefaultCursor(I),this},transitionIn:function(){this.enabled=this.settings.transitionAllowInput},transitionComplete:function(){this.settings.transitionAllowInput||(this.enabled=!0)},transitionOut:function(){this.enabled=this.settings.transitionAllowInput},shutdown:function(){this.pluginEvents.emit(v.SHUTDOWN),this._temp.length=0,this._list.length=0,this._draggable.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0,this._dragState.length=0;for(var I=0;I<10;I++)this._drag[I]=[],this._over[I]=[];this.removeAllListeners();var B=this.manager;B.canvas.style.cursor=B.defaultCursor;var k=this.systems.events;k.off(A.TRANSITION_START,this.transitionIn,this),k.off(A.TRANSITION_OUT,this.transitionOut,this),k.off(A.TRANSITION_COMPLETE,this.transitionComplete,this),k.off(A.PRE_UPDATE,this.preUpdate,this),B.events.off(v.GAME_OUT,this.onGameOut,this),B.events.off(v.GAME_OVER,this.onGameOver,this),k.off(A.SHUTDOWN,this.shutdown,this)},resetPointers:function(){for(var I=this.manager.pointers,B=0;B<I.length;B++)I[B].reset()},destroy:function(){this.shutdown(),this.pluginEvents.emit(v.DESTROY),this.pluginEvents.removeAllListeners(),this.scene.sys.events.off(A.START,this.start,this),this.scene=null,this.cameras=null,this.manager=null,this.events=null,this.mouse=null},x:{get:function(){return this.manager.activePointer.x}},y:{get:function(){return this.manager.activePointer.y}},isOver:{get:function(){return this.manager.isOver}},mousePointer:{get:function(){return this.manager.mousePointer}},activePointer:{get:function(){return this.manager.activePointer}},pointer1:{get:function(){return this.manager.pointers[1]}},pointer2:{get:function(){return this.manager.pointers[2]}},pointer3:{get:function(){return this.manager.pointers[3]}},pointer4:{get:function(){return this.manager.pointers[4]}},pointer5:{get:function(){return this.manager.pointers[5]}},pointer6:{get:function(){return this.manager.pointers[6]}},pointer7:{get:function(){return this.manager.pointers[7]}},pointer8:{get:function(){return this.manager.pointers[8]}},pointer9:{get:function(){return this.manager.pointers[9]}},pointer10:{get:function(){return this.manager.pointers[10]}}});w.register("InputPlugin",G,"input"),n.exports=G},89639:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(35154),x={},d={};d.register=function(h,l,a,f,c){x[h]={plugin:l,mapping:a,settingsKey:f,configKey:c}},d.getPlugin=function(h){return x[h]},d.install=function(h){var l=h.scene.sys,a=l.settings.input,f=l.game.config;for(var c in x){var u=x[c].plugin,v=x[c].mapping,g=x[c].settingsKey,m=x[c].configKey;o(a,g,f[m])&&(h[v]=new u(h))}},d.remove=function(h){x.hasOwnProperty(h)&&delete x[h]},n.exports=d},42515:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(31040),x=r(83419),d=r(20339),h=r(43855),l=r(47235),a=r(26099),f=r(25892),c=new x({initialize:function(v,g){this.manager=v,this.id=g,this.event,this.downElement,this.upElement,this.camera=null,this.button=0,this.buttons=0,this.position=new a,this.prevPosition=new a,this.midPoint=new a(-1,-1),this.velocity=new a,this.angle=0,this.distance=0,this.smoothFactor=0,this.motionFactor=.2,this.worldX=0,this.worldY=0,this.moveTime=0,this.downX=0,this.downY=0,this.downTime=0,this.upX=0,this.upY=0,this.upTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.active=g===0,this.locked=!1,this.deltaX=0,this.deltaY=0,this.deltaZ=0},updateWorldPoint:function(u){var v=u.getWorldPoint(this.x,this.y);return this.worldX=v.x,this.worldY=v.y,this},positionToCamera:function(u,v){return u.getWorldPoint(this.x,this.y,v)},updateMotion:function(){var u=this.position.x,v=this.position.y,g=this.midPoint.x,m=this.midPoint.y;if(!(u===g&&v===m)){var y=l(this.motionFactor,g,u),C=l(this.motionFactor,m,v);h(y,u,.1)&&(y=u),h(C,v,.1)&&(C=v),this.midPoint.set(y,C);var P=u-y,w=v-C;this.velocity.set(P,w),this.angle=o(y,C,u,v),this.distance=Math.sqrt(P*P+w*w)}},up:function(u){"buttons"in u&&(this.buttons=u.buttons),this.event=u,this.button=u.button,this.upElement=u.target,this.manager.transformPointer(this,u.pageX,u.pageY,!1),u.button===0&&(this.primaryDown=!1,this.upX=this.x,this.upY=this.y),this.buttons===0&&(this.isDown=!1,this.upTime=u.timeStamp,this.wasTouch=!1)},down:function(u){"buttons"in u&&(this.buttons=u.buttons),this.event=u,this.button=u.button,this.downElement=u.target,this.manager.transformPointer(this,u.pageX,u.pageY,!1),u.button===0&&(this.primaryDown=!0,this.downX=this.x,this.downY=this.y),f.macOS&&u.ctrlKey&&(this.buttons=2,this.primaryDown=!1),this.isDown||(this.isDown=!0,this.downTime=u.timeStamp),this.wasTouch=!1},move:function(u){"buttons"in u&&(this.buttons=u.buttons),this.event=u,this.manager.transformPointer(this,u.pageX,u.pageY,!0),this.locked&&(this.movementX=u.movementX||u.mozMovementX||u.webkitMovementX||0,this.movementY=u.movementY||u.mozMovementY||u.webkitMovementY||0),this.moveTime=u.timeStamp,this.wasTouch=!1},wheel:function(u){"buttons"in u&&(this.buttons=u.buttons),this.event=u,this.manager.transformPointer(this,u.pageX,u.pageY,!1),this.deltaX=u.deltaX,this.deltaY=u.deltaY,this.deltaZ=u.deltaZ,this.wasTouch=!1},touchstart:function(u,v){u.pointerId&&(this.pointerId=u.pointerId),this.identifier=u.identifier,this.target=u.target,this.active=!0,this.buttons=1,this.event=v,this.downElement=u.target,this.manager.transformPointer(this,u.pageX,u.pageY,!1),this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=v.timeStamp,this.isDown=!0,this.wasTouch=!0,this.wasCanceled=!1,this.updateMotion()},touchmove:function(u,v){this.event=v,this.manager.transformPointer(this,u.pageX,u.pageY,!0),this.moveTime=v.timeStamp,this.wasTouch=!0,this.updateMotion()},touchend:function(u,v){this.buttons=0,this.event=v,this.upElement=u.target,this.manager.transformPointer(this,u.pageX,u.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=v.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!1,this.active=!1,this.updateMotion()},touchcancel:function(u,v){this.buttons=0,this.event=v,this.upElement=u.target,this.manager.transformPointer(this,u.pageX,u.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=v.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!0,this.active=!1},noButtonDown:function(){return this.buttons===0},leftButtonDown:function(){return!!(this.buttons&1)},rightButtonDown:function(){return!!(this.buttons&2)},middleButtonDown:function(){return!!(this.buttons&4)},backButtonDown:function(){return!!(this.buttons&8)},forwardButtonDown:function(){return!!(this.buttons&16)},leftButtonReleased:function(){return this.buttons===0?this.button===0&&!this.isDown:this.button===0},rightButtonReleased:function(){return this.buttons===0?this.button===2&&!this.isDown:this.button===2},middleButtonReleased:function(){return this.buttons===0?this.button===1&&!this.isDown:this.button===1},backButtonReleased:function(){return this.buttons===0?this.button===3&&!this.isDown:this.button===3},forwardButtonReleased:function(){return this.buttons===0?this.button===4&&!this.isDown:this.button===4},getDistance:function(){return this.isDown?d(this.downX,this.downY,this.x,this.y):d(this.downX,this.downY,this.upX,this.upY)},getDistanceX:function(){return this.isDown?Math.abs(this.downX-this.x):Math.abs(this.downX-this.upX)},getDistanceY:function(){return this.isDown?Math.abs(this.downY-this.y):Math.abs(this.downY-this.upY)},getDuration:function(){return this.isDown?this.manager.time-this.downTime:this.upTime-this.downTime},getAngle:function(){return this.isDown?o(this.downX,this.downY,this.x,this.y):o(this.downX,this.downY,this.upX,this.upY)},getInterpolatedPosition:function(u,v){u===void 0&&(u=10),v===void 0&&(v=[]);for(var g=this.prevPosition.x,m=this.prevPosition.y,y=this.position.x,C=this.position.y,P=0;P<u;P++){var w=1/u*P;v[P]={x:l(w,g,y),y:l(w,m,C)}}return v},reset:function(){this.event=null,this.downElement=null,this.upElement=null,this.button=0,this.buttons=0,this.position.set(0,0),this.prevPosition.set(0,0),this.midPoint.set(-1,-1),this.velocity.set(0,0),this.angle=0,this.distance=0,this.worldX=0,this.worldY=0,this.downX=0,this.downY=0,this.upX=0,this.upY=0,this.moveTime=0,this.upTime=0,this.downTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.deltaX=0,this.deltaY=0,this.deltaZ=0,this.active=this.id===0},destroy:function(){this.camera=null,this.manager=null,this.position=null},x:{get:function(){return this.position.x},set:function(u){this.position.x=u}},y:{get:function(){return this.position.y},set:function(u){this.position.y=u}},time:{get:function(){return this.event?this.event.timeStamp:0}}});n.exports=c},93301:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={MOUSE_DOWN:0,MOUSE_MOVE:1,MOUSE_UP:2,TOUCH_START:3,TOUCH_MOVE:4,TOUCH_END:5,POINTER_LOCK_CHANGE:6,TOUCH_CANCEL:7,MOUSE_WHEEL:8};n.exports=T},7179:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="boot"},85375:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="destroy"},39843:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragend"},23388:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragenter"},16133:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="drag"},27829:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragleave"},53904:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragover"},56058:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragstart"},2642:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="drop"},88171:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="gameobjectdown"},36147:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragend"},71692:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragenter"},96149:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="drag"},81285:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragleave"},74048:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragover"},21322:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragstart"},49378:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="drop"},86754:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="gameobjectmove"},86433:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="gameobjectout"},60709:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="gameobjectover"},24081:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerdown"},11172:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointermove"},18907:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerout"},95579:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerover"},35368:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerup"},26972:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="wheel"},47078:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="gameobjectup"},73802:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="gameobjectwheel"},56718:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="gameout"},25936:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="gameover"},27503:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="boot"},50852:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="process"},96438:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="update"},59152:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerlockchange"},47777:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerdown"},27957:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerdownoutside"},19444:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointermove"},54251:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerout"},18667:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerover"},27192:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerup"},24652:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerupoutside"},45132:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="wheel"},44512:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="preupdate"},15757:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="shutdown"},41637:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="start"},93802:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="update"},8214:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={BOOT:r(7179),DESTROY:r(85375),DRAG_END:r(39843),DRAG_ENTER:r(23388),DRAG:r(16133),DRAG_LEAVE:r(27829),DRAG_OVER:r(53904),DRAG_START:r(56058),DROP:r(2642),GAME_OUT:r(56718),GAME_OVER:r(25936),GAMEOBJECT_DOWN:r(88171),GAMEOBJECT_DRAG_END:r(36147),GAMEOBJECT_DRAG_ENTER:r(71692),GAMEOBJECT_DRAG:r(96149),GAMEOBJECT_DRAG_LEAVE:r(81285),GAMEOBJECT_DRAG_OVER:r(74048),GAMEOBJECT_DRAG_START:r(21322),GAMEOBJECT_DROP:r(49378),GAMEOBJECT_MOVE:r(86754),GAMEOBJECT_OUT:r(86433),GAMEOBJECT_OVER:r(60709),GAMEOBJECT_POINTER_DOWN:r(24081),GAMEOBJECT_POINTER_MOVE:r(11172),GAMEOBJECT_POINTER_OUT:r(18907),GAMEOBJECT_POINTER_OVER:r(95579),GAMEOBJECT_POINTER_UP:r(35368),GAMEOBJECT_POINTER_WHEEL:r(26972),GAMEOBJECT_UP:r(47078),GAMEOBJECT_WHEEL:r(73802),MANAGER_BOOT:r(27503),MANAGER_PROCESS:r(50852),MANAGER_UPDATE:r(96438),POINTER_DOWN:r(47777),POINTER_DOWN_OUTSIDE:r(27957),POINTER_MOVE:r(19444),POINTER_OUT:r(54251),POINTER_OVER:r(18667),POINTER_UP:r(27192),POINTER_UP_OUTSIDE:r(24652),POINTER_WHEEL:r(45132),POINTERLOCK_CHANGE:r(59152),PRE_UPDATE:r(44512),SHUTDOWN:r(15757),START:r(41637),UPDATE:r(93802)}},97421:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=new o({initialize:function(h,l){this.pad=h,this.events=h.events,this.index=l,this.value=0,this.threshold=.1},update:function(d){this.value=d},getValue:function(){return Math.abs(this.value)<this.threshold?0:this.value},destroy:function(){this.pad=null,this.events=null}});n.exports=x},28884:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(92734),d=new o({initialize:function(l,a){this.pad=l,this.events=l.manager,this.index=a,this.value=0,this.threshold=1,this.pressed=!1},update:function(h){this.value=h;var l=this.pad,a=this.index;h>=this.threshold?this.pressed||(this.pressed=!0,this.events.emit(x.BUTTON_DOWN,l,this,h),this.pad.emit(x.GAMEPAD_BUTTON_DOWN,a,h,this)):this.pressed&&(this.pressed=!1,this.events.emit(x.BUTTON_UP,l,this,h),this.pad.emit(x.GAMEPAD_BUTTON_UP,a,h,this))},destroy:function(){this.pad=null,this.events=null}});n.exports=d},99125:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(97421),x=r(28884),d=r(83419),h=r(50792),l=r(26099),a=new d({Extends:h,initialize:function(c,u){h.call(this),this.manager=c,this.pad=u,this.id=u.id,this.index=u.index;for(var v=[],g=0;g<u.buttons.length;g++)v.push(new x(this,g));this.buttons=v;var m=[];for(g=0;g<u.axes.length;g++)m.push(new o(this,g));this.axes=m,this.vibration=u.vibrationActuator;var y={value:0,pressed:!1};this._LCLeft=v[14]?v[14]:y,this._LCRight=v[15]?v[15]:y,this._LCTop=v[12]?v[12]:y,this._LCBottom=v[13]?v[13]:y,this._RCLeft=v[2]?v[2]:y,this._RCRight=v[1]?v[1]:y,this._RCTop=v[3]?v[3]:y,this._RCBottom=v[0]?v[0]:y,this._FBLeftTop=v[4]?v[4]:y,this._FBLeftBottom=v[6]?v[6]:y,this._FBRightTop=v[5]?v[5]:y,this._FBRightBottom=v[7]?v[7]:y;var C={value:0};this._HAxisLeft=m[0]?m[0]:C,this._VAxisLeft=m[1]?m[1]:C,this._HAxisRight=m[2]?m[2]:C,this._VAxisRight=m[3]?m[3]:C,this.leftStick=new l,this.rightStick=new l,this._created=performance.now()},getAxisTotal:function(){return this.axes.length},getAxisValue:function(f){return this.axes[f].getValue()},setAxisThreshold:function(f){for(var c=0;c<this.axes.length;c++)this.axes[c].threshold=f},getButtonTotal:function(){return this.buttons.length},getButtonValue:function(f){return this.buttons[f].value},isButtonDown:function(f){return this.buttons[f].pressed},update:function(f){if(!(f.timestamp<this._created)){var c,u=this.buttons,v=f.buttons,g=u.length;for(c=0;c<g;c++)u[c].update(v[c].value);var m=this.axes,y=f.axes;for(g=m.length,c=0;c<g;c++)m[c].update(y[c]);g>=2&&(this.leftStick.set(m[0].getValue(),m[1].getValue()),g>=4&&this.rightStick.set(m[2].getValue(),m[3].getValue()))}},destroy:function(){this.removeAllListeners(),this.manager=null,this.pad=null;var f;for(f=0;f<this.buttons.length;f++)this.buttons[f].destroy();for(f=0;f<this.axes.length;f++)this.axes[f].destroy();this.buttons=[],this.axes=[]},connected:{get:function(){return this.pad.connected}},timestamp:{get:function(){return this.pad.timestamp}},left:{get:function(){return this._LCLeft.pressed}},right:{get:function(){return this._LCRight.pressed}},up:{get:function(){return this._LCTop.pressed}},down:{get:function(){return this._LCBottom.pressed}},A:{get:function(){return this._RCBottom.pressed}},Y:{get:function(){return this._RCTop.pressed}},X:{get:function(){return this._RCLeft.pressed}},B:{get:function(){return this._RCRight.pressed}},L1:{get:function(){return this._FBLeftTop.value}},L2:{get:function(){return this._FBLeftBottom.value}},R1:{get:function(){return this._FBRightTop.value}},R2:{get:function(){return this._FBRightBottom.value}}});n.exports=a},56654:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(50792),d=r(92734),h=r(99125),l=r(35154),a=r(89639),f=r(8214),c=new o({Extends:x,initialize:function(v){x.call(this),this.scene=v.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=v,this.enabled=!0,this.target,this.gamepads=[],this.queue=[],this.onGamepadHandler,this._pad1,this._pad2,this._pad3,this._pad4,v.pluginEvents.once(f.BOOT,this.boot,this),v.pluginEvents.on(f.START,this.start,this)},boot:function(){var u=this.scene.sys.game,v=this.settings.input,g=u.config;this.enabled=l(v,"gamepad",g.inputGamepad)&&u.device.input.gamepads,this.target=l(v,"gamepad.target",g.inputGamepadEventTarget),this.sceneInputPlugin.pluginEvents.once(f.DESTROY,this.destroy,this)},start:function(){this.enabled&&(this.startListeners(),this.refreshPads()),this.sceneInputPlugin.pluginEvents.once(f.SHUTDOWN,this.shutdown,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},startListeners:function(){var u=this,v=this.target,g=function(m){m.defaultPrevented||!u.isActive()||(u.refreshPads(),u.queue.push(m))};this.onGamepadHandler=g,v.addEventListener("gamepadconnected",g,!1),v.addEventListener("gamepaddisconnected",g,!1),this.sceneInputPlugin.pluginEvents.on(f.UPDATE,this.update,this)},stopListeners:function(){this.target.removeEventListener("gamepadconnected",this.onGamepadHandler),this.target.removeEventListener("gamepaddisconnected",this.onGamepadHandler),this.sceneInputPlugin.pluginEvents.off(f.UPDATE,this.update);for(var u=0;u<this.gamepads.length;u++)this.gamepads[u].removeAllListeners()},disconnectAll:function(){for(var u=0;u<this.gamepads.length;u++)this.gamepads[u].pad.connected=!1},refreshPads:function(){var u=navigator.getGamepads();if(!u)this.disconnectAll();else for(var v=this.gamepads,g=0;g<u.length;g++){var m=u[g];if(m){var y=m.id,C=m.index,P=v[C];if(P)P.id!==y?(P.destroy(),v[C]=new h(this,m)):P.update(m);else{var w=new h(this,m);v[C]=w,this._pad1?this._pad2?this._pad3?this._pad4||(this._pad4=w):this._pad3=w:this._pad2=w:this._pad1=w}}}},getAll:function(){for(var u=[],v=this.gamepads,g=0;g<v.length;g++)v[g]&&u.push(v[g]);return u},getPad:function(u){for(var v=this.gamepads,g=0;g<v.length;g++)if(v[g]&&v[g].index===u)return v[g]},update:function(){if(this.enabled){this.refreshPads();var u=this.queue.length;if(u!==0)for(var v=this.queue.splice(0,u),g=0;g<u;g++){var m=v[g],y=this.getPad(m.gamepad.index);m.type==="gamepadconnected"?this.emit(d.CONNECTED,y,m):m.type==="gamepaddisconnected"&&this.emit(d.DISCONNECTED,y,m)}}},shutdown:function(){this.stopListeners(),this.removeAllListeners()},destroy:function(){this.shutdown();for(var u=0;u<this.gamepads.length;u++)this.gamepads[u]&&this.gamepads[u].destroy();this.gamepads=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.target=null},total:{get:function(){return this.gamepads.length}},pad1:{get:function(){return this._pad1}},pad2:{get:function(){return this._pad2}},pad3:{get:function(){return this._pad3}},pad4:{get:function(){return this._pad4}}});a.register("GamepadPlugin",c,"gamepad","gamepad","inputGamepad"),n.exports=c},89651:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SELECT:8,START:9,B:0,A:1,Y:2,X:3,LEFT_SHOULDER:4,RIGHT_SHOULDER:5}},65294:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SHARE:8,OPTIONS:9,PS:16,TOUCHBAR:17,X:0,CIRCLE:1,SQUARE:2,TRIANGLE:3,L1:4,R1:5,L2:6,R2:7,L3:10,R3:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},90089:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,MENU:16,A:0,B:1,X:2,Y:3,LB:4,RB:5,LT:6,RT:7,BACK:8,START:9,LS:10,RS:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},64894:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={DUALSHOCK_4:r(65294),SNES_USB:r(89651),XBOX_360:r(90089)}},46008:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="down"},7629:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="up"},42206:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="connected"},86544:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="disconnected"},94784:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="down"},14325:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="up"},92734:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={BUTTON_DOWN:r(46008),BUTTON_UP:r(7629),CONNECTED:r(42206),DISCONNECTED:r(86544),GAMEPAD_BUTTON_DOWN:r(94784),GAMEPAD_BUTTON_UP:r(14325)}},48646:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Axis:r(97421),Button:r(28884),Events:r(92734),Gamepad:r(99125),GamepadPlugin:r(56654),Configs:r(64894)}},14350:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(93301),x=r(79291),d={CreatePixelPerfectHandler:r(84409),CreateInteractiveObject:r(74457),Events:r(8214),Gamepad:r(48646),InputManager:r(7003),InputPlugin:r(48205),InputPluginCache:r(89639),Keyboard:r(51442),Mouse:r(87078),Pointer:r(42515),Touch:r(95618)};d=x(!1,d,o),n.exports=d},78970:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(72905),x=r(83419),d=r(8443),h=r(8214),l=r(46032),a=r(29747),f=new x({initialize:function(u){this.manager=u,this.queue=[],this.preventDefault=!0,this.captures=[],this.enabled=!1,this.target,this.onKeyDown=a,this.onKeyUp=a,u.events.once(h.MANAGER_BOOT,this.boot,this)},boot:function(){var c=this.manager.config;this.enabled=c.inputKeyboard,this.target=c.inputKeyboardEventTarget,this.addCapture(c.inputKeyboardCapture),!this.target&&window&&(this.target=window),this.enabled&&this.target&&this.startListeners(),this.manager.game.events.on(d.POST_STEP,this.postUpdate,this)},startListeners:function(){var c=this;this.onKeyDown=function(v){if(!(v.defaultPrevented||!c.enabled||!c.manager)){c.queue.push(v),c.manager.events.emit(h.MANAGER_PROCESS);var g=v.altKey||v.ctrlKey||v.shiftKey||v.metaKey;c.preventDefault&&!g&&c.captures.indexOf(v.keyCode)>-1&&v.preventDefault()}},this.onKeyUp=function(v){if(!(v.defaultPrevented||!c.enabled||!c.manager)){c.queue.push(v),c.manager.events.emit(h.MANAGER_PROCESS);var g=v.altKey||v.ctrlKey||v.shiftKey||v.metaKey;c.preventDefault&&!g&&c.captures.indexOf(v.keyCode)>-1&&v.preventDefault()}};var u=this.target;u&&(u.addEventListener("keydown",this.onKeyDown,!1),u.addEventListener("keyup",this.onKeyUp,!1),this.enabled=!0)},stopListeners:function(){var c=this.target;c.removeEventListener("keydown",this.onKeyDown,!1),c.removeEventListener("keyup",this.onKeyUp,!1),this.enabled=!1},postUpdate:function(){this.queue=[]},addCapture:function(c){typeof c=="string"&&(c=c.split(",")),Array.isArray(c)||(c=[c]);for(var u=this.captures,v=0;v<c.length;v++){var g=c[v];typeof g=="string"&&(g=l[g.trim().toUpperCase()]),u.indexOf(g)===-1&&u.push(g)}this.preventDefault=u.length>0},removeCapture:function(c){typeof c=="string"&&(c=c.split(",")),Array.isArray(c)||(c=[c]);for(var u=this.captures,v=0;v<c.length;v++){var g=c[v];typeof g=="string"&&(g=l[g.toUpperCase()]),o(u,g)}this.preventDefault=u.length>0},clearCaptures:function(){this.captures=[],this.preventDefault=!1},destroy:function(){this.stopListeners(),this.clearCaptures(),this.queue=[],this.manager.game.events.off(d.POST_RENDER,this.postUpdate,this),this.target=null,this.enabled=!1,this.manager=null}});n.exports=f},28846:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(50792),d=r(95922),h=r(8443),l=r(35154),a=r(8214),f=r(89639),c=r(30472),u=r(46032),v=r(87960),g=r(74600),m=r(44594),y=r(56583),C=new o({Extends:x,initialize:function(w){x.call(this),this.game=w.systems.game,this.scene=w.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=w,this.manager=w.manager.keyboard,this.enabled=!0,this.keys=[],this.combos=[],this.prevCode=null,this.prevTime=0,this.prevType=null,w.pluginEvents.once(a.BOOT,this.boot,this),w.pluginEvents.on(a.START,this.start,this)},boot:function(){var P=this.settings.input;this.enabled=l(P,"keyboard",!0);var w=l(P,"keyboard.capture",null);w&&this.addCaptures(w),this.sceneInputPlugin.pluginEvents.once(a.DESTROY,this.destroy,this)},start:function(){this.sceneInputPlugin.manager.events.on(a.MANAGER_PROCESS,this.update,this),this.sceneInputPlugin.pluginEvents.once(a.SHUTDOWN,this.shutdown,this),this.game.events.on(h.BLUR,this.resetKeys,this),this.scene.sys.events.on(m.PAUSE,this.resetKeys,this),this.scene.sys.events.on(m.SLEEP,this.resetKeys,this)},isActive:function(){return this.enabled&&this.scene.sys.canInput()},addCapture:function(P){return this.manager.addCapture(P),this},removeCapture:function(P){return this.manager.removeCapture(P),this},getCaptures:function(){return this.manager.captures},enableGlobalCapture:function(){return this.manager.preventDefault=!0,this},disableGlobalCapture:function(){return this.manager.preventDefault=!1,this},clearCaptures:function(){return this.manager.clearCaptures(),this},createCursorKeys:function(){return this.addKeys({up:u.UP,down:u.DOWN,left:u.LEFT,right:u.RIGHT,space:u.SPACE,shift:u.SHIFT})},addKeys:function(P,w,M){w===void 0&&(w=!0),M===void 0&&(M=!1);var R={};if(typeof P=="string"){P=P.split(",");for(var A=0;A<P.length;A++){var L=P[A].trim();L&&(R[L]=this.addKey(L,w,M))}}else for(var F in P)R[F]=this.addKey(P[F],w,M);return R},addKey:function(P,w,M){w===void 0&&(w=!0),M===void 0&&(M=!1);var R=this.keys;if(P instanceof c){var A=R.indexOf(P);return A>-1?R[A]=P:R[P.keyCode]=P,w&&this.addCapture(P.keyCode),P.setEmitOnRepeat(M),P}return typeof P=="string"&&(P=u[P.toUpperCase()]),R[P]||(R[P]=new c(this,P),w&&this.addCapture(P),R[P].setEmitOnRepeat(M)),R[P]},removeKey:function(P,w,M){w===void 0&&(w=!1),M===void 0&&(M=!1);var R=this.keys,A;if(P instanceof c){var L=R.indexOf(P);L>-1&&(A=this.keys[L],this.keys[L]=void 0)}else typeof P=="string"&&(P=u[P.toUpperCase()]);return R[P]&&(A=R[P],R[P]=void 0),A&&(A.plugin=null,M&&this.removeCapture(A.keyCode),w&&A.destroy()),this},removeAllKeys:function(P,w){P===void 0&&(P=!1),w===void 0&&(w=!1);for(var M=this.keys,R=0;R<M.length;R++){var A=M[R];A&&(M[R]=void 0,w&&this.removeCapture(A.keyCode),P&&A.destroy())}return this},createCombo:function(P,w){return new v(this,P,w)},checkDown:function(P,w){if(w===void 0&&(w=0),this.enabled&&P.isDown){var M=y(this.time-P.timeDown,w);if(M>P._tick)return P._tick=M,!0}return!1},update:function(){var P=this.manager.queue,w=P.length;if(!(!this.isActive()||w===0))for(var M=this.keys,R=0;R<w;R++){var A=P[R],L=A.keyCode,F=M[L],G=!1;A.cancelled===void 0&&(A.cancelled=0,A.stopImmediatePropagation=function(){A.cancelled=1},A.stopPropagation=function(){A.cancelled=-1}),A.cancelled!==-1&&(L===this.prevCode&&A.timeStamp===this.prevTime&&A.type===this.prevType||(this.prevCode=L,this.prevTime=A.timeStamp,this.prevType=A.type,A.type==="keydown"?(F&&(G=F.isDown,F.onDown(A)),!A.cancelled&&(!F||!G)&&(g[L]&&this.emit(d.KEY_DOWN+g[L],A),A.cancelled||this.emit(d.ANY_KEY_DOWN,A))):(F&&F.onUp(A),A.cancelled||(g[L]&&this.emit(d.KEY_UP+g[L],A),A.cancelled||this.emit(d.ANY_KEY_UP,A))),A.cancelled===1&&(A.cancelled=0)))}},resetKeys:function(){for(var P=this.keys,w=0;w<P.length;w++)P[w]&&P[w].reset();return this},shutdown:function(){this.removeAllKeys(!0),this.removeAllListeners(),this.sceneInputPlugin.manager.events.off(a.MANAGER_PROCESS,this.update,this),this.game.events.off(h.BLUR,this.resetKeys),this.scene.sys.events.off(m.PAUSE,this.resetKeys,this),this.scene.sys.events.off(m.SLEEP,this.resetKeys,this),this.queue=[]},destroy:function(){this.shutdown();for(var P=this.keys,w=0;w<P.length;w++)P[w]&&P[w].destroy();this.keys=[],this.combos=[],this.queue=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.manager=null},time:{get:function(){return this.sceneInputPlugin.manager.time}}});f.register("KeyboardPlugin",C,"keyboard","keyboard","inputKeyboard"),n.exports=C},66970:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return o.timeLastMatched=r.timeStamp,o.index++,o.index===o.size?!0:(o.current=o.keyCodes[o.index],!1)};n.exports=T},87960:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(95922),d=r(95540),h=r(68769),l=r(92803),a=new o({initialize:function(c,u,v){if(v===void 0&&(v={}),u.length<2)return!1;this.manager=c,this.enabled=!0,this.keyCodes=[];for(var g=0;g<u.length;g++){var m=u[g];typeof m=="string"?this.keyCodes.push(m.toUpperCase().charCodeAt(0)):typeof m=="number"?this.keyCodes.push(m):m.hasOwnProperty("keyCode")&&this.keyCodes.push(m.keyCode)}this.current=this.keyCodes[0],this.index=0,this.size=this.keyCodes.length,this.timeLastMatched=0,this.matched=!1,this.timeMatched=0,this.resetOnWrongKey=d(v,"resetOnWrongKey",!0),this.maxKeyDelay=d(v,"maxKeyDelay",0),this.resetOnMatch=d(v,"resetOnMatch",!1),this.deleteOnMatch=d(v,"deleteOnMatch",!1);var y=this,C=function(P){if(!(y.matched||!y.enabled)){var w=h(P,y);w&&(y.manager.emit(x.COMBO_MATCH,y,P),y.resetOnMatch?l(y):y.deleteOnMatch&&y.destroy())}};this.onKeyDown=C,this.manager.on(x.ANY_KEY_DOWN,this.onKeyDown)},progress:{get:function(){return this.index/this.size}},destroy:function(){this.enabled=!1,this.keyCodes=[],this.manager.off(x.ANY_KEY_DOWN,this.onKeyDown),this.manager=null}});n.exports=a},68769:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(66970),x=function(d,h){if(h.matched)return!0;var l=!1,a=!1;if(d.keyCode===h.current)if(h.index>0&&h.maxKeyDelay>0){var f=h.timeLastMatched+h.maxKeyDelay;d.timeStamp<=f&&(a=!0,l=o(d,h))}else a=!0,l=o(d,h);return!a&&h.resetOnWrongKey&&(h.index=0,h.current=h.keyCodes[0]),l&&(h.timeLastMatched=d.timeStamp,h.matched=!0,h.timeMatched=d.timeStamp),l};n.exports=x},92803:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r.current=r.keyCodes[0],r.index=0,r.timeLastMatched=0,r.matched=!1,r.timeMatched=0,r};n.exports=T},92612:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="keydown"},23345:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="keyup"},21957:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="keycombomatch"},44743:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="down"},3771:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="keydown-"},46358:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="keyup-"},75674:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="up"},95922:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ANY_KEY_DOWN:r(92612),ANY_KEY_UP:r(23345),COMBO_MATCH:r(21957),DOWN:r(44743),KEY_DOWN:r(3771),KEY_UP:r(46358),UP:r(75674)}},51442:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Events:r(95922),KeyboardManager:r(78970),KeyboardPlugin:r(28846),Key:r(30472),KeyCodes:r(46032),KeyCombo:r(87960),AdvanceKeyCombo:r(66970),ProcessKeyCombo:r(68769),ResetKeyCombo:r(92803),JustDown:r(90229),JustUp:r(38796),DownDuration:r(37015),UpDuration:r(41170)}},37015:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){o===void 0&&(o=50);var x=r.plugin.game.loop.time-r.timeDown;return r.isDown&&x<o};n.exports=T},90229:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r._justDown?(r._justDown=!1,!0):!1};n.exports=T},38796:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r._justUp?(r._justUp=!1,!0):!1};n.exports=T},30472:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(50792),d=r(95922),h=new o({Extends:x,initialize:function(a,f){x.call(this),this.plugin=a,this.keyCode=f,this.originalEvent=void 0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.location=0,this.timeDown=0,this.duration=0,this.timeUp=0,this.emitOnRepeat=!1,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1},setEmitOnRepeat:function(l){return this.emitOnRepeat=l,this},onDown:function(l){this.originalEvent=l,this.enabled&&(this.altKey=l.altKey,this.ctrlKey=l.ctrlKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.location=l.location,this.repeats++,this.isDown?this.emitOnRepeat&&this.emit(d.DOWN,this,l):(this.isDown=!0,this.isUp=!1,this.timeDown=l.timeStamp,this.duration=0,this._justDown=!0,this._justUp=!1,this.emit(d.DOWN,this,l)))},onUp:function(l){this.originalEvent=l,this.enabled&&(this.isDown=!1,this.isUp=!0,this.timeUp=l.timeStamp,this.duration=this.timeUp-this.timeDown,this.repeats=0,this._justDown=!1,this._justUp=!0,this._tick=-1,this.emit(d.UP,this,l))},reset:function(){return this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.timeDown=0,this.duration=0,this.timeUp=0,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1,this},getDuration:function(){return this.isDown?this.plugin.game.loop.time-this.timeDown:0},destroy:function(){this.removeAllListeners(),this.originalEvent=null,this.plugin=null}});n.exports=h},46032:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:42,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ADD:107,NUMPAD_SUBTRACT:109,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,PLUS:187,COMMA:188,MINUS:189,PERIOD:190,FORWARD_SLASH:191,BACK_SLASH:220,QUOTES:222,BACKTICK:192,OPEN_BRACKET:219,CLOSED_BRACKET:221,SEMICOLON_FIREFOX:59,COLON:58,COMMA_FIREFOX_WINDOWS:60,COMMA_FIREFOX:62,BRACKET_RIGHT_FIREFOX:174,BRACKET_LEFT_FIREFOX:175};n.exports=T},74600:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(46032),x={};for(var d in o)x[o[d]]=d;n.exports=x},41170:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){o===void 0&&(o=50);var x=r.plugin.game.loop.time-r.timeUp;return r.isUp&&x<o};n.exports=T},85098:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(89357),d=r(8214),h=r(29747),l=new o({initialize:function(f){this.manager=f,this.preventDefaultDown=!0,this.preventDefaultUp=!0,this.preventDefaultMove=!0,this.preventDefaultWheel=!1,this.enabled=!1,this.target,this.locked=!1,this.onMouseMove=h,this.onMouseDown=h,this.onMouseUp=h,this.onMouseDownWindow=h,this.onMouseUpWindow=h,this.onMouseOver=h,this.onMouseOut=h,this.onMouseWheel=h,this.pointerLockChange=h,this.isTop=!0,f.events.once(d.MANAGER_BOOT,this.boot,this)},boot:function(){var a=this.manager.config;this.enabled=a.inputMouse,this.target=a.inputMouseEventTarget,this.passive=a.inputMousePassive,this.preventDefaultDown=a.inputMousePreventDefaultDown,this.preventDefaultUp=a.inputMousePreventDefaultUp,this.preventDefaultMove=a.inputMousePreventDefaultMove,this.preventDefaultWheel=a.inputMousePreventDefaultWheel,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,a.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(a){return a.preventDefault(),!1}),this},requestPointerLock:function(){if(x.pointerLock){var a=this.target;a.requestPointerLock=a.requestPointerLock||a.mozRequestPointerLock||a.webkitRequestPointerLock,a.requestPointerLock()}},releasePointerLock:function(){x.pointerLock&&(document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,document.exitPointerLock())},startListeners:function(){var a=this.target;if(a){var f=this,c=this.manager,u=c.canvas,v=window&&window.focus&&c.game.config.autoFocus;this.onMouseMove=function(m){!m.defaultPrevented&&f.enabled&&c&&c.enabled&&(c.onMouseMove(m),f.preventDefaultMove&&m.preventDefault())},this.onMouseDown=function(m){v&&window.focus(),!m.defaultPrevented&&f.enabled&&c&&c.enabled&&(c.onMouseDown(m),f.preventDefaultDown&&m.target===u&&m.preventDefault())},this.onMouseDownWindow=function(m){m.sourceCapabilities&&m.sourceCapabilities.firesTouchEvents||!m.defaultPrevented&&f.enabled&&c&&c.enabled&&m.target!==u&&c.onMouseDown(m)},this.onMouseUp=function(m){!m.defaultPrevented&&f.enabled&&c&&c.enabled&&(c.onMouseUp(m),f.preventDefaultUp&&m.target===u&&m.preventDefault())},this.onMouseUpWindow=function(m){m.sourceCapabilities&&m.sourceCapabilities.firesTouchEvents||!m.defaultPrevented&&f.enabled&&c&&c.enabled&&m.target!==u&&c.onMouseUp(m)},this.onMouseOver=function(m){!m.defaultPrevented&&f.enabled&&c&&c.enabled&&c.setCanvasOver(m)},this.onMouseOut=function(m){!m.defaultPrevented&&f.enabled&&c&&c.enabled&&c.setCanvasOut(m)},this.onMouseWheel=function(m){!m.defaultPrevented&&f.enabled&&c&&c.enabled&&c.onMouseWheel(m),f.preventDefaultWheel&&m.target===u&&m.preventDefault()};var g={passive:!0};if(a.addEventListener("mousemove",this.onMouseMove),a.addEventListener("mousedown",this.onMouseDown),a.addEventListener("mouseup",this.onMouseUp),a.addEventListener("mouseover",this.onMouseOver,g),a.addEventListener("mouseout",this.onMouseOut,g),this.preventDefaultWheel?a.addEventListener("wheel",this.onMouseWheel,{passive:!1}):a.addEventListener("wheel",this.onMouseWheel,g),window&&c.game.config.inputWindowEvents)try{window.top.addEventListener("mousedown",this.onMouseDownWindow,g),window.top.addEventListener("mouseup",this.onMouseUpWindow,g)}catch{window.addEventListener("mousedown",this.onMouseDownWindow,g),window.addEventListener("mouseup",this.onMouseUpWindow,g),this.isTop=!1}x.pointerLock&&(this.pointerLockChange=function(m){var y=f.target;f.locked=document.pointerLockElement===y||document.mozPointerLockElement===y||document.webkitPointerLockElement===y,c.onPointerLockChange(m)},document.addEventListener("pointerlockchange",this.pointerLockChange,!0),document.addEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.addEventListener("webkitpointerlockchange",this.pointerLockChange,!0)),this.enabled=!0}},stopListeners:function(){var a=this.target;a.removeEventListener("mousemove",this.onMouseMove),a.removeEventListener("mousedown",this.onMouseDown),a.removeEventListener("mouseup",this.onMouseUp),a.removeEventListener("mouseover",this.onMouseOver),a.removeEventListener("mouseout",this.onMouseOut),window&&(a=this.isTop?window.top:window,a.removeEventListener("mousedown",this.onMouseDownWindow),a.removeEventListener("mouseup",this.onMouseUpWindow)),x.pointerLock&&(document.removeEventListener("pointerlockchange",this.pointerLockChange,!0),document.removeEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.removeEventListener("webkitpointerlockchange",this.pointerLockChange,!0))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});n.exports=l},87078:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={MouseManager:r(85098)}},36210:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(8214),d=r(29747),h=new o({initialize:function(a){this.manager=a,this.capture=!0,this.enabled=!1,this.target,this.onTouchStart=d,this.onTouchStartWindow=d,this.onTouchMove=d,this.onTouchEnd=d,this.onTouchEndWindow=d,this.onTouchCancel=d,this.onTouchCancelWindow=d,this.isTop=!0,a.events.once(x.MANAGER_BOOT,this.boot,this)},boot:function(){var l=this.manager.config;this.enabled=l.inputTouch,this.target=l.inputTouchEventTarget,this.capture=l.inputTouchCapture,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,l.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(l){return l.preventDefault(),!1}),this},startListeners:function(){var l=this.target;if(l){var a=this,f=this.manager,c=f.canvas,u=window&&window.focus&&f.game.config.autoFocus;this.onTouchMove=function(y){!y.defaultPrevented&&a.enabled&&f&&f.enabled&&(f.onTouchMove(y),a.capture&&y.cancelable&&y.preventDefault())},this.onTouchStart=function(y){u&&window.focus(),!y.defaultPrevented&&a.enabled&&f&&f.enabled&&(f.onTouchStart(y),a.capture&&y.cancelable&&y.target===c&&y.preventDefault())},this.onTouchStartWindow=function(y){!y.defaultPrevented&&a.enabled&&f&&f.enabled&&y.target!==c&&f.onTouchStart(y)},this.onTouchEnd=function(y){!y.defaultPrevented&&a.enabled&&f&&f.enabled&&(f.onTouchEnd(y),a.capture&&y.cancelable&&y.target===c&&y.preventDefault())},this.onTouchEndWindow=function(y){!y.defaultPrevented&&a.enabled&&f&&f.enabled&&y.target!==c&&f.onTouchEnd(y)},this.onTouchCancel=function(y){!y.defaultPrevented&&a.enabled&&f&&f.enabled&&(f.onTouchCancel(y),a.capture&&y.preventDefault())},this.onTouchCancelWindow=function(y){!y.defaultPrevented&&a.enabled&&f&&f.enabled&&f.onTouchCancel(y)};var v=this.capture,g={passive:!0},m={passive:!1};if(l.addEventListener("touchstart",this.onTouchStart,v?m:g),l.addEventListener("touchmove",this.onTouchMove,v?m:g),l.addEventListener("touchend",this.onTouchEnd,v?m:g),l.addEventListener("touchcancel",this.onTouchCancel,v?m:g),window&&f.game.config.inputWindowEvents)try{window.top.addEventListener("touchstart",this.onTouchStartWindow,m),window.top.addEventListener("touchend",this.onTouchEndWindow,m),window.top.addEventListener("touchcancel",this.onTouchCancelWindow,m)}catch{window.addEventListener("touchstart",this.onTouchStartWindow,m),window.addEventListener("touchend",this.onTouchEndWindow,m),window.addEventListener("touchcancel",this.onTouchCancelWindow,m),this.isTop=!1}this.enabled=!0}},stopListeners:function(){var l=this.target;l.removeEventListener("touchstart",this.onTouchStart),l.removeEventListener("touchmove",this.onTouchMove),l.removeEventListener("touchend",this.onTouchEnd),l.removeEventListener("touchcancel",this.onTouchCancel),window&&(l=this.isTop?window.top:window,l.removeEventListener("touchstart",this.onTouchStartWindow),l.removeEventListener("touchend",this.onTouchEndWindow),l.removeEventListener("touchcancel",this.onTouchCancelWindow))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});n.exports=h},95618:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={TouchManager:r(36210)}},41299:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(23906),d=r(54899),h=r(95540),l=r(98356),a=r(3374),f=r(84376),c=r(92638),u=new o({initialize:function(g,m){if(this.loader=g,this.cache=h(m,"cache",!1),this.type=h(m,"type",!1),!this.type)throw new Error("Invalid File type: "+this.type);this.key=h(m,"key",!1);var y=this.key;if(g.prefix&&g.prefix!==""&&(this.key=g.prefix+y),!this.key)throw new Error("Invalid File key: "+this.key);var C=h(m,"url");C===void 0?C=g.path+y+"."+h(m,"extension",""):typeof C=="string"&&!C.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)&&(C=g.path+C),this.url=C,this.src="",this.xhrSettings=c(h(m,"responseType",void 0)),h(m,"xhrSettings",!1)&&(this.xhrSettings=a(this.xhrSettings,h(m,"xhrSettings",{}))),this.xhrLoader=null,this.state=typeof this.url=="function"?x.FILE_POPULATED:x.FILE_PENDING,this.bytesTotal=0,this.bytesLoaded=-1,this.percentComplete=-1,this.crossOrigin=void 0,this.data=void 0,this.config=h(m,"config",{}),this.multiFile,this.linkFile,this.base64=typeof C=="string"&&C.indexOf("data:")===0,this.retryAttempts=h(m,"maxRetries",g.maxRetries)},setLink:function(v){this.linkFile=v,v.linkFile=this},resetXHR:function(){this.xhrLoader&&(this.xhrLoader.onload=void 0,this.xhrLoader.onerror=void 0,this.xhrLoader.onprogress=void 0)},load:function(){if(this.state===x.FILE_POPULATED)this.loader.nextFile(this,!0);else{if(this.state=x.FILE_LOADING,this.src=l(this,this.loader.baseURL),!this.src)throw new Error("URL Error in File: "+this.key+" from: "+this.url);this.src.indexOf("data:")===0&&(this.base64=!0),this.xhrLoader=f(this,this.loader.xhr)}},onLoad:function(v,g){var m=v.responseURL&&this.loader.localSchemes.some(function(P){return v.responseURL.indexOf(P)===0}),y=m&&g.target.status===0,C=!(g.target&&g.target.status!==200)||y;v.readyState===4&&v.status>=400&&v.status<=599&&(C=!1),this.state=x.FILE_LOADED,this.resetXHR(),this.loader.nextFile(this,C)},onBase64Load:function(v){this.xhrLoader=v,this.state=x.FILE_LOADED,this.percentComplete=1,this.loader.emit(d.FILE_PROGRESS,this,this.percentComplete),this.loader.nextFile(this,!0)},onError:function(){this.resetXHR(),this.retryAttempts>0?(this.retryAttempts--,this.load()):this.loader.nextFile(this,!1)},onProgress:function(v){v.lengthComputable&&(this.bytesLoaded=v.loaded,this.bytesTotal=v.total,this.percentComplete=Math.min(this.bytesLoaded/this.bytesTotal,1),this.loader.emit(d.FILE_PROGRESS,this,this.percentComplete))},onProcess:function(){this.state=x.FILE_PROCESSING,this.onProcessComplete()},onProcessComplete:function(){this.state=x.FILE_COMPLETE,this.multiFile&&this.multiFile.onFileComplete(this),this.loader.fileProcessComplete(this)},onProcessError:function(){console.error('Failed to process file: %s "%s"',this.type,this.key),this.state=x.FILE_ERRORED,this.multiFile&&this.multiFile.onFileFailed(this),this.loader.fileProcessComplete(this)},hasCacheConflict:function(){return this.cache&&this.cache.exists(this.key)},addToCache:function(){this.cache&&this.data&&this.cache.add(this.key,this.data)},pendingDestroy:function(v){if(this.state!==x.FILE_PENDING_DESTROY){v===void 0&&(v=this.data);var g=this.key,m=this.type;this.loader.emit(d.FILE_COMPLETE,g,m,v),this.loader.emit(d.FILE_KEY_COMPLETE+m+"-"+g,g,m,v),this.loader.flagForRemoval(this),this.state=x.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.cache=null,this.xhrSettings=null,this.multiFile=null,this.linkFile=null,this.data=null}});u.createObjectURL=function(v,g,m){if(typeof URL=="function")v.src=URL.createObjectURL(g);else{var y=new FileReader;y.onload=function(){v.removeAttribute("crossOrigin"),v.src="data:"+(g.type||m)+";base64,"+y.result.split(",")[1]},y.onerror=v.onerror,y.readAsDataURL(g)}},u.revokeObjectURL=function(v){typeof URL=="function"&&URL.revokeObjectURL(v.src)},n.exports=u},74099:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={},r={install:function(o){for(var x in T)o[x]=T[x]},register:function(o,x){T[o]=x},destroy:function(){T={}}};n.exports=r},98356:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return r.url?r.url.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)?r.url:o+r.url:!1};n.exports=T},74261:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(23906),d=r(35072),h=r(50792),l=r(54899),a=r(74099),f=r(95540),c=r(35154),u=r(41212),v=r(37277),g=r(44594),m=r(92638),y=new o({Extends:h,initialize:function(P){h.call(this);var w=P.sys.game.config,M=P.sys.settings.loader;this.scene=P,this.systems=P.sys,this.cacheManager=P.sys.cache,this.textureManager=P.sys.textures,this.sceneManager=P.sys.game.scene,a.install(this),this.prefix="",this.path="",this.baseURL="",this.setBaseURL(f(M,"baseURL",w.loaderBaseURL)),this.setPath(f(M,"path",w.loaderPath)),this.setPrefix(f(M,"prefix",w.loaderPrefix)),this.maxParallelDownloads=f(M,"maxParallelDownloads",w.loaderMaxParallelDownloads),this.xhr=m(f(M,"responseType",w.loaderResponseType),f(M,"async",w.loaderAsync),f(M,"user",w.loaderUser),f(M,"password",w.loaderPassword),f(M,"timeout",w.loaderTimeout),f(M,"withCredentials",w.loaderWithCredentials)),this.crossOrigin=f(M,"crossOrigin",w.loaderCrossOrigin),this.imageLoadType=f(M,"imageLoadType",w.loaderImageLoadType),this.localSchemes=f(M,"localScheme",w.loaderLocalScheme),this.totalToLoad=0,this.progress=0,this.list=new d,this.inflight=new d,this.queue=new d,this._deleteQueue=new d,this.totalFailed=0,this.totalComplete=0,this.state=x.LOADER_IDLE,this.multiKeyIndex=0,this.maxRetries=f(M,"maxRetries",w.loaderMaxRetries),P.sys.events.once(g.BOOT,this.boot,this),P.sys.events.on(g.START,this.pluginStart,this)},boot:function(){this.systems.events.once(g.DESTROY,this.destroy,this)},pluginStart:function(){this.systems.events.once(g.SHUTDOWN,this.shutdown,this)},setBaseURL:function(C){return C===void 0&&(C=""),C!==""&&C.substr(-1)!=="/"&&(C=C.concat("/")),this.baseURL=C,this},setPath:function(C){return C===void 0&&(C=""),C!==""&&C.substr(-1)!=="/"&&(C=C.concat("/")),this.path=C,this},setPrefix:function(C){return C===void 0&&(C=""),this.prefix=C,this},setCORS:function(C){return this.crossOrigin=C,this},addFile:function(C){Array.isArray(C)||(C=[C]);for(var P=0;P<C.length;P++){var w=C[P];this.keyExists(w)||(this.list.set(w),this.emit(l.ADD,w.key,w.type,this,w),this.isLoading()&&(this.totalToLoad++,this.updateProgress()))}},keyExists:function(C){var P=C.hasCacheConflict();return P||this.list.iterate(function(w){if(w.type===C.type&&w.key===C.key)return P=!0,!1}),!P&&this.isLoading()&&(this.inflight.iterate(function(w){if(w.type===C.type&&w.key===C.key)return P=!0,!1}),this.queue.iterate(function(w){if(w.type===C.type&&w.key===C.key)return P=!0,!1})),P},addPack:function(C,P){if(typeof P=="string"){var w=c(C,P);w&&(C={packKey:w})}var M=0,R=this.baseURL,A=this.path,L=this.prefix;for(var F in C)if(Object.prototype.hasOwnProperty.call(C,F)){var G=C[F],I=f(G,"baseURL",R),B=f(G,"path",A),k=f(G,"prefix",L),U=f(G,"files",null),H=f(G,"defaultType","void");if(Array.isArray(U)){this.setBaseURL(I),this.setPath(B),this.setPrefix(k);for(var X=0;X<U.length;X++){var j=U[X],J=j.hasOwnProperty("type")?j.type:H;this[J]&&(this[J](j),M++)}}}return this.setBaseURL(R),this.setPath(A),this.setPrefix(L),M>0},removePack:function(C,P){var w=this.systems.anims,M=this.cacheManager,R=this.textureManager,A={animation:"json",aseprite:"json",audio:"audio",audioSprite:"audio",binary:"binary",bitmapFont:"bitmapFont",css:null,glsl:"shader",html:"html",json:"json",obj:"obj",plugin:null,scenePlugin:null,script:null,spine:"json",text:"text",tilemapCSV:"tilemap",tilemapImpact:"tilemap",tilemapTiledJSON:"tilemap",video:"video",xml:"xml"},L;if(u(C))L=C;else if(L=M.json.get(C),!L){console.warn("Asset Pack not found in JSON cache:",C);return}P&&(L={_:L[P]});for(var F in L){var G=L[F],I=f(G,"prefix",""),B=f(G,"files"),k=f(G,"defaultType");if(Array.isArray(B))for(var U=0;U<B.length;U++){var H=B[U],X=H.hasOwnProperty("type")?H.type:k;if(!X){console.warn("No type:",H);continue}var j=I+H.key;if(X==="animation"&&w.remove(j),!((X==="aseprite"||X==="atlas"||X==="atlasXML"||X==="htmlTexture"||X==="image"||X==="multiatlas"||X==="spritesheet"||X==="svg"||X==="texture"||X==="unityAtlas")&&(R.remove(j),!A[X]))){if(X==="pack"){this.removePack(j,H.dataKey);continue}if(X==="spine"){var J=M.custom.spine.get(j);if(!J)continue;var Y=J.prefix===void 0?"":J.prefix;M.custom.spine.remove(j);var $=M.custom.spineTextures.get(j);if(!$)continue;M.custom.spineTextures.remove(j);for(var z=0;z<$.pages.length;z++){var V=$.pages[z],K=Y+V.name,Q=j+":"+K;R.exists(Q)?R.remove(Q):R.remove(K)}}var _=A[X];if(_!==null){if(!_){console.warn("Unknown type:",X);continue}var tt=M[_];tt.remove(j)}}}}},isLoading:function(){return this.state===x.LOADER_LOADING||this.state===x.LOADER_PROCESSING},isReady:function(){return this.state===x.LOADER_IDLE||this.state===x.LOADER_COMPLETE},start:function(){this.isReady()&&(this.progress=0,this.totalFailed=0,this.totalComplete=0,this.totalToLoad=this.list.size,this.emit(l.START,this),this.list.size===0?this.loadComplete():(this.state=x.LOADER_LOADING,this.inflight.clear(),this.queue.clear(),this.updateProgress(),this.checkLoadQueue(),this.systems.events.on(g.UPDATE,this.update,this)))},updateProgress:function(){this.progress=1-(this.list.size+this.inflight.size)/this.totalToLoad,this.emit(l.PROGRESS,this.progress)},update:function(){this.state===x.LOADER_LOADING&&this.list.size>0&&this.inflight.size<this.maxParallelDownloads&&this.checkLoadQueue()},checkLoadQueue:function(){this.list.each(function(C){if((C.state===x.FILE_POPULATED||C.state===x.FILE_PENDING&&this.inflight.size<this.maxParallelDownloads)&&(this.inflight.set(C),this.list.delete(C),C.crossOrigin||(C.crossOrigin=this.crossOrigin),C.load()),this.inflight.size===this.maxParallelDownloads)return!1},this)},nextFile:function(C,P){this.inflight&&(this.inflight.delete(C),this.updateProgress(),P?(this.totalComplete++,this.queue.set(C),this.emit(l.FILE_LOAD,C),C.onProcess()):(this.totalFailed++,this._deleteQueue.set(C),this.emit(l.FILE_LOAD_ERROR,C),this.fileProcessComplete(C)))},fileProcessComplete:function(C){!this.scene||!this.systems||!this.systems.game||this.systems.game.pendingDestroy||(C.state===x.FILE_ERRORED?C.multiFile&&C.multiFile.onFileFailed(C):C.state===x.FILE_COMPLETE&&(C.multiFile?C.multiFile.isReadyToProcess()&&(C.multiFile.addToCache(),C.multiFile.pendingDestroy()):(C.addToCache(),C.pendingDestroy())),this.queue.delete(C),this.list.size===0&&this.inflight.size===0&&this.queue.size===0&&this.loadComplete())},loadComplete:function(){this.emit(l.POST_PROCESS,this),this.list.clear(),this.inflight.clear(),this.queue.clear(),this.progress=1,this.state=x.LOADER_COMPLETE,this.systems.events.off(g.UPDATE,this.update,this),this._deleteQueue.iterateLocal("destroy"),this._deleteQueue.clear(),this.emit(l.COMPLETE,this,this.totalComplete,this.totalFailed)},flagForRemoval:function(C){this._deleteQueue.set(C)},saveJSON:function(C,P){return this.save(JSON.stringify(C),P)},save:function(C,P,w){P===void 0&&(P="file.json"),w===void 0&&(w="application/json");var M=new Blob([C],{type:w}),R=URL.createObjectURL(M),A=document.createElement("a");return A.download=P,A.textContent="Download "+P,A.href=R,A.click(),this},reset:function(){this.list.clear(),this.inflight.clear(),this.queue.clear();var C=this.systems.game.config,P=this.systems.settings.loader;this.setBaseURL(f(P,"baseURL",C.loaderBaseURL)),this.setPath(f(P,"path",C.loaderPath)),this.setPrefix(f(P,"prefix",C.loaderPrefix)),this.state=x.LOADER_IDLE},shutdown:function(){this.reset(),this.state=x.LOADER_SHUTDOWN,this.removeAllListeners(),this.systems.events.off(g.UPDATE,this.update,this),this.systems.events.off(g.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.state=x.LOADER_DESTROYED,this.systems.events.off(g.UPDATE,this.update,this),this.systems.events.off(g.START,this.pluginStart,this),this.list=null,this.inflight=null,this.queue=null,this.scene=null,this.systems=null,this.textureManager=null,this.cacheManager=null,this.sceneManager=null}});v.register("Loader",y,"load"),n.exports=y},3374:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(79291),x=r(92638),d=function(h,l){var a=h===void 0?x():o({},h);if(l)for(var f in l)l[f]!==void 0&&(a[f]=l[f]);return a};n.exports=d},26430:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(23906),d=r(54899),h=new o({initialize:function(a,f,c,u){var v=[];u.forEach(function(y){y&&v.push(y)}),this.loader=a,this.type=f,this.key=c;var g=this.key;a.prefix&&a.prefix!==""&&(this.key=a.prefix+g),this.multiKeyIndex=a.multiKeyIndex++,this.files=v,this.state=x.FILE_PENDING,this.complete=!1,this.pending=v.length,this.failed=0,this.config={},this.baseURL=a.baseURL,this.path=a.path,this.prefix=a.prefix;for(var m=0;m<v.length;m++)v[m].multiFile=this},isReadyToProcess:function(){return this.pending===0&&this.failed===0&&!this.complete},addToMultiFile:function(l){return this.files.push(l),l.multiFile=this,this.pending++,this.complete=!1,this},onFileComplete:function(l){var a=this.files.indexOf(l);a!==-1&&this.pending--},onFileFailed:function(l){var a=this.files.indexOf(l);a!==-1&&(this.failed++,console.error('File failed: %s "%s" (via %s "%s")',this.type,this.key,l.type,l.key))},pendingDestroy:function(){if(this.state!==x.FILE_PENDING_DESTROY){var l=this.key,a=this.type;this.loader.emit(d.FILE_COMPLETE,l,a),this.loader.emit(d.FILE_KEY_COMPLETE+a+"-"+l,l,a),this.loader.flagForRemoval(this);for(var f=0;f<this.files.length;f++)this.files[f].pendingDestroy();this.state=x.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.files=null,this.config=null}});n.exports=h},84376:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(3374),x=function(d,h){var l=o(h,d.xhrSettings);if(d.base64){var a=d.url.split(";base64,").pop()||d.url.split(",").pop(),f={responseText:atob(a)};d.onBase64Load(f);return}var c=new XMLHttpRequest;if(c.open("GET",d.src,l.async,l.user,l.password),c.responseType=d.xhrSettings.responseType,c.timeout=l.timeout,l.headers)for(var u in l.headers)c.setRequestHeader(u,l.headers[u]);return l.header&&l.headerValue&&c.setRequestHeader(l.header,l.headerValue),l.requestedWith&&c.setRequestHeader("X-Requested-With",l.requestedWith),l.overrideMimeType&&c.overrideMimeType(l.overrideMimeType),l.withCredentials&&(c.withCredentials=!0),c.onload=d.onLoad.bind(d,c),c.onerror=d.onError.bind(d,c),c.onprogress=d.onProgress.bind(d),c.ontimeout=d.onError.bind(d,c),c.send(),c};n.exports=x},92638:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d,h,l){return r===void 0&&(r=""),o===void 0&&(o=!0),x===void 0&&(x=""),d===void 0&&(d=""),h===void 0&&(h=0),l===void 0&&(l=!1),{responseType:r,async:o,user:x,password:d,timeout:h,headers:void 0,header:void 0,headerValue:void 0,requestedWith:!1,overrideMimeType:void 0,withCredentials:l}};n.exports=T},23906:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={LOADER_IDLE:0,LOADER_LOADING:1,LOADER_PROCESSING:2,LOADER_COMPLETE:3,LOADER_SHUTDOWN:4,LOADER_DESTROYED:5,FILE_PENDING:10,FILE_LOADING:11,FILE_LOADED:12,FILE_FAILED:13,FILE_PROCESSING:14,FILE_ERRORED:16,FILE_COMPLETE:17,FILE_DESTROYED:18,FILE_POPULATED:19,FILE_PENDING_DESTROY:20};n.exports=T},42155:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="addfile"},38991:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="complete"},27540:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="filecomplete"},87464:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="filecomplete-"},94486:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="loaderror"},13035:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="load"},38144:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="fileprogress"},97520:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="postprocess"},85595:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="progress"},55680:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="start"},54899:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ADD:r(42155),COMPLETE:r(38991),FILE_COMPLETE:r(27540),FILE_KEY_COMPLETE:r(87464),FILE_LOAD_ERROR:r(94486),FILE_LOAD:r(13035),FILE_PROGRESS:r(38144),POST_PROCESS:r(97520),PROGRESS:r(85595),START:r(55680)}},14135:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(74099),d=r(518),h=r(54899),l=new o({Extends:d,initialize:function(f,c,u,v,g){d.call(this,f,c,u,v,g),this.type="animationJSON"},onProcess:function(){this.loader.once(h.POST_PROCESS,this.onLoadComplete,this),d.prototype.onProcess.call(this)},onLoadComplete:function(){this.loader.systems.anims.fromJSON(this.data)}});x.register("animation",function(a,f,c,u){if(Array.isArray(a))for(var v=0;v<a.length;v++)this.addFile(new l(this,a[v]));else this.addFile(new l(this,a,f,u,c));return this}),n.exports=l},76272:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(74099),d=r(95540),h=r(19550),l=r(41212),a=r(518),f=r(26430),c=new o({Extends:f,initialize:function(v,g,m,y,C,P){var w,M;if(l(g)){var R=g;g=d(R,"key"),w=new h(v,{key:g,url:d(R,"textureURL"),extension:d(R,"textureExtension","png"),normalMap:d(R,"normalMap"),xhrSettings:d(R,"textureXhrSettings")}),M=new a(v,{key:g,url:d(R,"atlasURL"),extension:d(R,"atlasExtension","json"),xhrSettings:d(R,"atlasXhrSettings")})}else w=new h(v,g,m,C),M=new a(v,g,y,P);w.linkFile?f.call(this,v,"atlasjson",g,[w,M,w.linkFile]):f.call(this,v,"atlasjson",g,[w,M])},addToCache:function(){if(this.isReadyToProcess()){var u=this.files[0],v=this.files[1],g=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(u.key,u.data,v.data,g),v.addToCache(),this.complete=!0}}});x.register("aseprite",function(u,v,g,m,y){var C;if(Array.isArray(u))for(var P=0;P<u.length;P++)C=new c(this,u[P]),this.addFile(C.files);else C=new c(this,u,v,g,m,y),this.addFile(C.files);return this}),n.exports=c},38734:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(74099),d=r(95540),h=r(19550),l=r(41212),a=r(518),f=r(26430),c=new o({Extends:f,initialize:function(v,g,m,y,C,P){var w,M;if(l(g)){var R=g;g=d(R,"key"),w=new h(v,{key:g,url:d(R,"textureURL"),extension:d(R,"textureExtension","png"),normalMap:d(R,"normalMap"),xhrSettings:d(R,"textureXhrSettings")}),M=new a(v,{key:g,url:d(R,"atlasURL"),extension:d(R,"atlasExtension","json"),xhrSettings:d(R,"atlasXhrSettings")})}else w=new h(v,g,m,C),M=new a(v,g,y,P);w.linkFile?f.call(this,v,"atlasjson",g,[w,M,w.linkFile]):f.call(this,v,"atlasjson",g,[w,M])},addToCache:function(){if(this.isReadyToProcess()){var u=this.files[0],v=this.files[1],g=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(u.key,u.data,v.data,g),this.complete=!0}}});x.register("atlas",function(u,v,g,m,y){var C;if(Array.isArray(u))for(var P=0;P<u.length;P++)C=new c(this,u[P]),this.addFile(C.files);else C=new c(this,u,v,g,m,y),this.addFile(C.files);return this}),n.exports=c},74599:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(74099),d=r(95540),h=r(19550),l=r(41212),a=r(26430),f=r(57318),c=new o({Extends:a,initialize:function(v,g,m,y,C,P){var w,M;if(l(g)){var R=g;g=d(R,"key"),w=new h(v,{key:g,url:d(R,"textureURL"),extension:d(R,"textureExtension","png"),normalMap:d(R,"normalMap"),xhrSettings:d(R,"textureXhrSettings")}),M=new f(v,{key:g,url:d(R,"atlasURL"),extension:d(R,"atlasExtension","xml"),xhrSettings:d(R,"atlasXhrSettings")})}else w=new h(v,g,m,C),M=new f(v,g,y,P);w.linkFile?a.call(this,v,"atlasxml",g,[w,M,w.linkFile]):a.call(this,v,"atlasxml",g,[w,M])},addToCache:function(){if(this.isReadyToProcess()){var u=this.files[0],v=this.files[1],g=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlasXML(u.key,u.data,v.data,g),this.complete=!0}}});x.register("atlasXML",function(u,v,g,m,y){var C;if(Array.isArray(u))for(var P=0;P<u.length;P++)C=new c(this,u[P]),this.addFile(C.files);else C=new c(this,u,v,g,m,y),this.addFile(C.files);return this}),n.exports=c},21097:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(23906),d=r(41299),h=r(74099),l=r(95540),a=r(89749),f=r(41212),c=new o({Extends:d,initialize:function(v,g,m,y,C){if(f(g)){var P=g;g=l(P,"key"),y=l(P,"xhrSettings"),C=l(P,"context",C)}var w={type:"audio",cache:v.cacheManager.audio,extension:m.type,responseType:"arraybuffer",key:g,url:m.url,xhrSettings:y,config:{context:C}};d.call(this,v,w)},onProcess:function(){this.state=x.FILE_PROCESSING;var u=this;this.config.context.decodeAudioData(this.xhrLoader.response,function(v){u.data=v,u.onProcessComplete()},function(v){console.error("Error decoding audio: "+u.key+" - ",v?v.message:null),u.onProcessError()}),this.config.context=null}});c.create=function(u,v,g,m,y){var C=u.systems.game,P=C.config.audio,w=C.device.audio;f(v)&&(g=l(v,"url",[]),m=l(v,"config",{}));var M=c.getAudioURL(C,g);return M?w.webAudio&&!P.disableWebAudio?new c(u,v,M,y,C.sound.context):new a(u,v,M,m):(console.warn('No audio URLs for "%s" can play on this device',v),null)},c.getAudioURL=function(u,v){Array.isArray(v)||(v=[v]);for(var g=0;g<v.length;g++){var m=l(v[g],"url",v[g]);if(m.indexOf("blob:")===0||m.indexOf("data:")===0)return{url:m,type:""};var y=m.match(/\.([a-zA-Z0-9]+)($|\?)/);if(y=l(v[g],"type",y?y[1]:"").toLowerCase(),u.device.audio[y])return{url:m,type:y}}return null},h.register("audio",function(u,v,g,m){var y=this.systems.game,C=y.config.audio,P=y.device.audio;if(C.noAudio||!P.webAudio&&!P.audioData)return this;var w;if(Array.isArray(u))for(var M=0;M<u.length;M++)w=c.create(this,u[M]),w&&this.addFile(w);else w=c.create(this,u,v,g,m),w&&this.addFile(w);return this}),n.exports=c},89524:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(21097),x=r(83419),d=r(74099),h=r(95540),l=r(41212),a=r(518),f=r(26430),c=new x({Extends:f,initialize:function(v,g,m,y,C,P,w){if(l(g)){var M=g;g=h(M,"key"),m=h(M,"jsonURL"),y=h(M,"audioURL"),C=h(M,"audioConfig"),P=h(M,"audioXhrSettings"),w=h(M,"jsonXhrSettings")}var R;if(!y)R=new a(v,g,m,w),f.call(this,v,"audiosprite",g,[R]),this.config.resourceLoad=!0,this.config.audioConfig=C,this.config.audioXhrSettings=P;else{var A=o.create(v,g,y,C,P);A&&(R=new a(v,g,m,w),f.call(this,v,"audiosprite",g,[A,R]),this.config.resourceLoad=!1)}},onFileComplete:function(u){var v=this.files.indexOf(u);if(v!==-1&&(this.pending--,this.config.resourceLoad&&u.type==="json"&&u.data.hasOwnProperty("resources"))){var g=u.data.resources,m=h(this.config,"audioConfig"),y=h(this.config,"audioXhrSettings"),C=o.create(this.loader,u.key,g,m,y);C&&(this.addToMultiFile(C),this.loader.addFile(C))}},addToCache:function(){if(this.isReadyToProcess()){var u=this.files[0],v=this.files[1];u.addToCache(),v.addToCache(),this.complete=!0}}});d.register("audioSprite",function(u,v,g,m,y,C){var P=this.systems.game,w=P.config.audio,M=P.device.audio;if(w&&w.noAudio||!M.webAudio&&!M.audioData)return this;var R;if(Array.isArray(u))for(var A=0;A<u.length;A++)R=new c(this,u[A]),R.files&&this.addFile(R.files);else R=new c(this,u,v,g,m,y,C),R.files&&this.addFile(R.files);return this})},85722:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(23906),d=r(41299),h=r(74099),l=r(95540),a=r(41212),f=new o({Extends:d,initialize:function(u,v,g,m,y){var C="bin";if(a(v)){var P=v;v=l(P,"key"),g=l(P,"url"),m=l(P,"xhrSettings"),C=l(P,"extension",C),y=l(P,"dataType",y)}var w={type:"binary",cache:u.cacheManager.binary,extension:C,responseType:"arraybuffer",key:v,url:g,xhrSettings:m,config:{dataType:y}};d.call(this,u,w)},onProcess:function(){this.state=x.FILE_PROCESSING;var c=this.config.dataType;this.data=c?new c(this.xhrLoader.response):this.xhrLoader.response,this.onProcessComplete()}});h.register("binary",function(c,u,v,g){if(Array.isArray(c))for(var m=0;m<c.length;m++)this.addFile(new f(this,c[m]));else this.addFile(new f(this,c,u,g,v));return this}),n.exports=f},97025:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(74099),d=r(95540),h=r(19550),l=r(41212),a=r(26430),f=r(21859),c=r(57318),u=new o({Extends:a,initialize:function(g,m,y,C,P,w){var M,R;if(l(m)){var A=m;m=d(A,"key"),M=new h(g,{key:m,url:d(A,"textureURL"),extension:d(A,"textureExtension","png"),normalMap:d(A,"normalMap"),xhrSettings:d(A,"textureXhrSettings")}),R=new c(g,{key:m,url:d(A,"fontDataURL"),extension:d(A,"fontDataExtension","xml"),xhrSettings:d(A,"fontDataXhrSettings")})}else M=new h(g,m,y,P),R=new c(g,m,C,w);M.linkFile?a.call(this,g,"bitmapfont",m,[M,R,M.linkFile]):a.call(this,g,"bitmapfont",m,[M,R])},addToCache:function(){if(this.isReadyToProcess()){var v=this.files[0],g=this.files[1];v.addToCache();var m=v.cache.get(v.key),y=f(g.data,v.cache.getFrame(v.key),0,0,m);this.loader.cacheManager.bitmapFont.add(v.key,{data:y,texture:v.key,frame:null}),this.complete=!0}}});x.register("bitmapFont",function(v,g,m,y,C){var P;if(Array.isArray(v))for(var w=0;w<v.length;w++)P=new u(this,v[w]),this.addFile(P.files);else P=new u(this,v,g,m,y,C),this.addFile(P.files);return this}),n.exports=u},16024:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(23906),d=r(41299),h=r(74099),l=r(95540),a=r(41212),f=new o({Extends:d,initialize:function(u,v,g,m){var y="css";if(a(v)){var C=v;v=l(C,"key"),g=l(C,"url"),m=l(C,"xhrSettings"),y=l(C,"extension",y)}var P={type:"script",cache:!1,extension:y,responseType:"text",key:v,url:g,xhrSettings:m};d.call(this,u,P)},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=document.createElement("style"),this.data.defer=!1,this.data.innerHTML=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});h.register("css",function(c,u,v){if(Array.isArray(c))for(var g=0;g<c.length;g++)this.addFile(new f(this,c[g]));else this.addFile(new f(this,c,u,v));return this}),n.exports=f},69559:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(38734),x=r(85722),d=r(83419),h=r(74099),l=r(95540),a=r(19550),f=r(41212),c=r(518),u=r(31403),v=r(46975),g=r(59327),m=r(26430),y=r(82038),C=r(55222),P=new d({Extends:m,initialize:function(M,R,A,L){if(A.multiAtlasURL){var F=new c(M,{key:R,url:A.multiAtlasURL,xhrSettings:L,config:A});m.call(this,M,"texture",R,[F])}else{var G=A.textureURL.substr(A.textureURL.length-3);A.type||(A.type=G.toLowerCase()==="ktx"?"KTX":"PVR");var I=new x(M,{key:R,url:A.textureURL,extension:G,xhrSettings:L,config:A});if(A.atlasURL){var B=new c(M,{key:R,url:A.atlasURL,xhrSettings:L,config:A});m.call(this,M,"texture",R,[I,B])}else m.call(this,M,"texture",R,[I])}this.config=A},onFileComplete:function(w){var M=this.files.indexOf(w);if(M!==-1){if(this.pending--,!this.config.multiAtlasURL)return;if(w.type==="json"&&w.data.hasOwnProperty("textures")){var R=w.data.textures,A=this.config,L=this.loader,F=L.baseURL,G=L.path,I=L.prefix,B=l(A,"multiBaseURL",this.baseURL),k=l(A,"multiPath",this.path),U=l(A,"prefix",this.prefix),H=l(A,"textureXhrSettings");B&&L.setBaseURL(B),k&&L.setPath(k),U&&L.setPrefix(U);for(var X=0;X<R.length;X++){var j=R[X].image,J="CMA"+this.multiKeyIndex+"_"+j,Y=new x(L,J,j,H);if(this.addToMultiFile(Y),L.addFile(Y),R[X].normalMap){var $=new x(L,J,R[X].normalMap,H);$.type="normalMap",Y.setLink($),this.addToMultiFile($),L.addFile($)}}L.setBaseURL(F),L.setPath(G),L.setPrefix(I)}}},addToCache:function(){function w(B){console.warn('Compressed Texture Invalid: "'+F.key+'". '+B)}if(this.isReadyToProcess()){var M=this.config;if(M.multiAtlasURL)this.addMultiToCache();else{var R=this.loader.systems.renderer,A=this.loader.textureManager,L,F=this.files[0],G=this.files[1];if(M.type==="PVR"?L=y(F.data):M.type==="KTX"&&(L=u(F.data),L||w("KTX file contains unsupported format.")),L&&!C(L)&&(w("Texture dimensions failed verification. Check the texture format specifications for "+M.format+" 0x"+L.internalFormat.toString(16)+"."),L=null),L&&!R.supportsCompressedTexture(M.format,L.internalFormat)&&(w("Texture format "+M.format+" with internal format "+L.internalFormat+" not supported by the GPU. Texture invalid. This is often due to the texture using sRGB instead of linear RGB."),L=null),L){L.format=R.getCompressedTextureName(M.format,L.internalFormat);var I=G&&G.data?G.data:null;A.addCompressedTexture(F.key,L,I)}}this.complete=!0}},addMultiToCache:function(){for(var w=this.config,M=this.files[0],R=[],A=[],L=[],F=this.loader.systems.renderer,G=this.loader.textureManager,I,B=1;B<this.files.length;B++){var k=this.files[B];if(k.type!=="normalMap")for(var U=k.key.indexOf("_"),H=k.key.substr(U+1),X=k.data,j=0;j<M.data.textures.length;j++){var J=M.data.textures[j];if(J.image===H){w.type==="PVR"?I=y(X):w.type==="KTX"&&(I=u(X)),I&&F.supportsCompressedTexture(w.format,I.internalFormat)&&(I.format=F.getCompressedTextureName(w.format,I.internalFormat),A.push(I),R.push(J),k.linkFile&&L.push(k.linkFile.data));break}}}L.length===0&&(L=void 0),G.addAtlasJSONArray(this.key,A,R,L),this.complete=!0}});h.register("texture",function(w,M,R){var A=this.systems.renderer,L=function(G,I,B,k){var U={format:null,type:null,textureURL:void 0,atlasURL:void 0,multiAtlasURL:void 0,multiPath:void 0,multiBaseURL:void 0};if(f(I)){var H=I;I=l(H,"key"),B=l(H,"url"),k=l(H,"xhrSettings")}var X=!1;for(var j in B)if(A.supportsCompressedTexture(j)){var J=B[j];typeof J=="string"?U.textureURL=J:U=v(J,U),U.format=j.toUpperCase(),X=!0;break}if(!X)console.warn("No supported compressed texture format or IMG fallback",I);else if(U.format==="IMG"){var Y,$;U.multiAtlasURL?($=new g(G,I,U.multiAtlasURL,U.multiPath,U.multiBaseURL,k),Y=$.files):U.atlasURL?($=new o(G,I,U.textureURL,U.atlasURL,k),Y=$.files):Y=new a(G,I,U.textureURL,k),G.addFile(Y)}else{var z=new P(G,I,U,k);G.addFile(z.files)}};if(Array.isArray(w))for(var F=0;F<w.length;F++)L(this,w[F]);else L(this,w,M,R);return this}),n.exports=P},87674:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(23906),d=r(41299),h=r(74099),l=r(95540),a=r(98356),f=r(41212),c=new o({Extends:d,initialize:function(v,g,m,y,C,P){var w="ttf";if(f(g)){var M=g;g=l(M,"key"),m=l(M,"url"),y=l(M,"format","truetype"),C=l(M,"descriptors",null),P=l(M,"xhrSettings"),w=l(M,"extension",w)}else y===void 0&&(y="truetype");var R={type:"font",cache:!1,extension:w,responseType:"text",key:g,url:m,xhrSettings:P};d.call(this,v,R),this.data={format:y,descriptors:C},this.state=x.FILE_POPULATED},onProcess:function(){this.state=x.FILE_PROCESSING,this.src=a(this,this.loader.baseURL);var u,v=this.key,g="url("+this.src+') format("'+this.data.format+'")';this.data.descriptors?u=new FontFace(v,g,this.data.descriptors):u=new FontFace(v,g);var m=this;u.load().then(function(){document.fonts.add(u),document.body.classList.add("fonts-loaded"),m.onProcessComplete()}).catch(function(){console.warn("Font failed to load",g),m.onProcessComplete()})}});h.register("font",function(u,v,g,m,y){if(Array.isArray(u))for(var C=0;C<u.length;C++)this.addFile(new c(this,u[C]));else this.addFile(new c(this,u,v,g,m,y));return this}),n.exports=c},47931:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(23906),d=r(41299),h=r(74099),l=r(95540),a=r(41212),f=r(73894),c=new o({Extends:d,initialize:function(v,g,m,y,C){var P="glsl";if(a(g)){var w=g;g=l(w,"key"),m=l(w,"url"),y=l(w,"shaderType","fragment"),C=l(w,"xhrSettings"),P=l(w,"extension",P)}else y===void 0&&(y="fragment");var M={type:"glsl",cache:v.cacheManager.shader,extension:P,responseType:"text",key:g,url:m,config:{shaderType:y},xhrSettings:C};d.call(this,v,M)},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var u=this.data.split(`
`),v=this.extractBlock(u,0);if(v)for(;v;){var g=this.getShaderName(v.header),m=this.getShaderType(v.header),y=this.getShaderUniforms(v.header),C=v.shader;if(this.cache.has(g)){var P=this.cache.get(g);m==="fragment"?P.fragmentSrc=C:P.vertexSrc=C,P.uniforms||(P.uniforms=y)}else m==="fragment"?this.cache.add(g,new f(g,C,"",y)):this.cache.add(g,new f(g,"",C,y));v=this.extractBlock(u,v.offset)}else this.config.shaderType==="fragment"?this.cache.add(this.key,new f(this.key,this.data)):this.cache.add(this.key,new f(this.key,"",this.data))},getShaderName:function(u){for(var v=0;v<u.length;v++){var g=u[v].trim();if(g.substring(0,5)==="name:")return g.substring(5).trim()}return this.key},getShaderType:function(u){for(var v=0;v<u.length;v++){var g=u[v].trim();if(g.substring(0,5)==="type:")return g.substring(5).trim()}return this.config.shaderType},getShaderUniforms:function(u){for(var v={},g=0;g<u.length;g++){var m=u[g].trim();if(m.substring(0,8)==="uniform."){var y=m.indexOf(":");if(y){var C=m.substring(8,y);try{v[C]=JSON.parse(m.substring(y+1))}catch{console.warn("Invalid uniform JSON: "+C)}}}}return v},extractBlock:function(u,v){for(var g=-1,m=-1,y=-1,C=!1,P=!1,w=[],M=[],R=v;R<u.length;R++){var A=u[R].trim();if(A==="---")if(g===-1)g=R,C=!0;else if(C)m=R,C=!1,P=!0;else{P=!1;break}else C?w.push(A):P&&(M.push(A),y=R)}return!C&&m!==-1?{header:w,shader:M.join(`
`),offset:y}:null}});h.register("glsl",function(u,v,g,m){if(Array.isArray(u))for(var y=0;y<u.length;y++)this.addFile(new c(this,u[y]));else this.addFile(new c(this,u,v,g,m));return this}),n.exports=c},89749:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(54899),d=r(41299),h=r(95540),l=r(98356),a=r(41212),f=new o({Extends:d,initialize:function(u,v,g,m){if(a(v)){var y=v;v=h(y,"key"),m=h(y,"config",m)}var C={type:"audio",cache:u.cacheManager.audio,extension:g.type,key:v,url:g.url,config:m};d.call(this,u,C),this.locked="ontouchstart"in window,this.loaded=!1,this.filesLoaded=0,this.filesTotal=0},onLoad:function(){this.loaded||(this.loaded=!0,this.loader.nextFile(this,!0))},onError:function(){for(var c=0;c<this.data.length;c++){var u=this.data[c];u.oncanplaythrough=null,u.onerror=null}this.loader.nextFile(this,!1)},onProgress:function(c){var u=c.target;u.oncanplaythrough=null,u.onerror=null,this.filesLoaded++,this.percentComplete=Math.min(this.filesLoaded/this.filesTotal,1),this.loader.emit(x.FILE_PROGRESS,this,this.percentComplete),this.filesLoaded===this.filesTotal&&this.onLoad()},load:function(){this.data=[];var c=this.config&&this.config.instances||1;this.filesTotal=c,this.filesLoaded=0,this.percentComplete=0;for(var u=0;u<c;u++){var v=new Audio;v.dataset||(v.dataset={}),v.dataset.name=this.key+("0"+u).slice(-2),v.dataset.used="false",this.locked?v.dataset.locked="true":(v.dataset.locked="false",v.preload="auto",v.oncanplaythrough=this.onProgress.bind(this),v.onerror=this.onError.bind(this)),this.data.push(v)}for(u=0;u<this.data.length;u++)v=this.data[u],v.src=l(this,this.loader.baseURL),this.locked||v.load();this.locked&&setTimeout(this.onLoad.bind(this))}});n.exports=f},88470:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(23906),d=r(41299),h=r(74099),l=r(95540),a=r(41212),f=new o({Extends:d,initialize:function(u,v,g,m){var y="html";if(a(v)){var C=v;v=l(C,"key"),g=l(C,"url"),m=l(C,"xhrSettings"),y=l(C,"extension",y)}var P={type:"text",cache:u.cacheManager.html,extension:y,responseType:"text",key:v,url:g,xhrSettings:m};d.call(this,u,P)},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});h.register("html",function(c,u,v){if(Array.isArray(c))for(var g=0;g<c.length;g++)this.addFile(new f(this,c[g]));else this.addFile(new f(this,c,u,v));return this}),n.exports=f},14643:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(23906),d=r(41299),h=r(74099),l=r(95540),a=r(41212),f=new o({Extends:d,initialize:function(u,v,g,m,y,C){m===void 0&&(m=512),y===void 0&&(y=512);var P="html";if(a(v)){var w=v;v=l(w,"key"),g=l(w,"url"),C=l(w,"xhrSettings"),P=l(w,"extension",P),m=l(w,"width",m),y=l(w,"height",y)}var M={type:"html",cache:u.textureManager,extension:P,responseType:"text",key:v,url:g,xhrSettings:C,config:{width:m,height:y}};d.call(this,u,M)},onProcess:function(){this.state=x.FILE_PROCESSING;var c=this.config.width,u=this.config.height,v=[];v.push('<svg width="'+c+'px" height="'+u+'px" viewBox="0 0 '+c+" "+u+'" xmlns="http://www.w3.org/2000/svg">'),v.push('<foreignObject width="100%" height="100%">'),v.push('<body xmlns="http://www.w3.org/1999/xhtml">'),v.push(this.xhrLoader.responseText),v.push("</body>"),v.push("</foreignObject>"),v.push("</svg>");var g=[v.join(`
`)],m=this;try{var y=new window.Blob(g,{type:"image/svg+xml;charset=utf-8"})}catch{m.state=x.FILE_ERRORED,m.onProcessComplete();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin,this.data.onload=function(){d.revokeObjectURL(m.data),m.onProcessComplete()},this.data.onerror=function(){d.revokeObjectURL(m.data),m.onProcessError()},d.createObjectURL(this.data,y,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});h.register("htmlTexture",function(c,u,v,g,m){if(Array.isArray(c))for(var y=0;y<c.length;y++)this.addFile(new f(this,c[y]));else this.addFile(new f(this,c,u,v,g,m));return this}),n.exports=f},19550:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(23906),d=r(41299),h=r(74099),l=r(95540),a=r(41212),f=r(98356),c=new o({Extends:d,initialize:function u(v,g,m,y,C){var P="png",w;if(a(g)){var M=g;g=l(M,"key"),m=l(M,"url"),w=l(M,"normalMap"),y=l(M,"xhrSettings"),P=l(M,"extension",P),C=l(M,"frameConfig")}Array.isArray(m)&&(w=m[1],m=m[0]);var R={type:"image",cache:v.textureManager,extension:P,responseType:"blob",key:g,url:m,xhrSettings:y,config:C};if(d.call(this,v,R),w){var A=new u(v,this.key,w,y,C);A.type="normalMap",this.setLink(A),v.addFile(A)}this.useImageElementLoad=v.imageLoadType==="HTMLImageElement"||this.base64,this.useImageElementLoad&&(this.load=this.loadImage,this.onProcess=this.onProcessImage)},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=new Image,this.data.crossOrigin=this.crossOrigin;var u=this;this.data.onload=function(){d.revokeObjectURL(u.data),u.onProcessComplete()},this.data.onerror=function(){d.revokeObjectURL(u.data),u.onProcessError()},d.createObjectURL(this.data,this.xhrLoader.response,"image/png")},onProcessImage:function(){var u=this.state;this.state=x.FILE_PROCESSING,u===x.FILE_LOADED?this.onProcessComplete():this.onProcessError()},loadImage:function(){this.state=x.FILE_LOADING,this.src=f(this,this.loader.baseURL),this.data=new Image,this.data.crossOrigin=this.crossOrigin;var u=this;this.data.onload=function(){u.state=x.FILE_LOADED,u.loader.nextFile(u,!0)},this.data.onerror=function(){u.loader.nextFile(u,!1)},this.data.src=this.src},addToCache:function(){var u=this.linkFile;u?u.state>=x.FILE_COMPLETE&&(u.type==="spritesheet"?u.addToCache():this.type==="normalMap"?this.cache.addImage(this.key,u.data,this.data):this.cache.addImage(this.key,this.data,u.data)):this.cache.addImage(this.key,this.data)}});h.register("image",function(u,v,g){if(Array.isArray(u))for(var m=0;m<u.length;m++)this.addFile(new c(this,u[m]));else this.addFile(new c(this,u,v,g));return this}),n.exports=c},518:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(23906),d=r(41299),h=r(74099),l=r(95540),a=r(35154),f=r(41212),c=new o({Extends:d,initialize:function(v,g,m,y,C){var P="json";if(f(g)){var w=g;g=l(w,"key"),m=l(w,"url"),y=l(w,"xhrSettings"),P=l(w,"extension",P),C=l(w,"dataKey",C)}var M={type:"json",cache:v.cacheManager.json,extension:P,responseType:"text",key:g,url:m,xhrSettings:y,config:C};d.call(this,v,M),f(m)&&(C?this.data=a(m,C):this.data=m,this.state=x.FILE_POPULATED)},onProcess:function(){if(this.state!==x.FILE_POPULATED){this.state=x.FILE_PROCESSING;try{var u=JSON.parse(this.xhrLoader.responseText)}catch(g){throw this.onProcessError(),g}var v=this.config;typeof v=="string"?this.data=a(u,v,u):this.data=u}this.onProcessComplete()}});h.register("json",function(u,v,g,m){if(Array.isArray(u))for(var y=0;y<u.length;y++)this.addFile(new c(this,u[y]));else this.addFile(new c(this,u,v,m,g));return this}),n.exports=c},59327:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(74099),d=r(95540),h=r(19550),l=r(41212),a=r(518),f=r(26430),c=new o({Extends:f,initialize:function(v,g,m,y,C,P,w){if(l(g)){var M=g;g=d(M,"key"),d(M,"url",!1)?m=d(M,"url"):m=d(M,"atlasURL"),P=d(M,"xhrSettings"),y=d(M,"path"),C=d(M,"baseURL"),w=d(M,"textureXhrSettings")}var R=new a(v,g,m,P);f.call(this,v,"multiatlas",g,[R]),this.config.path=y,this.config.baseURL=C,this.config.textureXhrSettings=w},onFileComplete:function(u){var v=this.files.indexOf(u);if(v!==-1&&(this.pending--,u.type==="json"&&u.data.hasOwnProperty("textures"))){var g=u.data.textures,m=this.config,y=this.loader,C=y.baseURL,P=y.path,w=y.prefix,M=d(m,"baseURL",this.baseURL),R=d(m,"path",this.path),A=d(m,"prefix",this.prefix),L=d(m,"textureXhrSettings");y.setBaseURL(M),y.setPath(R),y.setPrefix(A);for(var F=0;F<g.length;F++){var G=g[F].image,I="MA"+this.multiKeyIndex+"_"+G,B=new h(y,I,G,L);if(this.addToMultiFile(B),y.addFile(B),g[F].normalMap){var k=new h(y,I,g[F].normalMap,L);k.type="normalMap",B.setLink(k),this.addToMultiFile(k),y.addFile(k)}}y.setBaseURL(C),y.setPath(P),y.setPrefix(w)}},addToCache:function(){if(this.isReadyToProcess()){for(var u=this.files[0],v=[],g=[],m=[],y=1;y<this.files.length;y++){var C=this.files[y];if(C.type!=="normalMap")for(var P=C.key.indexOf("_"),w=C.key.substr(P+1),M=C.data,R=0;R<u.data.textures.length;R++){var A=u.data.textures[R];if(A.image===w){g.push(M),v.push(A),C.linkFile&&m.push(C.linkFile.data);break}}}m.length===0&&(m=void 0),this.loader.textureManager.addAtlasJSONArray(this.key,g,v,m),this.complete=!0}}});x.register("multiatlas",function(u,v,g,m,y){var C;if(Array.isArray(u))for(var P=0;P<u.length;P++)C=new c(this,u[P]),this.addFile(C.files);else C=new c(this,u,v,g,m,y),this.addFile(C.files);return this}),n.exports=c},99297:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(74099),d=r(95540),h=r(41212),l=r(26430),a=r(34328),f=new o({Extends:l,initialize:function(u,v,g,m){var y="js",C=[];if(h(v)){var P=v;v=d(P,"key"),g=d(P,"url"),m=d(P,"xhrSettings"),y=d(P,"extension",y)}Array.isArray(g)||(g=[g]);for(var w=0;w<g.length;w++){var M=new a(u,{key:v+"_"+w.toString(),url:g[w],extension:y,xhrSettings:m});M.onProcess=function(){this.onProcessComplete()},C.push(M)}l.call(this,u,"scripts",v,C)},addToCache:function(){if(this.isReadyToProcess()){for(var c=0;c<this.files.length;c++){var u=this.files[c];u.data=document.createElement("script"),u.data.language="javascript",u.data.type="text/javascript",u.data.defer=!1,u.data.text=u.xhrLoader.responseText,document.head.appendChild(u.data)}this.complete=!0}}});x.register("scripts",function(c,u,v){var g;if(Array.isArray(c))for(var m=0;m<c.length;m++)g=new f(this,c[m]),this.addFile(g.files);else g=new f(this,c,u,v),this.addFile(g.files);return this}),n.exports=f},41846:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(74099),d=r(95540),h=r(41212),l=r(26430),a=r(85048),f=r(61485),c=r(78776),u=new o({Extends:l,initialize:function(g,m,y,C,P,w){var M,R,A=g.cacheManager.obj;if(h(m)){var L=m;m=d(L,"key"),M=new c(g,{key:m,type:"obj",cache:A,url:d(L,"url"),extension:d(L,"extension","obj"),xhrSettings:d(L,"xhrSettings"),config:{flipUV:d(L,"flipUV",P)}}),C=d(L,"matURL"),C&&(R=new c(g,{key:m,type:"mat",cache:A,url:C,extension:d(L,"matExtension","mat"),xhrSettings:d(L,"xhrSettings")}))}else M=new c(g,{key:m,url:y,type:"obj",cache:A,extension:"obj",xhrSettings:w,config:{flipUV:P}}),C&&(R=new c(g,{key:m,url:C,type:"mat",cache:A,extension:"mat",xhrSettings:w}));l.call(this,g,"obj",m,[M,R])},addToCache:function(){if(this.isReadyToProcess()){var v=this.files[0],g=this.files[1],m=a(v.data,v.config.flipUV);g&&(m.materials=f(g.data)),v.cache.add(v.key,m),this.complete=!0}}});x.register("obj",function(v,g,m,y,C){var P;if(Array.isArray(v))for(var w=0;w<v.length;w++)P=new u(this,v[w]),this.addFile(P.files);else P=new u(this,v,g,m,y,C),this.addFile(P.files);return this}),n.exports=u},58610:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(23906),d=r(74099),h=r(518),l=new o({Extends:h,initialize:function(f,c,u,v,g){h.call(this,f,c,u,v,g),this.type="packfile"},onProcess:function(){if(this.state!==x.FILE_POPULATED&&(this.state=x.FILE_PROCESSING,this.data=JSON.parse(this.xhrLoader.responseText)),this.data.hasOwnProperty("files")&&this.config){var a={};a[this.config]=this.data,this.data=a}this.loader.addPack(this.data,this.config),this.onProcessComplete()}});d.register("pack",function(a,f,c,u){if(Array.isArray(a))for(var v=0;v<a.length;v++)this.addFile(new l(this,a[v]));else this.addFile(new l(this,a,f,u,c));return this}),n.exports=l},48988:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(23906),d=r(41299),h=r(74099),l=r(95540),a=r(41212),f=new o({Extends:d,initialize:function(u,v,g,m,y,C){var P="js";if(a(v)){var w=v;v=l(w,"key"),g=l(w,"url"),C=l(w,"xhrSettings"),P=l(w,"extension",P),m=l(w,"start"),y=l(w,"mapping")}var M={type:"plugin",cache:!1,extension:P,responseType:"text",key:v,url:g,xhrSettings:C,config:{start:m,mapping:y}};d.call(this,u,M),typeof g=="function"&&(this.data=g,this.state=x.FILE_POPULATED)},onProcess:function(){var c=this.loader.systems.plugins,u=this.config,v=l(u,"start",!1),g=l(u,"mapping",null);if(this.state===x.FILE_POPULATED)c.install(this.key,this.data,v,g);else{this.state=x.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data);var m=c.install(this.key,window[this.key],v,g);(v||g)&&(this.loader.systems[g]=m,this.loader.scene[g]=m)}this.onProcessComplete()}});h.register("plugin",function(c,u,v,g,m){if(Array.isArray(c))for(var y=0;y<c.length;y++)this.addFile(new f(this,c[y]));else this.addFile(new f(this,c,u,v,g,m));return this}),n.exports=f},67397:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(23906),d=r(41299),h=r(74099),l=r(95540),a=r(41212),f=new o({Extends:d,initialize:function(u,v,g,m,y){var C="svg";if(a(v)){var P=v;v=l(P,"key"),g=l(P,"url"),m=l(P,"svgConfig",{}),y=l(P,"xhrSettings"),C=l(P,"extension",C)}var w={type:"svg",cache:u.textureManager,extension:C,responseType:"text",key:v,url:g,xhrSettings:y,config:{width:l(m,"width"),height:l(m,"height"),scale:l(m,"scale")}};d.call(this,u,w)},onProcess:function(){this.state=x.FILE_PROCESSING;var c=this.xhrLoader.responseText,u=[c],v=this.config.width,g=this.config.height,m=this.config.scale;t:if(v&&g||m){var y=null,C=new DOMParser;y=C.parseFromString(c,"text/xml");var P=y.getElementsByTagName("svg")[0],w=P.hasAttribute("viewBox"),M=parseFloat(P.getAttribute("width")),R=parseFloat(P.getAttribute("height"));if(!w&&M&&R)P.setAttribute("viewBox","0  0 "+M+" "+R);else if(w&&!M&&!R){var A=P.getAttribute("viewBox").split(/\s+|,/);M=A[2],R=A[3]}if(m)if(M&&R)v=M*m,g=R*m;else break t;P.setAttribute("width",v.toString()+"px"),P.setAttribute("height",g.toString()+"px"),u=[new XMLSerializer().serializeToString(P)]}try{var L=new window.Blob(u,{type:"image/svg+xml;charset=utf-8"})}catch{this.onProcessError();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin;var F=this,G=!1;this.data.onload=function(){G||d.revokeObjectURL(F.data),F.onProcessComplete()},this.data.onerror=function(){G?F.onProcessError():(G=!0,d.revokeObjectURL(F.data),F.data.src="data:image/svg+xml,"+encodeURIComponent(u.join("")))},d.createObjectURL(this.data,L,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});h.register("svg",function(c,u,v,g){if(Array.isArray(c))for(var m=0;m<c.length;m++)this.addFile(new f(this,c[m]));else this.addFile(new f(this,c,u,v,g));return this}),n.exports=f},88423:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(23906),d=r(41299),h=r(74099),l=r(95540),a=r(41212),f=new o({Extends:d,initialize:function(u,v,g,m){var y="js";if(a(v)){var C=v;v=l(C,"key"),g=l(C,"url"),m=l(C,"xhrSettings"),y=l(C,"extension",y)}var P={type:"text",extension:y,responseType:"text",key:v,url:g,xhrSettings:m};d.call(this,u,P)},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var c=this.data.concat(`(function(){
return new `+this.key+`();
}).call(this);`),u=eval;this.loader.sceneManager.add(this.key,u(c)),this.complete=!0}});h.register("sceneFile",function(c,u,v){if(Array.isArray(c))for(var g=0;g<c.length;g++)this.addFile(new f(this,c[g]));else this.addFile(new f(this,c,u,v));return this}),n.exports=f},56812:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(23906),d=r(41299),h=r(74099),l=r(95540),a=r(41212),f=new o({Extends:d,initialize:function(u,v,g,m,y,C){var P="js";if(a(v)){var w=v;v=l(w,"key"),g=l(w,"url"),C=l(w,"xhrSettings"),P=l(w,"extension",P),m=l(w,"systemKey"),y=l(w,"sceneKey")}var M={type:"scenePlugin",cache:!1,extension:P,responseType:"text",key:v,url:g,xhrSettings:C,config:{systemKey:m,sceneKey:y}};d.call(this,u,M),typeof g=="function"&&(this.data=g,this.state=x.FILE_POPULATED)},onProcess:function(){var c=this.loader.systems.plugins,u=this.config,v=this.key,g=l(u,"systemKey",v),m=l(u,"sceneKey",v);this.state===x.FILE_POPULATED?c.installScenePlugin(g,this.data,m,this.loader.scene,!0):(this.state=x.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),c.installScenePlugin(g,window[this.key],m,this.loader.scene,!0)),this.onProcessComplete()}});h.register("scenePlugin",function(c,u,v,g,m){if(Array.isArray(c))for(var y=0;y<c.length;y++)this.addFile(new f(this,c[y]));else this.addFile(new f(this,c,u,v,g,m));return this}),n.exports=f},34328:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(23906),d=r(41299),h=r(74099),l=r(95540),a=r(41212),f=new o({Extends:d,initialize:function(u,v,g,m,y){var C="js";if(a(v)){var P=v;v=l(P,"key"),g=l(P,"url"),m=l(P,"type","script"),y=l(P,"xhrSettings"),C=l(P,"extension",C)}else m===void 0&&(m="script");var w={type:m,cache:!1,extension:C,responseType:"text",key:v,url:g,xhrSettings:y};d.call(this,u,w)},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});h.register("script",function(c,u,v,g){if(Array.isArray(c))for(var m=0;m<c.length;m++)this.addFile(new f(this,c[m]));else this.addFile(new f(this,c,u,v,g));return this}),n.exports=f},85035:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(23906),d=r(74099),h=r(19550),l=new o({Extends:h,initialize:function(f,c,u,v,g){h.call(this,f,c,u,g,v),this.type="spritesheet"},addToCache:function(){var a=this.linkFile;a?a.state>=x.FILE_COMPLETE&&(this.type==="normalMap"?this.cache.addSpriteSheet(this.key,a.data,this.config,this.data):this.cache.addSpriteSheet(this.key,this.data,this.config,a.data)):this.cache.addSpriteSheet(this.key,this.data,this.config)}});d.register("spritesheet",function(a,f,c,u){if(Array.isArray(a))for(var v=0;v<a.length;v++)this.addFile(new l(this,a[v]));else this.addFile(new l(this,a,f,c,u));return this}),n.exports=l},78776:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(23906),d=r(41299),h=r(74099),l=r(95540),a=r(41212),f=new o({Extends:d,initialize:function(u,v,g,m){var y="text",C="txt",P=u.cacheManager.text;if(a(v)){var w=v;v=l(w,"key"),g=l(w,"url"),m=l(w,"xhrSettings"),C=l(w,"extension",C),y=l(w,"type",y),P=l(w,"cache",P)}var M={type:y,cache:P,extension:C,responseType:"text",key:v,url:g,xhrSettings:m};d.call(this,u,M)},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});h.register("text",function(c,u,v){if(Array.isArray(c))for(var g=0;g<c.length;g++)this.addFile(new f(this,c[g]));else this.addFile(new f(this,c,u,v));return this}),n.exports=f},49477:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(23906),d=r(41299),h=r(74099),l=r(95540),a=r(41212),f=r(80341),c=new o({Extends:d,initialize:function(v,g,m,y){var C="csv";if(a(g)){var P=g;g=l(P,"key"),m=l(P,"url"),y=l(P,"xhrSettings"),C=l(P,"extension",C)}var w={type:"tilemapCSV",cache:v.cacheManager.tilemap,extension:C,responseType:"text",key:g,url:m,xhrSettings:y};d.call(this,v,w),this.tilemapFormat=f.CSV},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var u={format:this.tilemapFormat,data:this.data};this.cache.add(this.key,u)}});h.register("tilemapCSV",function(u,v,g){if(Array.isArray(u))for(var m=0;m<u.length;m++)this.addFile(new c(this,u[m]));else this.addFile(new c(this,u,v,g));return this}),n.exports=c},40807:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(74099),d=r(518),h=r(80341),l=new o({Extends:d,initialize:function(f,c,u,v){d.call(this,f,c,u,v),this.type="tilemapJSON",this.cache=f.cacheManager.tilemap},addToCache:function(){var a={format:h.WELTMEISTER,data:this.data};this.cache.add(this.key,a)}});x.register("tilemapImpact",function(a,f,c){if(Array.isArray(a))for(var u=0;u<a.length;u++)this.addFile(new l(this,a[u]));else this.addFile(new l(this,a,f,c));return this}),n.exports=l},56775:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(74099),d=r(518),h=r(80341),l=new o({Extends:d,initialize:function(f,c,u,v){d.call(this,f,c,u,v),this.type="tilemapJSON",this.cache=f.cacheManager.tilemap},addToCache:function(){var a={format:h.TILED_JSON,data:this.data};this.cache.add(this.key,a)}});x.register("tilemapTiledJSON",function(a,f,c){if(Array.isArray(a))for(var u=0;u<a.length;u++)this.addFile(new l(this,a[u]));else this.addFile(new l(this,a,f,c));return this}),n.exports=l},25771:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(74099),d=r(95540),h=r(19550),l=r(41212),a=r(26430),f=r(78776),c=new o({Extends:a,initialize:function(v,g,m,y,C,P){var w,M;if(l(g)){var R=g;g=d(R,"key"),w=new h(v,{key:g,url:d(R,"textureURL"),extension:d(R,"textureExtension","png"),normalMap:d(R,"normalMap"),xhrSettings:d(R,"textureXhrSettings")}),M=new f(v,{key:g,url:d(R,"atlasURL"),extension:d(R,"atlasExtension","txt"),xhrSettings:d(R,"atlasXhrSettings")})}else w=new h(v,g,m,C),M=new f(v,g,y,P);w.linkFile?a.call(this,v,"unityatlas",g,[w,M,w.linkFile]):a.call(this,v,"unityatlas",g,[w,M])},addToCache:function(){if(this.isReadyToProcess()){var u=this.files[0],v=this.files[1],g=this.files[2]?this.files[2].data:null;this.loader.textureManager.addUnityAtlas(u.key,u.data,v.data,g),this.complete=!0}}});x.register("unityAtlas",function(u,v,g,m,y){var C;if(Array.isArray(u))for(var P=0;P<u.length;P++)C=new c(this,u[P]),this.addFile(C.files);else C=new c(this,u,v,g,m,y),this.addFile(C.files);return this}),n.exports=c},33720:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(23906),d=r(41299),h=r(74099),l=r(98356),a=r(95540),f=r(41212),c=new o({Extends:d,initialize:function(v,g,m,y){if(y===void 0&&(y=!1),f(g)){var C=g;g=a(C,"key"),m=a(C,"url",[]),y=a(C,"noAudio",!1)}var P=v.systems.game.device.video.getVideoURL(m);P||console.warn("VideoFile: No supported format for "+g);var w={type:"video",cache:v.cacheManager.video,extension:P.type,key:g,url:P.url,config:{noAudio:y}};d.call(this,v,w)},onProcess:function(){this.data={url:this.src,noAudio:this.config.noAudio,crossOrigin:this.crossOrigin},this.onProcessComplete()},load:function(){this.src=l(this,this.loader.baseURL),this.state=x.FILE_LOADED,this.loader.nextFile(this,!0)}});h.register("video",function(u,v,g){if(Array.isArray(u))for(var m=0;m<u.length;m++)this.addFile(new c(this,u[m]));else this.addFile(new c(this,u,v,g));return this}),n.exports=c},57318:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(23906),d=r(41299),h=r(74099),l=r(95540),a=r(41212),f=r(56836),c=new o({Extends:d,initialize:function(v,g,m,y){var C="xml";if(a(g)){var P=g;g=l(P,"key"),m=l(P,"url"),y=l(P,"xhrSettings"),C=l(P,"extension",C)}var w={type:"xml",cache:v.cacheManager.xml,extension:C,responseType:"text",key:g,url:m,xhrSettings:y};d.call(this,v,w)},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=f(this.xhrLoader.responseText),this.data?this.onProcessComplete():this.onProcessError()}});h.register("xml",function(u,v,g){if(Array.isArray(u))for(var m=0;m<u.length;m++)this.addFile(new c(this,u[m]));else this.addFile(new c(this,u,v,g));return this}),n.exports=c},64589:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={AnimationJSONFile:r(14135),AsepriteFile:r(76272),AtlasJSONFile:r(38734),AtlasXMLFile:r(74599),AudioFile:r(21097),AudioSpriteFile:r(89524),BinaryFile:r(85722),BitmapFontFile:r(97025),CompressedTextureFile:r(69559),CSSFile:r(16024),FontFile:r(87674),GLSLFile:r(47931),HTML5AudioFile:r(89749),HTMLFile:r(88470),HTMLTextureFile:r(14643),ImageFile:r(19550),JSONFile:r(518),MultiAtlasFile:r(59327),MultiScriptFile:r(99297),OBJFile:r(41846),PackFile:r(58610),PluginFile:r(48988),SceneFile:r(88423),ScenePluginFile:r(56812),ScriptFile:r(34328),SpriteSheetFile:r(85035),SVGFile:r(67397),TextFile:r(78776),TilemapCSVFile:r(49477),TilemapImpactFile:r(40807),TilemapJSONFile:r(56775),UnityAtlasFile:r(25771),VideoFile:r(33720),XMLFile:r(57318)}},57777:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(23906),x=r(79291),d={Events:r(54899),FileTypes:r(64589),File:r(41299),FileTypesManager:r(74099),GetURL:r(98356),LoaderPlugin:r(74261),MergeXHRSettings:r(3374),MultiFile:r(26430),XHRLoader:r(84376),XHRSettings:r(92638)};d=x(!1,d,o),n.exports=d},53307:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){for(var o=0,x=0;x<r.length;x++)o+=+r[x];return o/r.length};n.exports=T},85710:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(6411),x=function(d,h){return o(d)/o(h)/o(d-h)};n.exports=x},30976:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return Math.floor(Math.random()*(o-r+1)+r)};n.exports=T},87842:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d,h){var l=(d-o)*.5,a=(h-x)*.5,f=r*r,c=r*f;return(2*x-2*d+l+a)*c+(-3*x+3*d-2*l-a)*f+l*r+x};n.exports=T},26302:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){o===void 0&&(o=0),x===void 0&&(x=10);var d=Math.pow(x,-o);return Math.ceil(r*d)/d};n.exports=T},45319:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){return Math.max(o,Math.min(x,r))};n.exports=T},39506:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(36383),x=function(d){return d*o.DEG_TO_RAD};n.exports=x},61241:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return Math.abs(r-o)};n.exports=T},38857:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(45319),x=r(83419),d=r(37867),h=r(29747),l=new d,a=new x({initialize:function f(c,u,v,g){c===void 0&&(c=0),u===void 0&&(u=0),v===void 0&&(v=0),g===void 0&&(g=f.DefaultOrder),this._x=c,this._y=u,this._z=v,this._order=g,this.onChangeCallback=h},x:{get:function(){return this._x},set:function(f){this._x=f,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(f){this._y=f,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(f){this._z=f,this.onChangeCallback(this)}},order:{get:function(){return this._order},set:function(f){this._order=f,this.onChangeCallback(this)}},set:function(f,c,u,v){return v===void 0&&(v=this._order),this._x=f,this._y=c,this._z=u,this._order=v,this.onChangeCallback(this),this},copy:function(f){return this.set(f.x,f.y,f.z,f.order)},setFromQuaternion:function(f,c,u){return c===void 0&&(c=this._order),u===void 0&&(u=!1),l.fromQuat(f),this.setFromRotationMatrix(l,c,u)},setFromRotationMatrix:function(f,c,u){c===void 0&&(c=this._order),u===void 0&&(u=!1);var v=f.val,g=v[0],m=v[4],y=v[8],C=v[1],P=v[5],w=v[9],M=v[2],R=v[6],A=v[10],L=0,F=0,G=0,I=.99999;switch(c){case"XYZ":{F=Math.asin(o(y,-1,1)),Math.abs(y)<I?(L=Math.atan2(-w,A),G=Math.atan2(-m,g)):L=Math.atan2(R,P);break}case"YXZ":{L=Math.asin(-o(w,-1,1)),Math.abs(w)<I?(F=Math.atan2(y,A),G=Math.atan2(C,P)):F=Math.atan2(-M,g);break}case"ZXY":{L=Math.asin(o(R,-1,1)),Math.abs(R)<I?(F=Math.atan2(-M,A),G=Math.atan2(-m,P)):G=Math.atan2(C,g);break}case"ZYX":{F=Math.asin(-o(M,-1,1)),Math.abs(M)<I?(L=Math.atan2(R,A),G=Math.atan2(C,g)):G=Math.atan2(-m,P);break}case"YZX":{G=Math.asin(o(C,-1,1)),Math.abs(C)<I?(L=Math.atan2(-w,P),F=Math.atan2(-M,g)):F=Math.atan2(y,A);break}case"XZY":{G=Math.asin(-o(m,-1,1)),Math.abs(m)<I?(L=Math.atan2(R,P),F=Math.atan2(y,g)):L=Math.atan2(-w,A);break}}return this._x=L,this._y=F,this._z=G,this._order=c,u&&this.onChangeCallback(this),this}});a.RotationOrders=["XYZ","YXZ","ZXY","ZYX","YZX","XZY"],a.DefaultOrder="XYZ",n.exports=a},6411:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){if(r===0)return 1;for(var o=r;--r;)o*=r;return o};n.exports=T},99472:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return Math.random()*(o-r)+r};n.exports=T},77623:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){o===void 0&&(o=0),x===void 0&&(x=10);var d=Math.pow(x,-o);return Math.floor(r*d)/d};n.exports=T},62945:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(45319),x=function(d,h,l){return d=o(d,0,1),(l-h)*d+h};n.exports=x},38265:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return r/o/1e3};n.exports=T},78702:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r==parseFloat(r)?!(r%2):void 0};n.exports=T},94883:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r===parseFloat(r)?!(r%2):void 0};n.exports=T},28915:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){return(o-r)*x+r};n.exports=T},94908:n=>{/**
 * @author       Greg McLean <GregDevProjects>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){return x===void 0&&(x=0),r.clone().lerp(o,x)};n.exports=T},94434:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=new o({initialize:function(h){this.val=new Float32Array(9),h?this.copy(h):this.identity()},clone:function(){return new x(this)},set:function(d){return this.copy(d)},copy:function(d){var h=this.val,l=d.val;return h[0]=l[0],h[1]=l[1],h[2]=l[2],h[3]=l[3],h[4]=l[4],h[5]=l[5],h[6]=l[6],h[7]=l[7],h[8]=l[8],this},fromMat4:function(d){var h=d.val,l=this.val;return l[0]=h[0],l[1]=h[1],l[2]=h[2],l[3]=h[4],l[4]=h[5],l[5]=h[6],l[6]=h[8],l[7]=h[9],l[8]=h[10],this},fromArray:function(d){var h=this.val;return h[0]=d[0],h[1]=d[1],h[2]=d[2],h[3]=d[3],h[4]=d[4],h[5]=d[5],h[6]=d[6],h[7]=d[7],h[8]=d[8],this},identity:function(){var d=this.val;return d[0]=1,d[1]=0,d[2]=0,d[3]=0,d[4]=1,d[5]=0,d[6]=0,d[7]=0,d[8]=1,this},transpose:function(){var d=this.val,h=d[1],l=d[2],a=d[5];return d[1]=d[3],d[2]=d[6],d[3]=h,d[5]=d[7],d[6]=l,d[7]=a,this},invert:function(){var d=this.val,h=d[0],l=d[1],a=d[2],f=d[3],c=d[4],u=d[5],v=d[6],g=d[7],m=d[8],y=m*c-u*g,C=-m*f+u*v,P=g*f-c*v,w=h*y+l*C+a*P;return w?(w=1/w,d[0]=y*w,d[1]=(-m*l+a*g)*w,d[2]=(u*l-a*c)*w,d[3]=C*w,d[4]=(m*h-a*v)*w,d[5]=(-u*h+a*f)*w,d[6]=P*w,d[7]=(-g*h+l*v)*w,d[8]=(c*h-l*f)*w,this):null},adjoint:function(){var d=this.val,h=d[0],l=d[1],a=d[2],f=d[3],c=d[4],u=d[5],v=d[6],g=d[7],m=d[8];return d[0]=c*m-u*g,d[1]=a*g-l*m,d[2]=l*u-a*c,d[3]=u*v-f*m,d[4]=h*m-a*v,d[5]=a*f-h*u,d[6]=f*g-c*v,d[7]=l*v-h*g,d[8]=h*c-l*f,this},determinant:function(){var d=this.val,h=d[0],l=d[1],a=d[2],f=d[3],c=d[4],u=d[5],v=d[6],g=d[7],m=d[8];return h*(m*c-u*g)+l*(-m*f+u*v)+a*(g*f-c*v)},multiply:function(d){var h=this.val,l=h[0],a=h[1],f=h[2],c=h[3],u=h[4],v=h[5],g=h[6],m=h[7],y=h[8],C=d.val,P=C[0],w=C[1],M=C[2],R=C[3],A=C[4],L=C[5],F=C[6],G=C[7],I=C[8];return h[0]=P*l+w*c+M*g,h[1]=P*a+w*u+M*m,h[2]=P*f+w*v+M*y,h[3]=R*l+A*c+L*g,h[4]=R*a+A*u+L*m,h[5]=R*f+A*v+L*y,h[6]=F*l+G*c+I*g,h[7]=F*a+G*u+I*m,h[8]=F*f+G*v+I*y,this},translate:function(d){var h=this.val,l=d.x,a=d.y;return h[6]=l*h[0]+a*h[3]+h[6],h[7]=l*h[1]+a*h[4]+h[7],h[8]=l*h[2]+a*h[5]+h[8],this},rotate:function(d){var h=this.val,l=h[0],a=h[1],f=h[2],c=h[3],u=h[4],v=h[5],g=Math.sin(d),m=Math.cos(d);return h[0]=m*l+g*c,h[1]=m*a+g*u,h[2]=m*f+g*v,h[3]=m*c-g*l,h[4]=m*u-g*a,h[5]=m*v-g*f,this},scale:function(d){var h=this.val,l=d.x,a=d.y;return h[0]=l*h[0],h[1]=l*h[1],h[2]=l*h[2],h[3]=a*h[3],h[4]=a*h[4],h[5]=a*h[5],this},fromQuat:function(d){var h=d.x,l=d.y,a=d.z,f=d.w,c=h+h,u=l+l,v=a+a,g=h*c,m=h*u,y=h*v,C=l*u,P=l*v,w=a*v,M=f*c,R=f*u,A=f*v,L=this.val;return L[0]=1-(C+w),L[3]=m+A,L[6]=y-R,L[1]=m-A,L[4]=1-(g+w),L[7]=P+M,L[2]=y+R,L[5]=P-M,L[8]=1-(g+C),this},normalFromMat4:function(d){var h=d.val,l=this.val,a=h[0],f=h[1],c=h[2],u=h[3],v=h[4],g=h[5],m=h[6],y=h[7],C=h[8],P=h[9],w=h[10],M=h[11],R=h[12],A=h[13],L=h[14],F=h[15],G=a*g-f*v,I=a*m-c*v,B=a*y-u*v,k=f*m-c*g,U=f*y-u*g,H=c*y-u*m,X=C*A-P*R,j=C*L-w*R,J=C*F-M*R,Y=P*L-w*A,$=P*F-M*A,z=w*F-M*L,V=G*z-I*$+B*Y+k*J-U*j+H*X;return V?(V=1/V,l[0]=(g*z-m*$+y*Y)*V,l[1]=(m*J-v*z-y*j)*V,l[2]=(v*$-g*J+y*X)*V,l[3]=(c*$-f*z-u*Y)*V,l[4]=(a*z-c*J+u*j)*V,l[5]=(f*J-a*$-u*X)*V,l[6]=(A*H-L*U+F*k)*V,l[7]=(L*B-R*H-F*I)*V,l[8]=(R*U-A*B+F*G)*V,this):null}});n.exports=x},37867:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(25836),d=1e-6,h=new o({initialize:function(g){this.val=new Float32Array(16),g?this.copy(g):this.identity()},clone:function(){return new h(this)},set:function(v){return this.copy(v)},setValues:function(v,g,m,y,C,P,w,M,R,A,L,F,G,I,B,k){var U=this.val;return U[0]=v,U[1]=g,U[2]=m,U[3]=y,U[4]=C,U[5]=P,U[6]=w,U[7]=M,U[8]=R,U[9]=A,U[10]=L,U[11]=F,U[12]=G,U[13]=I,U[14]=B,U[15]=k,this},copy:function(v){var g=v.val;return this.setValues(g[0],g[1],g[2],g[3],g[4],g[5],g[6],g[7],g[8],g[9],g[10],g[11],g[12],g[13],g[14],g[15])},fromArray:function(v){return this.setValues(v[0],v[1],v[2],v[3],v[4],v[5],v[6],v[7],v[8],v[9],v[10],v[11],v[12],v[13],v[14],v[15])},zero:function(){return this.setValues(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)},transform:function(v,g,m){var y=l.fromQuat(m),C=y.val,P=g.x,w=g.y,M=g.z;return this.setValues(C[0]*P,C[1]*P,C[2]*P,0,C[4]*w,C[5]*w,C[6]*w,0,C[8]*M,C[9]*M,C[10]*M,0,v.x,v.y,v.z,1)},xyz:function(v,g,m){this.identity();var y=this.val;return y[12]=v,y[13]=g,y[14]=m,this},scaling:function(v,g,m){this.zero();var y=this.val;return y[0]=v,y[5]=g,y[10]=m,y[15]=1,this},identity:function(){return this.setValues(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},transpose:function(){var v=this.val,g=v[1],m=v[2],y=v[3],C=v[6],P=v[7],w=v[11];return v[1]=v[4],v[2]=v[8],v[3]=v[12],v[4]=g,v[6]=v[9],v[7]=v[13],v[8]=m,v[9]=C,v[11]=v[14],v[12]=y,v[13]=P,v[14]=w,this},getInverse:function(v){return this.copy(v),this.invert()},invert:function(){var v=this.val,g=v[0],m=v[1],y=v[2],C=v[3],P=v[4],w=v[5],M=v[6],R=v[7],A=v[8],L=v[9],F=v[10],G=v[11],I=v[12],B=v[13],k=v[14],U=v[15],H=g*w-m*P,X=g*M-y*P,j=g*R-C*P,J=m*M-y*w,Y=m*R-C*w,$=y*R-C*M,z=A*B-L*I,V=A*k-F*I,K=A*U-G*I,Q=L*k-F*B,_=L*U-G*B,tt=F*U-G*k,rt=H*tt-X*_+j*Q+J*K-Y*V+$*z;return rt?(rt=1/rt,this.setValues((w*tt-M*_+R*Q)*rt,(y*_-m*tt-C*Q)*rt,(B*$-k*Y+U*J)*rt,(F*Y-L*$-G*J)*rt,(M*K-P*tt-R*V)*rt,(g*tt-y*K+C*V)*rt,(k*j-I*$-U*X)*rt,(A*$-F*j+G*X)*rt,(P*_-w*K+R*z)*rt,(m*K-g*_-C*z)*rt,(I*Y-B*j+U*H)*rt,(L*j-A*Y-G*H)*rt,(w*V-P*Q-M*z)*rt,(g*Q-m*V+y*z)*rt,(B*X-I*J-k*H)*rt,(A*J-L*X+F*H)*rt)):this},adjoint:function(){var v=this.val,g=v[0],m=v[1],y=v[2],C=v[3],P=v[4],w=v[5],M=v[6],R=v[7],A=v[8],L=v[9],F=v[10],G=v[11],I=v[12],B=v[13],k=v[14],U=v[15];return this.setValues(w*(F*U-G*k)-L*(M*U-R*k)+B*(M*G-R*F),-(m*(F*U-G*k)-L*(y*U-C*k)+B*(y*G-C*F)),m*(M*U-R*k)-w*(y*U-C*k)+B*(y*R-C*M),-(m*(M*G-R*F)-w*(y*G-C*F)+L*(y*R-C*M)),-(P*(F*U-G*k)-A*(M*U-R*k)+I*(M*G-R*F)),g*(F*U-G*k)-A*(y*U-C*k)+I*(y*G-C*F),-(g*(M*U-R*k)-P*(y*U-C*k)+I*(y*R-C*M)),g*(M*G-R*F)-P*(y*G-C*F)+A*(y*R-C*M),P*(L*U-G*B)-A*(w*U-R*B)+I*(w*G-R*L),-(g*(L*U-G*B)-A*(m*U-C*B)+I*(m*G-C*L)),g*(w*U-R*B)-P*(m*U-C*B)+I*(m*R-C*w),-(g*(w*G-R*L)-P*(m*G-C*L)+A*(m*R-C*w)),-(P*(L*k-F*B)-A*(w*k-M*B)+I*(w*F-M*L)),g*(L*k-F*B)-A*(m*k-y*B)+I*(m*F-y*L),-(g*(w*k-M*B)-P*(m*k-y*B)+I*(m*M-y*w)),g*(w*F-M*L)-P*(m*F-y*L)+A*(m*M-y*w))},determinant:function(){var v=this.val,g=v[0],m=v[1],y=v[2],C=v[3],P=v[4],w=v[5],M=v[6],R=v[7],A=v[8],L=v[9],F=v[10],G=v[11],I=v[12],B=v[13],k=v[14],U=v[15],H=g*w-m*P,X=g*M-y*P,j=g*R-C*P,J=m*M-y*w,Y=m*R-C*w,$=y*R-C*M,z=A*B-L*I,V=A*k-F*I,K=A*U-G*I,Q=L*k-F*B,_=L*U-G*B,tt=F*U-G*k;return H*tt-X*_+j*Q+J*K-Y*V+$*z},multiply:function(v){var g=this.val,m=g[0],y=g[1],C=g[2],P=g[3],w=g[4],M=g[5],R=g[6],A=g[7],L=g[8],F=g[9],G=g[10],I=g[11],B=g[12],k=g[13],U=g[14],H=g[15],X=v.val,j=X[0],J=X[1],Y=X[2],$=X[3];return g[0]=j*m+J*w+Y*L+$*B,g[1]=j*y+J*M+Y*F+$*k,g[2]=j*C+J*R+Y*G+$*U,g[3]=j*P+J*A+Y*I+$*H,j=X[4],J=X[5],Y=X[6],$=X[7],g[4]=j*m+J*w+Y*L+$*B,g[5]=j*y+J*M+Y*F+$*k,g[6]=j*C+J*R+Y*G+$*U,g[7]=j*P+J*A+Y*I+$*H,j=X[8],J=X[9],Y=X[10],$=X[11],g[8]=j*m+J*w+Y*L+$*B,g[9]=j*y+J*M+Y*F+$*k,g[10]=j*C+J*R+Y*G+$*U,g[11]=j*P+J*A+Y*I+$*H,j=X[12],J=X[13],Y=X[14],$=X[15],g[12]=j*m+J*w+Y*L+$*B,g[13]=j*y+J*M+Y*F+$*k,g[14]=j*C+J*R+Y*G+$*U,g[15]=j*P+J*A+Y*I+$*H,this},multiplyLocal:function(v){var g=this.val,m=v.val;return this.setValues(g[0]*m[0]+g[1]*m[4]+g[2]*m[8]+g[3]*m[12],g[0]*m[1]+g[1]*m[5]+g[2]*m[9]+g[3]*m[13],g[0]*m[2]+g[1]*m[6]+g[2]*m[10]+g[3]*m[14],g[0]*m[3]+g[1]*m[7]+g[2]*m[11]+g[3]*m[15],g[4]*m[0]+g[5]*m[4]+g[6]*m[8]+g[7]*m[12],g[4]*m[1]+g[5]*m[5]+g[6]*m[9]+g[7]*m[13],g[4]*m[2]+g[5]*m[6]+g[6]*m[10]+g[7]*m[14],g[4]*m[3]+g[5]*m[7]+g[6]*m[11]+g[7]*m[15],g[8]*m[0]+g[9]*m[4]+g[10]*m[8]+g[11]*m[12],g[8]*m[1]+g[9]*m[5]+g[10]*m[9]+g[11]*m[13],g[8]*m[2]+g[9]*m[6]+g[10]*m[10]+g[11]*m[14],g[8]*m[3]+g[9]*m[7]+g[10]*m[11]+g[11]*m[15],g[12]*m[0]+g[13]*m[4]+g[14]*m[8]+g[15]*m[12],g[12]*m[1]+g[13]*m[5]+g[14]*m[9]+g[15]*m[13],g[12]*m[2]+g[13]*m[6]+g[14]*m[10]+g[15]*m[14],g[12]*m[3]+g[13]*m[7]+g[14]*m[11]+g[15]*m[15])},premultiply:function(v){return this.multiplyMatrices(v,this)},multiplyMatrices:function(v,g){var m=v.val,y=g.val,C=m[0],P=m[4],w=m[8],M=m[12],R=m[1],A=m[5],L=m[9],F=m[13],G=m[2],I=m[6],B=m[10],k=m[14],U=m[3],H=m[7],X=m[11],j=m[15],J=y[0],Y=y[4],$=y[8],z=y[12],V=y[1],K=y[5],Q=y[9],_=y[13],tt=y[2],rt=y[6],ot=y[10],ft=y[14],ct=y[3],gt=y[7],xt=y[11],wt=y[15];return this.setValues(C*J+P*V+w*tt+M*ct,R*J+A*V+L*tt+F*ct,G*J+I*V+B*tt+k*ct,U*J+H*V+X*tt+j*ct,C*Y+P*K+w*rt+M*gt,R*Y+A*K+L*rt+F*gt,G*Y+I*K+B*rt+k*gt,U*Y+H*K+X*rt+j*gt,C*$+P*Q+w*ot+M*xt,R*$+A*Q+L*ot+F*xt,G*$+I*Q+B*ot+k*xt,U*$+H*Q+X*ot+j*xt,C*z+P*_+w*ft+M*wt,R*z+A*_+L*ft+F*wt,G*z+I*_+B*ft+k*wt,U*z+H*_+X*ft+j*wt)},translate:function(v){return this.translateXYZ(v.x,v.y,v.z)},translateXYZ:function(v,g,m){var y=this.val;return y[12]=y[0]*v+y[4]*g+y[8]*m+y[12],y[13]=y[1]*v+y[5]*g+y[9]*m+y[13],y[14]=y[2]*v+y[6]*g+y[10]*m+y[14],y[15]=y[3]*v+y[7]*g+y[11]*m+y[15],this},scale:function(v){return this.scaleXYZ(v.x,v.y,v.z)},scaleXYZ:function(v,g,m){var y=this.val;return y[0]=y[0]*v,y[1]=y[1]*v,y[2]=y[2]*v,y[3]=y[3]*v,y[4]=y[4]*g,y[5]=y[5]*g,y[6]=y[6]*g,y[7]=y[7]*g,y[8]=y[8]*m,y[9]=y[9]*m,y[10]=y[10]*m,y[11]=y[11]*m,this},makeRotationAxis:function(v,g){var m=Math.cos(g),y=Math.sin(g),C=1-m,P=v.x,w=v.y,M=v.z,R=C*P,A=C*w;return this.setValues(R*P+m,R*w-y*M,R*M+y*w,0,R*w+y*M,A*w+m,A*M-y*P,0,R*M-y*w,A*M+y*P,C*M*M+m,0,0,0,0,1)},rotate:function(v,g){var m=this.val,y=g.x,C=g.y,P=g.z,w=Math.sqrt(y*y+C*C+P*P);if(Math.abs(w)<d)return this;w=1/w,y*=w,C*=w,P*=w;var M=Math.sin(v),R=Math.cos(v),A=1-R,L=m[0],F=m[1],G=m[2],I=m[3],B=m[4],k=m[5],U=m[6],H=m[7],X=m[8],j=m[9],J=m[10],Y=m[11],$=m[12],z=m[13],V=m[14],K=m[15],Q=y*y*A+R,_=C*y*A+P*M,tt=P*y*A-C*M,rt=y*C*A-P*M,ot=C*C*A+R,ft=P*C*A+y*M,ct=y*P*A+C*M,gt=C*P*A-y*M,xt=P*P*A+R;return this.setValues(L*Q+B*_+X*tt,F*Q+k*_+j*tt,G*Q+U*_+J*tt,I*Q+H*_+Y*tt,L*rt+B*ot+X*ft,F*rt+k*ot+j*ft,G*rt+U*ot+J*ft,I*rt+H*ot+Y*ft,L*ct+B*gt+X*xt,F*ct+k*gt+j*xt,G*ct+U*gt+J*xt,I*ct+H*gt+Y*xt,$,z,V,K)},rotateX:function(v){var g=this.val,m=Math.sin(v),y=Math.cos(v),C=g[4],P=g[5],w=g[6],M=g[7],R=g[8],A=g[9],L=g[10],F=g[11];return g[4]=C*y+R*m,g[5]=P*y+A*m,g[6]=w*y+L*m,g[7]=M*y+F*m,g[8]=R*y-C*m,g[9]=A*y-P*m,g[10]=L*y-w*m,g[11]=F*y-M*m,this},rotateY:function(v){var g=this.val,m=Math.sin(v),y=Math.cos(v),C=g[0],P=g[1],w=g[2],M=g[3],R=g[8],A=g[9],L=g[10],F=g[11];return g[0]=C*y-R*m,g[1]=P*y-A*m,g[2]=w*y-L*m,g[3]=M*y-F*m,g[8]=C*m+R*y,g[9]=P*m+A*y,g[10]=w*m+L*y,g[11]=M*m+F*y,this},rotateZ:function(v){var g=this.val,m=Math.sin(v),y=Math.cos(v),C=g[0],P=g[1],w=g[2],M=g[3],R=g[4],A=g[5],L=g[6],F=g[7];return g[0]=C*y+R*m,g[1]=P*y+A*m,g[2]=w*y+L*m,g[3]=M*y+F*m,g[4]=R*y-C*m,g[5]=A*y-P*m,g[6]=L*y-w*m,g[7]=F*y-M*m,this},fromRotationTranslation:function(v,g){var m=v.x,y=v.y,C=v.z,P=v.w,w=m+m,M=y+y,R=C+C,A=m*w,L=m*M,F=m*R,G=y*M,I=y*R,B=C*R,k=P*w,U=P*M,H=P*R;return this.setValues(1-(G+B),L+H,F-U,0,L-H,1-(A+B),I+k,0,F+U,I-k,1-(A+G),0,g.x,g.y,g.z,1)},fromQuat:function(v){var g=v.x,m=v.y,y=v.z,C=v.w,P=g+g,w=m+m,M=y+y,R=g*P,A=g*w,L=g*M,F=m*w,G=m*M,I=y*M,B=C*P,k=C*w,U=C*M;return this.setValues(1-(F+I),A+U,L-k,0,A-U,1-(R+I),G+B,0,L+k,G-B,1-(R+F),0,0,0,0,1)},frustum:function(v,g,m,y,C,P){var w=1/(g-v),M=1/(y-m),R=1/(C-P);return this.setValues(C*2*w,0,0,0,0,C*2*M,0,0,(g+v)*w,(y+m)*M,(P+C)*R,-1,0,0,P*C*2*R,0)},perspective:function(v,g,m,y){var C=1/Math.tan(v/2),P=1/(m-y);return this.setValues(C/g,0,0,0,0,C,0,0,0,0,(y+m)*P,-1,0,0,2*y*m*P,0)},perspectiveLH:function(v,g,m,y){return this.setValues(2*m/v,0,0,0,0,2*m/g,0,0,0,0,-y/(m-y),1,0,0,m*y/(m-y),0)},ortho:function(v,g,m,y,C,P){var w=v-g,M=m-y,R=C-P;return w=w===0?w:1/w,M=M===0?M:1/M,R=R===0?R:1/R,this.setValues(-2*w,0,0,0,0,-2*M,0,0,0,0,2*R,0,(v+g)*w,(y+m)*M,(P+C)*R,1)},lookAtRH:function(v,g,m){var y=this.val;return u.subVectors(v,g),u.lengthSq()===0&&(u.z=1),u.normalize(),f.crossVectors(m,u),f.lengthSq()===0&&(Math.abs(m.z)===1?u.x+=1e-4:u.z+=1e-4,u.normalize(),f.crossVectors(m,u)),f.normalize(),c.crossVectors(u,f),y[0]=f.x,y[1]=f.y,y[2]=f.z,y[4]=c.x,y[5]=c.y,y[6]=c.z,y[8]=u.x,y[9]=u.y,y[10]=u.z,this},lookAt:function(v,g,m){var y=v.x,C=v.y,P=v.z,w=m.x,M=m.y,R=m.z,A=g.x,L=g.y,F=g.z;if(Math.abs(y-A)<d&&Math.abs(C-L)<d&&Math.abs(P-F)<d)return this.identity();var G=y-A,I=C-L,B=P-F,k=1/Math.sqrt(G*G+I*I+B*B);G*=k,I*=k,B*=k;var U=M*B-R*I,H=R*G-w*B,X=w*I-M*G;k=Math.sqrt(U*U+H*H+X*X),k?(k=1/k,U*=k,H*=k,X*=k):(U=0,H=0,X=0);var j=I*X-B*H,J=B*U-G*X,Y=G*H-I*U;return k=Math.sqrt(j*j+J*J+Y*Y),k?(k=1/k,j*=k,J*=k,Y*=k):(j=0,J=0,Y=0),this.setValues(U,j,G,0,H,J,I,0,X,Y,B,0,-(U*y+H*C+X*P),-(j*y+J*C+Y*P),-(G*y+I*C+B*P),1)},yawPitchRoll:function(v,g,m){this.zero(),l.zero(),a.zero();var y=this.val,C=l.val,P=a.val,w=Math.sin(m),M=Math.cos(m);return y[10]=1,y[15]=1,y[0]=M,y[1]=w,y[4]=-w,y[5]=M,w=Math.sin(g),M=Math.cos(g),C[0]=1,C[15]=1,C[5]=M,C[10]=M,C[9]=-w,C[6]=w,w=Math.sin(v),M=Math.cos(v),P[5]=1,P[15]=1,P[0]=M,P[2]=-w,P[8]=w,P[10]=M,this.multiplyLocal(l),this.multiplyLocal(a),this},setWorldMatrix:function(v,g,m,y,C){return this.yawPitchRoll(v.y,v.x,v.z),l.scaling(m.x,m.y,m.z),a.xyz(g.x,g.y,g.z),this.multiplyLocal(l),this.multiplyLocal(a),y&&this.multiplyLocal(y),C&&this.multiplyLocal(C),this},multiplyToMat4:function(v,g){var m=this.val,y=v.val,C=m[0],P=m[1],w=m[2],M=m[3],R=m[4],A=m[5],L=m[6],F=m[7],G=m[8],I=m[9],B=m[10],k=m[11],U=m[12],H=m[13],X=m[14],j=m[15],J=y[0],Y=y[1],$=y[2],z=y[3],V=y[4],K=y[5],Q=y[6],_=y[7],tt=y[8],rt=y[9],ot=y[10],ft=y[11],ct=y[12],gt=y[13],xt=y[14],wt=y[15];return g.setValues(J*C+Y*R+$*G+z*U,Y*P+Y*A+$*I+z*H,$*w+Y*L+$*B+z*X,z*M+Y*F+$*k+z*j,V*C+K*R+Q*G+_*U,V*P+K*A+Q*I+_*H,V*w+K*L+Q*B+_*X,V*M+K*F+Q*k+_*j,tt*C+rt*R+ot*G+ft*U,tt*P+rt*A+ot*I+ft*H,tt*w+rt*L+ot*B+ft*X,tt*M+rt*F+ot*k+ft*j,ct*C+gt*R+xt*G+wt*U,ct*P+gt*A+xt*I+wt*H,ct*w+gt*L+xt*B+wt*X,ct*M+gt*F+xt*k+wt*j)},fromRotationXYTranslation:function(v,g,m){var y=g.x,C=g.y,P=g.z,w=Math.sin(v.x),M=Math.cos(v.x),R=Math.sin(v.y),A=Math.cos(v.y),L=y,F=C,G=P,I=-w,B=0-I*R,k=0-M*R,U=I*A,H=M*A;return m||(L=A*y+R*P,F=B*y+M*C+U*P,G=k*y+w*C+H*P),this.setValues(A,B,k,0,0,M,w,0,R,U,H,0,L,F,G,1)},getMaxScaleOnAxis:function(){var v=this.val,g=v[0]*v[0]+v[1]*v[1]+v[2]*v[2],m=v[4]*v[4]+v[5]*v[5]+v[6]*v[6],y=v[8]*v[8]+v[9]*v[9]+v[10]*v[10];return Math.sqrt(Math.max(g,m,y))}}),l=new h,a=new h,f=new x,c=new x,u=new x;n.exports=h},86883:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){return Math.min(r+o,x)};n.exports=T},50040:n=>{/**
 * @author       Vladislav Forsh <vlad@robowhale.com>
 * @copyright    2021 RoboWhale
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){var o=r.length;if(o===0)return 0;r.sort(function(d,h){return d-h});var x=Math.floor(o/2);return o%2===0?(r[x]+r[x-1])/2:r[x]};n.exports=T},37204:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){return Math.max(r-o,x)};n.exports=T},65201:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d){x===void 0&&(x=o+1);var h=(r-o)/(x-o);return h>1?d!==void 0?(h=(d-r)/(d-x),h<0&&(h=0)):h=1:h<0&&(h=0),h};n.exports=T},15746:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(94434),d=r(29747),h=r(25836),l=1e-6,a=new Int8Array([1,2,0]),f=new Float32Array([0,0,0]),c=new h(1,0,0),u=new h(0,1,0),v=new h,g=new x,m=new o({initialize:function(C,P,w,M){this.onChangeCallback=d,this.set(C,P,w,M)},x:{get:function(){return this._x},set:function(y){this._x=y,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(y){this._y=y,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(y){this._z=y,this.onChangeCallback(this)}},w:{get:function(){return this._w},set:function(y){this._w=y,this.onChangeCallback(this)}},copy:function(y){return this.set(y)},set:function(y,C,P,w,M){return M===void 0&&(M=!0),typeof y=="object"?(this._x=y.x||0,this._y=y.y||0,this._z=y.z||0,this._w=y.w||0):(this._x=y||0,this._y=C||0,this._z=P||0,this._w=w||0),M&&this.onChangeCallback(this),this},add:function(y){return this._x+=y.x,this._y+=y.y,this._z+=y.z,this._w+=y.w,this.onChangeCallback(this),this},subtract:function(y){return this._x-=y.x,this._y-=y.y,this._z-=y.z,this._w-=y.w,this.onChangeCallback(this),this},scale:function(y){return this._x*=y,this._y*=y,this._z*=y,this._w*=y,this.onChangeCallback(this),this},length:function(){var y=this.x,C=this.y,P=this.z,w=this.w;return Math.sqrt(y*y+C*C+P*P+w*w)},lengthSq:function(){var y=this.x,C=this.y,P=this.z,w=this.w;return y*y+C*C+P*P+w*w},normalize:function(){var y=this.x,C=this.y,P=this.z,w=this.w,M=y*y+C*C+P*P+w*w;return M>0&&(M=1/Math.sqrt(M),this._x=y*M,this._y=C*M,this._z=P*M,this._w=w*M),this.onChangeCallback(this),this},dot:function(y){return this.x*y.x+this.y*y.y+this.z*y.z+this.w*y.w},lerp:function(y,C){C===void 0&&(C=0);var P=this.x,w=this.y,M=this.z,R=this.w;return this.set(P+C*(y.x-P),w+C*(y.y-w),M+C*(y.z-M),R+C*(y.w-R))},rotationTo:function(y,C){var P=y.x*C.x+y.y*C.y+y.z*C.z;return P<-.999999?(v.copy(c).cross(y).length()<l&&v.copy(u).cross(y),v.normalize(),this.setAxisAngle(v,Math.PI)):P>.999999?this.set(0,0,0,1):(v.copy(y).cross(C),this._x=v.x,this._y=v.y,this._z=v.z,this._w=1+P,this.normalize())},setAxes:function(y,C,P){var w=g.val;return w[0]=C.x,w[3]=C.y,w[6]=C.z,w[1]=P.x,w[4]=P.y,w[7]=P.z,w[2]=-y.x,w[5]=-y.y,w[8]=-y.z,this.fromMat3(g).normalize()},identity:function(){return this.set(0,0,0,1)},setAxisAngle:function(y,C){C=C*.5;var P=Math.sin(C);return this.set(P*y.x,P*y.y,P*y.z,Math.cos(C))},multiply:function(y){var C=this.x,P=this.y,w=this.z,M=this.w,R=y.x,A=y.y,L=y.z,F=y.w;return this.set(C*F+M*R+P*L-w*A,P*F+M*A+w*R-C*L,w*F+M*L+C*A-P*R,M*F-C*R-P*A-w*L)},slerp:function(y,C){var P=this.x,w=this.y,M=this.z,R=this.w,A=y.x,L=y.y,F=y.z,G=y.w,I=P*A+w*L+M*F+R*G;I<0&&(I=-I,A=-A,L=-L,F=-F,G=-G);var B=1-C,k=C;if(1-I>l){var U=Math.acos(I),H=Math.sin(U);B=Math.sin((1-C)*U)/H,k=Math.sin(C*U)/H}return this.set(B*P+k*A,B*w+k*L,B*M+k*F,B*R+k*G)},invert:function(){var y=this.x,C=this.y,P=this.z,w=this.w,M=y*y+C*C+P*P+w*w,R=M?1/M:0;return this.set(-y*R,-C*R,-P*R,w*R)},conjugate:function(){return this._x=-this.x,this._y=-this.y,this._z=-this.z,this.onChangeCallback(this),this},rotateX:function(y){y*=.5;var C=this.x,P=this.y,w=this.z,M=this.w,R=Math.sin(y),A=Math.cos(y);return this.set(C*A+M*R,P*A+w*R,w*A-P*R,M*A-C*R)},rotateY:function(y){y*=.5;var C=this.x,P=this.y,w=this.z,M=this.w,R=Math.sin(y),A=Math.cos(y);return this.set(C*A-w*R,P*A+M*R,w*A+C*R,M*A-P*R)},rotateZ:function(y){y*=.5;var C=this.x,P=this.y,w=this.z,M=this.w,R=Math.sin(y),A=Math.cos(y);return this.set(C*A+P*R,P*A-C*R,w*A+M*R,M*A-w*R)},calculateW:function(){var y=this.x,C=this.y,P=this.z;return this.w=-Math.sqrt(1-y*y-C*C-P*P),this},setFromEuler:function(y,C){var P=y.x/2,w=y.y/2,M=y.z/2,R=Math.cos(P),A=Math.cos(w),L=Math.cos(M),F=Math.sin(P),G=Math.sin(w),I=Math.sin(M);switch(y.order){case"XYZ":{this.set(F*A*L+R*G*I,R*G*L-F*A*I,R*A*I+F*G*L,R*A*L-F*G*I,C);break}case"YXZ":{this.set(F*A*L+R*G*I,R*G*L-F*A*I,R*A*I-F*G*L,R*A*L+F*G*I,C);break}case"ZXY":{this.set(F*A*L-R*G*I,R*G*L+F*A*I,R*A*I+F*G*L,R*A*L-F*G*I,C);break}case"ZYX":{this.set(F*A*L-R*G*I,R*G*L+F*A*I,R*A*I-F*G*L,R*A*L+F*G*I,C);break}case"YZX":{this.set(F*A*L+R*G*I,R*G*L+F*A*I,R*A*I-F*G*L,R*A*L-F*G*I,C);break}case"XZY":{this.set(F*A*L-R*G*I,R*G*L-F*A*I,R*A*I+F*G*L,R*A*L+F*G*I,C);break}}return this},setFromRotationMatrix:function(y){var C=y.val,P=C[0],w=C[4],M=C[8],R=C[1],A=C[5],L=C[9],F=C[2],G=C[6],I=C[10],B=P+A+I,k;return B>0?(k=.5/Math.sqrt(B+1),this.set((G-L)*k,(M-F)*k,(R-w)*k,.25/k)):P>A&&P>I?(k=2*Math.sqrt(1+P-A-I),this.set(.25*k,(w+R)/k,(M+F)/k,(G-L)/k)):A>I?(k=2*Math.sqrt(1+A-P-I),this.set((w+R)/k,.25*k,(L+G)/k,(M-F)/k)):(k=2*Math.sqrt(1+I-P-A),this.set((M+F)/k,(L+G)/k,.25*k,(R-w)/k)),this},fromMat3:function(y){var C=y.val,P=C[0]+C[4]+C[8],w;if(P>0)w=Math.sqrt(P+1),this.w=.5*w,w=.5/w,this._x=(C[7]-C[5])*w,this._y=(C[2]-C[6])*w,this._z=(C[3]-C[1])*w;else{var M=0;C[4]>C[0]&&(M=1),C[8]>C[M*3+M]&&(M=2);var R=a[M],A=a[R];w=Math.sqrt(C[M*3+M]-C[R*3+R]-C[A*3+A]+1),f[M]=.5*w,w=.5/w,f[R]=(C[R*3+M]+C[M*3+R])*w,f[A]=(C[A*3+M]+C[M*3+A])*w,this._x=f[0],this._y=f[1],this._z=f[2],this._w=(C[A*3+R]-C[R*3+A])*w}return this.onChangeCallback(this),this}});n.exports=m},43396:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(36383),x=function(d){return d*o.RAD_TO_DEG};n.exports=x},74362:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){o===void 0&&(o=1);var x=Math.random()*2*Math.PI;return r.x=Math.cos(x)*o,r.y=Math.sin(x)*o,r};n.exports=T},60706:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){o===void 0&&(o=1);var x=Math.random()*2*Math.PI,d=Math.random()*2-1,h=Math.sqrt(1-d*d)*o;return r.x=Math.cos(x)*h,r.y=Math.sin(x)*h,r.z=d*o,r};n.exports=T},67421:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return o===void 0&&(o=1),r.x=(Math.random()*2-1)*o,r.y=(Math.random()*2-1)*o,r.z=(Math.random()*2-1)*o,r.w=(Math.random()*2-1)*o,r};n.exports=T},36305:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){var x=r.x,d=r.y;return r.x=x*Math.cos(o)-d*Math.sin(o),r.y=x*Math.sin(o)+d*Math.cos(o),r};n.exports=T},11520:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d){var h=Math.cos(d),l=Math.sin(d),a=r.x-o,f=r.y-x;return r.x=a*h-f*l+o,r.y=a*l+f*h+x,r};n.exports=T},1163:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d,h){var l=d+Math.atan2(r.y-x,r.x-o);return r.x=o+h*Math.cos(l),r.y=x+h*Math.sin(l),r};n.exports=T},70336:n=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d,h){return r.x=o+h*Math.cos(d),r.y=x+h*Math.sin(d),r};n.exports=T},72678:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(25836),x=r(37867),d=r(15746),h=new x,l=new d,a=new o,f=function(c,u,v){return l.setAxisAngle(u,v),h.fromRotationTranslation(l,a.set(0,0,0)),c.transformMat4(h)};n.exports=f},2284:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r>0?Math.ceil(r):Math.floor(r)};n.exports=T},41013:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){o===void 0&&(o=0),x===void 0&&(x=10);var d=Math.pow(x,-o);return Math.round(r*d)/d};n.exports=T},16922:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d){o===void 0&&(o=1),x===void 0&&(x=1),d===void 0&&(d=1),d*=Math.PI/r;for(var h=[],l=[],a=0;a<r;a++)x-=o*d,o+=x*d,h[a]=x,l[a]=o;return{sin:l,cos:h,length:r}};n.exports=T},7602:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){return r<=o?0:r>=x?1:(r=(r-o)/(x-o),r*r*(3-2*r))};n.exports=T},54261:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){return r=Math.max(0,Math.min(1,(r-o)/(x-o))),r*r*r*(r*(r*6-15)+10)};n.exports=T},44408:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(26099),x=function(d,h,l,a){a===void 0&&(a=new o);var f=0,c=0,u=h*l;return d>0&&d<=u&&(d>h-1?(c=Math.floor(d/h),f=d-c*h):f=d),a.set(f,c)};n.exports=x},85955:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(26099),x=function(d,h,l,a,f,c,u,v){v===void 0&&(v=new o);var g=Math.sin(f),m=Math.cos(f),y=m*c,C=g*c,P=-g*u,w=m*u,M=1/(y*w+P*-C);return v.x=w*M*d+-P*M*h+(a*P-l*w)*M,v.y=y*M*h+-C*M*d+(-a*y+l*C)*M,v};n.exports=x},26099:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(43855),d=new o({initialize:function(l,a){this.x=0,this.y=0,typeof l=="object"?(this.x=l.x||0,this.y=l.y||0):(a===void 0&&(a=l),this.x=l||0,this.y=a||0)},clone:function(){return new d(this.x,this.y)},copy:function(h){return this.x=h.x||0,this.y=h.y||0,this},setFromObject:function(h){return this.x=h.x||0,this.y=h.y||0,this},set:function(h,l){return l===void 0&&(l=h),this.x=h,this.y=l,this},setTo:function(h,l){return this.set(h,l)},setToPolar:function(h,l){return l==null&&(l=1),this.x=Math.cos(h)*l,this.y=Math.sin(h)*l,this},equals:function(h){return this.x===h.x&&this.y===h.y},fuzzyEquals:function(h,l){return x(this.x,h.x,l)&&x(this.y,h.y,l)},angle:function(){var h=Math.atan2(this.y,this.x);return h<0&&(h+=2*Math.PI),h},setAngle:function(h){return this.setToPolar(h,this.length())},add:function(h){return this.x+=h.x,this.y+=h.y,this},subtract:function(h){return this.x-=h.x,this.y-=h.y,this},multiply:function(h){return this.x*=h.x,this.y*=h.y,this},scale:function(h){return isFinite(h)?(this.x*=h,this.y*=h):(this.x=0,this.y=0),this},divide:function(h){return this.x/=h.x,this.y/=h.y,this},negate:function(){return this.x=-this.x,this.y=-this.y,this},distance:function(h){var l=h.x-this.x,a=h.y-this.y;return Math.sqrt(l*l+a*a)},distanceSq:function(h){var l=h.x-this.x,a=h.y-this.y;return l*l+a*a},length:function(){var h=this.x,l=this.y;return Math.sqrt(h*h+l*l)},setLength:function(h){return this.normalize().scale(h)},lengthSq:function(){var h=this.x,l=this.y;return h*h+l*l},normalize:function(){var h=this.x,l=this.y,a=h*h+l*l;return a>0&&(a=1/Math.sqrt(a),this.x=h*a,this.y=l*a),this},normalizeRightHand:function(){var h=this.x;return this.x=this.y*-1,this.y=h,this},normalizeLeftHand:function(){var h=this.x;return this.x=this.y,this.y=h*-1,this},dot:function(h){return this.x*h.x+this.y*h.y},cross:function(h){return this.x*h.y-this.y*h.x},lerp:function(h,l){l===void 0&&(l=0);var a=this.x,f=this.y;return this.x=a+l*(h.x-a),this.y=f+l*(h.y-f),this},transformMat3:function(h){var l=this.x,a=this.y,f=h.val;return this.x=f[0]*l+f[3]*a+f[6],this.y=f[1]*l+f[4]*a+f[7],this},transformMat4:function(h){var l=this.x,a=this.y,f=h.val;return this.x=f[0]*l+f[4]*a+f[12],this.y=f[1]*l+f[5]*a+f[13],this},reset:function(){return this.x=0,this.y=0,this},limit:function(h){var l=this.length();return l&&l>h&&this.scale(h/l),this},reflect:function(h){return h=h.clone().normalize(),this.subtract(h.scale(2*this.dot(h)))},mirror:function(h){return this.reflect(h).negate()},rotate:function(h){var l=Math.cos(h),a=Math.sin(h);return this.set(l*this.x-a*this.y,a*this.x+l*this.y)},project:function(h){var l=this.dot(h)/h.dot(h);return this.copy(h).scale(l)}});d.ZERO=new d,d.RIGHT=new d(1,0),d.LEFT=new d(-1,0),d.UP=new d(0,-1),d.DOWN=new d(0,1),d.ONE=new d(1,1),n.exports=d},25836:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=new o({initialize:function(h,l,a){this.x=0,this.y=0,this.z=0,typeof h=="object"?(this.x=h.x||0,this.y=h.y||0,this.z=h.z||0):(this.x=h||0,this.y=l||0,this.z=a||0)},up:function(){return this.x=0,this.y=1,this.z=0,this},min:function(d){return this.x=Math.min(this.x,d.x),this.y=Math.min(this.y,d.y),this.z=Math.min(this.z,d.z),this},max:function(d){return this.x=Math.max(this.x,d.x),this.y=Math.max(this.y,d.y),this.z=Math.max(this.z,d.z),this},clone:function(){return new x(this.x,this.y,this.z)},addVectors:function(d,h){return this.x=d.x+h.x,this.y=d.y+h.y,this.z=d.z+h.z,this},subVectors:function(d,h){return this.x=d.x-h.x,this.y=d.y-h.y,this.z=d.z-h.z,this},crossVectors:function(d,h){var l=d.x,a=d.y,f=d.z,c=h.x,u=h.y,v=h.z;return this.x=a*v-f*u,this.y=f*c-l*v,this.z=l*u-a*c,this},equals:function(d){return this.x===d.x&&this.y===d.y&&this.z===d.z},copy:function(d){return this.x=d.x,this.y=d.y,this.z=d.z||0,this},set:function(d,h,l){return typeof d=="object"?(this.x=d.x||0,this.y=d.y||0,this.z=d.z||0):(this.x=d||0,this.y=h||0,this.z=l||0),this},setFromMatrixPosition:function(d){return this.fromArray(d.val,12)},setFromMatrixColumn:function(d,h){return this.fromArray(d.val,h*4)},fromArray:function(d,h){return h===void 0&&(h=0),this.x=d[h],this.y=d[h+1],this.z=d[h+2],this},add:function(d){return this.x+=d.x,this.y+=d.y,this.z+=d.z||0,this},addScalar:function(d){return this.x+=d,this.y+=d,this.z+=d,this},addScale:function(d,h){return this.x+=d.x*h,this.y+=d.y*h,this.z+=d.z*h||0,this},subtract:function(d){return this.x-=d.x,this.y-=d.y,this.z-=d.z||0,this},multiply:function(d){return this.x*=d.x,this.y*=d.y,this.z*=d.z||1,this},scale:function(d){return isFinite(d)?(this.x*=d,this.y*=d,this.z*=d):(this.x=0,this.y=0,this.z=0),this},divide:function(d){return this.x/=d.x,this.y/=d.y,this.z/=d.z||1,this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},distance:function(d){var h=d.x-this.x,l=d.y-this.y,a=d.z-this.z||0;return Math.sqrt(h*h+l*l+a*a)},distanceSq:function(d){var h=d.x-this.x,l=d.y-this.y,a=d.z-this.z||0;return h*h+l*l+a*a},length:function(){var d=this.x,h=this.y,l=this.z;return Math.sqrt(d*d+h*h+l*l)},lengthSq:function(){var d=this.x,h=this.y,l=this.z;return d*d+h*h+l*l},normalize:function(){var d=this.x,h=this.y,l=this.z,a=d*d+h*h+l*l;return a>0&&(a=1/Math.sqrt(a),this.x=d*a,this.y=h*a,this.z=l*a),this},dot:function(d){return this.x*d.x+this.y*d.y+this.z*d.z},cross:function(d){var h=this.x,l=this.y,a=this.z,f=d.x,c=d.y,u=d.z;return this.x=l*u-a*c,this.y=a*f-h*u,this.z=h*c-l*f,this},lerp:function(d,h){h===void 0&&(h=0);var l=this.x,a=this.y,f=this.z;return this.x=l+h*(d.x-l),this.y=a+h*(d.y-a),this.z=f+h*(d.z-f),this},applyMatrix3:function(d){var h=this.x,l=this.y,a=this.z,f=d.val;return this.x=f[0]*h+f[3]*l+f[6]*a,this.y=f[1]*h+f[4]*l+f[7]*a,this.z=f[2]*h+f[5]*l+f[8]*a,this},applyMatrix4:function(d){var h=this.x,l=this.y,a=this.z,f=d.val,c=1/(f[3]*h+f[7]*l+f[11]*a+f[15]);return this.x=(f[0]*h+f[4]*l+f[8]*a+f[12])*c,this.y=(f[1]*h+f[5]*l+f[9]*a+f[13])*c,this.z=(f[2]*h+f[6]*l+f[10]*a+f[14])*c,this},transformMat3:function(d){var h=this.x,l=this.y,a=this.z,f=d.val;return this.x=h*f[0]+l*f[3]+a*f[6],this.y=h*f[1]+l*f[4]+a*f[7],this.z=h*f[2]+l*f[5]+a*f[8],this},transformMat4:function(d){var h=this.x,l=this.y,a=this.z,f=d.val;return this.x=f[0]*h+f[4]*l+f[8]*a+f[12],this.y=f[1]*h+f[5]*l+f[9]*a+f[13],this.z=f[2]*h+f[6]*l+f[10]*a+f[14],this},transformCoordinates:function(d){var h=this.x,l=this.y,a=this.z,f=d.val,c=h*f[0]+l*f[4]+a*f[8]+f[12],u=h*f[1]+l*f[5]+a*f[9]+f[13],v=h*f[2]+l*f[6]+a*f[10]+f[14],g=h*f[3]+l*f[7]+a*f[11]+f[15];return this.x=c/g,this.y=u/g,this.z=v/g,this},transformQuat:function(d){var h=this.x,l=this.y,a=this.z,f=d.x,c=d.y,u=d.z,v=d.w,g=v*h+c*a-u*l,m=v*l+u*h-f*a,y=v*a+f*l-c*h,C=-f*h-c*l-u*a;return this.x=g*v+C*-f+m*-u-y*-c,this.y=m*v+C*-c+y*-f-g*-u,this.z=y*v+C*-u+g*-c-m*-f,this},project:function(d){var h=this.x,l=this.y,a=this.z,f=d.val,c=f[0],u=f[1],v=f[2],g=f[3],m=f[4],y=f[5],C=f[6],P=f[7],w=f[8],M=f[9],R=f[10],A=f[11],L=f[12],F=f[13],G=f[14],I=f[15],B=1/(h*g+l*P+a*A+I);return this.x=(h*c+l*m+a*w+L)*B,this.y=(h*u+l*y+a*M+F)*B,this.z=(h*v+l*C+a*R+G)*B,this},projectViewMatrix:function(d,h){return this.applyMatrix4(d).applyMatrix4(h)},unprojectViewMatrix:function(d,h){return this.applyMatrix4(d).applyMatrix4(h)},unproject:function(d,h){var l=d.x,a=d.y,f=d.z,c=d.w,u=this.x-l,v=c-this.y-1-a,g=this.z;return this.x=2*u/f-1,this.y=2*v/c-1,this.z=2*g-1,this.project(h)},reset:function(){return this.x=0,this.y=0,this.z=0,this}});x.ZERO=new x,x.RIGHT=new x(1,0,0),x.LEFT=new x(-1,0,0),x.UP=new x(0,-1,0),x.DOWN=new x(0,1,0),x.FORWARD=new x(0,0,1),x.BACK=new x(0,0,-1),x.ONE=new x(1,1,1),n.exports=x},61369:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=new o({initialize:function(h,l,a,f){this.x=0,this.y=0,this.z=0,this.w=0,typeof h=="object"?(this.x=h.x||0,this.y=h.y||0,this.z=h.z||0,this.w=h.w||0):(this.x=h||0,this.y=l||0,this.z=a||0,this.w=f||0)},clone:function(){return new x(this.x,this.y,this.z,this.w)},copy:function(d){return this.x=d.x,this.y=d.y,this.z=d.z||0,this.w=d.w||0,this},equals:function(d){return this.x===d.x&&this.y===d.y&&this.z===d.z&&this.w===d.w},set:function(d,h,l,a){return typeof d=="object"?(this.x=d.x||0,this.y=d.y||0,this.z=d.z||0,this.w=d.w||0):(this.x=d||0,this.y=h||0,this.z=l||0,this.w=a||0),this},add:function(d){return this.x+=d.x,this.y+=d.y,this.z+=d.z||0,this.w+=d.w||0,this},subtract:function(d){return this.x-=d.x,this.y-=d.y,this.z-=d.z||0,this.w-=d.w||0,this},scale:function(d){return this.x*=d,this.y*=d,this.z*=d,this.w*=d,this},length:function(){var d=this.x,h=this.y,l=this.z,a=this.w;return Math.sqrt(d*d+h*h+l*l+a*a)},lengthSq:function(){var d=this.x,h=this.y,l=this.z,a=this.w;return d*d+h*h+l*l+a*a},normalize:function(){var d=this.x,h=this.y,l=this.z,a=this.w,f=d*d+h*h+l*l+a*a;return f>0&&(f=1/Math.sqrt(f),this.x=d*f,this.y=h*f,this.z=l*f,this.w=a*f),this},dot:function(d){return this.x*d.x+this.y*d.y+this.z*d.z+this.w*d.w},lerp:function(d,h){h===void 0&&(h=0);var l=this.x,a=this.y,f=this.z,c=this.w;return this.x=l+h*(d.x-l),this.y=a+h*(d.y-a),this.z=f+h*(d.z-f),this.w=c+h*(d.w-c),this},multiply:function(d){return this.x*=d.x,this.y*=d.y,this.z*=d.z||1,this.w*=d.w||1,this},divide:function(d){return this.x/=d.x,this.y/=d.y,this.z/=d.z||1,this.w/=d.w||1,this},distance:function(d){var h=d.x-this.x,l=d.y-this.y,a=d.z-this.z||0,f=d.w-this.w||0;return Math.sqrt(h*h+l*l+a*a+f*f)},distanceSq:function(d){var h=d.x-this.x,l=d.y-this.y,a=d.z-this.z||0,f=d.w-this.w||0;return h*h+l*l+a*a+f*f},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},transformMat4:function(d){var h=this.x,l=this.y,a=this.z,f=this.w,c=d.val;return this.x=c[0]*h+c[4]*l+c[8]*a+c[12]*f,this.y=c[1]*h+c[5]*l+c[9]*a+c[13]*f,this.z=c[2]*h+c[6]*l+c[10]*a+c[14]*f,this.w=c[3]*h+c[7]*l+c[11]*a+c[15]*f,this},transformQuat:function(d){var h=this.x,l=this.y,a=this.z,f=d.x,c=d.y,u=d.z,v=d.w,g=v*h+c*a-u*l,m=v*l+u*h-f*a,y=v*a+f*l-c*h,C=-f*h-c*l-u*a;return this.x=g*v+C*-f+m*-u-y*-c,this.y=m*v+C*-c+y*-f-g*-u,this.z=y*v+C*-u+g*-c-m*-f,this},reset:function(){return this.x=0,this.y=0,this.z=0,this.w=0,this}});x.prototype.sub=x.prototype.subtract,x.prototype.mul=x.prototype.multiply,x.prototype.div=x.prototype.divide,x.prototype.dist=x.prototype.distance,x.prototype.distSq=x.prototype.distanceSq,x.prototype.len=x.prototype.length,x.prototype.lenSq=x.prototype.lengthSq,n.exports=x},60417:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){return Math.abs(r-o)<=x};n.exports=T},15994:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){var d=x-o;return o+((r-o)%d+d)%d};n.exports=T},31040:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d){return Math.atan2(d-o,x-r)};n.exports=T},55495:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return Math.atan2(o.y-r.y,o.x-r.x)};n.exports=T},128:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return Math.atan2(o.x-r.x,o.y-r.y)};n.exports=T},41273:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d){return Math.atan2(x-r,d-o)};n.exports=T},1432:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(36383),x=function(d){return d>Math.PI&&(d-=o.PI2),Math.abs(((d+o.TAU)%o.PI2-o.PI2)%o.PI2)};n.exports=x},12407:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r=r%(2*Math.PI),r>=0?r:r+2*Math.PI};n.exports=T},53993:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       @samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(99472),x=function(){return o(-Math.PI,Math.PI)};n.exports=x},86564:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       @samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(99472),x=function(){return o(-180,180)};n.exports=x},90154:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(12407),x=function(d){return o(d+Math.PI)};n.exports=x},48736:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(36383),x=function(d,h,l){return l===void 0&&(l=.05),d===h||(Math.abs(h-d)<=l||Math.abs(h-d)>=o.PI2-l?d=h:(Math.abs(h-d)>Math.PI&&(h<d?h+=o.PI2:h-=o.PI2),h>d?d+=l:h<d&&(d-=l))),d};n.exports=x},61430:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){var x=o-r;if(x===0)return 0;var d=Math.floor((x- -180)/360);return x-d*360};n.exports=T},86554:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(15994),x=function(d){return o(d,-Math.PI,Math.PI)};n.exports=x},30954:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(15994),x=function(d){return o(d,-180,180)};n.exports=x},25588:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Between:r(31040),BetweenPoints:r(55495),BetweenPointsY:r(128),BetweenY:r(41273),CounterClockwise:r(1432),Normalize:r(12407),Random:r(53993),RandomDegrees:r(86564),Reverse:r(90154),RotateTo:r(48736),ShortestBetween:r(61430),Wrap:r(86554),WrapDegrees:r(30954)}},36383:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={PI2:Math.PI*2,TAU:Math.PI*.5,EPSILON:1e-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,RND:null,MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991};n.exports=T},20339:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d){var h=r-x,l=o-d;return Math.sqrt(h*h+l*l)};n.exports=T},52816:n=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){var x=r.x-o.x,d=r.y-o.y;return Math.sqrt(x*x+d*d)};n.exports=T},64559:n=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){var x=r.x-o.x,d=r.y-o.y;return x*x+d*d};n.exports=T},82340:n=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d){return Math.max(Math.abs(r-x),Math.abs(o-d))};n.exports=T},14390:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d,h){return h===void 0&&(h=2),Math.sqrt(Math.pow(x-r,h)+Math.pow(d-o,h))};n.exports=T},2243:n=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d){return Math.abs(r-x)+Math.abs(o-d)};n.exports=T},89774:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d){var h=r-x,l=o-d;return h*h+l*l};n.exports=T},50994:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Between:r(20339),BetweenPoints:r(52816),BetweenPointsSquared:r(64559),Chebyshev:r(82340),Power:r(14390),Snake:r(2243),Squared:r(89774)}},62640:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(54178),x=r(41521),d=r(79980),h=r(85433),l=r(99140),a=r(48857),f=r(81596),c=r(59133),u=r(98516),v=r(35248),g=r(82500),m=r(49752);n.exports={Power0:f,Power1:c.Out,Power2:h.Out,Power3:u.Out,Power4:v.Out,Linear:f,Quad:c.Out,Cubic:h.Out,Quart:u.Out,Quint:v.Out,Sine:g.Out,Expo:a.Out,Circ:d.Out,Elastic:l.Out,Back:o.Out,Bounce:x.Out,Stepped:m,"Quad.easeIn":c.In,"Cubic.easeIn":h.In,"Quart.easeIn":u.In,"Quint.easeIn":v.In,"Sine.easeIn":g.In,"Expo.easeIn":a.In,"Circ.easeIn":d.In,"Elastic.easeIn":l.In,"Back.easeIn":o.In,"Bounce.easeIn":x.In,"Quad.easeOut":c.Out,"Cubic.easeOut":h.Out,"Quart.easeOut":u.Out,"Quint.easeOut":v.Out,"Sine.easeOut":g.Out,"Expo.easeOut":a.Out,"Circ.easeOut":d.Out,"Elastic.easeOut":l.Out,"Back.easeOut":o.Out,"Bounce.easeOut":x.Out,"Quad.easeInOut":c.InOut,"Cubic.easeInOut":h.InOut,"Quart.easeInOut":u.InOut,"Quint.easeInOut":v.InOut,"Sine.easeInOut":g.InOut,"Expo.easeInOut":a.InOut,"Circ.easeInOut":d.InOut,"Elastic.easeInOut":l.InOut,"Back.easeInOut":o.InOut,"Bounce.easeInOut":x.InOut}},1639:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return o===void 0&&(o=1.70158),r*r*((o+1)*r-o)};n.exports=T},50099:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){o===void 0&&(o=1.70158);var x=o*1.525;return(r*=2)<1?.5*(r*r*((x+1)*r-x)):.5*((r-=2)*r*((x+1)*r+x)+2)};n.exports=T},41286:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return o===void 0&&(o=1.70158),--r*r*((o+1)*r+o)+1};n.exports=T},54178:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={In:r(1639),Out:r(41286),InOut:r(50099)}},59590:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r=1-r,r<.36363636363636365?1-7.5625*r*r:r<.7272727272727273?1-(7.5625*(r-=.5454545454545454)*r+.75):r<.9090909090909091?1-(7.5625*(r-=.8181818181818182)*r+.9375):1-(7.5625*(r-=.9545454545454546)*r+.984375)};n.exports=T},41788:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){var o=!1;return r<.5?(r=1-r*2,o=!0):r=r*2-1,r<.36363636363636365?r=7.5625*r*r:r<.7272727272727273?r=7.5625*(r-=.5454545454545454)*r+.75:r<.9090909090909091?r=7.5625*(r-=.8181818181818182)*r+.9375:r=7.5625*(r-=.9545454545454546)*r+.984375,o?(1-r)*.5:r*.5+.5};n.exports=T},69905:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r<.36363636363636365?7.5625*r*r:r<.7272727272727273?7.5625*(r-=.5454545454545454)*r+.75:r<.9090909090909091?7.5625*(r-=.8181818181818182)*r+.9375:7.5625*(r-=.9545454545454546)*r+.984375};n.exports=T},41521:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={In:r(59590),Out:r(69905),InOut:r(41788)}},91861:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return 1-Math.sqrt(1-r*r)};n.exports=T},4177:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return(r*=2)<1?-.5*(Math.sqrt(1-r*r)-1):.5*(Math.sqrt(1-(r-=2)*r)+1)};n.exports=T},57512:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return Math.sqrt(1- --r*r)};n.exports=T},79980:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={In:r(91861),Out:r(57512),InOut:r(4177)}},51150:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r*r*r};n.exports=T},82820:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return(r*=2)<1?.5*r*r*r:.5*((r-=2)*r*r+2)};n.exports=T},35033:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return--r*r*r+1};n.exports=T},85433:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={In:r(51150),Out:r(35033),InOut:r(82820)}},69965:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){if(o===void 0&&(o=.1),x===void 0&&(x=.1),r===0)return 0;if(r===1)return 1;var d=x/4;return o<1?o=1:d=x*Math.asin(1/o)/(2*Math.PI),-(o*Math.pow(2,10*(r-=1))*Math.sin((r-d)*(2*Math.PI)/x))};n.exports=T},50665:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){if(o===void 0&&(o=.1),x===void 0&&(x=.1),r===0)return 0;if(r===1)return 1;var d=x/4;return o<1?o=1:d=x*Math.asin(1/o)/(2*Math.PI),(r*=2)<1?-.5*(o*Math.pow(2,10*(r-=1))*Math.sin((r-d)*(2*Math.PI)/x)):o*Math.pow(2,-10*(r-=1))*Math.sin((r-d)*(2*Math.PI)/x)*.5+1};n.exports=T},7744:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){if(o===void 0&&(o=.1),x===void 0&&(x=.1),r===0)return 0;if(r===1)return 1;var d=x/4;return o<1?o=1:d=x*Math.asin(1/o)/(2*Math.PI),o*Math.pow(2,-10*r)*Math.sin((r-d)*(2*Math.PI)/x)+1};n.exports=T},99140:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={In:r(69965),Out:r(7744),InOut:r(50665)}},24590:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return Math.pow(2,10*(r-1))-.001};n.exports=T},87844:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return(r*=2)<1?.5*Math.pow(2,10*(r-1)):.5*(2-Math.pow(2,-10*(r-1)))};n.exports=T},89433:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return 1-Math.pow(2,-10*r)};n.exports=T},48857:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={In:r(24590),Out:r(89433),InOut:r(87844)}},48820:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Back:r(54178),Bounce:r(41521),Circular:r(79980),Cubic:r(85433),Elastic:r(99140),Expo:r(48857),Linear:r(81596),Quadratic:r(59133),Quartic:r(98516),Quintic:r(35248),Sine:r(82500),Stepped:r(49752)}},7147:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r};n.exports=T},81596:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports=r(7147)},34826:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r*r};n.exports=T},20544:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return(r*=2)<1?.5*r*r:-.5*(--r*(r-2)-1)};n.exports=T},92029:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r*(2-r)};n.exports=T},59133:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={In:r(34826),Out:r(92029),InOut:r(20544)}},64413:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r*r*r*r};n.exports=T},78137:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return(r*=2)<1?.5*r*r*r*r:-.5*((r-=2)*r*r*r-2)};n.exports=T},45840:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return 1- --r*r*r*r};n.exports=T},98516:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={In:r(64413),Out:r(45840),InOut:r(78137)}},87745:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r*r*r*r*r};n.exports=T},16509:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return(r*=2)<1?.5*r*r*r*r*r:.5*((r-=2)*r*r*r*r+2)};n.exports=T},17868:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return--r*r*r*r*r+1};n.exports=T},35248:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={In:r(87745),Out:r(17868),InOut:r(16509)}},80461:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r===0?0:r===1?1:1-Math.cos(r*Math.PI/2)};n.exports=T},34025:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r===0?0:r===1?1:.5*(1-Math.cos(Math.PI*r))};n.exports=T},52768:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r===0?0:r===1?1:Math.sin(r*Math.PI/2)};n.exports=T},82500:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={In:r(80461),Out:r(52768),InOut:r(34025)}},72251:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return o===void 0&&(o=1),r<=0?0:r>=1?1:((o*r|0)+1)*(1/o)};n.exports=T},49752:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports=r(72251)},75698:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return o===void 0&&(o=1e-4),Math.ceil(r-o)};n.exports=T},43855:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){return x===void 0&&(x=1e-4),Math.abs(r-o)<x};n.exports=T},25777:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return o===void 0&&(o=1e-4),Math.floor(r+o)};n.exports=T},5470:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){return x===void 0&&(x=1e-4),r>o-x};n.exports=T},94977:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){return x===void 0&&(x=1e-4),r<o+x};n.exports=T},48379:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Ceil:r(75698),Equal:r(43855),Floor:r(25777),GreaterThan:r(5470),LessThan:r(94977)}},75508:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(36383),x=r(79291),d={Angle:r(25588),Distance:r(50994),Easing:r(48820),Fuzzy:r(48379),Interpolation:r(38289),Pow2:r(49001),Snap:r(73697),RandomDataGenerator:r(28453),Average:r(53307),Bernstein:r(85710),Between:r(30976),CatmullRom:r(87842),CeilTo:r(26302),Clamp:r(45319),DegToRad:r(39506),Difference:r(61241),Euler:r(38857),Factorial:r(6411),FloatBetween:r(99472),FloorTo:r(77623),FromPercent:r(62945),GetSpeed:r(38265),IsEven:r(78702),IsEvenStrict:r(94883),Linear:r(28915),LinearXY:r(94908),MaxAdd:r(86883),Median:r(50040),MinSub:r(37204),Percent:r(65201),RadToDeg:r(43396),RandomXY:r(74362),RandomXYZ:r(60706),RandomXYZW:r(67421),Rotate:r(36305),RotateAround:r(11520),RotateAroundDistance:r(1163),RotateTo:r(70336),RoundAwayFromZero:r(2284),RoundTo:r(41013),SinCosTableGenerator:r(16922),SmootherStep:r(54261),SmoothStep:r(7602),ToXY:r(44408),TransformXY:r(85955),Within:r(60417),Wrap:r(15994),Vector2:r(26099),Vector3:r(25836),Vector4:r(61369),Matrix3:r(94434),Matrix4:r(37867),Quaternion:r(15746),RotateVec3:r(72678)};d=x(!1,d,o),n.exports=d},89318:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(85710),x=function(d,h){for(var l=0,a=d.length-1,f=0;f<=a;f++)l+=Math.pow(1-h,a-f)*Math.pow(h,f)*d[f]*o(a,f);return l};n.exports=x},77259:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(87842),x=function(d,h){var l=d.length-1,a=l*h,f=Math.floor(a);return d[0]===d[l]?(h<0&&(f=Math.floor(a=l*(1+h))),o(a-f,d[(f-1+l)%l],d[f],d[(f+1)%l],d[(f+2)%l])):h<0?d[0]-(o(-a,d[0],d[0],d[1],d[1])-d[0]):h>1?d[l]-(o(a-l,d[l],d[l],d[l-1],d[l-1])-d[l]):o(a-f,d[f?f-1:0],d[f],d[l<f+1?l:f+1],d[l<f+2?l:f+2])};n.exports=x},36316:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function T(h,l){var a=1-h;return a*a*a*l}function r(h,l){var a=1-h;return 3*a*a*h*l}function o(h,l){return 3*(1-h)*h*h*l}function x(h,l){return h*h*h*l}var d=function(h,l,a,f,c){return T(h,l)+r(h,a)+o(h,f)+x(h,c)};n.exports=d},28392:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(28915),x=function(d,h){var l=d.length-1,a=l*h,f=Math.floor(a);return h<0?o(d[0],d[1],a):h>1?o(d[l],d[l-1],l-a):o(d[f],d[f+1>l?l:f+1],a-f)};n.exports=x},32112:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function T(d,h){var l=1-d;return l*l*h}function r(d,h){return 2*(1-d)*d*h}function o(d,h){return d*d*h}var x=function(d,h,l,a){return T(d,h)+r(d,l)+o(d,a)};n.exports=x},47235:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(7602),x=function(d,h,l){return h+(l-h)*o(d,0,1)};n.exports=x},50178:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(54261),x=function(d,h,l){return h+(l-h)*o(d,0,1)};n.exports=x},38289:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Bezier:r(89318),CatmullRom:r(77259),CubicBezier:r(36316),Linear:r(28392),QuadraticBezier:r(32112),SmoothStep:r(47235),SmootherStep:r(50178)}},98439:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){var o=Math.log(r)/.6931471805599453;return 1<<Math.ceil(o)};n.exports=T},50030:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return r>0&&(r&r-1)===0&&o>0&&(o&o-1)===0};n.exports=T},81230:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r>0&&(r&r-1)===0};n.exports=T},49001:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={GetNext:r(98439),IsSize:r(50030),IsValue:r(81230)}},28453:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=new o({initialize:function(h){h===void 0&&(h=[(Date.now()*Math.random()).toString()]),this.c=1,this.s0=0,this.s1=0,this.s2=0,this.n=0,this.signs=[-1,1],h&&this.init(h)},rnd:function(){var d=2091639*this.s0+this.c*23283064365386963e-26;return this.c=d|0,this.s0=this.s1,this.s1=this.s2,this.s2=d-this.c,this.s2},hash:function(d){var h,l=this.n;d=d.toString();for(var a=0;a<d.length;a++)l+=d.charCodeAt(a),h=.02519603282416938*l,l=h>>>0,h-=l,h*=l,l=h>>>0,h-=l,l+=h*4294967296;return this.n=l,(l>>>0)*23283064365386963e-26},init:function(d){typeof d=="string"?this.state(d):this.sow(d)},sow:function(d){if(this.n=4022871197,this.s0=this.hash(" "),this.s1=this.hash(" "),this.s2=this.hash(" "),this.c=1,!!d)for(var h=0;h<d.length&&d[h]!=null;h++){var l=d[h];this.s0-=this.hash(l),this.s0+=~~(this.s0<0),this.s1-=this.hash(l),this.s1+=~~(this.s1<0),this.s2-=this.hash(l),this.s2+=~~(this.s2<0)}},integer:function(){return this.rnd()*4294967296},frac:function(){return this.rnd()+(this.rnd()*2097152|0)*11102230246251565e-32},real:function(){return this.integer()+this.frac()},integerInRange:function(d,h){return Math.floor(this.realInRange(0,h-d+1)+d)},between:function(d,h){return Math.floor(this.realInRange(0,h-d+1)+d)},realInRange:function(d,h){return this.frac()*(h-d)+d},normal:function(){return 1-2*this.frac()},uuid:function(){var d="",h="";for(h=d="";d++<36;h+=~d%5|d*3&4?(d^15?8^this.frac()*(d^20?16:4):4).toString(16):"-");return h},pick:function(d){return d[this.integerInRange(0,d.length-1)]},sign:function(){return this.pick(this.signs)},weightedPick:function(d){return d[~~(Math.pow(this.frac(),2)*(d.length-.5)+.5)]},timestamp:function(d,h){return this.realInRange(d||9466848e5,h||1577862e6)},angle:function(){return this.integerInRange(-180,180)},rotation:function(){return this.realInRange(-3.1415926,3.1415926)},state:function(d){return typeof d=="string"&&d.match(/^!rnd/)&&(d=d.split(","),this.c=parseFloat(d[1]),this.s0=parseFloat(d[2]),this.s1=parseFloat(d[3]),this.s2=parseFloat(d[4])),["!rnd",this.c,this.s0,this.s1,this.s2].join(",")},shuffle:function(d){for(var h=d.length-1,l=h;l>0;l--){var a=Math.floor(this.frac()*(l+1)),f=d[a];d[a]=d[l],d[l]=f}return d}});n.exports=x},63448:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d){return x===void 0&&(x=0),o===0?r:(r-=x,r=o*Math.ceil(r/o),d?(x+r)/o:x+r)};n.exports=T},56583:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d){return x===void 0&&(x=0),o===0?r:(r-=x,r=o*Math.floor(r/o),d?(x+r)/o:x+r)};n.exports=T},77720:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d){return x===void 0&&(x=0),o===0?r:(r-=x,r=o*Math.round(r/o),d?(x+r)/o:x+r)};n.exports=T},73697:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Ceil:r(63448),Floor:r(56583),To:r(77720)}},85454:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r(63595);var o=r(8054),x=r(79291),d={Actions:r(61061),Animations:r(60421),BlendModes:r(10312),Cache:r(83388),Cameras:r(26638),Core:r(42857),Class:r(83419),Create:r(15822),Curves:r(25410),Data:r(44965),Display:r(27460),DOM:r(84902),Events:r(93055),FX:r(66064),Game:r(50127),GameObjects:r(77856),Geom:r(55738),Input:r(14350),Loader:r(57777),Math:r(75508),Physics:r(44563),Plugins:r(18922),Renderer:r(36909),Scale:r(93364),ScaleModes:r(29795),Scene:r(97482),Scenes:r(62194),Structs:r(41392),Textures:r(27458),Tilemaps:r(62501),Time:r(90291),Tweens:r(43066),Utils:r(91799)};d.Sound=r(23717),d=x(!1,d,o),n.exports=d,r.g.Phaser=d},71289:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(92209),d=r(88571),h=new o({Extends:d,Mixins:[x.Acceleration,x.Angular,x.Bounce,x.Collision,x.Debug,x.Drag,x.Enable,x.Friction,x.Gravity,x.Immovable,x.Mass,x.Pushable,x.Size,x.Velocity],initialize:function(a,f,c,u,v){d.call(this,a,f,c,u,v),this.body=null}});n.exports=h},86689:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(39506),d=r(20339),h=r(89774),l=r(66022),a=r(95540),f=r(46975),c=r(72441),u=r(47956),v=r(37277),g=r(44594),m=r(26099),y=r(82248),C=new o({initialize:function(w){this.scene=w,this.systems=w.sys,this.config=this.getConfig(),this.world,this.add,this._category=1,w.sys.events.once(g.BOOT,this.boot,this),w.sys.events.on(g.START,this.start,this)},boot:function(){this.world=new y(this.scene,this.config),this.add=new l(this.world),this.systems.events.once(g.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new y(this.scene,this.config),this.add=new l(this.world));var P=this.systems.events;a(this.config,"customUpdate",!1)||P.on(g.UPDATE,this.world.update,this.world),P.on(g.POST_UPDATE,this.world.postUpdate,this.world),P.once(g.SHUTDOWN,this.shutdown,this)},enableUpdate:function(){this.systems.events.on(g.UPDATE,this.world.update,this.world)},disableUpdate:function(){this.systems.events.off(g.UPDATE,this.world.update,this.world)},getConfig:function(){var P=this.systems.game.config.physics,w=this.systems.settings.physics,M=f(a(w,"arcade",{}),a(P,"arcade",{}));return M},nextCategory:function(){return this._category=this._category<<1,this._category},overlap:function(P,w,M,R,A){return M===void 0&&(M=null),R===void 0&&(R=null),A===void 0&&(A=M),this.world.collideObjects(P,w,M,R,A,!0)},collide:function(P,w,M,R,A){return M===void 0&&(M=null),R===void 0&&(R=null),A===void 0&&(A=M),this.world.collideObjects(P,w,M,R,A,!1)},collideTiles:function(P,w,M,R,A){return this.world.collideTiles(P,w,M,R,A)},overlapTiles:function(P,w,M,R,A){return this.world.overlapTiles(P,w,M,R,A)},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},accelerateTo:function(P,w,M,R,A,L){R===void 0&&(R=60);var F=Math.atan2(M-P.y,w-P.x);return P.body.acceleration.setToPolar(F,R),A!==void 0&&L!==void 0&&P.body.maxVelocity.set(A,L),F},accelerateToObject:function(P,w,M,R,A){return this.accelerateTo(P,w.x,w.y,M,R,A)},closest:function(P,w){w||(w=this.world.bodies.entries);for(var M=Number.MAX_VALUE,R=null,A=P.x,L=P.y,F=w.length,G=0;G<F;G++){var I=w[G],B=I.body||I;if(!(P===I||P===B||P===B.gameObject||P===B.center)){var k=h(A,L,B.center.x,B.center.y);k<M&&(R=I,M=k)}}return R},furthest:function(P,w){w||(w=this.world.bodies.entries);for(var M=-1,R=null,A=P.x,L=P.y,F=w.length,G=0;G<F;G++){var I=w[G],B=I.body||I;if(!(P===I||P===B||P===B.gameObject||P===B.center)){var k=h(A,L,B.center.x,B.center.y);k>M&&(R=I,M=k)}}return R},moveTo:function(P,w,M,R,A){R===void 0&&(R=60),A===void 0&&(A=0);var L=Math.atan2(M-P.y,w-P.x);return A>0&&(R=d(P.x,P.y,w,M)/(A/1e3)),P.body.velocity.setToPolar(L,R),L},moveToObject:function(P,w,M,R){return this.moveTo(P,w.x,w.y,M,R)},velocityFromAngle:function(P,w,M){return w===void 0&&(w=60),M===void 0&&(M=new m),M.setToPolar(x(P),w)},velocityFromRotation:function(P,w,M){return w===void 0&&(w=60),M===void 0&&(M=new m),M.setToPolar(P,w)},overlapRect:function(P,w,M,R,A,L){return u(this.world,P,w,M,R,A,L)},overlapCirc:function(P,w,M,R,A){return c(this.world,P,w,M,R,A)},shutdown:function(){if(this.world){var P=this.systems.events;P.off(g.UPDATE,this.world.update,this.world),P.off(g.POST_UPDATE,this.world.postUpdate,this.world),P.off(g.SHUTDOWN,this.shutdown,this),this.add.destroy(),this.world.destroy(),this.add=null,this.world=null,this._category=1}},destroy:function(){this.shutdown(),this.scene.sys.events.off(g.START,this.start,this),this.scene=null,this.systems=null}});v.register("ArcadePhysics",C,"arcadePhysics"),n.exports=C},13759:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(92209),d=r(68287),h=new o({Extends:d,Mixins:[x.Acceleration,x.Angular,x.Bounce,x.Collision,x.Debug,x.Drag,x.Enable,x.Friction,x.Gravity,x.Immovable,x.Mass,x.Pushable,x.Size,x.Velocity],initialize:function(a,f,c,u,v){d.call(this,a,f,c,u,v),this.body=null}});n.exports=h},37742:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(78389),d=r(37747),h=r(63012),l=r(43396),a=r(87841),f=r(37303),c=r(95829),u=r(26099),v=new o({Mixins:[x],initialize:function(m,y){var C=64,P=64,w={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},M=y!==void 0;M&&y.displayWidth&&(C=y.displayWidth,P=y.displayHeight),M||(y=w),this.world=m,this.gameObject=M?y:void 0,this.isBody=!0,this.transform={x:y.x,y:y.y,rotation:y.angle,scaleX:y.scaleX,scaleY:y.scaleY,displayOriginX:y.displayOriginX,displayOriginY:y.displayOriginY},this.debugShowBody=m.defaults.debugShowBody,this.debugShowVelocity=m.defaults.debugShowVelocity,this.debugBodyColor=m.defaults.bodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new u,this.position=new u(y.x-y.scaleX*y.displayOriginX,y.y-y.scaleY*y.displayOriginY),this.prev=this.position.clone(),this.prevFrame=this.position.clone(),this.allowRotation=!0,this.rotation=y.angle,this.preRotation=y.angle,this.width=C,this.height=P,this.sourceWidth=C,this.sourceHeight=P,y.frame&&(this.sourceWidth=y.frame.realWidth,this.sourceHeight=y.frame.realHeight),this.halfWidth=Math.abs(C/2),this.halfHeight=Math.abs(P/2),this.center=new u(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=new u,this.newVelocity=new u,this.deltaMax=new u,this.acceleration=new u,this.allowDrag=!0,this.drag=new u,this.allowGravity=!0,this.gravity=new u,this.bounce=new u,this.worldBounce=null,this.customBoundsRectangle=m.bounds,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.maxVelocity=new u(1e4,1e4),this.maxSpeed=-1,this.friction=new u(1,0),this.useDamping=!1,this.angularVelocity=0,this.angularAcceleration=0,this.angularDrag=0,this.maxAngular=1e3,this.mass=1,this.angle=0,this.speed=0,this.facing=d.FACING_NONE,this.immovable=!1,this.pushable=!0,this.slideFactor=new u(1,1),this.moves=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=c(!1),this.touching=c(!0),this.wasTouching=c(!0),this.blocked=c(!0),this.syncBounds=!1,this.physicsType=d.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._sx=y.scaleX,this._sy=y.scaleY,this._dx=0,this._dy=0,this._tx=0,this._ty=0,this._bounds=new a,this.directControl=!1,this.autoFrame=this.position.clone()},updateBounds:function(){var g=this.gameObject,m=this.transform;if(g.parentContainer){var y=g.getWorldTransformMatrix(this.world._tempMatrix,this.world._tempMatrix2);m.x=y.tx,m.y=y.ty,m.rotation=l(y.rotation),m.scaleX=y.scaleX,m.scaleY=y.scaleY,m.displayOriginX=g.displayOriginX,m.displayOriginY=g.displayOriginY}else m.x=g.x,m.y=g.y,m.rotation=g.angle,m.scaleX=g.scaleX,m.scaleY=g.scaleY,m.displayOriginX=g.displayOriginX,m.displayOriginY=g.displayOriginY;var C=!1;if(this.syncBounds){var P=g.getBounds(this._bounds);this.width=P.width,this.height=P.height,C=!0}else{var w=Math.abs(m.scaleX),M=Math.abs(m.scaleY);(this._sx!==w||this._sy!==M)&&(this.width=this.sourceWidth*w,this.height=this.sourceHeight*M,this._sx=w,this._sy=M,C=!0)}C&&(this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter())},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},updateFromGameObject:function(){this.updateBounds();var g=this.transform;this.position.x=g.x+g.scaleX*(this.offset.x-g.displayOriginX),this.position.y=g.y+g.scaleY*(this.offset.y-g.displayOriginY),this.updateCenter()},resetFlags:function(g){g===void 0&&(g=!1);var m=this.wasTouching,y=this.touching,C=this.blocked;g?c(!0,m):(m.none=y.none,m.up=y.up,m.down=y.down,m.left=y.left,m.right=y.right),c(!0,y),c(!0,C),this.overlapR=0,this.overlapX=0,this.overlapY=0,this.embedded=!1},preUpdate:function(g,m){if(g&&this.resetFlags(),this.gameObject&&this.updateFromGameObject(),this.rotation=this.transform.rotation,this.preRotation=this.rotation,this.moves){var y=this.position;this.prev.x=y.x,this.prev.y=y.y,this.prevFrame.x=y.x,this.prevFrame.y=y.y}g&&this.update(m)},update:function(g){var m=this.prev,y=this.position,C=this.velocity;if(m.set(y.x,y.y),!this.moves){this._dx=y.x-m.x,this._dy=y.y-m.y;return}if(this.directControl){var P=this.autoFrame;C.set((y.x-P.x)/g,(y.y-P.y)/g),this.world.updateMotion(this,g),this._dx=y.x-P.x,this._dy=y.y-P.y}else this.world.updateMotion(this,g),this.newVelocity.set(C.x*g,C.y*g),y.add(this.newVelocity),this._dx=y.x-m.x,this._dy=y.y-m.y;var w=C.x,M=C.y;if(this.updateCenter(),this.angle=Math.atan2(M,w),this.speed=Math.sqrt(w*w+M*M),this.collideWorldBounds&&this.checkWorldBounds()&&this.onWorldBounds){var R=this.blocked;this.world.emit(h.WORLD_BOUNDS,this,R.up,R.down,R.left,R.right)}},postUpdate:function(){var g=this.position,m=g.x-this.prevFrame.x,y=g.y-this.prevFrame.y,C=this.gameObject;if(this.moves){var P=this.deltaMax.x,w=this.deltaMax.y;P!==0&&m!==0&&(m<0&&m<-P?m=-P:m>0&&m>P&&(m=P)),w!==0&&y!==0&&(y<0&&y<-w?y=-w:y>0&&y>w&&(y=w)),C&&(C.x+=m,C.y+=y)}m<0?this.facing=d.FACING_LEFT:m>0&&(this.facing=d.FACING_RIGHT),y<0?this.facing=d.FACING_UP:y>0&&(this.facing=d.FACING_DOWN),this.allowRotation&&C&&(C.angle+=this.deltaZ()),this._tx=m,this._ty=y,this.autoFrame.set(g.x,g.y)},setBoundsRectangle:function(g){return this.customBoundsRectangle=g||this.world.bounds,this},checkWorldBounds:function(){var g=this.position,m=this.velocity,y=this.blocked,C=this.customBoundsRectangle,P=this.world.checkCollision,w=this.worldBounce?-this.worldBounce.x:-this.bounce.x,M=this.worldBounce?-this.worldBounce.y:-this.bounce.y,R=!1;return g.x<C.x&&P.left?(g.x=C.x,m.x*=w,y.left=!0,R=!0):this.right>C.right&&P.right&&(g.x=C.right-this.width,m.x*=w,y.right=!0,R=!0),g.y<C.y&&P.up?(g.y=C.y,m.y*=M,y.up=!0,R=!0):this.bottom>C.bottom&&P.down&&(g.y=C.bottom-this.height,m.y*=M,y.down=!0,R=!0),R&&(this.blocked.none=!1,this.updateCenter()),R},setOffset:function(g,m){return m===void 0&&(m=g),this.offset.set(g,m),this},setGameObject:function(g,m){if(m===void 0&&(m=!0),!g||!g.hasTransformComponent)return this;var y=this.world;return this.gameObject&&this.gameObject.body&&(y.disable(this.gameObject),this.gameObject.body=null),g.body&&y.disable(g),this.gameObject=g,g.body=this,this.setSize(),this.enable=m,this},setSize:function(g,m,y){y===void 0&&(y=!0);var C=this.gameObject;if(C&&(!g&&C.frame&&(g=C.frame.realWidth),!m&&C.frame&&(m=C.frame.realHeight)),this.sourceWidth=g,this.sourceHeight=m,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter(),y&&C&&C.getCenter){var P=(C.width-g)/2,w=(C.height-m)/2;this.offset.set(P,w)}return this.isCircle=!1,this.radius=0,this},setCircle:function(g,m,y){return m===void 0&&(m=this.offset.x),y===void 0&&(y=this.offset.y),g>0?(this.isCircle=!0,this.radius=g,this.sourceWidth=g*2,this.sourceHeight=g*2,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(m,y),this.updateCenter()):this.isCircle=!1,this},reset:function(g,m){this.stop();var y=this.gameObject;y&&(y.setPosition(g,m),this.rotation=y.angle,this.preRotation=y.angle);var C=this.position;y&&y.getTopLeft?y.getTopLeft(C):C.set(g,m),this.prev.copy(C),this.prevFrame.copy(C),this.autoFrame.copy(C),y&&this.updateBounds(),this.updateCenter(),this.collideWorldBounds&&this.checkWorldBounds(),this.resetFlags(!0)},stop:function(){return this.velocity.set(0),this.acceleration.set(0),this.speed=0,this.angularVelocity=0,this.angularAcceleration=0,this},getBounds:function(g){return g.x=this.x,g.y=this.y,g.right=this.right,g.bottom=this.bottom,g},hitTest:function(g,m){if(!this.isCircle)return f(this,g,m);if(this.radius>0&&g>=this.left&&g<=this.right&&m>=this.top&&m<=this.bottom){var y=(this.center.x-g)*(this.center.x-g),C=(this.center.y-m)*(this.center.y-m);return y+C<=this.radius*this.radius}return!1},onFloor:function(){return this.blocked.down},onCeiling:function(){return this.blocked.up},onWall:function(){return this.blocked.left||this.blocked.right},deltaAbsX:function(){return this._dx>0?this._dx:-this._dx},deltaAbsY:function(){return this._dy>0?this._dy:-this._dy},deltaX:function(){return this._dx},deltaY:function(){return this._dy},deltaXFinal:function(){return this._tx},deltaYFinal:function(){return this._ty},deltaZ:function(){return this.rotation-this.preRotation},destroy:function(){this.enable=!1,this.world&&this.world.pendingDestroy.set(this)},drawDebug:function(g){var m=this.position,y=m.x+this.halfWidth,C=m.y+this.halfHeight;this.debugShowBody&&(g.lineStyle(g.defaultStrokeWidth,this.debugBodyColor),this.isCircle?g.strokeCircle(y,C,this.width/2):(this.checkCollision.up&&g.lineBetween(m.x,m.y,m.x+this.width,m.y),this.checkCollision.right&&g.lineBetween(m.x+this.width,m.y,m.x+this.width,m.y+this.height),this.checkCollision.down&&g.lineBetween(m.x,m.y+this.height,m.x+this.width,m.y+this.height),this.checkCollision.left&&g.lineBetween(m.x,m.y,m.x,m.y+this.height))),this.debugShowVelocity&&(g.lineStyle(g.defaultStrokeWidth,this.world.defaults.velocityDebugColor,1),g.lineBetween(y,C,y+this.velocity.x/2,C+this.velocity.y/2))},willDrawDebug:function(){return this.debugShowBody||this.debugShowVelocity},setDirectControl:function(g){return g===void 0&&(g=!0),this.directControl=g,this},setCollideWorldBounds:function(g,m,y,C){g===void 0&&(g=!0),this.collideWorldBounds=g;var P=m!==void 0,w=y!==void 0;return(P||w)&&(this.worldBounce||(this.worldBounce=new u),P&&(this.worldBounce.x=m),w&&(this.worldBounce.y=y)),C!==void 0&&(this.onWorldBounds=C),this},setVelocity:function(g,m){return this.velocity.set(g,m),g=this.velocity.x,m=this.velocity.y,this.speed=Math.sqrt(g*g+m*m),this},setVelocityX:function(g){return this.setVelocity(g,this.velocity.y)},setVelocityY:function(g){return this.setVelocity(this.velocity.x,g)},setMaxVelocity:function(g,m){return this.maxVelocity.set(g,m),this},setMaxVelocityX:function(g){return this.maxVelocity.x=g,this},setMaxVelocityY:function(g){return this.maxVelocity.y=g,this},setMaxSpeed:function(g){return this.maxSpeed=g,this},setSlideFactor:function(g,m){return this.slideFactor.set(g,m),this},setBounce:function(g,m){return this.bounce.set(g,m),this},setBounceX:function(g){return this.bounce.x=g,this},setBounceY:function(g){return this.bounce.y=g,this},setAcceleration:function(g,m){return this.acceleration.set(g,m),this},setAccelerationX:function(g){return this.acceleration.x=g,this},setAccelerationY:function(g){return this.acceleration.y=g,this},setAllowDrag:function(g){return g===void 0&&(g=!0),this.allowDrag=g,this},setAllowGravity:function(g){return g===void 0&&(g=!0),this.allowGravity=g,this},setAllowRotation:function(g){return g===void 0&&(g=!0),this.allowRotation=g,this},setDrag:function(g,m){return this.drag.set(g,m),this},setDamping:function(g){return this.useDamping=g,this},setDragX:function(g){return this.drag.x=g,this},setDragY:function(g){return this.drag.y=g,this},setGravity:function(g,m){return this.gravity.set(g,m),this},setGravityX:function(g){return this.gravity.x=g,this},setGravityY:function(g){return this.gravity.y=g,this},setFriction:function(g,m){return this.friction.set(g,m),this},setFrictionX:function(g){return this.friction.x=g,this},setFrictionY:function(g){return this.friction.y=g,this},setAngularVelocity:function(g){return this.angularVelocity=g,this},setAngularAcceleration:function(g){return this.angularAcceleration=g,this},setAngularDrag:function(g){return this.angularDrag=g,this},setMass:function(g){return this.mass=g,this},setImmovable:function(g){return g===void 0&&(g=!0),this.immovable=g,this},setEnable:function(g){return g===void 0&&(g=!0),this.enable=g,this},processX:function(g,m,y,C){this.x+=g,this.updateCenter(),m!==null&&(this.velocity.x=m*this.slideFactor.x);var P=this.blocked;y&&(P.left=!0,P.none=!1),C&&(P.right=!0,P.none=!1)},processY:function(g,m,y,C){this.y+=g,this.updateCenter(),m!==null&&(this.velocity.y=m*this.slideFactor.y);var P=this.blocked;y&&(P.up=!0,P.none=!1),C&&(P.down=!0,P.none=!1)},x:{get:function(){return this.position.x},set:function(g){this.position.x=g}},y:{get:function(){return this.position.y},set:function(g){this.position.y=g}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});n.exports=v},79342:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=new o({initialize:function(h,l,a,f,c,u,v){this.world=h,this.name="",this.active=!0,this.overlapOnly=l,this.object1=a,this.object2=f,this.collideCallback=c,this.processCallback=u,this.callbackContext=v},setName:function(d){return this.name=d,this},update:function(){this.world.collideObjects(this.object1,this.object2,this.collideCallback,this.processCallback,this.callbackContext,this.overlapOnly)},destroy:function(){this.world.removeCollider(this),this.active=!1,this.world=null,this.object1=null,this.object2=null,this.collideCallback=null,this.processCallback=null,this.callbackContext=null}});n.exports=x},66022:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(71289),x=r(13759),d=r(37742),h=r(83419),l=r(37747),a=r(60758),f=r(72624),c=r(71464),u=new h({initialize:function(g){this.world=g,this.scene=g.scene,this.sys=g.scene.sys},collider:function(v,g,m,y,C){return this.world.addCollider(v,g,m,y,C)},overlap:function(v,g,m,y,C){return this.world.addOverlap(v,g,m,y,C)},existing:function(v,g){var m=g?l.STATIC_BODY:l.DYNAMIC_BODY;return this.world.enableBody(v,m),v},staticImage:function(v,g,m,y){var C=new o(this.scene,v,g,m,y);return this.sys.displayList.add(C),this.world.enableBody(C,l.STATIC_BODY),C},image:function(v,g,m,y){var C=new o(this.scene,v,g,m,y);return this.sys.displayList.add(C),this.world.enableBody(C,l.DYNAMIC_BODY),C},staticSprite:function(v,g,m,y){var C=new x(this.scene,v,g,m,y);return this.sys.displayList.add(C),this.sys.updateList.add(C),this.world.enableBody(C,l.STATIC_BODY),C},sprite:function(v,g,m,y){var C=new x(this.scene,v,g,m,y);return this.sys.displayList.add(C),this.sys.updateList.add(C),this.world.enableBody(C,l.DYNAMIC_BODY),C},staticGroup:function(v,g){return this.sys.updateList.add(new c(this.world,this.world.scene,v,g))},group:function(v,g){return this.sys.updateList.add(new a(this.world,this.world.scene,v,g))},body:function(v,g,m,y){var C=new d(this.world);return C.position.set(v,g),m&&y&&C.setSize(m,y),this.world.add(C,l.DYNAMIC_BODY),C},staticBody:function(v,g,m,y){var C=new f(this.world);return C.position.set(v,g),m&&y&&C.setSize(m,y),this.world.add(C,l.STATIC_BODY),C},destroy:function(){this.world=null,this.scene=null,this.sys=null}});n.exports=u},79599:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){var o=0;if(!Array.isArray(r))o=r;else for(var x=0;x<r.length;x++)o|=r[x];return o};n.exports=T},64897:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(37747),x=function(d,h,l,a){var f=0,c=d.deltaAbsX()+h.deltaAbsX()+a;return d._dx===0&&h._dx===0?(d.embedded=!0,h.embedded=!0):d._dx>h._dx?(f=d.right-h.x,f>c&&!l||d.checkCollision.right===!1||h.checkCollision.left===!1?f=0:(d.touching.none=!1,d.touching.right=!0,h.touching.none=!1,h.touching.left=!0,h.physicsType===o.STATIC_BODY&&!l&&(d.blocked.none=!1,d.blocked.right=!0),d.physicsType===o.STATIC_BODY&&!l&&(h.blocked.none=!1,h.blocked.left=!0))):d._dx<h._dx&&(f=d.x-h.width-h.x,-f>c&&!l||d.checkCollision.left===!1||h.checkCollision.right===!1?f=0:(d.touching.none=!1,d.touching.left=!0,h.touching.none=!1,h.touching.right=!0,h.physicsType===o.STATIC_BODY&&!l&&(d.blocked.none=!1,d.blocked.left=!0),d.physicsType===o.STATIC_BODY&&!l&&(h.blocked.none=!1,h.blocked.right=!0))),d.overlapX=f,h.overlapX=f,f};n.exports=x},45170:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(37747),x=function(d,h,l,a){var f=0,c=d.deltaAbsY()+h.deltaAbsY()+a;return d._dy===0&&h._dy===0?(d.embedded=!0,h.embedded=!0):d._dy>h._dy?(f=d.bottom-h.y,f>c&&!l||d.checkCollision.down===!1||h.checkCollision.up===!1?f=0:(d.touching.none=!1,d.touching.down=!0,h.touching.none=!1,h.touching.up=!0,h.physicsType===o.STATIC_BODY&&!l&&(d.blocked.none=!1,d.blocked.down=!0),d.physicsType===o.STATIC_BODY&&!l&&(h.blocked.none=!1,h.blocked.up=!0))):d._dy<h._dy&&(f=d.y-h.bottom,-f>c&&!l||d.checkCollision.up===!1||h.checkCollision.down===!1?f=0:(d.touching.none=!1,d.touching.up=!0,h.touching.none=!1,h.touching.down=!0,h.physicsType===o.STATIC_BODY&&!l&&(d.blocked.none=!1,d.blocked.up=!0),d.physicsType===o.STATIC_BODY&&!l&&(h.blocked.none=!1,h.blocked.down=!0))),d.overlapY=f,h.overlapY=f,f};n.exports=x},60758:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(13759),x=r(83419),d=r(78389),h=r(37747),l=r(95540),a=r(26479),f=r(41212),c=new x({Extends:a,Mixins:[d],initialize:function(v,g,m,y){if(!m&&!y)y={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};else if(f(m))y=m,m=null,y.internalCreateCallback=this.createCallbackHandler,y.internalRemoveCallback=this.removeCallbackHandler;else if(Array.isArray(m)&&f(m[0])){var C=this;m.forEach(function(P){P.internalCreateCallback=C.createCallbackHandler,P.internalRemoveCallback=C.removeCallbackHandler,P.classType=l(P,"classType",o)}),y=null}else y={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};this.world=v,y&&(y.classType=l(y,"classType",o)),this.physicsType=h.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=2147483647,this.defaults={setCollideWorldBounds:l(y,"collideWorldBounds",!1),setBoundsRectangle:l(y,"customBoundsRectangle",null),setAccelerationX:l(y,"accelerationX",0),setAccelerationY:l(y,"accelerationY",0),setAllowDrag:l(y,"allowDrag",!0),setAllowGravity:l(y,"allowGravity",!0),setAllowRotation:l(y,"allowRotation",!0),setDamping:l(y,"useDamping",!1),setBounceX:l(y,"bounceX",0),setBounceY:l(y,"bounceY",0),setDragX:l(y,"dragX",0),setDragY:l(y,"dragY",0),setEnable:l(y,"enable",!0),setGravityX:l(y,"gravityX",0),setGravityY:l(y,"gravityY",0),setFrictionX:l(y,"frictionX",0),setFrictionY:l(y,"frictionY",0),setMaxSpeed:l(y,"maxSpeed",-1),setMaxVelocityX:l(y,"maxVelocityX",1e4),setMaxVelocityY:l(y,"maxVelocityY",1e4),setVelocityX:l(y,"velocityX",0),setVelocityY:l(y,"velocityY",0),setAngularVelocity:l(y,"angularVelocity",0),setAngularAcceleration:l(y,"angularAcceleration",0),setAngularDrag:l(y,"angularDrag",0),setMass:l(y,"mass",1),setImmovable:l(y,"immovable",!1)},a.call(this,g,m,y),this.type="PhysicsGroup"},createCallbackHandler:function(u){u.body||this.world.enableBody(u,h.DYNAMIC_BODY);var v=u.body;for(var g in this.defaults)v[g](this.defaults[g])},removeCallbackHandler:function(u){u.body&&this.world.disableBody(u)},setVelocity:function(u,v,g){g===void 0&&(g=0);for(var m=this.getChildren(),y=0;y<m.length;y++)m[y].body.velocity.set(u+y*g,v+y*g);return this},setVelocityX:function(u,v){v===void 0&&(v=0);for(var g=this.getChildren(),m=0;m<g.length;m++)g[m].body.velocity.x=u+m*v;return this},setVelocityY:function(u,v){v===void 0&&(v=0);for(var g=this.getChildren(),m=0;m<g.length;m++)g[m].body.velocity.y=u+m*v;return this}});n.exports=c},3017:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T,r,o,x,d,h,l,a,f,c,u,v,g,m,y,C,P,w=function(G,I,B){T=G,r=I;var k=T.velocity.x,U=r.velocity.x;return o=T.pushable,f=T._dx<0,c=T._dx>0,u=T._dx===0,y=Math.abs(T.right-r.x)<=Math.abs(r.right-T.x),l=U-k*T.bounce.x,x=r.pushable,v=r._dx<0,g=r._dx>0,m=r._dx===0,C=!y,a=k-U*r.bounce.x,P=Math.abs(B),M()},M=function(){return c&&y&&r.blocked.right?(T.processX(-P,l,!1,!0),1):f&&C&&r.blocked.left?(T.processX(P,l,!0),1):g&&C&&T.blocked.right?(r.processX(-P,a,!1,!0),2):v&&y&&T.blocked.left?(r.processX(P,a,!0),2):0},R=function(){var G=T.velocity.x,I=r.velocity.x,B=Math.sqrt(I*I*r.mass/T.mass)*(I>0?1:-1),k=Math.sqrt(G*G*T.mass/r.mass)*(G>0?1:-1),U=(B+k)*.5;return B-=U,k-=U,d=U+B*T.bounce.x,h=U+k*r.bounce.x,f&&C?A(0):v&&y?A(1):c&&y?A(2):g&&C?A(3):!1},A=function(G){if(o&&x)P*=.5,G===0||G===3?(T.processX(P,d),r.processX(-P,h)):(T.processX(-P,d),r.processX(P,h));else if(o&&!x)G===0||G===3?T.processX(P,l,!0):T.processX(-P,l,!1,!0);else if(!o&&x)G===0||G===3?r.processX(-P,a,!1,!0):r.processX(P,a,!0);else{var I=P*.5;G===0?m?(T.processX(P,0,!0),r.processX(0,null,!1,!0)):g?(T.processX(I,0,!0),r.processX(-I,0,!1,!0)):(T.processX(I,r.velocity.x,!0),r.processX(-I,null,!1,!0)):G===1?u?(T.processX(0,null,!1,!0),r.processX(P,0,!0)):c?(T.processX(-I,0,!1,!0),r.processX(I,0,!0)):(T.processX(-I,null,!1,!0),r.processX(I,T.velocity.x,!0)):G===2?m?(T.processX(-P,0,!1,!0),r.processX(0,null,!0)):v?(T.processX(-I,0,!1,!0),r.processX(I,0,!0)):(T.processX(-I,r.velocity.x,!1,!0),r.processX(I,null,!0)):G===3&&(u?(T.processX(0,null,!0),r.processX(-P,0,!1,!0)):f?(T.processX(I,0,!0),r.processX(-I,0,!1,!0)):(T.processX(I,r.velocity.y,!0),r.processX(-I,null,!1,!0)))}return!0},L=function(G){if(G===1?r.velocity.x=0:y?r.processX(P,a,!0):r.processX(-P,a,!1,!0),T.moves){var I=T.directControl?T.y-T.autoFrame.y:T.y-T.prev.y;r.y+=I*T.friction.y,r._dy=r.y-r.prev.y}},F=function(G){if(G===2?T.velocity.x=0:C?T.processX(P,l,!0):T.processX(-P,l,!1,!0),r.moves){var I=r.directControl?r.y-r.autoFrame.y:r.y-r.prev.y;T.y+=I*r.friction.y,T._dy=T.y-T.prev.y}};n.exports={BlockCheck:M,Check:R,Set:w,Run:A,RunImmovableBody1:L,RunImmovableBody2:F}},47962:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T,r,o,x,d,h,l,a,f,c,u,v,g,m,y,C,P,w=function(G,I,B){T=G,r=I;var k=T.velocity.y,U=r.velocity.y;return o=T.pushable,f=T._dy<0,c=T._dy>0,u=T._dy===0,y=Math.abs(T.bottom-r.y)<=Math.abs(r.bottom-T.y),l=U-k*T.bounce.y,x=r.pushable,v=r._dy<0,g=r._dy>0,m=r._dy===0,C=!y,a=k-U*r.bounce.y,P=Math.abs(B),M()},M=function(){return c&&y&&r.blocked.down?(T.processY(-P,l,!1,!0),1):f&&C&&r.blocked.up?(T.processY(P,l,!0),1):g&&C&&T.blocked.down?(r.processY(-P,a,!1,!0),2):v&&y&&T.blocked.up?(r.processY(P,a,!0),2):0},R=function(){var G=T.velocity.y,I=r.velocity.y,B=Math.sqrt(I*I*r.mass/T.mass)*(I>0?1:-1),k=Math.sqrt(G*G*T.mass/r.mass)*(G>0?1:-1),U=(B+k)*.5;return B-=U,k-=U,d=U+B*T.bounce.y,h=U+k*r.bounce.y,f&&C?A(0):v&&y?A(1):c&&y?A(2):g&&C?A(3):!1},A=function(G){if(o&&x)P*=.5,G===0||G===3?(T.processY(P,d),r.processY(-P,h)):(T.processY(-P,d),r.processY(P,h));else if(o&&!x)G===0||G===3?T.processY(P,l,!0):T.processY(-P,l,!1,!0);else if(!o&&x)G===0||G===3?r.processY(-P,a,!1,!0):r.processY(P,a,!0);else{var I=P*.5;G===0?m?(T.processY(P,0,!0),r.processY(0,null,!1,!0)):g?(T.processY(I,0,!0),r.processY(-I,0,!1,!0)):(T.processY(I,r.velocity.y,!0),r.processY(-I,null,!1,!0)):G===1?u?(T.processY(0,null,!1,!0),r.processY(P,0,!0)):c?(T.processY(-I,0,!1,!0),r.processY(I,0,!0)):(T.processY(-I,null,!1,!0),r.processY(I,T.velocity.y,!0)):G===2?m?(T.processY(-P,0,!1,!0),r.processY(0,null,!0)):v?(T.processY(-I,0,!1,!0),r.processY(I,0,!0)):(T.processY(-I,r.velocity.y,!1,!0),r.processY(I,null,!0)):G===3&&(u?(T.processY(0,null,!0),r.processY(-P,0,!1,!0)):f?(T.processY(I,0,!0),r.processY(-I,0,!1,!0)):(T.processY(I,r.velocity.y,!0),r.processY(-I,null,!1,!0)))}return!0},L=function(G){if(G===1?r.velocity.y=0:y?r.processY(P,a,!0):r.processY(-P,a,!1,!0),T.moves){var I=T.directControl?T.x-T.autoFrame.x:T.x-T.prev.x;r.x+=I*T.friction.x,r._dx=r.x-r.prev.x}},F=function(G){if(G===2?T.velocity.y=0:C?T.processY(P,l,!0):T.processY(-P,l,!1,!0),r.moves){var I=r.directControl?r.x-r.autoFrame.x:r.x-r.prev.x;T.x+=I*r.friction.x,T._dx=T.x-T.prev.x}};n.exports={BlockCheck:M,Check:R,Set:w,Run:A,RunImmovableBody1:L,RunImmovableBody2:F}},14087:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(64897),x=r(3017),d=function(h,l,a,f,c){c===void 0&&(c=o(h,l,a,f));var u=h.immovable,v=l.immovable;if(a||c===0||u&&v||h.customSeparateX||l.customSeparateX)return c!==0||h.embedded&&l.embedded;var g=x.Set(h,l,c);return!u&&!v?g>0?!0:x.Check():(u?x.RunImmovableBody1(g):v&&x.RunImmovableBody2(g),!0)};n.exports=d},89936:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(45170),x=r(47962),d=function(h,l,a,f,c){c===void 0&&(c=o(h,l,a,f));var u=h.immovable,v=l.immovable;if(a||c===0||u&&v||h.customSeparateY||l.customSeparateY)return c!==0||h.embedded&&l.embedded;var g=x.Set(h,l,c);return!u&&!v?g>0?!0:x.Check():(u?x.RunImmovableBody1(g):v&&x.RunImmovableBody2(g),!0)};n.exports=d},95829:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return o===void 0&&(o={}),o.none=r,o.up=!1,o.down=!1,o.left=!1,o.right=!1,r||(o.up=!0,o.down=!0,o.left=!0,o.right=!0),o};n.exports=T},72624:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(87902),x=r(83419),d=r(78389),h=r(37747),l=r(37303),a=r(95829),f=r(26099),c=new x({Mixins:[d],initialize:function(v,g){var m=64,y=64,C={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},P=g!==void 0;P&&g.displayWidth&&(m=g.displayWidth,y=g.displayHeight),P||(g=C),this.world=v,this.gameObject=P?g:void 0,this.isBody=!0,this.debugShowBody=v.defaults.debugShowStaticBody,this.debugBodyColor=v.defaults.staticBodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new f,this.position=new f(g.x-m*g.originX,g.y-y*g.originY),this.width=m,this.height=y,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center=new f(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=f.ZERO,this.allowGravity=!1,this.gravity=f.ZERO,this.bounce=f.ZERO,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.mass=1,this.immovable=!0,this.pushable=!1,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=a(!1),this.touching=a(!0),this.wasTouching=a(!0),this.blocked=a(!0),this.physicsType=h.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._dx=0,this._dy=0},setGameObject:function(u,v,g){if(v===void 0&&(v=!0),g===void 0&&(g=!0),!u||!u.hasTransformComponent)return this;var m=this.world;return this.gameObject&&this.gameObject.body&&(m.disable(this.gameObject),this.gameObject.body=null),u.body&&m.disable(u),this.gameObject=u,u.body=this,this.setSize(),v&&this.updateFromGameObject(),this.enable=g,this},updateFromGameObject:function(){this.world.staticTree.remove(this);var u=this.gameObject;return u.getTopLeft(this.position),this.width=u.displayWidth,this.height=u.displayHeight,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.world.staticTree.insert(this),this},setOffset:function(u,v){return v===void 0&&(v=u),this.world.staticTree.remove(this),this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(u,v),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this),this},setSize:function(u,v,g){g===void 0&&(g=!0);var m=this.gameObject;if(m&&m.frame&&(u||(u=m.frame.realWidth),v||(v=m.frame.realHeight)),this.world.staticTree.remove(this),this.width=u,this.height=v,this.halfWidth=Math.floor(u/2),this.halfHeight=Math.floor(v/2),g&&m&&m.getCenter){var y=m.displayWidth/2,C=m.displayHeight/2;this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(y-this.halfWidth,C-this.halfHeight),this.position.x+=this.offset.x,this.position.y+=this.offset.y}return this.updateCenter(),this.isCircle=!1,this.radius=0,this.world.staticTree.insert(this),this},setCircle:function(u,v,g){return v===void 0&&(v=this.offset.x),g===void 0&&(g=this.offset.y),u>0?(this.world.staticTree.remove(this),this.isCircle=!0,this.radius=u,this.width=u*2,this.height=u*2,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(v,g),this.updateCenter(),this.world.staticTree.insert(this)):this.isCircle=!1,this},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},reset:function(u,v){var g=this.gameObject;u===void 0&&(u=g.x),v===void 0&&(v=g.y),this.world.staticTree.remove(this),g.setPosition(u,v),g.getTopLeft(this.position),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this)},stop:function(){return this},getBounds:function(u){return u.x=this.x,u.y=this.y,u.right=this.right,u.bottom=this.bottom,u},hitTest:function(u,v){return this.isCircle?o(this,u,v):l(this,u,v)},postUpdate:function(){},deltaAbsX:function(){return 0},deltaAbsY:function(){return 0},deltaX:function(){return 0},deltaY:function(){return 0},deltaZ:function(){return 0},destroy:function(){this.enable=!1,this.world.pendingDestroy.set(this)},drawDebug:function(u){var v=this.position,g=v.x+this.halfWidth,m=v.y+this.halfHeight;this.debugShowBody&&(u.lineStyle(u.defaultStrokeWidth,this.debugBodyColor,1),this.isCircle?u.strokeCircle(g,m,this.width/2):u.strokeRect(v.x,v.y,this.width,this.height))},willDrawDebug:function(){return this.debugShowBody},setMass:function(u){return u<=0&&(u=.1),this.mass=u,this},x:{get:function(){return this.position.x},set:function(u){this.world.staticTree.remove(this),this.position.x=u,this.world.staticTree.insert(this)}},y:{get:function(){return this.position.y},set:function(u){this.world.staticTree.remove(this),this.position.y=u,this.world.staticTree.insert(this)}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});n.exports=c},71464:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(13759),x=r(83419),d=r(78389),h=r(37747),l=r(95540),a=r(26479),f=r(41212),c=new x({Extends:a,Mixins:[d],initialize:function(v,g,m,y){!m&&!y?y={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler,createMultipleCallback:this.createMultipleCallbackHandler,classType:o}:f(m)?(y=m,m=null,y.internalCreateCallback=this.createCallbackHandler,y.internalRemoveCallback=this.removeCallbackHandler,y.createMultipleCallback=this.createMultipleCallbackHandler,y.classType=l(y,"classType",o)):Array.isArray(m)&&f(m[0])?(y=m,m=null,y.forEach(function(C){C.internalCreateCallback=this.createCallbackHandler,C.internalRemoveCallback=this.removeCallbackHandler,C.createMultipleCallback=this.createMultipleCallbackHandler,C.classType=l(C,"classType",o)})):y={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler},this.world=v,this.physicsType=h.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,a.call(this,g,m,y),this.type="StaticPhysicsGroup"},createCallbackHandler:function(u){u.body||this.world.enableBody(u,h.STATIC_BODY)},removeCallbackHandler:function(u){u.body&&this.world.disableBody(u)},createMultipleCallbackHandler:function(){this.refresh()},refresh:function(){for(var u=this.children.entries,v=0;v<u.length;v++)u[v].body.reset();return this}});n.exports=c},82248:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(55495),x=r(37742),d=r(45319),h=r(83419),l=r(79342),a=r(37747),f=r(20339),c=r(52816),u=r(50792),v=r(63012),g=r(43855),m=r(5470),y=r(94977),C=r(64897),P=r(45170),w=r(96523),M=r(35154),R=r(36383),A=r(25774),L=r(96602),F=r(87841),G=r(59542),I=r(40012),B=r(14087),k=r(89936),U=r(35072),H=r(72624),X=r(2483),j=r(61340),J=r(26099),Y=r(15994),$=new h({Extends:u,initialize:function(V,K){u.call(this),this.scene=V,this.bodies=new U,this.staticBodies=new U,this.pendingDestroy=new U,this.colliders=new A,this.gravity=new J(M(K,"gravity.x",0),M(K,"gravity.y",0)),this.bounds=new F(M(K,"x",0),M(K,"y",0),M(K,"width",V.sys.scale.width),M(K,"height",V.sys.scale.height)),this.checkCollision={up:M(K,"checkCollision.up",!0),down:M(K,"checkCollision.down",!0),left:M(K,"checkCollision.left",!0),right:M(K,"checkCollision.right",!0)},this.fps=M(K,"fps",60),this.fixedStep=M(K,"fixedStep",!0),this._elapsed=0,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this.stepsLastFrame=0,this.timeScale=M(K,"timeScale",1),this.OVERLAP_BIAS=M(K,"overlapBias",4),this.TILE_BIAS=M(K,"tileBias",16),this.forceX=M(K,"forceX",!1),this.isPaused=M(K,"isPaused",!1),this._total=0,this.drawDebug=M(K,"debug",!1),this.debugGraphic,this.defaults={debugShowBody:M(K,"debugShowBody",!0),debugShowStaticBody:M(K,"debugShowStaticBody",!0),debugShowVelocity:M(K,"debugShowVelocity",!0),bodyDebugColor:M(K,"debugBodyColor",16711935),staticBodyDebugColor:M(K,"debugStaticBodyColor",255),velocityDebugColor:M(K,"debugVelocityColor",65280)},this.maxEntries=M(K,"maxEntries",16),this.useTree=M(K,"useTree",!0),this.tree=new G(this.maxEntries),this.staticTree=new G(this.maxEntries),this.treeMinMax={minX:0,minY:0,maxX:0,maxY:0},this._tempMatrix=new j,this._tempMatrix2=new j,this.tileFilterOptions={isColliding:!0,isNotEmpty:!0,hasInterestingFace:!0},this.drawDebug&&this.createDebugGraphic()},enable:function(z,V){V===void 0&&(V=a.DYNAMIC_BODY),Array.isArray(z)||(z=[z]);for(var K=0;K<z.length;K++){var Q=z[K];if(Q.isParent)for(var _=Q.getChildren(),tt=0;tt<_.length;tt++){var rt=_[tt];rt.isParent?this.enable(rt,V):this.enableBody(rt,V)}else this.enableBody(Q,V)}},enableBody:function(z,V){return V===void 0&&(V=a.DYNAMIC_BODY),z.hasTransformComponent&&(z.body||(V===a.DYNAMIC_BODY?z.body=new x(this,z):V===a.STATIC_BODY&&(z.body=new H(this,z))),this.add(z.body)),z},add:function(z){return z.physicsType===a.DYNAMIC_BODY?this.bodies.set(z):z.physicsType===a.STATIC_BODY&&(this.staticBodies.set(z),this.staticTree.insert(z)),z.enable=!0,z},disable:function(z){Array.isArray(z)||(z=[z]);for(var V=0;V<z.length;V++){var K=z[V];if(K.isParent)for(var Q=K.getChildren(),_=0;_<Q.length;_++){var tt=Q[_];tt.isParent?this.disable(tt):this.disableBody(tt.body)}else this.disableBody(K.body)}},disableBody:function(z){this.remove(z),z.enable=!1},remove:function(z){z.physicsType===a.DYNAMIC_BODY?(this.tree.remove(z),this.bodies.delete(z)):z.physicsType===a.STATIC_BODY&&(this.staticBodies.delete(z),this.staticTree.remove(z))},createDebugGraphic:function(){var z=this.scene.sys.add.graphics({x:0,y:0});return z.setDepth(Number.MAX_VALUE),this.debugGraphic=z,this.drawDebug=!0,z},setBounds:function(z,V,K,Q,_,tt,rt,ot){return this.bounds.setTo(z,V,K,Q),_!==void 0&&this.setBoundsCollision(_,tt,rt,ot),this},setBoundsCollision:function(z,V,K,Q){return z===void 0&&(z=!0),V===void 0&&(V=!0),K===void 0&&(K=!0),Q===void 0&&(Q=!0),this.checkCollision.left=z,this.checkCollision.right=V,this.checkCollision.up=K,this.checkCollision.down=Q,this},pause:function(){return this.isPaused=!0,this.emit(v.PAUSE),this},resume:function(){return this.isPaused=!1,this.emit(v.RESUME),this},addCollider:function(z,V,K,Q,_){K===void 0&&(K=null),Q===void 0&&(Q=null),_===void 0&&(_=K);var tt=new l(this,!1,z,V,K,Q,_);return this.colliders.add(tt),tt},addOverlap:function(z,V,K,Q,_){K===void 0&&(K=null),Q===void 0&&(Q=null),_===void 0&&(_=K);var tt=new l(this,!0,z,V,K,Q,_);return this.colliders.add(tt),tt},removeCollider:function(z){return this.colliders.remove(z),this},setFPS:function(z){return this.fps=z,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this},update:function(z,V){if(!(this.isPaused||this.bodies.size===0)){var K,Q=this._frameTime,_=this._frameTimeMS*this.timeScale;this._elapsed+=V;var tt,rt=this.bodies.entries,ot=this._elapsed>=_;for(this.fixedStep||(Q=V*.001,ot=!0,this._elapsed=0),K=0;K<rt.length;K++)tt=rt[K],tt.enable&&tt.preUpdate(ot,Q);if(ot){this._elapsed-=_,this.stepsLastFrame=1,this.useTree&&(this.tree.clear(),this.tree.load(rt));var ft=this.colliders.update();for(K=0;K<ft.length;K++){var ct=ft[K];ct.active&&ct.update()}this.emit(v.WORLD_STEP,Q)}for(;this._elapsed>=_;)this._elapsed-=_,this.step(Q)}},step:function(z){var V,K,Q=this.bodies.entries,_=Q.length;for(V=0;V<_;V++)K=Q[V],K.enable&&K.update(z);this.useTree&&(this.tree.clear(),this.tree.load(Q));var tt=this.colliders.update();for(V=0;V<tt.length;V++){var rt=tt[V];rt.active&&rt.update()}this.emit(v.WORLD_STEP,z),this.stepsLastFrame++},singleStep:function(){this.update(0,this._frameTimeMS),this.postUpdate()},postUpdate:function(){var z,V,K=this.bodies.entries,Q=K.length,_=this.bodies,tt=this.staticBodies;if(this.stepsLastFrame)for(this.stepsLastFrame=0,z=0;z<Q;z++)V=K[z],V.enable&&V.postUpdate();if(this.drawDebug){var rt=this.debugGraphic;for(rt.clear(),z=0;z<Q;z++)V=K[z],V.willDrawDebug()&&V.drawDebug(rt);for(K=tt.entries,Q=K.length,z=0;z<Q;z++)V=K[z],V.willDrawDebug()&&V.drawDebug(rt)}var ot=this.pendingDestroy;if(ot.size>0){var ft=this.tree,ct=this.staticTree;for(K=ot.entries,Q=K.length,z=0;z<Q;z++)V=K[z],V.physicsType===a.DYNAMIC_BODY?(ft.remove(V),_.delete(V)):V.physicsType===a.STATIC_BODY&&(ct.remove(V),tt.delete(V)),V.world=void 0,V.gameObject=void 0;ot.clear()}},updateMotion:function(z,V){z.allowRotation&&this.computeAngularVelocity(z,V),this.computeVelocity(z,V)},computeAngularVelocity:function(z,V){var K=z.angularVelocity,Q=z.angularAcceleration,_=z.angularDrag,tt=z.maxAngular;Q?K+=Q*V:z.allowDrag&&_&&(_*=V,m(K-_,0,.1)?K-=_:y(K+_,0,.1)?K+=_:K=0),K=d(K,-tt,tt);var rt=K-z.angularVelocity;z.angularVelocity+=rt,z.rotation+=z.angularVelocity*V},computeVelocity:function(z,V){var K=z.velocity.x,Q=z.acceleration.x,_=z.drag.x,tt=z.maxVelocity.x,rt=z.velocity.y,ot=z.acceleration.y,ft=z.drag.y,ct=z.maxVelocity.y,gt=z.speed,xt=z.maxSpeed,wt=z.allowDrag,Tt=z.useDamping;z.allowGravity&&(K+=(this.gravity.x+z.gravity.x)*V,rt+=(this.gravity.y+z.gravity.y)*V),Q?K+=Q*V:wt&&_&&(Tt?(_=Math.pow(_,V),K*=_,gt=Math.sqrt(K*K+rt*rt),g(gt,0,.001)&&(K=0)):(_*=V,m(K-_,0,.01)?K-=_:y(K+_,0,.01)?K+=_:K=0)),ot?rt+=ot*V:wt&&ft&&(Tt?(ft=Math.pow(ft,V),rt*=ft,gt=Math.sqrt(K*K+rt*rt),g(gt,0,.001)&&(rt=0)):(ft*=V,m(rt-ft,0,.01)?rt-=ft:y(rt+ft,0,.01)?rt+=ft:rt=0)),K=d(K,-tt,tt),rt=d(rt,-ct,ct),z.velocity.set(K,rt),xt>-1&&z.velocity.length()>xt&&(z.velocity.normalize().scale(xt),gt=xt),z.speed=gt},separate:function(z,V,K,Q,_){var tt,rt,ot=!1,ft=!0;if(!z.enable||!V.enable||z.checkCollision.none||V.checkCollision.none||!this.intersects(z,V)||K&&K.call(Q,z.gameObject||z,V.gameObject||V)===!1)return ot;if(z.isCircle||V.isCircle){var ct=this.separateCircle(z,V,_);ct.result?(ot=!0,ft=!1):(tt=ct.x,rt=ct.y,ft=!0)}if(ft){var gt=!1,xt=!1,wt=this.OVERLAP_BIAS;_?(gt=B(z,V,_,wt,tt),xt=k(z,V,_,wt,rt)):this.forceX||Math.abs(this.gravity.y+z.gravity.y)<Math.abs(this.gravity.x+z.gravity.x)?(gt=B(z,V,_,wt,tt),this.intersects(z,V)&&(xt=k(z,V,_,wt,rt))):(xt=k(z,V,_,wt,rt),this.intersects(z,V)&&(gt=B(z,V,_,wt,tt))),ot=gt||xt}return ot&&(_?(z.onOverlap||V.onOverlap)&&this.emit(v.OVERLAP,z.gameObject,V.gameObject,z,V):(z.onCollide||V.onCollide)&&this.emit(v.COLLIDE,z.gameObject,V.gameObject,z,V)),ot},separateCircle:function(z,V,K){C(z,V,!1,0),P(z,V,!1,0);var Q=z.isCircle,_=V.isCircle,tt=z.center,rt=V.center,ot=z.immovable,ft=V.immovable,ct=z.velocity,gt=V.velocity,xt=0,wt=!0;if(Q!==_){wt=!1;var Tt=tt.x,Ht=tt.y,Xt=z.halfWidth,Kt=V.position.x,Pt=V.position.y,Nt=V.right,Vt=V.bottom;_&&(Tt=rt.x,Ht=rt.y,Xt=V.halfWidth,Kt=z.position.x,Pt=z.position.y,Nt=z.right,Vt=z.bottom),Ht<Pt?Tt<Kt?xt=f(Tt,Ht,Kt,Pt)-Xt:Tt>Nt&&(xt=f(Tt,Ht,Nt,Pt)-Xt):Ht>Vt&&(Tt<Kt?xt=f(Tt,Ht,Kt,Vt)-Xt:Tt>Nt&&(xt=f(Tt,Ht,Nt,Vt)-Xt)),xt*=-1}else xt=z.halfWidth+V.halfWidth-c(tt,rt);z.overlapR=xt,V.overlapR=xt;var ee=o(tt,rt),Ee=(xt+R.EPSILON)*Math.cos(ee),we=(xt+R.EPSILON)*Math.sin(ee),ve={overlap:xt,result:!1,x:Ee,y:we};if(K&&(!wt||wt&&xt!==0))return ve.result=!0,ve;if(!wt&&xt===0||ot&&ft||z.customSeparateX||V.customSeparateX)return ve.x=void 0,ve.y=void 0,ve;var Fe=!z.pushable&&!V.pushable;if(wt){var ai=tt.x-rt.x,Gt=tt.y-rt.y,Wt=Math.sqrt(Math.pow(ai,2)+Math.pow(Gt,2)),fe=(rt.x-tt.x)/Wt||0,xe=(rt.y-tt.y)/Wt||0,Ie=2*(ct.x*fe+ct.y*xe-gt.x*fe-gt.y*xe)/(z.mass+V.mass);(ot||ft||!z.pushable||!V.pushable)&&(Ie*=2),!ot&&z.pushable&&(ct.x=ct.x-Ie/z.mass*fe,ct.y=ct.y-Ie/z.mass*xe,ct.multiply(z.bounce)),!ft&&V.pushable&&(gt.x=gt.x+Ie/V.mass*fe,gt.y=gt.y+Ie/V.mass*xe,gt.multiply(V.bounce)),!ot&&!ft&&(Ee*=.5,we*=.5),(!ot||z.pushable||Fe)&&(z.x-=Ee,z.y-=we,z.updateCenter()),(!ft||V.pushable||Fe)&&(V.x+=Ee,V.y+=we,V.updateCenter()),ve.result=!0}else(!ot||z.pushable||Fe)&&(z.x-=Ee,z.y-=we,z.updateCenter()),(!ft||V.pushable||Fe)&&(V.x+=Ee,V.y+=we,V.updateCenter()),ve.x=void 0,ve.y=void 0;return ve},intersects:function(z,V){return z===V?!1:!z.isCircle&&!V.isCircle?!(z.right<=V.left||z.bottom<=V.top||z.left>=V.right||z.top>=V.bottom):z.isCircle?V.isCircle?c(z.center,V.center)<=z.halfWidth+V.halfWidth:this.circleBodyIntersects(z,V):this.circleBodyIntersects(V,z)},circleBodyIntersects:function(z,V){var K=d(z.center.x,V.left,V.right),Q=d(z.center.y,V.top,V.bottom),_=(z.center.x-K)*(z.center.x-K),tt=(z.center.y-Q)*(z.center.y-Q);return _+tt<=z.halfWidth*z.halfWidth},overlap:function(z,V,K,Q,_){return K===void 0&&(K=null),Q===void 0&&(Q=null),_===void 0&&(_=K),this.collideObjects(z,V,K,Q,_,!0)},collide:function(z,V,K,Q,_){return K===void 0&&(K=null),Q===void 0&&(Q=null),_===void 0&&(_=K),this.collideObjects(z,V,K,Q,_,!1)},collideObjects:function(z,V,K,Q,_,tt){var rt,ot;z.isParent&&(z.physicsType===void 0||V===void 0||z===V)&&(z=z.children.entries),V&&V.isParent&&V.physicsType===void 0&&(V=V.children.entries);var ft=Array.isArray(z),ct=Array.isArray(V);if(this._total=0,!ft&&!ct)this.collideHandler(z,V,K,Q,_,tt);else if(!ft&&ct)for(rt=0;rt<V.length;rt++)this.collideHandler(z,V[rt],K,Q,_,tt);else if(ft&&!ct)if(V)for(rt=0;rt<z.length;rt++)this.collideHandler(z[rt],V,K,Q,_,tt);else for(rt=0;rt<z.length;rt++){var gt=z[rt];for(ot=rt+1;ot<z.length;ot++)rt!==ot&&this.collideHandler(gt,z[ot],K,Q,_,tt)}else for(rt=0;rt<z.length;rt++)for(ot=0;ot<V.length;ot++)this.collideHandler(z[rt],V[ot],K,Q,_,tt);return this._total>0},collideHandler:function(z,V,K,Q,_,tt){if(V===void 0&&z.isParent)return this.collideGroupVsGroup(z,z,K,Q,_,tt);if(!z||!V)return!1;if(z.body||z.isBody){if(V.body||V.isBody)return this.collideSpriteVsSprite(z,V,K,Q,_,tt);if(V.isParent)return this.collideSpriteVsGroup(z,V,K,Q,_,tt);if(V.isTilemap)return this.collideSpriteVsTilemapLayer(z,V,K,Q,_,tt)}else if(z.isParent){if(V.body||V.isBody)return this.collideSpriteVsGroup(V,z,K,Q,_,tt);if(V.isParent)return this.collideGroupVsGroup(z,V,K,Q,_,tt);if(V.isTilemap)return this.collideGroupVsTilemapLayer(z,V,K,Q,_,tt)}else if(z.isTilemap){if(V.body||V.isBody)return this.collideSpriteVsTilemapLayer(V,z,K,Q,_,tt);if(V.isParent)return this.collideGroupVsTilemapLayer(V,z,K,Q,_,tt)}},canCollide:function(z,V){return z&&V&&(z.collisionMask&V.collisionCategory)!==0&&(V.collisionMask&z.collisionCategory)!==0},collideSpriteVsSprite:function(z,V,K,Q,_,tt){var rt=z.isBody?z:z.body,ot=V.isBody?V:V.body;return this.canCollide(rt,ot)?(this.separate(rt,ot,Q,_,tt)&&(K&&K.call(_,z,V),this._total++),!0):!1},collideSpriteVsGroup:function(z,V,K,Q,_,tt){var rt=z.isBody?z:z.body;if(!(V.getLength()===0||!rt||!rt.enable||rt.checkCollision.none||!this.canCollide(rt,V))){var ot,ft,ct;if(this.useTree||V.physicsType===a.STATIC_BODY){var gt=this.treeMinMax;gt.minX=rt.left,gt.minY=rt.top,gt.maxX=rt.right,gt.maxY=rt.bottom;var xt=V.physicsType===a.DYNAMIC_BODY?this.tree.search(gt):this.staticTree.search(gt);for(ft=xt.length,ot=0;ot<ft;ot++)ct=xt[ot],!(rt===ct||!ct.enable||ct.checkCollision.none||!V.contains(ct.gameObject))&&this.separate(rt,ct,Q,_,tt)&&(K&&K.call(_,rt.gameObject,ct.gameObject),this._total++)}else{var wt=V.getChildren(),Tt=V.children.entries.indexOf(z);for(ft=wt.length,ot=0;ot<ft;ot++)ct=wt[ot].body,!(!ct||ot===Tt||!ct.enable)&&this.separate(rt,ct,Q,_,tt)&&(K&&K.call(_,rt.gameObject,ct.gameObject),this._total++)}}},collideGroupVsTilemapLayer:function(z,V,K,Q,_,tt){if(!this.canCollide(z,V))return!1;var rt=z.getChildren();if(rt.length===0)return!1;for(var ot=!1,ft=0;ft<rt.length;ft++)(rt[ft].body||rt[ft].isBody)&&this.collideSpriteVsTilemapLayer(rt[ft],V,K,Q,_,tt)&&(ot=!0);return ot},collideTiles:function(z,V,K,Q,_){return V.length===0||z.body&&!z.body.enable||z.isBody&&!z.enable?!1:this.collideSpriteVsTilesHandler(z,V,K,Q,_,!1,!1)},overlapTiles:function(z,V,K,Q,_){return V.length===0||z.body&&!z.body.enable||z.isBody&&!z.enable?!1:this.collideSpriteVsTilesHandler(z,V,K,Q,_,!0,!1)},collideSpriteVsTilemapLayer:function(z,V,K,Q,_,tt){var rt=z.isBody?z:z.body;if(!rt.enable||rt.checkCollision.none||!this.canCollide(rt,V))return!1;var ot=V.layer,ft=rt.x-ot.tileWidth*V.scaleX,ct=rt.y-ot.tileHeight*V.scaleY,gt=rt.width+ot.tileWidth*V.scaleX,xt=rt.height+ot.tileHeight*V.scaleY,wt=tt?null:this.tileFilterOptions,Tt=w(ft,ct,gt,xt,wt,V.scene.cameras.main,V.layer);return Tt.length===0?!1:this.collideSpriteVsTilesHandler(z,Tt,K,Q,_,tt,!0)},collideSpriteVsTilesHandler:function(z,V,K,Q,_,tt,rt){for(var ot=z.isBody?z:z.body,ft,ct={left:0,right:0,top:0,bottom:0},gt,xt=!1,wt=0;wt<V.length;wt++){ft=V[wt],gt=ft.tilemapLayer;var Tt=gt.tileToWorldXY(ft.x,ft.y);ct.left=Tt.x,ct.top=Tt.y,ct.right=ct.left+ft.width*gt.scaleX,ct.bottom=ct.top+ft.height*gt.scaleY,X(ct,ot)&&(!Q||Q.call(_,z,ft))&&L(ft,z)&&(tt||I(wt,ot,ft,ct,gt,this.TILE_BIAS,rt))&&(this._total++,xt=!0,K&&K.call(_,z,ft),tt&&ot.onOverlap?this.emit(v.TILE_OVERLAP,z,ft,ot):ot.onCollide&&this.emit(v.TILE_COLLIDE,z,ft,ot))}return xt},collideGroupVsGroup:function(z,V,K,Q,_,tt){if(!(z.getLength()===0||V.getLength()===0||!this.canCollide(z,V)))for(var rt=z.getChildren(),ot=0;ot<rt.length;ot++)this.collideSpriteVsGroup(rt[ot],V,K,Q,_,tt)},wrap:function(z,V){z.body?this.wrapObject(z,V):z.getChildren?this.wrapArray(z.getChildren(),V):Array.isArray(z)?this.wrapArray(z,V):this.wrapObject(z,V)},wrapArray:function(z,V){for(var K=0;K<z.length;K++)this.wrapObject(z[K],V)},wrapObject:function(z,V){V===void 0&&(V=0),z.x=Y(z.x,this.bounds.left-V,this.bounds.right+V),z.y=Y(z.y,this.bounds.top-V,this.bounds.bottom+V)},shutdown:function(){this.tree.clear(),this.staticTree.clear(),this.bodies.clear(),this.staticBodies.clear(),this.colliders.destroy(),this.removeAllListeners()},destroy:function(){this.shutdown(),this.scene=null,this.debugGraphic&&(this.debugGraphic.destroy(),this.debugGraphic=null)}});n.exports=$},1093:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setAcceleration:function(r,o){return this.body.acceleration.set(r,o),this},setAccelerationX:function(r){return this.body.acceleration.x=r,this},setAccelerationY:function(r){return this.body.acceleration.y=r,this}};n.exports=T},59023:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setAngularVelocity:function(r){return this.body.angularVelocity=r,this},setAngularAcceleration:function(r){return this.body.angularAcceleration=r,this},setAngularDrag:function(r){return this.body.angularDrag=r,this}};n.exports=T},62069:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setBounce:function(r,o){return this.body.bounce.set(r,o),this},setBounceX:function(r){return this.body.bounce.x=r,this},setBounceY:function(r){return this.body.bounce.y=r,this},setCollideWorldBounds:function(r,o,x,d){return this.body.setCollideWorldBounds(r,o,x,d),this}};n.exports=T},78389:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(79599),x={setCollisionCategory:function(d){var h=this.body?this.body:this;return h.collisionCategory=d,this},willCollideWith:function(d){var h=this.body?this.body:this;return(h.collisionMask&d)!==0},addCollidesWith:function(d){var h=this.body?this.body:this;return h.collisionMask=h.collisionMask|d,this},removeCollidesWith:function(d){var h=this.body?this.body:this;return h.collisionMask=h.collisionMask&~d,this},setCollidesWith:function(d){var h=this.body?this.body:this;return h.collisionMask=o(d),this},resetCollisionCategory:function(){var d=this.body?this.body:this;return d.collisionCategory=1,d.collisionMask=2147483647,this}};n.exports=x},87118:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setDebug:function(r,o,x){return this.debugShowBody=r,this.debugShowVelocity=o,this.debugBodyColor=x,this},setDebugBodyColor:function(r){return this.body.debugBodyColor=r,this},debugShowBody:{get:function(){return this.body.debugShowBody},set:function(r){this.body.debugShowBody=r}},debugShowVelocity:{get:function(){return this.body.debugShowVelocity},set:function(r){this.body.debugShowVelocity=r}},debugBodyColor:{get:function(){return this.body.debugBodyColor},set:function(r){this.body.debugBodyColor=r}}};n.exports=T},52819:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setDrag:function(r,o){return this.body.drag.set(r,o),this},setDragX:function(r){return this.body.drag.x=r,this},setDragY:function(r){return this.body.drag.y=r,this},setDamping:function(r){return this.body.useDamping=r,this}};n.exports=T},4074:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setDirectControl:function(r){return this.body.setDirectControl(r),this},enableBody:function(r,o,x,d,h){return r&&this.body.reset(o,x),d&&(this.body.gameObject.active=!0),h&&(this.body.gameObject.visible=!0),this.body.enable=!0,this},disableBody:function(r,o){return r===void 0&&(r=!1),o===void 0&&(o=!1),this.body.stop(),this.body.enable=!1,r&&(this.body.gameObject.active=!1),o&&(this.body.gameObject.visible=!1),this},refreshBody:function(){return this.body.updateFromGameObject(),this}};n.exports=T},40831:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setFriction:function(r,o){return this.body.friction.set(r,o),this},setFrictionX:function(r){return this.body.friction.x=r,this},setFrictionY:function(r){return this.body.friction.y=r,this}};n.exports=T},26775:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setGravity:function(r,o){return this.body.gravity.set(r,o),this},setGravityX:function(r){return this.body.gravity.x=r,this},setGravityY:function(r){return this.body.gravity.y=r,this}};n.exports=T},9437:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setImmovable:function(r){return r===void 0&&(r=!0),this.body.immovable=r,this}};n.exports=T},30621:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setMass:function(r){return this.body.mass=r,this}};n.exports=T},72441:(n,T,r)=>{var o=r(47956),x=r(96503),d=r(2044),h=r(81491),l=function(a,f,c,u,v,g){var m=o(a,f-u,c-u,2*u,2*u,v,g);if(m.length===0)return m;for(var y=new x(f,c,u),C=new x,P=[],w=0;w<m.length;w++){var M=m[w];M.isCircle?(C.setTo(M.center.x,M.center.y,M.halfWidth),d(y,C)&&P.push(M)):h(y,M)&&P.push(M)}return P};n.exports=l},47956:n=>{var T=function(r,o,x,d,h,l,a){l===void 0&&(l=!0),a===void 0&&(a=!1);var f=[],c=[],u=r.treeMinMax;if(u.minX=o,u.minY=x,u.maxX=o+d,u.maxY=x+h,a&&(c=r.staticTree.search(u)),l&&r.useTree)f=r.tree.search(u);else if(l){var v=r.bodies,g={position:{x:o,y:x},left:o,top:x,right:o+d,bottom:x+h,isCircle:!1},m=r.intersects;v.iterate(function(y){m(y,g)&&f.push(y)})}return c.concat(f)};n.exports=T},62121:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setPushable:function(r){return r===void 0&&(r=!0),this.body.pushable=r,this}};n.exports=T},29384:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setOffset:function(r,o){return this.body.setOffset(r,o),this},setSize:function(r,o,x){return this.body.setSize(r,o,x),this},setBodySize:function(r,o,x){return this.body.setSize(r,o,x),this},setCircle:function(r,o,x){return this.body.setCircle(r,o,x),this}};n.exports=T},15098:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setVelocity:function(r,o){return this.body.setVelocity(r,o),this},setVelocityX:function(r){return this.body.setVelocityX(r),this},setVelocityY:function(r){return this.body.setVelocityY(r),this},setMaxVelocity:function(r,o){return this.body.maxVelocity.set(r,o),this}};n.exports=T},92209:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Acceleration:r(1093),Angular:r(59023),Bounce:r(62069),Collision:r(78389),Debug:r(87118),Drag:r(52819),Enable:r(4074),Friction:r(40831),Gravity:r(26775),Immovable:r(9437),Mass:r(30621),OverlapCirc:r(72441),OverlapRect:r(47956),Pushable:r(62121),Size:r(29384),Velocity:r(15098)}},37747:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={DYNAMIC_BODY:0,STATIC_BODY:1,GROUP:2,TILEMAPLAYER:3,FACING_NONE:10,FACING_UP:11,FACING_DOWN:12,FACING_LEFT:13,FACING_RIGHT:14};n.exports=T},20009:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="collide"},36768:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="overlap"},60473:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pause"},89954:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="resume"},61804:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="tilecollide"},7161:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="tileoverlap"},34689:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="worldbounds"},16006:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="worldstep"},63012:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={COLLIDE:r(20009),OVERLAP:r(36768),PAUSE:r(60473),RESUME:r(89954),TILE_COLLIDE:r(61804),TILE_OVERLAP:r(7161),WORLD_BOUNDS:r(34689),WORLD_STEP:r(16006)}},27064:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(37747),x=r(79291),d={ArcadePhysics:r(86689),Body:r(37742),Collider:r(79342),Components:r(92209),Events:r(63012),Factory:r(66022),GetCollidesWith:r(79599),GetOverlapX:r(64897),GetOverlapY:r(45170),SeparateX:r(14087),SeparateY:r(89936),Group:r(60758),Image:r(71289),Sprite:r(13759),StaticBody:r(72624),StaticGroup:r(71464),Tilemap:r(55173),World:r(82248)};d=x(!1,d,o),n.exports=d},96602:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return r.collisionCallback?!r.collisionCallback.call(r.collisionCallbackContext,o,r):r.layer.callbacks[r.index]?!r.layer.callbacks[r.index].callback.call(r.layer.callbacks[r.index].callbackContext,o,r):!0};n.exports=T},36294:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){o<0?(r.blocked.none=!1,r.blocked.left=!0):o>0&&(r.blocked.none=!1,r.blocked.right=!0),r.position.x-=o,r.updateCenter(),r.bounce.x===0?r.velocity.x=0:r.velocity.x=-r.velocity.x*r.bounce.x};n.exports=T},67013:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){o<0?(r.blocked.none=!1,r.blocked.up=!0):o>0&&(r.blocked.none=!1,r.blocked.down=!0),r.position.y-=o,r.updateCenter(),r.bounce.y===0?r.velocity.y=0:r.velocity.y=-r.velocity.y*r.bounce.y};n.exports=T},40012:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(21329),x=r(53442),d=r(2483),h=function(l,a,f,c,u,v,g){var m=c.left,y=c.top,C=c.right,P=c.bottom,w=f.faceLeft||f.faceRight,M=f.faceTop||f.faceBottom;if(g||(w=!0,M=!0),!w&&!M)return!1;var R=0,A=0,L=0,F=1;if(a.deltaAbsX()>a.deltaAbsY()?L=-1:a.deltaAbsX()<a.deltaAbsY()&&(F=-1),a.deltaX()!==0&&a.deltaY()!==0&&w&&M&&(L=Math.min(Math.abs(a.position.x-C),Math.abs(a.right-m)),F=Math.min(Math.abs(a.position.y-P),Math.abs(a.bottom-y))),L<F){if(w&&(R=o(a,f,m,C,v,g),R!==0&&!d(c,a)))return!0;M&&(A=x(a,f,y,P,v,g))}else{if(M&&(A=x(a,f,y,P,v,g),A!==0&&!d(c,a)))return!0;w&&(R=o(a,f,m,C,v,g))}return R!==0||A!==0};n.exports=h},21329:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(36294),x=function(d,h,l,a,f,c){var u=0,v=h.faceLeft,g=h.faceRight,m=h.collideLeft,y=h.collideRight;return c||(v=!0,g=!0,m=!0,y=!0),d.deltaX()<0&&y&&d.checkCollision.left?g&&d.x<a&&(u=d.x-a,u<-f&&(u=0)):d.deltaX()>0&&m&&d.checkCollision.right&&v&&d.right>l&&(u=d.right-l,u>f&&(u=0)),u!==0&&(d.customSeparateX?d.overlapX=u:o(d,u)),u};n.exports=x},53442:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(67013),x=function(d,h,l,a,f,c){var u=0,v=h.faceTop,g=h.faceBottom,m=h.collideUp,y=h.collideDown;return c||(v=!0,g=!0,m=!0,y=!0),d.deltaY()<0&&y&&d.checkCollision.up?g&&d.y<a&&(u=d.y-a,u<-f&&(u=0)):d.deltaY()>0&&m&&d.checkCollision.down&&v&&d.bottom>l&&(u=d.bottom-l,u>f&&(u=0)),u!==0&&(d.customSeparateY?d.overlapY=u:o(d,u)),u};n.exports=x},2483:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return!(o.right<=r.left||o.bottom<=r.top||o.position.x>=r.right||o.position.y>=r.bottom)};n.exports=T},55173:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={ProcessTileCallbacks:r(96602),ProcessTileSeparationX:r(36294),ProcessTileSeparationY:r(67013),SeparateTile:r(40012),TileCheckX:r(21329),TileCheckY:r(53442),TileIntersectsBody:r(2483)};n.exports=o},44563:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Arcade:r(27064),Matter:r(3875)}},68174:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(26099),d=new o({initialize:function(){this.boundsCenter=new x,this.centerDiff=new x},parseBody:function(h){if(h=h.hasOwnProperty("body")?h.body:h,!h.hasOwnProperty("bounds")||!h.hasOwnProperty("centerOfMass"))return!1;var l=this.boundsCenter,a=this.centerDiff,f=h.bounds.max.x-h.bounds.min.x,c=h.bounds.max.y-h.bounds.min.y,u=f*h.centerOfMass.x,v=c*h.centerOfMass.y;return l.set(f/2,c/2),a.set(u-l.x,v-l.y),!0},getTopLeft:function(h,l,a){if(l===void 0&&(l=0),a===void 0&&(a=0),this.parseBody(h)){var f=this.boundsCenter,c=this.centerDiff;return new x(l+f.x+c.x,a+f.y+c.y)}return!1},getTopCenter:function(h,l,a){if(l===void 0&&(l=0),a===void 0&&(a=0),this.parseBody(h)){var f=this.boundsCenter,c=this.centerDiff;return new x(l+c.x,a+f.y+c.y)}return!1},getTopRight:function(h,l,a){if(l===void 0&&(l=0),a===void 0&&(a=0),this.parseBody(h)){var f=this.boundsCenter,c=this.centerDiff;return new x(l-(f.x-c.x),a+f.y+c.y)}return!1},getLeftCenter:function(h,l,a){if(l===void 0&&(l=0),a===void 0&&(a=0),this.parseBody(h)){var f=this.boundsCenter,c=this.centerDiff;return new x(l+f.x+c.x,a+c.y)}return!1},getCenter:function(h,l,a){if(l===void 0&&(l=0),a===void 0&&(a=0),this.parseBody(h)){var f=this.centerDiff;return new x(l+f.x,a+f.y)}return!1},getRightCenter:function(h,l,a){if(l===void 0&&(l=0),a===void 0&&(a=0),this.parseBody(h)){var f=this.boundsCenter,c=this.centerDiff;return new x(l-(f.x-c.x),a+c.y)}return!1},getBottomLeft:function(h,l,a){if(l===void 0&&(l=0),a===void 0&&(a=0),this.parseBody(h)){var f=this.boundsCenter,c=this.centerDiff;return new x(l+f.x+c.x,a-(f.y-c.y))}return!1},getBottomCenter:function(h,l,a){if(l===void 0&&(l=0),a===void 0&&(a=0),this.parseBody(h)){var f=this.boundsCenter,c=this.centerDiff;return new x(l+c.x,a-(f.y-c.y))}return!1},getBottomRight:function(h,l,a){if(l===void 0&&(l=0),a===void 0&&(a=0),this.parseBody(h)){var f=this.boundsCenter,c=this.centerDiff;return new x(l-(f.x-c.x),a-(f.y-c.y))}return!1}});n.exports=d},19933:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(6790);o.Body=r(22562),o.Composite=r(69351),o.World=r(4372),o.Collision=r(52284),o.Detector=r(81388),o.Pairs=r(99561),o.Pair=r(4506),o.Query=r(73296),o.Resolver=r(66272),o.Constraint=r(48140),o.Common=r(53402),o.Engine=r(48413),o.Events=r(35810),o.Sleeping=r(53614),o.Plugin=r(73832),o.Bodies=r(66280),o.Composites=r(74116),o.Axes=r(66615),o.Bounds=r(15647),o.Svg=r(74058),o.Vector=r(31725),o.Vertices=r(41598),o.World.add=o.Composite.add,o.World.remove=o.Composite.remove,o.World.addComposite=o.Composite.addComposite,o.World.addBody=o.Composite.addBody,o.World.addConstraint=o.Composite.addConstraint,o.World.clear=o.Composite.clear,n.exports=o},28137:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(66280),x=r(83419),d=r(74116),h=r(48140),l=r(74058),a=r(75803),f=r(23181),c=r(34803),u=r(73834),v=r(19496),g=r(85791),m=r(98713),y=r(41598),C=new x({initialize:function(w){this.world=w,this.scene=w.scene,this.sys=w.scene.sys},rectangle:function(P,w,M,R,A){var L=o.rectangle(P,w,M,R,A);return this.world.add(L),L},trapezoid:function(P,w,M,R,A,L){var F=o.trapezoid(P,w,M,R,A,L);return this.world.add(F),F},circle:function(P,w,M,R,A){var L=o.circle(P,w,M,R,A);return this.world.add(L),L},polygon:function(P,w,M,R,A){var L=o.polygon(P,w,M,R,A);return this.world.add(L),L},fromVertices:function(P,w,M,R,A,L,F){typeof M=="string"&&(M=y.fromPath(M));var G=o.fromVertices(P,w,M,R,A,L,F);return this.world.add(G),G},fromPhysicsEditor:function(P,w,M,R,A){A===void 0&&(A=!0);var L=v.parseBody(P,w,M,R);return A&&!this.world.has(L)&&this.world.add(L),L},fromSVG:function(P,w,M,R,A,L){R===void 0&&(R=1),A===void 0&&(A={}),L===void 0&&(L=!0);for(var F=M.getElementsByTagName("path"),G=[],I=0;I<F.length;I++){var B=l.pathToVertices(F[I],30);R!==1&&y.scale(B,R,R),G.push(B)}var k=o.fromVertices(P,w,G,A);return L&&this.world.add(k),k},fromJSON:function(P,w,M,R,A){R===void 0&&(R={}),A===void 0&&(A=!0);var L=g.parseBody(P,w,M,R);return L&&A&&this.world.add(L),L},imageStack:function(P,w,M,R,A,L,F,G,I){F===void 0&&(F=0),G===void 0&&(G=0),I===void 0&&(I={});var B=this.world,k=this.sys.displayList;I.addToWorld=!1;var U=d.stack(M,R,A,L,F,G,function(H,X){var j=new f(B,H,X,P,w,I);return k.add(j),j.body});return B.add(U),U},stack:function(P,w,M,R,A,L,F){var G=d.stack(P,w,M,R,A,L,F);return this.world.add(G),G},pyramid:function(P,w,M,R,A,L,F){var G=d.pyramid(P,w,M,R,A,L,F);return this.world.add(G),G},chain:function(P,w,M,R,A,L){return d.chain(P,w,M,R,A,L)},mesh:function(P,w,M,R,A){return d.mesh(P,w,M,R,A)},newtonsCradle:function(P,w,M,R,A){var L=d.newtonsCradle(P,w,M,R,A);return this.world.add(L),L},car:function(P,w,M,R,A){var L=d.car(P,w,M,R,A);return this.world.add(L),L},softBody:function(P,w,M,R,A,L,F,G,I,B){var k=d.softBody(P,w,M,R,A,L,F,G,I,B);return this.world.add(k),k},joint:function(P,w,M,R,A){return this.constraint(P,w,M,R,A)},spring:function(P,w,M,R,A){return this.constraint(P,w,M,R,A)},constraint:function(P,w,M,R,A){R===void 0&&(R=1),A===void 0&&(A={}),A.bodyA=P.type==="body"?P:P.body,A.bodyB=w.type==="body"?w:w.body,isNaN(M)||(A.length=M),A.stiffness=R;var L=h.create(A);return this.world.add(L),L},worldConstraint:function(P,w,M,R){M===void 0&&(M=1),R===void 0&&(R={}),R.bodyB=P.type==="body"?P:P.body,isNaN(w)||(R.length=w),R.stiffness=M;var A=h.create(R);return this.world.add(A),A},mouseSpring:function(P){return this.pointerConstraint(P)},pointerConstraint:function(P){P===void 0&&(P={}),P.hasOwnProperty("render")||(P.render={visible:!1});var w=new m(this.scene,this.world,P);return this.world.add(w.constraint),w},image:function(P,w,M,R,A){var L=new f(this.world,P,w,M,R,A);return this.sys.displayList.add(L),L},tileBody:function(P,w){return new u(this.world,P,w)},sprite:function(P,w,M,R,A){var L=new c(this.world,P,w,M,R,A);return this.sys.displayList.add(L),this.sys.updateList.add(L),L},gameObject:function(P,w,M){return a(this.world,P,w,M)},destroy:function(){this.world=null,this.scene=null,this.sys=null}});n.exports=C},75803:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(31884),x=r(95540),d=r(26099);function h(a){return!!a.get&&typeof a.get=="function"||!!a.set&&typeof a.set=="function"}var l=function(a,f,c,u){c===void 0&&(c={}),u===void 0&&(u=!0);var v=f.x,g=f.y;f.body={temp:!0,position:{x:v,y:g}};var m=[o.Bounce,o.Collision,o.Force,o.Friction,o.Gravity,o.Mass,o.Sensor,o.SetBody,o.Sleep,o.Static,o.Transform,o.Velocity];if(m.forEach(function(C){for(var P in C)h(C[P])?Object.defineProperty(f,P,{get:C[P].get,set:C[P].set}):Object.defineProperty(f,P,{value:C[P]})}),f.world=a,f._tempVec2=new d(v,g),c.hasOwnProperty("type")&&c.type==="body")f.setExistingBody(c,u);else{var y=x(c,"shape",null);y||(y="rectangle"),c.addToWorld=u,f.setBody(y,c)}return f};n.exports=l},23181:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(31884),d=r(95643),h=r(95540),l=r(88571),a=r(72699),f=r(26099),c=new o({Extends:l,Mixins:[x.Bounce,x.Collision,x.Force,x.Friction,x.Gravity,x.Mass,x.Sensor,x.SetBody,x.Sleep,x.Static,x.Transform,x.Velocity,a],initialize:function(v,g,m,y,C,P){d.call(this,v.scene,"Image"),this._crop=this.resetCropObject(),this.setTexture(y,C),this.setSizeToFrame(),this.setOrigin(),this.world=v,this._tempVec2=new f(g,m);var w=h(P,"shape",null);w?this.setBody(w,P):this.setRectangle(this.width,this.height,P),this.setPosition(g,m),this.initPipeline(),this.initPostPipeline(!0)}});n.exports=c},42045:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(60461),x=r(66615),d=r(66280),h=r(22562),l=r(68174),a=r(15647),f=r(83419),c=r(52284),u=r(53402),v=r(69351),g=r(74116),m=r(48140),y=r(81388),C=r(20339),P=r(28137),w=r(95540),M=r(35154),R=r(46975),A=r(4506),L=r(99561),F=r(37277),G=r(73296),I=r(66272),B=r(44594),k=r(74058),U=r(31725),H=r(41598),X=r(68243);u.setDecomp(r(55973));var j=new f({initialize:function(Y){this.scene=Y,this.systems=Y.sys,this.config=this.getConfig(),this.world,this.add,this.bodyBounds,this.body=h,this.composite=v,this.collision=c,this.detector=y,this.pair=A,this.pairs=L,this.query=G,this.resolver=I,this.constraint=m,this.bodies=d,this.composites=g,this.axes=x,this.bounds=a,this.svg=k,this.vector=U,this.vertices=H,this.verts=H,this._tempVec2=U.create(),I._restingThresh=M(this.config,"restingThresh",4),I._restingThreshTangent=M(this.config,"restingThreshTangent",6),I._positionDampen=M(this.config,"positionDampen",.9),I._positionWarming=M(this.config,"positionWarming",.8),I._frictionNormalMultiplier=M(this.config,"frictionNormalMultiplier",5),Y.sys.events.once(B.BOOT,this.boot,this),Y.sys.events.on(B.START,this.start,this)},boot:function(){this.world=new X(this.scene,this.config),this.add=new P(this.world),this.bodyBounds=new l,this.systems.events.once(B.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new X(this.scene,this.config),this.add=new P(this.world));var J=this.systems.events;J.on(B.UPDATE,this.world.update,this.world),J.on(B.POST_UPDATE,this.world.postUpdate,this.world),J.once(B.SHUTDOWN,this.shutdown,this)},getConfig:function(){var J=this.systems.game.config.physics,Y=this.systems.settings.physics,$=R(w(Y,"matter",{}),w(J,"matter",{}));return $},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},set60Hz:function(){return this.world.getDelta=this.world.update60Hz,this.world.autoUpdate=!0,this},set30Hz:function(){return this.world.getDelta=this.world.update30Hz,this.world.autoUpdate=!0,this},step:function(J,Y){this.world.step(J,Y)},containsPoint:function(J,Y,$){J=this.getMatterBodies(J);var z=U.create(Y,$),V=G.point(J,z);return V.length>0},intersectPoint:function(J,Y,$){$=this.getMatterBodies($);var z=U.create(J,Y),V=[],K=G.point($,z);return K.forEach(function(Q){V.indexOf(Q)===-1&&V.push(Q)}),V},intersectRect:function(J,Y,$,z,V,K){V===void 0&&(V=!1),K=this.getMatterBodies(K);var Q={min:{x:J,y:Y},max:{x:J+$,y:Y+z}},_=[],tt=G.region(K,Q,V);return tt.forEach(function(rt){_.indexOf(rt)===-1&&_.push(rt)}),_},intersectRay:function(J,Y,$,z,V,K){V===void 0&&(V=1),K=this.getMatterBodies(K);for(var Q=[],_=G.ray(K,U.create(J,Y),U.create($,z),V),tt=0;tt<_.length;tt++)Q.push(_[tt].body);return Q},intersectBody:function(J,Y){Y=this.getMatterBodies(Y);for(var $=[],z=G.collides(J,Y),V=0;V<z.length;V++){var K=z[V];K.bodyA===J?$.push(K.bodyB):$.push(K.bodyA)}return $},overlap:function(J,Y,$,z,V){$===void 0&&($=null),z===void 0&&(z=null),V===void 0&&(V=$),Array.isArray(J)||(J=[J]),J=this.getMatterBodies(J),Y=this.getMatterBodies(Y);for(var K=!1,Q=0;Q<J.length;Q++)for(var _=J[Q],tt=G.collides(_,Y),rt=0;rt<tt.length;rt++){var ot=tt[rt],ft=ot.bodyA.id===_.id?ot.bodyB:ot.bodyA;if(!z||z.call(V,_,ft,ot)){if(K=!0,$)$.call(V,_,ft,ot);else if(!z)return!0}}return K},setCollisionCategory:function(J,Y){return J=this.getMatterBodies(J),J.forEach(function($){$.collisionFilter.category=Y}),this},setCollisionGroup:function(J,Y){return J=this.getMatterBodies(J),J.forEach(function($){$.collisionFilter.group=Y}),this},setCollidesWith:function(J,Y){J=this.getMatterBodies(J);var $=0;if(!Array.isArray(Y))$=Y;else for(var z=0;z<Y.length;z++)$|=Y[z];return J.forEach(function(V){V.collisionFilter.mask=$}),this},getMatterBodies:function(J){if(!J)return this.world.getAllBodies();Array.isArray(J)||(J=[J]);for(var Y=[],$=0;$<J.length;$++){var z=J[$].hasOwnProperty("body")?J[$].body:J[$];Y.push(z)}return Y},setVelocity:function(J,Y,$){J=this.getMatterBodies(J);var z=this._tempVec2;return z.x=Y,z.y=$,J.forEach(function(V){h.setVelocity(V,z)}),this},setVelocityX:function(J,Y){J=this.getMatterBodies(J);var $=this._tempVec2;return $.x=Y,J.forEach(function(z){$.y=z.velocity.y,h.setVelocity(z,$)}),this},setVelocityY:function(J,Y){J=this.getMatterBodies(J);var $=this._tempVec2;return $.y=Y,J.forEach(function(z){$.x=z.velocity.x,h.setVelocity(z,$)}),this},setAngularVelocity:function(J,Y){return J=this.getMatterBodies(J),J.forEach(function($){h.setAngularVelocity($,Y)}),this},applyForce:function(J,Y){J=this.getMatterBodies(J);var $=this._tempVec2;return J.forEach(function(z){$.x=z.position.x,$.y=z.position.y,h.applyForce(z,$,Y)}),this},applyForceFromPosition:function(J,Y,$,z){J=this.getMatterBodies(J);var V=this._tempVec2;return J.forEach(function(K){z===void 0&&(z=K.angle),V.x=$*Math.cos(z),V.y=$*Math.sin(z),h.applyForce(K,Y,V)}),this},applyForceFromAngle:function(J,Y,$){J=this.getMatterBodies(J);var z=this._tempVec2;return J.forEach(function(V){$===void 0&&($=V.angle),z.x=Y*Math.cos($),z.y=Y*Math.sin($),h.applyForce(V,{x:V.position.x,y:V.position.y},z)}),this},getConstraintLength:function(J){var Y=J.pointA.x,$=J.pointA.y,z=J.pointB.x,V=J.pointB.y;return J.bodyA&&(Y+=J.bodyA.position.x,$+=J.bodyA.position.y),J.bodyB&&(z+=J.bodyB.position.x,V+=J.bodyB.position.y),C(Y,$,z,V)},alignBody:function(J,Y,$,z){J=J.hasOwnProperty("body")?J.body:J;var V;switch(z){case o.TOP_LEFT:case o.LEFT_TOP:V=this.bodyBounds.getTopLeft(J,Y,$);break;case o.TOP_CENTER:V=this.bodyBounds.getTopCenter(J,Y,$);break;case o.TOP_RIGHT:case o.RIGHT_TOP:V=this.bodyBounds.getTopRight(J,Y,$);break;case o.LEFT_CENTER:V=this.bodyBounds.getLeftCenter(J,Y,$);break;case o.CENTER:V=this.bodyBounds.getCenter(J,Y,$);break;case o.RIGHT_CENTER:V=this.bodyBounds.getRightCenter(J,Y,$);break;case o.LEFT_BOTTOM:case o.BOTTOM_LEFT:V=this.bodyBounds.getBottomLeft(J,Y,$);break;case o.BOTTOM_CENTER:V=this.bodyBounds.getBottomCenter(J,Y,$);break;case o.BOTTOM_RIGHT:case o.RIGHT_BOTTOM:V=this.bodyBounds.getBottomRight(J,Y,$);break}return V&&h.setPosition(J,V),this},shutdown:function(){var J=this.systems.events;this.world&&(J.off(B.UPDATE,this.world.update,this.world),J.off(B.POST_UPDATE,this.world.postUpdate,this.world)),J.off(B.SHUTDOWN,this.shutdown,this),this.add&&this.add.destroy(),this.world&&this.world.destroy(),this.add=null,this.world=null},destroy:function(){this.shutdown(),this.scene.sys.events.off(B.START,this.start,this),this.scene=null,this.systems=null}});F.register("MatterPhysics",j,"matterPhysics"),n.exports=j},34803:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(9674),x=r(83419),d=r(31884),h=r(95643),l=r(95540),a=r(72699),f=r(68287),c=r(26099),u=new x({Extends:f,Mixins:[d.Bounce,d.Collision,d.Force,d.Friction,d.Gravity,d.Mass,d.Sensor,d.SetBody,d.Sleep,d.Static,d.Transform,d.Velocity,a],initialize:function(g,m,y,C,P,w){h.call(this,g.scene,"Sprite"),this._crop=this.resetCropObject(),this.anims=new o(this),this.setTexture(C,P),this.setSizeToFrame(),this.setOrigin(),this.world=g,this._tempVec2=new c(m,y);var M=l(w,"shape",null);M?this.setBody(M,w):this.setRectangle(this.width,this.height,w),this.setPosition(m,y),this.initPipeline(),this.initPostPipeline(!0)}});n.exports=u},73834:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(66280),x=r(22562),d=r(83419),h=r(31884),l=r(62644),a=r(50792),f=r(95540),c=r(97022),u=r(41598),v=new d({Extends:a,Mixins:[h.Bounce,h.Collision,h.Friction,h.Gravity,h.Mass,h.Sensor,h.Sleep,h.Static],initialize:function(m,y,C){a.call(this),this.tile=y,this.world=m,y.physics.matterBody&&y.physics.matterBody.destroy(),y.physics.matterBody=this;var P=f(C,"body",null),w=f(C,"addToWorld",!0);if(P)this.setBody(P,w);else{var M=y.getCollisionGroup(),R=f(M,"objects",[]);R.length>0?this.setFromTileCollision(C):this.setFromTileRectangle(C)}if(y.flipX||y.flipY){var A={x:y.getCenterX(),y:y.getCenterY()},L=y.flipX?-1:1,F=y.flipY?-1:1;x.scale(P,L,F,A)}},setFromTileRectangle:function(g){g===void 0&&(g={}),c(g,"isStatic")||(g.isStatic=!0),c(g,"addToWorld")||(g.addToWorld=!0);var m=this.tile.getBounds(),y=m.x+m.width/2,C=m.y+m.height/2,P=o.rectangle(y,C,m.width,m.height,g);return this.setBody(P,g.addToWorld),this},setFromTileCollision:function(g){g===void 0&&(g={}),c(g,"isStatic")||(g.isStatic=!0),c(g,"addToWorld")||(g.addToWorld=!0);for(var m=this.tile.tilemapLayer.scaleX,y=this.tile.tilemapLayer.scaleY,C=this.tile.getLeft(),P=this.tile.getTop(),w=this.tile.getCollisionGroup(),M=f(w,"objects",[]),R=[],A=0;A<M.length;A++){var L=M[A],F=C+L.x*m,G=P+L.y*y,I=L.width*m,B=L.height*y,k=null;if(L.rectangle)k=o.rectangle(F+I/2,G+B/2,I,B,g);else if(L.ellipse)k=o.circle(F+I/2,G+B/2,I/2,g);else if(L.polygon||L.polyline){var U=L.polygon?L.polygon:L.polyline,H=U.map(function(Y){return{x:Y.x*m,y:Y.y*y}}),X=u.create(H),j=u.centre(X);F+=j.x,G+=j.y,k=o.fromVertices(F,G,X,g)}k&&R.push(k)}if(R.length===1)this.setBody(R[0],g.addToWorld);else if(R.length>1){var J=l(g);J.parts=R,this.setBody(x.create(J),J.addToWorld)}return this},setBody:function(g,m){return m===void 0&&(m=!0),this.body&&this.removeBody(),this.body=g,this.body.gameObject=this,m&&this.world.add(this.body),this},removeBody:function(){return this.body&&(this.world.remove(this.body),this.body.gameObject=void 0,this.body=void 0),this},destroy:function(){this.removeBody(),this.tile.physics.matterBody=void 0,this.removeAllListeners()}});n.exports=v},19496:(n,T,r)=>{/**
 * @author       Joachim Grill <joachim@codeandweb.com>
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2018 CodeAndWeb GmbH
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(66280),x=r(22562),d=r(53402),h=r(95540),l=r(41598),a={parseBody:function(f,c,u,v){v===void 0&&(v={});for(var g=h(u,"fixtures",[]),m=[],y=0;y<g.length;y++)for(var C=this.parseFixture(g[y]),P=0;P<C.length;P++)m.push(C[P]);var w=d.clone(u,!0);d.extend(w,v,!0),delete w.fixtures,delete w.type;var M=x.create(w);return x.setParts(M,m),x.setPosition(M,{x:f,y:c}),M},parseFixture:function(f){var c=d.extend({},!1,f);delete c.circle,delete c.vertices;var u;if(f.circle){var v=h(f.circle,"x"),g=h(f.circle,"y"),m=h(f.circle,"radius");u=[o.circle(v,g,m,c)]}else f.vertices&&(u=this.parseVertices(f.vertices,c));return u},parseVertices:function(f,c){c===void 0&&(c={});for(var u=[],v=0;v<f.length;v++)l.clockwiseSort(f[v]),u.push(x.create(d.extend({position:l.centre(f[v]),vertices:f[v]},c)));return o.flagCoincidentParts(u)}};n.exports=a},85791:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(66280),x=r(22562),d={parseBody:function(h,l,a,f){f===void 0&&(f={});var c,u=a.vertices;if(u.length===1)f.vertices=u[0],c=x.create(f),o.flagCoincidentParts(c.parts);else{for(var v=[],g=0;g<u.length;g++){var m=x.create({vertices:u[g]});v.push(m)}o.flagCoincidentParts(v),f.parts=v,c=x.create(f)}return c.label=a.label,x.setPosition(c,{x:h,y:l}),c}};n.exports=d},98713:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(15647),x=r(83419),d=r(69351),h=r(48140),l=r(81388),a=r(1121),f=r(8214),c=r(46975),u=r(53614),v=r(26099),g=r(41598),m=new x({initialize:function(C,P,w){w===void 0&&(w={});var M={label:"Pointer Constraint",pointA:{x:0,y:0},pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,collisionFilter:{category:1,mask:4294967295,group:0}};this.scene=C,this.world=P,this.camera=null,this.pointer=null,this.active=!0,this.position=new v,this.body=null,this.part=null,this.constraint=h.create(c(w,M)),this.world.on(a.BEFORE_UPDATE,this.update,this),C.sys.input.on(f.POINTER_DOWN,this.onDown,this),C.sys.input.on(f.POINTER_UP,this.onUp,this)},onDown:function(y){this.pointer||(this.pointer=y,this.camera=y.camera)},onUp:function(y){y===this.pointer&&(this.pointer=null)},getBody:function(y){var C=this.position,P=this.constraint;this.camera.getWorldPoint(y.x,y.y,C);for(var w=d.allBodies(this.world.localWorld),M=0;M<w.length;M++){var R=w[M];if(!R.ignorePointer&&o.contains(R.bounds,C)&&l.canCollide(R.collisionFilter,P.collisionFilter)&&this.hitTestBody(R,C))return this.world.emit(a.DRAG_START,R,this.part,this),!0}return!1},hitTestBody:function(y,C){for(var P=this.constraint,w=y.parts.length,M=w>1?1:0,R=M;R<w;R++){var A=y.parts[R];if(g.contains(A.vertices,C))return P.pointA=C,P.pointB={x:C.x-y.position.x,y:C.y-y.position.y},P.bodyB=y,P.angleB=y.angle,u.set(y,!1),this.part=A,this.body=y,!0}return!1},update:function(){var y=this.pointer,C=this.body;if(!this.active||!y){C&&this.stopDrag();return}if(!y.isDown&&C){this.stopDrag();return}else if(y.isDown){if(!this.camera||!C&&!this.getBody(y))return;C=this.body;var P=this.position,w=this.constraint;this.camera.getWorldPoint(y.x,y.y,P),w.pointA.x=P.x,w.pointA.y=P.y,u.set(C,!1),this.world.emit(a.DRAG,C,this)}},stopDrag:function(){var y=this.body,C=this.constraint;C.bodyB=null,C.pointB=null,this.pointer=null,this.body=null,this.part=null,y&&this.world.emit(a.DRAG_END,y,this)},destroy:function(){this.world.removeConstraint(this.constraint),this.pointer=null,this.constraint=null,this.body=null,this.part=null,this.world.off(a.BEFORE_UPDATE,this.update),this.scene.sys.input.off(f.POINTER_DOWN,this.onDown,this),this.scene.sys.input.off(f.POINTER_UP,this.onUp,this)}});n.exports=m},68243:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(66280),x=r(22562),d=r(83419),h=r(53402),l=r(69351),a=r(48413),f=r(50792),c=r(1121),u=r(95540),v=r(35154),g=r(22562),m=r(35810),y=r(73834),C=r(4372),P=r(13037),w=r(31725),M=new d({Extends:f,initialize:function(A,L){f.call(this),this.scene=A,this.engine=a.create(L),this.localWorld=this.engine.world;var F=v(L,"gravity",null);F?this.setGravity(F.x,F.y,F.scale):F===!1&&this.setGravity(0,0,0),this.walls={left:null,right:null,top:null,bottom:null},this.enabled=v(L,"enabled",!0),this.getDelta=v(L,"getDelta",this.update60Hz);var G=u(L,"runner",{}),I=u(G,"fps",!1);I&&(G.delta=1e3/u(G,"fps",60)),this.runner=P.create(G),this.autoUpdate=v(L,"autoUpdate",!0);var B=v(L,"debug",!1);if(this.drawDebug=typeof B=="object"?!0:B,this.debugGraphic,this.debugConfig={showAxes:u(B,"showAxes",!1),showAngleIndicator:u(B,"showAngleIndicator",!1),angleColor:u(B,"angleColor",15208787),showBroadphase:u(B,"showBroadphase",!1),broadphaseColor:u(B,"broadphaseColor",16757760),showBounds:u(B,"showBounds",!1),boundsColor:u(B,"boundsColor",16777215),showVelocity:u(B,"showVelocity",!1),velocityColor:u(B,"velocityColor",44783),showCollisions:u(B,"showCollisions",!1),collisionColor:u(B,"collisionColor",16094476),showSeparations:u(B,"showSeparations",!1),separationColor:u(B,"separationColor",16753920),showBody:u(B,"showBody",!0),showStaticBody:u(B,"showStaticBody",!0),showInternalEdges:u(B,"showInternalEdges",!1),renderFill:u(B,"renderFill",!1),renderLine:u(B,"renderLine",!0),fillColor:u(B,"fillColor",1075465),fillOpacity:u(B,"fillOpacity",1),lineColor:u(B,"lineColor",2678297),lineOpacity:u(B,"lineOpacity",1),lineThickness:u(B,"lineThickness",1),staticFillColor:u(B,"staticFillColor",857979),staticLineColor:u(B,"staticLineColor",1255396),showSleeping:u(B,"showSleeping",!1),staticBodySleepOpacity:u(B,"staticBodySleepOpacity",.7),sleepFillColor:u(B,"sleepFillColor",4605510),sleepLineColor:u(B,"sleepLineColor",10066585),showSensors:u(B,"showSensors",!0),sensorFillColor:u(B,"sensorFillColor",857979),sensorLineColor:u(B,"sensorLineColor",1255396),showPositions:u(B,"showPositions",!0),positionSize:u(B,"positionSize",4),positionColor:u(B,"positionColor",14697178),showJoint:u(B,"showJoint",!0),jointColor:u(B,"jointColor",14737474),jointLineOpacity:u(B,"jointLineOpacity",1),jointLineThickness:u(B,"jointLineThickness",2),pinSize:u(B,"pinSize",4),pinColor:u(B,"pinColor",4382944),springColor:u(B,"springColor",14697184),anchorColor:u(B,"anchorColor",15724527),anchorSize:u(B,"anchorSize",4),showConvexHulls:u(B,"showConvexHulls",!1),hullColor:u(B,"hullColor",14091216)},this.drawDebug&&this.createDebugGraphic(),this.setEventsProxy(),u(L,"setBounds",!1)){var k=L.setBounds;if(typeof k=="boolean")this.setBounds();else{var U=u(k,"x",0),H=u(k,"y",0),X=u(k,"width",A.sys.scale.width),j=u(k,"height",A.sys.scale.height),J=u(k,"thickness",64),Y=u(k,"left",!0),$=u(k,"right",!0),z=u(k,"top",!0),V=u(k,"bottom",!0);this.setBounds(U,H,X,j,J,Y,$,z,V)}}},setCompositeRenderStyle:function(R){var A=R.bodies,L=R.constraints,F=R.composites,G,I,B;for(G=0;G<A.length;G++)I=A[G],B=I.render,this.setBodyRenderStyle(I,B.lineColor,B.lineOpacity,B.lineThickness,B.fillColor,B.fillOpacity);for(G=0;G<L.length;G++)I=L[G],B=I.render,this.setConstraintRenderStyle(I,B.lineColor,B.lineOpacity,B.lineThickness,B.pinSize,B.anchorColor,B.anchorSize);for(G=0;G<F.length;G++)I=F[G],this.setCompositeRenderStyle(I);return this},setBodyRenderStyle:function(R,A,L,F,G,I){var B=R.render,k=this.debugConfig;return B?(A==null&&(A=R.isStatic?k.staticLineColor:k.lineColor),L==null&&(L=k.lineOpacity),F==null&&(F=k.lineThickness),G==null&&(G=R.isStatic?k.staticFillColor:k.fillColor),I==null&&(I=k.fillOpacity),A!==!1&&(B.lineColor=A),L!==!1&&(B.lineOpacity=L),F!==!1&&(B.lineThickness=F),G!==!1&&(B.fillColor=G),I!==!1&&(B.fillOpacity=I),this):this},setConstraintRenderStyle:function(R,A,L,F,G,I,B){var k=R.render,U=this.debugConfig;if(!k)return this;if(A==null){var H=k.type;H==="line"?A=U.jointColor:H==="pin"?A=U.pinColor:H==="spring"&&(A=U.springColor)}return L==null&&(L=U.jointLineOpacity),F==null&&(F=U.jointLineThickness),G==null&&(G=U.pinSize),I==null&&(I=U.anchorColor),B==null&&(B=U.anchorSize),A!==!1&&(k.lineColor=A),L!==!1&&(k.lineOpacity=L),F!==!1&&(k.lineThickness=F),G!==!1&&(k.pinSize=G),I!==!1&&(k.anchorColor=I),B!==!1&&(k.anchorSize=B),this},setEventsProxy:function(){var R=this,A=this.engine,L=this.localWorld;this.drawDebug&&(m.on(L,"compositeModified",function(F){R.setCompositeRenderStyle(F)}),m.on(L,"beforeAdd",function(F){for(var G=[].concat(F.object),I=0;I<G.length;I++){var B=G[I],k=B.render;B.type==="body"?R.setBodyRenderStyle(B,k.lineColor,k.lineOpacity,k.lineThickness,k.fillColor,k.fillOpacity):B.type==="composite"?R.setCompositeRenderStyle(B):B.type==="constraint"&&R.setConstraintRenderStyle(B,k.lineColor,k.lineOpacity,k.lineThickness,k.pinSize,k.anchorColor,k.anchorSize)}})),m.on(L,"beforeAdd",function(F){R.emit(c.BEFORE_ADD,F)}),m.on(L,"afterAdd",function(F){R.emit(c.AFTER_ADD,F)}),m.on(L,"beforeRemove",function(F){R.emit(c.BEFORE_REMOVE,F)}),m.on(L,"afterRemove",function(F){R.emit(c.AFTER_REMOVE,F)}),m.on(A,"beforeUpdate",function(F){R.emit(c.BEFORE_UPDATE,F)}),m.on(A,"afterUpdate",function(F){R.emit(c.AFTER_UPDATE,F)}),m.on(A,"collisionStart",function(F){var G=F.pairs,I,B;G.length>0&&G.map(function(k){I=k.bodyA,B=k.bodyB,I.gameObject&&I.gameObject.emit("collide",I,B,k),B.gameObject&&B.gameObject.emit("collide",B,I,k),m.trigger(I,"onCollide",{pair:k}),m.trigger(B,"onCollide",{pair:k}),I.onCollideCallback&&I.onCollideCallback(k),B.onCollideCallback&&B.onCollideCallback(k),I.onCollideWith[B.id]&&I.onCollideWith[B.id](B,k),B.onCollideWith[I.id]&&B.onCollideWith[I.id](I,k)}),R.emit(c.COLLISION_START,F,I,B)}),m.on(A,"collisionActive",function(F){var G=F.pairs,I,B;G.length>0&&G.map(function(k){I=k.bodyA,B=k.bodyB,I.gameObject&&I.gameObject.emit("collideActive",I,B,k),B.gameObject&&B.gameObject.emit("collideActive",B,I,k),m.trigger(I,"onCollideActive",{pair:k}),m.trigger(B,"onCollideActive",{pair:k}),I.onCollideActiveCallback&&I.onCollideActiveCallback(k),B.onCollideActiveCallback&&B.onCollideActiveCallback(k)}),R.emit(c.COLLISION_ACTIVE,F,I,B)}),m.on(A,"collisionEnd",function(F){var G=F.pairs,I,B;G.length>0&&G.map(function(k){I=k.bodyA,B=k.bodyB,I.gameObject&&I.gameObject.emit("collideEnd",I,B,k),B.gameObject&&B.gameObject.emit("collideEnd",B,I,k),m.trigger(I,"onCollideEnd",{pair:k}),m.trigger(B,"onCollideEnd",{pair:k}),I.onCollideEndCallback&&I.onCollideEndCallback(k),B.onCollideEndCallback&&B.onCollideEndCallback(k)}),R.emit(c.COLLISION_END,F,I,B)})},setBounds:function(R,A,L,F,G,I,B,k,U){return R===void 0&&(R=0),A===void 0&&(A=0),L===void 0&&(L=this.scene.sys.scale.width),F===void 0&&(F=this.scene.sys.scale.height),G===void 0&&(G=64),I===void 0&&(I=!0),B===void 0&&(B=!0),k===void 0&&(k=!0),U===void 0&&(U=!0),this.updateWall(I,"left",R-G,A-G,G,F+G*2),this.updateWall(B,"right",R+L,A-G,G,F+G*2),this.updateWall(k,"top",R,A-G,L,G),this.updateWall(U,"bottom",R,A+F,L,G),this},updateWall:function(R,A,L,F,G,I){var B=this.walls[A];R?(B&&C.remove(this.localWorld,B),L+=G/2,F+=I/2,this.walls[A]=this.create(L,F,G,I,{isStatic:!0,friction:0,frictionStatic:0})):(B&&C.remove(this.localWorld,B),this.walls[A]=null)},createDebugGraphic:function(){var R=this.scene.sys.add.graphics({x:0,y:0});return R.setDepth(Number.MAX_VALUE),this.debugGraphic=R,this.drawDebug=!0,R},disableGravity:function(){return this.localWorld.gravity.x=0,this.localWorld.gravity.y=0,this.localWorld.gravity.scale=0,this},setGravity:function(R,A,L){return R===void 0&&(R=0),A===void 0&&(A=1),L===void 0&&(L=.001),this.localWorld.gravity.x=R,this.localWorld.gravity.y=A,this.localWorld.gravity.scale=L,this},create:function(R,A,L,F,G){var I=o.rectangle(R,A,L,F,G);return C.add(this.localWorld,I),I},add:function(R){return C.add(this.localWorld,R),this},remove:function(R,A){Array.isArray(R)||(R=[R]);for(var L=0;L<R.length;L++){var F=R[L],G=F.body?F.body:F;l.remove(this.localWorld,G,A)}return this},removeConstraint:function(R,A){return l.remove(this.localWorld,R,A),this},convertTilemapLayer:function(R,A){var L=R.layer,F=R.getTilesWithin(0,0,L.width,L.height,{isColliding:!0});return this.convertTiles(F,A),this},convertTiles:function(R,A){if(R.length===0)return this;for(var L=0;L<R.length;L++)new y(this,R[L],A);return this},nextGroup:function(R){return g.nextGroup(R)},nextCategory:function(){return g.nextCategory()},pause:function(){return this.enabled=!1,this.emit(c.PAUSE),this},resume:function(){return this.enabled=!0,this.runner.timeLastTick=h.now(),this.emit(c.RESUME),this},update:function(R){if(!(!this.enabled||!this.autoUpdate)){var A=this.engine,L=this.runner,F=h.now(),G=L.delta,I=0,B=R-L.timeLastTick;if((!B||!L.timeLastTick||B>Math.max(P._maxFrameDelta,L.maxFrameTime))&&(B=L.frameDelta||P._frameDeltaFallback),L.frameDeltaSmoothing){L.frameDeltaHistory.push(B),L.frameDeltaHistory=L.frameDeltaHistory.slice(-L.frameDeltaHistorySize);var k=L.frameDeltaHistory.slice(0).sort(),U=L.frameDeltaHistory.slice(k.length*P._smoothingLowerBound,k.length*P._smoothingUpperBound),H=P._mean(U);B=H||B}L.frameDeltaSnapping&&(B=1e3/Math.round(1e3/B)),L.frameDelta=B,L.timeLastTick=R,L.timeBuffer+=L.frameDelta,L.timeBuffer=h.clamp(L.timeBuffer,0,L.frameDelta+G*P._timeBufferMargin),L.lastUpdatesDeferred=0;for(var X=L.maxUpdates||Math.ceil(L.maxFrameTime/G),j=h.now();G>0&&L.timeBuffer>=G*P._timeBufferMargin;){a.update(A,G),L.timeBuffer-=G,I+=1;var J=h.now()-F,Y=h.now()-j,$=J+P._elapsedNextEstimate*Y/I;if(I>=X||$>L.maxFrameTime){L.lastUpdatesDeferred=Math.round(Math.max(0,L.timeBuffer/G-P._timeBufferMargin));break}}}},step:function(R){a.update(this.engine,R)},update60Hz:function(){return 1e3/60},update30Hz:function(){return 1e3/30},has:function(R){var A=R.hasOwnProperty("body")?R.body:R;return l.get(this.localWorld,A.id,A.type)!==null},getAllBodies:function(){return l.allBodies(this.localWorld)},getAllConstraints:function(){return l.allConstraints(this.localWorld)},getAllComposites:function(){return l.allComposites(this.localWorld)},postUpdate:function(){if(this.drawDebug){var R=this.debugConfig,A=this.engine,L=this.debugGraphic,F=l.allBodies(this.localWorld);this.debugGraphic.clear(),R.showBroadphase&&A.broadphase.controller&&this.renderGrid(A.broadphase,L,R.broadphaseColor,.5),R.showBounds&&this.renderBodyBounds(F,L,R.boundsColor,.5),(R.showBody||R.showStaticBody)&&this.renderBodies(F),R.showJoint&&this.renderJoints(),(R.showAxes||R.showAngleIndicator)&&this.renderBodyAxes(F,L,R.showAxes,R.angleColor,.5),R.showVelocity&&this.renderBodyVelocity(F,L,R.velocityColor,1,2),R.showSeparations&&this.renderSeparations(A.pairs.list,L,R.separationColor),R.showCollisions&&this.renderCollisions(A.pairs.list,L,R.collisionColor)}},renderGrid:function(R,A,L,F){A.lineStyle(1,L,F);for(var G=h.keys(R.buckets),I=0;I<G.length;I++){var B=G[I];if(!(R.buckets[B].length<2)){var k=B.split(/C|R/);A.strokeRect(parseInt(k[1],10)*R.bucketWidth,parseInt(k[2],10)*R.bucketHeight,R.bucketWidth,R.bucketHeight)}}return this},renderSeparations:function(R,A,L){A.lineStyle(1,L,1);for(var F=0;F<R.length;F++){var G=R[F];if(G.isActive){var I=G.collision,B=I.bodyA,k=I.bodyB,U=B.position,H=k.position,X=I.penetration,j=!B.isStatic&&!k.isStatic?4:1;k.isStatic&&(j=0),A.lineBetween(H.x,H.y,H.x-X.x*j,H.y-X.y*j),j=!B.isStatic&&!k.isStatic?4:1,B.isStatic&&(j=0),A.lineBetween(U.x,U.y,U.x-X.x*j,U.y-X.y*j)}}return this},renderCollisions:function(R,A,L){A.lineStyle(1,L,.5),A.fillStyle(L,1);var F,G;for(F=0;F<R.length;F++)if(G=R[F],!!G.isActive)for(var I=0;I<G.contactCount;I++){var B=G.contacts[I],k=B.vertex;k&&A.fillRect(k.x-2,k.y-2,5,5)}for(F=0;F<R.length;F++)if(G=R[F],!!G.isActive){var U=G.collision,H=G.contacts;if(G.contactCount>0){var X=H[0].vertex.x,j=H[0].vertex.y;G.contactCount===2&&(X=(H[0].vertex.x+H[1].vertex.x)/2,j=(H[0].vertex.y+H[1].vertex.y)/2),U.bodyB===U.supports[0].body||U.bodyA.isStatic?A.lineBetween(X-U.normal.x*8,j-U.normal.y*8,X,j):A.lineBetween(X+U.normal.x*8,j+U.normal.y*8,X,j)}}return this},renderBodyBounds:function(R,A,L,F){A.lineStyle(1,L,F);for(var G=0;G<R.length;G++){var I=R[G];if(I.render.visible){var B=I.bounds;if(B)A.strokeRect(B.min.x,B.min.y,B.max.x-B.min.x,B.max.y-B.min.y);else for(var k=I.parts,U=k.length>1?1:0;U<k.length;U++){var H=k[U];A.strokeRect(H.bounds.min.x,H.bounds.min.y,H.bounds.max.x-H.bounds.min.x,H.bounds.max.y-H.bounds.min.y)}}}return this},renderBodyAxes:function(R,A,L,F,G){A.lineStyle(1,F,G);for(var I=0;I<R.length;I++){var B=R[I],k=B.parts;if(B.render.visible){var U,H,X;if(L)for(H=k.length>1?1:0;H<k.length;H++)for(U=k[H],X=0;X<U.axes.length;X++){var j=U.axes[X];A.lineBetween(U.position.x,U.position.y,U.position.x+j.x*20,U.position.y+j.y*20)}else for(H=k.length>1?1:0;H<k.length;H++)for(U=k[H],X=0;X<U.axes.length;X++)A.lineBetween(U.position.x,U.position.y,(U.vertices[0].x+U.vertices[U.vertices.length-1].x)/2,(U.vertices[0].y+U.vertices[U.vertices.length-1].y)/2)}}return this},renderBodyVelocity:function(R,A,L,F,G){A.lineStyle(G,L,F);for(var I=0;I<R.length;I++){var B=R[I];B.render.visible&&A.lineBetween(B.position.x,B.position.y,B.position.x+(B.position.x-B.positionPrev.x)*2,B.position.y+(B.position.y-B.positionPrev.y)*2)}return this},renderBodies:function(R){for(var A=this.debugGraphic,L=this.debugConfig,F=L.showBody,G=L.showStaticBody,I=L.showSleeping,B=L.showInternalEdges,k=L.showConvexHulls,U=L.renderFill,H=L.renderLine,X=L.staticBodySleepOpacity,j=L.sleepFillColor,J=L.sleepLineColor,Y=L.hullColor,$=0;$<R.length;$++){var z=R[$];if(z.render.visible&&!(!G&&z.isStatic||!F&&!z.isStatic)){var V=z.render.lineColor,K=z.render.lineOpacity,Q=z.render.lineThickness,_=z.render.fillColor,tt=z.render.fillOpacity;I&&z.isSleeping&&(z.isStatic?(K*=X,tt*=X):(V=J,_=j)),U||(_=null),H||(V=null),this.renderBody(z,A,B,V,K,Q,_,tt);var rt=z.parts.length;k&&rt>1&&this.renderConvexHull(z,A,Y,Q)}}},renderBody:function(R,A,L,F,G,I,B,k){F===void 0&&(F=null),G===void 0&&(G=null),I===void 0&&(I=1),B===void 0&&(B=null),k===void 0&&(k=null);for(var U=this.debugConfig,H=U.sensorFillColor,X=U.sensorLineColor,j=R.parts,J=j.length,Y=J>1?1:0;Y<J;Y++){var $=j[Y],z=$.render,V=z.opacity;if(!(!z.visible||V===0||$.isSensor&&!U.showSensors)){var K=$.circleRadius;if(A.beginPath(),$.isSensor?(B!==null&&A.fillStyle(H,k*V),F!==null&&A.lineStyle(I,X,G*V)):(B!==null&&A.fillStyle(B,k*V),F!==null&&A.lineStyle(I,F,G*V)),K)A.arc($.position.x,$.position.y,K,0,2*Math.PI);else{var Q=$.vertices,_=Q.length;A.moveTo(Q[0].x,Q[0].y);for(var tt=1;tt<_;tt++){var rt=Q[tt];if(!Q[tt-1].isInternal||L?A.lineTo(rt.x,rt.y):A.moveTo(rt.x,rt.y),tt<_&&rt.isInternal&&!L){var ot=(tt+1)%_;A.moveTo(Q[ot].x,Q[ot].y)}}A.closePath()}B!==null&&A.fillPath(),F!==null&&A.strokePath()}}if(U.showPositions&&!R.isStatic){var ft=R.position.x,ct=R.position.y,gt=Math.ceil(U.positionSize/2);A.fillStyle(U.positionColor,1),A.fillRect(ft-gt,ct-gt,U.positionSize,U.positionSize)}return this},renderConvexHull:function(R,A,L,F){F===void 0&&(F=1);var G=R.parts,I=G.length;if(I>1){var B=R.vertices;A.lineStyle(F,L),A.beginPath(),A.moveTo(B[0].x,B[0].y);for(var k=1;k<B.length;k++)A.lineTo(B[k].x,B[k].y);A.lineTo(B[0].x,B[0].y),A.strokePath()}return this},renderJoints:function(){for(var R=this.debugGraphic,A=l.allConstraints(this.localWorld),L=0;L<A.length;L++){var F=A[L].render,G=F.lineColor,I=F.lineOpacity,B=F.lineThickness,k=F.pinSize,U=F.anchorColor,H=F.anchorSize;this.renderConstraint(A[L],R,G,I,B,k,U,H)}},renderConstraint:function(R,A,L,F,G,I,B,k){var U=R.render;if(!U.visible||!R.pointA||!R.pointB)return this;A.lineStyle(G,L,F);var H=R.bodyA,X=R.bodyB,j,J;if(H?j=w.add(H.position,R.pointA):j=R.pointA,U.type==="pin")A.strokeCircle(j.x,j.y,I);else{if(X?J=w.add(X.position,R.pointB):J=R.pointB,A.beginPath(),A.moveTo(j.x,j.y),U.type==="spring")for(var Y=w.sub(J,j),$=w.perp(w.normalise(Y)),z=Math.ceil(h.clamp(R.length/5,12,20)),V,K=1;K<z;K+=1)V=K%2===0?1:-1,A.lineTo(j.x+Y.x*(K/z)+$.x*V*4,j.y+Y.y*(K/z)+$.y*V*4);A.lineTo(J.x,J.y)}return A.strokePath(),U.anchors&&k>0&&(A.fillStyle(B),A.fillCircle(j.x,j.y,k),A.fillCircle(J.x,J.y,k)),this},resetCollisionIDs:function(){return x._nextCollidingGroupId=1,x._nextNonCollidingGroupId=-1,x._nextCategory=1,this},shutdown:function(){m.off(this.engine),this.removeAllListeners(),C.clear(this.localWorld,!1),a.clear(this.engine),this.drawDebug&&this.debugGraphic.destroy()},destroy:function(){this.shutdown()}});n.exports=M},70410:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setBounce:function(r){return this.body.restitution=r,this}};n.exports=T},66968:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setCollisionCategory:function(r){return this.body.collisionFilter.category=r,this},setCollisionGroup:function(r){return this.body.collisionFilter.group=r,this},setCollidesWith:function(r){var o=0;if(!Array.isArray(r))o=r;else for(var x=0;x<r.length;x++)o|=r[x];return this.body.collisionFilter.mask=o,this},setOnCollide:function(r){return this.body.onCollideCallback=r,this},setOnCollideEnd:function(r){return this.body.onCollideEndCallback=r,this},setOnCollideActive:function(r){return this.body.onCollideActiveCallback=r,this},setOnCollideWith:function(r,o){Array.isArray(r)||(r=[r]);for(var x=0;x<r.length;x++){var d=r[x].hasOwnProperty("body")?r[x].body:r[x];this.body.setOnCollideWith(d,o)}return this}};n.exports=T},51607:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(22562),x={applyForce:function(d){return this._tempVec2.set(this.body.position.x,this.body.position.y),o.applyForce(this.body,this._tempVec2,d),this},applyForceFrom:function(d,h){return o.applyForce(this.body,d,h),this},thrust:function(d){var h=this.body.angle;return this._tempVec2.set(d*Math.cos(h),d*Math.sin(h)),o.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustLeft:function(d){var h=this.body.angle-Math.PI/2;return this._tempVec2.set(d*Math.cos(h),d*Math.sin(h)),o.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustRight:function(d){var h=this.body.angle+Math.PI/2;return this._tempVec2.set(d*Math.cos(h),d*Math.sin(h)),o.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustBack:function(d){var h=this.body.angle-Math.PI;return this._tempVec2.set(d*Math.cos(h),d*Math.sin(h)),o.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this}};n.exports=x},5436:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setFriction:function(r,o,x){return this.body.friction=r,o!==void 0&&(this.body.frictionAir=o),x!==void 0&&(this.body.frictionStatic=x),this},setFrictionAir:function(r){return this.body.frictionAir=r,this},setFrictionStatic:function(r){return this.body.frictionStatic=r,this}};n.exports=T},39858:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setIgnoreGravity:function(r){return this.body.ignoreGravity=r,this}};n.exports=T},37302:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(22562),x=r(26099),d={setMass:function(h){return o.setMass(this.body,h),this},setDensity:function(h){return o.setDensity(this.body,h),this},centerOfMass:{get:function(){return new x(this.body.centerOfMass.x,this.body.centerOfMass.y)}}};n.exports=d},39132:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setSensor:function(r){return this.body.isSensor=r,this},isSensor:function(){return this.body.isSensor}};n.exports=T},57772:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(66280),x=r(22562),d=r(43855),h=r(95540),l=r(19496),a=r(85791),f=r(41598),c={setRectangle:function(u,v,g){return this.setBody({type:"rectangle",width:u,height:v},g)},setCircle:function(u,v){return this.setBody({type:"circle",radius:u},v)},setPolygon:function(u,v,g){return this.setBody({type:"polygon",sides:v,radius:u},g)},setTrapezoid:function(u,v,g,m){return this.setBody({type:"trapezoid",width:u,height:v,slope:g},m)},setExistingBody:function(u,v){v===void 0&&(v=!0),this.body&&this.world.remove(this.body,!0),this.body=u;for(var g=0;g<u.parts.length;g++)u.parts[g].gameObject=this;var m=this;if(u.destroy=function(){m.world.remove(m.body,!0),m.body.gameObject=null},v&&(this.world.has(u)&&this.world.remove(u,!0),this.world.add(u)),this._originComponent){var y=u.render.sprite.xOffset,C=u.render.sprite.yOffset,P=u.centerOfMass.x,w=u.centerOfMass.y;if(d(P,.5)&&d(w,.5))this.setOrigin(y+.5,C+.5);else{var M=u.centerOffset.x,R=u.centerOffset.y;this.setOrigin(y+M/this.displayWidth,C+R/this.displayHeight)}}return this},setBody:function(u,v){if(!u)return this;var g;typeof u=="string"&&(u={type:u});var m=h(u,"type","rectangle"),y=h(u,"x",this._tempVec2.x),C=h(u,"y",this._tempVec2.y),P=h(u,"width",this.width),w=h(u,"height",this.height);switch(m){case"rectangle":g=o.rectangle(y,C,P,w,v);break;case"circle":var M=h(u,"radius",Math.max(P,w)/2),R=h(u,"maxSides",25);g=o.circle(y,C,M,v,R);break;case"trapezoid":var A=h(u,"slope",.5);g=o.trapezoid(y,C,P,w,A,v);break;case"polygon":var L=h(u,"sides",5),F=h(u,"radius",Math.max(P,w)/2);g=o.polygon(y,C,L,F,v);break;case"fromVertices":case"fromVerts":var G=h(u,"verts",null);if(G)if(typeof G=="string"&&(G=f.fromPath(G)),this.body&&!this.body.hasOwnProperty("temp"))x.setVertices(this.body,G),g=this.body;else{var I=h(u,"flagInternal",!1),B=h(u,"removeCollinear",.01),k=h(u,"minimumArea",10);g=o.fromVertices(y,C,G,v,I,B,k)}break;case"fromPhysicsEditor":g=l.parseBody(y,C,u,v);break;case"fromPhysicsTracer":g=a.parseBody(y,C,u,v);break}return g&&this.setExistingBody(g,u.addToWorld),this}};n.exports=c},38083:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(1121),x=r(53614),d=r(35810),h={setToSleep:function(){return x.set(this.body,!0),this},setAwake:function(){return x.set(this.body,!1),this},setSleepThreshold:function(l){return l===void 0&&(l=60),this.body.sleepThreshold=l,this},setSleepEvents:function(l,a){return this.setSleepStartEvent(l),this.setSleepEndEvent(a),this},setSleepStartEvent:function(l){if(l){var a=this.world;d.on(this.body,"sleepStart",function(f){a.emit(o.SLEEP_START,f,this)})}else d.off(this.body,"sleepStart");return this},setSleepEndEvent:function(l){if(l){var a=this.world;d.on(this.body,"sleepEnd",function(f){a.emit(o.SLEEP_END,f,this)})}else d.off(this.body,"sleepEnd");return this}};n.exports=h},90556:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(22562),x={setStatic:function(d){return o.setStatic(this.body,d),this},isStatic:function(){return this.body.isStatic}};n.exports=x},85436:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(22562),x=r(36383),d=r(86554),h=r(30954),l=4,a={x:{get:function(){return this.body.position.x},set:function(f){this._tempVec2.set(f,this.y),o.setPosition(this.body,this._tempVec2)}},y:{get:function(){return this.body.position.y},set:function(f){this._tempVec2.set(this.x,f),o.setPosition(this.body,this._tempVec2)}},scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(f){this.setScale(f,f)}},scaleX:{get:function(){return this._scaleX},set:function(f){var c=1/this._scaleX,u=1/this._scaleY;this._scaleX=f,this._scaleX===0?this.renderFlags&=~l:this.renderFlags|=l,o.scale(this.body,c,u),o.scale(this.body,f,this._scaleY)}},scaleY:{get:function(){return this._scaleY},set:function(f){var c=1/this._scaleX,u=1/this._scaleY;this._scaleY=f,this._scaleY===0?this.renderFlags&=~l:this.renderFlags|=l,o.scale(this.body,c,u),o.scale(this.body,this._scaleX,f)}},angle:{get:function(){return h(this.body.angle*x.RAD_TO_DEG)},set:function(f){this.rotation=h(f)*x.DEG_TO_RAD}},rotation:{get:function(){return this.body.angle},set:function(f){this._rotation=d(f),o.setAngle(this.body,this._rotation)}},setPosition:function(f,c){return f===void 0&&(f=0),c===void 0&&(c=f),this._tempVec2.set(f,c),o.setPosition(this.body,this._tempVec2),this},setRotation:function(f){return f===void 0&&(f=0),this._rotation=d(f),o.setAngle(this.body,f),this},setFixedRotation:function(){return o.setInertia(this.body,1/0),this},setAngle:function(f){return f===void 0&&(f=0),this.angle=f,o.setAngle(this.body,this.rotation),this},setScale:function(f,c,u){f===void 0&&(f=1),c===void 0&&(c=f);var v=1/this._scaleX,g=1/this._scaleY;return this._scaleX=f,this._scaleY=c,o.scale(this.body,v,g,u),o.scale(this.body,f,c,u),this}};n.exports=a},42081:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(22562),x={setVelocityX:function(d){return this._tempVec2.set(d,this.body.velocity.y),o.setVelocity(this.body,this._tempVec2),this},setVelocityY:function(d){return this._tempVec2.set(this.body.velocity.x,d),o.setVelocity(this.body,this._tempVec2),this},setVelocity:function(d,h){return this._tempVec2.set(d,h),o.setVelocity(this.body,this._tempVec2),this},getVelocity:function(){return o.getVelocity(this.body)},setAngularVelocity:function(d){return o.setAngularVelocity(this.body,d),this},getAngularVelocity:function(){return o.getAngularVelocity(this.body)},setAngularSpeed:function(d){return o.setAngularSpeed(this.body,d),this},getAngularSpeed:function(){return o.getAngularSpeed(this.body)}};n.exports=x},31884:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Bounce:r(70410),Collision:r(66968),Force:r(51607),Friction:r(5436),Gravity:r(39858),Mass:r(37302),Sensor:r(39132),SetBody:r(57772),Sleep:r(38083),Static:r(90556),Transform:r(85436),Velocity:r(42081)}},85608:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="afteradd"},1213:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="afterremove"},25968:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="afterupdate"},67205:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="beforeadd"},39438:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="beforeremove"},44823:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="beforeupdate"},92593:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="collisionactive"},60128:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="collisionend"},76861:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="collisionstart"},92362:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragend"},76408:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="drag"},93971:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragstart"},5656:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pause"},47861:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="resume"},79099:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="sleepend"},35906:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="sleepstart"},1121:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={AFTER_ADD:r(85608),AFTER_REMOVE:r(1213),AFTER_UPDATE:r(25968),BEFORE_ADD:r(67205),BEFORE_REMOVE:r(39438),BEFORE_UPDATE:r(44823),COLLISION_ACTIVE:r(92593),COLLISION_END:r(60128),COLLISION_START:r(76861),DRAG_END:r(92362),DRAG:r(76408),DRAG_START:r(93971),PAUSE:r(5656),RESUME:r(47861),SLEEP_END:r(79099),SLEEP_START:r(35906)}},3875:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={BodyBounds:r(68174),Components:r(31884),Events:r(1121),Factory:r(28137),MatterGameObject:r(75803),Image:r(23181),Matter:r(19933),MatterPhysics:r(42045),PolyDecomp:r(55973),Sprite:r(34803),TileBody:r(73834),PhysicsEditorParser:r(19496),PhysicsJSONParser:r(85791),PointerConstraint:r(98713),World:r(68243)}},22562:(n,T,r)=>{var o={};n.exports=o;var x=r(41598),d=r(31725),h=r(53614),l=r(53402),a=r(15647),f=r(66615);(function(){o._timeCorrection=!0,o._inertiaScale=4,o._nextCollidingGroupId=1,o._nextNonCollidingGroupId=-1,o._nextCategory=1,o._baseDelta=16.666666666666668,o.create=function(u){var v={id:l.nextId(),type:"body",label:"Body",parts:[],plugin:{},attractors:u.attractors||[],wrapBounds:null,angle:0,vertices:null,position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inverseMass:0,inertia:0,deltaTime:16.666666666666668,inverseInertia:0,_original:null,render:{visible:!0,opacity:1,sprite:{xOffset:0,yOffset:0},fillColor:null,fillOpacity:null,lineColor:null,lineOpacity:null,lineThickness:null},gameObject:null,scale:{x:1,y:1},centerOfMass:{x:0,y:0},centerOffset:{x:0,y:0},gravityScale:{x:1,y:1},ignoreGravity:!1,ignorePointer:!1,onCollideCallback:null,onCollideEndCallback:null,onCollideActiveCallback:null,onCollideWith:{}};!u.hasOwnProperty("position")&&u.hasOwnProperty("vertices")?u.position=x.centre(u.vertices):u.hasOwnProperty("vertices")||(v.vertices=x.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"));var g=l.extend(v,u);return c(g,u),g.setOnCollideWith=function(m,y){return y?this.onCollideWith[m.id]=y:delete this.onCollideWith[m.id],this},g},o.nextGroup=function(u){return u?o._nextNonCollidingGroupId--:o._nextCollidingGroupId++},o.nextCategory=function(){return o._nextCategory=o._nextCategory<<1,o._nextCategory};var c=function(u,v){if(v=v||{},o.set(u,{bounds:u.bounds||a.create(u.vertices),positionPrev:u.positionPrev||d.clone(u.position),anglePrev:u.anglePrev||u.angle,vertices:u.vertices,parts:u.parts||[u],isStatic:u.isStatic,isSleeping:u.isSleeping,parent:u.parent||u}),x.rotate(u.vertices,u.angle,u.position),f.rotate(u.axes,u.angle),a.update(u.bounds,u.vertices,u.velocity),o.set(u,{axes:v.axes||u.axes,area:v.area||u.area,mass:v.mass||u.mass,inertia:v.inertia||u.inertia}),u.parts.length===1){var g=u.bounds,m=u.centerOfMass,y=u.centerOffset,C=g.max.x-g.min.x,P=g.max.y-g.min.y;m.x=-(g.min.x-u.position.x)/C,m.y=-(g.min.y-u.position.y)/P,y.x=C*m.x,y.y=P*m.y}};o.set=function(u,v,g){var m;typeof v=="string"&&(m=v,v={},v[m]=g);for(m in v)if(Object.prototype.hasOwnProperty.call(v,m))switch(g=v[m],m){case"isStatic":o.setStatic(u,g);break;case"isSleeping":h.set(u,g);break;case"mass":o.setMass(u,g);break;case"density":o.setDensity(u,g);break;case"inertia":o.setInertia(u,g);break;case"vertices":o.setVertices(u,g);break;case"position":o.setPosition(u,g);break;case"angle":o.setAngle(u,g);break;case"velocity":o.setVelocity(u,g);break;case"angularVelocity":o.setAngularVelocity(u,g);break;case"speed":o.setSpeed(u,g);break;case"angularSpeed":o.setAngularSpeed(u,g);break;case"parts":o.setParts(u,g);break;case"centre":o.setCentre(u,g);break;default:u[m]=g}},o.setStatic=function(u,v){for(var g=0;g<u.parts.length;g++){var m=u.parts[g];v?(m.isStatic||(m._original={restitution:m.restitution,friction:m.friction,mass:m.mass,inertia:m.inertia,density:m.density,inverseMass:m.inverseMass,inverseInertia:m.inverseInertia}),m.restitution=0,m.friction=1,m.mass=m.inertia=m.density=1/0,m.inverseMass=m.inverseInertia=0,m.positionPrev.x=m.position.x,m.positionPrev.y=m.position.y,m.anglePrev=m.angle,m.angularVelocity=0,m.speed=0,m.angularSpeed=0,m.motion=0):m._original&&(m.restitution=m._original.restitution,m.friction=m._original.friction,m.mass=m._original.mass,m.inertia=m._original.inertia,m.density=m._original.density,m.inverseMass=m._original.inverseMass,m.inverseInertia=m._original.inverseInertia,m._original=null),m.isStatic=v}},o.setMass=function(u,v){var g=u.inertia/(u.mass/6);u.inertia=g*(v/6),u.inverseInertia=1/u.inertia,u.mass=v,u.inverseMass=1/u.mass,u.density=u.mass/u.area},o.setDensity=function(u,v){o.setMass(u,v*u.area),u.density=v},o.setInertia=function(u,v){u.inertia=v,u.inverseInertia=1/u.inertia},o.setVertices=function(u,v){v[0].body===u?u.vertices=v:u.vertices=x.create(v,u),u.axes=f.fromVertices(u.vertices),u.area=x.area(u.vertices),o.setMass(u,u.density*u.area);var g=x.centre(u.vertices);x.translate(u.vertices,g,-1),o.setInertia(u,o._inertiaScale*x.inertia(u.vertices,u.mass)),x.translate(u.vertices,u.position),a.update(u.bounds,u.vertices,u.velocity)},o.setParts=function(u,v,g){var m;for(v=v.slice(0),u.parts.length=0,u.parts.push(u),u.parent=u,m=0;m<v.length;m++){var y=v[m];y!==u&&(y.parent=u,u.parts.push(y))}if(u.parts.length!==1){if(g=typeof g<"u"?g:!0,g){var C=[];for(m=0;m<v.length;m++)C=C.concat(v[m].vertices);x.clockwiseSort(C);var P=x.hull(C),w=x.centre(P);o.setVertices(u,P),x.translate(u.vertices,w)}var M=o._totalProperties(u),R=M.centre.x,A=M.centre.y,L=u.bounds,F=u.centerOfMass,G=u.centerOffset;a.update(L,u.vertices,u.velocity),F.x=-(L.min.x-R)/(L.max.x-L.min.x),F.y=-(L.min.y-A)/(L.max.y-L.min.y),G.x=R,G.y=A,u.area=M.area,u.parent=u,u.position.x=R,u.position.y=A,u.positionPrev.x=R,u.positionPrev.y=A,o.setMass(u,M.mass),o.setInertia(u,M.inertia),o.setPosition(u,M.centre)}},o.setCentre=function(u,v,g){g?(u.positionPrev.x+=v.x,u.positionPrev.y+=v.y,u.position.x+=v.x,u.position.y+=v.y):(u.positionPrev.x=v.x-(u.position.x-u.positionPrev.x),u.positionPrev.y=v.y-(u.position.y-u.positionPrev.y),u.position.x=v.x,u.position.y=v.y)},o.setPosition=function(u,v,g){var m=d.sub(v,u.position);g?(u.positionPrev.x=u.position.x,u.positionPrev.y=u.position.y,u.velocity.x=m.x,u.velocity.y=m.y,u.speed=d.magnitude(m)):(u.positionPrev.x+=m.x,u.positionPrev.y+=m.y);for(var y=0;y<u.parts.length;y++){var C=u.parts[y];C.position.x+=m.x,C.position.y+=m.y,x.translate(C.vertices,m),a.update(C.bounds,C.vertices,u.velocity)}},o.setAngle=function(u,v,g){var m=v-u.angle;g?(u.anglePrev=u.angle,u.angularVelocity=m,u.angularSpeed=Math.abs(m)):u.anglePrev+=m;for(var y=0;y<u.parts.length;y++){var C=u.parts[y];C.angle+=m,x.rotate(C.vertices,m,u.position),f.rotate(C.axes,m),a.update(C.bounds,C.vertices,u.velocity),y>0&&d.rotateAbout(C.position,m,u.position,C.position)}},o.setVelocity=function(u,v){var g=u.deltaTime/o._baseDelta;u.positionPrev.x=u.position.x-v.x*g,u.positionPrev.y=u.position.y-v.y*g,u.velocity.x=(u.position.x-u.positionPrev.x)/g,u.velocity.y=(u.position.y-u.positionPrev.y)/g,u.speed=d.magnitude(u.velocity)},o.getVelocity=function(u){var v=o._baseDelta/u.deltaTime;return{x:(u.position.x-u.positionPrev.x)*v,y:(u.position.y-u.positionPrev.y)*v}},o.getSpeed=function(u){return d.magnitude(o.getVelocity(u))},o.setSpeed=function(u,v){o.setVelocity(u,d.mult(d.normalise(o.getVelocity(u)),v))},o.setAngularVelocity=function(u,v){var g=u.deltaTime/o._baseDelta;u.anglePrev=u.angle-v*g,u.angularVelocity=(u.angle-u.anglePrev)/g,u.angularSpeed=Math.abs(u.angularVelocity)},o.getAngularVelocity=function(u){return(u.angle-u.anglePrev)*o._baseDelta/u.deltaTime},o.getAngularSpeed=function(u){return Math.abs(o.getAngularVelocity(u))},o.setAngularSpeed=function(u,v){o.setAngularVelocity(u,l.sign(o.getAngularVelocity(u))*v)},o.translate=function(u,v,g){o.setPosition(u,d.add(u.position,v),g)},o.rotate=function(u,v,g,m){if(!g)o.setAngle(u,u.angle+v,m);else{var y=Math.cos(v),C=Math.sin(v),P=u.position.x-g.x,w=u.position.y-g.y;o.setPosition(u,{x:g.x+(P*y-w*C),y:g.y+(P*C+w*y)},m),o.setAngle(u,u.angle+v,m)}},o.scale=function(u,v,g,m){var y=0,C=0;m=m||u.position;for(var P=u.inertia===1/0,w=0;w<u.parts.length;w++){var M=u.parts[w];M.scale.x=v,M.scale.y=g,x.scale(M.vertices,v,g,m),M.axes=f.fromVertices(M.vertices),M.area=x.area(M.vertices),o.setMass(M,u.density*M.area),x.translate(M.vertices,{x:-M.position.x,y:-M.position.y}),o.setInertia(M,o._inertiaScale*x.inertia(M.vertices,M.mass)),x.translate(M.vertices,{x:M.position.x,y:M.position.y}),w>0&&(y+=M.area,C+=M.inertia),M.position.x=m.x+(M.position.x-m.x)*v,M.position.y=m.y+(M.position.y-m.y)*g,a.update(M.bounds,M.vertices,u.velocity)}u.parts.length>1&&(u.area=y,u.isStatic||(o.setMass(u,u.density*y),o.setInertia(u,C))),u.circleRadius&&(v===g?u.circleRadius*=v:u.circleRadius=null),P&&o.setInertia(u,1/0)},o.update=function(u,v){v=(typeof v<"u"?v:16.666666666666668)*u.timeScale;var g=v*v,m=o._timeCorrection?v/(u.deltaTime||v):1,y=1-u.frictionAir*(v/l._baseDelta),C=(u.position.x-u.positionPrev.x)*m,P=(u.position.y-u.positionPrev.y)*m;u.velocity.x=C*y+u.force.x/u.mass*g,u.velocity.y=P*y+u.force.y/u.mass*g,u.positionPrev.x=u.position.x,u.positionPrev.y=u.position.y,u.position.x+=u.velocity.x,u.position.y+=u.velocity.y,u.deltaTime=v,u.angularVelocity=(u.angle-u.anglePrev)*y*m+u.torque/u.inertia*g,u.anglePrev=u.angle,u.angle+=u.angularVelocity,u.speed=d.magnitude(u.velocity),u.angularSpeed=Math.abs(u.angularVelocity);for(var w=0;w<u.parts.length;w++){var M=u.parts[w];x.translate(M.vertices,u.velocity),w>0&&(M.position.x+=u.velocity.x,M.position.y+=u.velocity.y),u.angularVelocity!==0&&(x.rotate(M.vertices,u.angularVelocity,u.position),f.rotate(M.axes,u.angularVelocity),w>0&&d.rotateAbout(M.position,u.angularVelocity,u.position,M.position)),a.update(M.bounds,M.vertices,u.velocity)}},o.updateVelocities=function(u){var v=o._baseDelta/u.deltaTime,g=u.velocity;g.x=(u.position.x-u.positionPrev.x)*v,g.y=(u.position.y-u.positionPrev.y)*v,u.speed=Math.sqrt(g.x*g.x+g.y*g.y),u.angularVelocity=(u.angle-u.anglePrev)*v,u.angularSpeed=Math.abs(u.angularVelocity)},o.applyForce=function(u,v,g){var m={x:v.x-u.position.x,y:v.y-u.position.y};u.force.x+=g.x,u.force.y+=g.y,u.torque+=m.x*g.y-m.y*g.x},o._totalProperties=function(u){for(var v={mass:0,area:0,inertia:0,centre:{x:0,y:0}},g=u.parts.length===1?0:1;g<u.parts.length;g++){var m=u.parts[g],y=m.mass!==1/0?m.mass:1;v.mass+=y,v.area+=m.area,v.inertia+=m.inertia,v.centre=d.add(v.centre,d.mult(m.position,y))}return v.centre=d.div(v.centre,v.mass),v},o.wrap=function(u,v){var g=a.wrap(u.bounds,v);return g&&o.translate(u,g),g}})()},69351:(n,T,r)=>{var o={};n.exports=o;var x=r(35810),d=r(53402),h=r(15647),l=r(22562);(function(){o.create=function(a){return d.extend({id:d.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},wrapBounds:null,cache:{allBodies:null,allConstraints:null,allComposites:null}},a)},o.setModified=function(a,f,c,u){if(x.trigger(a,"compositeModified",a),a.isModified=f,f&&a.cache&&(a.cache.allBodies=null,a.cache.allConstraints=null,a.cache.allComposites=null),c&&a.parent&&o.setModified(a.parent,f,c,u),u)for(var v=0;v<a.composites.length;v++){var g=a.composites[v];o.setModified(g,f,c,u)}},o.add=function(a,f){var c=[].concat(f);x.trigger(a,"beforeAdd",{object:f});for(var u=0;u<c.length;u++){var v=c[u];switch(v.type){case"body":if(v.parent!==v){d.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}o.addBody(a,v);break;case"constraint":o.addConstraint(a,v);break;case"composite":o.addComposite(a,v);break;case"mouseConstraint":o.addConstraint(a,v.constraint);break}}return x.trigger(a,"afterAdd",{object:f}),a},o.remove=function(a,f,c){var u=[].concat(f);x.trigger(a,"beforeRemove",{object:f});for(var v=0;v<u.length;v++){var g=u[v];switch(g.type){case"body":o.removeBody(a,g,c);break;case"constraint":o.removeConstraint(a,g,c);break;case"composite":o.removeComposite(a,g,c);break;case"mouseConstraint":o.removeConstraint(a,g.constraint);break}}return x.trigger(a,"afterRemove",{object:f}),a},o.addComposite=function(a,f){return a.composites.push(f),f.parent=a,o.setModified(a,!0,!0,!1),a},o.removeComposite=function(a,f,c){var u=d.indexOf(a.composites,f);if(u!==-1){var v=o.allBodies(f);o.removeCompositeAt(a,u);for(var g=0;g<v.length;g++)v[g].sleepCounter=0}if(c)for(var g=0;g<a.composites.length;g++)o.removeComposite(a.composites[g],f,!0);return a},o.removeCompositeAt=function(a,f){return a.composites.splice(f,1),o.setModified(a,!0,!0,!1),a},o.addBody=function(a,f){return a.bodies.push(f),o.setModified(a,!0,!0,!1),a},o.removeBody=function(a,f,c){var u=d.indexOf(a.bodies,f);if(u!==-1&&(o.removeBodyAt(a,u),f.sleepCounter=0),c)for(var v=0;v<a.composites.length;v++)o.removeBody(a.composites[v],f,!0);return a},o.removeBodyAt=function(a,f){return a.bodies.splice(f,1),o.setModified(a,!0,!0,!1),a},o.addConstraint=function(a,f){return a.constraints.push(f),o.setModified(a,!0,!0,!1),a},o.removeConstraint=function(a,f,c){var u=d.indexOf(a.constraints,f);if(u!==-1&&o.removeConstraintAt(a,u),c)for(var v=0;v<a.composites.length;v++)o.removeConstraint(a.composites[v],f,!0);return a},o.removeConstraintAt=function(a,f){return a.constraints.splice(f,1),o.setModified(a,!0,!0,!1),a},o.clear=function(a,f,c){if(c)for(var u=0;u<a.composites.length;u++)o.clear(a.composites[u],f,!0);return f?a.bodies=a.bodies.filter(function(v){return v.isStatic}):a.bodies.length=0,a.constraints.length=0,a.composites.length=0,o.setModified(a,!0,!0,!1),a},o.allBodies=function(a){if(a.cache&&a.cache.allBodies)return a.cache.allBodies;for(var f=[].concat(a.bodies),c=0;c<a.composites.length;c++)f=f.concat(o.allBodies(a.composites[c]));return a.cache&&(a.cache.allBodies=f),f},o.allConstraints=function(a){if(a.cache&&a.cache.allConstraints)return a.cache.allConstraints;for(var f=[].concat(a.constraints),c=0;c<a.composites.length;c++)f=f.concat(o.allConstraints(a.composites[c]));return a.cache&&(a.cache.allConstraints=f),f},o.allComposites=function(a){if(a.cache&&a.cache.allComposites)return a.cache.allComposites;for(var f=[].concat(a.composites),c=0;c<a.composites.length;c++)f=f.concat(o.allComposites(a.composites[c]));return a.cache&&(a.cache.allComposites=f),f},o.get=function(a,f,c){var u,v;switch(c){case"body":u=o.allBodies(a);break;case"constraint":u=o.allConstraints(a);break;case"composite":u=o.allComposites(a).concat(a);break}return u?(v=u.filter(function(g){return g.id.toString()===f.toString()}),v.length===0?null:v[0]):null},o.move=function(a,f,c){return o.remove(a,f),o.add(c,f),a},o.rebase=function(a){for(var f=o.allBodies(a).concat(o.allConstraints(a)).concat(o.allComposites(a)),c=0;c<f.length;c++)f[c].id=d.nextId();return a},o.translate=function(a,f,c){for(var u=c?o.allBodies(a):a.bodies,v=0;v<u.length;v++)l.translate(u[v],f);return a},o.rotate=function(a,f,c,u){for(var v=Math.cos(f),g=Math.sin(f),m=u?o.allBodies(a):a.bodies,y=0;y<m.length;y++){var C=m[y],P=C.position.x-c.x,w=C.position.y-c.y;l.setPosition(C,{x:c.x+(P*v-w*g),y:c.y+(P*g+w*v)}),l.rotate(C,f)}return a},o.scale=function(a,f,c,u,v){for(var g=v?o.allBodies(a):a.bodies,m=0;m<g.length;m++){var y=g[m],C=y.position.x-u.x,P=y.position.y-u.y;l.setPosition(y,{x:u.x+C*f,y:u.y+P*c}),l.scale(y,f,c)}return a},o.bounds=function(a){for(var f=o.allBodies(a),c=[],u=0;u<f.length;u+=1){var v=f[u];c.push(v.bounds.min,v.bounds.max)}return h.create(c)},o.wrap=function(a,f){var c=h.wrap(o.bounds(a),f);return c&&o.translate(a,c),c}})()},4372:(n,T,r)=>{var o={};n.exports=o;var x=r(69351);(function(){o.create=x.create,o.add=x.add,o.remove=x.remove,o.clear=x.clear,o.addComposite=x.addComposite,o.addBody=x.addBody,o.addConstraint=x.addConstraint})()},52284:(n,T,r)=>{var o={};n.exports=o;var x=r(41598),d=r(4506);(function(){var h=[],l={overlap:0,axis:null},a={overlap:0,axis:null};o.create=function(f,c){return{pair:null,collided:!1,bodyA:f,bodyB:c,parentA:f.parent,parentB:c.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[null,null],supportCount:0}},o.collides=function(f,c,u){if(o._overlapAxes(l,f.vertices,c.vertices,f.axes),l.overlap<=0||(o._overlapAxes(a,c.vertices,f.vertices,c.axes),a.overlap<=0))return null;var v=u&&u.table[d.id(f,c)],g;v?g=v.collision:(g=o.create(f,c),g.collided=!0,g.bodyA=f.id<c.id?f:c,g.bodyB=f.id<c.id?c:f,g.parentA=g.bodyA.parent,g.parentB=g.bodyB.parent),f=g.bodyA,c=g.bodyB;var m;l.overlap<a.overlap?m=l:m=a;var y=g.normal,C=g.tangent,P=g.penetration,w=g.supports,M=m.overlap,R=m.axis,A=R.x,L=R.y,F=c.position.x-f.position.x,G=c.position.y-f.position.y;A*F+L*G>=0&&(A=-A,L=-L),y.x=A,y.y=L,C.x=-L,C.y=A,P.x=A*M,P.y=L*M,g.depth=M;var I=o._findSupports(f,c,y,1),B=0;if(x.contains(f.vertices,I[0])&&(w[B++]=I[0]),x.contains(f.vertices,I[1])&&(w[B++]=I[1]),B<2){var k=o._findSupports(c,f,y,-1);x.contains(c.vertices,k[0])&&(w[B++]=k[0]),B<2&&x.contains(c.vertices,k[1])&&(w[B++]=k[1])}return B===0&&(w[B++]=I[0]),g.supportCount=B,g},o._overlapAxes=function(f,c,u,v){var g=c.length,m=u.length,y=c[0].x,C=c[0].y,P=u[0].x,w=u[0].y,M=v.length,R=Number.MAX_VALUE,A=0,L,F,G,I,B,k;for(B=0;B<M;B++){var U=v[B],H=U.x,X=U.y,j=y*H+C*X,J=P*H+w*X,Y=j,$=J;for(k=1;k<g;k+=1)I=c[k].x*H+c[k].y*X,I>Y?Y=I:I<j&&(j=I);for(k=1;k<m;k+=1)I=u[k].x*H+u[k].y*X,I>$?$=I:I<J&&(J=I);if(F=Y-J,G=$-j,L=F<G?F:G,L<R&&(R=L,A=B,L<=0))break}f.axis=v[A],f.overlap=R},o._findSupports=function(f,c,u,v){var g=c.vertices,m=g.length,y=f.position.x,C=f.position.y,P=u.x*v,w=u.y*v,M=g[0],R=M,A=P*(y-R.x)+w*(C-R.y),L,F,G;for(G=1;G<m;G+=1)R=g[G],F=P*(y-R.x)+w*(C-R.y),F<A&&(A=F,M=R);return L=g[(m+M.index-1)%m],A=P*(y-L.x)+w*(C-L.y),R=g[(M.index+1)%m],P*(y-R.x)+w*(C-R.y)<A?(h[0]=M,h[1]=R,h):(h[0]=M,h[1]=L,h)}})()},43424:n=>{var T={};n.exports=T,function(){T.create=function(r){return{vertex:r,normalImpulse:0,tangentImpulse:0}}}()},81388:(n,T,r)=>{var o={};n.exports=o;var x=r(53402),d=r(52284);(function(){o.create=function(h){var l={bodies:[],collisions:[],pairs:null};return x.extend(l,h)},o.setBodies=function(h,l){h.bodies=l.slice(0)},o.clear=function(h){h.bodies=[],h.collisions=[]},o.collisions=function(h){var l=h.pairs,a=h.bodies,f=a.length,c=o.canCollide,u=d.collides,v=h.collisions,g=0,m,y;for(a.sort(o._compareBoundsX),m=0;m<f;m++){var C=a[m],P=C.bounds,w=C.bounds.max.x,M=C.bounds.max.y,R=C.bounds.min.y,A=C.isStatic||C.isSleeping,L=C.parts.length,F=L===1;for(y=m+1;y<f;y++){var G=a[y],I=G.bounds;if(I.min.x>w)break;if(!(M<I.min.y||R>I.max.y)&&!(A&&(G.isStatic||G.isSleeping))&&c(C.collisionFilter,G.collisionFilter)){var B=G.parts.length;if(F&&B===1){var k=u(C,G,l);k&&(v[g++]=k)}else for(var U=L>1?1:0,H=B>1?1:0,X=U;X<L;X++)for(var j=C.parts[X],P=j.bounds,J=H;J<B;J++){var Y=G.parts[J],I=Y.bounds;if(!(P.min.x>I.max.x||P.max.x<I.min.x||P.max.y<I.min.y||P.min.y>I.max.y)){var k=u(j,Y,l);k&&(v[g++]=k)}}}}}return v.length!==g&&(v.length=g),v},o.canCollide=function(h,l){return h.group===l.group&&h.group!==0?h.group>0:(h.mask&l.category)!==0&&(l.mask&h.category)!==0},o._compareBoundsX=function(h,l){return h.bounds.min.x-l.bounds.min.x}})()},4506:(n,T,r)=>{var o={};n.exports=o;var x=r(43424);(function(){o.create=function(d,h){var l=d.bodyA,a=d.bodyB,f={id:o.id(l,a),bodyA:l,bodyB:a,collision:d,contacts:[x.create(),x.create()],contactCount:0,separation:0,isActive:!0,isSensor:l.isSensor||a.isSensor,timeCreated:h,timeUpdated:h,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return o.update(f,d,h),f},o.update=function(d,h,l){var a=h.supports,f=h.supportCount,c=d.contacts,u=h.parentA,v=h.parentB;d.isActive=!0,d.timeUpdated=l,d.collision=h,d.separation=h.depth,d.inverseMass=u.inverseMass+v.inverseMass,d.friction=u.friction<v.friction?u.friction:v.friction,d.frictionStatic=u.frictionStatic>v.frictionStatic?u.frictionStatic:v.frictionStatic,d.restitution=u.restitution>v.restitution?u.restitution:v.restitution,d.slop=u.slop>v.slop?u.slop:v.slop,d.contactCount=f,h.pair=d;var g=a[0],m=c[0],y=a[1],C=c[1];(C.vertex===g||m.vertex===y)&&(c[1]=m,c[0]=m=C,C=c[1]),m.vertex=g,C.vertex=y},o.setActive=function(d,h,l){h?(d.isActive=!0,d.timeUpdated=l):(d.isActive=!1,d.contactCount=0)},o.id=function(d,h){return d.id<h.id?d.id.toString(36)+":"+h.id.toString(36):h.id.toString(36)+":"+d.id.toString(36)}})()},99561:(n,T,r)=>{var o={};n.exports=o;var x=r(4506),d=r(53402);(function(){o.create=function(h){return d.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},h)},o.update=function(h,l,a){var f=x.update,c=x.create,u=x.setActive,v=h.table,g=h.list,m=g.length,y=m,C=h.collisionStart,P=h.collisionEnd,w=h.collisionActive,M=l.length,R=0,A=0,L=0,F,G,I;for(I=0;I<M;I++)F=l[I],G=F.pair,G?(G.isActive&&(w[L++]=G),f(G,F,a)):(G=c(F,a),v[G.id]=G,C[R++]=G,g[y++]=G);for(y=0,m=g.length,I=0;I<m;I++)G=g[I],G.timeUpdated>=a?g[y++]=G:(u(G,!1,a),G.collision.bodyA.sleepCounter>0&&G.collision.bodyB.sleepCounter>0?g[y++]=G:(P[A++]=G,delete v[G.id]));g.length!==y&&(g.length=y),C.length!==R&&(C.length=R),P.length!==A&&(P.length=A),w.length!==L&&(w.length=L)},o.clear=function(h){return h.table={},h.list.length=0,h.collisionStart.length=0,h.collisionActive.length=0,h.collisionEnd.length=0,h}})()},73296:(n,T,r)=>{var o={};n.exports=o;var x=r(31725),d=r(52284),h=r(15647),l=r(66280),a=r(41598);(function(){o.collides=function(f,c){for(var u=[],v=c.length,g=f.bounds,m=d.collides,y=h.overlaps,C=0;C<v;C++){var P=c[C],w=P.parts.length,M=w===1?0:1;if(f!==P&&y(P.bounds,g))for(var R=M;R<w;R++){var A=P.parts[R];if(y(A.bounds,g)){var L=m(A,f);if(L){u.push(L);break}}}}return u},o.ray=function(f,c,u,v){v=v||1e-100;for(var g=x.angle(c,u),m=x.magnitude(x.sub(c,u)),y=(u.x+c.x)*.5,C=(u.y+c.y)*.5,P=l.rectangle(y,C,m,v,{angle:g}),w=o.collides(P,f),M=0;M<w.length;M+=1){var R=w[M];R.body=R.bodyB=R.bodyA}return w},o.region=function(f,c,u){for(var v=[],g=0;g<f.length;g++){var m=f[g],y=h.overlaps(m.bounds,c);(y&&!u||!y&&u)&&v.push(m)}return v},o.point=function(f,c){for(var u=[],v=0;v<f.length;v++){var g=f[v];if(h.contains(g.bounds,c))for(var m=g.parts.length===1?0:1;m<g.parts.length;m++){var y=g.parts[m];if(h.contains(y.bounds,c)&&a.contains(y.vertices,c)){u.push(g);break}}}return u}})()},66272:(n,T,r)=>{var o={};n.exports=o;var x=r(41598),d=r(53402),h=r(15647);(function(){o._restingThresh=2,o._restingThreshTangent=Math.sqrt(6),o._positionDampen=.9,o._positionWarming=.8,o._frictionNormalMultiplier=5,o._frictionMaxStatic=Number.MAX_VALUE,o.preSolvePosition=function(l){var a,f,c,u=l.length;for(a=0;a<u;a++)f=l[a],f.isActive&&(c=f.contactCount,f.collision.parentA.totalContacts+=c,f.collision.parentB.totalContacts+=c)},o.solvePosition=function(l,a,f){var c,u,v,g,m,y,C,P,w=o._positionDampen*(f||1),M=d.clamp(a/d._baseDelta,0,1),R=l.length;for(c=0;c<R;c++)u=l[c],!(!u.isActive||u.isSensor)&&(v=u.collision,g=v.parentA,m=v.parentB,y=v.normal,u.separation=v.depth+y.x*(m.positionImpulse.x-g.positionImpulse.x)+y.y*(m.positionImpulse.y-g.positionImpulse.y));for(c=0;c<R;c++)u=l[c],!(!u.isActive||u.isSensor)&&(v=u.collision,g=v.parentA,m=v.parentB,y=v.normal,P=u.separation-u.slop*M,(g.isStatic||m.isStatic)&&(P*=2),g.isStatic||g.isSleeping||(C=w/g.totalContacts,g.positionImpulse.x+=y.x*P*C,g.positionImpulse.y+=y.y*P*C),m.isStatic||m.isSleeping||(C=w/m.totalContacts,m.positionImpulse.x-=y.x*P*C,m.positionImpulse.y-=y.y*P*C))},o.postSolvePosition=function(l){for(var a=o._positionWarming,f=l.length,c=x.translate,u=h.update,v=0;v<f;v++){var g=l[v],m=g.positionImpulse,y=m.x,C=m.y,P=g.velocity;if(g.totalContacts=0,y!==0||C!==0){for(var w=0;w<g.parts.length;w++){var M=g.parts[w];c(M.vertices,m),u(M.bounds,M.vertices,P),M.position.x+=y,M.position.y+=C}g.positionPrev.x+=y,g.positionPrev.y+=C,y*P.x+C*P.y<0?(m.x=0,m.y=0):(m.x*=a,m.y*=a)}}},o.preSolveVelocity=function(l){var a=l.length,f,c;for(f=0;f<a;f++){var u=l[f];if(!(!u.isActive||u.isSensor)){var v=u.contacts,g=u.contactCount,m=u.collision,y=m.parentA,C=m.parentB,P=m.normal,w=m.tangent;for(c=0;c<g;c++){var M=v[c],R=M.vertex,A=M.normalImpulse,L=M.tangentImpulse;if(A!==0||L!==0){var F=P.x*A+w.x*L,G=P.y*A+w.y*L;y.isStatic||y.isSleeping||(y.positionPrev.x+=F*y.inverseMass,y.positionPrev.y+=G*y.inverseMass,y.anglePrev+=y.inverseInertia*((R.x-y.position.x)*G-(R.y-y.position.y)*F)),C.isStatic||C.isSleeping||(C.positionPrev.x-=F*C.inverseMass,C.positionPrev.y-=G*C.inverseMass,C.anglePrev-=C.inverseInertia*((R.x-C.position.x)*G-(R.y-C.position.y)*F))}}}}},o.solveVelocity=function(l,a){var f=a/d._baseDelta,c=f*f,u=c*f,v=-o._restingThresh*f,g=o._restingThreshTangent,m=o._frictionNormalMultiplier*f,y=o._frictionMaxStatic,C=l.length,P,w,M,R;for(M=0;M<C;M++){var A=l[M];if(!(!A.isActive||A.isSensor)){var L=A.collision,F=L.parentA,G=L.parentB,I=L.normal.x,B=L.normal.y,k=L.tangent.x,U=L.tangent.y,H=A.inverseMass,X=A.friction*A.frictionStatic*m,j=A.contacts,J=A.contactCount,Y=1/J,$=F.position.x-F.positionPrev.x,z=F.position.y-F.positionPrev.y,V=F.angle-F.anglePrev,K=G.position.x-G.positionPrev.x,Q=G.position.y-G.positionPrev.y,_=G.angle-G.anglePrev;for(R=0;R<J;R++){var tt=j[R],rt=tt.vertex,ot=rt.x-F.position.x,ft=rt.y-F.position.y,ct=rt.x-G.position.x,gt=rt.y-G.position.y,xt=$-ft*V,wt=z+ot*V,Tt=K-gt*_,Ht=Q+ct*_,Xt=xt-Tt,Kt=wt-Ht,Pt=I*Xt+B*Kt,Nt=k*Xt+U*Kt,Vt=A.separation+Pt,ee=Math.min(Vt,1);ee=Vt<0?0:ee;var Ee=ee*X;Nt<-Ee||Nt>Ee?(w=Nt>0?Nt:-Nt,P=A.friction*(Nt>0?1:-1)*u,P<-w?P=-w:P>w&&(P=w)):(P=Nt,w=y);var we=ot*B-ft*I,ve=ct*B-gt*I,Fe=Y/(H+F.inverseInertia*we*we+G.inverseInertia*ve*ve),ai=(1+A.restitution)*Pt*Fe;if(P*=Fe,Pt<v)tt.normalImpulse=0;else{var Gt=tt.normalImpulse;tt.normalImpulse+=ai,tt.normalImpulse>0&&(tt.normalImpulse=0),ai=tt.normalImpulse-Gt}if(Nt<-g||Nt>g)tt.tangentImpulse=0;else{var Wt=tt.tangentImpulse;tt.tangentImpulse+=P,tt.tangentImpulse<-w&&(tt.tangentImpulse=-w),tt.tangentImpulse>w&&(tt.tangentImpulse=w),P=tt.tangentImpulse-Wt}var fe=I*ai+k*P,xe=B*ai+U*P;F.isStatic||F.isSleeping||(F.positionPrev.x+=fe*F.inverseMass,F.positionPrev.y+=xe*F.inverseMass,F.anglePrev+=(ot*xe-ft*fe)*F.inverseInertia),G.isStatic||G.isSleeping||(G.positionPrev.x-=fe*G.inverseMass,G.positionPrev.y-=xe*G.inverseMass,G.anglePrev-=(ct*xe-gt*fe)*G.inverseInertia)}}}}})()},48140:(n,T,r)=>{var o={};n.exports=o;var x=r(41598),d=r(31725),h=r(53614),l=r(15647),a=r(66615),f=r(53402);(function(){o._warming=.4,o._torqueDampen=1,o._minLength=1e-6,o.create=function(c){var u=c;u.bodyA&&!u.pointA&&(u.pointA={x:0,y:0}),u.bodyB&&!u.pointB&&(u.pointB={x:0,y:0});var v=u.bodyA?d.add(u.bodyA.position,u.pointA):u.pointA,g=u.bodyB?d.add(u.bodyB.position,u.pointB):u.pointB,m=d.magnitude(d.sub(v,g));u.length=typeof u.length<"u"?u.length:m,u.id=u.id||f.nextId(),u.label=u.label||"Constraint",u.type="constraint",u.stiffness=u.stiffness||(u.length>0?1:.7),u.damping=u.damping||0,u.angularStiffness=u.angularStiffness||0,u.angleA=u.bodyA?u.bodyA.angle:u.angleA,u.angleB=u.bodyB?u.bodyB.angle:u.angleB,u.plugin={};var y={visible:!0,type:"line",anchors:!0,lineColor:null,lineOpacity:null,lineThickness:null,pinSize:null,anchorColor:null,anchorSize:null};return u.length===0&&u.stiffness>.1?(y.type="pin",y.anchors=!1):u.stiffness<.9&&(y.type="spring"),u.render=f.extend(y,u.render),u},o.preSolveAll=function(c){for(var u=0;u<c.length;u+=1){var v=c[u],g=v.constraintImpulse;v.isStatic||g.x===0&&g.y===0&&g.angle===0||(v.position.x+=g.x,v.position.y+=g.y,v.angle+=g.angle)}},o.solveAll=function(c,u){for(var v=f.clamp(u/f._baseDelta,0,1),g=0;g<c.length;g+=1){var m=c[g],y=!m.bodyA||m.bodyA&&m.bodyA.isStatic,C=!m.bodyB||m.bodyB&&m.bodyB.isStatic;(y||C)&&o.solve(c[g],v)}for(g=0;g<c.length;g+=1)m=c[g],y=!m.bodyA||m.bodyA&&m.bodyA.isStatic,C=!m.bodyB||m.bodyB&&m.bodyB.isStatic,!y&&!C&&o.solve(c[g],v)},o.solve=function(c,u){var v=c.bodyA,g=c.bodyB,m=c.pointA,y=c.pointB;if(!(!v&&!g)){v&&!v.isStatic&&(d.rotate(m,v.angle-c.angleA,m),c.angleA=v.angle),g&&!g.isStatic&&(d.rotate(y,g.angle-c.angleB,y),c.angleB=g.angle);var C=m,P=y;if(v&&(C=d.add(v.position,m)),g&&(P=d.add(g.position,y)),!(!C||!P)){var w=d.sub(C,P),M=d.magnitude(w);M<o._minLength&&(M=o._minLength);var R=(M-c.length)/M,A=c.stiffness>=1||c.length===0,L=A?c.stiffness*u:c.stiffness*u*u,F=c.damping*u,G=d.mult(w,R*L),I=(v?v.inverseMass:0)+(g?g.inverseMass:0),B=(v?v.inverseInertia:0)+(g?g.inverseInertia:0),k=I+B,U,H,X,j,J;if(F>0){var Y=d.create();X=d.div(w,M),J=d.sub(g&&d.sub(g.position,g.positionPrev)||Y,v&&d.sub(v.position,v.positionPrev)||Y),j=d.dot(X,J)}v&&!v.isStatic&&(H=v.inverseMass/I,v.constraintImpulse.x-=G.x*H,v.constraintImpulse.y-=G.y*H,v.position.x-=G.x*H,v.position.y-=G.y*H,F>0&&(v.positionPrev.x-=F*X.x*j*H,v.positionPrev.y-=F*X.y*j*H),U=d.cross(m,G)/k*o._torqueDampen*v.inverseInertia*(1-c.angularStiffness),v.constraintImpulse.angle-=U,v.angle-=U),g&&!g.isStatic&&(H=g.inverseMass/I,g.constraintImpulse.x+=G.x*H,g.constraintImpulse.y+=G.y*H,g.position.x+=G.x*H,g.position.y+=G.y*H,F>0&&(g.positionPrev.x+=F*X.x*j*H,g.positionPrev.y+=F*X.y*j*H),U=d.cross(y,G)/k*o._torqueDampen*g.inverseInertia*(1-c.angularStiffness),g.constraintImpulse.angle+=U,g.angle+=U)}}},o.postSolveAll=function(c){for(var u=0;u<c.length;u++){var v=c[u],g=v.constraintImpulse;if(!(v.isStatic||g.x===0&&g.y===0&&g.angle===0)){h.set(v,!1);for(var m=0;m<v.parts.length;m++){var y=v.parts[m];x.translate(y.vertices,g),m>0&&(y.position.x+=g.x,y.position.y+=g.y),g.angle!==0&&(x.rotate(y.vertices,g.angle,v.position),a.rotate(y.axes,g.angle),m>0&&d.rotateAbout(y.position,g.angle,v.position,y.position)),l.update(y.bounds,y.vertices,v.velocity)}g.angle*=o._warming,g.x*=o._warming,g.y*=o._warming}}},o.pointAWorld=function(c){return{x:(c.bodyA?c.bodyA.position.x:0)+(c.pointA?c.pointA.x:0),y:(c.bodyA?c.bodyA.position.y:0)+(c.pointA?c.pointA.y:0)}},o.pointBWorld=function(c){return{x:(c.bodyB?c.bodyB.position.x:0)+(c.pointB?c.pointB.x:0),y:(c.bodyB?c.bodyB.position.y:0)+(c.pointB?c.pointB.y:0)}},o.currentLength=function(c){var u=(c.bodyA?c.bodyA.position.x:0)+(c.pointA?c.pointA.x:0),v=(c.bodyA?c.bodyA.position.y:0)+(c.pointA?c.pointA.y:0),g=(c.bodyB?c.bodyB.position.x:0)+(c.pointB?c.pointB.x:0),m=(c.bodyB?c.bodyB.position.y:0)+(c.pointB?c.pointB.y:0),y=u-g,C=v-m;return Math.sqrt(y*y+C*C)}})()},53402:(n,T,r)=>{var o={};n.exports=o,function(){o._baseDelta=16.666666666666668,o._nextId=0,o._seed=0,o._nowStartTime=+new Date,o._warnedOnce={},o._decomp=null,o.extend=function(d,h){var l,a;typeof h=="boolean"?(l=2,a=h):(l=1,a=!0);for(var f=l;f<arguments.length;f++){var c=arguments[f];if(c)for(var u in c)a&&c[u]&&c[u].constructor===Object&&(!d[u]||d[u].constructor===Object)?(d[u]=d[u]||{},o.extend(d[u],a,c[u])):d[u]=c[u]}return d},o.clone=function(d,h){return o.extend({},h,d)},o.keys=function(d){if(Object.keys)return Object.keys(d);var h=[];for(var l in d)h.push(l);return h},o.values=function(d){var h=[];if(Object.keys){for(var l=Object.keys(d),a=0;a<l.length;a++)h.push(d[l[a]]);return h}for(var f in d)h.push(d[f]);return h},o.get=function(d,h,l,a){h=h.split(".").slice(l,a);for(var f=0;f<h.length;f+=1)d=d[h[f]];return d},o.set=function(d,h,l,a,f){var c=h.split(".").slice(a,f);return o.get(d,h,0,-1)[c[c.length-1]]=l,l},o.shuffle=function(d){for(var h=d.length-1;h>0;h--){var l=Math.floor(o.random()*(h+1)),a=d[h];d[h]=d[l],d[l]=a}return d},o.choose=function(d){return d[Math.floor(o.random()*d.length)]},o.isElement=function(d){return typeof HTMLElement<"u"?d instanceof HTMLElement:!!(d&&d.nodeType&&d.nodeName)},o.isArray=function(d){return Object.prototype.toString.call(d)==="[object Array]"},o.isFunction=function(d){return typeof d=="function"},o.isPlainObject=function(d){return typeof d=="object"&&d.constructor===Object},o.isString=function(d){return toString.call(d)==="[object String]"},o.clamp=function(d,h,l){return d<h?h:d>l?l:d},o.sign=function(d){return d<0?-1:1},o.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-o._nowStartTime},o.random=function(d,h){return d=typeof d<"u"?d:0,h=typeof h<"u"?h:1,d+x()*(h-d)};var x=function(){return o._seed=(o._seed*9301+49297)%233280,o._seed/233280};o.colorToNumber=function(d){return d=d.replace("#",""),d.length==3&&(d=d.charAt(0)+d.charAt(0)+d.charAt(1)+d.charAt(1)+d.charAt(2)+d.charAt(2)),parseInt(d,16)},o.logLevel=1,o.log=function(){console&&o.logLevel>0&&o.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},o.info=function(){console&&o.logLevel>0&&o.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},o.warn=function(){console&&o.logLevel>0&&o.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},o.warnOnce=function(){var d=Array.prototype.slice.call(arguments).join(" ");o._warnedOnce[d]||(o.warn(d),o._warnedOnce[d]=!0)},o.deprecated=function(d,h,l){d[h]=o.chain(function(){o.warnOnce(" deprecated ",l)},d[h])},o.nextId=function(){return o._nextId++},o.indexOf=function(d,h){if(d.indexOf)return d.indexOf(h);for(var l=0;l<d.length;l++)if(d[l]===h)return l;return-1},o.map=function(d,h){if(d.map)return d.map(h);for(var l=[],a=0;a<d.length;a+=1)l.push(h(d[a]));return l},o.topologicalSort=function(d){var h=[],l=[],a=[];for(var f in d)!l[f]&&!a[f]&&o._topologicalSort(f,l,a,d,h);return h},o._topologicalSort=function(d,h,l,a,f){var c=a[d]||[];l[d]=!0;for(var u=0;u<c.length;u+=1){var v=c[u];l[v]||h[v]||o._topologicalSort(v,h,l,a,f)}l[d]=!1,h[d]=!0,f.push(d)},o.chain=function(){for(var d=[],h=0;h<arguments.length;h+=1){var l=arguments[h];l._chained?d.push.apply(d,l._chained):d.push(l)}var a=function(){for(var f,c=new Array(arguments.length),u=0,v=arguments.length;u<v;u++)c[u]=arguments[u];for(u=0;u<d.length;u+=1){var g=d[u].apply(f,c);typeof g<"u"&&(f=g)}return f};return a._chained=d,a},o.chainPathBefore=function(d,h,l){return o.set(d,h,o.chain(l,o.get(d,h)))},o.chainPathAfter=function(d,h,l){return o.set(d,h,o.chain(o.get(d,h),l))},o.setDecomp=function(d){o._decomp=d},o.getDecomp=function(){var d=o._decomp;try{!d&&typeof window<"u"&&(d=window.decomp),!d&&typeof r.g<"u"&&(d=r.g.decomp)}catch{d=null}return d}}()},48413:(n,T,r)=>{var o={};n.exports=o;var x=r(53614),d=r(66272),h=r(81388),l=r(99561),a=r(35810),f=r(69351),c=r(48140),u=r(53402),v=r(22562);(function(){o._deltaMax=16.666666666666668,o.create=function(g){g=g||{};var m={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0,lastUpdatesPerFrame:0}},y=u.extend(m,g);return y.world=g.world||f.create({label:"World"}),y.pairs=g.pairs||l.create(),y.detector=g.detector||h.create(),y.detector.pairs=y.pairs,y.grid={buckets:[]},y.world.gravity=y.gravity,y.broadphase=y.grid,y.metrics={},y},o.update=function(g,m){var y=u.now(),C=g.world,P=g.detector,w=g.pairs,M=g.timing,R=M.timestamp,A;m>o._deltaMax&&u.warnOnce("Matter.Engine.update: delta argument is recommended to be less than or equal to",o._deltaMax.toFixed(3),"ms."),m=typeof m<"u"?m:u._baseDelta,m*=M.timeScale,M.timestamp+=m,M.lastDelta=m;var L={timestamp:M.timestamp,delta:m};a.trigger(g,"beforeUpdate",L);var F=f.allBodies(C),G=f.allConstraints(C),I=f.allComposites(C);for(C.isModified&&(h.setBodies(P,F),f.setModified(C,!1,!1,!0)),g.enableSleeping&&x.update(F,m),o._bodiesApplyGravity(F,g.gravity),o.wrap(F,I),o.attractors(F),m>0&&o._bodiesUpdate(F,m),a.trigger(g,"beforeSolve",L),c.preSolveAll(F),A=0;A<g.constraintIterations;A++)c.solveAll(G,m);c.postSolveAll(F);var B=h.collisions(P);l.update(w,B,R),g.enableSleeping&&x.afterCollisions(w.list),w.collisionStart.length>0&&a.trigger(g,"collisionStart",{pairs:w.collisionStart,timestamp:M.timestamp,delta:m});var k=u.clamp(20/g.positionIterations,0,1);for(d.preSolvePosition(w.list),A=0;A<g.positionIterations;A++)d.solvePosition(w.list,m,k);for(d.postSolvePosition(F),c.preSolveAll(F),A=0;A<g.constraintIterations;A++)c.solveAll(G,m);for(c.postSolveAll(F),d.preSolveVelocity(w.list),A=0;A<g.velocityIterations;A++)d.solveVelocity(w.list,m);return o._bodiesUpdateVelocities(F),w.collisionActive.length>0&&a.trigger(g,"collisionActive",{pairs:w.collisionActive,timestamp:M.timestamp,delta:m}),w.collisionEnd.length>0&&a.trigger(g,"collisionEnd",{pairs:w.collisionEnd,timestamp:M.timestamp,delta:m}),o._bodiesClearForces(F),a.trigger(g,"afterUpdate",L),g.timing.lastElapsed=u.now()-y,g},o.merge=function(g,m){if(u.extend(g,m),m.world){g.world=m.world,o.clear(g);for(var y=f.allBodies(g.world),C=0;C<y.length;C++){var P=y[C];x.set(P,!1),P.id=u.nextId()}}},o.clear=function(g){l.clear(g.pairs),h.clear(g.detector)},o._bodiesClearForces=function(g){for(var m=g.length,y=0;y<m;y++){var C=g[y];C.force.x=0,C.force.y=0,C.torque=0}},o._bodiesApplyGravity=function(g,m){var y=typeof m.scale<"u"?m.scale:.001,C=g.length;if(!(m.x===0&&m.y===0||y===0))for(var P=0;P<C;P++){var w=g[P];w.ignoreGravity||w.isStatic||w.isSleeping||(w.force.y+=w.mass*m.y*y,w.force.x+=w.mass*m.x*y)}},o._bodiesUpdate=function(g,m){for(var y=g.length,C=0;C<y;C++){var P=g[C];P.isStatic||P.isSleeping||v.update(P,m)}},o._bodiesUpdateVelocities=function(g){for(var m=g.length,y=0;y<m;y++)v.updateVelocities(g[y])},o.wrap=function(g,m){for(var y=0;y<g.length;y+=1){var C=g[y];C.wrapBounds!==null&&v.wrap(C,C.wrapBounds)}for(y=0;y<m.length;y+=1){var P=m[y];P.wrapBounds!==null&&f.wrap(P,P.wrapBounds)}},o.attractors=function(g){for(var m=0;m<g.length;m++){var y=g[m],C=y.attractors;if(C&&C.length>0)for(var P=0;P<g.length;P++){var w=g[P];if(m!==P)for(var M=0;M<C.length;M++){var R=C[M],A=R;u.isFunction(R)&&(A=R(y,w)),A&&v.applyForce(w,w.position,A)}}}}})()},35810:(n,T,r)=>{var o={};n.exports=o;var x=r(53402);(function(){o.on=function(d,h,l){for(var a=h.split(" "),f,c=0;c<a.length;c++)f=a[c],d.events=d.events||{},d.events[f]=d.events[f]||[],d.events[f].push(l);return l},o.off=function(d,h,l){if(!h){d.events={};return}typeof h=="function"&&(l=h,h=x.keys(d.events).join(" "));for(var a=h.split(" "),f=0;f<a.length;f++){var c=d.events[a[f]],u=[];if(l&&c)for(var v=0;v<c.length;v++)c[v]!==l&&u.push(c[v]);d.events[a[f]]=u}},o.trigger=function(d,h,l){var a,f,c,u,v=d.events;if(v&&x.keys(v).length>0){l||(l={}),a=h.split(" ");for(var g=0;g<a.length;g++)if(f=a[g],c=v[f],c){u=x.clone(l,!1),u.name=f,u.source=d;for(var m=0;m<c.length;m++)c[m].apply(d,[u])}}}})()},6790:(n,T,r)=>{var o={};n.exports=o;var x=r(73832),d=r(53402);(function(){o.name="matter-js",o.version="0.20.0",o.uses=[],o.used=[],o.use=function(){x.use(o,Array.prototype.slice.call(arguments))},o.before=function(h,l){return h=h.replace(/^Matter./,""),d.chainPathBefore(o,h,l)},o.after=function(h,l){return h=h.replace(/^Matter./,""),d.chainPathAfter(o,h,l)}})()},73832:(n,T,r)=>{var o={};n.exports=o;var x=r(53402);(function(){o._registry={},o.register=function(d){if(o.isPlugin(d)||x.warn("Plugin.register:",o.toString(d),"does not implement all required fields."),d.name in o._registry){var h=o._registry[d.name],l=o.versionParse(d.version).number,a=o.versionParse(h.version).number;l>a?(x.warn("Plugin.register:",o.toString(h),"was upgraded to",o.toString(d)),o._registry[d.name]=d):l<a?x.warn("Plugin.register:",o.toString(h),"can not be downgraded to",o.toString(d)):d!==h&&x.warn("Plugin.register:",o.toString(d),"is already registered to different plugin object")}else o._registry[d.name]=d;return d},o.resolve=function(d){return o._registry[o.dependencyParse(d).name]},o.toString=function(d){return typeof d=="string"?d:(d.name||"anonymous")+"@"+(d.version||d.range||"0.0.0")},o.isPlugin=function(d){return d&&d.name&&d.version&&d.install},o.isUsed=function(d,h){return d.used.indexOf(h)>-1},o.isFor=function(d,h){var l=d.for&&o.dependencyParse(d.for);return!d.for||h.name===l.name&&o.versionSatisfies(h.version,l.range)},o.use=function(d,h){if(d.uses=(d.uses||[]).concat(h||[]),d.uses.length===0){x.warn("Plugin.use:",o.toString(d),"does not specify any dependencies to install.");return}for(var l=o.dependencies(d),a=x.topologicalSort(l),f=[],c=0;c<a.length;c+=1)if(a[c]!==d.name){var u=o.resolve(a[c]);if(!u){f.push(" "+a[c]);continue}o.isUsed(d,u.name)||(o.isFor(u,d)||(x.warn("Plugin.use:",o.toString(u),"is for",u.for,"but installed on",o.toString(d)+"."),u._warned=!0),u.install?u.install(d):(x.warn("Plugin.use:",o.toString(u),"does not specify an install function."),u._warned=!0),u._warned?(f.push(" "+o.toString(u)),delete u._warned):f.push(" "+o.toString(u)),d.used.push(u.name))}f.length>0&&!u.silent&&x.info(f.join("  "))},o.dependencies=function(d,h){var l=o.dependencyParse(d),a=l.name;if(h=h||{},!(a in h)){d=o.resolve(d)||d,h[a]=x.map(d.uses||[],function(c){o.isPlugin(c)&&o.register(c);var u=o.dependencyParse(c),v=o.resolve(c);return v&&!o.versionSatisfies(v.version,u.range)?(x.warn("Plugin.dependencies:",o.toString(v),"does not satisfy",o.toString(u),"used by",o.toString(l)+"."),v._warned=!0,d._warned=!0):v||(x.warn("Plugin.dependencies:",o.toString(c),"used by",o.toString(l),"could not be resolved."),d._warned=!0),u.name});for(var f=0;f<h[a].length;f+=1)o.dependencies(h[a][f],h);return h}},o.dependencyParse=function(d){if(x.isString(d)){var h=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return h.test(d)||x.warn("Plugin.dependencyParse:",d,"is not a valid dependency string."),{name:d.split("@")[0],range:d.split("@")[1]||"*"}}return{name:d.name,range:d.range||d.version}},o.versionParse=function(d){var h=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;h.test(d)||x.warn("Plugin.versionParse:",d,"is not a valid version or range.");var l=h.exec(d),a=Number(l[4]),f=Number(l[5]),c=Number(l[6]);return{isRange:!!(l[1]||l[2]),version:l[3],range:d,operator:l[1]||l[2]||"",major:a,minor:f,patch:c,parts:[a,f,c],prerelease:l[7],number:a*1e8+f*1e4+c}},o.versionSatisfies=function(d,h){h=h||"*";var l=o.versionParse(h),a=o.versionParse(d);if(l.isRange){if(l.operator==="*"||d==="*")return!0;if(l.operator===">")return a.number>l.number;if(l.operator===">=")return a.number>=l.number;if(l.operator==="~")return a.major===l.major&&a.minor===l.minor&&a.patch>=l.patch;if(l.operator==="^")return l.major>0?a.major===l.major&&a.number>=l.number:l.minor>0?a.minor===l.minor&&a.patch>=l.patch:a.patch===l.patch}return d===h||d==="*"}})()},13037:(n,T,r)=>{var o={};n.exports=o;var x=r(35810),d=r(48413),h=r(53402);(function(){o._maxFrameDelta=66.66666666666667,o._frameDeltaFallback=16.666666666666668,o._timeBufferMargin=1.5,o._elapsedNextEstimate=1,o._smoothingLowerBound=.1,o._smoothingUpperBound=.9,o.create=function(a){var f={delta:16.666666666666668,frameDelta:null,frameDeltaSmoothing:!0,frameDeltaSnapping:!0,frameDeltaHistory:[],frameDeltaHistorySize:100,frameRequestId:null,timeBuffer:0,timeLastTick:null,maxUpdates:null,maxFrameTime:33.333333333333336,lastUpdatesDeferred:0,enabled:!0},c=h.extend(f,a);return c.fps=0,c},o.run=function(a,f){return a.timeBuffer=o._frameDeltaFallback,function c(u){a.frameRequestId=o._onNextFrame(a,c),u&&a.enabled&&o.tick(a,f,u)}(),a},o.tick=function(a,f,c){var u=h.now(),v=a.delta,g=0,m=c-a.timeLastTick;if((!m||!a.timeLastTick||m>Math.max(o._maxFrameDelta,a.maxFrameTime))&&(m=a.frameDelta||o._frameDeltaFallback),a.frameDeltaSmoothing){a.frameDeltaHistory.push(m),a.frameDeltaHistory=a.frameDeltaHistory.slice(-a.frameDeltaHistorySize);var y=a.frameDeltaHistory.slice(0).sort(),C=a.frameDeltaHistory.slice(y.length*o._smoothingLowerBound,y.length*o._smoothingUpperBound),P=l(C);m=P||m}a.frameDeltaSnapping&&(m=1e3/Math.round(1e3/m)),a.frameDelta=m,a.timeLastTick=c,a.timeBuffer+=a.frameDelta,a.timeBuffer=h.clamp(a.timeBuffer,0,a.frameDelta+v*o._timeBufferMargin),a.lastUpdatesDeferred=0;var w=a.maxUpdates||Math.ceil(a.maxFrameTime/v),M={timestamp:f.timing.timestamp};x.trigger(a,"beforeTick",M),x.trigger(a,"tick",M);for(var R=h.now();v>0&&a.timeBuffer>=v*o._timeBufferMargin;){x.trigger(a,"beforeUpdate",M),d.update(f,v),x.trigger(a,"afterUpdate",M),a.timeBuffer-=v,g+=1;var A=h.now()-u,L=h.now()-R,F=A+o._elapsedNextEstimate*L/g;if(g>=w||F>a.maxFrameTime){a.lastUpdatesDeferred=Math.round(Math.max(0,a.timeBuffer/v-o._timeBufferMargin));break}}f.timing.lastUpdatesPerFrame=g,x.trigger(a,"afterTick",M),a.frameDeltaHistory.length>=100&&(a.lastUpdatesDeferred&&Math.round(a.frameDelta/v)>w?h.warnOnce("Matter.Runner: runner reached runner.maxUpdates, see docs."):a.lastUpdatesDeferred&&h.warnOnce("Matter.Runner: runner reached runner.maxFrameTime, see docs."),typeof a.isFixed<"u"&&h.warnOnce("Matter.Runner: runner.isFixed is now redundant, see docs."),(a.deltaMin||a.deltaMax)&&h.warnOnce("Matter.Runner: runner.deltaMin and runner.deltaMax were removed, see docs."),a.fps!==0&&h.warnOnce("Matter.Runner: runner.fps was replaced by runner.delta, see docs."))},o.stop=function(a){o._cancelNextFrame(a)},o._onNextFrame=function(a,f){if(typeof window<"u"&&window.requestAnimationFrame)a.frameRequestId=window.requestAnimationFrame(f);else throw new Error("Matter.Runner: missing required global window.requestAnimationFrame.");return a.frameRequestId},o._cancelNextFrame=function(a){if(typeof window<"u"&&window.cancelAnimationFrame)window.cancelAnimationFrame(a.frameRequestId);else throw new Error("Matter.Runner: missing required global window.cancelAnimationFrame.")};var l=function(a){for(var f=0,c=a.length,u=0;u<c;u+=1)f+=a[u];return f/c||0};o._mean=l})()},53614:(n,T,r)=>{var o={};n.exports=o;var x=r(22562),d=r(35810),h=r(53402);(function(){o._motionWakeThreshold=.18,o._motionSleepThreshold=.08,o._minBias=.9,o.update=function(l,a){for(var f=a/h._baseDelta,c=o._motionSleepThreshold,u=0;u<l.length;u++){var v=l[u],g=x.getSpeed(v),m=x.getAngularSpeed(v),y=g*g+m*m;if(v.force.x!==0||v.force.y!==0){o.set(v,!1);continue}var C=Math.min(v.motion,y),P=Math.max(v.motion,y);v.motion=o._minBias*C+(1-o._minBias)*P,v.sleepThreshold>0&&v.motion<c?(v.sleepCounter+=1,v.sleepCounter>=v.sleepThreshold/f&&o.set(v,!0)):v.sleepCounter>0&&(v.sleepCounter-=1)}},o.afterCollisions=function(l){for(var a=o._motionSleepThreshold,f=0;f<l.length;f++){var c=l[f];if(c.isActive){var u=c.collision,v=u.bodyA.parent,g=u.bodyB.parent;if(!(v.isSleeping&&g.isSleeping||v.isStatic||g.isStatic)&&(v.isSleeping||g.isSleeping)){var m=v.isSleeping&&!v.isStatic?v:g,y=m===v?g:v;!m.isStatic&&y.motion>a&&o.set(m,!1)}}}},o.set=function(l,a){var f=l.isSleeping;a?(l.isSleeping=!0,l.sleepCounter=l.sleepThreshold,l.positionImpulse.x=0,l.positionImpulse.y=0,l.positionPrev.x=l.position.x,l.positionPrev.y=l.position.y,l.anglePrev=l.angle,l.speed=0,l.angularSpeed=0,l.motion=0,f||d.trigger(l,"sleepStart")):(l.isSleeping=!1,l.sleepCounter=0,f&&d.trigger(l,"sleepEnd"))}})()},66280:(n,T,r)=>{var o={};n.exports=o;var x=r(41598),d=r(53402),h=r(22562),l=r(15647),a=r(31725);(function(){o.rectangle=function(f,c,u,v,g){g=g||{};var m={label:"Rectangle Body",position:{x:f,y:c},vertices:x.fromPath("L 0 0 L "+u+" 0 L "+u+" "+v+" L 0 "+v)};if(g.chamfer){var y=g.chamfer;m.vertices=x.chamfer(m.vertices,y.radius,y.quality,y.qualityMin,y.qualityMax),delete g.chamfer}return h.create(d.extend({},m,g))},o.trapezoid=function(f,c,u,v,g,m){m=m||{},g>=1&&d.warn("Bodies.trapezoid: slope parameter must be < 1."),g*=.5;var y=(1-g*2)*u,C=u*g,P=C+y,w=P+C,M;g<.5?M="L 0 0 L "+C+" "+-v+" L "+P+" "+-v+" L "+w+" 0":M="L 0 0 L "+P+" "+-v+" L "+w+" 0";var R={label:"Trapezoid Body",position:{x:f,y:c},vertices:x.fromPath(M)};if(m.chamfer){var A=m.chamfer;R.vertices=x.chamfer(R.vertices,A.radius,A.quality,A.qualityMin,A.qualityMax),delete m.chamfer}return h.create(d.extend({},R,m))},o.circle=function(f,c,u,v,g){v=v||{};var m={label:"Circle Body",circleRadius:u};g=g||25;var y=Math.ceil(Math.max(10,Math.min(g,u)));return y%2===1&&(y+=1),o.polygon(f,c,y,u,d.extend({},m,v))},o.polygon=function(f,c,u,v,g){if(g=g||{},u<3)return o.circle(f,c,v,g);for(var m=2*Math.PI/u,y="",C=m*.5,P=0;P<u;P+=1){var w=C+P*m,M=Math.cos(w)*v,R=Math.sin(w)*v;y+="L "+M.toFixed(3)+" "+R.toFixed(3)+" "}var A={label:"Polygon Body",position:{x:f,y:c},vertices:x.fromPath(y)};if(g.chamfer){var L=g.chamfer;A.vertices=x.chamfer(A.vertices,L.radius,L.quality,L.qualityMin,L.qualityMax),delete g.chamfer}return h.create(d.extend({},A,g))},o.fromVertices=function(f,c,u,v,g,m,y,C){var P=d.getDecomp(),w,M,R,A,L,F,G,I,B,k,U;for(w=!!(P&&P.quickDecomp),v=v||{},R=[],g=typeof g<"u"?g:!1,m=typeof m<"u"?m:.01,y=typeof y<"u"?y:10,C=typeof C<"u"?C:.01,d.isArray(u[0])||(u=[u]),k=0;k<u.length;k+=1)if(F=u[k],A=x.isConvex(F),L=!A,L&&!w&&d.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),A||!w)A?F=x.clockwiseSort(F):F=x.hull(F),R.push({position:{x:f,y:c},vertices:F});else{var H=F.map(function(tt){return[tt.x,tt.y]});P.makeCCW(H),m!==!1&&P.removeCollinearPoints(H,m),C!==!1&&P.removeDuplicatePoints&&P.removeDuplicatePoints(H,C);var X=P.quickDecomp(H);for(G=0;G<X.length;G++){var j=X[G],J=j.map(function(tt){return{x:tt[0],y:tt[1]}});y>0&&x.area(J)<y||R.push({position:x.centre(J),vertices:J})}}for(G=0;G<R.length;G++)R[G]=h.create(d.extend(R[G],v));if(g){var Y=5;for(G=0;G<R.length;G++){var $=R[G];for(I=G+1;I<R.length;I++){var z=R[I];if(l.overlaps($.bounds,z.bounds)){var V=$.vertices,K=z.vertices;for(B=0;B<$.vertices.length;B++)for(U=0;U<z.vertices.length;U++){var Q=a.magnitudeSquared(a.sub(V[(B+1)%V.length],K[U])),_=a.magnitudeSquared(a.sub(V[B],K[(U+1)%K.length]));Q<Y&&_<Y&&(V[B].isInternal=!0,K[U].isInternal=!0)}}}}}return R.length>1?(M=h.create(d.extend({parts:R.slice(0)},v)),h.setPosition(M,{x:f,y:c}),M):R[0]},o.flagCoincidentParts=function(f,c){c===void 0&&(c=5);for(var u=0;u<f.length;u++)for(var v=f[u],g=u+1;g<f.length;g++){var m=f[g];if(l.overlaps(v.bounds,m.bounds))for(var y=v.vertices,C=m.vertices,P=0;P<v.vertices.length;P++)for(var w=0;w<m.vertices.length;w++){var M=a.magnitudeSquared(a.sub(y[(P+1)%y.length],C[w])),R=a.magnitudeSquared(a.sub(y[P],C[(w+1)%C.length]));M<c&&R<c&&(y[P].isInternal=!0,C[w].isInternal=!0)}}return f}})()},74116:(n,T,r)=>{var o={};n.exports=o;var x=r(69351),d=r(48140),h=r(53402),l=r(22562),a=r(66280);(function(){o.stack=function(f,c,u,v,g,m,y){for(var C=x.create({label:"Stack"}),P=f,w=c,M,R=0,A=0;A<v;A++){for(var L=0,F=0;F<u;F++){var G=y(P,w,F,A,M,R);if(G){var I=G.bounds.max.y-G.bounds.min.y,B=G.bounds.max.x-G.bounds.min.x;I>L&&(L=I),l.translate(G,{x:B*.5,y:I*.5}),P=G.bounds.max.x+g,x.addBody(C,G),M=G,R+=1}else P+=g}w+=L+m,P=f}return C},o.chain=function(f,c,u,v,g,m){for(var y=f.bodies,C=1;C<y.length;C++){var P=y[C-1],w=y[C],M=P.bounds.max.y-P.bounds.min.y,R=P.bounds.max.x-P.bounds.min.x,A=w.bounds.max.y-w.bounds.min.y,L=w.bounds.max.x-w.bounds.min.x,F={bodyA:P,pointA:{x:R*c,y:M*u},bodyB:w,pointB:{x:L*v,y:A*g}},G=h.extend(F,m);x.addConstraint(f,d.create(G))}return f.label+=" Chain",f},o.mesh=function(f,c,u,v,g){var m=f.bodies,y,C,P,w,M;for(y=0;y<u;y++){for(C=1;C<c;C++)P=m[C-1+y*c],w=m[C+y*c],x.addConstraint(f,d.create(h.extend({bodyA:P,bodyB:w},g)));if(y>0)for(C=0;C<c;C++)P=m[C+(y-1)*c],w=m[C+y*c],x.addConstraint(f,d.create(h.extend({bodyA:P,bodyB:w},g))),v&&C>0&&(M=m[C-1+(y-1)*c],x.addConstraint(f,d.create(h.extend({bodyA:M,bodyB:w},g)))),v&&C<c-1&&(M=m[C+1+(y-1)*c],x.addConstraint(f,d.create(h.extend({bodyA:M,bodyB:w},g))))}return f.label+=" Mesh",f},o.pyramid=function(f,c,u,v,g,m,y){return o.stack(f,c,u,v,g,m,function(C,P,w,M,R,A){var L=Math.min(v,Math.ceil(u/2)),F=R?R.bounds.max.x-R.bounds.min.x:0;if(!(M>L)){M=L-M;var G=M,I=u-1-M;if(!(w<G||w>I)){A===1&&l.translate(R,{x:(w+(u%2===1?1:-1))*F,y:0});var B=R?w*F:0;return y(f+B+w*g,P,w,M,R,A)}}})},o.newtonsCradle=function(f,c,u,v,g){for(var m=x.create({label:"Newtons Cradle"}),y=0;y<u;y++){var C=1.9,P=a.circle(f+y*(v*C),c+g,v,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),w=d.create({pointA:{x:f+y*(v*C),y:c},bodyB:P});x.addBody(m,P),x.addConstraint(m,w)}return m},o.car=function(f,c,u,v,g){var m=l.nextGroup(!0),y=20,C=-u*.5+y,P=u*.5-y,w=0,M=x.create({label:"Car"}),R=a.rectangle(f,c,u,v,{collisionFilter:{group:m},chamfer:{radius:v*.5},density:2e-4}),A=a.circle(f+C,c+w,g,{collisionFilter:{group:m},friction:.8}),L=a.circle(f+P,c+w,g,{collisionFilter:{group:m},friction:.8}),F=d.create({bodyB:R,pointB:{x:C,y:w},bodyA:A,stiffness:1,length:0}),G=d.create({bodyB:R,pointB:{x:P,y:w},bodyA:L,stiffness:1,length:0});return x.addBody(M,R),x.addBody(M,A),x.addBody(M,L),x.addConstraint(M,F),x.addConstraint(M,G),M},o.softBody=function(f,c,u,v,g,m,y,C,P,w){P=h.extend({inertia:1/0},P),w=h.extend({stiffness:.2,render:{type:"line",anchors:!1}},w);var M=o.stack(f,c,u,v,g,m,function(R,A){return a.circle(R,A,C,P)});return o.mesh(M,u,v,y,w),M.label="Soft Body",M}})()},66615:(n,T,r)=>{var o={};n.exports=o;var x=r(31725),d=r(53402);(function(){o.fromVertices=function(h){for(var l={},a=0;a<h.length;a++){var f=(a+1)%h.length,c=x.normalise({x:h[f].y-h[a].y,y:h[a].x-h[f].x}),u=c.y===0?1/0:c.x/c.y;u=u.toFixed(3).toString(),l[u]=c}return d.values(l)},o.rotate=function(h,l){if(l!==0)for(var a=Math.cos(l),f=Math.sin(l),c=0;c<h.length;c++){var u=h[c],v;v=u.x*a-u.y*f,u.y=u.x*f+u.y*a,u.x=v}}})()},15647:n=>{var T={};n.exports=T,function(){T.create=function(r){var o={min:{x:0,y:0},max:{x:0,y:0}};return r&&T.update(o,r),o},T.update=function(r,o,x){r.min.x=1/0,r.max.x=-1/0,r.min.y=1/0,r.max.y=-1/0;for(var d=0;d<o.length;d++){var h=o[d];h.x>r.max.x&&(r.max.x=h.x),h.x<r.min.x&&(r.min.x=h.x),h.y>r.max.y&&(r.max.y=h.y),h.y<r.min.y&&(r.min.y=h.y)}x&&(x.x>0?r.max.x+=x.x:r.min.x+=x.x,x.y>0?r.max.y+=x.y:r.min.y+=x.y)},T.contains=function(r,o){return o.x>=r.min.x&&o.x<=r.max.x&&o.y>=r.min.y&&o.y<=r.max.y},T.overlaps=function(r,o){return r.min.x<=o.max.x&&r.max.x>=o.min.x&&r.max.y>=o.min.y&&r.min.y<=o.max.y},T.translate=function(r,o){r.min.x+=o.x,r.max.x+=o.x,r.min.y+=o.y,r.max.y+=o.y},T.shift=function(r,o){var x=r.max.x-r.min.x,d=r.max.y-r.min.y;r.min.x=o.x,r.max.x=o.x+x,r.min.y=o.y,r.max.y=o.y+d},T.wrap=function(r,o,x){var d=null,h=null;if(typeof o.min.x<"u"&&typeof o.max.x<"u"&&(r.min.x>o.max.x?d=o.min.x-r.max.x:r.max.x<o.min.x&&(d=o.max.x-r.min.x)),typeof o.min.y<"u"&&typeof o.max.y<"u"&&(r.min.y>o.max.y?h=o.min.y-r.max.y:r.max.y<o.min.y&&(h=o.max.y-r.min.y)),d!==null||h!==null)return{x:d||0,y:h||0}}}()},74058:(n,T,r)=>{var o={};n.exports=o,r(15647);var x=r(53402);(function(){o.pathToVertices=function(d,h){typeof window<"u"&&!("SVGPathSeg"in window)&&x.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var l,a,f,c,u,v,g,m,y,C,P=[],w,M,R=0,A=0,L=0;h=h||15;var F=function(I,B,k){var U=k%2===1&&k>1;if(!y||I!=y.x||B!=y.y){y&&U?(w=y.x,M=y.y):(w=0,M=0);var H={x:w+I,y:M+B};(U||!y)&&(y=H),P.push(H),A=w+I,L=M+B}},G=function(I){var B=I.pathSegTypeAsLetter.toUpperCase();if(B!=="Z"){switch(B){case"M":case"L":case"T":case"C":case"S":case"Q":A=I.x,L=I.y;break;case"H":A=I.x;break;case"V":L=I.y;break}F(A,L,I.pathSegType)}};for(o._svgPathToAbsolute(d),f=d.getTotalLength(),v=[],l=0;l<d.pathSegList.numberOfItems;l+=1)v.push(d.pathSegList.getItem(l));for(g=v.concat();R<f;){if(C=d.getPathSegAtLength(R),u=v[C],u!=m){for(;g.length&&g[0]!=u;)G(g.shift());m=u}switch(u.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":c=d.getPointAtLength(R),F(c.x,c.y,0);break}R+=h}for(l=0,a=g.length;l<a;++l)G(g[l]);return P},o._svgPathToAbsolute=function(d){for(var h,l,a,f,c,u,v=d.pathSegList,g=0,m=0,y=v.numberOfItems,C=0;C<y;++C){var P=v.getItem(C),w=P.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(w))"x"in P&&(g=P.x),"y"in P&&(m=P.y);else switch("x1"in P&&(a=g+P.x1),"x2"in P&&(c=g+P.x2),"y1"in P&&(f=m+P.y1),"y2"in P&&(u=m+P.y2),"x"in P&&(g+=P.x),"y"in P&&(m+=P.y),w){case"m":v.replaceItem(d.createSVGPathSegMovetoAbs(g,m),C);break;case"l":v.replaceItem(d.createSVGPathSegLinetoAbs(g,m),C);break;case"h":v.replaceItem(d.createSVGPathSegLinetoHorizontalAbs(g),C);break;case"v":v.replaceItem(d.createSVGPathSegLinetoVerticalAbs(m),C);break;case"c":v.replaceItem(d.createSVGPathSegCurvetoCubicAbs(g,m,a,f,c,u),C);break;case"s":v.replaceItem(d.createSVGPathSegCurvetoCubicSmoothAbs(g,m,c,u),C);break;case"q":v.replaceItem(d.createSVGPathSegCurvetoQuadraticAbs(g,m,a,f),C);break;case"t":v.replaceItem(d.createSVGPathSegCurvetoQuadraticSmoothAbs(g,m),C);break;case"a":v.replaceItem(d.createSVGPathSegArcAbs(g,m,P.r1,P.r2,P.angle,P.largeArcFlag,P.sweepFlag),C);break;case"z":case"Z":g=h,m=l;break}(w=="M"||w=="m")&&(h=g,l=m)}}})()},31725:n=>{var T={};n.exports=T,function(){T.create=function(r,o){return{x:r||0,y:o||0}},T.clone=function(r){return{x:r.x,y:r.y}},T.magnitude=function(r){return Math.sqrt(r.x*r.x+r.y*r.y)},T.magnitudeSquared=function(r){return r.x*r.x+r.y*r.y},T.rotate=function(r,o,x){var d=Math.cos(o),h=Math.sin(o);x||(x={});var l=r.x*d-r.y*h;return x.y=r.x*h+r.y*d,x.x=l,x},T.rotateAbout=function(r,o,x,d){var h=Math.cos(o),l=Math.sin(o);d||(d={});var a=x.x+((r.x-x.x)*h-(r.y-x.y)*l);return d.y=x.y+((r.x-x.x)*l+(r.y-x.y)*h),d.x=a,d},T.normalise=function(r){var o=T.magnitude(r);return o===0?{x:0,y:0}:{x:r.x/o,y:r.y/o}},T.dot=function(r,o){return r.x*o.x+r.y*o.y},T.cross=function(r,o){return r.x*o.y-r.y*o.x},T.cross3=function(r,o,x){return(o.x-r.x)*(x.y-r.y)-(o.y-r.y)*(x.x-r.x)},T.add=function(r,o,x){return x||(x={}),x.x=r.x+o.x,x.y=r.y+o.y,x},T.sub=function(r,o,x){return x||(x={}),x.x=r.x-o.x,x.y=r.y-o.y,x},T.mult=function(r,o){return{x:r.x*o,y:r.y*o}},T.div=function(r,o){return{x:r.x/o,y:r.y/o}},T.perp=function(r,o){return o=o===!0?-1:1,{x:o*-r.y,y:o*r.x}},T.neg=function(r){return{x:-r.x,y:-r.y}},T.angle=function(r,o){return Math.atan2(o.y-r.y,o.x-r.x)},T._temp=[T.create(),T.create(),T.create(),T.create(),T.create(),T.create()]}()},41598:(n,T,r)=>{var o={};n.exports=o;var x=r(31725),d=r(53402);(function(){o.create=function(h,l){for(var a=[],f=0;f<h.length;f++){var c=h[f],u={x:c.x,y:c.y,index:f,body:l,isInternal:!1};a.push(u)}return a},o.fromPath=function(h,l){var a=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,f=[];return h.replace(a,function(c,u,v){f.push({x:parseFloat(u),y:parseFloat(v)})}),o.create(f,l)},o.centre=function(h){for(var l=o.area(h,!0),a={x:0,y:0},f,c,u,v=0;v<h.length;v++)u=(v+1)%h.length,f=x.cross(h[v],h[u]),c=x.mult(x.add(h[v],h[u]),f),a=x.add(a,c);return x.div(a,6*l)},o.mean=function(h){for(var l={x:0,y:0},a=0;a<h.length;a++)l.x+=h[a].x,l.y+=h[a].y;return x.div(l,h.length)},o.area=function(h,l){for(var a=0,f=h.length-1,c=0;c<h.length;c++)a+=(h[f].x-h[c].x)*(h[f].y+h[c].y),f=c;return l?a/2:Math.abs(a)/2},o.inertia=function(h,l){for(var a=0,f=0,c=h,u,v,g=0;g<c.length;g++)v=(g+1)%c.length,u=Math.abs(x.cross(c[v],c[g])),a+=u*(x.dot(c[v],c[v])+x.dot(c[v],c[g])+x.dot(c[g],c[g])),f+=u;return l/6*(a/f)},o.translate=function(h,l,a){a=typeof a<"u"?a:1;var f=h.length,c=l.x*a,u=l.y*a,v;for(v=0;v<f;v++)h[v].x+=c,h[v].y+=u;return h},o.rotate=function(h,l,a){if(l!==0){var f=Math.cos(l),c=Math.sin(l),u=a.x,v=a.y,g=h.length,m,y,C,P;for(P=0;P<g;P++)m=h[P],y=m.x-u,C=m.y-v,m.x=u+(y*f-C*c),m.y=v+(y*c+C*f);return h}},o.contains=function(h,l){for(var a=l.x,f=l.y,c=h.length,u=h[c-1],v,g=0;g<c;g++){if(v=h[g],(a-u.x)*(v.y-u.y)+(f-u.y)*(u.x-v.x)>0)return!1;u=v}return!0},o.scale=function(h,l,a,f){if(l===1&&a===1)return h;f=f||o.centre(h);for(var c,u,v=0;v<h.length;v++)c=h[v],u=x.sub(c,f),h[v].x=f.x+u.x*l,h[v].y=f.y+u.y*a;return h},o.chamfer=function(h,l,a,f,c){typeof l=="number"?l=[l]:l=l||[8],a=typeof a<"u"?a:-1,f=f||2,c=c||14;for(var u=[],v=0;v<h.length;v++){var g=h[v-1>=0?v-1:h.length-1],m=h[v],y=h[(v+1)%h.length],C=l[v<l.length?v:l.length-1];if(C===0){u.push(m);continue}var P=x.normalise({x:m.y-g.y,y:g.x-m.x}),w=x.normalise({x:y.y-m.y,y:m.x-y.x}),M=Math.sqrt(2*Math.pow(C,2)),R=x.mult(d.clone(P),C),A=x.normalise(x.mult(x.add(P,w),.5)),L=x.sub(m,x.mult(A,M)),F=a;a===-1&&(F=Math.pow(C,.32)*1.75),F=d.clamp(F,f,c),F%2===1&&(F+=1);for(var G=Math.acos(x.dot(P,w)),I=G/F,B=0;B<F;B++)u.push(x.add(x.rotate(R,I*B),L))}return u},o.clockwiseSort=function(h){var l=o.mean(h);return h.sort(function(a,f){return x.angle(l,a)-x.angle(l,f)}),h},o.isConvex=function(h){var l=0,a=h.length,f,c,u,v;if(a<3)return null;for(f=0;f<a;f++)if(c=(f+1)%a,u=(f+2)%a,v=(h[c].x-h[f].x)*(h[u].y-h[c].y),v-=(h[c].y-h[f].y)*(h[u].x-h[c].x),v<0?l|=1:v>0&&(l|=2),l===3)return!1;return l!==0?!0:null},o.hull=function(h){var l=[],a=[],f,c;for(h=h.slice(0),h.sort(function(u,v){var g=u.x-v.x;return g!==0?g:u.y-v.y}),c=0;c<h.length;c+=1){for(f=h[c];a.length>=2&&x.cross3(a[a.length-2],a[a.length-1],f)<=0;)a.pop();a.push(f)}for(c=h.length-1;c>=0;c-=1){for(f=h[c];l.length>=2&&x.cross3(l[l.length-2],l[l.length-1],f)<=0;)l.pop();l.push(f)}return l.pop(),a.pop(),l.concat(a)}})()},55973:n=>{/**
 * @author       Stefan Hedman <schteppe@gmail.com> (http://steffe.se)
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={decomp:G,quickDecomp:U,isSimple:B,removeCollinearPoints:H,removeDuplicatePoints:X,makeCCW:y};function T(Y,$,z){z=z||0;var V=[0,0],K,Q,_,tt,rt,ot,ft;return K=Y[1][1]-Y[0][1],Q=Y[0][0]-Y[1][0],_=K*Y[0][0]+Q*Y[0][1],tt=$[1][1]-$[0][1],rt=$[0][0]-$[1][0],ot=tt*$[0][0]+rt*$[0][1],ft=K*rt-tt*Q,j(ft,0,z)||(V[0]=(rt*_-Q*ot)/ft,V[1]=(K*ot-tt*_)/ft),V}function r(Y,$,z,V){var K=$[0]-Y[0],Q=$[1]-Y[1],_=V[0]-z[0],tt=V[1]-z[1];if(_*Q-tt*K===0)return!1;var rt=(K*(z[1]-Y[1])+Q*(Y[0]-z[0]))/(_*Q-tt*K),ot=(_*(Y[1]-z[1])+tt*(z[0]-Y[0]))/(tt*K-_*Q);return rt>=0&&rt<=1&&ot>=0&&ot<=1}function o(Y,$,z){return($[0]-Y[0])*(z[1]-Y[1])-(z[0]-Y[0])*($[1]-Y[1])}function x(Y,$,z){return o(Y,$,z)>0}function d(Y,$,z){return o(Y,$,z)>=0}function h(Y,$,z){return o(Y,$,z)<0}function l(Y,$,z){return o(Y,$,z)<=0}var a=[],f=[];function c(Y,$,z,V){if(V){var K=a,Q=f;K[0]=$[0]-Y[0],K[1]=$[1]-Y[1],Q[0]=z[0]-$[0],Q[1]=z[1]-$[1];var _=K[0]*Q[0]+K[1]*Q[1],tt=Math.sqrt(K[0]*K[0]+K[1]*K[1]),rt=Math.sqrt(Q[0]*Q[0]+Q[1]*Q[1]),ot=Math.acos(_/(tt*rt));return ot<V}else return o(Y,$,z)===0}function u(Y,$){var z=$[0]-Y[0],V=$[1]-Y[1];return z*z+V*V}function v(Y,$){var z=Y.length;return Y[$<0?$%z+z:$%z]}function g(Y){Y.length=0}function m(Y,$,z,V){for(var K=z;K<V;K++)Y.push($[K])}function y(Y){for(var $=0,z=Y,V=1;V<Y.length;++V)(z[V][1]<z[$][1]||z[V][1]===z[$][1]&&z[V][0]>z[$][0])&&($=V);return x(v(Y,$-1),v(Y,$),v(Y,$+1))?!1:(C(Y),!0)}function C(Y){for(var $=[],z=Y.length,V=0;V!==z;V++)$.push(Y.pop());for(var V=0;V!==z;V++)Y[V]=$[V]}function P(Y,$){return h(v(Y,$-1),v(Y,$),v(Y,$+1))}var w=[],M=[];function R(Y,$,z){var V,K,Q=w,_=M;if(d(v(Y,$+1),v(Y,$),v(Y,z))&&l(v(Y,$-1),v(Y,$),v(Y,z)))return!1;K=u(v(Y,$),v(Y,z));for(var tt=0;tt!==Y.length;++tt)if(!((tt+1)%Y.length===$||tt===$)&&d(v(Y,$),v(Y,z),v(Y,tt+1))&&l(v(Y,$),v(Y,z),v(Y,tt))&&(Q[0]=v(Y,$),Q[1]=v(Y,z),_[0]=v(Y,tt),_[1]=v(Y,tt+1),V=T(Q,_),u(v(Y,$),V)<K))return!1;return!0}function A(Y,$,z){for(var V=0;V!==Y.length;++V)if(!(V===$||V===z||(V+1)%Y.length===$||(V+1)%Y.length===z)&&r(v(Y,$),v(Y,z),v(Y,V),v(Y,V+1)))return!1;return!0}function L(Y,$,z,V){var K=V||[];if(g(K),$<z)for(var Q=$;Q<=z;Q++)K.push(Y[Q]);else{for(var Q=0;Q<=z;Q++)K.push(Y[Q]);for(var Q=$;Q<Y.length;Q++)K.push(Y[Q])}return K}function F(Y){for(var $=[],z=[],V=[],K=[],Q=Number.MAX_VALUE,_=0;_<Y.length;++_)if(P(Y,_)){for(var tt=0;tt<Y.length;++tt)if(R(Y,_,tt)){z=F(L(Y,_,tt,K)),V=F(L(Y,tt,_,K));for(var rt=0;rt<V.length;rt++)z.push(V[rt]);z.length<Q&&($=z,Q=z.length,$.push([v(Y,_),v(Y,tt)]))}}return $}function G(Y){var $=F(Y);return $.length>0?I(Y,$):[Y]}function I(Y,$){if($.length===0)return[Y];if($ instanceof Array&&$.length&&$[0]instanceof Array&&$[0].length===2&&$[0][0]instanceof Array){for(var z=[Y],V=0;V<$.length;V++)for(var K=$[V],Q=0;Q<z.length;Q++){var _=z[Q],tt=I(_,K);if(tt){z.splice(Q,1),z.push(tt[0],tt[1]);break}}return z}else{var K=$,V=Y.indexOf(K[0]),Q=Y.indexOf(K[1]);return V!==-1&&Q!==-1?[L(Y,V,Q),L(Y,Q,V)]:!1}}function B(Y){var $=Y,z;for(z=0;z<$.length-1;z++)for(var V=0;V<z-1;V++)if(r($[z],$[z+1],$[V],$[V+1]))return!1;for(z=1;z<$.length-2;z++)if(r($[0],$[$.length-1],$[z],$[z+1]))return!1;return!0}function k(Y,$,z,V,K){K=K||0;var Q=$[1]-Y[1],_=Y[0]-$[0],tt=Q*Y[0]+_*Y[1],rt=V[1]-z[1],ot=z[0]-V[0],ft=rt*z[0]+ot*z[1],ct=Q*ot-rt*_;return j(ct,0,K)?[0,0]:[(ot*tt-_*ft)/ct,(Q*ft-rt*tt)/ct]}function U(Y,$,z,V,K,Q,_){Q=Q||100,_=_||0,K=K||25,$=typeof $<"u"?$:[],z=z||[],V=V||[];var tt=[0,0],rt=[0,0],ot=[0,0],ft=0,ct=0,gt=0,xt=0,wt=0,Tt=0,Ht=0,Xt=[],Kt=[],Pt=Y,Nt=Y;if(Nt.length<3)return $;if(_++,_>Q)return console.warn("quickDecomp: max level ("+Q+") reached."),$;for(var Vt=0;Vt<Y.length;++Vt)if(P(Pt,Vt)){z.push(Pt[Vt]),ft=ct=Number.MAX_VALUE;for(var ee=0;ee<Y.length;++ee)x(v(Pt,Vt-1),v(Pt,Vt),v(Pt,ee))&&l(v(Pt,Vt-1),v(Pt,Vt),v(Pt,ee-1))&&(ot=k(v(Pt,Vt-1),v(Pt,Vt),v(Pt,ee),v(Pt,ee-1)),h(v(Pt,Vt+1),v(Pt,Vt),ot)&&(gt=u(Pt[Vt],ot),gt<ct&&(ct=gt,rt=ot,Tt=ee))),x(v(Pt,Vt+1),v(Pt,Vt),v(Pt,ee+1))&&l(v(Pt,Vt+1),v(Pt,Vt),v(Pt,ee))&&(ot=k(v(Pt,Vt+1),v(Pt,Vt),v(Pt,ee),v(Pt,ee+1)),x(v(Pt,Vt-1),v(Pt,Vt),ot)&&(gt=u(Pt[Vt],ot),gt<ft&&(ft=gt,tt=ot,wt=ee)));if(Tt===(wt+1)%Y.length)ot[0]=(rt[0]+tt[0])/2,ot[1]=(rt[1]+tt[1])/2,V.push(ot),Vt<wt?(m(Xt,Pt,Vt,wt+1),Xt.push(ot),Kt.push(ot),Tt!==0&&m(Kt,Pt,Tt,Pt.length),m(Kt,Pt,0,Vt+1)):(Vt!==0&&m(Xt,Pt,Vt,Pt.length),m(Xt,Pt,0,wt+1),Xt.push(ot),Kt.push(ot),m(Kt,Pt,Tt,Vt+1));else{if(Tt>wt&&(wt+=Y.length),xt=Number.MAX_VALUE,wt<Tt)return $;for(var ee=Tt;ee<=wt;++ee)d(v(Pt,Vt-1),v(Pt,Vt),v(Pt,ee))&&l(v(Pt,Vt+1),v(Pt,Vt),v(Pt,ee))&&(gt=u(v(Pt,Vt),v(Pt,ee)),gt<xt&&A(Pt,Vt,ee)&&(xt=gt,Ht=ee%Y.length));Vt<Ht?(m(Xt,Pt,Vt,Ht+1),Ht!==0&&m(Kt,Pt,Ht,Nt.length),m(Kt,Pt,0,Vt+1)):(Vt!==0&&m(Xt,Pt,Vt,Nt.length),m(Xt,Pt,0,Ht+1),m(Kt,Pt,Ht,Vt+1))}return Xt.length<Kt.length?(U(Xt,$,z,V,K,Q,_),U(Kt,$,z,V,K,Q,_)):(U(Kt,$,z,V,K,Q,_),U(Xt,$,z,V,K,Q,_)),$}return $.push(Y),$}function H(Y,$){for(var z=0,V=Y.length-1;Y.length>3&&V>=0;--V)c(v(Y,V-1),v(Y,V),v(Y,V+1),$)&&(Y.splice(V%Y.length,1),z++);return z}function X(Y,$){for(var z=Y.length-1;z>=1;--z)for(var V=Y[z],K=z-1;K>=0;--K)if(J(V,Y[K],$)){Y.splice(z,1);continue}}function j(Y,$,z){return z=z||0,Math.abs(Y-$)<=z}function J(Y,$,z){return j(Y[0],$[0],z)&&j(Y[1],$[1],z)}},52018:(n,T,r)=>{/**
* @author       Richard Davey <rich@phaser.io>
* @copyright    2013-2025 Phaser Studio Inc.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var o=r(83419),x=new o({initialize:function(h){this.pluginManager=h,this.game=h.game},init:function(){},start:function(){},stop:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});n.exports=x},42363:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={Global:["game","anims","cache","plugins","registry","scale","sound","textures","renderer"],CoreScene:["EventEmitter","CameraManager","GameObjectCreator","GameObjectFactory","ScenePlugin","DisplayList","UpdateList"],DefaultScene:["Clock","DataManagerPlugin","InputPlugin","Loader","TweenManager","LightsPlugin"]};n.exports=T},37277:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={},r={},o={};o.register=function(x,d,h,l){l===void 0&&(l=!1),T[x]={plugin:d,mapping:h,custom:l}},o.registerCustom=function(x,d,h,l){r[x]={plugin:d,mapping:h,data:l}},o.hasCore=function(x){return T.hasOwnProperty(x)},o.hasCustom=function(x){return r.hasOwnProperty(x)},o.getCore=function(x){return T[x]},o.getCustom=function(x){return r[x]},o.getCustomClass=function(x){return r.hasOwnProperty(x)?r[x].plugin:null},o.remove=function(x){T.hasOwnProperty(x)&&delete T[x]},o.removeCustom=function(x){r.hasOwnProperty(x)&&delete r[x]},o.destroyCorePlugins=function(){for(var x in T)T.hasOwnProperty(x)&&delete T[x]},o.destroyCustomPlugins=function(){for(var x in r)r.hasOwnProperty(x)&&delete r[x]},n.exports=o},77332:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(8443),d=r(50792),h=r(74099),l=r(44603),a=r(39429),f=r(95540),c=r(37277),u=r(72905),v=r(8054),g=new o({Extends:d,initialize:function(y){d.call(this),this.game=y,this.plugins=[],this.scenePlugins=[],this._pendingGlobal=[],this._pendingScene=[],y.isBooted||y.config.renderType===v.HEADLESS?this.boot():y.events.once(x.BOOT,this.boot,this)},boot:function(){var m,y,C,P,w,M,R,A=this.game.config,L=A.installGlobalPlugins;for(L=L.concat(this._pendingGlobal),m=0;m<L.length;m++)y=L[m],C=f(y,"key",null),P=f(y,"plugin",null),w=f(y,"start",!1),M=f(y,"mapping",null),R=f(y,"data",null),C&&(P?this.install(C,P,w,M,R):console.warn("Missing `plugin` for key: "+C));for(L=A.installScenePlugins,L=L.concat(this._pendingScene),m=0;m<L.length;m++)y=L[m],C=f(y,"key",null),P=f(y,"plugin",null),M=f(y,"mapping",null),C&&(P?this.installScenePlugin(C,P,M):console.warn("Missing `plugin` for key: "+C));this._pendingGlobal=[],this._pendingScene=[],this.game.events.once(x.DESTROY,this.destroy,this)},addToScene:function(m,y,C){var P,w,M,R=this.game,A=m.scene,L=m.settings.map,F=m.settings.isBooted;for(P=0;P<y.length;P++)w=y[P],R[w]?(m[w]=R[w],L.hasOwnProperty(w)&&(A[L[w]]=m[w])):w==="game"&&L.hasOwnProperty(w)&&(A[L[w]]=R);for(var G=0;G<C.length;G++)for(M=C[G],P=0;P<M.length;P++)if(w=M[P],!!c.hasCore(w)){var I=c.getCore(w),B=I.mapping,k=new I.plugin(A,this,B);m[B]=k,I.custom?A[B]=k:L.hasOwnProperty(B)&&(A[L[B]]=k),F&&k.boot()}for(M=this.plugins,P=0;P<M.length;P++){var U=M[P];U.mapping&&(A[U.mapping]=U.plugin)}},getDefaultScenePlugins:function(){var m=this.game.config.defaultPlugins;return m=m.concat(this.scenePlugins),m},installScenePlugin:function(m,y,C,P,w){if(w===void 0&&(w=!1),typeof y!="function"){console.warn("Invalid Scene Plugin: "+m);return}if(c.hasCore(m)||c.register(m,y,C,!0),this.scenePlugins.indexOf(m)===-1)this.scenePlugins.push(m);else if(!w&&c.hasCore(m)){console.warn("Scene Plugin key in use: "+m);return}if(P){var M=new y(P,this,m);P.sys[m]=M,C&&C!==""&&(P[C]=M),M.boot()}},install:function(m,y,C,P,w){if(C===void 0&&(C=!1),P===void 0&&(P=null),w===void 0&&(w=null),typeof y!="function")return console.warn("Invalid Plugin: "+m),null;if(c.hasCustom(m))return console.warn("Plugin key in use: "+m),null;if(P!==null&&(C=!0),!this.game.isBooted)this._pendingGlobal.push({key:m,plugin:y,start:C,mapping:P,data:w});else if(c.registerCustom(m,y,P,w),C)return this.start(m);return null},getIndex:function(m){for(var y=this.plugins,C=0;C<y.length;C++){var P=y[C];if(P.key===m)return C}return-1},getEntry:function(m){var y=this.getIndex(m);if(y!==-1)return this.plugins[y]},isActive:function(m){var y=this.getEntry(m);return y&&y.active},start:function(m,y){y===void 0&&(y=m);var C=this.getEntry(y);return C&&!C.active?(C.active=!0,C.plugin.start()):C||(C=this.createEntry(m,y)),C?C.plugin:null},createEntry:function(m,y){var C=c.getCustom(m);if(C){var P=new C.plugin(this);C={key:y,plugin:P,active:!0,mapping:C.mapping,data:C.data},this.plugins.push(C),P.init(C.data),P.start()}return C},stop:function(m){var y=this.getEntry(m);return y&&y.active&&(y.active=!1,y.plugin.stop()),this},get:function(m,y){y===void 0&&(y=!0);var C=this.getEntry(m);if(C)return C.plugin;var P=this.getClass(m);return P&&y?(C=this.createEntry(m,m),C?C.plugin:null):P||null},getClass:function(m){return c.getCustomClass(m)},removeGlobalPlugin:function(m){var y=this.getEntry(m);y&&u(this.plugins,y),c.removeCustom(m)},removeScenePlugin:function(m){u(this.scenePlugins,m),c.remove(m)},registerGameObject:function(m,y,C){return y&&a.register(m,y),C&&l.register(m,C),this},removeGameObject:function(m,y,C){return y===void 0&&(y=!0),C===void 0&&(C=!0),y&&a.remove(m),C&&l.remove(m),this},registerFileType:function(m,y,C){h.register(m,y),C&&C.sys.load&&(C.sys.load[m]=y)},destroy:function(){for(var m=0;m<this.plugins.length;m++)this.plugins[m].plugin.destroy();c.destroyCustomPlugins(),this.game.noReturn&&c.destroyCorePlugins(),this.game=null,this.plugins=[],this.scenePlugins=[]}});n.exports=g},45145:(n,T,r)=>{/**
* @author       Richard Davey <rich@phaser.io>
* @copyright    2013-2025 Phaser Studio Inc.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var o=r(52018),x=r(83419),d=r(44594),h=new x({Extends:o,initialize:function(a,f,c){o.call(this,f),this.scene=a,this.systems=a.sys,this.pluginKey=c,a.sys.events.once(d.BOOT,this.boot,this)},boot:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});n.exports=h},18922:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={BasePlugin:r(52018),DefaultPlugins:r(42363),PluginCache:r(37277),PluginManager:r(77332),ScenePlugin:r(45145)}},63595:()=>{typeof HTMLVideoElement<"u"&&!("requestVideoFrameCallback"in HTMLVideoElement.prototype)&&"getVideoPlaybackQuality"in HTMLVideoElement.prototype&&(HTMLVideoElement.prototype._rvfcpolyfillmap={},HTMLVideoElement.prototype.requestVideoFrameCallback=function(n){const T=performance.now(),r=this.getVideoPlaybackQuality(),o=this.mozPresentedFrames||this.mozPaintedFrames||r.totalVideoFrames-r.droppedVideoFrames,x=(d,h)=>{const l=this.getVideoPlaybackQuality(),a=this.mozPresentedFrames||this.mozPaintedFrames||l.totalVideoFrames-l.droppedVideoFrames;if(a>o){const f=this.mozFrameDelay||l.totalFrameDelay-r.totalFrameDelay||0,c=h-d;n(h,{presentationTime:h+f*1e3,expectedDisplayTime:h+c,width:this.videoWidth,height:this.videoHeight,mediaTime:Math.max(0,this.currentTime||0)+c/1e3,presentedFrames:a,processingDuration:f}),delete this._rvfcpolyfillmap[T]}else this._rvfcpolyfillmap[T]=requestAnimationFrame(f=>x(h,f))};return this._rvfcpolyfillmap[T]=requestAnimationFrame(d=>x(T,d)),T},HTMLVideoElement.prototype.cancelVideoFrameCallback=function(n){cancelAnimationFrame(this._rvfcpolyfillmap[n]),delete this._rvfcpolyfillmap[n]})},10312:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={SKIP_CHECK:-1,NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,ERASE:17,SOURCE_IN:18,SOURCE_OUT:19,SOURCE_ATOP:20,DESTINATION_OVER:21,DESTINATION_IN:22,DESTINATION_OUT:23,DESTINATION_ATOP:24,LIGHTER:25,COPY:26,XOR:27}},29795:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={DEFAULT:0,LINEAR:0,NEAREST:1};n.exports=T},68627:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(19715),x=r(32880),d=r(83419),h=r(8054),l=r(50792),a=r(92503),f=r(56373),c=r(97480),u=r(69442),v=r(8443),g=r(61340),m=new d({Extends:l,initialize:function(C){l.call(this);var P=C.config;this.config={clearBeforeRender:P.clearBeforeRender,backgroundColor:P.backgroundColor,antialias:P.antialias,roundPixels:P.roundPixels,transparent:P.transparent},this.game=C,this.type=h.CANVAS,this.drawCount=0,this.width=0,this.height=0,this.gameCanvas=C.canvas;var w={alpha:P.transparent,desynchronized:P.desynchronized,willReadFrequently:!1};this.gameContext=P.context?P.context:this.gameCanvas.getContext("2d",w),this.currentContext=this.gameContext,this.antialias=P.antialias,this.blendModes=f(),this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92},this._tempMatrix1=new g,this._tempMatrix2=new g,this._tempMatrix3=new g,this.isBooted=!1,this.init()},init:function(){var y=this.game;y.events.once(v.BOOT,function(){var C=this.config;if(!C.transparent){var P=this.gameContext,w=this.gameCanvas;P.fillStyle=C.backgroundColor.rgba,P.fillRect(0,0,w.width,w.height)}},this),y.textures.once(u.READY,this.boot,this)},boot:function(){var y=this.game,C=y.scale.baseSize;this.width=C.width,this.height=C.height,this.isBooted=!0,y.scale.on(c.RESIZE,this.onResize,this),this.resize(C.width,C.height)},onResize:function(y,C){(C.width!==this.width||C.height!==this.height)&&this.resize(C.width,C.height)},resize:function(y,C){this.width=y,this.height=C,this.emit(a.RESIZE,y,C)},resetTransform:function(){this.currentContext.setTransform(1,0,0,1,0,0)},setBlendMode:function(y){return this.currentContext.globalCompositeOperation=y,this},setContext:function(y){return this.currentContext=y||this.gameContext,this},setAlpha:function(y){return this.currentContext.globalAlpha=y,this},preRender:function(){var y=this.gameContext,C=this.config,P=this.width,w=this.height;y.globalAlpha=1,y.globalCompositeOperation="source-over",y.setTransform(1,0,0,1,0,0),this.emit(a.PRE_RENDER_CLEAR),C.clearBeforeRender&&(y.clearRect(0,0,P,w),C.transparent||(y.fillStyle=C.backgroundColor.rgba,y.fillRect(0,0,P,w))),y.save(),this.drawCount=0,this.emit(a.PRE_RENDER)},render:function(y,C,P){var w=C.length;this.emit(a.RENDER,y,P);var M=P.x,R=P.y,A=P.width,L=P.height,F=P.renderToTexture?P.context:y.sys.context;F.save(),this.game.scene.customViewports&&(F.beginPath(),F.rect(M,R,A,L),F.clip()),P.emit(o.PRE_RENDER,P),this.currentContext=F;var G=P.mask;G&&G.preRenderCanvas(this,null,P._maskCamera),P.transparent||(F.fillStyle=P.backgroundColor.rgba,F.fillRect(M,R,A,L)),F.globalAlpha=P.alpha,F.globalCompositeOperation="source-over",this.drawCount+=w,P.renderToTexture&&P.emit(o.PRE_RENDER,P),P.matrix.copyToContext(F);for(var I=0;I<w;I++){var B=C[I];B.mask&&B.mask.preRenderCanvas(this,B,P),B.renderCanvas(this,B,P),B.mask&&B.mask.postRenderCanvas(this,B,P)}F.setTransform(1,0,0,1,0,0),F.globalCompositeOperation="source-over",F.globalAlpha=1,P.flashEffect.postRenderCanvas(F),P.fadeEffect.postRenderCanvas(F),P.dirty=!1,G&&G.postRenderCanvas(this),F.restore(),P.renderToTexture&&(P.emit(o.POST_RENDER,P),P.renderToGame&&y.sys.context.drawImage(P.canvas,M,R)),P.emit(o.POST_RENDER,P)},postRender:function(){var y=this.gameContext;y.restore(),this.emit(a.POST_RENDER);var C=this.snapshotState;C.callback&&(x(this.gameCanvas,C),C.callback=null)},snapshotCanvas:function(y,C,P,w,M,R,A,L,F){P===void 0&&(P=!1),this.snapshotArea(w,M,R,A,C,L,F);var G=this.snapshotState;return G.getPixel=P,x(y,G),G.callback=null,this},snapshot:function(y,C,P){return this.snapshotArea(0,0,this.gameCanvas.width,this.gameCanvas.height,y,C,P)},snapshotArea:function(y,C,P,w,M,R,A){var L=this.snapshotState;return L.callback=M,L.type=R,L.encoder=A,L.getPixel=!1,L.x=y,L.y=C,L.width=Math.min(P,this.gameCanvas.width),L.height=Math.min(w,this.gameCanvas.height),this},snapshotPixel:function(y,C,P){return this.snapshotArea(y,C,1,1,P),this.snapshotState.getPixel=!0,this},batchSprite:function(y,C,P,w){var M=P.alpha*y.alpha;if(M!==0){var R=this.currentContext,A=this._tempMatrix1,L=this._tempMatrix2,F=C.canvasData,G=F.x,I=F.y,B=C.cutWidth,k=C.cutHeight,U=C.customPivot,H=C.source.resolution,X=y.displayOriginX,j=y.displayOriginY,J=-X+C.x,Y=-j+C.y;if(y.isCropped){var $=y._crop;($.flipX!==y.flipX||$.flipY!==y.flipY)&&C.updateCropUVs($,y.flipX,y.flipY),B=$.cw,k=$.ch,G=$.cx,I=$.cy,J=-X+$.x,Y=-j+$.y,y.flipX&&(J>=0?J=-(J+B):J<0&&(J=Math.abs(J)-B)),y.flipY&&(Y>=0?Y=-(Y+k):Y<0&&(Y=Math.abs(Y)-k))}var z=1,V=1;y.flipX&&(U||(J+=-C.realWidth+X*2),z=-1),y.flipY&&(U||(Y+=-C.realHeight+j*2),V=-1);var K=y.x,Q=y.y;if(P.roundPixels&&(K=Math.floor(K),Q=Math.floor(Q)),L.applyITRS(K,Q,y.rotation,y.scaleX*z,y.scaleY*V),A.copyFrom(P.matrix),w?(A.multiplyWithOffset(w,-P.scrollX*y.scrollFactorX,-P.scrollY*y.scrollFactorY),L.e=K,L.f=Q):(L.e-=P.scrollX*y.scrollFactorX,L.f-=P.scrollY*y.scrollFactorY),A.multiply(L),P.renderRoundPixels&&(A.e=Math.floor(A.e+.5),A.f=Math.floor(A.f+.5)),R.save(),A.setToContext(R),R.globalCompositeOperation=this.blendModes[y.blendMode],R.globalAlpha=M,R.imageSmoothingEnabled=!C.source.scaleMode,y.mask&&y.mask.preRenderCanvas(this,y,P),B>0&&k>0){var _=B/H,tt=k/H;P.roundPixels&&(J=Math.floor(J+.5),Y=Math.floor(Y+.5),_+=.5,tt+=.5),R.drawImage(C.source.image,G,I,B,k,J,Y,_,tt)}y.mask&&y.mask.postRenderCanvas(this,y,P),R.restore()}},destroy:function(){this.removeAllListeners(),this.game=null,this.gameCanvas=null,this.gameContext=null}});n.exports=m},55830:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={CanvasRenderer:r(68627),GetBlendModes:r(56373),SetTransform:r(20926)}},56373:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(10312),x=r(89289),d=function(){var h=[],l=x.supportNewBlendModes,a="source-over";return h[o.NORMAL]=a,h[o.ADD]="lighter",h[o.MULTIPLY]=l?"multiply":a,h[o.SCREEN]=l?"screen":a,h[o.OVERLAY]=l?"overlay":a,h[o.DARKEN]=l?"darken":a,h[o.LIGHTEN]=l?"lighten":a,h[o.COLOR_DODGE]=l?"color-dodge":a,h[o.COLOR_BURN]=l?"color-burn":a,h[o.HARD_LIGHT]=l?"hard-light":a,h[o.SOFT_LIGHT]=l?"soft-light":a,h[o.DIFFERENCE]=l?"difference":a,h[o.EXCLUSION]=l?"exclusion":a,h[o.HUE]=l?"hue":a,h[o.SATURATION]=l?"saturation":a,h[o.COLOR]=l?"color":a,h[o.LUMINOSITY]=l?"luminosity":a,h[o.ERASE]="destination-out",h[o.SOURCE_IN]="source-in",h[o.SOURCE_OUT]="source-out",h[o.SOURCE_ATOP]="source-atop",h[o.DESTINATION_OVER]="destination-over",h[o.DESTINATION_IN]="destination-in",h[o.DESTINATION_OUT]="destination-out",h[o.DESTINATION_ATOP]="destination-atop",h[o.LIGHTER]="lighter",h[o.COPY]="copy",h[o.XOR]="xor",h};n.exports=d},20926:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(91296),x=function(d,h,l,a,f){var c=a.alpha*l.alpha;if(c<=0)return!1;var u=o(l,a,f).calc;return h.globalCompositeOperation=d.blendModes[l.blendMode],h.globalAlpha=c,h.save(),u.setToContext(h),h.imageSmoothingEnabled=l.frame?!l.frame.source.scaleMode:d.antialias,!0};n.exports=x},63899:n=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="losewebgl"},6119:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="postrender"},48070:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="prerender"},15640:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="render"},8912:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="resize"},87124:n=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="restorewebgl"},92503:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={LOSE_WEBGL:r(63899),POST_RENDER:r(6119),PRE_RENDER:r(48070),RENDER:r(15640),RESIZE:r(8912),RESTORE_WEBGL:r(87124)}},36909:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Events:r(92503),Snapshot:r(89966)},n.exports.Canvas=r(55830),n.exports.WebGL=r(4159)},32880:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(27919),x=r(40987),d=r(95540),h=function(l,a){var f=d(a,"callback"),c=d(a,"type","image/png"),u=d(a,"encoder",.92),v=Math.abs(Math.round(d(a,"x",0))),g=Math.abs(Math.round(d(a,"y",0))),m=Math.floor(d(a,"width",l.width)),y=Math.floor(d(a,"height",l.height)),C=d(a,"getPixel",!1);if(C){var P=l.getContext("2d",{willReadFrequently:!1}),w=P.getImageData(v,g,1,1),M=w.data;f.call(null,new x(M[0],M[1],M[2],M[3]))}else if(v!==0||g!==0||m!==l.width||y!==l.height){var R=o.createWebGL(this,m,y),A=R.getContext("2d",{willReadFrequently:!0});m>0&&y>0&&A.drawImage(l,v,g,m,y,0,0,m,y);var L=new Image;L.onerror=function(){f.call(null),o.remove(R)},L.onload=function(){f.call(null,L),o.remove(R)},L.src=R.toDataURL(c,u)}else{var F=new Image;F.onerror=function(){f.call(null)},F.onload=function(){f.call(null,F)},F.src=l.toDataURL(c,u)}};n.exports=h},88815:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(27919),x=r(40987),d=r(95540),h=function(l,a){var f=l,c=d(a,"callback"),u=d(a,"type","image/png"),v=d(a,"encoder",.92),g=Math.abs(Math.round(d(a,"x",0))),m=Math.abs(Math.round(d(a,"y",0))),y=d(a,"getPixel",!1),C=d(a,"isFramebuffer",!1),P=C?d(a,"bufferWidth",1):f.drawingBufferWidth,w=C?d(a,"bufferHeight",1):f.drawingBufferHeight;if(y){var M=new Uint8Array(4),R=C?m:w-m;f.readPixels(g,R,1,1,f.RGBA,f.UNSIGNED_BYTE,M),c.call(null,new x(M[0],M[1],M[2],M[3]))}else{var A=Math.floor(d(a,"width",P)),L=Math.floor(d(a,"height",w)),F=A*L*4,G=new Uint8Array(F);f.readPixels(g,w-m-L,A,L,f.RGBA,f.UNSIGNED_BYTE,G);for(var I=o.createWebGL(this,A,L),B=I.getContext("2d",{willReadFrequently:!0}),k=B.getImageData(0,0,A,L),U=k.data,H=0;H<L;H++)for(var X=0;X<A;X++){var j=((L-H-1)*A+X)*4,J=C?F-(H*A+(A-X))*4:(H*A+X)*4;U[J+0]=G[j+0],U[J+1]=G[j+1],U[J+2]=G[j+2],U[J+3]=G[j+3]}B.putImageData(k,0,0);var Y=new Image;Y.onerror=function(){c.call(null),o.remove(I)},Y.onload=function(){c.call(null,Y),o.remove(I)},Y.src=I.toDataURL(u,v)}};n.exports=h},89966:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Canvas:r(32880),WebGL:r(88815)}},7530:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(36060),d=r(90330),h=r(82264),l=r(95540),a=r(32302),f=r(63448),c=r(31302),u=r(58918),v=r(14811),g=r(92651),m=r(96569),y=r(56527),C=r(57516),P=r(43439),w=r(81041),M=r(12385),R=r(7589),A=r(95428),L=r(72905),F=new o({initialize:function(I){this.game=I.game,this.renderer=I,this.classes=new d([[x.UTILITY_PIPELINE,R],[x.MULTI_PIPELINE,C],[x.BITMAPMASK_PIPELINE,c],[x.SINGLE_PIPELINE,M],[x.ROPE_PIPELINE,w],[x.LIGHT_PIPELINE,m],[x.POINTLIGHT_PIPELINE,P],[x.MOBILE_PIPELINE,y]]),this.postPipelineClasses=new d,this.pipelines=new d,this.postPipelineInstances=[],this.default=null,this.current=null,this.previous=null,this.MULTI_PIPELINE=null,this.BITMAPMASK_PIPELINE=null,this.UTILITY_PIPELINE=null,this.MOBILE_PIPELINE=null,this.FX_PIPELINE=null,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderTargets=[],this.maxDimension=0,this.frameInc=32,this.targetIndex=0},boot:function(G,I,B){var k=this.renderer,U=this.renderTargets;this.frameInc=Math.floor(l(G,"frameInc",32));var H=k.width,X=k.height,j=this.game.config.disablePreFX,J=this.game.config.disablePostFX;if(J||this.postPipelineClasses.setAll([[String(v.BARREL),u.Barrel],[String(v.BLOOM),u.Bloom],[String(v.BLUR),u.Blur],[String(v.BOKEH),u.Bokeh],[String(v.CIRCLE),u.Circle],[String(v.COLOR_MATRIX),u.ColorMatrix],[String(v.DISPLACEMENT),u.Displacement],[String(v.GLOW),u.Glow],[String(v.GRADIENT),u.Gradient],[String(v.PIXELATE),u.Pixelate],[String(v.SHADOW),u.Shadow],[String(v.SHINE),u.Shine],[String(v.VIGNETTE),u.Vignette],[String(v.WIPE),u.Wipe]]),!j){this.classes.set(x.FX_PIPELINE,g);for(var Y=Math.min(H,X),$=Math.ceil(Y/this.frameInc),z=1;z<$;z++){var V=z*this.frameInc;U.push(new a(k,V,V)),U.push(new a(k,V,V)),U.push(new a(k,V,V)),this.maxDimension=V}U.push(new a(k,H,X,1,0,!0,!0)),U.push(new a(k,H,X,1,0,!0,!0)),U.push(new a(k,H,X,1,0,!0,!0))}var K,Q,_=this,tt=this.game;if(this.classes.each(function(ot,ft){K=_.add(ot,new ft({game:tt})),ot===x.UTILITY_PIPELINE&&(_.UTILITY_PIPELINE=K,_.fullFrame1=K.fullFrame1,_.fullFrame2=K.fullFrame2,_.halfFrame1=K.halfFrame1,_.halfFrame2=K.halfFrame2)}),this.MULTI_PIPELINE=this.get(x.MULTI_PIPELINE),this.BITMAPMASK_PIPELINE=this.get(x.BITMAPMASK_PIPELINE),this.MOBILE_PIPELINE=this.get(x.MOBILE_PIPELINE),j||(this.FX_PIPELINE=this.get(x.FX_PIPELINE)),G)for(Q in G){var rt=G[Q];K=new rt(tt),K.name=Q,K.isPostFX?this.postPipelineClasses.set(Q,rt):this.has(Q)||(this.classes.set(Q,rt),this.add(Q,K))}this.default=this.get(I),B&&!h.os.desktop&&(this.default=this.MOBILE_PIPELINE)},setDefaultPipeline:function(G){var I=this.get(G);return I&&(this.default=I),I},add:function(G,I){if(I.isPostFX){console.warn(G+" is a Post Pipeline. Use `addPostPipeline` instead");return}var B=this.pipelines,k=this.renderer;return B.has(G)?console.warn("Pipeline exists: "+G):(I.name=G,I.manager=this,B.set(G,I)),I.hasBooted||I.boot(),k.width!==0&&k.height!==0&&!I.isPreFX&&I.resize(k.width,k.height),I},addPostPipeline:function(G,I){this.postPipelineClasses.has(G)||this.postPipelineClasses.set(G,I)},flush:function(){this.current&&this.current.flush()},has:function(G){var I=this.pipelines;return typeof G=="string"?I.has(G):!!I.contains(G)},get:function(G){var I=this.pipelines;if(typeof G=="string")return I.get(G);if(I.contains(G))return G},getPostPipeline:function(G,I,B){var k=this.postPipelineClasses,U,H="",X=typeof G;if(X==="string"||X==="number"?(U=k.get(G),H=G):X==="function"?(k.contains(G)&&(U=G),H=G.name):X==="object"&&(U=k.get(G.name),H=G.name),U){var j=new U(this.game,B);return j.name=H,I&&(j.gameObject=I),this.postPipelineInstances.push(j),j}},removePostPipeline:function(G){L(this.postPipelineInstances,G)},remove:function(G,I,B){I===void 0&&(I=!0),B===void 0&&(B=!0),this.pipelines.delete(G),I&&this.classes.delete(G),B&&this.postPipelineClasses.delete(G)},set:function(G,I,B){if(!G.isPostFX)return this.isCurrent(G,B)||(this.flush(),this.current&&this.current.unbind(),this.current=G,G.bind(B)),G.updateProjectionMatrix(),G.onBind(I),G},preBatch:function(G){if(G.hasPostPipeline){this.flush();for(var I=G.postPipelines,B=I.length-1;B>=0;B--){var k=I[B];k.active&&k.preBatch(G)}}},postBatch:function(G){if(G.hasPostPipeline){this.flush();for(var I=G.postPipelines,B=0;B<I.length;B++){var k=I[B];k.active&&k.postBatch(G)}}},preBatchCamera:function(G){if(G.hasPostPipeline){this.flush();for(var I=G.postPipelines,B=I.length-1;B>=0;B--){var k=I[B];k.active&&k.preBatch(G)}}},postBatchCamera:function(G){if(G.hasPostPipeline){this.flush();for(var I=G.postPipelines,B=0;B<I.length;B++){var k=I[B];k.active&&k.postBatch(G)}}},isCurrent:function(G,I){var B=this.renderer,k=this.current;return k&&!I&&(I=k.currentShader),!(k!==G||I.program!==B.currentProgram)},copyFrame:function(G,I,B,k,U){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyFrame(G,I,B,k,U),this},copyToGame:function(G){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyToGame(G),this},drawFrame:function(G,I,B,k){return this.setUtility(this.UTILITY_PIPELINE.colorMatrixShader).drawFrame(G,I,B,k),this},blendFrames:function(G,I,B,k,U){return this.setUtility(this.UTILITY_PIPELINE.linearShader).blendFrames(G,I,B,k,U),this},blendFramesAdditive:function(G,I,B,k,U){return this.setUtility(this.UTILITY_PIPELINE.addShader).blendFramesAdditive(G,I,B,k,U),this},clearFrame:function(G,I){return this.UTILITY_PIPELINE.clearFrame(G,I),this},blitFrame:function(G,I,B,k,U,H){return this.setUtility(this.UTILITY_PIPELINE.copyShader).blitFrame(G,I,B,k,U,H),this},copyFrameRect:function(G,I,B,k,U,H,X,j){return this.UTILITY_PIPELINE.copyFrameRect(G,I,B,k,U,H,X,j),this},forceZero:function(){return this.current&&this.current.forceZero},setMulti:function(){return this.set(this.MULTI_PIPELINE)},setUtility:function(G){return this.UTILITY_PIPELINE.bind(G)},setFX:function(){return this.set(this.FX_PIPELINE)},restoreContext:function(){this.rebind(),this.pipelines.each(function(G,I){I.restoreContext()}),A(this.postPipelineInstances,function(G){G.restoreContext()})},rebind:function(G){G===void 0&&this.previous&&(G=this.previous);var I=this.renderer,B=I.gl;B.disable(B.DEPTH_TEST),B.disable(B.CULL_FACE),I.hasActiveStencilMask()?B.clear(B.DEPTH_BUFFER_BIT):(B.disable(B.STENCIL_TEST),B.clear(B.DEPTH_BUFFER_BIT|B.STENCIL_BUFFER_BIT)),B.viewport(0,0,I.width,I.height),I.currentProgram=null,I.setBlendMode(0,!0);var k=I.vaoExtension;k&&k.bindVertexArrayOES(null);var U=this.pipelines.entries;for(var H in U)U[H].glReset=!0;G&&(this.current=G,G.rebind())},clear:function(){var G=this.renderer;this.flush(),this.current?(this.current.unbind(),this.previous=this.current,this.current=null):this.previous=null,G.currentProgram=null,G.setBlendMode(0,!0);var I=G.vaoExtension;I&&I.bindVertexArrayOES(null)},getRenderTarget:function(G){var I=this.renderTargets,B=3;if(G>this.maxDimension)return this.targetIndex=I.length-B,I[this.targetIndex];var k=(f(G,this.frameInc,0,!0)-1)*B;return this.targetIndex=k,I[k]},getSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+1]},getAltSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+2]},destroy:function(){this.flush(),this.classes.clear(),this.postPipelineClasses.clear(),this.pipelines.clear(),this.renderer=null,this.game=null,this.classes=null,this.postPipelineClasses=null,this.pipelines=null,this.default=null,this.current=null,this.previous=null}});n.exports=F},32302:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(92503),d=new o({initialize:function(l,a,f,c,u,v,g,m,y){c===void 0&&(c=1),u===void 0&&(u=0),v===void 0&&(v=!0),g===void 0&&(g=!1),m===void 0&&(m=!0),y===void 0&&(y=!0),this.renderer=l,this.framebuffer=null,this.texture=null,this.width=0,this.height=0,this.scale=c,this.minFilter=u,this.autoClear=v,this.autoResize=!0,this.hasDepthBuffer=m,this.forceClamp=y,this.init(a,f),g?this.renderer.on(x.RESIZE,this.resize,this):this.autoResize=!1},init:function(h,l){var a=this.renderer;this.texture=a.createTextureFromSource(null,h,l,this.minFilter,this.forceClamp),this.framebuffer=a.createFramebuffer(h,l,this.texture,this.hasDepthBuffer),this.width=h,this.height=l},setAutoResize:function(h){return h&&!this.autoResize?(this.renderer.on(x.RESIZE,this.resize,this),this.autoResize=!0):!h&&this.autoResize&&(this.renderer.off(x.RESIZE,this.resize,this),this.autoResize=!1),this},resize:function(h,l){if(this.autoResize&&this.willResize(h,l)){var a=this.renderer;a.deleteFramebuffer(this.framebuffer),a.deleteTexture(this.texture),this.texture=a.createTextureFromSource(null,h,l,this.minFilter,this.forceClamp),this.framebuffer=a.createFramebuffer(h,l,this.texture,this.hasDepthBuffer),this.width=h,this.height=l}return this},willResize:function(h,l){return typeof h!="number"||typeof l!="number"?!1:(h=Math.round(h*this.scale),l=Math.round(l*this.scale),h=Math.max(h,1),l=Math.max(l,1),h!==this.width||l!==this.height)},bind:function(h,l,a){h===void 0&&(h=!1);var f=this.renderer;if(h&&f.flush(),l&&a&&this.resize(l,a),f.pushFramebuffer(this.framebuffer,!1,!1),h&&this.adjustViewport(),this.autoClear){var c=this.renderer.gl;c.clearColor(0,0,0,0),c.clear(c.COLOR_BUFFER_BIT)}f.clearStencilMask()},adjustViewport:function(){var h=this.renderer.gl;h.viewport(0,0,this.width,this.height),h.disable(h.SCISSOR_TEST)},clear:function(h,l,a,f){var c=this.renderer,u=c.gl;c.pushFramebuffer(this.framebuffer),h!==void 0&&l!==void 0&&a!==void 0&&f!==void 0?(u.enable(u.SCISSOR_TEST),u.scissor(h,l,a,f)):u.disable(u.SCISSOR_TEST),u.clearColor(0,0,0,0),u.clear(u.COLOR_BUFFER_BIT),c.popFramebuffer(),c.resetScissor()},unbind:function(h){h===void 0&&(h=!1);var l=this.renderer;return h&&l.flush(),l.popFramebuffer()},destroy:function(){var h=this.renderer;h.off(x.RESIZE,this.resize,this),h.deleteFramebuffer(this.framebuffer),h.deleteTexture(this.texture),this.renderer=null,this.framebuffer=null,this.texture=null}});n.exports=d},70554:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @author       Matthew Groves <@doormat>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={getTintFromFloats:function(T,r,o,x){var d=(T*255|0)&255,h=(r*255|0)&255,l=(o*255|0)&255,a=(x*255|0)&255;return(a<<24|d<<16|h<<8|l)>>>0},getTintAppendFloatAlpha:function(T,r){var o=(r*255|0)&255;return(o<<24|T)>>>0},getTintAppendFloatAlphaAndSwap:function(T,r){var o=(T>>16|0)&255,x=(T>>8|0)&255,d=(T|0)&255,h=(r*255|0)&255;return(h<<24|d<<16|x<<8|o)>>>0},getFloatsFromUintRGB:function(T){var r=(T>>16|0)&255,o=(T>>8|0)&255,x=(T|0)&255;return[r/255,o/255,x/255]},checkShaderMax:function(T,r){var o=Math.min(16,T.getParameter(T.MAX_TEXTURE_IMAGE_UNITS));return!r||r===-1?o:Math.min(o,r)},parseFragmentShaderMaxTextures:function(T,r){if(!T)return"";for(var o="",x=0;x<r;x++)x>0&&(o+=`
	else `),x<r-1&&(o+="if (outTexId < "+x+".5)"),o+=`
	{`,o+=`
		texture = texture2D(uMainSampler[`+x+"], outTexCoord);",o+=`
	}`;return T=T.replace(/%count%/gi,r.toString()),T.replace(/%forloop%/gi,o)},setGlowQuality:function(T,r,o,x){return o===void 0&&(o=r.config.glowFXQuality),x===void 0&&(x=r.config.glowFXDistance),T=T.replace(/__SIZE__/gi,(1/o/x).toFixed(7)),T=T.replace(/__DIST__/gi,x.toFixed(0)+".0"),T}}},29100:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(62644),d=r(50792),h=r(77085),l=r(95540),a=r(37867),f=r(92503),c=r(32302),u=r(70554),v=r(38683),g=new o({Extends:d,initialize:function(y){d.call(this);var C=y.game,P=C.renderer,w=P.gl;this.name=l(y,"name","WebGLPipeline"),this.game=C,this.renderer=P,this.manager,this.gl=w,this.view=C.canvas,this.width=0,this.height=0,this.vertexCount=0,this.vertexCapacity=0,this.vertexData,this.vertexBuffer,this.activeBuffer,this.topology=l(y,"topology",w.TRIANGLES),this.bytes,this.vertexViewF32,this.vertexViewU32,this.active=!0,this.forceZero=l(y,"forceZero",!1),this.hasBooted=!1,this.isPostFX=!1,this.isPreFX=!1,this.renderTargets=[],this.currentRenderTarget,this.shaders=[],this.currentShader,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.config=y,this.glReset=!1,this.batch=[],this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.activeTextures=[],this.resizeUniform=l(y,"resizeUniform","")},boot:function(){var m,y=this.gl,C=this.config,P=this.renderer;this.isPostFX||(this.projectionMatrix=new a().identity());var w=this.renderTargets,M=l(C,"renderTarget",!1);typeof M=="boolean"&&M&&(M=1);var R=P.width,A=P.height;if(typeof M=="number")for(m=0;m<M;m++)w.push(new c(P,R,A,1,0,!0));else if(Array.isArray(M))for(m=0;m<M.length;m++){var L=l(M[m],"scale",1),F=l(M[m],"minFilter",0),G=l(M[m],"autoClear",1),I=l(M[m],"autoResize",!1),B=l(M[m],"width",null),k=l(M[m],"height",B);B?w.push(new c(P,B,k,1,F,G,I)):w.push(new c(P,R,A,L,F,G,I))}w.length&&(this.currentRenderTarget=w[0]),this.setShadersFromConfig(C);var U=this.shaders,H=0;for(m=0;m<U.length;m++)U[m].vertexSize>H&&(H=U[m].vertexSize);var X=l(C,"batchSize",P.config.batchSize);this.vertexCapacity=X*6;var j=new ArrayBuffer(this.vertexCapacity*H);this.vertexData=j,this.bytes=new Uint8Array(j),this.vertexViewF32=new Float32Array(j),this.vertexViewU32=new Uint32Array(j);var J=l(C,"vertices",null);for(J?(this.vertexViewF32.set(J),this.vertexBuffer=P.createVertexBuffer(j,y.STATIC_DRAW)):this.vertexBuffer=P.createVertexBuffer(j.byteLength,y.DYNAMIC_DRAW),this.setVertexBuffer(),m=U.length-1;m>=0;m--)U[m].rebind();this.hasBooted=!0,P.on(f.RESIZE,this.resize,this),P.on(f.PRE_RENDER,this.onPreRender,this),P.on(f.RENDER,this.onRender,this),P.on(f.POST_RENDER,this.onPostRender,this),this.emit(h.BOOT,this),this.onBoot()},onBoot:function(){},onResize:function(){},setShader:function(m,y,C){var P=this.renderer;if(m!==this.currentShader||P.currentProgram!==this.currentShader.program){this.flush();var w=this.setVertexBuffer(C);w&&!y&&(y=!0),m.bind(y,!1),this.currentShader=m}return this},getShaderByName:function(m){for(var y=this.shaders,C=0;C<y.length;C++)if(y[C].name===m)return y[C]},setShadersFromConfig:function(m){var y,C=this.shaders,P=this.renderer;for(y=0;y<C.length;y++)C[y].destroy();var w="vertShader",M="fragShader",R="attributes",A=l(m,w,null),L=u.parseFragmentShaderMaxTextures(l(m,M,null),P.maxTextures),F=l(m,R,null),G=l(m,"shaders",[]),I=G.length;if(I===0)A&&L&&(this.shaders=[new v(this,"default",A,L,x(F))]);else{var B=[];for(y=0;y<I;y++){var k=G[y],U,H,X,j;if(typeof k=="string"?(U="default",H=A,X=u.parseFragmentShaderMaxTextures(k,P.maxTextures),j=F):(U=l(k,"name","default"),H=l(k,w,A),X=u.parseFragmentShaderMaxTextures(l(k,M,L),P.maxTextures),j=l(k,R,F)),U==="default"){var J=X.split(`
`),Y=J[0].trim();Y.indexOf("#define SHADER_NAME")>-1&&(U=Y.substring(20))}H&&X&&B.push(new v(this,U,H,X,x(j)))}this.shaders=B}return this.shaders.length===0?console.warn("Pipeline: "+this.name+" - Invalid shader config"):this.currentShader=this.shaders[0],this},createBatch:function(m){return this.currentBatch={start:this.vertexCount,count:0,texture:[m],unit:0,maxUnit:0},this.currentUnit=0,this.currentTexture=m,this.batch.push(this.currentBatch),0},addTextureToBatch:function(m){var y=this.currentBatch;y&&(y.texture.push(m),y.unit++,y.maxUnit++)},pushBatch:function(m){if(!this.currentBatch||this.forceZero&&m!==this.currentTexture)return this.createBatch(m);if(m===this.currentTexture)return this.currentUnit;var y=this.currentBatch,C=y.texture.indexOf(m);return C===-1?y.texture.length===this.renderer.maxTextures?this.createBatch(m):(y.unit++,y.maxUnit++,y.texture.push(m),this.currentUnit=y.unit,this.currentTexture=m,y.unit):(this.currentUnit=C,this.currentTexture=m,C)},setGameObject:function(m,y){return y===void 0&&(y=m.frame),this.pushBatch(y.source.glTexture)},shouldFlush:function(m){return m===void 0&&(m=0),this.vertexCount+m>this.vertexCapacity},vertexAvailable:function(){return this.vertexCapacity-this.vertexCount},resize:function(m,y){(m!==this.width||y!==this.height)&&this.flush(),this.width=m,this.height=y;for(var C=this.renderTargets,P=0;P<C.length;P++)C[P].resize(m,y);return this.setProjectionMatrix(m,y),this.resizeUniform&&this.set2f(this.resizeUniform,m,y),this.emit(h.RESIZE,m,y,this),this.onResize(m,y),this},setProjectionMatrix:function(m,y){var C=this.projectionMatrix;if(!C)return this;this.projectionWidth=m,this.projectionHeight=y,C.ortho(0,m,y,0,-1e3,1e3);for(var P=this.shaders,w="uProjectionMatrix",M=0;M<P.length;M++){var R=P[M];R.hasUniform(w)&&(R.resetUniform(w),R.setMatrix4fv(w,!1,C.val,R))}return this},flipProjectionMatrix:function(m){m===void 0&&(m=!0);var y=this.projectionMatrix;if(!y)return this;var C=this.projectionWidth,P=this.projectionHeight;m?y.ortho(0,C,0,P,-1e3,1e3):y.ortho(0,C,P,0,-1e3,1e3),this.setMatrix4fv("uProjectionMatrix",!1,y.val)},updateProjectionMatrix:function(){if(this.projectionMatrix){var m=this.renderer.projectionWidth,y=this.renderer.projectionHeight;(this.projectionWidth!==m||this.projectionHeight!==y)&&this.setProjectionMatrix(m,y)}},bind:function(m){if(m===void 0&&(m=this.currentShader),this.glReset)return this.rebind(m);var y=!1,C=this.gl;return C.getParameter(C.ARRAY_BUFFER_BINDING)!==this.vertexBuffer&&(C.bindBuffer(C.ARRAY_BUFFER,this.vertexBuffer.webGLBuffer),this.activeBuffer=this.vertexBuffer,y=!0),m.bind(y),this.currentShader=m,this.activeTextures.length=0,this.emit(h.BIND,this,m),this.onActive(m),this},rebind:function(m){this.activeBuffer=null,this.setVertexBuffer();for(var y=this.shaders,C=y.length-1;C>=0;C--){var P=y[C].rebind();(!m||P===m)&&(this.currentShader=P)}return this.activeTextures.length=0,this.emit(h.REBIND,this.currentShader),this.onActive(this.currentShader),this.onRebind(),this.glReset=!1,this},restoreContext:function(){var m=this.shaders,y=!!this.vertexBuffer;this.activeBuffer=null,this.activeTextures.length=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,y&&this.setVertexBuffer();for(var C=0;C<m.length;C++){var P=m[C];P.syncUniforms(),y&&P.rebind()}},setVertexBuffer:function(m){if(m===void 0&&(m=this.vertexBuffer),m!==this.activeBuffer){var y=this.gl;return this.gl.bindBuffer(y.ARRAY_BUFFER,m.webGLBuffer),this.activeBuffer=m,!0}return!1},preBatch:function(m){return this.currentRenderTarget&&this.currentRenderTarget.bind(),this.onPreBatch(m),this},postBatch:function(m){return this.onDraw(this.currentRenderTarget),this.onPostBatch(m),this},onDraw:function(){},unbind:function(){this.currentRenderTarget&&this.currentRenderTarget.unbind()},flush:function(m){if(m===void 0&&(m=!1),this.vertexCount>0){this.emit(h.BEFORE_FLUSH,this,m),this.onBeforeFlush(m);var y=this.gl,C=this.vertexCount,P=this.currentShader.vertexSize,w=this.topology;if(this.active){this.setVertexBuffer(),C===this.vertexCapacity?y.bufferData(y.ARRAY_BUFFER,this.vertexData,y.DYNAMIC_DRAW):y.bufferSubData(y.ARRAY_BUFFER,0,this.bytes.subarray(0,C*P));var M,R,A,L=this.batch,F=this.activeTextures;if(this.forceZero)for(F[0]||y.activeTexture(y.TEXTURE0),M=0;M<L.length;M++)R=L[M],A=R.texture[0],F[0]!==A&&(y.bindTexture(y.TEXTURE_2D,A.webGLTexture),F[0]=A),y.drawArrays(w,R.start,R.count);else for(M=0;M<L.length;M++){R=L[M];for(var G=0;G<=R.maxUnit;G++)A=R.texture[G],F[G]!==A&&(y.activeTexture(y.TEXTURE0+G),y.bindTexture(y.TEXTURE_2D,A.webGLTexture),F[G]=A);y.drawArrays(w,R.start,R.count)}}this.vertexCount=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.emit(h.AFTER_FLUSH,this,m),this.onAfterFlush(m)}return this},onActive:function(){},onBind:function(){},onRebind:function(){},onBatch:function(){},onPreBatch:function(){},onPostBatch:function(){},onPreRender:function(){},onRender:function(){},onPostRender:function(){},onBeforeFlush:function(){},onAfterFlush:function(){},batchVert:function(m,y,C,P,w,M,R){var A=this.vertexViewF32,L=this.vertexViewU32,F=this.vertexCount*this.currentShader.vertexComponentCount-1;A[++F]=m,A[++F]=y,A[++F]=C,A[++F]=P,A[++F]=w,A[++F]=M,L[++F]=R,this.vertexCount++,this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchQuad:function(m,y,C,P,w,M,R,A,L,F,G,I,B,k,U,H,X,j,J,Y){Y===void 0&&(Y=this.currentUnit);var $=!1;this.shouldFlush(6)&&(this.flush(),$=!0),this.currentBatch||(Y=this.setTexture2D(J));var z=this.vertexViewF32,V=this.vertexViewU32,K=this.vertexCount*this.currentShader.vertexComponentCount-1;return z[++K]=y,z[++K]=C,z[++K]=F,z[++K]=G,z[++K]=Y,z[++K]=j,V[++K]=k,z[++K]=P,z[++K]=w,z[++K]=F,z[++K]=B,z[++K]=Y,z[++K]=j,V[++K]=H,z[++K]=M,z[++K]=R,z[++K]=I,z[++K]=B,z[++K]=Y,z[++K]=j,V[++K]=X,z[++K]=y,z[++K]=C,z[++K]=F,z[++K]=G,z[++K]=Y,z[++K]=j,V[++K]=k,z[++K]=M,z[++K]=R,z[++K]=I,z[++K]=B,z[++K]=Y,z[++K]=j,V[++K]=X,z[++K]=A,z[++K]=L,z[++K]=I,z[++K]=G,z[++K]=Y,z[++K]=j,V[++K]=U,this.vertexCount+=6,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(m),$},batchTri:function(m,y,C,P,w,M,R,A,L,F,G,I,B,k,U,H,X){X===void 0&&(X=this.currentUnit);var j=!1;this.shouldFlush(3)&&(this.flush(),j=!0),this.currentBatch||(X=this.setTexture2D(H));var J=this.vertexViewF32,Y=this.vertexViewU32,$=this.vertexCount*this.currentShader.vertexComponentCount-1;return J[++$]=y,J[++$]=C,J[++$]=A,J[++$]=L,J[++$]=X,J[++$]=U,Y[++$]=I,J[++$]=P,J[++$]=w,J[++$]=A,J[++$]=G,J[++$]=X,J[++$]=U,Y[++$]=B,J[++$]=M,J[++$]=R,J[++$]=F,J[++$]=G,J[++$]=X,J[++$]=U,Y[++$]=k,this.vertexCount+=3,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(m),j},drawFillRect:function(m,y,C,P,w,M,R,A){R===void 0&&(R=this.renderer.whiteTexture),A===void 0&&(A=!0),m=Math.floor(m),y=Math.floor(y);var L=Math.floor(m+C),F=Math.floor(y+P),G=this.setTexture2D(R),I=u.getTintAppendFloatAlphaAndSwap(w,M),B=0,k=0,U=1,H=1;A&&(k=1,H=0),this.batchQuad(null,m,y,m,F,L,F,L,y,B,k,U,H,I,I,I,I,0,R,G)},setTexture2D:function(m){return m===void 0&&(m=this.renderer.whiteTexture),this.pushBatch(m)},bindTexture:function(m,y){y===void 0&&(y=0);var C=this.gl;return C.activeTexture(C.TEXTURE0+y),C.bindTexture(C.TEXTURE_2D,m.webGLTexture),this},bindRenderTarget:function(m,y){return this.bindTexture(m.texture,y)},setTime:function(m,y){return this.set1f(m,this.game.loop.getDuration(),y),this},setBoolean:function(m,y,C){return C===void 0&&(C=this.currentShader),C.setBoolean(m,y),this},set1f:function(m,y,C){return C===void 0&&(C=this.currentShader),C.set1f(m,y),this},set2f:function(m,y,C,P){return P===void 0&&(P=this.currentShader),P.set2f(m,y,C),this},set3f:function(m,y,C,P,w){return w===void 0&&(w=this.currentShader),w.set3f(m,y,C,P),this},set4f:function(m,y,C,P,w,M){return M===void 0&&(M=this.currentShader),M.set4f(m,y,C,P,w),this},set1fv:function(m,y,C){return C===void 0&&(C=this.currentShader),C.set1fv(m,y),this},set2fv:function(m,y,C){return C===void 0&&(C=this.currentShader),C.set2fv(m,y),this},set3fv:function(m,y,C){return C===void 0&&(C=this.currentShader),C.set3fv(m,y),this},set4fv:function(m,y,C){return C===void 0&&(C=this.currentShader),C.set4fv(m,y),this},set1iv:function(m,y,C){return C===void 0&&(C=this.currentShader),C.set1iv(m,y),this},set2iv:function(m,y,C){return C===void 0&&(C=this.currentShader),C.set2iv(m,y),this},set3iv:function(m,y,C){return C===void 0&&(C=this.currentShader),C.set3iv(m,y),this},set4iv:function(m,y,C){return C===void 0&&(C=this.currentShader),C.set4iv(m,y),this},set1i:function(m,y,C){return C===void 0&&(C=this.currentShader),C.set1i(m,y),this},set2i:function(m,y,C,P){return P===void 0&&(P=this.currentShader),P.set2i(m,y,C),this},set3i:function(m,y,C,P,w){return w===void 0&&(w=this.currentShader),w.set3i(m,y,C,P),this},set4i:function(m,y,C,P,w,M){return M===void 0&&(M=this.currentShader),M.set4i(m,y,C,P,w),this},setMatrix2fv:function(m,y,C,P){return P===void 0&&(P=this.currentShader),P.setMatrix2fv(m,y,C),this},setMatrix3fv:function(m,y,C,P){return P===void 0&&(P=this.currentShader),P.setMatrix3fv(m,y,C),this},setMatrix4fv:function(m,y,C,P){return P===void 0&&(P=this.currentShader),P.setMatrix4fv(m,y,C),this},destroy:function(){this.emit(h.DESTROY,this);var m,y=this.shaders;for(m=0;m<y.length;m++)y[m].destroy();var C=this.renderTargets;for(m=0;m<C.length;m++)C[m].destroy();var P=this.renderer;return P.deleteBuffer(this.vertexBuffer),P.off(f.RESIZE,this.resize,this),P.off(f.PRE_RENDER,this.onPreRender,this),P.off(f.RENDER,this.onRender,this),P.off(f.POST_RENDER,this.onPostRender,this),this.removeAllListeners(),this.game=null,this.renderer=null,this.manager=null,this.gl=null,this.view=null,this.shaders=null,this.renderTargets=null,this.bytes=null,this.vertexViewF32=null,this.vertexViewU32=null,this.vertexData=null,this.vertexBuffer=null,this.currentShader=null,this.currentRenderTarget=null,this.activeTextures=null,this}});n.exports=g},74797:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(95428),x=r(72905),d=r(19715),h=r(83419),l=r(8054),a=r(50792),f=r(92503),c=r(50030),u=r(37867),v=r(29747),g=r(7530),m=r(32302),y=r(97480),C=r(69442),P=r(70554),w=r(88815),M=r(26128),R=r(1482),A=r(82751),L=r(84387),F=r(93567),G=r(57183),I=new h({Extends:a,initialize:function(k){a.call(this);var U=k.config,H={alpha:U.transparent,desynchronized:U.desynchronized,depth:!0,antialias:U.antialiasGL,premultipliedAlpha:U.premultipliedAlpha,stencil:!0,failIfMajorPerformanceCaveat:U.failIfMajorPerformanceCaveat,powerPreference:U.powerPreference,preserveDrawingBuffer:U.preserveDrawingBuffer,willReadFrequently:!1};this.config={clearBeforeRender:U.clearBeforeRender,antialias:U.antialias,backgroundColor:U.backgroundColor,contextCreation:H,roundPixels:U.roundPixels,maxTextures:U.maxTextures,maxTextureSize:U.maxTextureSize,batchSize:U.batchSize,maxLights:U.maxLights,mipmapFilter:U.mipmapFilter},this.game=k,this.type=l.WEBGL,this.pipelines=null,this.width=0,this.height=0,this.canvas=k.canvas,this.blendModes=[],this.contextLost=!1,this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92,isFramebuffer:!1,bufferWidth:0,bufferHeight:0},this.maxTextures=0,this.textureIndexes,this.glBufferWrappers=[],this.glProgramWrappers=[],this.glTextureWrappers=[],this.glFramebufferWrappers=[],this.glAttribLocationWrappers=[],this.glUniformLocationWrappers=[],this.currentFramebuffer=null,this.fboStack=[],this.currentProgram=null,this.currentBlendMode=1/0,this.currentScissorEnabled=!1,this.currentScissor=null,this.scissorStack=[],this.contextLostHandler=v,this.contextRestoredHandler=v,this.previousContextLostHandler=v,this.previousContextRestoredHandler=v,this.gl=null,this.supportedExtensions=null,this.instancedArraysExtension=null,this.vaoExtension=null,this.extensions={},this.glFormats,this.compression,this.drawingBufferHeight=0,this.blankTexture=null,this.normalTexture=null,this.whiteTexture=null,this.maskCount=0,this.maskStack=[],this.currentMask={mask:null,camera:null},this.currentCameraMask={mask:null,camera:null},this.glFuncMap=null,this.currentType="",this.newType=!1,this.nextTypeMatch=!1,this.finalType=!1,this.mipmapFilter=null,this.defaultScissor=[0,0,0,0],this.isBooted=!1,this.renderTarget=null,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.maskSource=null,this.maskTarget=null,this.spector=null,this._debugCapture=!1,this.init(this.config)},init:function(B){var k,U=this.game,H=this.canvas,X=B.backgroundColor;if(U.config.context?k=U.config.context:k=H.getContext("webgl",B.contextCreation)||H.getContext("experimental-webgl",B.contextCreation),!k||k.isContextLost())throw this.contextLost=!0,new Error("WebGL unsupported");this.gl=k,this.setExtensions(),this.setContextHandlers(),U.context=k;for(var j=0;j<=27;j++)this.blendModes.push({func:[k.ONE,k.ONE_MINUS_SRC_ALPHA],equation:k.FUNC_ADD});this.blendModes[1].func=[k.ONE,k.DST_ALPHA],this.blendModes[2].func=[k.DST_COLOR,k.ONE_MINUS_SRC_ALPHA],this.blendModes[3].func=[k.ONE,k.ONE_MINUS_SRC_COLOR],this.blendModes[17]={func:[k.ZERO,k.ONE_MINUS_SRC_ALPHA],equation:k.FUNC_REVERSE_SUBTRACT},this.glFormats=[k.BYTE,k.SHORT,k.UNSIGNED_BYTE,k.UNSIGNED_SHORT,k.FLOAT],this.glFuncMap={mat2:{func:k.uniformMatrix2fv,length:1,matrix:!0},mat3:{func:k.uniformMatrix3fv,length:1,matrix:!0},mat4:{func:k.uniformMatrix4fv,length:1,matrix:!0},"1f":{func:k.uniform1f,length:1},"1fv":{func:k.uniform1fv,length:1},"1i":{func:k.uniform1i,length:1},"1iv":{func:k.uniform1iv,length:1},"2f":{func:k.uniform2f,length:2},"2fv":{func:k.uniform2fv,length:1},"2i":{func:k.uniform2i,length:2},"2iv":{func:k.uniform2iv,length:1},"3f":{func:k.uniform3f,length:3},"3fv":{func:k.uniform3fv,length:1},"3i":{func:k.uniform3i,length:3},"3iv":{func:k.uniform3iv,length:1},"4f":{func:k.uniform4f,length:4},"4fv":{func:k.uniform4fv,length:1},"4i":{func:k.uniform4i,length:4},"4iv":{func:k.uniform4iv,length:1}},(!B.maxTextures||B.maxTextures===-1)&&(B.maxTextures=k.getParameter(k.MAX_TEXTURE_IMAGE_UNITS)),B.maxTextureSize||(B.maxTextureSize=k.getParameter(k.MAX_TEXTURE_SIZE)),this.compression=this.getCompressedTextures(),k.disable(k.DEPTH_TEST),k.disable(k.CULL_FACE),k.enable(k.BLEND),k.clearColor(X.redGL,X.greenGL,X.blueGL,X.alphaGL),k.clear(k.COLOR_BUFFER_BIT);var J=["NEAREST","LINEAR","NEAREST_MIPMAP_NEAREST","LINEAR_MIPMAP_NEAREST","NEAREST_MIPMAP_LINEAR","LINEAR_MIPMAP_LINEAR"];return J.indexOf(B.mipmapFilter)!==-1&&(this.mipmapFilter=k[B.mipmapFilter]),this.maxTextures=P.checkShaderMax(k,B.maxTextures),this.textureIndexes=[],this.createTemporaryTextures(),this.pipelines=new g(this),this.setBlendMode(l.BlendModes.NORMAL),this.projectionMatrix=new u().identity(),U.textures.once(C.READY,this.boot,this),this},boot:function(){var B=this.game,k=this.pipelines,U=B.scale.baseSize,H=U.width,X=U.height;this.width=H,this.height=X,this.isBooted=!0,this.renderTarget=new m(this,H,X,1,0,!0,!0),this.maskTarget=new m(this,H,X,1,0,!0,!0),this.maskSource=new m(this,H,X,1,0,!0,!0);var j=B.config;k.boot(j.pipeline,j.defaultPipeline,j.autoMobilePipeline),this.blankTexture=B.textures.getFrame("__DEFAULT").glTexture,this.normalTexture=B.textures.getFrame("__NORMAL").glTexture,this.whiteTexture=B.textures.getFrame("__WHITE").glTexture;var J=this.gl;J.bindFramebuffer(J.FRAMEBUFFER,null),J.enable(J.SCISSOR_TEST),B.scale.on(y.RESIZE,this.onResize,this),this.resize(H,X)},setExtensions:function(){var B=this.gl,k=B.getSupportedExtensions();this.supportedExtensions=k;var U="ANGLE_instanced_arrays";this.instancedArraysExtension=k.indexOf(U)>-1?B.getExtension(U):null;var H="OES_vertex_array_object";this.vaoExtension=k.indexOf(H)>-1?B.getExtension(H):null},setContextHandlers:function(B,k){this.previousContextLostHandler&&this.canvas.removeEventListener("webglcontextlost",this.previousContextLostHandler,!1),this.previousContextRestoredHandler&&this.canvas.removeEventListener("webglcontextlost",this.previousContextRestoredHandler,!1),typeof B=="function"?this.contextLostHandler=B.bind(this):this.contextLostHandler=this.dispatchContextLost.bind(this),typeof k=="function"?this.contextRestoredHandler=k.bind(this):this.contextRestoredHandler=this.dispatchContextRestored.bind(this),this.canvas.addEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.addEventListener("webglcontextrestored",this.contextRestoredHandler,!1),this.previousContextLostHandler=this.contextLostHandler,this.previousContextRestoredHandler=this.contextRestoredHandler},dispatchContextLost:function(B){this.contextLost=!0,console&&console.warn("WebGL Context lost. Renderer disabled"),this.emit(f.LOSE_WEBGL,this),B.preventDefault()},dispatchContextRestored:function(B){var k=this.gl;if(k.isContextLost()){console&&console.log("WebGL Context restored, but context is still lost");return}this.currentProgram=null,this.currentFramebuffer=null,this.setBlendMode(l.BlendModes.NORMAL),k.disable(k.BLEND),k.disable(k.DEPTH_TEST),k.enable(k.CULL_FACE),this.compression=this.getCompressedTextures();var U=function(H){H.createResource()};o(this.glTextureWrappers,U),o(this.glBufferWrappers,U),o(this.glFramebufferWrappers,U),o(this.glProgramWrappers,U),o(this.glAttribLocationWrappers,U),o(this.glUniformLocationWrappers,U),this.createTemporaryTextures(),this.pipelines.restoreContext(),this.resize(this.game.scale.baseSize.width,this.game.scale.baseSize.height),this.setExtensions(),this.contextLost=!1,console&&console.warn("WebGL Context restored. Renderer running again."),this.emit(f.RESTORE_WEBGL,this),B.preventDefault()},createTemporaryTextures:function(){for(var B=this.gl,k=0;k<this.maxTextures;k++){var U=B.createTexture();B.activeTexture(B.TEXTURE0+k),B.bindTexture(B.TEXTURE_2D,U),B.texImage2D(B.TEXTURE_2D,0,B.RGBA,1,1,0,B.RGBA,B.UNSIGNED_BYTE,new Uint8Array([0,0,255,255])),this.textureIndexes.push(k)}},captureFrame:function(B,k){},captureNextFrame:function(){},getFps:function(){},log:function(){},startCapture:function(B,k,U){},stopCapture:function(){},onCapture:function(B){},onResize:function(B,k){(k.width!==this.width||k.height!==this.height)&&this.resize(k.width,k.height)},beginCapture:function(B,k){B===void 0&&(B=this.width),k===void 0&&(k=this.height),this.renderTarget.bind(!0,B,k),this.setProjectionMatrix(B,k)},endCapture:function(){return this.renderTarget.unbind(!0),this.resetProjectionMatrix(),this.renderTarget},resize:function(B,k){var U=this.gl;return this.width=B,this.height=k,this.setProjectionMatrix(B,k),U.viewport(0,0,B,k),this.drawingBufferHeight=U.drawingBufferHeight,U.scissor(0,U.drawingBufferHeight-k,B,k),this.defaultScissor[2]=B,this.defaultScissor[3]=k,this.emit(f.RESIZE,B,k),this},getCompressedTextures:function(){var B="WEBGL_compressed_texture_",k="WEBKIT_"+B,U="EXT_texture_compression_",H=function(j,J){var Y=j.getExtension(B+J)||j.getExtension(k+J)||j.getExtension(U+J);if(Y){var $={};for(var z in Y)$[Y[z]]=z;return $}},X=this.gl;return{ETC:H(X,"etc"),ETC1:H(X,"etc1"),ATC:H(X,"atc"),ASTC:H(X,"astc"),BPTC:H(X,"bptc"),RGTC:H(X,"rgtc"),PVRTC:H(X,"pvrtc"),S3TC:H(X,"s3tc"),S3TCSRGB:H(X,"s3tc_srgb"),IMG:!0}},getCompressedTextureName:function(B,k){var U=this.compression[B.toUpperCase()];if(k in U)return U[k]},supportsCompressedTexture:function(B,k){var U=this.compression[B.toUpperCase()];return U?k?k in U:!0:!1},getAspectRatio:function(){return this.width/this.height},setProjectionMatrix:function(B,k){return(B!==this.projectionWidth||k!==this.projectionHeight)&&(this.projectionWidth=B,this.projectionHeight=k,this.projectionMatrix.ortho(0,B,k,0,-1e3,1e3)),this},resetProjectionMatrix:function(){return this.setProjectionMatrix(this.width,this.height)},hasExtension:function(B){return this.supportedExtensions?this.supportedExtensions.indexOf(B):!1},getExtension:function(B){return this.hasExtension(B)?(B in this.extensions||(this.extensions[B]=this.gl.getExtension(B)),this.extensions[B]):null},flush:function(){this.pipelines.flush()},pushScissor:function(B,k,U,H,X){X===void 0&&(X=this.drawingBufferHeight);var j=this.scissorStack,J=[B,k,U,H];return j.push(J),this.setScissor(B,k,U,H,X),this.currentScissor=J,J},setScissor:function(B,k,U,H,X){X===void 0&&(X=this.drawingBufferHeight);var j=this.gl,J=this.currentScissor,Y=U>0&&H>0;if(J&&Y){var $=J[0],z=J[1],V=J[2],K=J[3];Y=$!==B||z!==k||V!==U||K!==H}Y&&(this.flush(),j.scissor(B,X-k-H,U,H))},resetScissor:function(){var B=this.gl;B.enable(B.SCISSOR_TEST);var k=this.currentScissor;if(k){var U=k[0],H=k[1],X=k[2],j=k[3];X>0&&j>0&&B.scissor(U,this.drawingBufferHeight-H-j,X,j)}},popScissor:function(){var B=this.scissorStack;B.pop();var k=B[B.length-1];k&&this.setScissor(k[0],k[1],k[2],k[3]),this.currentScissor=k},hasActiveStencilMask:function(){var B=this.currentMask.mask,k=this.currentCameraMask.mask;return B&&B.isStencil||k&&k.isStencil},resetViewport:function(){var B=this.gl;B.viewport(0,0,this.width,this.height),this.drawingBufferHeight=B.drawingBufferHeight},setBlendMode:function(B,k){k===void 0&&(k=!1);var U=this.gl,H=this.blendModes[B];return k||B!==l.BlendModes.SKIP_CHECK&&this.currentBlendMode!==B?(this.flush(),U.enable(U.BLEND),U.blendEquation(H.equation),H.func.length>2?U.blendFuncSeparate(H.func[0],H.func[1],H.func[2],H.func[3]):U.blendFunc(H.func[0],H.func[1]),this.currentBlendMode=B,!0):!1},addBlendMode:function(B,k){var U=this.blendModes.push({func:B,equation:k});return U-1},updateBlendMode:function(B,k,U){return this.blendModes[B]&&(this.blendModes[B].func=k,U&&(this.blendModes[B].equation=U)),this},removeBlendMode:function(B){return B>17&&this.blendModes[B]&&this.blendModes.splice(B,1),this},pushFramebuffer:function(B,k,U,H,X){return B===this.currentFramebuffer?this:(this.fboStack.push(B),this.setFramebuffer(B,k,U,H,X))},setFramebuffer:function(B,k,U,H,X){if(k===void 0&&(k=!1),U===void 0&&(U=!0),H===void 0&&(H=null),X===void 0&&(X=!1),B===this.currentFramebuffer)return this;var j=this.gl,J=this.width,Y=this.height;return B&&B.renderTexture&&U?(J=B.renderTexture.width,Y=B.renderTexture.height):this.flush(),B?j.bindFramebuffer(j.FRAMEBUFFER,B.webGLFramebuffer):j.bindFramebuffer(j.FRAMEBUFFER,null),U&&j.viewport(0,0,J,Y),H&&j.framebufferTexture2D(j.FRAMEBUFFER,j.COLOR_ATTACHMENT0,j.TEXTURE_2D,H.webGLTexture,0),X&&(j.clearColor(0,0,0,0),j.clear(j.COLOR_BUFFER_BIT)),k&&(B?(this.drawingBufferHeight=Y,this.pushScissor(0,0,J,Y)):(this.drawingBufferHeight=this.height,this.popScissor())),this.currentFramebuffer=B,this},popFramebuffer:function(B,k){B===void 0&&(B=!1),k===void 0&&(k=!0);var U=this.fboStack;U.pop();var H=U[U.length-1];return H||(H=null),this.setFramebuffer(H,B,k),H},restoreFramebuffer:function(B,k){B===void 0&&(B=!1),k===void 0&&(k=!0);var U=this.fboStack,H=U[U.length-1];H||(H=null),this.currentFramebuffer=null,this.setFramebuffer(H,B,k)},setProgram:function(B){return B!==this.currentProgram?(this.flush(),this.gl.useProgram(B.webGLProgram),this.currentProgram=B,!0):!1},resetProgram:function(){return this.gl.useProgram(this.currentProgram.webGLProgramWrapper),this},createTextureFromSource:function(B,k,U,H,X){X===void 0&&(X=!1);var j=this.gl,J=j.NEAREST,Y=j.NEAREST,$=j.CLAMP_TO_EDGE,z=null;k=B?B.width:k,U=B?B.height:U;var V=c(k,U);if(V&&!X&&($=j.REPEAT),H===l.ScaleModes.LINEAR&&this.config.antialias){var K=B&&B.compressed,Q=!K&&V||K&&B.mipmaps.length>1;J=this.mipmapFilter&&Q?this.mipmapFilter:j.LINEAR,Y=j.LINEAR}return!B&&typeof k=="number"&&typeof U=="number"?z=this.createTexture2D(0,J,Y,$,$,j.RGBA,null,k,U):z=this.createTexture2D(0,J,Y,$,$,j.RGBA,B),z},createTexture2D:function(B,k,U,H,X,j,J,Y,$,z,V,K){typeof Y!="number"&&(Y=J?J.width:1),typeof $!="number"&&($=J?J.height:1);var Q=new A(this.gl,B,k,U,H,X,j,J,Y,$,z,V,K);return this.glTextureWrappers.push(Q),Q},createFramebuffer:function(B,k,U,H){this.currentFramebuffer=null;var X=new L(this.gl,B,k,U,H);return this.glFramebufferWrappers.push(X),X},beginBitmapMask:function(B,k){var U=this.gl;U&&(this.flush(),this.maskTarget.bind(!0),this.currentCameraMask.mask!==B&&(this.currentMask.mask=B,this.currentMask.camera=k))},drawBitmapMask:function(B,k,U){this.flush(),this.maskSource.bind(),this.setBlendMode(0,!0),B.renderWebGL(this,B,k),this.maskSource.unbind(!0),this.maskTarget.unbind();var H=this.gl,X=this.getCurrentStencilMask();X?(H.enable(H.STENCIL_TEST),X.mask.applyStencil(this,X.camera,!0)):this.currentMask.mask=null,this.pipelines.set(U),H.activeTexture(H.TEXTURE0),H.bindTexture(H.TEXTURE_2D,this.maskTarget.texture.webGLTexture),H.activeTexture(H.TEXTURE1),H.bindTexture(H.TEXTURE_2D,this.maskSource.texture.webGLTexture)},createProgram:function(B,k){var U=new R(this.gl,B,k);return this.glProgramWrappers.push(U),U},createVertexBuffer:function(B,k){var U=this.gl,H=new M(U,B,U.ARRAY_BUFFER,k);return this.glBufferWrappers.push(H),H},createAttribLocation:function(B,k){var U=new F(this.gl,B,k);return this.glAttribLocationWrappers.push(U),U},createUniformLocation:function(B,k){var U=new G(this.gl,B,k);return this.glUniformLocationWrappers.push(U),U},createIndexBuffer:function(B,k){var U=this.gl,H=new M(U,B,U.ELEMENT_ARRAY_BUFFER,k);return this.glBufferWrappers.push(H),H},deleteTexture:function(B){if(B)return x(this.glTextureWrappers,B),B.destroy(),this},deleteFramebuffer:function(B){return B?(x(this.fboStack,B),x(this.glFramebufferWrappers,B),B.destroy(),this):this},deleteProgram:function(B){return B&&(x(this.glProgramWrappers,B),B.destroy()),this},deleteAttribLocation:function(B){return B&&(x(this.glAttribLocationWrappers,B),B.destroy()),this},deleteUniformLocation:function(B){return B&&(x(this.glUniformLocationWrappers,B),B.destroy()),this},deleteBuffer:function(B){return B?(x(this.glBufferWrappers,B),B.destroy(),this):this},preRenderCamera:function(B){var k=B.x,U=B.y,H=B.width,X=B.height,j=B.backgroundColor;if(B.emit(d.PRE_RENDER,B),this.pipelines.preBatchCamera(B),this.pushScissor(k,U,H,X),B.mask&&(this.currentCameraMask.mask=B.mask,this.currentCameraMask.camera=B._maskCamera,B.mask.preRenderWebGL(this,B,B._maskCamera)),j.alphaGL>0){var J=this.pipelines.setMulti();J.drawFillRect(k,U,H,X,P.getTintFromFloats(j.blueGL,j.greenGL,j.redGL,1),j.alphaGL)}},getCurrentStencilMask:function(){var B=null,k=this.maskStack,U=this.currentCameraMask;return k.length>0?B=k[k.length-1]:U.mask&&U.mask.isStencil&&(B=U),B},postRenderCamera:function(B){var k=B.flashEffect,U=B.fadeEffect;if(k.isRunning||U.isRunning||U.isComplete){var H=this.pipelines.setMulti();k.postRenderWebGL(H,P.getTintFromFloats),U.postRenderWebGL(H,P.getTintFromFloats)}B.dirty=!1,this.popScissor(),B.mask&&(this.currentCameraMask.mask=null,B.mask.postRenderWebGL(this,B._maskCamera)),this.pipelines.postBatchCamera(B),B.emit(d.POST_RENDER,B)},preRender:function(){if(!this.contextLost){var B=this.gl;if(B.bindFramebuffer(B.FRAMEBUFFER,null),this.emit(f.PRE_RENDER_CLEAR),this.config.clearBeforeRender){var k=this.config.backgroundColor;B.clearColor(k.redGL,k.greenGL,k.blueGL,k.alphaGL),B.clear(B.COLOR_BUFFER_BIT|B.DEPTH_BUFFER_BIT|B.STENCIL_BUFFER_BIT)}B.enable(B.SCISSOR_TEST),this.currentScissor=this.defaultScissor,this.scissorStack.length=0,this.scissorStack.push(this.currentScissor),this.game.scene.customViewports&&B.scissor(0,this.drawingBufferHeight-this.height,this.width,this.height),this.currentMask.mask=null,this.currentCameraMask.mask=null,this.maskStack.length=0,this.emit(f.PRE_RENDER)}},render:function(B,k,U){if(!this.contextLost){var H=k.length;if(this.emit(f.RENDER,B,U),this.preRenderCamera(U),H===0){this.setBlendMode(l.BlendModes.NORMAL),this.postRenderCamera(U);return}this.currentType="";for(var X=this.currentMask,j=0;j<H;j++){this.finalType=j===H-1;var J=k[j],Y=J.mask;X=this.currentMask,X.mask&&X.mask!==Y&&X.mask.postRenderWebGL(this,X.camera),Y&&X.mask!==Y&&Y.preRenderWebGL(this,J,U),J.blendMode!==this.currentBlendMode&&this.setBlendMode(J.blendMode);var $=J.type;$!==this.currentType&&(this.newType=!0,this.currentType=$),this.finalType?this.nextTypeMatch=!1:this.nextTypeMatch=k[j+1].type===this.currentType,J.renderWebGL(this,J,U),this.newType=!1}X=this.currentMask,X.mask&&X.mask.postRenderWebGL(this,X.camera),this.setBlendMode(l.BlendModes.NORMAL),this.postRenderCamera(U)}},postRender:function(){if(!this.contextLost){this.flush(),this.emit(f.POST_RENDER);var B=this.snapshotState;B.callback&&(w(this.gl,B),B.callback=null)}},clearStencilMask:function(){this.gl.disable(this.gl.STENCIL_TEST)},restoreStencilMask:function(){var B=this.gl,k=this.getCurrentStencilMask();if(k){var U=k.mask;B.enable(B.STENCIL_TEST),U.invertAlpha?B.stencilFunc(B.NOTEQUAL,U.level,255):B.stencilFunc(B.EQUAL,U.level,255)}},snapshot:function(B,k,U){return this.snapshotArea(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight,B,k,U)},snapshotArea:function(B,k,U,H,X,j,J){var Y=this.snapshotState;return Y.callback=X,Y.type=j,Y.encoder=J,Y.getPixel=!1,Y.x=B,Y.y=k,Y.width=U,Y.height=H,this},snapshotPixel:function(B,k,U){return this.snapshotArea(B,k,1,1,U),this.snapshotState.getPixel=!0,this},snapshotFramebuffer:function(B,k,U,H,X,j,J,Y,$,z,V){X===void 0&&(X=!1),j===void 0&&(j=0),J===void 0&&(J=0),Y===void 0&&(Y=k),$===void 0&&($=U),z==="pixel"&&(X=!0,z="image/png");var K=this.currentFramebuffer;this.snapshotArea(j,J,Y,$,H,z,V);var Q=this.snapshotState;return Q.getPixel=X,Q.isFramebuffer=!0,Q.bufferWidth=k,Q.bufferHeight=U,Q.width=Math.min(Q.width,k),Q.height=Math.min(Q.height,U),this.setFramebuffer(B),w(this.gl,Q),this.setFramebuffer(K),Q.callback=null,Q.isFramebuffer=!1,this},canvasToTexture:function(B,k,U,H){U===void 0&&(U=!1),H===void 0&&(H=!1);var X=this.gl,j=X.NEAREST,J=X.NEAREST,Y=B.width,$=B.height,z=X.CLAMP_TO_EDGE,V=c(Y,$);return!U&&V&&(z=X.REPEAT),this.config.antialias&&(j=V&&this.mipmapFilter?this.mipmapFilter:X.LINEAR,J=X.LINEAR),k?(k.update(B,Y,$,H,z,z,j,J,k.format),k):this.createTexture2D(0,j,J,z,z,X.RGBA,B,Y,$,!0,!1,H)},createCanvasTexture:function(B,k,U){return k===void 0&&(k=!1),U===void 0&&(U=!1),this.canvasToTexture(B,null,k,U)},updateCanvasTexture:function(B,k,U,H){return U===void 0&&(U=!1),H===void 0&&(H=!1),this.canvasToTexture(B,k,H,U)},videoToTexture:function(B,k,U,H){U===void 0&&(U=!1),H===void 0&&(H=!1);var X=this.gl,j=X.NEAREST,J=X.NEAREST,Y=B.videoWidth,$=B.videoHeight,z=X.CLAMP_TO_EDGE,V=c(Y,$);return!U&&V&&(z=X.REPEAT),this.config.antialias&&(j=V&&this.mipmapFilter?this.mipmapFilter:X.LINEAR,J=X.LINEAR),k?(k.update(B,Y,$,H,z,z,j,J,k.format),k):this.createTexture2D(0,j,J,z,z,X.RGBA,B,Y,$,!0,!0,H)},createVideoTexture:function(B,k,U){return k===void 0&&(k=!1),U===void 0&&(U=!1),this.videoToTexture(B,null,k,U)},updateVideoTexture:function(B,k,U,H){return U===void 0&&(U=!1),H===void 0&&(H=!1),this.videoToTexture(B,k,H,U)},createUint8ArrayTexture:function(B,k,U){var H=this.gl,X=H.NEAREST,j=H.NEAREST,J=H.CLAMP_TO_EDGE,Y=c(k,U);return Y&&(J=H.REPEAT),this.createTexture2D(0,X,j,J,J,H.RGBA,B,k,U)},setTextureFilter:function(B,k){var U=this.gl,H=k===0?U.LINEAR:U.NEAREST;U.activeTexture(U.TEXTURE0);var X=U.getParameter(U.TEXTURE_BINDING_2D);return U.bindTexture(U.TEXTURE_2D,B.webGLTexture),U.texParameteri(U.TEXTURE_2D,U.TEXTURE_MIN_FILTER,H),U.texParameteri(U.TEXTURE_2D,U.TEXTURE_MAG_FILTER,H),B.minFilter=H,B.magFilter=H,X&&U.bindTexture(U.TEXTURE_2D,X),this},getMaxTextureSize:function(){return this.config.maxTextureSize},destroy:function(){this.canvas.removeEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.removeEventListener("webglcontextrestored",this.contextRestoredHandler,!1);var B=function(k){k.destroy()};o(this.glAttribLocationWrappers,B),o(this.glBufferWrappers,B),o(this.glFramebufferWrappers,B),o(this.glProgramWrappers,B),o(this.glTextureWrappers,B),o(this.glUniformLocationWrappers,B),this.maskTarget.destroy(),this.maskSource.destroy(),this.pipelines.destroy(),this.removeAllListeners(),this.fboStack=[],this.maskStack=[],this.extensions={},this.textureIndexes=[],this.gl=null,this.game=null,this.canvas=null,this.contextLost=!0,this.currentMask=null,this.currentCameraMask=null}});n.exports=I},38683:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(95428),d=r(95540),h=r(14500),l=new o({initialize:function(f,c,u,v,g){this.pipeline=f,this.name=c,this.renderer=f.renderer,this.gl=this.renderer.gl,this.fragSrc=v,this.vertSrc=u,this.program=this.renderer.createProgram(u,v),this.attributes,this.vertexComponentCount=0,this.vertexSize=0,this.uniforms={},this.createAttributes(g),this.createUniforms()},createAttributes:function(a){var f=0,c=0,u=[];this.vertexComponentCount=0;for(var v=0;v<a.length;v++){var g=a[v],m=g.name,y=d(g,"size",1),C=d(g,"type",h.FLOAT),P=C.enum,w=C.size,M=!!g.normalized;u.push({name:m,size:y,type:P,normalized:M,offset:c,enabled:!1,location:-1}),w===4?f+=y:f++,c+=y*w}this.vertexSize=c,this.vertexComponentCount=f,this.attributes=u},bind:function(a,f){return a===void 0&&(a=!1),f===void 0&&(f=!1),f&&this.pipeline.flush(),this.renderer.setProgram(this.program),a&&this.setAttribPointers(),this},rebind:function(){return this.renderer.setProgram(this.program),this.setAttribPointers(!0),this},setAttribPointers:function(a){a===void 0&&(a=!1);for(var f=this.gl,c=this.renderer,u=this.vertexSize,v=this.attributes,g=this.program,m=0;m<v.length;m++){var y=v[m],C=y.size,P=y.type,w=y.offset,M=y.enabled,R=y.location,A=!!y.normalized;if(a){R!==-1&&c.deleteAttribLocation(R);var L=this.renderer.createAttribLocation(g,y.name);L.webGLAttribLocation>=0?(f.enableVertexAttribArray(L.webGLAttribLocation),f.vertexAttribPointer(L.webGLAttribLocation,C,P,A,u,w),y.enabled=!0,y.location=L):L.webGLAttribLocation!==-1&&f.disableVertexAttribArray(L.webGLAttribLocation)}else M?f.vertexAttribPointer(R.webGLAttribLocation,C,P,A,u,w):!M&&R!==-1&&R.webGLAttribLocation>-1&&(f.disableVertexAttribArray(R.webGLAttribLocation),y.location=-1)}return this},createUniforms:function(){var a=this.gl,f=this.program,c=this.uniforms,u,v,g,m=a.getProgramParameter(f.webGLProgram,a.ACTIVE_UNIFORMS);for(u=0;u<m;u++){var y=a.getActiveUniform(f.webGLProgram,u);if(y){v=y.name,g=this.renderer.createUniformLocation(f,v),g!==null&&(c[v]={name:v,location:g,setter:null,value1:null,value2:null,value3:null,value4:null});var C=v.indexOf("[");C>0&&(v=v.substr(0,C),c.hasOwnProperty(v)||(g=this.renderer.createUniformLocation(f,v),g!==null&&(c[v]={name:v,location:g,setter:null,value1:null,value2:null,value3:null,value4:null})))}}return this},syncUniforms:function(){var a=this.gl;this.renderer.setProgram(this.program);for(var f in this.uniforms){var c=this.uniforms[f];c.setter&&c.setter.call(a,c.location.webGLUniformLocation,c.value1,c.value2,c.value3,c.value4)}},hasUniform:function(a){return this.uniforms.hasOwnProperty(a)},resetUniform:function(a){var f=this.uniforms[a];return f&&(f.value1=null,f.value2=null,f.value3=null,f.value4=null),this},setUniform1:function(a,f,c,u){var v=this.uniforms[f];return v?((u||v.value1!==c)&&(v.setter||(v.setter=a),v.value1=c,this.renderer.setProgram(this.program),a.call(this.gl,v.location.webGLUniformLocation,c),this.pipeline.currentShader=this),this):this},setUniform2:function(a,f,c,u,v){var g=this.uniforms[f];return g?((v||g.value1!==c||g.value2!==u)&&(g.setter||(g.setter=a),g.value1=c,g.value2=u,this.renderer.setProgram(this.program),a.call(this.gl,g.location.webGLUniformLocation,c,u),this.pipeline.currentShader=this),this):this},setUniform3:function(a,f,c,u,v,g){var m=this.uniforms[f];return m?((g||m.value1!==c||m.value2!==u||m.value3!==v)&&(m.setter||(m.setter=a),m.value1=c,m.value2=u,m.value3=v,this.renderer.setProgram(this.program),a.call(this.gl,m.location.webGLUniformLocation,c,u,v),this.pipeline.currentShader=this),this):this},setUniform4:function(a,f,c,u,v,g,m){var y=this.uniforms[f];return y?((m||y.value1!==c||y.value2!==u||y.value3!==v||y.value4!==g)&&(y.setter||(y.setter=a),y.value1=c,y.value2=u,y.value3=v,y.value4=g,this.renderer.setProgram(this.program),a.call(this.gl,y.location.webGLUniformLocation,c,u,v,g),this.pipeline.currentShader=this),this):this},setBoolean:function(a,f){return this.setUniform1(this.gl.uniform1i,a,Number(f))},set1f:function(a,f){return this.setUniform1(this.gl.uniform1f,a,f)},set2f:function(a,f,c){return this.setUniform2(this.gl.uniform2f,a,f,c)},set3f:function(a,f,c,u){return this.setUniform3(this.gl.uniform3f,a,f,c,u)},set4f:function(a,f,c,u,v){return this.setUniform4(this.gl.uniform4f,a,f,c,u,v)},set1fv:function(a,f){return this.setUniform1(this.gl.uniform1fv,a,f,!0)},set2fv:function(a,f){return this.setUniform1(this.gl.uniform2fv,a,f,!0)},set3fv:function(a,f){return this.setUniform1(this.gl.uniform3fv,a,f,!0)},set4fv:function(a,f){return this.setUniform1(this.gl.uniform4fv,a,f,!0)},set1iv:function(a,f){return this.setUniform1(this.gl.uniform1iv,a,f,!0)},set2iv:function(a,f){return this.setUniform1(this.gl.uniform2iv,a,f,!0)},set3iv:function(a,f){return this.setUniform1(this.gl.uniform3iv,a,f,!0)},set4iv:function(a,f){return this.setUniform1(this.gl.uniform4iv,a,f,!0)},set1i:function(a,f){return this.setUniform1(this.gl.uniform1i,a,f)},set2i:function(a,f,c){return this.setUniform2(this.gl.uniform2i,a,f,c)},set3i:function(a,f,c,u){return this.setUniform3(this.gl.uniform3i,a,f,c,u)},set4i:function(a,f,c,u,v){return this.setUniform4(this.gl.uniform4i,a,f,c,u,v)},setMatrix2fv:function(a,f,c){return this.setUniform2(this.gl.uniformMatrix2fv,a,f,c,!0)},setMatrix3fv:function(a,f,c){return this.setUniform2(this.gl.uniformMatrix3fv,a,f,c,!0)},setMatrix4fv:function(a,f,c){return this.setUniform2(this.gl.uniformMatrix4fv,a,f,c,!0)},createProgram:function(a,f){return a===void 0&&(a=this.vertSrc),f===void 0&&(f=this.fragSrc),this.program&&this.renderer.deleteProgram(this.program),this.vertSrc=a,this.fragSrc=f,this.program=this.renderer.createProgram(a,f),this.createUniforms(),this.rebind()},destroy:function(){var a=this.renderer;x(this.uniforms,function(f){a.deleteUniformLocation(f.location)}),this.uniforms=null,x(this.attributes,function(f){a.deleteAttribLocation(f.location)}),this.attributes=null,a.deleteProgram(this.program),this.pipeline=null,this.renderer=null,this.gl=null,this.program=null}});n.exports=l},14500:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={BYTE:{enum:5120,size:1},UNSIGNED_BYTE:{enum:5121,size:1},SHORT:{enum:5122,size:2},UNSIGNED_SHORT:{enum:5123,size:2},INT:{enum:5124,size:4},UNSIGNED_INT:{enum:5125,size:4},FLOAT:{enum:5126,size:4}};n.exports=T},4159:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(14500),x=r(79291),d={PipelineManager:r(7530),Pipelines:r(96615),RenderTarget:r(32302),Utils:r(70554),WebGLPipeline:r(29100),WebGLRenderer:r(74797),WebGLShader:r(38683),Wrappers:r(9503)};d=x(!1,d,o),n.exports=d},31302:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(95540),d=r(78908),h=r(85191),l=r(14500),a=r(29100),f=new o({Extends:a,initialize:function(u){u.fragShader=x(u,"fragShader",d),u.vertShader=x(u,"vertShader",h),u.batchSize=x(u,"batchSize",1),u.vertices=x(u,"vertices",[-1,1,-1,-7,7,1]),u.attributes=x(u,"attributes",[{name:"inPosition",size:2,type:l.FLOAT}]),a.call(this,u)},boot:function(){a.prototype.boot.call(this),this.set1i("uMainSampler",0),this.set1i("uMaskSampler",1)},resize:function(c,u){a.prototype.resize.call(this,c,u),this.set2f("uResolution",c,u)},beginMask:function(c,u,v){this.renderer.beginBitmapMask(c,v)},endMask:function(c,u,v){var g=this.gl,m=this.renderer,y=c.bitmapMask;y&&g&&(m.drawBitmapMask(y,u,this),v&&this.set2f("uResolution",v.width,v.height),this.set1i("uInvertMaskAlpha",c.invertAlpha),g.drawArrays(this.topology,0,3),v&&this.set2f("uResolution",this.width,this.height),g.bindTexture(g.TEXTURE_2D,null))}});n.exports=f},92651:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(58918),d=r(14811),h=r(95540),l=r(43558),a=r(89350),f=r(70554),c=new o({Extends:l,initialize:function(v){v.shaders=[f.setGlowQuality(a.FXGlowFrag,v.game),a.FXShadowFrag,a.FXPixelateFrag,a.FXVignetteFrag,a.FXShineFrag,a.FXBlurLowFrag,a.FXBlurMedFrag,a.FXBlurHighFrag,a.FXGradientFrag,a.FXBloomFrag,a.ColorMatrixFrag,a.FXCircleFrag,a.FXBarrelFrag,a.FXDisplacementFrag,a.FXWipeFrag,a.FXBokehFrag],l.call(this,v);var g=this.game;this.glow=new x.Glow(g),this.shadow=new x.Shadow(g),this.pixelate=new x.Pixelate(g),this.vignette=new x.Vignette(g),this.shine=new x.Shine(g),this.gradient=new x.Gradient(g),this.circle=new x.Circle(g),this.barrel=new x.Barrel(g),this.wipe=new x.Wipe(g),this.bokeh=new x.Bokeh(g);var m=[];m[d.GLOW]=this.onGlow,m[d.SHADOW]=this.onShadow,m[d.PIXELATE]=this.onPixelate,m[d.VIGNETTE]=this.onVignette,m[d.SHINE]=this.onShine,m[d.BLUR]=this.onBlur,m[d.GRADIENT]=this.onGradient,m[d.BLOOM]=this.onBloom,m[d.COLOR_MATRIX]=this.onColorMatrix,m[d.CIRCLE]=this.onCircle,m[d.BARREL]=this.onBarrel,m[d.DISPLACEMENT]=this.onDisplacement,m[d.WIPE]=this.onWipe,m[d.BOKEH]=this.onBokeh,this.fxHandlers=m,this.source,this.target,this.swap},onDraw:function(u,v,g){this.source=u,this.target=v,this.swap=g;var m=u.width,y=u.height,C=this.tempSprite,P=this.fxHandlers;if(C&&C.preFX)for(var w=C.preFX.list,M=0;M<w.length;M++){var R=w[M];R.active&&P[R.type].call(this,R,m,y)}this.drawToGame(this.source)},runDraw:function(){var u=this.source,v=this.target;this.copy(u,v),this.source=v,this.target=u},onGlow:function(u,v,g){var m=this.shaders[d.GLOW];this.setShader(m),this.glow.onPreRender(u,m,v,g),this.runDraw()},onShadow:function(u){var v=this.shaders[d.SHADOW];this.setShader(v),this.shadow.onPreRender(u,v),this.runDraw()},onPixelate:function(u,v,g){var m=this.shaders[d.PIXELATE];this.setShader(m),this.pixelate.onPreRender(u,m,v,g),this.runDraw()},onVignette:function(u){var v=this.shaders[d.VIGNETTE];this.setShader(v),this.vignette.onPreRender(u,v),this.runDraw()},onShine:function(u,v,g){var m=this.shaders[d.SHINE];this.setShader(m),this.shine.onPreRender(u,m,v,g),this.runDraw()},onBlur:function(u,v,g){var m=h(u,"quality"),y=this.shaders[d.BLUR+m];this.setShader(y),this.set1i("uMainSampler",0),this.set2f("resolution",v,g),this.set1f("strength",h(u,"strength")),this.set3fv("color",h(u,"glcolor"));for(var C=h(u,"x"),P=h(u,"y"),w=h(u,"steps"),M=0;M<w;M++)this.set2f("offset",C,0),this.runDraw(),this.set2f("offset",0,P),this.runDraw()},onGradient:function(u){var v=this.shaders[d.GRADIENT];this.setShader(v),this.gradient.onPreRender(u,v),this.runDraw()},onBloom:function(u,v,g){var m=this.shaders[d.BLOOM];this.copySprite(this.source,this.swap),this.setShader(m),this.set1i("uMainSampler",0),this.set1f("strength",h(u,"blurStrength")),this.set3fv("color",h(u,"glcolor"));for(var y=2/v*h(u,"offsetX"),C=2/g*h(u,"offsetY"),P=h(u,"steps"),w=0;w<P;w++)this.set2f("offset",y,0),this.runDraw(),this.set2f("offset",0,C),this.runDraw();this.blendFrames(this.swap,this.source,this.target,h(u,"strength")),this.copySprite(this.target,this.source)},onColorMatrix:function(u){this.setShader(this.colorMatrixShader),this.set1fv("uColorMatrix",u.getData()),this.set1f("uAlpha",u.alpha),this.runDraw()},onCircle:function(u,v,g){var m=this.shaders[d.CIRCLE];this.setShader(m),this.circle.onPreRender(u,m,v,g),this.runDraw()},onBarrel:function(u){var v=this.shaders[d.BARREL];this.setShader(v),this.barrel.onPreRender(u,v),this.runDraw()},onDisplacement:function(u){this.setShader(this.shaders[d.DISPLACEMENT]),this.set1i("uDisplacementSampler",1),this.set2f("amount",u.x,u.y),this.bindTexture(u.glTexture,1),this.runDraw()},onWipe:function(u){var v=this.shaders[d.WIPE];this.setShader(v),this.wipe.onPreRender(u,v),this.runDraw()},onBokeh:function(u,v,g){var m=this.shaders[d.BOKEH];this.setShader(m),this.bokeh.onPreRender(u,m,v,g),this.runDraw()},destroy:function(){return this.glow.destroy(),this.shadow.destroy(),this.pixelate.destroy(),this.vignette.destroy(),this.shine.destroy(),this.gradient.destroy(),this.circle.destroy(),this.barrel.destroy(),this.wipe.destroy(),this.bokeh.destroy(),this.fxHandlers=null,this.source=null,this.target=null,this.swap=null,l.prototype.destroy.call(this),this}});n.exports=c},96569:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(95540),d=r(31063),h=r(57516),l=r(61340),a=r(26099),f=r(29100),c=new o({Extends:h,initialize:function(v){var g=x(v,"fragShader",d);v.fragShader=g.replace("%LIGHT_COUNT%",v.game.renderer.config.maxLights),h.call(this,v),this.inverseRotationMatrix=new Float32Array([1,0,0,0,1,0,0,0,1]),this.currentNormalMap,this.lightsActive=!0,this.tempVec2=new a,this._tempMatrix=new l,this._tempMatrix2=new l},boot:function(){f.prototype.boot.call(this)},onRender:function(u,v){var g=u.sys.lights;if(this.lightsActive=!1,!(!g||!g.active)){var m=g.getLights(v),y=m.length;this.lightsActive=!0;var C,P=this.renderer,w=P.height,M=v.matrix,R=this.tempVec2;for(this.set1i("uMainSampler",0),this.set1i("uNormSampler",1),this.set2f("uResolution",this.width/2,this.height/2),this.set4f("uCamera",v.x,v.y,v.rotation,v.zoom),this.set3f("uAmbientLightColor",g.ambientColor.r,g.ambientColor.g,g.ambientColor.b),this.set1i("uLightCount",y),C=0;C<y;C++){var A=m[C].light,L=A.color,F="uLights["+C+"].";M.transformPoint(A.x,A.y,R),this.set2f(F+"position",R.x-v.scrollX*A.scrollFactorX*v.zoom,w-(R.y-v.scrollY*A.scrollFactorY*v.zoom)),this.set3f(F+"color",L.r,L.g,L.b),this.set1f(F+"intensity",A.intensity),this.set1f(F+"radius",A.radius)}this.currentNormalMapRotation=null}},setNormalMapRotation:function(u){if(u!==this.currentNormalMapRotation||this.vertexCount===0){this.vertexCount>0&&this.flush();var v=this.inverseRotationMatrix;if(u){var g=-u,m=Math.cos(g),y=Math.sin(g);v[1]=y,v[3]=-y,v[0]=v[4]=m}else v[0]=v[4]=1,v[1]=v[3]=0;this.setMatrix3fv("uInverseRotationMatrix",!1,v),this.currentNormalMapRotation=u}},setTexture2D:function(u,v){var g=this.renderer;u===void 0&&(u=g.whiteTexture);var m=this.getNormalMap(v);this.isNewNormalMap(u,m)&&(this.flush(),this.createBatch(u),this.addTextureToBatch(m),this.currentNormalMap=m);var y=0;if(v&&v.parentContainer){var C=v.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);y=C.rotationNormalized}else v&&(y=v.rotation);return this.currentBatch===null&&(this.createBatch(u),this.addTextureToBatch(m)),this.setNormalMapRotation(y),0},setGameObject:function(u,v){v===void 0&&(v=u.frame);var g=v.glTexture,m=this.getNormalMap(u);if(this.isNewNormalMap(g,m)&&(this.flush(),this.createBatch(g),this.addTextureToBatch(m),this.currentNormalMap=m),u.parentContainer){var y=u.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);this.setNormalMapRotation(y.rotationNormalized)}else this.setNormalMapRotation(u.rotation);return this.currentBatch===null&&(this.createBatch(g),this.addTextureToBatch(m)),0},isNewNormalMap:function(u,v){return this.currentTexture!==u||this.currentNormalMap!==v},getNormalMap:function(u){var v;if(u)u.displayTexture?v=u.displayTexture.dataSource[u.displayFrame.sourceIndex]:u.texture?v=u.texture.dataSource[u.frame.sourceIndex]:u.tileset&&(Array.isArray(u.tileset)?v=u.tileset[0].image.dataSource[0]:v=u.tileset.image.dataSource[0]);else return this.renderer.normalTexture;return v?v.glTexture:this.renderer.normalTexture},batchSprite:function(u,v,g){this.lightsActive&&h.prototype.batchSprite.call(this,u,v,g)},batchTexture:function(u,v,g,m,y,C,P,w,M,R,A,L,F,G,I,B,k,U,H,X,j,J,Y,$,z,V,K,Q,_,tt,rt,ot){this.lightsActive&&h.prototype.batchTexture.call(this,u,v,g,m,y,C,P,w,M,R,A,L,F,G,I,B,k,U,H,X,j,J,Y,$,z,V,K,Q,_,tt,rt,ot)},batchTextureFrame:function(u,v,g,m,y,C,P){this.lightsActive&&h.prototype.batchTextureFrame.call(this,u,v,g,m,y,C,P)}});n.exports=c},56527:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(95540),d=r(57516),h=r(45561),l=r(60722),a=r(14500),f=r(29100),c=new o({Extends:d,initialize:function(v){v.fragShader=x(v,"fragShader",h),v.vertShader=x(v,"vertShader",l),v.attributes=x(v,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:a.UNSIGNED_BYTE,normalized:!0}]),v.forceZero=!0,v.resizeUniform="uResolution",d.call(this,v)},boot:function(){f.prototype.boot.call(this);var u=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",u.width,u.height)}});n.exports=c},57516:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(94811),d=r(95540),h=r(98840),l=r(44667),a=r(61340),f=r(70554),c=r(14500),u=r(29100),v=new o({Extends:u,initialize:function(m){var y=m.game.renderer,C=d(m,"fragShader",h);m.fragShader=f.parseFragmentShaderMaxTextures(C,y.maxTextures),m.vertShader=d(m,"vertShader",l),m.attributes=d(m,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:c.UNSIGNED_BYTE,normalized:!0}]),m.resizeUniform="uResolution",u.call(this,m),this._tempMatrix1=new a,this._tempMatrix2=new a,this._tempMatrix3=new a,this.calcMatrix=new a,this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0,0],this.prevQuad=[0,0,0,0,0],this.polygonCache=[]},boot:function(){u.prototype.boot.call(this);var g=this.renderer;this.set1iv("uMainSampler",g.textureIndexes),this.set2f("uResolution",g.width,g.height)},batchSprite:function(g,m,y){this.manager.set(this,g);var C=this._tempMatrix1,P=this._tempMatrix2,w=this._tempMatrix3,M=g.frame,R=M.glTexture,A=M.u0,L=M.v0,F=M.u1,G=M.v1,I=M.x,B=M.y,k=M.cutWidth,U=M.cutHeight,H=M.customPivot,X=g.displayOriginX,j=g.displayOriginY,J=-X+I,Y=-j+B;if(g.isCropped){var $=g._crop;($.flipX!==g.flipX||$.flipY!==g.flipY)&&M.updateCropUVs($,g.flipX,g.flipY),A=$.u0,L=$.v0,F=$.u1,G=$.v1,k=$.width,U=$.height,I=$.x,B=$.y,J=-X+I,Y=-j+B}var z=1,V=1;g.flipX&&(H||(J+=-M.realWidth+X*2),z=-1),g.flipY&&(H||(Y+=-M.realHeight+j*2),V=-1);var K=g.x,Q=g.y;m.roundPixels&&(K=Math.floor(K),Q=Math.floor(Q)),P.applyITRS(K,Q,g.rotation,g.scaleX*z,g.scaleY*V),C.copyFrom(m.matrix),y?(C.multiplyWithOffset(y,-m.scrollX*g.scrollFactorX,-m.scrollY*g.scrollFactorY),P.e=K,P.f=Q):(P.e-=m.scrollX*g.scrollFactorX,P.f-=m.scrollY*g.scrollFactorY),C.multiply(P,w);var _=w.setQuad(J,Y,J+k,Y+U,m.renderRoundPixels),tt=f.getTintAppendFloatAlpha,rt=m.alpha,ot=tt(g.tintTopLeft,rt*g._alphaTL),ft=tt(g.tintTopRight,rt*g._alphaTR),ct=tt(g.tintBottomLeft,rt*g._alphaBL),gt=tt(g.tintBottomRight,rt*g._alphaBR);this.shouldFlush(6)&&this.flush();var xt=this.setGameObject(g,M);this.manager.preBatch(g),this.batchQuad(g,_[0],_[1],_[2],_[3],_[4],_[5],_[6],_[7],A,L,F,G,ot,ft,ct,gt,g.tintFill,R,xt),this.manager.postBatch(g)},batchTexture:function(g,m,y,C,P,w,M,R,A,L,F,G,I,B,k,U,H,X,j,J,Y,$,z,V,K,Q,_,tt,rt,ot,ft,ct,gt){gt===void 0&&(gt=!1),this.manager.set(this,g);var xt=this._tempMatrix1,wt=this._tempMatrix2,Tt=this._tempMatrix3,Ht=X/y+_,Xt=j/C+tt,Kt=(X+J)/y+_,Pt=(j+Y)/C+tt,Nt=M,Vt=R,ee=-U,Ee=-H;if(g.isCropped){var we=g._crop,ve=we.width,Fe=we.height;Nt=ve,Vt=Fe,M=ve,R=Fe,X=we.x,j=we.y;var ai=X,Gt=j;G&&(ai=J-we.x-ve),I&&(Gt=Y-we.y-Fe),Ht=ai/y+_,Xt=Gt/C+tt,Kt=(ai+ve)/y+_,Pt=(Gt+Fe)/C+tt,ee=-U+X,Ee=-H+j}I=I^(!ft&&m.isRenderTexture?1:0),G&&(Nt*=-1,ee+=M),I&&(Vt*=-1,Ee+=R),rt.roundPixels&&(P=Math.floor(P),w=Math.floor(w)),wt.applyITRS(P,w,F,A,L),xt.copyFrom(rt.matrix),ot?(xt.multiplyWithOffset(ot,-rt.scrollX*B,-rt.scrollY*k),wt.e=P,wt.f=w):(wt.e-=rt.scrollX*B,wt.f-=rt.scrollY*k),xt.multiply(wt,Tt);var Wt=Tt.setQuad(ee,Ee,ee+Nt,Ee+Vt,rt.renderRoundPixels);ct==null&&(ct=this.setTexture2D(m)),g&&!gt&&this.manager.preBatch(g),this.batchQuad(g,Wt[0],Wt[1],Wt[2],Wt[3],Wt[4],Wt[5],Wt[6],Wt[7],Ht,Xt,Kt,Pt,$,z,V,K,Q,m,ct),g&&!gt&&this.manager.postBatch(g)},batchTextureFrame:function(g,m,y,C,P,w,M){this.manager.set(this);var R=this._tempMatrix1.copyFrom(w),A=this._tempMatrix2;M?R.multiply(M,A):A=R;var L=A.setQuad(m,y,m+g.width,y+g.height),F=this.setTexture2D(g.source.glTexture);C=f.getTintAppendFloatAlpha(C,P),this.batchQuad(null,L[0],L[1],L[2],L[3],L[4],L[5],L[6],L[7],g.u0,g.v0,g.u1,g.v1,C,C,C,C,0,g.glTexture,F)},batchFillRect:function(g,m,y,C,P,w){this.renderer.pipelines.set(this);var M=this.calcMatrix;w&&w.multiply(P,M);var R=M.setQuad(g,m,g+y,m+C),A=this.fillTint;this.batchQuad(null,R[0],R[1],R[2],R[3],R[4],R[5],R[6],R[7],0,0,1,1,A.TL,A.TR,A.BL,A.BR,2)},batchFillTriangle:function(g,m,y,C,P,w,M,R){this.renderer.pipelines.set(this);var A=this.calcMatrix;R&&R.multiply(M,A);var L=A.getX(g,m),F=A.getY(g,m),G=A.getX(y,C),I=A.getY(y,C),B=A.getX(P,w),k=A.getY(P,w),U=this.fillTint;this.batchTri(null,L,F,G,I,B,k,0,0,1,1,U.TL,U.TR,U.BL,2)},batchStrokeTriangle:function(g,m,y,C,P,w,M,R,A){var L=this.tempTriangle;L[0].x=g,L[0].y=m,L[0].width=M,L[1].x=y,L[1].y=C,L[1].width=M,L[2].x=P,L[2].y=w,L[2].width=M,L[3].x=g,L[3].y=m,L[3].width=M,this.batchStrokePath(L,M,!1,R,A)},batchFillPath:function(g,m,y){this.renderer.pipelines.set(this);var C=this.calcMatrix;y&&y.multiply(m,C);for(var P=g.length,w=this.polygonCache,M,R,A=this.fillTint.TL,L=this.fillTint.TR,F=this.fillTint.BL,G=0;G<P;++G)R=g[G],w.push(R.x,R.y);M=x(w),P=M.length;for(var I=0;I<P;I+=3){var B=M[I+0]*2,k=M[I+1]*2,U=M[I+2]*2,H=w[B+0],X=w[B+1],j=w[k+0],J=w[k+1],Y=w[U+0],$=w[U+1],z=C.getX(H,X),V=C.getY(H,X),K=C.getX(j,J),Q=C.getY(j,J),_=C.getX(Y,$),tt=C.getY(Y,$);this.batchTri(null,z,V,K,Q,_,tt,0,0,1,1,A,L,F,2)}w.length=0},batchStrokePath:function(g,m,y,C,P){this.renderer.pipelines.set(this),this.prevQuad[4]=0,this.firstQuad[4]=0;for(var w=g.length-1,M=0;M<w;M++){var R=g[M],A=g[M+1];this.batchLine(R.x,R.y,A.x,A.y,R.width/2,A.width/2,m,M,!y&&M===w-1,C,P)}},batchLine:function(g,m,y,C,P,w,M,R,A,L,F){this.renderer.pipelines.set(this);var G=this.calcMatrix;F&&F.multiply(L,G);var I=y-g,B=C-m,k=Math.sqrt(I*I+B*B);if(k!==0){var U=P*(C-m)/k,H=P*(g-y)/k,X=w*(C-m)/k,j=w*(g-y)/k,J=y-X,Y=C-j,$=g-U,z=m-H,V=y+X,K=C+j,Q=g+U,_=m+H,tt=G.getX(J,Y),rt=G.getY(J,Y),ot=G.getX($,z),ft=G.getY($,z),ct=G.getX(V,K),gt=G.getY(V,K),xt=G.getX(Q,_),wt=G.getY(Q,_),Tt=this.strokeTint,Ht=Tt.TL,Xt=Tt.TR,Kt=Tt.BL,Pt=Tt.BR;if(this.batchQuad(null,xt,wt,ot,ft,tt,rt,ct,gt,0,0,1,1,Ht,Xt,Kt,Pt,2),!(M<=2)){var Nt=this.prevQuad,Vt=this.firstQuad;R>0&&Nt[4]?this.batchQuad(null,xt,wt,ot,ft,Nt[0],Nt[1],Nt[2],Nt[3],0,0,1,1,Ht,Xt,Kt,Pt,2):(Vt[0]=xt,Vt[1]=wt,Vt[2]=ot,Vt[3]=ft,Vt[4]=1),A&&Vt[4]?this.batchQuad(null,tt,rt,ct,gt,Vt[0],Vt[1],Vt[2],Vt[3],0,0,1,1,Ht,Xt,Kt,Pt,2):(Nt[0]=tt,Nt[1]=rt,Nt[2]=ct,Nt[3]=gt,Nt[4]=1)}}},destroy:function(){return this._tempMatrix1.destroy(),this._tempMatrix2.destroy(),this._tempMatrix3.destroy(),this._tempMatrix1=null,this._tempMatrix1=null,this._tempMatrix1=null,u.prototype.destroy.call(this),this}});n.exports=v},43439:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(95540),d=r(4127),h=r(89924),l=r(29100),a=new o({Extends:l,initialize:function(c){c.vertShader=x(c,"vertShader",h),c.fragShader=x(c,"fragShader",d),c.attributes=x(c,"attributes",[{name:"inPosition",size:2},{name:"inLightPosition",size:2},{name:"inLightRadius"},{name:"inLightAttenuation"},{name:"inLightColor",size:4}]),l.call(this,c)},onRender:function(f,c){this.set2f("uResolution",this.width,this.height),this.set1f("uCameraZoom",c.zoom)},batchPointLight:function(f,c,u,v,g,m,y,C,P,w,M,R){var A=f.color,L=f.intensity,F=f.radius,G=f.attenuation,I=A.r*L,B=A.g*L,k=A.b*L,U=c.alpha*f.alpha;this.shouldFlush(6)&&this.flush(),this.currentBatch||this.setTexture2D(),this.batchLightVert(u,v,M,R,F,G,I,B,k,U),this.batchLightVert(g,m,M,R,F,G,I,B,k,U),this.batchLightVert(y,C,M,R,F,G,I,B,k,U),this.batchLightVert(u,v,M,R,F,G,I,B,k,U),this.batchLightVert(y,C,M,R,F,G,I,B,k,U),this.batchLightVert(P,w,M,R,F,G,I,B,k,U),this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchLightVert:function(f,c,u,v,g,m,y,C,P,w){var M=this.vertexViewF32,R=this.vertexCount*this.currentShader.vertexComponentCount-1;M[++R]=f,M[++R]=c,M[++R]=u,M[++R]=v,M[++R]=g,M[++R]=m,M[++R]=y,M[++R]=C,M[++R]=P,M[++R]=w,this.vertexCount++}});n.exports=a},84057:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(89422),d=r(95540),h=r(27681),l=r(49627),a=r(29100),f=new o({Extends:a,initialize:function(u){u.renderTarget=d(u,"renderTarget",1),u.fragShader=d(u,"fragShader",h),u.vertShader=d(u,"vertShader",l),u.attributes=d(u,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),u.batchSize=1,u.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],a.call(this,u),this.isPostFX=!0,this.gameObject,this.controller,this.colorMatrix=new x,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderer.isBooted&&(this.manager=this.renderer.pipelines)},bootFX:function(){a.prototype.boot.call(this);var c=this.manager.UTILITY_PIPELINE;this.fullFrame1=c.fullFrame1,this.fullFrame2=c.fullFrame2,this.halfFrame1=c.halfFrame1,this.halfFrame2=c.halfFrame2;var u=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",u.width,u.height);for(var v=this.renderTargets,g=0;g<v.length;g++)v[g].autoResize=!0},postBatch:function(c){return this.hasBooted||(this.bootFX(),this.currentRenderTarget&&this.currentRenderTarget.bind()),this.onDraw(this.currentRenderTarget),this.onPostBatch(c),this},onDraw:function(c){this.bindAndDraw(c)},getController:function(c){return c!==void 0?c:this.controller?this.controller:this},copySprite:function(c,u,v){v===void 0&&(v=!1);var g=this.gl;g.activeTexture(g.TEXTURE0),g.bindTexture(g.TEXTURE_2D,c.texture.webGLTexture);var m=g.getParameter(g.FRAMEBUFFER_BINDING);g.bindFramebuffer(g.FRAMEBUFFER,u.framebuffer.webGLFramebuffer),g.framebufferTexture2D(g.FRAMEBUFFER,g.COLOR_ATTACHMENT0,g.TEXTURE_2D,u.texture.webGLTexture,0),g.clearColor(0,0,0,0),g.clear(g.COLOR_BUFFER_BIT),g.bufferData(g.ARRAY_BUFFER,this.vertexData,g.STATIC_DRAW),g.drawArrays(g.TRIANGLES,0,6),v&&(g.bindTexture(g.TEXTURE_2D,null),g.bindFramebuffer(g.FRAMEBUFFER,m))},copyFrame:function(c,u,v,g,m){this.manager.copyFrame(c,u,v,g,m)},copyToGame:function(c){this.manager.copyToGame(c)},drawFrame:function(c,u,v){this.manager.drawFrame(c,u,v,this.colorMatrix)},blendFrames:function(c,u,v,g,m){this.manager.blendFrames(c,u,v,g,m)},blendFramesAdditive:function(c,u,v,g,m){this.manager.blendFramesAdditive(c,u,v,g,m)},clearFrame:function(c,u){this.manager.clearFrame(c,u)},blitFrame:function(c,u,v,g,m,y){this.manager.blitFrame(c,u,v,g,m,y)},copyFrameRect:function(c,u,v,g,m,y,C,P){this.manager.copyFrameRect(c,u,v,g,m,y,C,P)},bindAndDraw:function(c,u,v,g,m){v===void 0&&(v=!0),g===void 0&&(g=!0);var y=this.gl,C=this.renderer;this.bind(m),this.set1i("uMainSampler",0),u?(y.viewport(0,0,u.width,u.height),y.bindFramebuffer(y.FRAMEBUFFER,u.framebuffer.webGLFramebuffer),y.framebufferTexture2D(y.FRAMEBUFFER,y.COLOR_ATTACHMENT0,y.TEXTURE_2D,u.texture.webGLTexture,0),v&&(g?y.clearColor(0,0,0,0):y.clearColor(0,0,0,1),y.clear(y.COLOR_BUFFER_BIT))):(C.popFramebuffer(!1,!1),C.currentFramebuffer||y.viewport(0,0,C.width,C.height)),C.restoreStencilMask(),y.activeTexture(y.TEXTURE0),y.bindTexture(y.TEXTURE_2D,c.texture.webGLTexture),y.bufferData(y.ARRAY_BUFFER,this.vertexData,y.STATIC_DRAW),y.drawArrays(y.TRIANGLES,0,6),u&&(y.bindTexture(y.TEXTURE_2D,null),y.bindFramebuffer(y.FRAMEBUFFER,C.currentFramebuffer.webGLFramebuffer))},destroy:function(){return this.controller&&this.controller.destroy(),this.gameObject=null,this.controller=null,this.colorMatrix=null,this.fullFrame1=null,this.fullFrame2=null,this.halfFrame1=null,this.halfFrame2=null,this.manager.removePostPipeline(this),a.prototype.destroy.call(this),this}});n.exports=f},43558:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(10312),x=r(67502),d=r(83419),h=r(96293),l=r(95540),a=r(57516),f=r(27681),c=r(87841),u=r(32302),v=r(45561),g=r(60722),m=r(29100),y=new d({Extends:a,initialize:function(P){var w=l(P,"fragShader",f),M=l(P,"vertShader",g),R=l(P,"drawShader",f),A=[{name:"DrawSprite",fragShader:v,vertShader:g},{name:"CopySprite",fragShader:w,vertShader:M},{name:"DrawGame",fragShader:R,vertShader:g},{name:"ColorMatrix",fragShader:h}],L=l(P,"shaders",[]);P.shaders=A.concat(L),P.vertShader||(P.vertShader=M),P.batchSize=1,a.call(this,P),this.isPreFX=!0,this.customMainSampler=null,this.drawSpriteShader,this.copyShader,this.gameShader,this.colorMatrixShader,this.quadVertexData,this.quadVertexBuffer,this.quadVertexViewF32,this.spriteBounds=new c,this.targetBounds=new c,this.fsTarget,this.tempSprite,this.renderer.isBooted&&(this.manager=this.renderer.pipelines,this.boot())},boot:function(){m.prototype.boot.call(this);var C=this.shaders,P=this.renderer;this.drawSpriteShader=C[0],this.copyShader=C[1],this.gameShader=C[2],this.colorMatrixShader=C[3],this.fsTarget=new u(P,P.width,P.height,1,0,!0,!0),this.renderTargets=this.manager.renderTargets.concat(this.fsTarget);var w=new ArrayBuffer(168);this.quadVertexData=w,this.quadVertexViewF32=new Float32Array(w),this.quadVertexBuffer=P.createVertexBuffer(w,this.gl.STATIC_DRAW),this.onResize(P.width,P.height),this.currentShader=this.copyShader,this.set2f("uResolution",P.width,P.height)},onResize:function(C,P){var w=this.quadVertexViewF32;w[1]=P,w[22]=P,w[14]=C,w[28]=C,w[35]=C,w[36]=P},batchQuad:function(C,P,w,M,R,A,L,F,G,I,B,k,U,H,X,j,J,Y,$){var z=Math.min(P,M,A,F),V=Math.min(w,R,L,G),K=Math.max(P,M,A,F),Q=Math.max(w,R,L,G),_=K-z,tt=Q-V,rt=this.spriteBounds.setTo(z,V,_,tt),ot=C?C.preFX.padding:0,ft=_+ot*2,ct=tt+ot*2,gt=Math.abs(Math.max(ft,ct)),xt=this.manager.getRenderTarget(gt),wt=this.targetBounds.setTo(0,0,xt.width,xt.height);x(wt,Math.round(rt.centerX),Math.round(rt.centerY)),this.tempSprite=C;var Tt=this.gl,Ht=this.renderer;Ht.clearStencilMask(),this.setShader(this.drawSpriteShader),this.set1i("uMainSampler",0),this.set2f("uResolution",Ht.width,Ht.height),this.flipProjectionMatrix(!0),C&&(this.onDrawSprite(C,xt),C.preFX.onFX(this));var Xt=this.fsTarget;return this.flush(),Tt.viewport(0,0,Ht.width,Ht.height),Tt.bindFramebuffer(Tt.FRAMEBUFFER,Xt.framebuffer.webGLFramebuffer),Tt.framebufferTexture2D(Tt.FRAMEBUFFER,Tt.COLOR_ATTACHMENT0,Tt.TEXTURE_2D,Xt.texture.webGLTexture,0),Tt.clearColor(0,0,0,0),Tt.clear(Tt.COLOR_BUFFER_BIT),this.setTexture2D($),this.batchVert(P,w,I,B,0,Y,H),this.batchVert(M,R,I,U,0,Y,j),this.batchVert(A,L,k,U,0,Y,J),this.batchVert(P,w,I,B,0,Y,H),this.batchVert(A,L,k,U,0,Y,J),this.batchVert(F,G,k,B,0,Y,X),this.flush(),this.flipProjectionMatrix(!1),Tt.activeTexture(Tt.TEXTURE0),Tt.bindTexture(Tt.TEXTURE_2D,xt.texture.webGLTexture),Tt.copyTexSubImage2D(Tt.TEXTURE_2D,0,0,0,wt.x,wt.y,wt.width,wt.height),Tt.bindFramebuffer(Tt.FRAMEBUFFER,null),Tt.bindTexture(Tt.TEXTURE_2D,null),this.onBatch(C),this.currentShader=this.copyShader,this.onDraw(xt,this.manager.getSwapRenderTarget(),this.manager.getAltSwapRenderTarget()),!0},onDrawSprite:function(){},onCopySprite:function(){},copySprite:function(C,P,w,M,R,A,L){w===void 0&&(w=!0),M===void 0&&(M=!0),R===void 0&&(R=!1),L===void 0&&(L=this.copyShader);var F=this.gl,G=this.tempSprite;A&&(L=this.colorMatrixShader),this.currentShader=L;var I=this.setVertexBuffer(this.quadVertexBuffer);L.bind(I,!1);var B=this.renderer;if(this.set1i("uMainSampler",0),this.set2f("uResolution",B.width,B.height),G.preFX.onFXCopy(this),this.onCopySprite(C,P,G),A&&(this.set1fv("uColorMatrix",A.getData()),this.set1f("uAlpha",A.alpha)),F.activeTexture(F.TEXTURE0),F.bindTexture(F.TEXTURE_2D,C.texture.webGLTexture),C.height>P.height)F.viewport(0,0,C.width,C.height),this.setTargetUVs(C,P);else{var k=P.height-C.height;F.viewport(0,k,C.width,C.height),this.resetUVs()}if(F.bindFramebuffer(F.FRAMEBUFFER,P.framebuffer.webGLFramebuffer),F.framebufferTexture2D(F.FRAMEBUFFER,F.COLOR_ATTACHMENT0,F.TEXTURE_2D,P.texture.webGLTexture,0),w&&(F.clearColor(0,0,0,+!M),F.clear(F.COLOR_BUFFER_BIT)),R){var U=this.renderer.currentBlendMode;this.renderer.setBlendMode(o.ERASE)}F.bufferData(F.ARRAY_BUFFER,this.quadVertexData,F.STATIC_DRAW),F.drawArrays(F.TRIANGLES,0,6),R&&this.renderer.setBlendMode(U),F.bindFramebuffer(F.FRAMEBUFFER,null)},copy:function(C,P){var w=this.gl;this.set1i("uMainSampler",0),w.activeTexture(w.TEXTURE0),w.bindTexture(w.TEXTURE_2D,C.texture.webGLTexture),w.viewport(0,0,C.width,C.height),this.setUVs(0,0,0,1,1,1,1,0),w.bindFramebuffer(w.FRAMEBUFFER,P.framebuffer.webGLFramebuffer),w.framebufferTexture2D(w.FRAMEBUFFER,w.COLOR_ATTACHMENT0,w.TEXTURE_2D,P.texture.webGLTexture,0),w.clearColor(0,0,0,0),w.clear(w.COLOR_BUFFER_BIT),w.bufferData(w.ARRAY_BUFFER,this.quadVertexData,w.STATIC_DRAW),w.drawArrays(w.TRIANGLES,0,6),w.bindFramebuffer(w.FRAMEBUFFER,null)},blendFrames:function(C,P,w,M,R){this.manager.blendFrames(C,P,w,M,R)},blendFramesAdditive:function(C,P,w,M,R){this.manager.blendFramesAdditive(C,P,w,M,R)},drawToGame:function(C){this.currentShader=null,this.setShader(this.copyShader),this.bindAndDraw(C)},copyToGame:function(C){this.currentShader=null,this.setShader(this.gameShader),this.bindAndDraw(C)},bindAndDraw:function(C){var P=this.gl,w=this.renderer;this.set1i("uMainSampler",0),this.customMainSampler?this.setTexture2D(this.customMainSampler):this.setTexture2D(C.texture);var M=this._tempMatrix1.loadIdentity(),R=this.targetBounds.x,A=this.targetBounds.y,L=R+C.width,F=A+C.height,G=M.getX(R,A),I=M.getX(R,F),B=M.getX(L,F),k=M.getX(L,A),U=M.getY(R,A),H=M.getY(R,F),X=M.getY(L,F),j=M.getY(L,A),J=16777215;this.batchVert(G,U,0,0,0,0,J),this.batchVert(I,H,0,1,0,0,J),this.batchVert(B,X,1,1,0,0,J),this.batchVert(G,U,0,0,0,0,J),this.batchVert(B,X,1,1,0,0,J),this.batchVert(k,j,1,0,0,0,J),w.restoreFramebuffer(!1,!0),w.currentFramebuffer||P.viewport(0,0,w.width,w.height),w.restoreStencilMask(),this.flush(),this.tempSprite=null},onDraw:function(C){this.drawToGame(C)},setUVs:function(C,P,w,M,R,A,L,F){var G=this.quadVertexViewF32;G[2]=C,G[3]=P,G[9]=w,G[10]=M,G[16]=R,G[17]=A,G[23]=C,G[24]=P,G[30]=R,G[31]=A,G[37]=L,G[38]=F},setTargetUVs:function(C,P){var w=P.height/C.height;w>.5?w=.5-(w-.5):w=.5+(.5-w),this.setUVs(0,w,0,1+w,1,1+w,1,w)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)},destroy:function(){return this.renderer.deleteBuffer(this.quadVertexBuffer),this.drawSpriteShader=null,this.copyShader=null,this.gameShader=null,this.colorMatrixShader=null,this.quadVertexData=null,this.quadVertexBuffer=null,this.quadVertexViewF32=null,this.fsTarget=null,this.tempSprite=null,a.prototype.destroy.call(this),this}});n.exports=y},81041:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(95540),d=r(57516),h=new o({Extends:d,initialize:function(a){a.topology=5,a.batchSize=x(a,"batchSize",256),d.call(this,a)}});n.exports=h},12385:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(95540),d=r(57516),h=r(45561),l=r(60722),a=r(29100),f=new o({Extends:d,initialize:function(u){u.fragShader=x(u,"fragShader",h),u.vertShader=x(u,"vertShader",l),u.forceZero=!0,d.call(this,u)},boot:function(){a.prototype.boot.call(this);var c=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",c.width,c.height)}});n.exports=f},7589:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(35407),x=r(10312),d=r(83419),h=r(89422),l=r(96293),a=r(36682),f=r(95540),c=r(48247),u=r(49627),v=r(29100),g=new d({Extends:v,initialize:function(y){y.renderTarget=f(y,"renderTarget",[{scale:1,autoResize:!0},{scale:1,autoResize:!0},{scale:.5,autoResize:!0},{scale:.5,autoResize:!0}]),y.vertShader=f(y,"vertShader",u),y.shaders=f(y,"shaders",[{name:"Copy",fragShader:a},{name:"AddBlend",fragShader:o},{name:"LinearBlend",fragShader:c},{name:"ColorMatrix",fragShader:l}]),y.attributes=f(y,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),y.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],y.batchSize=1,v.call(this,y),this.colorMatrix=new h,this.copyShader,this.addShader,this.linearShader,this.colorMatrixShader,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2},boot:function(){v.prototype.boot.call(this);var m=this.shaders,y=this.renderTargets;this.copyShader=m[0],this.addShader=m[1],this.linearShader=m[2],this.colorMatrixShader=m[3],this.fullFrame1=y[0],this.fullFrame2=y[1],this.halfFrame1=y[2],this.halfFrame2=y[3]},copyFrame:function(m,y,C,P,w){C===void 0&&(C=1),P===void 0&&(P=!0),w===void 0&&(w=!0);var M=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",C),M.activeTexture(M.TEXTURE0),M.bindTexture(M.TEXTURE_2D,m.texture.webGLTexture),y?(M.viewport(0,0,y.width,y.height),M.bindFramebuffer(M.FRAMEBUFFER,y.framebuffer.webGLFramebuffer),M.framebufferTexture2D(M.FRAMEBUFFER,M.COLOR_ATTACHMENT0,M.TEXTURE_2D,y.texture.webGLTexture,0)):M.viewport(0,0,m.width,m.height),P&&(w?M.clearColor(0,0,0,0):M.clearColor(0,0,0,1),M.clear(M.COLOR_BUFFER_BIT)),M.bufferData(M.ARRAY_BUFFER,this.vertexData,M.STATIC_DRAW),M.drawArrays(M.TRIANGLES,0,6),M.bindFramebuffer(M.FRAMEBUFFER,null),M.bindTexture(M.TEXTURE_2D,null)},blitFrame:function(m,y,C,P,w,M,R){C===void 0&&(C=1),P===void 0&&(P=!0),w===void 0&&(w=!0),M===void 0&&(M=!1),R===void 0&&(R=!1);var A=this.gl;if(this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",C),A.activeTexture(A.TEXTURE0),A.bindTexture(A.TEXTURE_2D,m.texture.webGLTexture),m.height>y.height)A.viewport(0,0,m.width,m.height),this.setTargetUVs(m,y);else{var L=y.height-m.height;A.viewport(0,L,m.width,m.height)}if(A.bindFramebuffer(A.FRAMEBUFFER,y.framebuffer.webGLFramebuffer),A.framebufferTexture2D(A.FRAMEBUFFER,A.COLOR_ATTACHMENT0,A.TEXTURE_2D,y.texture.webGLTexture,0),P&&(w?A.clearColor(0,0,0,0):A.clearColor(0,0,0,1),A.clear(A.COLOR_BUFFER_BIT)),M){var F=this.renderer.currentBlendMode;this.renderer.setBlendMode(x.ERASE)}R&&this.flipY(),A.bufferData(A.ARRAY_BUFFER,this.vertexData,A.STATIC_DRAW),A.drawArrays(A.TRIANGLES,0,6),M&&this.renderer.setBlendMode(F),A.bindFramebuffer(A.FRAMEBUFFER,null),A.bindTexture(A.TEXTURE_2D,null),this.resetUVs()},copyFrameRect:function(m,y,C,P,w,M,R,A){R===void 0&&(R=!0),A===void 0&&(A=!0);var L=this.gl;L.bindFramebuffer(L.FRAMEBUFFER,m.framebuffer.webGLFramebuffer),L.framebufferTexture2D(L.FRAMEBUFFER,L.COLOR_ATTACHMENT0,L.TEXTURE_2D,m.texture.webGLTexture,0),R&&(A?L.clearColor(0,0,0,0):L.clearColor(0,0,0,1),L.clear(L.COLOR_BUFFER_BIT)),L.activeTexture(L.TEXTURE0),L.bindTexture(L.TEXTURE_2D,y.texture.webGLTexture),L.copyTexSubImage2D(L.TEXTURE_2D,0,0,0,C,P,w,M),L.bindFramebuffer(L.FRAMEBUFFER,null),L.bindTexture(L.TEXTURE_2D,null)},copyToGame:function(m){var y=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",1),this.renderer.popFramebuffer(),y.activeTexture(y.TEXTURE0),y.bindTexture(y.TEXTURE_2D,m.texture.webGLTexture),y.bufferData(y.ARRAY_BUFFER,this.vertexData,y.STATIC_DRAW),y.drawArrays(y.TRIANGLES,0,6)},drawFrame:function(m,y,C,P){C===void 0&&(C=!0),P===void 0&&(P=this.colorMatrix);var w=this.gl;this.setShader(this.colorMatrixShader),this.set1i("uMainSampler",0),this.set1fv("uColorMatrix",P.getData()),this.set1f("uAlpha",P.alpha),w.activeTexture(w.TEXTURE0),w.bindTexture(w.TEXTURE_2D,m.texture.webGLTexture),y?(w.viewport(0,0,y.width,y.height),w.bindFramebuffer(w.FRAMEBUFFER,y.framebuffer.webGLFramebuffer),w.framebufferTexture2D(w.FRAMEBUFFER,w.COLOR_ATTACHMENT0,w.TEXTURE_2D,y.texture.webGLTexture,0)):w.viewport(0,0,m.width,m.height),C?w.clearColor(0,0,0,0):w.clearColor(0,0,0,1),w.clear(w.COLOR_BUFFER_BIT),w.bufferData(w.ARRAY_BUFFER,this.vertexData,w.STATIC_DRAW),w.drawArrays(w.TRIANGLES,0,6),w.bindFramebuffer(w.FRAMEBUFFER,null),w.bindTexture(w.TEXTURE_2D,null)},blendFrames:function(m,y,C,P,w,M){P===void 0&&(P=1),w===void 0&&(w=!0),M===void 0&&(M=this.linearShader);var R=this.gl;this.setShader(M),this.set1i("uMainSampler1",0),this.set1i("uMainSampler2",1),this.set1f("uStrength",P),R.activeTexture(R.TEXTURE0),R.bindTexture(R.TEXTURE_2D,m.texture.webGLTexture),R.activeTexture(R.TEXTURE1),R.bindTexture(R.TEXTURE_2D,y.texture.webGLTexture),C?(R.bindFramebuffer(R.FRAMEBUFFER,C.framebuffer.webGLFramebuffer),R.framebufferTexture2D(R.FRAMEBUFFER,R.COLOR_ATTACHMENT0,R.TEXTURE_2D,C.texture.webGLTexture,0),R.viewport(0,0,C.width,C.height)):R.viewport(0,0,m.width,m.height),w?R.clearColor(0,0,0,0):R.clearColor(0,0,0,1),R.clear(R.COLOR_BUFFER_BIT),R.bufferData(R.ARRAY_BUFFER,this.vertexData,R.STATIC_DRAW),R.drawArrays(R.TRIANGLES,0,6),R.bindFramebuffer(R.FRAMEBUFFER,null),R.bindTexture(R.TEXTURE_2D,null)},blendFramesAdditive:function(m,y,C,P,w){this.blendFrames(m,y,C,P,w,this.addShader)},clearFrame:function(m,y){y===void 0&&(y=!0);var C=this.gl;C.viewport(0,0,m.width,m.height),C.bindFramebuffer(C.FRAMEBUFFER,m.framebuffer.webGLFramebuffer),y?C.clearColor(0,0,0,0):C.clearColor(0,0,0,1),C.clear(C.COLOR_BUFFER_BIT);var P=this.renderer.currentFramebuffer;C.bindFramebuffer(C.FRAMEBUFFER,P.webGLFramebuffer)},setUVs:function(m,y,C,P,w,M,R,A){var L=this.vertexViewF32;L[2]=m,L[3]=y,L[6]=C,L[7]=P,L[10]=w,L[11]=M,L[14]=m,L[15]=y,L[18]=w,L[19]=M,L[22]=R,L[23]=A},setTargetUVs:function(m,y){var C=y.height/m.height;C>.5?C=.5-(C-.5):C=.5+(.5-C),this.setUVs(0,C,0,1+C,1,1+C,1,C)},flipX:function(){this.setUVs(1,0,1,1,0,1,0,0)},flipY:function(){this.setUVs(0,1,0,0,1,0,1,1)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)}});n.exports=g},36060:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={BITMAPMASK_PIPELINE:"BitmapMaskPipeline",LIGHT_PIPELINE:"Light2D",POINTLIGHT_PIPELINE:"PointLightPipeline",SINGLE_PIPELINE:"SinglePipeline",MULTI_PIPELINE:"MultiPipeline",ROPE_PIPELINE:"RopePipeline",GRAPHICS_PIPELINE:"GraphicsPipeline",POSTFX_PIPELINE:"PostFXPipeline",UTILITY_PIPELINE:"UtilityPipeline",MOBILE_PIPELINE:"MobilePipeline",FX_PIPELINE:"FxPipeline"};n.exports=T},84817:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pipelineafterflush"},36712:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pipelinebeforeflush"},40285:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pipelinebind"},65918:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pipelineboot"},92852:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pipelinedestroy"},56072:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pipelinerebind"},57566:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pipelineresize"},77085:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={AFTER_FLUSH:r(84817),BEFORE_FLUSH:r(36712),BIND:r(40285),BOOT:r(65918),DESTROY:r(92852),REBIND:r(56072),RESIZE:r(57566)}},54812:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(99155),d=r(84057),h=new o({Extends:d,initialize:function(a){d.call(this,{game:a,fragShader:x}),this.amount=1},onPreRender:function(l,a){l=this.getController(l),this.set1f("amount",l.amount,a)}});n.exports=h},67329:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(24400),d=r(84057),h=new o({Extends:d,initialize:function(a){d.call(this,{game:a,fragShader:x}),this.steps=4,this.offsetX=1,this.offsetY=1,this.blurStrength=1,this.strength=1,this.glcolor=[1,1,1]},onPreRender:function(l){l=this.getController(l),this.set1f("strength",l.blurStrength),this.set3fv("color",l.glcolor)},onDraw:function(l){var a=this.getController(),f=this.fullFrame1,c=this.fullFrame2;this.copyFrame(l,c);for(var u=2/l.width*a.offsetX,v=2/l.height*a.offsetY,g=0;g<a.steps;g++)this.set2f("offset",u,0),this.copySprite(l,f),this.set2f("offset",0,v),this.copySprite(f,l);this.blendFrames(c,l,f,a.strength),this.copyToGame(f)}});n.exports=h},8861:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(41514),d=r(51078),h=r(94328),l=r(84057),a=new o({Extends:l,initialize:function(c){l.call(this,{game:c,shaders:[{name:"Gaussian5",fragShader:x},{name:"Gaussian9",fragShader:d},{name:"Gaussian13",fragShader:h}]}),this.activeShader=this.shaders[0],this.x=2,this.y=2,this.steps=4,this.strength=1,this.glcolor=[1,1,1]},setQualityLow:function(){return this.activeShader=this.shaders[0],this},setQualityMedium:function(){return this.activeShader=this.shaders[1],this},setQualityHigh:function(){return this.activeShader=this.shaders[2],this},onDraw:function(f){var c=this.getController(),u=this.gl,v=this.fullFrame1,g=u.getParameter(u.FRAMEBUFFER_BINDING);this.bind(this.shaders[c.quality]),u.activeTexture(u.TEXTURE0),u.viewport(0,0,f.width,f.height),this.set1i("uMainSampler",0),this.set2f("resolution",f.width,f.height),this.set1f("strength",c.strength),this.set3fv("color",c.glcolor);for(var m=0;m<c.steps;m++)this.set2f("offset",c.x,0),this.copySprite(f,v),this.set2f("offset",0,c.y),this.copySprite(v,f);u.bindFramebuffer(u.FRAMEBUFFER,g),u.bindTexture(u.TEXTURE_2D,null),this.copyToGame(f)}});n.exports=a},51051:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(90610),d=r(84057),h=new o({Extends:d,initialize:function(a){d.call(this,{game:a,fragShader:x}),this.isTiltShift=!1,this.strength=1,this.blurX=1,this.blurY=1,this.radius=.5,this.amount=1,this.contrast=.2},onPreRender:function(l,a,f,c){l=this.getController(l),this.set1f("radius",l.radius,a),this.set1f("amount",l.amount,a),this.set1f("contrast",l.contrast,a),this.set1f("strength",l.strength,a),this.set2f("blur",l.blurX,l.blurY,a),this.setBoolean("isTiltShift",l.isTiltShift,a),f&&c&&this.set2f("resolution",f,c,a)},onDraw:function(l){this.set2f("resolution",l.width,l.height),this.bindAndDraw(l)}});n.exports=h},89428:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(91899),d=r(84057),h=new o({Extends:d,initialize:function(a){d.call(this,{game:a,fragShader:x}),this.scale=1,this.feather=.005,this.thickness=8,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4]},onPreRender:function(l,a,f,c){l=this.getController(l),this.set1f("scale",l.scale,a),this.set1f("feather",l.feather,a),this.set1f("thickness",l.thickness,a),this.set3fv("color",l.glcolor,a),this.set4fv("backgroundColor",l.glcolor2,a),f&&c&&this.set2f("resolution",f,c,a)},onDraw:function(l){this.set2f("resolution",l.width,l.height),this.bindAndDraw(l)}});n.exports=h},88904:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(84057),d=new o({Extends:x,initialize:function(l){x.call(this,{game:l})},onDraw:function(h){var l=this.fullFrame1;this.controller?this.manager.drawFrame(h,l,!0,this.controller):this.drawFrame(h,l),this.copyToGame(l)}});n.exports=d},63563:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(47838),d=r(84057),h=new o({Extends:d,initialize:function(a){d.call(this,{game:a,fragShader:x}),this.x=.005,this.y=.005,this.glTexture},onBoot:function(){this.setTexture("__WHITE")},setTexture:function(l){var a=this.game.textures.getFrame(l);a&&(this.glTexture=a.glTexture)},onDraw:function(l){var a=this.getController(),f=this.fullFrame1;this.bind(),this.set1i("uMainSampler",0),this.set1i("uDisplacementSampler",1),this.set2f("amount",a.x,a.y),this.bindTexture(a.glTexture,1),this.copySprite(l,f),this.copyToGame(f)}});n.exports=h},94045:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(95540),d=r(98656),h=r(84057),l=r(70554),a=new o({Extends:h,initialize:function(c,u){var v=x(u,"quality",.1),g=x(u,"distance",10);h.call(this,{game:c,fragShader:l.setGlowQuality(d,c,v,g)}),this.outerStrength=4,this.innerStrength=0,this.knockout=!1,this.glcolor=[1,1,1,1]},onPreRender:function(f,c,u,v){f=this.getController(f),this.set1f("outerStrength",f.outerStrength,c),this.set1f("innerStrength",f.innerStrength,c),this.set4fv("glowColor",f.glcolor,c),this.setBoolean("knockout",f.knockout,c),u&&v&&this.set2f("resolution",u,v,c)},onDraw:function(f){this.set2f("resolution",f.width,f.height),this.bindAndDraw(f)}});n.exports=a},74088:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(70463),d=r(84057),h=new o({Extends:d,initialize:function(a){d.call(this,{game:a,fragShader:x}),this.alpha=.2,this.size=0,this.fromX=0,this.fromY=0,this.toX=0,this.toY=1,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0]},onPreRender:function(l,a){l=this.getController(l),this.set1f("alpha",l.alpha,a),this.set1i("size",l.size,a),this.set3fv("color1",l.glcolor1,a),this.set3fv("color2",l.glcolor2,a),this.set2f("positionFrom",l.fromX,l.fromY,a),this.set2f("positionTo",l.toX,l.toY,a)}});n.exports=h},99636:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(50831),d=r(84057),h=new o({Extends:d,initialize:function(a){d.call(this,{game:a,fragShader:x}),this.amount=1},onPreRender:function(l,a,f,c){l=this.getController(l),this.set1f("amount",l.amount,a),f&&c&&this.set2f("resolution",f,c,a)},onDraw:function(l){this.set2f("resolution",l.width,l.height),this.bindAndDraw(l)}});n.exports=h},34700:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(92595),d=r(84057),h=new o({Extends:d,initialize:function(a){d.call(this,{game:a,fragShader:x}),this.x=0,this.y=0,this.decay=.1,this.power=1,this.glcolor=[0,0,0,1],this.samples=6,this.intensity=1},onPreRender:function(l,a){l=this.getController(l);var f=l.samples;this.set1i("samples",f,a),this.set1f("intensity",l.intensity,a),this.set1f("decay",l.decay,a),this.set1f("power",l.power/f,a),this.set2f("lightPosition",l.x,l.y,a),this.set4fv("color",l.glcolor,a)}});n.exports=h},91157:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(72464),d=r(84057),h=new o({Extends:d,initialize:function(a){d.call(this,{game:a,fragShader:x}),this.speed=.5,this.lineWidth=.5,this.gradient=3,this.reveal=!1},onPreRender:function(l,a,f,c){l=this.getController(l),this.setTime("time",a),this.set1f("speed",l.speed,a),this.set1f("lineWidth",l.lineWidth,a),this.set1f("gradient",l.gradient,a),this.setBoolean("reveal",l.reveal,a),f&&c&&this.set2f("resolution",f,c,a)},onDraw:function(l){this.set2f("resolution",l.width,l.height),this.bindAndDraw(l)}});n.exports=h},27797:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(39249),d=r(84057),h=new o({Extends:d,initialize:function(a){d.call(this,{game:a,fragShader:x}),this.x=.5,this.y=.5,this.radius=.5,this.strength=.5},onPreRender:function(l,a){l=this.getController(l),this.set1f("radius",l.radius,a),this.set1f("strength",l.strength,a),this.set2f("position",l.x,l.y,a)}});n.exports=h},67603:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(2878),d=r(84057),h=new o({Extends:d,initialize:function(a){d.call(this,{game:a,fragShader:x}),this.progress=0,this.wipeWidth=.1,this.direction=0,this.axis=0,this.reveal=!1},onPreRender:function(l,a){l=this.getController(l);var f=l.progress,c=l.wipeWidth,u=l.direction,v=l.axis;this.set4f("config",f,c,u,v,a),this.setBoolean("reveal",l.reveal,a)}});n.exports=h},58918:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={Barrel:r(54812),Bloom:r(67329),Blur:r(8861),Bokeh:r(51051),Circle:r(89428),ColorMatrix:r(88904),Displacement:r(63563),Glow:r(94045),Gradient:r(74088),Pixelate:r(99636),Shadow:r(34700),Shine:r(91157),Vignette:r(27797),Wipe:r(67603)};n.exports=o},96615:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(36060),x=r(79291),d={FX:r(58918),BitmapMaskPipeline:r(31302),Events:r(77085),FXPipeline:r(92651),LightPipeline:r(96569),MobilePipeline:r(56527),MultiPipeline:r(57516),PointLightPipeline:r(43439),PostFXPipeline:r(84057),PreFXPipeline:r(43558),RopePipeline:r(81041),SinglePipeline:r(12385),UtilityPipeline:r(7589)};d=x(!1,d,o),n.exports=d},35407:n=>{n.exports=["#define SHADER_NAME PHASER_ADD_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = frame1 + frame2 * uStrength;","}"].join(`
`)},78908:n=>{n.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_FS","precision mediump float;","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uMaskSampler;","uniform bool uInvertMaskAlpha;","void main ()","{","    vec2 uv = gl_FragCoord.xy / uResolution;","    vec4 mainColor = texture2D(uMainSampler, uv);","    vec4 maskColor = texture2D(uMaskSampler, uv);","    if (!uInvertMaskAlpha)","    {","        mainColor *= maskColor.a;","    }","    else","    {","        mainColor *= (1.0 - maskColor.a);","    }","    gl_FragColor = mainColor;","}"].join(`
`)},85191:n=>{n.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_VS","precision mediump float;","attribute vec2 inPosition;","void main ()","{","    gl_Position = vec4(inPosition, 0.0, 1.0);","}"].join(`
`)},96293:n=>{n.exports=["#define SHADER_NAME PHASER_COLORMATRIX_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uColorMatrix[20];","uniform float uAlpha;","varying vec2 outTexCoord;","void main ()","{","    vec4 c = texture2D(uMainSampler, outTexCoord);","    if (uAlpha == 0.0)","    {","        gl_FragColor = c;","        return;","    }","    if (c.a > 0.0)","    {","        c.rgb /= c.a;","    }","    vec4 result;","    result.r = (uColorMatrix[0] * c.r) + (uColorMatrix[1] * c.g) + (uColorMatrix[2] * c.b) + (uColorMatrix[3] * c.a) + uColorMatrix[4];","    result.g = (uColorMatrix[5] * c.r) + (uColorMatrix[6] * c.g) + (uColorMatrix[7] * c.b) + (uColorMatrix[8] * c.a) + uColorMatrix[9];","    result.b = (uColorMatrix[10] * c.r) + (uColorMatrix[11] * c.g) + (uColorMatrix[12] * c.b) + (uColorMatrix[13] * c.a) + uColorMatrix[14];","    result.a = (uColorMatrix[15] * c.r) + (uColorMatrix[16] * c.g) + (uColorMatrix[17] * c.b) + (uColorMatrix[18] * c.a) + uColorMatrix[19];","    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);","    rgb *= result.a;","    gl_FragColor = vec4(rgb, result.a);","}"].join(`
`)},36682:n=>{n.exports=["#define SHADER_NAME PHASER_COPY_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uBrightness;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord) * uBrightness;","}"].join(`
`)},99155:n=>{n.exports=["#define SHADER_NAME BARREL_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float amount;","varying vec2 outTexCoord;","vec2 Distort(vec2 p)","{","    float theta  = atan(p.y, p.x);","    float radius = length(p);","    radius = pow(radius, amount);","    p.x = radius * cos(theta);","    p.y = radius * sin(theta);","    return 0.5 * (p + 1.0);","}","void main()","{","    vec2 xy = 2.0 * outTexCoord - 1.0;","    vec2 texCoord = outTexCoord;","    if (length(xy) < 1.0)","    {","        texCoord = Distort(xy);","    }","    gl_FragColor = texture2D(uMainSampler, texCoord);","}"].join(`
`)},24400:n=>{n.exports=["#define SHADER_NAME BLOOM_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec4 sum = texture2D(uMainSampler, outTexCoord) * 0.204164 * strength;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord - offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 3.294215) * 0.093913;","    gl_FragColor = (sum + texture2D(uMainSampler, outTexCoord - offset * 3.294215) * 0.093913) * vec4(color, 1);","}"].join(`
`)},94328:n=>{n.exports=["#define SHADER_NAME BLUR_HIGH_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.411764705882353) * offset * strength;","    vec2 off2 = vec2(3.2941176470588234) * offset * strength;","    vec2 off3 = vec2(5.176470588235294) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.1964825501511404;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv + (off3 / resolution)) * 0.010381362401148057;","    col += texture2D(uMainSampler, uv - (off3 / resolution)) * 0.010381362401148057;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},41514:n=>{n.exports=["#define SHADER_NAME BLUR_LOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 offset = vec2(1.333) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.29411764705882354;","    col += texture2D(uMainSampler, uv + (offset / resolution)) * 0.35294117647058826;","    col += texture2D(uMainSampler, uv - (offset / resolution)) * 0.35294117647058826;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},51078:n=>{n.exports=["#define SHADER_NAME BLUR_MED_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.3846153846) * offset * strength;","    vec2 off2 = vec2(3.2307692308) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.2270270270;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.0702702703;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.0702702703;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},90610:n=>{n.exports=["#define SHADER_NAME BOKEH_FS","precision mediump float;","#define ITERATIONS 100.0","#define ONEOVER_ITR 1.0 / ITERATIONS","#define PI 3.141596","#define GOLDEN_ANGLE 2.39996323","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float radius;","uniform float amount;","uniform float contrast;","uniform bool isTiltShift;","uniform float strength;","uniform vec2 blur;","varying vec2 outTexCoord;","vec2 Sample (in float theta, inout float r)","{","    r += 1.0 / r;","    return (r - 1.0) * vec2(cos(theta), sin(theta)) * 0.06;","}","vec3 Bokeh (sampler2D tex, vec2 uv, float radius)","{","    vec3 acc = vec3(0.0);","    vec3 div = vec3(0.0);","    vec2 pixel = vec2(resolution.y / resolution.x, 1.0) * radius * .025;","    float r = 1.0;","    for (float j = 0.0; j < GOLDEN_ANGLE * ITERATIONS; j += GOLDEN_ANGLE)","    {","        vec3 col = texture2D(tex, uv + pixel * Sample(j, r)).xyz;","        col = contrast > 0.0 ? col * col * (1.0 + contrast) : col;","        vec3 bokeh = vec3(0.5) + pow(col, vec3(10.0)) * amount;","        acc += col * bokeh;","        div += bokeh;","    }","    return acc / div;","}","void main ()","{","    float shift = 1.0;","    if (isTiltShift)","    {","        vec2 uv = vec2(gl_FragCoord.xy / resolution + vec2(-0.5, -0.5)) * 2.0;","        float centerStrength = 1.0;","        shift = length(uv * blur * strength) * centerStrength;","    }","    gl_FragColor = vec4(Bokeh(uMainSampler, outTexCoord * vec2(1.0, 1.0), radius * shift), 0.0);","}"].join(`
`)},91899:n=>{n.exports=["#define SHADER_NAME CIRCLE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec3 color;","uniform vec4 backgroundColor;","uniform float thickness;","uniform float scale;","uniform float feather;","varying vec2 outTexCoord;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 position = (gl_FragCoord.xy / resolution.xy) * 2.0 - 1.0;","    float aspectRatio = resolution.x / resolution.y;","    position.x *= aspectRatio;","    float grad = length(position);","    float outer = aspectRatio;","    float inner = outer - (thickness * 2.0 / resolution.y);","    if (aspectRatio >= 1.0)","    {","        float f = 2.0 + (resolution.y / resolution.x);","        outer = 1.0;","        inner = 1.0 - (thickness * f / resolution.x);","    }","    outer *= scale;","    inner *= scale;","    float circle = smoothstep(outer, outer - 0.01, grad);","    float ring = circle - smoothstep(inner, inner - feather, grad);","    texture = mix(backgroundColor * backgroundColor.a, texture, texture.a);","    texture = (texture * (circle - ring));","    gl_FragColor = vec4(texture.rgb + (ring * color), texture.a);","}"].join(`
`)},47838:n=>{n.exports=["#define SHADER_NAME DISPLACEMENT_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform sampler2D uDisplacementSampler;","uniform vec2 amount;","varying vec2 outTexCoord;","void main ()","{","    vec2 disp = (-vec2(0.5, 0.5) + texture2D(uDisplacementSampler, outTexCoord).rr) * amount;","    gl_FragColor = texture2D(uMainSampler, outTexCoord + disp).rgba;","}"].join(`
`)},98656:n=>{n.exports=["#define SHADER_NAME GLOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform float outerStrength;","uniform float innerStrength;","uniform vec2 resolution;","uniform vec4 glowColor;","uniform bool knockout;","const float PI = 3.14159265358979323846264;","const float DIST = __DIST__;","const float SIZE = min(__SIZE__, PI * 2.0);","const float STEP = ceil(PI * 2.0 / SIZE);","const float MAX_ALPHA = STEP * DIST * (DIST + 1.0) / 2.0;","void main ()","{","    vec2 px = vec2(1.0 / resolution.x, 1.0 / resolution.y);","    float totalAlpha = 0.0;","    vec2 direction;","    vec2 displaced;","    vec4 color;","    for (float angle = 0.0; angle < PI * 2.0; angle += SIZE)","    {","        direction = vec2(cos(angle), sin(angle)) * px;","        for (float curDistance = 0.0; curDistance < DIST; curDistance++)","        {","            displaced = outTexCoord + direction * (curDistance + 1.0);","            color = texture2D(uMainSampler, displaced);","            totalAlpha += (DIST - curDistance) * color.a;","        }","    }","    color = texture2D(uMainSampler, outTexCoord);","    float alphaRatio = (totalAlpha / MAX_ALPHA);","    float innerGlowAlpha = (1.0 - alphaRatio) * innerStrength * color.a;","    float innerGlowStrength = min(1.0, innerGlowAlpha);","    vec4 innerColor = mix(color, glowColor, innerGlowStrength);","    float outerGlowAlpha = alphaRatio * outerStrength * (1.0 - color.a);","    float outerGlowStrength = min(1.0 - innerColor.a, outerGlowAlpha);","    vec4 outerGlowColor = outerGlowStrength * glowColor.rgba;","    if (knockout)","    {","        float resultAlpha = outerGlowAlpha + innerGlowAlpha;","        gl_FragColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);","    }","    else","    {","        gl_FragColor = innerColor + outerGlowColor;","    }","}"].join(`
`)},70463:n=>{n.exports=["#define SHADER_NAME GRADIENT_FS","#define SRGB_TO_LINEAR(c) pow((c), vec3(2.2))","#define LINEAR_TO_SRGB(c) pow((c), vec3(1.0 / 2.2))","#define SRGB(r, g, b) SRGB_TO_LINEAR(vec3(float(r), float(g), float(b)) / 255.0)","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 positionFrom;","uniform vec2 positionTo;","uniform vec3 color1;","uniform vec3 color2;","uniform float alpha;","uniform int size;","varying vec2 outTexCoord;","float gradientNoise(in vec2 uv)","{","    const vec3 magic = vec3(0.06711056, 0.00583715, 52.9829189);","    return fract(magic.z * fract(dot(uv, magic.xy)));","}","float stepped (in float s, in float scale, in int steps)","{","    return steps > 0 ? floor( s / ((1.0 * scale) / float(steps))) * 1.0 / float(steps - 1) : s;","}","void main ()","{","    vec2 a = positionFrom;","    vec2 b = positionTo;","    vec2 ba = b - a;","    float d = dot(outTexCoord - a, ba) / dot(ba, ba);","    float t = size > 0 ? stepped(d, 1.0, size) : d;","    t = smoothstep(0.0, 1.0, clamp(t, 0.0, 1.0));","    vec3 color = mix(SRGB(color1.r, color1.g, color1.b), SRGB(color2.r, color2.g, color2.b), t);","    color = LINEAR_TO_SRGB(color);","    color += (1.0 / 255.0) * gradientNoise(outTexCoord) - (0.5 / 255.0);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = vec4(mix(color.rgb, texture.rgb, alpha), 1.0) * texture.a;","}"].join(`
`)},50831:n=>{n.exports=["#define SHADER_NAME PIXELATE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float amount;","varying vec2 outTexCoord;","void main ()","{","    float pixelSize = floor(2.0 + amount);","    vec2 center = pixelSize * floor(outTexCoord * resolution / pixelSize) + pixelSize * vec2(0.5, 0.5);","    vec2 corner1 = center + pixelSize * vec2(-0.5, -0.5);","    vec2 corner2 = center + pixelSize * vec2(+0.5, -0.5);","    vec2 corner3 = center + pixelSize * vec2(+0.5, +0.5);","    vec2 corner4 = center + pixelSize * vec2(-0.5, +0.5);","    vec4 pixel = 0.4 * texture2D(uMainSampler, center / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner1 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner2 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner3 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner4 / resolution);","    gl_FragColor = pixel;","}"].join(`
`)},92595:n=>{n.exports=["#define SHADER_NAME SHADOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform vec2 lightPosition;","uniform vec4 color;","uniform float decay;","uniform float power;","uniform float intensity;","uniform int samples;","const int MAX = 12;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 pc = (lightPosition - outTexCoord) * intensity;","    float shadow = 0.0;","    float limit = max(float(MAX), float(samples));","    for (int i = 0; i < MAX; ++i)","    {","        if (i >= samples)","        {","            break;","        }","        shadow += texture2D(uMainSampler, outTexCoord + float(i) * decay / limit * pc).a * power;","    }","    float mask = 1.0 - texture.a;","    gl_FragColor = mix(texture, color, shadow * mask);","}"].join(`
`)},72464:n=>{n.exports=["#define SHADER_NAME SHINE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform bool reveal;","uniform float speed;","uniform float time;","uniform float lineWidth;","uniform float gradient;","varying vec2 outTexCoord;","void main ()","{","	vec2 uv = gl_FragCoord.xy / resolution.xy;","    vec4 tex = texture2D(uMainSampler, outTexCoord);","    vec4 col1 = vec4(0.3, 0.0, 0.0, 1.0);","    vec4 col2 = vec4(0.85, 0.85, 0.85, 1.0);","    uv.x = uv.x - mod(time * speed, 2.0) + 0.5;","    float y = uv.x * gradient;","    float s = smoothstep(y - lineWidth, y, uv.y) - smoothstep(y, y + lineWidth, uv.y);","    gl_FragColor = (((s * col1) + (s * col2)) * tex);","    if (!reveal)","    {","        gl_FragColor += tex;","    }","}"].join(`
`)},39249:n=>{n.exports=["#define SHADER_NAME VIGNETTE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float radius;","uniform float strength;","uniform vec2 position;","varying vec2 outTexCoord;","void main ()","{","    vec4 col = vec4(1.0);","    float d = length(outTexCoord - position);","    if (d <= radius)","    {","        float g = d / radius;","        g = sin(g * 3.14 * strength);","    	col = vec4(g * g * g);","    }","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = texture * (1.0 - col);","}"].join(`
`)},2878:n=>{n.exports=["#define SHADER_NAME WIPE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec4 config;","uniform bool reveal;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 color0;","    vec4 color1;","    if (reveal)","    {","        color0 = vec4(0);","        color1 = texture2D(uMainSampler, uv);","    }","    else","    {","        color0 = texture2D(uMainSampler, uv);","        color1 = vec4(0);","    }","    float distance = config.x;","    float width = config.y;","    float direction = config.z;","    float axis = uv.x;","    if (config.w == 1.0)","    {","        axis = uv.y;","    }","    float adjust = mix(width, -width, distance);","    float value = smoothstep(distance - width, distance + width, abs(direction - axis) + adjust);","    gl_FragColor = mix(color1, color0, value);","}"].join(`
`)},31063:n=>{n.exports=["#define SHADER_NAME PHASER_LIGHT_FS","precision mediump float;","struct Light","{","    vec2 position;","    vec3 color;","    float intensity;","    float radius;","};","const int kMaxLights = %LIGHT_COUNT%;","uniform vec4 uCamera; /* x, y, rotation, zoom */","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uNormSampler;","uniform vec3 uAmbientLightColor;","uniform Light uLights[kMaxLights];","uniform mat3 uInverseRotationMatrix;","uniform int uLightCount;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec3 finalColor = vec3(0.0, 0.0, 0.0);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    vec3 normalMap = texture2D(uNormSampler, outTexCoord).rgb;","    vec3 normal = normalize(uInverseRotationMatrix * vec3(normalMap * 2.0 - 1.0));","    vec2 res = vec2(min(uResolution.x, uResolution.y)) * uCamera.w;","    for (int index = 0; index < kMaxLights; ++index)","    {","        if (index < uLightCount)","        {","            Light light = uLights[index];","            vec3 lightDir = vec3((light.position.xy / res) - (gl_FragCoord.xy / res), 0.1);","            vec3 lightNormal = normalize(lightDir);","            float distToSurf = length(lightDir) * uCamera.w;","            float diffuseFactor = max(dot(normal, lightNormal), 0.0);","            float radius = (light.radius / res.x * uCamera.w) * uCamera.w;","            float attenuation = clamp(1.0 - distToSurf * distToSurf / (radius * radius), 0.0, 1.0);","            vec3 diffuse = light.color * diffuseFactor;","            finalColor += (attenuation * diffuse) * light.intensity;","        }","    }","    vec4 colorOutput = vec4(uAmbientLightColor + finalColor, 1.0);","    gl_FragColor = color * vec4(colorOutput.rgb * colorOutput.a, colorOutput.a);","}"].join(`
`)},48247:n=>{n.exports=["#define SHADER_NAME PHASER_LINEAR_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = mix(frame1, frame2 * uStrength, 0.5);","}"].join(`
`)},41214:n=>{n.exports=["#define SHADER_NAME PHASER_MESH_FS","precision mediump float;","uniform vec3 uLightPosition;","uniform vec3 uLightAmbient;","uniform vec3 uLightDiffuse;","uniform vec3 uLightSpecular;","uniform vec3 uFogColor;","uniform float uFogNear;","uniform float uFogFar;","uniform vec3 uMaterialAmbient;","uniform vec3 uMaterialDiffuse;","uniform vec3 uMaterialSpecular;","uniform float uMaterialShine;","uniform vec3 uCameraPosition;","uniform sampler2D uTexture;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main (void)","{","    vec4 color = texture2D(uTexture, vTextureCoord);","    vec3 ambient = uLightAmbient * uMaterialAmbient;","    vec3 norm = normalize(vNormal);","    vec3 lightDir = normalize(uLightPosition - vPosition);","    float diff = max(dot(norm, lightDir), 0.0);","    vec3 diffuse = uLightDiffuse * (diff * uMaterialDiffuse);","    vec3 viewDir = normalize(uCameraPosition - vPosition);","    vec3 reflectDir = reflect(-lightDir, norm);","    float spec = pow(max(dot(viewDir, reflectDir), 0.0), uMaterialShine);","    vec3 specular = uLightSpecular * (spec * uMaterialSpecular);","    vec3 result = (ambient + diffuse + specular) * color.rgb;","    float depth = gl_FragCoord.z / gl_FragCoord.w;","    float fogFactor = smoothstep(uFogNear, uFogFar, depth);","    gl_FragColor.rgb = mix(result.rgb, uFogColor, fogFactor);","    gl_FragColor.a = color.a;","}"].join(`
`)},39653:n=>{n.exports=["#define SHADER_NAME PHASER_MESH_VS","precision mediump float;","attribute vec3 aVertexPosition;","attribute vec3 aVertexNormal;","attribute vec2 aTextureCoord;","uniform mat4 uViewProjectionMatrix;","uniform mat4 uModelMatrix;","uniform mat4 uNormalMatrix;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main ()","{","    vTextureCoord = aTextureCoord;","    vPosition = vec3(uModelMatrix * vec4(aVertexPosition, 1.0));","    vNormal = vec3(uNormalMatrix * vec4(aVertexNormal, 1.0));","    gl_Position = uViewProjectionMatrix * uModelMatrix * vec4(aVertexPosition, 1.0);","}"].join(`
`)},62143:n=>{n.exports=["#define SHADER_NAME PHASER_MOBILE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},47940:n=>{n.exports=["#define SHADER_NAME PHASER_MOBILE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},98840:n=>{n.exports=["#define SHADER_NAME PHASER_MULTI_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler[%count%];","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture;","    %forloop%","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},44667:n=>{n.exports=["#define SHADER_NAME PHASER_MULTI_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTexId = inTexId;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},4127:n=>{n.exports=["#define SHADER_NAME PHASER_POINTLIGHT_FS","precision mediump float;","uniform vec2 uResolution;","uniform float uCameraZoom;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    vec2 center = (lightPosition.xy + 1.0) * (uResolution.xy * 0.5);","    float distToSurf = length(center - gl_FragCoord.xy);","    float radius = 1.0 - distToSurf / (lightRadius * uCameraZoom);","    float intensity = smoothstep(0.0, 1.0, radius * lightAttenuation);","    vec4 color = vec4(intensity, intensity, intensity, 0.0) * lightColor;","    gl_FragColor = vec4(color.rgb * lightColor.a, color.a);","}"].join(`
`)},89924:n=>{n.exports=["#define SHADER_NAME PHASER_POINTLIGHT_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","attribute vec2 inPosition;","attribute vec2 inLightPosition;","attribute vec4 inLightColor;","attribute float inLightRadius;","attribute float inLightAttenuation;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    lightColor = inLightColor;","    lightRadius = inLightRadius;","    lightAttenuation = inLightAttenuation;","    lightPosition = uProjectionMatrix * vec4(inLightPosition, 1.0, 1.0);","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","}"].join(`
`)},27681:n=>{n.exports=["#define SHADER_NAME PHASER_POSTFX_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord);","}"].join(`
`)},49627:n=>{n.exports=["#define SHADER_NAME PHASER_QUAD_VS","precision mediump float;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","varying vec2 outFragCoord;","varying vec2 outTexCoord;","void main ()","{","    outFragCoord = inPosition.xy * 0.5 + 0.5;","    outTexCoord = inTexCoord;","    gl_Position = vec4(inPosition, 0, 1);","}"].join(`
`)},45561:n=>{n.exports=["#define SHADER_NAME PHASER_SINGLE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},60722:n=>{n.exports=["#define SHADER_NAME PHASER_SINGLE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},89350:(n,T,r)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={AddBlendFrag:r(35407),BitmapMaskFrag:r(78908),BitmapMaskVert:r(85191),ColorMatrixFrag:r(96293),CopyFrag:r(36682),FXBarrelFrag:r(99155),FXBloomFrag:r(24400),FXBlurHighFrag:r(94328),FXBlurLowFrag:r(41514),FXBlurMedFrag:r(51078),FXBokehFrag:r(90610),FXCircleFrag:r(91899),FXDisplacementFrag:r(47838),FXGlowFrag:r(98656),FXGradientFrag:r(70463),FXPixelateFrag:r(50831),FXShadowFrag:r(92595),FXShineFrag:r(72464),FXVignetteFrag:r(39249),FXWipeFrag:r(2878),LightFrag:r(31063),LinearBlendFrag:r(48247),MeshFrag:r(41214),MeshVert:r(39653),MobileFrag:r(62143),MobileVert:r(47940),MultiFrag:r(98840),MultiVert:r(44667),PointLightFrag:r(4127),PointLightVert:r(89924),PostFXFrag:r(27681),QuadVert:r(49627),SingleFrag:r(45561),SingleVert:r(60722)}},93567:(n,T,r)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=new o({initialize:function(h,l,a){this.webGLAttribLocation=-1,this.gl=h,this.program=l,this.name=a,this.createResource()},createResource:function(){if(this.program.webGLProgram===null){this.webGLAttribLocation=-1;return}var d=this.gl;d.isContextLost()||(this.webGLAttribLocation=d.getAttribLocation(this.program.webGLProgram,this.name))},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLAttribLocation=-1}});n.exports=x},26128:(n,T,r)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=new o({initialize:function(h,l,a,f){this.webGLBuffer=null,this.gl=h,this.initialDataOrSize=l,this.bufferType=a,this.bufferUsage=f,this.createResource()},createResource:function(){if(this.initialDataOrSize!==null){var d=this.gl;if(!d.isContextLost()){var h=this.bufferType,l=d.createBuffer();this.webGLBuffer=l,d.bindBuffer(h,this.webGLBuffer),d.bufferData(h,this.initialDataOrSize,this.bufferUsage),d.bindBuffer(h,null)}}},destroy:function(){var d=this.gl;d.isContextLost()||d.deleteBuffer(this.webGLBuffer),this.webGLBuffer=null,this.initialDataOrSize=null,this.gl=null}});n.exports=x},84387:(n,T,r)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x={36054:"Incomplete Attachment",36055:"Missing Attachment",36057:"Incomplete Dimensions",36061:"Framebuffer Unsupported"},d=new o({initialize:function(l,a,f,c,u){this.webGLFramebuffer=null,this.gl=l,this.width=a,this.height=f,this.renderTexture=c,this.addDepthStencilBuffer=!!u,this.createResource()},createResource:function(){var h=this.gl;if(!h.isContextLost()){var l=this.renderTexture,a=0,f=h.createFramebuffer();if(this.webGLFramebuffer=f,h.bindFramebuffer(h.FRAMEBUFFER,f),l.isRenderTexture=!0,l.isAlphaPremultiplied=!1,h.framebufferTexture2D(h.FRAMEBUFFER,h.COLOR_ATTACHMENT0,h.TEXTURE_2D,l.webGLTexture,0),a=h.checkFramebufferStatus(h.FRAMEBUFFER),a!==h.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer status: "+(x[a]||a));if(this.addDepthStencilBuffer){var c=h.createRenderbuffer();h.bindRenderbuffer(h.RENDERBUFFER,c),h.renderbufferStorage(h.RENDERBUFFER,h.DEPTH_STENCIL,this.width,this.height),h.framebufferRenderbuffer(h.FRAMEBUFFER,h.DEPTH_STENCIL_ATTACHMENT,h.RENDERBUFFER,c)}h.bindFramebuffer(h.FRAMEBUFFER,null)}},destroy:function(){if(this.webGLFramebuffer!==null){var h=this.gl;if(!h.isContextLost()){h.bindFramebuffer(h.FRAMEBUFFER,this.webGLFramebuffer);var l=h.getFramebufferAttachmentParameter(h.FRAMEBUFFER,h.COLOR_ATTACHMENT0,h.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);l!==null&&(h.framebufferTexture2D(h.FRAMEBUFFER,h.COLOR_ATTACHMENT0,h.TEXTURE_2D,null,0),h.deleteTexture(l));var a=h.getFramebufferAttachmentParameter(h.FRAMEBUFFER,h.DEPTH_STENCIL_ATTACHMENT,h.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);a!==null&&h.deleteRenderbuffer(a),h.bindFramebuffer(h.FRAMEBUFFER,null),h.deleteFramebuffer(this.webGLFramebuffer)}this.renderTexture=null,this.webGLFramebuffer=null,this.gl=null}}});n.exports=d},1482:(n,T,r)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=new o({initialize:function(h,l,a){this.webGLProgram=null,this.gl=h,this.vertexSource=l,this.fragmentSource=a,this.createResource()},createResource:function(){var d=this.gl;if(!d.isContextLost()){var h=d.createProgram(),l=d.createShader(d.VERTEX_SHADER),a=d.createShader(d.FRAGMENT_SHADER);d.shaderSource(l,this.vertexSource),d.shaderSource(a,this.fragmentSource),d.compileShader(l),d.compileShader(a);var f=`Shader failed:
`;if(!d.getShaderParameter(l,d.COMPILE_STATUS))throw new Error("Vertex "+f+d.getShaderInfoLog(l));if(!d.getShaderParameter(a,d.COMPILE_STATUS))throw new Error("Fragment "+f+d.getShaderInfoLog(a));if(d.attachShader(h,l),d.attachShader(h,a),d.linkProgram(h),!d.getProgramParameter(h,d.LINK_STATUS))throw new Error("Link "+f+d.getProgramInfoLog(h));d.useProgram(h),this.webGLProgram=h}},destroy:function(){this.webGLProgram&&(this.gl.isContextLost()||this.gl.deleteProgram(this.webGLProgram),this.webGLProgram=null,this.gl=null)}});n.exports=x},82751:(n,T,r)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(50030),d=new o({initialize:function(l,a,f,c,u,v,g,m,y,C,P,w,M){this.webGLTexture=null,this.isRenderTexture=!1,this.gl=l,this.mipLevel=a,this.minFilter=f,this.magFilter=c,this.wrapT=u,this.wrapS=v,this.format=g,this.pixels=m,this.width=y,this.height=C,this.pma=P??!0,this.forceSize=!!w,this.flipY=!!M,this.__SPECTOR_Metadata={},this.createResource()},createResource:function(){var h=this.gl;if(!h.isContextLost()){if(this.pixels instanceof d){this.webGLTexture=this.pixels.webGLTexture;return}var l=h.createTexture();l.__SPECTOR_Metadata=this.__SPECTOR_Metadata,this.webGLTexture=l,this._processTexture()}},update:function(h,l,a,f,c,u,v,g,m){if(!(l===0||a===0)){this.pixels=h,this.width=l,this.height=a,this.flipY=f,this.wrapS=c,this.wrapT=u,this.minFilter=v,this.magFilter=g,this.format=m;var y=this.gl;y.isContextLost()||this._processTexture()}},_processTexture:function(){var h=this.gl;h.activeTexture(h.TEXTURE0);var l=h.getParameter(h.TEXTURE_BINDING_2D);h.bindTexture(h.TEXTURE_2D,this.webGLTexture),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,this.minFilter),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,this.magFilter),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,this.wrapS),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,this.wrapT),h.pixelStorei(h.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.pma),h.pixelStorei(h.UNPACK_FLIP_Y_WEBGL,this.flipY);var a=this.pixels,f=this.mipLevel,c=this.width,u=this.height,v=this.format,g=!1;if(a==null)h.texImage2D(h.TEXTURE_2D,f,v,c,u,0,v,h.UNSIGNED_BYTE,null),g=x(c,u);else if(a.compressed){c=a.width,u=a.height,g=a.generateMipmap;for(var m=0;m<a.mipmaps.length;m++)h.compressedTexImage2D(h.TEXTURE_2D,m,a.internalFormat,a.mipmaps[m].width,a.mipmaps[m].height,0,a.mipmaps[m].data)}else a instanceof Uint8Array?(h.texImage2D(h.TEXTURE_2D,f,v,c,u,0,v,h.UNSIGNED_BYTE,a),g=x(c,u)):(this.forceSize||(c=a.width,u=a.height),h.texImage2D(h.TEXTURE_2D,f,v,v,h.UNSIGNED_BYTE,a),g=x(c,u));g&&h.generateMipmap(h.TEXTURE_2D),l?h.bindTexture(h.TEXTURE_2D,l):h.bindTexture(h.TEXTURE_2D,null)},spectorMetadata:{get:function(){return this.__SPECTOR_Metadata},set:function(h){this.__SPECTOR_Metadata=h,this.gl.isContextLost()||(this.webGLTexture.__SPECTOR_Metadata=h)}},destroy:function(){this.webGLTexture!==null&&(this.gl.isContextLost()||this.pixels instanceof d||this.gl.deleteTexture(this.webGLTexture),this.pixels=null,this.webGLTexture=null,this.gl=null)}});n.exports=d},57183:(n,T,r)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=new o({initialize:function(h,l,a){this.webGLUniformLocation=null,this.gl=h,this.program=l,this.name=a,this.createResource()},createResource:function(){if(this.program.webGLProgram===null){this.webGLUniformLocation=null;return}var d=this.gl;d.isContextLost()||(this.webGLUniformLocation=d.getUniformLocation(this.program.webGLProgram,this.name))},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLUniformLocation=null}});n.exports=x},9503:(n,T,r)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={WebGLAttribLocationWrapper:r(93567),WebGLBufferWrapper:r(26128),WebGLProgramWrapper:r(1482),WebGLTextureWrapper:r(82751),WebGLFramebufferWrapper:r(84387),WebGLUniformLocationWrapper:r(57183)};n.exports=o},76531:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(13560),x=r(83419),d=r(50792),h=r(97480),l=r(8443),a=r(57811),f=r(74403),c=r(45818),u=r(29747),v=r(87841),g=r(86555),m=r(56583),y=r(26099),C=r(38058),P=new x({Extends:d,initialize:function(M){d.call(this),this.game=M,this.canvas,this.canvasBounds=new v,this.parent=null,this.parentIsWindow=!1,this.parentSize=new g,this.gameSize=new g,this.baseSize=new g,this.displaySize=new g,this.scaleMode=o.SCALE_MODE.NONE,this.zoom=1,this._resetZoom=!1,this.displayScale=new y(1,1),this.autoRound=!1,this.autoCenter=o.CENTER.NO_CENTER,this.orientation=o.ORIENTATION.LANDSCAPE,this.fullscreen,this.fullscreenTarget=null,this._createdFullscreenTarget=!1,this.dirty=!1,this.resizeInterval=500,this._lastCheck=0,this._checkOrientation=!1,this.domlisteners={orientationChange:u,windowResize:u,fullScreenChange:u,fullScreenError:u}},preBoot:function(){this.parseConfig(this.game.config),this.game.events.once(l.BOOT,this.boot,this)},boot:function(){var w=this.game;this.canvas=w.canvas,this.fullscreen=w.device.fullscreen;var M=this.scaleMode;M!==o.SCALE_MODE.RESIZE&&M!==o.SCALE_MODE.EXPAND&&this.displaySize.setAspectMode(M),M===o.SCALE_MODE.NONE?this.resize(this.width,this.height):(this.getParentBounds(),this.parentSize.width>0&&this.parentSize.height>0&&this.displaySize.setParent(this.parentSize),this.refresh()),w.events.on(l.PRE_STEP,this.step,this),w.events.once(l.READY,this.refresh,this),w.events.once(l.DESTROY,this.destroy,this),this.startListeners()},parseConfig:function(w){this.getParent(w),this.getParentBounds();var M=w.width,R=w.height,A=w.scaleMode,L=w.zoom,F=w.autoRound;if(typeof M=="string")if(M.substr(-1)!=="%")M=parseInt(M,10);else{var G=this.parentSize.width;G===0&&(G=window.innerWidth);var I=parseInt(M,10)/100;M=Math.floor(G*I)}if(typeof R=="string")if(R.substr(-1)!=="%")R=parseInt(R,10);else{var B=this.parentSize.height;B===0&&(B=window.innerHeight);var k=parseInt(R,10)/100;R=Math.floor(B*k)}this.scaleMode=A,this.autoRound=F,this.autoCenter=w.autoCenter,this.resizeInterval=w.resizeInterval,F&&(M=Math.floor(M),R=Math.floor(R)),this.gameSize.setSize(M,R),L===o.ZOOM.MAX_ZOOM&&(L=this.getMaxZoom()),this.zoom=L,L!==1&&(this._resetZoom=!0),this.baseSize.setSize(M,R),F&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),w.minWidth>0&&this.displaySize.setMin(w.minWidth*L,w.minHeight*L),w.maxWidth>0&&this.displaySize.setMax(w.maxWidth*L,w.maxHeight*L),this.displaySize.setSize(M,R),(w.snapWidth>0||w.snapHeight>0)&&this.displaySize.setSnap(w.snapWidth,w.snapHeight),this.orientation=c(M,R)},getParent:function(w){var M=w.parent;if(M!==null){if(this.parent=f(M),this.parentIsWindow=this.parent===document.body,w.expandParent&&w.scaleMode!==o.SCALE_MODE.NONE){var R=this.parent.getBoundingClientRect();(this.parentIsWindow||R.height===0)&&(document.documentElement.style.height="100%",document.body.style.height="100%",R=this.parent.getBoundingClientRect(),!this.parentIsWindow&&R.height===0&&(this.parent.style.overflow="hidden",this.parent.style.width="100%",this.parent.style.height="100%"))}w.fullscreenTarget&&!this.fullscreenTarget&&(this.fullscreenTarget=f(w.fullscreenTarget))}},getParentBounds:function(){if(!this.parent)return!1;var w=this.parentSize,M=this.parent.getBoundingClientRect();this.parentIsWindow&&this.game.device.os.iOS&&(M.height=a(!0));var R=M.width,A=M.height;if(w.width!==R||w.height!==A)return w.setSize(R,A),!0;if(this.canvas){var L=this.canvasBounds,F=this.canvas.getBoundingClientRect();if(F.x!==L.x||F.y!==L.y)return!0}return!1},lockOrientation:function(w){var M=screen.lockOrientation||screen.mozLockOrientation||screen.msLockOrientation;return M?M.call(screen,w):!1},setParentSize:function(w,M){return this.parentSize.setSize(w,M),this.refresh()},setGameSize:function(w,M){var R=this.autoRound;R&&(w=Math.floor(w),M=Math.floor(M));var A=this.width,L=this.height;return this.gameSize.resize(w,M),this.baseSize.resize(w,M),R&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setAspectRatio(w/M),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height,this.refresh(A,L)},resize:function(w,M){var R=this.zoom,A=this.autoRound;A&&(w=Math.floor(w),M=Math.floor(M));var L=this.width,F=this.height;this.gameSize.resize(w,M),this.baseSize.resize(w,M),A&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setSize(w*R,M*R),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height;var G=this.canvas.style,I=w*R,B=M*R;return A&&(I=Math.floor(I),B=Math.floor(B)),(I!==w||B!==M)&&(G.width=I+"px",G.height=B+"px"),this.refresh(L,F)},setZoom:function(w){return this.zoom=w,this._resetZoom=!0,this.refresh()},setMaxZoom:function(){return this.zoom=this.getMaxZoom(),this._resetZoom=!0,this.refresh()},setSnap:function(w,M){return w===void 0&&(w=0),M===void 0&&(M=w),this.displaySize.setSnap(w,M),this.refresh()},refresh:function(w,M){w===void 0&&(w=this.width),M===void 0&&(M=this.height),this.updateScale(),this.updateBounds(),this.updateOrientation(),this.displayScale.set(this.baseSize.width/this.canvasBounds.width,this.baseSize.height/this.canvasBounds.height);var R=this.game.domContainer;if(R){this.baseSize.setCSS(R);var A=this.canvas.style,L=R.style;L.transform="scale("+this.displaySize.width/this.baseSize.width+","+this.displaySize.height/this.baseSize.height+")",L.marginLeft=A.marginLeft,L.marginTop=A.marginTop}return this.emit(h.RESIZE,this.gameSize,this.baseSize,this.displaySize,w,M),this},updateOrientation:function(){if(this._checkOrientation){this._checkOrientation=!1;var w=c(this.width,this.height);w!==this.orientation&&(this.orientation=w,this.emit(h.ORIENTATION_CHANGE,w))}},updateScale:function(){var w=this.canvas.style,M=this.gameSize.width,R=this.gameSize.height,A,L,F=this.zoom,G=this.autoRound;if(this.scaleMode===o.SCALE_MODE.NONE)this.displaySize.setSize(M*F,R*F),A=this.displaySize.width,L=this.displaySize.height,G&&(A=Math.floor(A),L=Math.floor(L)),this._resetZoom&&(w.width=A+"px",w.height=L+"px",this._resetZoom=!1);else if(this.scaleMode===o.SCALE_MODE.RESIZE)this.displaySize.setSize(this.parentSize.width,this.parentSize.height),this.gameSize.setSize(this.displaySize.width,this.displaySize.height),this.baseSize.setSize(this.displaySize.width,this.displaySize.height),A=this.displaySize.width,L=this.displaySize.height,G&&(A=Math.floor(A),L=Math.floor(L)),this.canvas.width=A,this.canvas.height=L;else if(this.scaleMode===o.SCALE_MODE.EXPAND){var I=this.game.config.width,B=this.game.config.height;this.displaySize.setSize(this.parentSize.width,this.parentSize.height),A=this.displaySize.width,L=this.displaySize.height,G&&(A=Math.floor(A),L=Math.floor(L)),w.width=A+"px",w.height=L+"px";var k=this.parentSize.width/I,U=this.parentSize.height/B;k<U&&k!==0?this.baseSize.setSize(I,this.parentSize.height/k):U!==0&&this.baseSize.setSize(this.displaySize.width/U,B),this.gameSize.setSize(this.baseSize.width,this.baseSize.height),A=this.baseSize.width,L=this.baseSize.height,G&&(A=Math.floor(A),L=Math.floor(L)),this.canvas.width=A,this.canvas.height=L}else this.displaySize.setSize(this.parentSize.width,this.parentSize.height),A=this.displaySize.width,L=this.displaySize.height,G&&(A=Math.floor(A),L=Math.floor(L)),w.width=A+"px",w.height=L+"px";this.getParentBounds(),this.updateCenter()},getMaxZoom:function(){var w=m(this.parentSize.width,this.gameSize.width,0,!0),M=m(this.parentSize.height,this.gameSize.height,0,!0);return Math.max(Math.min(w,M),1)},updateCenter:function(){var w=this.autoCenter;if(w!==o.CENTER.NO_CENTER){var M=this.canvas,R=M.style,A=M.getBoundingClientRect(),L=A.width,F=A.height,G=Math.floor((this.parentSize.width-L)/2),I=Math.floor((this.parentSize.height-F)/2);w===o.CENTER.CENTER_HORIZONTALLY?I=0:w===o.CENTER.CENTER_VERTICALLY&&(G=0),R.marginLeft=G+"px",R.marginTop=I+"px"}},updateBounds:function(){var w=this.canvasBounds,M=this.canvas.getBoundingClientRect();w.x=M.left+(window.pageXOffset||0)-(document.documentElement.clientLeft||0),w.y=M.top+(window.pageYOffset||0)-(document.documentElement.clientTop||0),w.width=M.width,w.height=M.height},transformX:function(w){return(w-this.canvasBounds.left)*this.displayScale.x},transformY:function(w){return(w-this.canvasBounds.top)*this.displayScale.y},startFullscreen:function(w){w===void 0&&(w={navigationUI:"hide"});var M=this.fullscreen;if(!M.available){this.emit(h.FULLSCREEN_UNSUPPORTED);return}if(!M.active){var R=this.getFullscreenTarget();M.keyboard?R[M.request](Element.ALLOW_KEYBOARD_INPUT):R[M.request](w)}},fullscreenSuccessHandler:function(){this.getParentBounds(),this.refresh(),this.emit(h.ENTER_FULLSCREEN)},fullscreenErrorHandler:function(w){this.removeFullscreenTarget(),this.emit(h.FULLSCREEN_FAILED,w)},getFullscreenTarget:function(){if(!this.fullscreenTarget){var w=document.createElement("div");w.style.margin="0",w.style.padding="0",w.style.width="100%",w.style.height="100%",this.fullscreenTarget=w,this._createdFullscreenTarget=!0}if(this._createdFullscreenTarget){var M=this.canvas.parentNode;M.insertBefore(this.fullscreenTarget,this.canvas),this.fullscreenTarget.appendChild(this.canvas)}return this.fullscreenTarget},removeFullscreenTarget:function(){if(this._createdFullscreenTarget){var w=this.fullscreenTarget;if(w&&w.parentNode){var M=w.parentNode;M.insertBefore(this.canvas,w),M.removeChild(w)}}},stopFullscreen:function(){var w=this.fullscreen;if(!w.available)return this.emit(h.FULLSCREEN_UNSUPPORTED),!1;w.active&&document[w.cancel](),this.removeFullscreenTarget()},leaveFullScreenSuccessHandler:function(){this.getParentBounds(),this.emit(h.LEAVE_FULLSCREEN),this.refresh()},toggleFullscreen:function(w){this.fullscreen.active?this.stopFullscreen():this.startFullscreen(w)},startListeners:function(){var w=this,M=this.domlisteners;if(M.orientationChange=function(){w.updateBounds(),w._checkOrientation=!0,w.dirty=!0,w.refresh()},M.windowResize=function(){w.updateBounds(),w.dirty=!0},screen.orientation&&screen.orientation.addEventListener?screen.orientation.addEventListener("change",M.orientationChange,!1):window.addEventListener("orientationchange",M.orientationChange,!1),window.addEventListener("resize",M.windowResize,!1),this.fullscreen.available){M.fullScreenChange=function(A){return w.onFullScreenChange(A)},M.fullScreenError=function(A){return w.onFullScreenError(A)};var R=["webkit","moz",""];R.forEach(function(A){document.addEventListener(A+"fullscreenchange",M.fullScreenChange,!1),document.addEventListener(A+"fullscreenerror",M.fullScreenError,!1)}),document.addEventListener("MSFullscreenChange",M.fullScreenChange,!1),document.addEventListener("MSFullscreenError",M.fullScreenError,!1)}},onFullScreenChange:function(){document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.mozFullScreenElement?this.fullscreenSuccessHandler():(this.stopFullscreen(),this.leaveFullScreenSuccessHandler())},onFullScreenError:function(){this.removeFullscreenTarget()},getViewPort:function(w,M){w instanceof C||(M=w,w=void 0),M===void 0&&(M=new v);var R=this.baseSize,A=this.parentSize,L=this.canvasBounds,F=this.displayScale,G=L.x>=0?0:-(L.x*F.x),I=L.y>=0?0:-(L.y*F.y),B;A.width>=L.width?B=R.width:B=R.width-(L.width-A.width)*F.x;var k;return A.height>=L.height?k=R.height:k=R.height-(L.height-A.height)*F.y,M.setTo(G,I,B,k),w&&(M.width/=w.zoomX,M.height/=w.zoomY,M.centerX=w.centerX+w.scrollX,M.centerY=w.centerY+w.scrollY),M},step:function(w,M){this.parent&&(this._lastCheck+=M,(this.dirty||this._lastCheck>this.resizeInterval)&&(this.getParentBounds()&&this.refresh(),this.dirty=!1,this._lastCheck=0))},stopListeners:function(){var w=this.domlisteners;screen.orientation&&screen.orientation.addEventListener?screen.orientation.removeEventListener("change",w.orientationChange,!1):window.removeEventListener("orientationchange",w.orientationChange,!1),window.removeEventListener("resize",w.windowResize,!1);var M=["webkit","moz",""];M.forEach(function(R){document.removeEventListener(R+"fullscreenchange",w.fullScreenChange,!1),document.removeEventListener(R+"fullscreenerror",w.fullScreenError,!1)}),document.removeEventListener("MSFullscreenChange",w.fullScreenChange,!1),document.removeEventListener("MSFullscreenError",w.fullScreenError,!1)},destroy:function(){this.removeAllListeners(),this.stopListeners(),this.game=null,this.canvas=null,this.canvasBounds=null,this.parent=null,this.fullscreenTarget=null,this.parentSize.destroy(),this.gameSize.destroy(),this.baseSize.destroy(),this.displaySize.destroy()},isFullscreen:{get:function(){return this.fullscreen.active}},width:{get:function(){return this.gameSize.width}},height:{get:function(){return this.gameSize.height}},isPortrait:{get:function(){return this.orientation===o.ORIENTATION.PORTRAIT}},isLandscape:{get:function(){return this.orientation===o.ORIENTATION.LANDSCAPE}},isGamePortrait:{get:function(){return this.height>this.width}},isGameLandscape:{get:function(){return this.width>this.height}}});n.exports=P},64743:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={NO_CENTER:0,CENTER_BOTH:1,CENTER_HORIZONTALLY:2,CENTER_VERTICALLY:3}},39218:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={LANDSCAPE:"landscape-primary",LANDSCAPE_SECONDARY:"landscape-secondary",PORTRAIT:"portrait-primary",PORTRAIT_SECONDARY:"portrait-secondary"}},81050:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={NONE:0,WIDTH_CONTROLS_HEIGHT:1,HEIGHT_CONTROLS_WIDTH:2,FIT:3,ENVELOP:4,RESIZE:5,EXPAND:6}},80805:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={NO_ZOOM:1,ZOOM_2X:2,ZOOM_4X:4,MAX_ZOOM:-1}},13560:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={CENTER:r(64743),ORIENTATION:r(39218),SCALE_MODE:r(81050),ZOOM:r(80805)};n.exports=o},56139:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="enterfullscreen"},2336:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="fullscreenfailed"},47412:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="fullscreenunsupported"},51452:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="leavefullscreen"},20666:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="orientationchange"},47945:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="resize"},97480:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ENTER_FULLSCREEN:r(56139),FULLSCREEN_FAILED:r(2336),FULLSCREEN_UNSUPPORTED:r(47412),LEAVE_FULLSCREEN:r(51452),ORIENTATION_CHANGE:r(20666),RESIZE:r(47945)}},93364:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(79291),x=r(13560),d={Center:r(64743),Events:r(97480),Orientation:r(39218),ScaleManager:r(76531),ScaleModes:r(81050),Zoom:r(80805)};d=o(!1,d,x.CENTER),d=o(!1,d,x.ORIENTATION),d=o(!1,d,x.SCALE_MODE),d=o(!1,d,x.ZOOM),n.exports=d},27397:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(95540),x=r(35355),d=function(h){var l=h.game.config.defaultPhysicsSystem,a=o(h.settings,"physics",!1);if(!(!l&&!a)){var f=[];if(l&&f.push(x(l+"Physics")),a)for(var c in a)c=x(c.concat("Physics")),f.indexOf(c)===-1&&f.push(c);return f}};n.exports=d},52106:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(95540),x=function(d){var h=d.plugins.getDefaultScenePlugins(),l=o(d.settings,"plugins",!1);return Array.isArray(l)?l:h||[]};n.exports=x},87033:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={game:"game",renderer:"renderer",anims:"anims",cache:"cache",plugins:"plugins",registry:"registry",scale:"scale",sound:"sound",textures:"textures",events:"events",cameras:"cameras",add:"add",make:"make",scenePlugin:"scene",displayList:"children",lights:"lights",data:"data",input:"input",load:"load",time:"time",tweens:"tweens",arcadePhysics:"physics",impactPhysics:"impact",matterPhysics:"matter"};n.exports=T},97482:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(2368),d=new o({initialize:function(l){this.sys=new x(this,l),this.game,this.anims,this.cache,this.registry,this.sound,this.textures,this.events,this.cameras,this.add,this.make,this.scene,this.children,this.lights,this.data,this.input,this.load,this.time,this.tweens,this.physics,this.matter,this.scale,this.plugins,this.renderer},update:function(){}});n.exports=d},60903:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(89993),d=r(44594),h=r(8443),l=r(35154),a=r(54899),f=r(29747),c=r(97482),u=r(2368),v=new o({initialize:function(m,y){if(this.game=m,this.keys={},this.scenes=[],this._pending=[],this._start=[],this._queue=[],this._data={},this.isProcessing=!1,this.isBooted=!1,this.customViewports=0,this.systemScene,y){Array.isArray(y)||(y=[y]);for(var C=0;C<y.length;C++)this._pending.push({key:"default",scene:y[C],autoStart:C===0,data:{}})}m.events.once(h.READY,this.bootQueue,this)},bootQueue:function(){if(!this.isBooted){this.systemScene=this.createSceneFromInstance("__SYSTEM",new c),this.game.events.emit(h.SYSTEM_READY,this.systemScene,this);var g,m,y,C;for(g=0;g<this._pending.length;g++){m=this._pending[g],y=m.key,C=m.scene;var P;C instanceof c?P=this.createSceneFromInstance(y,C):typeof C=="object"?P=this.createSceneFromObject(y,C):typeof C=="function"&&(P=this.createSceneFromFunction(y,C)),y=P.sys.settings.key,this.keys[y]=P,this.scenes.push(P),this._data[y]&&(P.sys.settings.data=this._data[y].data,this._data[y].autoStart&&(m.autoStart=!0)),(m.autoStart||P.sys.settings.active)&&this._start.push(y)}for(this._pending.length=0,this._data={},this.isBooted=!0,g=0;g<this._start.length;g++)m=this._start[g],this.start(m);this._start.length=0}},processQueue:function(){var g=this._pending.length,m=this._queue.length;if(!(g===0&&m===0)){var y,C;if(g){for(y=0;y<g;y++)C=this._pending[y],this.add(C.key,C.scene,C.autoStart,C.data);for(y=0;y<this._start.length;y++)C=this._start[y],this.start(C);this._start.length=0,this._pending.length=0}for(y=0;y<this._queue.length;y++)C=this._queue[y],this[C.op](C.keyA,C.keyB,C.data);this._queue.length=0}},add:function(g,m,y,C){if(y===void 0&&(y=!1),C===void 0&&(C={}),this.isProcessing||!this.isBooted)return this._pending.push({key:g,scene:m,autoStart:y,data:C}),this.isBooted||(this._data[g]={data:C}),null;g=this.getKey(g,m);var P;return m instanceof c?P=this.createSceneFromInstance(g,m):typeof m=="object"?(m.key=g,P=this.createSceneFromObject(g,m)):typeof m=="function"&&(P=this.createSceneFromFunction(g,m)),P.sys.settings.data=C,g=P.sys.settings.key,this.keys[g]=P,this.scenes.push(P),(y||P.sys.settings.active)&&(this._pending.length?this._start.push(g):this.start(g)),P},remove:function(g){if(this.isProcessing)return this.queueOp("remove",g);var m=this.getScene(g);if(!m||m.sys.isTransitioning())return this;var y=this.scenes.indexOf(m),C=m.sys.settings.key;return y>-1&&(delete this.keys[C],this.scenes.splice(y,1),this._start.indexOf(C)>-1&&(y=this._start.indexOf(C),this._start.splice(y,1)),m.sys.destroy()),this},bootScene:function(g){var m=g.sys,y=m.settings;m.sceneUpdate=f,g.init&&(g.init.call(g,y.data),y.status=x.INIT,y.isTransition&&m.events.emit(d.TRANSITION_INIT,y.transitionFrom,y.transitionDuration));var C;m.load&&(C=m.load,C.reset()),C&&g.preload?(g.preload.call(g),y.status=x.LOADING,C.once(a.COMPLETE,this.loadComplete,this),C.start()):this.create(g)},loadComplete:function(g){this.create(g.scene)},payloadComplete:function(g){this.bootScene(g.scene)},update:function(g,m){this.processQueue(),this.isProcessing=!0;for(var y=this.scenes.length-1;y>=0;y--){var C=this.scenes[y].sys;C.settings.status>x.START&&C.settings.status<=x.RUNNING&&C.step(g,m),C.scenePlugin&&C.scenePlugin._target&&C.scenePlugin.step(g,m)}},render:function(g){for(var m=0;m<this.scenes.length;m++){var y=this.scenes[m].sys;y.settings.visible&&y.settings.status>=x.LOADING&&y.settings.status<x.SLEEPING&&y.render(g)}this.isProcessing=!1},create:function(g){var m=g.sys,y=m.settings;g.create&&(y.status=x.CREATING,g.create.call(g,y.data),y.status===x.DESTROYED)||(y.isTransition&&m.events.emit(d.TRANSITION_START,y.transitionFrom,y.transitionDuration),g.update&&(m.sceneUpdate=g.update),y.status=x.RUNNING,m.events.emit(d.CREATE,g))},createSceneFromFunction:function(g,m){var y=new m;if(y instanceof c){var C=y.sys.settings.key;if(C!==""&&(g=C),this.keys.hasOwnProperty(g))throw new Error("Cannot add Scene with duplicate key: "+g);return this.createSceneFromInstance(g,y)}else return y.sys=new u(y),y.sys.settings.key=g,y.sys.init(this.game),y},createSceneFromInstance:function(g,m){var y=m.sys.settings.key;return y===""&&(m.sys.settings.key=g),m.sys.init(this.game),m},createSceneFromObject:function(g,m){var y=new c(m),C=y.sys.settings.key;C!==""?g=C:y.sys.settings.key=g,y.sys.init(this.game);for(var P=["init","preload","create","update","render"],w=0;w<P.length;w++){var M=l(m,P[w],null);M&&(y[P[w]]=M)}if(m.hasOwnProperty("extend")){for(var R in m.extend)if(m.extend.hasOwnProperty(R)){var A=m.extend[R];R==="data"&&y.hasOwnProperty("data")&&typeof A=="object"?y.data.merge(A):R!=="sys"&&(y[R]=A)}}return y},getKey:function(g,m){if(g||(g="default"),typeof m=="function")return g;if(m instanceof c?g=m.sys.settings.key:typeof m=="object"&&m.hasOwnProperty("key")&&(g=m.key),this.keys.hasOwnProperty(g))throw new Error("Cannot add Scene with duplicate key: "+g);return g},getScenes:function(g,m){g===void 0&&(g=!0),m===void 0&&(m=!1);for(var y=[],C=this.scenes,P=0;P<C.length;P++){var w=C[P];w&&(!g||g&&w.sys.isActive())&&y.push(w)}return m?y.reverse():y},getScene:function(g){if(typeof g=="string"){if(this.keys[g])return this.keys[g]}else for(var m=0;m<this.scenes.length;m++)if(g===this.scenes[m])return g;return null},isActive:function(g){var m=this.getScene(g);return m?m.sys.isActive():null},isPaused:function(g){var m=this.getScene(g);return m?m.sys.isPaused():null},isVisible:function(g){var m=this.getScene(g);return m?m.sys.isVisible():null},isSleeping:function(g){var m=this.getScene(g);return m?m.sys.isSleeping():null},pause:function(g,m){var y=this.getScene(g);return y&&y.sys.pause(m),this},resume:function(g,m){var y=this.getScene(g);return y&&y.sys.resume(m),this},sleep:function(g,m){var y=this.getScene(g);return y&&!y.sys.isTransitioning()&&y.sys.sleep(m),this},wake:function(g,m){var y=this.getScene(g);return y&&y.sys.wake(m),this},run:function(g,m){var y=this.getScene(g);if(!y){for(var C=0;C<this._pending.length;C++)if(this._pending[C].key===g){this.queueOp("start",g,m);break}return this}y.sys.isSleeping()?y.sys.wake(m):y.sys.isPaused()?y.sys.resume(m):this.start(g,m)},start:function(g,m){if(!this.isBooted)return this._data[g]={autoStart:!0,data:m},this;var y=this.getScene(g);if(!y)return console.warn("Scene key not found: "+g),this;var C=y.sys,P=C.settings.status;if(P>=x.START&&P<=x.CREATING)return this;if(P>=x.RUNNING&&P<=x.SLEEPING)C.shutdown(),C.sceneUpdate=f,C.start(m);else{C.sceneUpdate=f,C.start(m);var w;if(C.load&&(w=C.load),w&&C.settings.hasOwnProperty("pack")&&(w.reset(),w.addPack({payload:C.settings.pack})))return C.settings.status=x.LOADING,w.once(a.COMPLETE,this.payloadComplete,this),w.start(),this}return this.bootScene(y),this},stop:function(g,m){var y=this.getScene(g);if(y&&!y.sys.isTransitioning()&&y.sys.settings.status!==x.SHUTDOWN){var C=y.sys.load;C&&(C.off(a.COMPLETE,this.loadComplete,this),C.off(a.COMPLETE,this.payloadComplete,this)),y.sys.shutdown(m)}return this},switch:function(g,m,y){var C=this.getScene(g),P=this.getScene(m);return C&&P&&C!==P&&(this.sleep(g),this.isSleeping(m)?this.wake(m,y):this.start(m,y)),this},getAt:function(g){return this.scenes[g]},getIndex:function(g){var m=this.getScene(g);return this.scenes.indexOf(m)},bringToTop:function(g){if(this.isProcessing)return this.queueOp("bringToTop",g);var m=this.getIndex(g),y=this.scenes;if(m!==-1&&m<y.length){var C=this.getScene(g);y.splice(m,1),y.push(C)}return this},sendToBack:function(g){if(this.isProcessing)return this.queueOp("sendToBack",g);var m=this.getIndex(g);if(m!==-1&&m>0){var y=this.getScene(g);this.scenes.splice(m,1),this.scenes.unshift(y)}return this},moveDown:function(g){if(this.isProcessing)return this.queueOp("moveDown",g);var m=this.getIndex(g);if(m>0){var y=m-1,C=this.getScene(g),P=this.getAt(y);this.scenes[m]=P,this.scenes[y]=C}return this},moveUp:function(g){if(this.isProcessing)return this.queueOp("moveUp",g);var m=this.getIndex(g);if(m<this.scenes.length-1){var y=m+1,C=this.getScene(g),P=this.getAt(y);this.scenes[m]=P,this.scenes[y]=C}return this},moveAbove:function(g,m){if(g===m)return this;if(this.isProcessing)return this.queueOp("moveAbove",g,m);var y=this.getIndex(g),C=this.getIndex(m);if(y!==-1&&C!==-1&&C<y){var P=this.getAt(C);this.scenes.splice(C,1),this.scenes.splice(y+(C>y),0,P)}return this},moveBelow:function(g,m){if(g===m)return this;if(this.isProcessing)return this.queueOp("moveBelow",g,m);var y=this.getIndex(g),C=this.getIndex(m);if(y!==-1&&C!==-1&&C>y){var P=this.getAt(C);this.scenes.splice(C,1),y===0?this.scenes.unshift(P):this.scenes.splice(y-(C<y),0,P)}return this},queueOp:function(g,m,y,C){return this._queue.push({op:g,keyA:m,keyB:y,data:C}),this},swapPosition:function(g,m){if(g===m)return this;if(this.isProcessing)return this.queueOp("swapPosition",g,m);var y=this.getIndex(g),C=this.getIndex(m);if(y!==C&&y!==-1&&C!==-1){var P=this.getAt(y);this.scenes[y]=this.scenes[C],this.scenes[C]=P}return this},dump:function(){for(var g=[],m=["pending","init","start","loading","creating","running","paused","sleeping","shutdown","destroyed"],y=0;y<this.scenes.length;y++){var C=this.scenes[y].sys,P=C.settings.visible&&(C.settings.status===x.RUNNING||C.settings.status===x.PAUSED)?"[*] ":"[-] ";P+=C.settings.key+" ("+m[C.settings.status]+")",g.push(P)}console.log(g.join(`
`))},destroy:function(){for(var g=0;g<this.scenes.length;g++){var m=this.scenes[g].sys;m.destroy()}this.systemScene.sys.destroy(),this.update=f,this.scenes=[],this._pending=[],this._start=[],this._queue=[],this.game=null,this.systemScene=null}});n.exports=v},52209:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(45319),x=r(83419),d=r(44594),h=r(95540),l=r(37277),a=new x({initialize:function(c){this.scene=c,this.systems=c.sys,this.settings=c.sys.settings,this.key=c.sys.settings.key,this.manager=c.sys.game.scene,this.transitionProgress=0,this._elapsed=0,this._target=null,this._duration=0,this._onUpdate,this._onUpdateScope,this._willSleep=!1,this._willRemove=!1,c.sys.events.once(d.BOOT,this.boot,this),c.sys.events.on(d.START,this.pluginStart,this)},boot:function(){this.systems.events.once(d.DESTROY,this.destroy,this)},pluginStart:function(){this._target=null,this.systems.events.once(d.SHUTDOWN,this.shutdown,this)},start:function(f,c){return f===void 0&&(f=this.key),this.manager.queueOp("stop",this.key),this.manager.queueOp("start",f,c),this},restart:function(f){var c=this.key;return this.manager.queueOp("stop",c),this.manager.queueOp("start",c,f),this},transition:function(f){f===void 0&&(f={});var c=h(f,"target",!1),u=this.manager.getScene(c);if(!c||!this.checkValidTransition(u))return!1;var v=h(f,"duration",1e3);this._elapsed=0,this._target=u,this._duration=v,this._willSleep=h(f,"sleep",!1),this._willRemove=h(f,"remove",!1);var g=h(f,"onUpdate",null);g&&(this._onUpdate=g,this._onUpdateScope=h(f,"onUpdateScope",this.scene));var m=h(f,"allowInput",!1);this.settings.transitionAllowInput=m;var y=u.sys.settings;y.isTransition=!0,y.transitionFrom=this.scene,y.transitionDuration=v,y.transitionAllowInput=m,h(f,"moveAbove",!1)?this.manager.moveAbove(this.key,c):h(f,"moveBelow",!1)&&this.manager.moveBelow(this.key,c),u.sys.isSleeping()?u.sys.wake(h(f,"data")):this.manager.start(c,h(f,"data"));var C=h(f,"onStart",null),P=h(f,"onStartScope",this.scene);return C&&C.call(P,this.scene,u,v),this.systems.events.emit(d.TRANSITION_OUT,u,v),!0},checkValidTransition:function(f){return!(!f||f.sys.isActive()||f.sys.isTransitioning()||f===this.scene||this.systems.isTransitioning())},step:function(f,c){this._elapsed+=c,this.transitionProgress=o(this._elapsed/this._duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.transitionProgress),this._elapsed>=this._duration&&this.transitionComplete()},transitionComplete:function(){var f=this._target.sys,c=this._target.sys.settings;f.events.emit(d.TRANSITION_COMPLETE,this.scene),c.isTransition=!1,c.transitionFrom=null,this._duration=0,this._target=null,this._onUpdate=null,this._onUpdateScope=null,this._willRemove?this.manager.remove(this.key):this._willSleep?this.systems.sleep():this.manager.stop(this.key)},add:function(f,c,u,v){return this.manager.add(f,c,u,v)},launch:function(f,c){return f&&f!==this.key&&this.manager.queueOp("start",f,c),this},run:function(f,c){return f&&f!==this.key&&this.manager.queueOp("run",f,c),this},pause:function(f,c){return f===void 0&&(f=this.key),this.manager.queueOp("pause",f,c),this},resume:function(f,c){return f===void 0&&(f=this.key),this.manager.queueOp("resume",f,c),this},sleep:function(f,c){return f===void 0&&(f=this.key),this.manager.queueOp("sleep",f,c),this},wake:function(f,c){return f===void 0&&(f=this.key),this.manager.queueOp("wake",f,c),this},switch:function(f,c){return f!==this.key&&this.manager.queueOp("switch",this.key,f,c),this},stop:function(f,c){return f===void 0&&(f=this.key),this.manager.queueOp("stop",f,c),this},setActive:function(f,c,u){c===void 0&&(c=this.key);var v=this.manager.getScene(c);return v&&v.sys.setActive(f,u),this},setVisible:function(f,c){c===void 0&&(c=this.key);var u=this.manager.getScene(c);return u&&u.sys.setVisible(f),this},isSleeping:function(f){return f===void 0&&(f=this.key),this.manager.isSleeping(f)},isActive:function(f){return f===void 0&&(f=this.key),this.manager.isActive(f)},isPaused:function(f){return f===void 0&&(f=this.key),this.manager.isPaused(f)},isVisible:function(f){return f===void 0&&(f=this.key),this.manager.isVisible(f)},swapPosition:function(f,c){return c===void 0&&(c=this.key),f!==c&&this.manager.swapPosition(f,c),this},moveAbove:function(f,c){return c===void 0&&(c=this.key),f!==c&&this.manager.moveAbove(f,c),this},moveBelow:function(f,c){return c===void 0&&(c=this.key),f!==c&&this.manager.moveBelow(f,c),this},remove:function(f){return f===void 0&&(f=this.key),this.manager.remove(f),this},moveUp:function(f){return f===void 0&&(f=this.key),this.manager.moveUp(f),this},moveDown:function(f){return f===void 0&&(f=this.key),this.manager.moveDown(f),this},bringToTop:function(f){return f===void 0&&(f=this.key),this.manager.bringToTop(f),this},sendToBack:function(f){return f===void 0&&(f=this.key),this.manager.sendToBack(f),this},get:function(f){return this.manager.getScene(f)},getStatus:function(f){var c=this.manager.getScene(f);if(c)return c.sys.getStatus()},getIndex:function(f){return f===void 0&&(f=this.key),this.manager.getIndex(f)},shutdown:function(){var f=this.systems.events;f.off(d.SHUTDOWN,this.shutdown,this),f.off(d.TRANSITION_OUT)},destroy:function(){this.shutdown(),this.scene.sys.events.off(d.START,this.start,this),this.scene=null,this.systems=null,this.settings=null,this.manager=null}});l.register("ScenePlugin",a,"scenePlugin"),n.exports=a},55681:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(89993),x=r(35154),d=r(46975),h=r(87033),l={create:function(a){return typeof a=="string"?a={key:a}:a===void 0&&(a={}),{status:o.PENDING,key:x(a,"key",""),active:x(a,"active",!1),visible:x(a,"visible",!0),isBooted:!1,isTransition:!1,transitionFrom:null,transitionDuration:0,transitionAllowInput:!0,data:{},pack:x(a,"pack",!1),cameras:x(a,"cameras",null),map:x(a,"map",d(h,x(a,"mapAdd",{}))),physics:x(a,"physics",{}),loader:x(a,"loader",{}),plugins:x(a,"plugins",!1),input:x(a,"input",{})}}};n.exports=l},2368:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(89993),d=r(42363),h=r(44594),l=r(27397),a=r(52106),f=r(29747),c=r(55681),u=new o({initialize:function(g,m){this.scene=g,this.game,this.renderer,this.config=m,this.settings=c.create(m),this.canvas,this.context,this.anims,this.cache,this.plugins,this.registry,this.scale,this.sound,this.textures,this.add,this.cameras,this.displayList,this.events,this.make,this.scenePlugin,this.updateList,this.sceneUpdate=f},init:function(v){this.settings.status=x.INIT,this.sceneUpdate=f,this.game=v,this.renderer=v.renderer,this.canvas=v.canvas,this.context=v.context;var g=v.plugins;this.plugins=g,g.addToScene(this,d.Global,[d.CoreScene,a(this),l(this)]),this.events.emit(h.BOOT,this),this.settings.isBooted=!0},step:function(v,g){var m=this.events;m.emit(h.PRE_UPDATE,v,g),m.emit(h.UPDATE,v,g),this.sceneUpdate.call(this.scene,v,g),m.emit(h.POST_UPDATE,v,g)},render:function(v){var g=this.displayList;g.depthSort(),this.events.emit(h.PRE_RENDER,v),this.cameras.render(v,g),this.events.emit(h.RENDER,v)},queueDepthSort:function(){this.displayList.queueDepthSort()},depthSort:function(){this.displayList.depthSort()},pause:function(v){var g=this.settings,m=this.getStatus();return m!==x.CREATING&&m!==x.RUNNING?console.warn("Cannot pause non-running Scene",g.key):this.settings.active&&(g.status=x.PAUSED,g.active=!1,this.events.emit(h.PAUSE,this,v)),this},resume:function(v){var g=this.events,m=this.settings;return this.settings.active||(m.status=x.RUNNING,m.active=!0,g.emit(h.RESUME,this,v)),this},sleep:function(v){var g=this.settings,m=this.getStatus();return m!==x.CREATING&&m!==x.RUNNING?console.warn("Cannot sleep non-running Scene",g.key):(g.status=x.SLEEPING,g.active=!1,g.visible=!1,this.events.emit(h.SLEEP,this,v)),this},wake:function(v){var g=this.events,m=this.settings;return m.status=x.RUNNING,m.active=!0,m.visible=!0,g.emit(h.WAKE,this,v),m.isTransition&&g.emit(h.TRANSITION_WAKE,m.transitionFrom,m.transitionDuration),this},getData:function(){return this.settings.data},getStatus:function(){return this.settings.status},canInput:function(){var v=this.settings.status;return v>x.PENDING&&v<=x.RUNNING},isSleeping:function(){return this.settings.status===x.SLEEPING},isActive:function(){return this.settings.status===x.RUNNING},isPaused:function(){return this.settings.status===x.PAUSED},isTransitioning:function(){return this.settings.isTransition||this.scenePlugin._target!==null},isTransitionOut:function(){return this.scenePlugin._target!==null&&this.scenePlugin._duration>0},isTransitionIn:function(){return this.settings.isTransition},isVisible:function(){return this.settings.visible},setVisible:function(v){return this.settings.visible=v,this},setActive:function(v,g){return v?this.resume(g):this.pause(g)},start:function(v){var g=this.events,m=this.settings;v&&(m.data=v),m.status=x.START,m.active=!0,m.visible=!0,g.emit(h.START,this),g.emit(h.READY,this,v)},shutdown:function(v){var g=this.events,m=this.settings;g.off(h.TRANSITION_INIT),g.off(h.TRANSITION_START),g.off(h.TRANSITION_COMPLETE),g.off(h.TRANSITION_OUT),m.status=x.SHUTDOWN,m.active=!1,m.visible=!1,g.emit(h.SHUTDOWN,this,v)},destroy:function(){var v=this.events,g=this.settings;g.status=x.DESTROYED,g.active=!1,g.visible=!1,v.emit(h.DESTROY,this),v.removeAllListeners();for(var m=["scene","game","anims","cache","plugins","registry","sound","textures","add","camera","displayList","events","make","scenePlugin","updateList"],y=0;y<m.length;y++)this[m[y]]=null}});n.exports=u},89993:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={PENDING:0,INIT:1,START:2,LOADING:3,CREATING:4,RUNNING:5,PAUSED:6,SLEEPING:7,SHUTDOWN:8,DESTROYED:9};n.exports=T},69830:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="addedtoscene"},7919:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="boot"},46763:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="create"},11763:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="destroy"},71555:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pause"},36735:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="postupdate"},3809:n=>{/**
 * @author       samme
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="prerender"},90716:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="preupdate"},58262:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="ready"},91633:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="removedfromscene"},10319:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="render"},87132:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="resume"},81961:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="shutdown"},90194:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="sleep"},6265:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="start"},33178:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="transitioncomplete"},43063:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="transitioninit"},11259:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="transitionout"},61611:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="transitionstart"},45209:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="transitionwake"},22966:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="update"},21747:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="wake"},44594:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ADDED_TO_SCENE:r(69830),BOOT:r(7919),CREATE:r(46763),DESTROY:r(11763),PAUSE:r(71555),POST_UPDATE:r(36735),PRE_RENDER:r(3809),PRE_UPDATE:r(90716),READY:r(58262),REMOVED_FROM_SCENE:r(91633),RENDER:r(10319),RESUME:r(87132),SHUTDOWN:r(81961),SLEEP:r(90194),START:r(6265),TRANSITION_COMPLETE:r(33178),TRANSITION_INIT:r(43063),TRANSITION_OUT:r(11259),TRANSITION_START:r(61611),TRANSITION_WAKE:r(45209),UPDATE:r(22966),WAKE:r(21747)}},62194:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(89993),x=r(79291),d={Events:r(44594),GetPhysicsPlugins:r(27397),GetScenePlugins:r(52106),SceneManager:r(60903),ScenePlugin:r(52209),Settings:r(55681),Systems:r(2368)};d=x(!1,d,o),n.exports=d},30341:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(50792),d=r(14463),h=r(79291),l=r(29747),a=new o({Extends:x,initialize:function(c,u,v){x.call(this),this.manager=c,this.key=u,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=this.duration||0,this.totalDuration=this.totalDuration||0,this.config={mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},this.currentConfig=this.config,this.config=h(this.config,v),this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:function(f){return!f||!f.name||typeof f.name!="string"?!1:this.markers[f.name]?(console.error("addMarker "+f.name+" already exists in Sound"),!1):(f=h(!0,{name:"",start:0,duration:this.totalDuration-(f.start||0),config:{mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0}},f),this.markers[f.name]=f,!0)},updateMarker:function(f){return!f||!f.name||typeof f.name!="string"?!1:this.markers[f.name]?(this.markers[f.name]=h(!0,this.markers[f.name],f),!0):(console.warn("Audio Marker: "+f.name+" missing in Sound: "+this.key),!1)},removeMarker:function(f){var c=this.markers[f];return c?(this.markers[f]=null,c):null},play:function(f,c){if(f===void 0&&(f=""),typeof f=="object"&&(c=f,f=""),typeof f!="string")return!1;if(!f)this.currentMarker=null,this.currentConfig=this.config,this.duration=this.totalDuration;else{if(!this.markers[f])return console.warn("Marker: "+f+" missing in Sound: "+this.key),!1;this.currentMarker=this.markers[f],this.currentConfig=this.currentMarker.config,this.duration=this.currentMarker.duration}return this.resetConfig(),this.currentConfig=h(this.currentConfig,c),this.isPlaying=!0,this.isPaused=!1,!0},pause:function(){return this.isPaused||!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!0,!0)},resume:function(){return!this.isPaused||this.isPlaying?!1:(this.isPlaying=!0,this.isPaused=!1,!0)},stop:function(){return!this.isPaused&&!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!1,this.resetConfig(),!0)},applyConfig:function(){this.mute=this.currentConfig.mute,this.volume=this.currentConfig.volume,this.rate=this.currentConfig.rate,this.detune=this.currentConfig.detune,this.loop=this.currentConfig.loop,this.pan=this.currentConfig.pan},resetConfig:function(){this.currentConfig.seek=0,this.currentConfig.delay=0},update:l,calculateRate:function(){var f=1.0005777895065548,c=this.currentConfig.detune+this.manager.detune,u=Math.pow(f,c);this.totalRate=this.currentConfig.rate*this.manager.rate*u},destroy:function(){this.pendingRemove||(this.stop(),this.emit(d.DESTROY,this),this.removeAllListeners(),this.pendingRemove=!0,this.manager=null,this.config=null,this.currentConfig=null,this.markers=null,this.currentMarker=null)}});n.exports=a},85034:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(41786),d=r(50792),h=r(14463),l=r(8443),a=r(46710),f=r(58731),c=r(29747),u=r(26099),v=new o({Extends:d,initialize:function(m){d.call(this),this.game=m,this.jsonCache=m.cache.json,this.sounds=[],this.mute=!1,this.volume=1,this.pauseOnBlur=!0,this._rate=1,this._detune=0,this.locked=this.locked||!1,this.unlocked=!1,this.gameLostFocus=!1,this.listenerPosition=new u;var y=m.events;y.on(l.BLUR,this.onGameBlur,this),y.on(l.FOCUS,this.onGameFocus,this),y.on(l.PRE_STEP,this.update,this),y.once(l.DESTROY,this.destroy,this)},add:c,addAudioSprite:function(g,m){m===void 0&&(m={});var y=this.add(g,m);y.spritemap=this.jsonCache.get(g).spritemap;for(var C in y.spritemap)if(y.spritemap.hasOwnProperty(C)){var P=x(m),w=y.spritemap[C];P.loop=w.hasOwnProperty("loop")?w.loop:!1,y.addMarker({name:C,start:w.start,duration:w.end-w.start,config:P})}return y},get:function(g){return f(this.sounds,"key",g)},getAll:function(g){return g?a(this.sounds,"key",g):a(this.sounds)},getAllPlaying:function(){return a(this.sounds,"isPlaying",!0)},play:function(g,m){var y=this.add(g);return y.once(h.COMPLETE,y.destroy,y),m?m.name?(y.addMarker(m),y.play(m.name)):y.play(m):y.play()},playAudioSprite:function(g,m,y){var C=this.addAudioSprite(g);return C.once(h.COMPLETE,C.destroy,C),C.play(m,y)},remove:function(g){var m=this.sounds.indexOf(g);return m!==-1?(g.destroy(),this.sounds.splice(m,1),!0):!1},removeAll:function(){this.sounds.forEach(function(g){g.destroy()}),this.sounds.length=0},removeByKey:function(g){for(var m=0,y=this.sounds.length-1;y>=0;y--){var C=this.sounds[y];C.key===g&&(C.destroy(),this.sounds.splice(y,1),m++)}return m},pauseAll:function(){this.forEachActiveSound(function(g){g.pause()}),this.emit(h.PAUSE_ALL,this)},resumeAll:function(){this.forEachActiveSound(function(g){g.resume()}),this.emit(h.RESUME_ALL,this)},setListenerPosition:c,stopAll:function(){this.forEachActiveSound(function(g){g.stop()}),this.emit(h.STOP_ALL,this)},stopByKey:function(g){var m=0;return this.getAll(g).forEach(function(y){y.stop()&&m++}),m},isPlaying:function(g){var m=this.sounds,y=m.length-1,C;if(g===void 0){for(;y>=0;y--)if(C=this.sounds[y],C.isPlaying)return!0}else for(;y>=0;y--)if(C=this.sounds[y],C.key===g&&C.isPlaying)return!0;return!1},unlock:c,onBlur:c,onFocus:c,onGameBlur:function(){this.gameLostFocus=!0,this.pauseOnBlur&&this.onBlur()},onGameFocus:function(){this.gameLostFocus=!1,this.pauseOnBlur&&this.onFocus()},update:function(g,m){this.unlocked&&(this.unlocked=!1,this.locked=!1,this.emit(h.UNLOCKED,this));for(var y=this.sounds.length-1;y>=0;y--)this.sounds[y].pendingRemove&&this.sounds.splice(y,1);this.sounds.forEach(function(C){C.update(g,m)})},destroy:function(){this.game.events.off(l.BLUR,this.onGameBlur,this),this.game.events.off(l.FOCUS,this.onGameFocus,this),this.game.events.off(l.PRE_STEP,this.update,this),this.removeAllListeners(),this.removeAll(),this.sounds.length=0,this.sounds=null,this.listenerPosition=null,this.game=null},forEachActiveSound:function(g,m){var y=this;this.sounds.forEach(function(C,P){C&&!C.pendingRemove&&g.call(m||y,C,P,y.sounds)})},setRate:function(g){return this.rate=g,this},rate:{get:function(){return this._rate},set:function(g){this._rate=g,this.forEachActiveSound(function(m){m.calculateRate()}),this.emit(h.GLOBAL_RATE,this,g)}},setDetune:function(g){return this.detune=g,this},detune:{get:function(){return this._detune},set:function(g){this._detune=g,this.forEachActiveSound(function(m){m.calculateRate()}),this.emit(h.GLOBAL_DETUNE,this,g)}}});n.exports=v},14747:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(33684),x=r(25960),d=r(57490),h={create:function(l){var a=l.config.audio,f=l.device.audio;return a.noAudio||!f.webAudio&&!f.audioData?new x(l):f.webAudio&&!a.disableWebAudio?new d(l):new o(l)}};n.exports=h},19723:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="complete"},98882:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="decodedall"},57506:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="decoded"},73146:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="destroy"},11305:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="detune"},40577:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="detune"},30333:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="mute"},20394:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="rate"},21802:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="volume"},1299:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="looped"},99190:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="loop"},97125:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="mute"},89259:n=>{/**
 * @author       pi-kei
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pan"},79986:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pauseall"},17586:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pause"},19618:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="play"},42306:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="rate"},10387:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="resumeall"},48959:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="resume"},9960:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="seek"},19180:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="stopall"},98328:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="stop"},50401:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="unlocked"},52498:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="volume"},14463:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={COMPLETE:r(19723),DECODED:r(57506),DECODED_ALL:r(98882),DESTROY:r(73146),DETUNE:r(11305),GLOBAL_DETUNE:r(40577),GLOBAL_MUTE:r(30333),GLOBAL_RATE:r(20394),GLOBAL_VOLUME:r(21802),LOOP:r(99190),LOOPED:r(1299),MUTE:r(97125),PAN:r(89259),PAUSE_ALL:r(79986),PAUSE:r(17586),PLAY:r(19618),RATE:r(42306),RESUME_ALL:r(10387),RESUME:r(48959),SEEK:r(9960),STOP_ALL:r(19180),STOP:r(98328),UNLOCKED:r(50401),VOLUME:r(52498)}},64895:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(30341),x=r(83419),d=r(14463),h=r(45319),l=new x({Extends:o,initialize:function(f,c,u){if(u===void 0&&(u={}),this.tags=f.game.cache.audio.get(c),!this.tags)throw new Error('No cached audio asset with key "'+c);this.audio=null,this.startTime=0,this.previousTime=0,this.duration=this.tags[0].duration,this.totalDuration=this.tags[0].duration,o.call(this,f,c,u)},play:function(a,f){return this.manager.isLocked(this,"play",[a,f])||!o.prototype.play.call(this,a,f)||!this.pickAndPlayAudioTag()?!1:(this.emit(d.PLAY,this),!0)},pause:function(){return this.manager.isLocked(this,"pause")||this.startTime>0||!o.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.stopAndReleaseAudioTag(),this.emit(d.PAUSE,this),!0)},resume:function(){return this.manager.isLocked(this,"resume")||this.startTime>0||!o.prototype.resume.call(this)||!this.pickAndPlayAudioTag()?!1:(this.emit(d.RESUME,this),!0)},stop:function(){return this.manager.isLocked(this,"stop")||!o.prototype.stop.call(this)?!1:(this.stopAndReleaseAudioTag(),this.emit(d.STOP,this),!0)},pickAndPlayAudioTag:function(){if(!this.pickAudioTag())return this.reset(),!1;var a=this.currentConfig.seek,f=this.currentConfig.delay,c=(this.currentMarker?this.currentMarker.start:0)+a;return this.previousTime=c,this.audio.currentTime=c,this.applyConfig(),f===0?(this.startTime=0,this.audio.paused&&this.playCatchPromise()):(this.startTime=window.performance.now()+f*1e3,this.audio.paused||this.audio.pause()),this.resetConfig(),!0},pickAudioTag:function(){if(this.audio)return!0;for(var a=0;a<this.tags.length;a++){var f=this.tags[a];if(f.dataset.used==="false")return f.dataset.used="true",this.audio=f,!0}if(!this.manager.override)return!1;var c=[];this.manager.forEachActiveSound(function(v){v.key===this.key&&v.audio&&c.push(v)},this),c.sort(function(v,g){return v.loop===g.loop?g.seek/g.duration-v.seek/v.duration:v.loop?1:-1});var u=c[0];return this.audio=u.audio,u.reset(),u.audio=null,u.startTime=0,u.previousTime=0,!0},playCatchPromise:function(){var a=this.audio.play();a&&a.catch(function(f){console.warn(f)})},stopAndReleaseAudioTag:function(){this.startTime=0,this.previousTime=0,this.audio&&(this.audio.pause(),this.audio.dataset.used="false",this.audio=null)},reset:function(){o.prototype.stop.call(this)},onBlur:function(){this.isPlaying=!1,this.isPaused=!0,this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.currentConfig.delay=Math.max(0,(this.startTime-window.performance.now())/1e3),this.stopAndReleaseAudioTag()},onFocus:function(){this.isPlaying=!0,this.isPaused=!1,this.pickAndPlayAudioTag()},update:function(a){if(this.isPlaying){if(this.startTime>0){this.startTime<a-this.manager.audioPlayDelay&&(this.audio.currentTime+=Math.max(0,a-this.startTime)/1e3,this.startTime=0,this.previousTime=this.audio.currentTime,this.playCatchPromise());return}var f=this.currentMarker?this.currentMarker.start:0,c=f+this.duration,u=this.audio.currentTime;if(this.currentConfig.loop)u>=c-this.manager.loopEndOffset?(this.audio.currentTime=f+Math.max(0,u-c),u=this.audio.currentTime):u<f&&(this.audio.currentTime+=f,u=this.audio.currentTime),u<this.previousTime&&this.emit(d.LOOPED,this);else if(u>=c){this.reset(),this.stopAndReleaseAudioTag(),this.emit(d.COMPLETE,this);return}this.previousTime=u}},destroy:function(){o.prototype.destroy.call(this),this.tags=null,this.audio&&this.stopAndReleaseAudioTag()},updateMute:function(){this.audio&&(this.audio.muted=this.currentConfig.mute||this.manager.mute)},updateVolume:function(){this.audio&&(this.audio.volume=h(this.currentConfig.volume*this.manager.volume,0,1))},calculateRate:function(){o.prototype.calculateRate.call(this),this.audio&&(this.audio.playbackRate=this.totalRate)},mute:{get:function(){return this.currentConfig.mute},set:function(a){this.currentConfig.mute=a,!this.manager.isLocked(this,"mute",a)&&(this.updateMute(),this.emit(d.MUTE,this,a))}},setMute:function(a){return this.mute=a,this},volume:{get:function(){return this.currentConfig.volume},set:function(a){this.currentConfig.volume=a,!this.manager.isLocked(this,"volume",a)&&(this.updateVolume(),this.emit(d.VOLUME,this,a))}},setVolume:function(a){return this.volume=a,this},rate:{get:function(){return this.currentConfig.rate},set:function(a){this.currentConfig.rate=a,!this.manager.isLocked(this,d.RATE,a)&&(this.calculateRate(),this.emit(d.RATE,this,a))}},setRate:function(a){return this.rate=a,this},detune:{get:function(){return this.currentConfig.detune},set:function(a){this.currentConfig.detune=a,!this.manager.isLocked(this,d.DETUNE,a)&&(this.calculateRate(),this.emit(d.DETUNE,this,a))}},setDetune:function(a){return this.detune=a,this},seek:{get:function(){return this.isPlaying?this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0):this.isPaused?this.currentConfig.seek:0},set:function(a){this.manager.isLocked(this,"seek",a)||this.startTime>0||(this.isPlaying||this.isPaused)&&(a=Math.min(Math.max(0,a),this.duration),this.isPlaying?(this.previousTime=a,this.audio.currentTime=a):this.isPaused&&(this.currentConfig.seek=a),this.emit(d.SEEK,this,a))}},setSeek:function(a){return this.seek=a,this},loop:{get:function(){return this.currentConfig.loop},set:function(a){this.currentConfig.loop=a,!this.manager.isLocked(this,"loop",a)&&(this.audio&&(this.audio.loop=a),this.emit(d.LOOP,this,a))}},setLoop:function(a){return this.loop=a,this},pan:{get:function(){return this.currentConfig.pan},set:function(a){this.currentConfig.pan=a,this.emit(d.PAN,this,a)}},setPan:function(a){return this.pan=a,this}});n.exports=l},33684:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(85034),x=r(83419),d=r(14463),h=r(64895),l=new x({Extends:o,initialize:function(f){this.override=!0,this.audioPlayDelay=.1,this.loopEndOffset=.05,this.onBlurPausedSounds=[],this.locked="ontouchstart"in window,this.lockedActionsQueue=this.locked?[]:null,this._mute=!1,this._volume=1,o.call(this,f)},add:function(a,f){var c=new h(this,a,f);return this.sounds.push(c),c},unlock:function(){this.locked=!1;var a=this;if(this.game.cache.audio.entries.each(function(v,g){for(var m=0;m<g.length;m++)if(g[m].dataset.locked==="true")return a.locked=!0,!1;return!0}),!!this.locked){var f=!1,c=function(){f=!0},u=function(){if(f){f=!1;return}document.body.removeEventListener("touchmove",c),document.body.removeEventListener("touchend",u);var v=[];if(a.game.cache.audio.entries.each(function(m,y){for(var C=0;C<y.length;C++){var P=y[C];P.dataset.locked==="true"&&v.push(P)}return!0}),v.length!==0){var g=v[v.length-1];g.oncanplaythrough=function(){g.oncanplaythrough=null,v.forEach(function(m){m.dataset.locked="false"}),a.unlocked=!0},v.forEach(function(m){m.load()})}};this.once(d.UNLOCKED,function(){for(this.forEachActiveSound(function(g){g.currentMarker===null&&g.duration===0&&(g.duration=g.tags[0].duration),g.totalDuration=g.tags[0].duration});this.lockedActionsQueue.length;){var v=this.lockedActionsQueue.shift();v.sound[v.prop].apply?v.sound[v.prop].apply(v.sound,v.value||[]):v.sound[v.prop]=v.value}},this),document.body.addEventListener("touchmove",c,!1),document.body.addEventListener("touchend",u,!1)}},onBlur:function(){this.forEachActiveSound(function(a){a.isPlaying&&(this.onBlurPausedSounds.push(a),a.onBlur())})},onFocus:function(){this.onBlurPausedSounds.forEach(function(a){a.onFocus()}),this.onBlurPausedSounds.length=0},destroy:function(){o.prototype.destroy.call(this),this.onBlurPausedSounds.length=0,this.onBlurPausedSounds=null},isLocked:function(a,f,c){return a.tags[0].dataset.locked==="true"?(this.lockedActionsQueue.push({sound:a,prop:f,value:c}),!0):!1},setMute:function(a){return this.mute=a,this},mute:{get:function(){return this._mute},set:function(a){this._mute=a,this.forEachActiveSound(function(f){f.updateMute()}),this.emit(d.GLOBAL_MUTE,this,a)}},setVolume:function(a){return this.volume=a,this},volume:{get:function(){return this._volume},set:function(a){this._volume=a,this.forEachActiveSound(function(f){f.updateVolume()}),this.emit(d.GLOBAL_VOLUME,this,a)}}});n.exports=l},23717:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={SoundManagerCreator:r(14747),Events:r(14463),BaseSound:r(30341),BaseSoundManager:r(85034),WebAudioSound:r(71741),WebAudioSoundManager:r(57490),HTML5AudioSound:r(64895),HTML5AudioSoundManager:r(33684),NoAudioSound:r(4603),NoAudioSoundManager:r(25960)}},4603:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(30341),x=r(83419),d=r(50792),h=r(79291),l=r(29747),a=function(){return!1},f=function(){return null},c=function(){return this},u=new x({Extends:d,initialize:function(g,m,y){y===void 0&&(y={}),d.call(this),this.manager=g,this.key=m,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=0,this.totalDuration=0,this.config=h({mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},y),this.currentConfig=this.config,this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.seek=0,this.loop=!1,this.pan=0,this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:a,updateMarker:a,removeMarker:f,play:a,pause:a,resume:a,stop:a,setMute:c,setVolume:c,setRate:c,setDetune:c,setSeek:c,setLoop:c,setPan:c,applyConfig:f,resetConfig:f,update:l,calculateRate:f,destroy:function(){o.prototype.destroy.call(this)}});n.exports=u},25960:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(85034),x=r(83419),d=r(50792),h=r(4603),l=r(29747),a=new x({Extends:d,initialize:function(c){d.call(this),this.game=c,this.sounds=[],this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.pauseOnBlur=!0,this.locked=!1},add:function(f,c){var u=new h(this,f,c);return this.sounds.push(u),u},addAudioSprite:function(f,c){var u=this.add(f,c);return u.spritemap={},u},get:function(f){return o.prototype.get.call(this,f)},getAll:function(f){return o.prototype.getAll.call(this,f)},play:function(f,c){return!1},playAudioSprite:function(f,c,u){return!1},remove:function(f){return o.prototype.remove.call(this,f)},removeAll:function(){return o.prototype.removeAll.call(this)},removeByKey:function(f){return o.prototype.removeByKey.call(this,f)},stopByKey:function(f){return o.prototype.stopByKey.call(this,f)},onBlur:l,onFocus:l,onGameBlur:l,onGameFocus:l,pauseAll:l,resumeAll:l,stopAll:l,update:l,setRate:l,setDetune:l,setMute:l,setVolume:l,unlock:l,forEachActiveSound:function(f,c){o.prototype.forEachActiveSound.call(this,f,c)},destroy:function(){o.prototype.destroy.call(this)}});n.exports=a},71741:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(30341),x=r(83419),d=r(14463),h=r(95540),l=new x({Extends:o,initialize:function(f,c,u){if(u===void 0&&(u={}),this.audioBuffer=f.game.cache.audio.get(c),!this.audioBuffer)throw new Error('Audio key "'+c+'" not found in cache');this.source=null,this.loopSource=null,this.muteNode=f.context.createGain(),this.volumeNode=f.context.createGain(),this.pannerNode=null,this.spatialNode=null,this.spatialSource=null,this.playTime=0,this.startTime=0,this.loopTime=0,this.rateUpdates=[],this.hasEnded=!1,this.hasLooped=!1,this.muteNode.connect(this.volumeNode),f.context.createPanner&&(this.spatialNode=f.context.createPanner(),this.volumeNode.connect(this.spatialNode)),f.context.createStereoPanner?(this.pannerNode=f.context.createStereoPanner(),f.context.createPanner?this.spatialNode.connect(this.pannerNode):this.volumeNode.connect(this.pannerNode),this.pannerNode.connect(f.destination)):f.context.createPanner?this.spatialNode.connect(f.destination):this.volumeNode.connect(f.destination),this.duration=this.audioBuffer.duration,this.totalDuration=this.audioBuffer.duration,o.call(this,f,c,u)},play:function(a,f){return o.prototype.play.call(this,a,f)?(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource(),this.emit(d.PLAY,this),!0):!1},pause:function(){return this.manager.context.currentTime<this.startTime||!o.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.getCurrentTime(),this.stopAndRemoveBufferSource(),this.emit(d.PAUSE,this),!0)},resume:function(){return this.manager.context.currentTime<this.startTime||!o.prototype.resume.call(this)?!1:(this.createAndStartBufferSource(),this.emit(d.RESUME,this),!0)},stop:function(){return o.prototype.stop.call(this)?(this.stopAndRemoveBufferSource(),this.emit(d.STOP,this),!0):!1},createAndStartBufferSource:function(){var a=this.currentConfig.seek,f=this.currentConfig.delay,c=this.manager.context.currentTime+f,u=(this.currentMarker?this.currentMarker.start:0)+a,v=this.duration-a;this.playTime=c-a,this.startTime=c,this.source=this.createBufferSource(),this.applyConfig(),this.source.start(Math.max(0,c),Math.max(0,u),Math.max(0,v)),this.resetConfig()},createAndStartLoopBufferSource:function(){var a=this.getLoopTime(),f=this.currentMarker?this.currentMarker.start:0,c=this.duration;this.loopTime=a,this.loopSource=this.createBufferSource(),this.loopSource.playbackRate.setValueAtTime(this.totalRate,0),this.loopSource.start(Math.max(0,a),Math.max(0,f),Math.max(0,c))},createBufferSource:function(){var a=this,f=this.manager.context.createBufferSource();return f.buffer=this.audioBuffer,f.connect(this.muteNode),f.onended=function(c){var u=c.target;(u===a.source||u===a.loopSource)&&(a.currentConfig.loop?a.hasLooped=!0:a.hasEnded=!0)},f},stopAndRemoveBufferSource:function(){if(this.source){var a=this.source;this.source=null,a.stop(),a.disconnect()}this.playTime=0,this.startTime=0,this.hasEnded=!1,this.stopAndRemoveLoopBufferSource()},stopAndRemoveLoopBufferSource:function(){this.loopSource&&(this.loopSource.stop(),this.loopSource.disconnect(),this.loopSource=null),this.loopTime=0},applyConfig:function(){this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:1});var a=this.currentConfig.source;if(a&&this.manager.context.createPanner){var f=this.spatialNode;f.panningModel=h(a,"panningModel","equalpower"),f.distanceModel=h(a,"distanceModel","inverse"),f.orientationX.value=h(a,"orientationX",0),f.orientationY.value=h(a,"orientationY",0),f.orientationZ.value=h(a,"orientationZ",-1),f.refDistance=h(a,"refDistance",1),f.maxDistance=h(a,"maxDistance",1e4),f.rolloffFactor=h(a,"rolloffFactor",1),f.coneInnerAngle=h(a,"coneInnerAngle",360),f.coneOuterAngle=h(a,"coneOuterAngle",0),f.coneOuterGain=h(a,"coneOuterGain",0),this.spatialSource=h(a,"follow",null),this.spatialSource||(f.positionX.value=h(a,"x",0),f.positionY.value=h(a,"y",0),f.positionZ.value=h(a,"z",0))}o.prototype.applyConfig.call(this)},x:{get:function(){return this.spatialNode?this.spatialNode.positionX:0},set:function(a){this.spatialNode&&(this.spatialNode.positionX.value=a)}},y:{get:function(){return this.spatialNode?this.spatialNode.positionY:0},set:function(a){this.spatialNode&&(this.spatialNode.positionY.value=a)}},update:function(){if(this.isPlaying&&this.spatialSource){var a=h(this.spatialSource,"x",null),f=h(this.spatialSource,"y",null);a&&a!==this._spatialx&&(this._spatialx=this.spatialNode.positionX.value=a),f&&f!==this._spatialy&&(this._spatialy=this.spatialNode.positionY.value=f)}this.hasEnded?(o.prototype.stop.call(this),this.stopAndRemoveBufferSource(),this.emit(d.COMPLETE,this)):this.hasLooped&&(this.hasLooped=!1,this.source=this.loopSource,this.loopSource=null,this.playTime=this.startTime=this.loopTime,this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:this.totalRate}),this.createAndStartLoopBufferSource(),this.emit(d.LOOPED,this))},destroy:function(){this.pendingRemove||(o.prototype.destroy.call(this),this.audioBuffer=null,this.stopAndRemoveBufferSource(),this.muteNode.disconnect(),this.muteNode=null,this.volumeNode.disconnect(),this.volumeNode=null,this.pannerNode&&(this.pannerNode.disconnect(),this.pannerNode=null),this.spatialNode&&(this.spatialNode.disconnect(),this.spatialNode=null,this.spatialSource=null),this.rateUpdates.length=0,this.rateUpdates=null)},calculateRate:function(){o.prototype.calculateRate.call(this);var a=this.manager.context.currentTime;this.source&&typeof this.totalRate=="number"&&this.source.playbackRate.setValueAtTime(this.totalRate,a),this.isPlaying&&(this.rateUpdates.push({time:Math.max(this.startTime,a)-this.playTime,rate:this.totalRate}),this.loopSource&&(this.stopAndRemoveLoopBufferSource(),this.createAndStartLoopBufferSource()))},getCurrentTime:function(){for(var a=0,f=0;f<this.rateUpdates.length;f++){var c=0;f<this.rateUpdates.length-1?c=this.rateUpdates[f+1].time:c=this.manager.context.currentTime-this.playTime,a+=(c-this.rateUpdates[f].time)*this.rateUpdates[f].rate}return a},getLoopTime:function(){for(var a=0,f=0;f<this.rateUpdates.length-1;f++)a+=(this.rateUpdates[f+1].time-this.rateUpdates[f].time)*this.rateUpdates[f].rate;var c=this.rateUpdates[this.rateUpdates.length-1];return this.playTime+c.time+(this.duration-a)/c.rate},rate:{get:function(){return this.currentConfig.rate},set:function(a){this.currentConfig.rate=a,this.calculateRate(),this.emit(d.RATE,this,a)}},setRate:function(a){return this.rate=a,this},detune:{get:function(){return this.currentConfig.detune},set:function(a){this.currentConfig.detune=a,this.calculateRate(),this.emit(d.DETUNE,this,a)}},setDetune:function(a){return this.detune=a,this},mute:{get:function(){return this.muteNode.gain.value===0},set:function(a){this.currentConfig.mute=a,this.muteNode.gain.setValueAtTime(a?0:1,0),this.emit(d.MUTE,this,a)}},setMute:function(a){return this.mute=a,this},volume:{get:function(){return this.volumeNode.gain.value},set:function(a){this.currentConfig.volume=a,this.volumeNode.gain.setValueAtTime(a,0),this.emit(d.VOLUME,this,a)}},setVolume:function(a){return this.volume=a,this},seek:{get:function(){return this.isPlaying?this.manager.context.currentTime<this.startTime?this.startTime-this.playTime:this.getCurrentTime():this.isPaused?this.currentConfig.seek:0},set:function(a){this.manager.context.currentTime<this.startTime||(this.isPlaying||this.isPaused)&&(a=Math.min(Math.max(0,a),this.duration),this.currentConfig.seek=a,this.isPlaying&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource()),this.emit(d.SEEK,this,a))}},setSeek:function(a){return this.seek=a,this},loop:{get:function(){return this.currentConfig.loop},set:function(a){this.currentConfig.loop=a,this.isPlaying&&(this.stopAndRemoveLoopBufferSource(),a&&this.createAndStartLoopBufferSource()),this.emit(d.LOOP,this,a)}},setLoop:function(a){return this.loop=a,this},pan:{get:function(){return this.pannerNode?this.pannerNode.pan.value:0},set:function(a){this.currentConfig.pan=a,this.pannerNode&&this.pannerNode.pan.setValueAtTime(a,this.manager.context.currentTime),this.emit(d.PAN,this,a)}},setPan:function(a){return this.pan=a,this}});n.exports=l},57490:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(53134),x=r(85034),d=r(83419),h=r(14463),l=r(8443),a=r(71741),f=r(95540),c=new d({Extends:x,initialize:function(v){this.context=this.createAudioContext(v),this.masterMuteNode=this.context.createGain(),this.masterVolumeNode=this.context.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(this.context.destination),this.destination=this.masterMuteNode,this.locked=this.context.state==="suspended",x.call(this,v),this.locked&&(v.isBooted?this.unlock():v.events.once(l.BOOT,this.unlock,this)),v.events.on(l.VISIBLE,this.onGameVisible,this)},onGameVisible:function(){var u=this.context;window.setTimeout(function(){u&&(u.suspend(),u.resume())},100)},createAudioContext:function(u){var v=u.config.audio;if(v.context)return v.context.resume(),v.context;if(window.hasOwnProperty("AudioContext"))return new AudioContext;if(window.hasOwnProperty("webkitAudioContext"))return new window.webkitAudioContext},setAudioContext:function(u){return this.context&&this.context.close(),this.masterMuteNode&&this.masterMuteNode.disconnect(),this.masterVolumeNode&&this.masterVolumeNode.disconnect(),this.context=u,this.masterMuteNode=u.createGain(),this.masterVolumeNode=u.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(u.destination),this.destination=this.masterMuteNode,this},add:function(u,v){var g=new a(this,u,v);return this.sounds.push(g),g},decodeAudio:function(u,v){var g;Array.isArray(u)?g=u:g=[{key:u,data:v}];for(var m=this.game.cache.audio,y=g.length,C=0;C<g.length;C++){var P=g[C],w=P.key,M=P.data;typeof M=="string"&&(M=o(M));var R=(function(L,F){m.add(L,F),this.emit(h.DECODED,L),y--,y===0&&this.emit(h.DECODED_ALL)}).bind(this,w),A=(function(L,F){console.error("Error decoding audio: "+L+" - ",F?F.message:""),y--,y===0&&this.emit(h.DECODED_ALL)}).bind(this,w);this.context.decodeAudioData(M,R,A)}},setListenerPosition:function(u,v){return u===void 0&&(u=this.game.scale.width/2),v===void 0&&(v=this.game.scale.height/2),this.listenerPosition.set(u,v),this},unlock:function(){var u=this,v=document.body,g=function m(){if(u.context&&v){var y=v.removeEventListener.bind(v);u.context.resume().then(function(){y("touchstart",m),y("touchend",m),y("mousedown",m),y("mouseup",m),y("keydown",m),u.unlocked=!0},function(){y("touchstart",m),y("touchend",m),y("mousedown",m),y("mouseup",m),y("keydown",m)})}};v&&(v.addEventListener("touchstart",g,!1),v.addEventListener("touchend",g,!1),v.addEventListener("mousedown",g,!1),v.addEventListener("mouseup",g,!1),v.addEventListener("keydown",g,!1))},onBlur:function(){this.locked||this.context.suspend()},onFocus:function(){var u=this.context;u&&!this.locked&&(u.state==="suspended"||u.state==="interrupted")&&u.resume()},update:function(u,v){var g=this.context.listener;if(g&&g.positionX!==void 0){var m=f(this.listenerPosition,"x",null),y=f(this.listenerPosition,"y",null);m&&m!==this._spatialx&&(this._spatialx=g.positionX.value=m),y&&y!==this._spatialy&&(this._spatialy=g.positionY.value=y)}x.prototype.update.call(this,u,v),this.gameLostFocus||this.onFocus()},destroy:function(){if(this.destination=null,this.masterVolumeNode.disconnect(),this.masterVolumeNode=null,this.masterMuteNode.disconnect(),this.masterMuteNode=null,this.game.config.audio.context)this.context.suspend();else{var u=this;this.context.close().then(function(){u.context=null})}this.game.events.off(l.VISIBLE,this.onGameVisible,this),x.prototype.destroy.call(this)},setMute:function(u){return this.mute=u,this},mute:{get:function(){return this.masterMuteNode.gain.value===0},set:function(u){this.masterMuteNode.gain.setValueAtTime(u?0:1,0),this.emit(h.GLOBAL_MUTE,this,u)}},setVolume:function(u){return this.volume=u,this},volume:{get:function(){return this.masterVolumeNode.gain.value},set:function(u){this.masterVolumeNode.gain.setValueAtTime(u,0),this.emit(h.GLOBAL_VOLUME,this,u)}}});n.exports=c},73162:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(37105),x=r(83419),d=r(29747),h=r(19186),l=new x({initialize:function(f){this.parent=f,this.list=[],this.position=0,this.addCallback=d,this.removeCallback=d,this._sortKey=""},add:function(a,f){return f?o.Add(this.list,a):o.Add(this.list,a,0,this.addCallback,this)},addAt:function(a,f,c){return c?o.AddAt(this.list,a,f):o.AddAt(this.list,a,f,0,this.addCallback,this)},getAt:function(a){return this.list[a]},getIndex:function(a){return this.list.indexOf(a)},sort:function(a,f){return a?(f===void 0&&(f=function(c,u){return c[a]-u[a]}),h(this.list,f),this):this},getByName:function(a){return o.GetFirst(this.list,"name",a)},getRandom:function(a,f){return o.GetRandom(this.list,a,f)},getFirst:function(a,f,c,u){return o.GetFirst(this.list,a,f,c,u)},getAll:function(a,f,c,u){return o.GetAll(this.list,a,f,c,u)},count:function(a,f){return o.CountAllMatching(this.list,a,f)},swap:function(a,f){o.Swap(this.list,a,f)},moveTo:function(a,f){return o.MoveTo(this.list,a,f)},moveAbove:function(a,f){return o.MoveAbove(this.list,a,f)},moveBelow:function(a,f){return o.MoveBelow(this.list,a,f)},remove:function(a,f){return f?o.Remove(this.list,a):o.Remove(this.list,a,this.removeCallback,this)},removeAt:function(a,f){return f?o.RemoveAt(this.list,a):o.RemoveAt(this.list,a,this.removeCallback,this)},removeBetween:function(a,f,c){return c?o.RemoveBetween(this.list,a,f):o.RemoveBetween(this.list,a,f,this.removeCallback,this)},removeAll:function(a){for(var f=this.list.length;f--;)this.remove(this.list[f],a);return this},bringToTop:function(a){return o.BringToTop(this.list,a)},sendToBack:function(a){return o.SendToBack(this.list,a)},moveUp:function(a){return o.MoveUp(this.list,a),a},moveDown:function(a){return o.MoveDown(this.list,a),a},reverse:function(){return this.list.reverse(),this},shuffle:function(){return o.Shuffle(this.list),this},replace:function(a,f){return o.Replace(this.list,a,f)},exists:function(a){return this.list.indexOf(a)>-1},setAll:function(a,f,c,u){return o.SetAll(this.list,a,f,c,u),this},each:function(a,f){for(var c=[null],u=2;u<arguments.length;u++)c.push(arguments[u]);for(u=0;u<this.list.length;u++)c[0]=this.list[u],a.apply(f,c)},shutdown:function(){this.removeAll(),this.list=[]},destroy:function(){this.removeAll(),this.parent=null,this.addCallback=null,this.removeCallback=null},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}}});n.exports=l},90330:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=new o({initialize:function(h){this.entries={},this.size=0,this.setAll(h)},setAll:function(d){if(Array.isArray(d))for(var h=0;h<d.length;h++)this.set(d[h][0],d[h][1]);return this},set:function(d,h){return this.has(d)||this.size++,this.entries[d]=h,this},get:function(d){if(this.has(d))return this.entries[d]},getArray:function(){var d=[],h=this.entries;for(var l in h)d.push(h[l]);return d},has:function(d){return this.entries.hasOwnProperty(d)},delete:function(d){return this.has(d)&&(delete this.entries[d],this.size--),this},clear:function(){return Object.keys(this.entries).forEach(function(d){delete this.entries[d]},this),this.size=0,this},keys:function(){return Object.keys(this.entries)},values:function(){var d=[],h=this.entries;for(var l in h)d.push(h[l]);return d},dump:function(){var d=this.entries;console.group("Map");for(var h in d)console.log(h,d[h]);console.groupEnd()},each:function(d){var h=this.entries;for(var l in h)if(d(l,h[l])===!1)break;return this},contains:function(d){var h=this.entries;for(var l in h)if(h[l]===d)return!0;return!1},merge:function(d,h){h===void 0&&(h=!1);var l=this.entries,a=d.entries;for(var f in a)l.hasOwnProperty(f)&&h?l[f]=a[f]:this.set(f,a[f]);return this}});n.exports=x},25774:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(50792),d=r(82348),h=new o({Extends:x,initialize:function(){x.call(this),this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,this.checkQueue=!1},isActive:function(l){return this._active.indexOf(l)>-1},isPending:function(l){return this._toProcess>0&&this._pending.indexOf(l)>-1},isDestroying:function(l){return this._destroy.indexOf(l)>-1},add:function(l){return this.checkQueue&&this.isActive(l)&&!this.isDestroying(l)||this.isPending(l)||(this._pending.push(l),this._toProcess++),l},remove:function(l){if(this.isPending(l)){var a=this._pending,f=a.indexOf(l);f!==-1&&a.splice(f,1)}else this.isActive(l)&&(this._destroy.push(l),this._toProcess++);return l},removeAll:function(){for(var l=this._active,a=this._destroy,f=l.length;f--;)a.push(l[f]),this._toProcess++;return this},update:function(){if(this._toProcess===0)return this._active;var l=this._destroy,a=this._active,f,c;for(f=0;f<l.length;f++){c=l[f];var u=a.indexOf(c);u!==-1&&(a.splice(u,1),this.emit(d.PROCESS_QUEUE_REMOVE,c))}for(l.length=0,l=this._pending,f=0;f<l.length;f++)c=l[f],(!this.checkQueue||this.checkQueue&&a.indexOf(c)===-1)&&(a.push(c),this.emit(d.PROCESS_QUEUE_ADD,c));return l.length=0,this._toProcess=0,a},getActive:function(){return this._active},length:{get:function(){return this._active.length}},destroy:function(){this._toProcess=0,this._pending=[],this._active=[],this._destroy=[]}});n.exports=h},59542:(n,T,r)=>{/**
 * @author       Vladimir Agafonkin
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(43886);function x(M){if(!(this instanceof x))return new x(M);this._maxEntries=Math.max(4,M||9),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}x.prototype={all:function(){return this._all(this.data,[])},search:function(M){var R=this.data,A=[],L=this.toBBox;if(!C(M,R))return A;for(var F=[],G,I,B,k;R;){for(G=0,I=R.children.length;G<I;G++)B=R.children[G],k=R.leaf?L(B):B,C(M,k)&&(R.leaf?A.push(B):y(M,k)?this._all(B,A):F.push(B));R=F.pop()}return A},collides:function(M){var R=this.data,A=this.toBBox;if(!C(M,R))return!1;for(var L=[],F,G,I,B;R;){for(F=0,G=R.children.length;F<G;F++)if(I=R.children[F],B=R.leaf?A(I):I,C(M,B)){if(R.leaf||y(M,B))return!0;L.push(I)}R=L.pop()}return!1},load:function(M){if(!(M&&M.length))return this;if(M.length<this._minEntries){for(var R=0,A=M.length;R<A;R++)this.insert(M[R]);return this}var L=this._build(M.slice(),0,M.length-1,0);if(!this.data.children.length)this.data=L;else if(this.data.height===L.height)this._splitRoot(this.data,L);else{if(this.data.height<L.height){var F=this.data;this.data=L,L=F}this._insert(L,this.data.height-L.height-1,!0)}return this},insert:function(M){return M&&this._insert(M,this.data.height-1),this},clear:function(){return this.data=P([]),this},remove:function(M,R){if(!M)return this;for(var A=this.data,L=this.toBBox(M),F=[],G=[],I,B,k,U;A||F.length;){if(A||(A=F.pop(),B=F[F.length-1],I=G.pop(),U=!0),A.leaf&&(k=d(M,A.children,R),k!==-1))return A.children.splice(k,1),F.push(A),this._condense(F),this;!U&&!A.leaf&&y(A,L)?(F.push(A),G.push(I),I=0,B=A,A=A.children[0]):B?(I++,A=B.children[I],U=!1):A=null}return this},toBBox:function(M){return M},compareMinX:f,compareMinY:c,toJSON:function(){return this.data},fromJSON:function(M){return this.data=M,this},_all:function(M,R){for(var A=[];M;)M.leaf?R.push.apply(R,M.children):A.push.apply(A,M.children),M=A.pop();return R},_build:function(M,R,A,L){var F=A-R+1,G=this._maxEntries,I;if(F<=G)return I=P(M.slice(R,A+1)),h(I,this.toBBox),I;L||(L=Math.ceil(Math.log(F)/Math.log(G)),G=Math.ceil(F/Math.pow(G,L-1))),I=P([]),I.leaf=!1,I.height=L;var B=Math.ceil(F/G),k=B*Math.ceil(Math.sqrt(G)),U,H,X,j;for(w(M,R,A,k,this.compareMinX),U=R;U<=A;U+=k)for(X=Math.min(U+k-1,A),w(M,U,X,B,this.compareMinY),H=U;H<=X;H+=B)j=Math.min(H+B-1,X),I.children.push(this._build(M,H,j,L-1));return h(I,this.toBBox),I},_chooseSubtree:function(M,R,A,L){for(var F,G,I,B,k,U,H,X;L.push(R),!(R.leaf||L.length-1===A);){for(H=X=1/0,F=0,G=R.children.length;F<G;F++)I=R.children[F],k=u(I),U=g(M,I)-k,U<X?(X=U,H=k<H?k:H,B=I):U===X&&k<H&&(H=k,B=I);R=B||R.children[0]}return R},_insert:function(M,R,A){var L=this.toBBox,F=A?M:L(M),G=[],I=this._chooseSubtree(F,this.data,R,G);for(I.children.push(M),a(I,F);R>=0&&G[R].children.length>this._maxEntries;)this._split(G,R),R--;this._adjustParentBBoxes(F,G,R)},_split:function(M,R){var A=M[R],L=A.children.length,F=this._minEntries;this._chooseSplitAxis(A,F,L);var G=this._chooseSplitIndex(A,F,L),I=P(A.children.splice(G,A.children.length-G));I.height=A.height,I.leaf=A.leaf,h(A,this.toBBox),h(I,this.toBBox),R?M[R-1].children.push(I):this._splitRoot(A,I)},_splitRoot:function(M,R){this.data=P([M,R]),this.data.height=M.height+1,this.data.leaf=!1,h(this.data,this.toBBox)},_chooseSplitIndex:function(M,R,A){var L,F,G,I,B,k,U,H;for(k=U=1/0,L=R;L<=A-R;L++)F=l(M,0,L,this.toBBox),G=l(M,L,A,this.toBBox),I=m(F,G),B=u(F)+u(G),I<k?(k=I,H=L,U=B<U?B:U):I===k&&B<U&&(U=B,H=L);return H},_chooseSplitAxis:function(M,R,A){var L=M.leaf?this.compareMinX:f,F=M.leaf?this.compareMinY:c,G=this._allDistMargin(M,R,A,L),I=this._allDistMargin(M,R,A,F);G<I&&M.children.sort(L)},_allDistMargin:function(M,R,A,L){M.children.sort(L);var F=this.toBBox,G=l(M,0,R,F),I=l(M,A-R,A,F),B=v(G)+v(I),k,U;for(k=R;k<A-R;k++)U=M.children[k],a(G,M.leaf?F(U):U),B+=v(G);for(k=A-R-1;k>=R;k--)U=M.children[k],a(I,M.leaf?F(U):U),B+=v(I);return B},_adjustParentBBoxes:function(M,R,A){for(var L=A;L>=0;L--)a(R[L],M)},_condense:function(M){for(var R=M.length-1,A;R>=0;R--)M[R].children.length===0?R>0?(A=M[R-1].children,A.splice(A.indexOf(M[R]),1)):this.clear():h(M[R],this.toBBox)},compareMinX:function(M,R){return M.left-R.left},compareMinY:function(M,R){return M.top-R.top},toBBox:function(M){return{minX:M.left,minY:M.top,maxX:M.right,maxY:M.bottom}}};function d(M,R,A){if(!A)return R.indexOf(M);for(var L=0;L<R.length;L++)if(A(M,R[L]))return L;return-1}function h(M,R){l(M,0,M.children.length,R,M)}function l(M,R,A,L,F){F||(F=P(null)),F.minX=1/0,F.minY=1/0,F.maxX=-1/0,F.maxY=-1/0;for(var G=R,I;G<A;G++)I=M.children[G],a(F,M.leaf?L(I):I);return F}function a(M,R){return M.minX=Math.min(M.minX,R.minX),M.minY=Math.min(M.minY,R.minY),M.maxX=Math.max(M.maxX,R.maxX),M.maxY=Math.max(M.maxY,R.maxY),M}function f(M,R){return M.minX-R.minX}function c(M,R){return M.minY-R.minY}function u(M){return(M.maxX-M.minX)*(M.maxY-M.minY)}function v(M){return M.maxX-M.minX+(M.maxY-M.minY)}function g(M,R){return(Math.max(R.maxX,M.maxX)-Math.min(R.minX,M.minX))*(Math.max(R.maxY,M.maxY)-Math.min(R.minY,M.minY))}function m(M,R){var A=Math.max(M.minX,R.minX),L=Math.max(M.minY,R.minY),F=Math.min(M.maxX,R.maxX),G=Math.min(M.maxY,R.maxY);return Math.max(0,F-A)*Math.max(0,G-L)}function y(M,R){return M.minX<=R.minX&&M.minY<=R.minY&&R.maxX<=M.maxX&&R.maxY<=M.maxY}function C(M,R){return R.minX<=M.maxX&&R.minY<=M.maxY&&R.maxX>=M.minX&&R.maxY>=M.minY}function P(M){return{children:M,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function w(M,R,A,L,F){for(var G=[R,A],I;G.length;)A=G.pop(),R=G.pop(),!(A-R<=L)&&(I=R+Math.ceil((A-R)/L/2)*L,o(M,I,R,A,F),G.push(R,I,I,A))}n.exports=x},35072:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=new o({initialize:function(h){if(this.entries=[],Array.isArray(h))for(var l=0;l<h.length;l++)this.set(h[l])},set:function(d){return this.entries.indexOf(d)===-1&&this.entries.push(d),this},get:function(d,h){for(var l=0;l<this.entries.length;l++){var a=this.entries[l];if(a[d]===h)return a}},getArray:function(){return this.entries.slice(0)},delete:function(d){var h=this.entries.indexOf(d);return h>-1&&this.entries.splice(h,1),this},dump:function(){console.group("Set");for(var d=0;d<this.entries.length;d++){var h=this.entries[d];console.log(h)}console.groupEnd()},each:function(d,h){var l,a=this.entries.slice(),f=a.length;if(h)for(l=0;l<f&&d.call(h,a[l],l)!==!1;l++);else for(l=0;l<f&&d(a[l],l)!==!1;l++);return this},iterate:function(d,h){var l,a=this.entries.length;if(h)for(l=0;l<a&&d.call(h,this.entries[l],l)!==!1;l++);else for(l=0;l<a&&d(this.entries[l],l)!==!1;l++);return this},iterateLocal:function(d){var h,l=[];for(h=1;h<arguments.length;h++)l.push(arguments[h]);var a=this.entries.length;for(h=0;h<a;h++){var f=this.entries[h];f[d].apply(f,l)}return this},clear:function(){return this.entries.length=0,this},contains:function(d){return this.entries.indexOf(d)>-1},union:function(d){var h=new x;return d.entries.forEach(function(l){h.set(l)}),this.entries.forEach(function(l){h.set(l)}),h},intersect:function(d){var h=new x;return this.entries.forEach(function(l){d.contains(l)&&h.set(l)}),h},difference:function(d){var h=new x;return this.entries.forEach(function(l){d.contains(l)||h.set(l)}),h},size:{get:function(){return this.entries.length},set:function(d){return d<this.entries.length?this.entries.length=d:this.entries.length}}});n.exports=x},86555:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(45319),x=r(83419),d=r(56583),h=r(26099),l=new x({initialize:function(f,c,u,v){f===void 0&&(f=0),c===void 0&&(c=f),u===void 0&&(u=0),v===void 0&&(v=null),this._width=f,this._height=c,this._parent=v,this.aspectMode=u,this.aspectRatio=c===0?1:f/c,this.minWidth=0,this.minHeight=0,this.maxWidth=Number.MAX_VALUE,this.maxHeight=Number.MAX_VALUE,this.snapTo=new h},setAspectMode:function(a){return a===void 0&&(a=0),this.aspectMode=a,this.setSize(this._width,this._height)},setSnap:function(a,f){return a===void 0&&(a=0),f===void 0&&(f=a),this.snapTo.set(a,f),this.setSize(this._width,this._height)},setParent:function(a){return this._parent=a,this.setSize(this._width,this._height)},setMin:function(a,f){return a===void 0&&(a=0),f===void 0&&(f=a),this.minWidth=o(a,0,this.maxWidth),this.minHeight=o(f,0,this.maxHeight),this.setSize(this._width,this._height)},setMax:function(a,f){return a===void 0&&(a=Number.MAX_VALUE),f===void 0&&(f=a),this.maxWidth=o(a,this.minWidth,Number.MAX_VALUE),this.maxHeight=o(f,this.minHeight,Number.MAX_VALUE),this.setSize(this._width,this._height)},setSize:function(a,f){switch(a===void 0&&(a=0),f===void 0&&(f=a),this.aspectMode){case l.NONE:this._width=this.getNewWidth(d(a,this.snapTo.x)),this._height=this.getNewHeight(d(f,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height;break;case l.WIDTH_CONTROLS_HEIGHT:this._width=this.getNewWidth(d(a,this.snapTo.x)),this._height=this.getNewHeight(this._width*(1/this.aspectRatio),!1);break;case l.HEIGHT_CONTROLS_WIDTH:this._height=this.getNewHeight(d(f,this.snapTo.y)),this._width=this.getNewWidth(this._height*this.aspectRatio,!1);break;case l.FIT:this.constrain(a,f,!0);break;case l.ENVELOP:this.constrain(a,f,!1);break}return this},setAspectRatio:function(a){return this.aspectRatio=a,this.setSize(this._width,this._height)},resize:function(a,f){return this._width=this.getNewWidth(d(a,this.snapTo.x)),this._height=this.getNewHeight(d(f,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height,this},getNewWidth:function(a,f){return f===void 0&&(f=!0),a=o(a,this.minWidth,this.maxWidth),f&&this._parent&&a>this._parent.width&&(a=Math.max(this.minWidth,this._parent.width)),a},getNewHeight:function(a,f){return f===void 0&&(f=!0),a=o(a,this.minHeight,this.maxHeight),f&&this._parent&&a>this._parent.height&&(a=Math.max(this.minHeight,this._parent.height)),a},constrain:function(a,f,c){a===void 0&&(a=0),f===void 0&&(f=a),c===void 0&&(c=!0),a=this.getNewWidth(a),f=this.getNewHeight(f);var u=this.snapTo,v=f===0?1:a/f;return c&&this.aspectRatio>v||!c&&this.aspectRatio<v?(a=d(a,u.x),f=a/this.aspectRatio,u.y>0&&(f=d(f,u.y),a=f*this.aspectRatio)):(c&&this.aspectRatio<v||!c&&this.aspectRatio>v)&&(f=d(f,u.y),a=f*this.aspectRatio,u.x>0&&(a=d(a,u.x),f=a*(1/this.aspectRatio))),this._width=a,this._height=f,this},fitTo:function(a,f){return this.constrain(a,f,!0)},envelop:function(a,f){return this.constrain(a,f,!1)},setWidth:function(a){return this.setSize(a,this._height)},setHeight:function(a){return this.setSize(this._width,a)},toString:function(){return"[{ Size (width="+this._width+" height="+this._height+" aspectRatio="+this.aspectRatio+" aspectMode="+this.aspectMode+") }]"},setCSS:function(a){a&&a.style&&(a.style.width=this._width+"px",a.style.height=this._height+"px")},copy:function(a){return a.setAspectMode(this.aspectMode),a.aspectRatio=this.aspectRatio,a.setSize(this.width,this.height)},destroy:function(){this._parent=null,this.snapTo=null},width:{get:function(){return this._width},set:function(a){this.setSize(a,this._height)}},height:{get:function(){return this._height},set:function(a){this.setSize(this._width,a)}}});l.NONE=0,l.WIDTH_CONTROLS_HEIGHT=1,l.HEIGHT_CONTROLS_WIDTH=2,l.FIT=3,l.ENVELOP=4,n.exports=l},15238:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="add"},56187:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="remove"},82348:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={PROCESS_QUEUE_ADD:r(15238),PROCESS_QUEUE_REMOVE:r(56187)}},41392:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Events:r(82348),List:r(73162),Map:r(90330),ProcessQueue:r(25774),RTree:r(59542),Set:r(35072),Size:r(86555)}},57382:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(45319),d=r(40987),h=r(8054),l=r(50030),a=r(79237),f=new o({Extends:a,initialize:function(u,v,g,m,y){a.call(this,u,v,g,m,y),this.add("__BASE",0,0,0,m,y),this._source=this.frames.__BASE.source,this.canvas=this._source.image,this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.width=m,this.height=y,this.imageData=this.context.getImageData(0,0,m,y),this.data=null,this.imageData&&(this.data=this.imageData.data),this.pixels=null,this.buffer,this.data&&(this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data)},update:function(){return this.imageData=this.context.getImageData(0,0,this.width,this.height),this.data=this.imageData.data,this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data,this.manager.game.config.renderType===h.WEBGL&&this.refresh(),this},draw:function(c,u,v,g){return g===void 0&&(g=!0),this.context.drawImage(v,c,u),g&&this.update(),this},drawFrame:function(c,u,v,g,m){v===void 0&&(v=0),g===void 0&&(g=0),m===void 0&&(m=!0);var y=this.manager.getFrame(c,u);if(y){var C=y.canvasData,P=y.cutWidth,w=y.cutHeight,M=y.source.resolution;this.context.drawImage(y.source.image,C.x,C.y,P,w,v,g,P/M,w/M),m&&this.update()}return this},setPixel:function(c,u,v,g,m,y){y===void 0&&(y=255),c=Math.abs(Math.floor(c)),u=Math.abs(Math.floor(u));var C=this.getIndex(c,u);if(C>-1){var P=this.context.getImageData(c,u,1,1);P.data[0]=v,P.data[1]=g,P.data[2]=m,P.data[3]=y,this.context.putImageData(P,c,u)}return this},putData:function(c,u,v,g,m,y,C){return g===void 0&&(g=0),m===void 0&&(m=0),y===void 0&&(y=c.width),C===void 0&&(C=c.height),this.context.putImageData(c,u,v,g,m,y,C),this},getData:function(c,u,v,g){c=x(Math.floor(c),0,this.width-1),u=x(Math.floor(u),0,this.height-1),v=x(v,1,this.width-c),g=x(g,1,this.height-u);var m=this.context.getImageData(c,u,v,g);return m},getPixel:function(c,u,v){v||(v=new d);var g=this.getIndex(c,u);if(g>-1){var m=this.data,y=m[g+0],C=m[g+1],P=m[g+2],w=m[g+3];v.setTo(y,C,P,w)}return v},getPixels:function(c,u,v,g){c===void 0&&(c=0),u===void 0&&(u=0),v===void 0&&(v=this.width),g===void 0&&(g=v),c=Math.abs(Math.round(c)),u=Math.abs(Math.round(u));for(var m=x(c,0,this.width),y=x(c+v,0,this.width),C=x(u,0,this.height),P=x(u+g,0,this.height),w=new d,M=[],R=C;R<P;R++){for(var A=[],L=m;L<y;L++)w=this.getPixel(L,R,w),A.push({x:L,y:R,color:w.color,alpha:w.alphaGL});M.push(A)}return M},getIndex:function(c,u){return c=Math.abs(Math.round(c)),u=Math.abs(Math.round(u)),c<this.width&&u<this.height?(c+u*this.width)*4:-1},refresh:function(){return this._source.update(),this},getCanvas:function(){return this.canvas},getContext:function(){return this.context},clear:function(c,u,v,g,m){return c===void 0&&(c=0),u===void 0&&(u=0),v===void 0&&(v=this.width),g===void 0&&(g=this.height),m===void 0&&(m=!0),this.context.clearRect(c,u,v,g),m&&this.update(),this},setSize:function(c,u){return u===void 0&&(u=c),(c!==this.width||u!==this.height)&&(this.canvas.width=c,this.canvas.height=u,this._source.width=c,this._source.height=u,this._source.isPowerOf2=l(c,u),this.frames.__BASE.setSize(c,u,0,0),this.width=c,this.height=u,this.refresh()),this},destroy:function(){a.prototype.destroy.call(this),this._source=null,this.canvas=null,this.context=null,this.imageData=null,this.data=null,this.pixels=null,this.buffer=null}});n.exports=f},81320:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(10312),x=r(38058),d=r(27919),h=r(83419),l=r(8054),a=r(4327),f=r(95540),c=r(36060),u=r(32302),v=r(79237),g=r(70554),m=new h({Extends:v,initialize:function(C,P,w,M,R){w===void 0&&(w=256),M===void 0&&(M=256),R===void 0&&(R=!0),this.type="DynamicTexture";var A=C.game.renderer,L=A&&A.type===l.CANVAS,F=L?d.create2D(this,w,M):[this];v.call(this,C,P,F,w,M),this.add("__BASE",0,0,0,w,M),this.renderer=A,this.width=-1,this.height=-1,this.isDrawing=!1,this.canvas=L?F:null,this.context=L?F.getContext("2d",{willReadFrequently:!0}):null,this.dirty=!1,this.isSpriteTexture=!0,this._eraseMode=!1,this.camera=new x(0,0,w,M).setScene(C.game.scene.systemScene,!1),this.renderTarget=L?null:new u(A,w,M,1,0,!1,!1,!0,!1),this.pipeline=L?null:A.pipelines.get(c.SINGLE_PIPELINE),this.setSize(w,M,R)},setSize:function(y,C,P){C===void 0&&(C=y),P===void 0&&(P=!0),P&&(y=Math.floor(y),C=Math.floor(C),y%2!==0&&y++,C%2!==0&&C++);var w=this.get(),M=w.source;if(y!==this.width||C!==this.height){this.canvas&&(this.canvas.width=y,this.canvas.height=C);var R=this.renderTarget;R&&(R.willResize(y,C)&&R.resize(y,C),R.texture!==M.glTexture&&this.renderer.deleteTexture(M.glTexture),this.setFromRenderTarget()),this.camera.setSize(y,C),M.width=y,M.height=C,w.setSize(y,C),this.width=y,this.height=C}else{var A=this.getSourceImage();w.cutX+y>A.width&&(y=A.width-w.cutX),w.cutY+C>A.height&&(C=A.height-w.cutY),w.setSize(y,C,w.cutX,w.cutY)}return this},setFromRenderTarget:function(){var y=this.get(),C=y.source,P=this.renderTarget;return C.isRenderTexture=!0,C.isGLTexture=!0,C.glTexture=P.texture,this},setIsSpriteTexture:function(y){return this.isSpriteTexture=y,this},fill:function(y,C,P,w,M,R){var A=this.camera,L=this.renderer;C===void 0&&(C=1),P===void 0&&(P=0),w===void 0&&(w=0),M===void 0&&(M=this.width),R===void 0&&(R=this.height);var F=y>>16&255,G=y>>8&255,I=y&255,B=this.renderTarget;if(A.preRender(),B){B.bind(!0);var k=this.pipeline.manager.set(this.pipeline),U=L.width/B.width,H=L.height/B.height,X=B.height-(w+R);k.drawFillRect(P*U,X*H,M*U,R*H,g.getTintFromFloats(I/255,G/255,F/255,1),C),B.unbind(!0)}else{var j=this.context;L.setContext(j),j.globalCompositeOperation="source-over",j.fillStyle="rgba("+F+","+G+","+I+","+C+")",j.fillRect(P,w,M,R),L.setContext()}return this.dirty=!0,this},clear:function(y,C,P,w){if(this.dirty){var M=this.context,R=this.renderTarget;R?R.clear(y,C,P,w):M&&(y!==void 0&&C!==void 0&&P!==void 0&&w!==void 0?M.clearRect(y,C,P,w):(M.save(),M.setTransform(1,0,0,1,0,0),M.clearRect(0,0,this.width,this.height),M.restore())),this.dirty=!1}return this},stamp:function(y,C,P,w,M){P===void 0&&(P=0),w===void 0&&(w=0);var R=f(M,"alpha",1),A=f(M,"tint",16777215),L=f(M,"angle",0),F=f(M,"rotation",0),G=f(M,"scale",1),I=f(M,"scaleX",G),B=f(M,"scaleY",G),k=f(M,"originX",.5),U=f(M,"originY",.5),H=f(M,"blendMode",0),X=f(M,"erase",!1),j=f(M,"skipBatch",!1),J=this.manager.resetStamp(R,A);return J.setAngle(0),L!==0?J.setAngle(L):F!==0&&J.setRotation(F),J.setScale(I,B),J.setTexture(y,C),J.setOrigin(k,U),J.setBlendMode(H),X&&(this._eraseMode=!0),j?this.batchGameObject(J,P,w):this.draw(J,P,w),X&&(this._eraseMode=!1),this},erase:function(y,C,P){return this._eraseMode=!0,this.draw(y,C,P),this._eraseMode=!1,this},draw:function(y,C,P,w,M){return this.beginDraw(),this.batchDraw(y,C,P,w,M),this.endDraw(),this},drawFrame:function(y,C,P,w,M,R){return this.beginDraw(),this.batchDrawFrame(y,C,P,w,M,R),this.endDraw(),this},repeat:function(y,C,P,w,M,R,A,L,F){if(P===void 0&&(P=0),w===void 0&&(w=0),M===void 0&&(M=this.width),R===void 0&&(R=this.height),A===void 0&&(A=1),L===void 0&&(L=16777215),F===void 0&&(F=!1),y instanceof a?C=y:C=this.manager.getFrame(y,C),!C)return this;var G=this.manager.resetStamp(A,L);G.setFrame(C),G.setOrigin(0);var I=C.width,B=C.height;M=Math.floor(M),R=Math.floor(R);var k=Math.ceil(M/I),U=Math.ceil(R/B),H=k*I-M,X=U*B-R;H>0&&(H=I-H),X>0&&(X=B-X),P<0&&(k+=Math.ceil(Math.abs(P)/I)),w<0&&(U+=Math.ceil(Math.abs(w)/B));var j=P,J=w,Y=!1,$=this.manager.stampCrop.setTo(0,0,I,B);F||this.beginDraw();for(var z=0;z<U;z++){if(J+B<0){J+=B;continue}for(var V=0;V<k;V++){if(Y=!1,j+I<0){j+=I;continue}else j<0&&(Y=!0,$.width=I+j,$.x=I-$.width);J<0&&(Y=!0,$.height=B+J,$.y=B-$.height),H>0&&V===k-1&&(Y=!0,$.width=H),X>0&&z===U-1&&(Y=!0,$.height=X),Y&&G.setCrop($),this.batchGameObject(G,j,J),G.isCropped=!1,$.setTo(0,0,I,B),j+=I}j=P,J+=B}return F||this.endDraw(),this},beginDraw:function(){if(!this.isDrawing){var y=this.camera,C=this.renderer,P=this.renderTarget;y.preRender(),P?C.beginCapture(P.width,P.height):C.setContext(this.context),this.isDrawing=!0}return this},batchDraw:function(y,C,P,w,M){return Array.isArray(y)||(y=[y]),this.batchList(y,C,P,w,M),this},batchDrawFrame:function(y,C,P,w,M,R){P===void 0&&(P=0),w===void 0&&(w=0),M===void 0&&(M=1),R===void 0&&(R=16777215);var A=this.manager.getFrame(y,C);return A&&(this.renderTarget?this.pipeline.batchTextureFrame(A,P,w,R,M,this.camera.matrix,null):this.batchTextureFrame(A,P,w,M,R)),this},endDraw:function(y){if(y===void 0&&(y=this._eraseMode),this.isDrawing){var C=this.renderer,P=this.renderTarget;if(P){var w=C.endCapture(),M=C.pipelines.setUtility();M.blitFrame(w,P,1,!1,!1,y,this.isSpriteTexture),C.resetScissor(),C.resetViewport()}else C.setContext();this.dirty=!0,this.isDrawing=!1}return this},batchList:function(y,C,P,w,M){var R=y.length;if(R!==0)for(var A=0;A<R;A++){var L=y[A];!L||L===this||(L.renderWebGL||L.renderCanvas?this.batchGameObject(L,C,P):L.isParent||L.list?this.batchGroup(L.getChildren(),C,P):typeof L=="string"?this.batchTextureFrameKey(L,null,C,P,w,M):L instanceof a?this.batchTextureFrame(L,C,P,w,M):Array.isArray(L)&&this.batchList(L,C,P,w,M))}},batchGroup:function(y,C,P){C===void 0&&(C=0),P===void 0&&(P=0);for(var w=0;w<y.length;w++){var M=y[w];M.willRender(this.camera)&&this.batchGameObject(M,M.x+C,M.y+P)}},batchGameObject:function(y,C,P){C===void 0&&(C=y.x),P===void 0&&(P=y.y);var w=y.x,M=y.y,R=this.camera,A=this.renderer,L=this._eraseMode,F=y.mask;if(y.setPosition(C,P),this.canvas){if(L){var G=y.blendMode;y.blendMode=o.ERASE}F&&F.preRenderCanvas(A,y,R),y.renderCanvas(A,y,R,null),F&&F.postRenderCanvas(A,y,R),L&&(y.blendMode=G)}else A&&(F&&F.preRenderWebGL(A,y,R),L||A.setBlendMode(y.blendMode),y.renderWebGL(A,y,R),F&&F.postRenderWebGL(A,R,this.renderTarget));y.setPosition(w,M)},batchTextureFrameKey:function(y,C,P,w,M,R){var A=this.manager.getFrame(y,C);A&&this.batchTextureFrame(A,P,w,M,R)},batchTextureFrame:function(y,C,P,w,M){C===void 0&&(C=0),P===void 0&&(P=0),w===void 0&&(w=1),M===void 0&&(M=16777215);var R=this.camera.matrix,A=this.renderTarget;if(A)this.pipeline.batchTextureFrame(y,C,P,M,w,R,null);else{var L=this.context,F=y.canvasData,G=y.source.image;L.save(),L.globalCompositeOperation=this._eraseMode?"destination-out":"source-over",L.globalAlpha=w,R.setToContext(L),F.width>0&&F.height>0&&L.drawImage(G,F.x,F.y,F.width,F.height,C,P,F.width,F.height),L.restore()}},snapshotArea:function(y,C,P,w,M,R,A){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,M,!1,y,C,P,w,R,A):this.renderer.snapshotCanvas(this.canvas,M,!1,y,C,P,w,R,A),this},snapshot:function(y,C,P){return this.snapshotArea(0,0,this.width,this.height,y,C,P)},snapshotPixel:function(y,C,P){return this.snapshotArea(y,C,1,1,P,"pixel")},getWebGLTexture:function(){if(this.renderTarget)return this.renderTarget.texture},renderWebGL:function(y,C,P,w){var M=this.manager.resetStamp();M.setTexture(this),M.setOrigin(0),M.renderWebGL(y,M,P,w)},renderCanvas:function(){},destroy:function(){var y=this.manager.stamp;y&&y.texture===this&&this.manager.resetStamp(),v.prototype.destroy.call(this),d.remove(this.canvas),this.renderTarget&&this.renderTarget.destroy(),this.camera.destroy(),this.canvas=null,this.context=null,this.renderer=null}});n.exports=m},4327:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(45319),d=r(79291),h=new o({initialize:function(a,f,c,u,v,g,m){this.texture=a,this.name=f,this.source=a.source[c],this.sourceIndex=c,this.cutX,this.cutY,this.cutWidth,this.cutHeight,this.x=0,this.y=0,this.width,this.height,this.halfWidth,this.halfHeight,this.centerX,this.centerY,this.pivotX=0,this.pivotY=0,this.customPivot=!1,this.rotated=!1,this.autoRound=-1,this.customData={},this.u0=0,this.v0=0,this.u1=0,this.v1=0,this.data={cut:{x:0,y:0,w:0,h:0,r:0,b:0},trim:!1,sourceSize:{w:0,h:0},spriteSourceSize:{x:0,y:0,w:0,h:0,r:0,b:0},radius:0,drawImage:{x:0,y:0,width:0,height:0},is3Slice:!1,scale9:!1,scale9Borders:{x:0,y:0,w:0,h:0}},this.setSize(g,m,u,v)},setCutPosition:function(l,a){return l===void 0&&(l=0),a===void 0&&(a=0),this.cutX=l,this.cutY=a,this.updateUVs()},setCutSize:function(l,a){return this.cutWidth=l,this.cutHeight=a,this.updateUVs()},setSize:function(l,a,f,c){f===void 0&&(f=0),c===void 0&&(c=0),this.setCutPosition(f,c),this.setCutSize(l,a),this.width=l,this.height=a,this.halfWidth=Math.floor(l*.5),this.halfHeight=Math.floor(a*.5),this.centerX=Math.floor(l/2),this.centerY=Math.floor(a/2);var u=this.data,v=u.cut;v.x=f,v.y=c,v.w=l,v.h=a,v.r=f+l,v.b=c+a,u.sourceSize.w=l,u.sourceSize.h=a,u.spriteSourceSize.w=l,u.spriteSourceSize.h=a,u.radius=.5*Math.sqrt(l*l+a*a);var g=u.drawImage;return g.x=f,g.y=c,g.width=l,g.height=a,this.updateUVs()},setTrim:function(l,a,f,c,u,v){var g=this.data,m=g.spriteSourceSize;return g.trim=!0,g.sourceSize.w=l,g.sourceSize.h=a,m.x=f,m.y=c,m.w=u,m.h=v,m.r=f+u,m.b=c+v,this.x=f,this.y=c,this.width=u,this.height=v,this.halfWidth=u*.5,this.halfHeight=v*.5,this.centerX=Math.floor(u/2),this.centerY=Math.floor(v/2),this.updateUVs()},setScale9:function(l,a,f,c){var u=this.data;return u.scale9=!0,u.is3Slice=a===0&&c===this.height,u.scale9Borders.x=l,u.scale9Borders.y=a,u.scale9Borders.w=f,u.scale9Borders.h=c,this},setCropUVs:function(l,a,f,c,u,v,g){var m=this.cutX,y=this.cutY,C=this.cutWidth,P=this.cutHeight,w=this.realWidth,M=this.realHeight;a=x(a,0,w),f=x(f,0,M),c=x(c,0,w-a),u=x(u,0,M-f);var R=m+a,A=y+f,L=c,F=u,G=this.data;if(G.trim){var I=G.spriteSourceSize;c=x(c,0,I.x+C-a),u=x(u,0,I.y+P-f);var B=a+c,k=f+u,U=!(I.r<a||I.b<f||I.x>B||I.y>k);if(U){var H=Math.max(I.x,a),X=Math.max(I.y,f),j=Math.min(I.r,B)-H,J=Math.min(I.b,k)-X;L=j,F=J,v?R=m+(C-(H-I.x)-j):R=m+(H-I.x),g?A=y+(P-(X-I.y)-J):A=y+(X-I.y),a=H,f=X,c=j,u=J}else R=0,A=0,L=0,F=0}else v&&(R=m+(C-a-c)),g&&(A=y+(P-f-u));var Y=this.source.width,$=this.source.height;return l.u0=Math.max(0,R/Y),l.v0=Math.max(0,A/$),l.u1=Math.min(1,(R+L)/Y),l.v1=Math.min(1,(A+F)/$),l.x=a,l.y=f,l.cx=R,l.cy=A,l.cw=L,l.ch=F,l.width=c,l.height=u,l.flipX=v,l.flipY=g,l},updateCropUVs:function(l,a,f){return this.setCropUVs(l,l.x,l.y,l.width,l.height,a,f)},setUVs:function(l,a,f,c,u,v){var g=this.data.drawImage;return g.width=l,g.height=a,this.u0=f,this.v0=c,this.u1=u,this.v1=v,this},updateUVs:function(){var l=this.cutX,a=this.cutY,f=this.cutWidth,c=this.cutHeight,u=this.data.drawImage;u.width=f,u.height=c;var v=this.source.width,g=this.source.height;return this.u0=l/v,this.v0=a/g,this.u1=(l+f)/v,this.v1=(a+c)/g,this},updateUVsInverted:function(){var l=this.source.width,a=this.source.height;return this.u0=(this.cutX+this.cutHeight)/l,this.v0=this.cutY/a,this.u1=this.cutX/l,this.v1=(this.cutY+this.cutWidth)/a,this},clone:function(){var l=new h(this.texture,this.name,this.sourceIndex);return l.cutX=this.cutX,l.cutY=this.cutY,l.cutWidth=this.cutWidth,l.cutHeight=this.cutHeight,l.x=this.x,l.y=this.y,l.width=this.width,l.height=this.height,l.halfWidth=this.halfWidth,l.halfHeight=this.halfHeight,l.centerX=this.centerX,l.centerY=this.centerY,l.rotated=this.rotated,l.data=d(!0,l.data,this.data),l.updateUVs(),l},destroy:function(){this.texture=null,this.source=null,this.customData=null,this.data=null},glTexture:{get:function(){return this.source.glTexture}},realWidth:{get:function(){return this.data.sourceSize.w}},realHeight:{get:function(){return this.data.sourceSize.h}},radius:{get:function(){return this.data.radius}},trimmed:{get:function(){return this.data.trim}},scale9:{get:function(){return this.data.scale9}},is3Slice:{get:function(){return this.data.is3Slice}},canvasData:{get:function(){return this.data.drawImage}}});n.exports=h},79237:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(4327),d=r(11876),h='Texture "%s" has no frame "%s"',l=new o({initialize:function(f,c,u,v,g){Array.isArray(u)||(u=[u]),this.manager=f,this.key=c,this.source=[],this.dataSource=[],this.frames={},this.customData={},this.firstFrame="__BASE",this.frameTotal=0;for(var m=0;m<u.length;m++)this.source.push(new d(this,u[m],v,g))},add:function(a,f,c,u,v,g){if(this.has(a))return null;var m=new x(this,a,f,c,u,v,g);return this.frames[a]=m,this.firstFrame==="__BASE"&&(this.firstFrame=a),this.frameTotal++,m},remove:function(a){if(this.has(a)){var f=this.get(a);return f.destroy(),delete this.frames[a],!0}return!1},has:function(a){return this.frames.hasOwnProperty(a)},get:function(a){a||(a=this.firstFrame);var f=this.frames[a];return f||(console.warn(h,this.key,a),f=this.frames[this.firstFrame]),f},getTextureSourceIndex:function(a){for(var f=0;f<this.source.length;f++)if(this.source[f]===a)return f;return-1},getFramesFromTextureSource:function(a,f){f===void 0&&(f=!1);var c=[];for(var u in this.frames)if(!(u==="__BASE"&&!f)){var v=this.frames[u];v.sourceIndex===a&&c.push(v)}return c},getFrameBounds:function(a){a===void 0&&(a=0);for(var f=this.getFramesFromTextureSource(a,!0),c=f[0],u=c.cutX,v=c.cutY,g=c.cutX+c.cutWidth,m=c.cutY+c.cutHeight,y=1;y<f.length;y++){var C=f[y];C.cutX<u&&(u=C.cutX),C.cutY<v&&(v=C.cutY),C.cutX+C.cutWidth>g&&(g=C.cutX+C.cutWidth),C.cutY+C.cutHeight>m&&(m=C.cutY+C.cutHeight)}return{x:u,y:v,width:g-u,height:m-v}},getFrameNames:function(a){a===void 0&&(a=!1);var f=Object.keys(this.frames);if(!a){var c=f.indexOf("__BASE");c!==-1&&f.splice(c,1)}return f},getSourceImage:function(a){(a==null||this.frameTotal===1)&&(a="__BASE");var f=this.frames[a];return f?f.source.image:(console.warn(h,this.key,a),this.frames.__BASE.source.image)},getDataSourceImage:function(a){(a==null||this.frameTotal===1)&&(a="__BASE");var f=this.frames[a],c;return f?c=f.sourceIndex:(console.warn(h,this.key,a),c=this.frames.__BASE.sourceIndex),this.dataSource[c].image},setDataSource:function(a){Array.isArray(a)||(a=[a]);for(var f=0;f<a.length;f++){var c=this.source[f];this.dataSource.push(new d(this,a[f],c.width,c.height))}},setFilter:function(a){var f;for(f=0;f<this.source.length;f++)this.source[f].setFilter(a);for(f=0;f<this.dataSource.length;f++)this.dataSource[f].setFilter(a)},destroy:function(){var a,f=this.source,c=this.dataSource;for(a=0;a<f.length;a++)f[a]&&f[a].destroy();for(a=0;a<c.length;a++)c[a]&&c[a].destroy();for(var u in this.frames){var v=this.frames[u];v&&v.destroy()}this.source=[],this.dataSource=[],this.frames={},this.manager.removeKey(this.key),this.manager=null}});n.exports=l},17130:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(27919),x=r(57382),d=r(83419),h=r(40987),l=r(8054),a=r(81320),f=r(50792),c=r(69442),u=r(4327),v=r(8443),g=r(99584),m=r(35154),y=r(88571),C=r(41212),P=r(61309),w=r(87841),M=r(79237),R=new d({Extends:f,initialize:function(L){f.call(this),this.game=L,this.name="TextureManager",this.list={},this._tempCanvas=o.create2D(this),this._tempContext=this._tempCanvas.getContext("2d",{willReadFrequently:!0}),this._pending=0,this.stamp,this.stampCrop=new w,this.silentWarnings=!1,L.events.once(v.BOOT,this.boot,this)},boot:function(){this._pending=3,this.on(c.LOAD,this.updatePending,this),this.on(c.ERROR,this.updatePending,this);var A=this.game.config;A.defaultImage!==null&&this.addBase64("__DEFAULT",A.defaultImage),A.missingImage!==null&&this.addBase64("__MISSING",A.missingImage),A.whiteImage!==null&&this.addBase64("__WHITE",A.whiteImage),this.game.renderer&&this.game.renderer.gl&&this.addUint8Array("__NORMAL",new Uint8Array([127,127,255,255]),1,1),this.game.events.once(v.DESTROY,this.destroy,this),this.game.events.once(v.SYSTEM_READY,function(L){this.stamp=new y(L).setOrigin(0)},this)},updatePending:function(){this._pending--,this._pending===0&&(this.off(c.LOAD),this.off(c.ERROR),this.emit(c.READY))},checkKey:function(A){return!A||typeof A!="string"||this.exists(A)?(this.silentWarnings||console.error("Texture key already in use: "+A),!1):!0},remove:function(A){if(typeof A=="string")if(this.exists(A))A=this.get(A);else return this.silentWarnings||console.warn("No texture found matching key: "+A),this;var L=A.key;return this.list.hasOwnProperty(L)&&(A.destroy(),this.emit(c.REMOVE,L),this.emit(c.REMOVE_KEY+L)),this},removeKey:function(A){return this.list.hasOwnProperty(A)&&delete this.list[A],this},addBase64:function(A,L){if(this.checkKey(A)){var F=this,G=new Image;G.onerror=function(){F.emit(c.ERROR,A)},G.onload=function(){var I=F.create(A,G);I&&(P.Image(I,0),F.emit(c.ADD,A,I),F.emit(c.ADD_KEY+A,I),F.emit(c.LOAD,A,I))},G.src=L}return this},getBase64:function(A,L,F,G){F===void 0&&(F="image/png"),G===void 0&&(G=.92);var I="",B=this.getFrame(A,L);if(B&&(B.source.isRenderTexture||B.source.isGLTexture))this.silentWarnings||console.warn("Cannot getBase64 from WebGL Texture");else if(B){var k=B.canvasData,U=o.create2D(this,k.width,k.height),H=U.getContext("2d",{willReadFrequently:!0});k.width>0&&k.height>0&&H.drawImage(B.source.image,k.x,k.y,k.width,k.height,0,0,k.width,k.height),I=U.toDataURL(F,G),o.remove(U)}return I},addImage:function(A,L,F){var G=null;return this.checkKey(A)&&(G=this.create(A,L),P.Image(G,0),F&&G.setDataSource(F),this.emit(c.ADD,A,G),this.emit(c.ADD_KEY+A,G)),G},addGLTexture:function(A,L){var F=null;if(this.checkKey(A)){var G=L.width,I=L.height;F=this.create(A,L,G,I),F.add("__BASE",0,0,0,G,I),this.emit(c.ADD,A,F),this.emit(c.ADD_KEY+A,F)}return F},addCompressedTexture:function(A,L,F){var G=null;if(this.checkKey(A)){if(G=this.create(A,L),G.add("__BASE",0,0,0,L.width,L.height),F){var I=function(k,U,H){Array.isArray(H.textures)||Array.isArray(H.frames)?P.JSONArray(k,U,H):P.JSONHash(k,U,H)};if(Array.isArray(F))for(var B=0;B<F.length;B++)I(G,B,F[B]);else I(G,0,F)}this.emit(c.ADD,A,G),this.emit(c.ADD_KEY+A,G)}return G},addRenderTexture:function(A,L){var F=null;return this.checkKey(A)&&(F=this.create(A,L),F.add("__BASE",0,0,0,L.width,L.height),this.emit(c.ADD,A,F),this.emit(c.ADD_KEY+A,F)),F},generate:function(A,L){if(this.checkKey(A)){var F=o.create(this,1,1);return L.canvas=F,g(L),this.addCanvas(A,F)}else return null},createCanvas:function(A,L,F){if(L===void 0&&(L=256),F===void 0&&(F=256),this.checkKey(A)){var G=o.create(this,L,F,l.CANVAS,!0);return this.addCanvas(A,G)}return null},addCanvas:function(A,L,F){F===void 0&&(F=!1);var G=null;return F?G=new x(this,A,L,L.width,L.height):this.checkKey(A)&&(G=new x(this,A,L,L.width,L.height),this.list[A]=G,this.emit(c.ADD,A,G),this.emit(c.ADD_KEY+A,G)),G},addDynamicTexture:function(A,L,F){var G=null;return typeof A=="string"&&!this.exists(A)?G=new a(this,A,L,F):(G=A,A=G.key),this.checkKey(A)?(this.list[A]=G,this.emit(c.ADD,A,G),this.emit(c.ADD_KEY+A,G)):G=null,G},addAtlas:function(A,L,F,G){return Array.isArray(F.textures)||Array.isArray(F.frames)?this.addAtlasJSONArray(A,L,F,G):this.addAtlasJSONHash(A,L,F,G)},addAtlasJSONArray:function(A,L,F,G){var I=null;if(L instanceof M?(A=L.key,I=L):this.checkKey(A)&&(I=this.create(A,L)),I){if(Array.isArray(F))for(var B=F.length===1,k=0;k<I.source.length;k++){var U=B?F[0]:F[k];P.JSONArray(I,k,U)}else P.JSONArray(I,0,F);G&&I.setDataSource(G),this.emit(c.ADD,A,I),this.emit(c.ADD_KEY+A,I)}return I},addAtlasJSONHash:function(A,L,F,G){var I=null;if(L instanceof M?(A=L.key,I=L):this.checkKey(A)&&(I=this.create(A,L)),I){if(Array.isArray(F))for(var B=0;B<F.length;B++)P.JSONHash(I,B,F[B]);else P.JSONHash(I,0,F);G&&I.setDataSource(G),this.emit(c.ADD,A,I),this.emit(c.ADD_KEY+A,I)}return I},addAtlasXML:function(A,L,F,G){var I=null;return L instanceof M?(A=L.key,I=L):this.checkKey(A)&&(I=this.create(A,L)),I&&(P.AtlasXML(I,0,F),G&&I.setDataSource(G),this.emit(c.ADD,A,I),this.emit(c.ADD_KEY+A,I)),I},addUnityAtlas:function(A,L,F,G){var I=null;return L instanceof M?(A=L.key,I=L):this.checkKey(A)&&(I=this.create(A,L)),I&&(P.UnityYAML(I,0,F),G&&I.setDataSource(G),this.emit(c.ADD,A,I),this.emit(c.ADD_KEY+A,I)),I},addSpriteSheet:function(A,L,F,G){var I=null;if(L instanceof M?(A=L.key,I=L):this.checkKey(A)&&(I=this.create(A,L)),I){var B=I.source[0].width,k=I.source[0].height;P.SpriteSheet(I,0,0,0,B,k,F),G&&I.setDataSource(G),this.emit(c.ADD,A,I),this.emit(c.ADD_KEY+A,I)}return I},addSpriteSheetFromAtlas:function(A,L){if(!this.checkKey(A))return null;var F=m(L,"atlas",null),G=m(L,"frame",null);if(!(!F||!G)){var I=this.get(F),B=I.get(G);if(B){var k=B.source.image;k||(k=B.source.glTexture);var U=this.create(A,k);return B.trimmed?P.SpriteSheetFromAtlas(U,B,L):P.SpriteSheet(U,0,B.cutX,B.cutY,B.cutWidth,B.cutHeight,L),this.emit(c.ADD,A,U),this.emit(c.ADD_KEY+A,U),U}}},addUint8Array:function(A,L,F,G){if(!this.checkKey(A)||L.length/4!==F*G)return null;var I=this.create(A,L,F,G);return I.add("__BASE",0,0,0,F,G),this.emit(c.ADD,A,I),this.emit(c.ADD_KEY+A,I),I},create:function(A,L,F,G){var I=null;return this.checkKey(A)&&(I=new M(this,A,L,F,G),this.list[A]=I),I},exists:function(A){return this.list.hasOwnProperty(A)},get:function(A){return A===void 0&&(A="__DEFAULT"),this.list[A]?this.list[A]:A instanceof M?A:A instanceof u?A.texture:this.list.__MISSING},cloneFrame:function(A,L){if(this.list[A])return this.list[A].get(L).clone()},getFrame:function(A,L){if(this.list[A])return this.list[A].get(L)},parseFrame:function(A){if(A){if(typeof A=="string")return this.getFrame(A);if(Array.isArray(A)&&A.length===2)return this.getFrame(A[0],A[1]);if(C(A))return this.getFrame(A.key,A.frame);if(A instanceof M)return A.get();if(A instanceof u)return A}else return},getTextureKeys:function(){var A=[];for(var L in this.list)L!=="__DEFAULT"&&L!=="__MISSING"&&L!=="__WHITE"&&L!=="__NORMAL"&&A.push(L);return A},getPixel:function(A,L,F,G){var I=this.getFrame(F,G);if(I){A-=I.x,L-=I.y;var B=I.data.cut;if(A+=B.x,L+=B.y,A>=B.x&&A<B.r&&L>=B.y&&L<B.b){var k=this._tempContext;k.clearRect(0,0,1,1),k.drawImage(I.source.image,A,L,1,1,0,0,1,1);var U=k.getImageData(0,0,1,1);return new h(U.data[0],U.data[1],U.data[2],U.data[3])}}return null},getPixelAlpha:function(A,L,F,G){var I=this.getFrame(F,G);if(I){A-=I.x,L-=I.y;var B=I.data.cut;if(A+=B.x,L+=B.y,A>=B.x&&A<B.r&&L>=B.y&&L<B.b){var k=this._tempContext;k.clearRect(0,0,1,1),k.drawImage(I.source.image,A,L,1,1,0,0,1,1);var U=k.getImageData(0,0,1,1);return U.data[3]}}return null},setTexture:function(A,L,F){return this.list[L]&&(A.texture=this.list[L],A.frame=A.texture.get(F)),A},renameTexture:function(A,L){var F=this.get(A);return F&&A!==L?(F.key=L,this.list[L]=F,delete this.list[A],!0):!1},each:function(A,L){for(var F=[null],G=1;G<arguments.length;G++)F.push(arguments[G]);for(var I in this.list)F[0]=this.list[I],A.apply(L,F)},resetStamp:function(A,L){A===void 0&&(A=1),L===void 0&&(L=16777215);var F=this.stamp;return F.setCrop(),F.setPosition(0),F.setAngle(0),F.setScale(1),F.setAlpha(A),F.setTint(L),F.setTexture("__WHITE"),F},destroy:function(){for(var A in this.list)this.list[A].destroy();this.list={},this.stamp.destroy(),this.game=null,this.stamp=null,o.remove(this._tempCanvas)}});n.exports=R},11876:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(27919),x=r(83419),d=r(50030),h=r(29795),l=r(82751),a=new x({initialize:function(c,u,v,g,m){m===void 0&&(m=!1);var y=c.manager.game;this.renderer=y.renderer,this.texture=c,this.source=u,this.image=u.compressed?null:u,this.compressionAlgorithm=u.compressed?u.format:null,this.resolution=1,this.width=v||u.naturalWidth||u.videoWidth||u.width||0,this.height=g||u.naturalHeight||u.videoHeight||u.height||0,this.scaleMode=h.DEFAULT,this.isCanvas=u instanceof HTMLCanvasElement,this.isVideo=window.hasOwnProperty("HTMLVideoElement")&&u instanceof HTMLVideoElement,this.isRenderTexture=u.type==="RenderTexture"||u.type==="DynamicTexture",this.isGLTexture=u instanceof l,this.isPowerOf2=d(this.width,this.height),this.glTexture=null,this.flipY=m,this.init(y)},init:function(f){var c=this.renderer;if(c){var u=this.source;if(c.gl){var v=this.image,g=this.flipY,m=this.width,y=this.height,C=this.scaleMode;this.isCanvas?this.glTexture=c.createCanvasTexture(v,!1,g):this.isVideo?this.glTexture=c.createVideoTexture(v,!1,g):this.isRenderTexture?this.glTexture=c.createTextureFromSource(null,m,y,C):this.isGLTexture?this.glTexture=u:this.compressionAlgorithm?this.glTexture=c.createTextureFromSource(u,void 0,void 0,C):u instanceof Uint8Array?this.glTexture=c.createUint8ArrayTexture(u,m,y,C):this.glTexture=c.createTextureFromSource(v,m,y,C)}else this.isRenderTexture&&(this.image=u.canvas)}f.config.antialias||this.setFilter(1)},setFilter:function(f){this.renderer&&this.renderer.gl&&this.renderer.setTextureFilter(this.glTexture,f),this.scaleMode=f},setFlipY:function(f){return f===void 0&&(f=!0),f===this.flipY?this:(this.flipY=f,this.update(),this)},update:function(){var f=this.renderer,c=this.image,u=this.flipY,v=f.gl;v&&this.isCanvas?f.updateCanvasTexture(c,this.glTexture,u):v&&this.isVideo&&f.updateVideoTexture(c,this.glTexture,u)},destroy:function(){this.glTexture&&this.renderer.deleteTexture(this.glTexture),this.isCanvas&&o.remove(this.image),this.renderer=null,this.texture=null,this.source=null,this.image=null,this.glTexture=null}});n.exports=a},19673:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={LINEAR:0,NEAREST:1};n.exports=T},44538:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="addtexture"},63486:n=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="addtexture-"},94851:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="onerror"},29099:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="onload"},8678:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="ready"},86415:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="removetexture"},30879:n=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="removetexture-"},69442:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ADD:r(44538),ADD_KEY:r(63486),ERROR:r(94851),LOAD:r(29099),READY:r(8678),REMOVE:r(86415),REMOVE_KEY:r(30879)}},27458:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(79291),x=r(19673),d={CanvasTexture:r(57382),DynamicTexture:r(81320),Events:r(69442),FilterMode:x,Frame:r(4327),Parsers:r(61309),Texture:r(79237),TextureManager:r(17130),TextureSource:r(11876)};d=o(!1,d,x),n.exports=d},89905:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){if(!x.getElementsByTagName("TextureAtlas")){console.warn("Invalid Texture Atlas XML given");return}var d=r.source[o];r.add("__BASE",o,0,0,d.width,d.height);for(var h=x.getElementsByTagName("SubTexture"),l,a=0;a<h.length;a++){var f=h[a].attributes,c=f.name.value,u=parseInt(f.x.value,10),v=parseInt(f.y.value,10),g=parseInt(f.width.value,10),m=parseInt(f.height.value,10);if(l=r.add(c,o,u,v,g,m),f.frameX){var y=Math.abs(parseInt(f.frameX.value,10)),C=Math.abs(parseInt(f.frameY.value,10)),P=parseInt(f.frameWidth.value,10),w=parseInt(f.frameHeight.value,10);l.setTrim(g,m,y,C,P,w)}}return r};n.exports=T},72893:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){var x=r.source[o];return r.add("__BASE",o,0,0,x.width,x.height),r};n.exports=T},4832:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){var x=r.source[o];return r.add("__BASE",o,0,0,x.width,x.height),r};n.exports=T},78566:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(41786),x=function(d,h,l){if(!l.frames&&!l.textures){console.warn("Invalid Texture Atlas JSON Array");return}var a=d.source[h];d.add("__BASE",h,0,0,a.width,a.height);for(var f=Array.isArray(l.textures)?l.textures[h].frames:l.frames,c,u=0;u<f.length;u++){var v=f[u];if(c=d.add(v.filename,h,v.frame.x,v.frame.y,v.frame.w,v.frame.h),!c){console.warn("Invalid atlas json, frame already exists: "+v.filename);continue}v.trimmed&&c.setTrim(v.sourceSize.w,v.sourceSize.h,v.spriteSourceSize.x,v.spriteSourceSize.y,v.spriteSourceSize.w,v.spriteSourceSize.h),v.rotated&&(c.rotated=!0,c.updateUVsInverted());var g=v.anchor||v.pivot;g&&(c.customPivot=!0,c.pivotX=g.x,c.pivotY=g.y),v.scale9Borders&&c.setScale9(v.scale9Borders.x,v.scale9Borders.y,v.scale9Borders.w,v.scale9Borders.h),c.customData=o(v)}for(var m in l)m!=="frames"&&(Array.isArray(l[m])?d.customData[m]=l[m].slice(0):d.customData[m]=l[m]);return d};n.exports=x},39711:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(41786),x=function(d,h,l){if(!l.frames){console.warn("Invalid Texture Atlas JSON Hash given, missing 'frames' Object");return}var a=d.source[h];d.add("__BASE",h,0,0,a.width,a.height);var f=l.frames,c;for(var u in f)if(f.hasOwnProperty(u)){var v=f[u];if(c=d.add(u,h,v.frame.x,v.frame.y,v.frame.w,v.frame.h),!c){console.warn("Invalid atlas json, frame already exists: "+u);continue}v.trimmed&&c.setTrim(v.sourceSize.w,v.sourceSize.h,v.spriteSourceSize.x,v.spriteSourceSize.y,v.spriteSourceSize.w,v.spriteSourceSize.h),v.rotated&&(c.rotated=!0,c.updateUVsInverted());var g=v.anchor||v.pivot;g&&(c.customPivot=!0,c.pivotX=g.x,c.pivotY=g.y),v.scale9Borders&&c.setScale9(v.scale9Borders.x,v.scale9Borders.y,v.scale9Borders.w,v.scale9Borders.h),c.customData=o(v)}for(var m in l)m!=="frames"&&(Array.isArray(l[m])?d.customData[m]=l[m].slice(0):d.customData[m]=l[m]);return d};n.exports=x},31403:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){var o=[171,75,84,88,32,49,49,187,13,10,26,10],x,d=new Uint8Array(r,0,12);for(x=0;x<d.length;x++)if(d[x]!==o[x]){console.warn("KTXParser - Invalid file format");return}var h=Uint32Array.BYTES_PER_ELEMENT,l=new DataView(r,12,13*h),a=l.getUint32(0,!0)===67305985,f=l.getUint32(1*h,a);if(f!==0){console.warn("KTXParser - Only compressed formats supported");return}var c=l.getUint32(4*h,a),u=l.getUint32(6*h,a),v=l.getUint32(7*h,a),g=Math.max(1,l.getUint32(11*h,a)),m=l.getUint32(12*h,a),y=new Array(g),C=12+13*4+m,P=u,w=v;for(x=0;x<g;x++){var M=new Int32Array(r,C,1)[0];C+=4,y[x]={data:new Uint8Array(r,C,M),width:P,height:w},P=Math.max(1,P>>1),w=Math.max(1,w>>1),C+=M}return{mipmaps:y,width:u,height:v,internalFormat:c,compressed:!0,generateMipmap:!1}};n.exports=T},82038:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function T(L,F,G,I,B,k,U){return U===void 0&&(U=16),Math.floor((L+G)/B)*Math.floor((F+I)/k)*U}function r(L,F){return L=Math.max(L,16),F=Math.max(F,8),L*F/4}function o(L,F){return L=Math.max(L,8),F=Math.max(F,8),L*F/2}function x(L,F){return Math.ceil(L/4)*Math.ceil(F/4)*16}function d(L,F){return T(L,F,3,3,4,4,8)}function h(L,F){return T(L,F,3,3,4,4)}function l(L,F){return T(L,F,4,3,5,4)}function a(L,F){return T(L,F,4,4,5,5)}function f(L,F){return T(L,F,5,4,6,5)}function c(L,F){return T(L,F,5,5,6,6)}function u(L,F){return T(L,F,7,4,8,5)}function v(L,F){return T(L,F,7,5,8,6)}function g(L,F){return T(L,F,7,7,8,8)}function m(L,F){return T(L,F,9,4,10,5)}function y(L,F){return T(L,F,9,5,10,6)}function C(L,F){return T(L,F,9,7,10,8)}function P(L,F){return T(L,F,9,9,10,10)}function w(L,F){return T(L,F,11,9,12,10)}function M(L,F){return T(L,F,11,11,12,12)}var R={0:{sizeFunc:r,glFormat:[35841]},1:{sizeFunc:r,glFormat:[35843]},2:{sizeFunc:o,glFormat:[35840]},3:{sizeFunc:o,glFormat:[35842]},6:{sizeFunc:d,glFormat:[36196]},7:{sizeFunc:d,glFormat:[33776,35916]},8:{sizeFunc:h,glFormat:[33777,35917]},9:{sizeFunc:h,glFormat:[33778,35918]},11:{sizeFunc:h,glFormat:[33779,35919]},14:{sizeFunc:x,glFormat:[36494,36495]},15:{sizeFunc:x,glFormat:[36492,36493]},22:{sizeFunc:d,glFormat:[37492,37493]},23:{sizeFunc:h,glFormat:[37496,37497]},24:{sizeFunc:d,glFormat:[37494,37495]},25:{sizeFunc:d,glFormat:[37488]},26:{sizeFunc:h,glFormat:[37490]},27:{sizeFunc:h,glFormat:[37808,37840]},28:{sizeFunc:l,glFormat:[37809,37841]},29:{sizeFunc:a,glFormat:[37810,37842]},30:{sizeFunc:f,glFormat:[37811,37843]},31:{sizeFunc:c,glFormat:[37812,37844]},32:{sizeFunc:u,glFormat:[37813,37845]},33:{sizeFunc:v,glFormat:[37814,37846]},34:{sizeFunc:g,glFormat:[37815,37847]},35:{sizeFunc:m,glFormat:[37816,37848]},36:{sizeFunc:y,glFormat:[37817,37849]},37:{sizeFunc:C,glFormat:[37818,37850]},38:{sizeFunc:P,glFormat:[37819,37851]},39:{sizeFunc:w,glFormat:[37820,37852]},40:{sizeFunc:M,glFormat:[37821,37853]}},A=function(L){for(var F=new Uint32Array(L,0,13),G=F[0],I=G===55727696,B=I?F[2]:F[3],k=F[4],U=R[B].glFormat[k],H=R[B].sizeFunc,X=F[11],j=F[7],J=F[6],Y=52+F[12],$=new Uint8Array(L,Y),z=new Array(X),V=0,K=j,Q=J,_=0;_<X;_++){var tt=H(K,Q);z[_]={data:new Uint8Array($.buffer,$.byteOffset+V,tt),width:K,height:Q},K=Math.max(1,K>>1),Q=Math.max(1,Q>>1),V+=tt}return{mipmaps:z,width:j,height:J,internalFormat:U,compressed:!0,generateMipmap:!1}};n.exports=A},75549:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(95540),x=function(d,h,l,a,f,c,u){var v=o(u,"frameWidth",null),g=o(u,"frameHeight",v);if(v===null)throw new Error("TextureManager.SpriteSheet: Invalid frameWidth given.");var m=d.source[h];d.add("__BASE",h,0,0,m.width,m.height);var y=o(u,"startFrame",0),C=o(u,"endFrame",-1),P=o(u,"margin",0),w=o(u,"spacing",0),M=Math.floor((f-P+w)/(v+w)),R=Math.floor((c-P+w)/(g+w)),A=M*R;A===0&&console.warn("SpriteSheet frame dimensions will result in zero frames for texture:",d.key),(y>A||y<-A)&&(y=0),y<0&&(y=A+y),(C===-1||C>A||C<y)&&(C=A);for(var L=P,F=P,G=0,I=0,B=0,k=0;k<A;k++){G=0,I=0;var U=L+v,H=F+g;U>f&&(G=U-f),H>c&&(I=H-c),k>=y&&k<=C&&(d.add(B,h,l+L,a+F,v-G,g-I),B++),L+=v+w,L+v>f&&(L=P,F+=g+w)}return d};n.exports=x},47534:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(95540),x=function(d,h,l){var a=o(l,"frameWidth",null),f=o(l,"frameHeight",a);if(!a)throw new Error("TextureManager.SpriteSheetFromAtlas: Invalid frameWidth given.");var c=d.source[0];d.add("__BASE",0,0,0,c.width,c.height),o(l,"startFrame",0),o(l,"endFrame",-1);for(var u=o(l,"margin",0),v=o(l,"spacing",0),g=h.cutX,m=h.cutY,y=h.cutWidth,C=h.cutHeight,P=h.realWidth,w=h.realHeight,M=Math.floor((P-u+v)/(a+v)),R=Math.floor((w-u+v)/(f+v)),A=h.x,L=a-A,F=a-(P-y-A),G=h.y,I=f-G,B=f-(w-C-G),k,U=u,H=u,X=0,j=0,J=0;J<R;J++){for(var Y=J===0,$=J===R-1,z=0;z<M;z++){var V=z===0,K=z===M-1;if(k=d.add(X,j,g+U,m+H,a,f),V||Y||K||$){var Q=V?A:0,_=Y?G:0,tt=0,rt=0;V&&(tt+=a-L),K&&(tt+=a-F),Y&&(rt+=f-I),$&&(rt+=f-B);var ot=a-tt,ft=f-rt;k.cutWidth=ot,k.cutHeight=ft,k.setTrim(a,f,Q,_,ot,ft)}U+=v,V?U+=L:K?U+=F:U+=a,X++}U=u,H+=v,Y?H+=I:$?H+=B:H+=f}return d};n.exports=x},86147:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=0,r=function(x,d,h,l){var a=T-l.y-l.height;x.add(h,d,l.x,a,l.width,l.height)},o=function(x,d,h){var l=x.source[d];x.add("__BASE",d,0,0,l.width,l.height),T=l.height;for(var a=h.split(`
`),f=/^[ ]*(- )*(\w+)+[: ]+(.*)/,c="",u="",v={x:0,y:0,width:0,height:0},g=0;g<a.length;g++){var m=a[g].match(f);if(m){var y=m[1]==="- ",C=m[2],P=m[3];if(y&&(u!==c&&(r(x,d,u,v),c=u),v={x:0,y:0,width:0,height:0}),C==="name"){u=P;continue}switch(C){case"x":case"y":case"width":case"height":v[C]=parseInt(P,10);break}}}return u!==c&&r(x,d,u,v),x};n.exports=o},55222:(n,T,r)=>{/**
 * @author       Ben Richards <benjamindrichards@gmail.com>
 * @copyright    2024 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(50030),x=function(c){for(var u=c.mipmaps,v=1;v<u.length;v++){var g=u[v].width,m=u[v].height;if(!o(g,m))return console.warn("Mip level "+v+" is not a power-of-two size: "+g+"x"+m),!1}var y=f[c.internalFormat];return y?y(c):(console.warn("No format checker found for internal format "+c.internalFormat+". Assuming valid."),!0)};function d(c){for(var u=c.mipmaps,v=0;v<u.length;v++){var g=u[v].width,m=u[v].height;if((g<<v)%4!==0||(m<<v)%4!==0)return console.warn("BPTC, RGTC, and S3TC dimensions must be a multiple of 4 pixels, and each successive mip level must be half the size of the previous level, rounded down. Mip level "+v+" is "+g+"x"+m),!1}return!0}function h(){return!0}function l(c){var u=c.mipmaps,v=u[0];return o(v.width,v.height)?!0:(console.warn("PVRTC base dimensions must be power of two. Base level is "+v.width+"x"+v.height),!1)}function a(c){var u=c.mipmaps,v=u[0];return v.width%4!==0||v.height%4!==0?(console.warn("S3TC SRGB base dimensions must be a multiple of 4 pixels. Base level is "+v.width+"x"+v.height+" pixels"),!1):!0}var f={37488:h,37489:h,37490:h,37491:h,37492:h,37493:h,37494:h,37495:h,37496:h,37497:h,36196:h,37808:h,37809:h,37810:h,37811:h,37812:h,37813:h,37814:h,37815:h,37816:h,37817:h,37818:h,37819:h,37820:h,37821:h,37840:h,37841:h,37842:h,37843:h,37844:h,37845:h,37846:h,37847:h,37848:h,37849:h,37850:h,37851:h,37852:h,37853:h,36492:d,36493:d,36494:d,36495:d,36283:d,36284:d,36285:d,36286:d,35840:l,35841:l,35842:l,35843:l,33776:d,33777:d,33778:d,33779:d,35916:a,35917:a,35918:a,35919:a};n.exports=x},61309:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={AtlasXML:r(89905),Canvas:r(72893),Image:r(4832),JSONArray:r(78566),JSONHash:r(39711),KTXParser:r(31403),PVRParser:r(82038),SpriteSheet:r(75549),SpriteSheetFromAtlas:r(47534),UnityYAML:r(86147)}},80341:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={CSV:0,TILED_JSON:1,ARRAY_2D:2,WELTMEISTER:3}},16536:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=new o({initialize:function(h,l,a,f,c,u,v){(a===void 0||a<=0)&&(a=32),(f===void 0||f<=0)&&(f=32),c===void 0&&(c=0),u===void 0&&(u=0),this.name=h,this.firstgid=l|0,this.imageWidth=a|0,this.imageHeight=f|0,this.imageMargin=c|0,this.imageSpacing=u|0,this.properties=v||{},this.images=[],this.total=0},containsImageIndex:function(d){return d>=this.firstgid&&d<this.firstgid+this.total},addImage:function(d,h,l,a){return this.images.push({gid:d,image:h,width:l,height:a}),this.total++,this}});n.exports=x},27462:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=new o({initialize:function(h){if(this.gids=[],h!==void 0)for(var l=0;l<h.length;++l)for(var a=h[l],f=0;f<a.total;++f)this.gids[a.firstgid+f]=a;this._gids=this.gids},enabled:{get:function(){return!!this.gids},set:function(d){this.gids=d?this._gids:void 0}},getTypeIncludingTile:function(d){if(d.type!==void 0&&d.type!=="")return d.type;if(!(!this.gids||d.gid===void 0)){var h=this.gids[d.gid];if(h){var l=h.getTileData(d.gid);if(l)return l.type}}},setTextureAndFrame:function(d,h,l,a){if(h===null&&this.gids&&a.gid!==void 0){var f=this.gids[a.gid];f&&(h===null&&f.image!==void 0&&(h=f.image.key),l===null&&(l=a.gid-f.firstgid),d.scene.textures.getFrame(h,l)||(h=null,l=null))}d.setTexture(h,l)},setPropertiesFromTiledObject:function(d,h){if(this.gids!==void 0&&h.gid!==void 0){var l=this.gids[h.gid];l!==void 0&&this.setFromJSON(d,l.getTileProperties(h.gid))}this.setFromJSON(d,h.properties)},setFromJSON:function(d,h){if(h){if(Array.isArray(h)){for(var l=0;l<h.length;l++){var a=h[l];d[a.name]!==void 0?d[a.name]=a.value:d.setData(a.name,a.value)}return}for(var f in h)d[f]!==void 0?d[f]=h[f]:d.setData(f,h[f])}}});n.exports=x},31989:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(80341),x=r(87010),d=r(46177),h=r(49075),l=function(a,f,c,u,v,g,m,y){c===void 0&&(c=32),u===void 0&&(u=32),v===void 0&&(v=10),g===void 0&&(g=10),y===void 0&&(y=!1);var C=null;if(Array.isArray(m)){var P=f!==void 0?f:"map";C=d(P,o.ARRAY_2D,m,c,u,y)}else if(f!==void 0){var w=a.cache.tilemap.get(f);w?C=d(f,w.format,w.data,c,u,y):console.warn("No map data found for key "+f)}return C===null&&(C=new x({tileWidth:c,tileHeight:u,width:v,height:g})),new h(a,C)};n.exports=l},23029:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(31401),d=r(91907),h=r(62644),l=r(93232),a=new o({Mixins:[x.AlphaSingle,x.Flip,x.Visible],initialize:function(c,u,v,g,m,y,C,P){this.layer=c,this.index=u,this.x=v,this.y=g,this.width=m,this.height=y,this.right,this.bottom,this.baseWidth=C!==void 0?C:m,this.baseHeight=P!==void 0?P:y,this.pixelX=0,this.pixelY=0,this.updatePixelXY(),this.properties={},this.rotation=0,this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceLeft=!1,this.faceRight=!1,this.faceTop=!1,this.faceBottom=!1,this.collisionCallback=void 0,this.collisionCallbackContext=this,this.tint=16777215,this.tintFill=!1,this.physics={}},containsPoint:function(f,c){return!(f<this.pixelX||c<this.pixelY||f>this.right||c>this.bottom)},copy:function(f){return this.index=f.index,this.alpha=f.alpha,this.properties=h(f.properties),this.visible=f.visible,this.setFlip(f.flipX,f.flipY),this.tint=f.tint,this.rotation=f.rotation,this.collideUp=f.collideUp,this.collideDown=f.collideDown,this.collideLeft=f.collideLeft,this.collideRight=f.collideRight,this.collisionCallback=f.collisionCallback,this.collisionCallbackContext=f.collisionCallbackContext,this},getCollisionGroup:function(){return this.tileset?this.tileset.getTileCollisionGroup(this.index):null},getTileData:function(){return this.tileset?this.tileset.getTileData(this.index):null},getLeft:function(f){var c=this.tilemapLayer;if(c){var u=c.tileToWorldXY(this.x,this.y,void 0,f);return u.x}return this.x*this.baseWidth},getRight:function(f){var c=this.tilemapLayer;return c?this.getLeft(f)+this.width*c.scaleX:this.getLeft(f)+this.width},getTop:function(f){var c=this.tilemapLayer;if(c){var u=c.tileToWorldXY(this.x,this.y,void 0,f);return u.y}return this.y*this.baseWidth-(this.height-this.baseHeight)},getBottom:function(f){var c=this.tilemapLayer;return c?this.getTop(f)+this.height*c.scaleY:this.getTop(f)+this.height},getBounds:function(f,c){return c===void 0&&(c=new l),c.x=this.getLeft(f),c.y=this.getTop(f),c.width=this.getRight(f)-c.x,c.height=this.getBottom(f)-c.y,c},getCenterX:function(f){return(this.getLeft(f)+this.getRight(f))/2},getCenterY:function(f){return(this.getTop(f)+this.getBottom(f))/2},intersects:function(f,c,u,v){return!(u<=this.pixelX||v<=this.pixelY||f>=this.right||c>=this.bottom)},isInteresting:function(f,c){return f&&c?this.canCollide||this.hasInterestingFace:f?this.collides:c?this.hasInterestingFace:!1},resetCollision:function(f){if(f===void 0&&(f=!0),this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,f){var c=this.tilemapLayer;c&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},resetFaces:function(){return this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,this},setCollision:function(f,c,u,v,g){if(c===void 0&&(c=f),u===void 0&&(u=f),v===void 0&&(v=f),g===void 0&&(g=!0),this.collideLeft=f,this.collideRight=c,this.collideUp=u,this.collideDown=v,this.faceLeft=f,this.faceRight=c,this.faceTop=u,this.faceBottom=v,g){var m=this.tilemapLayer;m&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},setCollisionCallback:function(f,c){return f===null?(this.collisionCallback=void 0,this.collisionCallbackContext=void 0):(this.collisionCallback=f,this.collisionCallbackContext=c),this},setSize:function(f,c,u,v){return f!==void 0&&(this.width=f),c!==void 0&&(this.height=c),u!==void 0&&(this.baseWidth=u),v!==void 0&&(this.baseHeight=v),this.updatePixelXY(),this},updatePixelXY:function(){var f=this.layer.orientation;if(f===d.ORTHOGONAL)this.pixelX=this.x*this.baseWidth,this.pixelY=this.y*this.baseHeight;else if(f===d.ISOMETRIC)this.pixelX=(this.x-this.y)*this.baseWidth*.5,this.pixelY=(this.x+this.y)*this.baseHeight*.5;else if(f===d.STAGGERED)this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2),this.pixelY=this.y*(this.baseHeight/2);else if(f===d.HEXAGONAL){var c=this.layer.staggerAxis,u=this.layer.staggerIndex,v=this.layer.hexSideLength,g,m;c==="y"?(m=(this.baseHeight-v)/2+v,u==="odd"?this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2):this.pixelX=this.x*this.baseWidth-this.y%2*(this.baseWidth/2),this.pixelY=this.y*m):c==="x"&&(g=(this.baseWidth-v)/2+v,this.pixelX=this.x*g,u==="odd"?this.pixelY=this.y*this.baseHeight+this.x%2*(this.baseHeight/2):this.pixelY=this.y*this.baseHeight-this.x%2*(this.baseHeight/2))}return this.right=this.pixelX+this.baseWidth,this.bottom=this.pixelY+this.baseHeight,this},destroy:function(){this.collisionCallback=void 0,this.collisionCallbackContext=void 0,this.properties=void 0},canCollide:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown||this.collisionCallback!==void 0}},collides:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown}},hasInterestingFace:{get:function(){return this.faceTop||this.faceBottom||this.faceLeft||this.faceRight}},tileset:{get:function(){var f=this.layer.tilemapLayer;if(f){var c=f.gidMap[this.index];if(c)return c}return null}},tilemapLayer:{get:function(){return this.layer.tilemapLayer}},tilemap:{get:function(){var f=this.tilemapLayer;return f?f.tilemap:null}}});n.exports=a},49075:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(84101),x=r(83419),d=r(39506),h=r(80341),l=r(95540),a=r(14977),f=r(27462),c=r(91907),u=r(36305),v=r(19133),g=r(68287),m=r(23029),y=r(81086),C=r(20442),P=r(33629),w=new x({initialize:function(R,A){this.scene=R,this.tileWidth=A.tileWidth,this.tileHeight=A.tileHeight,this.width=A.width,this.height=A.height,this.orientation=A.orientation,this.renderOrder=A.renderOrder,this.format=A.format,this.version=A.version,this.properties=A.properties,this.widthInPixels=A.widthInPixels,this.heightInPixels=A.heightInPixels,this.imageCollections=A.imageCollections,this.images=A.images,this.layers=A.layers,this.tiles=A.tiles,this.tilesets=A.tilesets,this.objects=A.objects,this.currentLayerIndex=0,this.hexSideLength=A.hexSideLength;var L=this.orientation;this._convert={WorldToTileXY:y.GetWorldToTileXYFunction(L),WorldToTileX:y.GetWorldToTileXFunction(L),WorldToTileY:y.GetWorldToTileYFunction(L),TileToWorldXY:y.GetTileToWorldXYFunction(L),TileToWorldX:y.GetTileToWorldXFunction(L),TileToWorldY:y.GetTileToWorldYFunction(L),GetTileCorners:y.GetTileCornersFunction(L)}},setRenderOrder:function(M){var R=["right-down","left-down","right-up","left-up"];return typeof M=="number"&&(M=R[M]),R.indexOf(M)>-1&&(this.renderOrder=M),this},addTilesetImage:function(M,R,A,L,F,G,I,B){if(M===void 0)return null;R==null&&(R=M);var k=this.scene.sys.textures;if(!k.exists(R))return console.warn('Texture key "%s" not found',R),null;var U=k.get(R),H=this.getTilesetIndex(M);if(H===null&&this.format===h.TILED_JSON)return console.warn('Tilemap has no tileset "%s". Its tilesets are %o',M,this.tilesets),null;var X=this.tilesets[H];return X?((A||L)&&X.setTileSize(A,L),(F||G)&&X.setSpacing(F,G),X.setImage(U),X):(A===void 0&&(A=this.tileWidth),L===void 0&&(L=this.tileHeight),F===void 0&&(F=0),G===void 0&&(G=0),I===void 0&&(I=0),B===void 0&&(B={x:0,y:0}),X=new P(M,I,A,L,F,G,void 0,void 0,B),X.setImage(U),this.tilesets.push(X),this.tiles=o(this),X)},copy:function(M,R,A,L,F,G,I,B){return B=this.getLayer(B),B!==null?(y.Copy(M,R,A,L,F,G,I,B),this):null},createBlankLayer:function(M,R,A,L,F,G,I,B){A===void 0&&(A=0),L===void 0&&(L=0),F===void 0&&(F=this.width),G===void 0&&(G=this.height),I===void 0&&(I=this.tileWidth),B===void 0&&(B=this.tileHeight);var k=this.getLayerIndex(M);if(k!==null)return console.warn("Invalid Tilemap Layer ID: "+M),null;for(var U=new a({name:M,tileWidth:I,tileHeight:B,width:F,height:G,orientation:this.orientation,hexSideLength:this.hexSideLength}),H,X=0;X<G;X++){H=[];for(var j=0;j<F;j++)H.push(new m(U,-1,j,X,I,B,this.tileWidth,this.tileHeight));U.data.push(H)}this.layers.push(U),this.currentLayerIndex=this.layers.length-1;var J=new C(this.scene,this,this.currentLayerIndex,R,A,L);return J.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(J),J},createLayer:function(M,R,A,L){var F=this.getLayerIndex(M);if(F===null)return console.warn("Invalid Tilemap Layer ID: "+M),typeof M=="string"&&console.warn("Valid tilelayer names: %o",this.getTileLayerNames()),null;var G=this.layers[F];if(G.tilemapLayer)return console.warn("Tilemap Layer ID already exists:"+M),null;this.currentLayerIndex=F,A===void 0&&(A=G.x),L===void 0&&(L=G.y);var I=new C(this.scene,this,F,R,A,L);return I.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(I),I},createFromObjects:function(M,R,A){A===void 0&&(A=!0);var L=[],F=this.getObjectLayer(M);if(!F)return console.warn("createFromObjects: Invalid objectLayerName given: "+M),L;var G=new f(A?this.tilesets:void 0);Array.isArray(R)||(R=[R]);for(var I=F.objects,B=0;B<R.length;B++){var k=R[B],U=l(k,"id",null),H=l(k,"gid",null),X=l(k,"name",null),j=l(k,"type",null);G.enabled=!l(k,"ignoreTileset",null);for(var J,Y=[],$=0;$<I.length;$++)J=I[$],(U===null&&H===null&&X===null&&j===null||U!==null&&J.id===U||H!==null&&J.gid===H||X!==null&&J.name===X||j!==null&&G.getTypeIncludingTile(J)===j)&&Y.push(J);for(var z=l(k,"classType",g),V=l(k,"scene",this.scene),K=l(k,"container",null),Q=l(k,"key",null),_=l(k,"frame",null),tt=0;tt<Y.length;tt++){J=Y[tt];var rt=new z(V);if(rt.setName(J.name),rt.setPosition(J.x,J.y),G.setTextureAndFrame(rt,Q,_,J),J.width&&(rt.displayWidth=J.width),J.height&&(rt.displayHeight=J.height),this.orientation===c.ISOMETRIC){var ot=this.tileWidth/this.tileHeight,ft={x:rt.x-rt.y,y:(rt.x+rt.y)/ot};rt.x=ft.x,rt.y=ft.y}var ct={x:rt.originX*J.width,y:(rt.originY-(J.gid?1:0))*J.height};if(J.rotation){var gt=d(J.rotation);u(ct,gt),rt.rotation=gt}rt.x+=ct.x,rt.y+=ct.y,(J.flippedHorizontal!==void 0||J.flippedVertical!==void 0)&&rt.setFlip(J.flippedHorizontal,J.flippedVertical),J.visible||(rt.visible=!1),G.setPropertiesFromTiledObject(rt,J),K?K.add(rt):V.add.existing(rt),L.push(rt)}}return L},createFromTiles:function(M,R,A,L,F,G){return G=this.getLayer(G),G===null?null:y.CreateFromTiles(M,R,A,L,F,G)},fill:function(M,R,A,L,F,G,I){return G===void 0&&(G=!0),I=this.getLayer(I),I===null?null:(y.Fill(M,R,A,L,F,G,I),this)},filterObjects:function(M,R,A){if(typeof M=="string"){var L=M;if(M=this.getObjectLayer(M),!M)return console.warn("No object layer found with the name: "+L),null}return M.objects.filter(R,A)},filterTiles:function(M,R,A,L,F,G,I,B){return B=this.getLayer(B),B===null?null:y.FilterTiles(M,R,A,L,F,G,I,B)},findByIndex:function(M,R,A,L){return L=this.getLayer(L),L===null?null:y.FindByIndex(M,R,A,L)},findObject:function(M,R,A){if(typeof M=="string"){var L=M;if(M=this.getObjectLayer(M),!M)return console.warn("No object layer found with the name: "+L),null}return M.objects.find(R,A)||null},findTile:function(M,R,A,L,F,G,I,B){return B=this.getLayer(B),B===null?null:y.FindTile(M,R,A,L,F,G,I,B)},forEachTile:function(M,R,A,L,F,G,I,B){return B=this.getLayer(B),B===null?null:(y.ForEachTile(M,R,A,L,F,G,I,B),this)},getImageIndex:function(M){return this.getIndex(this.images,M)},getImageLayerNames:function(){return!this.images||!Array.isArray(this.images)?[]:this.images.map(function(M){return M.name})},getIndex:function(M,R){for(var A=0;A<M.length;A++)if(M[A].name===R)return A;return null},getLayer:function(M){var R=this.getLayerIndex(M);return R!==null?this.layers[R]:null},getObjectLayer:function(M){var R=this.getIndex(this.objects,M);return R!==null?this.objects[R]:null},getObjectLayerNames:function(){return!this.objects||!Array.isArray(this.objects)?[]:this.objects.map(function(M){return M.name})},getLayerIndex:function(M){return M===void 0?this.currentLayerIndex:typeof M=="string"?this.getLayerIndexByName(M):typeof M=="number"&&M<this.layers.length?M:M instanceof C&&M.tilemap===this?M.layerIndex:null},getLayerIndexByName:function(M){return this.getIndex(this.layers,M)},getTileAt:function(M,R,A,L){return L=this.getLayer(L),L===null?null:y.GetTileAt(M,R,A,L)},getTileAtWorldXY:function(M,R,A,L,F){return F=this.getLayer(F),F===null?null:y.GetTileAtWorldXY(M,R,A,L,F)},getTileLayerNames:function(){return!this.layers||!Array.isArray(this.layers)?[]:this.layers.map(function(M){return M.name})},getTilesWithin:function(M,R,A,L,F,G){return G=this.getLayer(G),G===null?null:y.GetTilesWithin(M,R,A,L,F,G)},getTilesWithinShape:function(M,R,A,L){return L=this.getLayer(L),L===null?null:y.GetTilesWithinShape(M,R,A,L)},getTilesWithinWorldXY:function(M,R,A,L,F,G,I){return I=this.getLayer(I),I===null?null:y.GetTilesWithinWorldXY(M,R,A,L,F,G,I)},getTileset:function(M){var R=this.getIndex(this.tilesets,M);return R!==null?this.tilesets[R]:null},getTilesetIndex:function(M){return this.getIndex(this.tilesets,M)},hasTileAt:function(M,R,A){return A=this.getLayer(A),A===null?null:y.HasTileAt(M,R,A)},hasTileAtWorldXY:function(M,R,A,L){return L=this.getLayer(L),L===null?null:y.HasTileAtWorldXY(M,R,A,L)},layer:{get:function(){return this.layers[this.currentLayerIndex]},set:function(M){this.setLayer(M)}},putTileAt:function(M,R,A,L,F){return L===void 0&&(L=!0),F=this.getLayer(F),F===null?null:y.PutTileAt(M,R,A,L,F)},putTileAtWorldXY:function(M,R,A,L,F,G){return L===void 0&&(L=!0),G=this.getLayer(G),G===null?null:y.PutTileAtWorldXY(M,R,A,L,F,G)},putTilesAt:function(M,R,A,L,F){return L===void 0&&(L=!0),F=this.getLayer(F),F===null?null:(y.PutTilesAt(M,R,A,L,F),this)},randomize:function(M,R,A,L,F,G){return G=this.getLayer(G),G===null?null:(y.Randomize(M,R,A,L,F,G),this)},calculateFacesAt:function(M,R,A){return A=this.getLayer(A),A===null?null:(y.CalculateFacesAt(M,R,A),this)},calculateFacesWithin:function(M,R,A,L,F){return F=this.getLayer(F),F===null?null:(y.CalculateFacesWithin(M,R,A,L,F),this)},removeLayer:function(M){var R=this.getLayerIndex(M);if(R!==null){v(this.layers,R);for(var A=R;A<this.layers.length;A++)this.layers[A].tilemapLayer&&this.layers[A].tilemapLayer.layerIndex--;return this.currentLayerIndex===R&&(this.currentLayerIndex=0),this}else return null},destroyLayer:function(M){var R=this.getLayerIndex(M);return R!==null?(M=this.layers[R],M.tilemapLayer.destroy(),v(this.layers,R),this.currentLayerIndex===R&&(this.currentLayerIndex=0),this):null},removeAllLayers:function(){for(var M=this.layers,R=0;R<M.length;R++)M[R].tilemapLayer&&M[R].tilemapLayer.destroy(!1);return M.length=0,this.currentLayerIndex=0,this},removeTile:function(M,R,A){R===void 0&&(R=-1),A===void 0&&(A=!0);var L=[];Array.isArray(M)||(M=[M]);for(var F=0;F<M.length;F++){var G=M[F];L.push(this.removeTileAt(G.x,G.y,!0,A,G.tilemapLayer)),R>-1&&this.putTileAt(R,G.x,G.y,A,G.tilemapLayer)}return L},removeTileAt:function(M,R,A,L,F){return A===void 0&&(A=!0),L===void 0&&(L=!0),F=this.getLayer(F),F===null?null:y.RemoveTileAt(M,R,A,L,F)},removeTileAtWorldXY:function(M,R,A,L,F,G){return A===void 0&&(A=!0),L===void 0&&(L=!0),G=this.getLayer(G),G===null?null:y.RemoveTileAtWorldXY(M,R,A,L,F,G)},renderDebug:function(M,R,A){return A=this.getLayer(A),A===null?null:(this.orientation===c.ORTHOGONAL&&y.RenderDebug(M,R,A),this)},renderDebugFull:function(M,R){for(var A=this.layers,L=0;L<A.length;L++)y.RenderDebug(M,R,A[L]);return this},replaceByIndex:function(M,R,A,L,F,G,I){return I=this.getLayer(I),I===null?null:(y.ReplaceByIndex(M,R,A,L,F,G,I),this)},setCollision:function(M,R,A,L,F){return R===void 0&&(R=!0),A===void 0&&(A=!0),F===void 0&&(F=!0),L=this.getLayer(L),L===null?null:(y.SetCollision(M,R,A,L,F),this)},setCollisionBetween:function(M,R,A,L,F){return A===void 0&&(A=!0),L===void 0&&(L=!0),F=this.getLayer(F),F===null?null:(y.SetCollisionBetween(M,R,A,L,F),this)},setCollisionByProperty:function(M,R,A,L){return R===void 0&&(R=!0),A===void 0&&(A=!0),L=this.getLayer(L),L===null?null:(y.SetCollisionByProperty(M,R,A,L),this)},setCollisionByExclusion:function(M,R,A,L){return R===void 0&&(R=!0),A===void 0&&(A=!0),L=this.getLayer(L),L===null?null:(y.SetCollisionByExclusion(M,R,A,L),this)},setCollisionFromCollisionGroup:function(M,R,A){return M===void 0&&(M=!0),R===void 0&&(R=!0),A=this.getLayer(A),A===null?null:(y.SetCollisionFromCollisionGroup(M,R,A),this)},setTileIndexCallback:function(M,R,A,L){return L=this.getLayer(L),L===null?null:(y.SetTileIndexCallback(M,R,A,L),this)},setTileLocationCallback:function(M,R,A,L,F,G,I){return I=this.getLayer(I),I===null?null:(y.SetTileLocationCallback(M,R,A,L,F,G,I),this)},setLayer:function(M){var R=this.getLayerIndex(M);return R!==null&&(this.currentLayerIndex=R),this},setBaseTileSize:function(M,R){this.tileWidth=M,this.tileHeight=R,this.widthInPixels=this.width*M,this.heightInPixels=this.height*R;for(var A=0;A<this.layers.length;A++){this.layers[A].baseTileWidth=M,this.layers[A].baseTileHeight=R;for(var L=this.layers[A].data,F=this.layers[A].width,G=this.layers[A].height,I=0;I<G;I++)for(var B=0;B<F;B++){var k=L[I][B];k!==null&&k.setSize(void 0,void 0,M,R)}}return this},setLayerTileSize:function(M,R,A){if(A=this.getLayer(A),A===null)return this;A.tileWidth=M,A.tileHeight=R;for(var L=A.data,F=A.width,G=A.height,I=0;I<G;I++)for(var B=0;B<F;B++){var k=L[I][B];k!==null&&k.setSize(M,R)}return this},shuffle:function(M,R,A,L,F){return F=this.getLayer(F),F===null?null:(y.Shuffle(M,R,A,L,F),this)},swapByIndex:function(M,R,A,L,F,G,I){return I=this.getLayer(I),I===null?null:(y.SwapByIndex(M,R,A,L,F,G,I),this)},tileToWorldX:function(M,R,A){return A=this.getLayer(A),A===null?null:this._convert.TileToWorldX(M,R,A)},tileToWorldY:function(M,R,A){return A=this.getLayer(A),A===null?null:this._convert.TileToWorldY(M,R,A)},tileToWorldXY:function(M,R,A,L,F){return F=this.getLayer(F),F===null?null:this._convert.TileToWorldXY(M,R,A,L,F)},getTileCorners:function(M,R,A,L){return L=this.getLayer(L),L===null?null:this._convert.GetTileCorners(M,R,A,L)},weightedRandomize:function(M,R,A,L,F,G){return G=this.getLayer(G),G===null?null:(y.WeightedRandomize(R,A,L,F,M,G),this)},worldToTileX:function(M,R,A,L){return L=this.getLayer(L),L===null?null:this._convert.WorldToTileX(M,R,A,L)},worldToTileY:function(M,R,A,L){return L=this.getLayer(L),L===null?null:this._convert.WorldToTileY(M,R,A,L)},worldToTileXY:function(M,R,A,L,F,G){return G=this.getLayer(G),G===null?null:this._convert.WorldToTileXY(M,R,A,L,F,G)},destroy:function(){this.removeAllLayers(),this.tiles.length=0,this.tilesets.length=0,this.objects.length=0,this.scene=null}});n.exports=w},45939:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(44603),x=r(31989);o.register("tilemap",function(d){var h=d!==void 0?d:{};return x(this.scene,h.key,h.tileWidth,h.tileHeight,h.width,h.height,h.data,h.insertNull)})},46029:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(39429),x=r(31989);o.register("tilemap",function(d,h,l,a,f,c,u){return d===null&&(d=void 0),h===null&&(h=void 0),l===null&&(l=void 0),a===null&&(a=void 0),f===null&&(f=void 0),x(this.scene,d,h,l,a,f,c,u)})},20442:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(78389),d=r(31401),h=r(95643),l=r(81086),a=r(19218),f=r(26099),c=new o({Extends:h,Mixins:[d.Alpha,d.BlendMode,d.ComputedSize,d.Depth,d.Flip,d.GetBounds,d.Mask,d.Origin,d.Pipeline,d.PostPipeline,d.Transform,d.Visible,d.ScrollFactor,x,a],initialize:function(v,g,m,y,C,P){h.call(this,v,"TilemapLayer"),this.isTilemap=!0,this.tilemap=g,this.layerIndex=m,this.layer=g.layers[m],this.layer.tilemapLayer=this,this.tileset=[],this.tilesDrawn=0,this.tilesTotal=this.layer.width*this.layer.height,this.culledTiles=[],this.skipCull=!1,this.cullPaddingX=1,this.cullPaddingY=1,this.cullCallback=l.GetCullTilesFunction(this.layer.orientation),this._renderOrder=0,this.gidMap=[],this.tempVec=new f,this.collisionCategory=1,this.collisionMask=1,this.setTilesets(y),this.setAlpha(this.layer.alpha),this.setPosition(C,P),this.setOrigin(0,0),this.setSize(g.tileWidth*this.layer.width,g.tileHeight*this.layer.height),this.initPipeline(),this.initPostPipeline(!1)},setTilesets:function(u){var v=[],g=[],m=this.tilemap;Array.isArray(u)||(u=[u]);for(var y=0;y<u.length;y++){var C=u[y];if(typeof C=="string"&&(C=m.getTileset(C)),C){g.push(C);for(var P=C.firstgid,w=0;w<C.total;w++)v[P+w]=C}}this.gidMap=v,this.tileset=g},setRenderOrder:function(u){var v=["right-down","left-down","right-up","left-up"];return typeof u=="string"&&(u=v.indexOf(u)),u>=0&&u<4&&(this._renderOrder=u),this},calculateFacesAt:function(u,v){return l.CalculateFacesAt(u,v,this.layer),this},calculateFacesWithin:function(u,v,g,m){return l.CalculateFacesWithin(u,v,g,m,this.layer),this},createFromTiles:function(u,v,g,m,y){return l.CreateFromTiles(u,v,g,m,y,this.layer)},cull:function(u){return this.cullCallback(this.layer,u,this.culledTiles,this._renderOrder)},copy:function(u,v,g,m,y,C,P){return l.Copy(u,v,g,m,y,C,P,this.layer),this},fill:function(u,v,g,m,y,C){return l.Fill(u,v,g,m,y,C,this.layer),this},filterTiles:function(u,v,g,m,y,C,P){return l.FilterTiles(u,v,g,m,y,C,P,this.layer)},findByIndex:function(u,v,g){return l.FindByIndex(u,v,g,this.layer)},findTile:function(u,v,g,m,y,C,P){return l.FindTile(u,v,g,m,y,C,P,this.layer)},forEachTile:function(u,v,g,m,y,C,P){return l.ForEachTile(u,v,g,m,y,C,P,this.layer),this},setTint:function(u,v,g,m,y,C){u===void 0&&(u=16777215);var P=function(w){w.tint=u,w.tintFill=!1};return this.forEachTile(P,this,v,g,m,y,C)},setTintFill:function(u,v,g,m,y,C){u===void 0&&(u=16777215);var P=function(w){w.tint=u,w.tintFill=!0};return this.forEachTile(P,this,v,g,m,y,C)},getTileAt:function(u,v,g){return l.GetTileAt(u,v,g,this.layer)},getTileAtWorldXY:function(u,v,g,m){return l.GetTileAtWorldXY(u,v,g,m,this.layer)},getIsoTileAtWorldXY:function(u,v,g,m,y){g===void 0&&(g=!0);var C=this.tempVec;return l.IsometricWorldToTileXY(u,v,!0,C,y,this.layer,g),this.getTileAt(C.x,C.y,m)},getTilesWithin:function(u,v,g,m,y){return l.GetTilesWithin(u,v,g,m,y,this.layer)},getTilesWithinShape:function(u,v,g){return l.GetTilesWithinShape(u,v,g,this.layer)},getTilesWithinWorldXY:function(u,v,g,m,y,C){return l.GetTilesWithinWorldXY(u,v,g,m,y,C,this.layer)},hasTileAt:function(u,v){return l.HasTileAt(u,v,this.layer)},hasTileAtWorldXY:function(u,v,g){return l.HasTileAtWorldXY(u,v,g,this.layer)},putTileAt:function(u,v,g,m){return l.PutTileAt(u,v,g,m,this.layer)},putTileAtWorldXY:function(u,v,g,m,y){return l.PutTileAtWorldXY(u,v,g,m,y,this.layer)},putTilesAt:function(u,v,g,m){return l.PutTilesAt(u,v,g,m,this.layer),this},randomize:function(u,v,g,m,y){return l.Randomize(u,v,g,m,y,this.layer),this},removeTileAt:function(u,v,g,m){return l.RemoveTileAt(u,v,g,m,this.layer)},removeTileAtWorldXY:function(u,v,g,m,y){return l.RemoveTileAtWorldXY(u,v,g,m,y,this.layer)},renderDebug:function(u,v){return l.RenderDebug(u,v,this.layer),this},replaceByIndex:function(u,v,g,m,y,C){return l.ReplaceByIndex(u,v,g,m,y,C,this.layer),this},setSkipCull:function(u){return u===void 0&&(u=!0),this.skipCull=u,this},setCullPadding:function(u,v){return u===void 0&&(u=1),v===void 0&&(v=1),this.cullPaddingX=u,this.cullPaddingY=v,this},setCollision:function(u,v,g,m){return l.SetCollision(u,v,g,this.layer,m),this},setCollisionBetween:function(u,v,g,m){return l.SetCollisionBetween(u,v,g,m,this.layer),this},setCollisionByProperty:function(u,v,g){return l.SetCollisionByProperty(u,v,g,this.layer),this},setCollisionByExclusion:function(u,v,g){return l.SetCollisionByExclusion(u,v,g,this.layer),this},setCollisionFromCollisionGroup:function(u,v){return l.SetCollisionFromCollisionGroup(u,v,this.layer),this},setTileIndexCallback:function(u,v,g){return l.SetTileIndexCallback(u,v,g,this.layer),this},setTileLocationCallback:function(u,v,g,m,y,C){return l.SetTileLocationCallback(u,v,g,m,y,C,this.layer),this},shuffle:function(u,v,g,m){return l.Shuffle(u,v,g,m,this.layer),this},swapByIndex:function(u,v,g,m,y,C){return l.SwapByIndex(u,v,g,m,y,C,this.layer),this},tileToWorldX:function(u,v){return this.tilemap.tileToWorldX(u,v,this)},tileToWorldY:function(u,v){return this.tilemap.tileToWorldY(u,v,this)},tileToWorldXY:function(u,v,g,m){return this.tilemap.tileToWorldXY(u,v,g,m,this)},getTileCorners:function(u,v,g){return this.tilemap.getTileCorners(u,v,g,this)},weightedRandomize:function(u,v,g,m,y){return l.WeightedRandomize(v,g,m,y,u,this.layer),this},worldToTileX:function(u,v,g){return this.tilemap.worldToTileX(u,v,g,this)},worldToTileY:function(u,v,g){return this.tilemap.worldToTileY(u,v,g,this)},worldToTileXY:function(u,v,g,m,y){return this.tilemap.worldToTileXY(u,v,g,m,y,this)},destroy:function(u){u===void 0&&(u=!0),this.tilemap&&(this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=void 0),u&&this.tilemap.removeLayer(this),this.tilemap=void 0,this.layer=void 0,this.culledTiles.length=0,this.cullCallback=null,this.gidMap=[],this.tileset=[],h.prototype.destroy.call(this))}});n.exports=c},16153:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(61340),x=new o,d=new o,h=new o,l=function(a,f,c,u){var v=f.cull(c),g=v.length,m=c.alpha*f.alpha;if(!(g===0||m<=0)){var y=x,C=d,P=h;C.applyITRS(f.x,f.y,f.rotation,f.scaleX,f.scaleY),y.copyFrom(c.matrix);var w=a.currentContext,M=f.gidMap;w.save(),u?(y.multiplyWithOffset(u,-c.scrollX*f.scrollFactorX,-c.scrollY*f.scrollFactorY),C.e=f.x,C.f=f.y,y.multiply(C,P),P.copyToContext(w)):(C.e-=c.scrollX*f.scrollFactorX,C.f-=c.scrollY*f.scrollFactorY,C.copyToContext(w)),(!a.antialias||f.scaleX>1||f.scaleY>1)&&(w.imageSmoothingEnabled=!1);for(var R=0;R<g;R++){var A=v[R],L=M[A.index];if(L){var F=L.image.getSourceImage(),G=L.getTileTextureCoordinates(A.index),I=L.tileWidth,B=L.tileHeight;if(!(G===null||I===0||B===0)){var k=I*.5,U=B*.5;G.x+=L.tileOffset.x,G.y+=L.tileOffset.y,w.save(),w.translate(A.pixelX+k,A.pixelY+U),A.rotation!==0&&w.rotate(A.rotation),(A.flipX||A.flipY)&&w.scale(A.flipX?-1:1,A.flipY?-1:1),w.globalAlpha=m*A.alpha,w.drawImage(F,G.x,G.y,I,B,-k,-U,I,B),w.restore()}}}w.restore()}};n.exports=l},19218:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),x=o,d=o;x=r(99558),d=r(16153),n.exports={renderWebGL:x,renderCanvas:d}},99558:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(70554),x=function(d,h,l){var a=h.cull(l),f=a.length,c=l.alpha*h.alpha;if(!(f===0||c<=0)){var u=h.gidMap,v=d.pipelines.set(h.pipeline,h),g=o.getTintAppendFloatAlpha,m=h.scrollFactorX,y=h.scrollFactorY,C=h.x,P=h.y,w=h.scaleX,M=h.scaleY;d.pipelines.preBatch(h);for(var R=0;R<f;R++){var A=a[R],L=u[A.index];if(L){var F=L.getTileTextureCoordinates(A.index),G=L.tileWidth,I=L.tileHeight;if(!(!F||G===0||I===0)){var B=G*.5,k=I*.5,U=L.glTexture,H=v.setTexture2D(U,h),X=G,j=I,J=F.x,Y=F.y,$=L.tileOffset.x,z=L.tileOffset.y,V=g(A.tint,c*A.alpha);v.batchTexture(h,U,U.width,U.height,C+A.pixelX*w+(B*w-$),P+A.pixelY*M+(k*M-z),G,I,w,M,A.rotation,A.flipX,A.flipY,m,y,B,k,J,Y,X,j,V,V,V,V,A.tintFill,0,0,l,null,!0,H,!0)}}}d.pipelines.postBatch(h)}};n.exports=x},33629:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(26099),d=new o({initialize:function(l,a,f,c,u,v,g,m,y){(f===void 0||f<=0)&&(f=32),(c===void 0||c<=0)&&(c=32),u===void 0&&(u=0),v===void 0&&(v=0),g===void 0&&(g={}),m===void 0&&(m={}),this.name=l,this.firstgid=a,this.tileWidth=f,this.tileHeight=c,this.tileMargin=u,this.tileSpacing=v,this.tileProperties=g,this.tileData=m,this.tileOffset=new x,y!==void 0&&this.tileOffset.set(y.x,y.y),this.image=null,this.glTexture=null,this.rows=0,this.columns=0,this.total=0,this.texCoordinates=[]},getTileProperties:function(h){return this.containsTileIndex(h)?this.tileProperties[h-this.firstgid]:null},getTileData:function(h){return this.containsTileIndex(h)?this.tileData[h-this.firstgid]:null},getTileCollisionGroup:function(h){var l=this.getTileData(h);return l&&l.objectgroup?l.objectgroup:null},containsTileIndex:function(h){return h>=this.firstgid&&h<this.firstgid+this.total},getTileTextureCoordinates:function(h){return this.containsTileIndex(h)?this.texCoordinates[h-this.firstgid]:null},setImage:function(h){this.image=h;var l=h.get(),a=h.getFrameBounds();return this.glTexture=l.source.glTexture,l.width>a.width||l.height>a.height?this.updateTileData(l.width,l.height):this.updateTileData(a.width,a.height,a.x,a.y),this},setTileSize:function(h,l){return h!==void 0&&(this.tileWidth=h),l!==void 0&&(this.tileHeight=l),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setSpacing:function(h,l){return h!==void 0&&(this.tileMargin=h),l!==void 0&&(this.tileSpacing=l),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},updateTileData:function(h,l,a,f){a===void 0&&(a=0),f===void 0&&(f=0);var c=(l-this.tileMargin*2+this.tileSpacing)/(this.tileHeight+this.tileSpacing),u=(h-this.tileMargin*2+this.tileSpacing)/(this.tileWidth+this.tileSpacing);(c%1!==0||u%1!==0)&&console.warn("Image tile area not tile size multiple in: "+this.name),c=Math.floor(c),u=Math.floor(u),this.rows=c,this.columns=u,this.total=c*u,this.texCoordinates.length=0;for(var v=this.tileMargin+a,g=this.tileMargin+f,m=0;m<this.rows;m++){for(var y=0;y<this.columns;y++)this.texCoordinates.push({x:v,y:g}),v+=this.tileWidth+this.tileSpacing;v=this.tileMargin+a,g+=this.tileHeight+this.tileSpacing}return this}});n.exports=d},72023:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(7423),x=function(d,h,l){var a=o(d,h,!0,l),f=o(d,h-1,!0,l),c=o(d,h+1,!0,l),u=o(d-1,h,!0,l),v=o(d+1,h,!0,l),g=a&&a.collides;return g&&(a.faceTop=!0,a.faceBottom=!0,a.faceLeft=!0,a.faceRight=!0),f&&f.collides&&(g&&(a.faceTop=!1),f.faceBottom=!g),c&&c.collides&&(g&&(a.faceBottom=!1),c.faceTop=!g),u&&u.collides&&(g&&(a.faceLeft=!1),u.faceRight=!g),v&&v.collides&&(g&&(a.faceRight=!1),v.faceLeft=!g),a&&!a.collides&&a.resetFaces(),a};n.exports=x},42573:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(7423),x=r(7386),d=function(h,l,a,f,c){for(var u=null,v=null,g=null,m=null,y=x(h,l,a,f,null,c),C=0;C<y.length;C++){var P=y[C];P&&(P.collides?(u=o(P.x,P.y-1,!0,c),v=o(P.x,P.y+1,!0,c),g=o(P.x-1,P.y,!0,c),m=o(P.x+1,P.y,!0,c),P.faceTop=!(u&&u.collides),P.faceBottom=!(v&&v.collides),P.faceLeft=!(g&&g.collides),P.faceRight=!(m&&m.collides)):P.resetFaces())}};n.exports=d},33528:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(26099),x=new o,d=function(h,l,a,f){var c=a.tilemapLayer,u=c.cullPaddingX,v=c.cullPaddingY,g=c.tilemap.tileToWorldXY(h,l,x,f,c);return g.x>f.worldView.x+c.scaleX*a.tileWidth*(-u-.5)&&g.x<f.worldView.right+c.scaleX*a.tileWidth*(u-.5)&&g.y>f.worldView.y+c.scaleY*a.tileHeight*(-v-1)&&g.y<f.worldView.bottom+c.scaleY*a.tileHeight*(v-.5)};n.exports=d},1785:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(42573),x=r(7386),d=r(62991),h=r(23029),l=function(a,f,c,u,v,g,m,y){m===void 0&&(m=!0);var C=x(a,f,c,u,null,y),P=[];C.forEach(function(G){var I=new h(G.layer,G.index,G.x,G.y,G.width,G.height,G.baseWidth,G.baseHeight);I.copy(G),P.push(I)});for(var w=v-a,M=g-f,R=0;R<P.length;R++){var A=P[R],L=A.x+w,F=A.y+M;d(L,F,y)&&y.data[F][L]&&(A.x=L,A.y=F,A.updatePixelXY(),y.data[F][L]=A)}m&&o(v-1,g-1,c+2,u+2,y),C.length=0,P.length=0};n.exports=l},78419:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(62644),x=r(7386),d=r(27987),h=function(l,a,f,c,u,v){f||(f={}),Array.isArray(l)||(l=[l]);var g=v.tilemapLayer;c||(c=g.scene),u||(u=c.cameras.main);var m=v.width,y=v.height,C=x(0,0,m,y,null,v),P=[],w,M=function(F,G,I){for(var B=0;B<I.length;B++){var k=I[B];F.hasOwnProperty(k)||(F[k]=G[k])}};for(w=0;w<C.length;w++){var R=C[w],A=o(f);if(l.indexOf(R.index)!==-1){var L=g.tileToWorldXY(R.x,R.y,void 0,u,v);A.x=L.x,A.y=L.y,M(A,R,["rotation","flipX","flipY","alpha","visible","tint"]),A.hasOwnProperty("origin")||(A.x+=R.width*.5,A.y+=R.height*.5),A.hasOwnProperty("useSpriteSheet")&&(A.key=R.tileset.image,A.frame=R.index-1),P.push(c.make.sprite(A))}}if(Array.isArray(a))for(w=0;w<l.length;w++)d(l[w],a[w],0,0,m,y,v);else if(a!==null)for(w=0;w<l.length;w++)d(l[w],a,0,0,m,y,v);return P};n.exports=h},19545:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(87841),x=r(63448),d=r(56583),h=new o,l=function(a,f){var c=a.tilemapLayer.tilemap,u=a.tilemapLayer,v=Math.floor(c.tileWidth*u.scaleX),g=Math.floor(c.tileHeight*u.scaleY),m=d(f.worldView.x-u.x,v,0,!0)-u.cullPaddingX,y=x(f.worldView.right-u.x,v,0,!0)+u.cullPaddingX,C=d(f.worldView.y-u.y,g,0,!0)-u.cullPaddingY,P=x(f.worldView.bottom-u.y,g,0,!0)+u.cullPaddingY;return h.setTo(m,C,y-m,P-C)};n.exports=l},30003:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(19545),x=r(32483),d=function(h,l,a,f){a===void 0&&(a=[]),f===void 0&&(f=0),a.length=0;var c=h.tilemapLayer,u=o(h,l);return(c.skipCull||c.scrollFactorX!==1||c.scrollFactorY!==1)&&(u.left=0,u.right=h.width,u.top=0,u.bottom=h.height),x(h,u,f,a),a};n.exports=d},35137:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(7386),x=r(42573),d=r(20576),h=function(l,a,f,c,u,v,g){for(var m=g.collideIndexes.indexOf(l)!==-1,y=o(a,f,c,u,null,g),C=0;C<y.length;C++)y[C].index=l,d(y[C],m);v&&x(a-1,f-1,c+2,u+2,g)};n.exports=h},40253:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(7386),x=function(d,h,l,a,f,c,u,v){var g=o(l,a,f,c,u,v);return g.filter(d,h)};n.exports=x},52692:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d){o===void 0&&(o=0),x===void 0&&(x=!1);var h=0,l,a,f;if(x){for(a=d.height-1;a>=0;a--)for(l=d.width-1;l>=0;l--)if(f=d.data[a][l],f&&f.index===r){if(h===o)return f;h+=1}}else for(a=0;a<d.height;a++)for(l=0;l<d.width;l++)if(f=d.data[a][l],f&&f.index===r){if(h===o)return f;h+=1}return null};n.exports=T},66151:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(7386),x=function(d,h,l,a,f,c,u,v){var g=o(l,a,f,c,u,v);return g.find(d,h)||null};n.exports=x},97560:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(7386),x=function(d,h,l,a,f,c,u,v){var g=o(l,a,f,c,u,v);g.forEach(d,h)};n.exports=x},43305:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(91907),x=r(30003),d=r(9474),h=r(14018),l=r(29747),a=r(54503),f=function(c){return c===o.ORTHOGONAL?x:c===o.HEXAGONAL?d:c===o.STAGGERED?a:c===o.ISOMETRIC?h:l};n.exports=f},7423:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(62991),x=function(d,h,l,a){if(o(d,h,a)){var f=a.data[h][d]||null;return f?f.index===-1?l?f:null:f:null}else return null};n.exports=x},60540:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(7423),x=r(26099),d=new x,h=function(l,a,f,c,u){return u.tilemapLayer.worldToTileXY(l,a,!0,d,c),o(d.x,d.y,f,u)};n.exports=h},55826:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(26099),x=function(d,h,l,a){var f=a.baseTileWidth,c=a.baseTileHeight,u=a.tilemapLayer,v=0,g=0;u&&(l||(l=u.scene.cameras.main),v=u.x+l.scrollX*(1-u.scrollFactorX),g=u.y+l.scrollY*(1-u.scrollFactorY),f*=u.scaleX,c*=u.scaleY);var m=v+d*f,y=g+h*c;return[new o(m,y),new o(m+f,y),new o(m+f,y+c),new o(m,y+c)]};n.exports=x},11758:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(91907),x=r(27229),d=r(29747),h=r(55826),l=function(a){return a===o.ORTHOGONAL?h:a===o.ISOMETRIC?d:a===o.HEXAGONAL?x:(a===o.STAGGERED,d)};n.exports=l},39167:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(91907),x=r(29747),d=r(97281),h=function(l){return l===o.ORTHOGONAL?d:x};n.exports=h},62e3:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(91907),x=r(19951),d=r(14127),h=r(29747),l=r(97202),a=r(70326),f=function(c){return c===o.ORTHOGONAL?a:c===o.ISOMETRIC?d:c===o.HEXAGONAL?x:c===o.STAGGERED?l:h};n.exports=f},5984:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(91907),x=r(29747),d=r(28054),h=r(29650),l=function(a){return a===o.ORTHOGONAL?h:a===o.STAGGERED?d:x};n.exports=l},7386:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(95540),x=function(d,h,l,a,f,c){d===void 0&&(d=0),h===void 0&&(h=0),l===void 0&&(l=c.width),a===void 0&&(a=c.height),f||(f={});var u=o(f,"isNotEmpty",!1),v=o(f,"isColliding",!1),g=o(f,"hasInterestingFace",!1);d<0&&(l+=d,d=0),h<0&&(a+=h,h=0),d+l>c.width&&(l=Math.max(c.width-d,0)),h+a>c.height&&(a=Math.max(c.height-h,0));for(var m=[],y=h;y<h+a;y++)for(var C=d;C<d+l;C++){var P=c.data[y][C];if(P!==null){if(u&&P.index===-1||v&&!P.collides||g&&!P.hasInterestingFace)continue;m.push(P)}}return m};n.exports=x},91141:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(55738),x=r(7386),d=r(91865),h=r(29747),l=r(26099),a=r(91907),f=function(m,y){return d.RectangleToTriangle(y,m)},c=new l,u=new l,v=new l,g=function(m,y,C,P){if(P.orientation!==a.ORTHOGONAL)return console.warn("GetTilesWithinShape only works with orthogonal tilemaps"),[];if(m===void 0)return[];var w=h;m instanceof o.Circle?w=d.CircleToRectangle:m instanceof o.Rectangle?w=d.RectangleToRectangle:m instanceof o.Triangle?w=f:m instanceof o.Line&&(w=d.LineToRectangle),P.tilemapLayer.worldToTileXY(m.left,m.top,!0,u,C);var M=u.x,R=u.y;P.tilemapLayer.worldToTileXY(m.right,m.bottom,!1,v,C);var A=Math.ceil(v.x),L=Math.ceil(v.y),F=Math.max(A-M,1),G=Math.max(L-R,1),I=x(M,R,F,G,y,P),B=P.tileWidth,k=P.tileHeight;P.tilemapLayer&&(B*=P.tilemapLayer.scaleX,k*=P.tilemapLayer.scaleY);for(var U=[],H=new o.Rectangle(0,0,B,k),X=0;X<I.length;X++){var j=I[X];P.tilemapLayer.tileToWorldXY(j.x,j.y,c,C),H.x=c.x,H.y=c.y,w(m,H)&&U.push(j)}return U};n.exports=g},96523:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(7386),x=r(26099),d=new x,h=new x,l=function(a,f,c,u,v,g,m){var y=m.tilemapLayer.tilemap._convert.WorldToTileXY;y(a,f,!0,d,g,m);var C=d.x,P=d.y;y(a+c,f+u,!1,h,g,m);var w=Math.ceil(h.x),M=Math.ceil(h.y);return o(C,P,w-C,M-P,v,m)};n.exports=l},96113:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(91907),x=r(20242),d=r(10095),h=function(l){return l===o.ORTHOGONAL?d:x};n.exports=h},16926:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(91907),x=r(86625),d=r(96897),h=r(29747),l=r(15108),a=r(85896),f=function(c){return c===o.ORTHOGONAL?a:c===o.ISOMETRIC?d:c===o.HEXAGONAL?x:c===o.STAGGERED?l:h};n.exports=f},55762:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(91907),x=r(20242),d=r(51900),h=r(63288),l=function(a){return a===o.ORTHOGONAL?h:a===o.STAGGERED?d:x};n.exports=l},45091:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(62991),x=function(d,h,l){if(o(d,h,l)){var a=l.data[h][d];return a!==null&&a.index>-1}else return!1};n.exports=x},24152:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(45091),x=r(26099),d=new x,h=function(l,a,f,c){c.tilemapLayer.worldToTileXY(l,a,!0,d,f);var u=d.x,v=d.y;return o(u,v,c)};n.exports=h},90454:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(63448),x=r(56583),d=function(h,l){var a=h.tilemapLayer.tilemap,f=h.tilemapLayer,c=Math.floor(a.tileWidth*f.scaleX),u=Math.floor(a.tileHeight*f.scaleY),v=h.hexSideLength,g,m,y,C;if(h.staggerAxis==="y"){var P=(u-v)/2+v;g=x(l.worldView.x-f.x,c,0,!0)-f.cullPaddingX,m=o(l.worldView.right-f.x,c,0,!0)+f.cullPaddingX,y=x(l.worldView.y-f.y,P,0,!0)-f.cullPaddingY,C=o(l.worldView.bottom-f.y,P,0,!0)+f.cullPaddingY}else{var w=(c-v)/2+v;g=x(l.worldView.x-f.x,w,0,!0)-f.cullPaddingX,m=o(l.worldView.right-f.x,w,0,!0)+f.cullPaddingX,y=x(l.worldView.y-f.y,u,0,!0)-f.cullPaddingY,C=o(l.worldView.bottom-f.y,u,0,!0)+f.cullPaddingY}return{left:g,right:m,top:y,bottom:C}};n.exports=d},9474:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(90454),x=r(32483),d=function(h,l,a,f){a===void 0&&(a=[]),f===void 0&&(f=0),a.length=0;var c=h.tilemapLayer,u=o(h,l);return c.skipCull&&c.scrollFactorX===1&&c.scrollFactorY===1&&(u.left=0,u.right=h.width,u.top=0,u.bottom=h.height),x(h,u,f,a),a};n.exports=d},27229:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(19951),x=r(26099),d=new x,h=function(l,a,f,c){var u=c.baseTileWidth,v=c.baseTileHeight,g=c.tilemapLayer;g&&(u*=g.scaleX,v*=g.scaleY);var m=o(l,a,d,f,c),y=[],C=.5773502691896257,P,w;c.staggerAxis==="y"?(P=C*u,w=v/2):(P=u/2,w=C*v);for(var M=0;M<6;M++){var R=2*Math.PI*(.5-M)/6;y.push(new x(m.x+P*Math.cos(R),m.y+w*Math.sin(R)))}return y};n.exports=h},19951:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(26099),x=function(d,h,l,a,f){l||(l=new o);var c=f.baseTileWidth,u=f.baseTileHeight,v=f.tilemapLayer,g=0,m=0;v&&(a||(a=v.scene.cameras.main),g=v.x+a.scrollX*(1-v.scrollFactorX),m=v.y+a.scrollY*(1-v.scrollFactorY),c*=v.scaleX,u*=v.scaleY);var y=c/2,C=u/2,P,w,M=f.staggerAxis,R=f.staggerIndex;return M==="y"?(P=g+c*d+c,w=m+1.5*h*C+C,h%2===0&&(R==="odd"?P-=y:P+=y)):M==="x"&&R==="odd"&&(P=g+1.5*d*y+y,w=m+u*d+u,d%2===0&&(R==="odd"?w-=C:w+=C)),l.set(P,w)};n.exports=x},86625:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(26099),x=function(d,h,l,a,f,c){a||(a=new o);var u=c.baseTileWidth,v=c.baseTileHeight,g=c.tilemapLayer;g&&(f||(f=g.scene.cameras.main),d=d-(g.x+f.scrollX*(1-g.scrollFactorX)),h=h-(g.y+f.scrollY*(1-g.scrollFactorY)),u*=g.scaleX,v*=g.scaleY);var m=.5773502691896257,y=-.3333333333333333,C=0,P=.6666666666666666,w=u/2,M=v/2,R,A,L,F,G;c.staggerAxis==="y"?(R=(d-w)/(m*u),A=(h-M)/M,L=m*R+y*A,F=C*R+P*A):(R=(d-w)/w,A=(h-M)/(m*v),L=y*R+m*A,F=P*R+C*A),G=-L-F;var I=Math.round(L),B=Math.round(F),k=Math.round(G),U=Math.abs(I-L),H=Math.abs(B-F),X=Math.abs(k-G);U>H&&U>X?I=-B-k:H>X&&(B=-I-k);var j,J=B;return c.staggerIndex==="odd"?j=J%2===0?B/2+I:B/2+I-.5:j=J%2===0?B/2+I:B/2+I+.5,a.set(j,J)};n.exports=x},62991:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){return r>=0&&r<x.width&&o>=0&&o<x.height};n.exports=T},14018:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(33528),x=function(d,h,l,a){l===void 0&&(l=[]),a===void 0&&(a=0),l.length=0;var f=d.tilemapLayer,c=d.data,u=d.width,v=d.height,g=f.skipCull,m=0,y=u,C=0,P=v,w,M,R;if(a===0)for(M=C;M<P;M++)for(w=m;w<y;w++)R=c[M][w],!(!R||R.index===-1||!R.visible||R.alpha===0)&&(!g&&!o(w,M,d,h)||l.push(R));else if(a===1)for(M=C;M<P;M++)for(w=y;w>=m;w--)R=c[M][w],!(!R||R.index===-1||!R.visible||R.alpha===0)&&(!g&&!o(w,M,d,h)||l.push(R));else if(a===2)for(M=P;M>=C;M--)for(w=m;w<y;w++)R=c[M][w],!(!R||R.index===-1||!R.visible||R.alpha===0)&&(!g&&!o(w,M,d,h)||l.push(R));else if(a===3)for(M=P;M>=C;M--)for(w=y;w>=m;w--)R=c[M][w],!(!R||R.index===-1||!R.visible||R.alpha===0)&&(!g&&!o(w,M,d,h)||l.push(R));return f.tilesDrawn=l.length,f.tilesTotal=u*v,l};n.exports=x},14127:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(26099),x=function(d,h,l,a,f){l||(l=new o);var c=f.baseTileWidth,u=f.baseTileHeight,v=f.tilemapLayer,g=0,m=0;v&&(a||(a=v.scene.cameras.main),g=v.x+a.scrollX*(1-v.scrollFactorX),c*=v.scaleX,m=v.y+a.scrollY*(1-v.scrollFactorY),u*=v.scaleY);var y=g+(d-h)*(c/2),C=m+(d+h)*(u/2);return l.set(y,C)};n.exports=x},96897:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(26099),x=function(d,h,l,a,f,c,u){a||(a=new o);var v=c.baseTileWidth,g=c.baseTileHeight,m=c.tilemapLayer;m&&(f||(f=m.scene.cameras.main),h=h-(m.y+f.scrollY*(1-m.scrollFactorY)),g*=m.scaleY,d=d-(m.x+f.scrollX*(1-m.scrollFactorX)),v*=m.scaleX);var y=v/2,C=g/2;d=d-y,u||(h=h-g);var P=.5*(d/y+h/C),w=.5*(-d/y+h/C);return l&&(P=Math.floor(P),w=Math.floor(w)),a.set(P,w)};n.exports=x},71558:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(23029),x=r(62991),d=r(72023),h=r(20576),l=function(a,f,c,u,v){if(u===void 0&&(u=!0),!x(f,c,v))return null;var g,m=v.data[c][f],y=m&&m.collides;a instanceof o?(v.data[c][f]===null&&(v.data[c][f]=new o(v,a.index,f,c,v.tileWidth,v.tileHeight)),v.data[c][f].copy(a)):(g=a,v.data[c][f]===null?v.data[c][f]=new o(v,g,f,c,v.tileWidth,v.tileHeight):v.data[c][f].index=g);var C=v.data[c][f],P=v.collideIndexes.indexOf(C.index)!==-1;if(g=a instanceof o?a.index:a,g===-1)C.width=v.tileWidth,C.height=v.tileHeight;else{var w=v.tilemapLayer.tilemap,M=w.tiles,R=M[g][2],A=w.tilesets[R];C.width=A.tileWidth,C.height=A.tileHeight}return h(C,P),u&&y!==C.collides&&d(f,c,v),C};n.exports=l},26303:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(71558),x=r(26099),d=new x,h=function(l,a,f,c,u,v){return v.tilemapLayer.worldToTileXY(a,f,!0,d,u,v),o(l,d.x,d.y,c,v)};n.exports=h},14051:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(42573),x=r(71558),d=function(h,l,a,f,c){if(f===void 0&&(f=!0),!Array.isArray(h))return null;Array.isArray(h[0])||(h=[h]);for(var u=h.length,v=h[0].length,g=0;g<u;g++)for(var m=0;m<v;m++){var y=h[g][m];x(y,l+m,a+g,!1,c)}f&&o(l-1,a-1,v+2,u+2,c)};n.exports=d},77389:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(7386),x=r(26546),d=function(h,l,a,f,c,u){var v,g=o(h,l,a,f,{},u);if(!c)for(c=[],v=0;v<g.length;v++)c.indexOf(g[v].index)===-1&&c.push(g[v].index);for(v=0;v<g.length;v++)g[v].index=x(c)};n.exports=d},63557:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(23029),x=r(62991),d=r(72023),h=function(l,a,f,c,u){if(f===void 0&&(f=!0),c===void 0&&(c=!0),!x(l,a,u))return null;var v=u.data[a][l];if(v)u.data[a][l]=f?null:new o(u,-1,l,a,u.tileWidth,u.tileHeight);else return null;return c&&v&&v.collides&&d(l,a,u),v};n.exports=h},94178:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(63557),x=r(26099),d=new x,h=function(l,a,f,c,u,v){return v.tilemapLayer.worldToTileXY(l,a,!0,d,u,v),o(d.x,d.y,f,c,v)};n.exports=h},15533:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(7386),x=r(3956),d=new x(105,210,231,150),h=new x(243,134,48,200),l=new x(40,39,37,150),a=function(f,c,u){c===void 0&&(c={});var v=c.tileColor!==void 0?c.tileColor:d,g=c.collidingTileColor!==void 0?c.collidingTileColor:h,m=c.faceColor!==void 0?c.faceColor:l,y=o(0,0,u.width,u.height,null,u);f.translateCanvas(u.tilemapLayer.x,u.tilemapLayer.y),f.scaleCanvas(u.tilemapLayer.scaleX,u.tilemapLayer.scaleY);for(var C=0;C<y.length;C++){var P=y[C],w=P.tileset?P.tileset.tileOffset:{x:0,y:0},M=P.width,R=P.height,A=P.pixelX-w.x,L=P.pixelY-w.y,F=P.collides?g:v;F!==null&&(f.fillStyle(F.color,F.alpha/255),f.fillRect(A,L,M,R)),A+=1,L+=1,M-=2,R-=2,m!==null&&(f.lineStyle(1,m.color,m.alpha/255),P.faceTop&&f.lineBetween(A,L,A+M,L),P.faceRight&&f.lineBetween(A+M,L,A+M,L+R),P.faceBottom&&f.lineBetween(A,L+R,A+M,L+R),P.faceLeft&&f.lineBetween(A,L,A,L+R))}};n.exports=a},27987:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(7386),x=function(d,h,l,a,f,c,u){for(var v=o(l,a,f,c,null,u),g=0;g<v.length;g++)v[g]&&v[g].index===d&&(v[g].index=h)};n.exports=x},32483:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d){var h=r.data,l=r.width,a=r.height,f=r.tilemapLayer,c=Math.max(0,o.left),u=Math.min(l,o.right),v=Math.max(0,o.top),g=Math.min(a,o.bottom),m,y,C;if(x===0)for(y=v;y<g;y++)for(m=c;h[y]&&m<u;m++)C=h[y][m],!(!C||C.index===-1||!C.visible||C.alpha===0)&&d.push(C);else if(x===1)for(y=v;y<g;y++)for(m=u;h[y]&&m>=c;m--)C=h[y][m],!(!C||C.index===-1||!C.visible||C.alpha===0)&&d.push(C);else if(x===2)for(y=g;y>=v;y--)for(m=c;h[y]&&m<u;m++)C=h[y][m],!(!C||C.index===-1||!C.visible||C.alpha===0)&&d.push(C);else if(x===3)for(y=g;y>=v;y--)for(m=u;h[y]&&m>=c;m--)C=h[y][m],!(!C||C.index===-1||!C.visible||C.alpha===0)&&d.push(C);return f.tilesDrawn=d.length,f.tilesTotal=l*a,d};n.exports=T},57068:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(20576),x=r(42573),d=r(9589),h=function(l,a,f,c,u){a===void 0&&(a=!0),f===void 0&&(f=!0),u===void 0&&(u=!0),Array.isArray(l)||(l=[l]);for(var v=0;v<l.length;v++)d(l[v],a,c);if(u)for(var g=0;g<c.height;g++)for(var m=0;m<c.width;m++){var y=c.data[g][m];y&&l.indexOf(y.index)!==-1&&o(y,a)}f&&x(0,0,c.width,c.height,c)};n.exports=h},37266:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(20576),x=r(42573),d=r(9589),h=function(l,a,f,c,u,v){if(f===void 0&&(f=!0),c===void 0&&(c=!0),v===void 0&&(v=!0),!(l>a)){for(var g=l;g<=a;g++)d(g,f,u);if(v)for(var m=0;m<u.height;m++)for(var y=0;y<u.width;y++){var C=u.data[m][y];C&&C.index>=l&&C.index<=a&&o(C,f)}c&&x(0,0,u.width,u.height,u)}};n.exports=h},75661:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(20576),x=r(42573),d=r(9589),h=function(l,a,f,c){a===void 0&&(a=!0),f===void 0&&(f=!0),Array.isArray(l)||(l=[l]);for(var u=0;u<c.height;u++)for(var v=0;v<c.width;v++){var g=c.data[u][v];g&&l.indexOf(g.index)===-1&&(o(g,a),d(g.index,a,c))}f&&x(0,0,c.width,c.height,c)};n.exports=h},64740:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(20576),x=r(42573),d=r(97022),h=function(l,a,f,c){a===void 0&&(a=!0),f===void 0&&(f=!0);for(var u=0;u<c.height;u++)for(var v=0;v<c.width;v++){var g=c.data[u][v];if(g){for(var m in l)if(d(g.properties,m)){var y=l[m];Array.isArray(y)||(y=[y]);for(var C=0;C<y.length;C++)g.properties[m]===y[C]&&o(g,a)}}}f&&x(0,0,c.width,c.height,c)};n.exports=h},63307:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(20576),x=r(42573),d=function(h,l,a){h===void 0&&(h=!0),l===void 0&&(l=!0);for(var f=0;f<a.height;f++)for(var c=0;c<a.width;c++){var u=a.data[f][c];if(u){var v=u.getCollisionGroup();v&&v.objects&&v.objects.length>0&&o(u,h)}}l&&x(0,0,a.width,a.height,a)};n.exports=d},9589:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){var d=x.collideIndexes.indexOf(r);o&&d===-1?x.collideIndexes.push(r):!o&&d!==-1&&x.collideIndexes.splice(d,1)};n.exports=T},20576:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){o?r.setCollision(!0,!0,!0,!0,!1):r.resetCollision(!1)};n.exports=T},79583:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d){if(typeof r=="number")d.callbacks[r]=o!==null?{callback:o,callbackContext:x}:void 0;else for(var h=0,l=r.length;h<l;h++)d.callbacks[r[h]]=o!==null?{callback:o,callbackContext:x}:void 0};n.exports=T},93254:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(7386),x=function(d,h,l,a,f,c,u){for(var v=o(d,h,l,a,null,u),g=0;g<v.length;g++)v[g].setCollisionCallback(f,c)};n.exports=x},32903:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(7386),x=r(33680),d=function(h,l,a,f,c){var u=o(h,l,a,f,null,c),v=u.map(function(m){return m.index});x(v);for(var g=0;g<u.length;g++)u[g].index=v[g]};n.exports=d},61325:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(63448),x=r(56583),d=function(h,l){var a=h.tilemapLayer.tilemap,f=h.tilemapLayer,c=Math.floor(a.tileWidth*f.scaleX),u=Math.floor(a.tileHeight*f.scaleY),v=x(l.worldView.x-f.x,c,0,!0)-f.cullPaddingX,g=o(l.worldView.right-f.x,c,0,!0)+f.cullPaddingX,m=x(l.worldView.y-f.y,u/2,0,!0)-f.cullPaddingY,y=o(l.worldView.bottom-f.y,u/2,0,!0)+f.cullPaddingY;return{left:v,right:g,top:m,bottom:y}};n.exports=d},54503:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(61325),x=r(32483),d=function(h,l,a,f){a===void 0&&(a=[]),f===void 0&&(f=0),a.length=0;var c=h.tilemapLayer,u=o(h,l);return c.skipCull&&c.scrollFactorX===1&&c.scrollFactorY===1&&(u.left=0,u.right=h.width,u.top=0,u.bottom=h.height),x(h,u,f,a),a};n.exports=d},97202:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(26099),x=function(d,h,l,a,f){l||(l=new o);var c=f.baseTileWidth,u=f.baseTileHeight,v=f.tilemapLayer,g=0,m=0;v&&(a||(a=v.scene.cameras.main),g=v.x+a.scrollX*(1-v.scrollFactorX),c*=v.scaleX,m=v.y+a.scrollY*(1-v.scrollFactorY),u*=v.scaleY);var y=g+d*c+h%2*(c/2),C=m+h*(u/2);return l.set(y,C)};n.exports=x},28054:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){var d=x.baseTileHeight,h=x.tilemapLayer,l=0;return h&&(o===void 0&&(o=h.scene.cameras.main),l=h.y+o.scrollY*(1-h.scrollFactorY),d*=h.scaleY),l+r*(d/2)+d};n.exports=T},15108:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(26099),x=function(d,h,l,a,f,c){a||(a=new o);var u=c.baseTileWidth,v=c.baseTileHeight,g=c.tilemapLayer;g&&(f||(f=g.scene.cameras.main),h=h-(g.y+f.scrollY*(1-g.scrollFactorY)),v*=g.scaleY,d=d-(g.x+f.scrollX*(1-g.scrollFactorX)),u*=g.scaleX);var m=l?Math.floor(h/(v/2)):h/(v/2),y=l?Math.floor((d+m%2*.5*u)/u):(d+m%2*.5*u)/u;return a.set(y,m)};n.exports=x},51900:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d){var h=d.baseTileHeight,l=d.tilemapLayer;return l&&(x||(x=l.scene.cameras.main),r=r-(l.y+x.scrollY*(1-l.scrollFactorY)),h*=l.scaleY),o?Math.floor(r/(h/2)):r/(h/2)};n.exports=T},86560:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(7386),x=function(d,h,l,a,f,c,u){for(var v=o(l,a,f,c,null,u),g=0;g<v.length;g++)v[g]&&(v[g].index===d?v[g].index=h:v[g].index===h&&(v[g].index=d))};n.exports=x},97281:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){var d=x.baseTileWidth,h=x.tilemapLayer,l=0;return h&&(o||(o=h.scene.cameras.main),l=h.x+o.scrollX*(1-h.scrollFactorX),d*=h.scaleX),l+r*d};n.exports=T},70326:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(97281),x=r(29650),d=r(26099),h=function(l,a,f,c,u){return f||(f=new d(0,0)),f.x=o(l,c,u),f.y=x(a,c,u),f};n.exports=h},29650:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){var d=x.baseTileHeight,h=x.tilemapLayer,l=0;return h&&(o||(o=h.scene.cameras.main),l=h.y+o.scrollY*(1-h.scrollFactorY),d*=h.scaleY),l+r*d};n.exports=T},77366:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(7386),x=r(75508),d=function(h,l,a,f,c,u){if(c){var v,g=o(h,l,a,f,null,u),m=0;for(v=0;v<c.length;v++)m+=c[v].weight;if(!(m<=0))for(v=0;v<g.length;v++){for(var y=x.RND.frac()*m,C=0,P=-1,w=0;w<c.length;w++)if(C+=c[w].weight,y<=C){var M=c[w].index;P=Array.isArray(M)?M[Math.floor(x.RND.frac()*M.length)]:M;break}g[v].index=P}}};n.exports=d},10095:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(85896),x=r(26099),d=new x,h=function(l,a,f,c){return o(l,0,a,d,f,c),d.x};n.exports=h},85896:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(26099),x=function(d,h,l,a,f,c){l===void 0&&(l=!0),a||(a=new o);var u=c.baseTileWidth,v=c.baseTileHeight,g=c.tilemapLayer;g&&(f||(f=g.scene.cameras.main),d=d-(g.x+f.scrollX*(1-g.scrollFactorX)),h=h-(g.y+f.scrollY*(1-g.scrollFactorY)),u*=g.scaleX,v*=g.scaleY);var m=d/u,y=h/v;return l&&(m=Math.floor(m),y=Math.floor(y)),a.set(m,y)};n.exports=x},63288:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(85896),x=r(26099),d=new x,h=function(l,a,f,c){return o(0,l,a,d,f,c),d.y};n.exports=h},81086:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={CalculateFacesAt:r(72023),CalculateFacesWithin:r(42573),CheckIsoBounds:r(33528),Copy:r(1785),CreateFromTiles:r(78419),CullBounds:r(19545),CullTiles:r(30003),Fill:r(35137),FilterTiles:r(40253),FindByIndex:r(52692),FindTile:r(66151),ForEachTile:r(97560),GetCullTilesFunction:r(43305),GetTileAt:r(7423),GetTileAtWorldXY:r(60540),GetTileCorners:r(55826),GetTileCornersFunction:r(11758),GetTilesWithin:r(7386),GetTilesWithinShape:r(91141),GetTilesWithinWorldXY:r(96523),GetTileToWorldXFunction:r(39167),GetTileToWorldXYFunction:r(62e3),GetTileToWorldYFunction:r(5984),GetWorldToTileXFunction:r(96113),GetWorldToTileXYFunction:r(16926),GetWorldToTileYFunction:r(55762),HasTileAt:r(45091),HasTileAtWorldXY:r(24152),HexagonalCullBounds:r(90454),HexagonalCullTiles:r(9474),HexagonalGetTileCorners:r(27229),HexagonalTileToWorldXY:r(19951),HexagonalWorldToTileXY:r(86625),IsInLayerBounds:r(62991),IsometricCullTiles:r(14018),IsometricTileToWorldXY:r(14127),IsometricWorldToTileXY:r(96897),PutTileAt:r(71558),PutTileAtWorldXY:r(26303),PutTilesAt:r(14051),Randomize:r(77389),RemoveTileAt:r(63557),RemoveTileAtWorldXY:r(94178),RenderDebug:r(15533),ReplaceByIndex:r(27987),RunCull:r(32483),SetCollision:r(57068),SetCollisionBetween:r(37266),SetCollisionByExclusion:r(75661),SetCollisionByProperty:r(64740),SetCollisionFromCollisionGroup:r(63307),SetLayerCollisionIndex:r(9589),SetTileCollision:r(20576),SetTileIndexCallback:r(79583),SetTileLocationCallback:r(93254),Shuffle:r(32903),StaggeredCullBounds:r(61325),StaggeredCullTiles:r(54503),StaggeredTileToWorldXY:r(97202),StaggeredTileToWorldY:r(28054),StaggeredWorldToTileXY:r(15108),StaggeredWorldToTileY:r(51900),SwapByIndex:r(86560),TileToWorldX:r(97281),TileToWorldXY:r(70326),TileToWorldY:r(29650),WeightedRandomize:r(77366),WorldToTileX:r(10095),WorldToTileXY:r(85896),WorldToTileY:r(63288)}},91907:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ORTHOGONAL:0,ISOMETRIC:1,STAGGERED:2,HEXAGONAL:3}},21829:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={ORIENTATION:r(91907)};n.exports=o},62501:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(79291),x=r(21829),d={Components:r(81086),Parsers:r(57442),Formats:r(80341),ImageCollection:r(16536),ParseToTilemap:r(31989),Tile:r(23029),Tilemap:r(49075),TilemapCreator:r(45939),TilemapFactory:r(46029),Tileset:r(33629),TilemapLayer:r(20442),Orientation:r(91907),LayerData:r(14977),MapData:r(87010),ObjectLayer:r(48700)};d=o(!1,d,x.ORIENTATION),n.exports=d},14977:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(91907),d=r(95540),h=new o({initialize:function(a){a===void 0&&(a={}),this.name=d(a,"name","layer"),this.id=d(a,"id",0),this.x=d(a,"x",0),this.y=d(a,"y",0),this.width=d(a,"width",0),this.height=d(a,"height",0),this.tileWidth=d(a,"tileWidth",0),this.tileHeight=d(a,"tileHeight",0),this.baseTileWidth=d(a,"baseTileWidth",this.tileWidth),this.baseTileHeight=d(a,"baseTileHeight",this.tileHeight),this.orientation=d(a,"orientation",x.ORTHOGONAL),this.widthInPixels=d(a,"widthInPixels",this.width*this.baseTileWidth),this.heightInPixels=d(a,"heightInPixels",this.height*this.baseTileHeight),this.alpha=d(a,"alpha",1),this.visible=d(a,"visible",!0),this.properties=d(a,"properties",[]),this.indexes=d(a,"indexes",[]),this.collideIndexes=d(a,"collideIndexes",[]),this.callbacks=d(a,"callbacks",[]),this.bodies=d(a,"bodies",[]),this.data=d(a,"data",[]),this.tilemapLayer=d(a,"tilemapLayer",null),this.hexSideLength=d(a,"hexSideLength",0),this.staggerAxis=d(a,"staggerAxis","y"),this.staggerIndex=d(a,"staggerIndex","odd")}});n.exports=h},87010:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(91907),d=r(95540),h=new o({initialize:function(a){a===void 0&&(a={}),this.name=d(a,"name","map"),this.width=d(a,"width",0),this.height=d(a,"height",0),this.infinite=d(a,"infinite",!1),this.tileWidth=d(a,"tileWidth",0),this.tileHeight=d(a,"tileHeight",0),this.widthInPixels=d(a,"widthInPixels",this.width*this.tileWidth),this.heightInPixels=d(a,"heightInPixels",this.height*this.tileHeight),this.format=d(a,"format",null),this.orientation=d(a,"orientation",x.ORTHOGONAL),this.renderOrder=d(a,"renderOrder","right-down"),this.version=d(a,"version","1"),this.properties=d(a,"properties",{}),this.layers=d(a,"layers",[]),this.images=d(a,"images",[]),this.objects=d(a,"objects",[]),Array.isArray(this.objects)||(this.objects=[]),this.collision=d(a,"collision",{}),this.tilesets=d(a,"tilesets",[]),this.imageCollections=d(a,"imageCollections",[]),this.tiles=d(a,"tiles",[]),this.hexSideLength=d(a,"hexSideLength",0),this.staggerAxis=d(a,"staggerAxis","y"),this.staggerIndex=d(a,"staggerIndex","odd")}});n.exports=h},48700:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(95540),d=new o({initialize:function(l){l===void 0&&(l={}),this.name=x(l,"name","object layer"),this.id=x(l,"id",0),this.opacity=x(l,"opacity",1),this.properties=x(l,"properties",{}),this.propertyTypes=x(l,"propertytypes",{}),this.type=x(l,"type","objectgroup"),this.visible=x(l,"visible",!0),this.objects=x(l,"objects",[]),Array.isArray(this.objects)||(this.objects=[])}});n.exports=d},6641:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(91907),x=function(d){return d=d.toLowerCase(),d==="isometric"?o.ISOMETRIC:d==="staggered"?o.STAGGERED:d==="hexagonal"?o.HEXAGONAL:o.ORTHOGONAL};n.exports=x},46177:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(80341),x=r(2342),d=r(82593),h=r(46594),l=r(87021),a=function(f,c,u,v,g,m){var y;switch(c){case o.ARRAY_2D:y=x(f,u,v,g,m);break;case o.CSV:y=d(f,u,v,g,m);break;case o.TILED_JSON:y=h(f,u,m);break;case o.WELTMEISTER:y=l(f,u,m);break;default:console.warn("Unrecognized tilemap data format: "+c),y=null}return y};n.exports=a},2342:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(80341),x=r(14977),d=r(87010),h=r(23029),l=function(a,f,c,u,v){for(var g=new x({tileWidth:c,tileHeight:u}),m=new d({name:a,tileWidth:c,tileHeight:u,format:o.ARRAY_2D,layers:[g]}),y=[],C=f.length,P=0,w=0;w<f.length;w++){y[w]=[];for(var M=f[w],R=0;R<M.length;R++){var A=parseInt(M[R],10);isNaN(A)||A===-1?y[w][R]=v?null:new h(g,-1,R,w,c,u):y[w][R]=new h(g,A,R,w,c,u)}P===0&&(P=M.length)}return m.width=g.width=P,m.height=g.height=C,m.widthInPixels=g.widthInPixels=P*c,m.heightInPixels=g.heightInPixels=C*u,g.data=y,m};n.exports=l},82593:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(80341),x=r(2342),d=function(h,l,a,f,c){var u=l.trim().split(`
`).map(function(g){return g.split(",")}),v=x(h,u,a,f,c);return v.format=o.CSV,v};n.exports=d},6656:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(14977),x=r(23029),d=function(h,l){for(var a=[],f=0;f<h.layer.length;f++){for(var c=h.layer[f],u=new o({name:c.name,width:c.width,height:c.height,tileWidth:c.tilesize,tileHeight:c.tilesize,visible:c.visible===1}),v=[],g=[],m=0;m<c.data.length;m++){for(var y=0;y<c.data[m].length;y++){var C=c.data[m][y]-1,P;C>-1?P=new x(u,C,y,m,c.tilesize,c.tilesize):P=l?null:new x(u,-1,y,m,c.tilesize,c.tilesize),v.push(P)}g.push(v),v=[]}u.data=g,a.push(u)}return a};n.exports=d},96483:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(33629),x=function(d){for(var h=[],l=[],a=0;a<d.layer.length;a++){var f=d.layer[a],c=f.tilesetName;c!==""&&l.indexOf(c)===-1&&(l.push(c),h.push(new o(c,0,f.tilesize,f.tilesize,0,0)))}return h};n.exports=x},87021:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(80341),x=r(87010),d=r(6656),h=r(96483),l=function(a,f,c){if(f.layer.length===0)return console.warn("No layers found in the Weltmeister map: "+a),null;for(var u=0,v=0,g=0;g<f.layer.length;g++)f.layer[g].width>u&&(u=f.layer[g].width),f.layer[g].height>v&&(v=f.layer[g].height);var m=new x({width:u,height:v,name:a,tileWidth:f.layer[0].tilesize,tileHeight:f.layer[0].tilesize,format:o.WELTMEISTER});return m.layers=d(f,c),m.tilesets=h(f),m};n.exports=l},52833:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ParseTileLayers:r(6656),ParseTilesets:r(96483),ParseWeltmeister:r(87021)}},57442:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={FromOrientationString:r(6641),Parse:r(46177),Parse2DArray:r(2342),ParseCSV:r(82593),Impact:r(52833),Tiled:r(96761)}},51233:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(79291),x=function(d){for(var h,l,a,f,c,u=0;u<d.layers.length;u++){h=d.layers[u],f=null;for(var v=0;v<h.data.length;v++){c=h.data[v];for(var g=0;g<c.length;g++)l=c[g],!(l===null||l.index<0)&&(a=d.tiles[l.index][2],f=d.tilesets[a],l.width=f.tileWidth,l.height=f.tileHeight,f.tileProperties&&f.tileProperties[l.index-f.firstgid]&&(l.properties=o(l.properties,f.tileProperties[l.index-f.firstgid])))}}};n.exports=x},41868:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){for(var o=window.atob(r),x=o.length,d=new Array(x/4),h=0;h<x;h+=4)d[h/4]=(o.charCodeAt(h)|o.charCodeAt(h+1)<<8|o.charCodeAt(h+2)<<16|o.charCodeAt(h+3)<<24)>>>0;return d};n.exports=T},84101:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(33629),x=function(d){var h,l,a=[];for(h=0;h<d.imageCollections.length;h++)for(var f=d.imageCollections[h],c=f.images,u=0;u<c.length;u++){var v=c[u],g={x:0,y:v.height-d.tileHeight};l=new o(v.image,v.gid,v.width,v.height,0,0,null,null,g),l.updateTileData(v.width,v.height),d.tilesets.push(l)}for(h=0;h<d.tilesets.length;h++){l=d.tilesets[h];for(var m=l.tileMargin,y=l.tileMargin,C=0,P=0,w=0,M=l.firstgid;M<l.firstgid+l.total&&(a[M]=[m,y,h],m+=l.tileWidth+l.tileSpacing,C++,!(C===l.total||(P++,P===l.columns&&(m=l.tileMargin,y+=l.tileHeight+l.tileSpacing,P=0,w++,w===l.rows))));M++);}return a};n.exports=x},79677:(n,T,r)=>{/**
 * @author       Seth Berrier <berriers@uwstout.edu>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(95540),x=function(d,h,l){if(!h)return{i:0,layers:d.layers,name:"",opacity:1,visible:!0,x:0,y:0};var a=h.x+o(h,"startx",0)*d.tilewidth+o(h,"offsetx",0),f=h.y+o(h,"starty",0)*d.tileheight+o(h,"offsety",0);return{i:0,layers:h.layers,name:l.name+h.name+"/",opacity:l.opacity*h.opacity,visible:l.visible&&h.visible,x:l.x+a,y:l.y+f}};n.exports=x},29920:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=2147483648,r=1073741824,o=536870912,x=function(d){var h=!!(d&T),l=!!(d&r),a=!!(d&o);d=d&~(T|r|o);var f=0,c=!1;return h&&l&&a?(f=Math.PI/2,c=!0):h&&l&&!a?(f=Math.PI,c=!1):h&&!l&&a?(f=Math.PI/2,c=!1):h&&!l&&!a?(f=0,c=!0):!h&&l&&a?(f=3*Math.PI/2,c=!1):!h&&l&&!a?(f=Math.PI,c=!0):!h&&!l&&a?(f=3*Math.PI/2,c=!0):!h&&!l&&!a&&(f=0,c=!1),{gid:d,flippedHorizontal:h,flippedVertical:l,flippedAntiDiagonal:a,rotation:f,flipped:c}};n.exports=x},12635:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(95540),x=r(79677),d=function(h){for(var l=[],a=[],f=x(h);f.i<f.layers.length||a.length>0;){if(f.i>=f.layers.length){if(a.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}f=a.pop();continue}var c=f.layers[f.i];if(f.i++,c.type!=="imagelayer"){if(c.type==="group"){var u=x(h,c,f);a.push(f),f=u}continue}var v=o(c,"offsetx",0)+o(c,"startx",0),g=o(c,"offsety",0)+o(c,"starty",0);l.push({name:f.name+c.name,image:c.image,x:f.x+v+c.x,y:f.y+g+c.y,alpha:f.opacity*c.opacity,visible:f.visible&&c.visible,properties:o(c,"properties",{})})}return l};n.exports=d},46594:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(51233),x=r(84101),d=r(91907),h=r(62644),l=r(80341),a=r(6641),f=r(87010),c=r(12635),u=r(22611),v=r(28200),g=r(24619),m=function(y,C,P){var w=h(C),M=new f({width:w.width,height:w.height,name:y,tileWidth:w.tilewidth,tileHeight:w.tileheight,orientation:a(w.orientation),format:l.TILED_JSON,version:w.version,properties:w.properties,renderOrder:w.renderorder,infinite:w.infinite});if(M.orientation===d.HEXAGONAL)if(M.hexSideLength=w.hexsidelength,M.staggerAxis=w.staggeraxis,M.staggerIndex=w.staggerindex,M.staggerAxis==="y"){var R=(M.tileHeight-M.hexSideLength)/2;M.widthInPixels=M.tileWidth*(M.width+.5),M.heightInPixels=M.height*(M.hexSideLength+R)+R}else{var A=(M.tileWidth-M.hexSideLength)/2;M.widthInPixels=M.width*(M.hexSideLength+A)+A,M.heightInPixels=M.tileHeight*(M.height+.5)}M.layers=v(w,P),M.images=c(w);var L=g(w);return M.tilesets=L.tilesets,M.imageCollections=L.imageCollections,M.objects=u(w),M.tiles=x(M),o(M),M};n.exports=m},52205:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(18254),x=r(29920),d=function(a){return{x:a.x,y:a.y}},h=["id","name","type","rotation","properties","visible","x","y","width","height"],l=function(a,f,c){f===void 0&&(f=0),c===void 0&&(c=0);var u=o(a,h);if(u.x+=f,u.y+=c,a.gid){var v=x(a.gid);u.gid=v.gid,u.flippedHorizontal=v.flippedHorizontal,u.flippedVertical=v.flippedVertical,u.flippedAntiDiagonal=v.flippedAntiDiagonal}else a.polyline?u.polyline=a.polyline.map(d):a.polygon?u.polygon=a.polygon.map(d):a.ellipse?u.ellipse=a.ellipse:a.text?u.text=a.text:a.point?u.point=!0:u.rectangle=!0;return u};n.exports=l},22611:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(95540),x=r(52205),d=r(48700),h=r(79677),l=function(a){for(var f=[],c=[],u=h(a);u.i<u.layers.length||c.length>0;){if(u.i>=u.layers.length){if(c.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}u=c.pop();continue}var v=u.layers[u.i];if(u.i++,v.opacity*=u.opacity,v.visible=u.visible&&v.visible,v.type!=="objectgroup"){if(v.type==="group"){var g=h(a,v,u);c.push(u),u=g}continue}v.name=u.name+v.name;for(var m=u.x+o(v,"startx",0)+o(v,"offsetx",0),y=u.y+o(v,"starty",0)+o(v,"offsety",0),C=[],P=0;P<v.objects.length;P++){var w=x(v.objects[P],m,y);C.push(w)}var M=new d(v);M.objects=C,f.push(M)}return f};n.exports=l},28200:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(41868),x=r(91907),d=r(79677),h=r(6641),l=r(95540),a=r(14977),f=r(29920),c=r(23029),u=function(v,g){for(var m=l(v,"infinite",!1),y=[],C=[],P=d(v);P.i<P.layers.length||C.length>0;){if(P.i>=P.layers.length){if(C.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}P=C.pop();continue}var w=P.layers[P.i];if(P.i++,w.type!=="tilelayer"){if(w.type==="group"){var M=d(v,w,P);C.push(P),P=M}continue}if(w.compression){console.warn("TilemapParser.parseTiledJSON - Layer compression is unsupported, skipping layer '"+w.name+"'");continue}else if(w.encoding&&w.encoding==="base64"){if(w.chunks)for(var R=0;R<w.chunks.length;R++)w.chunks[R].data=o(w.chunks[R].data);w.data&&(w.data=o(w.data)),delete w.encoding}var A,L,F,G,I,B,k=[],U=0;if(m){var H=l(w,"startx",0)+w.x,X=l(w,"starty",0)+w.y;A=new a({name:P.name+w.name,id:w.id,x:P.x+l(w,"offsetx",0)+H*v.tilewidth,y:P.y+l(w,"offsety",0)+X*v.tileheight,width:w.width,height:w.height,tileWidth:v.tilewidth,tileHeight:v.tileheight,alpha:P.opacity*w.opacity,visible:P.visible&&w.visible,properties:l(w,"properties",[]),orientation:h(v.orientation)}),A.orientation===x.HEXAGONAL&&(A.hexSideLength=v.hexsidelength,A.staggerAxis=v.staggeraxis,A.staggerIndex=v.staggerindex,A.staggerAxis==="y"?(I=(A.tileHeight-A.hexSideLength)/2,A.widthInPixels=A.tileWidth*(A.width+.5),A.heightInPixels=A.height*(A.hexSideLength+I)+I):(B=(A.tileWidth-A.hexSideLength)/2,A.widthInPixels=A.width*(A.hexSideLength+B)+B,A.heightInPixels=A.tileHeight*(A.height+.5)));for(var j=0;j<w.height;j++){k[j]=[null];for(var J=0;J<w.width;J++)k[j][J]=null}for(j=0,ft=w.chunks.length;j<ft;j++)for(var Y=w.chunks[j],$=Y.x-H,z=Y.y-X,V=0,K=0,Q=Y.data.length;K<Q;K++){var _=U+$,tt=V+z;L=f(Y.data[K]),L.gid>0?(F=new c(A,L.gid,_,tt,v.tilewidth,v.tileheight),F.rotation=L.rotation,F.flipX=L.flipped,k[tt][_]=F):(G=g?null:new c(A,-1,_,tt,v.tilewidth,v.tileheight),k[tt][_]=G),U++,U===Y.width&&(V++,U=0)}}else{A=new a({name:P.name+w.name,id:w.id,x:P.x+l(w,"offsetx",0)+w.x,y:P.y+l(w,"offsety",0)+w.y,width:w.width,height:w.height,tileWidth:v.tilewidth,tileHeight:v.tileheight,alpha:P.opacity*w.opacity,visible:P.visible&&w.visible,properties:l(w,"properties",[]),orientation:h(v.orientation)}),A.orientation===x.HEXAGONAL&&(A.hexSideLength=v.hexsidelength,A.staggerAxis=v.staggeraxis,A.staggerIndex=v.staggerindex,A.staggerAxis==="y"?(I=(A.tileHeight-A.hexSideLength)/2,A.widthInPixels=A.tileWidth*(A.width+.5),A.heightInPixels=A.height*(A.hexSideLength+I)+I):(B=(A.tileWidth-A.hexSideLength)/2,A.widthInPixels=A.width*(A.hexSideLength+B)+B,A.heightInPixels=A.tileHeight*(A.height+.5)));for(var rt=[],ot=0,ft=w.data.length;ot<ft;ot++)L=f(w.data[ot]),L.gid>0?(F=new c(A,L.gid,U,k.length,v.tilewidth,v.tileheight),F.rotation=L.rotation,F.flipX=L.flipped,rt.push(F)):(G=g?null:new c(A,-1,U,k.length,v.tilewidth,v.tileheight),rt.push(G)),U++,U===w.width&&(k.push(rt),U=0,rt=[])}A.data=k,y.push(A)}return y};n.exports=u},24619:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(33629),x=r(16536),d=r(52205),h=r(57880),l=function(a){for(var f=[],c=[],u=null,v,g=0;g<a.tilesets.length;g++){var m=a.tilesets[g];if(m.source)console.warn("External tilesets unsupported. Use Embed Tileset and re-export");else if(m.image){var y=new o(m.name,m.firstgid,m.tilewidth,m.tileheight,m.margin,m.spacing,void 0,void 0,m.tileoffset);if(a.version>1){var C=void 0,P=void 0;if(Array.isArray(m.tiles)){C=C||{},P=P||{};for(var w=0;w<m.tiles.length;w++){var M=m.tiles[w];if(M.properties){var R={};M.properties.forEach(function(j){R[j.name]=j.value}),P[M.id]=R}if(M.objectgroup&&((C[M.id]||(C[M.id]={})).objectgroup=M.objectgroup,M.objectgroup.objects)){var A=M.objectgroup.objects.map(function(j){return d(j)});C[M.id].objectgroup.objects=A}M.animation&&((C[M.id]||(C[M.id]={})).animation=M.animation),M.type&&((C[M.id]||(C[M.id]={})).type=M.type)}}Array.isArray(m.wangsets)&&(C=C||{},P=P||{},h(m.wangsets,C)),C&&(y.tileData=C,y.tileProperties=P)}else if(m.tileproperties&&(y.tileProperties=m.tileproperties),m.tiles){y.tileData=m.tiles;for(v in y.tileData){var L=y.tileData[v].objectgroup;if(L&&L.objects){var F=L.objects.map(function(j){return d(j)});y.tileData[v].objectgroup.objects=F}}}y.updateTileData(m.imagewidth,m.imageheight),f.push(y)}else{var G=new x(m.name,m.firstgid,m.tilewidth,m.tileheight,m.margin,m.spacing,m.properties),I=0;for(w=0;w<m.tiles.length;w++){M=m.tiles[w];var B=M.image,k=parseInt(M.id,10),U=m.firstgid+k,H=M.imagewidth,X=M.imageheight;G.addImage(U,B,H,X),I=Math.max(k,I)}G.maxId=I,c.push(G)}u&&(u.lastgid=m.firstgid-1),u=m}return{tilesets:f,imageCollections:c}};n.exports=l},57880:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){for(var x=0;x<r.length;x++){var d=r[x],h=x;if(d.name&&d.name!==""&&(h=d.name),Array.isArray(d.wangtiles)&&d.wangtiles.length>0){var l={},a={},f,c,u;if(Array.isArray(d.edgecolors))for(f=0;f<d.edgecolors.length;f++)u=1+f,c=d.edgecolors[f],c.name!==""&&(l[u]=c.name);if(Array.isArray(d.cornercolors))for(f=0;f<d.cornercolors.length;f++)u=1+f,c=d.cornercolors[f],c.name!==""&&(a[u]=c.name);if(Array.isArray(d.colors))for(f=0;f<d.colors.length;f++)c=d.colors[f],u=1+f,c.name!==""&&(l[u]=a[u]=c.name);for(var v=[l,a,l,a,l,a,l,a],g=0;g<d.wangtiles.length;g++){var m=d.wangtiles[g],y=o[m.tileid]||(o[m.tileid]={});y=y.wangid||(y.wangid={});for(var C=[],P=0;P<Math.min(v.length,m.wangid.length);P++){if(c=m.wangid[P],c===0){C.push(void 0);continue}var w=v[P][c];if(w!==void 0){C.push(w);continue}C.push(c)}y[h]=C}}}};n.exports=T},96761:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={AssignTileProperties:r(51233),Base64Decode:r(41868),BuildTilesetIndex:r(84101),CreateGroupLayer:r(79677),ParseGID:r(29920),ParseImageLayers:r(12635),ParseJSONTiled:r(46594),ParseObject:r(52205),ParseObjectLayers:r(22611),ParseTileLayers:r(28200),ParseTilesets:r(24619)}},33385:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(37277),d=r(44594),h=r(94880),l=r(72905),a=new o({initialize:function(c){this.scene=c,this.systems=c.sys,this.now=0,this.startTime=0,this.timeScale=1,this.paused=!1,this._active=[],this._pendingInsertion=[],this._pendingRemoval=[],c.sys.events.once(d.BOOT,this.boot,this),c.sys.events.on(d.START,this.start,this)},boot:function(){this.now=this.systems.game.loop.time,this.systems.events.once(d.DESTROY,this.destroy,this)},start:function(){this.startTime=this.systems.game.loop.time;var f=this.systems.events;f.on(d.PRE_UPDATE,this.preUpdate,this),f.on(d.UPDATE,this.update,this),f.once(d.SHUTDOWN,this.shutdown,this)},addEvent:function(f){var c;if(f instanceof h){if(c=f,this.removeEvent(c),c.elapsed=c.startAt,c.hasDispatched=!1,c.repeatCount=c.repeat===-1||c.loop?999999999999:c.repeat,c.delay<=0&&c.repeatCount>0)throw new Error("TimerEvent infinite loop created via zero delay")}else c=new h(f);return this._pendingInsertion.push(c),c},delayedCall:function(f,c,u,v){return this.addEvent({delay:f,callback:c,args:u,callbackScope:v})},clearPendingEvents:function(){return this._pendingInsertion=[],this},removeEvent:function(f){Array.isArray(f)||(f=[f]);for(var c=0;c<f.length;c++){var u=f[c];l(this._pendingRemoval,u),l(this._pendingInsertion,u),l(this._active,u)}return this},removeAllEvents:function(){return this._pendingRemoval=this._pendingRemoval.concat(this._active),this},preUpdate:function(){var f=this._pendingRemoval.length,c=this._pendingInsertion.length;if(!(f===0&&c===0)){var u,v;for(u=0;u<f;u++){v=this._pendingRemoval[u];var g=this._active.indexOf(v);g>-1&&this._active.splice(g,1),v.destroy()}for(u=0;u<c;u++)v=this._pendingInsertion[u],this._active.push(v);this._pendingRemoval.length=0,this._pendingInsertion.length=0}},update:function(f,c){if(this.now=f,!this.paused){c*=this.timeScale;for(var u=0;u<this._active.length;u++){var v=this._active[u];if(!v.paused&&(v.elapsed+=c*v.timeScale,v.elapsed>=v.delay)){var g=v.elapsed-v.delay;if(v.elapsed=v.delay,!v.hasDispatched&&v.callback&&(v.hasDispatched=!0,v.callback.apply(v.callbackScope,v.args)),v.repeatCount>0){if(v.repeatCount--,g>=v.delay)for(;g>=v.delay&&v.repeatCount>0;)v.callback&&v.callback.apply(v.callbackScope,v.args),g-=v.delay,v.repeatCount--;v.elapsed=g,v.hasDispatched=!1}else v.hasDispatched&&this._pendingRemoval.push(v)}}}},shutdown:function(){var f;for(f=0;f<this._pendingInsertion.length;f++)this._pendingInsertion[f].destroy();for(f=0;f<this._active.length;f++)this._active[f].destroy();for(f=0;f<this._pendingRemoval.length;f++)this._pendingRemoval[f].destroy();this._active.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0;var c=this.systems.events;c.off(d.PRE_UPDATE,this.preUpdate,this),c.off(d.UPDATE,this.update,this),c.off(d.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(d.START,this.start,this),this.scene=null,this.systems=null}});x.register("Clock",a,"time"),n.exports=a},96120:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(50792),d=r(39429),h=r(95540),l=r(44594),a=r(89809),f=new o({Extends:x,initialize:function(u,v){x.call(this),this.scene=u,this.systems=u.sys,this.elapsed=0,this.timeScale=1,this.paused=!0,this.complete=!1,this.totalComplete=0,this.loop=0,this.iteration=0,this.events=[];var g=this.systems.events;g.on(l.PRE_UPDATE,this.preUpdate,this),g.on(l.UPDATE,this.update,this),g.once(l.SHUTDOWN,this.destroy,this),v&&this.add(v)},preUpdate:function(c,u){this.paused||(this.elapsed+=u*this.timeScale)},update:function(){if(!(this.paused||this.complete)){var c,u=this.events,v=!1,g=this.systems,m;for(c=0;c<u.length;c++){var y=u[c];if(!y.complete&&y.time<=this.elapsed){if(y.complete=!0,this.totalComplete++,m=y.target?y.target:this,y.if&&!y.if.call(m,y))continue;if(y.once&&(v=!0),y.set&&y.target)for(var C in y.set)y.target[C]=y.set[C];this.iteration&&y.repeat++,y.loop&&y.repeat&&y.loop.call(m),y.tween&&(y.tweenInstance=g.tweens.add(y.tween)),y.sound&&(typeof y.sound=="string"?g.sound.play(y.sound):g.sound.play(y.sound.key,y.sound.config)),y.event&&this.emit(y.event,m),y.run&&y.run.call(m),y.stop&&this.stop()}}if(v)for(c=0;c<u.length;c++)u[c].complete&&u[c].once&&(u.splice(c,1),c--);this.totalComplete>=u.length&&(this.loop!==0&&(this.loop===-1||this.loop>this.iteration)?(this.iteration++,this.reset(!0)):this.complete=!0),this.complete&&this.emit(a.COMPLETE,this)}},play:function(c){return c===void 0&&(c=!0),this.paused=!1,this.complete=!1,this.totalComplete=0,c&&this.reset(),this},pause:function(){this.paused=!0;for(var c=this.events,u=0;u<c.length;u++){var v=c[u];v.tweenInstance&&(v.tweenInstance.paused=!0)}return this},repeat:function(c){return(c===void 0||c===!0)&&(c=-1),c===!1&&(c=0),this.loop=c,this},resume:function(){this.paused=!1;for(var c=this.events,u=0;u<c.length;u++){var v=c[u];v.tweenInstance&&(v.tweenInstance.paused=!1)}return this},stop:function(){return this.paused=!0,this.complete=!0,this},reset:function(c){c===void 0&&(c=!1),this.elapsed=0,c||(this.iteration=0);for(var u=this.events,v=0;v<u.length;v++){var g=u[v];g.complete=!1,c||(g.repeat=0),g.tweenInstance&&g.tweenInstance.stop()}return this.play(!1)},add:function(c){Array.isArray(c)||(c=[c]);var u=this.events,v=0;u.length>0&&(v=u[u.length-1].time);for(var g=0;g<c.length;g++){var m=c[g],y=h(m,"at",0),C=h(m,"in",null);C!==null&&(y=this.elapsed+C);var P=h(m,"from",null);P!==null&&(y=v+P),u.push({complete:!1,time:y,repeat:0,if:h(m,"if",null),run:h(m,"run",null),loop:h(m,"loop",null),event:h(m,"event",null),target:h(m,"target",null),set:h(m,"set",null),tween:h(m,"tween",null),sound:h(m,"sound",null),once:h(m,"once",!1),stop:h(m,"stop",!1)}),v=y}return this.complete=!1,this},clear:function(){for(var c=this.events,u=0;u<c.length;u++){var v=c[u];v.tweenInstance&&v.tweenInstance.stop()}return c=[],this.elapsed=0,this.paused=!0,this},isPlaying:function(){return!this.paused&&!this.complete},getProgress:function(){var c=Math.min(this.totalComplete,this.events.length);return c/this.events.length},destroy:function(){var c=this.systems.events;c.off(l.PRE_UPDATE,this.preUpdate,this),c.off(l.UPDATE,this.update,this),c.off(l.SHUTDOWN,this.destroy,this),this.clear(),this.scene=null,this.systems=null}});d.register("timeline",function(c){return new f(this.scene,c)}),n.exports=f},94880:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(95540),d=new o({initialize:function(l){this.delay=0,this.repeat=0,this.repeatCount=0,this.loop=!1,this.callback,this.callbackScope,this.args,this.timeScale=1,this.startAt=0,this.elapsed=0,this.paused=!1,this.hasDispatched=!1,this.reset(l)},reset:function(h){if(this.delay=x(h,"delay",0),this.repeat=x(h,"repeat",0),this.loop=x(h,"loop",!1),this.callback=x(h,"callback",void 0),this.callbackScope=x(h,"callbackScope",this),this.args=x(h,"args",[]),this.timeScale=x(h,"timeScale",1),this.startAt=x(h,"startAt",0),this.paused=x(h,"paused",!1),this.elapsed=this.startAt,this.hasDispatched=!1,this.repeatCount=this.repeat===-1||this.loop?999999999999:this.repeat,this.delay<=0&&this.repeatCount>0)throw new Error("TimerEvent infinite loop created via zero delay");return this},getProgress:function(){return this.elapsed/this.delay},getOverallProgress:function(){if(this.repeat>0){var h=this.delay+this.delay*this.repeat,l=this.elapsed+this.delay*(this.repeat-this.repeatCount);return l/h}else return this.getProgress()},getRepeatCount:function(){return this.repeatCount},getElapsed:function(){return this.elapsed},getElapsedSeconds:function(){return this.elapsed*.001},getRemaining:function(){return this.delay-this.elapsed},getRemainingSeconds:function(){return this.getRemaining()*.001},getOverallRemaining:function(){return this.delay*(1+this.repeatCount)-this.elapsed},getOverallRemainingSeconds:function(){return this.getOverallRemaining()*.001},remove:function(h){h===void 0&&(h=!1),this.elapsed=this.delay,this.hasDispatched=!h,this.repeatCount=0},destroy:function(){this.callback=void 0,this.callbackScope=void 0,this.args=[]}});n.exports=d},35945:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="complete"},89809:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={COMPLETE:r(35945)}},90291:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Clock:r(33385),Events:r(89809),Timeline:r(96120),TimerEvent:r(94880)}},40382:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(72905),x=r(83419),d=r(43491),h=r(88032),l=r(37277),a=r(44594),f=r(93109),c=r(86081),u=r(8357),v=r(43960),g=r(26012),m=new x({initialize:function(C){this.scene=C,this.events=C.sys.events,this.timeScale=1,this.paused=!1,this.processing=!1,this.tweens=[],this.time=0,this.startTime=0,this.nextTime=0,this.prevTime=0,this.maxLag=500,this.lagSkip=33,this.gap=1e3/240,this.events.once(a.BOOT,this.boot,this),this.events.on(a.START,this.start,this)},boot:function(){this.events.once(a.DESTROY,this.destroy,this)},start:function(){this.timeScale=1,this.paused=!1,this.startTime=Date.now(),this.prevTime=this.startTime,this.nextTime=this.gap,this.events.on(a.UPDATE,this.update,this),this.events.once(a.SHUTDOWN,this.shutdown,this)},create:function(y){Array.isArray(y)||(y=[y]);for(var C=[],P=0;P<y.length;P++){var w=y[P];w instanceof c||w instanceof v?C.push(w):Array.isArray(w.tweens)?C.push(g(this,w)):C.push(u(this,w))}return C.length===1?C[0]:C},add:function(y){var C=y,P=this.tweens;return C instanceof c||C instanceof v||(Array.isArray(C.tweens)?C=g(this,C):C=u(this,C)),P.push(C.reset()),C},addMultiple:function(y){for(var C,P=[],w=this.tweens,M=0;M<y.length;M++)C=y[M],C instanceof c||C instanceof v||(Array.isArray(C.tweens)?C=g(this,C):C=u(this,C)),w.push(C.reset()),P.push(C);return P},chain:function(y){var C=g(this,y);return this.tweens.push(C.init()),C},getChainedTweens:function(y){return y.getChainedTweens()},has:function(y){return this.tweens.indexOf(y)>-1},existing:function(y){return this.has(y)||this.tweens.push(y.reset()),this},addCounter:function(y){var C=h(this,y);return this.tweens.push(C.reset()),C},stagger:function(y,C){return f(y,C)},setLagSmooth:function(y,C){return y===void 0&&(y=1/1e-8),C===void 0&&(C=0),this.maxLag=y,this.lagSkip=Math.min(C,this.maxLag),this},setFps:function(y){return y===void 0&&(y=240),this.gap=1e3/y,this.nextTime=this.time*1e3+this.gap,this},getDelta:function(y){var C=Date.now()-this.prevTime;C>this.maxLag&&(this.startTime+=C-this.lagSkip),this.prevTime+=C;var P=this.prevTime-this.startTime,w=P-this.nextTime,M=P-this.time*1e3;return w>0||y?(P/=1e3,this.time=P,this.nextTime+=w+(w>=this.gap?4:this.gap-w)):M=0,M},tick:function(){return this.step(!0),this},update:function(){this.paused||this.step(!1)},step:function(y){y===void 0&&(y=!1);var C=this.getDelta(y);if(!(C<=0)){this.processing=!0;var P,w,M=[],R=this.tweens;for(P=0;P<R.length;P++)w=R[P],w.update(C)&&M.push(w);var A=M.length;if(A&&R.length>0){for(P=0;P<A;P++){w=M[P];var L=R.indexOf(w);L>-1&&(w.isPendingRemove()||w.isDestroyed())&&(R.splice(L,1),w.destroy())}M.length=0}this.processing=!1}},remove:function(y){return this.processing?y.setPendingRemoveState():(o(this.tweens,y),y.setRemovedState()),this},reset:function(y){return this.existing(y),y.seek(),y.setActiveState(),this},makeActive:function(y){return this.existing(y),y.setActiveState(),this},each:function(y,C){var P,w=[null];for(P=1;P<arguments.length;P++)w.push(arguments[P]);return this.tweens.forEach(function(M){w[0]=M,y.apply(C,w)}),this},getTweens:function(){return this.tweens.slice()},getTweensOf:function(y){var C=[],P=this.tweens;Array.isArray(y)?y=d(y):y=[y];for(var w=y.length,M=0;M<P.length;M++)for(var R=P[M],A=0;A<w;A++)!R.isDestroyed()&&R.hasTarget(y[A])&&C.push(R);return C},getGlobalTimeScale:function(){return this.timeScale},setGlobalTimeScale:function(y){return this.timeScale=y,this},isTweening:function(y){for(var C=this.tweens,P,w=0;w<C.length;w++)if(P=C[w],P.isPlaying()&&P.hasTarget(y))return!0;return!1},killAll:function(){for(var y=this.processing?this.getTweens():this.tweens,C=0;C<y.length;C++)y[C].destroy();return this.processing||(y.length=0),this},killTweensOf:function(y){for(var C=this.getTweensOf(y),P=0;P<C.length;P++)C[P].destroy();return this},pauseAll:function(){return this.paused=!0,this},resumeAll:function(){return this.paused=!1,this},shutdown:function(){this.killAll(),this.tweens=[],this.events.off(a.UPDATE,this.update,this),this.events.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(a.START,this.start,this),this.scene=null,this.events=null}});l.register("TweenManager",m,"tweens"),n.exports=m},57355:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){return r&&r.hasOwnProperty(o)?r[o]:x};n.exports=T},6113:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(62640),x=r(35355),d=function(h,l){var a=o.Power0;if(typeof h=="string")if(o.hasOwnProperty(h))a=o[h];else{var f="";if(h.indexOf(".")){f=h.substring(h.indexOf(".")+1);var c=f.toLowerCase();c==="in"?f="easeIn":c==="out"?f="easeOut":c==="inout"&&(f="easeInOut")}h=x(h.substring(0,h.indexOf(".")+1)+f),o.hasOwnProperty(h)&&(a=o[h])}else typeof h=="function"&&(a=h);if(!l)return a;var u=l.slice(0);return u.unshift(0),function(v){return u[0]=v,a.apply(this,u)}};n.exports=d},91389:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(89318),x=r(77259),d=r(28392),h={bezier:o,catmull:x,catmullrom:x,linear:d},l=function(a){if(a===null)return null;var f=h.linear;return typeof a=="string"?h.hasOwnProperty(a)&&(f=h[a]):typeof a=="function"&&(f=a),f};n.exports=l},55292:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){var d;if(r.hasOwnProperty(o)){var h=typeof r[o];h==="function"?d=function(l,a,f,c,u,v){return r[o](l,a,f,c,u,v)}:d=function(){return r[o]}}else typeof x=="function"?d=x:d=function(){return x};return d};n.exports=T},82985:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(81076),x=function(d){var h,l=[];if(d.hasOwnProperty("props"))for(h in d.props)h.substring(0,1)!=="_"&&l.push({key:h,value:d.props[h]});else for(h in d)o.indexOf(h)===-1&&h.substring(0,1)!=="_"&&l.push({key:h,value:d[h]});return l};n.exports=x},62329:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(35154),x=function(d){var h=o(d,"targets",null);return h===null||(typeof h=="function"&&(h=h.call()),Array.isArray(h)||(h=[h])),h};n.exports=x},17777:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(30976),x=r(99472);function d(c){return!!c.getActive&&typeof c.getActive=="function"}function h(c){return!!c.getStart&&typeof c.getStart=="function"}function l(c){return!!c.getEnd&&typeof c.getEnd=="function"}function a(c){return h(c)||l(c)||d(c)}var f=function(c,u){var v,g=function(j,J,Y){return Y},m=function(j,J,Y){return Y},y=null,C=typeof u;if(C==="number")g=function(){return u};else if(Array.isArray(u))m=function(){return u[0]},g=function(){return u[u.length-1]};else if(C==="string"){var P=u.toLowerCase(),w=P.substring(0,6)==="random",M=P.substring(0,3)==="int";if(w||M){var R=P.indexOf("("),A=P.indexOf(")"),L=P.indexOf(",");if(R&&A&&L){var F=parseFloat(P.substring(R+1,L)),G=parseFloat(P.substring(L+1,A));w?g=function(){return x(F,G)}:g=function(){return o(F,G)}}else throw new Error("invalid random() format")}else{P=P[0];var I=parseFloat(u.substr(2));switch(P){case"+":g=function(j,J,Y){return Y+I};break;case"-":g=function(j,J,Y){return Y-I};break;case"*":g=function(j,J,Y){return Y*I};break;case"/":g=function(j,J,Y){return Y/I};break;default:g=function(){return parseFloat(u)}}}}else if(C==="function")g=u;else if(C==="object")if(a(u))d(u)&&(y=u.getActive),l(u)&&(g=u.getEnd),h(u)&&(m=u.getStart);else if(u.hasOwnProperty("value"))v=f(c,u.value);else{var B=u.hasOwnProperty("to"),k=u.hasOwnProperty("from"),U=u.hasOwnProperty("start");if(B&&(k||U)){if(v=f(c,u.to),U){var H=f(c,u.start);v.getActive=H.getEnd}if(k){var X=f(c,u.from);v.getStart=X.getEnd}}}return v||(v={getActive:y,getEnd:g,getStart:m}),v};n.exports=f},88032:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(70402),x=r(69902),d=r(23568),h=r(57355),l=r(6113),a=r(95540),f=r(55292),c=r(35154),u=r(17777),v=r(269),g=r(86081),m=function(y,C,P){if(C instanceof g)return C.parent=y,C;P===void 0?P=x:P=v(x,P);var w=a(C,"from",0),M=a(C,"to",1),R=[{value:w}],A=a(C,"delay",P.delay),L=a(C,"easeParams",P.easeParams),F=a(C,"ease",P.ease),G=u("value",M),I=new g(y,R),B=I.add(0,"value",G.getEnd,G.getStart,G.getActive,l(a(C,"ease",F),a(C,"easeParams",L)),f(C,"delay",A),a(C,"duration",P.duration),h(C,"yoyo",P.yoyo),a(C,"hold",P.hold),a(C,"repeat",P.repeat),a(C,"repeatDelay",P.repeatDelay),!1,!1);B.start=w,B.current=w,I.completeDelay=d(C,"completeDelay",0),I.loop=Math.round(d(C,"loop",0)),I.loopDelay=Math.round(d(C,"loopDelay",0)),I.paused=h(C,"paused",!1),I.persist=h(C,"persist",!1),I.isNumberTween=!0,I.callbackScope=c(C,"callbackScope",I);for(var k=o.TYPES,U=0;U<k.length;U++){var H=k[U],X=c(C,H,!1);if(X){var j=c(C,H+"Params",[]);I.setCallback(H,X,j)}}return I};n.exports=m},93109:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(6113),x=r(35154),d=r(36383),h=function(l,a){a===void 0&&(a={});var f,c=x(a,"start",0),u=x(a,"ease",null),v=x(a,"grid",null),g=x(a,"from",0),m=g==="first",y=g==="center",C=g==="last",P=typeof g=="number",w=Array.isArray(l),M=parseFloat(w?l[0]:l),R=w?parseFloat(l[1]):0,A=Math.max(M,R);if(w&&(c+=M),v){var L=v[0],F=v[1],G=0,I=0,B=0,k=0,U=[];C?(G=L-1,I=F-1):P?(G=g%L,I=Math.floor(g/L)):y&&(G=(L-1)/2,I=(F-1)/2);for(var H=d.MIN_SAFE_INTEGER,X=0;X<F;X++){U[X]=[];for(var j=0;j<L;j++){B=G-j,k=I-X;var J=Math.sqrt(B*B+k*k);J>H&&(H=J),U[X][j]=J}}}var Y=u?o(u):null;return v?f=function($,z,V,K){var Q=0,_=K%L,tt=Math.floor(K/L);_>=0&&_<L&&tt>=0&&tt<F&&(Q=U[tt][_]);var rt;if(w){var ot=R-M;Y?rt=Q/H*ot*Y(Q/H):rt=Q/H*ot}else Y?rt=Q*M*Y(Q/H):rt=Q*M;return rt+c}:f=function($,z,V,K,Q){Q--;var _;m?_=K:y?_=Math.abs(Q/2-K):C?_=Q-K:P&&(_=Math.abs(g-K));var tt;if(w){var rt;y?rt=(R-M)/Q*(_*2):rt=(R-M)/Q*_,Y?tt=rt*Y(_/Q):tt=rt}else Y?tt=Q*A*Y(_/Q):tt=_*M;return tt+c},f};n.exports=h},8357:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(70402),x=r(69902),d=r(23568),h=r(57355),l=r(6113),a=r(95540),f=r(91389),c=r(55292),u=r(82985),v=r(62329),g=r(35154),m=r(17777),y=r(269),C=r(86081),P=function(w,M,R){if(M instanceof C)return M.parent=w,M;R===void 0?R=x:R=y(x,R);var A=v(M);!A&&R.targets&&(A=R.targets);for(var L=u(M),F=a(M,"delay",R.delay),G=a(M,"duration",R.duration),I=a(M,"easeParams",R.easeParams),B=a(M,"ease",R.ease),k=a(M,"hold",R.hold),U=a(M,"repeat",R.repeat),H=a(M,"repeatDelay",R.repeatDelay),X=h(M,"yoyo",R.yoyo),j=h(M,"flipX",R.flipX),J=h(M,"flipY",R.flipY),Y=a(M,"interpolation",R.interpolation),$=function(gt,xt,wt,Tt){if(wt==="texture"){var Ht=Tt,Xt=void 0;Array.isArray(Tt)?(Ht=Tt[0],Xt=Tt[1]):Tt.hasOwnProperty("value")?(Ht=Tt.value,Array.isArray(Tt.value)?(Ht=Tt.value[0],Xt=Tt.value[1]):typeof Tt.value=="string"&&(Ht=Tt.value)):typeof Tt=="string"&&(Ht=Tt),gt.addFrame(xt,Ht,Xt,c(Tt,"delay",F),a(Tt,"duration",G),a(Tt,"hold",k),a(Tt,"repeat",U),a(Tt,"repeatDelay",H),h(Tt,"flipX",j),h(Tt,"flipY",J))}else{var Kt=m(wt,Tt),Pt=f(a(Tt,"interpolation",Y));gt.add(xt,wt,Kt.getEnd,Kt.getStart,Kt.getActive,l(a(Tt,"ease",B),a(Tt,"easeParams",I)),c(Tt,"delay",F),a(Tt,"duration",G),h(Tt,"yoyo",X),a(Tt,"hold",k),a(Tt,"repeat",U),a(Tt,"repeatDelay",H),h(Tt,"flipX",j),h(Tt,"flipY",J),Pt,Pt?Tt:null)}},z=new C(w,A),V=0;V<L.length;V++)for(var K=L[V].key,Q=L[V].value,_=0;_<A.length;_++)K==="scale"&&!A[_].hasOwnProperty("scale")?($(z,_,"scaleX",Q),$(z,_,"scaleY",Q)):$(z,_,K,Q);z.completeDelay=d(M,"completeDelay",0),z.loop=Math.round(d(M,"loop",0)),z.loopDelay=Math.round(d(M,"loopDelay",0)),z.paused=h(M,"paused",!1),z.persist=h(M,"persist",!1),z.callbackScope=a(M,"callbackScope",z);for(var tt=o.TYPES,rt=0;rt<tt.length;rt++){var ot=tt[rt],ft=g(M,ot,!1);if(ft){var ct=g(M,ot+"Params",[]);z.setCallback(ot,ft,ct)}}return z};n.exports=P},26012:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(70402),x=r(23568),d=r(57355),h=r(62329),l=r(35154),a=r(8357),f=r(43960),c=function(u,v){if(v instanceof f)return v.parent=u,v;var g=new f(u);g.startDelay=l(v,"delay",0),g.completeDelay=x(v,"completeDelay",0),g.loop=Math.round(x(v,"loop",l(v,"repeat",0))),g.loopDelay=Math.round(x(v,"loopDelay",l(v,"repeatDelay",0))),g.paused=d(v,"paused",!1),g.persist=d(v,"persist",!1),g.callbackScope=l(v,"callbackScope",g);var m,y=o.TYPES;for(m=0;m<y.length;m++){var C=y[m],P=l(v,C,!1);if(P){var w=l(v,C+"Params",[]);g.setCallback(C,P,w)}}var M=l(v,"tweens",null);if(Array.isArray(M)){var R=[],A=h(v),L=void 0;for(A&&(L={targets:A}),m=0;m<M.length;m++)R.push(a(g,M[m],L));g.add(R)}return g};n.exports=c},30231:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={GetBoolean:r(57355),GetEaseFunction:r(6113),GetInterpolationFunction:r(91389),GetNewValue:r(55292),GetProps:r(82985),GetTargets:r(62329),GetValueOp:r(17777),NumberTweenBuilder:r(88032),StaggerBuilder:r(93109),TweenBuilder:r(8357)}},73685:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="active"},98540:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="complete"},67233:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="loop"},2859:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pause"},98336:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="repeat"},25764:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="resume"},32193:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="start"},84371:n=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="stop"},70766:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="update"},55659:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="yoyo"},842:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={TWEEN_ACTIVE:r(73685),TWEEN_COMPLETE:r(98540),TWEEN_LOOP:r(67233),TWEEN_PAUSE:r(2859),TWEEN_RESUME:r(25764),TWEEN_REPEAT:r(98336),TWEEN_START:r(32193),TWEEN_STOP:r(84371),TWEEN_UPDATE:r(70766),TWEEN_YOYO:r(55659)}},43066:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={States:r(86353),Builders:r(30231),Events:r(842),TweenManager:r(40382),Tween:r(86081),TweenData:r(48177),TweenFrameData:r(42220),BaseTween:r(70402),TweenChain:r(43960)};n.exports=o},70402:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(50792),d=r(842),h=r(86353),l=new o({Extends:x,initialize:function(f){x.call(this),this.parent=f,this.data=[],this.totalData=0,this.startDelay=0,this.hasStarted=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.completeDelay=0,this.countdown=0,this.state=h.PENDING,this.paused=!1,this.callbacks={onActive:null,onComplete:null,onLoop:null,onPause:null,onRepeat:null,onResume:null,onStart:null,onStop:null,onUpdate:null,onYoyo:null},this.callbackScope,this.persist=!1},setTimeScale:function(a){return this.timeScale=a,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return!this.paused&&this.isActive()},isPaused:function(){return this.paused},pause:function(){return this.paused||(this.paused=!0,this.dispatchEvent(d.TWEEN_PAUSE,"onPause")),this},resume:function(){return this.paused&&(this.paused=!1,this.dispatchEvent(d.TWEEN_RESUME,"onResume")),this},makeActive:function(){this.parent.makeActive(this),this.dispatchEvent(d.TWEEN_ACTIVE,"onActive")},onCompleteHandler:function(){this.setPendingRemoveState(),this.dispatchEvent(d.TWEEN_COMPLETE,"onComplete")},complete:function(a){return a===void 0&&(a=0),a?(this.setCompleteDelayState(),this.countdown=a):this.onCompleteHandler(),this},completeAfterLoop:function(a){return a===void 0&&(a=0),this.loopCounter>a&&(this.loopCounter=a),this},remove:function(){return this.parent&&this.parent.remove(this),this},stop:function(){return this.parent&&!this.isRemoved()&&!this.isPendingRemove()&&!this.isDestroyed()&&(this.dispatchEvent(d.TWEEN_STOP,"onStop"),this.setPendingRemoveState()),this},updateLoopCountdown:function(a){this.countdown-=a,this.countdown<=0&&(this.setActiveState(),this.dispatchEvent(d.TWEEN_LOOP,"onLoop"))},updateStartCountdown:function(a){return this.countdown-=a,this.countdown<=0&&(this.hasStarted=!0,this.setActiveState(),this.dispatchEvent(d.TWEEN_START,"onStart"),a=0),a},updateCompleteDelay:function(a){this.countdown-=a,this.countdown<=0&&this.onCompleteHandler()},setCallback:function(a,f,c){return c===void 0&&(c=[]),this.callbacks.hasOwnProperty(a)&&(this.callbacks[a]={func:f,params:c}),this},setPendingState:function(){this.state=h.PENDING},setActiveState:function(){this.state=h.ACTIVE,this.hasStarted=!1},setLoopDelayState:function(){this.state=h.LOOP_DELAY},setCompleteDelayState:function(){this.state=h.COMPLETE_DELAY},setStartDelayState:function(){this.state=h.START_DELAY,this.countdown=this.startDelay,this.hasStarted=!1},setPendingRemoveState:function(){this.state=h.PENDING_REMOVE},setRemovedState:function(){this.state=h.REMOVED},setFinishedState:function(){this.state=h.FINISHED},setDestroyedState:function(){this.state=h.DESTROYED},isPending:function(){return this.state===h.PENDING},isActive:function(){return this.state===h.ACTIVE},isLoopDelayed:function(){return this.state===h.LOOP_DELAY},isCompleteDelayed:function(){return this.state===h.COMPLETE_DELAY},isStartDelayed:function(){return this.state===h.START_DELAY},isPendingRemove:function(){return this.state===h.PENDING_REMOVE},isRemoved:function(){return this.state===h.REMOVED},isFinished:function(){return this.state===h.FINISHED},isDestroyed:function(){return this.state===h.DESTROYED},destroy:function(){this.data&&this.data.forEach(function(a){a.destroy()}),this.removeAllListeners(),this.callbacks=null,this.data=null,this.parent=null,this.setDestroyedState()}});l.TYPES=["onActive","onComplete","onLoop","onPause","onRepeat","onResume","onStart","onStop","onUpdate","onYoyo"],n.exports=l},95042:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(842),d=r(86353),h=new o({initialize:function(a,f,c,u,v,g,m,y,C,P){this.tween=a,this.targetIndex=f,this.duration=u<=0?.01:u,this.totalDuration=0,this.delay=0,this.getDelay=c,this.yoyo=v,this.hold=g,this.repeat=m,this.repeatDelay=y,this.repeatCounter=0,this.flipX=C,this.flipY=P,this.progress=0,this.elapsed=0,this.state=0,this.isCountdown=!1},getTarget:function(){return this.tween.targets[this.targetIndex]},setTargetValue:function(l){l===void 0&&(l=this.current),this.tween.targets[this.targetIndex][this.key]=l},setCreatedState:function(){this.state=d.CREATED,this.isCountdown=!1},setDelayState:function(){this.state=d.DELAY,this.isCountdown=!0},setPendingRenderState:function(){this.state=d.PENDING_RENDER,this.isCountdown=!1},setPlayingForwardState:function(){this.state=d.PLAYING_FORWARD,this.isCountdown=!1},setPlayingBackwardState:function(){this.state=d.PLAYING_BACKWARD,this.isCountdown=!1},setHoldState:function(){this.state=d.HOLD_DELAY,this.isCountdown=!0},setRepeatState:function(){this.state=d.REPEAT_DELAY,this.isCountdown=!0},setCompleteState:function(){this.state=d.COMPLETE,this.isCountdown=!1},isCreated:function(){return this.state===d.CREATED},isDelayed:function(){return this.state===d.DELAY},isPendingRender:function(){return this.state===d.PENDING_RENDER},isPlayingForward:function(){return this.state===d.PLAYING_FORWARD},isPlayingBackward:function(){return this.state===d.PLAYING_BACKWARD},isHolding:function(){return this.state===d.HOLD_DELAY},isRepeating:function(){return this.state===d.REPEAT_DELAY},isComplete:function(){return this.state===d.COMPLETE},setStateFromEnd:function(l){this.yoyo?this.onRepeat(l,!0,!0):this.repeatCounter>0?this.onRepeat(l,!0,!1):this.setCompleteState()},setStateFromStart:function(l){this.repeatCounter>0?this.onRepeat(l,!1):this.setCompleteState()},reset:function(){var l=this.tween,a=l.totalTargets,f=this.targetIndex,c=l.targets[f],u=this.key;this.progress=0,this.elapsed=0,this.delay=this.getDelay(c,u,0,f,a,l),this.repeatCounter=this.repeat===-1?d.MAX:this.repeat,this.setPendingRenderState();var v=this.duration+this.hold;this.yoyo&&(v+=this.duration);var g=v+this.repeatDelay;this.totalDuration=this.delay+v,this.repeat===-1?(this.totalDuration+=g*d.MAX,l.isInfinite=!0):this.repeat>0&&(this.totalDuration+=g*this.repeat),this.totalDuration>l.duration&&(l.duration=this.totalDuration),this.delay<l.startDelay&&(l.startDelay=this.delay),this.delay>0&&(this.elapsed=this.delay,this.setDelayState())},onRepeat:function(l,a,f){var c=this.tween,u=c.totalTargets,v=this.targetIndex,g=c.targets[v],m=this.key,y=m!=="texture";if(this.elapsed=l,this.progress=l/this.duration,this.flipX&&g.toggleFlipX(),this.flipY&&g.toggleFlipY(),y&&(a||f)&&(this.start=this.getStartValue(g,m,this.start,v,u,c)),f){this.setPlayingBackwardState(),this.dispatchEvent(x.TWEEN_YOYO,"onYoyo");return}this.repeatCounter--,y&&(this.end=this.getEndValue(g,m,this.start,v,u,c)),this.repeatDelay>0?(this.elapsed=this.repeatDelay-l,y&&(this.current=this.start,g[m]=this.current),this.setRepeatState()):(this.setPlayingForwardState(),this.dispatchEvent(x.TWEEN_REPEAT,"onRepeat"))},destroy:function(){this.tween=null,this.getDelay=null,this.setCompleteState()}});n.exports=h},69902:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={targets:null,delay:0,duration:1e3,ease:"Power0",easeParams:null,hold:0,repeat:0,repeatDelay:0,yoyo:!1,flipX:!1,flipY:!1,persist:!1,interpolation:null};n.exports=T},81076:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports=["callbackScope","completeDelay","delay","duration","ease","easeParams","flipX","flipY","hold","interpolation","loop","loopDelay","onActive","onActiveParams","onComplete","onCompleteParams","onLoop","onLoopParams","onPause","onPauseParams","onRepeat","onRepeatParams","onResume","onResumeParams","onStart","onStartParams","onStop","onStopParams","onUpdate","onUpdateParams","onYoyo","onYoyoParams","paused","persist","props","repeat","repeatDelay","targets","yoyo"]},86081:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(70402),x=r(83419),d=r(842),h=r(44603),l=r(39429),a=r(36383),f=r(86353),c=r(48177),u=r(42220),v=new x({Extends:o,initialize:function(m,y){o.call(this,m),this.targets=y,this.totalTargets=y.length,this.isSeeking=!1,this.isInfinite=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0,this.isNumberTween=!1},add:function(g,m,y,C,P,w,M,R,A,L,F,G,I,B,k,U){var H=new c(this,g,m,y,C,P,w,M,R,A,L,F,G,I,B,k,U);return this.totalData=this.data.push(H),H},addFrame:function(g,m,y,C,P,w,M,R,A,L){var F=new u(this,g,m,y,C,P,w,M,R,A,L);return this.totalData=this.data.push(F),F},getValue:function(g){g===void 0&&(g=0);var m=null;return this.data&&(m=this.data[g].current),m},hasTarget:function(g){return this.targets&&this.targets.indexOf(g)!==-1},updateTo:function(g,m,y){if(y===void 0&&(y=!1),g!=="texture")for(var C=0;C<this.totalData;C++){var P=this.data[C];P.key===g&&(P.isPlayingForward()||P.isPlayingBackward())&&(P.end=m,y&&(P.start=P.current))}return this},restart:function(){switch(this.state){case f.REMOVED:case f.FINISHED:this.seek(),this.parent.makeActive(this);break;case f.PENDING:case f.PENDING_REMOVE:this.parent.reset(this);break;case f.DESTROYED:console.warn("Cannot restart destroyed Tween",this);break;default:this.seek();break}return this.paused=!1,this.hasStarted=!1,this},nextState:function(){if(this.loopCounter>0)this.elapsed=0,this.progress=0,this.loopCounter--,this.initTweenData(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(d.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},onCompleteHandler:function(){this.progress=1,this.totalProgress=1,o.prototype.onCompleteHandler.call(this)},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed Tween",this),this):((this.isPendingRemove()||this.isFinished())&&this.seek(),this.paused=!1,this.setActiveState(),this)},seek:function(g,m,y){if(g===void 0&&(g=0),m===void 0&&(m=16.6),y===void 0&&(y=!1),this.isDestroyed())return console.warn("Cannot seek destroyed Tween",this),this;y||(this.isSeeking=!0),this.reset(!0),this.initTweenData(!0),this.setActiveState(),this.dispatchEvent(d.TWEEN_ACTIVE,"onActive");var C=this.paused;if(this.paused=!1,g>0){for(var P=Math.floor(g/m),w=g-P*m,M=0;M<P;M++)this.update(m);w>0&&this.update(w)}return this.paused=C,this.isSeeking=!1,this},initTweenData:function(g){g===void 0&&(g=!1),this.duration=0,this.startDelay=a.MAX_SAFE_INTEGER;for(var m=this.data,y=0;y<this.totalData;y++)m[y].reset(g);this.duration=Math.max(this.duration,.01);var C=this.duration,P=this.completeDelay,w=this.loopCounter,M=this.loopDelay;w>0?this.totalDuration=C+P+(C+M)*w:this.totalDuration=C+P},reset:function(g){return g===void 0&&(g=!1),this.elapsed=0,this.totalElapsed=0,this.progress=0,this.totalProgress=0,this.loopCounter=this.loop,this.loop===-1&&(this.isInfinite=!0,this.loopCounter=f.MAX),g||(this.initTweenData(),this.setActiveState(),this.dispatchEvent(d.TWEEN_ACTIVE,"onActive")),this},update:function(g){if(this.isPendingRemove()||this.isDestroyed())return this.persist?(this.setFinishedState(),!1):!0;if(this.paused||this.isFinished())return!1;if(g*=this.timeScale*this.parent.timeScale,this.isLoopDelayed())return this.updateLoopCountdown(g),!1;if(this.isCompleteDelayed())return this.updateCompleteDelay(g),!1;this.hasStarted||(this.startDelay-=g,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchEvent(d.TWEEN_START,"onStart"),g=0));var m=!1;if(this.isActive())for(var y=this.data,C=0;C<this.totalData;C++)y[C].update(g)&&(m=!0);this.elapsed+=g,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=g,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),m||this.nextState();var P=this.isPendingRemove();return P&&this.persist&&(this.setFinishedState(),P=!1),P},forward:function(g){return this.update(g),this},rewind:function(g){return this.update(-g),this},dispatchEvent:function(g,m){if(!this.isSeeking){if(this.emit(g,this,this.targets),!this.callbacks)return;var y=this.callbacks[m];y&&y.func.apply(this.callbackScope,[this,this.targets].concat(y.params))}},destroy:function(){o.prototype.destroy.call(this),this.targets=null}});l.register("tween",function(g){return this.scene.sys.tweens.add(g)}),h.register("tween",function(g){return this.scene.sys.tweens.create(g)}),n.exports=v},43960:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(72905),x=r(70402),d=r(83419),h=r(842),l=r(44603),a=r(39429),f=r(86353),c=new d({Extends:x,initialize:function(v){x.call(this,v),this.currentTween=null,this.currentIndex=0},init:function(){return this.loopCounter=this.loop===-1?f.MAX:this.loop,this.setCurrentTween(0),this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this},add:function(u){var v=this.parent.create(u);Array.isArray(v)||(v=[v]);for(var g=this.data,m=0;m<v.length;m++){var y=v[m];y.parent=this,g.push(y.reset())}return this.totalData=g.length,this},remove:function(u){return o(this.data,u),u.setRemovedState(),u===this.currentTween&&this.nextTween(),this.totalData=this.data.length,this},hasTarget:function(u){for(var v=this.data,g=0;g<this.totalData;g++)if(v[g].hasTarget(u))return!0;return!1},restart:function(){return this.isDestroyed()?(console.warn("Cannot restart destroyed TweenChain",this),this):(this.isRemoved()&&this.parent.makeActive(this),this.resetTweens(),this.paused=!1,this.init())},reset:function(u){return u.seek(),u.setActiveState(),this},makeActive:function(u){return u.reset(),u.setActiveState(),this},nextState:function(){if(this.loopCounter>0)this.loopCounter--,this.resetTweens(),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(h.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed TweenChain",this),this):((this.isPendingRemove()||this.isPending())&&this.resetTweens(),this.paused=!1,this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this)},resetTweens:function(){for(var u=this.data,v=this.totalData,g=0;g<v;g++)u[g].reset(!1);this.setCurrentTween(0)},update:function(u){if(this.isPendingRemove()||this.isDestroyed())return!0;if(this.isFinished()||this.paused)return!1;if(u*=this.parent.timeScale,this.isLoopDelayed())return this.updateLoopCountdown(u),!1;if(this.isCompleteDelayed())return this.updateCompleteDelay(u),!1;this.hasStarted||(this.startDelay-=u,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchEvent(h.TWEEN_START,"onStart"),u=0));var v=!1;return this.isActive()&&this.currentTween&&(this.currentTween.update(u)&&this.nextTween()&&this.nextState(),v=this.isPendingRemove(),v&&this.persist&&(this.setFinishedState(),v=!1)),v},nextTween:function(){return this.currentIndex++,this.currentIndex===this.totalData?!0:(this.setCurrentTween(this.currentIndex),!1)},setCurrentTween:function(u){this.currentIndex=u,this.currentTween=this.data[u],this.currentTween.setActiveState()},dispatchEvent:function(u,v){this.emit(u,this);var g=this.callbacks[v];g&&g.func.apply(this.callbackScope,[this].concat(g.params))},destroy:function(){x.prototype.destroy.call(this),this.currentTween=null}});a.register("tweenchain",function(u){return this.scene.sys.tweens.chain(u)}),l.register("tweenchain",function(u){return this.scene.sys.tweens.create(u)}),n.exports=c},48177:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(95042),x=r(45319),d=r(83419),h=r(842),l=new d({Extends:o,initialize:function(f,c,u,v,g,m,y,C,P,w,M,R,A,L,F,G,I){o.call(this,f,c,C,P,w,M,R,A,L,F),this.key=u,this.getActiveValue=m,this.getEndValue=v,this.getStartValue=g,this.ease=y,this.start=0,this.previous=0,this.current=0,this.end=0,this.interpolation=G,this.interpolationData=I},reset:function(a){o.prototype.reset.call(this);var f=this.tween.targets[this.targetIndex],c=this.key;a&&(f[c]=this.start),this.start=0,this.previous=0,this.current=0,this.end=0,this.getActiveValue&&(f[c]=this.getActiveValue(f,c,0))},update:function(a){var f=this.tween,c=f.totalTargets,u=this.targetIndex,v=f.targets[u],g=this.key;if(!v)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=a,this.elapsed<=0&&(this.elapsed=0,a=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(h.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.start=this.getStartValue(v,g,v[g],u,c,f),this.end=this.getEndValue(v,g,this.start,u,c,f),this.current=this.start,v[g]=this.start,this.setPlayingForwardState(),!0;var m=this.isPlayingForward(),y=this.isPlayingBackward();if(m||y){var C=this.elapsed,P=this.duration,w=0,M=!1;C+=a,C>=P?(w=C-P,C=P,M=!0):C<0&&(C=0);var R=x(C/P,0,1);this.elapsed=C,this.progress=R,this.previous=this.current,m||(R=1-R);var A=this.ease(R);this.interpolation?this.current=this.interpolation(this.interpolationData,A):this.current=this.start+(this.end-this.start)*A,v[g]=this.current,M&&(m?(f.isNumberTween&&(this.current=this.end,v[g]=this.current),this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(w)):(f.isNumberTween&&(this.current=this.start,v[g]=this.current),this.setStateFromStart(w))),this.dispatchEvent(h.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(a,f){var c=this.tween;if(!c.isSeeking){var u=c.targets[this.targetIndex],v=this.key,g=this.current,m=this.previous;c.emit(a,c,v,u,g,m);var y=c.callbacks[f];y&&y.func.apply(c.callbackScope,[c,u,v,g,m].concat(y.params))}},destroy:function(){o.prototype.destroy.call(this),this.getActiveValue=null,this.getEndValue=null,this.getStartValue=null,this.ease=null}});n.exports=l},42220:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(95042),x=r(45319),d=r(83419),h=r(842),l=new d({Extends:o,initialize:function(f,c,u,v,g,m,y,C,P,w,M){o.call(this,f,c,g,m,!1,y,C,P,w,M),this.key="texture",this.startTexture=null,this.endTexture=u,this.startFrame=null,this.endFrame=v,this.yoyo=C!==0},reset:function(a){o.prototype.reset.call(this);var f=this.tween.targets[this.targetIndex];this.startTexture||(this.startTexture=f.texture.key,this.startFrame=f.frame.name),a&&f.setTexture(this.startTexture,this.startFrame)},update:function(a){var f=this.tween,c=this.targetIndex,u=f.targets[c];if(!u)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=a,this.elapsed<=0&&(this.elapsed=0,a=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(h.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.startTexture&&u.setTexture(this.startTexture,this.startFrame),this.setPlayingForwardState(),!0;var v=this.isPlayingForward(),g=this.isPlayingBackward();if(v||g){var m=this.elapsed,y=this.duration,C=0,P=!1;m+=a,m>=y?(C=m-y,m=y,P=!0):m<0&&(m=0);var w=x(m/y,0,1);this.elapsed=m,this.progress=w,P&&(v?(u.setTexture(this.endTexture,this.endFrame),this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(C)):(u.setTexture(this.startTexture,this.startFrame),this.setStateFromStart(C))),this.dispatchEvent(h.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(a,f){var c=this.tween;if(!c.isSeeking){var u=c.targets[this.targetIndex],v=this.key;c.emit(a,c,v,u);var g=c.callbacks[f];g&&g.func.apply(c.callbackScope,[c,u,v].concat(g.params))}},destroy:function(){o.prototype.destroy.call(this),this.startTexture=null,this.endTexture=null,this.startFrame=null,this.endFrame=null}});n.exports=l},86353:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={CREATED:0,DELAY:2,PENDING_RENDER:4,PLAYING_FORWARD:5,PLAYING_BACKWARD:6,HOLD_DELAY:7,REPEAT_DELAY:8,COMPLETE:9,PENDING:20,ACTIVE:21,LOOP_DELAY:22,COMPLETE_DELAY:23,START_DELAY:24,PENDING_REMOVE:25,REMOVED:26,FINISHED:27,DESTROYED:28,MAX:999999999999};n.exports=T},83419:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function T(l){return!!l.get&&typeof l.get=="function"||!!l.set&&typeof l.set=="function"}function r(l,a,f){var c=f?l[a]:Object.getOwnPropertyDescriptor(l,a);return!f&&c.value&&typeof c.value=="object"&&(c=c.value),c&&T(c)?(typeof c.enumerable>"u"&&(c.enumerable=!0),typeof c.configurable>"u"&&(c.configurable=!0),c):!1}function o(l,a){var f=Object.getOwnPropertyDescriptor(l,a);return f?(f.value&&typeof f.value=="object"&&(f=f.value),f.configurable===!1):!1}function x(l,a,f,c){for(var u in a)if(a.hasOwnProperty(u)){var v=r(a,u,f);if(v!==!1){var g=c||l;if(o(g.prototype,u)){if(h.ignoreFinals)continue;throw new Error("cannot override final property '"+u+"', set Class.ignoreFinals = true to skip")}Object.defineProperty(l.prototype,u,v)}else l.prototype[u]=a[u]}}function d(l,a){if(a){Array.isArray(a)||(a=[a]);for(var f=0;f<a.length;f++)x(l,a[f].prototype||a[f])}}function h(l){l||(l={});var a,f;if(l.initialize){if(typeof l.initialize!="function")throw new Error("initialize must be a function");a=l.initialize,delete l.initialize}else if(l.Extends){var c=l.Extends;a=function(){c.apply(this,arguments)}}else a=function(){};l.Extends?(a.prototype=Object.create(l.Extends.prototype),a.prototype.constructor=a,f=l.Extends,delete l.Extends):a.prototype.constructor=a;var u=null;return l.Mixins&&(u=l.Mixins,delete l.Mixins),d(a,u),x(a,l,!0,f),a}h.extend=x,h.mixin=d,h.ignoreFinals=!1,n.exports=h},29747:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(){};n.exports=T},20242:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(){return null};n.exports=T},71146:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d,h){if(h===void 0&&(h=r),x>0){var l=x-r.length;if(l<=0)return null}if(!Array.isArray(o))return r.indexOf(o)===-1?(r.push(o),d&&d.call(h,o),o):null;for(var a=o.length-1;a>=0;)r.indexOf(o[a])!==-1&&o.splice(a,1),a--;if(a=o.length,a===0)return null;x>0&&a>l&&(o.splice(l),a=l);for(var f=0;f<a;f++){var c=o[f];r.push(c),d&&d.call(h,c)}return o};n.exports=T},51067:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d,h,l){if(x===void 0&&(x=0),l===void 0&&(l=r),d>0){var a=d-r.length;if(a<=0)return null}if(!Array.isArray(o))return r.indexOf(o)===-1?(r.splice(x,0,o),h&&h.call(l,o),o):null;for(var f=o.length-1;f>=0;)r.indexOf(o[f])!==-1&&o.pop(),f--;if(f=o.length,f===0)return null;d>0&&f>a&&(o.splice(a),f=a);for(var c=f-1;c>=0;c--){var u=o[c];r.splice(x,0,u),h&&h.call(l,u)}return o};n.exports=T},66905:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){var x=r.indexOf(o);return x!==-1&&x<r.length&&(r.splice(x,1),r.push(o)),o};n.exports=T},21612:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(82011),x=function(d,h,l,a,f){a===void 0&&(a=0),f===void 0&&(f=d.length);var c=0;if(o(d,a,f))for(var u=a;u<f;u++){var v=d[u];v[h]===l&&c++}return c};n.exports=x},95428:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){var d,h=[null];for(d=3;d<arguments.length;d++)h.push(arguments[d]);for(d=0;d<r.length;d++)h[0]=r[d],o.apply(x,h);return r};n.exports=T},36914:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(82011),x=function(d,h,l,a,f){if(a===void 0&&(a=0),f===void 0&&(f=d.length),o(d,a,f)){var c,u=[null];for(c=5;c<arguments.length;c++)u.push(arguments[c]);for(c=a;c<f;c++)u[0]=d[c],h.apply(l,u)}return d};n.exports=x},81957:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){if(o.length){if(o.length===1)return o[0]}else return NaN;var d=1,h,l;if(x){if(r<o[0][x])return o[0];for(;o[d][x]<r;)d++}else for(;o[d]<r;)d++;return d>o.length&&(d=o.length),x?(h=o[d-1][x],l=o[d][x],l-r<=r-h?o[d]:o[d-1]):(h=o[d-1],l=o[d],l-r<=r-h?l:h)};n.exports=T},43491:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){o===void 0&&(o=[]);for(var x=0;x<r.length;x++)Array.isArray(r[x])?T(r[x],o):o.push(r[x]);return o};n.exports=T},46710:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(82011),x=function(d,h,l,a,f){a===void 0&&(a=0),f===void 0&&(f=d.length);var c=[];if(o(d,a,f))for(var u=a;u<f;u++){var v=d[u];(!h||h&&l===void 0&&v.hasOwnProperty(h)||h&&l!==void 0&&v[h]===l)&&c.push(v)}return c};n.exports=x},58731:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(82011),x=function(d,h,l,a,f){if(a===void 0&&(a=0),f===void 0&&(f=d.length),a!==-1){if(o(d,a,f))for(var c=a;c<f;c++){var u=d[c];if(!h||h&&l===void 0&&u.hasOwnProperty(h)||h&&l!==void 0&&u[h]===l)return u}}else if(o(d,0,f))for(var c=f;c>=0;c--){var u=d[c];if(!h||h&&l===void 0&&u.hasOwnProperty(h)||h&&l!==void 0&&u[h]===l)return u}return null};n.exports=x},26546:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){o===void 0&&(o=0),x===void 0&&(x=r.length);var d=o+Math.floor(Math.random()*x);return r[d]===void 0?null:r[d]};n.exports=T},85835:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){if(o===x)return r;var d=r.indexOf(o),h=r.indexOf(x);if(d<0||h<0)throw new Error("Supplied items must be elements of the same array");return d>h||(r.splice(d,1),h=r.indexOf(x),r.splice(h+1,0,o)),r};n.exports=T},83371:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){if(o===x)return r;var d=r.indexOf(o),h=r.indexOf(x);if(d<0||h<0)throw new Error("Supplied items must be elements of the same array");return d<h||(r.splice(d,1),h===0?r.unshift(o):r.splice(h,0,o)),r};n.exports=T},70864:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){var x=r.indexOf(o);if(x>0){var d=r[x-1],h=r.indexOf(d);r[x]=d,r[h]=o}return r};n.exports=T},69693:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){var d=r.indexOf(o);if(d===-1||x<0||x>=r.length)throw new Error("Supplied index out of bounds");return d!==x&&(r.splice(d,1),r.splice(x,0,o)),o};n.exports=T},40853:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){var x=r.indexOf(o);if(x!==-1&&x<r.length-1){var d=r[x+1],h=r.indexOf(d);r[x]=d,r[h]=o}return r};n.exports=T},20283:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d){var h=[],l,a=!1;if((x||d)&&(a=!0,x||(x=""),d||(d="")),o<r)for(l=r;l>=o;l--)a?h.push(x+l.toString()+d):h.push(l);else for(l=r;l<=o;l++)a?h.push(x+l.toString()+d):h.push(l);return h};n.exports=T},593:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2284),x=function(d,h,l){d===void 0&&(d=0),h===void 0&&(h=null),l===void 0&&(l=1),h===null&&(h=d,d=0);for(var a=[],f=Math.max(o((h-d)/(l||1)),0),c=0;c<f;c++)a.push(d),d+=l;return a};n.exports=x},43886:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function T(x,d,h){var l=x[d];x[d]=x[h],x[h]=l}function r(x,d){return x<d?-1:x>d?1:0}var o=function(x,d,h,l,a){for(h===void 0&&(h=0),l===void 0&&(l=x.length-1),a===void 0&&(a=r);l>h;){if(l-h>600){var f=l-h+1,c=d-h+1,u=Math.log(f),v=.5*Math.exp(2*u/3),g=.5*Math.sqrt(u*v*(f-v)/f)*(c-f/2<0?-1:1),m=Math.max(h,Math.floor(d-c*v/f+g)),y=Math.min(l,Math.floor(d+(f-c)*v/f+g));o(x,d,m,y,a)}var C=x[d],P=h,w=l;for(T(x,h,d),a(x[l],C)>0&&T(x,h,l);P<w;){for(T(x,P,w),P++,w--;a(x[P],C)<0;)P++;for(;a(x[w],C)>0;)w--}a(x[h],C)===0?T(x,h,w):(w++,T(x,w,l)),w<=d&&(h=w+1),d<=w&&(l=w-1)}};n.exports=o},88492:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(35154),x=r(33680),d=function(l,a,f){for(var c=[],u=0;u<l.length;u++)for(var v=0;v<a.length;v++)for(var g=0;g<f;g++)c.push({a:l[u],b:a[v]});return c},h=function(l,a,f){var c=o(f,"max",0),u=o(f,"qty",1),v=o(f,"random",!1),g=o(f,"randomB",!1),m=o(f,"repeat",0),y=o(f,"yoyo",!1),C=[];if(g&&x(a),m===-1)if(c===0)m=0;else{var P=l.length*a.length*u;y&&(P*=2),m=Math.ceil(c/P)}for(var w=0;w<=m;w++){var M=d(l,a,u);v&&x(M),C=C.concat(M),y&&(M.reverse(),C=C.concat(M))}return c&&C.splice(c),C};n.exports=h},72905:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(19133),x=function(d,h,l,a){a===void 0&&(a=d);var f;if(!Array.isArray(h))return f=d.indexOf(h),f!==-1?(o(d,f),l&&l.call(a,h),h):null;for(var c=h.length-1,u=[];c>=0;){var v=h[c];f=d.indexOf(v),f!==-1&&(o(d,f),u.push(v),l&&l.call(a,v)),c--}return u};n.exports=x},60248:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(19133),x=function(d,h,l,a){if(a===void 0&&(a=d),h<0||h>d.length-1)throw new Error("Index out of bounds");var f=o(d,h);return l&&l.call(a,f),f};n.exports=x},81409:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(82011),x=function(d,h,l,a,f){if(h===void 0&&(h=0),l===void 0&&(l=d.length),f===void 0&&(f=d),o(d,h,l)){var c=l-h,u=d.splice(h,c);if(a)for(var v=0;v<u.length;v++){var g=u[v];a.call(f,g)}return u}else return[]};n.exports=x},31856:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(19133),x=function(d,h,l){h===void 0&&(h=0),l===void 0&&(l=d.length);var a=h+Math.floor(Math.random()*l);return o(d,a)};n.exports=x},42169:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){var d=r.indexOf(o),h=r.indexOf(x);return d!==-1&&h===-1?(r[d]=x,!0):!1};n.exports=T},86003:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){o===void 0&&(o=1);for(var x=null,d=0;d<o;d++)x=r.shift(),r.push(x);return x};n.exports=T},49498:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){o===void 0&&(o=1);for(var x=null,d=0;d<o;d++)x=r.pop(),r.unshift(x);return x};n.exports=T},82011:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d){var h=r.length;if(o<0||o>=h||o>=x||x>h){if(d)throw new Error("Range Error: Values outside acceptable range");return!1}else return!0};n.exports=T},89545:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){var x=r.indexOf(o);return x!==-1&&x>0&&(r.splice(x,1),r.unshift(o)),o};n.exports=T},17810:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(82011),x=function(d,h,l,a,f){if(a===void 0&&(a=0),f===void 0&&(f=d.length),o(d,a,f))for(var c=a;c<f;c++){var u=d[c];u.hasOwnProperty(h)&&(u[h]=l)}return d};n.exports=x},33680:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){for(var o=r.length-1;o>0;o--){var x=Math.floor(Math.random()*(o+1)),d=r[o];r[o]=r[x],r[x]=d}return r};n.exports=T},90126:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){var o=/\D/g;return r.sort(function(x,d){return parseInt(x.replace(o,""),10)-parseInt(d.replace(o,""),10)}),r};n.exports=T},19133:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){if(!(o>=r.length)){for(var x=r.length-1,d=r[o],h=o;h<x;h++)r[h]=r[h+1];return r.length=x,d}};n.exports=T},19186:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Angry Bytes (and contributors)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(82264);function x(a,f){return String(a).localeCompare(f)}function d(a,f){var c=a.length;if(c<=1)return a;for(var u=new Array(c),v=1;v<c;v*=2){h(a,f,v,u);var g=a;a=u,u=g}return a}function h(a,f,c,u){var v=a.length,g=0,m=c*2,y,C,P,w,M;for(y=0;y<v;y+=m)for(C=y+c,P=C+c,C>v&&(C=v),P>v&&(P=v),w=y,M=C;;)if(w<C&&M<P)f(a[w],a[M])<=0?u[g++]=a[w++]:u[g++]=a[M++];else if(w<C)u[g++]=a[w++];else if(M<P)u[g++]=a[M++];else break}var l=function(a,f){if(f===void 0&&(f=x),!a||a.length<2)return a;if(o.features.stableSort)return a.sort(f);var c=d(a,f);return c!==a&&h(c,null,a.length,a),a};n.exports=l},25630:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){if(o===x)return r;var d=r.indexOf(o),h=r.indexOf(x);if(d<0||h<0)throw new Error("Supplied items must be elements of the same array");return r[d]=x,r[h]=o,r};n.exports=T},37105:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Matrix:r(54915),Add:r(71146),AddAt:r(51067),BringToTop:r(66905),CountAllMatching:r(21612),Each:r(95428),EachInRange:r(36914),FindClosestInSorted:r(81957),Flatten:r(43491),GetAll:r(46710),GetFirst:r(58731),GetRandom:r(26546),MoveDown:r(70864),MoveTo:r(69693),MoveUp:r(40853),MoveAbove:r(85835),MoveBelow:r(83371),NumberArray:r(20283),NumberArrayStep:r(593),QuickSelect:r(43886),Range:r(88492),Remove:r(72905),RemoveAt:r(60248),RemoveBetween:r(81409),RemoveRandomElement:r(31856),Replace:r(42169),RotateLeft:r(86003),RotateRight:r(49498),SafeRange:r(82011),SendToBack:r(89545),SetAll:r(17810),Shuffle:r(33680),SortByDigits:r(90126),SpliceOne:r(19133),StableSort:r(19186),Swap:r(25630)}},86922:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){if(!Array.isArray(r)||!Array.isArray(r[0]))return!1;for(var o=r[0].length,x=1;x<r.length;x++)if(r[x].length!==o)return!1;return!0};n.exports=T},63362:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(41836),x=r(86922),d=function(h){var l="";if(!x(h))return l;for(var a=0;a<h.length;a++){for(var f=0;f<h[a].length;f++){var c=h[a][f].toString();c!=="undefined"?l+=o(c,2):l+="?",f<h[a].length-1&&(l+=" |")}if(a<h.length-1){l+=`
`;for(var u=0;u<h[a].length;u++)l+="---",u<h[a].length-1&&(l+="+");l+=`
`}}return l};n.exports=d},92598:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r.reverse()};n.exports=T},21224:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){for(var o=0;o<r.length;o++)r[o].reverse();return r};n.exports=T},98717:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(37829),x=function(d){return o(d,180)};n.exports=x},44657:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(37829),x=function(d,h){h===void 0&&(h=1);for(var l=0;l<h;l++)d=o(d,90);return d};n.exports=x},37829:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(86922),x=r(2429),d=function(h,l){if(l===void 0&&(l=90),!o(h))return null;if(typeof l!="string"&&(l=(l%360+360)%360),l===90||l===-270||l==="rotateLeft")h=x(h),h.reverse();else if(l===-90||l===270||l==="rotateRight")h.reverse(),h=x(h);else if(Math.abs(l)===180||l==="rotate180"){for(var a=0;a<h.length;a++)h[a].reverse();h.reverse()}return h};n.exports=d},92632:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(37829),x=function(d,h){h===void 0&&(h=1);for(var l=0;l<h;l++)d=o(d,-90);return d};n.exports=x},69512:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(86003),x=r(49498),d=function(h,l,a){if(l===void 0&&(l=0),a===void 0&&(a=0),a!==0&&(a<0?o(h,Math.abs(a)):x(h,a)),l!==0)for(var f=0;f<h.length;f++){var c=h[f];l<0?o(c,Math.abs(l)):x(c,l)}return h};n.exports=d},2429:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){for(var o=r.length,x=r[0].length,d=new Array(x),h=0;h<x;h++){d[h]=new Array(o);for(var l=o-1;l>-1;l--)d[h][l]=r[l][h]}return d};n.exports=T},54915:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={CheckMatrix:r(86922),MatrixToString:r(63362),ReverseColumns:r(92598),ReverseRows:r(21224),Rotate180:r(98717),RotateLeft:r(44657),RotateMatrix:r(37829),RotateRight:r(92632),Translate:r(69512),TransposeMatrix:r(2429)}},71334:n=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=function(o,x){for(var d=new Uint8Array(o),h=d.length,l=x?"data:"+x+";base64,":"",a=0;a<h;a+=3)l+=T[d[a]>>2],l+=T[(d[a]&3)<<4|d[a+1]>>4],l+=T[(d[a+1]&15)<<2|d[a+2]>>6],l+=T[d[a+2]&63];return h%3===2?l=l.substring(0,l.length-1)+"=":h%3===1&&(l=l.substring(0,l.length-2)+"=="),l};n.exports=r},53134:n=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */for(var T="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=new Uint8Array(256),o=0;o<T.length;o++)r[T.charCodeAt(o)]=o;var x=function(d){d=d.substr(d.indexOf(",")+1);var h=d.length,l=h*.75,a=0,f,c,u,v;d[h-1]==="="&&(l--,d[h-2]==="="&&l--);for(var g=new ArrayBuffer(l),m=new Uint8Array(g),y=0;y<h;y+=4)f=r[d.charCodeAt(y)],c=r[d.charCodeAt(y+1)],u=r[d.charCodeAt(y+2)],v=r[d.charCodeAt(y+3)],m[a++]=f<<2|c>>4,m[a++]=(c&15)<<4|u>>2,m[a++]=(u&3)<<6|v&63;return g};n.exports=x},65839:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ArrayBufferToBase64:r(71334),Base64ToArrayBuffer:r(53134)}},91799:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Array:r(37105),Base64:r(65839),Objects:r(1183),String:r(31749),NOOP:r(29747),NULL:r(20242)}},41786:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){var o={};for(var x in r)Array.isArray(r[x])?o[x]=r[x].slice(0):o[x]=r[x];return o};n.exports=T},62644:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){var o,x,d;if(typeof r!="object"||r===null)return r;o=Array.isArray(r)?[]:{};for(d in r)x=r[d],o[d]=T(x);return o};n.exports=T},79291:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(41212),x=function(){var d,h,l,a,f,c,u=arguments[0]||{},v=1,g=arguments.length,m=!1;for(typeof u=="boolean"&&(m=u,u=arguments[1]||{},v=2),g===v&&(u=this,--v);v<g;v++)if((d=arguments[v])!=null)for(h in d)l=u[h],a=d[h],u!==a&&(m&&a&&(o(a)||(f=Array.isArray(a)))?(f?(f=!1,c=l&&Array.isArray(l)?l:[]):c=l&&o(l)?l:{},u[h]=x(m,c,a)):a!==void 0&&(u[h]=a));return u};n.exports=x},23568:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(75508),x=r(35154),d=function(h,l,a){var f=x(h,l,null);if(f===null)return a;if(Array.isArray(f))return o.RND.pick(f);if(typeof f=="object"){if(f.hasOwnProperty("randInt"))return o.RND.integerInRange(f.randInt[0],f.randInt[1]);if(f.hasOwnProperty("randFloat"))return o.RND.realInRange(f.randFloat[0],f.randFloat[1])}else if(typeof f=="function")return f(l);return f};n.exports=d},95540:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){var d=typeof r;return!r||d==="number"||d==="string"?x:r.hasOwnProperty(o)&&r[o]!==void 0?r[o]:x};n.exports=T},82840:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(35154),x=r(45319),d=function(h,l,a,f,c){c===void 0&&(c=a);var u=o(h,l,c);return x(u,a,f)};n.exports=d},35154:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d){if(!r&&!d||typeof r=="number")return x;if(r&&r.hasOwnProperty(o))return r[o];if(d&&d.hasOwnProperty(o))return d[o];if(o.indexOf(".")!==-1){for(var h=o.split("."),l=r,a=d,f=x,c=x,u=!0,v=!0,g=0;g<h.length;g++)l&&l.hasOwnProperty(h[g])?(f=l[h[g]],l=l[h[g]]):u=!1,a&&a.hasOwnProperty(h[g])?(c=a[h[g]],a=a[h[g]]):v=!1;return u?f:v?c:x}else return x};n.exports=T},69036:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){for(var x=0;x<o.length;x++)if(!r.hasOwnProperty(o[x]))return!1;return!0};n.exports=T},1985:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){for(var x=0;x<o.length;x++)if(r.hasOwnProperty(o[x]))return!0;return!1};n.exports=T},97022:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return r.hasOwnProperty(o)};n.exports=T},41212:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){if(!r||typeof r!="object"||r.nodeType||r===r.window)return!1;try{if(r.constructor&&!{}.hasOwnProperty.call(r.constructor.prototype,"isPrototypeOf"))return!1}catch{return!1}return!0};n.exports=T},46975:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(41786),x=function(d,h){var l=o(d);for(var a in h)l.hasOwnProperty(a)||(l[a]=h[a]);return l};n.exports=x},269:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(41786),x=function(d,h){var l=o(d);for(var a in h)l.hasOwnProperty(a)&&(l[a]=h[a]);return l};n.exports=x},18254:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(97022),x=function(d,h){for(var l={},a=0;a<h.length;a++){var f=h[a];o(d,f)&&(l[f]=d[f])}return l};n.exports=x},61622:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){if(!r||typeof r=="number")return!1;if(r.hasOwnProperty(o))return r[o]=x,!0;if(o.indexOf(".")!==-1){for(var d=o.split("."),h=r,l=r,a=0;a<d.length;a++)if(h.hasOwnProperty(d[a]))l=h,h=h[d[a]];else return!1;return l[d[d.length-1]]=x,!0}return!1};n.exports=T},1183:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Clone:r(41786),DeepCopy:r(62644),Extend:r(79291),GetAdvancedValue:r(23568),GetFastValue:r(95540),GetMinMaxValue:r(82840),GetValue:r(35154),HasAll:r(69036),HasAny:r(1985),HasValue:r(97022),IsPlainObject:r(41212),Merge:r(46975),MergeRight:r(269),Pick:r(18254),SetValue:r(61622)}},27902:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return r.replace(/%([0-9]+)/g,function(x,d){return o[Number(d)-1]})};n.exports=T},41836:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d){o===void 0&&(o=0),x===void 0&&(x=" "),d===void 0&&(d=3),r=r.toString();var h=0;if(o+1>=r.length)switch(d){case 1:r=new Array(o+1-r.length).join(x)+r;break;case 3:var l=Math.ceil((h=o-r.length)/2),a=h-l;r=new Array(a+1).join(x)+r+new Array(l+1).join(x);break;default:r=r+new Array(o+1-r.length).join(x);break}return r};n.exports=T},33628:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return o===0?r.slice(1):r.slice(0,o)+r.slice(o+1)};n.exports=T},27671:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r.split("").reverse().join("")};n.exports=T},45650:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){var o=Math.random()*16|0,x=r==="x"?o:o&3|8;return x.toString(16)})};n.exports=T},35355:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r&&r[0].toUpperCase()+r.slice(1)};n.exports=T},31749:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Format:r(27902),Pad:r(41836),RemoveAt:r(33628),Reverse:r(27671),UppercaseFirst:r(35355),UUID:r(45650)}}},s={};function p(n){var T=s[n];if(T!==void 0)return T.exports;var r=s[n]={exports:{}};return i[n](r,r.exports,p),r.exports}p.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}();var E=p(85454);return E})())})(L4);var Zd=L4.exports;const dl=vx(Zd),FD=500,kr=class kr{};Ut(kr,"IS_DEV",!0),Ut(kr,"USE_MOCK_CONTROLLER",!0),Ut(kr,"API_URL","https://api.oracle-hut.ru"),Ut(kr,"CLIENT_URL"),Ut(kr,"APP_URL","https://t.me/OracleHutBot/oracle_hut"),Ut(kr,"PLATFORM","tg"),Ut(kr,"AMPLITUDE_TOKEN","12010e7e269f8f12db2919b81227ec7b"),Ut(kr,"APP_UUID","0e9f2d89-ff6d-4aad-bc0f-58da1c4b1422"),Ut(kr,"DEVICE_PIXEL_RATIO",window.devicePixelRatio||1),Ut(kr,"DISPLAY_WIDTH",window.innerWidth>FD?FD:window.innerWidth*kr.DEVICE_PIXEL_RATIO),Ut(kr,"DISPLAY_HEIGHT",window.innerHeight*kr.DEVICE_PIXEL_RATIO),Ut(kr,"BACKGROUND_COLOR","#ce8748"),Ut(kr,"BASE_WIDTH",1080),Ut(kr,"BASE_HEIGHT",1920),Ut(kr,"BASE_TIME_VIBRATE",100);let ur=kr;const HH="Boot",D4="Preloader",$H="Oracle",KH="Error",F4="merge:scene",Yn={BOILER:"boiler",BASKET:"basket",BOOK:"book",POUCH:"pouch"},Mn={MUSHROOM:"mushroom",FRUIT:"fruit",SCROLL:"scroll",STONE:"stone"};function ZH(e){return Object.values(Yn).includes(e)}function JH(e){return Object.values(Mn).includes(e)}const ID={TARGET:"target",GENERATOR:"generator"},I4="oracleBall",jH="gladeButton",B4="backButton",G4="shareStoryButton",k4="freeEssenceBtn",N4="balanceBoard",U4="freeBoard",V4="oracleBg",z4="oracleBgBlur",W4="matchCell",Y4="matchCellDark",QH="matchItem1",qH="matchItem2",_H="matchItem3",t$="matchItem4",e$="matchItem5",i$="matchItem6",r$=Yn.BOILER,n$=Yn.BASKET,s$=Yn.BOOK,a$=Yn.POUCH,o$=Mn.MUSHROOM,l$=Mn.FRUIT,h$=Mn.SCROLL,u$=Mn.STONE,X4="LIGHTNING_ICON",AP=ur.DISPLAY_WIDTH*.15,f$=1.145,Gy=AP*f$;function wo(e,t,i){const s=i.value;i.value=async function(...p){const E=`${e.constructor.name}.${t}`;console.log(`Calling method: ${E}`),console.time(`time_${E}`);const n=await s.apply(this,p);return console.timeEnd(`time_${E}`),n}}function d$(e){return function(t){return function(i,s,p){const E=p.value;return p.value=function(...n){const T=E.apply(this,n),r=o=>{Array.isArray(o)?e.emit(t,...o):e.emit(t,o)};return T instanceof Promise?T.then(r):r(T),T},p}}}function c$(){return function(e){return class extends e{constructor(...t){super(...t);const i=this.__eventHandlers??[];for(const{eventName:s,methodName:p,eventBus:E}of i)E.on(s,this[p].bind(this))}}}}function v$(e){return function(t){return function(i,s){i.__eventHandlers||(i.__eventHandlers=[]),i.__eventHandlers.push({eventName:t,methodName:s,eventBus:e})}}}class p${}class g$ extends p${constructor(){super()}async getProfile(){return{id:"id",createdAt:new Date,updatedAt:new Date,lastFreeCrediting:new Date(Date.now()-86385e3).toISOString(),balance:1}}async getPrediction(){return{id:"id",text:"      .  !"}}async getFreeEssence(){await new Promise(t=>setTimeout(t,3e3))}async getStoryPath(t){return{url:"/assets/stories/01960fb0-4bbb-74dd-b1e9-4e8f65917e21.jpg",id:t}}setLastLogin(){return Promise.resolve()}}class m${}var H4={},px={};(function(){var e={},t="";try{t=location.hash.toString()}catch{}var i=r(t),s=u("initParams");if(s)for(var p in s)typeof i[p]>"u"&&(i[p]=s[p]);c("initParams",i);var E=!1,n;try{if(E=window.parent!=null&&window!=window.parent,E){window.addEventListener("message",function(v){if(v.source===window.parent){try{var g=JSON.parse(v.data)}catch{return}if(!(!g||!g.eventType))if(g.eventType=="set_custom_style")v.origin==="https://web.telegram.org"&&(n.innerHTML=g.eventData);else if(g.eventType=="reload_iframe"){try{window.parent.postMessage(JSON.stringify({eventType:"iframe_will_reload"}),"*")}catch{}location.reload()}else h(g.eventType,g.eventData)}}),n=document.createElement("style"),document.head.appendChild(n);try{window.parent.postMessage(JSON.stringify({eventType:"iframe_ready",eventData:{reload_supported:!0}}),"*")}catch{}}}catch{}function T(v){try{return v=v.replace(/\+/g,"%20"),decodeURIComponent(v)}catch{return v}}function r(v){v=v.replace(/^#/,"");var g={};if(!v.length)return g;if(v.indexOf("=")<0&&v.indexOf("?")<0)return g._path=T(v),g;var m=v.indexOf("?");if(m>=0){var y=v.substr(0,m);g._path=T(y),v=v.substr(m+1)}var C=o(v);for(var P in C)g[P]=C[P];return g}function o(v){var g={};if(!v.length)return g;var m=v.split("&"),y,C,P,w;for(y=0;y<m.length;y++)C=m[y].split("="),P=T(C[0]),w=C[1]==null?null:T(C[1]),g[P]=w;return g}function x(v,g){var m=v.indexOf("#");if(m<0)return v+"#"+g;var y=v.substr(m+1);return y.indexOf("=")>=0||y.indexOf("?")>=0?v+"&"+g:y.length>0?v+"?"+g:v+g}function d(v,g,m){if(g||(g=function(){}),m===void 0&&(m=""),console.log("[Telegram.WebView] > postEvent",v,m),window.TelegramWebviewProxy!==void 0)TelegramWebviewProxy.postEvent(v,JSON.stringify(m)),g();else if(window.external&&"notify"in window.external)window.external.notify(JSON.stringify({eventType:v,eventData:m})),g();else if(E)try{var y="https://web.telegram.org";y="*",window.parent.postMessage(JSON.stringify({eventType:v,eventData:m}),y),g()}catch(C){g(C)}else g({notAvailable:!0})}function h(v,g){console.log("[Telegram.WebView] < receiveEvent",v,g),l(v,function(m){m(v,g)})}function l(v,g){var m=e[v];if(!(m===void 0||!m.length))for(var y=0;y<m.length;y++)try{g(m[y])}catch{}}function a(v,g){e[v]===void 0&&(e[v]=[]);var m=e[v].indexOf(g);m===-1&&e[v].push(g)}function f(v,g){if(e[v]!==void 0){var m=e[v].indexOf(g);m!==-1&&e[v].splice(m,1)}}function c(v,g){try{return window.sessionStorage.setItem("__telegram__"+v,JSON.stringify(g)),!0}catch{}return!1}function u(v){try{return JSON.parse(window.sessionStorage.getItem("__telegram__"+v))}catch{}return null}window.Telegram||(window.Telegram={}),window.Telegram.WebView={initParams:i,isIframe:E,onEvent:a,offEvent:f,postEvent:d,receiveEvent:h,callEventCallbacks:l},window.Telegram.Utils={urlSafeDecode:T,urlParseQueryString:o,urlParseHashParams:r,urlAppendHashParams:x,sessionStorageSet:c,sessionStorageGet:u},window.TelegramGameProxy_receiveEvent=h,window.TelegramGameProxy={receiveEvent:h}})();(function(){var e=window.Telegram.Utils,t=window.Telegram.WebView,i=t.initParams,s=t.isIframe,p={},E="",n={},T={},r="light",o="6.0",x="unknown",d=!0,h=!1,l=!1,a="bg_color",f="bg_color",c=null;if(i.tgWebAppData&&i.tgWebAppData.length){E=i.tgWebAppData,n=e.urlParseQueryString(E);for(var u in n){var v=n[u];try{(v.substr(0,1)=="{"&&v.substr(-1)=="}"||v.substr(0,1)=="["&&v.substr(-1)=="]")&&(n[u]=JSON.parse(v))}catch{}}}var g=e.sessionStorageGet("themeParams");if(i.tgWebAppThemeParams&&i.tgWebAppThemeParams.length){var m=i.tgWebAppThemeParams;try{var y=JSON.parse(m);y&&V(y)}catch{}}g&&V(g);var C=e.sessionStorageGet("defaultColors");if(i.tgWebAppDefaultColors&&i.tgWebAppDefaultColors.length){var P=i.tgWebAppDefaultColors;try{var w=JSON.parse(P);w&&K(w)}catch{}}C&&K(C),i.tgWebAppVersion&&(o=i.tgWebAppVersion),i.tgWebAppPlatform&&(x=i.tgWebAppPlatform);var M=e.sessionStorageGet("isFullscreen");i.tgWebAppFullscreen&&$(!0),M&&$(M=="yes");var R=e.sessionStorageGet("isOrientationLocked");R&&z(R=="yes");function A(st,lt){lt.theme_params&&(V(lt.theme_params),window.Telegram.WebApp.MainButton.setParams({}),window.Telegram.WebApp.SecondaryButton.setParams({}),Hi(),Dn(),aa(),X("themeChanged"))}var L=window.innerHeight;function F(st,lt){lt.height&&(window.removeEventListener("resize",G),ft(lt))}function G(st){L!=window.innerHeight&&(L=window.innerHeight,X("viewportChanged",{isStateStable:!0}))}function I(st,lt){lt&&gt(lt)}function B(st,lt){lt&&wt(lt)}function k(st,lt){lt.is_visible?(d=!0,X("activated")):(d=!1,X("deactivated"))}function U(st){if(!(st.metaKey||st.ctrlKey)){for(var lt=st.target;lt.tagName!="A"&&lt.parentNode;)lt=lt.parentNode;lt.tagName=="A"&&lt.target!="_blank"&&(lt.protocol=="http:"||lt.protocol=="https:")&&lt.hostname=="t.me"&&(p.openTgLink(lt.href),st.preventDefault())}}function H(st){return st.toString().replace(/^\s+|\s+$/g,"")}function X(st){var lt=Array.prototype.slice.call(arguments);st=lt.shift(),t.callEventCallbacks("webview:"+st,function(dt){dt.apply(p,lt)})}function j(st,lt){t.onEvent("webview:"+st,lt)}function J(st,lt){t.offEvent("webview:"+st,lt)}function Y(st,lt){var dt=document.documentElement;dt&&dt.style&&dt.style.setProperty&&dt.style.setProperty("--tg-"+st,lt)}function $(st){h=!!st,e.sessionStorageSet("isFullscreen",h?"yes":"no")}function z(st){l=!!st,e.sessionStorageSet("isOrientationLocked",l?"yes":"no")}function V(st){st.bg_color=="#1c1c1d"&&st.bg_color==st.secondary_bg_color&&(st.secondary_bg_color="#2c2c2e");var lt;for(var dt in st)(lt=mn(st[dt]))&&(T[dt]=lt,dt=="bg_color"&&(r=Ka(lt)?"dark":"light",Y("color-scheme",r)),dt="theme-"+dt.split("_").join("-"),Y(dt,lt));e.sessionStorageSet("themeParams",T)}function K(st){r=="dark"?(st.bg_dark_color&&(a=st.bg_dark_color),st.header_dark_color&&(f=null,c=st.header_dark_color)):(st.bg_color&&(a=st.bg_color),st.header_color&&(f=null,c=st.header_color)),e.sessionStorageSet("defaultColors",st)}var Q={};function _(st){for(var lt=100;--lt;){for(var dt="",St="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",Mt=St.length,$t=0;$t<st;$t++)dt+=St[Math.floor(Math.random()*Mt)];if(!Q[dt])return Q[dt]={},dt}throw Error("WebAppCallbackIdGenerateFailed")}var tt=!1,rt=!1,ot=!0;function ft(st){typeof st<"u"&&(ot=!!st.is_expanded,tt=st.height,st.is_state_stable&&(rt=st.height),X("viewportChanged",{isStateStable:!!st.is_state_stable}));var lt,dt;tt!==!1?lt=tt-de+"px":lt=de?"calc(100vh - "+de+"px)":"100vh",rt!==!1?dt=rt-de+"px":dt=de?"calc(100vh - "+de+"px)":"100vh",Y("viewport-height",lt),Y("viewport-stable-height",dt)}var ct={top:0,bottom:0,left:0,right:0};function gt(st){typeof st<"u"&&(typeof st.top<"u"&&(ct.top=st.top),typeof st.bottom<"u"&&(ct.bottom=st.bottom),typeof st.left<"u"&&(ct.left=st.left),typeof st.right<"u"&&(ct.right=st.right),X("safeAreaChanged")),Y("safe-area-inset-top",ct.top+"px"),Y("safe-area-inset-bottom",ct.bottom+"px"),Y("safe-area-inset-left",ct.left+"px"),Y("safe-area-inset-right",ct.right+"px")}var xt={top:0,bottom:0,left:0,right:0};function wt(st){typeof st<"u"&&(typeof st.top<"u"&&(xt.top=st.top),typeof st.bottom<"u"&&(xt.bottom=st.bottom),typeof st.left<"u"&&(xt.left=st.left),typeof st.right<"u"&&(xt.right=st.right),X("contentSafeAreaChanged")),Y("content-safe-area-inset-top",xt.top+"px"),Y("content-safe-area-inset-bottom",xt.bottom+"px"),Y("content-safe-area-inset-left",xt.left+"px"),Y("content-safe-area-inset-right",xt.right+"px")}var Tt=!1;function Ht(st){if(!Me("6.2")){console.warn("[Telegram.WebApp] Closing confirmation is not supported in version "+o);return}Tt=!!st,t.postEvent("web_app_setup_closing_behavior",!1,{need_confirmation:Tt})}var Xt=!0;function Kt(st){if(!Me("7.7")){console.warn("[Telegram.WebApp] Changing swipes behavior is not supported in version "+o);return}Xt=!!st,t.postEvent("web_app_setup_swipe_behavior",!1,{allow_vertical_swipe:Xt})}function Pt(st,lt){$(lt.is_fullscreen),X("fullscreenChanged")}function Nt(st,lt){lt.error=="ALREADY_FULLSCREEN"&&!h&&$(!0),X("fullscreenFailed",{error:lt.error})}function Vt(st){if(!Me("8.0")){console.warn("[Telegram.WebApp] Orientation locking is not supported in version "+o);return}z(st),t.postEvent("web_app_toggle_orientation_lock",!1,{locked:l})}var ee=[];function Ee(st,lt){X("homeScreenAdded")}function we(st,lt){var dt=lt.status||"unknown";if(ee.length>0){for(var St=0;St<ee.length;St++){var Mt=ee[St];Mt(dt)}ee=[]}X("homeScreenChecked",{status:dt})}var ve=!1;function Fe(st,lt){if(ve){var dt=ve;ve=!1,dt.callback&&dt.callback(!0),X("shareMessageSent")}}function ai(st,lt){if(ve){var dt=ve;ve=!1,dt.callback&&dt.callback(!1),X("shareMessageFailed",{error:lt.error})}}var Gt=!1;function Wt(st,lt){if(Gt){var dt=Gt;Gt=!1,dt.callback&&dt.callback(!0),X("emojiStatusSet")}}function fe(st,lt){if(Gt){var dt=Gt;Gt=!1,dt.callback&&dt.callback(!1),X("emojiStatusFailed",{error:lt.error})}}var xe=!1;function Ie(st,lt){if(xe){var dt=xe;xe=!1,dt.callback&&dt.callback(lt.status=="allowed"),X("emojiStatusAccessRequested",{status:lt.status})}}var zr=!1;function Ri(){return f=="secondary_bg_color"?T.secondary_bg_color:f=="bg_color"?T.bg_color:c}function Ci(st){if(!Me("6.1")){console.warn("[Telegram.WebApp] Header color is not supported in version "+o);return}Me("6.9")||(T.bg_color&&T.bg_color==st?st="bg_color":T.secondary_bg_color&&T.secondary_bg_color==st&&(st="secondary_bg_color"));var lt=null,dt=null;if(st=="bg_color"||st=="secondary_bg_color")dt=st;else if(Me("6.9")&&(lt=mn(st),!lt))throw console.error("[Telegram.WebApp] Header color format is invalid",st),Error("WebAppHeaderColorInvalid");if(!Me("6.9")&&dt!="bg_color"&&dt!="secondary_bg_color")throw console.error("[Telegram.WebApp] Header color key should be one of Telegram.WebApp.themeParams.bg_color, Telegram.WebApp.themeParams.secondary_bg_color, 'bg_color', 'secondary_bg_color'",st),Error("WebAppHeaderColorKeyInvalid");f=dt,c=lt,Hi()}var Xi=null,ti=null;function Hi(){(Xi!=f||ti!=c)&&(Xi=f,ti=c,ti?t.postEvent("web_app_set_header_color",!1,{color:c}):t.postEvent("web_app_set_header_color",!1,{color_key:f}))}function Oi(){return a=="secondary_bg_color"?T.secondary_bg_color:a=="bg_color"?T.bg_color:a}function Fi(st){if(!Me("6.1")){console.warn("[Telegram.WebApp] Background color is not supported in version "+o);return}var lt;if(st=="bg_color"||st=="secondary_bg_color")lt=st;else if(lt=mn(st),!lt)throw console.error("[Telegram.WebApp] Background color format is invalid",st),Error("WebAppBackgroundColorInvalid");a=lt,Dn()}var ss=null;function Dn(){var st=Oi();ss!=st&&(ss=st,t.postEvent("web_app_set_background_color",!1,{color:st}))}var as="bottom_bar_bg_color";function Gs(){return as=="bottom_bar_bg_color"?T.bottom_bar_bg_color||T.secondary_bg_color||"#ffffff":as=="secondary_bg_color"?T.secondary_bg_color:as=="bg_color"?T.bg_color:as}function Dh(st){if(!Me("7.10")){console.warn("[Telegram.WebApp] Bottom bar color is not supported in version "+o);return}var lt;if(st=="bg_color"||st=="secondary_bg_color"||st=="bottom_bar_bg_color")lt=st;else if(lt=mn(st),!lt)throw console.error("[Telegram.WebApp] Bottom bar color format is invalid",st),Error("WebAppBottomBarColorInvalid");as=lt,aa(),window.Telegram.WebApp.SecondaryButton.setParams({})}var $a=null;function aa(){var st=Gs();$a!=st&&($a=st,t.postEvent("web_app_set_bottom_bar_color",!1,{color:st})),i.tgWebAppDebug&&Ve()}function mn(st){st+="";var lt;if(lt=/^\s*#([0-9a-f]{6})\s*$/i.exec(st))return"#"+lt[1].toLowerCase();if(lt=/^\s*#([0-9a-f])([0-9a-f])([0-9a-f])\s*$/i.exec(st))return("#"+lt[1]+lt[1]+lt[2]+lt[2]+lt[3]+lt[3]).toLowerCase();if(lt=/^\s*rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+\.{0,1}\d*))?\)\s*$/.exec(st)){var dt=parseInt(lt[1]),St=parseInt(lt[2]),Mt=parseInt(lt[3]);return dt=(dt<16?"0":"")+dt.toString(16),St=(St<16?"0":"")+St.toString(16),Mt=(Mt<16?"0":"")+Mt.toString(16),"#"+dt+St+Mt}return!1}function Ka(st){st=st.replace(/[\s#]/g,""),st.length==3&&(st=st[0]+st[0]+st[1]+st[1]+st[2]+st[2]);var lt=parseInt(st.substr(0,2),16),dt=parseInt(st.substr(2,2),16),St=parseInt(st.substr(4,2),16),Mt=Math.sqrt(.299*(lt*lt)+.587*(dt*dt)+.114*(St*St));return Mt<120}function oa(st,lt){typeof st!="string"&&(st=""),typeof lt!="string"&&(lt=""),st=st.replace(/^\s+|\s+$/g,"").split("."),lt=lt.replace(/^\s+|\s+$/g,"").split(".");var dt=Math.max(st.length,lt.length),St,Mt,$t;for(St=0;St<dt;St++)if(Mt=parseInt(st[St])||0,$t=parseInt(lt[St])||0,Mt!=$t)return Mt>$t?1:-1;return 0}function Me(st){return oa(o,st)>=0}function os(st){if(window.Blob)try{return new Blob([st]).size}catch{}for(var lt=st.length,dt=st.length-1;dt>=0;dt--){var St=st.charCodeAt(dt);St>127&&St<=2047?lt++:St>2047&&St<=65535&&(lt+=2),St>=56320&&St<=57343&&dt--}return lt}var ut=function(){var st=!1,lt={};Object.defineProperty(lt,"isVisible",{set:function(pe){Ze({is_visible:pe})},get:function(){return st},enumerable:!0});var dt=null;t.onEvent("back_button_pressed",St);function St(){X("backButtonClicked")}function Mt(){return{is_visible:st}}function $t(pe){return typeof pe>"u"&&(pe=Mt()),JSON.stringify(pe)}function he(){return Me("6.1")?!0:(console.warn("[Telegram.WebApp] BackButton is not supported in version "+o),!1)}function se(){var pe=Mt(),ie=$t(pe);dt!==ie&&(dt=ie,t.postEvent("web_app_setup_back_button",!1,pe))}function Ze(pe){return he()&&(typeof pe.is_visible<"u"&&(st=!!pe.is_visible),se()),lt}return lt.onClick=function(pe){return he()&&j("backButtonClicked",pe),lt},lt.offClick=function(pe){return he()&&J("backButtonClicked",pe),lt},lt.show=function(){return Ze({is_visible:!0})},lt.hide=function(){return Ze({is_visible:!1})},lt}(),Bt=null,Zt={},de=0;if(i.tgWebAppDebug){Bt=document.createElement("tg-bottom-bar");var _e={display:"flex",gap:"7px",font:"600 14px/18px sans-serif",width:"100%",background:Gs(),position:"fixed",left:"0",right:"0",bottom:"0",margin:"0",padding:"7px",textAlign:"center",boxSizing:"border-box",zIndex:"10000"};for(var Re in _e)Bt.style[Re]=_e[Re];document.addEventListener("DOMContentLoaded",function st(lt){document.removeEventListener("DOMContentLoaded",st),document.body.appendChild(Bt)});var Xe=document.createElement("style");Xe.innerHTML='tg-bottom-button.shine { position: relative; overflow: hidden; } tg-bottom-button.shine:before { content:""; position: absolute; top: 0; width: 100%; height: 100%; background: linear-gradient(120deg, transparent, rgba(255, 255, 255, .2), transparent); animation: tg-bottom-button-shine 5s ease-in-out infinite; } @-webkit-keyframes tg-bottom-button-shine { 0% {left: -100%;} 12%,100% {left: 100%}} @keyframes tg-bottom-button-shine { 0% {left: -100%;} 12%,100% {left: 100%}}',Bt.appendChild(Xe)}function Ve(){var st=Zt.main._bottomButton,lt=Zt.secondary._bottomButton;st.isVisible||lt.isVisible?(Bt.style.display="flex",de=58,st.isVisible&&lt.isVisible&&(lt.position=="top"?(Bt.style.flexDirection="column-reverse",de+=51):lt.position=="bottom"?(Bt.style.flexDirection="column",de+=51):lt.position=="left"?Bt.style.flexDirection="row-reverse":lt.position=="right"&&(Bt.style.flexDirection="row"))):(Bt.style.display="none",de=0),Bt.style.background=Gs(),document.documentElement&&(document.documentElement.style.boxSizing="border-box",document.documentElement.style.paddingBottom=de+"px"),ft()}var Ni=function(st){var lt=st=="main";if(lt)var dt="web_app_setup_main_button",St="main_button_pressed",Mt="mainButtonClicked",$t="Continue",he=function(){return T.button_color||"#2481cc"},se=function(){return T.button_text_color||"#ffffff"};else var dt="web_app_setup_secondary_button",St="secondary_button_pressed",Mt="secondaryButtonClicked",$t="Cancel",he=function(){return Gs()},se=function(){return T.button_color||"#2481cc"};var Ze=!1,pe=!0,ie=!1,hi=!1,ze=st,Ft=$t,oe=!1,ue=!1,Li="left",le={};Object.defineProperty(le,"type",{get:function(){return ze},enumerable:!0}),Object.defineProperty(le,"text",{set:function(Qt){le.setParams({text:Qt})},get:function(){return Ft},enumerable:!0}),Object.defineProperty(le,"color",{set:function(Qt){le.setParams({color:Qt})},get:function(){return oe||he()},enumerable:!0}),Object.defineProperty(le,"textColor",{set:function(Qt){le.setParams({text_color:Qt})},get:function(){return ue||se()},enumerable:!0}),Object.defineProperty(le,"isVisible",{set:function(Qt){le.setParams({is_visible:Qt})},get:function(){return Ze},enumerable:!0}),Object.defineProperty(le,"isProgressVisible",{get:function(){return hi},enumerable:!0}),Object.defineProperty(le,"isActive",{set:function(Qt){le.setParams({is_active:Qt})},get:function(){return pe},enumerable:!0}),Object.defineProperty(le,"hasShineEffect",{set:function(Qt){le.setParams({has_shine_effect:Qt})},get:function(){return ie},enumerable:!0}),lt||Object.defineProperty(le,"position",{set:function(Qt){le.setParams({position:Qt})},get:function(){return Li},enumerable:!0});var Vi=null;t.onEvent(St,yn);var be=null;if(i.tgWebAppDebug){be=document.createElement("tg-bottom-button");var $e={display:"none",width:"100%",height:"44px",borderRadius:"0",background:"no-repeat right center",padding:"13px 15px",textAlign:"center",boxSizing:"border-box"};for(var ds in $e)be.style[ds]=$e[ds];Bt.appendChild(be),be.addEventListener("click",yn,!1),be._bottomButton=le,Zt[st]=be}function yn(){pe&&X(Mt)}function en(){var Qt=le.color,Wr=le.textColor;if(Ze){var ua={is_visible:!0,is_active:pe,is_progress_visible:hi,text:Ft,color:Qt,text_color:Wr,has_shine_effect:ie&&pe&&!hi};lt||(ua.position=Li)}else var ua={is_visible:!1};return ua}function Ns(Qt){return typeof Qt>"u"&&(Qt=en()),JSON.stringify(Qt)}function Uh(){var Qt=en(),Wr=Ns(Qt);Vi!==Wr&&(Vi=Wr,t.postEvent(dt,!1,Qt),i.tgWebAppDebug&&Pl(Qt))}function Pl(Qt){Qt.is_visible?(be.style.display="block",be.style.opacity=Qt.is_active?"1":"0.8",be.style.cursor=Qt.is_active?"pointer":"auto",be.disabled=!Qt.is_active,be.innerText=Qt.text,be.className=Qt.has_shine_effect?"shine":"",be.style.backgroundImage=Qt.is_progress_visible?"url('data:image/svg+xml,"+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewport="0 0 48 48" width="48px" height="48px"><circle cx="50%" cy="50%" stroke="'+Qt.text_color+'" stroke-width="2.25" stroke-linecap="round" fill="none" stroke-dashoffset="106" r="9" stroke-dasharray="56.52" rotate="-90"><animate attributeName="stroke-dashoffset" attributeType="XML" dur="360s" from="0" to="12500" repeatCount="indefinite"></animate><animateTransform attributeName="transform" attributeType="XML" type="rotate" dur="1s" from="-90 24 24" to="630 24 24" repeatCount="indefinite"></animateTransform></circle></svg>')+"')":"none",be.style.backgroundColor=Qt.color,be.style.color=Qt.text_color):be.style.display="none",Ve()}function Do(Qt){if(typeof Qt.text<"u"){var Wr=H(Qt.text);if(!Wr.length)throw console.error("[Telegram.WebApp] Bottom button text is required",Qt.text),Error("WebAppBottomButtonParamInvalid");if(Wr.length>64)throw console.error("[Telegram.WebApp] Bottom button text is too long",Wr),Error("WebAppBottomButtonParamInvalid");Ft=Wr}if(typeof Qt.color<"u")if(Qt.color===!1||Qt.color===null)oe=!1;else{var ua=mn(Qt.color);if(!ua)throw console.error("[Telegram.WebApp] Bottom button color format is invalid",Qt.color),Error("WebAppBottomButtonParamInvalid");oe=ua}if(typeof Qt.text_color<"u")if(Qt.text_color===!1||Qt.text_color===null)ue=!1;else{var Vh=mn(Qt.text_color);if(!Vh)throw console.error("[Telegram.WebApp] Bottom button text color format is invalid",Qt.text_color),Error("WebAppBottomButtonParamInvalid");ue=Vh}if(typeof Qt.is_visible<"u"){if(Qt.is_visible&&!le.text.length)throw console.error("[Telegram.WebApp] Bottom button text is required"),Error("WebAppBottomButtonParamInvalid");Ze=!!Qt.is_visible}if(typeof Qt.has_shine_effect<"u"&&(ie=!!Qt.has_shine_effect),!lt&&typeof Qt.position<"u"){if(Qt.position!="left"&&Qt.position!="right"&&Qt.position!="top"&&Qt.position!="bottom")throw console.error("[Telegram.WebApp] Bottom button posiition is invalid",Qt.position),Error("WebAppBottomButtonParamInvalid");Li=Qt.position}return typeof Qt.is_active<"u"&&(pe=!!Qt.is_active),Uh(),le}return le.setText=function(Qt){return le.setParams({text:Qt})},le.onClick=function(Qt){return j(Mt,Qt),le},le.offClick=function(Qt){return J(Mt,Qt),le},le.show=function(){return le.setParams({is_visible:!0})},le.hide=function(){return le.setParams({is_visible:!1})},le.enable=function(){return le.setParams({is_active:!0})},le.disable=function(){return le.setParams({is_active:!1})},le.showProgress=function(Qt){return pe=!!Qt,hi=!0,Uh(),le},le.hideProgress=function(){return le.isActive||(pe=!0),hi=!1,Uh(),le},le.setParams=Do,le},Qe=Ni("main"),Ui=Ni("secondary"),wr=function(){var st=!1,lt={};Object.defineProperty(lt,"isVisible",{set:function(pe){Ze({is_visible:pe})},get:function(){return st},enumerable:!0});var dt=null;t.onEvent("settings_button_pressed",St);function St(){X("settingsButtonClicked")}function Mt(){return{is_visible:st}}function $t(pe){return typeof pe>"u"&&(pe=Mt()),JSON.stringify(pe)}function he(){return Me("6.10")?!0:(console.warn("[Telegram.WebApp] SettingsButton is not supported in version "+o),!1)}function se(){var pe=Mt(),ie=$t(pe);dt!==ie&&(dt=ie,t.postEvent("web_app_setup_settings_button",!1,pe))}function Ze(pe){return he()&&(typeof pe.is_visible<"u"&&(st=!!pe.is_visible),se()),lt}return lt.onClick=function(pe){return he()&&j("settingsButtonClicked",pe),lt},lt.offClick=function(pe){return he()&&J("settingsButtonClicked",pe),lt},lt.show=function(){return Ze({is_visible:!0})},lt.hide=function(){return Ze({is_visible:!1})},lt}(),ls=function(){var st={};function lt(dt){if(!Me("6.1"))return console.warn("[Telegram.WebApp] HapticFeedback is not supported in version "+o),st;if(dt.type=="impact"){if(dt.impact_style!="light"&&dt.impact_style!="medium"&&dt.impact_style!="heavy"&&dt.impact_style!="rigid"&&dt.impact_style!="soft")throw console.error("[Telegram.WebApp] Haptic impact style is invalid",dt.impact_style),Error("WebAppHapticImpactStyleInvalid")}else if(dt.type=="notification"){if(dt.notification_type!="error"&&dt.notification_type!="success"&&dt.notification_type!="warning")throw console.error("[Telegram.WebApp] Haptic notification type is invalid",dt.notification_type),Error("WebAppHapticNotificationTypeInvalid")}else if(dt.type!="selection_change")throw console.error("[Telegram.WebApp] Haptic feedback type is invalid",dt.type),Error("WebAppHapticFeedbackTypeInvalid");return t.postEvent("web_app_trigger_haptic_feedback",!1,dt),st}return st.impactOccurred=function(dt){return lt({type:"impact",impact_style:dt})},st.notificationOccurred=function(dt){return lt({type:"notification",notification_type:dt})},st.selectionChanged=function(){return lt({type:"selection_change"})},st}(),hs=function(){var st={};function lt(dt,St,Mt){if(!Me("6.9"))throw console.error("[Telegram.WebApp] CloudStorage is not supported in version "+o),Error("WebAppMethodUnsupported");return ks(dt,St,Mt),st}return st.setItem=function(dt,St,Mt){return lt("saveStorageValue",{key:dt,value:St},Mt)},st.getItem=function(dt,St){return st.getItems([dt],St?function(Mt,$t){Mt?St(Mt):St(null,$t[dt])}:null)},st.getItems=function(dt,St){return lt("getStorageValues",{keys:dt},St)},st.removeItem=function(dt,St){return st.removeItems([dt],St)},st.removeItems=function(dt,St){return lt("deleteStorageValues",{keys:dt},St)},st.getKeys=function(dt){return lt("getStorageKeys",{},dt)},st}(),gr=function(){var st=!1,lt=!1,dt="unknown",St=!1,Mt=!1,$t=!1,he="",se={};Object.defineProperty(se,"isInited",{get:function(){return st},enumerable:!0}),Object.defineProperty(se,"isBiometricAvailable",{get:function(){return st&&lt},enumerable:!0}),Object.defineProperty(se,"biometricType",{get:function(){return dt||"unknown"},enumerable:!0}),Object.defineProperty(se,"isAccessRequested",{get:function(){return St},enumerable:!0}),Object.defineProperty(se,"isAccessGranted",{get:function(){return St&&Mt},enumerable:!0}),Object.defineProperty(se,"isBiometricTokenSaved",{get:function(){return $t},enumerable:!0}),Object.defineProperty(se,"deviceId",{get:function(){return he||""},enumerable:!0});var Ze={callbacks:[]},pe=!1,ie=!1,hi=!1;t.onEvent("biometry_info_received",ze),t.onEvent("biometry_auth_requested",Ft),t.onEvent("biometry_token_updated",oe);function ze(le,Vi){if(st=!0,Vi.available?(lt=!0,dt=Vi.type||"unknown",Vi.access_requested?(St=!0,Mt=!!Vi.access_granted,$t=!!Vi.token_saved):(St=!1,Mt=!1,$t=!1)):(lt=!1,dt="unknown",St=!1,Mt=!1,$t=!1),he=Vi.device_id||"",Ze.callbacks.length>0){for(var be=0;be<Ze.callbacks.length;be++){var $e=Ze.callbacks[be];$e()}Ze.callbacks=[]}if(pe){var ds=pe;pe=!1,ds.callback&&ds.callback(Mt)}X("biometricManagerUpdated")}function Ft(le,Vi){var be=Vi.status=="authorized",$e=Vi.token||"";if(ie){var ds=ie;ie=!1,ds.callback&&ds.callback(be,be?$e:null)}X("biometricAuthRequested",be?{isAuthenticated:!0,biometricToken:$e}:{isAuthenticated:!1})}function oe(le,Vi){var be=!1;if(lt&&St&&(Vi.status=="updated"?($t=!0,be=!0):Vi.status=="removed"&&($t=!1,be=!0)),hi){var $e=hi;hi=!1,$e.callback&&$e.callback(be)}X("biometricTokenUpdated",{isUpdated:be})}function ue(){return Me("7.2")?!0:(console.warn("[Telegram.WebApp] BiometricManager is not supported in version "+o),!1)}function Li(){if(!st)throw console.error("[Telegram.WebApp] BiometricManager should be inited before using."),Error("WebAppBiometricManagerNotInited");return!0}return se.init=function(le){return!ue()||st||(le&&Ze.callbacks.push(le),t.postEvent("web_app_biometry_get_info",!1)),se},se.requestAccess=function(le,Vi){if(!ue())return se;if(Li(),!lt)throw console.error("[Telegram.WebApp] Biometrics is not available on this device."),Error("WebAppBiometricManagerBiometricsNotAvailable");if(pe)throw console.error("[Telegram.WebApp] Access is already requested"),Error("WebAppBiometricManagerAccessRequested");var be={};if(typeof le.reason<"u"){var $e=H(le.reason);if($e.length>128)throw console.error("[Telegram.WebApp] Biometric reason is too long",$e),Error("WebAppBiometricRequestAccessParamInvalid");$e.length>0&&(be.reason=$e)}return pe={callback:Vi},t.postEvent("web_app_biometry_request_access",!1,be),se},se.authenticate=function(le,Vi){if(!ue())return se;if(Li(),!lt)throw console.error("[Telegram.WebApp] Biometrics is not available on this device."),Error("WebAppBiometricManagerBiometricsNotAvailable");if(!Mt)throw console.error("[Telegram.WebApp] Biometric access was not granted by the user."),Error("WebAppBiometricManagerBiometricAccessNotGranted");if(ie)throw console.error("[Telegram.WebApp] Authentication request is already in progress."),Error("WebAppBiometricManagerAuthenticationRequested");var be={};if(typeof le.reason<"u"){var $e=H(le.reason);if($e.length>128)throw console.error("[Telegram.WebApp] Biometric reason is too long",$e),Error("WebAppBiometricRequestAccessParamInvalid");$e.length>0&&(be.reason=$e)}return ie={callback:Vi},t.postEvent("web_app_biometry_request_auth",!1,be),se},se.updateBiometricToken=function(le,Vi){if(!ue())return se;if(le=le||"",le.length>1024)throw console.error("[Telegram.WebApp] Token is too long",le),Error("WebAppBiometricManagerTokenInvalid");if(Li(),!lt)throw console.error("[Telegram.WebApp] Biometrics is not available on this device."),Error("WebAppBiometricManagerBiometricsNotAvailable");if(!Mt)throw console.error("[Telegram.WebApp] Biometric access was not granted by the user."),Error("WebAppBiometricManagerBiometricAccessNotGranted");if(hi)throw console.error("[Telegram.WebApp] Token request is already in progress."),Error("WebAppBiometricManagerTokenUpdateRequested");return hi={callback:Vi},t.postEvent("web_app_biometry_update_token",!1,{token:le}),se},se.openSettings=function(){if(!ue())return se;if(Li(),!lt)throw console.error("[Telegram.WebApp] Biometrics is not available on this device."),Error("WebAppBiometricManagerBiometricsNotAvailable");if(!St)throw console.error("[Telegram.WebApp] Biometric access was not requested yet."),Error("WebAppBiometricManagerBiometricsAccessNotRequested");return Mt?(console.warn("[Telegram.WebApp] Biometric access was granted by the user, no need to go to settings."),se):(t.postEvent("web_app_biometry_open_settings",!1),se)},se}(),Ao=function(){var st=!1,lt=!1,dt=!1,St=!1,Mt={};Object.defineProperty(Mt,"isInited",{get:function(){return st},enumerable:!0}),Object.defineProperty(Mt,"isLocationAvailable",{get:function(){return st&&lt},enumerable:!0}),Object.defineProperty(Mt,"isAccessRequested",{get:function(){return dt},enumerable:!0}),Object.defineProperty(Mt,"isAccessGranted",{get:function(){return dt&&St},enumerable:!0});var $t={callbacks:[]},he={callbacks:[]};t.onEvent("location_checked",se),t.onEvent("location_requested",Ze);function se(ze,Ft){if(st=!0,Ft.available?(lt=!0,Ft.access_requested?(dt=!0,St=!!Ft.access_granted):(dt=!1,St=!1)):(lt=!1,dt=!1,St=!1),$t.callbacks.length>0){for(var oe=0;oe<$t.callbacks.length;oe++){var ue=$t.callbacks[oe];ue()}$t.callbacks=[]}X("locationManagerUpdated")}function Ze(ze,Ft){if(!Ft.available)oe=null;else{var oe={latitude:Ft.latitude,longitude:Ft.longitude,altitude:null,course:null,speed:null,horizontal_accuracy:null,vertical_accuracy:null,course_accuracy:null,speed_accuracy:null};typeof Ft.altitude<"u"&&Ft.altitude!==null&&(oe.altitude=Ft.altitude),typeof Ft.course<"u"&&Ft.course!==null&&(oe.course=Ft.course%360),typeof Ft.speed<"u"&&Ft.speed!==null&&(oe.speed=Ft.speed),typeof Ft.horizontal_accuracy<"u"&&Ft.horizontal_accuracy!==null&&(oe.horizontal_accuracy=Ft.horizontal_accuracy),typeof Ft.vertical_accuracy<"u"&&Ft.vertical_accuracy!==null&&(oe.vertical_accuracy=Ft.vertical_accuracy),typeof Ft.course_accuracy<"u"&&Ft.course_accuracy!==null&&(oe.course_accuracy=Ft.course_accuracy),typeof Ft.speed_accuracy<"u"&&Ft.speed_accuracy!==null&&(oe.speed_accuracy=Ft.speed_accuracy)}!Ft.available||!lt||!dt||!St?($t.callbacks.push(function(){pe(oe)}),t.postEvent("web_app_check_location",!1)):pe(oe)}function pe(ze){if(he.callbacks.length>0){for(var Ft=0;Ft<he.callbacks.length;Ft++){var oe=he.callbacks[Ft];oe(ze)}he.callbacks=[]}ze!==null&&X("locationRequested",{locationData:ze})}function ie(){return Me("8.0")?!0:(console.warn("[Telegram.WebApp] LocationManager is not supported in version "+o),!1)}function hi(){if(!st)throw console.error("[Telegram.WebApp] LocationManager should be inited before using."),Error("WebAppLocationManagerNotInited");return!0}return Mt.init=function(ze){return!ie()||st||(ze&&$t.callbacks.push(ze),t.postEvent("web_app_check_location",!1)),Mt},Mt.getLocation=function(ze){if(!ie())return Mt;if(hi(),!lt)throw console.error("[Telegram.WebApp] Location is not available on this device."),Error("WebAppLocationManagerLocationNotAvailable");return he.callbacks.push(ze),t.postEvent("web_app_request_location"),Mt},Mt.openSettings=function(){if(!ie())return Mt;if(hi(),!lt)throw console.error("[Telegram.WebApp] Location is not available on this device."),Error("WebAppLocationManagerLocationNotAvailable");if(!dt)throw console.error("[Telegram.WebApp] Location access was not requested yet."),Error("WebAppLocationManagerLocationAccessNotRequested");return St?(console.warn("[Telegram.WebApp] Location access was granted by the user, no need to go to settings."),Mt):(t.postEvent("web_app_open_location_settings",!1),Mt)},Mt}(),El=function(){var st=!1,lt=null,dt=null,St=null,Mt=[],$t=[],he={};Object.defineProperty(he,"isStarted",{get:function(){return st},enumerable:!0}),Object.defineProperty(he,"x",{get:function(){return lt},enumerable:!0}),Object.defineProperty(he,"y",{get:function(){return dt},enumerable:!0}),Object.defineProperty(he,"z",{get:function(){return St},enumerable:!0}),t.onEvent("accelerometer_started",se),t.onEvent("accelerometer_stopped",Ze),t.onEvent("accelerometer_changed",pe),t.onEvent("accelerometer_failed",ie);function se(ze,Ft){if(st=!0,Mt.length>0){for(var oe=0;oe<Mt.length;oe++){var ue=Mt[oe];ue(!0)}Mt=[]}X("accelerometerStarted")}function Ze(ze,Ft){if(st=!1,$t.length>0){for(var oe=0;oe<$t.length;oe++){var ue=$t[oe];ue(!0)}$t=[]}X("accelerometerStopped")}function pe(ze,Ft){lt=Ft.x,dt=Ft.y,St=Ft.z,X("accelerometerChanged")}function ie(ze,Ft){if(Mt.length>0){for(var oe=0;oe<Mt.length;oe++){var ue=Mt[oe];ue(!1)}Mt=[]}X("accelerometerFailed",{error:Ft.error})}function hi(){return Me("8.0")?!0:(console.warn("[Telegram.WebApp] Accelerometer is not supported in version "+o),!1)}return he.start=function(ze,Ft){if(ze=ze||{},!hi())return he;var oe={},ue=parseInt(ze.refresh_rate||1e3);return isNaN(ue)||ue<20||ue>1e3?console.warn("[Telegram.WebApp] Accelerometer refresh_rate is invalid",ue):oe.refresh_rate=ue,Ft&&Mt.push(Ft),t.postEvent("web_app_start_accelerometer",!1,oe),he},he.stop=function(ze){return hi()&&(ze&&$t.push(ze),t.postEvent("web_app_stop_accelerometer")),he},he}(),Fh=function(){var st=!1,lt=null,dt=null,St=null,Mt=!1,$t=[],he=[],se={};Object.defineProperty(se,"isStarted",{get:function(){return st},enumerable:!0}),Object.defineProperty(se,"absolute",{get:function(){return Mt},enumerable:!0}),Object.defineProperty(se,"alpha",{get:function(){return lt},enumerable:!0}),Object.defineProperty(se,"beta",{get:function(){return dt},enumerable:!0}),Object.defineProperty(se,"gamma",{get:function(){return St},enumerable:!0}),t.onEvent("device_orientation_started",Ze),t.onEvent("device_orientation_stopped",pe),t.onEvent("device_orientation_changed",ie),t.onEvent("device_orientation_failed",hi);function Ze(Ft,oe){if(st=!0,$t.length>0){for(var ue=0;ue<$t.length;ue++){var Li=$t[ue];Li(!0)}$t=[]}X("deviceOrientationStarted")}function pe(Ft,oe){if(st=!1,he.length>0){for(var ue=0;ue<he.length;ue++){var Li=he[ue];Li(!0)}he=[]}X("deviceOrientationStopped")}function ie(Ft,oe){Mt=!!oe.absolute,lt=oe.alpha,dt=oe.beta,St=oe.gamma,X("deviceOrientationChanged")}function hi(Ft,oe){if($t.length>0){for(var ue=0;ue<$t.length;ue++){var Li=$t[ue];Li(!1)}$t=[]}X("deviceOrientationFailed",{error:oe.error})}function ze(){return Me("8.0")?!0:(console.warn("[Telegram.WebApp] DeviceOrientation is not supported in version "+o),!1)}return se.start=function(Ft,oe){if(Ft=Ft||{},!ze())return se;var ue={},Li=parseInt(Ft.refresh_rate||1e3);return isNaN(Li)||Li<20||Li>1e3?console.warn("[Telegram.WebApp] DeviceOrientation refresh_rate is invalid",Li):ue.refresh_rate=Li,ue.need_absolute=!!Ft.need_absolute,oe&&$t.push(oe),t.postEvent("web_app_start_device_orientation",!1,ue),se},se.stop=function(Ft){return ze()&&(Ft&&he.push(Ft),t.postEvent("web_app_stop_device_orientation")),se},se}(),la=function(){var st=!1,lt=null,dt=null,St=null,Mt=[],$t=[],he={};Object.defineProperty(he,"isStarted",{get:function(){return st},enumerable:!0}),Object.defineProperty(he,"x",{get:function(){return lt},enumerable:!0}),Object.defineProperty(he,"y",{get:function(){return dt},enumerable:!0}),Object.defineProperty(he,"z",{get:function(){return St},enumerable:!0}),t.onEvent("gyroscope_started",se),t.onEvent("gyroscope_stopped",Ze),t.onEvent("gyroscope_changed",pe),t.onEvent("gyroscope_failed",ie);function se(ze,Ft){if(st=!0,Mt.length>0){for(var oe=0;oe<Mt.length;oe++){var ue=Mt[oe];ue(!0)}Mt=[]}X("gyroscopeStarted")}function Ze(ze,Ft){if(st=!1,$t.length>0){for(var oe=0;oe<$t.length;oe++){var ue=$t[oe];ue(!0)}$t=[]}X("gyroscopeStopped")}function pe(ze,Ft){lt=Ft.x,dt=Ft.y,St=Ft.z,X("gyroscopeChanged")}function ie(ze,Ft){if(Mt.length>0){for(var oe=0;oe<Mt.length;oe++){var ue=Mt[oe];ue(!1)}Mt=[]}X("gyroscopeFailed",{error:Ft.error})}function hi(){return Me("8.0")?!0:(console.warn("[Telegram.WebApp] Gyroscope is not supported in version "+o),!1)}return he.start=function(ze,Ft){if(ze=ze||{},!hi())return he;var oe={},ue=parseInt(ze.refresh_rate||1e3);return isNaN(ue)||ue<20||ue>1e3?console.warn("[Telegram.WebApp] Gyroscope refresh_rate is invalid",ue):oe.refresh_rate=ue,Ft&&Mt.push(Ft),t.postEvent("web_app_start_gyroscope",!1,oe),he},he.stop=function(ze){return hi()&&(ze&&$t.push(ze),t.postEvent("web_app_stop_gyroscope")),he},he}(),He={};function Oo(st,lt){if(lt.slug&&He[lt.slug]){var dt=He[lt.slug];delete He[lt.slug],dt.callback&&dt.callback(lt.status),X("invoiceClosed",{url:dt.url,status:lt.status})}}var zr=!1;function bl(st,lt){if(zr){var dt=zr;zr=!1;var St=null;typeof lt.button_id<"u"&&(St=lt.button_id),dt.callback&&dt.callback(St),X("popupClosed",{button_id:St})}}var us=!1;function Ih(st,lt){if(us){var dt=us,St=null;typeof lt.data<"u"&&(St=lt.data),dt.callback&&dt.callback(St)&&(us=!1,t.postEvent("web_app_close_scan_qr_popup",!1)),X("qrTextReceived",{data:St})}}function Bh(st,lt){us=!1,X("scanQrPopupClosed")}function Gh(st,lt){if(lt.req_id&&Q[lt.req_id]){var dt=Q[lt.req_id];delete Q[lt.req_id];var St=null;typeof lt.data<"u"&&(St=lt.data),dt.callback&&dt.callback(St),X("clipboardTextReceived",{data:St})}}var ha=!1;function kh(st,lt){if(ha){var dt=ha;ha=!1,dt.callback&&dt.callback(lt.status=="allowed"),X("writeAccessRequested",{status:lt.status})}}function _u(st,lt){var dt,St,Mt=0,$t=function(){ks("getRequestedContact",{},function(se,Ze){Ze&&Ze.length?(clearTimeout(St),st(Ze)):(Mt+=50,dt=setTimeout($t,Mt))})},he=function(){clearTimeout(dt),st("")};St=setTimeout(he,lt),$t()}var Lo=!1;function Nh(st,lt){if(Lo){var dt=Lo;Lo=!1;var St=lt.status=="sent",Mt={status:lt.status};St?_u(function($t){if($t&&$t.length){Mt.response=$t,Mt.responseUnsafe=e.urlParseQueryString($t);for(var he in Mt.responseUnsafe){var se=Mt.responseUnsafe[he];try{(se.substr(0,1)=="{"&&se.substr(-1)=="}"||se.substr(0,1)=="["&&se.substr(-1)=="]")&&(Mt.responseUnsafe[he]=JSON.parse(se))}catch{}}}dt.callback&&dt.callback(St,Mt),X("contactRequested",Mt)},3e3):(dt.callback&&dt.callback(St,Mt),X("contactRequested",Mt))}}var fs=!1;function Hn(st,lt){if(fs){var dt=fs;fs=!1;var St=lt.status=="downloading";dt.callback&&dt.callback(St),X("fileDownloadRequested",{status:St?"downloading":"cancelled"})}}function Za(st,lt){if(lt.req_id&&Q[lt.req_id]){var dt=Q[lt.req_id];delete Q[lt.req_id];var St=null,Mt=null;typeof lt.result<"u"&&(St=lt.result),typeof lt.error<"u"&&(Mt=lt.error),dt.callback&&dt.callback(Mt,St)}}function ks(st,lt,dt){if(!Me("6.9"))throw console.error("[Telegram.WebApp] Method invokeCustomMethod is not supported in version "+o),Error("WebAppMethodUnsupported");var St=_(16),Mt={req_id:St,method:st,params:lt||{}};Q[St]={callback:dt},t.postEvent("web_app_invoke_custom_method",!1,Mt)}window.Telegram||(window.Telegram={}),Object.defineProperty(p,"initData",{get:function(){return E},enumerable:!0}),Object.defineProperty(p,"initDataUnsafe",{get:function(){return n},enumerable:!0}),Object.defineProperty(p,"version",{get:function(){return o},enumerable:!0}),Object.defineProperty(p,"platform",{get:function(){return x},enumerable:!0}),Object.defineProperty(p,"colorScheme",{get:function(){return r},enumerable:!0}),Object.defineProperty(p,"themeParams",{get:function(){return T},enumerable:!0}),Object.defineProperty(p,"isExpanded",{get:function(){return ot},enumerable:!0}),Object.defineProperty(p,"viewportHeight",{get:function(){return(tt===!1?window.innerHeight:tt)-de},enumerable:!0}),Object.defineProperty(p,"viewportStableHeight",{get:function(){return(rt===!1?window.innerHeight:rt)-de},enumerable:!0}),Object.defineProperty(p,"safeAreaInset",{get:function(){return ct},enumerable:!0}),Object.defineProperty(p,"contentSafeAreaInset",{get:function(){return xt},enumerable:!0}),Object.defineProperty(p,"isClosingConfirmationEnabled",{set:function(st){Ht(st)},get:function(){return Tt},enumerable:!0}),Object.defineProperty(p,"isVerticalSwipesEnabled",{set:function(st){Kt(st)},get:function(){return Xt},enumerable:!0}),Object.defineProperty(p,"isFullscreen",{get:function(){return h},enumerable:!0}),Object.defineProperty(p,"isOrientationLocked",{set:function(st){Vt(st)},get:function(){return l},enumerable:!0}),Object.defineProperty(p,"isActive",{get:function(){return d},enumerable:!0}),Object.defineProperty(p,"headerColor",{set:function(st){Ci(st)},get:function(){return Ri()},enumerable:!0}),Object.defineProperty(p,"backgroundColor",{set:function(st){Fi(st)},get:function(){return Oi()},enumerable:!0}),Object.defineProperty(p,"bottomBarColor",{set:function(st){Dh(st)},get:function(){return Gs()},enumerable:!0}),Object.defineProperty(p,"BackButton",{value:ut,enumerable:!0}),Object.defineProperty(p,"MainButton",{value:Qe,enumerable:!0}),Object.defineProperty(p,"SecondaryButton",{value:Ui,enumerable:!0}),Object.defineProperty(p,"SettingsButton",{value:wr,enumerable:!0}),Object.defineProperty(p,"HapticFeedback",{value:ls,enumerable:!0}),Object.defineProperty(p,"CloudStorage",{value:hs,enumerable:!0}),Object.defineProperty(p,"BiometricManager",{value:gr,enumerable:!0}),Object.defineProperty(p,"Accelerometer",{value:El,enumerable:!0}),Object.defineProperty(p,"DeviceOrientation",{value:Fh,enumerable:!0}),Object.defineProperty(p,"Gyroscope",{value:la,enumerable:!0}),Object.defineProperty(p,"LocationManager",{value:Ao,enumerable:!0}),p.isVersionAtLeast=function(st){return Me(st)},p.setHeaderColor=function(st){p.headerColor=st},p.setBackgroundColor=function(st){p.backgroundColor=st},p.setBottomBarColor=function(st){p.bottomBarColor=st},p.enableClosingConfirmation=function(){p.isClosingConfirmationEnabled=!0},p.disableClosingConfirmation=function(){p.isClosingConfirmationEnabled=!1},p.enableVerticalSwipes=function(){p.isVerticalSwipesEnabled=!0},p.disableVerticalSwipes=function(){p.isVerticalSwipesEnabled=!1},p.lockOrientation=function(){p.isOrientationLocked=!0},p.unlockOrientation=function(){p.isOrientationLocked=!1},p.requestFullscreen=function(){if(!Me("8.0"))throw console.error("[Telegram.WebApp] Method requestFullscreen is not supported in version "+o),Error("WebAppMethodUnsupported");t.postEvent("web_app_request_fullscreen")},p.exitFullscreen=function(){if(!Me("8.0"))throw console.error("[Telegram.WebApp] Method exitFullscreen is not supported in version "+o),Error("WebAppMethodUnsupported");t.postEvent("web_app_exit_fullscreen")},p.addToHomeScreen=function(){if(!Me("8.0"))throw console.error("[Telegram.WebApp] Method addToHomeScreen is not supported in version "+o),Error("WebAppMethodUnsupported");t.postEvent("web_app_add_to_home_screen")},p.checkHomeScreenStatus=function(st){if(!Me("8.0"))throw console.error("[Telegram.WebApp] Method checkHomeScreenStatus is not supported in version "+o),Error("WebAppMethodUnsupported");st&&ee.push(st),t.postEvent("web_app_check_home_screen")},p.onEvent=function(st,lt){j(st,lt)},p.offEvent=function(st,lt){J(st,lt)},p.sendData=function(st){if(!st||!st.length)throw console.error("[Telegram.WebApp] Data is required",st),Error("WebAppDataInvalid");if(os(st)>4096)throw console.error("[Telegram.WebApp] Data is too long",st),Error("WebAppDataInvalid");t.postEvent("web_app_data_send",!1,{data:st})},p.switchInlineQuery=function(st,lt){if(!Me("6.6"))throw console.error("[Telegram.WebApp] Method switchInlineQuery is not supported in version "+o),Error("WebAppMethodUnsupported");if(!i.tgWebAppBotInline)throw console.error("[Telegram.WebApp] Inline mode is disabled for this bot. Read more about inline mode: https://core.telegram.org/bots/inline"),Error("WebAppInlineModeDisabled");if(st=st||"",st.length>256)throw console.error("[Telegram.WebApp] Inline query is too long",st),Error("WebAppInlineQueryInvalid");var dt=[];if(lt){if(!Array.isArray(lt))throw console.error("[Telegram.WebApp] Choose chat types should be an array",lt),Error("WebAppInlineChooseChatTypesInvalid");for(var St={users:1,bots:1,groups:1,channels:1},Mt=0;Mt<lt.length;Mt++){var $t=lt[Mt];if(!St[$t])throw console.error("[Telegram.WebApp] Choose chat type is invalid",$t),Error("WebAppInlineChooseChatTypeInvalid");St[$t]!=2&&(St[$t]=2,dt.push($t))}}t.postEvent("web_app_switch_inline_query",!1,{query:st,chat_types:dt})},p.openLink=function(St,lt){var dt=document.createElement("A");if(dt.href=St,dt.protocol!="http:"&&dt.protocol!="https:")throw console.error("[Telegram.WebApp] Url protocol is not supported",St),Error("WebAppTgUrlInvalid");var St=dt.href;if(lt=lt||{},Me("6.1")){var Mt={url:St};Me("6.4")&&lt.try_instant_view&&(Mt.try_instant_view=!0),Me("7.6")&&lt.try_browser&&(Mt.try_browser=lt.try_browser),t.postEvent("web_app_open_link",!1,Mt)}else window.open(St,"_blank")},p.openTelegramLink=function(st,lt){var dt=document.createElement("A");if(dt.href=st,dt.protocol!="http:"&&dt.protocol!="https:")throw console.error("[Telegram.WebApp] Url protocol is not supported",st),Error("WebAppTgUrlInvalid");if(dt.hostname!="t.me")throw console.error("[Telegram.WebApp] Url host is not supported",st),Error("WebAppTgUrlInvalid");var St=dt.pathname+dt.search;if(lt=lt||{},s||Me("6.1")){var Mt={path_full:St};lt.force_request&&(Mt.force_request=!0),t.postEvent("web_app_open_tg_link",!1,Mt)}else location.href="https://t.me"+St},p.openInvoice=function(st,lt){var dt=document.createElement("A"),St,Mt;if(dt.href=st,dt.protocol!="http:"&&dt.protocol!="https:"||dt.hostname!="t.me"||!(St=dt.pathname.match(/^\/(\$|invoice\/)([A-Za-z0-9\-_=]+)$/))||!(Mt=St[2]))throw console.error("[Telegram.WebApp] Invoice url is invalid",st),Error("WebAppInvoiceUrlInvalid");if(!Me("6.1"))throw console.error("[Telegram.WebApp] Method openInvoice is not supported in version "+o),Error("WebAppMethodUnsupported");if(He[Mt])throw console.error("[Telegram.WebApp] Invoice is already opened"),Error("WebAppInvoiceOpened");He[Mt]={url:st,callback:lt},t.postEvent("web_app_open_invoice",!1,{slug:Mt})},p.showPopup=function(st,lt){if(!Me("6.2"))throw console.error("[Telegram.WebApp] Method showPopup is not supported in version "+o),Error("WebAppMethodUnsupported");if(zr)throw console.error("[Telegram.WebApp] Popup is already opened"),Error("WebAppPopupOpened");var dt="",St="",Mt=[],$t={};if(typeof st.title<"u"){if(dt=H(st.title),dt.length>64)throw console.error("[Telegram.WebApp] Popup title is too long",dt),Error("WebAppPopupParamInvalid");dt.length>0&&($t.title=dt)}if(typeof st.message<"u"&&(St=H(st.message)),!St.length)throw console.error("[Telegram.WebApp] Popup message is required",st.message),Error("WebAppPopupParamInvalid");if(St.length>256)throw console.error("[Telegram.WebApp] Popup message is too long",St),Error("WebAppPopupParamInvalid");if($t.message=St,typeof st.buttons<"u"){if(!Array.isArray(st.buttons))throw console.error("[Telegram.WebApp] Popup buttons should be an array",st.buttons),Error("WebAppPopupParamInvalid");for(var he=0;he<st.buttons.length;he++){var se=st.buttons[he],Ze={},pe="";if(typeof se.id<"u"&&(pe=se.id.toString(),pe.length>64))throw console.error("[Telegram.WebApp] Popup button id is too long",pe),Error("WebAppPopupParamInvalid");Ze.id=pe;var ie=se.type;if(typeof ie>"u"&&(ie="default"),Ze.type=ie,!(ie=="ok"||ie=="close"||ie=="cancel"))if(ie=="default"||ie=="destructive"){var hi="";if(typeof se.text<"u"&&(hi=H(se.text)),!hi.length)throw console.error("[Telegram.WebApp] Popup button text is required for type "+ie,se.text),Error("WebAppPopupParamInvalid");if(hi.length>64)throw console.error("[Telegram.WebApp] Popup button text is too long",hi),Error("WebAppPopupParamInvalid");Ze.text=hi}else throw console.error("[Telegram.WebApp] Popup button type is invalid",ie),Error("WebAppPopupParamInvalid");Mt.push(Ze)}}else Mt.push({id:"",type:"close"});if(Mt.length<1)throw console.error("[Telegram.WebApp] Popup should have at least one button"),Error("WebAppPopupParamInvalid");if(Mt.length>3)throw console.error("[Telegram.WebApp] Popup should not have more than 3 buttons"),Error("WebAppPopupParamInvalid");$t.buttons=Mt,zr={callback:lt},t.postEvent("web_app_open_popup",!1,$t)},p.showAlert=function(st,lt){p.showPopup({message:st},lt?function(){lt()}:null)},p.showConfirm=function(st,lt){p.showPopup({message:st,buttons:[{type:"ok",id:"ok"},{type:"cancel"}]},lt?function(dt){lt(dt=="ok")}:null)},p.showScanQrPopup=function(st,lt){if(!Me("6.4"))throw console.error("[Telegram.WebApp] Method showScanQrPopup is not supported in version "+o),Error("WebAppMethodUnsupported");if(us)throw console.error("[Telegram.WebApp] Popup is already opened"),Error("WebAppScanQrPopupOpened");var dt="",St={};if(typeof st.text<"u"){if(dt=H(st.text),dt.length>64)throw console.error("[Telegram.WebApp] Scan QR popup text is too long",dt),Error("WebAppScanQrPopupParamInvalid");dt.length>0&&(St.text=dt)}us={callback:lt},t.postEvent("web_app_open_scan_qr_popup",!1,St)},p.closeScanQrPopup=function(){if(!Me("6.4"))throw console.error("[Telegram.WebApp] Method closeScanQrPopup is not supported in version "+o),Error("WebAppMethodUnsupported");us=!1,t.postEvent("web_app_close_scan_qr_popup",!1)},p.readTextFromClipboard=function(st){if(!Me("6.4"))throw console.error("[Telegram.WebApp] Method readTextFromClipboard is not supported in version "+o),Error("WebAppMethodUnsupported");var lt=_(16),dt={req_id:lt};Q[lt]={callback:st},t.postEvent("web_app_read_text_from_clipboard",!1,dt)},p.requestWriteAccess=function(st){if(!Me("6.9"))throw console.error("[Telegram.WebApp] Method requestWriteAccess is not supported in version "+o),Error("WebAppMethodUnsupported");if(ha)throw console.error("[Telegram.WebApp] Write access is already requested"),Error("WebAppWriteAccessRequested");ha={callback:st},t.postEvent("web_app_request_write_access")},p.requestContact=function(st){if(!Me("6.9"))throw console.error("[Telegram.WebApp] Method requestContact is not supported in version "+o),Error("WebAppMethodUnsupported");if(Lo)throw console.error("[Telegram.WebApp] Contact is already requested"),Error("WebAppContactRequested");Lo={callback:st},t.postEvent("web_app_request_phone")},p.downloadFile=function(st,lt){if(!Me("8.0"))throw console.error("[Telegram.WebApp] Method downloadFile is not supported in version "+o),Error("WebAppMethodUnsupported");if(fs)throw console.error("[Telegram.WebApp] Popup is already opened"),Error("WebAppDownloadFilePopupOpened");var dt=document.createElement("A"),St={};if(!st||!st.url||!st.url.length)throw console.error("[Telegram.WebApp] Url is required"),Error("WebAppDownloadFileParamInvalid");if(dt.href=st.url,dt.protocol!="https:")throw console.error("[Telegram.WebApp] Url protocol is not supported",url),Error("WebAppDownloadFileParamInvalid");if(St.url=dt.href,!st||!st.file_name||!st.file_name.length)throw console.error("[Telegram.WebApp] File name is required"),Error("WebAppDownloadFileParamInvalid");St.file_name=st.file_name,fs={callback:lt},t.postEvent("web_app_request_file_download",!1,St)},p.shareToStory=function(st,lt){if(lt=lt||{},!Me("7.8"))throw console.error("[Telegram.WebApp] Method shareToStory is not supported in version "+o),Error("WebAppMethodUnsupported");var dt=document.createElement("A");if(dt.href=st,dt.protocol!="http:"&&dt.protocol!="https:")throw console.error("[Telegram.WebApp] Media url protocol is not supported",url),Error("WebAppMediaUrlInvalid");var St={};if(St.media_url=dt.href,typeof lt.text<"u"){var Mt=H(lt.text);if(Mt.length>2048)throw console.error("[Telegram.WebApp] Text is too long",Mt),Error("WebAppShareToStoryParamInvalid");Mt.length>0&&(St.text=Mt)}if(typeof lt.widget_link<"u"){if(lt.widget_link=lt.widget_link||{},dt.href=lt.widget_link.url,dt.protocol!="http:"&&dt.protocol!="https:")throw console.error("[Telegram.WebApp] Link protocol is not supported",url),Error("WebAppShareToStoryParamInvalid");var $t={url:dt.href};if(typeof lt.widget_link.name<"u"){var he=H(lt.widget_link.name);if(he.length>48)throw console.error("[Telegram.WebApp] Link name is too long",he),Error("WebAppShareToStoryParamInvalid");he.length>0&&($t.name=he)}St.widget_link=$t}t.postEvent("web_app_share_to_story",!1,St)},p.shareMessage=function(st,lt){if(!Me("8.0"))throw console.error("[Telegram.WebApp] Method shareMessage is not supported in version "+o),Error("WebAppMethodUnsupported");if(ve)throw console.error("[Telegram.WebApp] Share message is already opened"),Error("WebAppShareMessageOpened");ve={callback:lt},t.postEvent("web_app_send_prepared_message",!1,{id:st})},p.setEmojiStatus=function(st,lt,dt){if(lt=lt||{},!Me("8.0"))throw console.error("[Telegram.WebApp] Method setEmojiStatus is not supported in version "+o),Error("WebAppMethodUnsupported");var St={};if(St.custom_emoji_id=st,typeof lt.duration<"u"&&(St.duration=lt.duration),Gt)throw console.error("[Telegram.WebApp] Emoji status is already requested"),Error("WebAppEmojiStatusRequested");Gt={callback:dt},t.postEvent("web_app_set_emoji_status",!1,St)},p.requestEmojiStatusAccess=function(st){if(!Me("8.0"))throw console.error("[Telegram.WebApp] Method requestEmojiStatusAccess is not supported in version "+o),Error("WebAppMethodUnsupported");if(xe)throw console.error("[Telegram.WebApp] Emoji status permission is already requested"),Error("WebAppEmojiStatusAccessRequested");xe={callback:st},t.postEvent("web_app_request_emoji_status_access")},p.invokeCustomMethod=function(st,lt,dt){ks(st,lt,dt)},p.ready=function(){t.postEvent("web_app_ready")},p.expand=function(){t.postEvent("web_app_expand")},p.close=function(st){st=st||{};var lt={};Me("7.6")&&st.return_back&&(lt.return_back=!0),t.postEvent("web_app_close",!1,lt)},window.Telegram.WebApp=p,Hi(),Dn(),aa(),ft(),i.tgWebAppShowSettings&&wr.show(),window.addEventListener("resize",G),s&&document.addEventListener("click",U),t.onEvent("theme_changed",A),t.onEvent("viewport_changed",F),t.onEvent("safe_area_changed",I),t.onEvent("content_safe_area_changed",B),t.onEvent("visibility_changed",k),t.onEvent("invoice_closed",Oo),t.onEvent("popup_closed",bl),t.onEvent("qr_text_received",Ih),t.onEvent("scan_qr_popup_closed",Bh),t.onEvent("clipboard_text_received",Gh),t.onEvent("write_access_requested",kh),t.onEvent("phone_requested",Nh),t.onEvent("file_download_requested",Hn),t.onEvent("custom_method_invoked",Za),t.onEvent("fullscreen_changed",Pt),t.onEvent("fullscreen_failed",Nt),t.onEvent("home_screen_added",Ee),t.onEvent("home_screen_checked",we),t.onEvent("prepared_message_sent",Fe),t.onEvent("prepared_message_failed",ai),t.onEvent("emoji_status_set",Wt),t.onEvent("emoji_status_failed",fe),t.onEvent("emoji_status_access_requested",Ie),t.postEvent("web_app_request_theme"),t.postEvent("web_app_request_viewport"),t.postEvent("web_app_request_safe_area"),t.postEvent("web_app_request_content_safe_area")})();Object.defineProperty(px,"__esModule",{value:!0});px.WebApp=void 0;var y$=window;px.WebApp=y$.Telegram.WebApp;Object.defineProperty(H4,"__esModule",{value:!0});var x$=px,T$=H4.default=x$.WebApp;class C$ extends m${constructor(){super(...arguments);Ut(this,"webApp",T$)}getAuthParams(){var i;return`?${(i=this.webApp)==null?void 0:i.initData}`}async shareToStory(i){this.webApp.shareToStory(i,{text:"  -     !",widget_link:{name:"  ",url:ur.APP_URL}})}async vibrate(){var i,s;(s=(i=this.webApp)==null?void 0:i.HapticFeedback)!=null&&s.impactOccurred&&this.webApp.HapticFeedback.impactOccurred("rigid")}}const $4=new C$,Od=new g$;var S$=Object.defineProperty,E$=Object.getOwnPropertyDescriptor,K4=(e,t,i,s)=>{for(var p=E$(t,i),E=e.length-1,n;E>=0;E--)(n=e[E])&&(p=n(t,i,p)||p);return p&&S$(t,i,p),p};class sw extends Zd.Scene{constructor(){super(HH)}preload(){this.load.image(z4,"assets/bg_blur.png"),Od.setLastLogin()}create(){this.scene.start(D4)}}K4([wo],sw.prototype,"preload");K4([wo],sw.prototype,"create");function gx(e){return`${Math.round(e*ur.DEVICE_PIXEL_RATIO)}px`}var Nr=(e=>(e.BACK_BUTTON_ON_POINTERDOWN="backButton:onPointerdown",e.FREE_ESSENCE_BUTTON_ON_POINTERDOWN="freeEssenceButton:onPointerdown",e.SHARE_STORY_BUTTON_ON_POINTERDOWN="shareStoryButton:onPointerdown",e.BG_RETURNED="bg:returned",e.BG_SCALED="bg:scaled",e.BALL_ON_POINTERDOWN="ball:onPointerdown",e.PREDICTION_RECEIVED="prediction:received",e.FREE_ESSENCE_RECEIVED="freeEssence:received",e))(Nr||{});const b$=gx(27),P$=gx(27);class aw{constructor(){Ut(this,"ball");Ut(this,"predictionText");Ut(this,"initialText");Ut(this,"circle");Ut(this,"prediction");Ut(this,"oracleBallDefaultScale");Ut(this,"animationShowPrediction");Ut(this,"animationClosePrediction");Ut(this,"animationPulse");Ut(this,"container");Ut(this,"containerDefaultScale")}static async create(t){const i=new aw;return await i.init(t),i}async init(t){this.initContainer(t),this.initBall(t),this.initCircle(t),this.initPredictionText(t),this.initInitialText(t),this.circle.on("pointerdown",async()=>{this.deactivateCircle(),this.circle.scene.events.emit(Nr.BALL_ON_POINTERDOWN)}),this.animationShowPrediction=this.createAnimationShowPrediction(),this.animationClosePrediction=this.createAnimationClosePrediction(),this.animationPulse=this.createAnimationPulse(),await this.asyncPlayAnimationInitBall(),this.animationPulse.play()}initContainer(t){const i=t.scale.width/2,s=t.scale.height/2;this.container=t.add.container(i,s,[]),this.container.setAlpha(0),this.containerDefaultScale=this.container.scale}initBall(t){const i=t.scale.width/ur.BASE_WIDTH,s=t.scale.height/ur.BASE_HEIGHT,p=Math.max(i,s),E=0,n=28*p;this.ball=t.add.image(E,n,I4),this.ball.setOrigin(.5),this.ball.setScale(p),this.oracleBallDefaultScale=p,this.container.add(this.ball)}initPredictionText(t){this.predictionText=t.add.text(0,0,"",{fontFamily:"MonotypeCorsiva",fontSize:b$,color:"#833414",align:"center",wordWrap:{width:this.ball.displayWidth+this.ball.displayWidth*.7}}),this.predictionText.setOrigin(.5,.5),this.predictionText.setVisible(!1),this.predictionText.setY(0-this.ball.displayHeight*.13),this.container.add(this.predictionText)}initInitialText(t){this.initialText=t.add.text(0,0,"   ?",{fontFamily:"MonotypeCorsiva",fontSize:P$,color:"#833414",align:"center",wordWrap:{width:this.ball.displayWidth-100}}),this.initialText.setOrigin(.5,.5),this.initialText.setY(0-this.circle.displayHeight*.05),this.container.add(this.initialText)}initCircle(t){const i=t.scale.width/ur.BASE_WIDTH,s=t.scale.height/ur.BASE_HEIGHT,p=Math.max(i,s),E=this.ball.width*p/2;this.circle=t.add.circle(0,0,E,0,0),this.circle.setY(this.ball.y-this.ball.height*.065),this.activateCircle(),this.container.add(this.circle)}shakeEffect(){this.container.scene.tweens.add({targets:this.container,angle:{from:-7,to:7},duration:50,yoyo:!0,repeat:5,onComplete:()=>{this.container.angle=0}})}handleBallClick(t){this.initialText.setVisible(!1),this.prediction=t,this.animationPulse.stop(),this.container.scene.tweens.add({targets:this.container,alpha:1,scale:this.containerDefaultScale,duration:300,ease:"Sine.easeOut"}),this.animationShowPrediction.play()}asyncPlayAnimationInitBall(){return new Promise(t=>{this.container.scene.tweens.add({targets:this.container,alpha:1,duration:600,ease:"Sine.easeOut",onComplete:t})})}createAnimationShowPrediction(){return this.ball.scene.tweens.add({targets:this.ball,scale:this.oracleBallDefaultScale+this.oracleBallDefaultScale*.64,duration:2e3,ease:"Power2",paused:!0,onComplete:()=>{this.showPrediction(),this.animationClosePrediction=this.createAnimationClosePrediction()}})}createAnimationClosePrediction(){return this.ball.scene.tweens.add({targets:this.ball,scale:this.oracleBallDefaultScale,duration:750,ease:"Power2",paused:!0,onComplete:()=>{this.ball.setInteractive(),this.initialText.setVisible(!0),this.animationShowPrediction=this.createAnimationShowPrediction(),this.animationPulse=this.createAnimationPulse(),this.animationPulse.play(),this.activateCircle()}})}createAnimationPulse(){return this.container.scene.tweens.add({targets:this.container,alpha:{from:1,to:.9},scale:{from:1,to:.95},duration:1500,repeatDelay:300,yoyo:!0,repeat:-1,ease:"Sine.easeInOut",paused:!0})}showPrediction(){this.predictionText.setText(this.prediction),this.predictionText.setVisible(!0)}hidePrediction(){this.predictionText.setVisible(!1),this.predictionText.setText("")}deactivateCircle(){this.circle.disableInteractive()}activateCircle(){this.circle.setInteractive()}reset(){this.hidePrediction(),this.animationClosePrediction.play()}}const BD=24*60*60*1e3,w$=gx(11);class ow{constructor(t){Ut(this,"lastFreeCrediting",null);Ut(this,"text");Ut(this,"getButton");Ut(this,"board");Ut(this,"isBoardWithButtonVisible",!1);Ut(this,"isBoardWithTimerVisible",!1);Ut(this,"timerEvent");Ut(this,"container");Ut(this,"hidden",!1);this.lastFreeCrediting=t}static async create(t,i){const s=new ow(i);return await s.init(t),t.events.on(Nr.BG_RETURNED,()=>{s.show()}),s}async init(t){this.initBoard(t),this.initContainer(t),this.initGetButton(t),this.initText(t),this.setState(),this.getButton.on("pointerdown",()=>{this.hide(),t.events.emit(Nr.FREE_ESSENCE_BUTTON_ON_POINTERDOWN)})}initBoard(t){this.board=t.add.image(0,0,U4),this.board.setOrigin(0,0);const i=Gy/this.board.height;this.board.setScale(i)}initGetButton(t){const{displayWidth:i,displayHeight:s}=this.board;this.getButton=t.add.image(i/2,s/2,k4),this.getButton.setInteractive(),this.getButton.setOrigin(.5,.5);const{width:p,height:E}=this.getButton,{width:n,height:T}=t.cameras.main,r=n/p*.2,o=T/E*.2,x=Math.min(r,o);this.getButton.setScale(x),this.getButton.setVisible(!1),this.container.add(this.getButton)}initText(t){this.text=t.add.text(0,0,"",{fontSize:w$,color:"#fff",align:"center",wordWrap:{width:this.board.displayWidth}}),this.text.setOrigin(.5,.5),this.text.setX(this.board.displayWidth/2),this.text.setY(this.board.displayHeight/2),this.text.setVisible(!1),this.container.add(this.text)}initContainer(t){this.container=t.add.container(5,0-Gy,[this.board])}async showHandler(){return this.hidden?null:new Promise(t=>{this.container.scene.tweens.add({targets:this.container,y:0,duration:500,ease:"Power2",onComplete:()=>{t(null)}})})}async hideHandler(){return new Promise(t=>{this.container.scene.tweens.add({targets:this.container,y:0-Gy,duration:500,ease:"Power2",onComplete:()=>{t(null)}})})}async hideBoardWithTimer(){this.text.setVisible(!1),await this.hideHandler(),this.isBoardWithTimerVisible=!1}showBoardWithTimer(){this.isBoardWithButtonVisible?this.hideBoardWithButton().then(()=>{this.text.setVisible(!0),this.showHandler()}):(this.text.setVisible(!0),this.showHandler()),this.isBoardWithTimerVisible=!0}async hideBoardWithButton(){this.getButton.setVisible(!1),await this.hideHandler(),this.isBoardWithButtonVisible=!1}showBoardWithButton(){this.isBoardWithTimerVisible?this.hideBoardWithTimer().then(()=>{this.getButton.setVisible(!0),this.showHandler()}):(this.getButton.setVisible(!0),this.showHandler()),this.isBoardWithButtonVisible=!0}hide(){this.hidden=!0,this.hideHandler()}show(){this.hidden=!1,this.setState()}updateLastFreeCrediting(t){this.lastFreeCrediting!==t&&(this.lastFreeCrediting=t,this.setState())}setState(){const t=Date.now();BD-(t-(this.lastFreeCrediting||0))>0?this.runTimer():this.showBoardWithButton()}runTimer(){this.timerEvent=this.text.scene.time.addEvent({delay:1e3,callback:()=>this.updateTimer(),loop:!0})}stopTimer(){var t;(t=this.timerEvent)==null||t.remove()}updateTimer(){const t=Date.now(),i=BD-(t-(this.lastFreeCrediting||0));if(i>0){const s=Math.floor(i/36e5),p=Math.floor(i%(60*60*1e3)/(60*1e3)),E=Math.floor(i%(60*1e3)/1e3);this.text.setText(`  
 ${s} ${p} ${E}`),this.showBoardWithTimer()}else this.stopTimer(),this.showBoardWithButton()}}class lw extends dl.GameObjects.Image{constructor(i,s){const p=i.scale.width/2,E=i.scale.height/2;super(i,p,E,s?z4:V4);Ut(this,"bgDefaultScale");Ut(this,"blurEffect",null);const n=s?this.width:ur.BASE_WIDTH,T=s?this.height:ur.BASE_HEIGHT,r=i.scale.width/n,o=i.scale.height/T,x=Math.max(r,o);this.setOrigin(.5),this.setScale(x),this.setScrollFactor(0),this.bgDefaultScale=x,i.add.existing(this),s&&this.preFX&&(this.blurEffect=this.preFX.addBlur(2,2,2,1,16777215,4))}runScaleAnimation(){this.scene.tweens.add({targets:this,scale:this.bgDefaultScale+this.bgDefaultScale*.64,duration:2e3,ease:"Power2",onComplete:()=>{this.scene.events.emit(Nr.BG_SCALED)}})}runReturnScaleAnimation(){this.scene.tweens.add({targets:this,scale:this.bgDefaultScale,duration:750,ease:"Power2",onComplete:()=>{this.scene.events.emit(Nr.BG_RETURNED)}})}async cleanup(){if(this.blurEffect&&this.preFX)return new Promise(i=>{this.scene.tweens.add({targets:this.blurEffect,strength:0,duration:500,onComplete:()=>{var s;(s=this.preFX)==null||s.remove(this.blurEffect),this.blurEffect=null,i()}})})}}class M$ extends dl.GameObjects.Image{constructor(t){super(t,0,0,G4),this.setX(t.cameras.main.width/2),this.setY(t.cameras.main.height-75*ur.DEVICE_PIXEL_RATIO),this.setVisible(!1),this.setInteractive(),this.setOrigin(.5,.5),t.add.existing(this),this.startPulseAnimation(),this.on("pointerdown",()=>{this.setVisible(!1),setTimeout(()=>{this.setVisible(!0)},2e3),t.events.emit(Nr.SHARE_STORY_BUTTON_ON_POINTERDOWN)})}startPulseAnimation(){this.scene.tweens.add({targets:this,scale:this.scale*1.1,duration:800,ease:"Sine.easeInOut",yoyo:!0,repeat:-1})}onPointerdown(t){this.off("pointerdown"),this.on("pointerdown",t)}}class R$ extends dl.GameObjects.Image{constructor(t){super(t,0,0,B4);const i=t.scale.width/ur.BASE_WIDTH,s=t.scale.height/ur.BASE_HEIGHT,p=Math.max(i,s);this.setX(this.width+10*p),this.setY(this.width+10*p),this.setVisible(!1),this.setInteractive(),t.add.existing(this),this.onPointerdown(()=>{t.events.emit(Nr.BACK_BUTTON_ON_POINTERDOWN),this.setVisible(!1)})}onPointerdown(t){this.on("pointerdown",t)}}const Z4=new dl.Events.EventEmitter;function A$(e,t){return`${e}_${t}`}function J4(e){return A$("update_store",e)}var Ad=(e=>(e.PROFILE="profile",e))(Ad||{});class O${constructor(){Ut(this,"store",{})}set(t,i,s){this.store[t]=i,s!=null&&s.skipEmmit||Z4.emit(J4(t),i)}get(t){return this.store[t]}}const g0=new O$,L$=gx(15);class hw{constructor(){Ut(this,"text");Ut(this,"board");Ut(this,"container")}static async create(t,i){const s=new hw;return s.init(t,i),s}init(t,i){this.initBoard(t),this.initText(t),this.initContainer(t),this.updateBalance(i),this.show()}initBoard(t){this.board=t.add.image(0,0,N4),this.board.setOrigin(0,0);const i=AP/this.board.height;this.board.setScale(i)}initText(t){this.text=t.add.text(0,0,"",{fontSize:L$,color:"#fff",wordWrap:{width:this.board.displayWidth}}),this.text.setOrigin(0,.5),this.text.setX(this.board.displayWidth/2),this.text.setY(this.board.displayHeight/2)}initContainer(t){this.container=t.add.container(t.cameras.main.width,Gy-AP-4,[this.board,this.text]),this.container.setSize(this.board.width*this.board.scale,this.board.height*this.board.scale)}updateBalance(t){this.text.setText(String(t))}show(){this.container.scene.tweens.add({targets:this.container,x:this.container.scene.cameras.main.width-this.board.displayWidth-5,duration:500,ease:"Power2"})}hide(){this.container.scene.tweens.add({targets:this.container,x:this.container.scene.cameras.main.width+this.board.displayWidth+5,duration:500,ease:"Power2"})}}var OP=function(e,t){return OP=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(i[p]=s[p])},OP(e,t)};function Fs(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");OP(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}var Te=function(){return Te=Object.assign||function(t){for(var i,s=1,p=arguments.length;s<p;s++){i=arguments[s];for(var E in i)Object.prototype.hasOwnProperty.call(i,E)&&(t[E]=i[E])}return t},Te.apply(this,arguments)};function LP(e,t){var i={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(i[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var p=0,s=Object.getOwnPropertySymbols(e);p<s.length;p++)t.indexOf(s[p])<0&&Object.prototype.propertyIsEnumerable.call(e,s[p])&&(i[s[p]]=e[s[p]]);return i}function ne(e,t,i,s){function p(E){return E instanceof i?E:new i(function(n){n(E)})}return new(i||(i=Promise))(function(E,n){function T(x){try{o(s.next(x))}catch(d){n(d)}}function r(x){try{o(s.throw(x))}catch(d){n(d)}}function o(x){x.done?E(x.value):p(x.value).then(T,r)}o((s=s.apply(e,t||[])).next())})}function qt(e,t){var i={label:0,sent:function(){if(E[0]&1)throw E[1];return E[1]},trys:[],ops:[]},s,p,E,n=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return n.next=T(0),n.throw=T(1),n.return=T(2),typeof Symbol=="function"&&(n[Symbol.iterator]=function(){return this}),n;function T(o){return function(x){return r([o,x])}}function r(o){if(s)throw new TypeError("Generator is already executing.");for(;n&&(n=0,o[0]&&(i=0)),i;)try{if(s=1,p&&(E=o[0]&2?p.return:o[0]?p.throw||((E=p.return)&&E.call(p),0):p.next)&&!(E=E.call(p,o[1])).done)return E;switch(p=0,E&&(o=[o[0]&2,E.value]),o[0]){case 0:case 1:E=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,p=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(E=i.trys,!(E=E.length>0&&E[E.length-1])&&(o[0]===6||o[0]===2)){i=0;continue}if(o[0]===3&&(!E||o[1]>E[0]&&o[1]<E[3])){i.label=o[1];break}if(o[0]===6&&i.label<E[1]){i.label=E[1],E=o;break}if(E&&i.label<E[2]){i.label=E[2],i.ops.push(o);break}E[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(x){o=[6,x],p=0}finally{s=E=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}function Pr(e){var t=typeof Symbol=="function"&&Symbol.iterator,i=t&&e[t],s=0;if(i)return i.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&s>=e.length&&(e=void 0),{value:e&&e[s++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Mi(e,t){var i=typeof Symbol=="function"&&e[Symbol.iterator];if(!i)return e;var s=i.call(e),p,E=[],n;try{for(;(t===void 0||t-- >0)&&!(p=s.next()).done;)E.push(p.value)}catch(T){n={error:T}}finally{try{p&&!p.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return E}function qr(e,t,i){if(i||arguments.length===2)for(var s=0,p=t.length,E;s<p;s++)(E||!(s in t))&&(E||(E=Array.prototype.slice.call(t,0,s)),E[s]=t[s]);return e.concat(E||Array.prototype.slice.call(t))}function Gd(e){return this instanceof Gd?(this.v=e,this):new Gd(e)}function D$(e,t,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=i.apply(e,t||[]),p,E=[];return p=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),T("next"),T("throw"),T("return",n),p[Symbol.asyncIterator]=function(){return this},p;function n(l){return function(a){return Promise.resolve(a).then(l,d)}}function T(l,a){s[l]&&(p[l]=function(f){return new Promise(function(c,u){E.push([l,f,c,u])>1||r(l,f)})},a&&(p[l]=a(p[l])))}function r(l,a){try{o(s[l](a))}catch(f){h(E[0][3],f)}}function o(l){l.value instanceof Gd?Promise.resolve(l.value.v).then(x,d):h(E[0][2],l)}function x(l){r("next",l)}function d(l){r("throw",l)}function h(l,a){l(a),E.shift(),E.length&&r(E[0][0],E[0][1])}}function F$(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],i;return t?t.call(e):(e=typeof Pr=="function"?Pr(e):e[Symbol.iterator](),i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i);function s(E){i[E]=e[E]&&function(n){return new Promise(function(T,r){n=e[E](n),p(T,r,n.done,n.value)})}}function p(E,n,T,r){Promise.resolve(r).then(function(o){E({value:o,done:T})},n)}}var I$="Event tracked successfully",B$="Unexpected error occurred",G$="Event rejected due to exceeded retry count",k$="Event skipped due to optOut config",N$="Event rejected due to missing API key",U$="Invalid API key",V$="Client not initialized",Zr;(function(e){e.SET="$set",e.SET_ONCE="$setOnce",e.ADD="$add",e.APPEND="$append",e.PREPEND="$prepend",e.REMOVE="$remove",e.PREINSERT="$preInsert",e.POSTINSERT="$postInsert",e.UNSET="$unset",e.CLEAR_ALL="$clearAll"})(Zr||(Zr={}));var Bu;(function(e){e.REVENUE_PRODUCT_ID="$productId",e.REVENUE_QUANTITY="$quantity",e.REVENUE_PRICE="$price",e.REVENUE_TYPE="$revenueType",e.REVENUE="$revenue"})(Bu||(Bu={}));var Wd;(function(e){e.IDENTIFY="$identify",e.GROUP_IDENTIFY="$groupidentify",e.REVENUE="revenue_amount"})(Wd||(Wd={}));var As;(function(e){e[e.None=0]="None",e[e.Error=1]="Error",e[e.Warn=2]="Warn",e[e.Verbose=3]="Verbose",e[e.Debug=4]="Debug"})(As||(As={}));var Qy;(function(e){e.US="US",e.EU="EU"})(Qy||(Qy={}));var hr;(function(e){e.Unknown="unknown",e.Skipped="skipped",e.Success="success",e.RateLimit="rate_limit",e.PayloadTooLarge="payload_too_large",e.Invalid="invalid",e.Failed="failed",e.Timeout="Timeout",e.SystemError="SystemError"})(hr||(hr={}));var z$=null,W$=["a","button","input","select","textarea","label","video","audio",'[contenteditable="true" i]',"[data-amp-default-track]",".amp-default-track"],Y$="data-amp-track-",X$=["div","span","h1","h2","h3","h4","h5","h6"],kd=function(e,t,i){return t===void 0&&(t=0),i===void 0&&(i=hr.Unknown),{event:e,code:t,message:i}},Jd=function(e){return e?(e^Math.random()*16>>e/4).toString(16):(String(1e7)+String(-1e3)+String(-4e3)+String(-8e3)+String(-1e11)).replace(/[018]/g,Jd)},H$=function(){function e(t){this.client=t,this.queue=[],this.applying=!1,this.plugins=[]}return e.prototype.register=function(t,i){var s,p;return ne(this,void 0,void 0,function(){return qt(this,function(E){switch(E.label){case 0:return this.plugins.some(function(n){return n.name===t.name})?(i.loggerProvider.warn("Plugin with name ".concat(t.name," already exists, skipping registration")),[2]):(t.name===void 0&&(t.name=Jd(),i.loggerProvider.warn(`Plugin name is undefined. 
      Generating a random UUID for plugin name: `.concat(t.name,`. 
      Set a name for the plugin to prevent it from being added multiple times.`))),t.type=(s=t.type)!==null&&s!==void 0?s:"enrichment",[4,(p=t.setup)===null||p===void 0?void 0:p.call(t,i,this.client)]);case 1:return E.sent(),this.plugins.push(t),[2]}})})},e.prototype.deregister=function(t,i){var s;return ne(this,void 0,void 0,function(){var p,E;return qt(this,function(n){switch(n.label){case 0:return p=this.plugins.findIndex(function(T){return T.name===t}),p===-1?(i.loggerProvider.warn("Plugin with name ".concat(t," does not exist, skipping deregistration")),[2]):(E=this.plugins[p],this.plugins.splice(p,1),[4,(s=E.teardown)===null||s===void 0?void 0:s.call(E)]);case 1:return n.sent(),[2]}})})},e.prototype.reset=function(t){this.applying=!1;var i=this.plugins;i.map(function(s){var p;return(p=s.teardown)===null||p===void 0?void 0:p.call(s)}),this.plugins=[],this.client=t},e.prototype.push=function(t){var i=this;return new Promise(function(s){i.queue.push([t,s]),i.scheduleApply(0)})},e.prototype.scheduleApply=function(t){var i=this;this.applying||(this.applying=!0,setTimeout(function(){i.apply(i.queue.shift()).then(function(){i.applying=!1,i.queue.length>0&&i.scheduleApply(0)})},t))},e.prototype.apply=function(t){return ne(this,void 0,void 0,function(){var i,s,p,E,n,T,r,l,a,o,x,d,h,l,a,f,c,u,v,g,m,y;return qt(this,function(C){switch(C.label){case 0:if(!t)return[2];i=Mi(t,1),s=i[0],p=Mi(t,2),E=p[1],n=this.plugins.filter(function(P){return P.type==="before"}),C.label=1;case 1:C.trys.push([1,6,7,8]),T=Pr(n),r=T.next(),C.label=2;case 2:return r.done?[3,5]:(l=r.value,l.execute?[4,l.execute(Te({},s))]:[3,4]);case 3:if(a=C.sent(),a===null)return E({event:s,code:0,message:""}),[2];s=a,C.label=4;case 4:return r=T.next(),[3,2];case 5:return[3,8];case 6:return o=C.sent(),v={error:o},[3,8];case 7:try{r&&!r.done&&(g=T.return)&&g.call(T)}finally{if(v)throw v.error}return[7];case 8:x=this.plugins.filter(function(P){return P.type==="enrichment"||P.type===void 0}),C.label=9;case 9:C.trys.push([9,14,15,16]),d=Pr(x),h=d.next(),C.label=10;case 10:return h.done?[3,13]:(l=h.value,l.execute?[4,l.execute(Te({},s))]:[3,12]);case 11:if(a=C.sent(),a===null)return E({event:s,code:0,message:""}),[2];s=a,C.label=12;case 12:return h=d.next(),[3,10];case 13:return[3,16];case 14:return f=C.sent(),m={error:f},[3,16];case 15:try{h&&!h.done&&(y=d.return)&&y.call(d)}finally{if(m)throw m.error}return[7];case 16:return c=this.plugins.filter(function(P){return P.type==="destination"}),u=c.map(function(P){var w=Te({},s);return P.execute(w).catch(function(M){return kd(w,0,String(M))})}),Promise.all(u).then(function(P){var w=Mi(P,1),M=w[0],R=M||kd(s,100,"Event not tracked, no destination plugins on the instance");E(R)}),[2]}})})},e.prototype.flush=function(){return ne(this,void 0,void 0,function(){var t,i,s,p=this;return qt(this,function(E){switch(E.label){case 0:return t=this.queue,this.queue=[],[4,Promise.all(t.map(function(n){return p.apply(n)}))];case 1:return E.sent(),i=this.plugins.filter(function(n){return n.type==="destination"}),s=i.map(function(n){return n.flush&&n.flush()}),[4,Promise.all(s)];case 2:return E.sent(),[2]}})})},e}(),GD="-",mx="AMP",$$="".concat(mx,"_unsent"),j4="https://api2.amplitude.com/2/httpapi",K$="https://api.eu.amplitude.com/2/httpapi",Z$="https://api2.amplitude.com/batch",J$="https://api.eu.amplitude.com/batch",j$=1e3,DP=function(e){if(Object.keys(e).length>j$)return!1;for(var t in e){var i=e[t];if(!Q4(t,i))return!1}return!0},Q4=function(e,t){var i,s;if(typeof e!="string")return!1;if(Array.isArray(t)){var p=!0;try{for(var E=Pr(t),n=E.next();!n.done;n=E.next()){var T=n.value;if(Array.isArray(T))return!1;if(typeof T=="object")p=p&&DP(T);else if(!["number","string"].includes(typeof T))return!1;if(!p)return!1}}catch(r){i={error:r}}finally{try{n&&!n.done&&(s=E.return)&&s.call(E)}finally{if(i)throw i.error}}}else{if(t==null)return!1;if(typeof t=="object")return DP(t);if(!["number","string","boolean"].includes(typeof t))return!1}return!0},xp=function(){function e(){this._propertySet=new Set,this._properties={}}return e.prototype.getUserProperties=function(){return Te({},this._properties)},e.prototype.set=function(t,i){return this._safeSet(Zr.SET,t,i),this},e.prototype.setOnce=function(t,i){return this._safeSet(Zr.SET_ONCE,t,i),this},e.prototype.append=function(t,i){return this._safeSet(Zr.APPEND,t,i),this},e.prototype.prepend=function(t,i){return this._safeSet(Zr.PREPEND,t,i),this},e.prototype.postInsert=function(t,i){return this._safeSet(Zr.POSTINSERT,t,i),this},e.prototype.preInsert=function(t,i){return this._safeSet(Zr.PREINSERT,t,i),this},e.prototype.remove=function(t,i){return this._safeSet(Zr.REMOVE,t,i),this},e.prototype.add=function(t,i){return this._safeSet(Zr.ADD,t,i),this},e.prototype.unset=function(t){return this._safeSet(Zr.UNSET,t,GD),this},e.prototype.clearAll=function(){return this._properties={},this._properties[Zr.CLEAR_ALL]=GD,this},e.prototype._safeSet=function(t,i,s){if(this._validate(t,i,s)){var p=this._properties[t];return p===void 0&&(p={},this._properties[t]=p),p[i]=s,this._propertySet.add(i),!0}return!1},e.prototype._validate=function(t,i,s){return this._properties[Zr.CLEAR_ALL]!==void 0||this._propertySet.has(i)?!1:t===Zr.ADD?typeof s=="number":t!==Zr.UNSET&&t!==Zr.REMOVE?Q4(i,s):!0},e}(),Q$=function(e,t,i){var s=typeof e=="string"?{event_type:e}:e;return Te(Te(Te({},s),i),t&&{event_properties:t})},q4=function(e,t){var i=Te(Te({},t),{event_type:Wd.IDENTIFY,user_properties:e.getUserProperties()});return i},q$=function(e,t,i,s){var p,E=Te(Te({},s),{event_type:Wd.GROUP_IDENTIFY,group_properties:i.getUserProperties(),groups:(p={},p[e]=t,p)});return E},_$=function(e,t,i){var s,p=new xp;p.set(e,t);var E=Te(Te({},i),{event_type:Wd.IDENTIFY,user_properties:p.getUserProperties(),groups:(s={},s[e]=t,s)});return E},tK=function(e,t){return Te(Te({},t),{event_type:Wd.REVENUE,event_properties:e.getEventProperties()})},rs=function(e){return{promise:e||Promise.resolve()}},eK=function(){function e(t){t===void 0&&(t="$default"),this.initializing=!1,this.isReady=!1,this.q=[],this.dispatchQ=[],this.logEvent=this.track.bind(this),this.timeline=new H$(this),this.name=t}return e.prototype._init=function(t){return ne(this,void 0,void 0,function(){return qt(this,function(i){switch(i.label){case 0:return this.config=t,this.timeline.reset(this),[4,this.runQueuedFunctions("q")];case 1:return i.sent(),this.isReady=!0,[2]}})})},e.prototype.runQueuedFunctions=function(t){return ne(this,void 0,void 0,function(){var i,s,p,E,n,T,r,o;return qt(this,function(x){switch(x.label){case 0:i=this[t],this[t]=[],x.label=1;case 1:x.trys.push([1,8,9,10]),s=Pr(i),p=s.next(),x.label=2;case 2:return p.done?[3,7]:(E=p.value,n=E(),n&&"promise"in n?[4,n.promise]:[3,4]);case 3:return x.sent(),[3,6];case 4:return[4,n];case 5:x.sent(),x.label=6;case 6:return p=s.next(),[3,2];case 7:return[3,10];case 8:return T=x.sent(),r={error:T},[3,10];case 9:try{p&&!p.done&&(o=s.return)&&o.call(s)}finally{if(r)throw r.error}return[7];case 10:return this[t].length?[4,this.runQueuedFunctions(t)]:[3,12];case 11:x.sent(),x.label=12;case 12:return[2]}})})},e.prototype.track=function(t,i,s){var p=Q$(t,i,s);return rs(this.dispatch(p))},e.prototype.identify=function(t,i){var s=q4(t,i);return rs(this.dispatch(s))},e.prototype.groupIdentify=function(t,i,s,p){var E=q$(t,i,s,p);return rs(this.dispatch(E))},e.prototype.setGroup=function(t,i,s){var p=_$(t,i,s);return rs(this.dispatch(p))},e.prototype.revenue=function(t,i){var s=tK(t,i);return rs(this.dispatch(s))},e.prototype.add=function(t){return this.isReady?this._addPlugin(t):(this.q.push(this._addPlugin.bind(this,t)),rs())},e.prototype._addPlugin=function(t){return rs(this.timeline.register(t,this.config))},e.prototype.remove=function(t){return this.isReady?this._removePlugin(t):(this.q.push(this._removePlugin.bind(this,t)),rs())},e.prototype._removePlugin=function(t){return rs(this.timeline.deregister(t,this.config))},e.prototype.dispatchWithCallback=function(t,i){if(!this.isReady)return i(kd(t,0,V$));this.process(t).then(i)},e.prototype.dispatch=function(t){return ne(this,void 0,void 0,function(){var i=this;return qt(this,function(s){return this.isReady?[2,this.process(t)]:[2,new Promise(function(p){i.dispatchQ.push(i.dispatchWithCallback.bind(i,t,p))})]})})},e.prototype.process=function(t){return ne(this,void 0,void 0,function(){var p,i,s,p;return qt(this,function(E){switch(E.label){case 0:return E.trys.push([0,2,,3]),this.config.optOut?[2,kd(t,0,k$)]:[4,this.timeline.push(t)];case 1:return p=E.sent(),p.code===200?this.config.loggerProvider.log(p.message):p.code===100?this.config.loggerProvider.warn(p.message):this.config.loggerProvider.error(p.message),[2,p];case 2:return i=E.sent(),s=String(i),this.config.loggerProvider.error(s),p=kd(t,0,s),[2,p];case 3:return[2]}})})},e.prototype.setOptOut=function(t){if(!this.isReady){this.q.push(this._setOptOut.bind(this,!!t));return}this._setOptOut(t)},e.prototype._setOptOut=function(t){this.config.optOut=!!t},e.prototype.flush=function(){return rs(this.timeline.flush())},e}(),iK=function(){function e(){this.productId="",this.quantity=1,this.price=0}return e.prototype.setProductId=function(t){return this.productId=t,this},e.prototype.setQuantity=function(t){return t>0&&(this.quantity=t),this},e.prototype.setPrice=function(t){return this.price=t,this},e.prototype.setRevenueType=function(t){return this.revenueType=t,this},e.prototype.setRevenue=function(t){return this.revenue=t,this},e.prototype.setEventProperties=function(t){return DP(t)&&(this.properties=t),this},e.prototype.getEventProperties=function(){var t=this.properties?Te({},this.properties):{};return t[Bu.REVENUE_PRODUCT_ID]=this.productId,t[Bu.REVENUE_QUANTITY]=this.quantity,t[Bu.REVENUE_PRICE]=this.price,t[Bu.REVENUE_TYPE]=this.revenueType,t[Bu.REVENUE]=this.revenue,t},e}(),rK=function(e,t){var i=Math.max(t,1);return e.reduce(function(s,p,E){var n=Math.floor(E/i);return s[n]||(s[n]=[]),s[n].push(p),s},[])},m0="Amplitude Logger ",_4=function(){function e(){this.logLevel=As.None}return e.prototype.disable=function(){this.logLevel=As.None},e.prototype.enable=function(t){t===void 0&&(t=As.Warn),this.logLevel=t},e.prototype.log=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];this.logLevel<As.Verbose||console.log("".concat(m0,"[Log]: ").concat(t.join(" ")))},e.prototype.warn=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];this.logLevel<As.Warn||console.warn("".concat(m0,"[Warn]: ").concat(t.join(" ")))},e.prototype.error=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];this.logLevel<As.Error||console.error("".concat(m0,"[Error]: ").concat(t.join(" ")))},e.prototype.debug=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];this.logLevel<As.Debug||console.log("".concat(m0,"[Debug]: ").concat(t.join(" ")))},e}(),ky=function(){return{flushMaxRetries:12,flushQueueSize:200,flushIntervalMillis:1e4,instanceName:"$default_instance",logLevel:As.Warn,loggerProvider:new _4,offline:!1,optOut:!1,serverUrl:j4,serverZone:"US",useBatch:!1}},nK=function(){function e(t){var i,s,p,E;this._optOut=!1;var n=ky();this.apiKey=t.apiKey,this.flushIntervalMillis=(i=t.flushIntervalMillis)!==null&&i!==void 0?i:n.flushIntervalMillis,this.flushMaxRetries=t.flushMaxRetries||n.flushMaxRetries,this.flushQueueSize=t.flushQueueSize||n.flushQueueSize,this.instanceName=t.instanceName||n.instanceName,this.loggerProvider=t.loggerProvider||n.loggerProvider,this.logLevel=(s=t.logLevel)!==null&&s!==void 0?s:n.logLevel,this.minIdLength=t.minIdLength,this.plan=t.plan,this.ingestionMetadata=t.ingestionMetadata,this.offline=t.offline!==void 0?t.offline:n.offline,this.optOut=(p=t.optOut)!==null&&p!==void 0?p:n.optOut,this.serverUrl=t.serverUrl,this.serverZone=t.serverZone||n.serverZone,this.storageProvider=t.storageProvider,this.transportProvider=t.transportProvider,this.useBatch=(E=t.useBatch)!==null&&E!==void 0?E:n.useBatch,this.loggerProvider.enable(this.logLevel);var T=t5(t.serverUrl,t.serverZone,t.useBatch);this.serverZone=T.serverZone,this.serverUrl=T.serverUrl}return Object.defineProperty(e.prototype,"optOut",{get:function(){return this._optOut},set:function(t){this._optOut=t},enumerable:!1,configurable:!0}),e}(),sK=function(e,t){return e==="EU"?t?J$:K$:t?Z$:j4},t5=function(e,t,i){if(e===void 0&&(e=""),t===void 0&&(t=ky().serverZone),i===void 0&&(i=ky().useBatch),e)return{serverUrl:e,serverZone:void 0};var s=["US","EU"].includes(t)?t:ky().serverZone;return{serverZone:s,serverUrl:sK(s,i)}},e5=function(){function e(){this.sdk={metrics:{histogram:{}}}}return e.prototype.recordHistogram=function(t,i){this.sdk.metrics.histogram[t]=i},e}();function aK(e){return e instanceof Error?e.message:String(e)}function y0(e){var t="";try{"body"in e&&(t=JSON.stringify(e.body,null,2))}catch{}return t}var oK=function(){function e(){this.name="amplitude",this.type="destination",this.retryTimeout=1e3,this.throttleTimeout=3e4,this.storageKey="",this.scheduled=null,this.queue=[]}return e.prototype.setup=function(t){var i;return ne(this,void 0,void 0,function(){var s,p=this;return qt(this,function(E){switch(E.label){case 0:return this.config=t,this.storageKey="".concat($$,"_").concat(this.config.apiKey.substring(0,10)),[4,(i=this.config.storageProvider)===null||i===void 0?void 0:i.get(this.storageKey)];case 1:return s=E.sent(),s&&s.length>0&&Promise.all(s.map(function(n){return p.execute(n)})).catch(),[2,Promise.resolve(void 0)]}})})},e.prototype.execute=function(t){var i=this;return t.insert_id||(t.insert_id=Jd()),new Promise(function(s){var p={event:t,attempts:0,callback:function(E){return s(E)},timeout:0};i.addToQueue(p)})},e.prototype.getTryableList=function(t){var i=this;return t.filter(function(s){return s.attempts<i.config.flushMaxRetries?(s.attempts+=1,!0):(i.fulfillRequest([s],500,G$),!1)})},e.prototype.scheduleTryable=function(t,i){var s=this;i===void 0&&(i=!1),t.forEach(function(p){if(i&&(s.queue=s.queue.concat(p)),p.timeout===0){s.schedule(s.config.flushIntervalMillis);return}setTimeout(function(){p.timeout=0,s.schedule(0)},p.timeout)})},e.prototype.addToQueue=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var s=this.getTryableList(t);this.scheduleTryable(s,!0),this.saveEvents()},e.prototype.schedule=function(t){var i=this;this.scheduled||this.config.offline||(this.scheduled=setTimeout(function(){i.flush(!0).then(function(){i.queue.length>0&&i.schedule(t)})},t))},e.prototype.flush=function(t){return t===void 0&&(t=!1),ne(this,void 0,void 0,function(){var i,s,p,E=this;return qt(this,function(n){switch(n.label){case 0:return this.config.offline?(this.config.loggerProvider.debug("Skipping flush while offline."),[2]):(i=[],s=[],this.queue.forEach(function(T){return T.timeout===0?i.push(T):s.push(T)}),this.scheduled&&(clearTimeout(this.scheduled),this.scheduled=null),p=rK(i,this.config.flushQueueSize),[4,p.reduce(function(T,r){return ne(E,void 0,void 0,function(){return qt(this,function(o){switch(o.label){case 0:return[4,T];case 1:return o.sent(),[4,this.send(r,t)];case 2:return[2,o.sent()]}})})},Promise.resolve())]);case 1:return n.sent(),this.scheduleTryable(s),[2]}})})},e.prototype.send=function(t,i){return i===void 0&&(i=!0),ne(this,void 0,void 0,function(){var s,p,E,n,T;return qt(this,function(r){switch(r.label){case 0:if(!this.config.apiKey)return[2,this.fulfillRequest(t,400,N$)];s={api_key:this.config.apiKey,events:t.map(function(o){var x=o.event;x.extra;var d=LP(x,["extra"]);return d}),options:{min_id_length:this.config.minIdLength},client_upload_time:new Date().toISOString(),request_metadata:this.config.requestMetadata},this.config.requestMetadata=new e5,r.label=1;case 1:return r.trys.push([1,3,,4]),p=t5(this.config.serverUrl,this.config.serverZone,this.config.useBatch).serverUrl,[4,this.config.transportProvider.send(p,s)];case 2:return E=r.sent(),E===null?(this.fulfillRequest(t,0,B$),[2]):i?(this.handleResponse(E,t),[3,4]):("body"in E?this.fulfillRequest(t,E.statusCode,"".concat(E.status,": ").concat(y0(E))):this.fulfillRequest(t,E.statusCode,E.status),[2]);case 3:return n=r.sent(),T=aK(n),this.config.loggerProvider.error(T),this.handleResponse({status:hr.Failed,statusCode:0},t),[3,4];case 4:return[2]}})})},e.prototype.handleResponse=function(t,i){var s=t.status;switch(s){case hr.Success:{this.handleSuccessResponse(t,i);break}case hr.Invalid:{this.handleInvalidResponse(t,i);break}case hr.PayloadTooLarge:{this.handlePayloadTooLargeResponse(t,i);break}case hr.RateLimit:{this.handleRateLimitResponse(t,i);break}default:{this.config.loggerProvider.warn(`{code: 0, error: "Status '`.concat(s,"' provided for ").concat(i.length,' events"}')),this.handleOtherResponse(i);break}}},e.prototype.handleSuccessResponse=function(t,i){this.fulfillRequest(i,t.statusCode,I$)},e.prototype.handleInvalidResponse=function(t,i){var s=this;if(t.body.missingField||t.body.error.startsWith(U$)){this.fulfillRequest(i,t.statusCode,t.body.error);return}var p=qr(qr(qr(qr([],Mi(Object.values(t.body.eventsWithInvalidFields)),!1),Mi(Object.values(t.body.eventsWithMissingFields)),!1),Mi(Object.values(t.body.eventsWithInvalidIdLengths)),!1),Mi(t.body.silencedEvents),!1).flat(),E=new Set(p),n=i.filter(function(r,o){if(E.has(o)){s.fulfillRequest([r],t.statusCode,t.body.error);return}return!0});n.length>0&&this.config.loggerProvider.warn(y0(t));var T=this.getTryableList(n);this.scheduleTryable(T)},e.prototype.handlePayloadTooLargeResponse=function(t,i){if(i.length===1){this.fulfillRequest(i,t.statusCode,t.body.error);return}this.config.loggerProvider.warn(y0(t)),this.config.flushQueueSize/=2;var s=this.getTryableList(i);this.scheduleTryable(s)},e.prototype.handleRateLimitResponse=function(t,i){var s=this,p=Object.keys(t.body.exceededDailyQuotaUsers),E=Object.keys(t.body.exceededDailyQuotaDevices),n=t.body.throttledEvents,T=new Set(p),r=new Set(E),o=new Set(n),x=i.filter(function(h,l){if(h.event.user_id&&T.has(h.event.user_id)||h.event.device_id&&r.has(h.event.device_id)){s.fulfillRequest([h],t.statusCode,t.body.error);return}return o.has(l)&&(h.timeout=s.throttleTimeout),!0});x.length>0&&this.config.loggerProvider.warn(y0(t));var d=this.getTryableList(x);this.scheduleTryable(d)},e.prototype.handleOtherResponse=function(t){var i=this,s=t.map(function(E){return E.timeout=E.attempts*i.retryTimeout,E}),p=this.getTryableList(s);this.scheduleTryable(p)},e.prototype.fulfillRequest=function(t,i,s){this.removeEvents(t),t.forEach(function(p){return p.callback(kd(p.event,i,s))})},e.prototype.saveEvents=function(){if(this.config.storageProvider){var t=this.queue.map(function(i){return i.event});this.config.storageProvider.set(this.storageKey,t)}},e.prototype.removeEvents=function(t){this.queue=this.queue.filter(function(i){return!t.some(function(s){return s.event.insert_id===i.event.insert_id})}),this.saveEvents()},e}(),lK=function(e){var t=new Error().stack||"";return t.split(`
`).slice(2+e).map(function(i){return i.trim()})},Tr=function(e){return function(){var t=Te({},e.config),i=t.loggerProvider,s=t.logLevel;return{logger:i,logLevel:s}}},hK=function(e,t){var i,s;t=t.replace(/\[(\w+)\]/g,".$1"),t=t.replace(/^\./,"");try{for(var p=Pr(t.split(".")),E=p.next();!E.done;E=p.next()){var n=E.value;if(n in e)e=e[n];else return}}catch(T){i={error:T}}finally{try{E&&!E.done&&(s=p.return)&&s.call(p)}finally{if(i)throw i.error}}return e},Cr=function(e,t){return function(){var i,s,p={};try{for(var E=Pr(t),n=E.next();!n.done;n=E.next()){var T=n.value;p[T]=hK(e,T)}}catch(r){i={error:r}}finally{try{n&&!n.done&&(s=E.return)&&s.call(E)}finally{if(i)throw i.error}}return p}},Sr=function(e,t,i,s,p){return p===void 0&&(p=null),function(){for(var E=[],n=0;n<arguments.length;n++)E[n]=arguments[n];var T=i(),r=T.logger,o=T.logLevel;if(o&&o<As.Debug||!o||!r)return e.apply(p,E);var x={type:"invoke public method",name:t,args:E,stacktrace:lK(1),time:{start:new Date().toISOString()},states:{}};s&&x.states&&(x.states.before=s());var d=e.apply(p,E);return d&&d.promise?d.promise.then(function(){s&&x.states&&(x.states.after=s()),x.time&&(x.time.end=new Date().toISOString()),r.debug(JSON.stringify(x,null,2))}):(s&&x.states&&(x.states.after=s()),x.time&&(x.time.end=new Date().toISOString()),r.debug(JSON.stringify(x,null,2))),d}},uw=function(){function e(){this.memoryStorage=new Map}return e.prototype.isEnabled=function(){return ne(this,void 0,void 0,function(){return qt(this,function(t){return[2,!0]})})},e.prototype.get=function(t){return ne(this,void 0,void 0,function(){return qt(this,function(i){return[2,this.memoryStorage.get(t)]})})},e.prototype.getRaw=function(t){return ne(this,void 0,void 0,function(){var i;return qt(this,function(s){switch(s.label){case 0:return[4,this.get(t)];case 1:return i=s.sent(),[2,i?JSON.stringify(i):void 0]}})})},e.prototype.set=function(t,i){return ne(this,void 0,void 0,function(){return qt(this,function(s){return this.memoryStorage.set(t,i),[2]})})},e.prototype.remove=function(t){return ne(this,void 0,void 0,function(){return qt(this,function(i){return this.memoryStorage.delete(t),[2]})})},e.prototype.reset=function(){return ne(this,void 0,void 0,function(){return qt(this,function(t){return this.memoryStorage.clear(),[2]})})},e}(),yx=function(){function e(){}return e.prototype.send=function(t,i){return Promise.resolve(null)},e.prototype.buildResponse=function(t){var i,s,p,E,n,T,r,o,x,d,h,l,a,f,c,u,v,g,m,y,C,P;if(typeof t!="object")return null;var w=t.code||0,M=this.buildStatus(w);switch(M){case hr.Success:return{status:M,statusCode:w,body:{eventsIngested:(i=t.events_ingested)!==null&&i!==void 0?i:0,payloadSizeBytes:(s=t.payload_size_bytes)!==null&&s!==void 0?s:0,serverUploadTime:(p=t.server_upload_time)!==null&&p!==void 0?p:0}};case hr.Invalid:return{status:M,statusCode:w,body:{error:(E=t.error)!==null&&E!==void 0?E:"",missingField:(n=t.missing_field)!==null&&n!==void 0?n:"",eventsWithInvalidFields:(T=t.events_with_invalid_fields)!==null&&T!==void 0?T:{},eventsWithMissingFields:(r=t.events_with_missing_fields)!==null&&r!==void 0?r:{},eventsWithInvalidIdLengths:(o=t.events_with_invalid_id_lengths)!==null&&o!==void 0?o:{},epsThreshold:(x=t.eps_threshold)!==null&&x!==void 0?x:0,exceededDailyQuotaDevices:(d=t.exceeded_daily_quota_devices)!==null&&d!==void 0?d:{},silencedDevices:(h=t.silenced_devices)!==null&&h!==void 0?h:[],silencedEvents:(l=t.silenced_events)!==null&&l!==void 0?l:[],throttledDevices:(a=t.throttled_devices)!==null&&a!==void 0?a:{},throttledEvents:(f=t.throttled_events)!==null&&f!==void 0?f:[]}};case hr.PayloadTooLarge:return{status:M,statusCode:w,body:{error:(c=t.error)!==null&&c!==void 0?c:""}};case hr.RateLimit:return{status:M,statusCode:w,body:{error:(u=t.error)!==null&&u!==void 0?u:"",epsThreshold:(v=t.eps_threshold)!==null&&v!==void 0?v:0,throttledDevices:(g=t.throttled_devices)!==null&&g!==void 0?g:{},throttledUsers:(m=t.throttled_users)!==null&&m!==void 0?m:{},exceededDailyQuotaDevices:(y=t.exceeded_daily_quota_devices)!==null&&y!==void 0?y:{},exceededDailyQuotaUsers:(C=t.exceeded_daily_quota_users)!==null&&C!==void 0?C:{},throttledEvents:(P=t.throttled_events)!==null&&P!==void 0?P:[]}};case hr.Timeout:default:return{status:M,statusCode:w}}},e.prototype.buildStatus=function(t){return t>=200&&t<300?hr.Success:t===429?hr.RateLimit:t===413?hr.PayloadTooLarge:t===408?hr.Timeout:t>=400&&t<500?hr.Invalid:t>=500?hr.Failed:hr.Unknown},e}(),ka=function(){var e="ampIntegrationContext";if(typeof globalThis<"u"&&typeof globalThis[e]<"u")return globalThis[e];if(typeof globalThis<"u")return globalThis;if(typeof window<"u")return window;if(typeof self<"u")return self;if(typeof global<"u")return global},qy=function(){var e,t=ka();if(!(!((e=t==null?void 0:t.location)===null||e===void 0)&&e.search))return{};var i=t.location.search.substring(1).split("&").filter(Boolean),s=i.reduce(function(p,E){var n=E.split("=",2),T=kD(n[0]),r=kD(n[1]);return r&&(p[T]=r),p},{});return s},kD=function(e){e===void 0&&(e="");try{return decodeURIComponent(e)}catch{return""}},uK="utm_campaign",fK="utm_content",dK="utm_id",cK="utm_medium",vK="utm_source",pK="utm_term",ND="dclid",UD="fbclid",VD="gbraid",zD="gclid",WD="ko_click_id",YD="li_fat_id",XD="msclkid",HD="rtd_cid",$D="ttclid",KD="twclid",ZD="wbraid",xx={utm_campaign:void 0,utm_content:void 0,utm_id:void 0,utm_medium:void 0,utm_source:void 0,utm_term:void 0,referrer:void 0,referring_domain:void 0,dclid:void 0,gbraid:void 0,gclid:void 0,fbclid:void 0,ko_click_id:void 0,li_fat_id:void 0,msclkid:void 0,rtd_cid:void 0,ttclid:void 0,twclid:void 0,wbraid:void 0},i5=function(){function e(){}return e.prototype.parse=function(){return ne(this,void 0,void 0,function(){return qt(this,function(t){return[2,Te(Te(Te(Te({},xx),this.getUtmParam()),this.getReferrer()),this.getClickIds())]})})},e.prototype.getUtmParam=function(){var t=qy(),i=t[uK],s=t[fK],p=t[dK],E=t[cK],n=t[vK],T=t[pK];return{utm_campaign:i,utm_content:s,utm_id:p,utm_medium:E,utm_source:n,utm_term:T}},e.prototype.getReferrer=function(){var t,i,s={referrer:void 0,referring_domain:void 0};try{s.referrer=document.referrer||void 0,s.referring_domain=(i=(t=s.referrer)===null||t===void 0?void 0:t.split("/")[2])!==null&&i!==void 0?i:void 0}catch{}return s},e.prototype.getClickIds=function(){var t,i=qy();return t={},t[ND]=i[ND],t[UD]=i[UD],t[VD]=i[VD],t[zD]=i[zD],t[WD]=i[WD],t[YD]=i[YD],t[XD]=i[XD],t[HD]=i[HD],t[$D]=i[$D],t[KD]=i[KD],t[ZD]=i[ZD],t},e}(),r5=function(e,t,i){return t===void 0&&(t=""),i===void 0&&(i=10),[mx,t,e.substring(0,i)].filter(Boolean).join("_")},gK=function(e){return"".concat(mx.toLowerCase(),"_").concat(e.substring(0,6))},JD=function(e){var t=e.split(".");return t.length<=2?e:t.slice(t.length-2,t.length).join(".")},mK=function(e){return Object.values(e).every(function(t){return!t})},yK=function(e,t,i,s,p){p===void 0&&(p=!0),e.referrer;var E=e.referring_domain,n=LP(e,["referrer","referring_domain"]),T=t||{};T.referrer;var r=T.referring_domain,o=LP(T,["referrer","referring_domain"]);if(xK(i.excludeReferrers,e.referring_domain))return s.debug("This is not a new campaign because ".concat(e.referring_domain," is in the exclude referrer list.")),!1;if(!p&&mK(e)&&t)return s.debug("This is not a new campaign because this is a direct traffic in the same session."),!1;var x=JSON.stringify(n)!==JSON.stringify(o),d=JD(E||"")!==JD(r||""),h=!t||x||d;return h?s.debug("This is a new campaign. An $identify event will be sent."):s.debug("This is not a new campaign because it's the same as the previous one."),h},xK=function(e,t){return e===void 0&&(e=[]),t===void 0&&(t=""),e.some(function(i){return i instanceof RegExp?i.test(t):i===t})},TK=function(e,t){var i=Te(Te({},xx),e),s=Object.entries(i).reduce(function(p,E){var n,T=Mi(E,2),r=T[0],o=T[1];return p.setOnce("initial_".concat(r),(n=o??t.initialEmptyValue)!==null&&n!==void 0?n:"EMPTY"),o?p.set(r,o):p.unset(r)},new xp);return q4(s)},CK=function(e){var t=e;return t?(t.startsWith(".")&&(t=t.substring(1)),[new RegExp("".concat(t.replace(".","\\."),"$"))]):[]},SK=function(e,t,i){return i===void 0&&(i=10),[mx,t,e.substring(0,i)].filter(Boolean).join("_")},n5=function(e,t){t===void 0&&(t=Date.now());var i=Date.now(),s=i-t;return s>e},EK=function(){function e(t,i){var s;this.shouldTrackNewCampaign=!1,this.options=Te({initialEmptyValue:"EMPTY",resetSessionOnNewCampaign:!1,excludeReferrers:CK((s=i.cookieOptions)===null||s===void 0?void 0:s.domain)},t),this.storage=i.cookieStorage,this.storageKey=SK(i.apiKey,"MKTG"),this.currentCampaign=xx,this.sessionTimeout=i.sessionTimeout,this.lastEventTime=i.lastEventTime,this.logger=i.loggerProvider,i.loggerProvider.log("Installing web attribution tracking.")}return e.prototype.init=function(){return ne(this,void 0,void 0,function(){var t,i;return qt(this,function(s){switch(s.label){case 0:return[4,this.fetchCampaign()];case 1:return i=Mi.apply(void 0,[s.sent(),2]),this.currentCampaign=i[0],this.previousCampaign=i[1],t=this.lastEventTime?n5(this.sessionTimeout,this.lastEventTime):!0,yK(this.currentCampaign,this.previousCampaign,this.options,this.logger,t)?(this.shouldTrackNewCampaign=!0,[4,this.storage.set(this.storageKey,this.currentCampaign)]):[3,3];case 2:s.sent(),s.label=3;case 3:return[2]}})})},e.prototype.fetchCampaign=function(){return ne(this,void 0,void 0,function(){return qt(this,function(t){switch(t.label){case 0:return[4,Promise.all([new i5().parse(),this.storage.get(this.storageKey)])];case 1:return[2,t.sent()]}})})},e.prototype.generateCampaignEvent=function(t){this.shouldTrackNewCampaign=!1;var i=TK(this.currentCampaign,this.options);return t&&(i.event_id=t),i},e.prototype.shouldSetSessionIdOnNewCampaign=function(){return this.shouldTrackNewCampaign&&!!this.options.resetSessionOnNewCampaign},e}(),FP=function(){function e(t){this.options=Te({},t)}return e.prototype.isEnabled=function(){return ne(this,void 0,void 0,function(){var t,i,s;return qt(this,function(p){switch(p.label){case 0:if(!ka())return[2,!1];e.testValue=String(Date.now()),t=new e(this.options),i="AMP_TEST",p.label=1;case 1:return p.trys.push([1,4,5,7]),[4,t.set(i,e.testValue)];case 2:return p.sent(),[4,t.get(i)];case 3:return s=p.sent(),[2,s===e.testValue];case 4:return p.sent(),[2,!1];case 5:return[4,t.remove(i)];case 6:return p.sent(),[7];case 7:return[2]}})})},e.prototype.get=function(t){var i;return ne(this,void 0,void 0,function(){var s,p;return qt(this,function(E){switch(E.label){case 0:return[4,this.getRaw(t)];case 1:if(s=E.sent(),!s)return[2,void 0];try{return p=(i=bK(s))!==null&&i!==void 0?i:PK(s),p===void 0?(console.error("Amplitude Logger [Error]: Failed to decode cookie value for key: ".concat(t,", value: ").concat(s)),[2,void 0]):[2,JSON.parse(p)]}catch{return console.error("Amplitude Logger [Error]: Failed to parse cookie value for key: ".concat(t,", value: ").concat(s)),[2,void 0]}return[2]}})})},e.prototype.getRaw=function(t){var i,s;return ne(this,void 0,void 0,function(){var p,E,n;return qt(this,function(T){return p=ka(),E=(s=(i=p==null?void 0:p.document)===null||i===void 0?void 0:i.cookie.split("; "))!==null&&s!==void 0?s:[],n=E.find(function(r){return r.indexOf(t+"=")===0}),n?[2,n.substring(t.length+1)]:[2,void 0]})})},e.prototype.set=function(t,i){var s;return ne(this,void 0,void 0,function(){var p,E,n,T,r,o,x;return qt(this,function(d){try{p=(s=this.options.expirationDays)!==null&&s!==void 0?s:0,E=i!==null?p:-1,n=void 0,E&&(T=new Date,T.setTime(T.getTime()+E*24*60*60*1e3),n=T),r="".concat(t,"=").concat(btoa(encodeURIComponent(JSON.stringify(i)))),n&&(r+="; expires=".concat(n.toUTCString())),r+="; path=/",this.options.domain&&(r+="; domain=".concat(this.options.domain)),this.options.secure&&(r+="; Secure"),this.options.sameSite&&(r+="; SameSite=".concat(this.options.sameSite)),o=ka(),o&&(o.document.cookie=r)}catch(h){x=h instanceof Error?h.message:String(h),console.error("Amplitude Logger [Error]: Failed to set cookie for key: ".concat(t,". Error: ").concat(x))}return[2]})})},e.prototype.remove=function(t){return ne(this,void 0,void 0,function(){return qt(this,function(i){switch(i.label){case 0:return[4,this.set(t,null)];case 1:return i.sent(),[2]}})})},e.prototype.reset=function(){return ne(this,void 0,void 0,function(){return qt(this,function(t){return[2]})})},e}(),bK=function(e){try{return decodeURIComponent(atob(e))}catch{return}},PK=function(e){try{return decodeURIComponent(atob(decodeURIComponent(e)))}catch{return}},wK=function(e){Fs(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.send=function(i,s){return ne(this,void 0,void 0,function(){var p,E,n;return qt(this,function(T){switch(T.label){case 0:if(typeof fetch>"u")throw new Error("FetchTransport is not supported");return p={headers:{"Content-Type":"application/json",Accept:"*/*"},body:JSON.stringify(s),method:"POST"},[4,fetch(i,p)];case 1:return E=T.sent(),[4,E.text()];case 2:n=T.sent();try{return[2,this.buildResponse(JSON.parse(n))]}catch{return[2,this.buildResponse({code:E.status})]}return[2]}})})},t}(yx),MK=function(){function e(){}return e.prototype.getApplicationContext=function(){return{versionName:this.versionName,language:RK(),platform:"Web",os:void 0,deviceModel:void 0}},e}(),RK=function(){return typeof navigator<"u"&&(navigator.languages&&navigator.languages[0]||navigator.language)||""},AK=function(){function e(){this.queue=[]}return e.prototype.logEvent=function(t){this.receiver?this.receiver(t):this.queue.length<512&&this.queue.push(t)},e.prototype.setEventReceiver=function(t){this.receiver=t,this.queue.length>0&&(this.queue.forEach(function(i){t(i)}),this.queue=[])},e}(),dh=function(){return dh=Object.assign||function(t){for(var i,s=1,p=arguments.length;s<p;s++){i=arguments[s];for(var E in i)Object.prototype.hasOwnProperty.call(i,E)&&(t[E]=i[E])}return t},dh.apply(this,arguments)};function Ny(e){var t=typeof Symbol=="function"&&Symbol.iterator,i=t&&e[t],s=0;if(i)return i.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&s>=e.length&&(e=void 0),{value:e&&e[s++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function jD(e,t){var i=typeof Symbol=="function"&&e[Symbol.iterator];if(!i)return e;var s=i.call(e),p,E=[],n;try{for(;(t===void 0||t-- >0)&&!(p=s.next()).done;)E.push(p.value)}catch(T){n={error:T}}finally{try{p&&!p.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return E}var Uy=function(e,t){var i,s,p=["string","number","boolean","undefined"],E=typeof e,n=typeof t;if(E!==n)return!1;try{for(var T=Ny(p),r=T.next();!r.done;r=T.next()){var o=r.value;if(o===E)return e===t}}catch(c){i={error:c}}finally{try{r&&!r.done&&(s=T.return)&&s.call(T)}finally{if(i)throw i.error}}if(e==null&&t==null)return!0;if(e==null||t==null||e.length!==t.length)return!1;var x=Array.isArray(e),d=Array.isArray(t);if(x!==d)return!1;if(x&&d){for(var h=0;h<e.length;h++)if(!Uy(e[h],t[h]))return!1}else{var l=Object.keys(e).sort(),a=Object.keys(t).sort();if(!Uy(l,a))return!1;var f=!0;return Object.keys(e).forEach(function(c){Uy(e[c],t[c])||(f=!1)}),f}return!0},OK="$set",LK="$unset",DK="$clearAll";Object.entries||(Object.entries=function(e){for(var t=Object.keys(e),i=t.length,s=new Array(i);i--;)s[i]=[t[i],e[t[i]]];return s});var FK=function(){function e(){this.identity={userProperties:{}},this.listeners=new Set}return e.prototype.editIdentity=function(){var t=this,i=dh({},this.identity.userProperties),s=dh(dh({},this.identity),{userProperties:i});return{setUserId:function(p){return s.userId=p,this},setDeviceId:function(p){return s.deviceId=p,this},setUserProperties:function(p){return s.userProperties=p,this},setOptOut:function(p){return s.optOut=p,this},updateUserProperties:function(p){var E,n,T,r,o,x,d=s.userProperties||{};try{for(var h=Ny(Object.entries(p)),l=h.next();!l.done;l=h.next()){var a=jD(l.value,2),f=a[0],c=a[1];switch(f){case OK:try{for(var u=(T=void 0,Ny(Object.entries(c))),v=u.next();!v.done;v=u.next()){var g=jD(v.value,2),m=g[0],y=g[1];d[m]=y}}catch(w){T={error:w}}finally{try{v&&!v.done&&(r=u.return)&&r.call(u)}finally{if(T)throw T.error}}break;case LK:try{for(var C=(o=void 0,Ny(Object.keys(c))),P=C.next();!P.done;P=C.next()){var m=P.value;delete d[m]}}catch(w){o={error:w}}finally{try{P&&!P.done&&(x=C.return)&&x.call(C)}finally{if(o)throw o.error}}break;case DK:d={};break}}}catch(w){E={error:w}}finally{try{l&&!l.done&&(n=h.return)&&n.call(h)}finally{if(E)throw E.error}}return s.userProperties=d,this},commit:function(){return t.setIdentity(s),this}}},e.prototype.getIdentity=function(){return dh({},this.identity)},e.prototype.setIdentity=function(t){var i=dh({},this.identity);this.identity=dh({},t),Uy(i,this.identity)||this.listeners.forEach(function(s){s(t)})},e.prototype.addIdentityListener=function(t){this.listeners.add(t)},e.prototype.removeIdentityListener=function(t){this.listeners.delete(t)},e}(),Gv=typeof globalThis<"u"?globalThis:typeof global<"u"?global:self,IK=function(){function e(){this.identityStore=new FK,this.eventBridge=new AK,this.applicationContextProvider=new MK}return e.getInstance=function(t){return Gv.analyticsConnectorInstances||(Gv.analyticsConnectorInstances={}),Gv.analyticsConnectorInstances[t]||(Gv.analyticsConnectorInstances[t]=new e),Gv.analyticsConnectorInstances[t]},e}(),Tp=function(e){return e===void 0&&(e="$default_instance"),IK.getInstance(e)},BK=function(e,t){Tp(t).identityStore.editIdentity().setUserId(e).commit()},GK=function(e,t){Tp(t).identityStore.editIdentity().setDeviceId(e).commit()},kK=function(){function e(){this.name="identity",this.type="before",this.identityStore=Tp().identityStore}return e.prototype.execute=function(t){return ne(this,void 0,void 0,function(){var i;return qt(this,function(s){return i=t.user_properties,i&&this.identityStore.editIdentity().updateUserProperties(i).commit(),[2,t]})})},e.prototype.setup=function(t){return ne(this,void 0,void 0,function(){return qt(this,function(i){return t.instanceName&&(this.identityStore=Tp(t.instanceName).identityStore),[2]})})},e}(),NK=function(){var e,t,i,s;if(typeof navigator>"u")return"";var p=navigator.userLanguage;return(s=(i=(t=(e=navigator.languages)===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:navigator.language)!==null&&i!==void 0?i:p)!==null&&s!==void 0?s:""},Dp=function(e,t){return typeof e=="boolean"?e:(e==null?void 0:e[t])!==!1},s5=function(e){return Dp(e,"attribution")},UK=function(e){return Dp(e,"fileDownloads")},VK=function(e){return Dp(e,"formInteractions")},a5=function(e){return Dp(e,"pageViews")},QD=function(e){return Dp(e,"sessions")},o5=function(e){return typeof e=="boolean"?e:typeof e=="object"&&(e.elementInteractions===!0||typeof e.elementInteractions=="object")},zK=function(e){if(o5(e.autocapture)&&typeof e.autocapture=="object"&&typeof e.autocapture.elementInteractions=="object")return e.autocapture.elementInteractions},WK=function(e){var t=function(){return!1},i=void 0,s,p=e.pageCounter,E=a5(e.defaultTracking);return E&&(t=void 0,s=void 0,e.defaultTracking&&typeof e.defaultTracking=="object"&&e.defaultTracking.pageViews&&typeof e.defaultTracking.pageViews=="object"&&("trackOn"in e.defaultTracking.pageViews&&(t=e.defaultTracking.pageViews.trackOn),"trackHistoryChanges"in e.defaultTracking.pageViews&&(i=e.defaultTracking.pageViews.trackHistoryChanges),"eventType"in e.defaultTracking.pageViews&&e.defaultTracking.pageViews.eventType&&(s=e.defaultTracking.pageViews.eventType))),{trackOn:t,trackHistoryChanges:i,eventType:s,pageCounter:p}},YK=function(e){return s5(e.defaultTracking)&&e.defaultTracking&&typeof e.defaultTracking=="object"&&e.defaultTracking.attribution&&typeof e.defaultTracking.attribution=="object"?Te({},e.defaultTracking.attribution):{}},DE=function(e,t){for(var i=0;i<t.length;i++){var s=t[i],p=s.name,E=s.args,n=s.resolve,T=e&&e[p];if(typeof T=="function"){var r=T.apply(e,E);typeof n=="function"&&n(r==null?void 0:r.promise)}}return e},FE=function(e){var t=e;return t&&t._q!==void 0},XK="2.11.12",HK="amplitude-ts",$K="Web",KK="$remote",ZK=function(){function e(){this.name="@amplitude/plugin-context-browser",this.type="before",this.library="".concat(HK,"/").concat(XK),typeof navigator<"u"&&(this.userAgent=navigator.userAgent)}return e.prototype.setup=function(t){return this.config=t,Promise.resolve(void 0)},e.prototype.execute=function(t){var i,s;return ne(this,void 0,void 0,function(){var p,E,n,T;return qt(this,function(r){return p=new Date().getTime(),E=(i=this.config.lastEventId)!==null&&i!==void 0?i:-1,n=(s=t.event_id)!==null&&s!==void 0?s:E+1,this.config.lastEventId=n,t.time||(this.config.lastEventTime=p),T=Te(Te(Te(Te(Te(Te(Te(Te({user_id:this.config.userId,device_id:this.config.deviceId,session_id:this.config.sessionId,time:p},this.config.appVersion&&{app_version:this.config.appVersion}),this.config.trackingOptions.platform&&{platform:$K}),this.config.trackingOptions.language&&{language:NK()}),this.config.trackingOptions.ipAddress&&{ip:KK}),{insert_id:Jd(),partner_id:this.config.partnerId,plan:this.config.plan}),this.config.ingestionMetadata&&{ingestion_metadata:{source_name:this.config.ingestionMetadata.sourceName,source_version:this.config.ingestionMetadata.sourceVersion}}),t),{event_id:n,library:this.library,user_agent:this.userAgent}),[2,T]})})},e}(),l5=function(){function e(t){this.storage=t}return e.prototype.isEnabled=function(){return ne(this,void 0,void 0,function(){var t,i,s,p;return qt(this,function(E){switch(E.label){case 0:if(!this.storage)return[2,!1];t=String(Date.now()),i=new e(this.storage),s="AMP_TEST",E.label=1;case 1:return E.trys.push([1,4,5,7]),[4,i.set(s,t)];case 2:return E.sent(),[4,i.get(s)];case 3:return p=E.sent(),[2,p===t];case 4:return E.sent(),[2,!1];case 5:return[4,i.remove(s)];case 6:return E.sent(),[7];case 7:return[2]}})})},e.prototype.get=function(t){return ne(this,void 0,void 0,function(){var i;return qt(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,this.getRaw(t)];case 1:return i=s.sent(),i?[2,JSON.parse(i)]:[2,void 0];case 2:return s.sent(),console.error("[Amplitude] Error: Could not get value from storage"),[2,void 0];case 3:return[2]}})})},e.prototype.getRaw=function(t){var i;return ne(this,void 0,void 0,function(){return qt(this,function(s){return[2,((i=this.storage)===null||i===void 0?void 0:i.getItem(t))||void 0]})})},e.prototype.set=function(t,i){var s;return ne(this,void 0,void 0,function(){return qt(this,function(p){try{(s=this.storage)===null||s===void 0||s.setItem(t,JSON.stringify(i))}catch{}return[2]})})},e.prototype.remove=function(t){var i;return ne(this,void 0,void 0,function(){return qt(this,function(s){try{(i=this.storage)===null||i===void 0||i.removeItem(t)}catch{}return[2]})})},e.prototype.reset=function(){var t;return ne(this,void 0,void 0,function(){return qt(this,function(i){try{(t=this.storage)===null||t===void 0||t.clear()}catch{}return[2]})})},e}(),x0=1e3,h5=function(e){Fs(t,e);function t(i){var s=this,p;return s=e.call(this,(p=ka())===null||p===void 0?void 0:p.localStorage)||this,s.loggerProvider=i==null?void 0:i.loggerProvider,s}return t.prototype.set=function(i,s){var p;return ne(this,void 0,void 0,function(){var E;return qt(this,function(n){switch(n.label){case 0:return Array.isArray(s)&&s.length>x0?(E=s.length-x0,[4,e.prototype.set.call(this,i,s.slice(0,x0))]):[3,2];case 1:return n.sent(),(p=this.loggerProvider)===null||p===void 0||p.error("Failed to save ".concat(E," events because the queue length exceeded ").concat(x0,".")),[3,4];case 2:return[4,e.prototype.set.call(this,i,s)];case 3:n.sent(),n.label=4;case 4:return[2]}})})},t}(l5),JK=function(e){Fs(t,e);function t(){var i;return e.call(this,(i=ka())===null||i===void 0?void 0:i.sessionStorage)||this}return t}(l5),jK=function(e){Fs(t,e);function t(){var i=e!==null&&e.apply(this,arguments)||this;return i.state={done:4},i}return t.prototype.send=function(i,s){return ne(this,void 0,void 0,function(){var p=this;return qt(this,function(E){return[2,new Promise(function(n,T){typeof XMLHttpRequest>"u"&&T(new Error("XHRTransport is not supported."));var r=new XMLHttpRequest;r.open("POST",i,!0),r.onreadystatechange=function(){if(r.readyState===p.state.done){var o=r.responseText;try{n(p.buildResponse(JSON.parse(o)))}catch{n(p.buildResponse({code:r.status}))}}},r.setRequestHeader("Content-Type","application/json"),r.setRequestHeader("Accept","*/*"),r.send(JSON.stringify(s))})]})})},t}(yx),QK=function(e){Fs(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.send=function(i,s){return ne(this,void 0,void 0,function(){var p=this;return qt(this,function(E){return[2,new Promise(function(n,T){var r=ka();if(!(r!=null&&r.navigator.sendBeacon))throw new Error("SendBeaconTransport is not supported");try{var o=JSON.stringify(s),x=r.navigator.sendBeacon(i,JSON.stringify(s));return n(x?p.buildResponse({code:200,events_ingested:s.events.length,payload_size_bytes:o.length,server_upload_time:Date.now()}):p.buildResponse({code:500}))}catch(d){T(d)}})]})})},t}(yx),qK=function(e,t,i){return i===void 0&&(i=!0),ne(void 0,void 0,void 0,function(){var s,p,E,n,T,r,o,x,d;return qt(this,function(h){switch(h.label){case 0:return s=gK(e),[4,t.getRaw(s)];case 1:return p=h.sent(),p?i?[4,t.remove(s)]:[3,3]:[2,{optOut:!1}];case 2:h.sent(),h.label=3;case 3:return E=Mi(p.split("."),6),n=E[0],T=E[1],r=E[2],o=E[3],x=E[4],d=E[5],[2,{deviceId:n,userId:_K(T),sessionId:IE(o),lastEventId:IE(d),lastEventTime:IE(x),optOut:!!r}]}})})},IE=function(e){var t=parseInt(e,32);if(!isNaN(t))return t},_K=function(e){if(!(!atob||!escape||!e))try{return decodeURIComponent(escape(atob(e)))}catch{return}},Wa="[Amplitude]",qD="".concat(Wa," Form Started"),tZ="".concat(Wa," Form Submitted"),eZ="".concat(Wa," File Downloaded"),_D="session_start",tF="session_end",iZ="".concat(Wa," File Extension"),rZ="".concat(Wa," File Name"),nZ="".concat(Wa," Link ID"),sZ="".concat(Wa," Link Text"),aZ="".concat(Wa," Link URL"),BE="".concat(Wa," Form ID"),GE="".concat(Wa," Form Name"),kE="".concat(Wa," Form Destination"),_y="cookie",oZ="US",lZ=function(e){Fs(t,e);function t(i,s,p,E,n,T,r,o,x,d,h,l,a,f,c,u,v,g,m,y,C,P,w,M,R,A,L,F,G,I,B,k,U,H){p===void 0&&(p=new uw),E===void 0&&(E={domain:"",expiration:365,sameSite:"Lax",secure:!1,upgrade:!0}),o===void 0&&(o=1e3),x===void 0&&(x=5),d===void 0&&(d=30),h===void 0&&(h=_y),u===void 0&&(u=new _4),v===void 0&&(v=As.Warn),m===void 0&&(m=!1),y===void 0&&(y=!1),w===void 0&&(w=""),M===void 0&&(M=oZ),A===void 0&&(A=30*60*1e3),L===void 0&&(L=new h5({loggerProvider:u})),F===void 0&&(F={ipAddress:!0,language:!0,platform:!0}),G===void 0&&(G="fetch"),I===void 0&&(I=!1),B===void 0&&(B=!1);var X=e.call(this,{apiKey:i,storageProvider:L,transportProvider:u5(G)})||this;return X.apiKey=i,X.appVersion=s,X.cookieOptions=E,X.defaultTracking=n,X.autocapture=T,X.flushIntervalMillis=o,X.flushMaxRetries=x,X.flushQueueSize=d,X.identityStorage=h,X.ingestionMetadata=l,X.instanceName=a,X.loggerProvider=u,X.logLevel=v,X.minIdLength=g,X.offline=m,X.partnerId=C,X.plan=P,X.serverUrl=w,X.serverZone=M,X.sessionTimeout=A,X.storageProvider=L,X.trackingOptions=F,X.transport=G,X.useBatch=I,X.fetchRemoteConfig=B,X._optOut=!1,X._cookieStorage=p,X.deviceId=r,X.lastEventId=f,X.lastEventTime=c,X.optOut=y,X.sessionId=R,X.pageCounter=U,X.userId=k,X.debugLogsEnabled=H,X.loggerProvider.enable(H?As.Debug:X.logLevel),X}return Object.defineProperty(t.prototype,"cookieStorage",{get:function(){return this._cookieStorage},set:function(i){this._cookieStorage!==i&&(this._cookieStorage=i,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"deviceId",{get:function(){return this._deviceId},set:function(i){this._deviceId!==i&&(this._deviceId=i,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userId",{get:function(){return this._userId},set:function(i){this._userId!==i&&(this._userId=i,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sessionId",{get:function(){return this._sessionId},set:function(i){this._sessionId!==i&&(this._sessionId=i,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"optOut",{get:function(){return this._optOut},set:function(i){this._optOut!==i&&(this._optOut=i,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastEventTime",{get:function(){return this._lastEventTime},set:function(i){this._lastEventTime!==i&&(this._lastEventTime=i,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastEventId",{get:function(){return this._lastEventId},set:function(i){this._lastEventId!==i&&(this._lastEventId=i,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pageCounter",{get:function(){return this._pageCounter},set:function(i){this._pageCounter!==i&&(this._pageCounter=i,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"debugLogsEnabled",{set:function(i){this._debugLogsEnabled!==i&&(this._debugLogsEnabled=i,this.updateStorage())},enumerable:!1,configurable:!0}),t.prototype.updateStorage=function(){var i={deviceId:this._deviceId,userId:this._userId,sessionId:this._sessionId,optOut:this._optOut,lastEventTime:this._lastEventTime,lastEventId:this._lastEventId,pageCounter:this._pageCounter,debugLogsEnabled:this._debugLogsEnabled};this.cookieStorage.set(r5(this.apiKey),i)},t}(nK),hZ=function(e,t,i){return t===void 0&&(t={}),ne(void 0,void 0,void 0,function(){var s,p,E,n,T,r,o,x,d,h,l,a,f,c,u,v,g,m,y,C,P,w,M,R,A,L,F,G,I,B,k,U,H,X,j,J,Y,$,z,V,K,Q,_;return qt(this,function(tt){switch(tt.label){case 0:return s=t.identityStorage||_y,y={},s===_y?[3,1]:(E="",[3,5]);case 1:return(P=(C=t.cookieOptions)===null||C===void 0?void 0:C.domain)!==null&&P!==void 0?(n=P,[3,4]):[3,2];case 2:return[4,fZ()];case 3:n=tt.sent(),tt.label=4;case 4:E=n,tt.label=5;case 5:return p=Te.apply(void 0,[(y.domain=E,y.expiration=365,y.sameSite="Lax",y.secure=!1,y.upgrade=!0,y),t.cookieOptions]),T=uZ(t.identityStorage,p),[4,qK(e,T,(M=(w=t.cookieOptions)===null||w===void 0?void 0:w.upgrade)!==null&&M!==void 0?M:!0)];case 6:return r=tt.sent(),[4,T.get(r5(e))];case 7:return o=tt.sent(),x=qy(),d=(G=(F=(L=(A=(R=t.deviceId)!==null&&R!==void 0?R:x.ampDeviceId)!==null&&A!==void 0?A:x.deviceId)!==null&&L!==void 0?L:o==null?void 0:o.deviceId)!==null&&F!==void 0?F:r.deviceId)!==null&&G!==void 0?G:Jd(),h=(I=o==null?void 0:o.lastEventId)!==null&&I!==void 0?I:r.lastEventId,l=(B=o==null?void 0:o.lastEventTime)!==null&&B!==void 0?B:r.lastEventTime,a=(U=(k=t.optOut)!==null&&k!==void 0?k:o==null?void 0:o.optOut)!==null&&U!==void 0?U:r.optOut,f=(H=o==null?void 0:o.sessionId)!==null&&H!==void 0?H:r.sessionId,c=(j=(X=t.userId)!==null&&X!==void 0?X:o==null?void 0:o.userId)!==null&&j!==void 0?j:r.userId,i.previousSessionDeviceId=(J=o==null?void 0:o.deviceId)!==null&&J!==void 0?J:r.deviceId,i.previousSessionUserId=(Y=o==null?void 0:o.userId)!==null&&Y!==void 0?Y:r.userId,u={ipAddress:(z=($=t.trackingOptions)===null||$===void 0?void 0:$.ipAddress)!==null&&z!==void 0?z:!0,language:(K=(V=t.trackingOptions)===null||V===void 0?void 0:V.language)!==null&&K!==void 0?K:!0,platform:(_=(Q=t.trackingOptions)===null||Q===void 0?void 0:Q.platform)!==null&&_!==void 0?_:!0},v=o==null?void 0:o.pageCounter,g=o==null?void 0:o.debugLogsEnabled,t.autocapture!==void 0&&(t.defaultTracking=t.autocapture),m=new lZ(e,t.appVersion,T,p,t.defaultTracking,t.autocapture,d,t.flushIntervalMillis,t.flushMaxRetries,t.flushQueueSize,s,t.ingestionMetadata,t.instanceName,h,l,t.loggerProvider,t.logLevel,t.minIdLength,t.offline,a,t.partnerId,t.plan,t.serverUrl,t.serverZone,f,t.sessionTimeout,t.storageProvider,u,t.transport,t.useBatch,t.fetchRemoteConfig,c,v,g),[4,m.storageProvider.isEnabled()];case 8:return tt.sent()||(m.loggerProvider.warn("Storage provider ".concat(m.storageProvider.constructor.name," is not enabled. Falling back to MemoryStorage.")),m.storageProvider=new uw),[2,m]}})})},uZ=function(e,t){switch(e===void 0&&(e=_y),t===void 0&&(t={}),e){case"localStorage":return new h5;case"sessionStorage":return new JK;case"none":return new uw;case"cookie":default:return new FP(Te(Te({},t),{expirationDays:t.expiration}))}},u5=function(e){return e==="xhr"?new jK:e==="beacon"?new QK:new wK},fZ=function(e){return ne(void 0,void 0,void 0,function(){var t,i,s,p,E,E,n,T,r,o;return qt(this,function(x){switch(x.label){case 0:return[4,new FP().isEnabled()];case 1:if(!x.sent()||typeof location>"u"||!location.hostname)return[2,""];for(t=location.hostname,i=t.split("."),s=[],p="AMP_TLDTEST",E=i.length-2;E>=0;--E)s.push(i.slice(E).join("."));E=0,x.label=2;case 2:return E<s.length?(n=s[E],T={domain:"."+n},r=new FP(T),[4,r.set(p,1)]):[3,7];case 3:return x.sent(),[4,r.get(p)];case 4:return o=x.sent(),o?[4,r.remove(p)]:[3,6];case 5:return x.sent(),[2,"."+n];case 6:return E++,[3,2];case 7:return[2,""]}})})},dZ=function(e){var t={};for(var i in e){var s=e[i];s&&(t[i]=s)}return t},cZ="[Amplitude] Page Viewed",vZ=function(e){e===void 0&&(e={});var t,i=ka(),s=void 0,p,E,n=e.trackOn,T=e.trackHistoryChanges,r=e.eventType,o=r===void 0?cZ:r,x=function(u){var v=u;try{v=decodeURI(u)}catch(g){s==null||s.error("Malformed URI sequence: ",g)}return v},d=function(){return ne(void 0,void 0,void 0,function(){var u,v,g;return qt(this,function(m){switch(m.label){case 0:return u=x(typeof location<"u"&&location.href||""),g={event_type:o},v=[{}],[4,pZ()];case 1:return[2,(g.event_properties=Te.apply(void 0,[Te.apply(void 0,v.concat([m.sent()])),{"[Amplitude] Page Domain":typeof location<"u"&&location.hostname||"","[Amplitude] Page Location":u,"[Amplitude] Page Path":typeof location<"u"&&x(location.pathname)||"","[Amplitude] Page Title":typeof document<"u"&&document.title||"","[Amplitude] Page URL":u.split("?")[0]}]),g)]}})})},h=function(){return typeof n>"u"||typeof n=="function"&&n()},l=typeof location<"u"?location.href:null,a=function(){return ne(void 0,void 0,void 0,function(){var u,v,g,m;return qt(this,function(y){switch(y.label){case 0:return u=location.href,v=mZ(T,u,l||"")&&h(),l=u,v?(s==null||s.log("Tracking page view event"),t!=null?[3,1]:[3,3]):[3,4];case 1:return m=(g=t).track,[4,d()];case 2:m.apply(g,[y.sent()]),y.label=3;case 3:y.label=4;case 4:return[2]}})})},f=function(){a()},c={name:"@amplitude/plugin-page-view-tracking-browser",type:"enrichment",setup:function(u,v){return ne(void 0,void 0,void 0,function(){var g,m;return qt(this,function(y){switch(y.label){case 0:return t=v,E=u,s=u.loggerProvider,s.log("Installing @amplitude/plugin-page-view-tracking-browser"),i&&(i.addEventListener("popstate",f),p=i.history.pushState,i.history.pushState=new Proxy(i.history.pushState,{apply:function(C,P,w){var M=Mi(w,3),R=M[0],A=M[1],L=M[2];C.apply(P,[R,A,L]),a()}})),h()?(s.log("Tracking page view event"),m=(g=t).track,[4,d()]):[3,2];case 1:m.apply(g,[y.sent()]),y.label=2;case 2:return[2]}})})},execute:function(u){return ne(void 0,void 0,void 0,function(){var v;return qt(this,function(g){switch(g.label){case 0:return n==="attribution"&&gZ(u)?(s==null||s.log("Enriching campaign event to page view event with campaign parameters"),[4,d()]):[3,2];case 1:v=g.sent(),u.event_type=v.event_type,u.event_properties=Te(Te({},u.event_properties),v.event_properties),g.label=2;case 2:return E&&u.event_type===o&&(E.pageCounter=E.pageCounter?E.pageCounter+1:1,u.event_properties=Te(Te({},u.event_properties),{"[Amplitude] Page Counter":E.pageCounter})),[2,u]}})})},teardown:function(){return ne(void 0,void 0,void 0,function(){return qt(this,function(u){return i&&(i.removeEventListener("popstate",f),p&&(i.history.pushState=p)),[2]})})}};return c},pZ=function(){return ne(void 0,void 0,void 0,function(){var e;return qt(this,function(t){switch(t.label){case 0:return e=dZ,[4,new i5().parse()];case 1:return[2,e.apply(void 0,[t.sent()])]}})})},gZ=function(e){if(e.event_type==="$identify"&&e.user_properties){var t=e.user_properties,i=t[Zr.SET]||{},s=t[Zr.UNSET]||{},p=qr(qr([],Mi(Object.keys(i)),!1),Mi(Object.keys(s)),!1);return Object.keys(xx).every(function(E){return p.includes(E)})}return!1},mZ=function(e,t,i){switch(e){case"pathOnly":{if(i=="")return!0;var s=new URL(t),p=new URL(i),E=s.origin+s.pathname,n=p.origin+p.pathname;return E!==n}default:return t!==i}},yZ=function(){var e,t=[],i=function(o,x,d){o.addEventListener(x,d),t.push({element:o,type:x,handler:d})},s=function(){t.forEach(function(o){var x=o.element,d=o.type,h=o.handler;x==null||x.removeEventListener(d,h)}),t=[]},p="@amplitude/plugin-form-interaction-tracking-browser",E="enrichment",n=function(o,x){return ne(void 0,void 0,void 0,function(){var d;return qt(this,function(h){return(d=ka())===null||d===void 0||d.addEventListener("load",function(){if(!x){o.loggerProvider.warn("Form interaction tracking requires a later version of @amplitude/analytics-browser. Form interaction events are not tracked.");return}if(!(typeof document>"u")){var l=function(f){var c=!1;i(f,"change",function(){var u,v=eF(f);c||x.track(qD,(u={},u[BE]=Qf(f.id),u[GE]=Qf(f.name),u[kE]=v,u)),c=!0}),i(f,"submit",function(){var u,v,g=eF(f);c||x.track(qD,(u={},u[BE]=Qf(f.id),u[GE]=Qf(f.name),u[kE]=g,u)),x.track(tZ,(v={},v[BE]=Qf(f.id),v[GE]=Qf(f.name),v[kE]=g,v)),c=!1})},a=Array.from(document.getElementsByTagName("form"));a.forEach(l),typeof MutationObserver<"u"&&(e=new MutationObserver(function(f){f.forEach(function(c){c.addedNodes.forEach(function(u){u.nodeName==="FORM"&&l(u),"querySelectorAll"in u&&typeof u.querySelectorAll=="function"&&Array.from(u.querySelectorAll("form")).map(l)})})}),e.observe(document.body,{subtree:!0,childList:!0}))}}),[2]})})},T=function(o){return ne(void 0,void 0,void 0,function(){return qt(this,function(x){return[2,o]})})},r=function(){return ne(void 0,void 0,void 0,function(){return qt(this,function(o){return e==null||e.disconnect(),s(),[2]})})};return{name:p,type:E,setup:n,execute:T,teardown:r}},Qf=function(e){if(typeof e=="string")return e},eF=function(e){var t=e.getAttribute("action");try{t=new URL(encodeURI(t??""),window.location.href).href}catch{}return t},xZ=function(){var e,t=[],i=function(o,x,d){o.addEventListener(x,d),t.push({element:o,type:x,handler:d})},s=function(){t.forEach(function(o){var x=o.element,d=o.type,h=o.handler;x==null||x.removeEventListener(d,h)}),t=[]},p="@amplitude/plugin-file-download-tracking-browser",E="enrichment",n=function(o,x){return ne(void 0,void 0,void 0,function(){var d;return qt(this,function(h){return(d=ka())===null||d===void 0||d.addEventListener("load",function(){if(!x){o.loggerProvider.warn("File download tracking requires a later version of @amplitude/analytics-browser. File download events are not tracked.");return}if(!(typeof document>"u")){var l=function(c){var u;try{u=new URL(c.href,window.location.href)}catch{return}var v=a.exec(u.href),g=v==null?void 0:v[1];g&&i(c,"click",function(){var m;g&&x.track(eZ,(m={},m[iZ]=g,m[rZ]=u.pathname,m[nZ]=c.id,m[sZ]=c.text,m[aZ]=c.href,m))})},a=/\.(pdf|xlsx?|docx?|txt|rtf|csv|exe|key|pp(s|t|tx)|7z|pkg|rar|gz|zip|avi|mov|mp4|mpe?g|wmv|midi?|mp3|wav|wma)(\?.+)?$/,f=Array.from(document.getElementsByTagName("a"));f.forEach(l),typeof MutationObserver<"u"&&(e=new MutationObserver(function(c){c.forEach(function(u){u.addedNodes.forEach(function(v){v.nodeName==="A"&&l(v),"querySelectorAll"in v&&typeof v.querySelectorAll=="function"&&Array.from(v.querySelectorAll("a")).map(l)})})}),e.observe(document.body,{subtree:!0,childList:!0}))}}),[2]})})},T=function(o){return ne(void 0,void 0,void 0,function(){return qt(this,function(x){return[2,o]})})},r=function(){return ne(void 0,void 0,void 0,function(){return qt(this,function(o){return e==null||e.disconnect(),s(),[2]})})};return{name:p,type:E,setup:n,execute:T,teardown:r}},iF=!1,TZ=function(e){if(!(iF||e.defaultTracking!==void 0)){var t=`\`options.defaultTracking\` is set to undefined. This implicitly configures your Amplitude instance to track Page Views, Sessions, File Downloads, and Form Interactions. You can suppress this warning by explicitly setting a value to \`options.defaultTracking\`. The value must either be a boolean, to enable and disable all default events, or an object, for advanced configuration. For example:

amplitude.init(<YOUR_API_KEY>, {
  defaultTracking: true,
});

Visit https://www.docs.developers.amplitude.com/data/sdks/browser-2/#tracking-default-events for more details.`;e.loggerProvider.warn(t),iF=!0}},CZ=function(){var e="@amplitude/plugin-network-checker-browser",t="before",i=ka(),s=[],p=function(r,o){i&&(i.addEventListener(r,o),s.push({type:r,handler:o}))},E=function(){s.forEach(function(r){var o=r.type,x=r.handler;i&&i.removeEventListener(o,x)}),s=[]},n=function(r,o){return ne(void 0,void 0,void 0,function(){return qt(this,function(x){return typeof navigator>"u"?(r.loggerProvider.debug("Network connectivity checker plugin is disabled because navigator is not available."),r.offline=!1,[2]):(r.offline=!navigator.onLine,p("online",function(){r.loggerProvider.debug("Network connectivity changed to online."),r.offline=!1,setTimeout(function(){o.flush()},r.flushIntervalMillis)}),p("offline",function(){r.loggerProvider.debug("Network connectivity changed to offline."),r.offline=!0}),[2])})})},T=function(){return ne(void 0,void 0,void 0,function(){return qt(this,function(r){return E(),[2]})})};return{name:e,type:t,setup:n,teardown:T}},SZ="Network error occurred, remote config fetch failed",EZ="Remote config successfully fetched",bZ="Remote config fetch rejected due to exceeded retry count",rF="Remote config fetch rejected due to timeout after 5 seconds",nF="Unexpected error occurred",PZ="https://sr-client-cfg.amplitude.com/config",wZ="https://sr-client-cfg.stag2.amplitude.com/config",MZ="https://sr-client-cfg.eu.amplitude.com/config",RZ=function(){function e(t){var i=t.localConfig,s=t.configKeys,p=this;this.retryTimeout=1e3,this.attempts=0,this.sessionTargetingMatch=!1,this.metrics={},this.getRemoteConfig=function(E,n,T){return ne(p,void 0,void 0,function(){var r,o,x;return qt(this,function(d){switch(d.label){case 0:return r=Date.now(),[4,this.fetchWithTimeout(T)];case 1:return o=d.sent(),o&&(x=o.configs&&o.configs[E],x)?(this.metrics.fetchTimeAPISuccess=Date.now()-r,[2,x[n]]):(this.metrics.fetchTimeAPIFail=Date.now()-r,[2,void 0])}})})},this.fetchWithTimeout=function(E){return ne(p,void 0,void 0,function(){var n,T,r;return qt(this,function(o){switch(o.label){case 0:return n=new AbortController,T=setTimeout(function(){return n.abort()},5e3),[4,this.fetchRemoteConfig(n.signal,E)];case 1:return r=o.sent(),clearTimeout(T),[2,r]}})})},this.fetchRemoteConfig=function(E,n){return ne(p,void 0,void 0,function(){var T,r,o,x,d,h,l,a,f,c,u,v,g;return qt(this,function(m){switch(m.label){case 0:if(n===this.lastFetchedSessionId&&this.attempts>=this.localConfig.flushMaxRetries)return[2,this.completeRequest({err:bZ})];if(E.aborted)return[2,this.completeRequest({err:rF})];n!==this.lastFetchedSessionId&&(this.lastFetchedSessionId=n,this.attempts=0),m.label=1;case 1:m.trys.push([1,3,,4]),T=new URLSearchParams({api_key:this.localConfig.apiKey});try{for(r=Pr(this.configKeys),o=r.next();!o.done;o=r.next())x=o.value,T.append("config_keys",x)}catch(y){u={error:y}}finally{try{o&&!o.done&&(v=r.return)&&v.call(r)}finally{if(u)throw u.error}}return n&&T.set("session_id",String(n)),d={headers:{Accept:"*/*"},method:"GET"},h="".concat(this.getServerUrl(),"?").concat(T.toString()),this.attempts+=1,[4,fetch(h,Te(Te({},d),{signal:E}))];case 2:if(l=m.sent(),l===null)return[2,this.completeRequest({err:nF})];switch(a=new yx().buildStatus(l.status),a){case hr.Success:return this.attempts=0,[2,this.parseAndStoreConfig(l)];case hr.Failed:return[2,this.retryFetch(E,n)];default:return[2,this.completeRequest({err:SZ})]}case 3:return f=m.sent(),c=f,E.aborted?[2,this.completeRequest({err:rF})]:[2,this.completeRequest({err:(g=c.message)!==null&&g!==void 0?g:nF})];case 4:return[2]}})})},this.retryFetch=function(E,n){return ne(p,void 0,void 0,function(){var T=this;return qt(this,function(r){switch(r.label){case 0:return[4,new Promise(function(o){return setTimeout(o,T.attempts*T.retryTimeout)})];case 1:return r.sent(),[2,this.fetchRemoteConfig(E,n)]}})})},this.parseAndStoreConfig=function(E){return ne(p,void 0,void 0,function(){var n;return qt(this,function(T){switch(T.label){case 0:return[4,E.json()];case 1:return n=T.sent(),this.completeRequest({success:EZ}),[2,n]}})})},this.localConfig=i,this.configKeys=s}return e.prototype.getServerUrl=function(){return this.localConfig.serverZone===Qy.STAGING?wZ:this.localConfig.serverZone===Qy.EU?MZ:PZ},e.prototype.completeRequest=function(t){var i=t.err,s=t.success;if(i)throw new Error(i);s&&this.localConfig.loggerProvider.log(s)},e}(),AZ=function(e){var t=e.localConfig,i=e.configKeys;return ne(void 0,void 0,void 0,function(){return qt(this,function(s){return[2,new RZ({localConfig:t,configKeys:i})]})})},OZ=AZ,LZ=function(){function e(t){this.config=t,this.config.loggerProvider.debug("Local configuration before merging with remote config",JSON.stringify(this.config,null,2))}return e.prototype.initialize=function(){return ne(this,void 0,void 0,function(){var t;return qt(this,function(i){switch(i.label){case 0:return t=this,[4,OZ({localConfig:this.config,configKeys:["analyticsSDK"]})];case 1:return t.remoteConfigFetch=i.sent(),[2]}})})},e.prototype.generateJoinedConfig=function(){var t,i,s,p;return ne(this,void 0,void 0,function(){var E,n,T;return qt(this,function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),n=this.remoteConfigFetch,n?[4,this.remoteConfigFetch.getRemoteConfig("analyticsSDK","browserSDK",this.config.sessionId)]:[3,2];case 1:n=r.sent(),r.label=2;case 2:return E=n,this.config.loggerProvider.debug("Remote configuration:",JSON.stringify(E,null,2)),E&&"autocapture"in E&&(typeof E.autocapture=="boolean"&&(this.config.autocapture=E.autocapture),typeof E.autocapture=="object"&&(this.config.autocapture===void 0&&(this.config.autocapture=E.autocapture),typeof this.config.autocapture=="boolean"&&(this.config.autocapture=Te({attribution:this.config.autocapture,fileDownloads:this.config.autocapture,formInteractions:this.config.autocapture,pageViews:this.config.autocapture,sessions:this.config.autocapture,elementInteractions:this.config.autocapture},E.autocapture)),typeof this.config.autocapture=="object"&&(this.config.autocapture=Te(Te({},this.config.autocapture),E.autocapture))),this.config.defaultTracking=this.config.autocapture),this.config.loggerProvider.debug("Joined configuration: ",JSON.stringify(this.config,null,2)),(t=(p=this.config).requestMetadata)!==null&&t!==void 0||(p.requestMetadata=new e5),!((i=this.remoteConfigFetch)===null||i===void 0)&&i.metrics.fetchTimeAPISuccess&&this.config.requestMetadata.recordHistogram("remote_config_fetch_time_API_success",this.remoteConfigFetch.metrics.fetchTimeAPISuccess),!((s=this.remoteConfigFetch)===null||s===void 0)&&s.metrics.fetchTimeAPIFail&&this.config.requestMetadata.recordHistogram("remote_config_fetch_time_API_fail",this.remoteConfigFetch.metrics.fetchTimeAPIFail),[3,4];case 3:return T=r.sent(),this.config.loggerProvider.error("Failed to fetch remote configuration because of error: ",T),[3,4];case 4:return[2,this.config]}})})},e}(),DZ=function(e){return ne(void 0,void 0,void 0,function(){var t;return qt(this,function(i){switch(i.label){case 0:return t=new LZ(e),[4,t.initialize()];case 1:return i.sent(),[2,t]}})})},FZ="@amplitude/plugin-autocapture-browser",IP="[Amplitude] Element Clicked",IZ="[Amplitude] Element Changed",BZ="[Amplitude] Element ID",GZ="[Amplitude] Element Class",f5="[Amplitude] Element Tag",d5="[Amplitude] Element Text",kZ="[Amplitude] Element Hierarchy",NZ="[Amplitude] Element Href",UZ="[Amplitude] Element Position Left",VZ="[Amplitude] Element Position Top",zZ="[Amplitude] Element Aria Label",WZ="[Amplitude] Element Attributes",c5="[Amplitude] Element Selector",YZ="[Amplitude] Element Parent Label",v5="[Amplitude] Page URL",XZ="[Amplitude] Page Title",HZ="[Amplitude] Viewport Height",$Z="[Amplitude] Viewport Width",Vy="https://app.amplitude.com",KZ="https://app.eu.amplitude.com",ZZ="https://apps.stag2.amplitude.com",JZ={US:Vy,EU:KZ,STAGING:ZZ},jZ="https://cdn.amplitude.com/libs/visual-tagging-selector-1.0.0-alpha.js.gz",BP="amp-visual-tagging-selector-highlight";function Yi(e){return typeof e=="function"}function p5(e){var t=function(s){Error.call(s),s.stack=new Error().stack},i=e(t);return i.prototype=Object.create(Error.prototype),i.prototype.constructor=i,i}var NE=p5(function(e){return function(i){e(this),this.message=i?i.length+` errors occurred during unsubscription:
`+i.map(function(s,p){return p+1+") "+s.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=i}});function GP(e,t){if(e){var i=e.indexOf(t);0<=i&&e.splice(i,1)}}var Tx=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,i,s,p,E;if(!this.closed){this.closed=!0;var n=this._parentage;if(n)if(this._parentage=null,Array.isArray(n))try{for(var T=Pr(n),r=T.next();!r.done;r=T.next()){var o=r.value;o.remove(this)}}catch(f){t={error:f}}finally{try{r&&!r.done&&(i=T.return)&&i.call(T)}finally{if(t)throw t.error}}else n.remove(this);var x=this.initialTeardown;if(Yi(x))try{x()}catch(f){E=f instanceof NE?f.errors:[f]}var d=this._finalizers;if(d){this._finalizers=null;try{for(var h=Pr(d),l=h.next();!l.done;l=h.next()){var a=l.value;try{sF(a)}catch(f){E=E??[],f instanceof NE?E=qr(qr([],Mi(E)),Mi(f.errors)):E.push(f)}}}catch(f){s={error:f}}finally{try{l&&!l.done&&(p=h.return)&&p.call(h)}finally{if(s)throw s.error}}}if(E)throw new NE(E)}},e.prototype.add=function(t){var i;if(t&&t!==this)if(this.closed)sF(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(i=this._finalizers)!==null&&i!==void 0?i:[]).push(t)}},e.prototype._hasParent=function(t){var i=this._parentage;return i===t||Array.isArray(i)&&i.includes(t)},e.prototype._addParent=function(t){var i=this._parentage;this._parentage=Array.isArray(i)?(i.push(t),i):i?[i,t]:t},e.prototype._removeParent=function(t){var i=this._parentage;i===t?this._parentage=null:Array.isArray(i)&&GP(i,t)},e.prototype.remove=function(t){var i=this._finalizers;i&&GP(i,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}();Tx.EMPTY;function g5(e){return e instanceof Tx||e&&"closed"in e&&Yi(e.remove)&&Yi(e.add)&&Yi(e.unsubscribe)}function sF(e){Yi(e)?e():e.unsubscribe()}var QZ={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},m5={setTimeout:function(e,t){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];return setTimeout.apply(void 0,qr([e,t],Mi(i)))},clearTimeout:function(e){var t=m5.delegate;return((t==null?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function y5(e){m5.setTimeout(function(){throw e})}function kP(){}function qZ(e){e()}var fw=function(e){Fs(t,e);function t(i){var s=e.call(this)||this;return s.isStopped=!1,i?(s.destination=i,g5(i)&&i.add(s)):s.destination=eJ,s}return t.create=function(i,s,p){return new NP(i,s,p)},t.prototype.next=function(i){this.isStopped||this._next(i)},t.prototype.error=function(i){this.isStopped||(this.isStopped=!0,this._error(i))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(i){this.destination.next(i)},t.prototype._error=function(i){try{this.destination.error(i)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(Tx),_Z=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var i=this.partialObserver;if(i.next)try{i.next(t)}catch(s){T0(s)}},e.prototype.error=function(t){var i=this.partialObserver;if(i.error)try{i.error(t)}catch(s){T0(s)}else T0(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(i){T0(i)}},e}(),NP=function(e){Fs(t,e);function t(i,s,p){var E=e.call(this)||this,n;return Yi(i)||!i?n={next:i??void 0,error:s??void 0,complete:p??void 0}:n=i,E.destination=new _Z(n),E}return t}(fw);function T0(e){y5(e)}function tJ(e){throw e}var eJ={closed:!0,next:kP,error:tJ,complete:kP},dw=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function x5(e){return e}function iJ(e){return e.length===0?x5:e.length===1?e[0]:function(i){return e.reduce(function(s,p){return p(s)},i)}}var Is=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var i=new e;return i.source=this,i.operator=t,i},e.prototype.subscribe=function(t,i,s){var p=this,E=nJ(t)?t:new NP(t,i,s);return qZ(function(){var n=p,T=n.operator,r=n.source;E.add(T?T.call(E,r):r?p._subscribe(E):p._trySubscribe(E))}),E},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(i){t.error(i)}},e.prototype.forEach=function(t,i){var s=this;return i=aF(i),new i(function(p,E){var n=new NP({next:function(T){try{t(T)}catch(r){E(r),n.unsubscribe()}},error:E,complete:p});s.subscribe(n)})},e.prototype._subscribe=function(t){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(t)},e.prototype[dw]=function(){return this},e.prototype.pipe=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return iJ(t)(this)},e.prototype.toPromise=function(t){var i=this;return t=aF(t),new t(function(s,p){var E;i.subscribe(function(n){return E=n},function(n){return p(n)},function(){return s(E)})})},e.create=function(t){return new e(t)},e}();function aF(e){var t;return(t=e??QZ.Promise)!==null&&t!==void 0?t:Promise}function rJ(e){return e&&Yi(e.next)&&Yi(e.error)&&Yi(e.complete)}function nJ(e){return e&&e instanceof fw||rJ(e)&&g5(e)}function sJ(e){return Yi(e==null?void 0:e.lift)}function Ya(e){return function(t){if(sJ(t))return t.lift(function(i){try{return e(i,this)}catch(s){this.error(s)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ls(e,t,i,s,p){return new aJ(e,t,i,s,p)}var aJ=function(e){Fs(t,e);function t(i,s,p,E,n,T){var r=e.call(this,i)||this;return r.onFinalize=n,r.shouldUnsubscribe=T,r._next=s?function(o){try{s(o)}catch(x){i.error(x)}}:e.prototype._next,r._error=E?function(o){try{E(o)}catch(x){i.error(x)}finally{this.unsubscribe()}}:e.prototype._error,r._complete=p?function(){try{p()}catch(o){i.error(o)}finally{this.unsubscribe()}}:e.prototype._complete,r}return t.prototype.unsubscribe=function(){var i;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var s=this.closed;e.prototype.unsubscribe.call(this),!s&&((i=this.onFinalize)===null||i===void 0||i.call(this))}},t}(fw),oJ={now:function(){return Date.now()},delegate:void 0},lJ=function(e){Fs(t,e);function t(i,s){return e.call(this)||this}return t.prototype.schedule=function(i,s){return this},t}(Tx),oF={setInterval:function(e,t){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];return setInterval.apply(void 0,qr([e,t],Mi(i)))},clearInterval:function(e){return clearInterval(e)},delegate:void 0},hJ=function(e){Fs(t,e);function t(i,s){var p=e.call(this,i,s)||this;return p.scheduler=i,p.work=s,p.pending=!1,p}return t.prototype.schedule=function(i,s){var p;if(s===void 0&&(s=0),this.closed)return this;this.state=i;var E=this.id,n=this.scheduler;return E!=null&&(this.id=this.recycleAsyncId(n,E,s)),this.pending=!0,this.delay=s,this.id=(p=this.id)!==null&&p!==void 0?p:this.requestAsyncId(n,this.id,s),this},t.prototype.requestAsyncId=function(i,s,p){return p===void 0&&(p=0),oF.setInterval(i.flush.bind(i,this),p)},t.prototype.recycleAsyncId=function(i,s,p){if(p===void 0&&(p=0),p!=null&&this.delay===p&&this.pending===!1)return s;s!=null&&oF.clearInterval(s)},t.prototype.execute=function(i,s){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var p=this._execute(i,s);if(p)return p;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(i,s){var p=!1,E;try{this.work(i)}catch(n){p=!0,E=n||new Error("Scheduled action threw falsy error")}if(p)return this.unsubscribe(),E},t.prototype.unsubscribe=function(){if(!this.closed){var i=this,s=i.id,p=i.scheduler,E=p.actions;this.work=this.state=this.scheduler=null,this.pending=!1,GP(E,this),s!=null&&(this.id=this.recycleAsyncId(p,s,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(lJ),lF=function(){function e(t,i){i===void 0&&(i=e.now),this.schedulerActionCtor=t,this.now=i}return e.prototype.schedule=function(t,i,s){return i===void 0&&(i=0),new this.schedulerActionCtor(this,t).schedule(s,i)},e.now=oJ.now,e}(),uJ=function(e){Fs(t,e);function t(i,s){s===void 0&&(s=lF.now);var p=e.call(this,i,s)||this;return p.actions=[],p._active=!1,p}return t.prototype.flush=function(i){var s=this.actions;if(this._active){s.push(i);return}var p;this._active=!0;do if(p=i.execute(i.state,i.delay))break;while(i=s.shift());if(this._active=!1,p){for(;i=s.shift();)i.unsubscribe();throw p}},t}(lF),Cx=new uJ(hJ),fJ=Cx,cw=new Is(function(e){return e.complete()});function T5(e){return e&&Yi(e.schedule)}function C5(e){return e[e.length-1]}function dJ(e){return T5(C5(e))?e.pop():void 0}function cJ(e,t){return typeof C5(e)=="number"?e.pop():t}var vw=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};function S5(e){return Yi(e==null?void 0:e.then)}function E5(e){return Yi(e[dw])}function b5(e){return Symbol.asyncIterator&&Yi(e==null?void 0:e[Symbol.asyncIterator])}function P5(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function vJ(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var w5=vJ();function M5(e){return Yi(e==null?void 0:e[w5])}function R5(e){return D$(this,arguments,function(){var i,s,p,E;return qt(this,function(n){switch(n.label){case 0:i=e.getReader(),n.label=1;case 1:n.trys.push([1,,9,10]),n.label=2;case 2:return[4,Gd(i.read())];case 3:return s=n.sent(),p=s.value,E=s.done,E?[4,Gd(void 0)]:[3,5];case 4:return[2,n.sent()];case 5:return[4,Gd(p)];case 6:return[4,n.sent()];case 7:return n.sent(),[3,2];case 8:return[3,10];case 9:return i.releaseLock(),[7];case 10:return[2]}})})}function A5(e){return Yi(e==null?void 0:e.getReader)}function Xa(e){if(e instanceof Is)return e;if(e!=null){if(E5(e))return pJ(e);if(vw(e))return gJ(e);if(S5(e))return mJ(e);if(b5(e))return O5(e);if(M5(e))return yJ(e);if(A5(e))return xJ(e)}throw P5(e)}function pJ(e){return new Is(function(t){var i=e[dw]();if(Yi(i.subscribe))return i.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function gJ(e){return new Is(function(t){for(var i=0;i<e.length&&!t.closed;i++)t.next(e[i]);t.complete()})}function mJ(e){return new Is(function(t){e.then(function(i){t.closed||(t.next(i),t.complete())},function(i){return t.error(i)}).then(null,y5)})}function yJ(e){return new Is(function(t){var i,s;try{for(var p=Pr(e),E=p.next();!E.done;E=p.next()){var n=E.value;if(t.next(n),t.closed)return}}catch(T){i={error:T}}finally{try{E&&!E.done&&(s=p.return)&&s.call(p)}finally{if(i)throw i.error}}t.complete()})}function O5(e){return new Is(function(t){TJ(e,t).catch(function(i){return t.error(i)})})}function xJ(e){return O5(R5(e))}function TJ(e,t){var i,s,p,E;return ne(this,void 0,void 0,function(){var n,T;return qt(this,function(r){switch(r.label){case 0:r.trys.push([0,5,6,11]),i=F$(e),r.label=1;case 1:return[4,i.next()];case 2:if(s=r.sent(),!!s.done)return[3,4];if(n=s.value,t.next(n),t.closed)return[2];r.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return T=r.sent(),p={error:T},[3,11];case 6:return r.trys.push([6,,9,10]),s&&!s.done&&(E=i.return)?[4,E.call(i)]:[3,8];case 7:r.sent(),r.label=8;case 8:return[3,10];case 9:if(p)throw p.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})}function Th(e,t,i,s,p){s===void 0&&(s=0),p===void 0&&(p=!1);var E=t.schedule(function(){i(),p?e.add(this.schedule(null,s)):this.unsubscribe()},s);if(e.add(E),!p)return E}function L5(e,t){return t===void 0&&(t=0),Ya(function(i,s){i.subscribe(Ls(s,function(p){return Th(s,e,function(){return s.next(p)},t)},function(){return Th(s,e,function(){return s.complete()},t)},function(p){return Th(s,e,function(){return s.error(p)},t)}))})}function D5(e,t){return t===void 0&&(t=0),Ya(function(i,s){s.add(e.schedule(function(){return i.subscribe(s)},t))})}function CJ(e,t){return Xa(e).pipe(D5(t),L5(t))}function SJ(e,t){return Xa(e).pipe(D5(t),L5(t))}function EJ(e,t){return new Is(function(i){var s=0;return t.schedule(function(){s===e.length?i.complete():(i.next(e[s++]),i.closed||this.schedule())})})}function bJ(e,t){return new Is(function(i){var s;return Th(i,t,function(){s=e[w5](),Th(i,t,function(){var p,E,n;try{p=s.next(),E=p.value,n=p.done}catch(T){i.error(T);return}n?i.complete():i.next(E)},0,!0)}),function(){return Yi(s==null?void 0:s.return)&&s.return()}})}function F5(e,t){if(!e)throw new Error("Iterable cannot be null");return new Is(function(i){Th(i,t,function(){var s=e[Symbol.asyncIterator]();Th(i,t,function(){s.next().then(function(p){p.done?i.complete():i.next(p.value)})},0,!0)})})}function PJ(e,t){return F5(R5(e),t)}function wJ(e,t){if(e!=null){if(E5(e))return CJ(e,t);if(vw(e))return EJ(e,t);if(S5(e))return SJ(e,t);if(b5(e))return F5(e,t);if(M5(e))return bJ(e,t);if(A5(e))return PJ(e,t)}throw P5(e)}function MJ(e,t){return t?wJ(e,t):Xa(e)}function I5(e){return e instanceof Date&&!isNaN(e)}var RJ=p5(function(e){return function(i){i===void 0&&(i=null),e(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=i}});function AJ(e,t){var i=I5(e)?{first:e}:typeof e=="number"?{each:e}:e,s=i.first,p=i.each,E=i.with,n=E===void 0?OJ:E,T=i.scheduler,r=T===void 0?Cx:T,o=i.meta,x=o===void 0?null:o;if(s==null&&p==null)throw new TypeError("No timeout provided.");return Ya(function(d,h){var l,a,f=null,c=0,u=function(v){a=Th(h,r,function(){try{l.unsubscribe(),Xa(n({meta:x,lastValue:f,seen:c})).subscribe(h)}catch(g){h.error(g)}},v)};l=d.subscribe(Ls(h,function(v){a==null||a.unsubscribe(),c++,h.next(f=v),p>0&&u(p)},void 0,void 0,function(){a!=null&&a.closed||a==null||a.unsubscribe(),f=null})),!c&&u(s!=null?typeof s=="number"?s:+s-r.now():p)})}function OJ(e){throw new RJ(e)}function To(e,t){return Ya(function(i,s){var p=0;i.subscribe(Ls(s,function(E){s.next(e.call(t,E,p++))}))})}var LJ=Array.isArray;function DJ(e,t){return LJ(t)?e.apply(void 0,qr([],Mi(t))):e(t)}function FJ(e){return To(function(t){return DJ(e,t)})}function IJ(e,t,i,s,p,E,n,T){var r=[],o=0,x=0,d=!1,h=function(){d&&!r.length&&!o&&t.complete()},l=function(f){return o<s?a(f):r.push(f)},a=function(f){o++;var c=!1;Xa(i(f,x++)).subscribe(Ls(t,function(u){t.next(u)},function(){c=!0},void 0,function(){if(c)try{o--;for(var u=function(){var v=r.shift();n||a(v)};r.length&&o<s;)u();h()}catch(v){t.error(v)}}))};return e.subscribe(Ls(t,l,function(){d=!0,h()})),function(){}}function Sx(e,t,i){return i===void 0&&(i=1/0),Yi(t)?Sx(function(s,p){return To(function(E,n){return t(s,E,p,n)})(Xa(e(s,p)))},i):(typeof t=="number"&&(i=t),Ya(function(s,p){return IJ(s,p,e,i)}))}function BJ(e){return e===void 0&&(e=1/0),Sx(x5,e)}var GJ=["addListener","removeListener"],kJ=["addEventListener","removeEventListener"],NJ=["on","off"];function pp(e,t,i,s){if(Yi(i)&&(s=i,i=void 0),s)return pp(e,t,i).pipe(FJ(s));var p=Mi(zJ(e)?kJ.map(function(T){return function(r){return e[T](t,r,i)}}):UJ(e)?GJ.map(hF(e,t)):VJ(e)?NJ.map(hF(e,t)):[],2),E=p[0],n=p[1];if(!E&&vw(e))return Sx(function(T){return pp(T,t,i)})(Xa(e));if(!E)throw new TypeError("Invalid event target");return new Is(function(T){var r=function(){for(var o=[],x=0;x<arguments.length;x++)o[x]=arguments[x];return T.next(1<o.length?o:o[0])};return E(r),function(){return n(r)}})}function hF(e,t){return function(i){return function(s){return e[i](t,s)}}}function UJ(e){return Yi(e.addListener)&&Yi(e.removeListener)}function VJ(e){return Yi(e.on)&&Yi(e.off)}function zJ(e){return Yi(e.addEventListener)&&Yi(e.removeEventListener)}function WJ(e,t,i){i===void 0&&(i=fJ);var s=-1;return t!=null&&(T5(t)?i=t:s=t),new Is(function(p){var E=I5(e)?+e-i.now():e;E<0&&(E=0);var n=0;return i.schedule(function(){p.closed||(p.next(n++),0<=s?this.schedule(void 0,s):p.complete())},E)})}function B5(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=dJ(e),s=cJ(e,1/0),p=e;return p.length?p.length===1?Xa(p[0]):BJ(s)(MJ(p,i)):cw}function Ch(e,t){return Ya(function(i,s){var p=0;i.subscribe(Ls(s,function(E){return e.call(t,E,p++)&&s.next(E)}))})}function YJ(e){return Ya(function(t,i){var s=[];return t.subscribe(Ls(i,function(p){return s.push(p)},function(){i.next(s),i.complete()})),Xa(e).subscribe(Ls(i,function(){var p=s;s=[],i.next(p)},kP)),function(){s=null}})}function XJ(e,t){return t===void 0&&(t=Cx),Ya(function(i,s){var p=null,E=null,n=null,T=function(){if(p){p.unsubscribe(),p=null;var o=E;E=null,s.next(o)}};function r(){var o=n+e,x=t.now();if(x<o){p=this.schedule(void 0,o-x),s.add(p);return}T()}i.subscribe(Ls(s,function(o){E=o,n=t.now(),p||(p=t.schedule(r,e),s.add(p))},function(){T(),s.complete()},void 0,function(){E=p=null}))})}function G5(e){return e<=0?function(){return cw}:Ya(function(t,i){var s=0;t.subscribe(Ls(i,function(p){++s<=e&&(i.next(p),e<=s&&i.complete())}))})}function HJ(e){return To(function(){return e})}function $J(e,t){return Sx(function(i,s){return Xa(e(i,s)).pipe(G5(1),HJ(i))})}function KJ(e,t){t===void 0&&(t=Cx);var i=WJ(e,t);return $J(function(){return i})}function ZJ(){return Ya(function(e,t){var i,s=!1;e.subscribe(Ls(t,function(p){var E=i;i=p,s&&t.next([E,p]),s=!0}))})}function JJ(e,t){return Ya(function(i,s){var p=null,E=0,n=!1,T=function(){return n&&!p&&s.complete()};i.subscribe(Ls(s,function(r){p==null||p.unsubscribe();var o=0,x=E++;Xa(e(r,x)).subscribe(p=Ls(s,function(d){return s.next(t?t(r,d,x,o++):d)},function(){p=null,T()}))},function(){n=!0,T()}))})}var So,pw;function jJ(e,t){if(e.nodeType!==Node.ELEMENT_NODE)throw new Error("Can't generate CSS selector for non-element node type.");if(e.tagName.toLowerCase()==="html")return"html";var i={root:document.body,idName:function(E){return!0},className:function(E){return!0},tagName:function(E){return!0},attr:function(E,n){return!1},seedMinLength:1,optimizedMinLength:2,threshold:1e3,maxNumberOfTries:1e4};So=Te(Te({},i),t),pw=QJ(So.root,i);var s=C0(e,"all",function(){return C0(e,"two",function(){return C0(e,"one",function(){return C0(e,"none")})})});if(s){var p=U5(V5(s,e));return p.length>0&&(s=p[0]),Ex(s)}else throw new Error("Selector was not found.")}function QJ(e,t){return e.nodeType===Node.DOCUMENT_NODE?e:e===t.root?e.ownerDocument:e}function C0(e,t,i){for(var s=null,p=[],E=e,n=0,T=function(){var o,x,d=E0(qJ(E))||E0.apply(void 0,qr([],Mi(_J(E)),!1))||E0.apply(void 0,qr([],Mi(tj(E)),!1))||E0(ej(E))||[dF()],h=ij(E);if(t=="all")h&&(d=d.concat(d.filter(UE).map(function(u){return S0(u,h)})));else if(t=="two")d=d.slice(0,1),h&&(d=d.concat(d.filter(UE).map(function(u){return S0(u,h)})));else if(t=="one"){var l=Mi(d=d.slice(0,1),1),a=l[0];h&&UE(a)&&(d=[S0(a,h)])}else t=="none"&&(d=[dF()],h&&(d=[S0(d[0],h)]));try{for(var f=(o=void 0,Pr(d)),c=f.next();!c.done;c=f.next()){var a=c.value;a.level=n}}catch(u){o={error:u}}finally{try{c&&!c.done&&(x=f.return)&&x.call(f)}finally{if(o)throw o.error}}if(p.push(d),p.length>=So.seedMinLength&&(s=uF(p,i),s))return"break";E=E.parentElement,n++};E;){var r=T();if(r==="break")break}return s||(s=uF(p,i)),!s&&i?i():s}function uF(e,t){var i,s,p=e.reduce(function(o,x){return o*x.length},1);if(p>So.threshold)return t?t():null;var E=U5(N5(e));try{for(var n=Pr(E),T=n.next();!T.done;T=n.next()){var r=T.value;if(k5(r))return r}}catch(o){i={error:o}}finally{try{T&&!T.done&&(s=n.return)&&s.call(n)}finally{if(i)throw i.error}}return null}function Ex(e){for(var t=e[0],i=t.name,s=1;s<e.length;s++){var p=e[s].level||0;t.level===p-1?i="".concat(e[s].name," > ").concat(i):i="".concat(e[s].name," ").concat(i),t=e[s]}return i}function fF(e){return e.map(function(t){return t.penalty}).reduce(function(t,i){return t+i},0)}function k5(e){var t=Ex(e);switch(pw.querySelectorAll(t).length){case 0:throw new Error("Can't select any node with this selector: ".concat(t));case 1:return!0;default:return!1}}function qJ(e){var t=e.getAttribute("id");return t&&So.idName(t)?{name:"#"+CSS.escape(t),penalty:0}:null}function _J(e){var t=Array.from(e.attributes).filter(function(i){return So.attr(i.name,i.value)});return t.map(function(i){return{name:"[".concat(CSS.escape(i.name),'="').concat(CSS.escape(i.value),'"]'),penalty:.5}})}function tj(e){var t=Array.from(e.classList).filter(So.className);return t.map(function(i){return{name:"."+CSS.escape(i),penalty:1}})}function ej(e){var t=e.tagName.toLowerCase();return So.tagName(t)?{name:t,penalty:2}:null}function dF(){return{name:"*",penalty:3}}function ij(e){var t=e.parentNode;if(!t)return null;var i=t.firstChild;if(!i)return null;for(var s=0;i&&(i.nodeType===Node.ELEMENT_NODE&&s++,i!==e);)i=i.nextSibling;return s}function S0(e,t){return{name:e.name+":nth-child(".concat(t,")"),penalty:e.penalty+1}}function UE(e){return e.name!=="html"&&!e.name.startsWith("#")}function E0(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=e.filter(rj);return i.length>0?i:null}function rj(e){return e!=null}function N5(e,t){var i,s,p,E,n,T;return t===void 0&&(t=[]),qt(this,function(r){switch(r.label){case 0:if(!(e.length>0))return[3,9];r.label=1;case 1:r.trys.push([1,6,7,8]),i=Pr(e[0]),s=i.next(),r.label=2;case 2:return s.done?[3,5]:(p=s.value,[5,Pr(N5(e.slice(1,e.length),t.concat(p)))]);case 3:r.sent(),r.label=4;case 4:return s=i.next(),[3,2];case 5:return[3,8];case 6:return E=r.sent(),n={error:E},[3,8];case 7:try{s&&!s.done&&(T=i.return)&&T.call(i)}finally{if(n)throw n.error}return[7];case 8:return[3,11];case 9:return[4,t];case 10:r.sent(),r.label=11;case 11:return[2]}})}function U5(e){return qr([],Mi(e),!1).sort(function(t,i){return fF(t)-fF(i)})}function V5(e,t,i){var s,p,E;return i===void 0&&(i={counter:0,visited:new Map}),qt(this,function(n){switch(n.label){case 0:if(!(e.length>2&&e.length>So.optimizedMinLength))return[3,5];s=1,n.label=1;case 1:return s<e.length-1?i.counter>So.maxNumberOfTries?[2]:(i.counter+=1,p=qr([],Mi(e),!1),p.splice(s,1),E=Ex(p),i.visited.has(E)?[2]:k5(p)&&nj(p,t)?[4,p]:[3,4]):[3,5];case 2:return n.sent(),i.visited.set(E,!0),[5,Pr(V5(p,t,i))];case 3:n.sent(),n.label=4;case 4:return s++,[3,1];case 5:return[2]}})}function nj(e,t){return pw.querySelector(Ex(e))===t}var sj=["input","select","textarea"],VE=function(e,t){return function(i,s){var p,E,n,T=e.pageUrlAllowlist,r=e.shouldTrackEventResolver,o=(E=(p=s==null?void 0:s.tagName)===null||p===void 0?void 0:p.toLowerCase)===null||E===void 0?void 0:E.call(p);if(!o)return!1;if(r)return r(i,s);if(!oj(window.location.href,T))return!1;var x=String(s==null?void 0:s.getAttribute("type"))||"";if(typeof x=="string")switch(x.toLowerCase()){case"hidden":return!1;case"password":return!1}if(t){var d=t.some(function(l){var a;return!!(!((a=s==null?void 0:s.matches)===null||a===void 0)&&a.call(s,l))});if(!d)return!1}switch(o){case"input":case"select":case"textarea":return i==="change"||i==="click";default:{var h=(n=window==null?void 0:window.getComputedStyle)===null||n===void 0?void 0:n.call(window,s);return h&&h.getPropertyValue("cursor")==="pointer"&&i==="click"?!0:i==="click"}}}},z5=function(e){if(e==null)return!1;if(typeof e=="string"){var t=/^(?:(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11}))$/;if(t.test((e||"").replace(/[- ]/g,"")))return!1;var i=/(^\d{3}-?\d{2}-?\d{4}$)/;if(i.test(e))return!1}return!0},aj=function(e){return!!e&&e.nodeType===3},W5=function(e){var t,i,s,p=(i=(t=e==null?void 0:e.tagName)===null||t===void 0?void 0:t.toLowerCase)===null||i===void 0?void 0:i.call(t),E=e instanceof HTMLElement?((s=e.getAttribute("contenteditable"))===null||s===void 0?void 0:s.toLowerCase())==="true":!1;return!sj.includes(p)&&!E},gw=function(e){var t="";return W5(e)&&e.childNodes&&e.childNodes.length&&e.childNodes.forEach(function(i){var s="";aj(i)?i.textContent&&(s=i.textContent):s=gw(i),t+=s.split(/(\s+)/).filter(z5).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255)}),t},Y5=function(e,t){var i,s,p="";try{return p=jJ(e,{className:function(x){return x!==BP},maxNumberOfTries:1e3}),p}catch(x){if(t){var E=x;t.warn("Failed to get selector with finder, use fallback strategy instead: ".concat(E.toString()))}}var n=(s=(i=e==null?void 0:e.tagName)===null||i===void 0?void 0:i.toLowerCase)===null||s===void 0?void 0:s.call(i);n&&(p=n);var T=e.getAttribute("id"),r=e.getAttribute("class");if(T)p="#".concat(T);else if(r){var o=r.split(" ").filter(function(x){return x!==BP}).join(".");o&&(p="".concat(p,".").concat(o))}return p},oj=function(e,t){return!t||!t.length?!0:t.some(function(i){return typeof i=="string"?e===i:e.match(i)})},lj=function(e,t){return e.getAttributeNames().reduce(function(i,s){if(s.startsWith(t)){var p=s.replace(t,""),E=e.getAttribute(s);p&&(i[p]=E||"")}return i},{})},hj=function(e){return e==null||typeof e=="object"&&Object.keys(e).length===0||typeof e=="string"&&e.trim().length===0},X5=function(e){return Object.keys(e).reduce(function(t,i){var s=e[i];return hj(s)||(t[i]=s),t},{})},H5=function(e){var t=e.parentElement;if(!t)return"";var i;try{i=t.querySelector(":scope>span,h1,h2,h3,h4,h5,h6")}catch{i=null}if(i){var s=i.textContent||"";return z5(s)?s:""}return H5(t)},mw=function(e,t){return e?t.some(function(i){var s;return(s=e==null?void 0:e.matches)===null||s===void 0?void 0:s.call(e,i)})?e:mw(e==null?void 0:e.parentElement,t):null},uj=function(e,t){var i,s,p;if(!e)return{};var E=(p=(s=e==null?void 0:e.tagName)===null||s===void 0?void 0:s.toLowerCase)===null||p===void 0?void 0:p.call(s),n=Y5(e,t),T=(i={},i[f5]=E,i[d5]=gw(e),i[c5]=n,i[v5]=window.location.href.split("?")[0],i);return X5(T)},fj=function(e){return new Promise(function(t,i){var s;try{var p=document.createElement("script");p.type="text/javascript",p.async=!0,p.src=e,p.addEventListener("load",function(){t({status:!0})},{once:!0}),p.addEventListener("error",function(){i({status:!1,message:"Failed to load the script ".concat(e)})}),(s=document.head)===null||s===void 0||s.appendChild(p)}catch(E){i(E)}})};function dj(){return"".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9))}var yw=function(e){return!(e.event.target===null||!e.closestTrackedAncestor)},cj=function(){function e(t){var i=t===void 0?{}:t,s=i.origin,p=s===void 0?Vy:s,E=this;this.endpoint=Vy,this.requestCallbacks={},this.onSelect=function(n){E.notify({action:"element-selected",data:n})},this.onTrack=function(n,T){n==="selector-mode-changed"?E.notify({action:"track-selector-mode-changed",data:T}):n==="selector-moved"&&E.notify({action:"track-selector-moved",data:T})},this.endpoint=p}return e.prototype.notify=function(t){var i,s,p,E;(s=(i=this.logger)===null||i===void 0?void 0:i.debug)===null||s===void 0||s.call(i,"Message sent: ",JSON.stringify(t)),(E=(p=window.opener)===null||p===void 0?void 0:p.postMessage)===null||E===void 0||E.call(p,t,this.endpoint)},e.prototype.sendRequest=function(t,i,s){var p=this;s===void 0&&(s={timeout:15e3});var E=dj(),n={id:E,action:t,args:i},T=new Promise(function(r,o){p.requestCallbacks[E]={resolve:r,reject:o},p.notify(n),(s==null?void 0:s.timeout)>0&&setTimeout(function(){o(new Error("".concat(t," timed out (id: ").concat(E,")"))),delete p.requestCallbacks[E]},s.timeout)});return T},e.prototype.handleResponse=function(t){var i;if(!this.requestCallbacks[t.id]){(i=this.logger)===null||i===void 0||i.warn("No callback found for request id: ".concat(t.id));return}this.requestCallbacks[t.id].resolve(t.responseData),delete this.requestCallbacks[t.id]},e.prototype.setup=function(t){var i=this,s=t===void 0?{}:t,p=s.logger,E=s.endpoint,n=s.isElementSelectable,T=s.cssSelectorAllowlist,r=s.actionClickAllowlist;this.logger=p,E&&this.endpoint===Vy&&(this.endpoint=E);var o=null;window.addEventListener("message",function(x){var d,h,l,a,f;if((h=(d=i.logger)===null||d===void 0?void 0:d.debug)===null||h===void 0||h.call(d,"Message received: ",JSON.stringify(x)),i.endpoint===x.origin){var c=x==null?void 0:x.data,u=c==null?void 0:c.action;if(u)if("id"in c)(a=(l=i.logger)===null||l===void 0?void 0:l.debug)===null||a===void 0||a.call(l,"Received Response to previous request: ",JSON.stringify(x)),i.handleResponse(c);else if(u==="ping")i.notify({action:"pong"});else if(u==="initialize-visual-tagging-selector"){var v=c==null?void 0:c.data;fj(jZ).then(function(){var g;o=(g=window==null?void 0:window.amplitudeVisualTaggingSelector)===null||g===void 0?void 0:g.call(window,{getEventTagProps:uj,isElementSelectable:function(m){return n?n((v==null?void 0:v.actionType)||"click",m):!0},onTrack:i.onTrack,onSelect:i.onSelect,visualHighlightClass:BP,messenger:i,cssSelectorAllowlist:T,actionClickAllowlist:r}),i.notify({action:"selector-loaded"})}).catch(function(){var g;(g=i.logger)===null||g===void 0||g.warn("Failed to initialize visual tagging selector")})}else u==="close-visual-tagging-selector"&&((f=o==null?void 0:o.close)===null||f===void 0||f.call(o))}}),this.notify({action:"page-loaded"})},e}(),vj=["id","class","style","value","onclick","onchange","oninput","onblur","onsubmit","onfocus","onkeydown","onkeyup","onkeypress","data-reactid","data-react-checksum","data-reactroot"],pj=["type"],gj=["svg","path","g"],mj=["password","hidden"],yj=128,xj=1024;function Tj(e){var t,i,s,p,E,n;if(e===null)return null;var T=String(e.tagName).toLowerCase(),r={tag:T},o=Array.from((p=(s=e.parentElement)===null||s===void 0?void 0:s.children)!==null&&p!==void 0?p:[]);o.length&&(r.index=o.indexOf(e),r.indexOfType=o.filter(function(m){return m.tagName===e.tagName}).indexOf(e));var x=(n=(E=e.previousElementSibling)===null||E===void 0?void 0:E.tagName)===null||n===void 0?void 0:n.toLowerCase();x&&(r.prevSib=String(x));var d=e.getAttribute("id");d&&(r.id=String(d));var h=Array.from(e.classList);h.length&&(r.classes=h);var l={},a=Array.from(e.attributes),f=a.filter(function(m){return!vj.includes(m.name)}),c=!W5(e);if(!mj.includes(String(e.getAttribute("type")))&&!gj.includes(T))try{for(var u=Pr(f),v=u.next();!v.done;v=u.next()){var g=v.value;c&&!pj.includes(g.name)||(l[g.name]=String(g.value).substring(0,yj))}}catch(m){t={error:m}}finally{try{v&&!v.done&&(i=u.return)&&i.call(u)}finally{if(t)throw t.error}}return Object.keys(l).length&&(r.attrs=l),r}function Cj(e){var t=[];if(!e)return t;t.push(e);for(var i=e.parentElement;i&&i.tagName!=="HTML";)t.push(i),i=i.parentElement;return t}var Sj=function(e){var t=[];if(!e)return[];var i=Cj(e);return t=Ej(i.map(function(s){return Tj(s)}),xj),t};function Ej(e,t){for(var i=0,s=0;s<e.length;s++){var p=e[s];if(p===null)i+=4;else{var E=zy(p);i+=E?Array.from(E).length:4}if(i>t)return e.slice(0,s)}return e}function zy(e,t){t===void 0&&(t=!1);try{if(e==null)return t?"None":null;if(typeof e=="string")return t?(e=e.replace(/\\/g,"\\\\").replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r"),e.includes('"')?"'".concat(e,"'"):e.includes("'")?'"'.concat(e.replace(/'/g,"\\'"),'"'):"'".concat(e,"'")):e;if(typeof e=="boolean")return e?"True":"False";if(Array.isArray(e)){var i=e.map(function(E){return zy(E,!0)});return"[".concat(i.join(", "),"]")}else if(typeof e=="object"){var s=Object.entries(e).filter(function(E){var n=Mi(E,1),T=n[0];return T!=null}).map(function(E){var n=Mi(E,2),T=n[0],r=n[1];return"".concat(String(zy(T,!0)),": ").concat(String(zy(r,!0)))}),p="{".concat(s.join(", "),"}");return p.includes("\\'")&&(p=p.replace(/'/g,"'").replace(/'/g,"\\'")),p}return e.toString()}catch{return null}}var bj=5;function Pj(e){var t=e.amplitude,i=e.allObservables,s=e.options,p=e.shouldTrackEvent,E=i.clickObservable,n=E.pipe(ZJ(),Ch(function(x){var d=Mi(x,2),h=d[0],l=d[1],a=h.event.target!==l.event.target,f=Math.abs(l.event.screenX-h.event.screenX)<=20&&Math.abs(l.event.screenY-h.event.screenY)<=20;return a&&!f})),T=E.pipe(XJ(s.debounceTime),To(function(){return"timeout"})),r=B5(n,T),o=E.pipe(KJ(0),Ch(yw),Ch(function(x){return p("click",x.closestTrackedAncestor)}),YJ(r));return o.subscribe(function(x){var d,h,l=(x.length>=bj,IP);try{for(var a=Pr(x),f=a.next();!f.done;f=a.next()){var c=f.value;t==null||t.track(l,c.targetElementProperties,{time:c.timestamp})}}catch(u){d={error:u}}finally{try{f&&!f.done&&(h=a.return)&&h.call(a)}finally{if(d)throw d.error}}})}function wj(e){var t=e.amplitude,i=e.allObservables,s=e.getEventProperties,p=e.shouldTrackEvent,E=i.changeObservable,n=E.pipe(Ch(yw),Ch(function(T){return p("change",T.closestTrackedAncestor)}));return n.subscribe(function(T){t==null||t.track(IZ,s("change",T.closestTrackedAncestor))})}function Mj(e){var t=e.amplitude,i=e.allObservables,s=e.options,p=e.getEventProperties,E=e.shouldTrackEvent,n=e.shouldTrackActionClick,T=i.clickObservable,r=i.mutationObservable,o=i.navigateObservable,x=T.pipe(Ch(function(a){return!E("click",a.closestTrackedAncestor)}),To(function(a){var f=mw(a.event.target,s.actionClickAllowlist);return a.closestTrackedAncestor=f,a.closestTrackedAncestor!==null&&(a.targetElementProperties=p(a.type,a.closestTrackedAncestor)),a}),Ch(yw),Ch(function(a){return n("click",a.closestTrackedAncestor)})),d=[r];o&&d.push(o);var h=B5.apply(void 0,qr([],Mi(d),!1)),l=x.pipe(JJ(function(a){return h.pipe(G5(1),AJ({first:500,with:function(){return cw}}),To(function(){return a}))}));return l.subscribe(function(a){t==null||t.track(IP,p("click",a.closestTrackedAncestor),{time:a.timestamp})})}var Ld;(function(e){e.ClickObservable="clickObservable",e.ChangeObservable="changeObservable",e.NavigateObservable="navigateObservable",e.MutationObservable="mutationObservable"})(Ld||(Ld={}));function Rj(e){return e.type==="click"||e.type==="change"}var Aj=function(e){var t,i,s;e===void 0&&(e={});var p=e.dataAttributePrefix,E=p===void 0?Y$:p,n=e.visualTaggingOptions,T=n===void 0?{enabled:!0,messenger:new cj}:n;e.cssSelectorAllowlist=(t=e.cssSelectorAllowlist)!==null&&t!==void 0?t:W$,e.actionClickAllowlist=(i=e.actionClickAllowlist)!==null&&i!==void 0?i:X$,e.debounceTime=(s=e.debounceTime)!==null&&s!==void 0?s:0;var r=FZ,o="enrichment",x=[],d=void 0,h=function(){var v,g=pp(document,"click",{capture:!0}).pipe(To(function(P){return a(P,"click")})),m=pp(document,"change",{capture:!0}).pipe(To(function(P){return a(P,"change")})),y;window.navigation&&(y=pp(window.navigation,"navigate").pipe(To(function(P){return a(P,"navigate")})));var C=new Is(function(P){var w=new MutationObserver(function(M){P.next(M)});return w.observe(document.body,{childList:!0,attributes:!0,characterData:!0,subtree:!0}),function(){return w.disconnect()}}).pipe(To(function(P){return a(P,"mutation")}));return v={},v[Ld.ClickObservable]=g,v[Ld.ChangeObservable]=m,v[Ld.NavigateObservable]=y,v[Ld.MutationObservable]=C,v},l=function(v,g){var m,y,C,P=(C=(y=g==null?void 0:g.tagName)===null||y===void 0?void 0:y.toLowerCase)===null||C===void 0?void 0:C.call(y),w=typeof g.getBoundingClientRect=="function"?g.getBoundingClientRect():{left:null,top:null},M=g.getAttribute("aria-label"),R=lj(g,E),A=H5(g),L=Y5(g,d),F=(m={},m[BZ]=g.getAttribute("id")||"",m[GZ]=g.getAttribute("class"),m[kZ]=Sj(g),m[f5]=P,m[d5]=gw(g),m[UZ]=w.left==null?null:Math.round(w.left),m[VZ]=w.top==null?null:Math.round(w.top),m[zZ]=M,m[WZ]=R,m[c5]=L,m[YZ]=A,m[v5]=window.location.href.split("?")[0],m[XZ]=typeof document<"u"&&document.title||"",m[HZ]=window.innerHeight,m[$Z]=window.innerWidth,m);return P==="a"&&v==="click"&&g instanceof HTMLAnchorElement&&(F[NZ]=g.href),X5(F)},a=function(v,g){var m={event:v,timestamp:Date.now(),type:g};if(Rj(m)&&m.event.target!==null){var y=mw(m.event.target,e.cssSelectorAllowlist);return y&&(m.closestTrackedAncestor=y,m.targetElementProperties=l(m.type,y)),m}return m},f=function(v,g){return ne(void 0,void 0,void 0,function(){var m,y,C,P,w,M,R,A,L,F;return qt(this,function(G){return d=v.loggerProvider,typeof document>"u"?[2]:(m=VE(e,e.cssSelectorAllowlist),y=VE(e,e.actionClickAllowlist),C=h(),P=Pj({allObservables:C,options:e,amplitude:g,shouldTrackEvent:m}),x.push(P),w=wj({allObservables:C,getEventProperties:l,amplitude:g,shouldTrackEvent:m}),x.push(w),M=Mj({allObservables:C,options:e,getEventProperties:l,amplitude:g,shouldTrackEvent:m,shouldTrackActionClick:y}),x.push(M),(L=v==null?void 0:v.loggerProvider)===null||L===void 0||L.log("".concat(r," has been successfully added.")),window.opener&&T.enabled&&(R=e.cssSelectorAllowlist,A=e.actionClickAllowlist,(F=T.messenger)===null||F===void 0||F.setup(Te(Te({logger:v==null?void 0:v.loggerProvider},(v==null?void 0:v.serverZone)&&{endpoint:JZ[v.serverZone]}),{isElementSelectable:VE(e,qr(qr([],Mi(R),!1),Mi(A),!1)),cssSelectorAllowlist:R,actionClickAllowlist:A}))),[2])})})},c=function(v){return ne(void 0,void 0,void 0,function(){return qt(this,function(g){return[2,v]})})},u=function(){return ne(void 0,void 0,void 0,function(){var v,g,m,y,C;return qt(this,function(P){try{for(v=Pr(x),g=v.next();!g.done;g=v.next())m=g.value,m.unsubscribe()}catch(w){y={error:w}}finally{try{g&&!g.done&&(C=v.return)&&C.call(v)}finally{if(y)throw y.error}}return[2]})})};return{name:r,type:o,setup:f,execute:c,teardown:u}},Oj=function(e){Fs(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.init=function(i,s,p){i===void 0&&(i="");var E,n;return arguments.length>2?(E=s,n=p):typeof s=="string"?(E=s,n=void 0):(E=s==null?void 0:s.userId,n=s),rs(this._init(Te(Te({},n),{userId:E,apiKey:i})))},t.prototype._init=function(i){var s,p,E;return ne(this,void 0,void 0,function(){var n,T,r,o,x,d,h=this;return qt(this,function(l){switch(l.label){case 0:return this.initializing?[2]:(this.initializing=!0,[4,hZ(i.apiKey,i,this)]);case 1:return n=l.sent(),i.fetchRemoteConfig?[4,DZ(n)]:[3,4];case 2:return T=l.sent(),[4,T.generateJoinedConfig()];case 3:n=l.sent(),l.label=4;case 4:return[4,e.prototype._init.call(this,n)];case 5:return l.sent(),this.logBrowserOptions(n),s5(this.config.defaultTracking)?(r=YK(this.config),this.webAttribution=new EK(r,this.config),[4,this.webAttribution.init()]):[3,7];case 6:l.sent(),l.label=7;case 7:return o=qy(),x=Number.isNaN(Number(o.ampSessionId))?void 0:Number(o.ampSessionId),this.setSessionId((E=(p=(s=i.sessionId)!==null&&s!==void 0?s:x)!==null&&p!==void 0?p:this.config.sessionId)!==null&&E!==void 0?E:Date.now()),d=Tp(i.instanceName),d.identityStore.setIdentity({userId:this.config.userId,deviceId:this.config.deviceId}),this.config.offline===z$?[3,9]:[4,this.add(CZ()).promise];case 8:l.sent(),l.label=9;case 9:return[4,this.add(new oK).promise];case 10:return l.sent(),[4,this.add(new ZK).promise];case 11:return l.sent(),[4,this.add(new kK).promise];case 12:return l.sent(),TZ(this.config),UK(this.config.defaultTracking)?(this.config.loggerProvider.debug("Adding file download tracking plugin"),[4,this.add(xZ()).promise]):[3,14];case 13:l.sent(),l.label=14;case 14:return VK(this.config.defaultTracking)?(this.config.loggerProvider.debug("Adding form interaction plugin"),[4,this.add(yZ()).promise]):[3,16];case 15:l.sent(),l.label=16;case 16:return a5(this.config.defaultTracking)?(this.config.loggerProvider.debug("Adding page view tracking plugin"),[4,this.add(vZ(WK(this.config))).promise]):[3,18];case 17:l.sent(),l.label=18;case 18:return o5(this.config.autocapture)?(this.config.loggerProvider.debug("Adding user interactions plugin (autocapture plugin)"),[4,this.add(Aj(zK(this.config))).promise]):[3,20];case 19:l.sent(),l.label=20;case 20:return this.initializing=!1,[4,this.runQueuedFunctions("dispatchQ")];case 21:return l.sent(),d.eventBridge.setEventReceiver(function(a){h.track(a.eventType,a.eventProperties)}),[2]}})})},t.prototype.getUserId=function(){var i;return(i=this.config)===null||i===void 0?void 0:i.userId},t.prototype.setUserId=function(i){if(!this.config){this.q.push(this.setUserId.bind(this,i));return}this.config.loggerProvider.debug("function setUserId: ",i),(i!==this.config.userId||i===void 0)&&(this.config.userId=i,BK(i,this.config.instanceName))},t.prototype.getDeviceId=function(){var i;return(i=this.config)===null||i===void 0?void 0:i.deviceId},t.prototype.setDeviceId=function(i){if(!this.config){this.q.push(this.setDeviceId.bind(this,i));return}this.config.loggerProvider.debug("function setDeviceId: ",i),this.config.deviceId=i,GK(i,this.config.instanceName)},t.prototype.reset=function(){this.setDeviceId(Jd()),this.setUserId(void 0)},t.prototype.getSessionId=function(){var i;return(i=this.config)===null||i===void 0?void 0:i.sessionId},t.prototype.setSessionId=function(i){var s,p=[];if(!this.config)return this.q.push(this.setSessionId.bind(this,i)),rs(Promise.resolve());if(i===this.config.sessionId)return rs(Promise.resolve());this.config.loggerProvider.debug("function setSessionId: ",i);var E=this.getSessionId(),n=this.config.lastEventTime,T=(s=this.config.lastEventId)!==null&&s!==void 0?s:-1;this.config.sessionId=i,this.config.lastEventTime=void 0,this.config.pageCounter=0,QD(this.config.defaultTracking)&&(E&&n&&p.push(this.track(tF,void 0,{device_id:this.previousSessionDeviceId,event_id:++T,session_id:E,time:n+1,user_id:this.previousSessionUserId}).promise),this.config.lastEventTime=this.config.sessionId);var r=this.trackCampaignEventIfNeeded(++T,p);return QD(this.config.defaultTracking)&&p.push(this.track(_D,void 0,{event_id:r?++T:T,session_id:this.config.sessionId,time:this.config.lastEventTime}).promise),this.previousSessionDeviceId=this.config.deviceId,this.previousSessionUserId=this.config.userId,rs(Promise.all(p))},t.prototype.extendSession=function(){if(!this.config){this.q.push(this.extendSession.bind(this));return}this.config.lastEventTime=Date.now()},t.prototype.setTransport=function(i){if(!this.config){this.q.push(this.setTransport.bind(this,i));return}this.config.transportProvider=u5(i)},t.prototype.identify=function(i,s){if(FE(i)){var p=i._q;i._q=[],i=DE(new xp,p)}return s!=null&&s.user_id&&this.setUserId(s.user_id),s!=null&&s.device_id&&this.setDeviceId(s.device_id),e.prototype.identify.call(this,i,s)},t.prototype.groupIdentify=function(i,s,p,E){if(FE(p)){var n=p._q;p._q=[],p=DE(new xp,n)}return e.prototype.groupIdentify.call(this,i,s,p,E)},t.prototype.revenue=function(i,s){if(FE(i)){var p=i._q;i._q=[],i=DE(new iK,p)}return e.prototype.revenue.call(this,i,s)},t.prototype.trackCampaignEventIfNeeded=function(i,s){if(!this.webAttribution||!this.webAttribution.shouldTrackNewCampaign)return!1;var p=this.webAttribution.generateCampaignEvent(i);return s?s.push(this.track(p).promise):this.track(p),this.config.loggerProvider.log("Tracking attribution."),!0},t.prototype.process=function(i){return ne(this,void 0,void 0,function(){var s,p,E;return qt(this,function(n){return s=Date.now(),p=n5(this.config.sessionTimeout,this.config.lastEventTime),E=this.webAttribution&&this.webAttribution.shouldSetSessionIdOnNewCampaign(),i.event_type!==_D&&i.event_type!==tF&&(!i.session_id||i.session_id===this.getSessionId())&&(p||E?(this.setSessionId(s),E&&this.config.loggerProvider.log("Created a new session for new campaign.")):p||this.trackCampaignEventIfNeeded()),[2,e.prototype.process.call(this,i)]})})},t.prototype.logBrowserOptions=function(i){try{var s=Te(Te({},i),{apiKey:i.apiKey.substring(0,10)+"********"});this.config.loggerProvider.debug("Initialized Amplitude with BrowserConfig:",JSON.stringify(s))}catch(p){this.config.loggerProvider.error("Error logging browser config",p)}},t}(eK),Lj=function(){var e=new Oj;return{init:Sr(e.init.bind(e),"init",Tr(e),Cr(e,["config"])),add:Sr(e.add.bind(e),"add",Tr(e),Cr(e,["config.apiKey","timeline.plugins"])),remove:Sr(e.remove.bind(e),"remove",Tr(e),Cr(e,["config.apiKey","timeline.plugins"])),track:Sr(e.track.bind(e),"track",Tr(e),Cr(e,["config.apiKey","timeline.queue.length"])),logEvent:Sr(e.logEvent.bind(e),"logEvent",Tr(e),Cr(e,["config.apiKey","timeline.queue.length"])),identify:Sr(e.identify.bind(e),"identify",Tr(e),Cr(e,["config.apiKey","timeline.queue.length"])),groupIdentify:Sr(e.groupIdentify.bind(e),"groupIdentify",Tr(e),Cr(e,["config.apiKey","timeline.queue.length"])),setGroup:Sr(e.setGroup.bind(e),"setGroup",Tr(e),Cr(e,["config.apiKey","timeline.queue.length"])),revenue:Sr(e.revenue.bind(e),"revenue",Tr(e),Cr(e,["config.apiKey","timeline.queue.length"])),flush:Sr(e.flush.bind(e),"flush",Tr(e),Cr(e,["config.apiKey","timeline.queue.length"])),getUserId:Sr(e.getUserId.bind(e),"getUserId",Tr(e),Cr(e,["config","config.userId"])),setUserId:Sr(e.setUserId.bind(e),"setUserId",Tr(e),Cr(e,["config","config.userId"])),getDeviceId:Sr(e.getDeviceId.bind(e),"getDeviceId",Tr(e),Cr(e,["config","config.deviceId"])),setDeviceId:Sr(e.setDeviceId.bind(e),"setDeviceId",Tr(e),Cr(e,["config","config.deviceId"])),reset:Sr(e.reset.bind(e),"reset",Tr(e),Cr(e,["config","config.userId","config.deviceId"])),getSessionId:Sr(e.getSessionId.bind(e),"getSessionId",Tr(e),Cr(e,["config"])),setSessionId:Sr(e.setSessionId.bind(e),"setSessionId",Tr(e),Cr(e,["config"])),extendSession:Sr(e.extendSession.bind(e),"extendSession",Tr(e),Cr(e,["config"])),setOptOut:Sr(e.setOptOut.bind(e),"setOptOut",Tr(e),Cr(e,["config"])),setTransport:Sr(e.setTransport.bind(e),"setTransport",Tr(e),Cr(e,["config"]))}};const xw=Lj();var Dj=xw.identify,Fj=xw.init,Ij=xw.track;const cF={ORACLE_BALL:{button_name:"oracle_ball",page:"prediction"},SHARE_PREDICTION_TO_STORY:{button_name:"story_share",page:"view_prediction"},GET_FREE_ESSENCE:{button_name:"get_free_essence",page:"prediction"}};class Bj{constructor(){Fj(ur.AMPLITUDE_TOKEN,{autocapture:!0});const t=new xp;t.set("platform",ur.PLATFORM),Dj(t)}clickButton(t){Ij("button_clicked",t)}}const vF=new Bj;var Gj=Object.defineProperty,kj=Object.getOwnPropertyDescriptor,$5=(e,t,i,s)=>{for(var p=kj(t,i),E=e.length-1,n;E>=0;E--)(n=e[E])&&(p=n(t,i,p)||p);return p&&Gj(t,i,p),p};const Nj=async e=>{const{url:t}=await Od.getStoryPath(e.id);await $4.shareToStory(`${ur.API_URL}${t}`)};class Tw extends dl.Scene{constructor(){super($H);Ut(this,"bg");Ut(this,"oracleBallEntity");Ut(this,"freeEssenceEntity");Ut(this,"balanceEntity");Ut(this,"backButton");Ut(this,"shareStoryButton")}init(){this.bg=new lw(this)}async create(){const i=g0.get(Ad.PROFILE);this.backButton=new R$(this),this.shareStoryButton=new M$(this),this.balanceEntity=await hw.create(this,i.balance),this.oracleBallEntity=await aw.create(this),this.freeEssenceEntity=await ow.create(this,new Date(i.lastFreeCrediting).getTime()),this.events.on(Nr.BG_RETURNED,()=>{this.balanceEntity.show()}),this.events.on(Nr.BG_SCALED,async()=>{const s=await Od.getProfile();g0.set(Ad.PROFILE,s),this.shareStoryButton.setVisible(!0),this.backButton.setVisible(!0)}),this.events.on(Nr.BACK_BUTTON_ON_POINTERDOWN,async()=>{this.shareStoryButton.setVisible(!1),this.oracleBallEntity.reset(),this.bg.runReturnScaleAnimation()}),this.events.on(Nr.BALL_ON_POINTERDOWN,async()=>{if(vF.clickButton(cF.ORACLE_BALL),g0.get(Ad.PROFILE).balance<=0){this.oracleBallEntity.shakeEffect(),await $4.vibrate();return}this.freeEssenceEntity.hide(),this.balanceEntity.hide();const p=await Od.getPrediction();this.events.emit(Nr.PREDICTION_RECEIVED,p)}),this.events.on(Nr.PREDICTION_RECEIVED,async s=>{this.oracleBallEntity.handleBallClick(s.text),this.bg.runScaleAnimation();const p=()=>Nj(s);this.events.off(Nr.SHARE_STORY_BUTTON_ON_POINTERDOWN,p),this.events.once(Nr.SHARE_STORY_BUTTON_ON_POINTERDOWN,p)}),this.events.on(Nr.FREE_ESSENCE_BUTTON_ON_POINTERDOWN,async()=>{vF.clickButton(cF.GET_FREE_ESSENCE),await Od.getFreeEssence(),this.events.emit(Nr.FREE_ESSENCE_RECEIVED)}),this.events.on(Nr.FREE_ESSENCE_RECEIVED,async()=>{const s=await Od.getProfile();g0.set(Ad.PROFILE,s),this.freeEssenceEntity.updateLastFreeCrediting(new Date(s.lastFreeCrediting).getTime()),this.freeEssenceEntity.show()}),Z4.on(J4(Ad.PROFILE),s=>{this.balanceEntity.updateBalance(s.balance)})}}$5([wo],Tw.prototype,"init");$5([wo],Tw.prototype,"create");var Uj=Object.defineProperty,Vj=Object.getOwnPropertyDescriptor,Cw=(e,t,i,s)=>{for(var p=Vj(t,i),E=e.length-1,n;E>=0;E--)(n=e[E])&&(p=n(t,i,p)||p);return p&&Uj(t,i,p),p};class bx extends Zd.Scene{constructor(){super(D4);Ut(this,"bg")}async init(){this.bg=new lw(this,!0);const i=this.scale.width,s=this.scale.height,E=i-16*2,n=32,T=i/2,r=s/2;this.add.rectangle(T,r,E,n).setStrokeStyle(1,16777215);const o=this.add.rectangle(T-E/2+2,r,4,n-4,16777215);this.load.on("progress",x=>{o.width=4+(E-8)*x})}preload(){this.load.setPath("assets"),this.load.font([{key:"MonotypeCorsiva",url:"./fonts/Monotype-Corsiva-Regular.ttf",format:"truetype",descriptors:{style:"normal",weight:"400"}},{key:"MonotypeCorsivaItalic",url:"./fonts/Monotype-Corsiva-Regular-Italic.ttf",format:"truetype",descriptors:{style:"italic",weight:"400"}},{key:"MonotypeCorsivaBold",url:"./fonts/Monotype-Corsiva-Bold.ttf",format:"truetype",descriptors:{style:"normal",weight:"700"}},{key:"MonotypeCorsivaBoldItalic",url:"./fonts/Monotype-Corsiva-Bold-Italic.ttf",format:"truetype",descriptors:{style:"italic",weight:"700"}}]),this.load.image(V4,"./bg.png"),this.load.image(jH,"./glade.png"),this.load.image(I4,"./oracle-ball.png"),this.load.image(k4,"./free-essence-btn.png"),this.load.image(N4,"./balance-board.png"),this.load.image(U4,"./free-board.png"),this.load.image(B4,"./back-button.png"),this.load.image(G4,"./share-story-button.png"),this.load.image(W4,"./cell.png"),this.load.image(Y4,"./cell_dark.png")}async create(){{this.scene.start(F4);return}}}Cw([wo],bx.prototype,"init");Cw([wo],bx.prototype,"preload");Cw([wo],bx.prototype,"create");var zj=Object.defineProperty,Wj=Object.getOwnPropertyDescriptor,Yj=(e,t,i,s)=>{for(var p=Wj(t,i),E=e.length-1,n;E>=0;E--)(n=e[E])&&(p=n(t,i,p)||p);return p&&zj(t,i,p),p};class K5 extends Zd.Scene{constructor(){super(KH)}async preload(){console.log("ERROR"),this.add.text(20,300,"-   ")}}Yj([wo],K5.prototype,"preload");var Sw={exports:{}},Nd=typeof Reflect=="object"?Reflect:null,pF=Nd&&typeof Nd.apply=="function"?Nd.apply:function(t,i,s){return Function.prototype.apply.call(t,i,s)},Wy;Nd&&typeof Nd.ownKeys=="function"?Wy=Nd.ownKeys:Object.getOwnPropertySymbols?Wy=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Wy=function(t){return Object.getOwnPropertyNames(t)};function Xj(e){console&&console.warn&&console.warn(e)}var Z5=Number.isNaN||function(t){return t!==t};function Di(){Di.init.call(this)}Sw.exports=Di;Sw.exports.once=Zj;Di.EventEmitter=Di;Di.prototype._events=void 0;Di.prototype._eventsCount=0;Di.prototype._maxListeners=void 0;var gF=10;function Px(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(Di,"defaultMaxListeners",{enumerable:!0,get:function(){return gF},set:function(e){if(typeof e!="number"||e<0||Z5(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");gF=e}});Di.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Di.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||Z5(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function J5(e){return e._maxListeners===void 0?Di.defaultMaxListeners:e._maxListeners}Di.prototype.getMaxListeners=function(){return J5(this)};Di.prototype.emit=function(t){for(var i=[],s=1;s<arguments.length;s++)i.push(arguments[s]);var p=t==="error",E=this._events;if(E!==void 0)p=p&&E.error===void 0;else if(!p)return!1;if(p){var n;if(i.length>0&&(n=i[0]),n instanceof Error)throw n;var T=new Error("Unhandled error."+(n?" ("+n.message+")":""));throw T.context=n,T}var r=E[t];if(r===void 0)return!1;if(typeof r=="function")pF(r,this,i);else for(var o=r.length,x=t9(r,o),s=0;s<o;++s)pF(x[s],this,i);return!0};function j5(e,t,i,s){var p,E,n;if(Px(i),E=e._events,E===void 0?(E=e._events=Object.create(null),e._eventsCount=0):(E.newListener!==void 0&&(e.emit("newListener",t,i.listener?i.listener:i),E=e._events),n=E[t]),n===void 0)n=E[t]=i,++e._eventsCount;else if(typeof n=="function"?n=E[t]=s?[i,n]:[n,i]:s?n.unshift(i):n.push(i),p=J5(e),p>0&&n.length>p&&!n.warned){n.warned=!0;var T=new Error("Possible EventEmitter memory leak detected. "+n.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");T.name="MaxListenersExceededWarning",T.emitter=e,T.type=t,T.count=n.length,Xj(T)}return e}Di.prototype.addListener=function(t,i){return j5(this,t,i,!1)};Di.prototype.on=Di.prototype.addListener;Di.prototype.prependListener=function(t,i){return j5(this,t,i,!0)};function Hj(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Q5(e,t,i){var s={fired:!1,wrapFn:void 0,target:e,type:t,listener:i},p=Hj.bind(s);return p.listener=i,s.wrapFn=p,p}Di.prototype.once=function(t,i){return Px(i),this.on(t,Q5(this,t,i)),this};Di.prototype.prependOnceListener=function(t,i){return Px(i),this.prependListener(t,Q5(this,t,i)),this};Di.prototype.removeListener=function(t,i){var s,p,E,n,T;if(Px(i),p=this._events,p===void 0)return this;if(s=p[t],s===void 0)return this;if(s===i||s.listener===i)--this._eventsCount===0?this._events=Object.create(null):(delete p[t],p.removeListener&&this.emit("removeListener",t,s.listener||i));else if(typeof s!="function"){for(E=-1,n=s.length-1;n>=0;n--)if(s[n]===i||s[n].listener===i){T=s[n].listener,E=n;break}if(E<0)return this;E===0?s.shift():$j(s,E),s.length===1&&(p[t]=s[0]),p.removeListener!==void 0&&this.emit("removeListener",t,T||i)}return this};Di.prototype.off=Di.prototype.removeListener;Di.prototype.removeAllListeners=function(t){var i,s,p;if(s=this._events,s===void 0)return this;if(s.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):s[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete s[t]),this;if(arguments.length===0){var E=Object.keys(s),n;for(p=0;p<E.length;++p)n=E[p],n!=="removeListener"&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(i=s[t],typeof i=="function")this.removeListener(t,i);else if(i!==void 0)for(p=i.length-1;p>=0;p--)this.removeListener(t,i[p]);return this};function q5(e,t,i){var s=e._events;if(s===void 0)return[];var p=s[t];return p===void 0?[]:typeof p=="function"?i?[p.listener||p]:[p]:i?Kj(p):t9(p,p.length)}Di.prototype.listeners=function(t){return q5(this,t,!0)};Di.prototype.rawListeners=function(t){return q5(this,t,!1)};Di.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):_5.call(e,t)};Di.prototype.listenerCount=_5;function _5(e){var t=this._events;if(t!==void 0){var i=t[e];if(typeof i=="function")return 1;if(i!==void 0)return i.length}return 0}Di.prototype.eventNames=function(){return this._eventsCount>0?Wy(this._events):[]};function t9(e,t){for(var i=new Array(t),s=0;s<t;++s)i[s]=e[s];return i}function $j(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function Kj(e){for(var t=new Array(e.length),i=0;i<t.length;++i)t[i]=e[i].listener||e[i];return t}function Zj(e,t){return new Promise(function(i,s){function p(n){e.removeListener(t,E),s(n)}function E(){typeof e.removeListener=="function"&&e.removeListener("error",p),i([].slice.call(arguments))}e9(e,t,E,{once:!0}),t!=="error"&&Jj(e,p,{once:!0})})}function Jj(e,t,i){typeof e.on=="function"&&e9(e,"error",t,i)}function e9(e,t,i,s){if(typeof e.on=="function")s.once?e.once(t,i):e.on(t,i);else if(typeof e.addEventListener=="function")e.addEventListener(t,function p(E){s.once&&e.removeEventListener(t,p),i(E)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var jj=Sw.exports;const i9=new jj.EventEmitter,Ew=d$(i9),bw=v$(i9);var Xu=(e=>(e["GENERATOR_VIEW:POINTERDOWN"]="generator_view:pointerdown",e["ITEM_VIEW:DRAG_END"]="item_view:drag_end",e["TASK_VIEW:POINTERDOWN"]="task_view:pointerdown",e))(Xu||{});class Qj{constructor(t,i,s,p,E,n){Ut(this,"background");Ut(this,"content",null);Ut(this,"size");this.size=p;const T=E?Y4:W4;this.background=new dl.GameObjects.Image(t,i,s,T),this.background.setDisplaySize(p,p),t.add.existing(this.background);const r=t.add.text(i,s,`${n.x}:${n.y}`,{fontSize:`${p*.3}px`,color:"#808080"});r.setOrigin(.5),r.setVisible(!1)}clearContent(){this.content&&(this.content.destroy(),this.content=null)}setContent(t){if(this.content&&!t){this.content=null;return}if(this.content&&t&&this.content.id!==(t==null?void 0:t.id))throw new Error("Can't set the content");this.content=t,t.setToCell({x:this.background.x,y:this.background.y},this.size)}get x(){return this.background.x}get y(){return this.background.y}isEqualContent(t){return this.content&&this.content.id===t}hasContent(){return!!this.content}getContent(){return this.content}}class Pw{constructor(t){Ut(this,"cells");this.scene=t}static create(t,i,s){const p=new Pw(t);return p.initTable(t,i,s),p}initTable(t,i,s){this.cells=[];const T=((t.sys.game.scale.width>t.sys.game.scale.height?t.sys.game.scale.height:t.sys.game.scale.width)-2*20)/i,r=i*T,o=i*T,x=t.sys.game.scale.width/2-r/2,d=t.sys.game.scale.height/2-o/2;for(let h=0;h<s;h++){this.cells[h]=[];for(let l=0;l<i;l++){const a=x+l*T+T/2,f=d+h*T+T/2,c=(h+l)%2===0;this.cells[h][l]=new Qj(t,a,f,T,c,{x:l,y:h})}}}setContent(t,i,s){var p,E;(E=(p=this.cells)==null?void 0:p[s])==null||E[i].setContent(t)}getCell(t,i){var s,p;return(p=(s=this.cells)==null?void 0:s[i])==null?void 0:p[t]}moveItem(t,i){const s=this.getCell(t.x,t.y),p=this.getCell(i.x,i.y);if(i.x===t.x&&i.y===t.y){s.setContent(s.getContent());return}p.setContent(s.getContent()),s==null||s.setContent(null)}swapItems(t,i){const s=this.getCell(t.x,t.y),p=this.getCell(i.x,i.y);if(!s||!p)throw new Error("Unable to swap item");const E=s.getContent(),n=p.getContent();s.setContent(null),p.setContent(null),s.setContent(n),p.setContent(E)}combine(t,i,s){const p=this.getCell(t.x,t.y),E=this.getCell(i.x,i.y);p.clearContent(),E.clearContent(),E.setContent(s)}combineChain(t,i){for(const s of t)this.getCell(s.x,s.y).clearContent();for(const s of i)this.getCell(s.position.x,s.position.y).setContent(s.item)}cleanItem(t){const i=this.findItemCell(t);if(!i)throw new Error(`Cell with item not found. item id ${t}`);i.clearContent()}findItemCell(t){for(let i=0;i<this.cells.length;i++)for(let s=0;s<this.cells[i].length;s++){const p=this.cells[i][s];if(p.isEqualContent(t))return p}return null}findClosestCellIndex(t,i){let s=Number.MAX_VALUE,p=null;for(let E=0;E<this.cells.length;E++)for(let n=0;n<this.cells[E].length;n++){const T=this.cells[E][n],r=Phaser.Math.Distance.Between(t,i,T.x,T.y);r<s&&(s=r,p=[n,E])}return s<=100?p:null}findItemCellIndex(t){for(let i=0;i<this.cells.length;i++)for(let s=0;s<this.cells[i].length;s++)if(this.cells[i][s].isEqualContent(t))return[s,i];return null}cancelMove(t){const i=this.findItemCell(t);if(!i)return;const s=i.getContent();i.setContent(s)}getTopY(){const p=(Math.min(this.scene.sys.game.scale.width,this.scene.sys.game.scale.height)-2*20)/this.cells[0].length,E=this.cells.length*p;return this.scene.sys.game.scale.height/2-E/2}}var qj=Object.defineProperty,_j=Object.getOwnPropertyDescriptor,tQ=(e,t,i,s)=>{for(var p=_j(t,i),E=e.length-1,n;E>=0;E--)(n=e[E])&&(p=n(t,i,p)||p);return p&&qj(t,i,p),p};const mF=1.2;class ww{constructor(t,i,s,p){Ut(this,"scene");Ut(this,"container");Ut(this,"image");Ut(this,"label");Ut(this,"scaleX",1);Ut(this,"scaleY",1);this.id=t,this.scene=i,this.container=i.add.container(0,0),this.image=i.add.image(0,0,s),this.label=i.add.text(0,0,String(p),{fontSize:"84px",color:"#00000",align:"center",strokeThickness:6}),this.label.setOrigin(.5),this.container.add([this.image,this.label]),this.container.on("drag",this.onDrag,this),this.container.on("dragend",this.onDragEnd,this)}setToCell(t,i){const s=this.image.frame;this.scaleX=i/s.width,this.scaleY=i/s.height,this.label.setFontSize(i/this.scaleX*.6),this.label.setStroke("#000000",i/this.scaleX*.02),this.container.setSize(i/this.scaleX,i/this.scaleY),this.container.setPosition(t.x,t.y),this.container.setScale(this.scaleX,this.scaleY),this.container.setInteractive({useHandCursor:!0,draggable:!0})}destroy(){this.container.destroy(!0)}getId(){return this.id}deactivate(){this.container.disableInteractive()}onDrag(t,i,s){this.container.setScale(this.scaleX*mF,this.scaleY*mF),this.container.setDepth(1e3),this.container.x=i,this.container.y=s}onDragEnd(t){this.container.setScale(this.scaleX,this.scaleY),this.container.setDepth(100),this.emitDragEnd(t.x,t.y)}emitDragEnd(t,i){return[t,i,this.id]}}tQ([Ew(Xu["ITEM_VIEW:DRAG_END"])],ww.prototype,"emitDragEnd");var eQ=Object.defineProperty,iQ=Object.getOwnPropertyDescriptor,rQ=(e,t,i,s)=>{for(var p=iQ(t,i),E=e.length-1,n;E>=0;E--)(n=e[E])&&(p=n(t,i,p)||p);return p&&eQ(t,i,p),p};class r9 extends ww{constructor(i,s,p,E){super(i,s,p,E);Ut(this,"lightningIcon");this.lightningIcon=s.add.image(0,0,X4),this.container.add(this.lightningIcon),this.container.on("pointerup",this.onPointerdownGenerator,this)}setToCell(i,s){super.setToCell(i,s);const p=this.lightningIcon.frame,E=s,n=E/p.width/this.scaleX,T=E/p.height/this.scaleY,r=Math.min(n,T)/2.5;this.lightningIcon.setScale(r),this.lightningIcon.setOrigin(1,1);const o=s/this.scaleX/2,x=s/this.scaleY/2;this.lightningIcon.setPosition(o,x)}onPointerdownGenerator(){this.emitClickedOnGenerator()}emitClickedOnGenerator(){return this.getId()}}rQ([Ew(Xu["GENERATOR_VIEW:POINTERDOWN"])],r9.prototype,"emitClickedOnGenerator");class nQ extends ww{constructor(t,i,s,p){super(t,i,s,p)}}class n9{constructor(t,i,s){this.type=i,this.level=s,this.id=t}canCombineWith(t){return this.id!==t.id&&this.type===t.type&&this.level===t.level}}class wx extends n9{constructor(t,i,s,p,E,n){super(t,i,s),this.spawnItemSet=n,this.timer=0,this.clickLimit=p,this.clicksLeft=p,this.refreshInterval=E}tick(t){this.clicksLeft!==this.clickLimit&&(this.timer+=t,this.timer>=this.refreshInterval&&(this.timer=0,this.clicksLeft=this.clickLimit))}getNewTargetConfig(){if(this.clicksLeft<=0)throw new Error("Click limit expired");return this.clicksLeft--,this.spawnItemSet.pick()}}class s9 extends n9{}class Yy{static create(t,i){if(i instanceof wx||Object.values(Yn).includes(i.type))return new r9(i.id,t,i.type,i.level);if(i instanceof s9||Object.values(Mn).includes(i.type))return new nQ(i.id,t,i.type,i.level);throw new Error(`Unknown domain type ${i.type}`)}}class Mw{constructor(t){Ut(this,"background");Ut(this,"text");Ut(this,"icon");Ut(this,"container");Ut(this,"currentValue",0);this.scene=t}static create(t){const i=new Mw(t),s=3,p=8*s,E=140*s,n=36*s,T=20*s,r=16*s,o=t.add.rectangle(0,0,E,n,2039583,.8).setStrokeStyle(2*s,16777215,.3).setOrigin(0);let x;t.textures.exists("xp-icon")?x=t.add.image(p,n/2,"xp-icon").setOrigin(0,.5).setDisplaySize(T,T):x=t.add.circle(p+T/2,n/2,T/2,16574826).setOrigin(.5);const d=t.add.text(p+T+p/2,n/2,"XP: 0",{fontSize:`${r}px`,color:"#fce96a",fontFamily:"Arial"}).setOrigin(0,.5),h=t.add.container(16,16,[o,x,d]).setScrollFactor(0);return i.background=o,i.text=d,i.icon=x,i.container=h,i}updateExperience(t){this.scene.tweens.addCounter({from:this.currentValue,to:this.currentValue+t,duration:400,onUpdate:s=>{const p=Math.floor(s.getValue());this.text.setText(`XP: ${p}`)},onComplete:()=>{this.currentValue=this.currentValue+t}})}setVisible(t){this.container.setVisible(t)}setPosition(t,i){this.container.setPosition(t,i)}destroy(){this.container.destroy(!0)}}class Rw{constructor(t){Ut(this,"background");Ut(this,"text");Ut(this,"icon");Ut(this,"container");Ut(this,"currentValue",0);this.scene=t}static create(t){const i=new Rw(t),s=3,p=8*s,E=140*s,n=36*s,T=20*s,r=16*s,o=t.scale.width,x=t.add.rectangle(0,0,E,n,2039583,.8).setStrokeStyle(2*s,16777215,.3).setOrigin(0,0);let d;const h=E-p-T;t.textures.exists("gold-icon")?d=t.add.image(h,n/2,"gold-icon").setOrigin(0,.5).setDisplaySize(T,T):d=t.add.circle(h+T/2,n/2,T/2,16766720).setOrigin(.5);const l=t.add.text(p,n/2,"$: 0",{fontSize:`${r}px`,color:"#ffd700",fontFamily:"Arial"}).setOrigin(0,.5),a=t.add.container(o-E-16,16,[x,d,l]).setScrollFactor(0);return i.background=x,i.text=l,i.icon=d,i.container=a,i}updateGold(t){this.scene.tweens.addCounter({from:this.currentValue,to:this.currentValue+t,duration:400,onUpdate:s=>{const p=Math.floor(s.getValue());this.text.setText(`$: ${p}`)},onComplete:()=>{this.currentValue=this.currentValue+t}})}setVisible(t){this.container.setVisible(t)}setPosition(t,i){this.container.setPosition(t,i)}destroy(){this.container.destroy(!0)}}var sQ=Object.defineProperty,aQ=Object.getOwnPropertyDescriptor,oQ=(e,t,i,s)=>{for(var p=aQ(t,i),E=e.length-1,n;E>=0;E--)(n=e[E])&&(p=n(t,i,p)||p);return p&&sQ(t,i,p),p},Ia;const a9=(Ia=class{constructor(t,i){Ut(this,"container");Ut(this,"background");Ut(this,"prizeTexts",[]);Ut(this,"targetViews",[]);Ut(this,"completeButton");Ut(this,"completeText");this.id=t,this.scene=i}static create(t,i,s){const p=i*(this.WIDTH+32),E=0,n=new Ia(s.id,t),T=t.add.rectangle(0,0,this.WIDTH,this.HEIGHT,2763306,.9).setStrokeStyle(2,16777215,.3).setOrigin(0),r=s.getPrize(),o=this.WIDTH-200,x=t.add.text(o,this.PADDING,":",{...this.FONT}),d=t.add.text(o,this.PADDING+36,` ${r.gold} $`,this.FONT),h=t.add.text(o,this.PADDING+72,` ${r.experience} XP`,this.FONT),l=[x,d,h],a=o-16,f=t.add.rectangle(a,0,2,this.HEIGHT,16777215,.2).setOrigin(0,0),c=[],u=[],v=s.getTargets(),g=a-this.PADDING,m=v.length*this.ITEM_SIZE+(v.length-1)*16,y=this.PADDING+(g-m)*5;v.forEach((R,A)=>{const F={id:`task-target-${s.id}-${A}`,type:R.type,level:R.level},G=Yy.create(t,F),I=y+A*(this.ITEM_SIZE+16),B=this.HEIGHT/2;if(G.setToCell({x:I,y:B},this.ITEM_SIZE),G.deactivate(),c.push(G),R.count>1){const k=t.add.text(I+this.ITEM_SIZE/2+30,B+this.ITEM_SIZE/2+20,`x${R.count}`,{...this.FONT}).setOrigin(1,1);u.push(k)}});const C=t.add.rectangle(this.WIDTH/2,this.HEIGHT,160,50,43520,1).setOrigin(.5,.5).setStrokeStyle(2,16777215,.4).setVisible(!1);C.setInteractive(),C.on("pointerdown",n.emitPointerdown.bind(n));const P=t.add.text(this.WIDTH/2,this.HEIGHT,"",{fontSize:"20px",fontFamily:"Arial",color:"#ffffff"}).setOrigin(.5).setVisible(!1),w=[T,f,...l,C,P,...u],M=t.add.container(p,E,w).setScrollFactor(0);return c.forEach(R=>{M.add(R.container)}),n.container=M,n.background=T,n.prizeTexts=l,n.targetViews=c,n.completeButton=C,n.completeText=P,n}destroy(){this.targetViews.forEach(t=>t.destroy()),this.container.destroy(!0)}showCompleteButton(){var t,i;(t=this.completeButton)==null||t.setVisible(!0),(i=this.completeText)==null||i.setVisible(!0)}hideCompleteButton(){var t,i;(t=this.completeButton)==null||t.setVisible(!1),(i=this.completeText)==null||i.setVisible(!1)}setPosition(t,i){this.container.setPosition(t,i)}emitPointerdown(){return this.id}},Ut(Ia,"WIDTH",300),Ut(Ia,"HEIGHT",180),Ut(Ia,"PADDING",16),Ut(Ia,"ITEM_SIZE",64),Ut(Ia,"FONT",{fontFamily:"Arial",color:"#ffffff",fontSize:"34px"}),Ia);oQ([Ew(Xu["TASK_VIEW:POINTERDOWN"])],a9.prototype,"emitPointerdown");let UP=a9;class Aw{constructor(t){Ut(this,"container");Ut(this,"maskShape");Ut(this,"taskViews",[]);Ut(this,"scrollOffset",0);Ut(this,"padding",18);Ut(this,"bgWidth");Ut(this,"bgHeight",250);Ut(this,"scrollSpeed",30);Ut(this,"spacing",32);Ut(this,"pointerDownX",null);Ut(this,"isDragging",!1);Ut(this,"bounds");this.scene=t,this.bgWidth=t.scale.width}static create(t,i){const s=new Aw(t),p=t.add.graphics();p.fillStyle(16777215),p.fillRect(0,0,s.bgWidth-s.padding*2,s.bgHeight-s.padding*2);const E=p.createGeometryMask();p.setVisible(!1);const n=t.add.container(s.padding,s.padding).setMask(E).setScrollFactor(0),r=(t.scale.width-s.bgWidth)/2+s.padding,o=i+s.padding;return n.setPosition(r,o),n.setData("initialX",n.x),p.setPosition(r,o),s.container=n,s.maskShape=p,s.bounds=new dl.Geom.Rectangle(r,o,s.bgWidth-s.padding*2,s.bgHeight-s.padding*2),t.input.on("pointerdown",x=>{s.bounds.contains(x.x,x.y)&&(s.pointerDownX=x.x,s.isDragging=!0)}),t.input.on("pointermove",x=>{if(!s.isDragging||s.pointerDownX===null)return;const d=x.x-s.pointerDownX,h=dl.Math.Clamp(s.scrollOffset+d,Math.min(0,s.bgWidth-s.totalContentWidth()-s.padding),0);s.container.x=s.initialContainerX()+h}),t.input.on("pointerup",x=>{if(!s.isDragging||s.pointerDownX===null)return;const d=x.x-s.pointerDownX,h=dl.Math.Clamp(s.scrollOffset+d,Math.min(0,s.bgWidth-s.totalContentWidth()-s.padding),0);s.scrollOffset=h,s.container.x=s.initialContainerX()+s.scrollOffset,s.pointerDownX=null,s.isDragging=!1}),s}totalContentWidth(){return this.taskViews.length*(UP.WIDTH+this.spacing)}initialContainerX(){return this.scene.scale.width/2-this.bgWidth/2+this.padding}scrollLeft(){this.scrollOffset=Math.min(this.scrollOffset+this.scrollSpeed,0),this.container.x=this.initialContainerX()+this.scrollOffset}scrollRight(){const t=Math.min(0,this.bgWidth-this.totalContentWidth()-this.padding);this.scrollOffset=Math.max(this.scrollOffset-this.scrollSpeed,t),this.container.x=this.initialContainerX()+this.scrollOffset}setVisible(t){this.container.setVisible(t)}destroyTaskById(t){const i=this.taskViews.findIndex(p=>p.id===t);if(i===-1)return;this.taskViews[i].destroy(),this.taskViews.splice(i,1);for(let p=i;p<this.taskViews.length;p++){const E=this.taskViews[p],n=p*(UP.WIDTH+this.spacing);E.setPosition(n,0)}}destroy(){this.taskViews.forEach(t=>t.destroy()),this.container.destroy(!0),this.maskShape.destroy(!0)}addTaskView(t){this.container.add(t.container),this.taskViews.push(t)}showCompleteButtons(t){for(const i of this.taskViews){const s=i.id;t.includes(s)?i.showCompleteButton():i.hideCompleteButton()}}}var Ga=(e=>(e.MOVE="move",e.SWAP="swap",e.COMBINE="combine",e.CANCEL="cancel",e.OWN="own",e))(Ga||{});class Fp{constructor(t){this.grid=t}setNext(t){this.nextInstance=t}next(t,i){return this.nextInstance.execute(t,i)}getItemByPosition(t){const i=this.grid.getItem(t.x,t.y);if(!i)throw new Error("No item to move");return i}}var lQ=Object.defineProperty,hQ=Object.getOwnPropertyDescriptor,Mx=(e,t,i,s)=>{for(var p=s>1?void 0:s?hQ(t,i):t,E=e.length-1,n;E>=0;E--)(n=e[E])&&(p=(s?n(t,i,p):n(p))||p);return s&&p&&lQ(t,i,p),p};let Yd=class{constructor(e,t){Ut(this,"gridView");Ut(this,"goldView");Ut(this,"experienceView");Ut(this,"bulletinBoardView");this.scene=e,this.controller=t,this.initGridView(),this.initItemsView(),this.initExperienceView(),this.initGoldView(),this.initBulletinBoardView(),this.initTasksView()}initGridView(){const{width:e,height:t}=this.controller.getGridSize();this.gridView=Pw.create(this.scene,e,t)}initItemsView(){this.controller.getAllItemsWithPosition().forEach(t=>{const i=Yy.create(this.scene,t.item);this.gridView.setContent(i,t.x,t.y)})}initExperienceView(){const e=this.controller.getExperience();this.experienceView=Mw.create(this.scene),this.experienceView.updateExperience(e)}initGoldView(){const e=this.controller.getGoldBalance();this.goldView=Rw.create(this.scene),this.goldView.updateGold(e)}initBulletinBoardView(){const e=this.gridView.getTopY();this.bulletinBoardView=Aw.create(this.scene,e)}initTasksView(){const e=this.controller.getAllTasks();for(let t=0;t<e.length;t++){const i=UP.create(this.scene,t,e[t]);this.bulletinBoardView.addTaskView(i)}}update(e){this.controller.generatorTik(e);const t=this.controller.checkReadyTasks();this.bulletinBoardView.showCompleteButtons(t)}handlerItemMoved(e,t){this.gridView.moveItem(e,t);const{prizes:i,cleanPositions:s}=this.controller.tryCombineItems(t);this.handlerCombineResult(i,s)}handlerMoveCancel(e){this.gridView.cancelMove(e)}handlerSwapOccurred(e,t){this.gridView.swapItems(e,t);const{prizes:i,cleanPositions:s}=this.controller.tryCombineItems(t);this.handlerCombineResult(i,s)}handlerCanCombineItems(e,t){const{prizes:i,cleanPositions:s}=this.controller.tryCombineItems(t,e);this.handlerCombineResult(i,s)}handlerCombineResult(e,t){const i=[];for(const s of e)i.push({position:s.position,item:Yy.create(this.scene,s.item)});this.gridView.combineChain(t,i)}handlerItemDragEnd(e,t,i){const s=this.gridView.findClosestCellIndex(e,t),p=this.gridView.findItemCellIndex(i);if(!p)throw new Error("From cell moving item not found");if(!s){this.gridView.cancelMove(i);return}const E={x:p[0],y:p[1]},n={x:s[0],y:s[1]},{action:T}=this.controller.moveItemTo(E,n);switch(T){case Ga.CANCEL:this.handlerMoveCancel(i);break;case Ga.COMBINE:this.handlerCanCombineItems(E,n);break;case Ga.MOVE:this.handlerItemMoved(E,n);break;case Ga.SWAP:this.handlerSwapOccurred(E,n);break;case Ga.OWN:this.handlerItemMoved(E,E);break}}handlerGeneratorClick(e){const{positionNewItem:t,newTargetItem:i}=this.controller.generateTarget(e),s=Yy.create(this.scene,i);this.gridView.setContent(s,t.x,t.y)}handlerPointerdown(e){const{prize:t,targets:i}=this.controller.completeTask(e);this.handleCompleteTask(e,i,t)}handleCompleteTask(e,t,i){for(const s of t)this.gridView.cleanItem(s.id);this.bulletinBoardView.destroyTaskById(e),this.goldView.updateGold(i.gold),this.experienceView.updateExperience(i.experience)}};Mx([bw(Xu["ITEM_VIEW:DRAG_END"])],Yd.prototype,"handlerItemDragEnd",1);Mx([bw(Xu["GENERATOR_VIEW:POINTERDOWN"])],Yd.prototype,"handlerGeneratorClick",1);Mx([bw(Xu["TASK_VIEW:POINTERDOWN"])],Yd.prototype,"handlerPointerdown",1);Yd=Mx([c$()],Yd);function uQ(e,t,i,s){const p=e-i,E=t-s;return Math.sqrt(p*p+E*E)}class Ow{constructor(t,i){this.width=t,this.height=i,this.items=new Map}static init(t,i){return new Ow(t,i)}getSize(){return{width:this.width,height:this.height}}getAllItems(){const t=[];return this.items.forEach(i=>{i&&t.push(i)}),t}getAllItemsWithPosition(){const t=[];return this.items.forEach((i,s)=>{i&&t.push({item:i,...this.parseKey(s)})}),t}getItemById(t){let i=null;return this.items.forEach(s=>{(s==null?void 0:s.id)===t&&(i=s)}),i}getAllGenerators(){const t=[];return this.items.forEach(i=>{i instanceof wx&&t.push(i)}),t}setGeneratedItem(t,i){const s=this.getItemPositionById(t);if(!s)throw new Error("Generator not found");const p=this.findEmptyCellNear(s.x,s.y);if(!p)throw new Error("Empty position not found");return this.setItem(p.x,p.y,i),p}getItem(t,i){const s=this.getKey(t,i);return this.items.get(s)}setItem(t,i,s){const p=this.getKey(t,i);this.items.set(p,s)}setItemNear(t,i,s){const p=this.findEmptyCellNear(t,i);if(!p)throw new Error("Position not found");return this.setItem(p.x,p.y,s),p}cleanItem(t,i){this.items.delete(this.getKey(t,i))}cleanItemById(t){const i=this.getItemPositionById(t);if(!i)throw new Error(`Item not found with id ${t}`);this.cleanItem(i.x,i.y)}isEmpty(t,i){return!this.items.has(this.getKey(t,i))}hasEmptyCell(){for(let t=0;t<this.height;t++)for(let i=0;i<this.width;i++)if(!this.getItem(i,t))return!0;return!1}findEmptyCellNear(t,i){let s=Number.MAX_VALUE,p=null;for(let E=0;E<this.height;E++)for(let n=0;n<this.width;n++){const T=this.getKey(n,E);if(!this.getItem(n,E)){const r=uQ(t,i,n,E);r<s&&(s=r,p=T)}}return p?this.parseKey(p):null}getKey(t,i){return this.validateCoordinates(t,i),`${t}-${i}`}parseKey(t){const[i,s]=t.split("-");return{x:Number(i),y:Number(s)}}getItemPositionById(t){let i=null;return this.items.forEach((s,p)=>{(s==null?void 0:s.id)===t&&(i=this.parseKey(p))}),i}validateCoordinates(t,i){if(t<0||t>this.width||i<0||i>this.height)throw new Error(`Invalid coordinates (${t}, ${i})`)}}class fQ{constructor(t){this.validator(t),this.items=t}validator(t){const i=t.reduce((p,E)=>p+E.probability,0);if(i!==100)throw new Error(`SpawnItemSet: total probability must be 100, got ${i}`);const s=new Set;for(const p of t){if(s.has(p.probability))throw new Error(`SpawnItemSet: duplicate probability ${p.probability} found`);s.add(p.probability)}}pick(t=Math.random()){const i=Math.floor(t*100);let s=0;for(const p of this.items)if(s+=p.probability,i<s)return p;return this.items[this.items.length-1]}}const dQ={[Yn.BOILER]:Mn.MUSHROOM,[Yn.BASKET]:Mn.FRUIT,[Yn.BOOK]:Mn.SCROLL,[Yn.POUCH]:Mn.STONE};class cQ{static create(t,i,s){function n(r){const o=r-3;return o<=0?1:o}const T=new fQ([{type:dQ[s],kind:ID.TARGET,level:n(i),probability:90},{type:s,kind:ID.GENERATOR,level:n(i),probability:10}]);return new wx(t,s,i,20,2e4,T)}}class vQ{static create(t,i,s){return new s9(t,s,i)}}class Lw{static create(t,i,s){if(ZH(s))return cQ.create(t,i,s);if(JH(s))return vQ.create(t,i,s);throw new Error(`Unknown item type ${s}`)}}class pQ{constructor(t,i,s){this.id=t,this.targets=i,this.prize=s,this.completed=!1}complete(t){const i=this.matchItems(t);return i.success?i.matched:null}get isCompleted(){return this.completed}isComplete(t){return this.matchItems(t).success}getPrize(){return this.prize}matchItems(t){const i=[...t],s=[];for(const p of this.targets){let E=p.count;for(let n=0;n<i.length&&E>0;){const T=i[n];T.type===p.type&&T.level===p.level?(s.push(T),i.splice(n,1),E--):n++}if(E>0)return{success:!1,matched:[]}}return{success:!0,matched:s}}getTargets(){return this.targets}}class gQ{static create(t,i,s){return new pQ(t,i,s)}}class yF{static loadItem(t){return Lw.create(t.id,t.level,t.type)}static loadTask(t){return gQ.create(t.id,t.targets,t.prize)}}class mQ{constructor(t,i,s,p,E,n,T,r){this.gameStateReader=t,this.moveItemUseCase=i,this.combineItemsUseCase=s,this.completeTaskUseCase=p,this.generatorTickUseCase=E,this.checkReadyTaskUseCase=n,this.generateElementUseCase=T,this.addTaskToBulletinBoardUseCase=r}getGoldBalance(){return this.gameStateReader.getGold()}getExperience(){return this.gameStateReader.getExperience()}getGridSize(){return this.gameStateReader.getGridSize()}getAllItemsWithPosition(){return this.gameStateReader.getAllItemsWithPosition()}getAllTasks(){return this.gameStateReader.getAllTasks()}moveItemTo(t,i){return this.moveItemUseCase.execute(t,i)}completeTask(t){return this.completeTaskUseCase.execute(t)}generateTarget(t){return this.generateElementUseCase.execute(t)}tryCombineItems(t,i){return this.combineItemsUseCase.execute(t,i)}generatorTik(t){this.generatorTickUseCase.execute(t)}checkReadyTasks(){return this.checkReadyTaskUseCase.execute()}}class yQ{constructor(t){this.bulletinBoard=t}execute(t,i){return this.bulletinBoard.addTask(t,i),{id:t,task:i}}}class Dw{constructor(){this.tasks=new Map}static init(){return new Dw}getAllTasks(){return[...this.tasks.values()]}getTaskById(t){if(this.tasks.has(t))return this.tasks.get(t);throw new Error(`Task not found with id ${t}`)}addTask(t,i){this.tasks.set(t,i)}cleanTaskById(t){this.tasks.delete(t)}}class xQ{constructor(t){this.grid=t}execute(t){const i=this.grid.getItemById(t);if(!i)throw new Error(`Generator not found -- ${t}`);if(!(i instanceof wx))throw new Error(`Item is not instance of BaseGeneratorDomain: ${JSON.stringify(i)}`);if(!this.grid.hasEmptyCell())throw new Error("Don't find empty cell");const s=i.getNewTargetConfig(),p=Lw.create(crypto.randomUUID(),s.level,s.type);return{positionNewItem:this.grid.setGeneratedItem(t,p),newTargetItem:p}}}class TQ{constructor(t,i,s,p){this.grid=t,this.experience=i,this.goldBalance=s,this.bulletinBoard=p}execute(t){const i=this.bulletinBoard.getTaskById(t),s=this.grid.getAllItems(),p=i.complete(s);if(!p)throw new Error("Unable to complete task");this.bulletinBoard.cleanTaskById(t);const E=i.getPrize();this.experience.up(E.experience),this.goldBalance.up(E.gold);for(const n of p)this.grid.cleanItemById(n.id);return{targets:p,prize:E}}}class Fw{constructor(t){this.value=t}static init(t){return new Fw(t)}getValue(){return this.value}up(t){this.value=this.value+t}}class Iw{constructor(t){this.value=t}static init(t){return new Iw(t)}getValue(){return this.value}up(t){this.value=this.value+t}}class CQ{constructor(t,i,s,p){this.grid=t,this.experience=i,this.goldBalance=s,this.bulletinBoardDomain=p}getGold(){return this.goldBalance.getValue()}getExperience(){return this.experience.getValue()}getGridSize(){return this.grid.getSize()}getAllItemsWithPosition(){return this.grid.getAllItemsWithPosition()}getAllTasks(){return this.bulletinBoardDomain.getAllTasks()}}class SQ{constructor(t){this.grid=t}execute(t){const i=this.grid.getAllGenerators();for(const s of i)s.tick(t)}}class EQ{constructor(t,i){this.grid=t,this.bulletinBoard=i}execute(){const t=this.bulletinBoard.getAllTasks(),i=this.grid.getAllItems(),s=[];for(const p of t)p.isComplete(i)&&s.push(p.id);return s}}class bQ{constructor(t){this.grid=t}execute(t,i){const s=this.grid.getItem(t.x,t.y);if(!s)return{cleanPositions:[],prizes:[]};const p=new Set,E=[];i&&(p.add(n(i.x,i.y)),E.push(i));function n(a,f){return`${a},${f}`}const T=a=>{const f=n(a.x,a.y);if(p.has(f)||a.x<0||a.y<0)return;const c=this.grid.getItem(a.x,a.y);if(!c||c.type!==s.type||c.level!==s.level)return;p.add(f),E.push(a),[{x:a.x+1,y:a.y},{x:a.x-1,y:a.y},{x:a.x,y:a.y+1},{x:a.x,y:a.y-1}].forEach(T)};if(T(t),E.length<3)return{cleanPositions:[],prizes:[]};const{leftoverCount:r,prizeCount:o}=this.calculatePrizeCount(E.length),x=[];for(let a=0;a<o;a++){const f=Lw.create(crypto.randomUUID(),s.level+1,s.type);x.push(f)}const d=[];for(let a=0;a<r;a++){const f=E[a],c=this.grid.getItem(f.x,f.y);d.push(c)}E.forEach(a=>this.grid.cleanItem(a.x,a.y));const h=[],l=[];for(const a of x){const f=this.grid.setItemNear(t.x,t.y,a);h.push({position:f,item:a})}for(const a of d){const f=this.grid.setItemNear(t.x,t.y,a);l.push({position:f,item:a})}return{cleanPositions:[...E],prizes:[...h,...l]}}calculatePrizeCount(t){const i=t===5?2:Math.floor(t/3),s=t-(t===5?5:i*3);return{prizeCount:i,leftoverCount:s}}}class PQ extends Fp{constructor(t){super(t),this.grid=t}execute(t,i){const s=this.grid.getItem(t.x,t.y);if(!s)throw new Error("No item to move");return this.grid.getItem(i.x,i.y)?this.next(t,i):(this.grid.cleanItem(t.x,t.y),this.grid.setItem(i.x,i.y,s),{action:Ga.MOVE})}}class wQ extends Fp{constructor(t){super(t),this.grid=t}execute(t,i){if(!this.getItemByPosition(t))throw new Error("No item to move");return t.x===i.x&&t.y===i.y?{action:Ga.OWN}:this.next(t,i)}}class MQ extends Fp{constructor(t){super(t),this.grid=t}execute(t,i){const s=this.grid.getItem(t.x,t.y);if(!s)throw new Error("No item to move");const p=this.grid.getItem(i.x,i.y);return p&&!p.canCombineWith(s)?(this.grid.cleanItem(t.x,t.y),this.grid.cleanItem(i.x,i.y),this.grid.setItem(i.x,i.y,s),this.grid.setItem(t.x,t.y,p),{action:Ga.SWAP}):this.next(t,i)}}class RQ extends Fp{constructor(t){super(t),this.grid=t}execute(){return{action:Ga.CANCEL}}}class AQ extends Fp{constructor(t){super(t),this.grid=t}execute(t,i){const s=this.grid.getItem(t.x,t.y);if(!s)throw new Error("No item to move");const p=this.grid.getItem(i.x,i.y);return p&&p.canCombineWith(s)?{action:Ga.COMBINE}:this.next(t,i)}}class OQ{constructor(t){this.grid=t}execute(t,i){const s=new wQ(this.grid),p=new PQ(this.grid),E=new MQ(this.grid),n=new AQ(this.grid),T=new RQ(this.grid),r=[s,p,E,n,T];return r.forEach((o,x,d)=>{const h=x+1;o.setNext(d[h])}),r[0].execute(t,i)}}class LQ{static bootstrap(t,i,s){const p=Ow.init(t.width,t.height),E=Dw.init(),n=Fw.init(100),T=Iw.init(200);for(const c of i){const u=yF.loadItem(c),[v,g]=t.items[c.id].split("-");p.setItem(Number(v),Number(g),u)}for(const c of s){const u=yF.loadTask(c);E.addTask(u.id,u)}const r=new OQ(p),o=new bQ(p),x=new SQ(p),d=new xQ(p),h=new EQ(p,E),l=new yQ(E),a=new TQ(p,n,T,E),f=new CQ(p,n,T,E);return new mQ(f,r,o,a,x,h,d,l)}}var o9={exports:{}};(function(e,t){(function(i,s){e.exports=s()})(P4,function(){var i=function(){function s(l){return n.appendChild(l.dom),l}function p(l){for(var a=0;a<n.children.length;a++)n.children[a].style.display=a===l?"block":"none";E=l}var E=0,n=document.createElement("div");n.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",n.addEventListener("click",function(l){l.preventDefault(),p(++E%n.children.length)},!1);var T=(performance||Date).now(),r=T,o=0,x=s(new i.Panel("FPS","#0ff","#002")),d=s(new i.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var h=s(new i.Panel("MB","#f08","#201"));return p(0),{REVISION:16,dom:n,addPanel:s,showPanel:p,begin:function(){T=(performance||Date).now()},end:function(){o++;var l=(performance||Date).now();if(d.update(l-T,200),l>r+1e3&&(x.update(1e3*o/(l-r),100),r=l,o=0,h)){var a=performance.memory;h.update(a.usedJSHeapSize/1048576,a.jsHeapSizeLimit/1048576)}return l},update:function(){T=this.end()},domElement:n,setMode:p}};return i.Panel=function(s,p,E){var n=1/0,T=0,r=Math.round,o=r(window.devicePixelRatio||1),x=80*o,d=48*o,h=3*o,l=2*o,a=3*o,f=15*o,c=74*o,u=30*o,v=document.createElement("canvas");v.width=x,v.height=d,v.style.cssText="width:80px;height:48px";var g=v.getContext("2d");return g.font="bold "+9*o+"px Helvetica,Arial,sans-serif",g.textBaseline="top",g.fillStyle=E,g.fillRect(0,0,x,d),g.fillStyle=p,g.fillText(s,h,l),g.fillRect(a,f,c,u),g.fillStyle=E,g.globalAlpha=.9,g.fillRect(a,f,c,u),{dom:v,update:function(m,y){n=Math.min(n,m),T=Math.max(T,m),g.fillStyle=E,g.globalAlpha=1,g.fillRect(0,0,x,f),g.fillStyle=p,g.fillText(r(m)+" "+s+" ("+r(n)+"-"+r(T)+")",h,l),g.drawImage(v,a+o,f,c-o,u,a,f,c-o,u),g.fillRect(a+c-o,f,o,u),g.fillStyle=E,g.globalAlpha=.9,g.fillRect(a+c-o,f,o,r((1-m/y)*u))}}},i})})(o9);var DQ=o9.exports;const FQ=vx(DQ);var IQ=Object.defineProperty,BQ=Object.getOwnPropertyDescriptor,l9=(e,t,i,s)=>{for(var p=BQ(t,i),E=e.length-1,n;E>=0;E--)(n=e[E])&&(p=n(t,i,p)||p);return p&&IQ(t,i,p),p};class Bw extends Zd.Scene{constructor(){super(F4);Ut(this,"adapter");Ut(this,"adapterIsRead",!1);Ut(this,"stats")}async preload(){new lw(this,!0),this.load.setPath("assets"),this.load.image(QH,"./item_1.png"),this.load.image(qH,"./item_2.png"),this.load.image(_H,"./item_3.png"),this.load.image(t$,"./item_4.png"),this.load.image(e$,"./item_5.png"),this.load.image(i$,"./item_6.png"),this.load.image(r$,"./boiler.png"),this.load.image(o$,"./mushroom.png"),this.load.image(n$,"./basket.png"),this.load.image(l$,"./fruit.png"),this.load.image(s$,"./book.png"),this.load.image(h$,"./scroll.png"),this.load.image(a$,"./pouch.png"),this.load.image(u$,"./stone.png"),this.load.image(X4,"./lightning.png")}create(){this.stats=new FQ,this.stats.showPanel(0),document.body.appendChild(this.stats.dom);const i=[{type:Yn.BOILER,level:1,id:"gen-test-id"},{type:Yn.BOILER,level:1,id:"gen-test-id-4"},{type:Mn.MUSHROOM,level:1,id:"test-id"},{type:Yn.BASKET,level:1,id:"gen-test-id-1"},{type:Yn.BOOK,level:1,id:"gen-test-id-2"},{type:Yn.POUCH,level:1,id:"gen-test-id-3"}],s={width:9,height:13,items:{"gen-test-id":"4-4","gen-test-id-4":"5-4","gen-test-id-1":"6-7","gen-test-id-2":"0-9","gen-test-id-3":"7-11","test-id":"1-1"}},p=[{id:"task-id-3",targets:[{type:Mn.MUSHROOM,level:1,count:2}],prize:{gold:10,experience:20}},{id:"task-id-5",targets:[{type:Mn.MUSHROOM,level:2,count:1}],prize:{gold:20,experience:30}},{id:"task-id-4",targets:[{type:Mn.MUSHROOM,level:3,count:3}],prize:{gold:30,experience:40}},{id:"task-id-1",targets:[{type:Mn.MUSHROOM,level:4,count:1}],prize:{gold:50,experience:70}},{id:"task-id-2",targets:[{type:Mn.MUSHROOM,level:5,count:1}],prize:{gold:90,experience:150}}],E=LQ.bootstrap(s,i,p);this.adapter=new Yd(this,E),this.adapterIsRead=!0,this.add.text(30,300,"123",{fontSize:"48px"}).setName("countText"),this.events.on("update",()=>{this.children.getByName("countText").setText(`Objects: ${this.children.list.length}`)}),this.tweens.add({targets:this.add.text(100,100,"Capture",{color:"#fff"}),y:200,duration:1e3,yoyo:!0,repeat:-1})}update(i,s){this.stats.begin(),this.stats.end()}}l9([wo],Bw.prototype,"preload");l9([wo],Bw.prototype,"create");class It{constructor(t){this.scene=t,t.events.once("destroy",this.destroy,this)}destroy(){this.scene=null}static register(t,i){It.prototype[t]=i}}var GQ=function(e){return e===void 0&&(e=kQ),this.getFrameNameCallback=e,this},kQ=function(e,t,i){return i==="__BASE"?`${e},${t}`:`${i}:${e},${t}`};function tn(e){if(e===null||typeof e!="object")return e;if(Array.isArray(e))return e.map(i=>tn(i));if(e instanceof Date)return new Date(e);if(e instanceof RegExp)return new RegExp(e);if(Object.getPrototypeOf(e)!==Object.prototype)return e;const t={};for(let i in e)e.hasOwnProperty(i)&&(t[i]=tn(e[i]));return t}var NQ=function(e,t,i,s){Array.isArray(t)&&(s=i,i=t,t=void 0),t==null&&(t="__BASE"),typeof i=="number"&&arguments.length>=6?(i=[arguments[2],void 0,arguments[3]],s=[arguments[4],void 0,arguments[5]]):i===void 0&&s===void 0&&this.columns.data!==void 0&&this.rows.data!==void 0?(i=this.columns.data,s=this.rows.data):(i=tn(i),s=tn(s)),this.textureKey=e,this.baseFrameName=t,this.columns.data=i,this.columns.count=i?i.length:0,this.columns.stretch=0,this.columns.minWidth=0,this.columns.scale=1,this.rows.data=s,this.rows.count=s?s.length:0,this.rows.stretch=0,this.rows.minHeight=0,this.rows.scale=1;var p=this.scene.sys.textures.get(e);if(!p)return this.clear(),this;if(!i||!s)return this.clear(),this;for(var E=p.get(t),n=E.width,T=0,r=0,o=i.length;r<o;r++)i[r]===void 0?T++:typeof i[r]=="number"?n-=i[r]:n-=i[r].width;for(var x=T>0?n/T:0,d=E.height,h=0,r=0,o=s.length;r<o;r++)s[r]===void 0?h++:typeof s[r]=="number"?d-=s[r]:d-=s[r].width;for(var l=h?d/h:0,a,f,c,u,v,g=0,m=0,y=0,C=s.length;y<C;y++){s[y]===void 0&&(s[y]=l),typeof s[y]=="number"&&(s[y]={height:s[y],stretch:y%2}),a=s[y],c=a.height,this.rows.stretch+=a.stretch|0,this.rows.minHeight+=a.stretch>0?0:c,g=0;for(var r=0,P=i.length;r<P;r++){if(i[r]===void 0&&(i[r]=x),typeof i[r]=="number"&&(i[r]={width:i[r],stretch:r%2}),f=i[r],u=f.width,y===0&&(this.columns.stretch+=f.stretch|0,this.columns.minWidth+=f.stretch>0?0:u),u>=1&&c>=1){v=this.getFrameNameCallback(r,y,t);var w=typeof v;(w==="string"||w==="number")&&p.add(v,0,g+E.cutX,m+E.cutY,u,c)}g+=u}m+=c}return this.updateTexture(),this},UQ=function(){if(this.clear(),this.textureKey===void 0)return this;var e=this.scene.sys.textures.get(this.textureKey);if(!e)return this;var t=this.columns.minWidth*this.maxFixedPartScaleX,i=this.rows.minHeight*this.maxFixedPartScaleY,s=this.width-t,p=this.height-i,E=s>=0?this.maxFixedPartScaleX:this.width/t,n=p>=0?this.maxFixedPartScaleY:this.height/i;if(this.preserveRatio){var T=Math.min(E,n);if(E>T){var r=(E-T)*t;s>=0?s+=r:s=r,E=T}if(n>T){var o=(n-T)*i;p>=0?p+=o:p=o,n=T}}this.columns.scale=E,this.rows.scale=n;var x;s>0?x=this.columns.stretch>0?s/this.columns.stretch:0:x=0;var d;p>0?d=this.rows.stretch>0?p/this.rows.stretch:0:d=0;var h,l,a,f,c,u=0,v=0,g;this._beginDraw();for(var m=0,y=this.rows.count;m<y;m++){a=this.rows.data[m],c=a.stretch===0?a.height*n:d*a.stretch,u=0;for(var C=0,P=this.columns.count;C<P;C++)l=this.columns.data[C],f=l.stretch===0?l.width*E:x*l.stretch,h=this.getFrameNameCallback(C,m,this.baseFrameName),e.has(h)&&f>0&&c>0&&(a.stretch===0&&l.stretch===0||this.getStretchMode(C,m)===0?g=0:g=1,g===0?this._drawImage(this.textureKey,h,u,v,f,c):this._drawTileSprite(this.textureKey,h,u,v,f,c)),u+=f;v+=c}this._endDraw()};const VQ=Phaser.Utils.Objects.IsPlainObject,xF=Phaser.Utils.Objects.GetValue;var zQ=function(e){return VQ(e)?(this.stretchMode.edge=zE(xF(e,"edge",0)),this.stretchMode.internal=zE(xF(e,"internal",0))):(e=zE(e),this.stretchMode.edge=e,this.stretchMode.internal=e),this},zE=function(e){return typeof e=="string"&&(e=WQ[e]),e};const WQ={scale:0,repeat:1};var YQ=function(e,t){return e===0||e===this.columns.count-1||t===0||t===this.rows.count-1},XQ=function(e,t){return YQ.call(this,e,t)?this.stretchMode.edge:this.stretchMode.internal},HQ=function(e){return e==null&&(e=!0),this.preserveRatio=e,this},$Q=function(e,t){return t===void 0&&(t=e),this.maxFixedPartScaleX=e,this.maxFixedPartScaleY=t,this},Ur=function(){};const KQ={_beginDraw:Ur,_drawImage:Ur,_drawTileSprite:Ur,_endDraw:Ur,setGetFrameNameCallback:GQ,setBaseTexture:NQ,updateTexture:UQ,setStretchMode:zQ,getStretchMode:XQ,setPreserveRatio:HQ,setMaxFixedPartScale:$Q},kv=Phaser.Utils.Objects.IsPlainObject,li=Phaser.Utils.Objects.GetValue;var h9=function(e,t){class i extends e{constructor(p,E,n,T,r,o,x,d,h,l){if(kv(E)?(l=E,E=li(l,"x",0),n=li(l,"y",0),T=li(l,"width",1),r=li(l,"height",1),o=li(l,"key",void 0),x=li(l,"baseFrame",void 0),d=li(l,"columns",void 0),h=li(l,"rows",void 0)):kv(T)?(l=T,T=li(l,"width",1),r=li(l,"height",1),o=li(l,"key",void 0),x=li(l,"baseFrame",void 0),d=li(l,"columns",void 0),h=li(l,"rows",void 0)):kv(o)?(l=o,o=li(l,"key",void 0),x=li(l,"baseFrame",void 0),d=li(l,"columns",void 0),h=li(l,"rows",void 0)):kv(x)?(l=x,x=li(l,"baseFrame",void 0),d=li(l,"columns",void 0),h=li(l,"rows",void 0)):Array.isArray(x)?(l=h,h=d,d=x,x=li(l,"baseFrame",void 0)):kv(d)&&(l=d,d=li(l,"columns",void 0),h=li(l,"rows",void 0)),x===void 0&&(x=li(l,"frame",void 0)),d===void 0){var a=li(l,"leftWidth",void 0),f=li(l,"rightWidth",void 0);a!==void 0&&f!==void 0&&(d=[a,void 0,f])}if(h===void 0){var c=li(l,"topHeight",void 0),u=li(l,"bottomHeight",void 0);c!==void 0&&u!==void 0&&(h=[c,void 0,u])}super(p),this.type=t,this.setPosition(E,n).setSize(T,r).setOrigin(.5,.5),this.columns={},this.rows={},this.stretchMode={},this._tileSprite=void 0,this._image=void 0,this.setGetFrameNameCallback(li(l,"getFrameNameCallback",void 0)),this.setStretchMode(li(l,"stretchMode",0)),this.setPreserveRatio(li(l,"preserveRatio",!0));var v=li(l,"maxFixedPartScale",1),g=li(l,"maxFixedPartScaleX",v),m=li(l,"maxFixedPartScaleY",void 0);this.setMaxFixedPartScale(g,m),this.setBaseTexture(o,x,d,h)}get minWidth(){return this.columns.minWidth}get minHeight(){return this.rows.minHeight}get fixedPartScaleX(){return this.columns.scale}get fixedPartScaleY(){return this.rows.scale}resize(p,E){return this.width===p&&this.height===E?this:(super.resize?super.resize(p,E):super.setSize(p,E),this.updateTexture(),this)}get leftWidth(){return this.columns.data[0]}get rightWidth(){return this.columns.data[this.columns.count-1]}get topHeight(){return this.rows.data[0]}get bottomHeight(){return this.rows.data[this.rows.count-1]}}return Object.assign(i.prototype,KQ),i};const ZQ=Phaser.Game;var TF=function(e){return e instanceof ZQ};const JQ=Phaser.Scene;var Uu=function(e){return e instanceof JQ},zu=function(e){if(e==null||typeof e!="object")return null;if(TF(e))return e;if(TF(e.game))return e.game;if(Uu(e))return e.sys.game;if(Uu(e.scene))return e.scene.sys.game};const jQ=Phaser.GameObjects;var Ql=void 0,u9=function(e,t){if(Ql||(Ql={},zu(e).events.once("destroy",function(){for(var s in Ql)Ql[s].destroy();Ql=void 0})),!Ql.hasOwnProperty(t)){var i=zu(e).scene.systemScene,e=new jQ[t](i);e.setOrigin(0),Ql[t]=e}return Ql[t]},QQ=function(e,t,i,s,p,E){var n=u9(this,"Image").setTexture(e,t).setDisplaySize(p,E);this.draw(n,i,s)},qQ=function(e,t,i,s,p,E){var n=u9(this,"TileSprite").setTexture(e,t).setSize(p,E);this.draw(n,i,s)};const _Q=Phaser.GameObjects.RenderTexture;let Rx=class extends h9(_Q,"rexNinePatch"){};var tq={_drawImage:QQ,_drawTileSprite:qQ};Object.assign(Rx.prototype,tq);var f9=function(e){return e==null||e===""||e.length===0},eq=function(e,t,i){var s=e;if(!f9(t)){typeof t=="string"&&(t=t.split("."));for(var p,E=0,n=t.length;E<n;E++){if(p=t[E],s[p]==null||typeof s[p]!="object"){var T;E===n-1?T={}:T={},s[p]=T}s=s[p]}}return s},Lt=function(e,t,i,s){if(s===void 0&&(s="."),typeof e=="object"){if(f9(t)){if(i==null)return;typeof i=="object"&&(e=i)}else{typeof t=="string"&&(t=t.split(s));var p=t.pop(),E=eq(e,t);E[p]=i}return e}};It.register("ninePatch",function(e,t,i,s,p,E,n,T){var r=new Rx(this.scene,e,t,i,s,p,E,n,T);return this.scene.add.existing(r),r});Lt(window,"RexPlugins.UI.NinePatch",Rx);const iq=Phaser.GameObjects.GetCalcMatrix;var rq=function(e,t,i,s){var p=t.getRenderList();if(p.length!==0){i.addToRenderList(t);var E=e.pipelines.set(t.pipeline),n=t.frame.glTexture,T=E.setGameObject(t),r=i.roundPixels,o=iq(t,i,s),x=E.calcMatrix.copyFrom(o.calc),d=t._displayOriginX,h=t._displayOriginY,l=i.alpha*t.alpha;e.pipelines.preBatch(t);for(var a=0,f=p.length;a<f;a++)p[a].webglRender(E,x,l,d,h,n,T,r);e.pipelines.postBatch(t)}};const nq=Phaser.Renderer.Canvas.SetTransform;var sq=function(e,t,i,s){var p=e.currentContext,E=t.getRenderList();if(!(E.length===0||!nq(e,p,t,i,s))){i.addToRenderList(t);var n=i.roundPixels,T=-t._displayOriginX,r=-t._displayOriginY;p.translate(T,r);for(var o=0,x=E.length;o<x;o++)E[o].canvasRender(p,T,r,n);p.restore()}};const aq={renderWebGL:rq,renderCanvas:sq};var oq=function(e,t){return this.texture=this.scene.sys.textures.get(e),this.frame=this.texture.get(t),this},CF=function(e,t){if(this.width===e&&this.height===t)return this;this.width=e,this.height=t,this.updateDisplayOrigin();var i=this.input;return i&&!i.customHitArea&&(i.hitArea.width=e,i.hitArea.height=t),this},lq=function(e){return this.lastAppendedChildren.length=0,Array.isArray(e)?(this.children.add(e),this.lastAppendedChildren.push(...e)):(this.children.add(e),this.lastAppendedChildren.push(e)),this};const hq=Phaser.Utils.Array.Remove;var uq=function(e){return this.poolManager&&this.poolManager.free(e),hq(this.children.list,e),this.lastAppendedChildren.length=0,this.dirty=!0,this},SF=function(){return this.poolManager&&this.poolManager.freeMultiple(this.children.list),this.children.list.length=0,this.lastAppendedChildren.length=0,this.dirty=!0,this},fq=function(){return this.lastAppendedChildren},dq=function(){return this.children.list};const cq={setTint(e){return this.tint=e,this.tintFill=!1,this},setTintFill(e){return this.tint=e,this.tintFill=!0,this},clearTint(){return this.setTint(16777215),this}};var d9={setTexture:oq,resize:CF,setSize:CF,addChild:lq,removeChild:uq,removeChildren:SF,clear:SF,getLastAppendedChildren:fq,getChildren:dq};Object.assign(d9,cq);class Co{constructor(){this.items=[]}destroy(){this.clear(),this.items=void 0}pop(){return this.items.length>0?this.items.pop():null}push(t){return this.items.push(t),this}pushMultiple(t){return this.items.push.apply(this.items,t),t.length=0,this}clear(){return this.items.length=0,this}}const vq=Phaser.Utils.Objects.GetValue;var pq={};let gq=class{constructor(t){this.pools=vq(t,"pools",pq)}destroy(){this.pools=void 0}free(t){if(!this.pools)return this;var i=t.type;return this.pools.hasOwnProperty(i)||(this.pools[i]=new Co),this.pools[i].push(t),t.onFree(),this}freeMultiple(t){if(!this.pools)return this;for(var i=0,s=t.length;i<s;i++)this.free(t[i]);return this}allocate(t){return!this.pools||!this.pools.hasOwnProperty(t)?null:this.pools[t].pop()}};const mq=60;var EF=!1,Ax=function(e){if(!EF){e===void 0&&(e=mq);var t=Phaser.VERSION.split("."),i=parseInt(t[0]);if(i===3){var s=parseInt(t[1]);s<e&&console.error(`Minimum supported version : ${i}.${s}`)}else console.error(`Can't supported version : ${i}`);EF=!0}};Ax();const yq=Phaser.GameObjects.GameObject,xq=Phaser.Utils.Objects.IsPlainObject,Nv=Phaser.Utils.Objects.GetValue,Tq=Phaser.Structs.List,Cq=Phaser.Utils.Array.StableSort;class c9 extends yq{constructor(t,i,s,p,E,n){xq(i)&&(n=i,i=Nv(n,"x",0),s=Nv(n,"y",0),p=Nv(n,"texture"),E=Nv(n,"frame")),i===void 0&&(i=0),s===void 0&&(s=0),super(t,"rexBlitter"),this.children=new Tq,this.renderList=[],this.displayListDirty=!1,this.lastAppendedChildren=[];var T=Nv(n,"reuseBob",!0);this.poolManager=T?new gq(n):void 0,this.setTexture(p,E),this.setPosition(i,s),this.setOrigin(0,0),this.clearTint(),this.initPipeline(),this.initPostPipeline()}preDestroy(){this.removeChildren(),this.children.destroy(),this.renderList.length=0,this.poolManager&&this.poolManager.destroy()}getRenderList(){if(this.displayListDirty){this.renderList.length=0;for(var t=!1,i=this.children.list,s=0,p=i.length;s<p;s++){var E=i[s];Sq(E)&&(this.renderList.push(E),t||(t=E.depth!==0))}t&&Cq(this.renderList,Eq),this.displayListDirty=!1}return this.renderList}}var Sq=function(e){return e.active&&e.visible&&e.alpha>0},Eq=function(e,t){return e._depth-t._depth};const $s=Phaser.GameObjects.Components;Phaser.Class.mixin(c9,[$s.Alpha,$s.BlendMode,$s.ComputedSize,$s.Depth,$s.GetBounds,$s.Mask,$s.Origin,$s.Pipeline,$s.PostPipeline,$s.ScrollFactor,$s.Transform,$s.Visible,aq,d9]);const v9="image";var Ti=function(e,t,i){if(!e||typeof e=="number")return i;if(typeof t=="string"){if(e.hasOwnProperty(t))return e[t];if(t.indexOf(".")!==-1)t=t.split(".");else return i}for(var s=t,p=e,E=i,n=0;n<s.length;n++)if(t=s[n],p.hasOwnProperty(t))E=p[t],p=E;else{E=i;break}return E},Sh=function(e){if(typeof e!="object"||e===null)return e;if(Array.isArray(e))e.length=0;else for(var t in e)delete e[t];return e};const Ox={enableData(){return this.data===void 0&&(this.data={}),this},setData(e,t){if(this.enableData(),arguments.length===1){var i=e;for(e in i)this.data[e]=i[e]}else this.data[e]=t;return this},getData(e,t){return this.enableData(),e===void 0?this.data:Ti(this.data,e,t)},incData(e,t,i){return i===void 0&&(i=0),this.enableData(),this.setData(e,this.getData(e,i)+t),this},mulData(e,t,i){return i===void 0&&(i=0),this.enableData(),this.setData(e,this.getData(e,i)*t),this},clearData(){return this.data&&Sh(this.data),this}};let p9=class{constructor(t,i){this.type=i,this.data=void 0,this.setParent(t).reset().setActive()}destroy(){this.parent&&this.parent.removeChild(this)}setParent(t){return this.parent=t,this}setDisplayListDirty(t){return t&&this.parent&&(this.parent.displayListDirty=!0),this}get active(){return this._active}set active(t){this.setDisplayListDirty(this._active!=t),this._active=t}setActive(t){return t===void 0&&(t=!0),this.active=t,this}modifyPorperties(t){return this}reset(){this.clearData()}onFree(){this.reset().setActive(!1).setParent()}};Object.assign(p9.prototype,Ox);const bq=Phaser.Math.DegToRad,Pq=Phaser.Math.RadToDeg,qf=Phaser.Utils.Objects.GetValue;let wq=class extends p9{get visible(){return this._visible}set visible(t){this.setDisplayListDirty(this._visible!=t),this._visible=t}setVisible(t){return t===void 0&&(t=!0),this.visible=t,this}get alpha(){return this._alpha}set alpha(t){this.setDisplayListDirty(!!this._alpha!=!!t),this._alpha=t}setAlpha(t){return this.alpha=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setPosition(t,i){return this.x=t,this.y=i,this}setRotation(t){return this.rotation=t,this}get angle(){return Pq(this.rotation)}set angle(t){this.rotation=bq(t)}setAngle(t){return this.angle=t,this}setScaleX(t){return this.scaleX=t,this}get width(){return this._width}set width(t){this._width=t}setWidth(t,i){return i===void 0&&(i=!1),this.width=t,i&&(this.scaleY=this.scaleX),this}setScaleY(t){return this.scaleY=t,this}setScale(t,i){return i===void 0&&(i=t),this.scaleX=t,this.scaleY=i,this}get height(){return this._height}set height(t){this._height=t}setHeight(t,i){return i===void 0&&(i=!1),this.height=t,i&&(this.scaleX=this.scaleY),this}setScale(t,i){return i===void 0&&(i=t),this.scaleX=t,this.scaleY=i,this}get displayWidth(){return this._width*this.scaleX}set displayWidth(t){this.scaleX=t/this._width}setDisplayWidth(t,i){return i===void 0&&(i=!1),this.displayWidth=t,i&&(this.scaleY=this.scaleX),this}get displayHeight(){return this._height*this.scaleY}set displayHeight(t){this.scaleY=t/this._height}setDisplayHeight(t,i){return i===void 0&&(i=!1),this.displayHeight=t,i&&(this.scaleX=this.scaleY),this}setOriginX(t){return this.originX=t,this._displayOriginX=this.width*t,this}setOriginY(t){return this.originY=t,this._displayOriginY=this.height*t,this}setOrigin(t,i){return i===void 0&&(i=t),this.setOriginX(t).setOriginY(i),this}get depth(){return this._depth}set depth(t){this.setDisplayListDirty(this._depth!=t),this._depth=t}setDepth(t){return t===void 0&&(t=0),this.depth=t,this}modifyPorperties(t){if(!t)return this;t.hasOwnProperty("x")&&this.setX(t.x),t.hasOwnProperty("y")&&this.setY(t.y),t.hasOwnProperty("rotation")?this.setRotation(t.rotation):t.hasOwnProperty("angle")&&this.setAngle(t.angle),t.hasOwnProperty("alpha")&&this.setAlpha(t.alpha);var i=qf(t,"width",void 0),s=qf(t,"height",void 0),p=qf(t,"scale",void 0),E=qf(t,"scaleX",p),n=qf(t,"scaleY",p);i!==void 0?s===void 0&&n===void 0?this.setWidth(i,!0):this.setWidth(i):E!==void 0?this.setScaleX(E):t.hasOwnProperty("displayWidth")&&this.setDisplayWidth(t.displayWidth),s!==void 0?i===void 0&&E===void 0?this.setHeight(s,!0):this.setHeight(s):n!==void 0?this.setScaleY(n):t.hasOwnProperty("displayHeight")&&this.setDisplayHeight(t.displayHeight);var T=qf(t,"origin",void 0);return T!==void 0?this.setOrigin(T):(t.hasOwnProperty("originX")&&this.setOriginX(t.originX),t.hasOwnProperty("originY")&&this.setOriginY(t.originY)),t.hasOwnProperty("depth")&&this.setDepth(t.depth),this}reset(){return super.reset(),this.setVisible().setAlpha(1).setPosition(0,0).setRotation(0).setScale(1,1).setOrigin(0).setDepth(0),this}webglRender(t,i,s,p,E,n,T,r){}canvasRender(t,i,s,p){}};const Mq=Phaser.GameObjects.Components.TransformMatrix,Rq=Phaser.Renderer.WebGL.Utils.getTintAppendFloatAlpha;var b0=new Mq,Aq=function(e,t,i,s,p,E,n,T){var r=this.frame;if(r){var o=this._width,x=this._height,d=o*this.originX,h=x*this.originY,l=this.x-s,a=this.y-p,f,c,u,v,g,m,y,C;if(this.isCropped){var P=this._crop;(P.flipX!==this.flipX||P.flipY!==this.flipY)&&r.updateCropUVs(P,this.flipX,this.flipY),f=P.u0,c=P.v0,u=P.u1,v=P.v1,y=P.width,C=P.height,g=P.x,m=P.y}else f=this.frame.u0,c=this.frame.v0,u=this.frame.u1,v=this.frame.v1,y=o,C=x,g=0,m=0;var w=1,M=1;this.flipX&&(l+=o-d*2,w=-1),this.flipY&&(a+=x-h*2,M=-1),b0.applyITRS(l,a,this.rotation,this.scaleX*w,this.scaleY*M),t.multiply(b0,b0);var R=-d+g,A=-h+m,L=R+y,F=A+C,G=b0.setQuad(R,A,L,F,T),I=Rq(this.tint,this.alpha*i);e.batchQuad(this.parent,G[0],G[1],G[2],G[3],G[4],G[5],G[6],G[7],f,c,u,v,I,I,I,I,this.tintFill,E,n)}},Oq=function(e,t,i,s){var p=this.frame;if(p){e.save();var E=this._width,n=this._height,T=E*this.originX,r=n*this.originY,o=this.x-T,x=this.y-r,d,h,l,a;if(this.isCropped){var f=this._crop;(f.flipX!==this.flipX||f.flipY!==this.flipY)&&p.updateCropUVs(f,this.flipX,this.flipY),l=f.cw,a=f.ch,d=f.cx,h=f.cy}else l=p.cutWidth,a=p.cutHeight,d=p.cutX,h=p.cutY;var c=1,u=1;this.flipX&&(o+=E,c=-1),this.flipY&&(x+=n,u=-1);var v=p.source.resolution,g=l/v,m=a/v;s&&(o=Math.floor(o+.5),x=Math.floor(x+.5),g+=.5,m+=.5),e.translate(o,x),e.rotate(this.rotation),e.scale(this.scaleX*c,this.scaleY*u),e.drawImage(p.source.image,d,h,l,a,0,0,g,m),e.restore()}};const Lq=Phaser.Utils.Objects.IsPlainObject;let g9=class extends wq{constructor(t,i){super(t,v9),this._crop=Dq(),this.setFrame(i)}get width(){return this._width}set width(t){}get height(){return this._height}set height(t){}setFrame(t){return arguments.length>0&&!Lq(t)&&(t=this.parent.texture.get(t)),this.frame=t,t?(this._width=t.realWidth,this._height=t.realHeight):(this._width=0,this._height=0),this}setFlipX(t){return t===void 0&&(t=!0),this.flipX=t,this}setFlipY(t){return t===void 0&&(t=!0),this.flipY=t,this}resetFlip(){return this.flipX=!1,this.flipY=!1,this}get tint(){return this._tint===void 0?this.parent.tint:this._tint}set tint(t){this._tint=t}setTint(t){return this.tint=t,this.tintFill=!1,this}setTintFill(t){return this.tint=t,this.tintFill=!0,this}clearTint(){return this.setTint(16777215),this}resetTint(){return this.tint=void 0,this.tintFill=void 0,this}get tintFill(){return this._tintFill===void 0?this.parent.tintFill:this._tintFill}set tintFill(t){this._tintFill=t}setCrop(t,i,s,p){return t===void 0?(this.isCropped=!1,this):this.frame?t===0&&i===0&&s===this._width&&p===this._height?(this.isCropped=!1,this):(this.frame.setCropUVs(this._crop,t,i,s,p,this.flipX,this.flipY),this.isCropped=!0,this):this}reset(){return super.reset(),this.resetFlip().resetTint().setFrame().setCrop(),this}modifyPorperties(t){return t?(t.hasOwnProperty("width")&&(t.displayWidth=t.width,delete t.width),t.hasOwnProperty("height")&&(t.displayHeight=t.height,delete t.height),t.hasOwnProperty("frame")&&this.setFrame(t.frame),super.modifyPorperties(t),t.hasOwnProperty("flipX")&&this.setFlipX(t.flipX),t.hasOwnProperty("flipY")&&this.setFlipY(t.flipY),t.hasOwnProperty("tint")&&this.setTint(t.tint),t.hasOwnProperty("tintFill")&&this.setTintFill(t.tintFill),this):this}};var Dq=function(e){return e===void 0&&(e={}),e.u0=0,e.v0=0,e.u1=0,e.v1=0,e.x=0,e.y=0,e.width=0,e.height=0,e.flipX=!1,e.flipY=!1,e.cx=0,e.cy=0,e.cw=0,e.ch=0,e},Fq={webglRender:Aq,canvasRender:Oq};Object.assign(g9.prototype,Fq);var m9=function(e,t){typeof t=="string"&&(t={frame:t});var i=e.poolManager?e.poolManager.allocate(v9):null;return i===null?i=new g9(e):i.setParent(e).setActive(),i.modifyPorperties(t),e.addChild(i),i},Iq=function(e,t,i,s,p,E){m9(this,{frame:t,x:i,y:s,width:p,height:E})},Bq=function(e,t,i,s,p,E){var n=this.texture.get(t),T=n.width,r=n.height,o=p%T,x=E%r;o===0&&(o=T),x===0&&(x=r);for(var d=Math.ceil(p/T),h=Math.ceil(E/r),l=d-1,a=h-1,f=0;f<d;f++)for(var c=0;c<h;c++){let g=m9(this,{frame:t,x:i+f*T,y:s+c*r});var u=f===l?o:T,v=c===a?x:r;(u!==T||v!==r)&&g.setCrop(0,0,u,v)}};const Gq={_drawImage:Iq,_drawTileSprite:Bq};class Gw extends h9(c9,"rexNinePatch2"){setBaseTexture(t,i,s,p){return this.setTexture(t,i),super.setBaseTexture(t,i,s,p),this}}Object.assign(Gw.prototype,Gq);It.register("ninePatch2",function(e,t,i,s,p,E,n,T){var r=new Gw(this.scene,e,t,i,s,p,E,n,T);return this.scene.add.existing(r),r});Lt(window,"RexPlugins.UI.NinePatch2",Gw);var kq=Phaser.Renderer.WebGL.Utils,y9=function(e,t,i,s,p,E){for(var n=kq.getTintAppendFloatAlpha(i.fillColor,i.fillAlpha*s),T=i.pathData,r=i.pathIndexes,o=0;o<r.length;o+=3){var x=r[o]*2,d=r[o+1]*2,h=r[o+2]*2,l=T[x+0]-p,a=T[x+1]-E,f=T[d+0]-p,c=T[d+1]-E,u=T[h+0]-p,v=T[h+1]-E,g=t.getX(l,a),m=t.getY(l,a),y=t.getX(f,c),C=t.getY(f,c),P=t.getX(u,v),w=t.getY(u,v);e.batchTri(i,g,m,y,C,P,w,0,0,1,1,n,n,n,2)}},Nq=Phaser.Renderer.WebGL.Utils,Lx=function(e,t,i,s,p){var E=e.strokeTint,n=Nq.getTintAppendFloatAlpha(t.strokeColor,t.strokeAlpha*i);E.TL=n,E.TR=n,E.BL=n,E.BR=n;var T=t.pathData,r=T.length-1,o=t.lineWidth,x=o/2,d=T[0]-s,h=T[1]-p;t.closePath||(r-=2);for(var l=2;l<r;l+=2){var a=T[l]-s,f=T[l+1]-p;e.batchLine(d,h,a,f,x,x,o,l-2,t.closePath?l===r-1:!1),d=a,h=f}};const Uq=Phaser.GameObjects.GetCalcMatrix;var Vq=function(e,t,i,s){t.dirty&&(t.updateData(),t.dirty=!1),i.addToRenderList(t);var p=e.pipelines.set(t.pipeline),E=Uq(t,i,s),n=p.calcMatrix.copyFrom(E.calc),T=t._displayOriginX,r=t._displayOriginY,o=i.alpha*t.alpha;e.pipelines.preBatch(t),t.isFilled&&y9(p,n,t,o,T,r),t.isStroked&&Lx(p,t,o,T,r),e.pipelines.postBatch(t)},Ip=function(e,t,i,s){var p=t.fillColor,E=t.fillAlpha,n=(p&16711680)>>>16,T=(p&65280)>>>8,r=p&255;e.fillStyle="rgba("+n+","+T+","+r+","+E+")"},Bp=function(e,t,i,s){var p=t.strokeColor,E=t.strokeAlpha,n=(p&16711680)>>>16,T=(p&65280)>>>8,r=p&255;e.strokeStyle="rgba("+n+","+T+","+r+","+E+")",e.lineWidth=t.lineWidth};const zq=Phaser.Renderer.Canvas.SetTransform;var Wq=function(e,t,i,s){t.dirty&&(t.updateData(),t.dirty=!1),i.addToRenderList(t);var p=e.currentContext;if(zq(e,p,t,i,s)){var E=t._displayOriginX,n=t._displayOriginY,T=t.pathData,r=T.length-1,o=T[0]-E,x=T[1]-n;p.beginPath(),p.moveTo(o,x),t.closePath||(r-=2);for(var d=2;d<r;d+=2){var h=T[d]-E,l=T[d+1]-n;p.lineTo(h,l)}p.closePath(),t.isFilled&&(Ip(p,t),p.fill()),t.isStroked&&(Bp(p,t),p.stroke()),p.restore()}};const Yq={renderWebGL:Vq,renderCanvas:Wq},Xq=Phaser.GameObjects.Shape;class kw extends Xq{get fillColor(){return this._fillColor}set fillColor(t){this._fillColor=t,this.isFilled=t!=null&&this._fillAlpha>0}get fillAlpha(){return this._fillAlpha}set fillAlpha(t){this._fillAlpha=t,this.isFilled=t>0&&this._fillColor!=null}setFillStyle(t,i){return i===void 0&&(i=1),this.fillColor=t,this.fillAlpha=i,this}get strokeColor(){return this._strokeColor}set strokeColor(t){this._strokeColor=t,this.isStroked=t!=null&&this._strokeAlpha>0&&this._lineWidth>0}get strokeAlpha(){return this._strokeAlpha}set strokeAlpha(t){this._strokeAlpha=t,this.isStroked=t>0&&this._strokeColor!=null&&this._lineWidth>0}get lineWidth(){return this._lineWidth}set lineWidth(t){this._lineWidth=t,this.isStroked=t>0&&this._strokeColor!=null}setStrokeStyle(t,i,s){return s===void 0&&(s=1),this.lineWidth=t,this.strokeColor=i,this.strokeAlpha=s,this}updateData(){return this}get width(){return this.geom.width}set width(t){this.resize(t,this.height)}get height(){return this.geom.height}set height(t){this.resize(this.width,t)}setSize(t,i){var s=this.input;return s&&!s.customHitArea&&(s.hitArea.width=t,s.hitArea.height=i),this}resize(t,i){return this.setSize(t,i),this}}Object.assign(kw.prototype,Yq);const ch=Phaser.Utils.Objects.GetValue;let Nw=class{constructor(t,i,s,p,E){t===void 0&&(t=0),i===void 0&&(i=t),s===void 0&&(s=0),p===void 0&&(p=0),E===void 0&&(E=0),this.cornerRadius={},this._width=0,this._height=0,this.setTo(t,i,s,p,E)}setTo(t,i,s,p,E){return this.setPosition(t,i),this.setRadius(E),this.setSize(s,p),this}setPosition(t,i){return this.x=t,this.y=i,this}setRadius(t){return t===void 0&&(t=0),this.radius=t,this}setSize(t,i){return this.width=t,this.height=i,this}get minWidth(){var t=this.cornerRadius;return Math.max(t.tl.x+t.tr.x,t.bl.x+t.br.x)}get minHeight(){var t=this.cornerRadius;return Math.max(t.tl.y+t.bl.y,t.tr.y+t.br.y)}get width(){return this._width}set width(t){t==null&&(t=0),this._width=Math.max(t,this.minWidth)}get height(){return this._height}set height(t){t==null&&(t=0),this._height=Math.max(t,this.minHeight)}get radius(){var t=this.cornerRadius;return Math.max(t.tl.x,t.tl.y,t.tr.x,t.tr.y,t.bl.x,t.bl.y,t.br.x,t.br.y)}set radius(t){var i,s;typeof t=="number"?(i=t,s=t):(i=ch(t,"x",0),s=ch(t,"y",0));var p=this.cornerRadius;p.tl=P0(ch(t,"tl",void 0),i,s),p.tr=P0(ch(t,"tr",void 0),i,s),p.bl=P0(ch(t,"bl",void 0),i,s),p.br=P0(ch(t,"br",void 0),i,s)}get radiusTL(){var t=this.cornerRadius.tl;return Math.max(t.x,t.y)}set radiusTL(t){w0(this.cornerRadius.tl,t)}get radiusTR(){var t=this.cornerRadius.tr;return Math.max(t.x,t.y)}set radiusTR(t){w0(this.cornerRadius.tr,t)}get radiusBL(){var t=this.cornerRadius.bl;return Math.max(t.x,t.y)}set radiusBL(t){w0(this.cornerRadius.bl,t)}get radiusBR(){var t=this.cornerRadius.br;return Math.max(t.x,t.y)}set radiusBR(t){w0(this.cornerRadius.br,t)}};var P0=function(e,t,i){return e===void 0?e={x:t,y:i}:typeof e=="number"&&(e={x:e,y:e}),x9(e),e},w0=function(e,t){typeof t=="number"?(e.x=t,e.y=t):(e.x=ch(t,"x",0),e.y=ch(t,"y",0)),x9(e)},x9=function(e){e.convex=e.x>=0||e.y>=0,e.x=Math.abs(e.x),e.y=Math.abs(e.y)},Ji=function(e){return e.x>0&&e.y>0},Jr=function(e,t,i){var s=i.length;if(s>=2){var p=i[s-2],E=i[s-1];if(e===p&&t===E)return i}return i.push(e,t),i};const bF=Phaser.Math.DegToRad;var jr=function(e,t,i,s,p,E,n,T,r){n&&E>p?E-=360:!n&&E<p&&(E+=360);var o=E-p,x=bF(o)/T;p=bF(p);for(var d=0;d<=T;d++){var h=p+x*d,l=e+i*Math.cos(h),a=t+s*Math.sin(h);Jr(l,a,r)}return r};const Hq=Phaser.Utils.Objects.IsPlainObject,PF=Phaser.Utils.Objects.GetValue,$q=Phaser.Geom.Polygon.Earcut;let Hu=class extends kw{constructor(t,i,s,p,E,n,T,r){var o,x,d,h;if(Hq(i)){var l=i;i=l.x,s=l.y,p=l.width,E=l.height,n=l.radius,T=l.color,r=l.alpha,o=l.strokeColor,x=l.strokeAlpha,d=l.strokeWidth,h=l.shape}i===void 0&&(i=0),s===void 0&&(s=0),p===void 0&&(p=1),E===void 0&&(E=p),n===void 0&&(n=0),h===void 0&&(h=0);var a=new Nw;if(super(t,"rexRoundRectangleShape",a),this.setShapeType(h),this.shapeType===0){var f=PF(n,"radius",n);a.setTo(0,0,p,E,f)}else{var f={x:p/2,y:E/2};a.setTo(0,0,p,E,f)}this.setIteration(PF(n,"iteration",void 0)),this.setPosition(i,s),this.setFillStyle(T,r),d===void 0&&(d=2),this.setStrokeStyle(d,o,x),this.updateDisplayOrigin(),this.dirty=!0}updateData(){var t=this.geom,i=this.pathData;i.length=0;var s=t.width,p=t.height,E=t.cornerRadius,n,T=this.iteration+1;if(n=E.tl,Ji(n))if(n.convex){var r=n.x,o=n.y;jr(r,o,n.x,n.y,180,270,!1,T,i)}else{var r=0,o=0;jr(r,o,n.x,n.y,90,0,!0,T,i)}else Jr(0,0,i);if(n=E.tr,Ji(n))if(n.convex){var r=s-n.x,o=n.y;jr(r,o,n.x,n.y,270,360,!1,T,i)}else{var r=s,o=0;jr(r,o,n.x,n.y,180,90,!0,T,i)}else Jr(s,0,i);if(n=E.br,Ji(n))if(n.convex){var r=s-n.x,o=p-n.y;jr(r,o,n.x,n.y,0,90,!1,T,i)}else{var r=s,o=p;jr(r,o,n.x,n.y,270,180,!0,T,i)}else Jr(s,p,i);if(n=E.bl,Ji(n))if(n.convex){var r=n.x,o=p-n.y;jr(r,o,n.x,n.y,90,180,!1,T,i)}else{var r=0,o=p;jr(r,o,n.x,n.y,360,270,!0,T,i)}else Jr(0,p,i);return i.push(i[0],i[1]),this.pathIndexes=$q(i),this}setShapeType(t){return typeof t=="string"&&(t=Kq[t]),this.shapeType=t,this}setSize(t,i){return i===void 0&&(i=t),this.geom.width===t&&this.geom.height===i?this:(this.geom.setSize(t,i),this.shapeType===1&&this.setRadius({x:t/2,y:i/2}),this.updateDisplayOrigin(),this.dirty=!0,super.setSize(t,i),this)}get radius(){return this.geom.radius}set radius(t){this.geom.setRadius(t),this.updateDisplayOrigin(),this.dirty=!0}get radiusTL(){return this.geom.radiusTL}set radiusTL(t){this.geom.radiusTL=t,this.dirty=!0}get radiusTR(){return this.geom.radiusTR}set radiusTR(t){this.geom.radiusTR=t,this.dirty=!0}get radiusBL(){return this.geom.radiusBL}set radiusBL(t){this.geom.radiusBL=t,this.dirty=!0}get radiusBR(){return this.geom.radiusBR}set radiusBR(t){this.geom.radiusBR=t,this.dirty=!0}setRadius(t){return t===void 0&&(t=0),this.radius=t,this}setRadiusTL(t){return t===void 0&&(t=0),this.radiusTL=t,this}setRadiusTR(t){return t===void 0&&(t=0),this.radiusTR=t,this}setRadiusBL(t){return t===void 0&&(t=0),this.radiusBL=t,this}setRadiusBR(t){return t===void 0&&(t=0),this.radiusBR=t,this}get cornerRadius(){return this.geom.cornerRadius}set cornerRadius(t){this.radius=t}setCornerRadius(t){return this.setRadius(t)}get iteration(){return this._iteration}set iteration(t){if(this._iteration===void 0){this._iteration=t;return}this._iteration!==t&&(this._iteration=t,this.dirty=!0)}setIteration(t){return t===void 0&&(t=6),this.iteration=t,this}};const Kq={rectangle:0,circle:1};It.register("roundRectangle",function(e,t,i,s,p,E,n){var T=new Hu(this.scene,e,t,i,s,p,E,n);return this.scene.add.existing(T),T});Lt(window,"RexPlugins.UI.RoundRectangle",Hu);const Zq=Phaser.Renderer.WebGL.Utils;var Jq=function(e,t,i,s){if(t.dirty&&(t.updateTexture(),t.dirty=!1),!(t.width===0||t.height===0)){i.addToRenderList(t);var p=t.frame,E=p.width,n=p.height,T=Zq.getTintAppendFloatAlpha,r=e.pipelines.set(t.pipeline,t),o=r.setTexture2D(p.glTexture,t);e.pipelines.preBatch(t),r.batchTexture(t,p.glTexture,E,n,t.x,t.y,E/t.resolution,n/t.resolution,t.scaleX,t.scaleY,t.rotation,t.flipX,t.flipY,t.scrollFactorX,t.scrollFactorY,t.displayOriginX,t.displayOriginY,0,0,E,n,T(t.tintTopLeft,i.alpha*t._alphaTL),T(t.tintTopRight,i.alpha*t._alphaTR),T(t.tintBottomLeft,i.alpha*t._alphaBL),T(t.tintBottomRight,i.alpha*t._alphaBR),t.tintFill,0,0,i,s,!1,o),e.pipelines.postBatch(t)}},jq=function(e,t,i,s){t.dirty&&(t.updateTexture(),t.dirty=!1),!(t.width===0||t.height===0)&&(i.addToRenderList(t),e.batchSprite(t,t.frame,i,s))};const Qq={renderWebGL:Jq,renderCanvas:jq},qq=Phaser.Display.Color,_q={clear(){return this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.dirty=!0,this},fill(e){return this.context.fillStyle=e,this.context.fillRect(0,0,this.canvas.width,this.canvas.height),this.dirty=!0,this},drawFrame(e,t,i,s,p,E,n,T,r,o){var x=this.scene.sys.textures.getFrame(e,t);if(!x)return this;var d=x.cutWidth,h=x.cutHeight;i===void 0&&(i=0),s===void 0&&(s=0),p===void 0&&(p=d),E===void 0&&(E=h),n===void 0&&(n=0),T===void 0&&(T=0),r===void 0&&(r=d),o===void 0&&(o=h);var l=x.cutX+n,a=x.cutY+T;return this.context.drawImage(x.source.image,l,a,r,o,i,s,p,E),this.dirty=!0,this},getDataURL(e,t){return this.canvas.toDataURL(e,t)},getPixel(e,t,i){i===void 0&&(i=new qq);var s=this.context.getImageData(e,t,1,1);return i.setTo(s.data[0],s.data[1],s.data[2],s.data[3]),i},setPixel(e,t,i,s,p,E){if(typeof i!="number"){var n=i;i=n.red,s=n.green,p=n.blue,E=n.alpha}E===void 0&&(E=i!==0||s!==0||p!==0?255:0);var T=this.context.createImageData(1,1);return T.data[0]=i,T.data[1]=s,T.data[2]=p,T.data[3]=E,this.context.putImageData(T,e,t),this.dirty=!0,this}};var T9=function(e,t,i,s,p,E,n){var T=e.sys.textures,r=e.renderer;s===void 0&&(s=0),p===void 0&&(p=0),E===void 0&&(E=t.width),n===void 0&&(n=t.height);var o;T.exists(i)?o=T.get(i):o=T.createCanvas(i,E,n);var x=o.getSourceImage();x.width!==E&&(x.width=E),x.height!==n&&(x.height=n);var d=x.getContext("2d",{willReadFrequently:!0});d.clearRect(0,0,E,n),d.drawImage(t,s,p,E,n),r.gl&&o&&r.canvasToTexture(x,o.source[0].glTexture,!0,0)};const t_={updateTexture(e,t){if(e){var i=this.resolution;i!==1&&(this.context.save(),this.context.scale(i,i)),t?e.call(t,this.canvas,this.context):e(this.canvas,this.context),i!==1&&this.context.restore()}(this.canvas.width!==this.frame.width||this.canvas.height!==this.frame.height)&&this.frame.setSize(this.canvas.width,this.canvas.height),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(this.canvas,this.frame.source.glTexture,!0),this.frame.glTexture.spectorMetadata={textureKey:"Canvas Game Object"}),this.dirty=!1;var s=this.input;return s&&!s.customHitArea&&(s.hitArea.width=this.width,s.hitArea.height=this.height),this},generateTexture(e,t,i,s,p){var E=this.canvas;return s===void 0?s=E.width:s*=this.resolution,p===void 0?p=E.height:p*=this.resolution,T9(this.scene,E,e,t,i,s,p),this},loadTexture(e,t){var i=this.scene.sys.textures.getFrame(e,t);return i?(this.width!==i.cutWidth||this.height!==i.cutHeight?this.setSize(i.cutWidth,i.cutHeight):this.clear(),this.drawFrame(e,t),this.dirty=!0,this):this}};Ax();const wF=Phaser.Display.Canvas.CanvasPool,e_=Phaser.GameObjects.GameObject,i_=Phaser.Utils.String.UUID;let Rh=class extends e_{constructor(t,i,s,p,E,n){i===void 0&&(i=0),s===void 0&&(s=0),p===void 0&&(p=1),E===void 0&&(E=1),n===void 0&&(n=1),super(t,"rexCanvas"),this.renderer=t.sys.game.renderer,this._width=p,this._height=E,this.resolution=n,p=Math.max(Math.ceil(p*this.resolution),1),E=Math.max(Math.ceil(E*this.resolution),1),this.canvas=wF.create(this,p,E),this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.dirty=!1,this.setPosition(i,s),this.setOrigin(.5,.5),this.initPipeline(),this.initPostPipeline(!0),this._crop=this.resetCropObject(),this._textureKey=i_(),this.texture=t.sys.textures.addCanvas(this._textureKey,this.canvas),this.frame=this.texture.get(),this.frame.source.resolution=this.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.dirty=!0}preDestroy(){wF.remove(this.canvas),this.canvas=null,this.context=null;var t=this.texture;t&&t.destroy()}setResolution(t){if(this.resolution===t)return this;this.resolution=t;var i=Math.max(Math.ceil(this.width*t),1),s=Math.max(Math.ceil(this.height*t),1);return this.canvas.width=i,this.canvas.height=s,this.frame.source.resolution=t,this.dirty=!0,this}get width(){return this._width}set width(t){this.setSize(t,this._height)}get height(){return this._height}set height(t){this.setSize(this._width,t)}setCanvasSize(t,i){return this._width===t&&this._height===i?this:(this._width=t,this._height=i,this.updateDisplayOrigin(),t=Math.max(Math.ceil(t*this.resolution),1),i=Math.max(Math.ceil(i*this.resolution),1),this.canvas.width=t,this.canvas.height=i,this.frame.setSize(t,i),this.dirty=!0,this)}setSize(t,i){return this.setCanvasSize(t,i),this}get displayWidth(){return this.scaleX*this._width}set displayWidth(t){this.scaleX=t/this._width}get displayHeight(){return this.scaleY*this._height}set displayHeight(t){this.scaleY=t/this._height}setDisplaySize(t,i){return this.displayWidth=t,this.displayHeight=i,this}getCanvas(t){return t||(this.dirty=!0),this.canvas}getContext(t){return t||(this.dirty=!0),this.context}needRedraw(){return this.dirty=!0,this}resize(t,i){return this.setSize(t,i),this}};const qn=Phaser.GameObjects.Components;Phaser.Class.mixin(Rh,[qn.Alpha,qn.BlendMode,qn.Crop,qn.Depth,qn.Flip,qn.GetBounds,qn.Mask,qn.Origin,qn.Pipeline,qn.PostPipeline,qn.ScrollFactor,qn.Tint,qn.Transform,qn.Visible,Qq,_q,t_]);const r_=Phaser.Utils.String.Pad;var Ye=function(e,t,i){if(e==null)return e;switch(typeof e){case"string":return e;case"number":return`#${r_(Math.floor(e).toString(16),6,"0",1)}`;case"function":return e(t,i);case"object":return e.hasOwnProperty("r")?e.hasOwnProperty("a")?`rgba(${e.r},${e.g},${e.b},${e.a})`:`rgb(${e.r},${e.g},${e.b})`:e.hasOwnProperty("h")?e.hasOwnProperty("a")?`hsla(${e.h},${e.s},${e.l},${e.a})`:`hsl(${e.h},${e.s},${e.l})`:e;default:return e}};const MF=Phaser.Math.DegToRad;var C9=function(e,t,i,s,p,E,n){var T=new Nw(t,i,s,p,E),r=T.minWidth,o=T.minHeight,x=s>=r?1:s/r,d=p>=o?1:p/o,h=T.cornerRadius,l,a,f,c,u,v,g;e.save(),e.beginPath(),e.translate(t,i),l=h.tl,R0(l)?(a=l.x*x,f=l.y*d,M0(l)?(c=a,u=f,ql(e,c,u,a,f,180,270,!1,n)):(c=0,u=0,ql(e,c,u,a,f,90,0,!0,n)),v=0,g=f):(e.lineTo(0,0),v=0,g=0),l=h.tr,R0(l)?(a=l.x*x,f=l.y*d,M0(l)?(c=s-a,u=f,ql(e,c,u,a,f,270,360,!1,n)):(c=s,u=0,ql(e,c,u,a,f,180,90,!0,n))):e.lineTo(s,0),l=h.br,R0(l)?(a=l.x*x,f=l.y*d,M0(l)?(c=s-a,u=p-f,ql(e,c,u,a,f,0,90,!1,n)):(c=s,u=p,ql(e,c,u,a,f,270,180,!0,n))):e.lineTo(s,p),l=h.bl,R0(l)?(a=l.x*x,f=l.y*d,M0(l)?(c=a,u=p-f,ql(e,c,u,a,f,90,180,!1,n)):(c=0,u=p,ql(e,c,u,a,f,360,270,!0,n))):e.lineTo(0,p),e.lineTo(v,g),e.closePath(),e.restore()},M0=function(e){return!e.hasOwnProperty("convex")||e.convex},R0=function(e){return e.x>0&&e.y>0},ql=function(e,t,i,s,p,E,n,T,r){if(T&&n>E?n-=360:!T&&n<E&&(n+=360),E=MF(E),n=MF(n),r==null)e.ellipse(t,i,s,p,0,E,n,T);else{r+=1;for(var o,x,d,h=(n-E)/r,l=0;l<=r;l++)d=E+h*l,o=t+s*Math.cos(d),x=i+p*Math.sin(d),e.lineTo(o,x)}},n_=function(e,t,i,s,p,E,n,T,r,o,x,d,h){if(C9(t,i,s,p,E,n,h),T!=null){if(x!=null){var l;d?l=t.createLinearGradient(0,0,p,0):l=t.createLinearGradient(0,0,0,E),l.addColorStop(0,T),l.addColorStop(1,x),T=l}t.fillStyle=T,t.fill()}r!=null&&o>0&&(t.strokeStyle=r,t.lineWidth=o,t.stroke())},Uw=function(e,t,i,s,p,E,n,T){if(!(t==null&&i==null)){var r=e.canvas.width,o=e.canvas.height;i==null&&(s=0);var x=s/2;r=Math.max(1,r-s),o=Math.max(1,o-s),n_(e.canvas,e.context,x,x,r,o,p,t,i,s,E,n,T)}},s_=function(){Uw(this,this.fillStyle,this.strokeStyle,this.lineWidth,this.radius,this.fillColor2,this.isHorizontalGradient,this.iteration)};const RF=Phaser.Utils.Objects.GetValue;let S9=class extends Rh{constructor(t,i,s,p,E,n,T,r,o,x,d,h){i===void 0&&(i=0),s===void 0&&(s=0),p===void 0&&(p=1),E===void 0&&(E=p),n===void 0&&(n=0),h===void 0&&(h=1),super(t,i,s,p,E,h),this.type="rexRoundRectangleCanvas";var l=RF(n,"radius",n),a=RF(n,"iteration",void 0);this.setRadius(l),this.setIteration(a),this.setFillStyle(T,x,d),this.setStrokeStyle(r,o)}get radius(){return this._radius}set radius(t){this.dirty|=this._radius!=t,this._radius=t}setRadius(t){return this.radius=t,this}get iteration(){return this._iteration}set iteration(t){this.dirty|=this._iteration!=t,this._iteration=t}setIteration(t){return this.iteration=t,this}get fillStyle(){return this._fillStyle}set fillStyle(t){t=Ye(t,this.canvas,this.context),this.dirty|=this._fillStyle!=t,this._fillStyle=t}get fillColor2(){return this._fillColor2}set fillColor2(t){t=Ye(t,this.canvas,this.context),this.dirty|=this._fillColor2!=t,this._fillColor2=t}get isHorizontalGradient(){return this._isHorizontalGradient}set isHorizontalGradient(t){this.dirty|=this._isHorizontalGradient!=t,this._isHorizontalGradient=t}setFillStyle(t,i,s){return s===void 0&&(s=!0),this.fillStyle=t,this.fillColor2=i,this.isHorizontalGradient=s,this}get strokeStyle(){return this._strokeStyle}set strokeStyle(t){t=Ye(t,this.canvas,this.context),this.dirty|=this._strokeStyle!=t,this._strokeStyle=t}get lineWidth(){return this._lineWidth}set lineWidth(t){this.dirty|=this._lineWidth!=t,this._lineWidth=t}setStrokeStyle(t,i){return this.strokeStyle=t,this.lineWidth=i,this}updateTexture(){return super.updateTexture(function(){this.clear(),s_.call(this)},this),this}};It.register("roundRectangleCanvas",function(e,t,i,s,p,E,n,T,r,o){var x=new S9(this.scene,e,t,i,s,p,E,n,T,r,o);return this.scene.add.existing(x),x});Lt(window,"RexPlugins.UI.RoundRectangleCanvas",S9);var gi=function(e,t){if(!e)return!1;if(e.hasOwnProperty(t))return!0;for(;e;){if(Object.getOwnPropertyDescriptor(e,t))return!0;e=e.__proto__}return!1},_l=function(e,t,i){!t||gi(e,`${t}X`)||(Object.defineProperty(e,`${t}X`,{get:function(){return i.x},set:function(s){i.x=s,e.dirty=!0}}),Object.defineProperty(e,`${t}Y`,{get:function(){return i.y},set:function(s){i.y=s,e.dirty=!0}}),Object.defineProperty(e,`${t}T`,{get:function(){return i.t},set:function(s){i.t=s,e.dirty=!0}}))};const a_={setTLPosition(e,t){return this.geom.setTLPosition(e,t),this.dirty=!0,this},setTRPosition(e,t){return this.geom.setTRPosition(e,t),this.dirty=!0,this},setBLPosition(e,t){return this.geom.setBLPosition(e,t),this.dirty=!0,this},setBRPosition(e,t){return this.geom.setBRPosition(e,t),this.dirty=!0,this},resetCornerPosition(){return this.geom.resetCornerPosition(),this.dirty=!0,this},insertTopSidePoint(e,t,i,s){var p=this.geom.topSidePoints;if(Array.isArray(e))for(var p=e,E,n=0,T=p.length;n<T;n++)E=p[n],this.geom.insertTopSidePoint(E.t,E.x,E.y),_l(this,E.key,p[p.length-1]);else this.geom.insertTopSidePoint(e,t,i),_l(this,s,p[p.length-1]);return this.dirty=!0,this},insertRightSidePoint(e,t,i,s){var p=this.geom.rightSidePoints;if(Array.isArray(e))for(var p=e,E,n=0,T=p.length;n<T;n++)E=p[n],this.geom.insertRightSidePoint(E.t,E.x,E.y),_l(this,E.key,p[p.length-1]);else this.geom.insertRightSidePoint(e,t,i),_l(this,s,p[p.length-1]);return this.dirty=!0,this},insertBottomSidePoint(e,t,i,s){var p=this.geom.bottomSidePoints;if(Array.isArray(e))for(var p=e,E,n=0,T=p.length;n<T;n++)E=p[n],this.geom.insertBottomSidePoint(E.t,E.x,E.y),_l(this,E.key,p[p.length-1]);else this.geom.insertBottomSidePoint(e,t,i),_l(this,s,p[p.length-1]);return this.dirty=!0,this},insertLeftSidePoint(e,t,i,s){var p=this.geom.leftSidePoints;if(Array.isArray(e))for(var p=e,E,n=0,T=p.length;n<T;n++)E=p[n],this.geom.insertLeftSidePoint(E.t,E.x,E.y),_l(this,E.key,p[p.length-1]);else this.geom.insertLeftSidePoint(e,t,i),_l(this,s,p[p.length-1]);return this.dirty=!0,this},clearTopSidePoints(){return this.geom.clearTopSidePoints(),this.dirty=!0,this},clearRightSidePoints(){return this.geom.clearRightSidePoints(),this.dirty=!0,this},clearBottomSidePoints(){return this.geom.clearBottomSidePoints(),this.dirty=!0,this},clearLeftSidePoints(){return this.geom.clearLeftSidePoints(),this.dirty=!0,this},clearAllSidesPoints(){return this.geom.clearAllSidesPoints(),this.dirty=!0,this}};class o_{constructor(t,i,s,p){t===void 0&&(t=0),i===void 0&&(i=t),s===void 0&&(s=0),p===void 0&&(p=0),this.setTo(t,i,s,p),this.tlx=0,this.tly=0,this.trx=0,this.try=0,this.blx=0,this.bly=0,this.brx=0,this.bry=0,this.topSidePoints=[],this.rightSidePoints=[],this.bottomSidePoints=[],this.leftSidePoints=[]}setTo(t,i,s,p){return this.setPosition(t,i),this.setSize(s,p),this}setPosition(t,i){return this.x=t,this.y=i,this}setSize(t,i){return this.width=t,this.height=i,this}setTLPosition(t,i){return this.tlx=t,this.tly=i,this}setTRPosition(t,i){return this.trx=t,this.try=i,this}setBLPosition(t,i){return this.blx=t,this.bly=i,this}setBRPosition(t,i){return this.brx=t,this.bry=i,this}resetCornerPosition(){return this.setTLPosition(0,0).setTRPosition(0,0).setBLPosition(0,0).setBRPosition(0,0),this}insertTopSidePoint(t,i,s){return A0(this.topSidePoints,t,i,s),this}insertRightSidePoint(t,i,s){return A0(this.rightSidePoints,t,i,s),this}insertBottomSidePoint(t,i,s){return A0(this.bottomSidePoints,t,i,s),this}insertLeftSidePoint(t,i,s){return A0(this.leftSidePoints,t,i,s),this}clearTopSidePoints(){return this.topSidePoints.length=0,this}clearRightSidePoints(){return this.rightSidePoints.length=0,this}clearBottomSidePoints(){return this.bottomSidePoints.length=0,this}clearLeftSidePoints(){return this.leftSidePoints.length=0,this}clearAllSidesPoints(){return this.clearTopSidePoints().clearRightSidePoints().clearBottomSidePoints().clearLeftSidePoints(),this}}var A0=function(e,t,i,s){if(typeof t!="number"){var p=t;t=p.t,i=p.x,s=p.y}e.push({t,x:i,y:s})};const l_=Phaser.Utils.Objects.IsPlainObject,Ks=Phaser.Utils.Objects.GetValue,th=Phaser.Math.Linear,h_=Phaser.Geom.Polygon.Earcut;class Vw extends kw{constructor(t,i,s,p,E,n,T){var r,o,x;if(l_(i)){var d=i;i=d.x,s=d.y,p=d.width,E=d.height,n=d.color,T=d.alpha,r=d.strokeColor,o=d.strokeAlpha,x=d.strokeWidth}i===void 0&&(i=0),s===void 0&&(s=0),p===void 0&&(p=1),E===void 0&&(E=p);var h=new o_;super(t,"rexQuadShape",h),h.setTo(0,0,p,E),this.setPosition(i,s),this.setFillStyle(n,T),r!==void 0&&x===void 0&&(x=2),this.setStrokeStyle(x,r,o),this.setTLPosition(Ks(d,"tlx",0),Ks(d,"tly",0)).setTRPosition(Ks(d,"trx",0),Ks(d,"try",0)).setBLPosition(Ks(d,"blx",0),Ks(d,"bly",0)).setBRPosition(Ks(d,"brx",0),Ks(d,"bry",0));var l=Ks(d,"leftSidePoints");l&&this.insertLeftSidePoint(l);var a=Ks(d,"topSidePoints");a&&this.insertTopSidePoint(a);var f=Ks(d,"rightSidePoints");f&&this.insertRightSidePoint(f);var c=Ks(d,"bottomSidePoints");c&&this.insertBottomSidePoint(c),this.updateDisplayOrigin(),this.dirty=!0}updateData(){var t=this.geom,i=this.pathData;i.length=0;var s=t.width,p=t.height,E=0+t.tlx,n=0+t.tly,T=s+t.trx,r=0+t.try,o=s+t.brx,x=p+t.bry,d=0+t.blx,h=p+t.bly,l=t.topSidePoints,a=t.rightSidePoints,f=t.bottomSidePoints,c=t.leftSidePoints;Jr(E,n,i),O0(l);for(var u=0,v=l.length;u<v;u++){var g=l[u],m=th(E,T,g.t)+g.x,y=th(n,r,g.t)+g.y;Jr(m,y,i)}Jr(T,r,i),O0(a);for(var u=0,v=a.length;u<v;u++){var g=a[u],m=th(T,o,g.t)+g.x,y=th(r,x,g.t)+g.y;Jr(m,y,i)}Jr(o,x,i),O0(f);for(var u=f.length-1;u>=0;u--){var g=f[u],m=th(d,o,g.t)+g.x,y=th(h,x,g.t)+g.y;Jr(m,y,i)}Jr(d,h,i),O0(c);for(var u=c.length-1;u>=0;u--){var g=c[u],m=th(E,d,g.t)+g.x,y=th(n,h,g.t)+g.y;Jr(m,y,i)}return i.push(i[0],i[1]),this.pathIndexes=h_(i),this}get tlx(){return this.geom.tlx}set tlx(t){this.geom.tlx=t,this.dirty=!0}get tly(){return this.geom.tly}set tly(t){this.geom.tly=t,this.dirty=!0}get trx(){return this.geom.trx}set trx(t){this.geom.trx=t,this.dirty=!0}get try(){return this.geom.try}set try(t){this.geom.try=t,this.dirty=!0}get blx(){return this.geom.blx}set blx(t){this.geom.blx=t,this.dirty=!0}get bly(){return this.geom.bly}set bly(t){this.geom.bly=t,this.dirty=!0}get brx(){return this.geom.brx}set brx(t){this.geom.brx=t,this.dirty=!0}get bry(){return this.geom.bry}set bry(t){this.geom.bry=t,this.dirty=!0}get leftSidePoints(){return this.geom.leftSidePoints}get topSidePoints(){return this.geom.topSidePoints}get bottomSidePoints(){return this.geom.bottomSidePoints}get rightSidePoints(){return this.geom.rightSidePoints}}var O0=function(e){e.length<=1||e.sort(function(t,i){return t.t-i.t})};Object.assign(Vw.prototype,a_);It.register("QuadShape",function(e,t,i,s,p,E){var n=new Vw(this.scene,e,t,i,s,p,E);return this.scene.add.existing(n),n});Lt(window,"RexPlugins.UI.QuadShape",Vw);var u_=Phaser.Renderer.WebGL.Utils,f_=function(e,t,i,s){if(!(t.width===0||t.height===0)){i.addToRenderList(t);var p=t.frame,E=p.width,n=p.height,T=u_.getTintAppendFloatAlpha,r=e.pipelines.set(t.pipeline,t),o=r.setTexture2D(p.glTexture,t);e.pipelines.preBatch(t),r.batchTexture(t,p.glTexture,E,n,t.x,t.y,E/t.style.resolution,n/t.style.resolution,t.scaleX,t.scaleY,t.rotation,t.flipX,t.flipY,t.scrollFactorX,t.scrollFactorY,t.displayOriginX,t.displayOriginY,0,0,E,n,T(t.tintTopLeft,i.alpha*t._alphaTL),T(t.tintTopRight,i.alpha*t._alphaTR),T(t.tintBottomLeft,i.alpha*t._alphaBL),T(t.tintBottomRight,i.alpha*t._alphaBR),t.tintFill,0,0,i,s,!1,o),e.pipelines.postBatch(t)}},d_=function(e,t,i,s){t.width===0||t.height===0||(i.addToRenderList(t),e.batchSprite(t,t.frame,i,s))};const c_={renderWebGL:f_,renderCanvas:d_},WE=Phaser.Display.Canvas.CanvasPool;var v_=function(e,t,i){i===void 0&&(i={});var s=WE.create(this),p=s.getContext("2d",{willReadFrequently:!0});e.syncFont(s,p);var E=p.measureText(t),n=Math.ceil(E.width*e.baselineX),T=n,r=2*T;if(T=T*e.baselineY|0,s.width=n,s.height=r,p.fillStyle="#f00",p.fillRect(0,0,n,r),p.font=e._font,p.textBaseline="alphabetic",p.fillStyle="#000",p.fillText(e.testString,0,T),i.left=0,n===0||r===0||!p.getImageData(0,0,n,r))return WE.remove(s),i;for(var o=p.getImageData(0,0,n,r).data,x=!1,d=0;d<n;d++){for(var h=0;h<r;h++){var l=(h*n+d)*4;if(o[l]!==255){i.left=d,x=!0;break}}if(x)break}return WE.remove(s),i};Ax();const p_=Phaser.GameObjects.GameObject;class E9 extends p_{setStyle(t){return this.style.setStyle(t)}setFont(t){return this.style.setFont(t)}setFontFamily(t){return this.style.setFontFamily(t)}setFontSize(t){return this.style.setFontSize(t)}setFontStyle(t){return this.style.setFontStyle(t)}setTestString(t){return this.style.setTestString(t)}setFixedSize(t,i){return this.style.setFixedSize(t,i)}setBackgroundColor(t,i,s){return this.style.setBackgroundColor(t,i,s)}setBackgroundStrokeColor(t,i){return this.style.setBackgroundStrokeColor(t,i)}setBackgroundCornerRadius(t,i){return this.style.setBackgroundCornerRadius(t,i)}setFill(t){return this.style.setFill(t)}setColor(t){return this.style.setColor(t)}setStroke(t,i){return this.style.setStroke(t,i)}setShadow(t,i,s,p,E,n){return this.style.setShadow(t,i,s,p,E,n)}setShadowOffset(t,i){return this.style.setShadowOffset(t,i)}setShadowColor(t){return this.style.setShadowColor(t)}setShadowBlur(t){return this.style.setShadowBlur(t)}setShadowStroke(t){return this.style.setShadowStroke(t)}setShadowFill(t){return this.style.setShadowFill(t)}setUnderline(t,i,s){return this.style.setUnderline(t,i,s)}setUnderlineColor(t){return this.style.setUnderlineColor(t)}setUnderlineThickness(t){return this.style.setUnderlineThickness(t)}setUnderlineOffset(t){return this.style.setUnderlineOffset(t)}setStrikethrough(t,i,s){return this.style.setStrikethrough(t,i,s)}setStrikethroughColor(t){return this.style.setStrikethroughColor(t)}setStrikethroughThickness(t){return this.style.setStrikethroughThickness(t)}setStrikethroughOffset(t){return this.style.setStrikethroughOffset(t)}setWrapMode(t){return this.style.setWrapMode(t)}setWrapWidth(t){return this.style.setWrapWidth(t)}setWordWrapWidth(t){return this.style.setWrapWidth(t)}setAlign(t){return this.style.setHAlign(t)}setHAlign(t){return this.style.setHAlign(t)}setVAlign(t){return this.style.setVAlign(t)}get lineSpacing(){return this.style.lineSpacing}set lineSpacing(t){this.style.lineSpacing=t}setLineSpacing(t){return this.style.lineSpacing=t,this.updateText(!0),this}setXOffset(t){return this.style.setXOffset(t)}setMaxLines(t){return this.style.setMaxLines(t)}setResolution(t){return this.style.setResolution(t)}getTextMetrics(){return this.style.getTextMetrics()}setTextMetrics(t,i){return this.style.setTextMetrics(t,i)}measureTextMargins(t,i){return v_(this.style,t,i)}}const Vn=Phaser.GameObjects.Components;Phaser.Class.mixin(E9,[Vn.Alpha,Vn.BlendMode,Vn.ComputedSize,Vn.Crop,Vn.Depth,Vn.Flip,Vn.GetBounds,Vn.Mask,Vn.Origin,Vn.Pipeline,Vn.PostPipeline,Vn.ScrollFactor,Vn.Tint,Vn.Transform,Vn.Visible,c_]);var g_={backgroundColor:["backgroundColor",null,Ye],backgroundColor2:["backgroundColor2",null,Ye],backgroundHorizontalGradient:["backgroundHorizontalGradient",!0,null],backgroundStrokeColor:["backgroundStrokeColor",null,Ye],backgroundStrokeLineWidth:["backgroundStrokeLineWidth",2,null],backgroundCornerRadius:["backgroundCornerRadius",0,null],backgroundCornerIteration:["backgroundCornerIteration",null,null],fontFamily:["fontFamily","Courier",null],fontSize:["fontSize","16px",null],fontStyle:["fontStyle","",null],color:["color","#fff",Ye],stroke:["stroke","#fff",Ye],strokeThickness:["strokeThickness",0,null],shadowOffsetX:["shadow.offsetX",0,null],shadowOffsetY:["shadow.offsetY",0,null],shadowColor:["shadow.color","#000",Ye],shadowBlur:["shadow.blur",0,null],shadowStroke:["shadow.stroke",!1,null],shadowFill:["shadow.fill",!1,null],underlineColor:["underline.color","#000",Ye],underlineThickness:["underline.thickness",0,null],underlineOffset:["underline.offset",0,null],strikethroughColor:["strikethrough.color","#000",Ye],strikethroughThickness:["strikethrough.thickness",0,null],strikethroughOffset:["strikethrough.offset",0,null],halign:["halign","left",null],valign:["valign","top",null],maxLines:["maxLines",0,null],fixedWidth:["fixedWidth",0,null],fixedHeight:["fixedHeight",0,null],resolution:["resolution",0,null],lineSpacing:["lineSpacing",0,null],xOffset:["xOffset",0,null],rtl:["rtl",!1,null],testString:["testString","|Mqgy",null],baselineX:["baselineX",1.2,null],baselineY:["baselineY",1.4,null],wrapMode:["wrap.mode",0,null],wrapWidth:["wrap.width",0,null],wrapCallback:["wrap.callback",null],wrapCallbackScope:["wrap.callbackScope",null]};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */const L0=Phaser.Display.Canvas.CanvasPool;var AF=function(e){var t=L0.create(this),i=t.getContext("2d",{willReadFrequently:!0});e.syncFont(t,i);var s=i.measureText(e.testString);if("actualBoundingBoxAscent"in s){var p=s.actualBoundingBoxAscent,E=s.actualBoundingBoxDescent,o={ascent:p,descent:E,fontSize:p+E};return L0.remove(t),o}var n=Math.ceil(s.width*e.baselineX),T=n,r=2*T;T=T*e.baselineY|0,t.width=n,t.height=r,i.fillStyle="#f00",i.fillRect(0,0,n,r),i.font=e._font,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(e.testString,0,T);var o={ascent:0,descent:0,fontSize:0};if(!i.getImageData(0,0,n,r))return o.ascent=T,o.descent=T+6,o.fontSize=o.ascent+o.descent,L0.remove(t),o;var x=i.getImageData(0,0,n,r).data,d=x.length,h=n*4,l,a,f=0,c=!1;for(l=0;l<T;l++){for(a=0;a<h;a+=4)if(x[f+a]!==255){c=!0;break}if(!c)f+=h;else break}for(o.ascent=T-l,f=d-h,c=!1,l=r;l>T;l--){for(a=0;a<h;a+=4)if(x[f+a]!==255){c=!0;break}if(!c)f-=h;else break}return o.descent=l-T,o.fontSize=o.ascent+o.descent,L0.remove(t),o},pr={NO_NEWLINE:0,RAW_NEWLINE:1,WRAPPED_NEWLINE:2,NO_WRAP:0,WORD_WRAP:1,CHAR_WRAP:2,MIX_WRAP:3,SPLITREGEXP:/(?:\r\n|\r|\n)/};const tx={none:pr.NO_WRAP,word:pr.WORD_WRAP,char:pr.CHAR_WRAP,character:pr.CHAR_WRAP,mix:pr.MIX_WRAP},m_=Phaser.Utils.Objects.GetAdvancedValue,Cs=Phaser.Utils.Objects.GetValue;let zw=class{constructor(t,i,s){this.parent=t,s===void 0&&(s=g_),this.propertyMap=s,this.backgroundColor,this.backgroundColor2,this.backgroundHorizontalGradient,this.backgroundStrokeColor,this.backgroundStrokeLineWidth,this.backgroundCornerRadius,this.backgroundCornerIteration,this.fontFamily,this.fontSize,this.fontStyle,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.underlineColor,this.underlineThickness,this.underlineOffset,this.strikethroughColor,this.strikethroughThickness,this.strikethroughOffset,this.halign,this.valign,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.xOffset,this.rtl,this.testString,this.baselineX,this.baselineY,this.wrapMode,this.wrapWidth,this.wrapCallback,this.wrapCallbackScope,this._font,this.setStyle(i,!1,!0)}get isWrapFitMode(){return this.fixedWidth>0&&this.wrapMode!==pr.NO_WRAP&&this.wrapWidth===0}setStyle(t,i,s){if(i===void 0&&(i=!0),s===void 0&&(s=!1),t&&t.hasOwnProperty("wordWrap")){var p=t.wordWrap;p.hasOwnProperty("width")&&(t.wrap={mode:"word",width:p.width})}if(t&&t.hasOwnProperty("wrap")){var E=t.wrap;if(E.hasOwnProperty("mode")){var n=E.mode;typeof n=="string"&&(E.mode=tx[n])}else E.hasOwnProperty("width")&&(E.mode=1)}t&&t.rtl&&s&&!t.hasOwnProperty("halign")&&(t.halign="right"),t&&t.hasOwnProperty("fontSize")&&typeof t.fontSize=="number"&&(t.fontSize=t.fontSize.toString()+"px");var T=this.propertyMap;for(var r in T){var o=T[r],x=o[0],d=s?o[1]:this[r],h=o[2];if(r==="wrapCallback"||r==="wrapCallbackScope")this[r]=Cs(t,x,d);else{var l=m_(t,x,d);h&&(l=h(l)),this[r]=l}}var a=Cs(t,"font",null);a===null?this._font=this.fontStyle+" "+this.fontSize+" "+this.fontFamily:this._font=a;var f=Cs(t,"fill",null);f!==null&&(this.color=Ye(f));var c=Cs(t,"metrics",!1);return c?this.metrics={ascent:Cs(c,"ascent",0),descent:Cs(c,"descent",0),fontSize:Cs(c,"fontSize",0)}:(i||!this.metrics)&&(this.metrics=AF(this)),i?this.parent.updateText():this.parent}syncFont(t,i){i.font=this._font}syncStyle(t,i){i.textBaseline="alphabetic",i.fillStyle=this.color,i.strokeStyle=this.stroke,i.lineWidth=this.strokeThickness,i.lineCap="round",i.lineJoin="round"}syncShadow(t,i){i?(t.shadowOffsetX=this.shadowOffsetX,t.shadowOffsetY=this.shadowOffsetY,t.shadowColor=this.shadowColor,t.shadowBlur=this.shadowBlur):(t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowColor=0,t.shadowBlur=0)}update(t){return t&&(this._font=`${this.fontStyle} ${this.fontSize} ${this.fontFamily}`.trim(),this.metrics=AF(this)),this.parent.updateText(t)}buildFont(){var t=`${this.fontStyle} ${this.fontSize} ${this.fontFamily}`.trim();return t!==this._font&&(this._font=t),this}setFont(t){return typeof t=="string"?(this.fontFamily=t,this.fontSize="",this.fontStyle=""):(this.fontFamily=Cs(t,"fontFamily","Courier"),this.fontSize=Cs(t,"fontSize","16px"),this.fontStyle=Cs(t,"fontStyle","")),this.update(!0)}setFontFamily(t){return this.fontFamily=t,this.update(!0)}setFontStyle(t){return this.fontStyle=t,this.update(!0)}setFontSize(t){return typeof t=="number"&&(t=t.toString()+"px"),this.fontSize=t,this.update(!0)}setTestString(t){return this.testString=t,this.update(!0)}setFixedSize(t,i){return this.fixedWidth=t,this.fixedHeight=i,t&&(this.parent.width=t),i&&(this.parent.height=i),this.update(this.isWrapFitMode)}setResolution(t){return this.resolution=t,this.update(!1)}setXOffset(t){return this.xOffset=t,this.update(!1)}setBackgroundColor(t,i,s){return s===void 0&&(s=!0),this.backgroundColor=Ye(t,this.parent.canvas,this.parent.context),this.backgroundColor2=Ye(i,this.parent.canvas,this.parent.context),this.backgroundHorizontalGradient=s,this.update(!1)}setBackgroundStrokeColor(t,i){return this.backgroundStrokeColor=Ye(t,this.parent.canvas,this.parent.context),this.backgroundStrokeLineWidth=i,this.update(!1)}setBackgroundCornerRadius(t,i){return this.backgroundCornerRadius=t,this.backgroundCornerIteration=i,this.update(!1)}setFill(t){return this.color=Ye(t,this.parent.canvas,this.parent.context),this.update(!1)}setColor(t){return this.color=Ye(t,this.parent.canvas,this.parent.context),this.update(!1)}setStroke(t,i){return t===void 0?this.strokeThickness=0:(i===void 0&&(i=this.strokeThickness),this.stroke=Ye(t,this.parent.canvas,this.parent.context),this.strokeThickness=i),this.update(!0)}setShadow(t,i,s,p,E,n){return t===void 0&&(t=0),i===void 0&&(i=0),s===void 0&&(s="#000"),p===void 0&&(p=0),E===void 0&&(E=!1),n===void 0&&(n=!0),this.shadowOffsetX=t,this.shadowOffsetY=i,this.shadowColor=Ye(s,this.parent.canvas,this.parent.context),this.shadowBlur=p,this.shadowStroke=E,this.shadowFill=n,this.update(!1)}setShadowOffset(t,i){return t===void 0&&(t=0),i===void 0&&(i=t),this.shadowOffsetX=t,this.shadowOffsetY=i,this.update(!1)}setShadowColor(t){return t===void 0&&(t="#000"),this.shadowColor=Ye(t,this.parent.canvas,this.parent.context),this.update(!1)}setShadowBlur(t){return t===void 0&&(t=0),this.shadowBlur=t,this.update(!1)}setShadowStroke(t){return this.shadowStroke=t,this.update(!1)}setShadowFill(t){return this.shadowFill=t,this.update(!1)}setUnderline(t,i,s){return t===void 0&&(t="#000"),i===void 0&&(i=0),s===void 0&&(s=0),this.underlineColor=Ye(t,this.parent.canvas,this.parent.context),this.underlineThickness=i,this.underlineOffset=s,this.update(!1)}setUnderlineColor(t){return t===void 0&&(t="#000"),this.underlineColor=Ye(t,this.parent.canvas,this.parent.context),this.update(!1)}setUnderlineThickness(t){return t===void 0&&(t=0),this.underlineThickness=t,this.update(!1)}setUnderlineOffset(t){return t===void 0&&(t=0),this.underlineOffset=t,this.update(!1)}setStrikethrough(t,i,s){return t===void 0&&(t="#000"),i===void 0&&(i=0),s===void 0&&(s=0),this.strikethroughColor=Ye(t,this.parent.canvas,this.parent.context),this.strikethroughThickness=i,this.strikethroughOffset=s,this.update(!1)}setStrikethroughColor(t){return t===void 0&&(t="#000"),this.strikethroughColor=Ye(t,this.parent.canvas,this.parent.context),this.update(!1)}setStrikethroughThickness(t){return t===void 0&&(t=0),this.strikethroughThickness=t,this.update(!1)}setStrikethroughOffset(t){return t===void 0&&(t=0),this.strikethroughOffset=t,this.update(!1)}setWrapMode(t){return typeof t=="string"&&(t=tx[t.toLowerCase()]||0),this.wrapMode=t,this.update(!0)}setWrapWidth(t){return this.wrapWidth=t,this.update(!1)}setAlign(t,i){return t===void 0&&(t="left"),i===void 0&&(i="top"),this.halign=t,this.valign=i,this.update(!1)}setHAlign(t){return t===void 0&&(t="left"),this.halign=t,this.update(!1)}setVAlign(t){return t===void 0&&(t="top"),this.valign=t,this.update(!1)}setMaxLines(t){return t===void 0&&(t=0),this.maxLines=t,this.update(!1)}getTextMetrics(){var t=this.metrics;return{ascent:t.ascent,descent:t.descent,fontSize:t.fontSize}}setTextMetrics(t,i){return this.metrics.ascent=t.ascent,this.metrics.descent=t.descent,this.metrics.fontSize=t.fontSize,i&&(typeof i=="string"?(this.fontFamily=i,this.fontSize="",this.fontStyle=""):(this.fontFamily=Cs(i,"fontFamily",this.fontFamily),this.fontSize=Cs(i,"fontSize",this.fontSize),this.fontStyle=Cs(i,"fontStyle",this.fontStyle))),this.parent.updateText(!0)}get lineHeight(){return this.metrics.fontSize+this.parent.lineSpacing}toJSON(){var t={},i=this.propertyMap;for(var s in i)t[s]=this[s];return t.metrics=this.getTextMetrics(),t}destroy(){this.parent=void 0}};var Ud=function(e){return e==null?e="":Array.isArray(e)?e=e.join(`
`):typeof e=="number"&&(e=e.toString()),e};const y_={draw(e,t,i,s){var p=this.penManager;this.hitAreaManager.clear();var E=this.context;E.save();var n=this.defaultStyle;this.clear(),Uw(this,n.backgroundColor,n.backgroundStrokeColor,n.backgroundStrokeLineWidth,n.backgroundCornerRadius,n.backgroundColor2,n.backgroundHorizontalGradient,n.backgroundCornerIteration),e+=this.startXOffset,t+=this.startYOffset;var T=n.halign,r=n.valign,o,x=n.lineHeight,d=p.lines,h=d.length,l=n.maxLines,a,f,c;l>0&&h>l?(a=l,r==="center"?f=Math.floor((h-a)/2):r==="bottom"?f=h-a:f=0):(a=h,f=0),c=f+a;var u,v,g=this.rtl,m=g?this.parent.width:void 0;r==="center"?v=Math.max((s-a*x)/2,0):r==="bottom"?v=Math.max(s-a*x-2,0):v=0,v+=t;for(var y=f;y<c;y++)if(o=p.getLineWidth(y),o!==0){for(var C=d[y],P=C.length,w=T,M=0;M<P;M++){var R=C[M].prop.align;if(R!==void 0){w=R;break}}w==="center"?u=(i-o)/2:w==="right"?u=g?0:i-o:u=g?i-o:0,u+=e;for(var M=0;M<P;M++)this.drawPen(C[M],u,v,m)}E.restore()},drawPen(e,t,i,s){t+=e.x,i+=e.y+(e.prop.y||0),s!==void 0&&(t=s-t);var p=this.canvas,E=this.context;E.save();var n=this.parser.propToContextStyle(this.defaultStyle,e.prop);if(n.bgcolor!==null&&e.width>0){var T=this.defaultStyle.metrics,r=i-T.ascent,o=T.fontSize;this.drawRectangle(t,r,e.width,o,n.bgcolor,n)}if(n.underlineThickness>0&&e.width>0){var x=i+n.underlineOffset-n.underlineThickness/2;this.drawLine(t,x,e.width,n.underlineThickness,n.underlineColor,n)}if(e.isTextPen&&(n.buildFont(),n.syncFont(p,E),n.syncStyle(p,E),this.drawText(t,i,e.text,n)),e.isImagePen&&this.drawImage(t,i,e.prop.img,e.prop.color,n),n.strikethroughThickness>0&&e.width>0){var x=i+n.strikethroughOffset-n.strikethroughThickness/2;this.drawLine(t,x,e.width,n.strikethroughThickness,n.strikethroughColor,n)}if(E.restore(),e.hasAreaMarker&&e.width>0){var d,h=e.prop.area;if(h)d={key:h};else{var l=e.prop.url;d={key:`url:${l}`,url:l}}this.hitAreaManager.add(t,i-this.startYOffset,e.width,this.defaultStyle.lineHeight,d)}},clear(){var e=this.canvas;this.context.clearRect(0,0,e.width,e.height)},drawRectangle(e,t,i,s,p,E){this.autoRound&&(e=Math.round(e),t=Math.round(t));var n=this.context;n.fillStyle=p,n.fillRect(e,t,i,s)},drawLine(e,t,i,s,p,E){this.autoRound&&(e=Math.round(e),t=Math.round(t));var n=this.context;E.syncShadow(n,E.shadowStroke);var T=n.lineCap;n.lineCap="butt",n.strokeStyle=p,n.lineWidth=s,n.beginPath(),n.moveTo(e,t),n.lineTo(e+i,t),n.stroke(),n.lineCap=T},drawText(e,t,i,s){this.autoRound&&(e=Math.round(e),t=Math.round(t));var p=this.context;s.stroke&&s.stroke!=="none"&&s.strokeThickness>0&&(s.syncShadow(p,s.shadowStroke),p.strokeText(i,e,t)),s.color&&s.color!=="none"&&(s.syncShadow(p,s.shadowFill),p.fillText(i,e,t))},drawImage(e,t,i,s,p){t-=this.startYOffset,this.parent.imageManager.draw(i,this.context,e,t,s,this.autoRound)}},gu=Phaser.Utils.Objects.GetValue,x_=pr.NO_NEWLINE,OF=pr.RAW_NEWLINE;class T_{constructor(t){this.prop={},this.resetFromJSON(t)}resetFromJSON(t){this.text=gu(t,"text",""),this.x=gu(t,"x",0),this.y=gu(t,"y",0),this.width=gu(t,"width",0);var i=gu(t,"prop",null);i===null&&(i={}),this.prop=i,this.newLineMode=gu(t,"newLineMode",0),this.startIndex=gu(t,"startIndex",0)}get plainText(){var t=this.text;return this.newLineMode===OF&&(t+=`
`),t}get wrapText(){var t=this.text;return this.newLineMode!==x_&&(t+=`
`),t}get rawTextLength(){var t=this.text.length;return this.newLineMode===OF&&(t+=1),t}get endIndex(){return this.startIndex+this.rawTextLength}get lastX(){return this.x+this.width}get isTextPen(){return this.text!==""}get isImagePen(){return!!this.prop.img}get hasAreaMarker(){return!!this.prop.area||!!this.prop.url}}var Na=function(e,t){var i=Array.isArray(e);if(t===void 0?t=i?[]:{}:Sh(t),i){t.length=e.length;for(var s=0,p=e.length;s<p;s++)t[s]=e[s]}else for(var E in e)t[E]=e[E];return t};const LF=Phaser.Utils.Objects.GetFastValue,DF=pr.NO_NEWLINE,C_=pr.WRAPPED_NEWLINE;class Ww{constructor(t){this.pens=[],this.lines=[],this.maxLinesWidth=void 0,this.pensPool=t.pensPool,this.linesPool=t.linesPool,this.tagToText=LF(t,"tagToText",Ur),this.tagToTextScope=LF(t,"tagToTextScope",void 0)}destroy(){this.clear(),this.tagToText=void 0,this.tagToTextScope=void 0}clear(){for(var t=0,i=this.lines.length;t<i;t++)this.lines[t].length=0;this.pensPool.pushMultiple(this.pens),this.linesPool.pushMultiple(this.lines),this.maxLinesWidth=void 0}addTextPen(t,i,s,p,E,n){var T=this.pensPool.pop();return T==null&&(T=new T_),mu.text=t,mu.x=i,mu.y=s,mu.width=p,mu.prop=E,mu.newLineMode=n,T.resetFromJSON(mu),this.addPen(T),this}addImagePen(t,i,s,p){return this.addTextPen("",t,i,s,p,DF),this}addNewLinePen(){var t=this.lastPen,i=t?t.lastX:0,s=t?t.y:0,p=t?Na(t.prop):null;return this.addTextPen("",i,s,0,p,C_),this}addPen(t){var i=this.lastPen;i==null?t.startIndex=0:t.startIndex=i.endIndex,this.pens.push(t);var s=this.lastLine;s==null&&(s=this.linesPool.pop()||[],this.lines.push(s)),s.push(t),t.newLineMode!==DF&&(s=this.linesPool.pop()||[],this.lines.push(s)),this.maxLinesWidth=void 0}clone(t){t==null&&(t=new Ww),t.clear();for(var i=0,s=this.lines.length;i<s;i++)for(var p=this.lines[i],E=0,n=p.length;E<n;E++){var T=p[E];t.addPen(T.text,T.x,T.y,T.width,Na(T.prop),T.newLineMode)}return t}get lastPen(){return this.pens[this.pens.length-1]}get lastLine(){return this.lines[this.lines.length-1]}getLineStartIndex(t){if(t>=this.lines.length)return this.getLineEndIndex(t);var i=this.lines[t];return i&&i[0]?i[0].startIndex:0}getLineEndIndex(t){t>=this.lines.length&&(t=this.lines.length-1);var i,s=!1,p;for(i=t;i>=0&&(p=this.lines[i],s=p!=null&&p.length>0,!s);i--);if(!s)return 0;var E=p[p.length-1];return E.endIndex}getLineWidth(t){var i=this.lines[t];if(!i)return 0;var s=i[i.length-1];if(s==null)return 0;var p=s.lastX;return p}getMaxLineWidth(){if(this.maxLinesWidth!==void 0)return this.maxLinesWidth;for(var t,i=0,s=0,p=this.lines.length;s<p;s++)t=this.getLineWidth(s),t>i&&(i=t);return this.maxLinesWidth=i,i}getLineWidths(){for(var t=[],i=0,s=this.lines.length;i<s;i++)t.push(this.getLineWidth(i));return t}get linesCount(){return this.lines.length}get plainText(){for(var t="",i=this.pens,s=0,p=i.length;s<p;s++)t+=i[s].plainText;return t}get rawTextLength(){for(var t=0,i=this.pens,s=0,p=this.pens.length;s<p;s++)t+=i[s].rawTextLength;return t}getSliceTagText(t,i,s){var p=this.lastPen;if(p==null)return"";var E=p.endIndex;(t===void 0||t===0)&&(t=-1),(i===void 0||i===E)&&(i=E+1),s===void 0&&(s=!1);for(var n="",T,r,o,x,d,h,l,a=0,f=this.pens.length;a<f&&(T=this.pens[a],x=T.endIndex,!(!(x<=t)&&(T=this.pens[a],r=s?T.wrapText:T.plainText,h=T.prop,o=T.startIndex,d=o>=t&&x<=i,d||(r=r.substring(t-o,i-o)),this.tagToTextScope?n+=this.tagToText.call(this.tagToTextScope,r,h,l):n+=this.tagToText(r,h,l),l=h,x>=i)));a++);return n}get length(){return this.lines.length}set length(t){this.clear()}}var mu={};const S_=Phaser.Geom.Rectangle;var FF=new Co;class E_{constructor(){this.hitAreas=[]}destroy(){this.clear()}clear(){for(var t=0,i=this.hitAreas.length;t<i;t++)this.hitAreas[t].data=null;return FF.pushMultiple(this.hitAreas),this}add(t,i,s,p,E){E===void 0&&(E={});var n=FF.pop();return n===null?n=new S_(t,i,s,p):n.setTo(t,i,s,p),n.data=E,this.hitAreas.push(n),this}getFirst(t,i){for(var s=0,p=this.hitAreas.length;s<p;s++){var E=this.hitAreas[s];if(E.contains(t,i))return E}return null}getByKey(t){for(var i=0,s=this.hitAreas.length;i<s;i++){var p=this.hitAreas[i];if(p.data.key===t)return p}return null}drawBounds(t,i,s){i===void 0&&(i=16777215),s&&t.save().scaleCanvas(s.scaleX,s.scaleY).rotateCanvas(s.rotation).translateCanvas(s.x,s.y);for(var p=0,E=this.hitAreas.length;p<E;p++){var n=this.hitAreas[p];t.lineStyle(1,i).strokeRect(n.x,n.y,n.width,n.height)}return s&&t.restore(),this}}var b_=function(){this.parent.on("pointerdown",P_,this).on("pointerup",w_,this).on("pointermove",YE,this).on("pointerover",YE,this).on("pointerout",function(e,t){YE.call(this,e,null,null,t)},this)},P_=function(e,t,i,s){var p=this.hitAreaManager.getFirst(t,i);if(p!==null){var E=p.data.key;Vd.call(this,"areadown",E,e,t,i,s),p.data&&(p.data.isDown=!0)}},w_=function(e,t,i,s){var p=this.hitAreaManager.getFirst(t,i);if(p!==null){var E=p.data.key;if(Vd.call(this,"areaup",E,e,t,i,s),!!p.data){if(p.data.isDown){if(Vd.call(this,"areaclick",E,e,t,i,s),!p.data)return;var n=p.data.url;n&&window.open(n,"_blank")}p.data.isDown=!1}}},YE=function(e,t,i,s){if(t===null){if(this.lastHitAreaKey!==null){Vd.call(this,"areaout",this.lastHitAreaKey,e,t,i,s);var p=this.hitAreaManager.getByKey(this.lastHitAreaKey);p&&p.data&&(p.data.isDown=!1),this.lastHitAreaKey=null}return}var p=this.hitAreaManager.getFirst(t,i),E=p?p.data.key:null;if(this.lastHitAreaKey!==E){if(this.lastHitAreaKey!==null){Vd.call(this,"areaout",this.lastHitAreaKey,e,t,i,s);var n=this.hitAreaManager.getByKey(this.lastHitAreaKey);n&&(this.urlTagCursorStyle&&IF(this.scene,n,""),n.data.isDown=!1)}E!==null&&(Vd.call(this,"areaover",E,e,t,i,s),p.data&&this.urlTagCursorStyle&&IF(this.scene,p,this.urlTagCursorStyle)),this.lastHitAreaKey=E}},Vd=function(e,t,i,s,p,E){this.parent.emit(`${e}-${t}`,i,s,p,E),this.parent.emit(e,t,i,s,p,E)},IF=function(e,t,i){!t||!t.data||!t.data.url||(e.input.manager.canvas.style.cursor=i)},M_=/^[\x00-\x7F]+$/,Cp=function(e){return M_.test(e)};const R_=pr.NO_NEWLINE,A_=pr.RAW_NEWLINE,XE=pr.WRAPPED_NEWLINE,BF=pr.NO_WRAP,O_=pr.WORD_WRAP,b9=pr.CHAR_WRAP,L_=pr.SPLITREGEXP;var P9=function(e,t,i,s,p,E){s<=0&&(i=BF);var n=[];if(!e||!e.length)return n;for(var T=i===BF,r=e.split(L_),o,x,d,h=0,l=r.length;h<l;h++){if(o=r[h],d=h===l-1?R_:A_,T){var a=t.measureText(o).width;n.push(E.getLine(o,a,d));continue}if(x=h===0?s-p:s,o.length<=100){var a=t.measureText(o).width;if(a<=x){n.push(E.getLine(o,a,d));continue}}for(var f=D_(o,i),c,u,v="",g=0,m,y=0,C=f.length;y<C;y++){if(c=f[y],u=t.measureText(c).width,u>s&&F_(c)){v!==""?n.push(E.getLine(v,g,XE)):y===0&&p>0&&n.push(E.getLine("",0,XE)),n.push(...P9(c,t,b9,s,0,E));var P=n.pop();v=P.text,g=P.width,E.freeLine(P),v===" "&&(v="",g=0);continue}m=g+u,m>x?(n.push(E.getLine(v,g,XE)),v=c,g=u,x=s):(v+=c,g=m),y===C-1&&n.push(E.getLine(v,g,d))}}return n},D_=function(e,t){var i;switch(t){case O_:i=[],e=e.split(" ");for(var s=0,p=e.length;s<p;s++){var E=e[s];s<p-1?i.push(E+" "):E!==""&&i.push(E)}break;case b9:i=e.split("");break;default:i=[],e=e.split(" ");for(var s=0,p=e.length;s<p;s++){var E=e[s];s<p-1?Cp(E)?i.push(E+" "):(i.push(...E.split("")),i.push(" ")):E!==""&&(Cp(E)?i.push(E):i.push(...E.split("")))}break}return i},F_=function(e){switch(e.length){case 1:return!1;case 2:return e.charAt(1)!==" ";default:return!0}};const HE=Phaser.Utils.Objects.GetValue,I_=pr.NO_WRAP,GF=pr.NO_NEWLINE,B_=pr.WRAPPED_NEWLINE;class w9{constructor(t){this.parent=t.parent,this.scene=this.parent.scene,this.context=HE(t,"context",null),this.canvas=this.context.canvas,this.parser=HE(t,"parser",null),this.defaultStyle=HE(t,"style",null),this.autoRound=!0,this.pensPool=t.pensPool,this.linesPool=t.linesPool,this.wrapTextLinesPool=t.wrapTextLinesPool,this.penManager=this.newPenManager(),this._tmpPenManager=null,this.hitAreaManager=new E_,this.lastHitAreaKey=null,this.urlTagCursorStyle=null}destroy(){this.parent=void 0,this.scene=void 0,this.context=void 0,this.canvas=void 0,this.parser=void 0,this.defaultStyle=void 0,this.penManager&&(this.penManager.destroy(),this.penManager=void 0),this._tmpPenManager&&(this._tmpPenManager.destroy(),this._tmpPenManager=void 0),this.hitAreaManager&&(this.hitAreaManager.destroy(),this.hitAreaManager=void 0),this.pensPool=void 0,this.linesPool=void 0,this.wrapTextLinesPool=void 0}updatePenManager(t,i,s,p,E){if(E===void 0&&(E=this.penManager),E.clear(),t==="")return E;var n=this.parent.style;if(n.isWrapFitMode){var T=this.parent.padding;s=n.fixedWidth-T.left-T.right}for(var r=this.canvas,o=this.context,x=0,d=0,h=n.wrapCallback,l=n.wrapCallbackScope,a=!0,f,c,u,v=this.parser.splitText(t),g,m,y=this.wrapTextLinesPool,C=0,P=v.length;C<P;C++)if(g=this.parser.tagTextToProp(v[C],c),f=g.plainText,c=g.prop,c.img){var w=this.imageManager.getOuterWidth(c.img);s>0&&i!==I_&&s<x+w&&(E.addNewLinePen(),d+=p,x=0),E.addImagePen(x,d,w,Na(c)),x+=w}else if(f!==""){if(o.save(),u=this.parser.propToContextStyle(this.defaultStyle,c),u.buildFont(),u.syncFont(r,o),u.syncStyle(r,o),!h)m=P9(f,o,i,s,x,y);else{m=h.call(l,f,o,s,x),typeof m=="string"&&(m=m.split(`
`));for(var A,M=0,R=m.length;M<R;M++)A=m[M],typeof A=="string"?m[M]=y.getLine(A,o.measureText(A).width,M<R-1?B_:GF):a=!1}for(var A,M=0,R=m.length;M<R;M++)A=m[M],E.addTextPen(A.text,x,d,A.width,Na(c),A.newLineMode),A.newLineMode!==GF?(x=0,d+=p):x+=A.width;a&&y.freeLines(m),m=null,o.restore()}for(var C=0,P=this.lines.length;C<P;C++){var L=this.lines[C],F=L[L.length-1];F&&(F.width+=this.parser.getStrokeThinkness(this.defaultStyle,F.prop))}return E}get startXOffset(){return this.defaultStyle.xOffset}get startYOffset(){return this.defaultStyle.metrics.ascent}get lines(){return this.penManager.lines}get displayLinesCount(){var t=this.penManager.linesCount,i=this.defaultStyle.maxLines;return i>0&&t>i&&(t=i),t}get linesWidth(){return Math.ceil(this.penManager.getMaxLineWidth())}get linesHeight(){var t=this.displayLinesCount,i=this.defaultStyle.lineHeight*t;return t>0&&(i-=this.defaultStyle.lineSpacing),i}get imageManager(){return this.parent.imageManager}get rtl(){return this.parent.style.rtl}newPenManager(){return new Ww({pensPool:this.pensPool,linesPool:this.linesPool,tagToText:this.parser.propToTagText,tagToTextScope:this.parser})}get tmpPenManager(){return this._tmpPenManager===null&&(this._tmpPenManager=this.newPenManager()),this._tmpPenManager}getPlainText(t,i,s){var p;if(t==null)p=this.penManager.plainText;else{var E=this.parser.splitText(t,1);p="";for(var n=0,T=E.length;n<T;n++)p+=E[n]}return(i!=null||s!=null)&&(i==null&&(i=0),s==null&&(s=p.length),p=p.substring(i,s)),p}getPenManager(t,i){if(t===void 0)return this.copyPenManager(i,this.penManager);i===void 0&&(i=this.newPenManager());var s=this.defaultStyle;return this.updatePenManager(t,s.wrapMode,s.wrapWidth,s.lineHeight,i),i}getText(t,i,s,p){if(t==null)return this.penManager.getSliceTagText(i,s,p);var E=this.tmpPenManager,n=this.defaultStyle;return this.updatePenManager(t,n.wrapMode,n.wrapWidth,n.lineHeight,E),E.getSliceTagText(i,s,p)}copyPenManager(t,i){return i===void 0&&(i=this.penManager),i.copy(t)}getTextWidth(t){return t===void 0&&(t=this.penManager),t.getMaxLineWidth()}getLastPen(t){return t===void 0&&(t=this.penManager),t.lastPen}}var G_={setInteractive:b_};Object.assign(w9.prototype,y_,G_);class kF extends Co{freeLine(t){if(t)return this.push(t),this}freeLines(t){if(t)return this.pushMultiple(t),this}getLine(t,i,s){var p=this.pop();return p===null&&(p={}),p.text=t,p.width=i,p.newLineMode=s,p}}const k_=Phaser.Utils.Objects.IsPlainObject,_f=Phaser.Utils.Objects.GetValue;var $E=function(e,t){k_(e)?(t=e,e=t.key):t===void 0&&(t={key:e}),t.hasOwnProperty("key")||(t.key=e);var i=t.key,s=t.frame,p=t.width,E=t.height;if(p===void 0||E===void 0){var n=this.textureManager.getFrame(i,s),T=n?n.cutWidth:0,r=n?n.cutHeight:0;p===void 0&&E===void 0?(p=T,E=r):p===void 0?p=T*(E/r):E===void 0&&(E=r*(p/T))}this.images[e]={key:i,frame:s,width:p,height:E,y:_f(t,"y",0),left:_f(t,"left",0),right:_f(t,"right",0),originX:_f(t,"originX",0),originY:_f(t,"originY",0),tintFill:_f(t,"tintFill",!1)}};const NF=Phaser.Display.Canvas.CanvasPool;var M9=function(e,t,i,s,p,E,n,T){i===void 0&&(i=0),s===void 0&&(s=0),p===void 0&&(p=e.cutWidth),E===void 0&&(E=e.cutHeight),T===void 0&&(T=!1),T&&(i=Math.round(i),s=Math.round(s));var r=t.getContext("2d",{willReadFrequently:!0});if(n){var o=NF.create(null,p,E,Phaser.CANVAS,!0),x=o.getContext("2d",{willReadFrequently:!0});x.drawImage(e.source.image,e.cutX,e.cutY,e.cutWidth,e.cutHeight,0,0,p,E),x.globalCompositeOperation="source-in",x.fillStyle=n,x.fillRect(0,0,p,E),r.drawImage(o,0,0,p,E,i,s,p,E),NF.remove(o)}else r.drawImage(e.source.image,e.cutX,e.cutY,e.cutWidth,e.cutHeight,i,s,p,E)},N_=function(e,t,i,s,p,E){var n=this.get(e);if(n){var T=this.textureManager.getFrame(n.key,n.frame),r=n.width,o=n.height;i+=n.left-n.originX*r,s+=n.y-n.originY*o,n.tintFill||(p=void 0),M9(T,t.canvas,i,s,r,o,p,E)}};class Yw{constructor(t){this.textureManager=t.sys.textures,this.images={}}destroy(){this.textureManager=void 0,this.images=void 0}add(t,i){if(typeof t=="string")$E.call(this,t,i);else if(Array.isArray(t))for(var s=t,p=0,E=s.length;p<E;p++)$E.call(this,s[p]);else{var s=t;for(var t in s)$E.call(this,t,s[t])}return this}has(t){return this.images.hasOwnProperty(t)}remove(t){return this.has(t)&&delete this.images[t],this}get(t){return this.has(t)||this.textureManager.exists(t)&&this.add(t),this.images[t]}getOuterWidth(t){var i=this.get(t);return i?i.width+i.left+i.right:0}getFrame(t){var i=this.get(t);return i?this.textureManager.getFrame(i.key,i.frame):void 0}hasTexture(t){return!!this.getFrame(t)}}var U_={draw:N_};Object.assign(Yw.prototype,U_);var R9=function(e,t){!e&&e!==0&&(e=""),t===void 0&&(t=!0),Array.isArray(e)&&(e=e.join(`
`));var i;return t?i=`${this.text}
${e}`:i=`${this.text}${e}`,i!=this.text&&this.setText(i),this};const V_=Phaser.Utils.Objects.IsPlainObject,UF=Phaser.DOM.AddToDOM,VF=Phaser.Display.Canvas.CanvasPool,z_=Phaser.GameObjects.GameObject,_n=Phaser.Utils.Objects.GetValue,W_=Phaser.DOM.RemoveFromDOM,Y_=pr.SPLITREGEXP,X_=Phaser.Utils.String.UUID;var td=null,KE=null,ZE=null;class Xw extends E9{constructor(t,i,s,p,E,n,T){if(V_(i)){var r=i;i=_n(r,"x",0),s=_n(r,"y",0),p=_n(r,"text",""),E=_n(r,"style")}if(i===void 0&&(i=0),s===void 0&&(s=0),super(t,n),this.renderer=t.sys.game.renderer,this.setPosition(i,s),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(!0),this.canvas=VF.create(this),this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this._imageManager=void 0,E){if(E.hasOwnProperty("align")){var o=E.align;delete E.align,E.halign=o}E.hasOwnProperty("stroke")&&!E.hasOwnProperty("strokeThickness")&&(E.strokeThickness=1)}this.style=new zw(this,E);var x=_n(E,"images",void 0);x&&this.addImage(x),this.autoRound=!0,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.dirty=!1,this.style.resolution===0&&(this.style.resolution=1),this._crop=this.resetCropObject(),this._textureKey=X_(),this.texture=t.sys.textures.addCanvas(this._textureKey,this.canvas),this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null);var d=_n(E,"sharedPool",!0),h,l,a;d?(td||(td={},KE=new Co,ZE=new kF,this.scene.game.events.once("destroy",function(){td=null,KE=null,ZE=null})),td.hasOwnProperty(n)||(td[n]=new Co),h=td[n],l=KE,a=ZE):(h=new Co,l=new Co,a=new kF),this.canvasText=new w9({parent:this,context:this.context,parser:T,style:this.style,pensPool:h,linesPool:l,wrapTextLinesPool:a}),this.parser=T,this.initRTL(),E&&E.padding&&this.setPadding(E.padding),this.setText(p),this.setUrlTagCursorStyle(_n(E,"urlTagCursorStyle","pointer")),_n(E,"interactive",!1)&&this.setInteractive()}preDestroy(){W_(this.canvas),this.canvasText.destroy(),this.canvasText=void 0,this._imageManager&&(this._imageManager.destroy(),this._imageManager=void 0),VF.remove(this.canvas);var t=this.texture;t&&t.destroy()}set text(t){this.setText(t)}get text(){return this._text}initRTL(){this.style.rtl&&(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",UF(this.canvas,this.scene.sys.canvas),this.originX=1)}setRTL(t){t===void 0&&(t=!0);var i=this.style;if(i.rtl===t)return this;if(i.rtl=t,t?(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",UF(this.canvas,this.scene.sys.canvas)):(this.canvas.dir="ltr",this.context.direction="ltr"),i.halign==="left"?i.halign="right":i.halign==="right"&&(i.halign="left"),this._imageManager){var s=this._imageManager.images;for(var p in s)s[p].originX=1-s[p].originX}return this}setText(t){return t=Ud(t),t===this._text?this:(this._text=t,this.updateText(),this)}setPadding(t,i,s,p){if(typeof t=="object"){var E=t,n=_n(E,"x",null);n!==null?(t=n,s=n):(t=_n(E,"left",0),s=_n(E,"right",t));var T=_n(E,"y",null);T!==null?(i=T,p=T):(i=_n(E,"top",0),p=_n(E,"bottom",i))}else t===void 0&&(t=0),i===void 0&&(i=t),s===void 0&&(s=t),p===void 0&&(p=i);return this.padding.left=t,this.padding.top=i,this.padding.right=s,this.padding.bottom=p,this.updateText(!1)}updateText(t){t===void 0&&(t=!0);var i=this.canvasText,s=this.style;t&&i.updatePenManager(this._text,s.wrapMode,s.wrapWidth,s.lineHeight);var p=this.padding,E,n,T=Math.ceil(i.linesWidth);s.fixedWidth===0?(this.width=T+p.left+p.right,E=T):(this.width=s.fixedWidth,E=this.width-p.left-p.right,E<T&&(E=T)),s.fixedHeight===0?(this.height=i.linesHeight+p.top+p.bottom,n=i.linesHeight):(this.height=s.fixedHeight,n=this.height-p.top-p.bottom,n<i.linesHeight&&(n=i.linesHeight));var r=this.width,o=this.height;this.updateDisplayOrigin();var x=s.resolution;r*=x,o*=x,r=Math.max(Math.ceil(r),1),o=Math.max(Math.ceil(o),1);var d=this.canvas,h=this.context;d.width!==r||d.height!==o?(d.width=r,d.height=o,this.frame.setSize(r,o)):h.clearRect(0,0,r,o),h.save(),h.scale(x,x);var l=this.style.rtl?p.right:p.left,a=p.top;i.draw(l,a,E,n),h.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(d,this.frame.source.glTexture,!0),this.frame.glTexture.spectorMetadata={textureKey:"BBCodeText Game Object"}),this.dirty=!0;var f=this.input;return f&&!f.customHitArea&&(f.hitArea.width=this.width,f.hitArea.height=this.height),this}toJSON(){var t=Components.ToJSON(this),i={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),resolution:this.resolution,padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return t.data=i,t}setInteractive(t,i,s){var p=!!this.input;return z_.prototype.setInteractive.call(this,t,i,s),p||this.canvasText.setInteractive(),this}setUrlTagCursorStyle(t){return this.urlTagCursorStyle=t,this}get urlTagCursorStyle(){return this.canvasText.urlTagCursorStyle}set urlTagCursorStyle(t){this.canvasText.urlTagCursorStyle=t}getWrappedText(t,i,s){return typeof t=="number"&&(s=i,i=t,t=void 0),t=this.canvasText.getText(t,i,s,!0),t.split(Y_)}getPlainText(t,i,s){return typeof t=="number"&&(s=i,i=t,t=void 0),this.canvasText.getPlainText(t,i,s)}getText(t,i,s,p){return typeof t=="number"&&(p=s,s=i,i=t,t=void 0),p===void 0&&(p=!1),this.canvasText.getText(t,i,s,p)}getSubString(t,i,s){return typeof t=="number"&&(s=i,i=t,t=void 0),this.getText(t,i,s)}copyPenManager(t){return this.canvasText.copyPenManager(t)}getPenManager(t,i){return this.canvasText.getPenManager(t,i)}setSize(t,i){return this.setFixedSize(t,i)}resize(t,i){return this.setFixedSize(t,i)}get imageManager(){return this._imageManager||(this._imageManager=new Yw(this.scene)),this._imageManager}addImage(t,i){return this.imageManager.add(t,i),this}drawAreaBounds(t,i){return this.canvasText.hitAreaManager.drawBounds(t,i,this),this}generateTexture(t,i,s,p,E){var n=this.canvas;return p===void 0?p=n.width:p*=this.resolution,E===void 0?E=n.height:E*=this.resolution,T9(this.scene,n,t,i,s,p,E),this}}var H_={appendText:R9};Object.assign(Xw.prototype,H_);var $_=function(e,t){for(var i=this.tagRegex,s=[],p=0,E=!1,n=!1;;){var T=i.RE_SPLITTEXT.exec(e);if(!T)break;var r=T[0];if(n)if(i.RE_ESC_CLOSE.test(r))n=!1;else continue;else if(E)if(i.RE_RAW_CLOSE.test(r))E=!1;else continue;else i.RE_ESC_OPEN.test(r)?n=!0:i.RE_RAW_OPEN.test(r)&&(E=!0);var o=i.RE_SPLITTEXT.lastIndex,x=o-r.length;if(p<x){var d=e.substring(p,x);s.push(d)}t===void 0&&s.push(r),p=o}var h=e.length;return p<h&&s.push(e.substring(p,h)),s};const nr=!1,Zi=!0;var K_={plainText:null,prevProp:null},Z_=function(e,t){var i=this.tagRegex;t==null&&(t={});var s="";if(t.img&&We(t,nr,"img"),t.esc)i.RE_ESC_CLOSE.test(e)?We(t,nr,"esc"):s=e;else if(t.raw)i.RE_RAW_CLOSE.test(e)?We(t,nr,"raw"):s=e;else if(i.RE_ESC_OPEN.test(e))We(t,Zi,"esc",!0);else if(i.RE_ESC_CLOSE.test(e))We(t,nr,"esc");else if(i.RE_RAW_OPEN.test(e))We(t,Zi,"raw",!0);else if(i.RE_RAW_CLOSE.test(e))We(t,nr,"raw");else if(i.RE_BLOD_OPEN.test(e))We(t,Zi,"b",!0);else if(i.RE_BLOD_CLOSE.test(e))We(t,nr,"b");else if(i.RE_ITALICS_OPEN.test(e))We(t,Zi,"i",!0);else if(i.RE_ITALICS_CLOSE.test(e))We(t,nr,"i");else if(i.RE_WEIGHT_OPEN.test(e)){var p=e.match(i.RE_WEIGHT_OPEN);We(t,Zi,"weight",p[1])}else if(i.RE_WEIGHT_CLOSE.test(e))We(t,nr,"weight");else if(i.RE_SIZE_OPEN.test(e)){var p=e.match(i.RE_SIZE_OPEN);We(t,Zi,"size",`${p[1]}px`)}else if(i.RE_SIZE_CLOSE.test(e))We(t,nr,"size");else if(i.RE_FAMILY_OPEN.test(e)){var p=e.match(i.RE_FAMILY_OPEN);We(t,Zi,"family",p[1])}else if(i.RE_FAMILY_CLOSE.test(e))We(t,nr,"family");else if(i.RE_COLOR_OPEN.test(e)){var p=e.match(i.RE_COLOR_OPEN);We(t,Zi,"color",p[1])}else if(i.RE_COLOR_CLOSE.test(e))We(t,nr,"color");else if(i.RE_UNDERLINE_OPEN.test(e))We(t,Zi,"u",!0);else if(i.RE_UNDERLINE_OPENC.test(e)){var p=e.match(i.RE_UNDERLINE_OPENC);We(t,Zi,"u",p[1])}else if(i.RE_UNDERLINE_CLOSE.test(e))We(t,nr,"u");else if(i.RE_STRIKETHROUGH_OPEN.test(e))We(t,Zi,"s",!0);else if(i.RE_STRIKETHROUGH_OPENC.test(e)){var p=e.match(i.RE_STRIKETHROUGH_OPENC);We(t,Zi,"s",p[1])}else if(i.RE_STRIKETHROUGH_CLOSE.test(e))We(t,nr,"s");else if(i.RE_SHADOW_OPEN.test(e))We(t,Zi,"shadow",!0);else if(i.RE_SHADOW_OPENC.test(e)){var p=e.match(i.RE_SHADOW_OPENC);We(t,Zi,"shadow",p[1])}else if(i.RE_SHADOW_CLOSE.test(e))We(t,nr,"shadow");else if(i.RE_STROKE_OPEN.test(e))We(t,Zi,"stroke",!0);else if(i.RE_STROKE_OPENC.test(e)){var p=e.match(i.RE_STROKE_OPENC);We(t,Zi,"stroke",p[1])}else if(i.RE_STROKE_CLOSE.test(e))We(t,nr,"stroke");else if(i.RE_BGCOLOR_OPEN.test(e)){var p=e.match(i.RE_BGCOLOR_OPEN);We(t,Zi,"bgcolor",p[1])}else if(i.RE_BGCOLOR_CLOSE.test(e))We(t,nr,"bgcolor");else if(i.RE_OFFSETY_OPEN.test(e)){var p=e.match(i.RE_OFFSETY_OPEN);We(t,Zi,"y",parseFloat(p[1]))}else if(i.RE_OFFSETY_CLOSE.test(e))We(t,nr,"y");else if(i.RE_IMAGE_OPEN.test(e)){var p=e.match(i.RE_IMAGE_OPEN);We(t,Zi,"img",p[1])}else if(i.RE_IMAGE_CLOSE.test(e))We(t,nr,"img");else if(i.RE_AREA_OPEN.test(e)){var p=e.match(i.RE_AREA_OPEN);We(t,Zi,"area",p[1])}else if(i.RE_AREA_CLOSE.test(e))We(t,nr,"area");else if(i.RE_URL_OPEN.test(e)){var p=e.match(i.RE_URL_OPEN);We(t,Zi,"url",p[1])}else if(i.RE_URL_CLOSE.test(e))We(t,nr,"url");else if(i.RE_ALIGN_OPEN.test(e)){var p=e.match(i.RE_ALIGN_OPEN);We(t,Zi,"align",p[1])}else if(i.RE_ALIGN_CLOSE.test(e))We(t,nr,"align");else if(i.RE_ID_OPEN.test(e)){var p=e.match(i.RE_ID_OPEN);We(t,Zi,"id",p[1])}else i.RE_ID_CLOSE.test(e)?We(t,nr,"id"):s=e;var E=K_;return E.plainText=s,E.prop=t,E},We=function(e,t,i,s){return t===Zi?e[i]=s:e.hasOwnProperty(i)&&delete e[i],e},J_=function(e,t){var i=Q_;if(t.hasOwnProperty("img"))i.image=t.img;else{if(i.image=null,t.hasOwnProperty("family")?i.fontFamily=t.family:i.fontFamily=e.fontFamily,t.hasOwnProperty("size")){var s=t.size;typeof s=="number"&&(s=`${s}px`),i.fontSize=s}else i.fontSize=e.fontSize;i.fontStyle=j_(t),t.hasOwnProperty("color")?i.color=t.color:i.color=e.color,t.hasOwnProperty("stroke")?t.stroke===!0?(i.stroke=e.stroke,i.strokeThickness=e.strokeThickness):(i.stroke=t.stroke,i.strokeThickness=e.strokeThickness):(i.stroke=e.stroke,i.strokeThickness=0)}return t.hasOwnProperty("shadow")?t.shadow===!0?(i.shadowColor=e.shadowColor,i.shadowOffsetX=e.shadowOffsetX,i.shadowOffsetY=e.shadowOffsetY,i.shadowBlur=e.shadowBlur,i.shadowStroke=!0,i.shadowFill=!0):(i.shadowColor=t.shadow,i.shadowOffsetX=e.shadowOffsetX,i.shadowOffsetY=e.shadowOffsetY,i.shadowBlur=e.shadowBlur,i.shadowStroke=!0,i.shadowFill=!0):(i.shadowColor="#000",i.shadowOffsetX=0,i.shadowOffsetY=0,i.shadowBlur=0,i.shadowStroke=!1,i.shadowFill=!1),t.hasOwnProperty("u")?t.u===!0?(i.underlineColor=e.underlineColor,i.underlineThickness=e.underlineThickness,i.underlineOffset=e.underlineOffset):(i.underlineColor=t.u,i.underlineThickness=e.underlineThickness,i.underlineOffset=e.underlineOffset):(i.underlineColor="#000",i.underlineThickness=0,i.underlineOffset=0),t.hasOwnProperty("s")?t.s===!0?(i.strikethroughColor=e.strikethroughColor,i.strikethroughThickness=e.strikethroughThickness,i.strikethroughOffset=e.strikethroughOffset):(i.strikethroughColor=t.s,i.strikethroughThickness=e.strikethroughThickness,i.strikethroughOffset=e.strikethroughOffset):(i.strikethroughColor="#000",i.strikethroughThickness=0,i.strikethroughOffset=0),t.hasOwnProperty("bgcolor")?i.bgcolor=t.bgcolor:i.bgcolor=null,i},j_=function(e){var t=e.b,i=e.weight,s=e.i;return t||i||s?s?t?"bold italic":i?`${i} italic`:"italic":t?"bold":i.toString():""},Q_=new zw,q_=function(e,t,i){i==null&&(i=__);var s=this.delimiters[0],p=this.delimiters[1],E=[];for(var n in i)t.hasOwnProperty(n)||E.push(`${s}/${n}${p}`);for(var n in t){var T=t[n];if(n!=="img"){if(i[n]===T)continue}switch(n){case"size":E.push(`${s}size=${T.replace("px","")}${p}`);break;case"color":case"weight":case"family":case"stroke":case"bgcolor":case"y":case"img":case"area":case"url":case"align":case"id":E.push(`${s}${n}=${T}${p}`);break;case"u":case"s":T===!0?E.push(`${s}${n}${p}`):E.push(`${s}${n}=${T}${p}`);break;default:E.push(`${s}${n}${p}`);break}}return E.push(e),E.join("")},__={},Xd=function(e){return e.replace(ttt,"\\$&").replace(ett,"\\x2d")},ttt=/[|\\{}()[\]^$+*?.]/g,ett=/-/g,zF,WF,Ke={},qi=function(e,t,i,s){return s===void 0?`${e}${i}${t}`:`${e}${i}=(${s})${t}`},Br=function(e,t,i){return`${e}/${i}${t}`},itt=function(e){return`[^${e}]+`},JE="[-.0-9]+",rtt=["[a-zA-Z]+","#[0-9abcdef]+","rgba?\\(s*[.0-9]+s*(,s*[.0-9]+s*){2,3}\\)"],ed=rtt.join("|"),A9=function(e,t){if(t===void 0){var i=e;e=i[0],t=i[1]}if(zF===e&&WF===t)return!1;zF=e,WF=t,e=Xd(e),t=Xd(t);var s=itt(t),p="esc",E=qi(e,t,p),n=Br(e,t,p),T="raw",r=qi(e,t,T),o=Br(e,t,T),x="b",d=qi(e,t,x),h=Br(e,t,x),l="i",a=qi(e,t,l),f=Br(e,t,l),c="weight",u=qi(e,t,c,JE),v=Br(e,t,c),g="size",m=qi(e,t,g,JE),y=Br(e,t,g),C="family",P=qi(e,t,C,s),w=Br(e,t,C),M="color",R=qi(e,t,M,ed),A=Br(e,t,M),L="u",F=qi(e,t,L),G=qi(e,t,L,ed),I=Br(e,t,L),B="s",k=qi(e,t,B),U=qi(e,t,B,ed),H=Br(e,t,B),X="shadow",j=qi(e,t,X),J=qi(e,t,X,ed),Y=Br(e,t,X),$="stroke",z=qi(e,t,$),V=qi(e,t,$,ed),K=Br(e,t,$),Q="bgcolor",_=qi(e,t,Q,ed),tt=Br(e,t,Q),rt="y",ot=qi(e,t,rt,JE),ft=Br(e,t,rt),ct="img",gt=qi(e,t,ct,s),xt=Br(e,t,ct),wt="area",Tt=qi(e,t,wt,s),Ht=Br(e,t,wt),Xt="url",Kt=qi(e,t,Xt,s),Pt=Br(e,t,Xt),Nt="align",Vt=qi(e,t,Nt,s),ee=Br(e,t,Nt),Ee="id",we=qi(e,t,Ee,s),ve=Br(e,t,Ee);return Ke.RE_ESC_OPEN=new RegExp(E,"i"),Ke.RE_ESC_CLOSE=new RegExp(n,"i"),Ke.RE_RAW_OPEN=new RegExp(r,"i"),Ke.RE_RAW_CLOSE=new RegExp(o,"i"),Ke.RE_BLOD_OPEN=new RegExp(d,"i"),Ke.RE_BLOD_CLOSE=new RegExp(h,"i"),Ke.RE_ITALICS_OPEN=new RegExp(a,"i"),Ke.RE_ITALICS_CLOSE=new RegExp(f,"i"),Ke.RE_WEIGHT_OPEN=new RegExp(u,"i"),Ke.RE_WEIGHT_CLOSE=new RegExp(v,"i"),Ke.RE_SIZE_OPEN=new RegExp(m,"i"),Ke.RE_SIZE_CLOSE=new RegExp(y,"i"),Ke.RE_FAMILY_OPEN=new RegExp(P,"i"),Ke.RE_FAMILY_CLOSE=new RegExp(w,"i"),Ke.RE_COLOR_OPEN=new RegExp(R,"i"),Ke.RE_COLOR_CLOSE=new RegExp(A,"i"),Ke.RE_UNDERLINE_OPEN=new RegExp(F,"i"),Ke.RE_UNDERLINE_OPENC=new RegExp(G,"i"),Ke.RE_UNDERLINE_CLOSE=new RegExp(I,"i"),Ke.RE_STRIKETHROUGH_OPEN=new RegExp(k,"i"),Ke.RE_STRIKETHROUGH_OPENC=new RegExp(U,"i"),Ke.RE_STRIKETHROUGH_CLOSE=new RegExp(H,"i"),Ke.RE_SHADOW_OPEN=new RegExp(j,"i"),Ke.RE_SHADOW_OPENC=new RegExp(J,"i"),Ke.RE_SHADOW_CLOSE=new RegExp(Y,"i"),Ke.RE_STROKE_OPEN=new RegExp(z,"i"),Ke.RE_STROKE_OPENC=new RegExp(V,"i"),Ke.RE_STROKE_CLOSE=new RegExp(K,"i"),Ke.RE_BGCOLOR_OPEN=new RegExp(_,"i"),Ke.RE_BGCOLOR_CLOSE=new RegExp(tt,"i"),Ke.RE_OFFSETY_OPEN=new RegExp(ot,"i"),Ke.RE_OFFSETY_CLOSE=new RegExp(ft,"i"),Ke.RE_IMAGE_OPEN=new RegExp(gt,"i"),Ke.RE_IMAGE_CLOSE=new RegExp(xt,"i"),Ke.RE_AREA_OPEN=new RegExp(Tt,"i"),Ke.RE_AREA_CLOSE=new RegExp(Ht,"i"),Ke.RE_URL_OPEN=new RegExp(Kt,"i"),Ke.RE_URL_CLOSE=new RegExp(Pt,"i"),Ke.RE_ALIGN_OPEN=new RegExp(Vt,"i"),Ke.RE_ALIGN_CLOSE=new RegExp(ee,"i"),Ke.RE_ID_OPEN=new RegExp(we,"i"),Ke.RE_ID_CLOSE=new RegExp(ve,"i"),Ke.RE_SPLITTEXT=new RegExp([r,o,E,n,d,h,a,f,u,v,m,y,P,w,R,A,F,G,I,k,U,H,j,J,Y,z,V,K,_,tt,ot,ft,gt,xt,Tt,Ht,Kt,Pt,Vt,ee,we,ve].join("|"),"ig"),!0},YF=function(e,t){return e!==void 0&&A9(e,t),Object.assign({},Ke)};const ntt=Phaser.Utils.Objects.GetValue;let O9=class{constructor(t){var i=ntt(t,"delimiters","[]");this.tagRegex=YF(i),this.delimiters=i}getStrokeThinkness(t,i){var s;return i.hasOwnProperty("stroke")?s=t.strokeThickness:s=0,s}setDelimiters(t,i){return A9(t,i)&&(this.tagRegex=YF()),this}};var stt={splitText:$_,tagTextToProp:Z_,propToContextStyle:J_,propToTagText:q_};Object.assign(O9.prototype,stt);class Hw extends Xw{constructor(t,i,s,p,E){var n=new O9(E);super(t,i,s,p,E,"rexBBCodeText",n)}setDelimiters(t,i){return this.parser.setDelimiters(t,i),this}}It.register("BBCodeText",function(e,t,i,s){var p=new Hw(this.scene,e,t,i,s);return this.scene.add.existing(p),p});Lt(window,"RexPlugins.UI.BBCodeText",Hw);var att={plainText:null,prevProp:null},ott=new zw;let ltt=class{constructor(t){t===void 0&&(t={}),this.tags=t}addTag(t,i){this.tags[t]=i}getTag(t){return this.tags[t]}splitText(t,i){for(var s=[],p=0;;){var E=jE.exec(t);if(!E)break;var n=E[0],T=jE.lastIndex-n.length;if(p<T&&s.push(t.substring(p,T)),i===void 0)s.push(n);else if(i===1){if(HF.test(n)){var r=n.match($F);s.push(r[2])}else if(KF.test(n)){var r=n.match(ZF);s.push(r[2])}}p=jE.lastIndex}var o=t.length;return p<o&&s.push(t.substring(p,o)),s}tagTextToProp(t,i){var s,p;if(HF.test(t)){var E=t.match($F);if(E!=null){var n=E[1],T=this.tags;T.hasOwnProperty(n)?p=T[n]:p={},p._class=n,s=E[2]}}else if(KF.test(t)){var E=t.match(ZF);if(E!=null){var r=E[1];p=htt(r),p._style=r,s=E[2]}}s==null&&(s=t),p==null&&(p={});var o=att;return o.plainText=s,o.prop=p,o}propToContextStyle(t,i){var s=ott;if(i.hasOwnProperty("img"))s.image=i.img;else{if(s.image=null,i.hasOwnProperty("family")||i.hasOwnProperty("fontFamily")||i.hasOwnProperty("font-family")){var p=i.hasOwnProperty("family")?i.family:i.hasOwnProperty("fontFamily")?i.fontFamily:i["font-family"];s.fontFamily=p}else s.fontFamily=t.fontFamily;if(i.hasOwnProperty("size")||i.hasOwnProperty("fontSize")||i.hasOwnProperty("font-size")){var E=i.hasOwnProperty("size")?i.size:i.hasOwnProperty("fontSize")?i.fontSize:i["font-size"];typeof E=="number"&&(E=`${E}px`),s.fontSize=E}else s.fontSize=t.fontSize;if(i.hasOwnProperty("style")||i.hasOwnProperty("fontStyle")||i.hasOwnProperty("font-style")){var n=i.hasOwnProperty("style")?i.style:i.hasOwnProperty("fontStyle")?i.fontStyle:i["font-style"];s.fontStyle=n}else s.fontStyle=t.fontStyle;if(i.hasOwnProperty("color")||i.hasOwnProperty("font-color")){var T=i.hasOwnProperty("color")?i.color:i["font-color"];s.color=T}else s.color=t.color;if(i.hasOwnProperty("stroke")){var r=i.stroke;s.stroke=r.hasOwnProperty("color")?r.color:t.stroke,s.strokeThickness=r.hasOwnProperty("thickness")?r.thickness:t.strokeThickness}else s.stroke=t.stroke,s.strokeThickness=t.strokeThickness}if(i.hasOwnProperty("shadow")){var o=i.shadow;s.shadowColor=o.hasOwnProperty("color")?o.color:t.shadowColor,s.shadowOffsetX=o.hasOwnProperty("offsetX")?o.offsetX:t.shadowOffsetX,s.shadowOffsetY=o.hasOwnProperty("offsetY")?o.offsetY:t.shadowOffsetY,s.shadowBlur=o.hasOwnProperty("blur")?o.blur:t.shadowBlur,s.shadowStroke=!0,s.shadowFill=!0}else s.shadowColor=t.shadowColor,s.shadowOffsetX=t.shadowOffsetX,s.shadowOffsetY=t.shadowOffsetY,s.shadowBlur=t.shadowBlur,s.shadowStroke=t.shadowStroke,s.shadowFill=t.shadowFill;if(i.hasOwnProperty("u")||i.hasOwnProperty("underline")){var x=i.hasOwnProperty("u")?i.u:i.underline;s.underlineColor=x.hasOwnProperty("color")?x.color:t.underlineColor,s.underlineThickness=x.hasOwnProperty("thickness")?x.thickness:t.underlineThickness,s.underlineOffset=x.hasOwnProperty("offset")?x.offset:t.underlineOffset}else s.underlineColor=t.underlineColor,s.underlineThickness=t.underlineThickness,s.underlineOffset=t.underlineOffset;if(i.hasOwnProperty("s")||i.hasOwnProperty("strikethrough")){var d=i.hasOwnProperty("s")?i.s:i.strikethrough;s.strikethroughColor=d.hasOwnProperty("color")?d.color:t.strikethroughColor,s.strikethroughThickness=d.hasOwnProperty("thickness")?d.thickness:t.strikethroughThickness,s.strikethroughOffset=d.hasOwnProperty("offset")?d.offset:t.strikethroughOffset}else s.strikethroughColor=t.strikethroughColor,s.strikethroughThickness=t.strikethroughThickness,s.strikethroughOffset=t.strikethroughOffset;return s}getStrokeThinkness(t,i){var s;if(i.hasOwnProperty("stroke")){var p=i.stroke;s=p.hasOwnProperty("thickness")?p.thickness:t.strokeThickness}else s=t.strokeThickness;return s}propToTagText(t,i,s){return i.hasOwnProperty("_class")?t===""&&this.isTextTag(i._class)?"":`<class='${i._class}'>${t}</class>`:i.hasOwnProperty("_style")?`<style='${i._style}'>${t}</style>`:t}destroy(){this.tags=void 0}isTextTag(t){var i=this.tags[t];return i?i.img==null:!1}};var htt=function(e){e=e.split(";");for(var t={},i,s,p,E=0,n=e.length;E<n;E++)if(i=e[E].split(":"),s=i[0],p=i[1],!(XF(s)||XF(p))){switch(s){case"stroke":var T=p.split(" "),r=T.length;p={},r>=1&&(p.color=T[0]),r>=2&&(p.thickness=parseInt(T[1].replace("px","")));break;case"shadow":var T=p.split(" "),r=T.length;p={},r>=1&&(p.color=T[0]),r>=2&&(p.offsetX=parseInt(T[1].replace("px",""))),r>=3&&(p.offsetY=parseInt(T[2].replace("px",""))),r>=4&&(p.blur=parseInt(T[3].replace("px","")));break;case"u":case"underline":case"s":case"strikethrough":var T=p.split(" "),r=T.length;p={},r>=1&&(p.color=T[0]),r>=2&&(p.thickness=parseInt(T[1].replace("px",""))),r>=3&&(p.offset=parseInt(T[2].replace("px",""))),s==="underline"?s="u":s==="strikethrough"&&(s="s");break;case"y":p=parseFloat(p);break}t[s]=p}return t},XF=function(e){return e=e.replace(utt,""),e.length===0},jE=/<\s*class=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/class\s*\>|<\s*style=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/style\s*\>/g,HF=/<\s*class=/i,$F=/<\s*class=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/class\s*\>/,KF=/<\s*style=/i,ZF=/<\s*style=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/style\s*\>/,utt=/^\s+|\s+$/;const ftt=Phaser.Utils.Objects.GetValue;class L9 extends Xw{constructor(t,i,s,p,E){var n=ftt(E,"tags",void 0),T=new ltt(n);super(t,i,s,p,E,"rexTagText",T)}addTag(t,i){return this.parser.addTag(t,i),this.updateText(!0)}addTags(t){for(var i in t)this.parser.addTag(i,t[i]);return this.updateText(!0)}getTag(t){return this.parser.getTag(t)}preDestroy(){super.preDestroy(),this.parser.destroy(),this.parser=void 0}}It.register("tagText",function(e,t,i,s){var p=new L9(this.scene,e,t,i,s);return this.scene.add.existing(p),p});Lt(window,"RexPlugins.UI.TagText",L9);const D0=Phaser.Utils.Objects.GetValue;var Xy=function(e,t){return t===void 0?e:e[t]},Eh=function(e,t,i){e===void 0&&(e={}),t===void 0&&(t=0);var s=typeof t;return s==="string"?e[t]=i:s==="number"?(e.left=t,e.right=t,e.top=t,e.bottom=t):(e.left=D0(t,"left",0),e.right=D0(t,"right",0),e.top=D0(t,"top",0),e.bottom=D0(t,"bottom",0)),e};let $w=class{constructor(t,i){this.setParent(t),this.type=i,this.renderable=!1,this.reset().setActive()}destroy(){this.parent.removeChild(this)}setParent(t){return this.parent=t,this}get scene(){return this.parent.scene}get canvas(){return this.parent?this.parent.canvas:null}get context(){return this.parent?this.parent.context:null}setDirty(t){return t&&this.parent&&(this.parent.dirty=!0),this}get active(){return this._active}set active(t){this.setDirty(this._active!=t),this._active=t}setActive(t){return t===void 0&&(t=!0),this.active=t,this}modifyPorperties(t){return this}onFree(){this.reset().setParent()}reset(){return this}render(){}contains(t,i){return!1}};Object.assign($w.prototype,Ox);const dtt={renderContent(){},render(){if(!this.willRender)return this;var e=this.context;if(e.save(),e.globalAlpha=this.alpha,this.toLocalPosition){var t=this.drawX,i=this.drawY;this.autoRound&&(t=Math.round(t),i=Math.round(i)),e.translate(t,i),e.scale(this.scaleX,this.scaleY),e.rotate(this.rotation)}return this.drawBelowCallback&&this.drawBelowCallback(this),this.renderContent(),this.drawAboveCallback&&this.drawAboveCallback(this),e.restore(),this}},ctt=Phaser.Math.RotateAround;var vtt=function(e,t,i,s){return s===void 0?s={}:s===!0&&(QE===void 0&&(QE={}),s=QE),s.x=(e-i.drawX)/i.scaleX,s.y=(t-i.drawY)/i.scaleY,i.rotation!==0&&ctt(s,0,0,-i.rotation),s},QE;const ptt=Phaser.Geom.Rectangle;var gtt=function(e,t){if(this.width===0||this.height===0)return!1;var i=vtt(e,t,this,!0);return mtt(this).contains(i.x,i.y)},mtt=function(e){F0===void 0&&(F0=new ptt);var t=e.drawTLX,i=e.drawTLY;return F0.setTo(t,i,e.drawTRX-t,e.drawBLY-i),F0},F0;const ytt=Phaser.Math.RotateAround;var D9=function(e,t,i,s){return s===void 0?s={}:s===!0&&(qE===void 0&&(qE={}),s=qE),s.x=t,s.y=i,e.rotation!==0&&ytt(s,0,0,e.rotation),s.x=s.x*e.scaleX+e.drawX,s.y=s.y*e.scaleY+e.drawY,s},qE;const JF=Phaser.GameObjects.Components.TransformMatrix;var xtt=function(e,t,i,s){s===void 0?s={}:s===!0&&(s=Ttt);var p=t-e.width*e.originX,E=i-e.height*e.originY;return Uv===void 0&&(Uv=new JF,jF=new JF),e.parentContainer?e.getWorldTransformMatrix(Uv,jF):Uv.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY),Uv.transformPoint(p,E,s),s},Uv,jF,Ttt={},Ctt=function(e,t,i,s,p){var E=D9(t,i,s,!0),n=xtt(e,E.x,E.y,p);return n},F9=function(e,t,i,s,p){typeof i!="number"&&(p=i,i=0,s=0);var E=t.drawCenterX+i,n=t.drawCenterY+s;return Ctt(e,t,E,n,p)},Stt=function(e,t,i){return F9(this.parent,this,e,t,i)},I9={contains:gtt,getWorldPosition:Stt};Object.assign(I9,dtt);const Ett=Phaser.Math.DegToRad,btt=Phaser.Math.RadToDeg,I0=Phaser.Utils.Objects.GetValue;class $u extends $w{constructor(t,i){super(t,i),this.renderable=!0,this.scrollFactorX=1,this.scrollFactorY=1,this.toLocalPosition=!0,this.originX=0,this.offsetX=0,this.offsetY=0}get visible(){return this._visible}set visible(t){this.setDirty(this._visible!=t),this._visible=t}setVisible(t){return t===void 0&&(t=!0),this.visible=t,this}get alpha(){return this._alpha}set alpha(t){this.setDirty(this._alpha!=t),this._alpha=t}setAlpha(t){return this.alpha=t,this}get x(){return this._x}set x(t){this.setDirty(this._x!=t),this._x=t}setX(t){return this.x=t,this}get y(){return this._y}set y(t){this.setDirty(this._y!=t),this._y=t}setY(t){return this.y=t,this}setPosition(t,i){return this.x=t,this.y=i,this}setInitialPosition(t,i){return this.x0=t,this.y0=i,this}setScrollFactorX(t){return this.scrollFactorX=t,this}setScrollFactorY(t){return this.scrollFactorY=t,this}setScrollFactor(t,i){return i===void 0&&(i=t),this.scrollFactorX=t,this.scrollFactorY=i,this}get rotation(){return this._rotation}set rotation(t){this.setDirty(this._rotation!=t),this._rotation=t}setRotation(t){return this.rotation=t,this}get angle(){return btt(this._rotation)}set angle(t){this.rotation=Ett(t)}setAngle(t){return this.angle=t,this}get scaleX(){return this._scaleX}set scaleX(t){this.setDirty(this._scaleX!==t),this._scaleX=t}setScaleX(t){return this.scaleX=t,this}get width(){return 0}set width(t){}setWidth(t,i){return i===void 0&&(i=!1),this.width=t,i&&(this.scaleY=this.scaleX),this}get leftSpace(){return this._leftSpace}set leftSpace(t){this.setDirty(this._leftSpace!==t),this._leftSpace=t}setLeftSpace(t){return this.leftSpace=t,this}get rightSpace(){return this._rightSpace}set rightSpace(t){this.setDirty(this._rightSpace!==t),this._rightSpace=t}setRightSpace(t){return this.rightSpace=t,this}get outerWidth(){return this.width+this.leftSpace+this.rightSpace}get scaleY(){return this._scaleY}set scaleY(t){this.setDirty(this._scaleY!==t),this._scaleY=t}setScaleY(t){return this.scaleY=t,this}get height(){return 0}set height(t){}setHeight(t,i){return i===void 0&&(i=!1),this.height=t,i&&(this.scaleX=this.scaleY),this}setScale(t,i){return i===void 0&&(i=t),this.scaleX=t,this.scaleY=i,this}setOrigin(t){return this.originX=t,this}setAlign(t){return this.align=t,this}modifyPorperties(t){if(!t)return this;t.hasOwnProperty("x")&&this.setX(t.x),t.hasOwnProperty("y")&&this.setY(t.y),t.hasOwnProperty("rotation")?this.setRotation(t.rotation):t.hasOwnProperty("angle")&&this.setAngle(t.angle),t.hasOwnProperty("alpha")&&this.setAlpha(t.alpha);var i=I0(t,"width",void 0),s=I0(t,"height",void 0),p=I0(t,"scaleX",void 0),E=I0(t,"scaleY",void 0);return i!==void 0?s===void 0&&E===void 0?this.setWidth(i,!0):this.setWidth(i):p!==void 0&&this.setScaleX(p),s!==void 0?i===void 0&&p===void 0?this.setHeight(s,!0):this.setHeight(s):E!==void 0&&this.setScaleY(E),t.hasOwnProperty("leftSpace")&&this.setLeftSpace(t.leftSpace),t.hasOwnProperty("rightSpace")&&this.setRightSpace(t.rightSpace),t.hasOwnProperty("align")&&this.setAlign(t.align),this}setDrawBelowCallback(t){return this.drawBelowCallback=t,this}setDrawAboveCallback(t){return this.drawAboveCallback=t,this}reset(){return this.setVisible().setAlpha(1).setPosition(0,0).setRotation(0).setScale(1,1).setLeftSpace(0).setRightSpace(0).setOrigin(0).setAlign().setDrawBelowCallback().setDrawAboveCallback(),this}get willRender(){return this.visible&&this.alpha>0}get drawX(){var t=this.x+this.leftSpace+this.offsetX-this.originX*this.width;return this.parent._textOX*this.scrollFactorX+t}get drawY(){var t=this.y+this.offsetY;return this.parent._textOY*this.scrollFactorY+t}get drawTLX(){return 0}get drawTLY(){return 0}get drawBLX(){return 0}get drawBLY(){return 0}get drawTRX(){return 0}get drawTRY(){return 0}get drawBRX(){return 0}get drawBRY(){return 0}get drawCenterX(){return(this.drawTRX+this.drawTLX)/2}get drawCenterY(){return(this.drawBLY+this.drawTLY)/2}}Object.assign($u.prototype,I9);var xh=function(e,t,i){return t.hasOwnProperty(e)?t[e]:i[e]};const yu=Phaser.Utils.Objects.GetValue;class Ptt extends $u{constructor(t,i){super(t,"background"),this.setScrollFactor(0),this.setColor(yu(i,"color",null),yu(i,"color2",null),yu(i,"horizontalGradient",!0)),this.setStroke(yu(i,"stroke",null),yu(i,"strokeThickness",2)),this.setCornerRadius(yu(i,"cornerRadius",0),yu(i,"cornerIteration",null))}set color(t){t=Ye(t,this.canvas,this.context),this.setDirty(this._color!=t),this._color=t}get color(){return this._color}set color2(t){t=Ye(t,this.canvas,this.context),this.setDirty(this._color2!=t),this._color2=t}get color2(){return this._color2}set horizontalGradient(t){this.setDirty(this._horizontalGradient!=t),this._horizontalGradient=t}get horizontalGradient(){return this._horizontalGradient}setColor(t,i,s){return s===void 0&&(s=!0),this.color=t,this.color2=i,this.horizontalGradient=s,this}set stroke(t){t=Ye(t,this.canvas,this.context),this.setDirty(this._stroke!=t),this._stroke=t}get stroke(){return this._stroke}set strokeThickness(t){this.setDirty(this._strokeThickness!=t),this._strokeThickness=t}get strokeThickness(){return this._strokeThickness}setStroke(t,i){return t!=null&&i===void 0&&(i=2),this.stroke=t,this.strokeThickness=i,this}set cornerRadius(t){this.setDirty(this._cornerRadius!=t),this._cornerRadius=t}get cornerRadius(){return this._cornerRadius}set cornerIteration(t){this.setDirty(this._cornerIteration!=t),this._cornerIteration=t}get cornerIteration(){return this._cornerIteration}modifyStyle(t){return t.hasOwnProperty("color")&&this.setColor(t.color,xh("color2",t,this),xh("horizontalGradient",t,this)),t.hasOwnProperty("stroke")&&this.setStroke(t.stroke,xh("strokeThickness",t,this)),t.hasOwnProperty("cornerRadius")&&this.setCornerRadius(t.cornerRadius,xh("cornerIteration",t,this)),this}modifyPorperties(t){return super.modifyPorperties(t),this.modifyStyle(t),this}setCornerRadius(t,i){return this.cornerRadius=t,this.cornerIteration=i,this}renderContent(){Uw(this.parent,this.color,this.stroke,this.strokeThickness,this.cornerRadius,this.color2,this.horizontalGradient,this.cornerIteration)}}const eh=Phaser.Utils.Objects.GetValue;class wtt extends $u{constructor(t,i){super(t,"innerbounds"),this.setScrollFactor(0),this.setColor(eh(i,"color",null),eh(i,"color2",null),eh(i,"horizontalGradient",!0)),this.setStroke(eh(i,"stroke",null),eh(i,"strokeThickness",2))}set color(t){t=Ye(t,this.canvas,this.context),this.setDirty(this._color!=t),this._color=t}get color(){return this._color}set color2(t){t=Ye(t,this.canvas,this.context),this.setDirty(this._color2!=t),this._color2=t}get color2(){return this._color2}set horizontalGradient(t){this.setDirty(this._horizontalGradient!=t),this._horizontalGradient=t}get horizontalGradient(){return this._horizontalGradient}setColor(t,i,s){return s===void 0&&(s=!0),this.color=t,this.color2=i,this.horizontalGradient=s,this}set stroke(t){t=Ye(t,this.canvas,this.context),this.setDirty(this._stroke!=t),this._stroke=t}get stroke(){return this._stroke}set strokeThickness(t){this.setDirty(this._strokeThickness!=t),this._strokeThickness=t}get strokeThickness(){return this._strokeThickness}setStroke(t,i){return t!=null&&i===void 0&&(i=2),this.stroke=t,this.strokeThickness=i,this}modifyPorperties(t){super.modifyPorperties(t),t.hasOwnProperty("color")&&this.setColor(t.color,eh(t,"color2",null),eh(t,"horizontalGradient",!0)),t.hasOwnProperty("stroke")&&this.setStroke(t.stroke,eh(t,"strokeThickness",2))}renderContent(){var t=this.parent.padding,i=t.left,s=t.top,p=this.parent.width-t.left-t.right,E=this.parent.height-t.top-t.bottom,n=this.context;if(this.color!=null){var T;if(this.color2!=null){var r;this.horizontalGradient?r=n.createLinearGradient(0,0,p,0):r=n.createLinearGradient(0,0,0,E),r.addColorStop(0,this.color),r.addColorStop(1,this.color2),T=r}else T=this.color;n.fillStyle=T,n.fillRect(i,s,p,E)}this.stroke!=null&&this.strokeThickness>0&&(n.strokeStyle=this.stroke,n.lineWidth=this.strokeThickness,n.strokeRect(i,s,p,E))}}const cr=Phaser.Utils.Objects.GetValue;class Dx{constructor(t,i){this.parent=t,this.set(i)}toJSON(){return{bold:this.bold,italic:this.italic,fontSize:this.fontSize,fontFamily:this.fontFamily,color:this.color,stroke:this.stroke,strokeThickness:this.strokeThickness,shaodwColor:this.shadowColor,shadowBlur:this.shadowBlur,shadowOffsetX:this.shadowOffsetX,shadowOffsetY:this.shadowOffsetY,offsetX:this.offsetX,offsetY:this.offsetY,leftSpace:this.leftSpace,rightSpace:this.rightSpace,backgroundHeight:this.backgroundHeight,backgroundBottomY:this.backgroundBottomY,align:this.align}}set(t){return this.setBold(cr(t,"bold",!1)),this.setItalic(cr(t,"italic",!1)),this.setFontSize(cr(t,"fontSize","16px")),this.setFontFamily(cr(t,"fontFamily","Courier")),this.setColor(cr(t,"color","#fff")),this.setStrokeStyle(cr(t,"stroke",null),cr(t,"strokeThickness",0)),this.setShadow(cr(t,"shadowColor",null),cr(t,"shadowOffsetX",0),cr(t,"shadowOffsetY",0),cr(t,"shadowBlur",0)),this.setOffset(cr(t,"offsetX",0),cr(t,"offsetY",0)),this.setSpace(cr(t,"leftSpace",0),cr(t,"rightSpace",0)),this.setAlign(cr(t,"align",void 0)),this.setBackgroundColor(cr(t,"backgroundColor",null)),this.setBackgroundHeight(cr(t,"backgroundHeight",void 0)),this.setBackgroundBottomY(cr(t,"backgroundBottomY",void 0)),this.setBackgroundLeftX(cr(t,"backgroundLeftX",0)),this.setBackgroundRightX(cr(t,"backgroundRightX",0)),this}modify(t){return t.hasOwnProperty("bold")&&this.setBold(t.bold),t.hasOwnProperty("italic")&&this.setItalic(t.italic),t.hasOwnProperty("fontSize")&&this.setFontSize(t.fontSize),t.hasOwnProperty("fontFamily")&&this.setFontFamily(t.fontFamily),t.hasOwnProperty("color")&&this.setColor(t.color),(t.hasOwnProperty("stroke")||t.hasOwnProperty("strokeThickness"))&&this.setStrokeStyle(xh("stroke",t,this),xh("strokeThickness",t,this)),t.hasOwnProperty("shadowColor")&&this.setShadowColor(t.shadowColor),(t.hasOwnProperty("shadowOffsetX")||t.hasOwnProperty("shadowOffsetY"))&&this.setShadowOffset(xh("shadowOffsetX",t,this),xh("shadowOffsetY",t,this)),t.hasOwnProperty("shadowBlur")&&this.setShadowBlur(t.shaodwBlur),t.hasOwnProperty("offsetX")&&this.setOffsetX(t.offsetX),t.hasOwnProperty("offsetY")&&this.setOffsetY(t.offsetY),t.hasOwnProperty("leftSpace")&&this.setLeftSpace(t.leftSpace),t.hasOwnProperty("rightSpace")&&this.setRightSpace(t.rightSpace),t.hasOwnProperty("align")&&this.setAlign(t.align),t.hasOwnProperty("backgroundColor")&&this.setBackgroundColor(t.backgroundColor),t.hasOwnProperty("backgroundHeight")&&this.setBackgroundHeight(t.backgroundHeight),t.hasOwnProperty("backgroundBottomY")&&this.setBackgroundBottomY(t.backgroundBottomY),t.hasOwnProperty("backgroundLeftX")&&this.setBackgroundLeftX(t.backgroundLeftX),t.hasOwnProperty("backgroundRightX")&&this.setBackgroundRightX(t.backgroundRightX),this}setUpdateTextFlag(){return this.parent&&(this.parent.updateTextFlag=!0),this}clone(){return new Dx(null,this.toJSON())}copyFrom(t){return this.set(t.toJSON()),this}copyTo(t){return t.set(this.toJSON()),this}setBold(t){return t===void 0&&(t=!0),this.bold=t,this.setUpdateTextFlag(),this}setItalic(t){return t===void 0&&(t=!0),this.italic=t,this.setUpdateTextFlag(),this}get fontStyle(){return this.bold&&this.italic?"bold italic":this.bold?"bold":this.italic?"italic":""}setFontSize(t){return typeof t=="number"&&(t=`${t}px`),this.fontSize=t,this.setUpdateTextFlag(),this}setFontFamily(t){return this.fontFamily=t,this.setUpdateTextFlag(),this}get font(){return`${this.fontStyle} ${this.fontSize} ${this.fontFamily}`}setColor(t){return this.color=Ye(t),this}get hasFill(){return this.color!=null}setStrokeStyle(t,i){return this.stroke=Ye(t),i!==void 0&&(this.strokeThickness=i),this}setStrokeThickness(t){return this.strokeThickness=t,this}get hasStroke(){return this.stroke!=null&&this.strokeThickness>0}setShadowColor(t){return this.shadowColor=Ye(t),this}setShadowOffset(t,i){return t===void 0&&(t=0),i===void 0&&(i=0),this.shadowOffsetX=t,this.shadowOffsetY=i,this}setShadowBlur(t){return t===void 0&&(t=0),this.shaodwBlur=t,this}setShadow(t,i,s,p){return this.setShadowColor(t).setShadowOffset(i,s).setShadowBlur(p),this}setBackgroundColor(t){return this.backgroundColor=Ye(t),this}get hasBackgroundColor(){return this.backgroundColor!=null}setBackgroundHeight(t){return this.backgroundHeight=t,this}setBackgroundBottomY(t){return this.backgroundBottomY=t,this}setBackgroundLeftX(t){return this.backgroundLeftX=t,this}setBackgroundRightX(t){return this.backgroundRightX=t,this}setOffsetX(t){return t===void 0&&(t=0),this.offsetX=t,this}setOffsetY(t){return t===void 0&&(t=0),this.offsetY=t,this}setOffset(t,i){return this.setOffsetX(t).setOffsetY(i),this}setLeftSpace(t){return t===void 0&&(t=0),this.leftSpace=t,this}setRightSpace(t){return t===void 0&&(t=0),this.rightSpace=t,this}setSpace(t,i){return this.setLeftSpace(t).setRightSpace(i),this}setAlign(t){return this.align=t,this}syncFont(t){return t.font=this.font,this}syncStyle(t){t.textBaseline="alphabetic";var i=this.hasFill,s=this.hasStroke;return t.fillStyle=i?this.color:"#000",t.strokeStyle=s?this.stroke:"#000",t.lineWidth=s?this.strokeThickness:0,t.lineCap="round",t.lineJoin="round",this}syncShadow(t){t.shadowColor!=null?(t.shadowColor=this.shadowColor,t.shadowOffsetX=this.shadowOffsetX,t.shadowOffsetY=this.shadowOffsetY,t.shadowBlur=this.shadowBlur):(t.shadowColor=0,t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowBlur=0)}getTextMetrics(t,i){return this.syncFont(t).syncStyle(t),t.measureText(i)}}var Mtt=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=0),this.fixedWidth===e&&this.fixedHeight===t?this:(this.fixedWidth=e,this.fixedHeight=t,this.dirty=!0,this.setCanvasSize(e>0?e:this.width,t>0?t:this.height),this)},Rtt=function(e,t){var i=this.padding,s=i.left,p=i.right,E=i.top,n=i.bottom;return Eh(i,e,t),this.dirty=this.dirty||s!=i.left||p!=i.right||E!=i.top||n!=i.bottom,this},Att=function(e){return Xy(this.padding,e)},Ott=function(e){return this.textStyle.modify(e),this},Ltt=function(e){return this.defaultTextStyle.modify(e),this},Dtt=function(){return this.textStyle.copyFrom(this.defaultTextStyle),this},Ftt=function(e){return this.testString=e,this};const Itt=Phaser.Utils.Array.Remove;var Btt=function(e){return this.poolManager.free(e),Itt(this.children,e),this.lastAppendedChildren.length=0,this.lastOverChild=null,this.dirty=!0,this},Gtt=function(){return this.poolManager.freeMultiple(this.children),this.children.length=0,this.lastAppendedChildren.length=0,this.lastOverChild=null,this.dirty=!0,this};const ktt=Phaser.Utils.Array.Remove;var Ntt=function(e){return ktt(this.children,e),this.lastAppendedChildren.length=0,this.lastOverChild=null,this.dirty=!0,this},Utt=function(){return this.setText(),this},Vtt=function(e,t){var i=Array.isArray(e);return t===void 0||t===this.children.length?i?this.children.push(...e):this.children.push(e):i?this.children.splice(t,0,...e):this.children.splice(t,0,e),this.lastAppendedChildren.length=0,i?this.lastAppendedChildren.push(...e):this.lastAppendedChildren.push(e),this};const pl="text",B9="image",G9="drawer",k9="space",Kw="command";var N9=function(e){return e.type===pl&&e.text===`
`},U9=function(e){return e.type===pl&&e.text==="\f"},ztt=function(e){return e.type===pl&&e.text===" "},Vu=function(e){return e.type===pl},Wtt=function(e){return e.type===Kw};class V9 extends $u{constructor(t,i,s){super(t,pl),this.updateTextFlag=!1,this.style=new Dx(this,s),this.setText(i)}get autoRound(){return this.parent.autoRound}get offsetX(){return this.style.offsetX}set offsetX(t){this.style&&(this.style.offsetX=t)}get offsetY(){return this.style.offsetY}set offsetY(t){this.style&&(this.style.offsetY=t)}get leftSpace(){return this.style.leftSpace*this.scaleX}set leftSpace(t){this.style&&(this.style.leftSpace=t),super.leftSpace=t}get rightSpace(){return this.style.rightSpace*this.scaleX}set rightSpace(t){this.style&&(this.style.rightSpace=t),super.rightSpace=t}get align(){return this.style.align}set align(t){this.style&&(this.style.align=t)}modifyStyle(t){return this.setDirty(!0),this.style.modify(t),this.updateTextFlag&&this.updateTextSize(),this}modifyPorperties(t){return t?(this.modifyStyle(t),super.modifyPorperties(t),this):this}setText(t){return this.setDirty(this.text!=t),this.text=t,this.updateTextSize(),this}updateTextSize(){var t=this.text;if(t===`
`||t==="\f"||t==="")this.clearTextSize();else{var i=this.style.getTextMetrics(this.context,this.text);this.textWidth=i.width;var s,p;"actualBoundingBoxAscent"in i?(s=i.actualBoundingBoxAscent,p=i.actualBoundingBoxDescent):(s=0,p=0),this.textHeight=s+p,this.ascent=s,this.descent=p}return this.updateTextFlag=!1,this}clearTextSize(){return this.textWidth=0,this.textHeight=0,this.ascent=0,this.descent=0,this}copyTextSize(t){return this.textWidth=t.textWidth,this.textHeight=t.textHeight,this.ascent=t.ascent,this.descent=t.descent,this}get width(){return this.textWidth*this.scaleX}set width(t){this.textWidth>0?this.scaleX=t/this.textWidth:this.scaleX=1}get height(){return this.textHeight*this.scaleY}set height(t){this.textHeight>0?this.scaleY=t/this.textHeight:this.scaleY=1}get willRender(){return this.textWidth===0?!1:super.willRender}renderContent(){var t=this.context,i=this.style;if(i.hasBackgroundColor){t.fillStyle=i.backgroundColor;var s=this.drawTLX+i.backgroundLeftX,p=this.drawTRX+i.backgroundRightX,E=s,n=p-s+1;if(n>0){var T=i.backgroundBottomY;T==null&&(T=this.drawBLY);var r=i.backgroundHeight;r==null&&(r=T-this.drawTLY);var o=T-r;t.fillRect(E,o,n,r)}}var x=i.hasFill,d=i.hasStroke;!x&&!d||(i.syncFont(t).syncStyle(t),d&&(i.syncShadow(t),t.strokeText(this.text,0,0)),x&&(i.syncShadow(t),t.fillText(this.text,0,0)))}get drawTLX(){return-this.leftSpace}get drawTLY(){return-this.ascent}get drawBLX(){return-this.leftSpace}get drawBLY(){return this.descent}get drawTRX(){return this.textWidth+this.rightSpace}get drawTRY(){return-this.ascent}get drawBRX(){return this.textWidth+this.rightSpace}get drawBRY(){return this.descent}}var Ytt=function(e,t){t&&this.textStyle.modify(t);var i=this.poolManager.allocate(pl);return i===null?i=new V9(this,e,this.textStyle):i.setParent(this).setActive().modifyStyle(this.textStyle).setText(e),i},Xtt=function(e,t){t&&this.textStyle.modify(t);for(var i=[],s=0,p=e.length;s<p;s++){var E=e.charAt(s),n=this.poolManager.allocate(pl);n===null?n=new V9(this,E,this.textStyle):n.setParent(this).setActive().modifyStyle(this.textStyle).setText(E),i.push(n)}return i},Gp=function(e,t){var i=this.createCharChildren(e,t);return this.addChild(i),this},Htt=function(e,t){return e===void 0&&(e=""),this.removeChildren(),Gp.call(this,e,t),this.dirty=!0,this},$tt=function(e,t,i){var s=this.createCharChildren(t,i);return e=this.getCharChildIndex(e,!0),this.addChild(s,e),this},Ktt=function(e,t){t===void 0&&(t=1);for(var i=0;i<t;i++){var s=this.getCharChildIndex(e,!0);if(s===void 0)break;this.removeChild(this.children[s])}return this},Ztt=function(e){var t="";return this.forEachCharChild(function(i){t+=i.text},void 0,e),t};Phaser.Display.Canvas.CanvasPool;class Jtt extends $u{constructor(t,i,s){super(t,B9),this.setTexture(i,s),this.color=void 0}get frameWidth(){return this.frameObj?this.frameObj.cutWidth:0}get frameHeight(){return this.frameObj?this.frameObj.cutHeight:0}get offsetY(){return-this.height}set offsetY(t){}get key(){return this._key}set key(t){this.setDirty(this._key!=t),this._key=t}get frame(){return this._frame}set frame(t){this.setDirty(this._frame!=t),this._frame=t}setTexture(t,i){return this.key=t,this.frame=i,this.frameObj=this.scene.sys.textures.getFrame(t,i),this}get width(){return this.frameWidth*this.scaleX}set width(t){this.setDirty(this.width!==t),this.scaleX=t/this.frameWidth}get height(){return this.frameHeight*this.scaleY}set height(t){this.setDirty(this.height!==t),this.scaleY=t/this.frameHeight}setHeight(t,i){return i===void 0&&(i=!1),this.height=t,i&&(this.scaleX=this.scaleY),this}setColor(t){return this.color=t,this}modifyPorperties(t){return t.hasOwnProperty("color")&&this.setColor(t.color),super.modifyPorperties(t),this}renderContent(){M9(this.frameObj,this.canvas,0,0,this.frameWidth,this.frameHeight,this.color,!1)}get drawTLX(){return-this.leftSpace}get drawTLY(){return 0}get drawBLX(){return-this.leftSpace}get drawBLY(){return this.frameHeight}get drawTRX(){return this.frameWidth+this.rightSpace}get drawTRY(){return 0}get drawBRX(){return this.frameWidth+this.rightSpace}get drawBRY(){return this.frameHeight}}var jtt=function(e,t,i){var s=this.poolManager.allocate(B9);return s===null?s=new Jtt(this,e,t):s.setParent(this).setActive().setTexture(e,t),s.modifyPorperties(i),s},z9=function(e,t,i){var s=this.createImageChild(e,t,i);return this.addChild(s),this};class Qtt extends $u{constructor(t,i,s,p){super(t,G9),this.setRenderCallback(i),this.setDrawerSize(s,p)}setRenderCallback(t){return t?this.renderContent=t.bind(this):delete this.renderContent,this}setDrawerSize(t,i){return t===!0?(this.toLocalPosition=!1,t=void 0,i=void 0):this.toLocalPosition=!0,t===void 0&&(t=0),i===void 0&&(i=t),this.drawerWidth=t,this.drawerHeight=i,this}onFree(){super.onFree(),this.setRenderCallback()}get width(){return this.drawerWidth*this.scaleX}set width(t){this.setDirty(this.width!==t),this.scaleX=this.drawerWidth>0?t/this.drawerWidth:1}get height(){return this.drawerHeight*this.scaleY}set height(t){this.setDirty(this.height!==t),this.scaleY=this.drawerHeight>0?t/this.drawerHeight:1}get offsetY(){return-this.height}set offsetY(t){}get drawTLX(){return-this.leftSpace}get drawTLY(){return 0}get drawBLX(){return-this.leftSpace}get drawBLY(){return this.drawerHeight}get drawTRX(){return this.drawerWidth+this.rightSpace}get drawTRY(){return 0}get drawBRX(){return this.drawerWidth+this.rightSpace}get drawBRY(){return this.drawerHeight}}var qtt=function(e,t,i){var s=this.poolManager.allocate(G9);return s===null?s=new Qtt(this,e,t,i):s.setParent(this).setActive().setRenderCallback(e).setDrawerSize(t,i),s},_tt=function(e,t,i){var s=this.createDrawerChild(e,t,i);return this.addChild(s),this};let tet=class extends $u{constructor(t,i){super(t,k9),this.setSpaceWidth(i)}get width(){return this.spaceWidth*this.scaleX}set width(t){this.spaceWidth>0?this.scaleX=t/this.spaceWidth:this.scaleX=1}setSpaceWidth(t){return this.spaceWidth=t,this}};var eet=function(e){var t=this.poolManager.allocate(k9);return t===null?t=new tet(this,e):t.setParent(this).setActive().setSpaceWidth(e),t},W9=function(e){var t=this.createSpaceChild(e);return this.addChild(t),this};class iet extends $w{constructor(t,i,s,p,E){super(t,Kw),this.setName(i).setParameter(p).setCallback(s,E)}setName(t){return this.name=t,this}setParameter(t){return this.param=t,this}setCallback(t,i){return this.callback=t,this.scope=i,this}exec(){var t;return this.scope?t=this.callback.call(this.scope,this.param,this.name):t=this.callback(this.param,this.name),t}onFree(){super.onFree(),this.setName().setCallback().setParameter()}}var ret=function(e,t,i,s){var p=this.poolManager.allocate(Kw);return p===null?p=new iet(this,e,t,i,s):p.setParent(this).setActive().setName(e).setCallback(t,s).setParameter(i),p},Se=function(e,t,i,s){var p=this.createCommandChild(e,t,i,s);return this.addChild(p),this},net=function(e){return e===void 0?e={}:typeof e=="object"&&(e=tn(e)),this.wrapConfig=e,this},Y9=function(e){var t={callback:void 0,start:0,isLastPage:!1,maxLines:void 0,padding:void 0,letterSpacing:void 0,hAlign:void 0,vAlign:void 0,children:[],lines:[],maxLineWidth:0,linesHeight:0,lineHeight:void 0,maxLineHeight:0,linesWidth:0,lineWidth:void 0};return Object.assign(t,e)};const set={none:0,word:1,char:2,character:2,mix:3};var aet=function(e,t,i,s){s===void 0&&(s={word:[],width:0}),s.word.length=0;for(var p=i===2,E=i===3,n=!p&&!E,T=e.length,r=t,o=s.word,x=0,d=!1;r<T;){var h=e[r];if(!h.renderable){o.push(h),r++;continue}var l=h.type===pl?h.text:null;if(l===null||l===`
`||l==="\f"){r===t&&(o.push(h),x+=h.outerWidth);break}if(n){if(o.push(h),x+=h.outerWidth,l===" ")break;r++}else if(p){o.push(h),x+=h.outerWidth;break}else if(E)if(Cp(l)){if(o.push(h),x+=h.outerWidth,l===" ")break;r++,d=!0}else{if(d)break;o.push(h),x+=h.outerWidth;var a=e[r+1];a&&a.type===pl&&a.text===" "&&(o.push(a),x+=a.outerWidth);break}}return s.width=x,s},X9=function(e){for(var t=0,i=e.length;t<i;t++){var s=e[t];if(s.align!==void 0)return s.align}},H9=function(e,t,i){if(!(t===0&&i===0))for(var s=0,p=e.length;s<p;s++){var E=e[s];E.renderable&&(E.x+=t,E.y+=i)}},oet=function(e,t,i){for(var s=e.hAlign,p=e.vAlign,E=e.justifyPercentage,n=e.lines,T,r,o=0,x=n.length;o<x;o++){var d=n[o],h=d.width,l=d.children,a=X9(l);switch(a===void 0&&(a=s),a){case 0:case"left":T=0;break;case 1:case"center":var f=t-h;T=f/2;break;case 2:case"right":var f=t-h;T=f;break;case 3:case"justify":case"justify-left":var f=t-h,c=f/t;c<E&&_E(l,f),T=0;break;case 4:case"justify-center":var f=t-h,c=f/t;c<E?(_E(l,f),T=0):T=f/2;break;case 5:case"justify-right":var f=t-h,c=f/t;c<E?(_E(l,f),T=0):T=f;break;default:T=0;break}var u=e.linesHeight;switch(p){case 1:case"center":r=(i-u)/2;break;case 2:case"bottom":r=i-u;break;default:r=0;break}H9(l,T,r)}},_E=function(e,t){for(var i=t/e.length,s=0,p=e.length;s<p;s++){var E=e[s];E.renderable&&(E.x+=i*s)}},QF=function(){var e=this.defaultTextStyle.getTextMetrics(this.context,this.testString),t,i;return"actualBoundingBoxAscent"in e?(t=e.actualBoundingBoxAscent,i=e.actualBoundingBoxDescent):(t=0,i=0),B0.ascent=t,B0.descent=i,B0.height=t+i,B0},B0={};const zn=Phaser.Utils.Objects.GetValue;var het=function(e){var t=zn(e,"start",0);Eh(this.wrapPadding,zn(e,"padding",0));var i=this.padding.top+this.padding.bottom+this.wrapPadding.top+this.wrapPadding.bottom,s=this.padding.left+this.padding.right+this.wrapPadding.left+this.wrapPadding.right,p=zn(e,"lineHeight"),E=zn(e,"ascent",p),n;if(p===void 0){var T=zn(e,"useDefaultTextHeight",!1);if(n=zn(e,"maxLines",0),this.fixedHeight>0&&!T){var tt=this.fixedHeight-i;if(n>0)p=tt/n;else{var r=QF.call(this);p=r.height,E=r.ascent,n=Math.floor((tt-E)/p)}}else{var r=QF.call(this);p=r.height,E=r.ascent}}else if(this.fixedHeight>0){if(n=zn(e,"maxLines"),n===void 0){var tt=this.fixedHeight-i;n=Math.floor(tt/p)}}else n=zn(e,"maxLines",0);E===void 0&&(E=p);var o=n===0,x=zn(e,"wrapMode");if(x===void 0){var d=zn(e,"charWrap",!1);x=d?"char":"word"}typeof x=="string"&&(x=set[x]);var h=zn(e,"wrapWidth",void 0);h===void 0&&(this.fixedWidth>0?h=this.fixedWidth-s:(h=1/0,x=0));for(var l=zn(e,"letterSpacing",0),a=zn(e,"hAlign",0),f=zn(e,"vAlign",0),c=zn(e,"justifyPercentage",.25),u=Y9({callback:"runWordWrap",start:t,padding:this.wrapPadding,letterSpacing:l,maxLines:n,hAlign:a,vAlign:f,justifyPercentage:c,ascent:E,lineHeight:p,wrapWidth:h,wrapMode:x}),v=this.children,g=0,m=v.length;g<m;g++)v[g].setActive(!1);h+=l;for(var y=this.padding.left+this.wrapPadding.left,C=this.padding.top+this.wrapPadding.top+E,P=y,w=C,M=h,R=t,A=v.length,L=u.children,F=u.lines,G=[],I=0,B=0,k,U=!1;R<A;){k=aet(v,R,x,k);var H=k.word,X=H.length,j=k.width+X*l;R+=X;var J=N9(H[0]);U=U9(H[0]);var Y=J||U;if(M<j||Y){if(Y){var $=H[0];$.setActive().setPosition(P,w),L.push($),G.push($)}P=y,w+=p,M=h,F.push({children:G,width:I}),B=Math.max(B,I),I=0,G=[];var z=U||!o&&F.length===n;if(z)break;if(Y)continue}M-=j,I+=j;for(var g=0,m=H.length;g<m;g++){var V=H[g];V.setActive(),L.push(V),G.push(V),V.renderable&&(V.setPosition(P,w),P+=V.outerWidth+l)}}G.length>0&&(F.push({children:G,width:I}),B=Math.max(B,I)),u.start+=L.length,u.isLastPage=!U&&u.start===A,u.maxLineWidth=B,u.linesHeight=F.length*p;var K=this.fixedWidth>0?this.fixedWidth:u.maxLineWidth+s,Q=this.fixedHeight>0?this.fixedHeight:u.linesHeight+i,_=K-s,tt=Q-i;oet(u,_,tt),this.setCanvasSize(K,Q);for(var g=0,m=L.length;g<m;g++){var V=L[g];V.renderable&&(V.x0=V.x,V.y0=V.y)}return u};const uet=Phaser.Utils.Objects.Merge;var fet=function(e){return e===void 0&&(e={}),het.call(this,uet(e,this.wrapConfig))},det=function(e,t,i){var s=e.hAlign,p=e.vAlign,E,n,T=e.rtl,r=e.lines,o=e.lineWidth,x=e.linesWidth;switch(s){case 1:case"center":E=(t-x)/2;break;case 2:case"right":E=t-x;break;default:E=0;break}T&&(E+=o);for(var d=0,h=r.length;d<h;d++){var l=r[T?h-d-1:d],a=l.children,f=l.height,c=X9(a);switch(c===void 0&&(c=p),c){case 1:case"center":n=(i-f)/2;break;case 2:case"bottom":n=i-f;break;default:n=0;break}H9(a,E,n),E+=o}};const Ss=Phaser.Utils.Objects.GetValue;var cet=function(e){var t=Ss(e,"start",0);Eh(this.wrapPadding,Ss(e,"padding",0));var i=this.padding.top+this.padding.bottom+this.wrapPadding.top+this.wrapPadding.bottom,s=this.padding.left+this.padding.right+this.wrapPadding.left+this.wrapPadding.right,p=Ss(e,"lineWidth",void 0),E;if(p===void 0)if(E=Ss(e,"maxLines",0),this.fixedWidth>0){var J=this.fixedWidth-s;p=J/E}else p=0;else if(this.fixedWidth>0){if(E=Ss(e,"maxLines",void 0),E===void 0){var J=this.fixedWidth-s;E=Math.floor(J/p)+1}}else E=Ss(e,"maxLines",0);var n=E===0,T=Ss(e,"fixedCharacterHeight",void 0);if(T===void 0){var r=Ss(e,"charPerLine",void 0);if(r!==void 0){var Y=this.fixedHeight-i;T=Math.floor(Y/r)}}var o=Ss(e,"wrapHeight",void 0);o===void 0&&(this.fixedHeight>0?o=this.fixedHeight-i:o=1/0);for(var x=Ss(e,"letterSpacing",0),d=Ss(e,"rtl",!0),h=Ss(e,"hAlign",d?2:0),l=Ss(e,"vAlign",0),a=Y9({callback:"runVerticalWrap",start:t,padding:this.wrapPadding,letterSpacing:x,maxLines:E,hAlign:h,vAlign:l,lineWidth:p,fixedCharacterHeight:T,wrapHeight:o,rtl:d}),f=this.children,c=0,u=f.length;c<u;c++)f[c].setActive(!1);o+=x;for(var v=this.padding.left+this.wrapPadding.left,g=this.padding.top+this.wrapPadding.top,m=v,y=g,C=o,P=t,w=f.length,M=a.children,R=a.lines,A=[],L=0,F=0;P<w;){var G=f[P];if(P++,!G.renderable){G.setActive(),M.push(G),A.push(G);continue}var I=(T!==void 0?T:G.height)+x,B=N9(G),k=U9(G),U=B||k;if(C<I||U){B&&(G.setActive().setPosition(m,y).setOrigin(.5),M.push(G),A.push(G)),m=v,y=g,C=o,R.push({children:A,height:L}),F=Math.max(F,L),L=0,A=[];var H=k||!n&&R.length===E;if(H)break;if(U)continue}C-=I,L+=I,G.setActive().setPosition(m,y).setOrigin(.5),M.push(G),A.push(G),y+=I}A.length>0&&(R.push({children:A,height:L}),F=Math.max(F,L)),a.start+=M.length,a.isLastPage=a.start===w,a.maxLineHeight=F,a.linesWidth=R.length*p;var X=this.fixedWidth>0?this.fixedWidth:a.linesWidth+s,j=this.fixedHeight>0?this.fixedHeight:a.maxLineHeight+i,J=X-s,Y=j-i;det(a,J,Y),this.setCanvasSize(X,j);for(var c=0,u=M.length;c<u;c++){var G=M[c];G.renderable&&(G.x0=G.x,G.y0=G.y)}return a};const vet=Phaser.Utils.Objects.Merge;var pet=function(e){return e===void 0&&(e={}),cet.call(this,vet(e,this.wrapConfig))};const qF=Phaser.Utils.Objects.GetValue;var get=function(e){var t=qF(this.wrapConfig,"callback");return t||(t=qF(e,"callback",this.runWordWrap)),typeof t=="string"&&(t=this[t]),t.call(this,e)};const met={setVAlign(e){return this.wrapConfig.vAlign=e,this},setHAlign(e){return this.wrapConfig.hAlign=e,this}},yet={setTextOX(e){return e===this._textOX?this:(this._textOX=e,this)},setTextOY(e){return e===this._textOY?this:(this._textOY=e,this)},setTextOXY(e,t){if(!(e===this._textOX&&t===this._textOY))return this._textOX=e,this._textOY=t,this},addTextOX(e){return this.setTextOX(this._textOX+e),this},addTextOY(e){return this.setTextOY(this._textOY+e),this},addTextOXY(e,t){return this.setTextOXY(this._textOX+e,this._textOY+t),this}};var xet=function(){this.clear(),this.setCanvasSize(this.width,this.height),this.background.active&&this.background.render();for(var e,t=0,i=this.children.length;t<i;t++)e=this.children[t],e.active&&e.render();this.innerBounds.active&&this.innerBounds.render()},Tet=function(e,t,i){i===void 0&&(i=!0);for(var s=this.children.filter(function(r){return!(i&&!r.active)}),p=0,E=s.length;p<E;p++){var n=s[p],T;if(t?T=e.call(this,n,p,s):T=e(n,p,s),T)break}return this},Cet=function(e,t,i){i===void 0&&(i=!0);for(var s=this.children.filter(function(r){return!(i&&!r.active||!r.renderable||r.removed)}),p=0,E=s.length;p<E;p++){var n=s[p],T;if(t?T=e.call(this,n,p,s):T=e(n,p,s),T)break}return this},Eet=function(e,t,i){i===void 0&&(i=!0);for(var s=this.children.filter(function(r){return!(i&&!r.active||!Vu(r)||r.removed)}),p=0,E=s.length;p<E;p++){var n=s[p],T;if(t?T=e.call(this,n,p,s):T=e(n,p,s),T)break}return this},bet=function(){return this.children};const Pet=Phaser.Utils.Array.GetAll;var wet=function(){return Pet(this.children,"active",!0)},Met=function(e,t){return t===void 0&&(t=[]),this.forEachCharChild(function(i){t.push(i)},void 0,e),t},Ret=function(){return this.lastAppendedChildren},Aet=function(e,t,i,s){typeof t!="number"&&(s=t,t=0,i=0);var p=e.drawCenterX+t,E=e.drawCenterY+i;return D9(e,p,E,s)};const Oet=Phaser.Math.Distance.BetweenPointsSquared;var Let=function(e,t){var i={x:e,y:t},s=1/0,p=null;return this.forEachRenderableChild(function(E){var n=Oet(i,Aet(E,!0));s>n&&(s=n,p=E)}),p},Det=function(e,t,i,s){return typeof e=="number"&&(e=this.getCharChild(e,!0)),F9(this,e,t,i,s)},Fet=function(){for(var e=this.children,t=0,i=0,s=0,p=e.length;s<p;s++){var E=e[s];if(!(!E.renderable||!E.active||!E.visible)){var n=E.x0!==void 0?E.x0:E.x,T=E.y0!==void 0?E.y0:E.y;t=Math.max(t,n),i=Math.max(i,T)}}var r=t+this.padding.left+this.padding.right+this.wrapPadding.left+this.wrapPadding.right,o=i+this.padding.top+this.padding.bottom+this.wrapPadding.top+this.wrapPadding.bottom;return(this.width!==r||this.height!==o)&&(this.dirty=!0,this.setCanvasSize(r,o)),this},Iet=function(e,t){t===void 0&&(t=!0);for(var i=this.children,s=0,p=i.length;s<p;s++){var E=i[s];if(!(t&&!E.active)&&Vu(E)&&!E.removed){if(e===0)return s;e--}}},Bet=function(e,t){t===void 0&&(t=!0);for(var i=this.children,s=0,p=i.length;s<p;s++){var E=i[s];if(!(t&&!E.active)&&Vu(E)&&!E.removed){if(e===0)return E;e--}}},Get=function(e,t){if(typeof e!="number"&&(e=this.children.indexOf(e),e<0))return null;t===void 0&&(t=!0);var i=this.children;e>=i.length&&(e=i.length);for(var s=0,p=0;p<e;p++){var E=i[p];t&&!E.active||Vu(E)&&!E.removed&&s++}return s},ket=function(e){return e===void 0&&(e=!0),this.childrenInteractiveEnable!==e&&(this.lastOverChild=null),this.childrenInteractiveEnable=e,this},Zw=function(s,t,i){for(var s=s,p=0,E=s.length;p<E;p++){var n=s[p];if(!(!n.active||!n.renderable)&&n.contains(t,i))return n}return null},Net=function(){return this.on("pointerdown",Uet,this).on("pointerdown",Vet,this).on("pointermove",tb,this).on("pointerover",tb,this).on("pointerout",function(e,t){tb.call(this,e,null,null,t)},this),this},Uet=function(e,t,i,s){if(this.childrenInteractiveEnable){var p=Zw(this.children,t,i);p&&this.emit("child.pointerdown",p,e,t,i,s)}},Vet=function(e,t,i,s){if(this.childrenInteractiveEnable){var p=Zw(this.children,t,i);p&&this.emit("child.pointerup",p,e,t,i,s)}},tb=function(e,t,i,s){if(this.childrenInteractiveEnable){if(t===null){this.lastOverChild!==null&&(this.emit("child.pointerout",this.lastOverChild,e,t,i,s),this.lastOverChild=null);return}var p=Zw(this.children,t,i);p!==this.lastOverChild&&(this.lastOverChild!==null&&this.emit("child.pointerout",this.lastOverChild,e,t,i,s),p!==null&&this.emit("child.pointerover",p,e,t,i,s),this.lastOverChild=p)}};const zet=Phaser.GameObjects.GameObject;var Wet=function(e,t,i){var s=!!this.input;return zet.prototype.setInteractive.call(this,e,t,i),s||Net.call(this),this};const Yet=Phaser.Utils.Array.BringToTop,Xet=Phaser.Utils.Array.SendToBack,Het=Phaser.Utils.Array.MoveUp,$et=Phaser.Utils.Array.MoveDown,Ket=Phaser.Utils.Array.MoveAbove,Zet=Phaser.Utils.Array.MoveBelow,Jet={moveChildToFist(e){return Xet(this.children,e),this},moveChildToLast(e){return Yet(this.children,e),this},movechildUp(e){return Het(this.children,e),this},movechildDown(e){return $et(this.children,e),this},movechildAbove(e,t){return Ket(this.children,e,t),this},movechildBelow(e,t){return Zet(this.children,e,t),this}},jet={setBackgroundColor(e,t,i){return this.background.setColor(e,t,i),this},setBackgroundStroke(e,t){return this.background.setStroke(e,t),this},setBackgroundCornerRadius(e,t){return this.background.setCornerRadius(e,t),this}},Qet={setInnerBoundsColor(e,t,i){return this.innerBounds.setColor(e,t,i),this},setInnerBoundsStroke(e,t){return this.innerBounds.setStroke(e,t),this}};var $9={setFixedSize:Mtt,setPadding:Rtt,getPadding:Att,modifyTextStyle:Ott,modifyDefaultTextStyle:Ltt,resetTextStyle:Dtt,setTestString:Ftt,removeChild:Btt,removeChildren:Gtt,popChild:Ntt,clearContent:Utt,addChild:Vtt,createCharChild:Ytt,createCharChildren:Xtt,setText:Htt,appendText:Gp,insertText:$tt,removeText:Ktt,getText:Ztt,createImageChild:jtt,appendImage:z9,createDrawerChild:qtt,appendDrawer:_tt,createSpaceChild:eet,appendSpace:W9,createCommandChild:ret,appendCommand:Se,setWrapConfig:net,runWordWrap:fet,runVerticalWrap:pet,runWrap:get,renderContent:xet,forEachChild:Tet,forEachRenderableChild:Cet,forEachCharChild:Eet,getChildren:bet,getActiveChildren:wet,getCharChildren:Met,getLastAppendedChildren:Ret,getNearestChild:Let,getCharWorldPosition:Det,setToMinSize:Fet,getCharChildIndex:Iet,getCharChild:Bet,getCharIndex:Get,setChildrenInteractiveEnable:ket,setInteractive:Wet};Object.assign($9,Jet,jet,Qet,met,yet);const qet=Phaser.Utils.Objects.GetFastValue;var _et={};class tit{constructor(t){this.pools=qet(t,"pools",_et)}free(t){if(!this.pools)return this;var i=t.type;return this.pools.hasOwnProperty(i)||(this.pools[i]=new Co),this.pools[i].push(t),t.onFree(),this}freeMultiple(t){if(!this.pools)return this;for(var i=0,s=t.length;i<s;i++)this.free(t[i]);return this}allocate(t){return!this.pools||!this.pools.hasOwnProperty(t)?null:this.pools[t].pop()}}const eb=Phaser.Utils.Objects.IsPlainObject,dn=Phaser.Utils.Objects.GetValue;class jd extends Rh{constructor(t,i,s,p,E,n,T){eb(i)?(T=i,i=dn(T,"x",0),s=dn(T,"y",0),p=dn(T,"width",0),E=dn(T,"height",0),n=dn(T,"resolution",1)):eb(p)?(T=p,p=dn(T,"width",0),E=dn(T,"height",0),n=dn(T,"resolution",1)):eb(n)&&(T=n,n=dn(T,"resolution",1));var r=p===0?1:p,o=E===0?1:E;super(t,i,s,r,o,n),this.type="rexDynamicText",this.autoRound=!0,this.padding=Eh(),this.wrapPadding=Eh();var x=dn(T,"style",void 0);this.defaultTextStyle=new Dx(null,x),this.textStyle=this.defaultTextStyle.clone(),this.setTestString(dn(T,"testString","|Mqgy")),this._textOX=0,this._textOY=0,this.background=new Ptt(this,dn(T,"background",void 0)),this.innerBounds=new wtt(this,dn(T,"innerBounds",void 0)),this.children=[],this.lastAppendedChildren=[],this.lastOverChild=null,this.poolManager=new tit(T),this.setFixedSize(p,E),this.setPadding(dn(T,"padding",0)),this.setWrapConfig(dn(T,"wrap",void 0)),this.setChildrenInteractiveEnable(dn(T,"childrenInteractive",!1));var d=dn(T,"text",void 0);d&&this.setText(d)}updateTexture(){return super.updateTexture(function(){this.renderContent()},this),this}get text(){return this.getText(!0)}set text(t){this.setText(t)}setSize(t,i){return this.setFixedSize(t,i),this}get textOX(){return this._textOX}set textOX(t){this.setTextOX(t)}get textOY(){return this._textOY}set textOY(t){this.setTextOY(t)}}Object.assign(jd.prototype,$9);It.register("dynamicText",function(e,t,i,s,p){var E=new jd(this.scene,e,t,i,s,p);return this.scene.add.existing(E),E});Lt(window,"RexPlugins.UI.DynamicText",jd);const kp={setEventEmitter(e,t){return t===void 0&&(t=Phaser.Events.EventEmitter),this._privateEE=e===!0||e===void 0,this._eventEmitter=this._privateEE?new t:e,this},destroyEventEmitter(){return this._eventEmitter&&this._privateEE&&this._eventEmitter.shutdown(),this},getEventEmitter(){return this._eventEmitter},on(){return this._eventEmitter&&this._eventEmitter.on.apply(this._eventEmitter,arguments),this},once(){return this._eventEmitter&&this._eventEmitter.once.apply(this._eventEmitter,arguments),this},off(){return this._eventEmitter&&this._eventEmitter.off.apply(this._eventEmitter,arguments),this},emit(e){return this._eventEmitter&&e&&this._eventEmitter.emit.apply(this._eventEmitter,arguments),this},addListener(){return this._eventEmitter&&this._eventEmitter.addListener.apply(this._eventEmitter,arguments),this},removeListener(){return this._eventEmitter&&this._eventEmitter.removeListener.apply(this._eventEmitter,arguments),this},removeAllListeners(){return this._eventEmitter&&this._eventEmitter.removeAllListeners.apply(this._eventEmitter,arguments),this},listenerCount(){return this._eventEmitter?this._eventEmitter.listenerCount.apply(this._eventEmitter,arguments):0},listeners(){return this._eventEmitter?this._eventEmitter.listeners.apply(this._eventEmitter,arguments):[]},eventNames(){return this._eventEmitter?this._eventEmitter.eventNames.apply(this._eventEmitter,arguments):[]}},eit={hasProperty(e){var t=this.gameObject;if(t.hasOwnProperty(e))return!0;var i=t[e];return i!==void 0},getProperty(e){return this.gameObject[e]},setProperty(e,t){return this.gameObject[e]=t,this},easeProperty(h){var t=h.property,i=h.value,s=h.duration,p=h.delay,E=h.ease,n=h.repeat,T=h.yoyo,r=h.from,o=h.complete,x=h.target;if(s===void 0&&(s=1e3),p===void 0&&(p=0),E===void 0&&(E="Linear"),n===void 0&&(n=0),T===void 0&&(T=!1),x===void 0&&(x=this.gameObject),r){var d=i;i=x[t],x[t]=d}var h={targets:x,duration:s,delay:p,ease:E,repeat:n,yoyo:T,onComplete:o};return h[t]=i,this.addTweenTask(t,h),this},addTweenTask(e,t){var i=this.tweens,s=i[e];s&&s.remove();var p=t.onComplete;return t.onComplete=function(){i[e].remove(),i[e]=null,p&&p(t.targets,e)},s=this.scene.tweens.add(t),s.timeScale=this.timeScale,i[e]=s,this},getTweenTask(e){return this.tweens[e]},freeTweens(){var e=this.tweens,t;for(var i in e)t=e[i],t&&t.remove(),e[i]=null;return this}},iit={hasMethod(e){return typeof this.gameObject[e]=="function"},call(e,...t){if(!this.hasMethod(e))return console.warn(`[GameObjectManager] Game object '${this.name}' does not have method '${e}'`),this;var i=this.gameObject;return i[e].apply(i,t),this}},rit={hasData(e){var t=this.gameObject;return t.data?t.data.has(e):!1},getData(e){return this.gameObject.getData(e)},setData(e,t){return this.gameObject.setData(e,t),this}};class Jw{constructor(t,i,s){this.GOManager=t,this.tweens={},this.effects={},this.setGO(i,s)}get scene(){return this.GOManager.scene}get timeScale(){return this.GOManager.timeScale}destroy(){this.freeGO(),this.GOManager=void 0}freeGO(){return this.freeTweens(),this.gameObject.bob=void 0,this.gameObject.destroy(),this.gameObject=void 0,this}setGO(t,i){return t.goName=i,t.goType=this.GOManager.name,t.bob=this,this.gameObject=t,this.name=i,this.freeTweens(),this}setTimeScale(t){var i=this.tweens;for(var s in i){var p=i[s];p&&(p.timeScale=t)}return this}}Object.assign(Jw.prototype,eit,iit,rit);var Np=function(e){for(var t in e)return!1;return!0},ku=function(e){return e&&e.charAt(0)!=="!"};const nit={has(e){return this.bobs.hasOwnProperty(e)},exists(e){return this.bobs.hasOwnProperty(e)},get(e,t){if(ku(e))return this.bobs[e];t===void 0&&(t=[]),e&&(e=e.substring(1));for(var i in this.bobs)e&&i===e||t.push(this.bobs[i]);return t},getFitst(e){e&&e.charAt(0)==="!"&&(e=e.substring(1));for(var t in this.bobs)if(!(e&&e===t))return this.bobs[t];return null},getGO(e,t){var i=this.get(e);if(i)if(Array.isArray(i)){t===void 0&&(t=[]);var s=i;return s.forEach(function(p){t.push(p.gameObject)}),t}else return i.gameObject;else return null},forEachGO(e,t){for(var i in this.bobs){var s=this.bobs[i].gameObject,p;if(t?p=e.call(t,s,i,this):p=e(s,i,this),p)break}return this},getAllGO(e){e===void 0&&(e=[]);for(var t in this.bobs){var i=this.bobs[t].gameObject;e.push(i)}return e}};var Sp=function(e){return e>>16&255},Ep=function(e){return e>>8&255},bp=function(e){return e&255},_F=function(e,t){return t===void 0&&(t={}),t.r=e>>16&255,t.g=e>>8&255,t.b=e&255,t};const sit=~(255<<16)&16777215,ait=16711935,oit=16776960;var lit=function(e,t){return(t&255)<<16|e&sit},hit=function(e,t){return(t&255)<<8|e&ait},uit=function(e,t){return t&255|e&oit},fit=function(e,t,i,s){return(t&255)<<16|(i&255)<<8|s&255},dit=function(e,t){if(e.hasOwnProperty("tintR"))return e;t===void 0&&(t=16777215);var i=Sp(t),s=Ep(t),p=bp(t);return Object.defineProperty(e,"tint",{get:function(){return t},set:function(E){E=Math.floor(E)&16777215,e.setTint&&e.setTint(E),t!==E&&(t=E,i=Sp(t),s=Ep(t),p=bp(t))}}),Object.defineProperty(e,"tintR",{get:function(){return i},set:function(E){E=Math.floor(E)&255,i!==E&&(i=E,e.tint=lit(t,E))}}),Object.defineProperty(e,"tintG",{get:function(){return s},set:function(E){E=Math.floor(E)&255,s!==E&&(s=E,e.tint=hit(t,E))}}),Object.defineProperty(e,"tintB",{get:function(){return p},set:function(E){E=Math.floor(E)&255,p!==E&&(p=E,e.tint=uit(t,E))}}),Object.defineProperty(e,"tintGray",{get:function(){return Math.floor((i+s+p)/3)},set:function(E){E=Math.floor(E)&255,(i!==E||s!==E||p!==E)&&(i=E,s=E,p=E,e.tint=fit(t,E,E,E))}}),e.tint=t,e};const cit=Phaser.Events.EventEmitter;var vit=function(e){if(e.events)return e;var t=new cit,i=e.x;Object.defineProperty(e,"x",{get:function(){return i},set:function(n){i!==n&&(i=n,t.emit("update",e))}});var s=e.y;Object.defineProperty(e,"y",{get:function(){return s},set:function(n){s!==n&&(s=n,t.emit("update",e))}});var p=e.width;Object.defineProperty(e,"width",{get:function(){return p},set:function(n){p!==n&&(p=n,t.emit("update",e))}});var E=e.height;return Object.defineProperty(e,"height",{get:function(){return E},set:function(n){E!==n&&(E=n,t.emit("update",e))}}),e.events=t,e},pit=function(e,t,i,s,p,E){return E===void 0?E={}:E===!0&&(E=git),typeof i!="number"&&(i=0,s=0),E.x=p.x+p.width*e+i,E.y=p.y+p.height*t+s,E},git={},mit=function(e,t,i,s,p,E,n){if(e.hasOwnProperty("vp"))return e;typeof i=="function"&&(n=i,i=void 0),typeof p=="function"&&(n=p,p=void 0),i===void 0&&(i=.5),s===void 0&&(s=.5),p===void 0&&(p=0),E===void 0&&(E=0),n===void 0&&(n=pit),vit(t);var T=t.events;e.vp=t;var r=function(){n(i,s,p,E,t,e)};T.on("update",r),e.once("destroy",function(){T.off("update",r),e.vp=void 0}),Object.defineProperty(e,"vpx",{get:function(){return i},set:function(o){i!==o&&(i=o,r())}}),Object.defineProperty(e,"vpy",{get:function(){return s},set:function(o){s!==o&&(s=o,r())}}),Object.defineProperty(e,"vpxOffset",{get:function(){return p},set:function(o){p!==o&&(p=o,r())}}),Object.defineProperty(e,"vpyOffset",{get:function(){return E},set:function(o){E!==o&&(E=o,r())}}),r()},Ln=function(e){return e.preFX?e.preFX:e.postFX?e.postFX:null},fr=function(e,t){e._effectSwitchNames||(e._effectSwitchNames=[],e.clearAllEffects=function(){for(var i=e._effectSwitchNames,s=0,p=i.length;s<p;s++)e[i[s]]=null;return e},e.on("destroy",e.clearAllEffects,e)),e._effectSwitchNames.push(t)},yit=function(e){if(gi(e,"barrel"))return e;var t=Ln(e);if(!t)return e;var i;return Object.defineProperty(e,"barrel",{get:function(){return i},set:function(s){i!==s&&(i=s,i===null||i===!1?e._barrelEffect&&(t.remove(e._barrelEffect),e._barrelEffect=void 0):(e._barrelEffect||(e._barrelEffect=t.addBarrel()),e._barrelEffect.amount=i))}}),e.barrel=null,fr(e,"barrel"),e},gn=function(e,t,i){if(gi(e,t))return e;var s=Ln(e);if(!s)return e;var p=`_${t}Effect`,E;return Object.defineProperty(e,t,{get:function(){return E},set:function(n){if(E!==n)if(E=n,E===null||E===!1)e[p]&&(s.remove(e[p]),e[p]=void 0);else{e[p]||(e[p]=s.addColorMatrix());var T=e[p];T[t](i===1?n:void 0)}}}),e[t]=null,fr(e,t),e},xit=function(e){return gn(e,"blackWhite"),e},Tit=function(e){if(gi(e,"bloomColor"))return e;var t=Ln(e);if(!t)return e;var i,s=1,p=1,E=1,n=1,T=4;return Object.defineProperty(e,"bloomColor",{get:function(){return i},set:function(r){i!==r&&(i=r,i===null||i===!1?e._bloom&&(t.remove(e._bloom),e._bloom=void 0,t.setPadding(0)):(e._bloom||(e._bloom=t.addBloom(i,s,p,E,n,T),t.setPadding(Math.max(s,p)+1)),e._bloom.color=i))}}),Object.defineProperty(e,"bloomOffsetX",{get:function(){return s},set:function(r){if(s!==r&&(s=r,e._bloom)){var o=Math.max(s,p);t.setPadding(o+1),e._bloom.offsetX=s}}}),Object.defineProperty(e,"bloomOffsetY",{get:function(){return p},set:function(r){if(p!==r&&(p=r,e._bloom)){var o=Math.max(s,p);t.setPadding(o+1),e._bloom.offsetY=p}}}),Object.defineProperty(e,"bloomBlurStrength",{get:function(){return E},set:function(r){E!==r&&(E=r,e._bloom&&(e._bloom.blurStrength=E))}}),Object.defineProperty(e,"bloomStrength",{get:function(){return n},set:function(r){n!==r&&(n=r,e._bloom&&(e._bloom.strength=n))}}),Object.defineProperty(e,"bloomSteps",{get:function(){return T},set:function(r){T!==r&&(T=r,e._bloom&&(e._bloom.steps=T))}}),e.bloomColor=null,fr(e,"bloomColor"),e},Cit=function(e){if(gi(e,"blurColor"))return e;var t=Ln(e);if(!t)return e;var i,s=0,p=1,E=1,n=1,T=4;return Object.defineProperty(e,"blurColor",{get:function(){return i},set:function(r){i!==r&&(i=r,i===null||i===!1?e._blur&&(t.remove(e._blur),e._blur=void 0,t.setPadding(0)):(e._blur||(e._blur=t.addBlur(s,p,E,n,i,T),t.setPadding(Math.max(p,E)+1)),e._blur.color=i))}}),Object.defineProperty(e,"blurQuality",{get:function(){return s},set:function(r){s!==r&&(s=r,e._blur&&(e._blur.quality=s))}}),Object.defineProperty(e,"blurX",{get:function(){return p},set:function(r){if(p!==r&&(p=r,e._blur)){var o=Math.max(p,E);t.setPadding(o+1),e._blur.x=p}}}),Object.defineProperty(e,"blurY",{get:function(){return E},set:function(r){if(E!==r&&(E=r,e._blur)){var o=Math.max(p,E);t.setPadding(o+1),e._blur.y=E}}}),Object.defineProperty(e,"blurStrength",{get:function(){return n},set:function(r){n!==r&&(n=r,e._blur&&(e._blur.strength=n))}}),Object.defineProperty(e,"blurSteps",{get:function(){return T},set:function(r){T!==r&&(T=r,e._blur&&(e._blur.steps=T))}}),e.blurColor=null,fr(e,"blurColor"),e},Sit=function(e){if(gi(e,"bokehRadius"))return e;var t=Ln(e);if(!t)return e;var i,s=1,p=.2;return Object.defineProperty(e,"bokehRadius",{get:function(){return i},set:function(E){i!==E&&(i=E,i===null||i===!1?e._bokeh&&(t.remove(e._bokeh),e._bokeh=void 0):(e._bokeh||(e._bokeh=t.addBokeh(i,s,p)),e._bokeh.radius=i))}}),Object.defineProperty(e,"bokehAmount",{get:function(){return s},set:function(E){s!==E&&(s=E,e._bokeh&&(e._bokeh.amount=s))}}),Object.defineProperty(e,"bokehContrast",{get:function(){return p},set:function(E){p!==E&&(p=E,e._bokeh&&(e._bokeh.contrast=p))}}),e.bokehRadius=null,fr(e,"bokehRadius"),e},Eit=function(e){return gn(e,"brightness",1),e},bit=function(e){return gn(e,"brown"),e},Pit=function(e){if(gi(e,"circleColor"))return e;var t=Ln(e);if(!t)return e;var i,s=8,p=0,E=.4,n=1,T=.005;return Object.defineProperty(e,"circleColor",{get:function(){return i},set:function(r){i!==r&&(i=r,i===null||i===!1?e._circle&&(t.remove(e._circle),e._circle=void 0):(e._circle||(e._circle=t.addCircle(s,i,p,n,T),e.circleBackgroundAlpha=E),e._circle.color=i))}}),Object.defineProperty(e,"circleThickness",{get:function(){return s},set:function(r){s!==r&&(s=r,e._circle&&(e._circle.thickness=s))}}),Object.defineProperty(e,"circleBackgroundColor",{get:function(){return p},set:function(r){p!==r&&(p=r,e._circle&&(e._circle.backgroundColor=p))}}),Object.defineProperty(e,"circleBackgroundAlpha",{get:function(){return E},set:function(r){E!==r&&(E=r,e._circle&&(e._circle.glcolor2[3]=E))}}),Object.defineProperty(e,"circleScale",{get:function(){return n},set:function(r){n!==r&&(n=r,e._circle&&(e._circle.scale=n))}}),Object.defineProperty(e,"circleFeather",{get:function(){return T},set:function(r){T!==r&&(T=r,e._circle&&(e._circle.feather=T))}}),e.circleColor=null,fr(e,"circleColor"),e},wit=function(e){return gn(e,"contrast",1),e},Mit=function(e){return gn(e,"desaturate",1),e},Rit=function(e){return gn(e,"desaturateLuminance"),e},Ait=function(e){if(gi(e,"displacementKey"))return e;var t=Ln(e);if(!t)return e;var i,s=.005,p=.005;return Object.defineProperty(e,"displacementKey",{get:function(){return i},set:function(E){i!==E&&(i=E,i===null||i===!1?e._displacement&&(t.remove(e._displacement),e._displacement=void 0):(e._displacement||(e._displacement=t.addDisplacement(i,s,p)),e._displacement.setTexture(i)))}}),Object.defineProperty(e,"displacementX",{get:function(){return s},set:function(E){s!==E&&(s=E,e._displacement&&(e._displacement.x=s))}}),Object.defineProperty(e,"displacementY",{get:function(){return p},set:function(E){p!==E&&(p=E,e._displacement&&(e._displacement.y=p))}}),e.displacementKey=null,fr(e,"displacementKey"),e},Oit=function(e){if(gi(e,"glowColor"))return e;var t=Ln(e);if(!t)return e;var i,s=4,p=0;return Object.defineProperty(e,"glowColor",{get:function(){return i},set:function(E){i!==E&&(i=E,i===null||i===!1?e._glow&&(t.remove(e._glow),e._glow=void 0,t.setPadding(0)):(e._glow||(e._glow=t.addGlow(i,s,p),t.setPadding(s+1)),e._glow.color=i))}}),Object.defineProperty(e,"glowOuterStrength",{get:function(){return s},set:function(E){s!==E&&(s=E,e._glow&&(t.setPadding(s+1),e._glow.outerStrength=s))}}),Object.defineProperty(e,"glowInnerStrength",{get:function(){return p},set:function(E){p!==E&&(p=E,e._glow&&(e._glow.innerStrength=p))}}),e.glowColor=null,fr(e,"glowColor"),e},Lit=function(e){if(gi(e,"gradientColor"))return e;var t=Ln(e);if(!t)return e;var i,s,p=.5,E=0,n=0,T=0,r=1,o=0;return Object.defineProperty(e,"gradientColor",{get:function(){return[i,s]},set:function(x){var d,h;x===null||x===!1?(d=null,h=null):(d=x[0],h=x[1]),!(i===d&&s===h)&&(i=d,s=h,i===null||i===!1?e._gradient&&(t.remove(e._gradient),e._gradient=void 0):(e._gradient||(e._gradient=t.addGradient(i,s,p,E,n,T,r,o)),e._gradient.color1=i,e._gradient.color2=s))}}),Object.defineProperty(e,"gradientColor1",{get:function(){return i},set:function(x){if(x===null||x===!1){e.gradientColor=x;return}i!==x&&(i=x,e._gradient&&(e._gradient.color1=i))}}),Object.defineProperty(e,"gradientColor2",{get:function(){return s},set:function(x){if(x===null||x===!1){e.gradientColor=x;return}s!==x&&(s=x,e._gradient&&(e._gradient.color2=s))}}),Object.defineProperty(e,"gradientAlpha",{get:function(){return p},set:function(x){p!==x&&(p=x,e._gradient&&(e._gradient.alpha=p))}}),Object.defineProperty(e,"gradientFromX",{get:function(){return E},set:function(x){E!==x&&(E=x,e._gradient&&(e._gradient.fromX=E))}}),Object.defineProperty(e,"gradientFromY",{get:function(){return n},set:function(x){n!==x&&(n=x,e._gradient&&(e._gradient.fromY=n))}}),Object.defineProperty(e,"gradientToX",{get:function(){return T},set:function(x){T!==x&&(T=x,e._gradient&&(e._gradient.toX=T))}}),Object.defineProperty(e,"gradientToY",{get:function(){return r},set:function(x){r!==x&&(r=x,e._gradient&&(e._gradient.toY=r))}}),Object.defineProperty(e,"gradientSize",{get:function(){return o},set:function(x){o!==x&&(o=x,e._gradient&&(e._gradient.size=o))}}),e.gradientColor=null,fr(e,"gradientColor"),e},Dit=function(e){return gn(e,"grayscale",1),e},Fit=function(e){return gn(e,"hue",1),e},Iit=function(e){return gn(e,"kodachrome"),e},Bit=function(e){return gn(e,"lsd"),e},Git=function(e){return gn(e,"negative"),e},kit=function(e){if(gi(e,"pixelate"))return e;var t=Ln(e);if(!t)return e;var i;return Object.defineProperty(e,"pixelate",{get:function(){return i},set:function(s){i!==s&&(i=s,i===null||i===!1?e._pixelateEffect&&(t.remove(e._pixelateEffect),e._pixelateEffect=void 0):(e._pixelateEffect||(e._pixelateEffect=t.addPixelate()),e._pixelateEffect.amount=i))}}),e.pixelate=null,fr(e,"pixelate"),e},Nit=function(e){return gn(e,"polaroid"),e},Uit=function(e){if(gi(e,"revealLeft"))return e;var t=Ln(e);if(!t)return e;var i,s,p,E,n=.1,T=function(){i=null,s=null,p=null,E=null},r=function(o){o._revealEffect&&(t.remove(o._revealEffect),o._revealEffect=void 0)};return Object.defineProperty(e,"revealLeft",{get:function(){return i},set:function(o){i!==o&&(T(),i=o,i===null||i===!1?r(e):(e._revealEffect||(e._revealEffect=t.addReveal(n,0,0)),e._revealEffect.direction=1,e._revealEffect.axis=0,e._revealEffect.progress=i))}}),Object.defineProperty(e,"revealRight",{get:function(){return s},set:function(o){s!==o&&(T(),s=o,s===null||s===!1?r(e):(e._revealEffect||(e._revealEffect=t.addReveal(n,0,0)),e._revealEffect.direction=0,e._revealEffect.axis=0,e._revealEffect.progress=s))}}),Object.defineProperty(e,"revealUp",{get:function(){return p},set:function(o){p!==o&&(T(),p=o,p===null||p===!1?r(e):(e._revealEffect||(e._revealEffect=t.addReveal(n,0,0)),e._revealEffect.direction=1,e._revealEffect.axis=1,e._revealEffect.progress=p))}}),Object.defineProperty(e,"revealDown",{get:function(){return E},set:function(o){E!==o&&(T(),E=o,E===null||E===!1?r(e):(e._revealEffect||(e._revealEffect=t.addReveal(n,0,0)),e._revealEffect.direction=0,e._revealEffect.axis=1,e._revealEffect.progress=E))}}),Object.defineProperty(e,"revealWidth",{get:function(){return n},set:function(o){n!==o&&(n=o,e._revealEffect&&(e._revealEffect.wipeWidth=n))}}),e.revealLeft=null,fr(e,"revealLeft"),fr(e,"revealRight"),fr(e,"revealUp"),fr(e,"revealDown"),e},Vit=function(e){return gn(e,"saturate",1),e},zit=function(e){return gn(e,"sepia"),e},Wit=function(e){if(gi(e,"shadowColor"))return e;var t=Ln(e);if(!t)return e;var i,s=0,p=0,E=.1,n=1,T=6,r=1;return Object.defineProperty(e,"shadowColor",{get:function(){return i},set:function(o){i!==o&&(i=o,i===null||i===!1?e._shadow&&(t.remove(e._shadow),e._shadow=void 0):(e._shadow||(e._shadow=t.addShadow(s,p,E,n,i,T,r)),e._shadow.color=i))}}),Object.defineProperty(e,"shadowX",{get:function(){return s},set:function(o){s!==o&&(s=o,e._shadow&&(e._shadow.x=s))}}),Object.defineProperty(e,"shadowY",{get:function(){return p},set:function(o){p!==o&&(p=o,e._shadow&&(e._shadow.y=p))}}),Object.defineProperty(e,"decay",{get:function(){return E},set:function(o){E!==o&&(E=o,e._shadow&&(e._shadow.decay=E))}}),Object.defineProperty(e,"shadowPower",{get:function(){return n},set:function(o){n!==o&&(n=o,e._shadow&&(e._shadow.power=n))}}),Object.defineProperty(e,"shadowSamples",{get:function(){return T},set:function(o){T!==o&&(T=o,e._shadow&&(e._shadow.samples=T))}}),Object.defineProperty(e,"shadowIntensity",{get:function(){return r},set:function(o){r!==o&&(r=o,e._shadow&&(e._shadow.intensity=r))}}),e.shadowColor=null,fr(e,"shadowColor"),e},Yit=function(e){return gn(e,"shiftToBGR"),e},Xit=function(e){if(gi(e,"shineSpeed"))return e;var t=Ln(e);if(!t)return e;var i,s=.5,p=3;return Object.defineProperty(e,"shineSpeed",{get:function(){return i},set:function(E){i!==E&&(i=E,i===null||i===!1?e._shine&&(t.remove(e._shine),e._shine=void 0):(e._shine||(e._shine=t.addShine(i,s,p)),e._shine.speed=i))}}),Object.defineProperty(e,"shineLineWidth",{get:function(){return s},set:function(E){s!==E&&(s=E,e._shine&&(e._shine.lineWidth=s))}}),Object.defineProperty(e,"shineGradient",{get:function(){return p},set:function(E){p!==E&&(p=E,e._shine&&(e._shine.gradient=p))}}),e.shineSpeed=null,fr(e,"shineSpeed"),e},Hit=function(e){return gn(e,"technicolor"),e},$it=function(e){if(gi(e,"tiltShiftRadius"))return e;var t=Ln(e);if(!t)return e;var i,s=1,p=.2,E=1,n=1,T=1;return Object.defineProperty(e,"tiltShiftRadius",{get:function(){return i},set:function(r){i!==r&&(i=r,i===null||i===!1?e._tiltShift&&(t.remove(e._tiltShift),e._tiltShift=void 0):(e._tiltShift||(e._tiltShift=t.addTiltShift(i,s,p,E,n,T)),e._tiltShift.radius=i))}}),Object.defineProperty(e,"tiltShiftAmount",{get:function(){return s},set:function(r){s!==r&&(s=r,e._tiltShift&&(e._tiltShift.amount=s))}}),Object.defineProperty(e,"tiltShiftContrast",{get:function(){return p},set:function(r){p!==r&&(p=r,e._tiltShift&&(e._tiltShift.contrast=p))}}),Object.defineProperty(e,"tiltShiftBlurX",{get:function(){return E},set:function(r){E!==r&&(E=r,e._tiltShift&&(e._tiltShift.blurX=E))}}),Object.defineProperty(e,"tiltShiftBlurY",{get:function(){return n},set:function(r){n!==r&&(n=r,e._tiltShift&&(e._tiltShift.blurY=n))}}),Object.defineProperty(e,"tiltShiftStrength",{get:function(){return T},set:function(r){T!==r&&(T=r,e._tiltShift&&(e._tiltShift.strength=T))}}),e.tiltShiftRadius=null,fr(e,"tiltShiftRadius"),e},Kit=function(e){if(gi(e,"vignetteRadius"))return e;var t=Ln(e);if(!t)return e;var i,s=.5,p=.5,E=.5;return Object.defineProperty(e,"vignetteRadius",{get:function(){return i},set:function(n){i!==n&&(i=n,i===null||i===!1?e._vignette&&(t.remove(e._vignette),e._vignette=void 0):(e._vignette||(e._vignette=t.addVignette(s,p,i,E)),e._vignette.radius=i))}}),Object.defineProperty(e,"vignetteX",{get:function(){return s},set:function(n){s!==n&&(s=n,e._vignette&&(e._vignette.x=s))}}),Object.defineProperty(e,"vignetteY",{get:function(){return p},set:function(n){p!==n&&(p=n,e._vignette&&(e._vignette.y=p))}}),Object.defineProperty(e,"vignetteStrength",{get:function(){return E},set:function(n){E!==n&&(E=n,e._vignette&&(e._vignette.strength=E))}}),e.vignetteRadius=null,fr(e,"vignetteRadius"),e},Zit=function(e){return gn(e,"vintagePinhole"),e},Jit=function(e){if(gi(e,"wipeLeft"))return e;var t=Ln(e);if(!t)return e;var i,s,p,E,n=.1,T=function(){i=null,s=null,p=null,E=null},r=function(o){o._wipeEffect&&(t.remove(o._wipeEffect),o._wipeEffect=void 0)};return Object.defineProperty(e,"wipeLeft",{get:function(){return i},set:function(o){i!==o&&(T(),i=o,i===null||i===!1?r(e):(e._wipeEffect||(e._wipeEffect=t.addWipe(n,0,0)),e._wipeEffect.direction=1,e._wipeEffect.axis=0,e._wipeEffect.progress=i))}}),Object.defineProperty(e,"wipeRight",{get:function(){return s},set:function(o){s!==o&&(T(),s=o,s===null||s===!1?r(e):(e._wipeEffect||(e._wipeEffect=t.addWipe(n,0,0)),e._wipeEffect.direction=0,e._wipeEffect.axis=0,e._wipeEffect.progress=s))}}),Object.defineProperty(e,"wipeUp",{get:function(){return p},set:function(o){p!==o&&(T(),p=o,p===null||p===!1?r(e):(e._wipeEffect||(e._wipeEffect=t.addWipe(n,0,0)),e._wipeEffect.direction=1,e._wipeEffect.axis=1,e._wipeEffect.progress=p))}}),Object.defineProperty(e,"wipeDown",{get:function(){return E},set:function(o){E!==o&&(T(),E=o,E===null||E===!1?r(e):(e._wipeEffect||(e._wipeEffect=t.addWipe(n,0,0)),e._wipeEffect.direction=0,e._wipeEffect.axis=1,e._wipeEffect.progress=E))}}),Object.defineProperty(e,"wipeWidth",{get:function(){return n},set:function(o){n!==o&&(n=o,e._wipeEffect&&(e._wipeEffect.wipeWidth=n))}}),e.wipeLeft=null,fr(e,"wipeLeft"),fr(e,"wipeRight"),fr(e,"wipeUp"),fr(e,"wipeDown"),e};const G0={barrel:yit,blackWhite:xit,bloom:Tit,blur:Cit,bokeh:Sit,brightness:Eit,brown:bit,circle:Pit,contrast:wit,desaturate:Mit,desaturateLuminance:Rit,displacement:Ait,glow:Oit,gradient:Lit,grayscale:Dit,hue:Fit,kodachrome:Iit,lsd:Bit,negative:Git,pixelate:kit,polaroid:Nit,reveal:Uit,saturate:Vit,sepia:zit,shadow:Wit,shiftToBGR:Yit,shine:Xit,technicolor:Hit,tiltShift:$it,vignette:Kit,vintagePinhole:Zit,wipe:Jit};var Qd=function(e,t){if(t===void 0)t=!0;else if(typeof t=="string")t={config:!0};else if(Array.isArray(t))for(var i=t,t={},s=0,p=i.length;s<p;s++)t[i[s]]=!0;if(t===!0)for(var E in G0)G0[E](e);else for(var E in t)t[E]&&G0[E]&&G0[E](e);return e};const jit=Phaser.Utils.Array.Remove,Qit={addGO(e,t){this.remove(e,!0),this.useTintFadeEffect(t)&&dit(t),this.viewportCoordinateEnable&&mit(t,this.viewport),this.effectPropertiesConfig&&Qd(t,this.effectPropertiesConfig),t.setName(e).once("destroy",function(){jit(this.removedGOs,t),this.isEmpty&&this.emit("empty")},this);var i=new this.BobClass(this,t,e);return this.bobs[e]=i,this},add(e,...t){var i=this.createGameObjectCallback,s=this.createGameObjectScope,p=i.call(s,this.scene,...t);this.addGO(e,p),this.gameObjectDepth!=null&&p.setDepth(this.gameObjectDepth);var E=this.get(e);return this.fadeBob(E,0,1),this}},qit={remove(e,t){var i=this.get(e);if(i)Array.isArray(i)||(i=[i]);else return this;var s=this;return i.forEach(function(p){delete s.bobs[p.name];var E=p.gameObject;s.removedGOs.push(E),E.setName(),t?p.destroy():s.fadeBob(p,void 0,0,function(){p.destroy()})}),this},removeAll(){var e=this.bobs;for(var t in e)this.remove(t);return this},clear(e){e===void 0&&(e=!0);var t=this.bobs;for(var i in t)e&&t[i].destroy(),delete t[i];return this.removedGOs.length=0,this}},_it={hasProperty(e,t){var i=ku(e)?this.get(e):this.getFitst(e);return i?i.hasProperty(t):!1},getProperty(e,t){var i=ku(e)?this.get(e):this.getFitst(e);if(i)return i.getProperty(t)},isNumberProperty(e,t){var i=this.getProperty(e,t);return typeof i=="number"},setProperty(e,t,i){var s=this.get(e);if(s)Array.isArray(s)||(s=[s]);else return this;return this.symbols&&typeof i=="string"&&this.isNumberProperty(e,t)&&(i in this.symbols?i=this.symbols[i]:console.warn(`Can't find symbol ${i}`)),s.forEach(function(p){p.setProperty(t,i)}),this},easeProperty(e,t){var i=this.get(e);if(i)Array.isArray(i)||(i=[i]);else return this;var s=t.value,p=t.property;return this.symbols&&typeof s=="string"&&this.isNumberProperty(e,p)&&s in this.symbols&&(t.value=this.symbols[s]),i.forEach(function(E){E.easeProperty(t)}),this},hasTweenTask(e,t){var i=ku(e)?this.get(e):this.getFitst(e);return i?i.tweens.hasOwnProperty(t):!1},getTweenTask(e,t){var i=ku(e)?this.get(e):this.getFitst(e);return i&&i.tweens[t]||null}},trt={hasMethod(e,t){var i=ku(e)?this.get(e):this.getFitst(e);return i?i.hasMethod(t):!1},call(e,t,...i){var s=this.get(e);if(s)Array.isArray(s)||(s=[s]);else return this;return s.forEach(function(p){p.call(t,...i)}),this}},ert={hasData(e,t){var i=ku(e)?this.get(e):this.getFitst(e);return i?i.hasData(t):!1},getData(e,t){if(this.has(e))return this.get(e).getData(t)},setData(e,t,i){var s=this.get(e);if(s)Array.isArray(s)||(s=[s]);else return this;return s.forEach(function(p){p.setData(t,i)}),this}},K9=0,Z9=1,VP=2,J9=3,j9=4,zP=5,irt={tint:K9,alpha:Z9,revealUp:VP,revealDown:J9,revealLeft:j9,revealRight:zP},rrt={setGOFadeMode(e){return typeof e=="string"&&(e=irt[e]),this.fadeMode=e,this},setGOFadeTime(e){return this.fadeTime=e,this},useTintFadeEffect(e){return(this.fadeMode===void 0||this.fadeMode===K9)&&this.fadeTime>0&&e.setTint!==void 0},useAlphaFadeEffect(e){return(this.fadeMode===void 0||this.fadeMode===Z9)&&this.fadeTime>0&&e.setAlpha!==void 0},useRevealEffect(e){return this.fadeMode>=VP&&this.fadeMode<=zP&&this.fadeTime>0&&(e.preFX||e.postFX)},fadeBob(e,t,i,s){var p=e.gameObject;if(this.useTintFadeEffect(p))t!==void 0&&e.setProperty("tintGray",255*t),e.easeProperty({property:"tintGray",value:Math.floor(255*i),duration:this.fadeTime,delay:0,ease:"Linear",repeat:0,yoyo:!1,from:!1,complete:s});else if(this.useAlphaFadeEffect(p))t!==void 0&&e.setProperty("alpha",t),e.easeProperty({property:"alpha",value:i,duration:this.fadeTime,delay:0,ease:"Linear",repeat:0,yoyo:!1,from:!1,complete:s});else if(this.useRevealEffect(p)){Qd(p,"reveal");var E;switch(this.fadeMode){case VP:E="revealUp";break;case J9:E="revealDown";break;case j9:E="revealLeft";break;case zP:E="revealRight";break}t===void 0&&(t=0),p[E]=t,e.easeProperty({property:E,value:i,duration:this.fadeTime,delay:0,ease:"Linear",repeat:0,yoyo:!1,from:!1,complete:s}),e.getTweenTask(E).once("complete",function(){p[E]=null})}else s&&s(p);return this}};var mi=function(e){return e.displayWidth!==void 0?e.displayWidth:e.width},yi=function(e){return e.displayHeight!==void 0?e.displayHeight:e.height};const tI=Phaser.Geom.Rectangle,Eo=Phaser.Math.Vector2,nrt=Phaser.Math.RotateAround,srt=Phaser.GameObjects.Container;var jw=function(e,t){if(t===void 0?t=new tI:t===!0&&(ib===void 0&&(ib=new tI),t=ib),e.getBounds&&!(e instanceof srt))return e.getBounds(t);var i,s,p,E,n,T,r,o;if(e.parentContainer){var x=e.parentContainer.getBoundsTransformMatrix();Nu(e,t),x.transformPoint(t.x,t.y,t),i=t.x,s=t.y,Pp(e,t),x.transformPoint(t.x,t.y,t),p=t.x,E=t.y,wp(e,t),x.transformPoint(t.x,t.y,t),n=t.x,T=t.y,WP(e,t),x.transformPoint(t.x,t.y,t),r=t.x,o=t.y}else Nu(e,t),i=t.x,s=t.y,Pp(e,t),p=t.x,E=t.y,wp(e,t),n=t.x,T=t.y,WP(e,t),r=t.x,o=t.y;return t.x=Math.min(i,p,n,r),t.y=Math.min(s,E,T,o),t.width=Math.max(i,p,n,r)-t.x,t.height=Math.max(s,E,T,o)-t.y,t},ib=void 0,Nu=function(e,t,i){return t===void 0?t=new Eo:t===!0&&(Xn===void 0&&(Xn=new Eo),t=Xn),e.getTopLeft?e.getTopLeft(t):(t.x=e.x-mi(e)*e.originX,t.y=e.y-yi(e)*e.originY,Up(e,t,i))},Pp=function(e,t,i){return t===void 0?t=new Eo:t===!0&&(Xn===void 0&&(Xn=new Eo),t=Xn),e.getTopRight?e.getTopRight(t):(t.x=e.x-mi(e)*e.originX+mi(e),t.y=e.y-yi(e)*e.originY,Up(e,t,i))},wp=function(e,t,i){return t===void 0?t=new Eo:t===!0&&(Xn===void 0&&(Xn=new Eo),t=Xn),e.getBottomLeft?e.getBottomLeft(t):(t.x=e.x-mi(e)*e.originX,t.y=e.y-yi(e)*e.originY+yi(e),Up(e,t,i))},WP=function(e,t,i){return t===void 0?t=new Eo:t===!0&&(Xn===void 0&&(Xn=new Eo),t=Xn),e.getBottomRight?e.getBottomRight(t):(t.x=e.x-mi(e)*e.originX+mi(e),t.y=e.y-yi(e)*e.originY+yi(e),Up(e,t,i))},eI=function(e,t,i){t===void 0?t=new Eo:t===!0&&(Xn===void 0&&(Xn=new Eo),t=Xn);var s=mi(e),p=yi(e);return t.x=e.x+s*(.5-e.originX),t.y=e.y+p*(.5-e.originY),Up(e,t,i)},Xn=void 0,Up=function(e,t,i){if(i===void 0&&(i=!1),e.rotation!==0&&nrt(t,e.x,e.y,e.rotation),i&&e.parentContainer){var s=e.parentContainer.getBoundsTransformMatrix();s.transformPoint(t.x,t.y,t)}return t};const Vv=Phaser.Utils.Objects.GetValue;var Q9=function(e,t,i){var s,p,E,n,T;if(typeof i=="number"?s=i:(s=Vv(i,"color"),p=Vv(i,"lineWidth"),E=Vv(i,"fillColor"),n=Vv(i,"fillAlpha",1),T=Vv(i,"padding",0)),Array.isArray(e))for(var r=0,o=e.length;r<o;r++)iI(e[r],t,s,p,E,n,T);else iI(e,t,s,p,E,n,T)},iI=function(e,t,i,s,p,E,n){var T=e.getBounds||e.width!==void 0&&e.height!==void 0;if(T){i===void 0&&(i=16777215),s===void 0&&(s=1),p===void 0&&(p=null),E===void 0&&(E=1),n===void 0&&(n=0);var r=Nu(e,id[0]);r.x-=n,r.y-=n;var o=Pp(e,id[1]);o.x+=n,o.y-=n;var x=WP(e,id[2]);x.x+=n,x.y+=n;var d=wp(e,id[3]);d.x-=n,d.y+=n,p!==null&&t.fillStyle(p,E).fillPoints(id,!0,!0),i!==null&&t.lineStyle(s,i).strokePoints(id,!0,!0)}},id=[{x:0,y:0},{x:0,y:0},{x:0,y:0},{x:0,y:0}],art=function(e,t){return this.forEachGO(function(i){i.drawBounds?i.drawBounds(e,t):Q9(i,e,t)}),this},q9=function(e,t){var i=e.cameras,s;if(t===void 0)s=i.main;else{var p=typeof t;switch(p){case"string":s=i.getCamera(t);break;case"number":s=i.cameras[t];break;default:s=t;break}}return s};const ort={setCamera(e,t){var i=this.get(e);if(!i)return this;var s=q9(this.scene,t);return s?(i.gameObject.cameraFilter=4294967295^s.id,i.camera=s,this):this},getCamera(e){var t=this.get(e);return t?t.camera:null}};var _9={drawGameObjectsBounds:art};Object.assign(_9,nit,Qit,qit,_it,trt,ert,rrt,ort);const lrt=Phaser.Cameras.Scene2D.BaseCamera;var hrt=function(e){return e instanceof lrt};const tG=Phaser.Geom.Rectangle;var qd=function(e,t,i){return hrt(t)||(i=t,t=void 0),i===void 0?i=new tG:i===!0&&(i=urt),t?e.scale.getViewPort(t,i):e.scale.getViewPort(i)},urt=new tG;const ts=Phaser.Utils.Objects.GetValue;class Hd{constructor(t,i){this.scene=t,this.BobClass=ts(i,"BobClass",Jw),this.setCreateGameObjectCallback(ts(i,"createGameObject"),ts(i,"createGameObjectScope")),this.setEventEmitter(ts(i,"eventEmitter",void 0)),this.setGameObjectDepth(ts(i,"depth",void 0));var s=ts(i,"fade",500);typeof s=="number"?(this.setGOFadeMode(),this.setGOFadeTime(s)):(this.setGOFadeMode(ts(s,"mode")),this.setGOFadeTime(ts(s,"time",500)));var p=ts(i,"viewportCoordinate",!1);p!==!1?(this.setViewportCoordinateEnable(ts(i,"enable",!0)),this.setViewport(ts(p,"viewport"))):this.setViewportCoordinateEnable(!1);var E=ts(i,"effectProperties",!1);this.setEffectPropertiesConfig(E),this.setSymbols(ts(i,"symbols")),this.bobs={},this.removedGOs=[],this._timeScale=1,this.name=ts(i,"name")}destroy(t){this.clear(!t),this.createGameObjectCallback=void 0,this.viewport=void 0,this.scene=void 0}set timeScale(t){if(this._timeScale!==t){this._timeScale=t;var i=this.bobs;for(var s in i)i[s].setTimeScale(t)}}get timeScale(){return this._timeScale}setTimeScale(t){return this.timeScale=t,this}setCreateGameObjectCallback(t,i){return this.createGameObjectCallback=t,this.createGameObjectScope=i,this}setGameObjectDepth(t){return this.gameObjectDepth=t,this}setViewportCoordinateEnable(t){return t===void 0&&(t=!0),this.viewportCoordinateEnable=t,this}setEffectPropertiesConfig(t){return t===void 0&&(t=!0),this.effectPropertiesConfig=t,this}setViewport(t){return t===void 0&&(t=qd(this.scene,this.scene.cameras.main)),this.viewport=t,this}setSymbols(t){return this.symbols=t,this}get isEmpty(){return Np(this.bobs)&&this.removedGOs.length===0}}Object.assign(Hd.prototype,kp,_9);const frt=Phaser.GameObjects.GameObject,drt=Phaser.GameObjects.Layer;var ns=function(e){return e instanceof frt||e instanceof drt};const crt=Phaser.GameObjects.Layer;var gp=function(e){return e instanceof crt},eG=function(e){var t=e.displayList;return gp(t)?t:null},ia=function(e,t){if(e.length<=1)return e;t===void 0&&(t=!1);for(var i,s=0,p=e.length;s<p;s++){var E=e[s];if(E.displayList?i=E.displayList:E.parentContainer&&(i=E.parentContainer.list),i)break}return i||(i=E.scene.sys.displayList),i.depthSort&&(i.depthSort(),i=i.list),t?e.sort(function(n,T){return i.indexOf(T)-i.indexOf(n)}):e.sort(function(n,T){return i.indexOf(n)-i.indexOf(T)}),e};const vrt={getLayer(e){return this.getGO(e)},getLayers(e){return e===void 0&&(e=[]),this.forEachGO(function(t){e.push(t)}),ia(e,!1),e},addToLayer(e,t){var i=this.getGO(e);if(!i){console.warn(`[LayerManager] Can't get layer "${e}"`);return}Array.isArray(t)||(t=[t]);for(var s=0,p=t.length;s<p;s++){var E=t[s];E.isRexContainerLite?E.addToLayer(i):i.add(E)}return i.scrollFactorX!==void 0&&E.setScrollFactor(i.scrollFactorX,i.scrollFactorY),this},addToBottomLayer(e){var t=this.getLayers()[0];return this.addToLayer(t.goName,e),this},addToTopLayer(e){var t=this.getLayers(),i=t[t.length-1];return this.addToLayer(i.goName,e),this},removeFromLayer(e,t,i){var s=this.getGO(e);if(!s){console.warn(`[LayerManager] Can't get layer "${e}"`);return}return i===void 0&&(i=!0),t.isRexContainerLite?t.removeFromLayer(s,i):(s.remove(t),i&&t.addToDisplayList()),this},clearLayer(e,t){t===void 0&&(t=!0);var i=this.getGO(e);if(!i){console.warn(`Can't get layer "${e}"`);return}if(t)for(var s=i.getAll(),p=0,E=s.length;p<E;p++)s[p].destroy();else i.removeAll();return this}},prt={setScrollFactor(e,t,i){i===void 0&&(i=t);var s=this.getLayer(e);if(!s)return this;s.scrollFactorX=t,s.scrollFactorY=i;for(var p=s.getAll(),E=0,n=p.length;E<n;E++)p[E].setScrollFactor(t,i);return this}},Fx=Phaser.Utils.Array,grt=function(){var e;return this.parentContainer?e=this.parentContainer.list:this.displayList&&(e=this.displayList.list),e?(Fx.BringToTop(e,this),this):this},mrt=function(){var e;return this.parentContainer?e=this.parentContainer.list:this.displayList&&(e=this.displayList.list),e?(Fx.SendToBack(e,this),this):this},iG=function(e){var t;return e.parentContainer?(t=e.parentContainer.list,t.indexOf(this)===-1&&e.parentContainer.add(this)):e.displayList&&(t=e.displayList.list,t.indexOf(this)===-1&&e.displayList.add(this)),t?(Fx.MoveBelow(t,this,e),this):this},rG=function(e){var t;return e.parentContainer?(t=e.parentContainer.list,t.indexOf(this)===-1&&(e.isRexContainerLite?e.addToContainer(e.parentContainer):e.parentContainer.add(e))):e.displayList&&(t=e.displayList.list,t.indexOf(this)===-1&&(e.isRexContainerLite?e.addToLayer(e.displayList):e.displayList.add(e))),t?(Fx.MoveAbove(t,this,e),this):this},k0={bringMeToTop:grt,sendMeToBack:mrt,moveMyDepthBelow:iG,moveMyDepthAbove:rG},yrt={bringLayerToTop(e){var t=this.getLayer(e);return t?(k0.bringMeToTop.call(t),this):this},sendLayerToBack(e){var t=this.getLayer(e);return t?(k0.sendMeToBack.call(t),this):this},moveLayerBelow(e,t){if(e===t)return this;var i=this.getLayer(e),s=this.getLayer(t);return!i||!s?this:(k0.moveMyDepthBelow.call(i,s),this)},moveLayerAbove(e,t){if(e===t)return this;var i=this.getLayer(e),s=this.getLayer(t);return!i||!s?this:(k0.moveMyDepthAbove.call(i,s),this)}},xrt=Hd.prototype.setCamera,Trt={setCamera(e,t){var i=q9(this.scene,t);return i||(i=this.scene.cameras.add(void 0,void 0,void 0,void 0,!1,t)),xrt.call(this,e,i),this}};var nG={};Object.assign(nG,vrt,prt,yrt,Trt);const N0=Phaser.Utils.Objects.GetValue;class Ix extends Hd{constructor(t,i){i===void 0?i={}:Array.isArray(i)&&(i={layers:i}),i.hasOwnProperty("fade")||(i.fade=0),i.viewportCoordinate=!1,super(t,i);var s=N0(i,"rootLayer");this.setRootLayer(s);var p=N0(i,"layers");if(p)for(var E=0,n=p.length;E<n;E++){var T=p[E];if(typeof T=="string")this.add(T);else{var r=T.name;this.add(r);var o=T.scrollFactor,x=N0(T,"scrollFactorX",o),d=N0(T,"scrollFactorY",o);x!==void 0&&this.setScrollFactor(r,x,d),this.setCamera(r,T.cameraName)}}}setCreateGameObjectCallback(t,i){return t||(t=Crt),super.setCreateGameObjectCallback(t,i),this}setRootLayer(t){if(t===this.rootLayer)return this;var i=this.getAllGO();return t?t.add(i):this.scene.displayList.add(i),this.rootLayer=t,this}addGO(t,i){return super.addGO(t,i),i.name=t,this.rootLayer&&this.rootLayer.add(i),this}get(t,i){if(ns(t)){var s=eG(t);if(!s||(t=s.name,!t))return}return super.get(t,i)}}var Crt=function(e,t){var i=e.add.layer();return t!==void 0&&i.setDepth(t),i};Object.assign(Ix.prototype,nG);var Srt=function(e){return Uu(e)?e.sys.sound:e.sound},Ert=function(e){return this.sound.game.cache.audio.has(e)},_d=function(e){return e==null||typeof e!="object"?null:Uu(e)?e:e.scene&&Uu(e.scene)?e.scene:e.parent&&e.parent.scene&&Uu(e.parent.scene)?e.parent.scene:null};const brt=Phaser.Utils.Objects.GetValue;class ji{constructor(t,i){this.setParent(t),this.isShutdown=!1,this.setEventEmitter(brt(i,"eventEmitter",!0)),this.parent&&(this.parent===this.scene?this.scene.sys.events.once("shutdown",this.onEnvDestroy,this):this.parent===this.game?this.game.events.once("shutdown",this.onEnvDestroy,this):this.parent.once&&this.parent.once("destroy",this.onParentDestroy,this))}shutdown(t){this.isShutdown||(this.parent&&(this.parent===this.scene?this.scene.sys.events.off("shutdown",this.onEnvDestroy,this):this.parent===this.game?this.game.events.off("shutdown",this.onEnvDestroy,this):this.parent.once&&this.parent.off("destroy",this.onParentDestroy,this)),this.destroyEventEmitter(),this.parent=void 0,this.scene=void 0,this.game=void 0,this.isShutdown=!0)}destroy(t){this.shutdown(t)}onEnvDestroy(){this.destroy(!0)}onParentDestroy(t,i){this.destroy(i)}setParent(t){return this.parent=t,this.scene=_d(t),this.game=zu(t),this}}Object.assign(ji.prototype,kp);const Prt=Phaser.Utils.Objects.GetValue;class Bx extends ji{constructor(t,i){super(t,i),this._isRunning=!1,this.isPaused=!1,this.tickingState=!1,this.setTickingMode(Prt(i,"tickingMode",1))}boot(){this.tickingMode===2&&!this.tickingState&&this.startTicking()}shutdown(t){this.isShutdown||(this.stop(),this.tickingState&&this.stopTicking(),super.shutdown(t))}setTickingMode(t){typeof t=="string"&&(t=wrt[t]),this.tickingMode=t}startTicking(){this.tickingState=!0}stopTicking(){this.tickingState=!1}get isRunning(){return this._isRunning}set isRunning(t){this._isRunning!==t&&(this._isRunning=t,this.tickingMode===1&&t!=this.tickingState&&(t?this.startTicking():this.stopTicking()))}start(){return this.isPaused=!1,this.isRunning=!0,this}pause(){return this.isRunning&&(this.isPaused=!0,this.isRunning=!1),this}resume(){return this.isPaused&&(this.isPaused=!1,this.isRunning=!0),this}stop(){return this.isPaused=!1,this.isRunning=!1,this}complete(){this.isPaused=!1,this.isRunning=!1,this.emit("complete",this.parent,this)}}const wrt={no:0,lazy:1,always:2},Mrt=Phaser.Utils.Objects.GetValue;class Rrt extends Bx{constructor(t,i){super(t,i);var s=this.scene?"update":"step";this.tickEventName=Mrt(i,"tickEventName",s),this.isSceneTicker=!Art(this.tickEventName)}startTicking(){super.startTicking(),this.isSceneTicker?this.scene.sys.events.on(this.tickEventName,this.update,this):this.game.events.on(this.tickEventName,this.update,this)}stopTicking(){super.stopTicking(),this.isSceneTicker&&this.scene?this.scene.sys.events.off(this.tickEventName,this.update,this):this.game&&this.game.events.off(this.tickEventName,this.update,this)}}var Art=function(e){return e==="step"||e==="poststep"};const rl=Phaser.Utils.Objects.GetValue,rI=Phaser.Math.Clamp;let sG=class{constructor(t){this.resetFromJSON(t)}resetFromJSON(t){this.state=rl(t,"state",zv),this.timeScale=rl(t,"timeScale",1),this.delay=rl(t,"delay",0),this.repeat=rl(t,"repeat",0),this.repeatCounter=rl(t,"repeatCounter",0),this.repeatDelay=rl(t,"repeatDelay",0),this.duration=rl(t,"duration",0),this.nowTime=rl(t,"nowTime",0),this.justRestart=rl(t,"justRestart",!1)}toJSON(){return{state:this.state,timeScale:this.timeScale,delay:this.delay,repeat:this.repeat,repeatCounter:this.repeatCounter,repeatDelay:this.repeatDelay,duration:this.duration,nowTime:this.nowTime,justRestart:this.justRestart}}destroy(){}setTimeScale(t){return this.timeScale=t,this}setDelay(t){return t===void 0&&(t=0),this.delay=t,this}setDuration(t){return this.duration=t,this}setRepeat(t){return this.repeat=t,this}setRepeatInfinity(){return this.repeat=-1,this}setRepeatDelay(t){return this.repeatDelay=t,this}start(){return this.nowTime=this.delay>0?-this.delay:0,this.state=this.nowTime>=0?rd:Wv,this.repeatCounter=0,this}stop(){return this.state=zv,this}update(t,i){this.state===zv||this.state===U0||i===0||this.timeScale===0||(this.nowTime+=i*this.timeScale,this.justRestart=!1,this.nowTime>=this.duration?this.repeat===-1||this.repeatCounter<this.repeat?(this.repeatCounter++,this.justRestart=!0,this.nowTime-=this.duration,this.repeatDelay>0&&(this.nowTime-=this.repeatDelay,this.state=nI)):(this.nowTime=this.duration,this.state=U0):this.nowTime>=0&&(this.state=rd))}get t(){var t;switch(this.state){case zv:case Wv:case nI:t=0;break;case rd:t=this.nowTime/this.duration;break;case U0:t=1;break}return rI(t,0,1)}set t(t){t=rI(t,-1,1),t<0?(this.state=Wv,this.nowTime=-this.delay*t):(this.state=rd,this.nowTime=this.duration*t,t===1&&this.repeat!==0&&this.repeatCounter++)}setT(t){return this.t=t,this}get isIdle(){return this.state===zv}get isDelay(){return this.state===Wv}get isCountDown(){return this.state===rd}get isRunning(){return this.state===Wv||this.state===rd}get isDone(){return this.state===U0}get isOddIteration(){return(this.repeatCounter&1)===1}get isEvenIteration(){return(this.repeatCounter&1)===0}};const zv=0,Wv=1,rd=2,nI=3,U0=-1;class Ort extends Rrt{constructor(t,i){super(t,i),this.timer=new sG}shutdown(t){this.isShutdown||(super.shutdown(t),this.timer.destroy(),this.timer=void 0)}start(){return this.timer.start(),super.start(),this}stop(){return this.timer.stop(),super.stop(),this}complete(){return this.timer.stop(),super.complete(),this}}const Yv=Phaser.Utils.Objects.GetValue,sI=Phaser.Utils.Objects.GetAdvancedValue,Lrt=Phaser.Tweens.Builders.GetEaseFunction;class Ku extends Ort{resetFromJSON(t){return this.timer.resetFromJSON(Yv(t,"timer")),this.setEnable(Yv(t,"enable",!0)),this.setTarget(Yv(t,"target",this.parent)),this.setDelay(sI(t,"delay",0)),this.setDuration(sI(t,"duration",1e3)),this.setEase(Yv(t,"ease","Linear")),this.setRepeat(Yv(t,"repeat",0)),this}setEnable(t){return t==null&&(t=!0),this.enable=t,this}setTarget(t){return t===void 0&&(t=this.parent),this.target=t,this}setDelay(t){return this.delay=t,this}setDuration(t){return this.duration=t,this}setRepeat(t){return this.repeat=t,this}setRepeatDelay(t){return this.repeatDelay=t,this}setEase(t){return t===void 0&&(t="Linear"),this.ease=t,this.easeFn=Lrt(t),this}start(){return this.timer.isRunning?this:(super.start(),this)}restart(){return this.timer.stop(),this.start.apply(this,arguments),this}stop(t){return t===void 0&&(t=!1),super.stop(),t&&(this.timer.setT(1),this.updateTarget(this.target,this.timer),this.complete()),this}update(t,i){if(!this.isRunning||!this.enable||this.parent.hasOwnProperty("active")&&!this.parent.active)return this;var s=this.target,p=this.timer;return p.update(t,i),p.isDelay||this.updateTarget(s,p),this.emit("update",s,this),p.isDone&&this.complete(),this}updateTarget(t,i){}}const Drt=Phaser.Sound.BaseSound;var Qw=function(e){return e instanceof Drt};const aI=Phaser.Utils.Objects.GetValue,oI=Phaser.Utils.Objects.GetAdvancedValue,Frt=Phaser.Math.Linear;let aG=class extends Ku{constructor(t,i,s){Qw(t)&&(s=i,i=t,t=void 0),i.active=!0,i.scene=t,i.game=i.manager.game,super(i,s),this.volume={},this.resetFromJSON(s)}resetFromJSON(t){return super.resetFromJSON(t),this.setMode(aI(t,"mode",0)),this.setEnable(aI(t,"enable",!0)),this.setVolumeRange(oI(t,"volume.start",this.parent.volume),oI(t,"volume.end",0)),this}setMode(t){return typeof t=="string"&&(t=Irt[t]),this.mode=t,this}setVolumeRange(t,i){return this.volume.start=t,this.volume.end=i,this}start(){return this.timer.isRunning?this:(this.parent.setVolume(this.volume.start),this.timer.setDelay(this.delay).setDuration(this.duration),super.start(),this)}updateTarget(t,i){t.volume=Frt(this.volume.start,this.volume.end,i.t)}complete(){switch(super.complete(),this.mode){case 1:this.parent.stop();break;case 2:this.parent.stop(),this.parent.destroy();break}return this}};const Irt={stop:1,destroy:2};var Gx=function(e,t,i,s,p){Qw(e)&&(p=s,s=i,i=t,t=e,e=void 0),s===void 0&&(s=1),p===void 0&&(p=0);var E={mode:0,volume:{start:p,end:s},duration:i};typeof t=="string"&&(t=e.sys.sound.add(t));var n;return t.hasOwnProperty("_fade")?(n=t._fade,n.stop().resetFromJSON(E)):(n=new aG(e,t,E),t._fade=n),n.start(),t.isPlaying||t.setVolume(p).play(),t},$d=function(e,t,i,s){Qw(e)&&(s=i,i=t,t=e,e=void 0),s===void 0&&(s=!0);var p={mode:s?2:1,volume:{start:t.volume,end:0},duration:i},E;return t.hasOwnProperty("_fade")?(E=t._fade,E.stop().resetFromJSON(p)):(E=new aG(e,t,p),t._fade=E),E.start(),t.isPlaying||t.play(),t};const Xv=Phaser.Utils.Objects.GetValue,Brt={setBackgroundMusicLoop(e){return e===void 0&&(e=!0),this.backgroundMusicLoop=e,this},setBackgroundMusicFadeTime(e){return this.backgroundMusicFadeTime=e,this},getBackgroundMusic(){return this.backgroundMusic},setCurrentBackgroundMusic(e){return this.backgroundMusic=e,e&&(e.once("complete",function(){this.backgroundMusic===e&&(this.backgroundMusic.destroy(),this.backgroundMusic=void 0)},this).once("destroy",function(){this.backgroundMusic===e&&(this.backgroundMusic=void 0)},this),e.isPlaying||e.play()),this},playBackgroundMusic(e,t){if(!this.hasAudio(e))return console.error(`[Sound manager] Audio key'${e}' is not existed`),this;if(this.backgroundMusic&&this.backgroundMusic.key===e)return this;this.stopBackgroundMusic();var i=this.sound.add(e,{loop:Xv(t,"loop",this.backgroundMusicLoop),mute:Xv(t,"mute",this.backgroundMusicMute),volume:Xv(t,"volume",this.backgroundMusicVolume),detune:Xv(t,"detune",0),rate:Xv(t,"rate",1)});return this.setCurrentBackgroundMusic(i),this.backgroundMusicFadeTime>0&&this.fadeInBackgroundMusic(this.backgroundMusicFadeTime),this},pauseBackgroundMusic(){return this.backgroundMusic&&this.backgroundMusic.pause(),this},resumeBackgroundMusic(){return this.backgroundMusic&&this.backgroundMusic.resume(),this},stopBackgroundMusic(){return this.backgroundMusic&&(this.backgroundMusicFadeTime>0?this.fadeOutBackgroundMusic(this.backgroundMusicFadeTime,!0):(this.backgroundMusic.stop(),this.backgroundMusic.destroy(),this.backgroundMusic=void 0)),this},fadeInBackgroundMusic(e){return this.backgroundMusic&&Gx(this.backgroundMusic,e,this.backgroundMusicVolume,0),this},fadeOutBackgroundMusic(e,t){return this.backgroundMusic&&$d(this.backgroundMusic,e,t),this},crossFadeBackgroundMusic(e,t){if(!this.hasAudio(e))return console.error(`[Sound manager] Audio key'${e}' is not existed`),this;var i=this.backgroundMusicFadeTime;return this.backgroundMusicFadeTime=0,this.fadeOutBackgroundMusic(t,!0).playBackgroundMusic(e).fadeInBackgroundMusic(t),this.backgroundMusicFadeTime=i,this},setBackgroundMusicMute(e){return e===void 0&&(e=!0),this.backgroundMusicMute=e,this},setBackgroundMusicVolume(e){return this.backgroundMusicVolume=e,this},setBackgroundMusicRate(e){return this.backgroundMusic&&this.backgroundMusic.setRate(e),this},setBackgroundMusicDetune(e){return this.backgroundMusic&&this.backgroundMusic.setDetune(e),this}},Hv=Phaser.Utils.Objects.GetValue,Grt={setBackgroundMusic2Loop(e){return e===void 0&&(e=!0),this.backgroundMusic2Loop=e,this},setBackgroundMusic2FadeTime(e){return this.backgroundMusic2FadeTime=e,this},getBackgroundMusic2(){return this.backgroundMusic2},setCurrentBackgroundMusic2(e){return this.backgroundMusic2=e,e&&(e.once("complete",function(){this.backgroundMusic2===e&&(this.backgroundMusic2.destroy(),this.backgroundMusic2=void 0)},this).once("destroy",function(){this.backgroundMusic2===e&&(this.backgroundMusic2=void 0)},this),e.isPlaying||e.play()),this},playBackgroundMusic2(e,t){if(!this.hasAudio(e))return console.error(`[Sound manager] Audio key'${e}' is not existed`),this;if(this.backgroundMusic2&&this.backgroundMusic2.key===e)return this;this.stopBackgroundMusic2();var i=this.sound.add(e,{loop:Hv(t,"loop",this.backgroundMusicLoop),mute:Hv(t,"mute",this.backgroundMusic2Mute),volume:Hv(t,"volume",this.backgroundMusic2Volume),detune:Hv(t,"detune",0),rate:Hv(t,"rate",1)});return this.setCurrentBackgroundMusic2(i),this.backgroundMusic2FadeTime>0&&this.fadeInBackgroundMusic2(this.backgroundMusic2FadeTime),this},pauseBackgroundMusic2(){return this.backgroundMusic2&&this.backgroundMusic2.pause(),this},resumeBackgroundMusic2(){return this.backgroundMusic2&&this.backgroundMusic2.resume(),this},stopBackgroundMusic2(){return this.backgroundMusic2&&(this.backgroundMusic2FadeTime>0?this.fadeOutBackgroundMusic2(this.backgroundMusic2FadeTime,!0):(this.backgroundMusic2.stop(),this.backgroundMusic2.destroy(),this.backgroundMusic2=void 0)),this},fadeInBackgroundMusic2(e){return this.backgroundMusic2&&Gx(this.backgroundMusic2,e,this.backgroundMusic2Volume,0),this},fadeOutBackgroundMusic2(e,t){return this.backgroundMusic2&&$d(this.backgroundMusic2,e,t),this},crossFadeBackgroundMusic2(e,t){if(!this.hasAudio(e))return console.error(`[Sound manager] Audio key'${e}' is not existed`),this;var i=this.backgroundMusic2FadeTime;return this.backgroundMusic2FadeTime=0,this.fadeOutBackgroundMusic2(t,!0).playBackgroundMusic2(e).fadeInBackgroundMusic2(t),this.backgroundMusic2FadeTime=i,this},setBackgroundMusic2Mute(e){return e===void 0&&(e=!0),this.backgroundMusic2Mute=e,this},setBackgroundMusic2Volume(e){return this.backgroundMusic2Volume=e,this},setBackgroundMusic2Rate(e){return this.backgroundMusic2&&this.backgroundMusic2.setRate(e),this},setBackgroundMusic2Detune(e){return this.backgroundMusic2&&this.backgroundMusic2.setDetune(e),this}},lI=Phaser.Utils.Array.Remove,V0=Phaser.Utils.Objects.GetValue,krt={getSoundEffects(){return this.soundEffects},getLastSoundEffect(){return this.soundEffects[this.soundEffects.length-1]},playSoundEffect(e,t){if(!this.hasAudio(e))return console.error(`[Sound manager] Audio key'${e}' is not existed`),this;var i=this.sound.add(e,{mute:V0(t,"mute",this.soundEffectsMute),volume:V0(t,"volume",this.soundEffectsVolume),detune:V0(t,"detune",0),rate:V0(t,"rate",1)});return this.soundEffects.push(i),i.once("complete",function(){i.destroy(),this.sound&&lI(this.soundEffects,i)},this).once("destroy",function(){this.sound&&lI(this.soundEffects,i)},this).play(),this},stopAllSoundEffects(){for(var e=this.soundEffects.length-1;e>=0;e--){var t=this.soundEffects[e];t.stop(),t.destroy()}return this},fadeInSoundEffect(e){var t=this.getLastSoundEffect();return t&&Gx(t,e,this.soundEffectsVolume,0),this},fadeOutSoundEffect(e,t){var i=this.getLastSoundEffect();return i&&$d(i,e,t),this},fadeOutAllSoundEffects(e,t){for(var i=this.soundEffects.length-1;i>=0;i--)$d(this.soundEffects[i],e,t);return this},setSoundEffectMute(e,t){if(e===void 0&&(e=!0),t===void 0&&(t=!1),t){var i=this.getLastSoundEffect();i&&i.setMute(e)}else this.soundEffectsMute=e;return this},setSoundEffectVolume(e,t){if(t===void 0&&(t=!1),t){var i=this.getLastSoundEffect();i&&i.setVolume(e)}else this.soundEffectsVolume=e;return this},setSoundEffectDetune(e,t){t===void 0&&(t=!1);var i;t?i=[this.getLastSoundEffect()]:i=this.soundEffects;for(var s=0,p=i.length;s<p;s++)i[s].setDetune(e);return this},setSoundEffectRate(e,t){t===void 0&&(t=!1);var i;t?i=[this.getLastSoundEffect()]:i=this.soundEffects;for(var s=0,p=i.length;s<p;s++)i[s].setRate(e);return this}},hI=Phaser.Utils.Array.Remove,z0=Phaser.Utils.Objects.GetValue,Nrt={getSoundEffects2(){return this.soundEffects2},getLastSoundEffect2(){return this.soundEffects2[this.soundEffects2.length-1]},playSoundEffect2(e,t){if(!this.hasAudio(e))return console.error(`[Sound manager] Audio key'${e}' is not existed`),this;var i=this.sound.add(e,{mute:z0(t,"mute",this.soundEffects2Mute),volume:z0(t,"volume",this.soundEffects2Volume),detune:z0(t,"detune",0),rate:z0(t,"rate",1)});return this.soundEffects2.push(i),i.once("complete",function(){i.destroy(),this.sound&&hI(this.soundEffects2,i)},this).once("destroy",function(){this.sound&&hI(this.soundEffects2,i)},this).play(),this},stopAllSoundEffects2(){for(var e=this.soundEffects.length-1;e>=0;e--){var t=this.soundEffects[e];t.stop(),t.destroy()}return this},fadeInSoundEffect2(e){var t=this.getLastSoundEffect2();return t&&Gx(t,e,this.soundEffects2Volume,0),this},fadeOutSoundEffect2(e,t){var i=this.getLastSoundEffect2();return i&&$d(i,e,t),this},fadeOutAllSoundEffects2(e,t){for(var i=this.soundEffects2.length-1;i>=0;i--)$d(this.soundEffects2[i],e,t);return this},setSoundEffect2Mute(e,t){if(e===void 0&&(e=!0),t===void 0&&(t=!1),t){var i=this.getLastSoundEffect2();i&&i.setMute(e)}else this.soundEffects2Mute=e;return this},setSoundEffect2Volume(e,t){if(t===void 0&&(t=!1),t){var i=this.getLastSoundEffect2();i&&i.setVolume(e)}else this.soundEffects2Volume=e;return this},setSoundEffect2Detune(e,t){t===void 0&&(t=!1);var i;t?i=[this.getLastSoundEffect2()]:i=this.soundEffects2;for(var s=0,p=i.length;s<p;s++)i[s].setDetune(e);return this},setSoundEffect2Rate(e,t){t===void 0&&(t=!1);var i;t?i=[this.getLastSoundEffect2()]:i=this.soundEffects2;for(var s=0,p=i.length;s<p;s++)i[s].setRate(e);return this}};var oG={hasAudio:Ert};Object.assign(oG,Brt,Grt,krt,Nrt);const Zs=Phaser.Utils.Objects.GetValue;class lG{constructor(t,i){this.sound=Srt(t),this.backgroundMusic=void 0,this._backgroundMusicVolume=Zs(i,"bgm.volume",1),this._backgroundMusicMute=Zs(i,"bgm.mute",!1),this.setBackgroundMusicLoop(Zs(i,"bgm.loop",!0)),this.setBackgroundMusicFadeTime(Zs(i,"bgm.fade",500)),this.backgroundMusic2=void 0,this._backgroundMusic2Volume=Zs(i,"bgm2.volume",1),this._backgroundMusic2Mute=Zs(i,"bgm2.mute",!1),this.setBackgroundMusic2Loop(Zs(i,"bgm2.loop",!0)),this.setBackgroundMusic2FadeTime(Zs(i,"bgm2.fade",500)),this.soundEffects=[],this._soundEffectsVolume=Zs(i,"soundEffect.volume",1),this.soundEffects2=[],this._soundEffects2Volume=Zs(i,"soundEffect2.volume",1);var s=Zs(i,"bgm.initial",void 0);s&&this.setCurrentBackgroundMusic(s);var p=Zs(i,"bgm2.initial",void 0);p&&this.setCurrentBackgroundMusic2(p)}destroy(){if(this.backgroundMusic&&this.backgroundMusic.destroy(),this.backgroundMusic=void 0,this.backgroundMusic2&&this.backgroundMusic2.destroy(),this.backgroundMusic2=void 0,this.soundEffects.length)for(var t=this.soundEffects.length-1;t>=0;t--)this.soundEffects[t].destroy();if(this.soundEffects.length=0,this.soundEffects2.length)for(var t=this.soundEffects2.length-1;t>=0;t--)this.soundEffects2[t].destroy();return this.soundEffects2.length=0,this.sound=void 0,this}get backgroundMusicMute(){return this._backgroundMusicMute}set backgroundMusicMute(t){this._backgroundMusicMute=t,this.backgroundMusic&&this.backgroundMusic.setMute(mute)}get backgroundMusicVolume(){return this._backgroundMusicVolume}set backgroundMusicVolume(t){this._backgroundMusicVolume=t,this.backgroundMusic&&this.backgroundMusic.setVolume(t)}get backgroundMusic2Mute(){return this._backgroundMusic2Mute}set backgroundMusic2Mute(t){this._backgroundMusic2Mute=t,this.backgroundMusic2&&this.backgroundMusic2.setMute(mute)}get backgroundMusic2Volume(){return this._backgroundMusic2Volume}set backgroundMusic2Volume(t){this._backgroundMusic2Volume=t,this.backgroundMusic2&&this.backgroundMusic2.setVolume(t)}get soundEffectsMute(){return this._soundEffectsMute}set soundEffectsMute(t){this._soundEffectsMute=t;for(var i=this.soundEffects,s=0,p=i.length;s<p;s++)i[s].setMute(t)}get soundEffectsVolume(){return this._soundEffectsVolume}set soundEffectsVolume(t){this._soundEffectsVolume=t;for(var i=this.soundEffects,s=0,p=i.length;s<p;s++)i[s].setVolume(t)}get soundEffects2Mute(){return this._soundEffects2Mute}set soundEffects2Mute(t){this._soundEffects2Mute=t;for(var i=this.soundEffects,s=0,p=soundEffects2.length;s<p;s++)i[s].setMute(t)}get soundEffects2Volume(){return this._soundEffects2Volume}set soundEffects2Volume(t){this._soundEffects2Volume=t;for(var i=this.soundEffects2,s=0,p=i.length;s<p;s++)i[s].setVolume(t)}}Object.assign(lG.prototype,oG);const rb=Phaser.Utils.Objects.GetValue;class Urt extends Bx{constructor(t,i){super(t,i),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.isRunning=rb(t,"isRunning",!1),this.timeScale=rb(t,"timeScale",1),this.now=rb(t,"now",0),this}toJSON(){return{isRunning:this.isRunning,timeScale:this.timeScale,now:this.now,tickingMode:this.tickingMode}}start(t){return t===void 0&&(t=0),this.delta=0,this.now=t,super.start(),this}seek(t){return this.now=t,this}setTimeScale(t){return this.timeScale=t,this}tick(t){return t*=this.timeScale,this.now+=t,this.delta=t,this.emit("update",this.now,this.delta),this}}class hG extends Urt{startTicking(){super.startTicking(),this.scene.sys.events.on("update",this.update,this)}stopTicking(){super.stopTicking(),this.scene&&this.scene.sys.events.off("update",this.update,this)}update(t,i){return!this.isRunning||this.timeScale===0?this:(this.tick(i),this)}}var ki=function(e,t){return t===void 0&&(t=.5),e<=t?e=e/t:e=1-(e-t)/(1-t),e};const uI=Phaser.Math.Clamp;class Vrt{constructor(t,i){this.setTimeline(t).reset(i)}setTimeline(t){return this.timeline=t,this}setName(t){return this.name=t,this}setCallbacks(t,i,s,p){return this.target=t,this.onStart=i,this.onProgress=s,this.onComplete=p,this}setDuration(t,i){return i===void 0&&(i=!1),this.duration=t,this.remainder=t,this.t=0,this.yoyo=i,this}setPaused(t){return this.isPaused=t,this}pause(){return this.isPaused=!0,this}resume(){return this.isPaused=!1,this}setRemoved(t){return this.removed=t,this}remove(){return this.removed=!0,this}seek(t){return this.remainder=this.duration*(1-t),this}reset(t){return this.setName(t.name).setDuration(t.duration,t.yoyo).setCallbacks(t.target,t.onStart,t.onProgress,t.onComplete).setPaused(!1).setRemoved(!1),this}onFree(){this.setTimeline().setCallbacks()}getProgress(){var t=1-this.remainder/this.duration;return t=uI(t,0,1),this.yoyo&&(t=ki(t)),t}setProgress(t){t=uI(t,0,1),this.remainder=this.duration*(1-t)}runCallback(t){t&&t(this.target,this.t,this)}update(t,i){if(this.removed)return!0;if(this.isPaused)return!1;this.remainder-=i,this.t=this.getProgress(),this.runCallback(this.onProgress);var s=this.remainder<=0;return s&&this.runCallback(this.onComplete),s}}let zrt=class extends Co{allocate(){return this.pop()}free(t){t.onFree(),this.push(t)}freeMultiple(t){for(var i=0,s=t.length;i<s;i++)this.free(t[i]);return this}};const Wrt=Phaser.Utils.Objects.GetValue,Yrt=new zrt;class Xrt extends hG{constructor(t,i){super(t,i),this.addedTimers=[],this.timers=[],this.timerPool=Wrt(i,"pool",Yrt)}shutdown(){this.isShutdown||(this.timerPool.freeMultiple(this.addedTimers).freeMultiple(this.timers),this.timerPool=void 0,this.addedTimers=void 0,this.timers=void 0,super.shutdown())}addTimer(t){var i=this.timerPool.allocate();return i?i.setTimeline(this).reset(t):i=new Vrt(this,t),this.addedTimers.push(i),i.runCallback(i.onStart),this.isRunning||this.start(),i}delayCall(t,i,s,p){var E=this.addTimer({duration:t,onComplete:function(n,T,r){s===void 0&&(s=[]),s.push(r),i.apply(p,s)}});return E}delayEvent(t,i){this.removeDelayEvent(i);var s=this.delayCall(t,function(){this.removeDelayEvent(i),this.emit(i)},[],this);return this.once(`_remove.${i}`,function(){s.remove(),s=void 0}),this}removeDelayEvent(t){return this.emit(`_remove.${t}`),this}getTimers(t){for(var i=[],s=[this.addedTimers,this.timers],p=0,E=s.length;p<E;p++)for(var n=s[p],T=0,r=n.length;T<r;T++){var o=n[T];o.name===t&&i.push(o)}return i}update(t,i){if(super.update(t,i),!!this.isRunning){this.timers.push(...this.addedTimers),this.addedTimers.length=0;for(var s=[],p=0,E=this.timers.length;p<E;p++){var n=this.timers[p],T=n.update(this.now,this.delta);T?this.timerPool.free(n):s.push(n)}this.timers=s,this.timers.length===0&&this.addedTimers.length===0&&this.complete()}}}const Hrt="_wait.complete",$rt="_remove.wait";var Krt=function(e,t,i,s,p){var E=_d(e),n=E.time.delayedCall(t,function(){E.sys.events.once("preupdate",function(){i.call(s,p)})});return n};let uG=class{constructor(t){t||(this.setEventEmitter(!0),t=this),this.parent=t,this.waitId=0,this.waitCompleteEventName=Hrt,this.removeWaitEventsEventName=$rt}destroy(){this.removeWaitEvents(),this.clearWaitCompleteCallbacks(),this.parent=null}waitEvent(t,i,s){var p=this.getWaitCompleteTriggerCallback(s);return t.once(i,p,this),this.parent.once(this.removeWaitEventsEventName,function(){t.off(i,p,this)}),this.parent}getWaitCompleteTriggerCallback(t){t===void 0&&(t=!0);var i=this.waitId,s=this,p=function(){i<s.waitId||(s.waitId++,s.removeWaitEvents(),s.parent.emit(s.waitCompleteEventName))};if(t){var E=function(){Krt(s.parent,0,p)};return E}else return p}removeWaitEvents(){return this.parent.emit(this.removeWaitEventsEventName),this}addWaitCompleteCallback(t,i){return this.parent.on(this.waitCompleteEventName,t,i),this}clearWaitCompleteCallbacks(){return this.parent.off(this.waitCompleteEventName),this}};Object.assign(uG.prototype,kp);const Zrt={waitTime(e){var t=this.parent.timeline;return t.delayEvent(e,"delay"),this.parent.once(this.removeWaitEventsEventName,function(){t.removeDelayEvent("delay")}),this.waitEvent(t,"delay")}};var Jrt=function(e,t){var i=`(?<!\\\\)\\${t}`,s=`\\${t}`;return e.split(new RegExp(i,"g")).map(function(p){return p.replace(s,t)})};const jrt={setClickTarget(e){return this.clickTarget=e,e?Uu(e)?this.touchEE=e.input:this.touchEE=e.setInteractive():this.touchEE=null,this},clearClickTarget(){return this.setClickTarget(),this},setClickShortcutKeys(e){return this.clickShortcutKeys=e,this},clearClickShortcutKeys(){return this.setClickShortcutKeys(),this},waitClick(){var e=this.touchEE,t=this.clickShortcutKeys;return e||t?(e&&this.waitEvent(e,"pointerdown"),t&&this.waitKeyDown(t)):this.waitTime(0),this},waitKeyDown(e){var t=this.scene.input.keyboard;if(typeof e=="string"){if(e.indexOf("|")===-1)return this.waitEvent(t,`keydown-${e.toUpperCase()}`);for(var i=Jrt(e,"|"),s=0,p=i.length;s<p;s++)this.waitEvent(t,`keydown-${i[s].toUpperCase()}`);return this.parent}else return this.waitEvent(t,"keydown")}},Qrt={waitGameObjectTweenComplete(e,t,i){var s=this.parent.getGameObjectTweenTask(e,t,i);return s?this.waitEvent(s,"complete"):this.waitTime(0)},waitGameObjectDataFlag(e,t,i,s){var p=this.parent.getGameObject(e,t);if(!p)return this.waitTime(0);if(p.getData(i)===s)return this.waitTime(0);var E=`changedata-${i}`,n=function(T,r,o){r=!!r,r===s&&T.emit("_dataFlagMatch")};return p.on(E,n),this.parent.once(this.removeWaitEventsEventName,function(){p.off(E,n)}),this.waitEvent(p,"_dataFlagMatch")},waitGameObjectDestroy(e,t){var i=this.parent.getGameObject(e,t);return i?this.waitEvent(i,"destroy"):this.waitTime(0)},waitGameObjectManagerEmpty(e){if(e){var t=this.parent.getGameObjectManager(e);return t?this.waitEvent(t,"empty"):this.waitTime(0)}else{var i=this.parent.gameObjectManagers,s=!1;for(var p in i)s=!0,this.waitEvent(i[p],"empty");return s?this.parent:this.waitTime(0)}}},qrt={setCameraTarget(e){return this.cameraTarget=e,this},clearCameraTarget(){return this.setCameraTarget(),this},waitCameraEffectComplete(e,t){var i;if(t?i=this.scene.cameras.getCamera(t):i=this.cameraTarget,!i)return this.waitTime(0);var s,p;switch(e){case"camera.fadein":s=i.fadeEffect,p="camerafadeincomplete";break;case"camera.fadeout":s=i.fadeEffect,p="camerafadeoutcomplete";break;case"camera.flash":s=i.flashEffect,p="cameraflashcomplete";break;case"camera.shake":s=i.shakeEffect,p="camerashakecomplete";break;case"camera.zoom":s=i.zoomEffect,p="camerazoomcomplete";break;case"camera.rotate":s=i.rotateToEffect,p="camerarotatecomplete";break;case"camera.scroll":s=i.panEffect,p="camerapancomplete";break}return s.isRunning?this.waitEvent(i,p):this.waitTime(0)}},_rt={waitSoundEffectComplete(){if(!this.parent.soundManager)return this.waitTime(0);var e=this.parent.soundManager.getLastSoundEffect();return e?this.waitEvent(e,"complete"):this.waitTime(0)},waitSoundEffect2Complete(){if(!this.parent.soundManager)return this.waitTime(0);var e=this.parent.soundManager.getLastSoundEffect2();return e?this.waitEvent(e,"complete"):this.waitTime(0)},waitBackgroundMusicComplete(){if(!this.parent.soundManager)return this.waitTime(0);var e=this.parent.soundManager.getBackgroundMusic();return e?this.waitEvent(e,"complete"):this.waitTime(0)},waitBackgroundMusic2Complete(){if(!this.parent.soundManager)return this.waitTime(0);var e=this.parent.soundManager.getBackgroundMusic2();return e?this.waitEvent(e,"complete"):this.waitTime(0)}};var tnt=function(e){if(!e)return this.waitTime(0);var t=!1;for(var i in e)switch(i){case"time":t=!0,this.waitTime(e.time);break;case"click":t=!0,this.waitClick();break;case"key":t=!0,this.waitKeyDown(e.key);break;case"bgm":t=!0,this.waitBackgroundMusicComplete();break;case"bgm2":t=!0,this.waitBackgroundMusic2Complete();break;case"se":t=!0,this.waitSoundEffectComplete();break;case"se2":t=!0,this.waitSoundEffect2Complete();break;case"camera":t=!0,this.waitCameraEffectComplete(`camera.${e.camera.toLowerCase()}`,e.cameraName);break;default:var s=i.split(".");if(s.length===2){var p=s[0],E=s[1],n=this.parent.getGameObjectManager(void 0,p);if(!n)continue;if(E==="destroy")return this.waitGameObjectDestroy(void 0,p);var T=n.getProperty(p,E);if(typeof T=="number"){t=!0,this.waitGameObjectTweenComplete(void 0,p,E);continue}var r=E,o=r.startsWith("!");if(o&&(r=r.substring(1)),n.hasData(p,E)){t=!0,this.waitGameObjectDataFlag(void 0,p,r,!o);continue}this.waitEvent(gameObject,E);continue}else s.length;break}return t||this.waitTime(0),this.parent},fG={waitAny:tnt};Object.assign(fG,Zrt,jrt,Qrt,qrt,_rt);class dG extends uG{constructor(t,i){super(t),this.waitCompleteEventName=Ti(i,"completeEventName",this.waitCompleteEventName),this.setClickTarget(Ti(i,"clickTarget",this.scene)),this.setClickShortcutKeys(Ti(i,"clickShortcutKeys",void 0)),this.setCameraTarget(Ti(i,"camera",this.scene.cameras.main))}get clickTarget(){return this.parent.clickTarget}set clickTarget(t){this.parent.clickTarget=t}get clickShortcutKeys(){return this.parent.clickShortcutKeys}set clickShortcutKeys(t){this.parent.clickShortcutKeys=t}get cameraTarget(){return this.parent.cameraTarget}set cameraTarget(t){this.parent.cameraTarget=t}destroy(){this.clearClickTarget(),this.clearClickShortcutKeys(),this.clearCameraTarget(),super.destroy()}get scene(){return this.parent.managersScene}}Object.assign(dG.prototype,fG);const W0=Phaser.Utils.Objects.GetValue;var ent=function(e,t){this.clickTarget=void 0,this.clickShortcutKeys=void 0,this.cameraTarget=void 0,this.managersScene=e,this.gameObjectManagers={};var i=W0(t,"layers",!1);if(i!==!1){var s=new Ix(e,{name:"LAYER",layers:i,rootLayer:W0(t,"rootLayer",void 0),depth:W0(t,"layerDepth",void 0)});this.addGameObjectManager(s),this.layerManager=s}var p=W0(t,"sounds");return p!==!1&&(this.soundManager=new lG(e,p)),this.timeline=new Xrt(this),this.waitEventManager=new dG(this,t),this},int=function(e){this.timeline.timeScale=e;for(var t in this.gameObjectManagers)this.gameObjectManagers[t].setTimeScale(e);return this},rnt=function(){return this.timeline.timeScale},nnt=function(e){this.waitEventManager.destroy(),this.waitEventManager=void 0,delete this.gameObjectManagers.layer;for(var t in this.gameObjectManagers)this.gameObjectManagers[t].destroy(e),delete this.gameObjectManagers[t];this.layerManager&&(this.layerManager.destroy(e),this.layerManager=void 0),this.soundManager&&(this.soundManager.destroy(),this.soundManager=void 0),this.timeline&&(this.timeline.destroy(),this.timeline=void 0),this.clickTarget=void 0,this.clickShortcutKeys=void 0,this.cameraTarget=void 0,this.managersScene=void 0};const cG={addGameObjectManager(e,t){var i;return e instanceof Hd?i=e:typeof e=="string"?(i=t,i.name=e):(e===void 0&&(e={}),t===void 0&&(t=Hd),e.createGameObjectScope||(e.createGameObjectScope=this),i=new t(this.managersScene,e)),this.gameObjectManagers[i.name]=i,this},getGameObjectManager(e,t){if(e){var i=this.gameObjectManagers[e];return i}else{t&&t.charAt(0)==="!"&&(t=t.substring(1));for(var e in this.gameObjectManagers){var i=this.gameObjectManagers[e];if(i.has(t))return i}}},getGameObjectManagerNames(){var e=[];for(var t in this.gameObjectManagers)e.push(t);return e},getGameObjectManagerName(e){var t=this.getGameObjectManager(void 0,e);if(t)return t.name},hasGameObjectMananger(e){return e in this.gameObjectManagers}},snt={createGameObject(e,t,...i){return this.getGameObjectManager(e,t).add(t,...i),this},destroyGameObject(e,t){var i=this.getGameObjectManager(e,t);return t===void 0?i.removeAll():i.remove(t),this},hasGameObject(e,t){return!!this.getGameObjectManager(e,t)},callGameObjectMethod(e,t,i,...s){return this.getGameObjectManager(e,t).call(t,i,...s),this},setGameObjectProperty(e,t,i,s){return this.getGameObjectManager(e,t).setProperty(t,i,s),this},easeGameObjectProperty(e,t,i){return this.getGameObjectManager(e,t).easeProperty(t,i),this},getGameObjectTweenTask(e,t,i){return this.getGameObjectManager(e,t).getTweenTask(t,i)},getGameObject(e,t,i){var s=this.getGameObjectManager(e,t);if(!s)return i;if(typeof t=="string")return s.getGO(t);i===void 0&&(i=[]);var p=t;p===void 0&&(p=Object.keys(s.bobs));for(var E=Array.isArray(i),n=0,T=p.length;n<T;n++){t=p[n];var r=s.getGO(t);r&&(E?i.push(r):i[t]=r)}return i},addGameObject(e,t,i){var s=this.getGameObjectManager(e,t);if(typeof t=="string")s.addGO(t,i);else{var p=t;for(t in p)s.addGO(t,p[t])}return this},drawGameObjectsBounds(e,t,i){e instanceof Phaser.GameObjects.Graphics&&(i=t,t=e,e=void 0),e===void 0&&(e=this.getGameObjectManagerNames()),Array.isArray(e)||(e=[e]);for(var s=0,p=e.length;s<p;s++)this.getGameObjectManager(e[s]).drawGameObjectsBounds(t,i);return this}};var ant=function(e){class t extends e{}var i={initManagers:ent,setTimeScale:int,getTimeScale:rnt,destroyManagers:nnt};return Object.assign(t.prototype,i,cG,snt),t},vG={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,i="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(i=!1));function p(r,o,x){this.fn=r,this.context=o,this.once=x||!1}function E(r,o,x,d,h){if(typeof x!="function")throw new TypeError("The listener must be a function");var l=new p(x,d||r,h),a=i?i+o:o;return r._events[a]?r._events[a].fn?r._events[a]=[r._events[a],l]:r._events[a].push(l):(r._events[a]=l,r._eventsCount++),r}function n(r,o){--r._eventsCount===0?r._events=new s:delete r._events[o]}function T(){this._events=new s,this._eventsCount=0}T.prototype.eventNames=function(){var o=[],x,d;if(this._eventsCount===0)return o;for(d in x=this._events)t.call(x,d)&&o.push(i?d.slice(1):d);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(x)):o},T.prototype.listeners=function(o){var x=i?i+o:o,d=this._events[x];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,l=d.length,a=new Array(l);h<l;h++)a[h]=d[h].fn;return a},T.prototype.listenerCount=function(o){var x=i?i+o:o,d=this._events[x];return d?d.fn?1:d.length:0},T.prototype.emit=function(o,x,d,h,l,a){var f=i?i+o:o;if(!this._events[f])return!1;var c=this._events[f],u=arguments.length,v,g;if(c.fn){switch(c.once&&this.removeListener(o,c.fn,void 0,!0),u){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,x),!0;case 3:return c.fn.call(c.context,x,d),!0;case 4:return c.fn.call(c.context,x,d,h),!0;case 5:return c.fn.call(c.context,x,d,h,l),!0;case 6:return c.fn.call(c.context,x,d,h,l,a),!0}for(g=1,v=new Array(u-1);g<u;g++)v[g-1]=arguments[g];c.fn.apply(c.context,v)}else{var m=c.length,y;for(g=0;g<m;g++)switch(c[g].once&&this.removeListener(o,c[g].fn,void 0,!0),u){case 1:c[g].fn.call(c[g].context);break;case 2:c[g].fn.call(c[g].context,x);break;case 3:c[g].fn.call(c[g].context,x,d);break;case 4:c[g].fn.call(c[g].context,x,d,h);break;default:if(!v)for(y=1,v=new Array(u-1);y<u;y++)v[y-1]=arguments[y];c[g].fn.apply(c[g].context,v)}}return!0},T.prototype.on=function(o,x,d){return E(this,o,x,d,!1)},T.prototype.once=function(o,x,d){return E(this,o,x,d,!0)},T.prototype.removeListener=function(o,x,d,h){var l=i?i+o:o;if(!this._events[l])return this;if(!x)return n(this,l),this;var a=this._events[l];if(a.fn)a.fn===x&&(!h||a.once)&&(!d||a.context===d)&&n(this,l);else{for(var f=0,c=[],u=a.length;f<u;f++)(a[f].fn!==x||h&&!a[f].once||d&&a[f].context!==d)&&c.push(a[f]);c.length?this._events[l]=c.length===1?c[0]:c:n(this,l)}return this},T.prototype.removeAllListeners=function(o){var x;return o?(x=i?i+o:o,this._events[x]&&n(this,x)):(this._events=new s,this._eventsCount=0),this},T.prototype.off=T.prototype.removeListener,T.prototype.addListener=T.prototype.on,T.prefixed=i,T.EventEmitter=T,e.exports=T})(vG);var ont=vG.exports;const lnt=vx(ont);class pG extends lnt{shutdown(){this.removeAllListeners()}destroy(){this.removeAllListeners()}}const gG={setEventEmitter(e,t){return t===void 0&&(t=pG),this._privateEE=e===!0||e===void 0,this._eventEmitter=this._privateEE?new t:e,this},destroyEventEmitter(){return this._eventEmitter&&this._privateEE&&this._eventEmitter.shutdown(),this},getEventEmitter(){return this._eventEmitter},on:function(){return this._eventEmitter&&this._eventEmitter.on.apply(this._eventEmitter,arguments),this},once:function(){return this._eventEmitter&&this._eventEmitter.once.apply(this._eventEmitter,arguments),this},off:function(){return this._eventEmitter&&this._eventEmitter.off.apply(this._eventEmitter,arguments),this},emit:function(e){return this._eventEmitter&&e&&this._eventEmitter.emit.apply(this._eventEmitter,arguments),this},addListener:function(){return this._eventEmitter&&this._eventEmitter.addListener.apply(this._eventEmitter,arguments),this},removeListener:function(){return this._eventEmitter&&this._eventEmitter.removeListener.apply(this._eventEmitter,arguments),this},removeAllListeners:function(){return this._eventEmitter&&this._eventEmitter.removeAllListeners.apply(this._eventEmitter,arguments),this},listenerCount:function(){return this._eventEmitter?this._eventEmitter.listenerCount.apply(this._eventEmitter,arguments):0},listeners:function(){return this._eventEmitter?this._eventEmitter.listeners.apply(this._eventEmitter,arguments):[]},eventNames:function(){return this._eventEmitter?this._eventEmitter.eventNames.apply(this._eventEmitter,arguments):[]}};var hnt=/^\s*-?(\d*\.?\d+|\d+\.?\d*)(e[-+]?\d+)?\s*$/i,unt=/^0x[0-9A-F]+$/i,qw=function(e){if(typeof e!="string")return e;if(e==="")e=null;else if(hnt.test(e))e=parseFloat(e);else if(unt.test(e))e=parseInt(e,16);else switch(e){case"false":e=!1;break;case"true":e=!0;break;case"null":e=null;break;case"undefined":e=void 0;break}return e};let mG=class{constructor(t){this.setEventEmitter(Ti(t,"eventEmitter",void 0)),this.setValueConverter(Ti(t,"valueConvert",!0)),this.setLoopEnable(Ti(t,"loop",!1)),this.setMultipleLinesTagEnable(Ti(t,"multipleLinesTag",!1));var i=Ti(t,"delimiters","<>");this.setDelimiters(i[0],i[1]),this.setTranslateTagNameCallback(Ti(t,"translateTagNameCallback")),this.isRunning=!1,this.isPaused=!1,this.skipEventFlag=!1,this.justCompleted=!1,this.lastTagStart=null,this.lastTagEnd=null,this.lastContent=null}shutdown(){this.destroyEventEmitter()}destroy(){this.shutdown()}setMultipleLinesTagEnable(t){return t===void 0&&(t=!0),this.multipleLinesTagEnable=t,this}setDelimiters(t,i){i===void 0&&(i=t[1],t=t[0]),this.delimiterLeft=t,this.delimiterRight=i,t=Xd(this.delimiterLeft),i=Xd(this.delimiterRight);var s=this.multipleLinesTagEnable?"gs":"gi";return this.reSplit=RegExp(`${t}(.+?)${i}`,s),this}setTranslateTagNameCallback(t){return this.translateTagNameCallback=t,this}setValueConverter(t){return t===!0?t=qw:t||(t=fnt),this.valueConverter=t,this}setLoopEnable(t){return t===void 0&&(t=!0),this.loopEnable=t,this}setSource(t){return this.source=t,this}resetIndex(t){return t===void 0&&(t=0),this.progressIndex=t,this.reSplit.lastIndex=t,this.lastTagStart=null,this.lastTagEnd=null,this.lastContent=null,this.justCompleted=!1,this.isRunning=!1,this}start(t){return this.setSource(t).restart(),this}restart(){this.resetIndex().next()}next(){if(this.isPaused&&this.onResume(),this.isRunning)return this;if(this.isRunning=!0,this.justCompleted)return this.isRunning=!1,this;this.reSplit.lastIndex===0&&this.onStart();var t=this.source,i=t.length;for(this.reSplit.lastIndex=this.progressIndex;;){var s=this.reSplit.exec(t);if(!s){if(this.progressIndex<i&&(this.onContent(t.substring(this.progressIndex,i)),this.isPaused)){this.progressIndex=i;break}this.onComplete(),this.isRunning=!1;return}var p=this.reSplit.lastIndex,E=p-s[0].length;if(this.progressIndex<E&&(this.onContent(t.substring(this.progressIndex,E)),this.isPaused)){this.progressIndex=E;break}if(this.lastTagSource=s[0],this.onTag(s[1]),this.lastTagSource=void 0,this.progressIndex=p,this.isPaused)break}return this.isRunning=!1,this}skipEvent(){return this.skipEventFlag=!0,this}pause(){return this.isPaused||this.onPause(),this}pauseUntilEvent(t,i){return this.isPaused?this:(this.pause(),t.once(i,function(){this.next()},this),this)}onContent(t){this.skipEventFlag=!1,this.emit("content",t),this.lastContent=t}onTag(t){}onStart(){this.isRunning=!0,this.emit("start",this)}onComplete(){this.isRunning=!1,this.justCompleted=!0,this.emit("complete",this),this.loopEnable&&this.resetIndex()}onPause(){this.isPaused=!0,this.emit("pause",this)}onResume(){this.isPaused=!1,this.emit("resume",this)}};const fnt=function(e){return e};Object.assign(mG.prototype,gG);var dnt=function(e,t,i){if(e==null)return[];t===void 0&&(t=qw),i===void 0&&(i=",");for(var s=e.split(i),p=0,E=s.length;p<E;p++)s[p]=t(s[p]);return s};class cnt extends mG{constructor(t){t===void 0&&(t={}),t.hasOwnProperty("multipleLinesTag")||(t.multipleLinesTag=!1),super(t),this.setTagExpression(Ti(t,"regex.tag",void 0)),this.setValueExpression(Ti(t,"regex.value",void 0));var i=Ti(t,"delimiters","<>");this.setDelimiters(i[0],i[1])}setTagExpression(t){return t||(t=Y0),this.tagExpression=t,this}setValueExpression(t){return t||(t=Y0),this.valueExpression=t,this}setDelimiters(t,i){super.setDelimiters(t,i);var s=`(${this.tagExpression})(=(${this.valueExpression}))?`;if(this.reTag=RegExp(s,"i"),this.tagExpression!==Y0||this.valueExpression!==Y0){var p=`${this.tagExpression}(=${this.valueExpression})?`,E=`/${this.tagExpression}`;t=Xd(this.delimiterLeft),i=Xd(this.delimiterRight);var n=this.multipleLinesTagEnable?"gs":"gi";this.reSplit=RegExp(`${t}((${p})|(${E}))${i}`,n)}return this}onTag(t){var i=t.match(this.reTag),s=i[1],p=s.charAt(0)==="/";if(p&&(s=s.substring(1,s.length)),this.translateTagNameCallback&&(s=this.translateTagNameCallback(s)),this.skipEventFlag=!1,p)this.emit(`-${s}`),this.skipEventFlag||this.emit("-",s),this.lastTagEnd=s;else{var E=dnt(i[3],this.valueConverter);this.emit(`+${s}`,...E),this.skipEventFlag||this.emit("+",s,...E),this.lastTagStart=s}}}const Y0="[^=]+";var vnt=function(e,t,i){var s="color",p;t.on("start",function(){p=e.textStyle.color}).on(`+${s}`,function(E){e.textStyle.setColor(E),t.skipEvent()}).on(`-${s}`,function(){e.textStyle.setColor(p),t.skipEvent()}).on("complete",function(){e.textStyle.setColor(p)})},pnt=function(e,t,i){var s="stroke",p;t.on("start",function(){p=e.textStyle.stroke,e.textStyle.setStrokeStyle(null)}).on(`+${s}`,function(E){E===void 0&&(E=p),e.textStyle.setStrokeStyle(E),t.skipEvent()}).on(`-${s}`,function(){e.textStyle.setStrokeStyle(null),t.skipEvent()}).on("complete",function(){e.textStyle.setStrokeStyle(p)})},gnt=function(e,t,i){var s="b";t.on("start",function(){e.textStyle.setBold(!1)}).on(`+${s}`,function(){e.textStyle.setBold(!0),t.skipEvent()}).on(`-${s}`,function(){e.textStyle.setBold(!1),t.skipEvent()})},mnt=function(e,t,i){var s="i";t.on("start",function(){e.textStyle.setItalic(!1)}).on(`+${s}`,function(){e.textStyle.setItalic(!0),t.skipEvent()}).on(`-${s}`,function(){e.textStyle.setItalic(!1),t.skipEvent()})},ynt=function(e,t,i){var s="size",p;t.on("start",function(){p=e.textStyle.fontSize}).on(`+${s}`,function(E){e.textStyle.setFontSize(E),t.skipEvent()}).on(`-${s}`,function(){e.textStyle.setFontSize(p),t.skipEvent()}).on("complete",function(){e.textStyle.setFontSize(p)})},xnt=function(e,t,i){var s="y",p;t.on("start",function(){p=e.textStyle.offsetY,e.textStyle.setOffsetY(0)}).on(`+${s}`,function(E){E===void 0&&(E=p),e.textStyle.setOffsetY(E),t.skipEvent()}).on(`-${s}`,function(){e.textStyle.setOffsetY(0),t.skipEvent()}).on("complete",function(){e.textStyle.setOffsetY(0)})},Tnt=function(e,t,i){var s="x",p;t.on("start",function(){p=e.textStyle.offsetY,e.textStyle.setOffsetX(0)}).on(`+${s}`,function(E){E===void 0&&(E=p),e.textStyle.setOffsetX(E),t.skipEvent()}).on(`-${s}`,function(){e.textStyle.setOffsetX(0),t.skipEvent()}).on("complete",function(){e.textStyle.setOffsetX(0)})},Cnt=function(e,t,i){var s="left",p;t.on("start",function(){p=e.textStyle.leftSpace,e.textStyle.setLeftSpace(0)}).on(`+${s}`,function(E){E===void 0&&(E=p),e.textStyle.setLeftSpace(E),t.skipEvent()}).on(`-${s}`,function(){e.textStyle.setLeftSpace(0),t.skipEvent()}).on("complete",function(){e.textStyle.setLeftSpace(0)})},Snt=function(e,t,i){var s="right",p;t.on("start",function(){p=e.textStyle.rightSpace,e.textStyle.setRightSpace(0)}).on(`+${s}`,function(E){E===void 0&&(E=p),e.textStyle.setRightSpace(E),t.skipEvent()}).on(`-${s}`,function(){e.textStyle.setRightSpace(0),t.skipEvent()}).on("complete",function(){e.textStyle.setRightSpace(0)})},Ent=function(e,t,i){var s="shadow",p;t.on("start",function(){p=e.textStyle.shadowColor,e.textStyle.setShadowColor(null)}).on(`+${s}`,function(E){E===void 0&&(E=p),e.textStyle.setShadowColor(E),t.skipEvent()}).on(`-${s}`,function(){e.textStyle.setShadowColor(null),t.skipEvent()}).on("complete",function(){e.textStyle.setShadowColor(p)})},bnt=function(e,t,i){var s="align";t.on(`+${s}`,function(p){e.textStyle.setAlign(p),t.skipEvent()}).on(`-${s}`,function(){e.textStyle.setAlign(),t.skipEvent()}).on("complete",function(){e.textStyle.setAlign()})},Pnt=function(e,t,i){var s="img";t.on(`+${s}`,function(p){var E=e.imageManager.get(p);E&&z9.call(e,E.key,E.frame,{width:E.width,hieght:E.height,leftSpace:E.left,rightSpace:E.right,color:E.tintFill?e.textStyle.color:void 0}),t.skipEvent()}).on(`-${s}`,function(){t.skipEvent()})},wnt=function(e,t,i){var s="space";t.on(`+${s}`,function(p){W9.call(e,p),t.skipEvent()}).on(`-${s}`,function(){t.skipEvent()})},Mnt=function(e,t,i){var s="speed";t.on(`+${s}`,function(p){fI(e,p),t.skipEvent()}).on(`-${s}`,function(){fI(e,void 0),t.skipEvent()})},Rnt=function(e){this.typeWriter.setTypingSpeed(e)},fI=function(e,t){Se.call(e,"speed",Rnt,t,e)},Ant=function(e,t,i){var s="se";t.on(`+${s}`,function(p,E){Se.call(e,s,Ont,[p,E],e),t.skipEvent()}).on(`-${s}`,function(){t.skipEvent()});var s="se2";t.on(`+${s}`,function(p,E){Se.call(e,s,Lnt,[p,E],e),t.skipEvent()}).on(`-${s}`,function(){t.skipEvent()})},Ont=function(e){if(!this.skipSoundEffect){var t=e[0],i=e[1];this.soundManager.playSoundEffect(t),i&&this.soundManager.fadeInSoundEffect(i)}},Lnt=function(e){if(!this.skipSoundEffect){var t=e[0],i=e[1];this.soundManager.playSoundEffect2(t),i&&this.soundManager.fadeInSoundEffect2(i)}},Dnt=function(e,t,i){var s="se.fadein";t.on(`+${s}`,function(p){Se.call(e,s,Fnt,p,e),t.skipEvent()}).on(`-${s}`,function(){t.skipEvent()});var s="se2.fadein";t.on(`+${s}`,function(p){Se.call(e,s,Int,p,e),t.skipEvent()}).on(`-${s}`,function(){t.skipEvent()})},Fnt=function(e){this.soundManager.fadeInSoundEffect(e)},Int=function(e){this.soundManager.fadeInSoundEffect2(e)},Bnt=function(e,t,i){var s="se.fadeout";t.on(`+${s}`,function(p,E){E=E==="stop",Se.call(e,s,Gnt,[p,E],e),t.skipEvent()}).on(`-${s}`,function(){t.skipEvent()});var s="se2.fadeout";t.on(`+${s}`,function(p,E){E=E==="stop",Se.call(e,s,knt,[p,E],e),t.skipEvent()}).on(`-${s}`,function(){t.skipEvent()})},Gnt=function(e){this.soundManager.fadeOutSoundEffect(...e)},knt=function(e){this.soundManager.fadeOutSoundEffect2(...e)},Nnt=function(e,t,i){var s="se.volume";t.on(`+${s}`,function(p){Se.call(e,s,Unt,p,e),t.skipEvent()}).on(`-${s}`,function(){t.skipEvent()});var s="se2.volume";t.on(`+${s}`,function(p){Se.call(e,s,Vnt,p,e),t.skipEvent()}).on(`-${s}`,function(){t.skipEvent()})},Unt=function(e){this.soundManager.setSoundEffectVolume(e,!0)},Vnt=function(e){this.soundManager.setSoundEffectVolume2(e,!0)},znt=function(e,t,i){var s="se.mute";t.on(`+${s}`,function(){Se.call(e,s,Wnt,void 0,e),t.skipEvent()}).on(`-${s}`,function(){t.skipEvent()});var s="se2.mute";t.on(`+${s}`,function(){Se.call(e,s,Ynt,void 0,e),t.skipEvent()}).on(`-${s}`,function(){t.skipEvent()});var s="se.unmute";t.on(`+${s}`,function(){Se.call(e,s,Xnt,void 0,e),t.skipEvent()}).on(`-${s}`,function(){t.skipEvent()});var s="se2.unmute";t.on(`+${s}`,function(){Se.call(e,s,Hnt,void 0,e),t.skipEvent()}).on(`-${s}`,function(){t.skipEvent()})},Wnt=function(){this.soundManager.setSoundEffectMute(!0)},Ynt=function(){this.soundManager.setSoundEffect2Mute(!0)},Xnt=function(){this.soundManager.setSoundEffectMute(!1)},Hnt=function(){this.soundManager.setSoundEffect2Mute(!1)},$nt=function(e,t,i){var s="bgm";t.on(`+${s}`,function(p,E){Se.call(e,s,Knt,[p,E],e),t.skipEvent()}).on(`-${s}`,function(){Se.call(e,"bgm.stop",Znt,void 0,e),t.skipEvent()});var s="bgm2";t.on(`+${s}`,function(p,E){Se.call(e,s,Jnt,[p,E],e),t.skipEvent()}).on(`-${s}`,function(){Se.call(e,"bgm2.stop",jnt,void 0,e),t.skipEvent()})},Knt=function(e){var t=e[0],i=e[1];this.soundManager.playBackgroundMusic(t),i&&this.soundManager.fadeInBackgroundMusic(i)},Znt=function(){this.soundManager.stopBackgroundMusic()},Jnt=function(e){var t=e[0],i=e[1];this.soundManager.playBackgroundMusic2(t),i&&this.soundManager.fadeInBackgroundMusic2(i)},jnt=function(){this.soundManager.stopBackgroundMusic2()},Qnt=function(e,t,i){var s="bgm.fadein";t.on(`+${s}`,function(p){Se.call(e,s,qnt,p,e),t.skipEvent()}).on(`-${s}`,function(){t.skipEvent()});var s="bgm2.fadein";t.on(`+${s}`,function(p){Se.call(e,s,_nt,p,e),t.skipEvent()}).on(`-${s}`,function(){t.skipEvent()})},qnt=function(e){this.soundManager.fadeInBackgroundMusic(e)},_nt=function(e){this.soundManager.fadeInBackgroundMusic2(e)},tst=function(e,t,i){var s="bgm.fadeout";t.on(`+${s}`,function(p,E){E=E==="stop",Se.call(e,s,est,[p,E],e),t.skipEvent()}).on(`-${s}`,function(){t.skipEvent()});var s="bgm2.fadeout";t.on(`+${s}`,function(p,E){E=E==="stop",Se.call(e,s,ist,[p,E],e),t.skipEvent()}).on(`-${s}`,function(){t.skipEvent()})},est=function(e){this.soundManager.fadeOutBackgroundMusic(...e)},ist=function(e){this.soundManager.fadeOutBackgroundMusic2(...e)},rst=function(e,t,i){var s="bgm.cross";t.on(`+${s}`,function(p,E){Se.call(e,s,nst,[p,E],e),t.skipEvent()}).on(`-${s}`,function(){t.skipEvent()});var s="bgm2.cross";t.on(`+${s}`,function(p,E){Se.call(e,s,sst,[p,E],e),t.skipEvent()}).on(`-${s}`,function(){t.skipEvent()})},nst=function(e){this.soundManager.crossFadeBackgroundMusic(...e)},sst=function(e){this.soundManager.crossFadeBackgroundMusic2(...e)},ast=function(e,t,i){var s="bgm.pause";t.on(`+${s}`,function(){Se.call(e,s,ost,void 0,e),t.skipEvent()}).on(`-${s}`,function(){Se.call(e,"bgm.resume",lst,void 0,e),t.skipEvent()});var s="bgm2.pause";t.on(`+${s}`,function(){Se.call(e,s,hst,void 0,e),t.skipEvent()}).on(`-${s}`,function(){Se.call(e,"bgm2.resume",ust,void 0,e),t.skipEvent()})},ost=function(){this.soundManager.pauseBackgroundMusic()},lst=function(){this.soundManager.resumeBackgroundMusic()},hst=function(){this.soundManager.pauseBackgroundMusic2()},ust=function(){this.soundManager.resumeBackgroundMusic2()},fst=function(e,t,i){var s="bgm.volume";t.on(`+${s}`,function(p){Se.call(e,s,dst,p,e),t.skipEvent()}).on(`-${s}`,function(){t.skipEvent()});var s="bgm2.volume";t.on(`+${s}`,function(p){Se.call(e,s,cst,p,e),t.skipEvent()}).on(`-${s}`,function(){t.skipEvent()})},dst=function(e){this.soundManager.setBackgroundMusicVolume(e)},cst=function(e){this.soundManager.setBackgroundMusicVolume2(e)},vst=function(e,t,i){var s="bgm.mute";t.on(`+${s}`,function(){Se.call(e,s,pst,void 0,e),t.skipEvent()}).on(`-${s}`,function(){t.skipEvent()});var s="bgm2.mute";t.on(`+${s}`,function(){Se.call(e,s,gst,void 0,e),t.skipEvent()}).on(`-${s}`,function(){t.skipEvent()});var s="bgm.unmute";t.on(`+${s}`,function(){Se.call(e,s,mst,void 0,e),t.skipEvent()}).on(`-${s}`,function(){t.skipEvent()});var s="bgm2.unmute";t.on(`+${s}`,function(){Se.call(e,s,yst,void 0,e),t.skipEvent()}).on(`-${s}`,function(){t.skipEvent()})},pst=function(){this.soundManager.setBackgroundMusicMute(!0)},gst=function(){this.soundManager.setBackgroundMusic2Mute(!0)},mst=function(){this.soundManager.setBackgroundMusicMute(!1)},yst=function(){this.soundManager.setBackgroundMusic2Mute(!1)},xst=function(e,t,i){var s="camera.fadein";t.on(`+${s}`,function(p,E,n,T){Se.call(e,s,Tst,[p,E,n,T],e),t.skipEvent()})},Tst=function(e){this.cameraTarget.fadeIn(...e)},Cst=function(e,t,i){var s="camera.fadeout";t.on(`+${s}`,function(p,E,n,T){Se.call(e,s,Sst,[p,E,n,T],e),t.skipEvent()})},Sst=function(e){this.cameraTarget.fadeOut(...e)},Est=function(e,t,i){var s="camera.shake";t.on(`+${s}`,function(p,E){Se.call(e,s,bst,[p,E],e),t.skipEvent()})},bst=function(e){this.cameraTarget.shake(...e)},Pst=function(e,t,i){var s="camera.flash";t.on(`+${s}`,function(p,E,n,T){Se.call(e,s,wst,[p,E,n,T],e),t.skipEvent()})},wst=function(e){this.cameraTarget.flash(...e)},Mst=function(e,t,i){var s="camera.zoom";t.on(`+${s}`,function(p){Se.call(e,s,Rst,p,e),t.skipEvent()}).on(`+${s}.to`,function(p,E,n){Se.call(e,"camera.zoom.to",Ast,[p,E,n],e),t.skipEvent()})},Rst=function(e){this.cameraTarget.setZoom(e)},Ast=function(e){this.cameraTarget.zoomTo(...e)};const dI=Phaser.Math.DegToRad;var Ost=function(e,t,i){var s="camera.rotate";t.on(`+${s}`,function(p){p=dI(p),Se.call(e,s,Lst,p,e),t.skipEvent()}).on(`+${s}.to`,function(p,E,n){p=dI(p),Se.call(e,"camera.rotate.to",Dst,[p,E,n],e),t.skipEvent()})},Lst=function(e){this.cameraTarget.setRotation(e)},Dst=function(e){var t=e[0],i=e[1],s=e[2];this.cameraTarget.rotateTo(t,!1,i,s)},Fst=function(e,t,i){var s="camera.scroll";t.on(`+${s}`,function(p,E){Se.call(e,s,Ist,[p,E],e),t.skipEvent()}).on(`+${s}.to`,function(p,E,n,T){Se.call(e,"camera.scroll.to",Bst,[p,E,n,T],e),t.skipEvent()})},Ist=function(e){this.cameraTarget.setScroll(...e)},Bst=function(e){var t=e[0],i=e[1],s=e[2],p=e[3],E=this.cameraTarget,n=E.scrollX,T=E.scrollY;E.setScroll(t,i),t+=E.centerX,i+=E.centerY,E.setScroll(n,T),E.pan(t,i,s,p)},Gst=function(e,t,i){var s="wait",p="click";t.on(`+${s}`,function(E){cI(e,E),t.skipEvent()}).on(`-${s}`,function(){t.skipEvent()}).on(`+${p}`,function(){cI(e,"click"),t.skipEvent()}).on(`-${p}`,function(){t.skipEvent()})},kst=function(e){this.typeWriter.wait(e)},cI=function(e,t){Se.call(e,"wait",kst,t,e)},Nst=function(e,t,i){var s="r";t.on(`+${s}`,function(){Gp.call(e,`
`),t.skipEvent()}).on(`-${s}`,function(){t.skipEvent()})},Ust=function(e,t,i){for(var s=["pagebreak","pb"],p=0,E=s.length;p<E;p++){var n=s[p];t.on(`+${n}`,function(){Gp.call(e,"\f"),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()})}},Vst=function(e,t,i){var s="content.off";t.on(`+${s}`,function(){t.setContentOutputEnable(!1),t.skipEvent()})},zst=function(e,t,i){var s="content.on";t.on(`+${s}`,function(){t.setContentOutputEnable(),t.skipEvent()})},Wst=function(e,t,i){t.on("content",function(s){if(t.contentOutputEnable)Gp.call(e,s);else{var p=`+${t.lastTagStart}`;e.emit(`parser.${p}#content`,t,s)}})},Yst=function(e,t,i){t.on("start",function(){e.emit("parser.start",t)}).on("+",function(s,...p){if(!t.skipEventFlag){var E=`+${s}`,n=p;e.emit(`parser.${E}`,t,...p,n),vI(e,E,n)}}).on("-",function(s){if(!t.skipEventFlag){var p=`-${s}`,E=[];e.emit(`parser.${p}`,t,E),vI(e,p,E)}}).on("complete",function(){e.emit("parser.complete",t)})},Xst=function(e,t){var i=`tag.${t}`;e==null?this.emit(i):this.emit(i,...e)},vI=function(e,t,i){Se.call(e,t,Xst,i,e)};const pI=[vnt,pnt,gnt,mnt,ynt,Ent,bnt,xnt,Tnt,Cnt,Snt,Pnt,wnt,Mnt,Ant,Dnt,Bnt,Nnt,znt,$nt,Qnt,tst,rst,ast,fst,vst,xst,Cst,Est,Pst,Mst,Ost,Fst,Gst,Nst,Ust,Vst,zst,Wst,Yst];var Hst=function(e,t,i){for(var s=0,p=pI.length;s<p;s++)pI[s](e,t,i)},$st=function(e,t){for(var i=e.commentLineStart,s=t.split(`
`),p=0,E=s.length;p<E;p++){var n=s[p];n===""||(n.trim().length===0||i&&n.startsWith(i))&&(s[p]="")}return s.join("")};const Kst=Phaser.Utils.Objects.GetValue;class Zst extends cnt{constructor(t,i){i===void 0&&(i={}),i.hasOwnProperty("delimiters")||(i.delimiters="[]"),super(i),Hst(t,this,i),this.setCommentLineStartSymbol(Kst(i,"comment","//")),this.setContentOutputEnable()}setCommentLineStartSymbol(t){return this.commentLineStart=t,this}setContentOutputEnable(t){return t===void 0&&(t=!0),this.contentOutputEnable=t,this}start(t){return super.start($st(this,t)),this}}const Jst={setDefaultTypingSpeed(e){return this.defaultSpeed=e,this},setTypingSpeed(e){return e===void 0&&(e=this.defaultSpeed),this.speed=e,this}},Gu="page.fadeout",YP="_remove.play",gI=[Gu,YP];var jst=function(){if(!this.fadeOutPageCallback||!this.children)return this.emit(Gu),this;var e=this.children.filter(function(s){return s.renderable}),t=this.fadeOutPageCallback(e,this.fadeOutPageDuration);if(!t)this.emit(Gu);else if(t.once)t.once("complete",function(){this.emit(Gu)},this);else if(t.then){var i=this;t.then(function(){i.emit(Gu)})}else this.emit(Gu);return this},kx=function(e,t){return new Promise(function(i,s){e.once(t,function(){i()})})},vn=function(e){return kx(e,"complete")},Qst=function(e){return this.children=e,this.index=0,this.isPageTyping=!0,this.onTypeStart&&this.onTypeStart(e),this.typing(),vn(this)};const qst="delay",yG="anim";var xG=function(e){e===void 0&&(e=0);var t=0;for(this.inTypingProcessLoop=!0;this.inTypingProcessLoop;){var i=this.getNextChild();if(!i){this.timeline.isRunning?this.timeline.once("complete",function(){this.isPageTyping=!1,this.emit("complete")},this):(this.isPageTyping=!1,this.emit("complete"));break}if(i.renderable){var s=this.animationConfig;if(s.duration>0){var p=this.timeline.addTimer({name:yG,target:i,duration:s.duration,yoyo:s.yoyo,onStart:s.onStart,onProgress:s.onProgress,onComplete:s.onComplete});this.skipTypingAnimation&&p.seek(1)}else s.onStart&&s.onStart(i,0);this.minSizeEnable&&this.textPlayer.setToMinSize(),this.textPlayer.emit("typing",i);var E=this.nextChild;if(E&&!(this.skipSpaceEnable&&ztt(E))){if(t+=this.speed+e,e=0,t>0){this.typingTimer=this.timeline.addTimer({name:qst,target:this,duration:t,onComplete:function(n,T,r){n.typingTimer=void 0,xG.call(n,r.remainder)}});break}}}else Wtt(i)&&i.exec()}this.minSizeEnable&&this.textPlayer.setToMinSize(),this.inTypingProcessLoop=!1},_st=function(){return this.timeline.pause(),this},tat=function(){return this.timeline.resume(),this},eat=function(){return this.isTypingPaused?this:(this.typingTimer?(this.typingTimer.pause(),this.isTypingPaused=!0):this.inTypingProcessLoop&&(this.inTypingProcessLoop=!1,this.isTypingPaused=!0),this)},iat=function(e){return this.isTypingPaused?(e===void 0&&(e=0),this.typingTimer?(this.isTypingPaused=!1,this.typingTimer.resume(),this.typingTimer.remainder+=e):this.isTypingPaused&&(this.isTypingPaused=!1,this.typing(e)),this):this},rat=function(e){switch(e){case"camera.fadein":case"camera.fadeout":case"camera.flash":case"camera.shake":case"camera.zoom":case"camera.rotate":case"camera.scroll":return!0;default:return!1}},nat=function(e,t){var i=t.split(".");return e.gameObjectManagers.hasOwnProperty(i[0])},sat=function(e,t,i,s){var p=e.waitEventManager,E=t.split("."),n=E[0],T=e.getGameObjectManager(n),r=`wait.${n}`;switch(E.length){case 1:p.waitGameObjectManagerEmpty(n),e.emit(r);return;case 2:var o=E[1];p.waitGameObjectDestroy(n,o),e.emit(r,o);return;case 3:var o=E[1],x=E[2],d=T.getProperty(o,x);if(typeof d=="number"){p.waitGameObjectTweenComplete(n,o,x),e.emit(r,o,x);return}var h=x,l=h.startsWith("!");if(l&&(h=h.substring(1)),T.hasData(o,h)){p.waitGameObjectDataFlag(n,o,h,!l),e.emit(r,o,h);return}else{p.waitTime(0);return}}};const aat=Phaser.Input.Keyboard.KeyCodes;var TG=function(e,t,i,s){var p=e.waitEventManager;p.clearWaitCompleteCallbacks().addWaitCompleteCallback(i,s),typeof t=="string"&&t.length>1&&t.indexOf("|")!==-1?t=t.split("|"):t=[t];for(var E=0,n=t.length;E<n;E++){var T=t[E];if(T==null||T==="wait"){var r=e.waitEventManager.getWaitCompleteTriggerCallback();e.emit("wait",r)}else if(typeof T=="number"||!isNaN(T)){var o=parseFloat(T);p.waitTime(o),e.emit("wait.time",o)}else if(T==="click")p.waitClick(),e.emit("wait.click");else if(T==="se"){p.waitSoundEffectComplete();var x=e.soundManager.getLastSoundEffect();e.emit("wait.music",x)}else if(T==="se2"){p.waitSoundEffect2Complete();var x=e.soundManager.getLastSoundEffect2();e.emit("wait.music",x)}else if(T==="bgm"){p.waitBackgroundMusicComplete();var x=e.soundManager.getBackgroundMusic();e.emit("wait.music",x)}else if(T==="bgm2"){p.waitBackgroundMusic2Complete();var x=e.soundManager.getBackgroundMusic2();e.emit("wait.music",x)}else if(aat.hasOwnProperty(T.toUpperCase()))p.waitKeyDown(T),e.emit("wait.keydown",T);else if(rat(T))p.waitCameraEffectComplete(T),e.emit("wait.camera",T);else if(nat(e,T))sat(e,T);else{var r=e.waitEventManager.getWaitCompleteTriggerCallback();e.emit(`wait.${T}`,r)}}},oat=function(e){return this.ignoreWait?this:(this.pauseTyping(),TG(this.textPlayer,e,this.resumeTyping,this),this)},lat=function(e){return e===void 0&&(e=!0),this.ignoreWait=e,this},hat=function(e){return e===void 0&&(e=!0),this.skipSpaceEnable=e,this},uat=function(e){if(e===void 0&&(e=!0),this.skipTypingAnimation=e,e)for(var t=this.timeline.getTimers(yG),i=0,s=t.length;i<s;i++)t[i].seek(1);return this},fat=function(e){if(e===void 0&&(e=!0),this.skipSoundEffect=e,e){var t=this.textPlayer._soundManager;t&&t.fadeOutAllSoundEffects(100,!0)}return this},dat=function(){return this.typingTimer&&this.typingTimer.seek(1),this},CG={fadeOutPage:jst,start:Qst,typing:xG,pause:_st,resume:tat,pauseTyping:eat,resumeTyping:iat,wait:oat,setIgnoreWait:lat,setSkipSpaceEnable:hat,setSkipTypingAnimation:uat,setSkipSoundEffect:fat,skipCurrentTypingDelay:dat};Object.assign(CG,Jst);const nd=Phaser.Utils.Objects.GetValue;class SG{constructor(t,i){this.setEventEmitter(),this.textPlayer=t,this.isPageTyping=!1,this.typingTimer=void 0,this.pauseTypingTimer=void 0,this.inTypingProcessLoop=!1,this.isTypingPaused=!1,this.setIgnoreWait(!1),this.setSkipTypingAnimation(!1),this.setTypingStartCallback(nd(i,"onTypingStart",vat)),this.setDefaultTypingSpeed(nd(i,"speed",250)),this.setTypingSpeed(),this.setSkipSpaceEnable(nd(i,"skipSpace",!1)),this.setAnimationConfig(nd(i,"animation",void 0)),this.setMinSizeEnable(nd(i,"minSizeEnable",!1)),this.setFadeOutPageCallback(nd(i,"fadeOutPage"))}destroy(){this.destroyEventEmitter(),this.textPlayer=void 0,this.typingTimer=void 0,this.pauseTypingTimer=void 0,this.onTypeStart=void 0,this.animationConfig=void 0}get timeline(){return this.textPlayer.timeline}setTypingStartCallback(t){return this.onTypeStart=t,this}setAnimationConfig(t){return t||(t={}),t.hasOwnProperty("duration")||(t.duration=0),t.hasOwnProperty("onStart")||(t.onStart=cat),this.animationConfig=t,this}setFadeOutPageCallback(t){return this.fadeOutPageCallback=t,this}setMinSizeEnable(t){return t===void 0&&(t=!0),this.minSizeEnable=t,this}getNextChild(){var t=this.nextChild;return this.index=Math.min(this.index+1,this.children.length),this._nextChild=void 0,t}get nextChild(){return this._nextChild||(this._nextChild=this.children[this.index]),this._nextChild}}var cat=function(e){e.setVisible&&e.setVisible()},vat=function(e){for(var t=0,i=e.length;t<i;t++){var s=e[t];s.setVisible&&s.setVisible(!1)}};Object.assign(SG.prototype,kp,CG);class pat extends Jw{playAnimation(t){return this.gameObject.anims.timeScale=this.timeScale,this.gameObject.play(t),this}stopAnimation(){return this.gameObject.stop(),this}chainAnimation(t){return this.gameObject.chain(t),this}pauseAnimation(){return this.gameObject.anims.pause(),this}setTimeScale(t){return super.setTimeScale(t),this.gameObject.anims&&(this.gameObject.anims.timeScale=t),this}}const gat={playAnimation(e,t){return this.has(e)||this.add(e),this.get(e).playAnimation(t),this},stopAnimation(e){return this.has(e)?(this.get(e).stopAnimation(),this):this},chainAnimation(e,t){return this.has(e)?(this.get(e).chainAnimation(t),this):this},pauseAnimation(e){return this.has(e)?(this.get(e).pauseAnimation(),this):this}};var EG={};Object.assign(EG,gat);var bG=function(e){return!e||e==="sprite"?e=mat:e==="image"&&(e=yat),e},mat=function(e,t,i){return typeof i!="string"&&typeof i!="number"&&(i=void 0),e.add.sprite(0,0,t,i)},yat=function(e,t,i){return typeof i!="string"&&typeof i!="number"&&(i=void 0),e.add.image(0,0,t,i)};class PG extends Hd{constructor(t,i){i===void 0&&(i={}),i.BobClass=pat,super(t,i)}setCreateGameObjectCallback(t,i){return t=bG(t),super.setCreateGameObjectCallback(t,i),this}}Object.assign(PG.prototype,EG);var mI=function(e,t){return e.length===3&&e[0]===t&&e[2]==="play"},xat=function(e,t){return e.length===3&&e[0]===t&&e[2]==="stop"},Tat=function(e,t,i){var s=i.name;t.on("+",function(p,...E){if(!t.skipEventFlag){var n=p.split("."),T;if(mI(n,s))T=n[1];else return;Se.call(e,`${s}.play`,Cat,[s,T,E],e),t.skipEvent()}}).on("+",function(p){if(!t.skipEventFlag){var E=p.split("."),n;if(xat(E,s))n=E[1];else return;Se.call(e,`${s}.stop`,yI,[s,n],e),t.skipEvent()}}).on("-",function(p){if(!t.skipEventFlag){var E=p.split("."),n;if(mI(E,s))n=E[1];else return;Se.call(e,`${s}.stop`,yI,[s,n],e),t.skipEvent()}})},Cat=function(e){var t,i,s;[t,i,s]=e;var p=s.shift(),E=this.getGameObjectManager(t);E.playAnimation(i,p),s.length>0&&E.chainAnimation(i,s)},yI=function(e){var t,i;[t,...i]=e;var s=this.getGameObjectManager(t);s.stopAnimation(...i)},Sat=function(e,t){return e.length===3&&e[0]===t&&e[2]==="pause"},Eat=function(e,t,i){var s=i.name;t.on("+",function(p){if(!t.skipEventFlag){var E=p.split("."),n;if(Sat(E,s))n=E[1];else return;Se.call(e,`${s}.pause`,bat,[s,n],e),t.skipEvent()}})},bat=function(e){var t,i;[t,...i]=e;var s=this.getGameObjectManager(t);s.pauseAnimation(...i)},Pat=function(e,t){return e.length===3&&e[0]===t&&e[2]==="chain"},wat=function(e,t,i){var s=i.name;t.on("+",function(p){if(!t.skipEventFlag){var E=p.split("."),n;if(Pat(E,s))n=E[1];else return;var T=Array.prototype.slice.call(arguments,1);Se.call(e,`${s}.chain`,Mat,[s,n,T],e),t.skipEvent()}})},Mat=function(e){var t,i;[t,...i]=e;var s=this.getGameObjectManager(t);s.chainAnimation(...i)};const Rat=[Tat,Eat,wat];var Aat=function(e){e===void 0&&(e={}),e.name="sprite",e.parseCallbacks=Rat,e.createGameObject=bG(e.createGameObject),this.addGameObjectManager(e,PG)},xI=function(e,t){return e.length===2&&e[0]===t},Oat=function(e,t,i){var s=i.name;t.on("+",function(p,...E){if(!t.skipEventFlag){var n=p.split("."),T;if(xI(n,s))T=n[1];else return;Se.call(e,`${s}.add`,Lat,[s,T,...E],e),t.skipEvent()}}).on("-",function(p){if(!t.skipEventFlag){var E=p.split("."),n;if(xI(E,s))n=E[1];else return;Se.call(e,`${s}.remove`,Dat,[s,n],e),t.skipEvent()}})},Lat=function(e){var t,i;[t,...i]=e;var s=this.getGameObjectManager(t);s.add(...i)},Dat=function(e){var t,i;[t,...i]=e;var s=this.getGameObjectManager(t);s.remove(...i)},Fat=function(e,t,i){var s=i.name;t.on("-",function(p){t.skipEventFlag||p===s&&(Se.call(e,`${s}.removeall`,Iat,s,e),t.skipEvent())})},Iat=function(e){var t=this.getGameObjectManager(e);t.removeAll()},Bat=function(e,t){return e.length===3&&e[0]===t},Gat=function(e,t,i){var s=i.name;t.on("+",function(p,...E){if(!t.skipEventFlag){var n=p.split("."),T,r;if(Bat(n,s))T=n[1],r=n[2];else return;Se.call(e,`${s}.call`,kat,[s,T,r,...E],e),t.skipEvent()}})},kat=function(e){var t,i,s,p;[t,i,s,...p]=e;var E=`${t}.${s}`;if(this.emit(E,i,...p),!(this.listenerCount(E)>0)){var n=this.getGameObjectManager(t);n.hasMethod(i,s)?n.call(i,s,...p):n.setProperty(i,s,p[0])}},Nat={to:!0,yoyo:!0,from:!0,toLeft:!0,toRight:!0,toUp:!0,toDown:!0,yoyoLeft:!0,yoyoRight:!0,yoyoUp:!0,yoyoDown:!0,fromLeft:!0,fromRight:!0,fromUp:!0,fromDown:!0},Uat=function(e,t){return e.length===4&&e[0]===t&&Nat[e[3]]},Vat=function(e,t,i){var s=i.name;e.getGameObjectManager(s),t.on("+",function(p,E,n,T,r){if(!t.skipEventFlag){var o=p.split("."),x,d,h;if(Uat(o,s))x=o[1],d=o[2],h=o[3];else return;typeof T=="number"&&(r=T,T=void 0),Se.call(e,`${s}.ease`,zat,[s,x,d,E,n,T,r,h],e),t.skipEvent()}})},zat=function(e){var t,i,s,p,E,n,T,r;[t,i,s,p,E,n,T,r]=e;var o=this.getGameObjectManager(t),x=o.getProperty(i,s);if(typeof x=="number"){r.endsWith("Left")||r.endsWith("Up")?r.startsWith("to")||r.startsWith("yoyo")?p=x-p:r.startsWith("from")&&(o.setProperty(i,s,x-p),p=x):r.endsWith("Right")||r.endsWith("Down")?r.startsWith("to")||r.startsWith("yoyo")?p=x+p:r.startsWith("from")&&(o.setProperty(i,s,x+p),p=x):r==="from"&&(o.setProperty(i,s,p),p=x);var d=r.startsWith("yoyo");o.easeProperty(i,{property:s,value:p,duration:E,ease:n,repeat:T,yoyo:d})}};const TI=[Oat,Fat,Gat,Vat],Wat=cG.addGameObjectManager,Yat={addGameObjectManager(e,t){e=e?Na(e):{};var i=e.name;i||console.warn("[TextPlayer] Parameter 'name' is required in addGameObjectManager(config) method");var s=e.defaultLayer,p=e.createGameObject,E=this.layerManager;e.createGameObject=function(o,...x){var d=p.call(this,o,...x);return s&&E&&E.addToLayer(s,d),d},Wat.call(this,e,t);var n=e.parseCallbacks;n?n=[...n,...TI]:n=TI;for(var T=0,r=n.length;T<r;T++)n[T](this,this.parser,e);return this}};var Xat=function(e){return this.waitEventManager.setClickTarget(e),this},Hat=function(e){return this.waitEventManager.setCameraTarget(e),this},$at=function(e){var t=this;e?typeof e=="function"?this.nextPageInput=function(i,s){var p=t.waitEventManager;p.clearWaitCompleteCallbacks().addWaitCompleteCallback(i,s);var E=p.getWaitCompleteTriggerCallback();e.call(t,E)}:this.nextPageInput=function(i,s){TG(t,e,i,s)}:this.nextPageInput=null},Kat=function(e,t){return this.imageManager.add(e,t),this};const Zat={play(e){return this.isPlaying?this:(this.removeChildren(),this.parser.start(e),this.isPlaying=!0,this.once("complete",function(){this.isPlaying=!1},this),this.lastWrapResult=void 0,this.typingNextPage(),this)},playPromise(e){var t=vn(this);return this.play(e),t}};var XP=function(){return!this.isPlaying||this.isPageTyping?this:(this.typeWriter.once(Gu,Jat,this).fadeOutPage(),this)},Jat=function(){var e=this.runWrap(this.lastWrapResult);this.lastWrapResult=e,this.emit("page.start");var t=function(){this.emit(YP),e.isLastPage?this.emit("complete"):(this.emit("page.complete"),this.ignoreNextPageInput?XP.call(this):this.nextPageInput&&this.nextPageInput(XP,this))};this.once(YP,function(){this.typeWriter.off("complete",t,this)},this),this.typeWriter.once("complete",t,this).start(e.children)};const jat={pauseTyping(){return this.typeWriter.pauseTyping(),this},pause(){return this.pauseTyping(),this.timeline.pause(),this}},Qat={resumeTyping(e){return this.typeWriter.resumeTyping(e),this},resume(){return this.resumeTyping(),this.timeline.resume(),this}};var qat=function(e){return this.typeWriter.wait(e),this};const _at={setDefaultTypingSpeed(e){return this.defaultTypingSpeed=e,this},setTypingSpeed(e){return this.typingSpeed=e,this}};var tot=function(e){return this.typeWriter.setIgnoreWait(e),this},eot=function(e){return e===void 0&&(e=!0),this.ignoreNextPageInput=e,this},iot=function(){if(!this.isPlaying||!this.isPageTyping)return this;var e=this.typeWriter.speed,t=this.typeWriter.ignoreWait,i=this.typeWriter.skipTypingAnimation,s=this.typeWriter.skipSoundEffect;return this.typeWriter.once("complete",function(){this.typeWriter.setTypingSpeed(e).setIgnoreWait(t).setSkipTypingAnimation(i).setSkipSoundEffect(s)},this).setTypingSpeed(0).skipCurrentTypingDelay().setIgnoreWait(!0).setSkipTypingAnimation(!0).setSkipSoundEffect(!0),this};const rot={getSprite(e){return this.getGameObject("sprite",e)},addSprite(e,t){return this.addGameObject("sprite",e,t),this}},not={setContentOutputEnable(e){return this.parser.setContentOutputEnable(e),this},setContentCallback(e,t){return this.contentCallback=e,this.contentCallbackScope=t,this}};var wG={setClickTarget:Xat,setCameraTarget:Hat,setNextPageInput:$at,addImage:Kat,typingNextPage:XP,wait:qat,setIgnoreWait:tot,setIgnoreNextPageInput:eot,showPage:iot};Object.assign(wG,Yat,Zat,jat,Qat,_at,rot,not);var sot=function(e){for(var t=0,i=gI.length;t<i;t++)e.emit(gI[t])};const CI=Phaser.Utils.Objects.IsPlainObject,sd=Phaser.Utils.Objects.GetValue;class _w extends ant(jd){constructor(t,i,s,p,E,n){CI(i)?n=i:CI(p)&&(n=p),n===void 0&&(n={});var T=n.text;delete n.text,super(t,i,s,p,E,n),this.type="rexTextPlayer",this.initManagers(t,n),this.parser=new Zst(this,sd(n,"parser",void 0)),this.typeWriter=new SG(this,sd(n,"typing",void 0)),this._imageManager=void 0;var r=sd(n,"images",void 0);r&&this.addImage(r);var o=sd(n,"sprites");o!==!1&&o!==null&&Aat.call(this,o),this.setIgnoreNextPageInput(sd(n,"ignoreNextPageInput",!1)),this.setNextPageInput(sd(n,"nextPageInput",null)),this.isPlaying=!1,T&&this.play(T)}get imageManager(){return this._imageManager===void 0&&(this._imageManager=new Yw(this.scene)),this._imageManager}get spriteManager(){return this.getGameObjectManager("sprite")}destroy(t){!this.scene||this.ignoreDestroy||(sot(this),this.parser.destroy(),this.parser=void 0,this.typeWriter.destroy(t),this.typeWriter=void 0,this._imageManager&&this._imageManager.destroy(t),this._imageManager=void 0,this.destroyManagers(t),super.destroy(t))}get isPageTyping(){return this.typeWriter.isPageTyping}set defaultTypingSpeed(t){this.typeWriter.setDefaultTypingSpeed(t)}get defaultTypingSpeed(){return this.typeWriter.defaultTypingSpeed}set typingSpeed(t){this.typeWriter.setTypingSpeed(t)}get typingSpeed(){return this.typeWriter.speed}set timeScale(t){this.setTimeScale(t)}get timeScale(){return this.getTimeScale()}}Object.assign(_w.prototype,wG);It.register("textPlayer",function(e,t,i,s,p){var E=new _w(this.scene,e,t,i,s,p);return this.scene.add.existing(E),E});Lt(window,"RexPlugins.UI.TextPlayer",_w);const MG={maxLength:["maxLength",void 0],minLength:["minLength",void 0],readOnly:["readOnly",!1]},RG={direction:["direction",void 0]};var gh=function(e,t,i){if(typeof i=="string")e.hasOwnProperty(i)&&(t[i]=e[i]);else{var s=i;if(Array.isArray(s))for(var p=0,E=s.length;p<E;p++)gh(e,t,s[p]);else for(var i in s)gh(e,t,i)}},aot=function(e){e===void 0&&(e={});var t={};return gh(e,t,"inputType"),gh(e,t,"type"),gh(e,t,"style"),gh(e,t,RG),gh(e,t,MG),t},tM=function(e,t,i,s,p){if(t)return!(i&&!i(e,t)||!SI(e,t)||s&&!s(e,t));p===void 0&&(p=!1);for(var E=e.scene.input.manager,n=E.pointersTotal,T=E.pointers,t,r=0;r<n;r++)if(t=T[r],!(i&&!i(e,t))&&SI(e,t)&&!(s&&!s(e,t)))return p?t:!0;return!1},SI=function(e,t){for(var i=e.scene,s=i.input.cameras.getCamerasBelowPointer(t),p=i.input.manager,E=[e],n=0,T=s.length;n<T;n++)if(p.hitTest(t,E,s[n],X0),X0.length>0)return X0.length=0,!0;return X0.length=0,!1},X0=[],Dd=void 0,oot=function(e){e!==Dd&&(Dd!==void 0&&Dd.close(),Dd=e)},lot=function(e){e===Dd&&(Dd=void 0)};const hot=Phaser.Utils.Objects.GetValue;var ex=function(e,t,i){i===void 0&&(i={});var s,p;for(var E in e)s=e[E],p=hot(t,E,s[1]),p!==void 0&&(i[s[0]]=p);return i},AG=function(e){e.addEventListener("touchstart",ad,!1),e.addEventListener("touchmove",ad,!1),e.addEventListener("touchend",ad,!1),e.addEventListener("mousedown",ad,!1),e.addEventListener("mouseup",ad,!1),e.addEventListener("mousemove",ad,!1)},ad=function(e){e.stopPropagation()},OG=function(){return this.close(),this.emit("keydown-ENTER",this.parent,this),this},uot=function(){this.isOpened=!0,this.initText(),this.enterCloseEnable&&this.scene.input.keyboard.once("keydown-ENTER",OG,this),this.scene.sys.events.on("postupdate",this.updateText,this),this.clickOutSideTarget?(rG.call(this.clickOutSideTarget,this.parent),iG.call(this.clickOutSideTarget,this.parent),this.clickOutSideTarget.setInteractive().on("pointerdown",this.onClickOutside,this)):this.scene.input.on("pointerdown",this.onClickOutside,this),this.onOpenCallback&&this.onOpenCallback(this.parent,this),this.emit("open",this)},fot=function(e){if(e){var t=e.parentElement;t&&t.removeChild(e)}},dot=function(){this.isOpened=!1,this.updateText(),this.enterCloseEnable&&this.scene.input.keyboard.off("keydown-ENTER",OG,this),this.scene.sys.events.off("postupdate",this.updateText,this),this.clickOutSideTarget?this.clickOutSideTarget.disableInteractive().off("pointerdown",this.onClickOutside,this):this.scene.input.off("pointerdown",this.onClickOutside,this),this.onCloseCallback&&this.onCloseCallback(this.parent,this),fot(this.node),this.node=void 0,this.emit("close",this)};const nb=Phaser.Utils.Objects.GetValue;var cot=function(e,t){var i,s=nb(t,"inputType",void 0);s===void 0&&(s=nb(t,"type","text")),s==="textarea"?(i=document.createElement("textarea"),i.style.resize="none"):(i=document.createElement("input"),i.type=s);var p=nb(t,"style",void 0),E=i.style;ex(RG,p,E),E.position="absolute",E.opacity=0,E.pointerEvents="none",E.zIndex=0,E.transform="scale(0)",ex(MG,t,i),AG(i);var n=e.scene.sys.scale,T=n.isFullscreen?n.fullscreenTarget:document.body;return T.appendChild(i),i.addEventListener("focus",function(r){uot.call(e)}),i.addEventListener("blur",function(r){dot.call(e)}),i},vot=function(){return this.isOpened?this:this.readOnly?this:(oot(this),this.node||(this.node=cot(this,this.nodeConfig)),this.setFocus(),this)},pot=function(){return this.isOpened?(lot(this),this.setBlur(),this):this},got={open:vot,close:pot};const nl=Phaser.Utils.Objects.GetValue;class eM extends ji{constructor(t,i){super(t);var s=nl(i,"inputType",void 0);s===void 0&&(s=nl(i,"type","text")),this.setEnterCloseEnable(nl(i,"enterClose",s!=="textarea"));var p=nl(i,"onOpen",void 0);p||(p=nl(i,"onFocus",void 0)),this.onOpenCallback=p,this.clickOutSideTarget=nl(i,"clickOutSideTarget",void 0);var E=nl(i,"onClose",void 0);E||(E=nl(i,"onBlur",void 0)),this.onCloseCallback=E,this.onUpdateCallback=nl(i,"onUpdate",void 0),this.isOpened=!1,t.on("pointerdown",function(){this.open()},this).setInteractive(),this.nodeConfig=aot(i),this.node=void 0}destroy(){this.close(),this.clickOutSideTarget&&this.clickOutSideTarget.destroy(),super.destroy()}onClickOutside(t){tM(this.parent,t)||this.close()}setEnterCloseEnable(t){return t===void 0&&(t=!0),this.enterCloseEnable=t,this}initText(){}updateText(){}get text(){return this.node?this.node.value:""}set text(t){this.node&&(this.node.value=t)}setText(t){return this.text=t,this}get maxLength(){return this.nodeConfig.maxLength}set maxLength(t){this.nodeConfig.maxLength=t,this.node&&(this.node.maxLength=t)}setMaxLength(t){return this.maxLength=t,this}get minLength(){return this.nodeConfig.minLength}set minLength(t){this.nodeConfig.minLength=t,this.node&&(this.node.minLength=t)}setMinLength(t){return this.minLength=t,this}get placeholder(){return this.node.placeholder}set placeholder(t){this.node&&(this.node.placeholder=t)}setPlaceholder(t){return this.placeholder=t,this}selectText(t,i){return this.node?(t===void 0?this.node.select():this.node.setSelectionRange(t,i),this):this}selectAll(){return this.selectText(),this}get selectionStart(){return this.node?this.node.selectionStart:0}get selectionEnd(){return this.node?this.node.selectionEnd:0}get selectedText(){if(!this.node)return"";var t=this.node;return t.value.substring(t.selectionStart,t.selectionEnd)}get cursorPosition(){return this.node?this.node.selectionStart:0}set cursorPosition(t){this.node&&this.node.setSelectionRange(t,t)}setCursorPosition(t){return t===void 0?t=this.text.length:t<0&&(t=this.text.length+t),this.cursorPosition=t,this}get tooltip(){return this.node?this.node.title:""}set tooltip(t){if(!this.node)return this;this.node.title=t}setTooltip(t){return this.tooltip=t,this}setTextChangedCallback(t){return this.onTextChanged=t,this}get readOnly(){return this.nodeConfig.readOnly}set readOnly(t){this.nodeConfig.readOnly=t,this.node&&(this.node.readOnly=t)}setReadOnly(t){return t===void 0&&(t=!0),this.readOnly=t,this}get spellCheck(){return this.node?this.node.spellcheck:""}set spellCheck(t){this.node&&(this.node.spellcheck=t)}setSpellCheck(t){return this.spellCheck=t,this}get fontColor(){if(this.node)return this.node.style.color}set fontColor(t){this.node&&(this.node.style.color=t)}setFontColor(t){return this.fontColor=t,this}setStyle(t,i){return this.node?(this.node.style[t]=i,this):this}getStyle(t){if(this.node)return this.node.style[t]}scrollToBottom(){return this.node?(this.node.scrollTop=this.node.scrollHeight,this):this}setEnabled(t){return this.node?(t===void 0&&(t=!0),this.node.disabled=!t,this):this}setBlur(){return this.node?(this.node.blur(),this):this}setFocus(){return this.node?(this.node.focus(),this):this}get isFocused(){return this.isOpened}}Object.assign(eM.prototype,got);var LG=function(e,t,i){e=e.replace(" ","");var s=i.previousText;if(e===s)return e;if(isNaN(e)){i.emit("nan",e,i),e=s;var p=i.cursorPosition-1;i.setText(e),i.setCursorPosition(p)}else i.previousText=e;return e},mot=function(e){var t=e.parent,i=e.isOpened?e.selectionStart:null,s=e.isOpened?e.selectionEnd:null,p=e.prevSelectionStart,E=e.prevSelectionEnd;if(!(p===i&&E===s)){var n,T;p===null?(n=i,T=s):i===null?(n=p,T=E):(n=Math.min(p,i),T=Math.max(E,s));for(var r=n;r<T;r++){var o;p===null?o=!1:o=r>=p&&r<E;var x;if(i===null?x=!1:x=r>=i&&r<s,o!==x){var d=t.getCharChild(r);if(d){var h=o?"rangeout":"rangein";t.emit(h,d,r,t)}}}e.prevSelectionStart=i,e.prevSelectionEnd=s}},yot=function(e){var t=e.parent,i=0,s=t.width,p=0,E=t.height,n=e.drawX,T=e.drawY,r=n+e.drawTLX,o=n+e.drawTRX,x=T+e.drawTLY,d=T+e.drawBLY,h;r<i?h=i-r:o>s?h=s-o:h=0;var l;x<p?l=p-x:d>E?l=E-d:l=0,t._textOX+=h,t._textOY+=l},xot=function(e){var t=e.parent,i=t.text;e.requestCursorPosition!==null&&(e.setCursorPosition(e.requestCursorPosition),e.requestCursorPosition=null);var s=e.cursorPosition;if(e.prevCursorPosition!==s){if(e.prevCursorPosition!==null&&e.prevCursorPosition>i.length&&(e.prevCursorPosition=null),e.prevCursorPosition!==null){var p=t.getCharChild(e.prevCursorPosition);p&&(p.text===`
`&&p.clearTextSize(),t.emit("cursorout",p,e.prevCursorPosition,t))}if(s!=null){var p=t.getCharChild(s);p&&(p.text===`
`&&p.copyTextSize(t.lastInsertCursor),yot(p),t.emit("cursorin",p,s,t))}t.emit("movecursor",s,e.prevCursorPosition,t),e.prevCursorPosition=s}},EI=function(e){var t=e.prevSelectionStart;if(t!==null){for(var i=e.prevSelectionEnd,s=e.parent,p=t;p<i;p++){var E=s.getCharChild(p);E&&s.emit("cursorout",E,p,s)}e.prevSelectionStart=null,e.prevSelectionEnd=null}},bI=function(e){var t=e.prevCursorPosition;if(t!==null){var i=e.parent,s=i.getCharChild(t);s&&i.emit("cursorout",s,t,i),e.prevCursorPosition=null}};const Tot=Phaser.Utils.Objects.GetValue;let Cot=class extends eM{constructor(t,i){super(t,i),this.setSelectAllWhenFocusEnable(Tot(i,"selectAll",!1)),this.cursorMoveStartIndex=null,this.prevCursorPosition=null,this.prevSelectionStart=null,this.prevSelectionEnd=null,this.firstClickAfterOpen=!1,this.requestCursorPosition=null,t.on("pointerdown",function(s,p,E,n){var T=t.getNearestChild(p,E),r=t.getCharIndex(T);(!this.selectAllWhenFocus||!this.firstClickAfterOpen)&&this.setCursorPosition(r),this.cursorMoveStartIndex=r,this.firstClickAfterOpen=!1},this).on("pointermove",function(s,p,E,n){if(s.isDown){var T=t.getNearestChild(p,E),r=t.getCharIndex(T);this.cursorMoveStartIndex<r?this.selectText(this.cursorMoveStartIndex,r+1):this.selectText(r,this.cursorMoveStartIndex+1)}},this),this.on("open",function(){this.selectAllWhenFocus&&this.selectAll(),this.firstClickAfterOpen=!0,t.emit("open")},this).on("close",function(){t.emit("close")}).on("keydown-ENTER",function(){t.emit("keydown-ENTER")})}initText(){var t=this.parent;return this.prevCursorPosition=null,this.setText(t.text),this}updateText(){var t=this.parent,i=this.text;if(this.onUpdateCallback){var s=this.onUpdateCallback(i,t,this);s!=null&&(i=s)}return t.text!==i&&t.setText(i),this.isOpened?this.selectionStart!==this.selectionEnd?(bI(this),mot(this)):(EI(this),xot(this)):(EI(this),bI(this)),this}setNumberInput(){return this.onUpdateCallback=LG,this}setSelectAllWhenFocusEnable(t){return t===void 0&&(t=!0),this.selectAllWhenFocus=t,this}setRequestCursorPosition(t){return this.isOpened?(this.requestCursorPosition=t,this):this}};const Sot=Phaser.Utils.Objects.GetValue,Eot=["inputType","onOpen","clickOutSideTarget","onFocus","onClose","onBlur","onUpdate","enterClose","readOnly","maxLength","minLength","selectAll"];var bot=function(e,t){var i=Sot(t,"edit");return i===void 0&&(i={}),gh(t,i,Eot),new Cot(e,i)},ul=function(e,t){if(!e||typeof e=="number")return!1;if(e.hasOwnProperty(t))return!0;if(t.indexOf(".")!==-1){for(var i=t.split("."),s=e,p=0;p<i.length;p++)if(s.hasOwnProperty(i[p]))s=s[i[p]];else return!1;return!0}else return!1},HP=function(e){if(e.parentContainer)return HP(e.parentContainer);var t=eG(e);return t?HP(t):e},Pot=function(e){for(var t=HP(e).cameraFilter,i=e.scene.sys.cameras.cameras,s,p,E=0,n=i.length;E<n;E++)if(s=i[E],p=(t&s.id)>0,!p)return s;return null};class DG extends ji{constructor(t,i){super(t),this.targetCamera=void 0,this.boot()}boot(){this.scene.sys.events.on("prerender",this.resize,this)}destroy(){this.scene&&(this.scene.sys.events.off("prerender",this.resize,this),super.destroy())}resize(){var t=this.scene,i=this.parent,s=Pot(i);if(s){i.setScrollFactor(0).setOrigin(.5);var p=t.sys.scale.gameSize,E=p.width,n=p.height,T=1/s.zoom,r=E/2,o=n/2,x=E*T,d=n*T;(i.x!==r||i.y!==o)&&i.setPosition(r,o),(i.width!==x||i.height!==d)&&i.setSize(x,d)}}}const wot=Phaser.GameObjects.Zone;let iM=class extends wot{constructor(t){super(t,0,0,2,2),this.fullWindow=new DG(this)}};var Mot=function(e,t){var i=!t.textArea;if(!ul(t,"wrap.vAlign")){var s=i?"center":"top";Lt(t,"wrap.vAlign",s)}if(ul(t,"wrap.wrapMode")||Lt(t,"wrap.wrapMode","char"),!ul(t,"wrap.maxLines")){var s=i?1:void 0;Lt(t,"wrap.maxLines",s)}if(i&&Lt(t,"wrap.wrapWidth",1/0),ul(t,"wrap.useDefaultTextHeight")||Lt(t,"wrap.useDefaultTextHeight",!0),t.edit||(t.edit={}),!ul(t.edit,"inputType")){var s=i?"text":"textarea";Lt(t.edit,"inputType",s)}if(t.clickOutSideTarget===!0){var p=new iM(e);e.add.existing(p),t.clickOutSideTarget=p}return t},Hy=function(e,t,i,s){if(i===void 0&&(i="."),s===void 0&&(s={}),!e)return s;if(t in e)return Object.assign(s,e[t]);t+=i;for(var p in e)p.startsWith(t)&&(s[p.replace(t,"")]=e[p]);return s},Rot=function(){var e=this.scene.input.keyboard;this.textEdit.on("open",function(){e.on("keydown-UP",this.cursorMoveUp,this).on("keydown-DOWN",this.cursorMoveDown,this)},this).on("close",function(){e.off("keydown-UP",this.cursorMoveUp,this).off("keydown-DOWN",this.cursorMoveDown,this)},this)},Nx=function(e,t,i){if(i===void 0&&(i={}),Array.isArray(t))for(var s,p=0,E=t.length;p<E;p++)s=t[p],i[s]=e[s];else for(var s in t)i[s]=e[s];return i},Vp=function(e,t){for(var i in e)if(!(i in t)||e[i]!==t[i])return!1;for(var i in t)if(!(i in e))return!1;return!0},Aot=function(e){Np(e)||this.setCursorStyle(e).on("cursorin",function(t){var i=this.cursorStyle,s=Nx(t.style,i);Vp(i,s)||(t.styleSave=s,t.modifyStyle(i))},this).on("cursorout",function(t){t.styleSave&&(t.modifyStyle(t.styleSave),t.styleSave=void 0)},this)},Oot=function(e){Np(e)||this.setRangeStyle(e).on("rangein",function(t){var i=this.rangeStyle,s=Nx(t.style,i);Vp(i,s)||(t.styleSave=s,t.modifyStyle(i))},this).on("rangeout",function(t){t.styleSave&&(t.modifyStyle(t.styleSave),t.styleSave=void 0)},this)},Lot=function(e){Np(e)||this.setFocusStyle(e).on("open",function(){var t=this.background,i=this.focusStyle,s=Nx(t,i);Vp(i,s)||(t.styleSave=s,t.modifyStyle(i))},this).on("close",function(){var t=this.background;t.styleSave&&(t.modifyStyle(t.styleSave),t.styleSave=void 0)},this)},Dot=function(e){var t=e.createCharChild("|");return t.text="",t};function ml(){}ml.prototype={diff(e,t,i={}){let s=i.callback;typeof i=="function"&&(s=i,i={}),this.options=i;let p=this;function E(l){return s?(setTimeout(function(){s(void 0,l)},0),!0):l}e=this.castInput(e),t=this.castInput(t),e=this.removeEmpty(this.tokenize(e)),t=this.removeEmpty(this.tokenize(t));let n=t.length,T=e.length,r=1,o=n+T;i.maxEditLength&&(o=Math.min(o,i.maxEditLength));let x=[{newPos:-1,components:[]}],d=this.extractCommon(x[0],t,e,0);if(x[0].newPos+1>=n&&d+1>=T)return E([{value:this.join(t),count:t.length}]);function h(){for(let l=-1*r;l<=r;l+=2){let a,f=x[l-1],c=x[l+1],u=(c?c.newPos:0)-l;f&&(x[l-1]=void 0);let v=f&&f.newPos+1<n,g=c&&0<=u&&u<T;if(!v&&!g){x[l]=void 0;continue}if(!v||g&&f.newPos<c.newPos?(a=Iot(c),p.pushComponent(a.components,void 0,!0)):(a=f,a.newPos++,p.pushComponent(a.components,!0,void 0)),u=p.extractCommon(a,t,e,l),a.newPos+1>=n&&u+1>=T)return E(Fot(p,a.components,t,e,p.useLongestToken));x[l]=a}r++}if(s)(function l(){setTimeout(function(){if(r>o)return s();h()||l()},0)})();else for(;r<=o;){let l=h();if(l)return l}},pushComponent(e,t,i){let s=e[e.length-1];s&&s.added===t&&s.removed===i?e[e.length-1]={count:s.count+1,added:t,removed:i}:e.push({count:1,added:t,removed:i})},extractCommon(e,t,i,s){let p=t.length,E=i.length,n=e.newPos,T=n-s,r=0;for(;n+1<p&&T+1<E&&this.equals(t[n+1],i[T+1]);)n++,T++,r++;return r&&e.components.push({count:r}),e.newPos=n,T},equals(e,t){return this.options.comparator?this.options.comparator(e,t):e===t||this.options.ignoreCase&&e.toLowerCase()===t.toLowerCase()},removeEmpty(e){let t=[];for(let i=0;i<e.length;i++)e[i]&&t.push(e[i]);return t},castInput(e){return e},tokenize(e){return e.split("")},join(e){return e.join("")}};function Fot(e,t,i,s,p){let E=0,n=t.length,T=0,r=0;for(;E<n;E++){let x=t[E];if(x.removed){if(x.value=e.join(s.slice(r,r+x.count)),r+=x.count,E&&t[E-1].added){let d=t[E-1];t[E-1]=t[E],t[E]=d}}else{if(!x.added&&p){let d=i.slice(T,T+x.count);d=d.map(function(h,l){let a=s[r+l];return a.length>h.length?a:h}),x.value=e.join(d)}else x.value=e.join(i.slice(T,T+x.count));T+=x.count,x.added||(r+=x.count)}}let o=t[n-1];return n>1&&typeof o.value=="string"&&(o.added||o.removed)&&e.equals("",o.value)&&(t[n-2].value+=o.value,t.pop()),t}function Iot(e){return{newPos:e.newPos,components:e.components.slice(0)}}const Bot=new ml;function Got(e,t,i){return Bot.diff(e,t,i)}const PI=/^[a-zA-Z\u{C0}-\u{FF}\u{D8}-\u{F6}\u{F8}-\u{2C6}\u{2C8}-\u{2D7}\u{2DE}-\u{2FF}\u{1E00}-\u{1EFF}]+$/u,wI=/\S/,FG=new ml;FG.equals=function(e,t){return this.options.ignoreCase&&(e=e.toLowerCase(),t=t.toLowerCase()),e===t||this.options.ignoreWhitespace&&!wI.test(e)&&!wI.test(t)};FG.tokenize=function(e){let t=e.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/);for(let i=0;i<t.length-1;i++)!t[i+1]&&t[i+2]&&PI.test(t[i])&&PI.test(t[i+2])&&(t[i]+=t[i+2],t.splice(i+1,2),i--);return t};const IG=new ml;IG.tokenize=function(e){let t=[],i=e.split(/(\n|\r\n)/);i[i.length-1]||i.pop();for(let s=0;s<i.length;s++){let p=i[s];s%2&&!this.options.newlineIsToken?t[t.length-1]+=p:(this.options.ignoreWhitespace&&(p=p.trim()),t.push(p))}return t};const kot=new ml;kot.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)};const Not=new ml;Not.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};const Uot=Object.prototype.toString,Mp=new ml;Mp.useLongestToken=!0;Mp.tokenize=IG.tokenize;Mp.castInput=function(e){const{undefinedReplacement:t,stringifyReplacer:i=(s,p)=>typeof p>"u"?t:p}=this.options;return typeof e=="string"?e:JSON.stringify($P(e,null,null,i),i,"  ")};Mp.equals=function(e,t){return ml.prototype.equals.call(Mp,e.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"))};function $P(e,t,i,s,p){t=t||[],i=i||[],s&&(e=s(p,e));let E;for(E=0;E<t.length;E+=1)if(t[E]===e)return i[E];let n;if(Uot.call(e)==="[object Array]"){for(t.push(e),n=new Array(e.length),i.push(n),E=0;E<e.length;E+=1)n[E]=$P(e[E],t,i,s,p);return t.pop(),i.pop(),n}if(e&&e.toJSON&&(e=e.toJSON()),typeof e=="object"&&e!==null){t.push(e),n={},i.push(n);let T=[],r;for(r in e)e.hasOwnProperty(r)&&T.push(r);for(T.sort(),E=0;E<T.length;E+=1)r=T[E],n[r]=$P(e[r],t,i,s,r);t.pop(),i.pop()}else n=e;return n}const KP=new ml;KP.tokenize=function(e){return e.slice()};KP.join=KP.removeEmpty=function(e){return e};const Vot=Phaser.Utils.Array.Remove;var zot=function(e,t){var i=e.text;if(t!==i){if(i==null&&(i=""),Vot(e.children,e.lastInsertCursor),t==="")e.removeChildren();else for(var s=Got(i,t),p=0,E=0,n=s.length;E<n;E++){var T=s[E];T.removed?e.removeText(p,T.count):(T.added&&e.insertText(p,T.value),p+=T.count)}e.children.push(e.lastInsertCursor),e.runWrap(),e.isOpened&&e.textEdit.setText(t),e.emit("textchange",t,e)}};const Wot={setTextOYByPercentage(e){return this.setTextOY(-this.textVisibleHeight*e),this},getTextOYPercentage(){var e=this.textVisibleHeight;return e===0?0:this._textOY/-e},setTextOXByPercentage(e){return this.setTextOX(-this.textVisibleWidth*e),this},getTextOXPercentage(){var e=this.textVisibleWidth;return e===0?0:this._textOX/-e}},H0=Phaser.Math.Clamp;var MI=function(e,t){var i={lineIndex:0,position:0};if(t<0)return i;for(var s=0,p=e.length;s<p;s++){var E=e[s];if(t<=E){i.lineIndex=s;break}t-=E}return i.position=t,i},RI=function(e,t){var i=0,s=t.lineIndex;if(s<0)return i;for(var p=0,E=e.length;p<E;p++){var n=e[p];if(s>p)i+=n;else if(s===p)i+=Math.min(t.position,n);else break}return i};const Yot={cursorMoveLeft(){if(!this.isOpened)return this;var e=H0(this.cursorPosition-1,0,this.inputText.length);return this.setCursorPosition(e),this},cursorMoveRight(){if(!this.isOpened)return this;var e=H0(this.cursorPosition+1,0,this.inputText.length);return this.setCursorPosition(e),this},cursorMoveUp(){if(!this.isOpened)return this;var e=MI(this.characterCountOfLines,this.cursorPosition);e.lineIndex-=1;var t=H0(RI(this.characterCountOfLines,e),0,this.inputText.length);return this.setCursorPosition(t),this},cursorMoveDown(){if(!this.isOpened)return this;var e=MI(this.characterCountOfLines,this.cursorPosition);e.lineIndex+=1;var t=H0(RI(this.characterCountOfLines,e),0,this.inputText.length);return this.setCursorPosition(t),this}},AI=Phaser.Utils.Objects.IsPlainObject;class zp extends jd{constructor(t,i,s,p,E,n){AI(i)?n=i:AI(p)&&(n=p),n===void 0&&(n={}),Mot(t,n);var T=n.text;T&&delete n.text;var r=Hy(n.background,"focus"),o=Hy(n.style,"cursor"),x=Hy(n.style,"range");super(t,i,s,p,E,n),this.type="rexCanvasInput",this.contentWidth=void 0,this.contentHeight=void 0,this.lineHeight=void 0,this.linesCount=void 0,this.characterCountOfLines=[],this._text,this.textEdit=bot(this,n),Rot.call(this),n.focusStyle&&Object.assign(r,n.focusStyle),Lot.call(this,r),n.cursorStyle&&Object.assign(o,n.cursorStyle),Aot.call(this,o),n.rangeStyle&&Object.assign(x,n.rangeStyle),Np(x)&&Object.assign(x,o),Oot.call(this,x);var d=n.onAddChar;d&&this.on("addchar",d);var h=n.onCursorIn;h&&this.on("cursorin",h);var l=n.onCursorOut;l&&this.on("cursorout",l);var a=!n.onRangeIn&&!n.onRangeOut,f=a?n.onCursorIn:n.onRangeIn;f&&this.on("rangein",f);var c=a?n.onCursorOut:n.onRangeOut;c&&this.on("rangeout",c);var u=n.onMoveCursor;u&&this.on("movecursor",u),this.setParseTextCallback(n.parseTextCallback),this.lastInsertCursor=Dot(this),T||(T=""),this.setText(T)}addChild(t,i){if(super.addChild(t,i),Array.isArray(t))for(var s=t,p=0,E=s.length;p<E;p++){var t=s[p];Vu(t)&&this.emit("addchar",t,i+p,this)}else Vu(t)&&this.emit("addchar",t,i,this);return this}get text(){return this._text}set text(t){t==null?t="":t=t.toString(),this._text!==t&&(zot(this,t),this._text=t)}setText(t){return this.text=t,this}appendText(t){return this.setText(this.text+t),this}runWrap(t){var i=super.runWrap(t);this.contentWidth=i.maxLineWidth,this.contentHeight=i.linesHeight,this.lineHeight=i.lineHeight,this.linesCount=i.lines.length,this.characterCountOfLines.length=0;for(var s=i.lines,p=0,E=s.length;p<E;p++){for(var n=s[p].children,T=0,r=0,o=n.length;r<o;r++){var x=n[r];x.active&&!x.removed&&Vu(x)&&T++}this.characterCountOfLines.push(T)}return i}setSize(t,i){return this.width===t&&this.height===i?this:(super.setSize(t,i),this.runWrap(),this)}get displayText(){return this.text}set displayText(t){this.text=t}setDisplayText(t){return this.displayText=t,this}get inputText(){return this.textEdit.text}set inputText(t){this.textEdit.text=t}setInputText(t){return this.inputText=t,this}setParseTextCallback(t){return t||(t=Xot),this.parseTextCallback=t,this}get value(){return this.parseTextCallback(this.text)}set value(t){this.setText(t)}getValue(){return this.value}setValue(t){return this.value=t,this}get readOnly(){return this.textEdit.readOnly}set readOnly(t){this.textEdit.readOnly=t}setReadOnly(t){return this.textEdit.setReadOnly(t),this}open(t){return t&&this.textEdit.once("close",t),this.textEdit.open(),this}close(){return this.textEdit.close(),this}get isOpened(){return this.textEdit.isOpened}setFocusStyle(t){return this.focusStyle=t,this}setCursorStyle(t){return this.cursorStyle=t,this}setRangeStyle(t){return this.rangeStyle=t,this}setNumberInput(){return this.textEdit.setNumberInput().setSelectAllWhenFocusEnable(),this.parseTextCallback=Number,this}get maxLength(){return this.textEdit.maxLength}set maxLength(t){this.textEdit.maxLength=t}setMaxLength(t){return this.maxLength=t,this}get minLength(){return this.textEdit.minLength}set minLength(t){this.textEdit.minLength=t}setMinLength(t){return this.minLength=t,this}get cursorPosition(){return this.textEdit.cursorPosition}set cursorPosition(t){this.isOpened&&(this.textEdit.cursorPosition=t,this.textEdit.requestCursorPosition=t)}setCursorPosition(t){return this.cursorPosition=t,this}get topTextOY(){return 0}get bottomTextOY(){return-this.tableVisibleHeight}get leftTextOX(){return 0}get rightTextOX(){return-this.textVisibleWidth}get textVisibleHeight(){var t=this.contentHeight-this.height;return t<0&&(t=0),t}get textVisibleWidth(){var t=this.contentWidth-this.width;return t<0&&(t=0),t}set t(t){this.setTextOYByPercentage(t).updateTexture()}get t(){return this.getTextOYPercentage()}set s(t){this.setTextOXByPercentage(t).updateTexture()}get s(){return this.getTextOXPercentage()}}var Xot=function(e){return e};Object.assign(zp.prototype,Wot,Yot);It.register("canvasInput",function(e,t,i,s,p){var E=new zp(this.scene,e,t,i,s,p);return this.scene.add.existing(E),E});Lt(window,"RexPlugins.UI.CanvasInput",zp);var rM=function(e){return zu(e).loop.delta};const OI=Phaser.Utils.Objects.GetValue,Hot=Phaser.Math.Wrap;class BG extends eM{constructor(t,i){i===void 0&&(i={}),i.onUpdate==="number"&&(i.onUpdate=LG),super(t,i),this.setCursor(OI(i,"cursor","|")),this.setCursorFlashDuration(OI(i,"cursorFlashDuration",1e3)),this.cursorFlashTimer=0}initText(){return this.cursorFlashTimer=0,this.prevCursorPosition=void 0,this.setText(this.parent.text),this.setCursorPosition(),this}updateText(){var t=this.parent,i=this.text;if(this.onUpdateCallback){var s=this.onUpdateCallback(i,t,this);s!=null&&(i=s)}if(this.isOpened&&this.hasCursor){var p=this.cursorPosition;i=i.substring(0,p)+this.cursor+i.substring(p),this.prevCursorPosition!==p&&(this.prevCursorPosition=p)}return t.text!==i&&(t.setText(i),this.emit("textchange",i,t,this)),this}setCursor(t){return this._cursor=t,this.hasCursor=t&&t!=="",t}setCursorFlashDuration(t){return this.cursorFlashDuration=t,this}get cursor(){if(!this._isFocused)return this._cursor;var t;this.cursorFlashTimer<this.cursorFlashDuration/2?t=this._cursor:t=" ";var i=this.cursorFlashTimer+rM(this.scene);return this.cursorFlashTimer=Hot(i,0,this.cursorFlashDuration),t}}It.register("hiddenEdit",function(e,t){var i=new BG(e,t);return i});Lt(window,"RexPlugins.UI.HiddenEdit",BG);const $ot=Phaser.GameObjects.GetCalcMatrix;var Kot=function(e,t,i,s){t.updateData(),i.addToRenderList(t);var p=e.pipelines.set(t.pipeline),E=$ot(t,i,s),n=p.calcMatrix.copyFrom(E.calc),T=t._displayOriginX,r=t._displayOriginY,o=i.alpha*t.alpha;e.pipelines.preBatch(t);for(var x=t.geom,d,h=0,l=x.length;h<l;h++)d=x[h],d.visible&&d.webglRender(p,n,o,T,r);e.pipelines.postBatch(t)};const Zot=Phaser.Renderer.Canvas.SetTransform;var Jot=function(e,t,i,s){t.updateData(),i.addToRenderList(t);var p=e.currentContext;if(Zot(e,p,t,i,s)){for(var E=t._displayOriginX,n=t._displayOriginY,T=t.geom,r,o=0,x=T.length;o<x;o++)r=T[o],r.visible&&r.canvasRender(p,E,n);p.restore()}};const jot={renderWebGL:Kot,renderCanvas:Jot},Qot=Phaser.GameObjects.Shape,qot=Phaser.Utils.Array.Remove;class yl extends Qot{constructor(t,i,s,p,E){i===void 0&&(i=0),s===void 0&&(s=0),p===void 0&&(p=2),E===void 0&&(E=p),super(t,"rexShapes",[]),this._width=-1,this._height=-1,this.dirty=!0,this.isSizeChanged=!0,this.shapes={},this.setPosition(i,s),this.setSize(p,E),this.updateDisplayOrigin()}get width(){return this._width}set width(t){this.setSize(t,this._height)}get height(){return this._height}set height(t){this.setSize(this._width,t)}setDirty(t){return t===void 0&&(t=!0),this.dirty=t,this}setSize(t,i){this.isSizeChanged=this.isSizeChanged||this._width!==t||this._height!==i,this.dirty=this.dirty||this.isSizeChanged,this._width=t,this._height=i,this.updateDisplayOrigin();var s=this.input;return s&&!s.customHitArea&&(s.hitArea.width=t,s.hitArea.height=i),this}resize(t,i){return this.setSize(t,i),this}get fillColor(){return this._fillColor}set fillColor(t){this.setFillStyle(t,this._fillAlpha)}get fillAlpha(){return this._fillAlpha}set fillAlpha(t){this.setFillStyle(this._fillColor,t)}setFillStyle(t,i){return i===void 0&&(i=1),this.dirty=this.dirty||this.fillColor!==t||this.fillAlpha!==i,this._fillColor=t,this._fillAlpha=i,this}get lineWidth(){return this._lineWidth}set lineWidth(t){this.setStrokeStyle(t,this._strokeColor,this._strokeAlpha)}get strokeColor(){return this._strokeColor}set strokeColor(t){this.setStrokeStyle(this._lineWidth,t,this._strokeAlpha)}get strokeAlpha(){return this._strokeAlpha}set strokeAlpha(t){this.setStrokeStyle(this._lineWidth,this._strokeColor,t)}setStrokeStyle(t,i,s){return s===void 0&&(s=1),this.dirty=this.dirty||this.lineWidth!==t||this.strokeColor!==i||this.strokeAlpha!==s,this._lineWidth=t,this._strokeColor=i,this._strokeAlpha=s,this}updateShapes(){}updateData(){if(!this.dirty)return this;this.updateShapes();for(var t=this.geom,i=0,s=t.length;i<s;i++){var p=t[i];p.dirty&&p.updateData()}return this.isSizeChanged=!1,this.dirty=!1,this}clear(){return this.geom.length=0,Sh(this.shapes),this.dirty=!0,this}getShape(t){return this.shapes[t]}getShapes(){return this.geom}addShape(t){this.geom.push(t);var i=t.name;return i&&(this.shapes[i]=t),this.dirty=!0,this}deleteShape(t){var i=this.getShape(t);return i&&(delete this.shapes[t],qot(this.geom,i)),this}}Object.assign(yl.prototype,jot);const _ot={setBoxFillStyle(e,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.boxFillColor!==e||this.boxFillAlpha!==t,this.boxFillColor=e,this.boxFillAlpha=t,this},setUncheckedBoxFillStyle(e,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.uncheckedBoxFillColor!==e||this.uncheckedBoxFillAlpha!==t,this.uncheckedBoxFillColor=e,this.uncheckedBoxFillAlpha=t,this},setBoxStrokeStyle(e,t,i){return i===void 0&&(i=1),this.dirty=this.dirty||this.boxLineWidth!==e||this.boxStrokeColor!==t||this.boxStrokeAlpha!==i,this.boxLineWidth=e,this.boxStrokeColor=t,this.boxStrokeAlpha=i,this},setUncheckedBoxStrokeStyle(e,t,i){return i===void 0&&(i=1),this.dirty=this.dirty||this.uncheckedBoxLineWidth!==e||this.uncheckedBoxStrokeColor!==t||this.uncheckedBoxStrokeAlpha!==i,this.uncheckedBoxLineWidth=e,this.uncheckedBoxStrokeColor=t,this.uncheckedBoxStrokeAlpha=i,this},setCheckerStyle(e,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.checkerColor!==e||this.checkAlpha!==t,this.checkerColor=e,this.checkAlpha=t,this},setBoxShape(e){return e===void 0&&(e=!1),this.isCircleShape===e?this:(this.isCircleShape=e,this.isSizeChanged=!0,this.dirty=!0,this)}},tlt={setBoxSize(e){return this.dirty=this.dirty||this.boxSize!==e,this.boxSize=e,this},setCheckerSize(e){return this.dirty=this.dirty||this.checkerSize!==e,this.checkerSize=e,this}};var elt=function(e,t){return e==null?this.isFilled=!1:(t===void 0&&(t=1),this.isFilled=!0,this.fillColor=e,this.fillAlpha=t),this},ilt=function(e,t,i){return e==null||t==null?this.isStroked=!1:(i===void 0&&(i=1),this.isStroked=!0,this.lineWidth=e,this.strokeColor=t,this.strokeAlpha=i),this};const rlt={fillStyle:elt,lineStyle:ilt};class Ux{constructor(){this.name=void 0,this.dirty=!0,this.visible=!0,this.data=void 0,this.isFilled=!1,this.fillColor=void 0,this.fillAlpha=1,this.isStroked=!1,this.lineWidth=1,this.strokeColor=void 0,this.strokeAlpha=1}setName(t){return this.name=t,this}setVisible(t){return t===void 0&&(t=!0),this.visible=t,this}reset(){return this.setVisible().fillStyle().lineStyle(),this}webglRender(t,i,s,p,E){}canvasRender(t,i,s){}updateData(){this.dirty=!1}}Object.assign(Ux.prototype,rlt,Ox);const nlt=Phaser.Geom.Polygon.Earcut;class Wp extends Ux{constructor(){super(),this.pathData=[],this.pathIndexes=[],this.closePath=!1}updateData(){return this.pathIndexes=nlt(this.pathData),super.updateData(),this}webglRender(t,i,s,p,E){this.isFilled&&y9(t,i,this,s,p,E),this.isStroked&&Lx(t,this,s,p,E)}canvasRender(t,i,s){var p=this.pathData,E=p.length-1,n=p[0]-i,T=p[1]-s;t.beginPath(),t.moveTo(n,T),this.closePath||(E-=2);for(var r=2;r<E;r+=2){var o=p[r]-i,x=p[r+1]-s;t.lineTo(o,x)}this.closePath&&t.closePath(),this.isFilled&&(Ip(t,this),t.fill()),this.isStroked&&(Bp(t,this),t.stroke())}}const LI=Phaser.Math.DegToRad;class tc extends Wp{constructor(t,i,s,p,E,n,T,r){t===void 0&&(t=0),i===void 0&&(i=0),s===void 0&&(s=0),p===void 0&&(p=0),E===void 0&&(E=0),n===void 0&&(n=360),T===void 0&&(T=!1),r===void 0&&(r=!1),super(),this.setCenterPosition(t,i),this.setRadius(s,p),this.setAngle(E,n,T),this.setPie(r),this.setIterations(32)}get x(){return this._x}set x(t){this.dirty=this.dirty||this._x!==t,this._x=t}get y(){return this._y}set y(t){this.dirty=this.dirty||this._y!==t,this._y=t}setCenterPosition(t,i){return i===void 0&&(i=t),this.x=t,this.y=i,this}get radiusX(){return this._radiusX}set radiusX(t){this.dirty=this.dirty||this._radiusX!==t,this._radiusX=t}get radiusY(){return this._radiusY}set radiusY(t){this.dirty=this.dirty||this._radiusY!==t,this._radiusY=t}setRadius(t,i){return i===void 0&&(i=t),this.radiusX=t,this.radiusY=i,this}get startAngle(){return this._startAngle}set startAngle(t){this.dirty=this.dirty||this._startAngle!==t,this._startAngle=t}get endAngle(){return this._endAngle}set endAngle(t){this.dirty=this.dirty||this._endAngle!==t,this._endAngle=t}get anticlockwise(){return this._anticlockwise}set anticlockwise(t){this.dirty=this.dirty||this._anticlockwise!==t,this._anticlockwise=t}setAngle(t,i,s){return s===void 0&&(s=!1),this.startAngle=t,this.endAngle=i,this.anticlockwise=s,this}get pie(){return this._pie}set pie(t){this.dirty=this.dirty||this._pie!==t,this._pie=t}setPie(t){return t===void 0&&(t=!0),this.pie=t,this}get iterations(){return this._iterations}set iterations(t){this.dirty=this.dirty||this._iterations!==t,this._iterations=t}setIterations(t){return this.iterations=t,this}updateData(){return this.pathData.length=0,this.pie&&this.pathData.push(this.x,this.y),jr(this.x,this.y,this.radiusX,this.radiusY,this.startAngle,this.endAngle,this.anticlockwise,this.iterations,this.pathData),this.pie&&this.pathData.push(this.x,this.y),this.pathData.push(this.pathData[0],this.pathData[1]),super.updateData(),this}canvasRender(t,i,s){t.beginPath();var p=this.x-i,E=this.y-s,n=LI(this.startAngle),T=LI(this.endAngle);this.pie&&(t.moveTo(p,E),t.lineTo(p+Math.cos(n)*this.radiusX,E+Math.sin(n)*this.radiusY)),t.ellipse(p,E,this.radiusX,this.radiusY,0,n,T,this.anticlockwise),this.pie&&t.lineTo(p,E),this.isFilled&&(Ip(t,this),t.fill()),this.isStroked&&(Bp(t,this),t.stroke())}}class ra extends tc{constructor(t,i,s){super(t,i,s,s,0,360)}}class slt extends Wp{constructor(t){super(),this.setCurve(t),this.setIterations(32)}get curve(){return this._curve}set curve(t){this.dirty=this.dirty||this._curve!==t,this._curve=t}setCurve(t){return this.curve=t,this}get iterations(){return this._iterations}set iterations(t){this.dirty=this.dirty||this._iterations!==t,this._iterations=t}setIterations(t){return this.iterations=t,this}updateData(){this.pathData.length=0;for(var t=this.curve.getPoints(this.iterations),i=0,s=t.length;i<s;i++)this.pathData.push(t[i].x,t[i].y);return this.pathData.push(t[0].x,t[0].y),super.updateData(),this}}class alt extends tc{constructor(t,i,s,p){super(t,i,s,p,0,360)}}class Ph extends Wp{constructor(t,i,s,p){t===void 0&&(t=0),i===void 0&&(i=0),s===void 0&&(s=0),p===void 0&&(p=0),super(),this.setP0(t,i),this.setP1(s,p)}get x0(){return this._x0}set x0(t){this.dirty=this.dirty||this._x0!==t,this._x0=t}get y0(){return this._y0}set y0(t){this.dirty=this.dirty||this._y0!==t,this._y0=t}setP0(t,i){return this.x0=t,this.y0=i,this}get x1(){return this._x1}set x1(t){this.dirty=this.dirty||this._x1!==t,this._x1=t}get y1(){return this._y1}set y1(t){this.dirty=this.dirty||this._y1!==t,this._y1=t}setP1(t,i){return this.x1=t,this.y1=i,this}updateData(){return this.pathData.length=0,this.pathData.push(this.x0,this.y0),this.pathData.push(this.x1,this.y1),this.pathData.push(this.x0,this.y0),super.updateData(),this}}var olt=function(e,t,i){return i.length=0,e!=null&&i.push(e,t),i};const DI=Phaser.Math.Interpolation.QuadraticBezier;var llt=function(e,t,i,s,p,E){for(var n=E.length,T=E[n-2],r=E[n-1],o=1,x=p-1;o<=x;o++){var d=o/x;E.push(DI(d,T,e,i),DI(d,r,t,s))}return E};const FI=Phaser.Math.Interpolation.CubicBezier;var hlt=function(e,t,i,s,p,E,n,T){for(var r=T.length,o=T[r-2],x=T[r-1],d=1,h=n-1;d<=h;d++){var l=d/h;T.push(FI(l,o,e,i,p),FI(l,x,t,s,E))}return T};const II=Phaser.Math.Interpolation.CatmullRom;var ult=function(e,t,i){for(var s=i.length,p=i[s-2],E=i[s-1],n=[p],T=[E],r=0,o=e.length;r<o;r+=2)n.push(e[r]),T.push(e[r+1]);for(var r=1,x=t-1;r<=x;r++){var d=r/x;i.push(II(n,d),II(T,d))}return i},GG=function(e){var t=e.length;if(t<2)return e;var i=e[t-2],s=e[t-1];return e.push(i),e.push(s),e};const flt={clear(){return this.start(),this},start(){return this.startAt(),this},startAt(e,t){return this.restorePathData(),this.accumulationLengths=void 0,olt(e,t,this.pathData),this.firstPointX=e,this.firstPointY=t,this.lastPointX=e,this.lastPointY=t,this},lineTo(e,t,i){return i===void 0&&(i=!1),i&&(e+=this.lastPointX,t+=this.lastPointY),Jr(e,t,this.pathData),this.lastPointX=e,this.lastPointY=t,this},verticalLineTo(e,t){return this.lineTo(e,this.lastPointY,t),this},horizontalLineTo(e,t){return this.lineTo(this.lastPointX,e,t),this},ellipticalArc(e,t,i,s,p,E,n){return n===void 0&&(n=!1),jr(e,t,i,s,p,E,n,this.iterations,this.pathData),this.lastPointX=this.pathData[this.pathData.length-2],this.lastPointY=this.pathData[this.pathData.length-1],this},arc(e,t,i,s,p,E){return this.ellipticalArc(e,t,i,i,s,p,E),this},quadraticBezierTo(e,t,i,s){return llt(e,t,i,s,this.iterations,this.pathData),this.lastPointX=i,this.lastPointY=s,this},cubicBezierTo(e,t,i,s,p,E){return hlt(e,t,i,s,p,E,this.iterations,this.pathData),this.lastPointX=p,this.lastPointY=E,this},catmullRomTo(...e){return ult(e,this.iterations,this.pathData),this.lastPointX=e[e.length-2],this.lastPointY=e[e.length-1],this},close(){var e=this.pathData[0],t=this.pathData[1];return(e!==this.lastPointX||t!==this.lastPointY)&&this.lineTo(e,t),this.closePath=!0,this},end(){return GG(this.pathData),this}},dlt=Phaser.Math.RotateAround;var clt=function(e,t,i,s){for(var p={x:0,y:0},E=0,n=s.length-1;E<n;E+=2)p.x=s[E],p.y=s[E+1],dlt(p,e,t,i),s[E]=p.x,s[E+1]=p.y;return s},vlt=function(e,t,i,s,p){for(var E=0,n=p.length-1;E<n;E+=2){var T=p[E]-e,r=p[E+1]-t;T*=i,r*=s,p[E]=T+e,p[E+1]=r+t}return p},kG=function(e,t,i){for(var s=0,p=i.length-1;s<p;s+=2)i[s]+=e,i[s+1]+=t;return i};const plt=Phaser.Math.DegToRad;Phaser.Math.RotateAround;const glt={rotateAround(e,t,i){if(this.pathData.length===0)return this;i=plt(i),clt(e,t,i,this.pathData);var s=this.pathData.length;return this.lastPointX=this.pathData[s-2],this.lastPointY=this.pathData[s-1],this},scale(e,t,i,s){return this.pathData.length===0?this:(vlt(e,t,i,s,this.pathData),this.lastPointX=this.pathData[pathDataCnt-2],this.lastPointY=this.pathData[pathDataCnt-1],this)},offset(e,t){return kG(e,t,this.pathData),this}};var ix=function(e,t,i,s){i===void 0&&(i=0),s===void 0&&(s=t.length),e.length=s-i;for(var p=0,E=e.length;p<E;p++)e[p]=t[p+i];return e};const mlt={savePathData(){return this.pathDataSaved?this:(this.pathDataSave=[...this.pathData],this.pathData.length=0,this.pathDataSaved=!0,this)},restorePathData(){return this.pathDataSaved?(ix(this.pathData,this.pathDataSave),this.pathDataSave=void 0,this.pathDataSaved=!1,this):this}},ylt=Phaser.Math.Distance.Between,xlt=Phaser.Math.Wrap,Tlt=Phaser.Math.Linear;var BI=function(e,t,i,s,p){if(s===void 0&&(s=i,i=0),i=GI(i),s=GI(s),i!==s){var E=t[t.length-1],n=E*i,T=E*s;i<s?sb(e,t,n,T,p):(sb(e,t,n,E,p),sb(e,t,0,T,p)),GG(p)}},sb=function(e,t,i,s,p){for(var E=i>0,n=0,T=t.length;n<T;n++){var r=n*2,o=t[n];if(E){if(o<i)continue;if(o==i)E=!1;else{var x=o-t[n-1],d=1-(o-i)/x;p.push($0(e,r-2,r,d)),p.push($0(e,r-1,r+1,d)),E=!1}}if(o<=s){if(p.push(e[r]),p.push(e[r+1]),o===s)break}else{var x=o-t[n-1],d=1-(o-s)/x;p.push($0(e,r-2,r,d)),p.push($0(e,r-1,r+1,d));break}}},$0=function(e,t,i,s){var p=e[t],E=e[i];return Tlt(p,E,s)},GI=function(e){return e===0?0:e%1===0?1:xlt(e,0,1)};const Clt={updateAccumulationLengths(){if(this.accumulationLengths==null)this.accumulationLengths=[];else if(this.accumulationLengths.length===this.pathData.length/2)return this;for(var e=this.accumulationLengths,t=this.pathData,i,s,p,E,n,T=0,r=0,o=t.length;r<o;r+=2)p=t[r],E=t[r+1],n=i===void 0?0:ylt(i,s,p,E),T+=n,e.push(T),i=p,s=E;return this.totalPathLength=T,this},setDisplayPathSegment(e,t){return this.pathDataSaved||(this.updateAccumulationLengths(),this.savePathData()),this.pathData.length=0,BI(this.pathDataSave,this.accumulationLengths,e,t,this.pathData),this},appendFromPathSegment(e,t,i){return t===void 0?this.pathData.push(...e.pathData):(e.updateAccumulationLengths(),BI(e.pathData,e.accumulationLengths,t,i,this.pathData)),this.firstPointX=this.pathData[0],this.firstPointY=this.pathData[1],this.lastPointX=this.pathData[this.pathData.length-2],this.lastPointY=this.pathData[this.pathData.length-1],this}},Slt={draw(e,t,i){var s=this.toPoints();return t&&e.fillPoints(s,this.closePath,this.closePath),i&&e.strokePoints(s,this.closePath,this.closePath),this}};var Elt=function(e,t){t===void 0&&(t=[]);for(var i=0,s=e.length-1;i<s;i+=2)t.push({x:e[i],y:e[i+1]});return t};const blt=Phaser.Geom.Polygon;var Plt=function(e,t){return t===void 0&&(t=new blt),t.setTo(e),t};class NG{constructor(t){t===void 0&&(t=[]),this.pathData=t,this.closePath=!1,this.setIterations(32),this.firstPointX=void 0,this.firstPointY=void 0,this.lastPointX=void 0,this.lastPointY=void 0,this.accumulationLengths=void 0}setIterations(t){return this.iterations=t,this}toPoints(){return Elt(this.pathData)}toPolygon(t){return Plt(this.pathData,t)}}Object.assign(NG.prototype,flt,glt,mlt,Clt,Slt);class pn extends Wp{constructor(){super(),this.builder=new NG(this.pathData)}get iterations(){return this.builder.iterations}set iterations(t){this.dirty=this.dirty||this.builder.iterations!==t,this.builder.setIterations(t)}setIterations(t){return this.iterations=t,this}get lastPointX(){return this.builder.lastPointX}get lastPointY(){return this.builder.lastPointY}start(){return this.builder.start(),this.dirty=!0,this}startAt(t,i){return this.builder.startAt(t,i),this.dirty=!0,this}lineTo(t,i,s){return this.builder.lineTo(t,i,s),this.dirty=!0,this}verticalLineTo(t,i){return this.builder.verticalLineTo(t,i),this.dirty=!0,this}horizontalLineTo(t,i){return this.builder.horizontalLineTo(t,i),this.dirty=!0,this}ellipticalArc(t,i,s,p,E,n,T){return this.builder.ellipticalArc(t,i,s,p,E,n,T),this.dirty=!0,this}arc(t,i,s,p,E,n){return this.builder.arc(t,i,s,p,E,n),this.dirty=!0,this}quadraticBezierTo(t,i,s,p){return this.builder.quadraticBezierTo(t,i,s,p),this.dirty=!0,this}cubicBezierTo(t,i,s,p,E,n){return this.builder.cubicBezierTo(t,i,s,p,E,n),this.dirty=!0,this}catmullRomTo(...t){return this.builder.catmullRomTo(...t),this.dirty=!0,this}close(){return this.builder.close(),this.closePath=this.builder.closePath,this.dirty=!0,this}end(){return this.builder.end(),this.dirty=!0,this}rotateAround(t,i,s){return this.builder.rotateAround(t,i,s),this.dirty=!0,this}scale(t,i,s,p){return this.builder.scale(t,i,s,p),this.dirty=!0,this}offset(t,i){return this.builder.offset(t,i),this.dirty=!0,this}toPolygon(t){return this.builder.toPolygon(t)}appendPathFrom(t,i,s){return this.builder.appendFromPathSegment(t.builder,i,s),this}copyPathFrom(t,i,s){return this.builder.clear().appendFromPathSegment(t.builder,i,s),this}setDisplayPathSegment(t,i){return this.builder.setDisplayPathSegment(t,i),this}}const wlt=Phaser.Renderer.WebGL.Utils.getTintAppendFloatAlpha;let Mlt=class extends Ux{constructor(t,i,s,p){t===void 0&&(t=0),i===void 0&&(i=0),s===void 0&&(s=0),p===void 0&&(p=s),super(),this.pathData=[],this.closePath=!0,this.setTopLeftPosition(t,i),this.setSize(s,p)}get x(){return this._x}set x(t){this.dirty=this.dirty||this._x!==t,this._x=t}get y(){return this._y}set y(t){this.dirty=this.dirty||this._y!==t,this._y=t}setTopLeftPosition(t,i){return this.x=t,this.y=i,this}get width(){return this._width}set width(t){this.dirty=this.dirty||this._width!==t,this._width=t}get height(){return this._height}set height(t){this.dirty=this.dirty||this._height!==t,this._height=t}setSize(t,i){return this.width=t,this.height=i,this}get centerX(){return this.x+this.width/2}set centerX(t){this.x=t-this.width/2}get centerY(){return this.y+this.height/2}set centerY(t){this.y=t-this.height/2}setCenterPosition(t,i){return this.centerX=t,this.centerY=i,this}updateData(){this.pathData.length=0;var t=this.x,i=t+this.width,s=this.y,p=s+this.height;return this.pathData.push(t,s),this.pathData.push(i,s),this.pathData.push(i,p),this.pathData.push(t,p),this.pathData.push(t,s),super.updateData(),this}webglRender(t,i,s,p,E){if(this.isFilled){var n=t.fillTint,T=wlt(this.fillColor,this.fillAlpha*s);n.TL=T,n.TR=T,n.BL=T,n.BR=T,t.batchFillRect(-p+this.x,-E+this.y,this.width,this.height)}this.isStroked&&Lx(t,this,s,p,E)}canvasRender(t,i,s){this.isFilled&&(Ip(t,this),t.fillRect(-i,-s,this.width,this.height)),this.isStroked&&(Bp(t,this),t.beginPath(),t.rect(-i,-s,this.width,this.height),t.stroke())}};const K0=Phaser.Utils.Objects.GetValue;class rx extends Wp{constructor(t,i,s,p,E,n){t===void 0&&(t=0),i===void 0&&(i=0),s===void 0&&(s=0),p===void 0&&(p=s),E===void 0&&(E=0),n===void 0&&(n=6),super(),this.setTopLeftPosition(t,i),this.setSize(s,p),this.setRadius(E),this.setIterations(n),this.closePath=!0}get x(){return this._x}set x(t){this.dirty=this.dirty||this._x!==t,this._x=t}get y(){return this._y}set y(t){this.dirty=this.dirty||this._y!==t,this._y=t}setTopLeftPosition(t,i){return this.x=t,this.y=i,this}get width(){return this._width}set width(t){this.dirty=this.dirty||this._width!==t,this._width=t}get height(){return this._height}set height(t){this.dirty=this.dirty||this._height!==t,this._height=t}setSize(t,i){return this.width=t,this.height=i,this}get centerX(){return this.x+this.width/2}set centerX(t){this.x=t-this.width/2}get centerY(){return this.y+this.height/2}set centerY(t){this.y=t-this.height/2}setCenterPosition(t,i){return this.centerX=t,this.centerY=i,this}get radiusTL(){return this._radiusTL}set radiusTL(t){var i=t>0;this.dirty=this.dirty||this._radiusTL!==t||this._convexTL!==i,this._convexTL=i,this._radiusTL=Math.abs(t)}get radiusTR(){return this._radiusTR}set radiusTR(t){var i=t>0;this.dirty=this.dirty||this._radiusTR!==t||this._convexTR!==i,this._convexTR=i,this._radiusTR=Math.abs(t)}get radiusBL(){return this._radiusBL}set radiusBL(t){var i=t>0;this.dirty=this.dirty||this._radiusBL!==t||this._convexBL!==i,this._convexBL=i,this._radiusBL=Math.abs(t)}get radiusBR(){return this._radiusBR}set radiusBR(t){var i=t>0;this.dirty=this.dirty||this._radiusBR!==t||this._convexBR!==i,this._convexBR=i,this._radiusBR=Math.abs(t)}get radius(){return Math.max(this.radiusTL,this.radiusTR,this.radiusBL,this.radiusBR)}set radius(t){typeof t=="number"?(this.radiusTL=t,this.radiusTR=t,this.radiusBL=t,this.radiusBR=t):(this.radiusTL=K0(t,"tl",0),this.radiusTR=K0(t,"tr",0),this.radiusBL=K0(t,"bl",0),this.radiusBR=K0(t,"br",0))}setRadius(t){return t===void 0&&(t=0),this.radius=t,this}get iterations(){return this._iterations}set iterations(t){this.dirty=this.dirty||this._iterations!==t,this._iterations=t}setIterations(t){return this.iterations=t,this}updateData(){var t=this.pathData;t.length=0;var i=this.width,s=this.height,p,E=this.iterations+1;if(p=this.radiusTL,p>0)if(this._convexTL){var n=p,T=p;jr(n,T,p,p,180,270,!1,E,t)}else{var n=0,T=0;jr(n,T,p,p,90,0,!0,E,t)}else Jr(0,0,t);if(p=this.radiusTR,p>0)if(this._convexTR){var n=i-p,T=p;jr(n,T,p,p,270,360,!1,E,t)}else{var n=i,T=0;jr(n,T,p,p,180,90,!0,E,t)}else Jr(i,0,t);if(p=this.radiusBR,p>0)if(this._convexBR){var n=i-p,T=s-p;jr(n,T,p,p,0,90,!1,E,t)}else{var n=i,T=s;jr(n,T,p,p,270,180,!0,E,t)}else Jr(i,s,t);if(p=this.radiusBL,p>0)if(this._convexBL){var n=p,T=s-p;jr(n,T,p,p,90,180,!1,E,t)}else{var n=0,T=s;jr(n,T,p,p,360,270,!0,E,t)}else Jr(0,s,t);return t.push(t[0],t[1]),kG(this.x,this.y,t),super.updateData(),this}}const Rlt=Phaser.Renderer.WebGL.Utils.getTintAppendFloatAlpha;let Alt=class extends Ux{constructor(t,i,s,p,E,n){t===void 0&&(t=0),i===void 0&&(i=0),s===void 0&&(s=0),p===void 0&&(p=0),E===void 0&&(E=0),n===void 0&&(n=0),super(),this.pathData=[],this.closePath=!0,this.setP0(t,i),this.setP1(s,p),this.setP2(E,n)}get x0(){return this._x0}set x0(t){this.dirty=this.dirty||this._x0!==t,this._x0=t}get y0(){return this._y0}set y0(t){this.dirty=this.dirty||this._y0!==t,this._y0=t}setP0(t,i){return this.x0=t,this.y0=i,this}get x1(){return this._x1}set x1(t){this.dirty=this.dirty||this._x1!==t,this._x1=t}get y1(){return this._y1}set y1(t){this.dirty=this.dirty||this._y1!==t,this._y1=t}setP1(t,i){return this.x1=t,this.y1=i,this}get x2(){return this._x2}set x2(t){this.dirty=this.dirty||this._x2!==t,this._x2=t}get y2(){return this._y2}set y2(t){this.dirty=this.dirty||this._y2!==t,this._y2=t}setP2(t,i){return this.dirty=this.dirty||this.x2!==t||this.y2!==i,this.x2=t,this.y2=i,this}updateData(){return this.pathData.length=0,this.pathData.push(this.x0,this.y0),this.pathData.push(this.x1,this.y1),this.pathData.push(this.x2,this.y2),this.pathData.push(this.x0,this.y0),super.updateData(),this}webglRender(t,i,s,p,E){if(this.isFilled){var n=Rlt(this.fillColor,this.fillAlpha*s),T=this.x0-p,r=this.y0-E,o=this.x1-p,x=this.y1-E,d=this.x2-p,h=this.y2-E,l=i.getX(T,r),a=i.getY(T,r),f=i.getX(o,x),c=i.getY(o,x),u=i.getX(d,h),v=i.getY(d,h);t.batchTri(l,a,f,c,u,v,n,n,n)}this.isStroked&&Lx(t,this,s,p,E)}canvasRender(t,i,s){var p=this.x1-i,E=this.y1-s,n=this.x2-i,T=this.y2-s,r=this.x3-i,o=this.y3-s;t.beginPath(),t.moveTo(p,E),t.lineTo(n,T),t.lineTo(r,o),t.closePath(),this.isFilled&&(Ip(t,this),t.fill()),this.isStroked&&(Bp(t,this),t.stroke())}};const Olt={buildShapes(){this.addShape(new rx().setName("box")).addShape(new pn().setName("checker"))},updateShapes(){var e=this.width/2,t=this.height/2,i=Math.min(e,t),s=i*2,p=e-i,E=t-i,n=this.boxLineWidth,T=Math.max(s/10,2),r=this.getShape("box"),o=this.getShape("checker");if(this.isSizeChanged){var h=s*(1-this.boxSize)/2,x=n/2,d=s*this.boxSize-n;r.setTopLeftPosition(p+x+h,E+x+h).setSize(d,d),this.isCircleShape?r.setRadius(d/2):r.setRadius(0);var h=s*(1-this.checkerSize)/2,l=s*this.checkerSize/4,a=l*1,f=l*2,c=l*3;o.startAt(a,f).lineTo(f,c).lineTo(c,a).offset(p+h,E+h).end()}this.checked?(r.fillStyle(this.boxFillColor,this.boxFillAlpha).lineStyle(n,this.boxStrokeColor,this.boxStrokeAlpha),o.lineStyle(T,this.checkerColor)):(r.fillStyle(this.uncheckedBoxFillColor,this.uncheckedBoxFillAlpha).lineStyle(n,this.uncheckedBoxStrokeColor,this.uncheckedBoxStrokeAlpha),o.lineStyle()),this.checked&&o.setDisplayPathSegment(this.checkerAnimProgress)}},ih=Phaser.Utils.Objects.GetValue,Llt=Phaser.Math.Linear;class gl extends Ku{constructor(t,i){super(t,i),this.resetFromJSON(),this.boot()}start(t){if(this.timer.isRunning)return this;var i=this.target;this.propertyKey=ih(t,"key","value");var s=i[this.propertyKey];return this.fromValue=ih(t,"from",s),this.toValue=ih(t,"to",s),this.setEase(ih(t,"ease",this.ease)),this.setDuration(ih(t,"duration",this.duration)),this.setRepeat(ih(t,"repeat",0)),this.setDelay(ih(t,"delay",0)),this.setRepeatDelay(ih(t,"repeatDelay",0)),this.timer.setDuration(this.duration).setRepeat(this.repeat).setDelay(this.delay).setRepeatDelay(this.repeatDelay),i[this.propertyKey]=this.fromValue,super.start(),this}updateTarget(t,i){var s=i.t;s=this.easeFn(s),t[this.propertyKey]=Llt(this.fromValue,this.toValue,s)}}const Dlt={setCheckerAnimationDuration(e){return e===void 0&&(e=0),this.checkerAnimDuration=e,this},playCheckerAnimation(){return this.checkerAnimProgressTask===void 0&&(this.checkerAnimProgressTask=new gl(this,{eventEmitter:null})),this.checkerAnimProgressTask.restart({key:"checkerAnimProgress",from:0,to:1,duration:this.checkerAnimDuration}),this},stopCheckerAnimation(){return this.checkerAnimProgressTask===void 0?this:(this.checkerAnimProgressTask.stop(),this)}};var UG={};Object.assign(UG,_ot,tlt,Olt,Dlt);const mp=23730,Flt=16777215,sr=Phaser.Utils.Objects.GetValue,kI=Phaser.Utils.Objects.IsPlainObject;class VG extends yl{constructor(t,i,s,p,E,n,T){kI(i)?(T=i,i=sr(T,"x",0),s=sr(T,"y",0),p=sr(T,"width",2),E=sr(T,"height",2),n=sr(T,"color",mp)):kI(n)&&(T=n,n=sr(T,"color",mp)),super(t,i,s,p,E),this.type="rexCheckbox",n===void 0&&(n=mp),this.setBoxShape(sr(T,"circleBox",!1)),this.setBoxFillStyle(n,sr(T,"boxFillAlpha",1)),this.setUncheckedBoxFillStyle(sr(T,"uncheckedColor",null),sr(T,"uncheckedBoxFillAlpha",1)),this.setBoxStrokeStyle(sr(T,"boxLineWidth",4),sr(T,"boxStrokeColor",n),sr(T,"boxStrokeAlpha",1)),this.setUncheckedBoxStrokeStyle(this.boxLineWidth,sr(T,"uncheckedBoxStrokeColor",this.boxStrokeColor),sr(T,"uncheckedBoxStrokeAlpha",this.boxStrokeAlpha)),this.setCheckerStyle(sr(T,"checkerColor",Flt),sr(T,"checkerAlpha",1)),this.setBoxSize(sr(T,"boxSize",1)),this.setCheckerSize(sr(T,"checkerSize",1)),this.setCheckerAnimationDuration(sr(T,"animationDuration",150)),this.buildShapes();var r=sr(T,"checked");r===void 0&&(r=sr(T,"value",!1)),this.setValue(r)}get value(){return this._value}set value(t){t=!!t,this._value!==t&&(this.dirty=!0,this._value=t,t?this.playCheckerAnimation():this.stopCheckerAnimation(),this.emit("valuechange",t))}setValue(t){return this.value=t,this}toggleValue(){return this.setValue(!this.value),this}get checked(){return this.value}set checked(t){this.value=t}setChecked(t){return t===void 0&&(t=!0),this.setValue(t),this}toggleChecked(){return this.toggleValue(),this}get checkerAnimProgress(){return this._checkerAnimProgress}set checkerAnimProgress(t){this._checkerAnimProgress!==t&&(this._checkerAnimProgress=t,this.dirty=!0)}}Object.assign(VG.prototype,UG);const $v=Phaser.Utils.Objects.GetValue;class xl extends ji{constructor(t,i){super(t,i),this._enable=void 0,t.setInteractive($v(i,"inputConfig",void 0)),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.lastClickTime=void 0,this.isDown=!1,this.isOver=!1,this.setEnable($v(t,"enable",!0)),this.setMode($v(t,"mode",1)),this.setClickInterval($v(t,"clickInterval",100)),this.setDragThreshold($v(t,"threshold",void 0)),this}boot(){var t=this.parent;t.on("pointerdown",this.onPress,this),t.on("pointerup",this.onRelease,this),t.on("pointerout",this.onPointOut,this),t.on("pointermove",this.onMove,this),t.on("pointerover",this.onOver,this),t.on("pointerout",this.onOut,this)}shutdown(t){this.isShutdown||(this.pointer=null,super.shutdown(t))}get enable(){return this._enable}set enable(t){if(this._enable!==t){t||this.cancel(),this._enable=t;var i=t?"enable":"disable";this.emit(i,this,this.parent)}}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}setMode(t){return typeof t=="string"&&(t=Ilt[t]),this.mode=t,this}setClickInterval(t){return this.clickInterval=t,this}setDragThreshold(t){return this.dragThreshold=t,this}onPress(t,i,s,p){this.pointer===void 0&&(this.pointer=t,this.isDown=!0,this.emit("down",this,this.parent,t,p),this.mode===0&&this.click(t.downTime,t,p))}onRelease(t,i,s,p){this.pointer===t&&(this.isDown=!1,this.emit("up",this,this.parent,t,p),this.mode===1&&this.click(t.upTime,t,p),this.pointer=void 0)}onPointOut(t,i){this.pointer===t&&this.cancel()}onMove(t,i,s,p){this.pointer===t&&this.dragThreshold!==void 0&&this.mode===1&&t.getDistance()>=this.dragThreshold&&this.cancel()}onOver(t,i,s,p){return this.enable?(this.isOver=!0,this.emit("over",this,this.parent,t,p),this):this}onOut(t,i){return this.enable?(this.isOver=!1,this.emit("out",this,this.parent,t,i),this):this}click(t,i,s){if(!this.enable)return this;if(t===void 0)return this.emit("click",this,this.parent,i,s),this;this.pointer=void 0;var p=this.lastClickTime;return p!==void 0&&t-p<=this.clickInterval?this:(this.lastClickTime=t,this.emit("click",this,this.parent,i,s),this)}cancel(){return this.pointer=void 0,this}}const Ilt={press:0,pointerdown:0,release:1,pointerup:1},rh=Phaser.Utils.Objects.GetValue,NI=Phaser.Utils.Objects.IsPlainObject;class nM extends VG{constructor(t,i,s,p,E,n,T){NI(i)?(T=i,i=rh(T,"x",0),s=rh(T,"y",0),p=rh(T,"width",2),E=rh(T,"height",2),n=rh(T,"color",mp)):NI(n)&&(T=n,n=rh(T,"color",mp)),super(t,i,s,p,E,n,T),this._click=new xl(this,rh(T,"click")),this._click.on("click",function(){this.toggleValue()},this),this.setReadOnly(rh(T,"readOnly",!1))}get readOnly(){return!this._click.enable}set readOnly(t){this._click.enable=!t}setReadOnly(t){return t===void 0&&(t=!0),this.readOnly=t,this}}It.register("checkbox",function(e,t,i,s,p,E){var n=new nM(this.scene,e,t,i,s,p,E);return this.scene.add.existing(n),n});Lt(window,"RexPlugins.UI.Checkbox",nM);const Blt={setTrackFillStyle(e,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.trackFillColor!==e||this.trackFillAlpha!==t,this.trackFillColor=e,this.trackFillAlpha=t,this},setFalseValueTrackFillStyle(e,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.falseValueTrackColor!==e||this.uncheckedTrackFillAlpha!==t,this.falseValueTrackColor=e,this.falseValueTrackFillAlpha=t,this},setThumbStyle(e,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.thumbColor!==e||this.checkAlpha!==t,this.thumbColor=e,this.thumbAlpha=t,this}},Glt={setTrackSize(e,t){return this.dirty=this.dirty||this.trackWidth!==e||this.trackHeight!==t,this.trackWidth=e,this.trackHeight=t,this},setTrackRadius(e){return this.dirty=this.dirty||this.trackRadius!==e,this.trackRadius=e,this},setThumbSize(e,t){return t===void 0&&(t=e),this.dirty=this.dirty||this.thumbWidth!==e||this.thumbHeight!==t,this.thumbWidth=e,this.thumbHeight=t,this},setThumbRadius(e){return this.dirty=this.dirty||this.thumbRadius!==e,this.thumbRadius=e,this}},klt={setThumbPosition(e,t){return t===void 0&&(t=1-e),this.thumbLeftX=e,this.thumbRightX=t,this},setRTL(e){return e===void 0&&(e=!0),this.rtl=e,this}};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var ab=function(e,t,i){return(t-e)*i+e},Nlt=function(e,t,i){var s=ab(Sp(e),Sp(t),i),p=ab(Ep(e),Ep(t),i),E=ab(bp(e),bp(t),i);return(s&255)<<16|(p&255)<<8|E&255};const UI=Phaser.Math.Linear,Ult={buildShapes(){this.addShape(new rx().setName("track")).addShape(new rx().setName("thumb"))},updateShapes(){var e=this.width,t=this.height,i=this.value?this.toggleAnimProgress:1-this.toggleAnimProgress,s=this.getShape("track");if(this.isSizeChanged){var p=e*this.trackWidth,E=t*this.trackHeight,n=(e-p)/2,T=(t-E)/2,r=t*this.trackRadius;s.setTopLeftPosition(n,T).setSize(p,E).setRadius(r)}var o=Nlt(this.falseValueTrackColor,this.trackFillColor,i),x=UI(this.falseValueTrackFillAlpha,this.trackFillAlpha,i);s.fillStyle(o,x);var d=this.getShape("thumb");if(this.isSizeChanged){var h=e*this.thumbWidth,l=t*this.thumbHeight,a=t*this.thumbRadius;d.setSize(h,l).setRadius(a)}var f=UI(this.thumbLeftX,this.thumbRightX,i)*e;this.rtl&&(f=e-f);var c=t/2;d.setCenterPosition(f,c),d.fillStyle(this.thumbColor,this.thumbAlpha)}},Vlt={setToggleAnimationDuration(e){return e===void 0&&(e=0),this.toggleAnimDuration=e,this},playToggleAnimation(){return this.toggleAnimProgressTask===void 0&&(this.toggleAnimProgressTask=new gl(this,{eventEmitter:null})),this.toggleAnimProgressTask.restart({key:"toggleAnimProgress",from:0,to:1,duration:this.toggleAnimDuration}),this},stopToggleAnimation(){return this.toggleAnimProgressTask===void 0?this:(this.toggleAnimProgressTask.stop(),this)}};var zG={};Object.assign(zG,Blt,Glt,klt,Ult,Vlt);var zlt=function(e){var t=.3*Sp(e)+.59*Ep(e)+.11*bp(e);return(t&255)<<16|(t&255)<<8|t&255};const ar=Phaser.Utils.Objects.GetValue,VI=Phaser.Utils.Objects.IsPlainObject,ob=23730,Wlt=16777215;class WG extends yl{constructor(t,i,s,p,E,n,T){VI(i)?(T=i,i=ar(T,"x",0),s=ar(T,"y",0),p=ar(T,"width",2),E=ar(T,"height",2),n=ar(T,"color",ob)):VI(n)&&(T=n,n=ar(T,"color",ob)),super(t,i,s,p,E),this.type="rexToggleSwitch",n===void 0&&(n=ob),this.setTrackFillStyle(n,ar(T,"trackFillAlpha",1)),this.setFalseValueTrackFillStyle(ar(T,"falseValueTrackColor",zlt(n)),ar(T,"falseValueTrackFillAlpha",1)),this.setThumbStyle(ar(T,"thumbColor",Wlt),ar(T,"thumbAlpha",1)),this.setTrackSize(ar(T,"trackWidth",.9),ar(T,"trackHeight",.5)),this.setTrackRadius(ar(T,"trackRadius",this.trackHeight*.5));var r=ar(T,"thumbHeight",void 0),o=ar(T,"thumbWidth",r);o===void 0&&(o=this.trackHeight*.9),this.setThumbSize(o,r),this.setThumbRadius(ar(T,"thumbRadius",this.thumbHeight*.5)),this.setThumbPosition(ar(T,"thumbLeft",.3),ar(T,"thumbRight",void 0)),this.setRTL(ar(T,"rtl",!1)),this.setToggleAnimationDuration(ar(T,"animationDuration",150)),this.buildShapes(),this.setValue(ar(T,"value",!1),0)}get value(){return this._value}set value(t){t=!!t,this._value!==t&&(this.dirty=!0,this._value=t,this.playToggleAnimation(),this.emit("valuechange",t))}setValue(t,i){i===void 0&&(i=this.toggleAnimDuration);var s=this.toggleAnimDuration;return this.toggleAnimDuration=i,this.value=t,this.toggleAnimDuration=s,this}toggleValue(t){return this.setValue(!this.value,t),this}get toggleAnimProgress(){return this._toggleAnimProgress}set toggleAnimProgress(t){this._toggleAnimProgress!==t&&(this._toggleAnimProgress=t,this.dirty=!0)}}Object.assign(WG.prototype,zG);const zI=Phaser.Utils.Objects.GetValue;class sM extends WG{constructor(t,i,s,p,E,n,T){super(t,i,s,p,E,n,T),this._click=new xl(this,zI(T,"click")),this._click.on("click",function(){this.toggleValue()},this),this.setReadOnly(zI(T,"readOnly",!1))}get readOnly(){return!this._click.enable}set readOnly(t){this._click.enable=!t}setReadOnly(t){return t===void 0&&(t=!0),this.readOnly=t,this}}It.register("toggleSwitch",function(e,t,i,s,p,E){var n=new sM(this.scene,e,t,i,s,p,E);return this.scene.add.existing(n),n});Lt(window,"RexPlugins.UI.ToggleSwitch",sM);const Ylt={loadFromURL(e,t){var i=this,s=new Image;return s.onload=function(){i.width!==s.width||i.height!==s.height?i.resize(s.width,s.height):i.clear(),i.context.drawImage(s,0,0),i.updateTexture(),t&&t(),s.onload=null,s.src="",s.remove()},s.src=e,this},loadFromURLPromise(e){var t=this;return new Promise(function(i,s){t.loadFromURL(e,i)})},loadFromFile(e,t){var i=URL.createObjectURL(e);return this.loadFromURL(i,function(){URL.revokeObjectURL(i),t&&t()}),this},loadFromFilePromise(e){var t=this;return new Promise(function(i,s){t.loadFromFile(e,i)})}};class Zu extends Rh{}Object.assign(Zu.prototype,Ylt);It.register("canvas",function(e,t,i,s){var p=new Zu(this.scene,e,t,i,s);return this.scene.add.existing(p),p});Lt(window,"RexPlugins.UI.Canvas",Zu);const od=Phaser.Utils.Objects.GetValue;class YG extends Rh{constructor(t,i,s,p,E,n){super(t,i,s),this.type="rexCircleMaskImage",this.setTexture(p,E,n)}setTexture(t,i,s){typeof i=="object"&&(s=i,i=void 0),typeof s=="string"&&(s={maskType:s});var p=od(s,"maskType",0),E=od(s,"backgroundColor",void 0),n=od(s,"strokeColor",void 0),T=n!=null?10:0,r=od(s,"strokeWidth",T);if(p===void 0?p=0:typeof p=="string"&&(p=Xlt[p]),this._textureKey=t,this._frameName=i,p===null)return this.loadTexture(t,i),this.dirty=!0,this;var o=this.scene.sys.textures.getFrame(t,i);if(!o)return this;o.cutWidth!==this.width||o.cutHeight!==this.height?this.setCanvasSize(o.cutWidth,o.cutHeight):this.clear();var x=this.canvas,d=this.context,h=x.width,l=x.height;E!=null&&(d.fillStyle=E,d.fillRect(0,0,h,l)),d.save(),d.beginPath();var a=r/2;switch(p){case 1:var g=Math.floor(h/2),m=Math.floor(l/2),f=g-a,c=m-a;d.ellipse(g,m,f,c,0,0,2*Math.PI);break;case 2:var u=od(s,"radius",0),v=od(s,"iteration",void 0);C9(d,a,a,h-r,l-r,u,v);break;default:var g=Math.floor(h/2),m=Math.floor(l/2),y=Math.min(g,m)-a;d.arc(g,m,y,0,2*Math.PI);break}return n!=null&&(d.strokeStyle=n,d.lineWidth=r,d.stroke()),d.clip(),this.loadTexture(t,i),d.restore(),this.dirty=!0,this}resize(t,i){return this.setDisplaySize(t,i),this}}const Xlt={circle:0,ellipse:1,roundRectangle:2};It.register("circleMaskImage",function(e,t,i,s,p){var E=new YG(this.scene,e,t,i,s,p);return this.scene.add.existing(E),E});Lt(window,"RexPlugins.UI.CircleMaskImage",YG);const Kv=Phaser.Utils.Objects.GetValue;class XG extends Rh{constructor(t,i,s,p,E,n){super(t,i,s),this.type="rexAlphaMaskImage",this.maskFrame=null,this.setTexture(p,E,n)}setTexture(t,i,s){typeof i=="object"&&(s=i,i=void 0),typeof s=="string"&&(s={mask:{key:s}});var p=Kv(s,"mask.key"),E=Kv(s,"mask.frame"),n=Kv(s,"mask.invertAlpha",!1),T=Kv(s,"mask.scale"),r=Kv(s,"backgroundColor");if(p){this._maskKey=p,this._maskFrame=E,this._maskScale=T;var o=p?this.scene.sys.textures.get(p):null;this.maskFrame=o?o.get(E):null}this._textureKey=t,this._frameName=i;var x=this.maskFrame;if(x===null)return this.loadTexture(t,i),this.dirty=!0,this;var d=r!=null;this.loadTexture(t,i);var h=this.canvas,l=this.context,a=h.width,f=h.height;l.save(),l.globalCompositeOperation=n?"destination-out":"destination-in";var c,u;this._maskScale!=null?(c=x.cutWidth*this._maskScale,u=x.cutHeight*this._maskScale):(c=a,u=f);var v=(a-c)/2,g=(f-u)/2;return this.drawFrame(this._maskKey,this._maskFrame,v,g,c,u),l.restore(),d&&(l.save(),l.globalCompositeOperation="destination-over",l.fillStyle=r,l.fillRect(0,0,a,f),l.restore()),this.dirty=!0,this}resize(t,i){return this.setDisplaySize(t,i),this}}It.register("alphaMaskImage",function(e,t,i,s,p){var E=new XG(this.scene,e,t,i,s,p);return this.scene.add.existing(E),E});Lt(window,"RexPlugins.UI.AlphaMaskImage",XG);const Hlt=Phaser.Math.Linear,WI=Phaser.Math.Percent,$lt={setValue(e,t,i){return e==null?this:(t!==void 0&&(e=WI(e,t,i)),this.value=e,this)},addValue(e,t,i){return t!==void 0&&(e=WI(e,t,i)),this.value+=e,this},getValue(e,t){var i=this.value;return e!==void 0&&t!==void 0&&(i=Hlt(e,t,i)),i}},Klt=Phaser.Math.Percent,Zlt={setEaseValuePropName(e){return this.easeValuePropName=e,this},setEaseValueDuration(e){return this.easeValueDuration=e,this},setEaseValueFunction(e){return this.easeFunction=e,this},stopEaseValue(){return this.easeValueTask&&this.easeValueTask.stop(),this},easeValueTo(e,t,i){return e==null?this:(t!==void 0&&(e=Klt(e,t,i)),this.easeValueTask===void 0&&(this.easeValueTask=new gl(this,{eventEmitter:null})),this.easeValueTask.restart({key:this.easeValuePropName,to:e,duration:this.easeValueDuration,ease:this.easeFunction}),this)},easeValueRepeat(e,t,i,s){return i===void 0&&(i=-1),s===void 0&&(s=0),this.easeValueTask===void 0&&(this.easeValueTask=new gl(this,{eventEmitter:null})),this.easeValueTask.restart({key:this.easeValuePropName,from:e,to:t,duration:this.easeValueDuration,ease:this.easeFunction,repeat:i,repeatDelay:s}),this}},Zv=Phaser.Utils.Objects.GetValue,Jlt=Phaser.Math.Clamp;function Ah(e){class t extends e{bootProgressBase(s){this.eventEmitter=Zv(s,"eventEmitter",this);var p=Zv(s,"valuechangeCallback",null);if(p!==null){var E=Zv(s,"valuechangeCallbackScope",void 0);this.eventEmitter.on("valuechange",p,E)}return this.setEaseValuePropName("value").setEaseValueDuration(Zv(s,"easeValue.duration",0)).setEaseValueFunction(Zv(s,"easeValue.ease","Linear")),this}get value(){return this._value}set value(s){s=Jlt(s,0,1);var p=this._value,E=p!=s;this.dirty=this.dirty||E,this._value=s,E&&this.eventEmitter.emit("valuechange",this._value,p,this.eventEmitter)}}return Object.assign(t.prototype,$lt,Zlt),t}const jlt=Phaser.Math.RadToDeg,YI=Phaser.Math.DegToRad;var XI=function(e,t,i,s,p,E,n,T){var r=Math.abs(n-E)===360,o=YI(E),x=YI(n),d=Math.cos(o),h=Math.sin(o),l=Math.cos(x),a=Math.sin(x);return e.startAt(t+d*s,i+h*s),e.arc(t,i,s,E,n,T),r&&p===0||(e.lineTo(t+l*p,i+a*p),p>0&&e.arc(t,i,p,n,E,!T)),e.close(),e};const Qlt={buildShapes(){var e=this.iterations;this.addShape(new pn().setIterations(e).setName("track")).addShape(new pn().setIterations(e).setName("bar")).addShape(new ra().setIterations(e).setName("center"))},updateShapes(){var e=this.radius,t=this.thickness*this.radius,i=this.radius,s=i-t,p=this.getShape("track");this.trackColor!=null&&this.thickness>0?(p.fillStyle(this.trackColor),XI(p,e,e,i,s,0,360,!1)):p.reset();var E=this.getShape("bar");if(this.barColor!=null&&this.thickness>0){var n,T,r;if(this.value===1)n=!1,T=0,r=360;else{n=this.anticlockwise,T=jlt(this.startAngle);var o=360*(n?1-this.value:this.value);r=o+T}E.fillStyle(this.barColor),XI(E,e,e,i+1,s-1,T,r,!1)}else E.reset();var x=this.getShape("center");this.centerColor&&s>0?x.setCenterPosition(e,e).setRadius(s).fillStyle(this.centerColor):x.reset()}},Pa=Phaser.Utils.Objects.GetValue,qlt=Phaser.Utils.Objects.IsPlainObject,_lt=Phaser.Math.Clamp,tht=Phaser.Math.DegToRad(270);let aM=class extends Ah(yl){constructor(t,i,s,p,E,n,T){qlt(i)&&(T=i,i=Pa(T,"x",0),s=Pa(T,"y",0),p=Pa(T,"radius",1),E=Pa(T,"barColor",void 0),n=Pa(T,"value",0)),p===void 0&&(p=1);var r=p*2;super(t,i,s,r,r),this.type="rexCircularProgress",this.bootProgressBase(T),this.setRadius(p),this.setTrackColor(Pa(T,"trackColor",void 0)),this.setBarColor(E),this.setCenterColor(Pa(T,"centerColor",void 0)),this.setThickness(Pa(T,"thickness",.2)),this.setStartAngle(Pa(T,"startAngle",tht)),this.setAnticlockwise(Pa(T,"anticlockwise",!1)),this.iterations=Pa(T,"iterations",128),this.buildShapes(),this.setValue(n)}resize(t,i){return t=Math.floor(Math.min(t,i)),t===this.width?this:(super.resize(t,t),this.setRadius(t/2),this)}get radius(){return this._radius}set radius(t){this.dirty=this.dirty||this._radius!=t,this._radius=t;var i=t*2;this.resize(i,i)}setRadius(t){return this.radius=t,this}get trackColor(){return this._trackColor}set trackColor(t){this.dirty=this.dirty||this._trackColor!=t,this._trackColor=t}setTrackColor(t){return this.trackColor=t,this}get barColor(){return this._barColor}set barColor(t){this.dirty=this.dirty||this._barColor!=t,this._barColor=t}setBarColor(t){return this.barColor=t,this}get startAngle(){return this._startAngle}set startAngle(t){this.dirty=this.dirty||this._startAngle!=t,this._startAngle=t}setStartAngle(t){return this.startAngle=t,this}get anticlockwise(){return this._anticlockwise}set anticlockwise(t){this.dirty=this.dirty||this._anticlockwise!=t,this._anticlockwise=t}setAnticlockwise(t){return t===void 0&&(t=!0),this.anticlockwise=t,this}get thickness(){return this._thickness}set thickness(t){t=_lt(t,0,1),this.dirty=this.dirty||this._thickness!=t,this._thickness=t}setThickness(t){return this.thickness=t,this}get centerColor(){return this._centerColor}set centerColor(t){this.dirty=this.dirty||this._centerColor!=t,this._centerColor=t}setCenterColor(t){return this.centerColor=t,this}};Object.assign(aM.prototype,Qlt);It.register("circularProgress",function(e,t,i,s,p,E){var n=new aM(this.scene,e,t,i,s,p,E);return this.scene.add.existing(n),n});Lt(window,"RexPlugins.UI.CircularProgress",aM);var lb=function(e,t,i,s,p,E,n,T,r,o,x,d){o===void 0&&(o=0),x===void 0&&(x=2*Math.PI),d===void 0&&(d=!1),t.beginPath(),t.ellipse(i,s,p,E,0,o,x,d),n!=null&&(t.fillStyle=n,t.fill()),T!=null&&(t.strokeStyle=T,t.lineWidth=r,t.stroke())};const HI=["AliceBlue","AntiqueWhite","Aqua","Aquamarine","Azure","Beige","Bisque","Black","BlanchedAlmond","Blue","BlueViolet","Brown","BurlyWood","CadetBlue","Chartreuse","Chocolate","Coral","CornflowerBlue","Cornsilk","Crimson","Cyan","DarkBlue","DarkCyan","DarkGoldenRod","DarkGray","DarkGrey","DarkGreen","DarkKhaki","DarkMagenta","DarkOliveGreen","DarkOrange","DarkOrchid","DarkRed","DarkSalmon","DarkSeaGreen","DarkSlateBlue","DarkSlateGray","DarkSlateGrey","DarkTurquoise","DarkViolet","DeepPink","DeepSkyBlue","DimGray","DimGrey","DodgerBlue","FireBrick","FloralWhite","ForestGreen","Fuchsia","Gainsboro","GhostWhite","Gold","GoldenRod","Gray","Grey","Green","GreenYellow","HoneyDew","HotPink","IndianRed","Indigo","Ivory","Khaki","Lavender","LavenderBlush","LawnGreen","LemonChiffon","LightBlue","LightCoral","LightCyan","LightGoldenRodYellow","LightGray","LightGrey","LightGreen","LightPink","LightSalmon","LightSeaGreen","LightSkyBlue","LightSlateGray","LightSlateGrey","LightSteelBlue","LightYellow","Lime","LimeGreen","Linen","Magenta","Maroon","MediumAquaMarine","MediumBlue","MediumOrchid","MediumPurple","MediumSeaGreen","MediumSlateBlue","MediumSpringGreen","MediumTurquoise","MediumVioletRed","MidnightBlue","MintCream","MistyRose","Moccasin","NavajoWhite","Navy","OldLace","Olive","OliveDrab","Orange","OrangeRed","Orchid","PaleGoldenRod","PaleGreen","PaleTurquoise","PaleVioletRed","PapayaWhip","PeachPuff","Peru","Pink","Plum","PowderBlue","Purple","RebeccaPurple","Red","RosyBrown","RoyalBlue","SaddleBrown","Salmon","SandyBrown","SeaGreen","SeaShell","Sienna","Silver","SkyBlue","SlateBlue","SlateGray","SlateGrey","Snow","SpringGreen","SteelBlue","Tan","Teal","Thistle","Tomato","Turquoise","Violet","Wheat","White","WhiteSmoke","Yellow","YellowGreen"],eht=[15792383,16444375,65535,8388564,15794175,16119260,16770244,0,16772045,255,9055202,10824234,14596231,6266528,8388352,13789470,16744272,6591981,16775388,14423100,65535,139,35723,12092939,11119017,11119017,25600,12433259,9109643,5597999,16747520,10040012,9109504,15308410,9419919,4734347,3100495,3100495,52945,9699539,16716947,49151,6908265,6908265,2003199,11674146,16775920,2263842,16711935,14474460,16316671,16766720,14329120,8421504,8421504,32768,11403055,15794160,16738740,13458524,4915330,16777200,15787660,15132410,16773365,8190976,16775885,11393254,15761536,14745599,16448210,13882323,13882323,9498256,16758465,16752762,2142890,8900346,7833753,7833753,11584734,16777184,65280,3329330,16445670,16711935,8388608,6737322,205,12211667,9662683,3978097,8087790,64154,4772300,13047173,1644912,16121850,16770273,16770229,16768685,128,16643558,8421376,7048739,16753920,16729344,14315734,15657130,10025880,11529966,14381203,16773077,16767673,13468991,16761035,14524637,11591910,8388736,6697881,16711680,12357519,4286945,9127187,16416882,16032864,3050327,16774638,10506797,12632256,8900331,6970061,7372944,7372944,16775930,65407,4620980,13808780,32896,14204888,16737095,4251856,15631086,16113331,16777215,16119285,16776960,10145074];var ZP={},$I;for(var Z0=0,iht=HI.length;Z0<iht;Z0++)$I=HI[Z0].toLowerCase(),ZP[$I]=eht[Z0];var rht=function(e){return e=e.toLowerCase(),ZP.hasOwnProperty(e)?ZP[e]:null},JP=function(e){return typeof e!="string"||(e.startsWith("#")?e=parseInt(e.substring(1),16):e.startsWith("0x")?e=parseInt(e.substring(2),16):e=rht(e)),e};const nht=Phaser.Math.DegToRad,hb=Phaser.Math.Linear;var sht=function(e,t,i,s,p,E,n,T,r,o,x,d,h){o===void 0&&(o=0),x===void 0&&(x=2*Math.PI),d===void 0&&(d=!1),h===void 0&&(h=2),n=JP(n),T=JP(T),Jv=_F(n,Jv),jv=_F(T,jv);var l=nht(h),a;d?a=o-x:a=x-o,a<0&&(a+=2*Math.PI);var f=Math.ceil(a/l),c=a/f;d&&(c=-c);for(var u=0;u<f;u++){var v=u/f,g=Math.round(hb(Jv.r,jv.r,v)),m=Math.round(hb(Jv.g,jv.g,v)),y=Math.round(hb(Jv.b,jv.b,v)),C=o+u*c,P=C+c;u<f-1&&(P+=c/2),t.beginPath(),t.ellipse(i,s,p,E,0,C,P,d),t.strokeStyle=`rgb(${g},${m},${y})`,t.lineWidth=r,t.stroke()}},Jv,jv,aht=function(e,t,i,s,p,E,n,T,r,o,x){r===void 0&&T!=null&&(r=2),t.font=E,t.textAlign=o,t.textBaseline=x,t.fillStyle=n,t.strokeStyle=T,t.lineWidth=r,t.lineCap="round",t.lineJoin="round",T!=null&&T!=="none"&&r>0&&t.strokeText(p,i,s),n!=null&&n!=="none"&&t.fillText(p,i,s)};const ub=Phaser.Math.PI2;var oht=function(){var e=this.radius,t=this.thickness*this.radius,i=this.radius-t/2,s=this.radius-t,p=this.canvas,E=this.context,n=this.anticlockwise,T=this.startAngle,r=this.endAngle,o=this._deltaAngle;if(this.trackColor&&t>0&&(E.save(),lb(p,E,e,e,i,i,void 0,this.trackColor,t,T,r,n),E.restore()),this.barColor&&i>0){var x;this.value>=1?x=r:n?x=(T-o*this.value+ub)%ub:x=(T+o*this.value)%ub,E.save(),this.barColor2?sht(p,E,e,e,i,i,this.barColor2,this.barColor,t,T,x,n):lb(p,E,e,e,i,i,void 0,this.barColor,t,T,x,n),E.restore()}if(this.centerColor&&s>0){var d;this.centerColor2?(d=this.context.createRadialGradient(e,e,0,e,e,s),d.addColorStop(0,this.centerColor),d.addColorStop(1,this.centerColor2)):d=this.centerColor,E.save(),lb(p,E,e,e,s,s,d),E.restore()}this.textFormatCallback&&(this.textColor||this.textStrokeColor)&&(E.save(),aht(p,E,e,e,this.getFormatText(),this.textFont,this.textColor,this.textStrokeColor,this.textStrokeThickness,"center","middle"),E.restore())};const _i=Phaser.Utils.Objects.GetValue,lht=Phaser.Utils.Objects.IsPlainObject,hht=Phaser.Math.Clamp,uht=Phaser.Math.DegToRad(270),nx=Phaser.Math.PI2;class Vx extends Ah(Rh){constructor(t,i,s,p,E,n,T){lht(i)&&(T=i,i=_i(T,"x",0),s=_i(T,"y",0),p=_i(T,"radius",1),E=_i(T,"barColor",void 0),n=_i(T,"value",0));var r=p*2,o=_i(T,"resolution",1);super(t,i,s,r,r,o),this.type="rexCircularProgressCanvas",this.bootProgressBase(T),this.setRadius(p),this.setTrackColor(_i(T,"trackColor",void 0)),this.setBarColor(E),this.setBarColor2(_i(T,"barColor2",void 0)),this.setCenterColor(_i(T,"centerColor",void 0)),this.setThickness(_i(T,"thickness",.2)),this.setAnticlockwise(_i(T,"anticlockwise",!1)),this.setStartAngle(_i(T,"startAngle",uht));var x=_i(T,"endAngle");x===void 0&&(this.anticlockwise?x=this.startAngle-nx:x=this.startAngle+nx),this.setEndAngle(_i(T,"endAngle",x)),this.setTextColor(_i(T,"textColor",void 0)),this.setTextStrokeColor(_i(T,"textStrokeColor",void 0),_i(T,"textStrokeThickness",void 0));var d=_i(T,"textFont",void 0);d?this.setTextFont(d):this.setTextFont(_i(T,"textSize","16px"),_i(T,"textFamily","Courier"),_i(T,"textStyle","")),this.setTextFormatCallback(_i(T,"textFormatCallback",void 0),_i(T,"textFormatCallbackScope",void 0)),this.setValue(n)}resize(t,i){return t=Math.floor(Math.min(t,i)),t===this.width?this:(super.resize(t,t),this.setRadius(t/2),this)}get radius(){return this._radius}set radius(t){this.dirty=this.dirty||this._radius!=t,this._radius=t;var i=t*2;this.resize(i,i)}setRadius(t){return this.radius=t,this}get trackColor(){return this._trackColor}set trackColor(t){t=Ye(t,this.canvas,this.context),this.dirty=this.dirty||this._trackColor!=t,this._trackColor=t}setTrackColor(t){return this.trackColor=t,this}get barColor(){return this._barColor}set barColor(t){t=Ye(t,this.canvas,this.context),this.dirty=this.dirty||this._barColor!=t,this._barColor=t}setBarColor(t){return this.barColor=t,this}get barColor2(){return this._barColor2}set barColor2(t){t=Ye(t,this.canvas,this.context),this.dirty=this.dirty||this._barColor2!=t,this._barColor2=t}setBarColor2(t){return this.barColor2=t,this}get startAngle(){return this._startAngle}set startAngle(t){this.dirty=this.dirty||this._startAngle!=t,this._startAngle=t,this._deltaAngle=fb(this._startAngle,this._endAngle,this._anticlockwise)}setStartAngle(t){return this.startAngle=t,this}get endAngle(){return this._endAngle}set endAngle(t){this.dirty=this.dirty||this._endAngle!=t,this._endAngle=t,this._deltaAngle=fb(this._startAngle,this._endAngle,this._anticlockwise)}setEndAngle(t){return this.endAngle=t,this}get anticlockwise(){return this._anticlockwise}set anticlockwise(t){this.dirty=this.dirty||this._anticlockwise!=t,this._anticlockwise=t,this._deltaAngle=fb(this._startAngle,this._endAngle,this._anticlockwise)}setAnticlockwise(t){return t===void 0&&(t=!0),this.anticlockwise=t,this}get thickness(){return this._thickness}set thickness(t){t=hht(t,0,1),this.dirty=this.dirty||this._thickness!=t,this._thickness=t}setThickness(t){return this.thickness=t,this}get centerColor(){return this._centerColor}set centerColor(t){t=Ye(t,this.canvas,this.context),this.dirty=this.dirty||this._centerColor!=t,this._centerColor=t}get centerColor2(){return this._centerColor2}set centerColor2(t){t=Ye(t,this.canvas,this.context),this.dirty=this.dirty||this._centerColor2!=t,this._centerColor2=t}setCenterColor(t,i){return this.centerColor=t,this.centerColor2=i,this}get textColor(){return this._textColor}set textColor(t){t=Ye(t,this.canvas,this.context),this.dirty=this.dirty||this._textColor!=t,this._textColor=t}setTextColor(t){return this.textColor=t,this}get textStrokeColor(){return this._textStrokeColor}set textStrokeColor(t){t=Ye(t,this.canvas,this.context),this.dirty=this.dirty||this._textStrokeColor!=t,this._textStrokeColor=t}get textStrokeThickness(){return this._textStrokeThickness}set textStrokeThickness(t){this.dirty=this.dirty||this._textStrokeThickness!=t,this._textStrokeThickness=t}setTextStrokeColor(t,i){return i===void 0&&(i=2),this.textStrokeColor=t,this.textStrokeThickness=i,this}get textFont(){return this._textFont}set textFont(t){this.dirty=this.dirty||this._textFont!=t,this._textFont=t}setTextFont(t,i,s){var p;return i===void 0?p=t:p=s+" "+t+" "+i,this.textFont=p,this}setTextFormatCallback(t,i){return this.textFormatCallback=t,this.textFormatCallbackScope=i,this}updateTexture(){return super.updateTexture(function(){this.clear(),oht.call(this)},this),this}getFormatText(t){t===void 0&&(t=this.value);var i;return this.textFormatCallbackScope?i=this.textFormatCallback(t):i=this.textFormatCallback.call(this.textFormatCallbackScope,t),i}}var fb=function(e,t,i){return i?e<=t?nx+e-t:e-t:e>=t?nx+t-e:t-e};It.register("circularProgressCanvas",function(e,t,i,s,p,E){var n=new Vx(this.scene,e,t,i,s,p,E);return this.scene.add.existing(n),n});Lt(window,"RexPlugins.UI.CircularProgressCanvas",Vx);var fht=function(){var e=this.skewX,t=this.width-Math.abs(e),i=this.height,s=this.getShape("trackFill");s.fillStyle(this.trackColor),s.isFilled&&db(s,0,0,t,i,e);var p=this.getShape("bar");if(p.fillStyle(this.barColor),p.isFilled){var E,n;this.rtl?(E=t*(1-this.value),n=t):(E=0,n=t*this.value),db(p,E,0,n,i,e)}var T=this.getShape("trackStroke");T.lineStyle(this.trackStrokeThickness,this.trackStrokeColor),T.isStroked&&db(T,0,0,t,i,e)},db=function(e,t,i,s,p,E){var n=(t+s)/2;return E>=0?e.startAt(n+E,i).lineTo(s+E,i).lineTo(s,p).lineTo(t,p).lineTo(t+E,i).lineTo(n+E,i):e.startAt(n,i).lineTo(s,i).lineTo(s-E,p).lineTo(t-E,p).lineTo(t,i).lineTo(n,i),e.close(),e};const Qv=Phaser.Utils.Objects.GetValue,cb=Phaser.Utils.Objects.IsPlainObject;let zx=class extends Ah(yl){constructor(t,i,s,p,E,n,T,r){cb(i)?(r=i,i=r.x,s=r.y,p=r.width,E=r.height,n=r.barColor,T=r.value):cb(p)?(r=p,p=r.width,E=r.height,n=r.barColor,T=r.value):cb(n)&&(r=n,n=r.barColor,T=r.value),i===void 0&&(i=0),s===void 0&&(s=0),p===void 0&&(p=2),E===void 0&&(E=p),T===void 0&&(T=0),super(t,i,s,p,E,r),this.type="rexLineProgress",this.bootProgressBase(r),this.addShape(new pn().setName("trackFill")).addShape(new pn().setName("bar")).addShape(new pn().setName("trackStroke")),this.setTrackColor(Qv(r,"trackColor",void 0)),this.setBarColor(n),this.setTrackStroke(Qv(r,"trackStrokeThickness",2),Qv(r,"trackStrokeColor",void 0)),this.setSkewX(Qv(r,"skewX",0)),this.setRTL(Qv(r,"rtl",!1)),this.setValue(T)}get trackColor(){return this._trackColor}set trackColor(t){this.dirty=this.dirty||this._trackColor!=t,this._trackColor=t}setTrackColor(t){return this.trackColor=t,this}get trackStrokeColor(){return this._trackStrokeColor}set trackStrokeColor(t){this.dirty=this.dirty||this._trackStrokeColor!=t,this._trackStrokeColor=t}get trackStrokeThickness(){return this._trackStrokeThickness}set trackStrokeThickness(t){this.dirty=this.dirty||this._trackStrokeThickness!=t,this._trackStrokeThickness=t}setTrackStroke(t,i){return this.trackStrokeThickness=t,this.trackStrokeColor=i,this}get barColor(){return this._barColor}set barColor(t){this.dirty=this.dirty||this._barColor!=t,this._barColor=t}setBarColor(t){return this.barColor=t,this}get skewX(){return this._skewX}set skewX(t){this.dirty=this.dirty||this._skewX!=t,this._skewX=t}setSkewX(t){return this.skewX=t,this}get rtl(){return this._rtl}set rtl(t){t=!!t,this.dirty=this.dirty||this._rtl!=t,this._rtl=t}setRTL(t){return t===void 0&&(t=!0),this.rtl=t,this}};var dht={updateShapes:fht};Object.assign(zx.prototype,dht);It.register("lineProgress",function(e,t,i,s,p,E,n){var T=new zx(this.scene,e,t,i,s,p,E,n);return this.scene.add.existing(T),T});Lt(window,"RexPlugins.UI.LineProgress",zx);var jP=function(e,t,i,s,p){e.setIterations(p).start();var T=s.tl;if(Ji(T))if(T.convex){var E=T.x,n=T.y;e.ellipticalArc(E,n,T.x,T.y,180,270,!1)}else{var E=0,n=0;e.ellipticalArc(E,n,T.x,T.y,90,0,!0)}else e.lineTo(0,0);var T=s.tr;if(Ji(T))if(T.convex){var E=t-T.x,n=T.y;e.ellipticalArc(E,n,T.x,T.y,270,360,!1)}else{var E=t,n=0;e.ellipticalArc(E,n,T.x,T.y,180,90,!0)}else e.lineTo(t,0);var T=s.br;if(Ji(T))if(T.convex){var E=t-T.x,n=i-T.y;e.ellipticalArc(E,n,T.x,T.y,0,90,!1)}else{var E=t,n=i;e.ellipticalArc(E,n,T.x,T.y,270,180,!0)}else e.lineTo(t,i);var T=s.bl;if(Ji(T))if(T.convex){var E=T.x,n=i-T.y;e.ellipticalArc(E,n,T.x,T.y,90,180,!1)}else{var E=0,n=i;e.ellipticalArc(E,n,T.x,T.y,360,270,!0)}else e.lineTo(0,i);return e.close(),e},J0=Phaser.Math.RadToDeg,cht=function(e,t,i,s,p){var E=t*p,o=s.tl;if(Ji(o)){var n;E>o.x?n=90:n=J0(Math.acos((o.x-E)/o.x));var T=o.x,r=o.y;e.ellipticalArc(T,r,o.x,o.y,180,180+n,!1)}else e.lineTo(0,0);var o=s.tr;if(Ji(o)&&E>t-o.x){var n=90-J0(Math.acos((E-(t-o.x))/o.x)),T=t-o.x,r=o.y;e.ellipticalArc(T,r,o.x,o.y,270,270+n,!1)}else e.lineTo(E,0);var o=s.br;if(Ji(o)&&E>t-o.x){var n=90-J0(Math.acos((E-(t-o.x))/o.x)),T=t-o.x,r=i-o.y;e.ellipticalArc(T,r,o.x,o.y,90-n,90,!1)}else e.lineTo(E,i);var o=s.bl;if(Ji(o)){var n;E>o.x?n=90:n=J0(Math.acos((o.x-E)/o.x));var T=o.x,r=i-o.y;e.ellipticalArc(T,r,o.x,o.y,180-n,180,!1)}else e.lineTo(0,i)},j0=Phaser.Math.RadToDeg,vht=function(e,t,i,s,p){var E=i*p,o=s.tl;if(Ji(o)){var n;E>o.y?n=90:n=j0(Math.acos((o.y-E)/o.y));var T=o.x,r=o.y;e.ellipticalArc(T,r,o.x,o.y,270-n,270,!1)}else e.lineTo(0,0);var o=s.tr;if(Ji(o)){var n;E>o.y?n=90:n=j0(Math.acos((o.y-E)/o.y));var T=t-o.x,r=o.y;e.ellipticalArc(T,r,o.x,o.y,270,270+n,!1)}else e.lineTo(t,0);var o=s.br;if(Ji(o)&&E>i-o.y){var n=90-j0(Math.acos((E-(i-o.y))/o.y)),T=t-o.x,r=i-o.y;e.ellipticalArc(T,r,o.x,o.y,0,0+n,!1)}else e.lineTo(t,E);var o=s.bl;if(Ji(o)&&E>i-o.y){var n=90-j0(Math.acos((E-(i-o.y))/o.y)),T=o.x,r=i-o.y;e.ellipticalArc(T,r,o.x,o.y,180-n,180,!1)}else e.lineTo(0,E)},Q0=Phaser.Math.RadToDeg,pht=function(e,t,i,s,p){var E=t*p,o=s.tr;if(Ji(o)){var n;E>o.x?n=90:n=Q0(Math.acos((o.x-E)/o.x));var T=t-o.x,r=o.y;e.ellipticalArc(T,r,o.x,o.y,360-n,360,!1)}else e.lineTo(t,0);var o=s.br;if(Ji(o)){var n;E>o.x?n=90:n=Q0(Math.acos((o.x-E)/o.x));var T=t-o.x,r=i-o.y;e.ellipticalArc(T,r,o.x,o.y,0,0+n,!1)}else e.lineTo(t,i);var o=s.bl;if(Ji(o)&&E>t-o.x){var n=90-Q0(Math.acos((E-(t-o.x))/o.x)),T=o.x,r=i-o.y;e.ellipticalArc(T,r,o.x,o.y,90,90+n,!1)}else e.lineTo(t-E,i);var o=s.tl;if(Ji(o)&&E>t-o.x){var n=90-Q0(Math.acos((E-(t-o.x))/o.x)),T=o.x,r=o.y;e.ellipticalArc(T,r,o.x,o.y,270-n,270,!1)}else e.lineTo(t-E,0)},q0=Phaser.Math.RadToDeg,ght=function(e,t,i,s,p){var E=i*p,o=s.br;if(Ji(o)){E>o.y?r=90:r=q0(Math.acos((o.y-E)/o.y));var n=t-o.x,T=i-o.y;e.ellipticalArc(n,T,o.x,o.y,90-r,90,!1)}else e.lineTo(t,i);var o=s.bl;if(Ji(o)){E>o.y?r=90:r=q0(Math.acos((o.y-E)/o.y));var n=o.x,T=i-o.y;e.ellipticalArc(n,T,o.x,o.y,90,90+r,!1)}else e.lineTo(0,i);var o=s.tl;if(Ji(o)&&E>i-o.y){var r=90-q0(Math.acos((E-(i-o.y))/o.y)),n=o.x,T=o.y;e.ellipticalArc(n,T,o.x,o.y,180,180+r,!1)}else e.lineTo(0,i-E);var o=s.tr;if(Ji(o)&&E>i-o.y){var r=90-q0(Math.acos((E-(i-o.y))/o.y)),n=t-o.x,T=o.y;e.ellipticalArc(n,T,o.x,o.y,360-r,360,!1)}else e.lineTo(t,i-E)},mht=function(e,t,i,s,p,E,n,T){if(e.setIterations(T).start(),p===0)return e;if(p===1)return jP(e,t,i,s,T);var r;return E===0?r=n?pht:cht:r=n?ght:vht,r(e,t,i,s,p),e.close(),e},yht=function(){var e=this.width,t=this.height,i=this.rrGeom.cornerRadius,s=this.value,p=this.orientation,E=this.rtl,n=this.iteration+1,T=this.getShape("trackFill");T.fillStyle(this.trackColor),T.isFilled&&jP(T,e,t,i,n);var r=this.getShape("bar");r.fillStyle(this.barColor),r.isFilled&&mht(r,e,t,i,s,p,E,n);var o=this.getShape("trackStroke");o.lineStyle(this.trackStrokeThickness,this.trackStrokeColor),o.isStroked&&jP(o,e,t,i,n)},xht={x:0,h:0,horizontal:0,"left-to-right":0,y:1,v:1,vertical:1,"top-to-bottom":1},Ju=function(e){return typeof e=="string"&&(e=xht[e]),e};const ld=Phaser.Utils.Objects.GetValue,vb=Phaser.Utils.Objects.IsPlainObject;class oM extends Ah(yl){constructor(t,i,s,p,E,n,T,r,o){vb(i)?(o=i,i=o.x,s=o.y,p=o.width,E=o.height,n=o.radius,T=o.barColor,r=o.value):vb(p)?(o=p,p=o.width,E=o.height,n=o.radius,T=o.barColor,r=o.value):vb(n)&&(o=n,n=o.radius,T=o.barColor,r=o.value),i===void 0&&(i=0),s===void 0&&(s=0),p===void 0&&(p=1),E===void 0&&(E=p),n===void 0&&(n=0),r===void 0&&(r=0),super(t,i,s,p,E,o),this.type="rexRoundRectangleProgress",this.rrGeom=new Nw,this.bootProgressBase(o),this.addShape(new pn().setName("trackFill")).addShape(new pn().setName("bar")).addShape(new pn().setName("trackStroke")),this.setTrackColor(ld(o,"trackColor",void 0)),this.setBarColor(T),this.setTrackStroke(ld(o,"trackStrokeThickness",2),ld(o,"trackStrokeColor",void 0)),this.setOrientation(ld(o,"orientation",0)),this.setRTL(ld(o,"rtl",!1)),this.setRadius(n),this.setIteration(ld(n,"iteration",void 0)),this.setValue(r)}get trackColor(){return this._trackColor}set trackColor(t){this.dirty=this.dirty||this._trackColor!=t,this._trackColor=t}setTrackColor(t){return this.trackColor=t,this}get trackStrokeColor(){return this._trackStrokeColor}set trackStrokeColor(t){this.dirty=this.dirty||this._trackStrokeColor!=t,this._trackStrokeColor=t}get trackStrokeThickness(){return this._trackStrokeThickness}set trackStrokeThickness(t){this.dirty=this.dirty||this._trackStrokeThickness!=t,this._trackStrokeThickness=t}setTrackStroke(t,i){return this.trackStrokeThickness=t,this.trackStrokeColor=i,this}get barColor(){return this._barColor}set barColor(t){this.dirty=this.dirty||this._barColor!=t,this._barColor=t}setBarColor(t){return this.barColor=t,this}get orientation(){return this._orientation}set orientation(t){t=Ju(t),this.dirty=this.dirty||this._orientation!=t,this._orientation=t}setOrientation(t){return this.orientation=t,this}get rtl(){return this._rtl}set rtl(t){t=!!t,this.dirty=this.dirty||this._rtl!=t,this._rtl=t}setRTL(t){return t===void 0&&(t=!0),this.rtl=t,this}get radius(){return this.rrGeom.radius}set radius(t){this.rrGeom.setRadius(t),this.dirty=!0}get radiusTL(){return this.rrGeom.radiusTL}set radiusTL(t){this.rrGeom.radiusTL=t,this.dirty=!0}get radiusTR(){return this.rrGeom.radiusTR}set radiusTR(t){this.rrGeom.radiusTR=t,this.dirty=!0}get radiusBL(){return this.rrGeom.radiusBL}set radiusBL(t){this.rrGeom.radiusBL=t,this.dirty=!0}get radiusBR(){return this.rrGeom.radiusBR}set radiusBR(t){this.rrGeom.radiusBR=t,this.dirty=!0}setRadius(t){return t===void 0&&(t=0),this.radius=t,this}setRadiusTL(t){return t===void 0&&(t=0),this.radiusTL=t,this}setRadiusTR(t){return t===void 0&&(t=0),this.radiusTR=t,this}setRadiusBL(t){return t===void 0&&(t=0),this.radiusBL=t,this}setRadiusBR(t){return t===void 0&&(t=0),this.radiusBR=t,this}get cornerRadius(){return this.rrGeom.cornerRadius}set cornerRadius(t){this.radius=t}setCornerRadius(t){return this.setRadius(t)}get iteration(){return this._iteration}set iteration(t){if(this._iteration===void 0){this._iteration=t;return}this._iteration!==t&&(this._iteration=t,this.dirty=!0)}setIteration(t){return t===void 0&&(t=6),this.iteration=t,this}}var Tht={updateShapes:yht};Object.assign(oM.prototype,Tht);It.register("roundRectanleProgress",function(e,t,i,s,p,E,n,T){var r=new oM(this.scene,e,t,i,s,p,E,n,T);return this.scene.add.existing(r),r});Lt(window,"RexPlugins.UI.RoundRectangleProgress",oM);var Cht=function(e,t){e.save(),e.beginPath();var i=t[0];e.moveTo(i.x,i.y);for(var s=1,p=t.length;s<p;s++)i=t[s],e.lineTo(i.x,i.y);e.closePath(),e.restore()},pb=function(e,t,i,s,p,E,n){n===void 0&&(n="round"),Cht(t,i),t.lineJoin=n,s!=null&&(t.fillStyle=s,t.fill()),p!=null&&(t.strokeStyle=p,t.lineWidth=E,t.stroke())},Sht=function(){var e=this.skewX,t=this.width-Math.abs(e),i=this.height,s=this.canvas,p=this.context;(this.trackColor||this.trackStrokeColor)&&KI(0,0,t,i,e,this.trackPoints);var E,n;if(this.barColor&&(this.rtl?(E=t*(1-this.value),n=t):(E=0,n=t*this.value),KI(E,0,n,i,e,this.barPoints)),this.trackColor&&(p.save(),pb(s,p,this.trackPoints,this.trackColor),p.restore()),this.barColor){p.save();var T;if(this.barColor2){var r;if(this.isHorizontalGradient){var o=i/2;r=p.createLinearGradient(E,o,n,o)}else{var x=t/2;r=p.createLinearGradient(x,0,x,i)}r.addColorStop(0,this.rtl?this.barColor:this.barColor2),r.addColorStop(1,this.rtl?this.barColor2:this.barColor),T=r}else T=this.barColor;pb(s,p,this.barPoints,T),p.restore()}this.trackStrokeColor&&this.trackStrokeThickness>0&&(p.save(),pb(s,p,this.trackPoints,void 0,this.trackStrokeColor,this.trackStrokeThickness),p.restore())},KI=function(e,t,i,s,p,E){E===void 0&&(E=[]),E.length=4;for(var n=0;n<4;n++)E[n]||(E[n]={});var T;return p>=0?(T=E[0],T.x=e+p,T.y=t,T=E[1],T.x=i+p,T.y=t,T=E[2],T.x=i,T.y=s,T=E[3],T.x=e,T.y=s):(T=E[0],T.x=e,T.y=t,T=E[1],T.x=i,T.y=t,T=E[2],T.x=i-p,T.y=s,T=E[3],T.x=e-p,T.y=s),E};const Er=Phaser.Utils.Objects.GetValue,gb=Phaser.Utils.Objects.IsPlainObject;class lM extends Ah(Rh){constructor(t,i,s,p,E,n,T,r){gb(i)?(r=i,i=Er(r,"x",0),s=Er(r,"y",0),p=Er(r,"width",2),E=Er(r,"height",2),n=Er(r,"barColor",void 0),T=Er(r,"value",0)):gb(p)?(r=p,p=Er(r,"width",2),E=Er(r,"height",2),n=Er(r,"barColor",void 0),T=Er(r,"value",0)):gb(n)&&(r=n,n=Er(r,"barColor",void 0),T=Er(r,"value",0));var o=Er(r,"resolution",1);super(t,i,s,p,E,o),this.type="rexLineProgressCanvas",this.trackPoints=[],this.barPoints=[],this.bootProgressBase(r),this.setTrackColor(Er(r,"trackColor",void 0)),this.setBarColor(n,Er(r,"barColor2",void 0),Er(r,"isHorizontalGradient",void 0)),this.setTrackStroke(Er(r,"trackStrokeThickness",2),Er(r,"trackStrokeColor",void 0)),this.setSkewX(Er(r,"skewX",0)),this.setRTL(Er(r,"rtl",!1)),this.setValue(T)}get trackColor(){return this._trackColor}set trackColor(t){t=Ye(t,this.canvas,this.context),this.dirty=this.dirty||this._trackColor!=t,this._trackColor=t}setTrackColor(t){return this.trackColor=t,this}get trackStrokeColor(){return this._trackStrokeColor}set trackStrokeColor(t){t=Ye(t,this.canvas,this.context),this.dirty=this.dirty||this._trackStrokeColor!=t,this._trackStrokeColor=t}get trackStrokeThickness(){return this._trackStrokeThickness}set trackStrokeThickness(t){this.dirty=this.dirty||this._trackStrokeThickness!=t,this._trackStrokeThickness=t}setTrackStroke(t,i){return this.trackStrokeThickness=t,this.trackStrokeColor=i,this}get barColor(){return this._barColor}set barColor(t){t=Ye(t,this.canvas,this.context),this.dirty=this.dirty||this._barColor!=t,this._barColor=t}get barColor2(){return this._barColor2}set barColor2(t){t=Ye(t,this.canvas,this.context),this.dirty=this.dirty||this._barColor2!=t,this._barColor2=t}get isHorizontalGradient(){return this._isHorizontalGradient}set isHorizontalGradient(t){this.dirty|=this._isHorizontalGradient!=t,this._isHorizontalGradient=t}setBarColor(t,i,s){return s===void 0&&(s=!0),this.barColor=t,this.barColor2=i,this.isHorizontalGradient=s,this}get skewX(){return this._skewX}set skewX(t){this.dirty=this.dirty||this._skewX!=t,this._skewX=t}setSkewX(t){return this.skewX=t,this}get rtl(){return this._rtl}set rtl(t){t=!!t,this.dirty=this.dirty||this._rtl!=t,this._rtl=t}setRTL(t){return t===void 0&&(t=!0),this.rtl=t,this}updateTexture(){return super.updateTexture(function(){this.clear(),Sht.call(this)},this),this}}It.register("circularProgressCanvas",function(e,t,i,s,p,E,n){var T=new lM(this.scene,e,t,i,s,p,E,n);return this.scene.add.existing(T),T});Lt(window,"RexPlugins.UI.LineProgressCanvas",lM);Phaser.Math.Wrap;const hd=Phaser.Math.Linear;var Eht=function(){var e=this.getShape("triangle"),t=this.padding,i=this.width-t.right,s=0+t.left,p=this.height-t.bottom,E=0+t.top,n=(s+i)/2,T=(E+p)/2,r={0:{a:{x:s,y:E},b:{x:i,y:T},c:{x:s,y:p}},1:{a:{x:s,y:E},b:{x:n,y:p},c:{x:i,y:E}},2:{a:{x:i,y:E},b:{x:s,y:T},c:{x:i,y:p}},3:{a:{x:s,y:p},b:{x:n,y:E},c:{x:i,y:p}}},o,x,d,h,l,a;if(this.previousDirection===void 0){var f=r[this.direction],c=f.a,u=f.b,v=f.c;o=c.x,x=c.y,d=u.x,h=u.y,l=v.x,a=v.y}else{var g=r[this.previousDirection],m=r[this.direction],y=this.easeDirectionProgress;o=hd(g.a.x,m.a.x,y),x=hd(g.a.y,m.a.y,y),d=hd(g.b.x,m.b.x,y),h=hd(g.b.y,m.b.y,y),l=hd(g.c.x,m.c.x,y),a=hd(g.c.y,m.c.y,y)}e.startAt(o,x).lineTo(d,h).lineTo(l,a),this.arrowOnly?e.end():e.close()};const bht=Phaser.Math.DegToRad,_0=bht(120);var Pht=function(t){var t=this.getShape("triangle"),i=this.width/2,s=this.height/2,p=Math.min(i,s)*this.radius,E=this.verticeRotation;t.startAt(i+p*Math.cos(E+_0),s+p*Math.sin(E+_0)).lineTo(i+p*Math.cos(E),s+p*Math.sin(E)).lineTo(i+p*Math.cos(E-_0),s+p*Math.sin(E-_0)),this.arrowOnly?t.end():t.close()};const wht={buildShapes(){this.addShape(new pn().setName("triangle"))},updateShapes(){var e=this.getShape("triangle");this.arrowOnly?e.fillStyle().lineStyle(this.lineWidth,this.strokeColor,this.strokeAlpha):e.fillStyle(this.fillColor,this.fillAlpha).lineStyle(this.lineWidth,this.strokeColor,this.strokeAlpha),this.shapeMode===0?Eht.call(this):Pht.call(this)}},Mht={setEaseDuration(e){return e===void 0&&(e=0),this.easeDuration=e,this},playEaseDirectionation(){return this.easeDirectionProgressTask===void 0&&(this.easeDirectionProgressTask=new gl(this,{eventEmitter:null})),this.easeDirectionProgressTask.restart({key:"easeDirectionProgress",from:0,to:1,duration:this.easeDuration}),this},stopEaseDirection(){return this.easeDirectionProgressTask===void 0?this:(this.easeDirectionProgressTask.stop(),this)}},ud=Phaser.Utils.Objects.GetValue,Rht=Phaser.Utils.Objects.IsPlainObject,Aht=Phaser.Math.DegToRad,Oht=Phaser.Math.RadToDeg;class Yp extends yl{constructor(t,i,s,p,E,n,T){var r,o,x,d,h,l,a,f;if(Rht(i)){var c=i;i=c.x,s=c.y,p=c.width,E=c.height,n=c.color,T=c.alpha,r=c.strokeColor,o=c.strokeAlpha,x=c.strokeWidth,d=c.arrowOnly,h=c.direction,l=c.easeDuration,a=c.padding,f=c.radius}i===void 0&&(i=0),s===void 0&&(s=0),p===void 0&&(p=1),E===void 0&&(E=p),d===void 0&&(d=!1),h===void 0&&(h=0),l===void 0&&(l=0),a===void 0&&(a=0),f===void 0&&(f=void 0),super(t,i,s,p,E),this.type="rexTriangle",this.setFillStyle(n,T),r!==void 0&&x===void 0&&(x=2),this.setStrokeStyle(x,r,o),this.setArrowOnly(d),this.setDirection(h,l),this.setPadding(a),this.setRadius(f),this.buildShapes()}get arrowOnly(){return this._arrowOnly}set arrowOnly(t){this.dirty=this.dirty||this._arrowOnly!=t,this._arrowOnly=t}setArrowOnly(t){return t===void 0&&(t=!0),this.arrowOnly=t,this}get direction(){return this._direction}set direction(t){t=Dht(t),this._direction!==t&&(this.easeDuration>0&&this._direction!==void 0?this.previousDirection=this._direction:this.previousDirection=void 0,this._direction=t,this.verticeAngle=t*90,this.dirty=!0,this.previousDirection!==void 0?this.playEaseDirectionation():this.stopEaseDirection())}setDirection(t,i){return i!==void 0&&this.setEaseDuration(i),this.direction=t,this}toggleDirection(t){return this.setDirection(this.direction+2,t),this}get easeDirectionProgress(){return this._easeDirectionProgress}set easeDirectionProgress(t){this._easeDirectionProgress!==t&&(this._easeDirectionProgress=t,this.dirty=!0)}setPadding(t,i,s,p){if(typeof t=="object"){var E=t,n=ud(E,"x",null);n!==null?(t=n,s=n):(t=ud(E,"left",0),s=ud(E,"right",t));var T=ud(E,"y",null);T!==null?(i=T,p=T):(i=ud(E,"top",0),p=ud(E,"bottom",i))}else t===void 0&&(t=0),i===void 0&&(i=t),s===void 0&&(s=t),p===void 0&&(p=i);return this.padding===void 0&&(this.padding={}),this.dirty=this.dirty||this.padding.left!=t||this.padding.top!=i||this.padding.right!=s||this.padding.bottom!=p,this.padding.left=t,this.padding.top=i,this.padding.right=s,this.padding.bottom=p,this.setRadius(),this}get radius(){return this._radius}set radius(t){this.dirty=this.dirty||this._radius!=t,this._radius=t}setRadius(t){return this.radius=t,this.shapeMode=t==null?0:1,this}get verticeRotation(){return this._verticeRotation}set verticeRotation(t){this.dirty=this.dirty||this._verticeRotation!=t,this._verticeRotation=t}setVerticeRotation(t){return this.verticeRotation=t,this}get verticeAngle(){return Oht(this.verticeRotation)}set verticeAngle(t){this.verticeRotation=Aht(t)}setVerticeAngle(t){return this.verticeAngle=t,this}}const Lht={right:0,down:1,left:2,up:3};var Dht=function(e){return typeof e=="string"&&(e=Lht[e]),e=e%4,e};Object.assign(Yp.prototype,wht,Mht);It.register("triangle",function(e,t,i,s,p,E){var n=new Yp(this.scene,e,t,i,s,p,E);return this.scene.add.existing(n),n});Lt(window,"RexPlugins.UI.Triangle",Yp);Ax();const Fht=Phaser.GameObjects.Zone,Iht=Phaser.Utils.Array.Add,Bht=Phaser.Utils.Array.Remove;let Xp=class extends Fht{constructor(t,i,s,p,E){i===void 0&&(i=0),s===void 0&&(s=0),p===void 0&&(p=1),E===void 0&&(E=1),super(t,i,s,p,E),this.children=[]}destroy(t){if(!(!this.scene||this.ignoreDestroy)){if(t)for(var i,s=this.children.length-1;s>=0;s--)i=this.children[s],!i.parentContainer&&!i.displayList&&i.destroy(t);this.clear(!t),super.destroy(t)}}contains(t){return this.children.indexOf(t)!==-1}add(t){var i=this;return Iht(this.children,t,0,function(s){s.once("destroy",i.onChildDestroy,i)},this),this}remove(t,i){var s=this;return Bht(this.children,t,function(p){p.off("destroy",s.onChildDestroy,s),i&&p.destroy()}),this}onChildDestroy(t,i){this.remove(t,!1)}clear(t){for(var i=this,s,p=0,E=this.children.length;p<E;p++)s=this.children[p],s.off("destroy",i.onChildDestroy,i),t&&s.destroy();return this.children.length=0,this}};const ZI=Phaser.GameObjects.Components;Phaser.Class.mixin(Xp,[ZI.Alpha,ZI.Flip]);var Ds=function(e,t){var i;if(t===void 0)e.hasOwnProperty("rexContainer")&&(i=e.rexContainer.parent);else for(i=Ds(e);i&&i.name!==t;)i=Ds(i);return i},HG=function(e){for(var t=Ds(e);t;)e=t,t=Ds(t);return e};const Ght=Phaser.Math.DegToRad,kht=Phaser.Math.RadToDeg;var je=function(e){if(!e.hasOwnProperty("rexContainer")){var t={parent:null,self:null,layer:null,x:0,y:0,syncPosition:!0,rotation:0,syncRotation:!0,scaleX:0,scaleY:0,syncScale:!0,alpha:0,syncAlpha:!0,syncScrollFactor:!0,syncCameraFilter:!0,syncDisplayList:!0,visible:!0,active:!0};Object.defineProperty(t,"angle",{get:function(){return kht(this.rotation)},set:function(i){this.rotation=Ght(i)}}),Object.defineProperty(t,"displayWidth",{get:function(){return e.width*this.scaleX},set:function(i){this.scaleX=i/e.width}}),Object.defineProperty(t,"displayHeight",{get:function(){return e.height*this.scaleY},set:function(i){this.scaleY=i/e.height}}),e.rexContainer=t}return e.rexContainer};const Nht={setParent(e,t){t===void 0&&(t=this);var i=je(e);return t?(i.parent=t,i.self=e):(i.parent=null,i.self=null),this},getParent(e,t){return typeof e=="string"&&(t=e,e=void 0),e===void 0&&(e=this),Ds(e,t)},getTopmostParent(e){return e===void 0&&(e=this),HG(e)}},xu=Phaser.Utils.Objects.GetValue,$G=Xp.prototype.add;var JI=function(e,t){this.setParent(e);var i=je(e);return KG(i,t),this.resetChildState(e).updateChildVisible(e).updateChildActive(e).updateChildScrollFactor(e).updateChildMask(e).updateCameraFilter(e),$G.call(this,e),ZG.call(this,e,i),this},mb=function(e,t){this.setParent(e);var i=je(e);return KG(i,t),i.x=e.x,i.y=e.y,i.rotation=e.rotation,i.scaleX=e.scaleX,i.scaleY=e.scaleY,i.alpha=e.alpha,i.visible=e.visible,i.active=e.active,this.updateChildPosition(e).updateChildAlpha(e).updateChildVisible(e).updateChildActive(e).updateChildScrollFactor(e).updateChildMask(e),$G.call(this,e),ZG.call(this,e,i),this},KG=function(e,t){t===void 0&&(t=!0),typeof t=="boolean"?(e.syncPosition=t,e.syncRotation=t,e.syncScale=t,e.syncAlpha=t,e.syncScrollFactor=t,e.syncCameraFilter=t,e.syncDisplayList=t):(e.syncPosition=xu(t,"syncPosition",!0),e.syncRotation=xu(t,"syncRotation",!0),e.syncScale=xu(t,"syncScale",!0),e.syncAlpha=xu(t,"syncAlpha",!0),e.syncScrollFactor=xu(t,"syncScrollFactor",!0),e.syncCameraFilter=xu(t,"syncCameraFilter",!0),e.syncDisplayList=xu(t,"syncDisplayList",!0))},ZG=function(e,t){this.addToParentContainer(e),t.syncDisplayList&&this.addToPatentLayer(e),this.addToRenderLayer(e)};const Uht={add(e){return Array.isArray(e)?this.addMultiple(e):JI.call(this,e),this},pin(e,t){return Array.isArray(e)?this.addMultiple(e,t):JI.call(this,e,t),this},addMultiple(e){for(var t=Array.from(arguments),i=0,s=e.length;i<s;i++)t[0]=e[i],this.add.apply(this,t);return this},addLocal(e){return Array.isArray(e)?this.addMultiple(e):mb.call(this,e),this},pinLocal(e,t){return Array.isArray(e)?this.addMultiple(e,t):mb.call(this,e,t),this},addLocalMultiple(e){for(var t=0,i=e.length;t<i;t++)mb.call(this,e[t]);return this}},jI=Xp.prototype.remove,Vht=Xp.prototype.clear,zht={remove(e,t){return Ds(e)!==this?this:(this.setParent(e,null),t||this.removeFromRenderLayer(e),jI.call(this,e,t),this)},unpin(e,t){return Ds(e)!==this?this:(this.setParent(e,null),t||this.removeFromRenderLayer(e),jI.call(this,e,t),this)},clear(e){for(var t=this.children,i=0,s=t.length;i<s;i++){var p=t[i];this.setParent(p,null),e||this.removeFromRenderLayer(p)}return Vht.call(this,e),this}},Wht={getLocalState(e){return je(e)},resetChildState(e){return this.resetChildPositionState(e).resetChildVisibleState(e).resetChildAlphaState(e).resetChildActiveState(e),this},resetChildrenState(e){for(var t=0,i=e.length;t<i;t++)this.resetChildState(e[t]);return this},syncProperties(){return this.syncPosition().syncVisible().syncAlpha().syncActive().syncScrollFactor().syncMask(),this}},Yht={worldToLocal(e){e.x-=this.x,e.y-=this.y;var t=Math.cos(-this.rotation),i=Math.sin(-this.rotation),s=e.x,p=e.y;return e.x=s*t-p*i,e.y=s*i+p*t,e.x/=this.scaleX,e.y/=this.scaleY,e},localToWorld(e){e.x*=this.scaleX,e.y*=this.scaleY;var t=Math.cos(this.rotation),i=Math.sin(this.rotation),s=e.x,p=e.y;return e.x=s*t-p*i,e.y=s*i+p*t,e.x+=this.x,e.y+=this.y,e}};var Rp=function(e,t){return e===t?1:e/t};const Xht={updateChildPosition(e){e.isRexContainerLite&&(e.syncChildrenEnable=!1);var t=je(e),i=t.parent;return t.syncPosition&&(e.x=t.x,e.y=t.y,i.localToWorld(e)),t.syncRotation&&(e.rotation=t.rotation+i.rotation),t.syncScale&&(e.scaleX=t.scaleX*i.scaleX,e.scaleY=t.scaleY*i.scaleY),e.isRexContainerLite&&(e.syncChildrenEnable=!0,e.syncPosition()),this},syncPosition(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildPosition,this),this},resetChildPositionState(e){var t=je(e),i=t.parent;return t.x=e.x,t.y=e.y,i.worldToLocal(t),t.scaleX=Rp(e.scaleX,i.scaleX),t.scaleY=Rp(e.scaleY,i.scaleY),t.rotation=e.rotation-i.rotation,this},setChildPosition(e,t,i){return e.x=t,e.y=i,this.resetChildPositionState(e),this},setChildLocalPosition(e,t,i){var s=je(e);return s.x=t,s.y=i,this.updateChildPosition(e),this},resetLocalPositionState(){var e=je(this).parent;return e&&e.resetChildPositionState(this),this},getChildLocalX(e){var t=je(e);return t.x},getChildLocalY(e){var t=je(e);return t.y}},Hht=Phaser.Math.DegToRad,$ht={updateChildRotation(e){var t=je(e),i=t.parent;return t.syncRotation&&(e.rotation=i.rotation+t.rotation),this},syncRotation(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildRotation,this),this},resetChildRotationState(e){var t=je(e),i=t.parent;return t.rotation=e.rotation-i.rotation,this},setChildRotation(e,t){return e.rotation=t,this.resetChildRotationState(e),this},setChildAngle(e,t){return e.angle=t,this.resetChildRotationState(e),this},setChildLocalRotation(e,t){var i=je(e);return i.rotation=t,this.updateChildRotation(e),this},setChildLocalAngle(e,t){var i=je(e);return i.rotation=Hht(t),this.updateChildRotation(e),this},resetLocalRotationState(){var e=je(this).parent;return e&&e.resetChildRotationState(this),this},getChildLocalRotation(e){var t=je(e);return t.rotation}},Kht={updateChildScale(e){var t=je(e),i=t.parent;return t.syncScale&&(e.scaleX=i.scaleX*t.scaleX,e.scaleY=i.scaleY*t.scaleY),this},syncScale(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildScale,this),this},resetChildScaleState(e){var t=je(e),i=t.parent;return t.scaleX=Rp(e.scaleX,i.scaleX),t.scaleY=Rp(e.scaleY,i.scaleY),this},setChildScale(e,t,i){return i===void 0&&(i=t),e.scaleX=t,e.scaleY=i,this.resetChildScaleState(e),this},setChildLocalScale(e,t,i){i===void 0&&(i=t);var s=je(e);return s.scaleX=t,s.scaleY=i,this.updateChildScale(e),this},setChildDisplaySize(e,t,i){return e.setDisplaySize(t,i),this.resetChildScaleState(e),this},resetLocalScaleState(){var e=je(this).parent;return e&&e.resetChildScaleState(this),this},getChildLocalScaleX(e){var t=je(e);return t.scaleX},getChildLocalScaleY(e){var t=je(e);return t.scaleY}},Zht={updateChildVisible(e){var t=je(e),i=t.parent,s=t.hasOwnProperty("maskVisible")?t.maskVisible:!0,p=i?i.visible:!0;return e.visible=p&&t.visible&&s,this},syncVisible(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildVisible,this),this},resetChildVisibleState(e){var t=je(e);return t.hasOwnProperty("maskVisible")&&delete t.maskVisible,t.visible=e.visible,this},setChildVisible(e,t){return this.setChildLocalVisible(e,t),this},setChildLocalVisible(e,t){t===void 0&&(t=!0);var i=je(e);return i.visible=t,this.updateChildVisible(e),this},setChildMaskVisible(e,t){t===void 0&&(t=!0);var i=je(e);return i.maskVisible=t,this.updateChildVisible(e),this},resetLocalVisibleState(){var e=je(this).parent;return e&&e.resetChildVisibleState(this),this},getChildLocalVisible(e){var t=je(e);return t.visible}},Jht={updateChildAlpha(e){var t=je(e),i=t.parent;return t.syncAlpha&&(e.alpha=i.alpha*t.alpha),this},syncAlpha(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildAlpha,this),this},resetChildAlphaState(e){var t=je(e),i=t.parent;return t.alpha=Rp(e.alpha,i.alpha),this},setChildAlpha(e,t){return e.alpha=t,this.resetChildAlphaState(e),this},setChildLocalAlpha(e,t){var i=je(e);return i.alpha=t,this.updateChildAlpha(e),this},resetLocalAlphaState(){var e=je(this).parent;return e&&e.resetChildAlphaState(this),this},getChildLocalAlpha(e){var t=je(e);return t.alpha}},jht={updateChildActive(e){var t=je(e),i=t.parent;return e.active=i.active&&t.active,this},syncActive(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildActive,this),this},resetChildActiveState(e){var t=je(e);return t.active=e.active,this},setChildActive(e,t){return e.active=t,this.resetChildActiveState(e),this},setChildLocalActive(e,t){t===void 0&&(t=!0);var i=je(e);return i.active=t,this.updateChildActive(e),this},resetLocalActiveState(){var e=je(this).parent;return e&&e.resetChildActiveState(this),this},getChildLocalActive(e){var t=je(e);return t.active}},Qht={updateChildScrollFactor(e){var t=je(e),i=t.parent;return t.syncScrollFactor&&(e.scrollFactorX=i.scrollFactorX,e.scrollFactorY=i.scrollFactorY),this},syncScrollFactor(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildScrollFactor,this),this}},qht={updateCameraFilter(e){var t=je(e),i=t.parent;return t.syncCameraFilter&&(e.cameraFilter=i.cameraFilter),this},syncCameraFilter(){return this.syncChildrenEnable&&this.children.forEach(this.updateCameraFilter,this),this}},_ht={updateChildMask(e){if(this.mask==null)return this;var t=this.mask.hasOwnProperty("geometryMask")?this.mask.geometryMask:this.mask.bitmapMask;return t!==e&&(e.mask=this.mask),this},syncMask(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildMask,this),this},setMask(e){return this.mask=e,this},clearMask(e){e===void 0&&(e=!1);var t=this;return this._mask=null,this.setChildMaskVisible(this),this.children.forEach(function(i){i.clearMask&&i.clearMask(!1),i.hasOwnProperty("isRexContainerLite")||t.setChildMaskVisible(i)}),e&&this.mask&&this.mask.destroy(),this}};var ty=function(e){return e.filter(function(t){if(t.displayList)return!0;if(t.parentContainer)return!0})};const tut={setDepth(e,t){if(this.depth=e,!t&&this.children)for(var i=this.getAllChildren(),s=0,p=i.length;s<p;s++)i[s].depth=e;return this},swapDepth(e){var t=this.depth,i=e.depth;return this.setDepth(i),e.setDepth(t),this},incDepth(e){if(this.depth+=e,this.children)for(var t=this.getAllChildren(),i=0,s=t.length;i<s;i++)t[i].depth+=e;return this},bringToTop(){var e=this.displayList;if(!e)return this;var t=this.getAllChildren([this]);ia(t,!1);for(var i=0,s=t.length;i<s;i++){var p=t[i];e.exists(p)&&e.bringToTop(p)}return this},bringMeToTop(){return this.bringToTop()},sendToBack(){var e=this.displayList;if(!e)return this;var t=this.getAllChildren([this]);ia(t,!0);for(var i=0,s=t.length;i<s;i++){var p=t[i];e.exists(p)&&e.sendToBack(p)}return this},sendMeToBack(){return this.sendToBack()},moveDepthBelow(e){var t=this.displayList;if(!t)return this;if(e.displayList!==t)return this;var i=this.getAllChildren([this]);ia(i,!1);for(var s=0,p=i.length;s<p;s++){var E=i[s];if(t.exists(E)){t.moveBelow(e,E);break}}return this},moveMyDepthBelow(e){return this.moveDepthBelow(e)},moveDepthAbove(e){var t=this.displayList;if(!t)return this;if(e.displayList!==t)return this;var i=this.getAllChildren([this]);ia(i,!0);for(var s=0,p=i.length;s<p;s++){var E=i[s];if(t.exists(E)){t.moveAbove(e,E);break}}return this},moveMyDepthAbove(e){return this.moveDepthAbove(e)},bringChildToTop(e){var t;e!==this&&e.isRexContainerLite?(t=e.getAllChildren([e]),t=ty(t),t=ia(t,!1)):t=[e];var i=this.getAllChildren([this]);i=ty(i),i=ia(i,!1);for(var s=i[i.length-1],p=0,E=t.length;p<E;p++){var n=t[p];s!==n&&(n!==this&&s.displayList!==n.displayList||(s.displayList.moveAbove(n,s),s=n))}return this},sendChildToBack(e){var t;e!==this&&e.isRexContainerLite?(t=e.getAllChildren([e]),t=ty(t),t=ia(t,!1)):t=[e];var i=this.getAllChildren([this]);i=ty(i),i=ia(i,!1);for(var s=i[0],p=t.length-1;p>=0;p--){var E=t[p];s!==E&&(E!==this&&s.displayList!==E.displayList||(s.displayList.moveBelow(E,s),s=E))}return this}};var JG=function(e,t){var i=t(e);if(!i&&e.isRexContainerLite)for(var s=e.children,p=0,E=s.length;p<E;p++)JG(s[p],t)},yb=function(e,t){for(var i=[e];i.length>0;){var s=i.shift(),p=t(s);!p&&s.isRexContainerLite&&i.push(...s.children)}};const Tu=Phaser.Utils.Array,eut={getChildren(e){if(!e)e=this.children;else for(var t=0,i=this.children.length;t<i;t++)e.push(this.children[t]);return e},getAllChildren(e){e===void 0&&(e=[]);var t=this;return yb(t,function(i){i!==t&&e.push(i)}),e},getAllVisibleChildren(e){e===void 0&&(e=[]);var t=this;return yb(t,function(i){if(i!==t){if(!i.visible)return!0;e.push(i)}}),e},bfs(e,t){return t===void 0&&(t=this),yb(t,e),this},dfs(e,t){return t===void 0&&(t=this),JG(t,e),this},contains(e){var t=Ds(e);return t?t===this?!0:this.contains(t):!1},getByName(e,t){if(t){for(var i=[this],s,p;i.length;){s=i.shift();for(var E=0,n=s.children.length;E<n;E++){if(p=s.children[E],p.name===e)return p;p.isRexContainerLite&&i.push(p)}}return null}else return Tu.GetFirst(this.children,"name",e)},getRandom(e,t){return Tu.GetRandom(this.children,e,t)},getFirst(e,t,i,s){return Tu.GetFirstElement(this.children,e,t,i,s)},getAll(e,t,i,s){return Tu.GetAll(this.children,e,t,i,s)},count(e,t,i,s){return Tu.CountAllMatching(this.children,e,t,i,s)},swap(e,t){return Tu.Swap(this.children,e,t),this},setAll(e,t,i,s){return Tu.SetAll(this.children,e,t,i,s),this}};var QI=function(e){for(var t=[],i=0,s=e.length;i<s;i++){var p=e[i];p.hasOwnProperty("rexContainer")&&t.push(p.rexContainer)}return t},iut=function(e){for(var t=0,i=e.length;t<i;t++){var s=e[t].scene;if(s)return s}return null},qI=function(e,t,i){if(!i.parent){e.remove();return}var s=i.parent,p=i.self;switch(t){case"x":case"y":s.updateChildPosition(p);break;case"angle":case"rotation":s.updateChildRotation(p);break;case"scaleX":case"scaleY":case"displayWidth":case"displayHeight":s.updateChildScale(p);break;case"alpha":s.updateChildAlpha(p);break;default:s.updateChildPosition(p),s.updateChildRotation(p),s.updateChildScale(p),s.updateChildAlpha(p);break}};const rut={tweenChild(e){var t=e.targets;Array.isArray(t)||(t=[t]);var i=this.scene||iut(t);if(i){e.targets=QI(t);var s=i.tweens.add(e);return s.on("update",qI),s}},tweenSelf(e){return e.targets=[this],this.tweenChild(e)},createTweenChildConfig(e){var t=e.targets;t&&(Array.isArray(t)||(t=[t]),e.targets=QI(t));var i=e.onUpdate;return e.onUpdate=function(s,p){i&&i(s,p),qI(s,void 0,p)},e},tween(e){var t=this.scene;return e.targets||(e.targets=this),t.tweens.add(e)}},nut=Phaser.GameObjects.Container;var sut=function(e){return e instanceof nut},jG=function(e){var t=e.getAllChildren([e]);return t=t.filter(function(i){return!!i.displayList||!!i.parentContainer}),t},_I=function(e){var t=jG(this);t.indexOf(this)===-1&&t.push(this),ia(t),e.add(t)},t3=function(e,t,i){if(this.scene){var s=jG(this);ia(s,t),e.remove(s),i&&s.forEach(function(p){p.addToDisplayList()})}};const aut={addToContainer(e){return sut(e)?(this._setParentContainerFlag=!0,_I.call(this,e),this._setParentContainerFlag=!1,this):this},addToLayer(e){return gp(e)?(_I.call(this,e),this):this},removeFromContainer(){return this.parentContainer?(this._setParentContainerFlag=!0,t3.call(this,this.parentContainer,!0,!1),this._setParentContainerFlag=!1,this):this},removeFromLayer(e){return e===void 0&&(e=!0),gp(this.displayList)?(t3.call(this,this.displayList,!1,e),this):this},getParentContainer(){if(this.parentContainer)return this.parentContainer;for(var e=this.getParent();e;){var t=e.parentContainer;if(t)return t;e=e.getParent()}return null},addToParentContainer(e){if(!e.displayList)return this;var t=this.getParentContainer();return t?(e.isRexContainerLite?e.addToContainer(t):t.add(e),this):this},addToPatentLayer(e){if(!e.displayList)return this;var t=this.displayList;return t===e.displayList?this:(gp(t)&&(e.isRexContainerLite?e.addToLayer(t):t.add(e)),this)}},out={hasLayer(){return!!this.privateRenderLayer},enableLayer(){if(this.hasLayer())return this;var e=this.scene.add.layer();return this.moveDepthBelow(e),this.addToLayer(e),this.privateRenderLayer=e,this},getLayer(){return this.hasLayer()||this.enableLayer(),this.privateRenderLayer},getRenderLayer(){if(this.hasLayer())return this.privateRenderLayer;for(var e=this.getParent();e;){var t=e.privateRenderLayer;if(t)return t;e=e.getParent()}return null},addToRenderLayer(e){if(!e.displayList)return this;var t=this.getRenderLayer();if(!t)return this;if(t===e.displayList)return this;e.isRexContainerLite?e.addToLayer(t):t.add(e);var i=je(e);return i.layer=t,this},removeFromRenderLayer(e){var t=je(e),i=t.layer;return i?(e.isRexContainerLite?e.removeFromLayer(!0):i.remove(e),t.layer=null,this):this}},e3=Phaser.Geom.Rectangle,lut=Phaser.Geom.Rectangle.Union;var hut=function(e,t){t===void 0?t=new e3:t===!0&&(xb===void 0&&(xb=new e3),t=xb),t.setTo(0,0,0,0);for(var i,s=!0,p=0,E=e.length;p<E;p++)if(i=e[p],!!i.getBounds){var n=jw(i,!0);s?(t.setTo(n.x,n.y,n.width,n.height),s=!1):lut(n,t,t)}return t},xb,Cu=Phaser.Utils.Objects.GetValue,hM=function(e){if(e){var t=e.gameObjects,i=e.renderTexture,s=e.saveTexture,p=Cu(e,"x",void 0),E=Cu(e,"y",void 0),n=Cu(e,"width",void 0),T=Cu(e,"height",void 0),r=Cu(e,"originX",0),o=Cu(e,"originY",0),x=Cu(e,"padding",0),d,h;if(n===void 0||T===void 0||p===void 0||E===void 0){var l=hut(t,!0),a=p!==void 0&&E!==void 0;a?(n=Math.max(p-l.left,l.right-p)*2,T=Math.max(E-l.top,l.bottom-E)*2,r=.5,o=.5):(p=l.x,E=l.y,n=l.width,T=l.height,r=0,o=0),d=l.x,h=l.y}else d=p+(0-r)*n,h=E+(0-o)*T;d-=x,h-=x,n+=x*2,T+=x*2;var f=t[0].scene,c=f.sys.textures;return s&&!i&&(i=c.addDynamicTexture(s,n,T)),i||(i=f.add.renderTexture(0,0,n,T)),i.setPosition&&i.setPosition(p,E),(i.width!==n||i.height!==T)&&i.setSize(n,T),i.setOrigin&&i.setOrigin(r,o),i.camera.setScroll(d,h),t=ia(Na(t)),i.draw(t),s&&(ns(i)?i.saveTexture(s):i.key!==s&&c.renameTexture(i.key,key)),i}};const uut={snapshot(e){var t=this.scaleX,i=this.scaleY,s=t===1&&i===1;s||this.setScale(1),e===void 0&&(e={}),e.gameObjects=this.getAllVisibleChildren(),e.x=this.x,e.y=this.y,e.originX=this.originX,e.originY=this.originY;var p=hM(e),E=!!p.scene;return s||(this.setScale(t,i),E&&p.setScale(t,i)),E?p:this}},i3=Phaser.Utils.Objects.GetValue;var fut=function(e,t){var i=i3(t,"drawContainer",!0),s=i3(t,"children");return s===void 0&&(s=this.getAllVisibleChildren([this])),i||(s=s.filter(function(p){return!p.isRexContainerLite})),Q9(s,e,t),this};const dut=Phaser.Math.RotateAround;var cut=function(e,t,i){i===void 0&&(i=t);var s={x:(t-e.originX)*e.displayWidth,y:(i-e.originY)*e.displayHeight};return dut(s,0,0,e.rotation),e.originX=t,e.originY=i,e.x=e.x+s.x,e.y=e.y+s.y,e},vut=function(e,t){this.syncChildrenEnable=!1,cut(this,e,t),this.syncChildrenEnable=!0;for(var i=this.getAllChildren(),s=0,p=i.length;s<p;s++)this.resetChildPositionState(i[s]);return this},QG={changeOrigin:vut,drawBounds:fut};Object.assign(QG,Nht,Uht,zht,Wht,Yht,Xht,$ht,Kht,Zht,Jht,jht,Qht,qht,_ht,tut,eut,rut,aut,out,uut);class Bs extends Xp{constructor(t,i,s,p,E,n){Array.isArray(p)&&(n=p,p=void 0,E=void 0),super(t,i,s,p,E),this.type="rexContainerLite",this.isRexContainerLite=!0,this.syncChildrenEnable=!0,this._active=!0,this._mask=null,this._scrollFactorX=1,this._scrollFactorY=1,this._cameraFilter=0,this.privateRenderLayer=void 0,n&&this.add(n)}destroy(t){!this.scene||this.ignoreDestroy||(this.syncChildrenEnable=!1,super.destroy(t),this.privateRenderLayer&&this.privateRenderLayer.scene&&(this.privateRenderLayer.list.length=0,this.privateRenderLayer.destroy()))}resize(t,i){return this.setSize(t,i),this}get x(){return this._x}set x(t){this._x!==t&&(this._x=t,this.syncPosition())}get y(){return this._y}set y(t){this._y!==t&&(this._y=t,this.syncPosition())}get rotation(){return super.rotation}set rotation(t){this.rotation!==t&&(super.rotation=t,this.syncPosition())}get scaleX(){return super.scaleX}set scaleX(t){this.scaleX!==t&&(super.scaleX=t,this.syncPosition())}get scaleY(){return super.scaleY}set scaleY(t){this.scaleY!==t&&(super.scaleY=t,this.syncPosition())}get scale(){return super.scale}set scale(t){this.scale!==t&&(super.scale=t,this.syncPosition())}get visible(){return super.visible}set visible(t){super.visible!==t&&(super.visible=t,this.syncVisible())}get alpha(){return super.alpha}set alpha(t){super.alpha!==t&&(super.alpha=t,this.syncAlpha())}get active(){return this._active}set active(t){this._active!==t&&(this._active=t,this.syncActive())}get mask(){return this._mask}set mask(t){this._mask!==t&&(this._mask=t,this.syncMask())}get scrollFactorX(){return this._scrollFactorX}set scrollFactorX(t){this._scrollFactorX!==t&&(this._scrollFactorX=t,this.syncScrollFactor())}get scrollFactorY(){return this._scrollFactorY}set scrollFactorY(t){this._scrollFactorY!==t&&(this._scrollFactorY=t,this.syncScrollFactor())}get cameraFilter(){return this._cameraFilter}set cameraFilter(t){this._cameraFilter!==t&&(this._cameraFilter=t,this.syncCameraFilter())}get list(){return this.children}static GetParent(t){return Ds(t)}get parentContainer(){return this._parentContainer}set parentContainer(t){if(!this._parentContainer&&!t){this._parentContainer=t;return}if(this.setParentContainerFlag){this._parentContainer=t;return}this._parentContainer&&!t?(this.removeFromContainer(),this._parentContainer=t):t?(this._parentContainer=t,this.addToContainer(t)):this._parentContainer=t}get setParentContainerFlag(){if(this._setParentContainerFlag)return!0;var t=Ds(this);return t?t.setParentContainerFlag:!1}}Object.assign(Bs.prototype,QG);var Wx=function(e){return e.hasOwnProperty("rexSizer")||(e.rexSizer={}),e.rexSizer};function put(e){return e===void 0&&(e=this),Wx(e)}var gut=function(e){var t=Wx(e);return t.hasOwnProperty("prevState")||(t.prevState={}),t.prevState},mut=function(e){return e===void 0&&(e=qd(this.scene)),this.left=Math.max(this.left,e.left),this.right=Math.min(this.right,e.right),this.top=Math.max(this.top,e.top),this.bottom=Math.min(this.bottom,e.bottom),this};const or=Phaser.Display.Align,ec={center:or.CENTER,left:or.LEFT_CENTER,right:or.RIGHT_CENTER,top:or.TOP_CENTER,bottom:or.BOTTOM_CENTER,"left-top":or.TOP_LEFT,"top-left":or.TOP_LEFT,"left-center":or.LEFT_CENTER,"center-left":or.LEFT_CENTER,"left-bottom":or.BOTTOM_LEFT,"bottom-left":or.BOTTOM_LEFT,"center-top":or.TOP_CENTER,"top-center":or.TOP_CENTER,"center-center":or.CENTER,"center-bottom":or.BOTTOM_CENTER,"bottom-center":or.BOTTOM_CENTER,"right-top":or.TOP_RIGHT,"top-right":or.TOP_RIGHT,"right-center":or.RIGHT_CENTER,"center-right":or.RIGHT_CENTER,"right-bottom":or.BOTTOM_RIGHT,"bottom-right":or.BOTTOM_RIGHT};var QP=new Phaser.GameObjects.Zone({sys:{queueDepthSort:Ur,events:{once:Ur}}},0,0,1,1);QP.setOrigin(0);var Tl={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12},uM=function(e){var t=yi(e);return e.y+t-t*e.originY},fM=function(e){var t=mi(e);return e.x-t*e.originX+t*.5},dM=function(e,t){var i=yi(e);return e.y=t-i+i*e.originY,e},cM=function(e,t){var i=mi(e),s=i*e.originX;return e.x=t+s-i*.5,e},yut=function(e,t,i,s){return i===void 0&&(i=0),s===void 0&&(s=0),cM(e,fM(t)+i),dM(e,uM(t)+s),e},vM=function(e){var t=mi(e);return e.x-t*e.originX},pM=function(e,t){var i=mi(e);return e.x=t+i*e.originX,e},xut=function(e,t,i,s){return i===void 0&&(i=0),s===void 0&&(s=0),pM(e,vM(t)-i),dM(e,uM(t)+s),e},gM=function(e){var t=mi(e);return e.x+t-t*e.originX},mM=function(e,t){var i=mi(e);return e.x=t-i+i*e.originX,e},Tut=function(e,t,i,s){return i===void 0&&(i=0),s===void 0&&(s=0),mM(e,gM(t)+i),dM(e,uM(t)+s),e},yM=function(e,t){var i=yi(e),s=i*e.originY;return e.y=t+s-i*.5,e},Cut=function(e,t,i){return cM(e,t),yM(e,i)},xM=function(e){var t=yi(e);return e.y-t*e.originY+t*.5},Sut=function(e,t,i,s){return i===void 0&&(i=0),s===void 0&&(s=0),Cut(e,fM(t)+i,xM(t)+s),e},Eut=function(e,t,i,s){return i===void 0&&(i=0),s===void 0&&(s=0),pM(e,vM(t)-i),yM(e,xM(t)+s),e},but=function(e,t,i,s){return i===void 0&&(i=0),s===void 0&&(s=0),mM(e,gM(t)+i),yM(e,xM(t)+s),e},TM=function(e){var t=yi(e);return e.y-t*e.originY},CM=function(e,t){var i=yi(e);return e.y=t+i*e.originY,e},Put=function(e,t,i,s){return i===void 0&&(i=0),s===void 0&&(s=0),cM(e,fM(t)+i),CM(e,TM(t)-s),e},wut=function(e,t,i,s){return i===void 0&&(i=0),s===void 0&&(s=0),pM(e,vM(t)-i),CM(e,TM(t)-s),e},Mut=function(e,t,i,s){return i===void 0&&(i=0),s===void 0&&(s=0),mM(e,gM(t)+i),CM(e,TM(t)-s),e},Mo=[];Mo[Tl.BOTTOM_CENTER]=yut;Mo[Tl.BOTTOM_LEFT]=xut;Mo[Tl.BOTTOM_RIGHT]=Tut;Mo[Tl.CENTER]=Sut;Mo[Tl.LEFT_CENTER]=Eut;Mo[Tl.RIGHT_CENTER]=but;Mo[Tl.TOP_CENTER]=Put;Mo[Tl.TOP_LEFT]=wut;Mo[Tl.TOP_RIGHT]=Mut;var qG=function(e,t,i,s,p){return Mo[i](e,t,s,p)},Hp=function(e,t,i,s,p,E){QP.setPosition(t,i).setSize(s,p),qG(e,QP,E)};const fd=Phaser.Utils.Objects.GetValue,Rut=Phaser.GameObjects.Group,Aut=Phaser.GameObjects.Container;var Out=function(e,t){var i=e.scene,s,p,E,n,T;if(typeof t=="number")s=t;else{s=fd(t,"color"),p=fd(t,"lineWidth");var r=fd(t,"name",!1);r&&(E=fd(r,"createTextCallback",Lut),n=fd(r,"createTextCallbackScope",void 0),T=fd(r,"align","left-top"),typeof T=="string"&&(T=ec[T]))}if(s===void 0&&(s=16777215),p===void 0&&(p=1),E&&!e.children){e.children=new Rut(i),e.once("destroy",function(f,c){f.children.destroy(!c),f.children=void 0});var o=e.clear.bind(e);e.clear=function(){o(),e.children.clear(!1,!0)}}var x=this.getAllShownChildren([this]);_G(x,x);for(var d,h,l=0,a=x.length;l<a;l++){if(d=x[l],d.getBounds||d.width!==void 0&&d.height!==void 0)Su=jw(d,Su);else continue;s!=null&&e.lineStyle(p,s).strokeRectShape(Su),d.name&&E&&(n?h=E.call(n,i):h=E(i),h&&(h.setText(d.name),e.children.add(h),Hp(h,Su.x,Su.y,Su.width,Su.height,T)))}return this},Lut=function(e,t,i){return e.add.text(0,0,"")},_G=function(e,t){Array.isArray(e)||(e=[e]),t===void 0&&(t=[]);for(var i=0,s=e.length;i<s;i++){var p=e[i];p instanceof Aut&&(t.push(...p.list),_G(p.list,t))}return t},Su=void 0;const ey=Phaser.Utils.Objects.GetValue;var ju=function(e,t){return e===void 0&&(e=0),t===void 0&&(t={}),typeof e=="number"?(t.left=e,t.right=e,t.top=e,t.bottom=e):(t.left=ey(e,"left",0),t.right=ey(e,"right",0),t.top=ey(e,"top",0),t.bottom=ey(e,"bottom",0)),t};const Dut=Bs.prototype.add;var $p=function(e){return Dut.call(this,e),this.sizerEventsEnable&&(e.emit("sizer.add",e,this),this.emit("add",e,this)),this};const Fut={addBackground(e,t,i){this.backgroundChildren===void 0&&(this.backgroundChildren=[]),typeof t=="string"&&(i=t,t=void 0),t===void 0&&(t=0),$p.call(this,e),this.backgroundChildren.push(e);var s=this.getSizerConfig(e);return s.padding=ju(t),i!==void 0&&this.addChildrenMap(i,e),this},isBackground(e){return this.backgroundChildren===void 0?!1:this.backgroundChildren.indexOf(e)!==-1}};var bh=function(e,t){var i=null;if(t===void 0)e.hasOwnProperty("rexContainer")&&(i=e.rexContainer.parent,i?i.isRexSizer||(i=bh(i)):i=null);else for(i=bh(e);i&&i.name!==t;)i=bh(i);return i},Iut=function(e){for(var t=bh(e);t;)e=t,t=bh(t);return e};const ic={getParentSizer(e,t){return typeof e=="string"&&(t=e,e=void 0),e===void 0&&(e=this),bh(e,t)},getTopmostSizer(e){return e===void 0&&(e=this),Iut(e)},hasParentSizer(e,t){t===void 0&&(t=this);for(var i=bh(t);i;){if(i===e)return!0;i=bh(i)}return!1},hasChild(e,t){return t===void 0&&(t=this),this.hasParentSizer(t,e)}},But=Phaser.Utils.Array.Remove,Gut=Bs.prototype.remove,r3=ic.getParentSizer;var Kp=function(e,t){for(var i=r3(e);i;)i.removeChildCallback&&i.removeChildCallback(e,t),i=r3(i);return this.isBackground(e)&&But(this.backgroundChildren,e),Gut.call(this,e,t),!t&&this.sizerEventsEnable&&(e.emit("sizer.remove",e,this),this.emit("remove",e,this)),this};const kut=Phaser.Utils.Array.Remove,Nut=ic.getParentSizer,Uut={removeFromParentSizer(){var e=Nut(gameObject);return e&&e.remove(this),this},removeBackground(e,t){return this.backgroundChildren===void 0?this:this.getParentSizer(e)!==this?this:(kut(this.backgroundChildren,e),Kp.call(this,e,t),this)},removeAllBackgrounds(e){if(this.backgroundChildren===void 0)return this;for(var t=this.backgroundChildren.length-1;t>=0;t--)this.remove(this.backgroundChildren[t],e);return this}};var n3=function(e,t){if(typeof e=="string")this.childrenMap[e]=t;else{var i=e;for(e in i)this.childrenMap[e]=i[e]}return this},Vut=function(e){if(typeof e=="object"){var t=e;for(var e in this.childrenMap)if(this.childrenMap[e]===t)return delete this.childrenMap[e],this}return delete this.childrenMap[e],this},zut=function(e,t){if(typeof e=="string"&&(e=e.split(".")),e.length!==0){t===void 0&&(t=!1);var i=e.shift(),s=null;if(i.charAt(0)==="#")i=i.substring(1),s=this.getByName(i,t);else if(e.length===0&&t){var p=this.childrenMap;if(p)for(var E=[p],n;E.length;){p=E.shift();for(var T in p)if(n=p[T],T===i){s=n;break}else n&&typeof n=="object"&&n.childrenMap&&E.push(n.childrenMap);if(s)break}}else if(i.indexOf("[")===-1)this.childrenMap&&(s=this.childrenMap[i]);else{var r=i.match(Wut);if(r!=null&&this.childrenMap){var o=this.childrenMap[r[1]];o&&(s=o[r[2]])}}return e.length===0?s:s&&s.childrenMap?s.getElement(e):null}};const Wut=/(\S+)\[(\d+)\]/i;var Yut=function(e){if(Array.isArray(this.sizerChildren)){var t=this.sizerChildren.indexOf(e);return t===-1&&(t=null),t}else{if(this.getParentSizer(e)!==this)return null;for(var i in this.sizerChildren)if(this.sizerChildre[i]===e)return i;return null}};const Xut={getInnerPadding(e){return Xy(this.space,e)},setInnerPadding(e,t){return Eh(this.space,e,t),this},getOuterPadding(e){return Xy(this.getSizerConfig(this).padding,e)},setOuterPadding(e,t){return Eh(this.getSizerConfig(this).padding,e,t),this},getChildOuterPadding(e,t){return typeof e=="string"&&(e=this.getElement(e)),Xy(this.getSizerConfig(e).padding,t)},setChildOuterPadding(e,t,i){return typeof e=="string"&&(e=this.getElement(e)),Eh(this.getSizerConfig(e).padding,t,i),this}};var SM=function(e){var t=this.childrenWidth;if(t!==void 0){var i=this.minWidth!==void 0?this.minWidth*this.scaleX:0;return e===void 0?(e=Math.max(i,t),this.layoutWarnEnable&&i>0&&t>i&&console.warn(`Layout width warn: ${this.constructor.name}'s minWidth (${i}) < childrenWidth (${t})`)):this.layoutWarnEnable&&(i>e||t>e)&&console.warn(`Layout width warn: ${this.constructor.name}'s minWidth (${i}) or childrenWidth (${t} > targetWidth ${e})`),e}},EM=function(){var e;for(var t in this.sizerChildren)if(e=this.sizerChildren[t],!(!e||e.isRexSizer&&e.ignoreLayout||!e.runWidthWrap)&&(!e.hasWidthWrap||e.hasWidthWrap()))return!0;return!1},Hut=function(e){var t,i,s;for(var p in this.sizerChildren)t=this.sizerChildren[p],t&&t.isRexSizer&&!t.ignoreLayout&&(i=this.getExpandedChildWidth(t,e),s=t.resolveWidth(i),s===void 0&&(s=i),t.resolveChildrenWidth(s))},bM=function(e){var t,i,s;for(var p in this.sizerChildren)t=this.sizerChildren[p],!(!t||t.isRexSizer&&t.ignoreLayout||!t.runWidthWrap)&&(i=this.getExpandedChildWidth(t,e),t.isRexSizer?(s=t.resolveWidth(i),s===void 0&&(s=i)):s=i,t.runWidthWrap(s));return this},PM=function(e){var t=this.childrenHeight;if(t!==void 0){var i=this.minHeight!==void 0?this.minHeight*this.scaleY:0;return e===void 0?(e=Math.max(i,t),this.layoutWarnEnable&&i>0&&t>i&&console.warn(`Layout height warn: ${this.constructor.name}'s minHeight (${i}) < childrenHeight (${t})`)):this.layoutWarnEnable&&(i>e||t>e)&&console.warn(`Layout height warn: ${this.constructor.name}'s minHeight (${i}) or childrenHeight (${t}) > targetHeight (${e})`),e}},wM=function(){var e;for(var t in this.sizerChildren)if(e=this.sizerChildren[t],!(!e||e.isRexSizer&&e.ignoreLayout||!e.runHeightWrap)&&(!e.hasHeightWrap||e.hasHeightWrap()))return!0;return!1},$ut=function(e){var t,i,s;for(var p in this.sizerChildren)t=this.sizerChildren[p],t&&t.isRexSizer&&!t.ignoreLayout&&(i=this.getExpandedChildHeight(t,e),s=t.resolveHeight(i),s===void 0&&(s=i),t.resolveChildrenHeight(s))},MM=function(e){var t,i,s;for(var p in this.sizerChildren)t=this.sizerChildren[p],!(!t||t.isRexSizer&&t.ignoreLayout||!t.runHeightWrap)&&(i=this.getExpandedChildHeight(t,e),t.isRexSizer?(s=t.resolveHeight(i),s===void 0&&(s=i)):s=i,t.runHeightWrap(s));return this},Kut=function(e){var t;if(e.isRexSizer){var i=e.childrenWidth;if(i==null)return;var s=e.minWidth*e.scaleX;t=Math.max(s,i)}else e.minWidth!==void 0?t=e.minWidth:e._minWidth!==void 0?t=e._minWidth:t=mi(e);return t},Zut=function(e){var t;if(e.isRexSizer){var i=e.childrenHeight;if(i===void 0)return;var s=e.minHeight*e.scaleY;t=Math.max(s,i)}else e.minHeight!==void 0?t=e.minHeight:e._minHeight!==void 0?t=e._minHeight:t=yi(e);return t},Jut=function(e,t){return t},jut=function(e,t){return t},Qut=function(){return 0},qut=function(){return 0},_ut=function(e){e===void 0&&(e=[]);for(var t=e.length,i=this.getChildrenSizers(e),s=e.length,p=t;p<s;p++)i[p].getAllChildrenSizers(e);return e},tft=function(e){return e===void 0&&(e=[]),e};const eft={getShownChildren(e){e===void 0&&(e=[]);for(var t=this.children,i,s=0,p=t.length;s<p;s++)i=t[s],!(i.rexSizer&&i.rexSizer.hidden)&&e.push(i);return e},getAllShownChildren(e){e===void 0&&(e=[]);for(var t=[this];t.length>0;){var i=t.shift();i.rexSizer&&i.rexSizer.hidden||(i!==this&&e.push(i),i.isRexContainerLite&&t.push(...i.children))}return e}};var Zp=function(){this._childrenWidth=void 0,this._childrenHeight=void 0;for(var e=this.getChildrenSizers(),t,i=0,s=e.length;i<s;i++)t=e[i],!t.ignoreLayout&&t.preLayout()},ift=function(){return this.runLayout(),this},rft=function(e){if(e.resize)return!0;if(!e.setSize)return!1;for(var t=0,i=s3.length;t<i;t++){var s=s3[t];if(s&&e instanceof s)return!1}return!0},s3=[Phaser.GameObjects.Image,Phaser.GameObjects.Sprite,Phaser.GameObjects.Mesh,Phaser.GameObjects.Shader,Phaser.GameObjects.Video],nft=function(e){if(e.displayWidth===void 0)return!1;for(var t=0,i=a3.length;t<i;t++){var s=a3[t];if(s&&e instanceof s)return!1}return!0},a3=[Phaser.GameObjects.BitmapText],Rn=function(e,t,i){if(!(!e||t===void 0&&i===void 0))if(rft(e)){var s,p;t===void 0?s=e.width:s=t/e.scaleX,i===void 0?p=e.height:p=i/e.scaleY,e.resize?e.resize(s,p):e.setSize(s,p)}else{var E=nft(e);t!==void 0&&(E?e.displayWidth=t:e.scaleX=t/e.width),i!==void 0&&(E?e.displayHeight=i:e.scaleY=i/e.height)}},sft=function(e,t,i){if(this.ignoreLayout)return this;var s=!e;s&&this.preLayout();var p,E;s||e.runChildrenWrapFlag?(p=this.hasWidthWrap(),E=this.hasHeightWrap()):(p=!1,E=!1);var n=aft(this,t,i,p,E);n||console.error("Can't resolve size of ",this);var T=n.width,r=n.height;return Rn(this,T,r),this.sizerEventsEnable&&this.layoutedChildren===void 0&&(this.layoutedChildren=[]),this.layoutChildren(),this.layoutBackgrounds(),this.sizerEventsEnable&&(this.emit("postlayout",this.layoutedChildren,this),this.layoutedChildren.length=0),this.postLayout(e,T,r),s&&this._anchor&&this._anchor.updatePosition(),this},aft=function(e,t,i,s,p){var E=o3(e,t,s),n=oft(e,i,p);return E===void 0&&(E=o3(e,t,s)),E!==void 0&&n!==void 0?{width:E,height:n}:!1},o3=function(e,s,i){var s=e.resolveWidth(s);return s!==void 0&&i&&(e.resolveChildrenWidth(s),e.runWidthWrap(s)),s},oft=function(e,s,i){var s=e.resolveHeight(s);return s!==void 0&&i&&(e.resolveChildrenHeight(s),e.runHeightWrap(s)),s},lft=function(){},hft=function(e,t,i){return this},uft=function(e,t,i,s){Rn(i,e,t)};const iy=Phaser.Utils.Objects.GetValue;class RM extends ji{constructor(t,i){super(t,{eventEmitter:!1}),this.viewport=void 0,this.resetFromJSON(i)}shutdown(t){this.isShutdown||(this.autoAnchor(!1),this.viewport=void 0,this.onUpdateViewportCallback=void 0,this.onUpdateViewportCallbackScope=void 0,this.onResizeCallback=void 0,this.onResizeCallbackScope=void 0,super.shutdown(t))}resetFromJSON(t){t===void 0&&(t={});var i,s;t.x!==void 0?(i=null,s=t.x):t.left!==void 0?(i=0,s=t.left):t.right!==void 0?(i=1,s=t.right):t.centerX!==void 0&&(i=.5,s=t.centerX);var p,E;t.y!==void 0?(p=null,E=t.y):t.top!==void 0?(p=0,E=t.top):t.bottom!==void 0?(p=1,E=t.bottom):t.centerY!==void 0&&(p=.5,E=t.centerY);var n,T;s!==void 0&&(s=s.replace("left","0%").replace("right","100%").replace("center","50%").split("%"),n=parseFloat(s[0])/100,T=s[1]===""?0:parseFloat(s[1]));var r,o;E!==void 0&&(E=E.replace("top","0%").replace("bottom","100%").replace("center","50%").split("%"),r=parseFloat(E[0])/100,o=E[1]===""?0:parseFloat(E[1]));var x=t.width,d,h;x!==void 0&&(x=x.split("%"),d=parseFloat(x[0])/100,h=x[1]===""?0:parseFloat(x[1]));var l=t.height,a,f;l!==void 0&&(l=l.split("%"),a=parseFloat(l[0])/100,f=l[1]===""?0:parseFloat(l[1])),this.setAlign(i,p),this.setPercentage(n,r),this.setOffset(T,o),this.setSizePercentage(d,a),this.setSizePadding(h,f);var c=iy(t,"onResizeCallback",uft),u=iy(t,"onResizeCallbackScope");this.setResizeCallback(c,u);var v=iy(t,"onUpdateViewportCallback"),g=iy(t,"onUpdateViewportCallbackScope");return this.setUpdateViewportCallback(v,g),this.autoAnchor(t.enable),this}autoAnchor(t){return t===void 0&&(t=!0),t=!!t,this.autoAnchorEnable===t?this:(t?(this.scene.sys.scale.on("resize",this.anchor,this),this.anchor()):this.scene.sys.scale.off("resize",this.anchor,this),this.autoAnchorEnable=t,this)}setAlign(t,i){return this.alignX=t,this.alignY=i,this}setPercentage(t,i){return this.percentageX=t,this.percentageY=i,this}setOffset(t,i){return this.offsetX=t,this.offsetY=i,this}setSizePercentage(t,i){return this.percentageWidth=t,this.percentageHeight=i,this}setSizePadding(t,i){return this.paddingWidth=t,this.paddingHeight=i,this}setResizeCallback(t,i){return this.onResizeCallback=t,this.onResizeCallbackScope=i,this}setUpdateViewportCallback(t,i){return this.onUpdateViewportCallback=t,this.onUpdateViewportCallbackScope=i,this}anchor(){return this.updateViewport(),this.updateSize(),this.updatePosition(),this}updateSize(){var t=this.onResizeCallback,i=this.onResizeCallbackScope,s=this.anchorWidth,p=this.anchorHeight;if(!(s===void 0&&p===void 0||!t)){var E=this.parent;s===void 0&&(s=E.width),p===void 0&&(p=E.height),i?t.call(i,s,p,E,this):t(s,p,E,this)}}updatePosition(){var t=this.parent;return this.alignX===null?t.x=this.anchorX:this.alignX!==void 0&&(t.x=this.anchorX+t.displayWidth*(t.originX-this.alignX)),this.alignY===null?t.y=this.anchorY:this.alignY!==void 0&&(t.y=this.anchorY+t.displayHeight*(t.originY-this.alignY)),this}get anchorX(){return this.viewport.x+this.viewport.width*this.percentageX+this.offsetX}get anchorY(){return this.viewport.y+this.viewport.height*this.percentageY+this.offsetY}get anchorWidth(){if(this.percentageWidth!==void 0)return this.viewport.width*this.percentageWidth+this.paddingWidth}get anchorHeight(){if(this.percentageHeight!==void 0)return this.viewport.height*this.percentageHeight+this.paddingHeight}updateViewport(){var t=this.parent.scene.cameras.main;this.viewport=qd(this.scene,t,this.viewport);var i=this.viewport,s=this.onUpdateViewportCallback,p=this.onUpdateViewportCallbackScope;s&&(p?s.call(p,i,this.parent,this):s(i,this.parent,this))}}var fft=function(e){e===void 0&&(e={});var t=e.hasOwnProperty("width"),i=e.hasOwnProperty("height"),s=e.hasOwnProperty("onResizeCallback");return(t||i)&&!s&&(e.onResizeCallback=function(p,E,n){t&&n.setMinWidth(p),i&&n.setMinHeight(E),n.layout()}),this._anchor===void 0?this._anchor=new RM(this,e):this._anchor.resetFromJSON(e),this};const dft=Phaser.Utils.Objects.GetValue,dd=Phaser.Utils.Objects.GetAdvancedValue,l3=Phaser.Math.Linear;class Ap extends Ku{constructor(t,i){super(t,i),this.scaleStart={},this.scaleEnd={},this.resetFromJSON(i),this.boot()}resetFromJSON(t){return super.resetFromJSON(t),this.setMode(dft(t,"mode",0)),this.setScaleRange(dd(t,"start",void 0),dd(t,"end",0)),this}setMode(t){return typeof t=="string"&&(t=cft[t]),this.mode=t,this}setScaleRange(t,i){return typeof t=="number"?(this.startX=t,this.startY=t):(this.startX=dd(t,"x",this.parent.scaleX),this.startY=dd(t,"y",this.parent.scaleY)),typeof i=="number"?(this.endX=i,this.endY=i):(this.endX=dd(i,"x",void 0),this.endY=dd(i,"y",void 0)),this.hasScaleX=this.startX!==void 0&&this.endX!==void 0,this.hasScaleY=this.startY!==void 0&&this.endY!==void 0,this}start(){if(this.timer.isRunning)return this;var t=this.parent;this.hasScaleX&&(t.scaleX=this.startX),this.hasScaleY&&(t.scaleY=this.startY);var i=this.repeat;return this.mode===2&&i!==-1&&(i=(i+1)*2-1),this.timer.setDelay(this.delay).setDuration(this.duration).setRepeat(i),super.start(),this}updateTarget(t,i){var s=i.t;i.isOddIteration&&(s=1-s),s=this.easeFn(s),this.hasScaleX&&(t.scaleX=l3(this.startX,this.endX,s)),this.hasScaleY&&(t.scaleY=l3(this.startY,this.endY,s))}complete(){return super.complete(),this.mode===1&&this.parent.destroy(),this}}const cft={stop:0,destroy:1,yoyo:2};var AM=function(e,t,i,s,p){s===void 0&&(s="Cubic");var E,n;switch(i){case 0:case"x":E={x:0},n={x:e.scaleX};break;case 1:case"y":E={y:0},n={y:e.scaleY};break;default:E=0,n=e.scale;break}var T={mode:0,start:E,end:n,duration:t,ease:s};return p===void 0?p=new Ap(e,T):p.resetFromJSON(T),p.restart(),p},tk=function(e,t,i,s,p,E){s===void 0&&(s="Linear"),p instanceof Ap&&(E=p,p=void 0),p===void 0&&(p=!0);var n={};switch(n.mode=p?1:0,i){case 0:case"x":n.end={x:0};break;case 1:case"y":n.end={y:0};break;default:n.end=0;break}return n.duration=t,n.ease=s,E===void 0?E=new Ap(e,n):E.resetFromJSON(n),E.restart(),E},vft=function(e,t,i,s,p,E,n){i===void 0&&(i=1.2),s===void 0&&(s=0),E===void 0&&(E="Cubic");var T,r;switch(p){case 0:case"x":T={x:e.scaleX},r={x:i};break;case 1:case"y":T={y:e.scaleX},r={y:i};break;default:T=e.scaleX,r=i;break}var o={mode:2,start:T,end:r,duration:t/2,ease:E,repeat:s};return n===void 0?n=new Ap(e,o):n.resetFromJSON(o),n.restart(),n};const Tb=Phaser.Utils.Objects.IsPlainObject,ek={onInitScale(){var e=this,t=this._scaleBehavior;t.completeEventName=void 0,t.on("complete",function(){t.completeEventName&&(e.emit(t.completeEventName,e),t.completeEventName=void 0)})},popUp(e,t,i){if(Tb(e)){var s=e;e=s.duration,t=s.orientation,i=s.ease}var p=this._scaleBehavior===void 0;return this._scaleBehavior=AM(this,e,t,i,this._scaleBehavior),p&&this.onInitScale(),this._scaleBehavior.completeEventName="popup.complete",this},popUpPromise(e,t,i){return this.popUp(e,t,i),vn(this._scaleBehavior)},isRunningPopUp(){return this._scaleBehavior&&this._scaleBehavior.completeEventName==="popup.complete"},scaleDownDestroy(e,t,i,s){if(Tb(e)){var p=e;e=p.duration,t=p.orientation,i=p.ease,s=p.destroy}var E=this._scaleBehavior===void 0;return this._scaleBehavior=tk(this,e,t,i,s,this._scaleBehavior),E&&this.onInitScale(),this._scaleBehavior.completeEventName="scaledown.complete",this},scaleDownDestroyPromise(e,t,i,s){return this.scaleDownDestroy(e,t,i,s),vn(this._scaleBehavior)},scaleDown(e,t,i){return this.scaleDownDestroy(e,t,i,!1),this},scaleDownPromise(e,t,i){return this.scaleDown(e,t,i),vn(this._scaleBehavior)},isRunningScaleDown(){return this._scaleBehavior&&this._scaleBehavior.completeEventName==="scaledown.complete"},scaleYoyo(e,t,i,s,p){if(Tb(e)){var E=e;e=E.duration,t=E.peakValue,i=E.repeat,s=E.orientation,p=E.ease}var n=this._scaleBehavior===void 0;return this._scaleBehavior=vft(this,e,t,i,s,p,this._scaleBehavior),n&&this.onInitScale(),this._scaleBehavior.completeEventName="scaleyoyo.complete",this},scaleYoyoPromise(e,t,i,s,p){return this.scaleYoyo(e,t,i,s,p),vn(this._scaleBehavior)},isRunningScaleYoyo(){return this._scaleBehavior&&(this._scaleBehavior.completeEventName="scaleyoyo.complete")},isRunningEaseScale(){return this.isRunningPopUp()||this.isRunningScaleDown()||this.isRunningScaleYoyo()}};var fl={};Object.assign(fl,ek);fl.onInitScale=function(){ek.onInitScale.call(this);var e=this,t=this._scaleBehavior;t.on("update",function(){var i=ic.getParentSizer(e);i&&i.resetChildPositionState(e)})};const pft=Phaser.Utils.Objects.GetValue,h3=Phaser.Utils.Objects.GetAdvancedValue,gft=Phaser.Math.Linear;let qP=class extends Ku{constructor(t,i){super(t,i),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return super.resetFromJSON(t),this.setMode(pft(t,"mode",0)),this.setAlphaRange(h3(t,"start",this.parent.alpha),h3(t,"end",0)),this}setMode(t){return typeof t=="string"&&(t=mft[t]),this.mode=t,this}setAlphaRange(t,i){return this.alphaStart=t,this.alphaEnd=i,this}start(){if(this.timer.isRunning)return this;var t=this.parent;return t.setAlpha(this.alphaStart),this.timer.setDelay(this.delay).setDuration(this.duration).setRepeat(this.mode===2?-1:0),super.start(),this}updateTarget(t,i){var s=i.t;i.isOddIteration&&(s=1-s),t.alpha=gft(this.alphaStart,this.alphaEnd,s)}complete(){return super.complete(),this.mode===1&&this.parent.destroy(),this}};const mft={stop:0,destroy:1,yoyo:2},yft=Phaser.Utils.Objects.IsPlainObject;var Yx=function(e,t,i,s){var p,E;yft(i)?(p=i.start,E=i.end):E=i,p===void 0&&(p=0),E===void 0&&(E=1);var n={mode:0,start:p,end:E,duration:t};return s===void 0?s=new qP(e,n):s.resetFromJSON(n),s.restart(),s},Xx=function(e,t,i,s){i instanceof qP&&(s=i,i=void 0),i===void 0&&(i=!0);var p={mode:i?1:0,end:0,duration:t};return s===void 0?s=new qP(e,p):s.resetFromJSON(p),s.restart(),s};const u3=Phaser.Utils.Objects.IsPlainObject,ik={onInitFade(){var e=this,t=this._fade;t.completeEventName=void 0,t.on("complete",function(){t.completeEventName&&(e.emit(t.completeEventName,e),t.completeEventName=void 0)})},fadeIn(e,t){if(u3(e)){var i=e;e=i.duration,t=i.alpha}var s=this._fade===void 0;return this._fade=Yx(this,e,t,this._fade),s&&this.onInitFade(),this._fade.completeEventName="fadein.complete",this},fadeInPromise(e,t){return this.fadeIn(e,t),vn(this._fade)},isRunningFadeIn(){return this._fade&&this._fade.completeEventName==="fadein.complete"},fadeOutDestroy(e,t){if(u3(e)){var i=e;e=i.duration,t=i.destroy}var s=this._fade===void 0;return this._fade=Xx(this,e,t,this._fade),s&&this.onInitFade(),this._fade.completeEventName="fadeout.complete",this},fadeOutDestroyPromise(e,t){return this.fadeOutDestroy(e,t),vn(this._fade)},fadeOut(e){return this.fadeOutDestroy(e,!1),this},fadeOutPromise(e){return this.fadeOut(e),vn(this._fade)},isRunningFadeOut(){return this._fade&&this._fade.completeEventName==="fadeout.complete"},isRunningEaseFade(){return this.isRunningFadeIn()||this.isRunningFadeOut()}};var Op={};Object.assign(Op,ik);Op.onInitFade=function(){ik.onInitFade.call(this);var e=this,t=this._fade;t.on("update",function(){var i=ic.getParentSizer(e);i&&i.resetChildAlphaState(e)})};const xft=Phaser.Utils.Objects.GetValue,cd=Phaser.Utils.Objects.GetAdvancedValue,f3=Phaser.Math.Linear;class sx extends Ku{constructor(t,i){super(t,i),this.resetFromJSON(i),this.boot()}resetFromJSON(t){if(super.resetFromJSON(t),this.setMode(xft(t,"mode",0)),t&&(t.hasOwnProperty("x")||t.hasOwnProperty("y"))){var i=cd(t,"x",void 0),s=cd(t,"y",void 0);this.setTargetPosition(i,s)}else this.setTargetPosition(t);return this}setMode(t){return typeof t=="string"&&(t=Tft[t]),this.mode=t,this}setTargetPosition(t,i){if(typeof t=="number"||typeof i=="number")this.startX=this.parent.x,this.startY=this.parent.y,this.endX=t,this.endY=i;else{var s=t;this.startX=cd(s,"startX",void 0),this.startY=cd(s,"startY",void 0),this.endX=cd(s,"endX",void 0),this.endY=cd(s,"endY",void 0)}return this.hasMoveX=this.startX!==void 0&&this.endX!==void 0,this.hasMoveY=this.startY!==void 0&&this.endY!==void 0,this}start(){if(this.timer.isRunning)return this;var t=this.parent;return this.hasMoveX&&(t.x=this.startX),this.hasMoveY&&(t.y=this.startY),this.timer.setDelay(this.delay).setDuration(this.duration).setRepeat(this.mode===2?-1:0),super.start(),this}updateTarget(t,i){var s=i.t;i.isOddIteration&&(s=1-s),s=this.easeFn(s),this.hasMoveX&&(t.x=f3(this.startX,this.endX,s)),this.hasMoveY&&(t.y=f3(this.startY,this.endY,s))}complete(){return super.complete(),this.mode===1&&this.parent.destroy(),this}}const Tft={stop:0,destroy:1,yoyo:2};var ax=function(e,t){if(typeof e=="number")return e;var i=e[0],s=parseFloat(e.substr(2));switch(i){case"+":return t+s;case"-":return t-s;case"*":return t*s;case"/":return t/s}},rk=function(e,t,i,s,p,E,n){E instanceof sx&&(n=E,E=void 0),E===void 0&&(E=!1);var T={};return T.mode=E?1:0,i!==void 0&&(T.startX=e.x,T.endX=ax(i,e.x)),s!==void 0&&(T.startY=e.y,T.endY=ax(s,e.y)),T.duration=t,T.ease=p===void 0?"Linear":p,n===void 0?n=new sx(e,T):n.resetFromJSON(T),n.restart(),n},nk=function(e,t,i,s,p,E,n){E instanceof sx&&(n=E,E=void 0),E===void 0&&(E=!1);var T={};return T.mode=E?1:0,i!==void 0&&(T.startX=ax(i,e.x),T.endX=e.x),s!==void 0&&(T.startY=ax(s,e.y),T.endY=e.y),T.duration=t,T.ease=p===void 0?"Linear":p,n===void 0?n=new sx(e,T):n.resetFromJSON(T),n.restart(),n};const d3=Phaser.Utils.Objects.IsPlainObject,c3=Phaser.Math.Distance.Between,sk={onInitEaseMove(){var e=this,t=this._easeMove;t.completeEventName=void 0,t.on("complete",function(){t.completeEventName&&(e.emit(t.completeEventName,e),t.completeEventName=void 0)})},moveFrom(e,t,i,s,p){if(d3(e)){var E=e;t=E.x,i=E.y,E.hasOwnProperty("speed")?e=c3(t,i,this.x,this.y)*1e3/E.speed:e=E.duration,s=E.ease}var n=this._easeMove===void 0;return this._easeMove=nk(this,e,t,i,s,p,this._easeMove),n&&this.onInitEaseMove(),this._easeMove.completeEventName="movefrom.complete",this},moveFromPromise(e,t,i,s,p){return this.moveFrom(e,t,i,s,p),vn(this._easeMove)},moveFromDestroy(e,t,i,s){return this.moveFrom(e,t,i,s,!0),this},moveFromDestroyPromise(e,t,i,s){return this.moveFromDestroy(e,t,i,s),vn(this._easeMove)},isRunningMoveFrom(){return this._easeMove&&(this._easeMove.completeEventName="movefrom.complete")},moveTo(e,t,i,s,p){if(d3(e)){var E=e;t=E.x,i=E.y,E.hasOwnProperty("speed")?e=c3(t,i,this.x,this.y)*1e3/E.speed:e=E.duration,s=E.ease}var n=this._easeMove===void 0;return this._easeMove=rk(this,e,t,i,s,p,this._easeMove),n&&this.onInitEaseMove(),this._easeMove.completeEventName,this},moveToPromise(e,t,i,s,p){return this.moveTo(e,t,i,s,p),vn(this._easeMove)},moveToDestroy(e,t,i,s){return this.moveTo(e,t,i,s,!0),this},moveToDestroyPromise(e,t,i,s){return this.moveToDestroy(e,t,i,s,!0),vn(this._easeMove)},isRunningMoveTo(){return this._easeMove&&this._easeMove.completeEventName==="moveto.complete"},isRunningEaseMove(){return this.isRunningMoveFrom()||this.isRunningMoveTo()},moveStop(e){return this._easeMove?(this._easeMove.stop(e),this):this}};var Hx={};Object.assign(Hx,sk);Hx.onInitEaseMove=function(){sk.onInitEaseMove.call(this);var e=this,t=this._easeMove;t.on("update",function(){var i=ic.getParentSizer(e);i&&i.resetChildPositionState(e)})};const Js=Phaser.Utils.Objects.GetValue;class OM extends Bx{constructor(t,i){super(t,i),this.timer=new sG,this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.timer.resetFromJSON(Js(t,"timer")),this.setEnable(Js(t,"enable",!0)),this.setMode(Js(t,"mode",1)),this.isRunning=Js(t,"isRunning",!1),this.setMagnitudeMode(Js(t,"magnitudeMode",1)),this.setAxisMode(Js(t,"axis",0)),this.setDuration(Js(t,"duration",500)),this.setMagnitude(Js(t,"magnitude",10)),this.ox=Js(t,"ox",void 0),this.oy=Js(t,"oy",void 0),this}toJSON(){return{timer:this.timer.toJSON(),enable:this.enable,mode:this.mode,isRunning:this.isRunning,magnitudeMode,duration:this.duration,magnitude:this.magnitude,ox:this.ox,oy:this.oy}}shutdown(t){this.isShutdown||(super.shutdown(t),this.timer.destroy(),this.timer=void 0)}startTicking(){super.startTicking(),this.mode===0?(this.scene.game.events.on("poststep",this.update,this),this.scene.game.events.on("prestep",this.backToOrigin,this)):this.scene.sys.events.on("preupdate",this.update,this)}stopTicking(){super.stopTicking(),this.scene&&(this.mode===0?(this.scene.game.events.off("poststep",this.update,this),this.scene.game.events.off("prestep",this.backToOrigin,this)):this.scene.sys.events.off("preupdate",this.update,this))}setEnable(t){return t==null&&(t=!0),this.enable=t,this}setMode(t){return typeof t=="string"&&(t=Cft[t]),this.mode=t,this}setMagnitudeMode(t){return typeof t=="string"&&(t=Eft[t]),this.magnitudeMode=t,this}setAxisMode(t){return typeof t=="string"&&(t=Sft[t]),this.axisMode=t,this}setDuration(t){return this.duration=t,this}setMagnitude(t){return this.magnitude=t,this}start(t,i){if(typeof t!="number"){var s=t;i=Js(s,"magnitude",void 0),t=Js(s,"duration",void 0)}return i!==void 0&&this.setMagnitude(i),t!==void 0&&this.setDuration(t),this.timer.setDuration(this.duration).start(),super.start(),this}shake(t,i){return this.start(t,i),this}update(t,i){if(!this.isRunning||!this.enable)return this;var s=this.parent;if(!s.active)return this;if(this.timer.update(t,i),this.timer.isDone)this.backToOrigin(),this.complete();else{this.ox===void 0&&(this.ox=s.x,this.oy=s.y);var p=this.magnitude;this.magnitudeMode===1&&(p*=1-this.timer.t);var E=Math.random()*Math.PI*2,n=this.ox+Math.cos(E)*p,T=this.oy+Math.sin(E)*p;switch(this.axisMode){case 1:s.x=n;break;case 2:s.y=T;break;default:s.x=n,s.y=T;break}}return this}backToOrigin(){if(!this.isRunning||!this.enable)return this;if(this.ox===void 0)return this;var t=this.parent;switch(this.axisMode){case 1:t.x=this.ox;break;case 2:t.y=this.oy;break;default:t.x=this.ox,t.y=this.oy;break}return this.ox=void 0,this.oy=void 0,this}}const Cft={effect:0,behavior:1},Sft={both:0,"h&v":0,"x&y":0,horizontal:1,h:1,x:1,vertical:2,v:2,y:2},Eft={constant:0,decay:1},bft=Phaser.Utils.Objects.IsPlainObject;var Pft=function(e,t){t.on("complete",function(){e.emit("shake.complete",e)})};const wft={shake(e,t,i){if(bft(e)){var s=e;e=s.duration,t=s.magnitude,i=s.magnitudeMode}return this._shake===void 0&&(this._shake=new OM(this,{mode:0,magnitudeMode:1}),Pft(this,this._shake)),e!==void 0&&this._shake.setDuration(e),t!==void 0&&this._shake.setMagnitude(t),i!==void 0&&this._shake.setMagnitudeMode(i),this._shake.shake(),this},shakePromise(e,t){return this.shake(e,t),vn(this._shake)}},v3=Phaser.Utils.Objects.IsPlainObject;class Mft extends ji{constructor(t,i){super(t,i),this.parent.setDataEnabled(),this.easeTasks={}}complete(t){this.emit(`complete-${t}`,this.parent,this),this.emit("complete",t,this.parent,this)}getEaseTask(t){var i=this.easeTasks[t];return i===void 0&&(i=new gl(this.parent),this.easeTasks[t]=i,i.setTarget(this.parent.data.values).on("complete",function(){this.complete(t)},this)),i}easeTo(t,i,s,p){if(v3(t)){var E=t;t=E.key,i=E.value,s=E.duration,p=E.ease;var n=E.speed;s===void 0&&n!==void 0&&(s=Math.abs(i-this.parent.data.values[t])/n*1e3)}s===void 0&&(s=1e3),p===void 0&&(p="Linear");var T=this.getEaseTask(t);return T.restart({key:t,to:i,duration:s,ease:p}),this}easeFrom(t,i,s,p){if(v3(t)){var E=t;t=E.key,i=E.value,s=E.duration,p=E.ease;var n=E.speed;s===void 0&&n!==void 0&&(s=Math.abs(i-this.parent.data.values[t])/n*1e3)}s===void 0&&(s=1e3),p===void 0&&(p="Linear");var T=this.getEaseTask(t);return T.restart({key:t,from:i,duration:s,ease:p}),this}stopEase(t,i){i===void 0&&(i=!0);var s=this.easeTasks[t];return s&&s.stop(i),this}stopAll(t){t===void 0&&(t=!0);for(var i in this.easeTasks)this.stopEase(i,t);return this}}var Rft=function(e,t){t.on("complete",function(i){e.emit(`easedata.${i}.complete`,e),e.emit("easedata.complete",i,e)})};const Aft={easeDataTo(e,t,i,s){return this._easeData||(this._easeData=new Mft(this),Rft(this,this._easeData)),this._easeData.easeTo(e,t,i,s),this},easeDataToPromise(e,t,i,s){return this.easeDataTo(e,t,i,s),kx(this._easeData,`complete-${e}`)},stopEaseData(e,t){return this._easeData?(this._easeData.stopEase(e,t),this):this},stopAllEaseData(e){return this._easeData?(this._easeData.stopAll(e),this):this}};var Oft=Phaser.Utils.Array.Remove,Lft=function(e){e._delayCallTimers=[],e.once("destroy",function(){for(var t=e._delayCallTimers,i=0,s=t.length;i<s;i++)t[i].remove();e._delayCallTimers=void 0})};const ak={delayCall(e,t,i){var s=this._delayCallTimers;s===void 0&&Lft(this);var p,E=this,n=function(){Oft(E._delayCallTimers,p),i?t.call(i):t()};return p=this.scene.time.delayedCall(e,n),this._delayCallTimers.push(p),this}};var mh=function(e){ok(e,!1)},yh=function(e){ok(e,!0)},LM=function(e){if(!e)return!1;var t=Wx(e);return!t.hidden},ok=function(e,t){if(e){var i=Wx(e);i.hidden=t;var s=Ds(e);s?s.setChildVisible(e,!t):e.setVisible(!t)}};const Dft={show(e){return e===void 0&&(e=this),mh(e),this},hide(e){return e===void 0&&(e=this),yh(e),this},isShow(e){return e===void 0&&(e=this),LM(e)}},Fft=["next","exit","enter"];let lk=class{constructor(t){var i=Ti(t,"states",void 0);i&&this.addStates(i);var s=Ti(t,"extend",void 0);if(s)for(var p in s)(!this.hasOwnProperty(p)||this[p]===void 0)&&(this[p]=s[p]);var E=Ti(t,"eventEmitter",void 0),n=Ti(t,"EventEmitterClass",void 0);this.setEventEmitter(E,n),this._stateLock=!1,this.resetFromJSON(t)}shutdown(){this.destroyEventEmitter()}destroy(){this.shutdown()}resetFromJSON(t){this.setEnable(Ti(t,"enable",!0)),this.start(Ti(t,"start",void 0));var i=Ti(t,"init",void 0);return i&&i.call(this),this}toJSON(){return{curState:this.state,prevState:this.prevState,enable:this.enable,start:this._start}}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}set state(t){if(!(!this.enable||this._stateLock)&&this._state!==t){if(this._prevState=this._state,this._state=t,this._stateLock=!0,this.emit("statechange",this),this._prevState!=null){var i="exit_"+this._prevState,s=this[i];s&&s.call(this),this.emit(i,this)}if(this._stateLock=!1,this._state!=null){var p="enter_"+this._state,E=this[p];E&&E.call(this),this.emit(p,this)}}}get state(){return this._state}get prevState(){return this._prevState}start(t){return this._start=t,this._prevState=void 0,this._state=t,this}goto(t){return t!=null&&(this.state=t),this}next(){var t,i=this["next_"+this.state];return i&&(typeof i=="string"?t=i:t=i.call(this)),this.goto(t),this}get stateProperties(){return Fft}addState(t,i){typeof t!="string"&&(i=t,t=i.name);for(var s=this.stateProperties,p=0,E=s.length;p<E;p++){var n=s[p],T=i[n];T&&(this[`${n}_${t}`]=T)}return this}addStates(t){if(Array.isArray(t))for(var i=0,s=t.length;i<s;i++)this.addState(t[i]);else for(var p in t)this.addState(p,t[p]);return this}runMethod(t,i,s,p,E,n){var T=this[t+"_"+this.state];if(T){var r=arguments.length;switch(r){case 1:return T.call(this);case 2:return T.call(this,i);case 3:return T.call(this,i,s);case 4:return T.call(this,i,s,p);case 5:return T.call(this,i,s,p,E);case 6:return T.call(this,i,s,p,E,n)}for(var o=new Array(r-1),x=1;x<r;x++)o[x-1]=arguments[x];return T.apply(this,o)}}};Object.assign(lk.prototype,gG);var Cb=function(e,t,i,s,p){p===void 0&&(p=!1);var E=e._events[t];if(!E)return!1;for(var n=0,T=E.length;n<T;n++){var r=E[n];if(r.fn===i&&r.context===s&&r.once===p)return!0}return!1};const Ift=["next","exit","enter","update","preupdate","postupdate"];class Cl extends lk{shutdown(){this.stopUpdate(),this.stopPreUpdate(),this.stopPostUpdate(),this._scene=void 0,super.shutdown()}resetFromJSON(t){return super.resetFromJSON(t),this._scene=Ti(t,"scene",void 0),this}get stateProperties(){return Ift}update(t,i){this.runMethod("update",t,i)}preupdate(t,i){this.runMethod("preupdate",t,i)}postupdate(t,i){this.runMethod("postupdate",t,i)}startUpdate(t){t||(t=this._scene);var i=t.sys.events;return Cb(i,"update",this.update,this)?this:(this._scene=t,i.on("update",this.update,this),this)}stopUpdate(){return this._scene?(this._scene.sys.events.off("update",this.update,this),this):this}startPreUpdate(t){t||(t=this._scene);var i=t.sys.events;return Cb(i,"preupdate",this.preupdate,this)?this:(this._scene=t,i.on("preupdate",this.preupdate,this),this)}stopPreUpdate(){return this._scene?(this._scene.sys.events.off("preupdate",this.preupdate,this),this):this}startPostUpdate(t){t||(t=this._scene);var i=t.sys.events;return Cb(i,"postupdate",this.postupdate,this)?this:(this._scene=t,i.on("postupdate",this.postupdate,this),this)}stopPostUpdate(){return this._scene?(this._scene.sys.events.off("postupdate",this.postupdate,this),this):this}}let Bft=class extends Cl{constructor(t,i){super(i),this.parent=t;var s=i.initState||"IDLE";this.start(s)}init(){this.start("IDLE")}next_IDLE(){return"TRANS_OPNE"}next_TRANS_OPNE(){return"OPEN"}enter_TRANS_OPNE(){var t=this.parent;if(t.transitInTime>0){var i=t.runTransitionInCallback();t.delayCall(i,this.next,this)}else this.next()}exit_TRANS_OPNE(){var t=this.parent;t.removeDelayCall()}next_OPEN(){return"TRANS_CLOSE"}enter_OPEN(){var t=this.parent;t.onOpen()}exit_OPEN(){var t=this.parent;t.removeDelayCall()}next_TRANS_CLOSE(){return"CLOSE"}enter_TRANS_CLOSE(){var t=this.parent;if(t.transitOutTime>0){var i=t.runTransitionOutCallback();t.delayCall(i,this.next,this)}else this.next()}exit_TRANS_CLOSE(){var t=this.parent;t.removeDelayCall()}next_CLOSE(){return"TRANS_OPNE"}enter_CLOSE(){var t=this.parent;t.onClose()}exit_CLOSE(){}canOpen(){return this.state==="IDLE"||this.state==="CLOSE"}canClose(){return this.state==="IDLE"||this.state==="OPEN"}};var Gft=function(e,t,i,s,p){var E=_d(e),n=E.time.delayedCall(t,function(){E.game.events.once("poststep",function(){i.call(s,p)})});return n};const kft={delayCall(e,t,i){return this.delayCallTimer=Gft(this,e,t,i),this},removeDelayCall(){return this.delayCallTimer&&(this.delayCallTimer.remove(!1),this.delayCallTimer=void 0),this}},Nft={setTransitInTime(e){return this.transitInTime=e,this},setTransitOutTime(e){return this.transitOutTime=e,this},setTransitInCallback(e){return e||(e=Ur),this.transitInCallback=e,this},setTransitOutCallback(e){return e||(e=Ur),this.transitOutCallback=e,this}},Uft={runTransitionInCallback(){return this.transitInCallback(this.parent,this.transitInTime),this.transitInTime},onOpen(){},requestOpen(e,t){if(!this._state.canOpen())return this;this.openEventData=arguments.length>0?e:this.parent;var i=this.transitInTime;return t!==void 0&&(this.transitInTime=t),this._state.goto("TRANS_OPNE"),this.transitInTime=i,this}},Vft={runTransitionOutCallback(){return this.transitOutCallback(this.parent,this.transitOutTime),this.transitOutTime},onClose(){this.oneShotMode&&this.parent.destroy()},requestClose(e,t){if(!this._state.canClose)return this;this.closeEventData=arguments.length>0?e:this.parent;var i=this.transitOutTime;return t!==void 0&&(this.transitOutTime=t),this._state.goto("TRANS_CLOSE"),this.transitOutTime=i,this}};var hk={};Object.assign(hk,kft,Nft,Uft,Vft);const vd=Phaser.Utils.Objects.GetValue;class $x extends ji{constructor(t,i){super(t,i),this.setTransitInTime(vd(i,"duration.in",200)),this.setTransitOutTime(vd(i,"duration.out",200)),this.setTransitInCallback(vd(i,"transitIn")),this.setTransitOutCallback(vd(i,"transitOut")),this.oneShotMode=vd(i,"destroy",!1),this.delayCallTimer=void 0,this._state=new Bft(this,{eventEmitter:!1,initState:vd(i,"initState","IDLE")}),this.openEventData=void 0,this.closeEventData=void 0}get state(){return this._state.state}shutdown(t){this.isShutdown||(this.transitInCallback=void 0,this.transitOutCallback=void 0,this.openEventData=void 0,this.closeEventData=void 0,this.removeDelayCall(),super.shutdown(t))}}Object.assign($x.prototype,hk);const zft=Phaser.GameObjects.Rectangle;class DM extends zft{constructor(t,i,s){super(t,0,0,2,2,i,1),this.fullWindow=new DG(this),this.setAlpha(s)}get tint(){return this.fillColor}set tint(t){this.setFillStyle(t,this.fillAlpha)}}const Sb=Phaser.Utils.Objects.GetValue;class Kx extends ji{constructor(t,i){super(t,{eventEmitter:!1}),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.setHitAreaMode(Sb(t,"hitAreaMode",0)),this.setEnable(Sb(t,"enable",!0)),this.setStopMode(Sb(t,"stopAllLevels",!0)),this}boot(){this.parent.on("pointerdown",function(t,i,s,p){this.stopAllLevels&&p.stopPropagation()},this).on("pointerup",function(t,i,s,p){this.stopAllLevels&&p.stopPropagation()},this).on("pointermove",function(t,i,s,p){this.stopAllLevels&&p.stopPropagation()},this).on("pointerover",function(t,i,s,p){this.stopAllLevels&&p.stopPropagation()},this).on("pointerout",function(t,i){this.stopAllLevels&&i.stopPropagation()},this)}setHitAreaMode(t){typeof t=="string"&&(t=Wft[t]);var i=this.parent;return i.input&&i.removeInteractive(),t===0?i.setInteractive():i.setInteractive({hitArea:{},hitAreaCallback:function(){return!0}}),this}setEnable(t){return t===void 0&&(t=!0),t?this.parent.setInteractive():this.parent.disableInteractive(),this.enable=t,this}setStopMode(t){return t===void 0&&(t=!0),this.stopAllLevels=t,this}toggleEnable(){return this.setEnable(!this.enable),this}}var Wft={default:0,fullWindow:1};const p3=Phaser.Utils.Objects.GetValue;class FM extends DM{constructor(t,i){var s=p3(i,"color",0),p=p3(i,"alpha",.8);super(t,s,p),this.touchEventStop=new Kx(this,{hitAreaMode:1})}}var Yft=function(e,t){var i=e.scene,s=new FM(i,t);return i.add.existing(s),e.isRexContainerLite?(e.pin(s,{syncPosition:!1,syncRotation:!1,syncScale:!1,syncAlpha:!1,syncScrollFactor:!1}),e.moveDepthBelow(s)):i.children.moveBelow(s,e),s};const ry={popUp(e,t){e._modalScaleSave!==void 0?(e.scaleX=e._modalScaleSave,e.scaleY=e._modalScaleSave):e._modalScaleSave=e.scaleX,AM(e,t)},scaleDown(e,t){tk(e,t,void 0,void 0,!1)},fadeIn(e,t){e._modalAlphaSave!==void 0?e.alpha=e._modalAlphaSave:e._modalAlphaSave=e.alpha,Yx(e,t)},fadeOut(e,t){Xx(e,t,!1)}};var Xft=function(e,t){e._modalAlphaSave!==void 0?e.alpha=e._modalAlphaSave:e._modalAlphaSave=e.alpha,Yx(e,t,e.alpha)},Hft=function(e,t){Xx(e,t,!1)},Zx=function(e,t,i,s,p){if(!e||s&&!s(e,t,i))return!1;var E=jw(e,!0);return!(!E.contains(t,i)||p&&!p(e,t,i))};const lo=Phaser.Utils.Objects.GetValue;let $ft=class extends $x{constructor(t,i){i===void 0&&(i={}),i.transitIn==null&&(i.transitIn=nh.popUp),i.transitOut==null&&(i.transitOut=nh.scaleDown),i.destroy=lo(i,"destroy",!0),super(t,i);var s=lo(i,"cover");this.cover=s!==!1?Yft(t,s):void 0,this.cover&&(this.setCoverTransitInCallback(lo(s,"transitIn",Xft)),this.setCoverTransitOutCallback(lo(s,"transitOut",Hft)));var p=lo(i,"touchOutsideClose",!1),E=lo(i,"duration.hold",-1),n=lo(i,"timeOutClose",E>=0),T=lo(i,"anyTouchClose",!1),r=lo(i,"manualClose",!1);r&&(p=!1,T=!1,n=!1),T&&(p=!1),n?this.setDisplayTime(E):this.setDisplayTime(-1),T?this.once("open",this.anyTouchClose,this):p&&this.once("open",this.touchOutsideClose,this),lo(i,"openOnStart",!0)&&this.delayCall(0,this.requestOpen,this)}shutdown(t){this.isShutdown||(this.cover||this.scene.input.off("pointerup",this.touchCloseCallback,this),this.cover&&!t&&(this.cover.destroy(),this.cover=void 0),super.shutdown(t))}touchOutsideClose(){return this.cover?this.cover.on("pointerup",this.touchCloseCallback,this):this.scene.input.on("pointerup",this.touchCloseCallback,this),this.clickOutsideTest=!0,this}anyTouchClose(){return this.cover?this.cover.once("pointerup",this.touchCloseCallback,this):this.scene.input.once("pointerup",this.touchCloseCallback,this),this}touchCloseCallback(t){this.clickOutsideTest&&Zx(this.parent,t.worldX,t.worldY)||this.requestClose()}runTransitionInCallback(){var t=super.runTransitionInCallback(),i=this.cover;return i&&this.coverTransitInCallback&&this.coverTransitInCallback(i,t),t}runTransitionOutCallback(){var t=super.runTransitionOutCallback(),i=this.cover;return i&&this.coverTransitOutCallback&&this.coverTransitOutCallback(i,t),t}onOpen(){var t=this.displayTime;t>=0&&this.delayCall(t,this.requestClose,this),this.emit("open",this.parent,this),super.onOpen()}onClose(){this.emit("close",this.closeEventData),super.onClose()}setDisplayTime(t){return this.displayTime=t,this}setTransitInCallback(t){switch(typeof t=="string"&&(t=nh[t]),t){case nh.popUp:t=ry.popUp;break;case nh.fadeIn:t=ry.fadeIn;break}return super.setTransitInCallback(t),this}setTransitOutCallback(t){switch(typeof t=="string"&&(t=nh[t]),t){case nh.scaleDown:t=ry.scaleDown;break;case nh.fadeOut:t=ry.fadeOut;break}return super.setTransitOutCallback(t),this}setCoverTransitInCallback(t){return this.coverTransitInCallback=t,this}setCoverTransitOutCallback(t){return this.coverTransitOutCallback=t,this}};const nh={popUp:0,fadeIn:1,scaleDown:0,fadeOut:1};var IM=function(e,t){var i=new $ft(e,t);return i.on("open",function(){e.emit("modal.open",i)}),i.on("close",function(s){e.emit("modal.close",s,i)}),e.on("modal.requestClose",i.requestClose,i),i},Kft=function(e,t){var i=IM(e,t);return new Promise(function(s,p){i.once("close",function(E){s(E)})})},uk=function(e,t){e.emit("modal.requestClose",t)},Ua=function(e){return e&&typeof e=="function"};const Jx={modal(e,t){return Ua(e)&&(t=e,e=void 0),this._modalBehavior===void 0&&(this.onCreateModalBehavior&&this.onCreateModalBehavior(this,e),this._modalBehavior=IM(this,e)),t&&this._modalBehavior.once("close",t),this._modalBehavior.requestOpen(),this},modalPromise(e){var t=this;return new Promise(function(i,s){t.modal(e,i)})},modalClose(e){return uk(this,e),this}};var Zft=function(e,t,i,s,p,E){return E===void 0&&(E=!1),t[E?"once":"on"](i,s,p),e.once("destroy",function(){t.off(i,s,p)}),e},sl=function(e,t,i,s,p){Ua(t)&&(p=s,s=i,i=t,t=this);var E=this.scene.events;return this.bindEvent(t,E,e,i,s,p),this};const Jft={bindEvent(e,t,i,s,p,E){return typeof t=="string"&&(E=p,p=s,s=i,i=t,t=e,e=this),Zft(e,t,i,s,p,E),this},bindScenePreupdateEvent(e,t,i,s){return sl.call(this,"preupdate",e,t,i,s),this},bindSceneUpdateEvent(e,t,i,s){return sl.call(this,"update",e,t,i,s),this},bindScenePostupdateEvent(e,t,i,s){return sl.call(this,"postupdate",e,t,i,s),this},bindSceneRenderEvent(e,t,i,s){return sl.call(this,"render",e,t,i,s),this},bindScenePauseEvent(e,t,i,s){return sl.call(this,"pause",e,t,i,s),this},bindSceneResumeEvent(e,t,i,s){return sl.call(this,"resume",e,t,i,s),this},bindSceneSleepEvent(e,t,i,s){return sl.call(this,"sleep",e,t,i,s),this},bindSceneWakeEvent(e,t,i,s){return sl.call(this,"wake",e,t,i,s),this},bindSceneShutdownEvent(e,t,i,s){return sl.call(this,"shutdown",e,t,i,s),this}};var ox=function(e,t,i){var s=e.camera;return s?(i===void 0?i={}:i===!0&&(i=jft),s===t?(i.x=e.worldX,i.y=e.worldY):s.getWorldPoint(e.x,e.y,i),i):null},jft={},Qft=function(e,t,i,s,p){var E=e.scene.sys.cameras.main,n,T=e.scrollFactorX===0&&e.scrollFactorY===0;if(t)return T?i(e,t.x,t.y,s,p):(n=ox(t,E,!0),n?i(e,n.x,n.y,s,p):!1);for(var r=e.scene.input.manager,o=r.pointersTotal,x=r.pointers,d=0;d<o;d++)if(t=x[d],T){if(i(e,t.x,t.y,s,p))return!0}else{if(n=ox(t,E,!0),!n)continue;if(i(e,n.x,n.y,s,p))return!0}return!1},bo=function(e,t,i,s){return Qft(e,t,Zx,i,s)},qft=function(e,t){return(ns(e)||typeof e=="string")&&(t=e,e=void 0),t===void 0?t=this:typeof t=="string"&&(t=this.getElement(t)),bo(t,e)},Va=function(e){return Object.prototype.toString.call(e)==="[object Array]"},Wu=function(e,t,i,s,p){return Zx(e,t,i,_ft(s),p)},g3=function(e){var t=e.rexSizer&&e.rexSizer.hidden;return!t},_ft=function(e){return e?function(t,i,s){return g3(t)?(e(t,i,s),!0):!1}:g3},tdt=function(e,t,i,s,p){if(Ua(i)||(p=i,i=void 0,s=void 0),p===void 0&&(this.sizerChildren?p=this.sizerChildren:p=this.children),Va(p)){for(var E,n=0,T=p.length;n<T;n++)if(E=p[n],Wu(E,e,t,i,s))return E}else{var E;for(var r in p)if(E=p[r],Wu(E,e,t,i,s))return E}return null},edt=function(e,t){return t===void 0?t={}:t===!0&&(t=idt),t.x=e.x,t.y=e.y,t.scaleX=e.scaleX,t.scaleY=e.scaleY,t.width=e.width,t.height=e.height,t.displayWidth=e.displayWidth,t.displayHeight=e.displayHeight,t},idt={},Jp=function(e){this.sizerEventsEnable&&(edt(e,this.getChildPrevState(e)),this.layoutedChildren.push(e))},jp=function(e,t,i,s,p,E,n,T){n===void 0&&(n=0),T===void 0&&(T=0),Hp(e,t,i,s,p,E),e.x+=n,e.y+=T,this.resetChildPositionState(e),this.sizerEventsEnable&&e.emit("sizer.postlayout",e,this)};const rdt=Phaser.Display.Align.CENTER;var ndt=function(){if(this.backgroundChildren!==void 0)for(var e=this.backgroundChildren,t=this.left,i=this.top,s=this.width*this.scaleX,p=this.height*this.scaleY,E,n,T,r,o,x,d,h=0,l=e.length;h<l;h++)E=e[h],n=E.rexSizer,!n.hidden&&(T=n.padding,Jp.call(this,E),r=t+T.left*this.scaleX,o=i+T.top*this.scaleY,x=s-(T.left+T.right)*this.scaleX,d=p-(T.top+T.bottom)*this.scaleY,Rn(E,x,d),jp.call(this,E,r,o,x,d,rdt,0,0))};const sdt=Phaser.Utils.Objects.IsPlainObject;var adt=function(e,t,i){if(sdt(e)){var s=e;e=s.sensor,i=s.target,t=s.draggable}else typeof t!="boolean"&&(i=t,t=void 0);var p=typeof e;if(p==="string"){var E=e;if(e=this.getElement(E),!e)return console.error(`Can get element '${E}'`),this}else(e===void 0||p!="object")&&(t=e,e=this);return t===void 0&&(t=!0),e.input&&e.input._rexUIDragSizer?e.input.draggable=t:t&&(e.setInteractive(),e.scene.input.setDraggable(e),e.on("drag",function(n,T,r){var o=i===void 0?this.getTopmostSizer():i;o.x+=T-e.x,o.y+=r-e.y,o.emit("sizer.drag",n,T,r)},this).on("dragstart",function(n,T,r){var o=i===void 0?this.getTopmostSizer():i;o.emit("sizer.dragstart",n,T,r)},this).on("dragend",function(n,T,r,o){var x=i===void 0?this.getTopmostSizer():i;x.emit("sizer.dragend",n,T,r,o)},this).on("drop",function(n,T){var r=i===void 0?this.getTopmostSizer():i;r.emit("sizer.drop",n,T)}),e.input._rexUIDragSizer=!0),this};const BM={onClick(e,t,i,s){return e?(typeof e=="function"&&(s=i,i=t,t=e,e=this),e._click===void 0&&(e._click=new xl(e,s)),e._click.on("click",t,i),this):this},offClick(e,t,i){return typeof e=="function"&&(i=t,t=e,e=this),e._click===void 0?this:(e._click.off("click",t,i),this)},enableClick(e,t){return typeof e=="boolean"&&(t=e,e=void 0),e===void 0&&(e=this),e._click===void 0?this:(e._click.setEnable(t),this)},disableClick(e){return e===void 0&&(e=this),e._click===void 0?this:(e._click.setEnable(!1),this)}},qv=Phaser.Utils.Objects.GetValue;class GM extends ji{constructor(t,i){super(t,i),this._enable=void 0;var s=qv(i,"inputConfig",void 0);s&&t.setInteractive(s),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.lastClickTime=void 0,this.setEnable(qv(t,"enable",!0)),this.setMode(qv(t,"mode",1)),this.setClickInterval(qv(t,"clickInterval",100)),this.setDragThreshold(qv(t,"threshold",void 0)),this}boot(){var t=this.parent.scene;t.input.on("pointerdown",this.onPress,this),t.input.on("pointerup",this.onRelease,this),t.input.on("pointermove",this.onMove,this)}shutdown(t){if(!this.isShutdown){var i=this.parent.scene;i.input.off("pointerdown",this.onPress,this),i.input.off("pointerup",this.onRelease,this),i.input.off("pointermove",this.onMove,this),this.pointer=null,super.shutdown(t)}}get enable(){return this._enable}set enable(t){if(this._enable!==t){t||this.cancel(),this._enable=t;var i=t?"enable":"disable";this.emit(i,this,this.parent)}}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}setMode(t){return typeof t=="string"&&(t=odt[t]),this.mode=t,this}setClickInterval(t){return this.clickInterval=t,this}setDragThreshold(t){return this.dragThreshold=t,this}isPointerInside(t){var i=this.parent,s=i.input?tM:bo;return s(i,t)}onPress(t){this.parent.willRender(t.camera)&&this.pointer===void 0&&(this.isPointerInside(t)||(this.pointer=t,this.mode===0&&(this.isPointerInside(t)||this.click(t.downTime,t))))}onRelease(t){this.parent.willRender(t.camera)&&this.pointer===t&&(this.mode===1&&(this.isPointerInside(t)||this.click(t.upTime,t)),this.pointer=void 0)}onMove(t,i,s,p){this.pointer===t&&this.dragThreshold!==void 0&&this.mode===1&&(t.getDistance()>=this.dragThreshold||this.isPointerInside(t))&&this.cancel()}click(t,i){if(!this.enable)return this;if(t===void 0)return this.emit("clickoutside",this,this.parent,i),this;this.pointer=void 0;var s=this.lastClickTime;return s!==void 0&&t-s<=this.clickInterval?this:(this.lastClickTime=t,this.emit("clickoutside",this,this.parent,i),this)}cancel(){return this.pointer=void 0,this}}const odt={press:0,pointerdown:0,release:1,pointerup:1},ldt={onClickOutside(e,t,i,s){return e?(typeof e=="function"&&(s=i,i=t,t=e,e=this),e._clickOutside===void 0&&(e._clickOutside=new GM(e,s)),e._clickOutside.on("clickoutside",t,i),this):this},offClickOutside(e,t,i){return typeof e=="function"&&(i=t,t=e,e=this),e._clickOutside===void 0?this:(e._clickOutside.off("clickoutside",t,i),this)},enableClickOutside(e,t){return typeof e=="boolean"&&(t=e,e=void 0),e===void 0&&(e=this),e._clickOutside===void 0?this:(e._clickOutside.setEnable(t),this)},disableClickOutside(e){return e===void 0&&(e=this),e._clickOutside===void 0?this:(e._clickOutside.setEnable(!1),this)}};class hdt extends Cl{constructor(){super({eventEmitter:!1}),this.goto("IDLE")}setCooldownTime(t){return this.cooldownTime=t,this.cooldownMode=t!==void 0,this}request(){return this.runMethod("request")}update_IDLE(){this.compensationTime=0}request_IDLE(){return this.next(),!0}next_IDLE(){if(this.cooldownMode)return"COOLDOWN"}enter_COOLDOWN(){this.remainderTime=this.cooldownTime+this.compensationTime}update_COOLDOWN(t,i){this.remainderTime-=i,this.remainderTime<0&&(this.compensationTime=this.cooldownTime>i?-this.remainderTime:0,this.goto("IDLE"))}request_COOLDOWN(){return!1}}const Eb=Phaser.Utils.Objects.GetValue;class Kd extends ji{constructor(t,i){super(t,i),this._enable=void 0,this.cooldown=new hdt,this.parent.setInteractive(Eb(i,"inputConfig",void 0)),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.prevIsInTouch=!1,this.isInTouching=!1,this.setEnable(Eb(t,"enable",!0)),this.setCooldown(Eb(t,"cooldown",void 0)),this}boot(){var t=this.parent;t.on("pointerdown",this.onPointIn,this),t.on("pointerover",this.onPointIn,this),t.on("pointerup",this.onPointOut,this),t.on("pointerout",this.onPointOut,this),this.scene.sys.events.on("preupdate",this.preupdate,this)}shutdown(t){this.isShutdown||(this.scene.sys.events.off("preupdate",this.preupdate,this),this.pointer=void 0,super.shutdown(t))}get enable(){return this._enable}set enable(t){if(this._enable!==t)return t||(this.prevIsInTouch=!1,this.isInTouching=!1,this.pointer=void 0),this._enable=t,this}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}get cooldownTime(){return this.cooldown.cooldownTime}set cooldownTime(t){this.cooldown.setCooldownTime(t)}setCooldown(t){return this.cooldownTime=t,this}toggleEnable(){return this.setEnable(!this.enable),this}onPointIn(t,i,s){!this.enable||!t.isDown||this.pointer!==void 0||(this.pointer=t,this.isInTouching=!0)}onPointOut(t){!this.enable||this.pointer!==t||(this.pointer=void 0,this.isInTouching=!1)}preupdate(t,i){this.cooldown.update(t,i),!this.prevIsInTouch&&this.isInTouching&&this.emit("touchstart",this,this.parent),this.isInTouching&&this.cooldown.request()&&this.emit("intouch",this,this.parent,this.pointer),this.prevIsInTouch&&!this.isInTouching&&this.emit("touchend",this,this.parent),this.prevIsInTouch=this.isInTouching}}const udt={isPointerInBounds(e){return e===void 0?e=this:typeof e=="string"&&(e=this.getElement(e)),e?bo(e):!1},onTouching(e,t,i,s){return e?(typeof e=="function"&&(s=i,i=t,t=e,e=this),e._inTouching===void 0&&(e._inTouching=new Kd(e,s)),e._inTouching.on("intouch",t,i),this):this},offTouching(e,t,i){return typeof e=="function"&&(i=t,t=e,e=this),e._inTouching===void 0?this:(e._inTouching.off("intouch",t,i),this)},onTouchingEnd(e,t,i,s){return e?(typeof e=="function"&&(s=i,i=t,t=e,e=this),e._inTouching===void 0&&(e._inTouching=new Kd(e,s)),e._inTouching.on("touchend",t,i),this):this},offTouchingEnd(e,t,i){return typeof e=="function"&&(i=t,t=e,e=this),e._inTouching===void 0?this:(e._inTouching.off("touchend",t,i),this)},enableTouching(e,t){return typeof e=="boolean"&&(t=e,e=void 0),e===void 0&&(e=this),e._inTouching===void 0?this:(e._inTouching.setEnable(t),this)},disableTouching(e){return e===void 0&&(e=this),e._inTouching===void 0?this:(e._inTouching.setEnable(!1),this)}},fdt={onOver(e,t,i){return e?(typeof e=="function"&&(i=t,t=e,e=this),e.setInteractive().on("pointerover",t,i),this):this},onOut(e,t,i){return e?(typeof e=="function"&&(i=t,t=e,e=this),e.setInteractive().on("pointerout",t,i),this):this}};var fk=function(e,t,i,s){if(e==="parent"){for(var p,E=0,n=t.length;E<n;E++)if(p=t[E],!!Wu(p,i,s))return p.pointToChild(i,s)}else for(var E=0,n=t.length;E<n;E++){var T=t[E];if(Wu(T,i,s))return T}return null},na=function(e,t,i,s,p,E,n,T){var r;if(E===void 0)r=p;else{var o=i[0];if(!o)return;var x=n.camera,d=p+x.scrollX*(o.scrollFactorX-1),h=E+x.scrollY*(o.scrollFactorY-1);r=fk(s,i,d,h)}r&&e.emit(t,r,n,T)};const ddt=Phaser.Utils.Objects.GetValue;var cdt=function(e){var t=ddt(e,"down",void 0);t!==!1&&(t===!0&&(t=void 0),this.on("pointerdown",vdt,this))},vdt=function(e,t,i,s){var p=this._childrenInteractive;na(p.eventEmitter,`${p.eventNamePrefix}down`,p.targetSizers,p.targetMode,e.worldX,e.worldY,e,s)};const pdt=Phaser.Utils.Objects.GetValue;var gdt=function(e){var t=pdt(e,"up",void 0);t!==!1&&(t===!0&&(t=void 0),this.on("pointerup",mdt,this))},mdt=function(e,t,i,s){var p=this._childrenInteractive;na(p.eventEmitter,`${p.eventNamePrefix}up`,p.targetSizers,p.targetMode,e.worldX,e.worldY,e,s)};const ydt=Phaser.Utils.Objects.GetValue;var xdt=function(e){var t=ydt(e,"over",void 0);t!==!1&&(t===!0&&(t=void 0),this.on("pointermove",m3,this).on("pointerover",m3,this).on("pointerout",Tdt,this))},m3=function(e,t,i,s){var p=this._childrenInteractive,E=p.targetSizers[0];if(E){var n=e.camera,T=e.worldX+n.scrollX*(E.scrollFactorX-1),r=e.worldY+n.scrollY*(E.scrollFactorY-1),o=fk(p.targetMode,p.targetSizers,T,r),x=p.lastOverChild;o&&x&&o===x||(p.lastOverChild=o,na(p.eventEmitter,`${p.eventNamePrefix}out`,p.targetSizers,p.targetMode,x,void 0,e,s),na(p.eventEmitter,`${p.eventNamePrefix}over`,p.targetSizers,p.targetMode,o,void 0,e,s))}},Tdt=function(e,t){var i=this._childrenInteractive,s=i.lastOverChild;i.lastOverChild=null,na(i.eventEmitter,`${i.eventNamePrefix}out`,i.targetSizers,i.targetMode,s,void 0,e,t)};const Cdt=Phaser.Utils.Objects.GetValue;var Sdt=function(e){var t=Cdt(e,"click",void 0);if(t!==!1){t===!0&&(t=void 0),t===void 0&&(t={}),t.hasOwnProperty("threshold")||(t.threshold=10);var i=this._childrenInteractive;this._click=new xl(this,t),this._click.on("click",function(s,p,E,n){na(i.eventEmitter,`${i.eventNamePrefix}click`,i.targetSizers,i.targetMode,E.worldX,E.worldY,E,n)},this)}};const bb=Phaser.Utils.Objects.GetValue;class jx extends Bx{constructor(t,i){var s=_d(t);s===t&&(t=void 0),super(s,i),this.gameObject=t,t&&t.setInteractive(bb(i,"inputConfig",void 0)),this._enable=void 0,this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.setEnable(bb(t,"enable",!0)),this.setDetectBounds(),this.gameObject===void 0?this.setDetectBounds(bb(t,"bounds",void 0)):this.setDetectBounds(),this.tracerState=Pb,this.pointer=void 0,this.lastPointer=void 0,this.movedState=!1,this.isTouchingAnyObject=!1,this}boot(){super.boot(),this.gameObject?this.gameObject.on("pointerdown",this.onPointerDown,this):this.scene.input.on("pointerdown",this.onPointerDown,this),this.scene.input.on("pointerup",this.onPointerUp,this),this.scene.input.on("gameout",this.dragCancel,this),this.scene.input.on("pointermove",this.onPointerMove,this),this.scene.sys.events.once("shutdown",this.destroy,this)}shutdown(t){this.scene&&(this.gameObject||this.scene.input.off("pointerdown",this.onPointerDown,this),this.scene.input.off("pointerup",this.onPointerUp,this),this.scene.input.off("gameout",this.dragCancel,this),this.scene.input.off("pointermove",this.onPointerMove,this),this.scene.sys.events.off("shutdown",this.destroy,this),this.gameObject=void 0,this.bounds=void 0,this.pointer=void 0,this.lastPointer=void 0,this.movedState=!1,super.shutdown(t))}get enable(){return this._enable}set enable(t){if(this._enable!==t)return t||this.dragCancel(),this._enable=t,this}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}setDetectBounds(t){return this.bounds=t,this}toggleEnable(){return this.setEnable(!this.enable),this}onPointerDown(t,i){if(this.enable&&this.pointer===void 0){var s=this.bounds?this.bounds.contains(t.x,t.y):!0;s&&this.pointer!==t&&(this.pointer=t,this.pointerCamera=t.camera,this.lastPointer=t,this.movedState=!1,this.tracerState=y3,this.gameObject===void 0&&(this.isTouchingAnyObject=i.length>0),this.onDragStart())}}onPointerUp(t){if(this.enable){var i=this.bounds?this.bounds.contains(t.x,t.y):!0;i&&this.pointer===t&&(this.pointer=void 0,this.pointerCamera=void 0,this.movedState=!1,this.tracerState=Pb,this.onDragEnd())}}onPointerMove(t){if(this.enable&&t.isDown){var i=this.bounds?this.bounds.contains(t.x,t.y):!0,s=this.pointer===t;!s&&i||(s&&!i?this.onPointerUp(t):(this.movedState||(this.movedState=t.x!==t.downX||t.y!==t.downY),this.movedState&&this.onDrag()))}}dragCancel(){return this.tracerState===y3&&this.onDragEnd(),this.pointer=void 0,this.tracerState=Pb,this}onDragStart(){this.emit("dragstart",this)}onDragEnd(){this.emit("dragend",this)}onDrag(){this.emit("drag",this)}preUpdate(t,i){}postUpdate(t,i){}startTicking(){super.startTicking(),this.scene.sys.events.on("preupdate",this.preUpdate,this),this.scene.sys.events.on("postupdate",this.postUpdate,this)}stopTicking(){super.stopTicking(),this.scene&&(this.scene.sys.events.off("preupdate",this.preUpdate,this),this.scene.sys.events.off("postupdate",this.postUpdate,this))}setRecongizedStateObject(t){return this.recongizedState=t,this}get state(){return this.recongizedState.state}set state(t){this.recongizedState.state=t}cancel(){return this.state=Edt,this}isPointerInGameObject(t,i,s){var p=this.lastPointer;return p?bo(t,p,i,s):!1}}const Pb=0,y3=1,Edt="IDLE",Eu=Phaser.Utils.Objects.GetValue,bdt=Phaser.Math.Distance.Between;class Qx extends jx{constructor(t,i){super(t,i);var s=this,p={states:{IDLE:{enter:function(){s.stop(),s.tapsCount=0,s.x=0,s.y=0,s.worldX=0,s.worldY=0,s.lastPointer=void 0},exit:function(){var E=s.lastPointer;s.x=E.x,s.y=E.y,s.worldX=E.worldX,s.worldY=E.worldY}},BEGIN:{enter:function(){s.start(),s.tapsCount=0,s.emit("tappingstart",s,s.gameObject,s.lastPointer)}},RECOGNIZED:{enter:function(){s.start(),s.emit("tap",s,s.gameObject,s.lastPointer),s.emit(`${s.tapsCount}tap`,s,s.gameObject,s.lastPointer)}}},init:function(){this.state=bu},eventEmitter:!1};this.setRecongizedStateObject(new Cl(p))}resetFromJSON(t){super.resetFromJSON(t),this.setHoldTime(Eu(t,"time",250)),this.setTapInterval(Eu(t,"tapInterval",200)),this.setDragThreshold(Eu(t,"threshold",9)),this.setTapOffset(Eu(t,"tapOffset",10));var i=Eu(t,"taps",void 0);return i!==void 0?this.setTaps(i):(this.setMaxTaps(Eu(t,"maxTaps",void 0)),this.setMinTaps(Eu(t,"minTaps",void 0))),this}onDragStart(){switch(this.state){case bu:this.state=pd;break;case pd:var t=this.lastPointer,i=bdt(t.upX,t.upY,t.x,t.y);i>this.tapOffset&&(this.state=gd,this.state=pd);break;case gd:this.state=pd;break}}onDragEnd(){this.state===pd&&(this.tapsCount++,this.emit("tapping",this,this.gameObject,this.lastPointer),this.maxTaps!==void 0&&this.tapsCount===this.maxTaps&&(this.state=gd))}onDrag(){this.state!==bu&&this.pointer.getDistance()>this.dragThreshold&&(this.state=bu)}preUpdate(t,i){if(!(!this.isRunning||!this.enable)&&this.state===pd){var s=this.lastPointer;if(s.isDown){var p=t-s.downTime;p>this.holdTime&&(this.state=bu)}else{var E=t-s.upTime;E>this.tapInterval&&(this.minTaps===void 0||this.tapsCount>=this.minTaps?this.state=gd:this.state=bu)}}}postUpdate(t,i){!this.isRunning||!this.enable||this.state===gd&&(this.state=bu)}get isTapped(){return this.state===gd}setHoldTime(t){return this.holdTime=t,this}setTapInterval(t){return this.tapInterval=t,this}setDragThreshold(t){return this.dragThreshold=t,this}setTapOffset(t){return this.tapOffset=t,this}setMaxTaps(t){return this.maxTaps=t,this}setMinTaps(t){return this.minTaps=t,this}setTaps(t,i){return i===void 0&&(i=t),this.setMinTaps(t).setMaxTaps(i),this}}const bu="IDLE",pd="BEGIN",gd="RECOGNIZED",x3=Phaser.Utils.Objects.GetValue;class qx extends jx{constructor(t,i){super(t,i);var s=this,p={states:{IDLE:{enter:function(){s.x=0,s.y=0,s.worldX=0,s.worldY=0,s.lastPointer=void 0},exit:function(){var E=s.lastPointer;s.x=E.x,s.y=E.y,s.worldX=E.worldX,s.worldY=E.worldY}},BEGIN:{enter:function(){s.start()},exit:function(){s.stop()}},RECOGNIZED:{enter:function(){s.emit("pressstart",s,s.gameObject,s.lastPointer)},exit:function(){s.emit("pressend",s,s.gameObject,s.lastPointer)}}},init:function(){this.state=ny},eventEmitter:!1};this.setRecongizedStateObject(new Cl(p))}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold(x3(t,"threshold",9)),this.setHoldTime(x3(t,"time",251)),this}onDragStart(){this.state=T3,this.holdTime===0&&(this.state=wb)}onDragEnd(){this.state=ny}onDrag(){this.state!==ny&&this.pointer.getDistance()>this.dragThreshold&&(this.state=ny)}preUpdate(t,i){if(!(!this.isRunning||!this.enable)&&this.state===T3){var s=t-this.pointer.downTime;s>=this.holdTime&&(this.state=wb)}}get isPressed(){return this.state===wb}setHoldTime(t){return this.holdTime=t,this}setDragThreshold(t){return this.dragThreshold=t,this}}const ny="IDLE",T3="BEGIN",wb="RECOGNIZED",Pdt=Phaser.Utils.Objects.GetValue;class dk extends jx{constructor(t,i){super(t,i);var s=this,p={states:{IDLE:{},BEGIN:{enter:function(){var E=s.pointer;s.startX=E.x,s.startY=E.y,s.startWorldX=E.worldX,s.startWorldY=E.worldY}},RECOGNIZED:{enter:function(){s.emit("panstart",s,s.gameObject,s.lastPointer)},exit:function(){var E=s.lastPointer;s.endX=E.x,s.endY=E.y;var n=ox(E,s.pointerCamera,!0);s.endWorldX=n.x,s.endWorldY=n.y,s.emit("panend",s,s.gameObject,s.lastPointer)}}},init:function(){this.state=C3},eventEmitter:!1};this.setRecongizedStateObject(new Cl(p))}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold(Pdt(t,"threshold",10)),this}onDragStart(){this.state=S3,this.dragThreshold===0&&(this.state=sy)}onDragEnd(){this.state=C3}onDrag(){switch(this.state){case S3:if(this.pointer.getDistance()>=this.dragThreshold){this.state=sy,this.dx=0,this.dy=0,this.dWorldX=0,this.dWorldY=0;var p=this.pointer;this.x=p.x,this.y=p.y,this.worldX=p.worldX,this.worldY=p.worldY}break;case sy:var t=this.pointerCamera,i=this.pointer.position,s=this.pointer.prevPosition;this.dx=i.x-s.x,this.dy=i.y-s.y,this.dWorldX=this.dx/t.zoom,this.dWorldY=this.dy/t.zoom;var p=this.pointer;this.x=p.x,this.y=p.y;var E=ox(p,t,!0);this.worldX=E.x,this.worldY=E.y,this.emit("pan",this,this.gameObject,this.lastPointer);break}}get isPanned(){return this.state===sy}setDragThreshold(t){return this.dragThreshold=t,this}}const C3="IDLE",S3="BEGIN",sy="RECOGNIZED",wdt=Phaser.Math.Distance.Between,Mdt=Phaser.Math.Angle.Between,Rdt={getDt:function(){var e=rM(this.scene);return e},getVelocity:function(){var e=this.pointer.position,t=this.pointer.prevPosition,i=wdt(t.x,t.y,e.x,e.y),s=i/(this.getDt()*.001);return s},getVelocityX:function(){var e=this.pointer.position,t=this.pointer.prevPosition,i=Math.abs(e.x-t.x),s=i/(this.getDt()*.001);return s},getVelocityY:function(){var e=this.pointer.position,t=this.pointer.prevPosition,i=Math.abs(e.y-t.y),s=i/(this.getDt()*.001);return s},getVelocityAngle:function(){var e=this.pointer.position,t=this.pointer.prevPosition,i=Mdt(t.x,t.y,e.x,e.y);return i}},Adt={"up&down":0,"left&right":1,"4dir":2,"8dir":3};var Odt=function(e,t,i){switch(i===void 0?i={}:i===!0&&(i=Ldt),i.left=!1,i.right=!1,i.up=!1,i.down=!1,e=(e+360)%360,t){case 0:e<180?i.down=!0:i.up=!0;break;case 1:e>90&&e<=270?i.left=!0:i.right=!0;break;case 2:e>45&&e<=135?i.down=!0:e>135&&e<=225?i.left=!0:e>225&&e<=315?i.up=!0:i.right=!0;break;case 3:e>22.5&&e<=67.5?(i.down=!0,i.right=!0):e>67.5&&e<=112.5?i.down=!0:e>112.5&&e<=157.5?(i.down=!0,i.left=!0):e>157.5&&e<=202.5?i.left=!0:e>202.5&&e<=247.5?(i.left=!0,i.up=!0):e>247.5&&e<=292.5?i.up=!0:(e>292.5&&e<=337.5&&(i.up=!0),i.right=!0);break}return i},Ldt={};const Mb=Phaser.Utils.Objects.GetValue,Ddt=Phaser.Math.RadToDeg;class Qp extends jx{constructor(t,i){super(t,i);var s=this,p={states:{IDLE:{enter:function(){s.x=0,s.y=0,s.worldX=0,s.worldY=0},exit:function(){var E=s.lastPointer;s.x=E.x,s.y=E.y,s.worldX=E.worldX,s.worldY=E.worldY}},BEGIN:{enter:function(){s.validDrag=!1}},RECOGNIZED:{enter:function(){s.start(),s.updateDirectionStates(),s.emit("swipe",s,s.gameObject,s.lastPointer)},exit:function(){s.stop(),s.clearDirectionStates()}}},init:function(){this.state=Rb},eventEmitter:!1};this.setRecongizedStateObject(new Cl(p)),this.clearDirectionStates()}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold(Mb(t,"threshold",10)),this.setVelocityThreshold(Mb(t,"velocityThreshold",1e3)),this.setDirectionMode(Mb(t,"dir","8dir")),this}onDragStart(){this.state=E3}onDragEnd(){this.state=Rb}onDrag(){this.state===E3&&(this.validDrag||(this.validDrag=this.dragThreshold===0||this.pointer.getDistance()>=this.dragThreshold),this.validDrag&&this.dragVelocity>this.velocityThreshold&&(this.state=Ab))}postUpdate(t,i){!this.isRunning||!this.enable||this.state===Ab&&(this.state=Rb)}get isSwiped(){return this.state===Ab}get dragVelocity(){var t;switch(this.dirMode){case 0:t=this.getVelocityY();break;case 1:t=this.getVelocityX();break;default:t=this.getVelocity();break}return t}setDragThreshold(t){return this.dragThreshold=t,this}setVelocityThreshold(t){return this.velocityThreshold=t,this}setDirectionMode(t){return typeof t=="string"&&(t=Adt[t]),this.dirMode=t,this}updateDirectionStates(){var t=Ddt(this.getVelocityAngle());return Odt(t,this.dirMode,this),this}clearDirectionStates(){return this.left=!1,this.right=!1,this.up=!1,this.down=!1,this}}Object.assign(Qp.prototype,Rdt);const Rb="IDLE",E3="BEGIN",Ab="RECOGNIZED",ay=Phaser.Utils.Objects.GetValue,Fdt=Phaser.Utils.Array.SpliceOne,Idt=Phaser.Math.Distance.Between,Bdt=Phaser.Math.Angle.Between;class kM{constructor(t,i){var s=_d(t);s===t&&(t=void 0);var p=s.input.manager.pointersTotal-1;p<2&&s.input.addPointer(2-p),this.scene=s,this.gameObject=t,t&&t.setInteractive(ay(i,"inputConfig",void 0)),this.setEventEmitter(ay(i,"eventEmitter",void 0)),this._enable=void 0,this.pointers=[],this.movedState={},this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.setEnable(ay(t,"enable",!0)),this.bounds=ay(t,"bounds",void 0),this.tracerState=oy,this.pointers.length=0,Sh(this.movedState),this}boot(){this.gameObject?this.gameObject.on("pointerdown",this.onPointerDown,this):this.scene.input.on("pointerdown",this.onPointerDown,this),this.scene.input.on("pointerup",this.onPointerUp,this),this.scene.input.on("gameout",this.dragCancel,this),this.scene.input.on("pointermove",this.onPointerMove,this),this.scene.sys.events.once("shutdown",this.destroy,this)}shutdown(){this.scene&&(this.destroyEventEmitter(),this.pointers.length=0,Sh(this.movedState),this.gameObject||this.scene.input.off("pointerdown",this.onPointerDown,this),this.scene.input.off("pointerup",this.onPointerUp,this),this.scene.input.off("gameout",this.dragCancel,this),this.scene.input.off("pointermove",this.onPointerMove,this),this.scene.sys.events.off("shutdown",this.destroy,this),this.scene=void 0,this.gameObject=void 0)}destroy(){this.shutdown()}get enable(){return this._enable}set enable(t){if(this._enable!==t)return t||this.dragCancel(),this._enable=t,this}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}onPointerDown(t){if(this.enable&&this.pointers.length!==2){var i=this.bounds?this.bounds.contains(t.x,t.y):!0;if(i){var s=this.pointers.indexOf(t);if(s===-1)switch(this.movedState[t.id]=!1,this.pointers.push(t),this.pointerCamera=t.camera,this.tracerState){case oy:this.tracerState=tp,this.onDrag1Start();break;case tp:this.tracerState=ho,this.onDrag2Start();break}}}}onPointerUp(t){if(this.enable){var i=this.bounds?this.bounds.contains(t.x,t.y):!0;if(i){var s=this.pointers.indexOf(t);if(s!==-1)switch(delete this.movedState[t.id],Fdt(this.pointers,s),this.tracerState){case tp:this.tracerState=oy,this.onDrag1End();break;case ho:this.tracerState=tp,this.onDrag2End(),this.onDrag1Start();break}}}}onPointerMove(t){if(this.enable&&t.isDown){var i=this.bounds?this.bounds.contains(t.x,t.y):!0,s=this.pointers.indexOf(t)!==-1;if(!(!s&&i)){if(s&&!i)this.onPointerUp(t);else if(this.movedState[t.id]||(this.movedState[t.id]=t.x!==t.downX||t.y!==t.downY),this.movedState[t.id])switch(this.tracerState){case tp:this.onDrag1();break;case ho:this.onDrag2();break}}}}dragCancel(){return this.tracerState===ho&&this.onDrag2End(),this.pointers.length=0,Sh(this.movedState),this.tracerState=oy,this}onDrag1Start(){this.emit("drag1start",this)}onDrag1End(){this.emit("drag1end",this)}onDrag1(){this.emit("drag1",this)}onDrag2Start(){this.emit("drag2start",this)}onDrag2End(){this.emit("drag2end",this)}onDrag2(){this.emit("drag2",this)}get distanceBetween(){if(this.tracerState!==ho)return 0;var t=this.pointers[0],i=this.pointers[1];return Idt(t.x,t.y,i.x,i.y)}get angleBetween(){if(this.tracerState!==ho)return 0;var t=this.pointers[0],i=this.pointers[1];return Bdt(t.x,t.y,i.x,i.y)}get drag1Vector(){var t=this.pointers[0];if(t&&this.movedState[t.id]){var i=t.position,s=t.prevPosition;_v.x=i.x-s.x,_v.y=i.y-s.y}else _v.x=0,_v.y=0;return _v}get centerX(){if(this.tracerState!==ho)return 0;var t=this.pointers[0].position,i=this.pointers[1].position;return(t.x+i.x)/2}get centerY(){if(this.tracerState!==ho)return 0;var t=this.pointers[0].position,i=this.pointers[1].position;return(t.y+i.y)/2}get prevCenterX(){if(this.tracerState!==ho)return 0;var t=this.movedState[this.pointers[0].id]?this.pointers[0].prevPosition:this.pointers[0].position,i=this.movedState[this.pointers[1].id]?this.pointers[1].prevPosition:this.pointers[1].position;return(t.x+i.x)/2}get prevCenterY(){if(this.tracerState!==ho)return 0;var t=this.movedState[this.pointers[0].id]?this.pointers[0].prevPosition:this.pointers[0].position,i=this.movedState[this.pointers[1].id]?this.pointers[1].prevPosition:this.pointers[1].position;return(t.y+i.y)/2}get movementCenterX(){return this.centerX-this.prevCenterX}get movementCenterY(){return this.centerY-this.prevCenterY}setRecongizedStateObject(t){return this.recongizedState=t,this}get state(){return this.recongizedState.state}set state(t){this.recongizedState.state=t}cancel(){return this.state=Gdt,this}isPointer0InGameObject(t,i,s){var p=this.pointers[0];return p?bo(t,p,i,s):!1}isPointer1InGameObject(t,i,s){var p=this.pointers[1];return p?bo(t,p,i,s):!1}}Object.assign(kM.prototype,kp);var _v={};const oy=0,tp=1,ho=2,Gdt="IDLE",kdt=Phaser.Utils.Objects.GetValue;class ck extends kM{constructor(t,i){super(t,i);var s=this,p={states:{IDLE:{enter:function(){s.prevDistance=void 0,s.scaleFactor=1}},BEGIN:{},RECOGNIZED:{enter:function(){s.emit("pinchstart",s)},exit:function(){s.emit("pinchend",s)}}},init:function(){this.state=b3},eventEmitter:!1};this.setRecongizedStateObject(new Cl(p))}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold(kdt(t,"threshold",0)),this}onDrag2Start(){this.scaleFactor=1,this.prevDistance=this.distanceBetween,this.state=P3,this.dragThreshold===0&&(this.state=ly)}onDrag2End(){this.state=b3}onDrag2(){switch(this.state){case P3:if(this.pointers[0].getDistance()>=this.dragThreshold&&this.pointers[1].getDistance()>=this.dragThreshold){var t=this.distanceBetween;this.scaleFactor=t/this.prevDistance,this.prevDistance=t,this.state=ly}break;case ly:var t=this.distanceBetween;this.scaleFactor=t/this.prevDistance,this.emit("pinch",this),this.prevDistance=t;break}}get isPinched(){return this.state===ly}setDragThreshold(t){return this.dragThreshold=t,this}}const b3="IDLE",P3="BEGIN",ly="RECOGNIZED",Ndt=Phaser.Math.RotateAround;var w3=function(e,t,i,s){return Ndt(e,t,i,s),e.rotation+=s,e},Udt=function(e,t,i,s){return s===void 0?s={}:s===!0&&(s=Vdt),i.getWorldPoint(e,t,s),s},Vdt={},zdt=function(e,t){if(!this.isRotation)return this;t===void 0&&(t=this.pointers[0].camera);var i=this.movementCenterX,s=this.movementCenterY,p=Udt(this.centerX,this.centerY,t,!0),E=p.x,n=p.y,T=this.rotation;if(Array.isArray(e))for(var r=e,o=0,x=r.length;o<x;o++)e=r[o],e.x+=i,e.y+=s,w3(e,E,n,T);else e.x+=i,e.y+=s,w3(e,E,n,T);return this};const Wdt=Phaser.Utils.Objects.GetValue,Ob=Phaser.Math.Angle.WrapDegrees,M3=Phaser.Math.Angle.ShortestBetween,Lb=Phaser.Math.RadToDeg,Ydt=Phaser.Math.DegToRad;class NM extends kM{constructor(t,i){super(t,i);var s=this,p={states:{IDLE:{enter:function(){s.prevAngle=void 0,s.angle=0}},BEGIN:{},RECOGNIZED:{enter:function(){s.emit("rotatestart",s)},exit:function(){s.emit("rotateend",s)}}},init:function(){this.state=R3},eventEmitter:!1};this.setRecongizedStateObject(new Cl(p))}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold(Wdt(t,"threshold",0)),this}onDrag2Start(){this.prevAngle=Ob(Lb(this.angleBetween)),this.state=A3,this.dragThreshold===0&&(this.state=hy)}onDrag2End(){this.state=R3}onDrag2(){switch(this.state){case A3:if(this.pointers[0].getDistance()>=this.dragThreshold&&this.pointers[1].getDistance()>=this.dragThreshold){var t=Ob(Lb(this.angleBetween));this.angle=M3(this.prevAngle,t),this.prevAngle=t,this.state=hy}break;case hy:var t=Ob(Lb(this.angleBetween));this.angle=M3(this.prevAngle,t),this.prevAngle=t,this.emit("rotate",this);break}}get isRotated(){return this.state===hy}get rotation(){return Ydt(this.angle)}setDragThreshold(t){return this.dragThreshold=t,this}}var Xdt={spinObject:zdt};Object.assign(NM.prototype,Xdt);const R3="IDLE",A3="BEGIN",hy="RECOGNIZED",Hdt=Phaser.Utils.Objects.GetValue;var $dt=function(e){var t=Hdt(e,"tap",void 0);if(t!==!1){t===!0&&(t=void 0);var i=this._childrenInteractive;this._tap=new Qx(this,t),this._tap.on("tap",function(s,p,E){na(i.eventEmitter,`${i.eventNamePrefix}${s.tapsCount}tap`,i.targetSizers,i.targetMode,s.worldX,s.worldY,E,s),na(i.eventEmitter,`${i.eventNamePrefix}tap`,i.targetSizers,i.targetMode,s.worldX,s.worldY,E,s)},this)}};const Kdt=Phaser.Utils.Objects.GetValue;var Zdt=function(e){var t=Kdt(e,"press",void 0);if(t!==!1){t===!0&&(t=void 0);var i=this._childrenInteractive;this._press=new qx(this,t),this._press.on("pressstart",function(s,p,E){na(i.eventEmitter,`${i.eventNamePrefix}pressstart`,i.targetSizers,i.targetMode,s.worldX,s.worldY,E,s)},this).on("pressend",function(s,p,E){na(i.eventEmitter,`${i.eventNamePrefix}pressend`,i.targetSizers,i.targetMode,s.worldX,s.worldY,E,s)},this)}};const Jdt=Phaser.Utils.Objects.GetValue;var jdt=function(e){var t=Jdt(e,"swipe",void 0);if(t!==!1){t===!0&&(t=void 0),t===void 0&&(t={}),t.hasOwnProperty("dir")||(t.dir="4dir");var i=this._childrenInteractive;this._swipe=new Qp(this,t),this._swipe.on("swipe",function(s,p,E){var n=s.left?"left":s.right?"right":s.up?"up":"down";na(i.eventEmitter,`${i.eventNamePrefix}swipe${n}`,i.targetSizers,i.targetMode,s.worldX,s.worldY,E,s),na(i.eventEmitter,`${i.eventNamePrefix}swipe`,i.targetSizers,i.targetMode,s.worldX,s.worldY,E,s)},this)}};const ep=Phaser.Utils.Objects.GetValue;var _x=function(e,t){return e.setInteractive(),ep(t,"dropZone",!1)&&(e.input.dropZone=!0),e._childrenInteractive={targetSizers:ep(t,"targets",[e]),targetMode:ep(t,"targetMode","parent"),eventEmitter:ep(t,"eventEmitter",e),eventNamePrefix:ep(t,"inputEventPrefix","child.")},cdt.call(e,t),gdt.call(e,t),xdt.call(e,t),Sdt.call(e,t),$dt.call(e,t),Zdt.call(e,t),jdt.call(e,t),e},Qdt=function(e){return _x(this,e),this},qdt=function(){for(var e=this.getAllChildren([this]),t=0,i=e.length;t<i;t++){var s=e[t];s.emit.apply(s,arguments)}return this},vk={getSizerConfig:put,getChildPrevState:gut,pushIntoBounds:mut,drawBounds:Out,resolveWidth:SM,hasWidthWrap:EM,resolveChildrenWidth:Hut,runWidthWrap:bM,resolveHeight:PM,hasHeightWrap:wM,resolveChildrenHeight:$ut,runHeightWrap:MM,getChildWidth:Kut,getChildHeight:Zut,getExpandedChildWidth:Jut,getExpandedChildHeight:jut,getChildrenWidth:Qut,getChildrenHeight:qut,addChildrenMap:n3,addElement:n3,removeChildrenMap:Vut,getElement:zut,getChildIndex:Yut,getAllChildrenSizers:_ut,getChildrenSizers:tft,preLayout:Zp,layout:ift,runLayout:sft,layoutChildren:lft,layoutBackgrounds:ndt,postLayout:hft,setAnchor:fft,isInTouching:qft,pointToChild:tdt,setDraggable:adt,setChildrenInteractive:Qdt,broadcastEvent:qdt};Object.assign(vk,Xut,Fut,Uut,ic,fl,Op,Hx,wft,Aft,ak,BM,ldt,udt,fdt,Dft,Jx,eft,Jft);const al=Phaser.Utils.Objects.GetValue;let Qu=class extends Bs{constructor(t,i,s,p,E,n){super(t,i,s,1,1),this.isRexSizer=!0;var T=al(n,"origin",.5),r=al(n,"originX",T),o=al(n,"originY",T);this.setOrigin(r,o),this.setMinSize(p,E),this.setName(al(n,"name","")),this.rexSizer={},this.space={},this.backgroundChildren=void 0,this.sizerChildren=void 0,this.childrenMap={},this.layoutedChildren=void 0,this.runChildrenWrapFlag=!1,this.enableLayoutWarn(!1);var x=al(n,"anchor",void 0);x&&this.setAnchor(x),this.setInnerPadding(al(n,"space",0));var d=al(n,"draggable",!1);d&&this.setDraggable(d),this.setSizerEventsEnable(al(n,"sizerEvents",!1)),this.setDirty(!0),al(n,"enableLayer",!1)&&this.enableLayer()}destroy(t){if(!(!this.scene||this.ignoreDestroy)){if(t)for(var i=this.getAllChildrenSizers([this]),s=0,p=i.length;s<p;s++)i[s].sizerEventsEnable=!1;super.destroy(t),Sh(this.backgroundChildren),Sh(this.sizerChildren),this.childrenMap=void 0,this.space=void 0,this.rexSizer=void 0,this.layoutedChildren=void 0}}setMinSize(t,i){return this.setMinWidth(t).setMinHeight(i),this}setMinWidth(t){return t==null&&(t=0),this.minWidth=t,this}setMinHeight(t){return t==null&&(t=0),this.minHeight=t,this}setDirty(t){return t===void 0&&(t=!0),this.dirty=t,this}setSizerEventsEnable(t){return t===void 0&&(t=!0),this.sizerEventsEnable=t,this}enableLayoutWarn(t){return t===void 0&&(t=!0),this.layoutWarnEnable=t,this}get ignoreLayout(){return this.rexSizer.hidden||!this.dirty}get childrenWidth(){return this._childrenWidth===void 0&&(this._childrenWidth=this.getChildrenWidth()),this._childrenWidth}get childrenHeight(){return this._childrenHeight===void 0&&(this._childrenHeight=this.getChildrenHeight()),this._childrenHeight}get left(){return this.x-mi(this)*this.originX}set left(t){this.x+=t-this.left}alignLeft(t){return this.left=t,this}get right(){return this.left+mi(this)}set right(t){this.x+=t-this.right}alignRight(t){return this.right=t,this}get centerX(){return this.left+mi(this)/2}set centerX(t){this.x+=t-this.centerX}alignCenterX(t){return this.centerX=t,this}get top(){return this.y-yi(this)*this.originY}set top(t){this.y+=t-this.top}alignTop(t){return this.top=t,this}get bottom(){return this.top+yi(this)}set bottom(t){this.y+=t-this.bottom}alignBottom(t){return this.bottom=t,this}get centerY(){return this.top+yi(this)/2}set centerY(t){this.y+=t-this.centerY}alignCenterY(t){return this.centerY=t,this}get innerLeft(){return this.left+this.space.left*this.scaleX}get innerRight(){return this.right-this.space.right*this.scaleX}get innerTop(){return this.top+this.space.top*this.scaleY}get innerBottom(){return this.bottom-this.space.bottom*this.scaleY}get innerWidth(){return(this.width-this.space.left-this.space.right)*this.scaleX}get innerHeight(){return(this.height-this.space.top-this.space.bottom)*this.scaleY}get minInnerWidth(){var t=(this.minWidth-this.space.left-this.space.right)*this.scaleX;return Math.max(t,0)}get minInnerHeight(){var t=(this.minHeight-this.space.top-this.space.bottom)*this.scaleY;return Math.max(t,0)}};Object.assign(Qu.prototype,vk);var _dt=function(){if(this.rexSizer.hidden)return 0;var e=0,t=this.sizerChildren,i,s,p,E=!1;for(var n in t)i=t[n],p=this.getChildWidth(i),p===void 0&&(E=!0),!E&&(s=i.rexSizer.padding,p+=(s.left+s.right)*this.scaleX,e=Math.max(p,e));if(!E)return e+(this.space.left+this.space.right)*this.scaleX},tct=function(){if(this.rexSizer.hidden)return 0;var e=0,t=this.sizerChildren,i,s,p,E=!1;for(var n in t)i=t[n],p=this.getChildHeight(i),p===void 0&&(E=!0),!E&&(s=i.rexSizer.padding,p+=(s.top+s.bottom)*this.scaleY,e=Math.max(p,e));if(!E)return e+(this.space.top+this.space.bottom)*this.scaleY},ect=function(e,t){t===void 0&&(t=this.width*this.scaleX);var i,s=e.rexSizer;if(s.expandWidth){var p=t-(this.space.left+this.space.right)*this.scaleX,E=s.padding;i=p-(E.left+E.right)*this.scaleX}return i},ict=function(e,t){t===void 0&&(t=this.height);var i,s=e.rexSizer;if(s.expandHeight){var p=t-(this.space.top+this.space.bottom)*this.scaleY,E=s.padding;i=p-(E.top+E.bottom)*this.scaleY}return i},rct=function(e){e===void 0&&(e=[]);var t=this.sizerChildren,i;for(var s in t)i=t[s],i.isRexSizer&&e.push(i);return e},UM=function(e,t,i,s){if(i===void 0)i=0;else{var p=typeof i;p==="boolean"?(s=i,i=0):p==="string"&&(i=nct[i])}s===void 0?s={}:s===!0&&(s=sct);var E=t.width/e.width,n=t.height/e.height,T=i?Math.max(E,n):Math.min(E,n);return s.width=e.width*T,s.height=e.height*T,s};const nct={fit:0,FIT:0,envelop:1,ENVELOP:1};var sct={},VM=function(e,t){e.layoutWarnEnable&&(e.width<e.childrenWidth&&console.warn(`Layout width error: Parent=${t.constructor.name}, Child=${e.constructor.name}`),e.height<e.childrenHeight&&console.warn(`Layout height error: Parent=${t.constructor.name}, Child=${e.constructor.name}`))},act=function(){var e,t,i,s=this.innerLeft,p=this.innerTop,E=this.innerWidth,n=this.innerHeight,T,r,o,x,d,h,l,a,f,c=this.sizerChildren;for(var u in c)e=c[u],!e.rexSizer.hidden&&(t=e.rexSizer,i=t.padding,Jp.call(this,e),l=this.getExpandedChildWidth(e),a=this.getExpandedChildHeight(e),t.aspectRatio>0&&(Db.width=t.aspectRatio,Db.height=1,Fb.width=l,Fb.height=a,f=UM(Db,Fb,"FIT",!0),l=f.width,a=f.height),e.isRexSizer?(e.runLayout(this,l,a),VM(e,this)):Rn(e,l,a),T=s+i.left*this.scaleX,o=E-(i.left+i.right)*this.scaleX,r=p+i.top*this.scaleY,x=n-(i.top+i.bottom)*this.scaleY,l===void 0&&(l=mi(e)),a===void 0&&(a=yi(e)),d=(t.alignOffsetX+t.alignOffsetOriginX*l)*this.scaleX,h=(t.alignOffsetY+t.alignOffsetOriginY*a)*this.scaleY,jp.call(this,e,T,r,o,x,t.align,d,h))},Db={},Fb={};const O3=Phaser.Utils.Objects.IsPlainObject,Es=Phaser.Utils.Objects.GetValue,L3=Phaser.Display.Align.CENTER,oct=Phaser.Utils.String.UUID;var lct=function(e,t,i,s,p,E,n,T,r,o){var x,d;if($p.call(this,e),O3(t)){var l=t;t=Es(l,"key",void 0),i=Es(l,"align",L3),s=Es(l,"padding",0),p=Es(l,"expand",!0),e.isRexSizer||(E=Es(l,"minWidth",e._minWidth),n=Es(l,"minHeight",e._minHeighted)),T=Es(l,"offsetX",0),r=Es(l,"offsetY",0),x=Es(l,"offsetOriginX",0),d=Es(l,"offsetOriginY",0),o=Es(l,"aspectRatio",0)}var h=t!==void 0;h||(t=oct()),typeof i=="string"&&(i=ec[i]),i===void 0&&(i=L3),s===void 0&&(s=0),p===void 0&&(p=!0),e.isRexSizer||(E===void 0&&(E=e._minWidth),n===void 0&&(n=e._minHeight)),T===void 0&&(T=0),r===void 0&&(r=0),x===void 0&&(x=0),d===void 0&&(d=0),o===void 0?o=0:o===!0&&(o=mi(e)/yi(e)),o>0&&(p=!0,E===void 0&&(E=0),n===void 0&&(n=0));var l=this.getSizerConfig(e);return l.align=i,l.padding=ju(s),O3(p)?(l.expandWidth=Es(p,"width",!1),l.expandHeight=Es(p,"height",!1)):(l.expandWidth=p,l.expandHeight=p),e.isRexSizer||(l.expandWidth&&(e.minWidth=E===void 0?mi(e):E),l.expandHeight&&(e.minHeight=n===void 0?yi(e):n)),l.alignOffsetX=T,l.alignOffsetY=r,l.alignOffsetOriginX=x,l.alignOffsetOriginY=d,l.aspectRatio=o,this.sizerChildren.hasOwnProperty(t)&&this.sizerChildren[t].destroy(),this.sizerChildren[t]=e,h&&this.addChildrenMap(t,e),this};const hct={add:lct},uct=Bs.prototype.clear;var tT=function(e){this.backgroundChildren&&(this.backgroundChildren.length=0);var t=!e&&this.sizerEventsEnable,i;if(t&&(i=this.getChildren([])),uct.call(this,e),t)for(var s,p=0,E=i.length;p<E;p++)s=i[p],s.emit("sizer.remove",s,this),this.emit("remove",s,this);return this};const fct={remove(e,t){var i;if(typeof e=="string"){if(i=e,e=this.sizerChildren[i],!e)return this}else{if(this.getParentSizer(e)!==this)return this;i=this.childToKey(e)}return i&&(delete this.sizerChildren[i],this.childrenMap.hasOwnProperty(i)&&delete this.childrenMap[i]),Kp.call(this,e,t),this},removeAll(e){for(var t in this.sizerChildren)this.remove(t,e);return this},clear(e){for(var t in this.sizerChildren)delete this.sizerChildren[t],this.childrenMap.hasOwnProperty(t)&&delete this.childrenMap[t];return tT.call(this,e),this}};var pk={getChildrenWidth:_dt,getChildrenHeight:tct,getExpandedChildWidth:ect,getExpandedChildHeight:ict,getChildrenSizers:rct,layoutChildren:act};Object.assign(pk,hct,fct);var eT=function(e,t){if(Array.isArray(e))return e.indexOf(t);for(var i in e)if(e[i]===t)return i;return null};const D3=Phaser.Utils.Objects.IsPlainObject,md=Phaser.Utils.Objects.GetValue;class sa extends Qu{constructor(t,i,s,p,E,n){D3(i)?(n=i,i=md(n,"x",0),s=md(n,"y",0),p=md(n,"width",void 0),E=md(n,"height",void 0)):D3(p)&&(n=p,p=md(n,"width",void 0),E=md(n,"height",void 0)),super(t,i,s,p,E,n),this.type="rexOverlapSizer",this.sizerChildren={},this.addChildrenMap("items",this.sizerChildren)}childToKey(t){if(typeof t=="string"){var i=t;if(this.sizerChildren.hasOwnPropery(i))return i}else return eT(this.sizerChildren,t);return null}}Object.assign(sa.prototype,pk);var dct=Phaser.Math.Distance.Between,lx=function(e,t,i){var s=e.width/2;return dct(s,s,t,i)<=s};const cct=Phaser.Math.Angle.Between,vct=Phaser.Math.Angle.Normalize;var F3=function(e,t,i){if(this.enable&&e.isDown){var s=this.sizerChildren.knob;if(lx(s,t,i)){var p=s.width/2,E=s.startAngle,n=cct(p,p,t,i),T=s.anticlockwise?E-n:n-E,r=vct(T)/(2*Math.PI);this.stopEaseValue(),this.easeValueDuration===0||Math.abs(this.value-r)<.1?this.value=r:this.easeValueTo(r)}}},pct=function(){var e=this.sizerChildren.knob;e.on("pointerdown",F3,this).on("pointermove",F3,this).setInteractive()};const I3=Phaser.Math.Angle.Between,gct=Phaser.Math.Angle.Wrap;var mct=function(e,t,i){if(!(!this.enable||this.panPointer)){var s=this.sizerChildren.knob;lx(s,t,i)&&gk.call(this,e)}},yct=function(e,t,i){if(this.enable&&e.isDown){var s=this.sizerChildren.knob;switch(this.panState){case zM:lx(s,t,i)&&gk.call(this,e);break;case yk:lx(s,t,i)?Tct.call(this):mk.call(this);break}}},xct=function(e,t,i){!this.enable||this.panPointer!==e||mk.call(this)},gk=function(e){this.panPointer=e,this.panState=yk},mk=function(){this.panPointer=void 0,this.panState=zM},Tct=function(){var e=this.panPointer.prevPosition,t=this.panPointer.position,i=this.sizerChildren.knob,s=I3(i.x,i.y,e.x,e.y),p=I3(i.x,i.y,t.x,t.y),E=i.anticlockwise?s-p:p-s,n=gct(E)/(Math.PI*2);this.stopEaseValue(),this.value+=n};const zM=0,yk=1;var Cct=function(){var e=this.sizerChildren.knob;e.on("pointerdown",mct,this).on("pointermove",yct,this).on("pointerup",xct,this).setInteractive(),this.panPointer=void 0,this.panState=zM},Sct=function(e,t){return this.textFormatCallback=e,this.textFormatCallbackScope=t,this},xk=function(e){e===void 0&&(e=this.value);var t;return this.textFormatCallbackScope?t=this.textFormatCallback(e):t=this.textFormatCallback.call(this.textFormatCallbackScope,e),t},Ect=function(e){var t=this.sizerChildren.text;return t&&this.textFormatCallback&&(t.setText(xk.call(this,e)),t.layout&&t.layout()),this};const bct={setTextFormatCallback:Sct,getFormatText:xk,updateText:Ect},wa=Phaser.Utils.Objects.GetValue,Pct=Phaser.Math.Snap.To;class WM extends Ah(sa){constructor(t,i){i===void 0&&(i={}),super(t,i),this.type="rexKnob",this.bootProgressBase(i);var s=wa(i,"background",void 0),p=wa(i,"text",void 0);s&&this.addBackground(s),p&&(i.textColor=void 0,i.textStrokeColor=void 0,this.setTextFormatCallback(wa(i,"textFormatCallback",void 0),wa(i,"textFormatCallbackScope",void 0)),i.textFormatCallback=void 0,i.textFormatCallbackScope=void 0);var E=new Vx(t,i);E.setDepth(wa(i,"knobDepth",0)),E._value=-1,t.add.existing(E),this.add(E,"knob"),p&&(this.add(p,"text","center",0,!1),t.children.moveBelow(E,p)),this.addChildrenMap("background",s),this.addChildrenMap("knob",E),this.addChildrenMap("text",p),this.setEnable(wa(i,"enable",void 0)),this.setGap(wa(i,"gap",void 0)),this.setValue(wa(i,"value",0),wa(i,"min",void 0),wa(i,"max",void 0));var n=wa(i,"input",0);switch(typeof n=="string"&&(n=wct[n]),n){case 0:Cct.call(this);break;case 1:pct.call(this);break}}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}setGap(t){return this.gap=t,this}get value(){return this.sizerChildren.knob.value}set value(t){this.gap!==void 0&&(t=Pct(t,this.gap));var i=this.value;this.sizerChildren.knob.value=t;var s=this.value;i!==s&&(this.updateText(),this.eventEmitter.emit("valuechange",s,i,this.eventEmitter))}}const wct={pan:0,drag:0,click:1,none:-1};Object.assign(WM.prototype,bct);It.register("knob",function(e){var t=new WM(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.Knob",WM);const Mct={arc:tc,circle:ra,curve:slt,ellipse:alt,line:Ph,lines:pn,rectangle:Mlt,roundRectangle:rx,triangle:Alt},B3=Phaser.Utils.Objects.GetValue,Rct=Phaser.Utils.Objects.IsPlainObject,Act=function(){for(var e=this.getShapes(),t=0,i=e.length;t<i;t++)e[t].lineStyle().fillStyle()},Oct={createShape(e,t){var i=Mct[e],s=new i;return t&&s.setName(t),s},buildShapes(e){var t=B3(e,"create",void 0);if(Rct(t)){var i=t;for(var s in i){var p=i[s];switch(typeof p){case"number":for(var E=0;E<p;E++)this.addShape(this.createShape(s));break;case"string":this.addShape(this.createShape(s,p));break;default:for(var n=p,E=0,T=n.length;E<T;E++)this.addShape(this.createShape(s,n[E]));break}}}else if(Array.isArray(t))for(var i=t,E=0,T=i.length;E<T;E++){var r=i[E];this.addShape(this.createShape(r.type,r.name))}else typeof t=="function"&&t.call(this);this.setUpdateShapesCallback(B3(e,"update"))},setUpdateShapesCallback(e){return e===void 0&&(e=Act),this.dirty=this.dirty||this.updateCallback!==e,this.updateCallback=e,this},updateShapes(){this.updateCallback.call(this)}},G3=Phaser.GameObjects.Components.TransformMatrix,Lct=Phaser.Math.TransformXY;var Dct=function(e,t,i,s,p){s===void 0&&(s=e.scene.cameras.main),p===void 0?p={}:p===!0&&(p=Fct);var E=s.scrollX,n=s.scrollY,T=t+E*e.scrollFactorX-E,r=i+n*e.scrollFactorY-n;return e.parentContainer?(uy===void 0&&(uy=new G3,k3=new G3),e.getWorldTransformMatrix(uy,k3),uy.applyInverse(T,r,p)):Lct(T,r,e.x,e.y,e.rotation,e.scaleX,e.scaleY,p),p.x+=e.displayOriginX,p.y+=e.displayOriginY,p},uy,k3,Fct={};const ip=Phaser.Utils.Objects.GetValue,Ict=Phaser.Utils.Objects.IsPlainObject;class iT extends yl{constructor(t,i,s,p,E,n){Ict(i)&&(n=i,i=ip(n,"x",0),s=ip(n,"y",0),p=ip(n,"width",2),E=ip(n,"height",2)),super(t,i,s,p,E),this.type=ip(n,"type","rexCustomShapes"),this.buildShapes(n)}get centerX(){return this.width/2}get centerY(){return this.height/2}worldToLocalXY(t,i,s,p){return typeof s=="boolean"&&(p=s,s=void 0),Dct(this,t,i,s,p)}}Object.assign(iT.prototype,Oct);It.register("customShapes",function(e,t,i,s,p){var E=new iT(this.scene,e,t,i,s,p);return this.scene.add.existing(E),E});Lt(window,"RexPlugins.UI.CustomShapes",iT);const rp=Phaser.Utils.Objects.GetValue,Bct=Phaser.Utils.Objects.IsPlainObject;class Ro extends Ah(iT){constructor(t,i,s,p,E,n){Bct(i)&&(n=i,i=rp(n,"x",0),s=rp(n,"y",0),p=rp(n,"width",2),E=rp(n,"height",2)),n===void 0&&(n={}),n.type||(n.type="rexCustomProgress"),super(t,i,s,p,E,n),this.bootProgressBase(n),this.setValue(rp(n,"value",0))}get centerX(){return this.width/2}get centerY(){return this.height/2}get radius(){return Math.min(this.centerX,this.centerY)}}It.register("customProgress",function(e,t,i,s,p){var E=new Ro(this.scene,e,t,i,s,p);return this.scene.add.existing(E),E});Lt(window,"RexPlugins.UI.CustomProgress",Ro);var Gct=function(e){return this.easeValueTask||(this.easeValueTask=new gl(this,{eventEmitter:null})),e!==void 0&&(this.duration=e,this.easeValueTask.stop()),this.easeValueTask.isRunning?this:(this.easeValueTask.restart({key:"value",from:0,to:1,duration:this.duration,ease:this.ease,repeat:-1,delay:this.delay,repeatDelay:this.repeatDelay}),this.setDirty(),this)},kct=function(){return this.easeValueTask?(this.easeValueTask.stop(),this.setDirty(),this):this},Nct=function(){return this.easeValueTask?(this.easeValueTask.pause(),this.setDirty(),this):this},Uct=function(){return this.easeValueTask?(this.easeValueTask.pause(),this.setDirty(),this):this};const Vct={start:Gct,stop:kct,pause:Nct,resume:Uct},Ma=Phaser.Utils.Objects.GetValue;class Tk extends yl{constructor(t,i){var s=Ma(i,"x",0),p=Ma(i,"y",0),E=Ma(i,"width",64),n=Ma(i,"height",64);super(t,s,p,E,n),this.resetFromConfig(i,!0),this.buildShapes(i),Ma(i,"start",!0)&&this.start()}resetFromConfig(t,i){i===void 0&&(i=!1);var s;return s=i?1e3:this.duration,this.setDuration(Ma(t,"duration",s)),s=i?"Linear":this.ease,this.setEase(Ma(t,"ease",s)),s=i?0:this.delay,this.setDelay(Ma(t,"delay",s)),s=i?0:this.repeatDelay,this.setRepeatDelay(Ma(t,"repeatDelay",s)),s=i?16777215:this.color,this.setColor(Ma(t,"color",s)),s=i?0:this.value,this.setValue(Ma(t,"value",s)),this}buildShapes(){}get centerX(){return this.width/2}get centerY(){return this.height/2}get radius(){return Math.min(this.centerX,this.centerY)}get color(){return this._color}set color(t){this.isColorChanged=this.isColorChanged||this._color!==t,this.dirty=this.dirty||this.isColorChanged,this._color=t,this.setShapesColor(t)}setColor(t){return this.color=t,this}setShapesColor(t){}get value(){return this._value}set value(t){t=Phaser.Math.Clamp(t,0,1),this.dirty=this.dirty||this._value!=t,this._value=t}setValue(t){return this.value=t,this}setDuration(t){return this.duration=t,this}setDelay(t){return this.delay=t,this}setRepeatDelay(t){return this.repeatDelay=t,this}setEase(t){return this.ease=t,this}get isRunning(){return this.tweenTask?this.tweenTask.isRunning:!1}}Object.assign(Tk.prototype,Vct);const sh=Phaser.Math.DegToRad,zct=Phaser.Math.Linear,Wct=Phaser.Math.Easing.Expo.In,Yct={right:0,down:1,left:2,up:3};var Xct=function(e,t,i,s,p,E,n,T,r,o,x){var d=yd(t,0,s,p,E,n,T,r,o,x);e.startAt(d.x,d.y);var h=yd(i,0,s,p,E,n,T,r,o,x);e.lineTo(h.x,h.y);var l=yd(i,i,s,p,E,n,T,r,o,x);e.lineTo(l.x,l.y);var a=yd(0,i,s,p,E,n,T,r,o,x);e.lineTo(a.x,a.y);var f=yd(0,t,s,p,E,n,T,r,o,x);e.lineTo(f.x,f.y);var c=yd(t,t,s,p,E,n,T,r,o,x);e.lineTo(c.x,c.y),e.close()},Ib={},yd=function(e,t,i,s,p,E,n,T,r,o){var x=e*i,d=t*s;return Ib.x=n*x+T*d+p,Ib.y=r*x+o*d+E,Ib};const fy={setDirection(e){return typeof e=="string"&&(e=Yct[e]),this.direction=e,this},buildShapes(){for(var e=0;e<3;e++)this.addShape(new pn)},updateShapes(){var e,t,i,s,p,E;switch(this.direction){case 1:e=this.centerX,t=this.centerY-this.radius;var n=sh(315);i=Math.cos(n),s=Math.sin(n);var T=sh(45);p=Math.cos(T),E=Math.sin(T);break;case 3:e=this.centerX,t=this.centerY+this.radius;var n=sh(135);i=Math.cos(n),s=Math.sin(n);var T=sh(225);p=Math.cos(T),E=Math.sin(T);break;case 2:e=this.centerX+this.radius,t=this.centerY;var n=sh(225);i=Math.cos(n),s=Math.sin(n);var T=sh(315);p=Math.cos(T),E=Math.sin(T);break;default:e=this.centerX-this.radius,t=this.centerY;var n=sh(45);i=Math.cos(n),s=Math.sin(n);var T=sh(135);p=Math.cos(T),E=Math.sin(T);break}for(var r=this.radius/7,o=this.getShapes(),x=0,d=o.length;x<d;x++){var h=o[x],l=(this.value+(d-x)*.1)%1;l=Wct(ki(l));var a=zct(.25,1,l);h.fillStyle(this.color,a);var f=x*3+1,c=f+2;Xct(h,f,c,r,r,e,t,i,s,p,E)}}},Hct=Phaser.Math.Linear,$ct={buildShapes(){for(var e=0;e<4;e++)this.addShape(new Ph);this.prevValue=void 0},updateShapes(){var e=this.centerX,t=this.centerY,i=this.radius,s=e-i,p=t+i,E=i*2,n=this.getShapes(),T=n.length,r=i*2/T,o=r*.7;if(this.prevValue===void 0||this.prevValue>this.value)for(var x=0;x<T;x++){var d=n[x],h=this.prevValue===void 0?Math.random():d.getData("to");d.setData("from",h).setData("to",Math.random())}this.prevValue=this.value;for(var x=0;x<T;x++){var d=n[x],h=d.getData("from"),l=d.getData("to"),a=Hct(h,l,this.value),f=a*E,c=s+r*(x+.5);d.lineStyle(o,this.color,1).setP0(c,p).setP1(c,p-f)}}},Kct=Phaser.Math.Linear,Zct={buildShapes(){for(var e=0;e<3;e++)this.addShape(new ra)},updateShapes(){for(var e=this.centerX,t=this.centerY,i=this.radius,s=i*.1,p=Math.ceil(s*.25),E=1-ki(this.value),n=Kct(.3,.9,E)*i,T=this.getShapes(),r=0,o=T.length;r<o;r++){var x=T[r],E=(this.value+r/o)%1,d=Math.PI*2*E;x.lineStyle(p,this.color).setRadius(s).setCenterPosition(e+Math.cos(d)*n,t+Math.sin(d)*n)}}},Jct=Phaser.Math.Linear,jct=Phaser.Math.Easing.Expo.In,Qct={buildShapes(){for(var e=5,t=0;t<e;t++){var i=new Ph;this.addShape(i);var s=ki(t/(e-1))/2;i.setData("offset",s)}},updateShapes(){for(var e=this.centerX,t=this.centerY,i=this.radius,s=e-i,p=i*2,E=this.getShapes(),n=E.length,T=i*2/n,r=T*.7,o=0;o<n;o++){var x=E[o],d=(this.value+x.getData("offset"))%1;d=jct(ki(d));var h=Jct(.4,1,d)*p,l=s+T*(o+.5);x.lineStyle(r,this.color,1).setP0(l,t-h/2).setP1(l,t+h/2)}}},qct={buildShapes(){this.addShape(new pn().setName("border")),this.addShape(new pn().setName("fill"))},updateShapes(){var e=this.centerX,t=this.centerY,i=this.radius,s=i*.7,p=e-s,E=t-s,n=s*2;if(this.getShape("border").lineStyle(2,this.color,1).startAt(p,E).lineTo(n,0,!0).lineTo(0,n,!0).lineTo(-n,0,!0).lineTo(0,-n,!0).close(),this.value<.5){var T=(.5-this.value)*2,r=n*T;this.getShape("fill").fillStyle(this.color,1).startAt(p,E).lineTo(n,0,!0).lineTo(0,r,!0).lineTo(-n,0,!0).lineTo(0,-r,!0).close()}else{var T=(this.value-.5)*2,o=180*T;this.getShape("border").rotateAround(e,t,o),this.getShape("fill").fillStyle().lineStyle()}}},N3=Phaser.Math.RadToDeg,U3=Phaser.Math.Angle.WrapDegrees,_ct=Phaser.Math.Angle.Wrap,tvt=Phaser.Math.Angle.ShortestBetween,evt=Phaser.Math.DegToRad,V3=Phaser.Math.DegToRad(270),ivt={buildShapes(){this.addShape(new ra().setName("border")),this.addShape(new Ph().setName("minuteHand")),this.addShape(new Ph().setName("hourHand")),this.minuteHandAngle=0,this.hourHandAngle=0},updateShapes(){var e=this.centerX,t=this.centerY,i=this.radius,s=Math.ceil(i/25),p=i-s/2,E=i*.8,n=i*.5,T=this.minuteHandAngle;this.minuteHandAngle=Math.PI*2*this.value;var r=U3(N3(T)),o=U3(N3(this.minuteHandAngle)),x=tvt(r,o);this.hourHandAngle=_ct(this.hourHandAngle+evt(x)/12),this.getShape("border").lineStyle(s,this.color).setRadius(p).setCenterPosition(e,t);var d=this.minuteHandAngle+V3;this.getShape("minuteHand").lineStyle(s,this.color).setP0(e,t).setP1(e+Math.cos(d)*E,t+Math.sin(d)*E);var d=this.hourHandAngle+V3;this.getShape("hourHand").lineStyle(s,this.color).setP0(e,t).setP1(e+Math.cos(d)*n,t+Math.sin(d)*n)}},z3=Phaser.Math.Linear,rvt=Phaser.Math.Easing.Expo.In,Bb=2,Gb=2,nvt={buildShapes(){for(var e=Bb*Gb,t=0;t<e;t++){var i=new Ph;this.addShape(i)}},updateShapes(){for(var e=this.centerX,t=this.centerY,i=this.radius,s=e-i,p=t-i,E=i*2/Gb,n=i*2/Bb,T=this.getShapes(),r=T.length,o=0;o<r;o++){var x=o%Gb,d=Math.floor(o/Bb),h=s+E*(x+.5),l=p+n*(d+.5),a=T[o],f=(this.value+(r-o)*.1)%1;f=rvt(ki(f));var c=(r-o)/r,u=z3(.7,1,f)*n,v=z3(.7,1,f)*E;a.lineStyle(v,this.color,c).setP0(h-u/2,l).setP1(h+u/2,l)}}},W3=Phaser.Math.Linear,svt={buildShapes(){for(var e=3,t=0;t<e;t++){var i=new ra;this.addShape(i);var s=ki(t/(e-1))/2;i.setData("offset",s)}},updateShapes(){for(var e=this.centerX,t=this.centerY,i=this.radius,s=e-i,p=this.getShapes(),E=p.length,n=i*2/E,T=n/2,r=0;r<E;r++){var o=p[r],x=(this.value+o.getData("offset"))%1;x=ki(x);var d=W3(.25,1,x),h=W3(.5,1,x)*T;o.fillStyle(this.color,d).setRadius(h).setCenterPosition(s+n*(r+.5),t)}}},Y3=Phaser.Math.Linear,avt=Phaser.Math.Easing.Expo.In,ovt={buildShapes(){for(var e=0;e<3;e++){var t=new Ph;this.addShape(t)}},updateShapes(){for(var e=this.centerX,t=this.centerY,i=this.radius,s=e-i,p=this.getShapes(),E=p.length,n=i*2/E,T=i*2,r=0;r<E;r++){var o=p[r],x=(this.value+(E-r)*.1)%1;x=avt(ki(x));var d=(r+1)/E,h=Y3(.7,1,x)*T,l=Y3(.7,1,x)*n,a=s+n*(r+.5);o.lineStyle(l,this.color,d).setP0(a,t-h/2).setP1(a,t+h/2)}}},lvt=Phaser.Math.Linear,kb=3,Nb=3,hvt={buildShapes(){for(var e=kb*Nb,t=0;t<e;t++){var i=new ra;this.addShape(i),i.setData("offset",Math.random())}this.isInitialize=!0},updateShapes(){for(var e=this.centerX,t=this.centerY,i=this.radius,s=this.isInitialize||this.isSizeChanged,p=e-i,E=t-i,n=i*2/Nb,T=i*2/kb,r=Math.min(n,T)/2*.8,o=this.getShapes(),x=0,d=o.length;x<d;x++){var h=x%Nb,l=Math.floor(x/kb),a=p+n*(h+.5),f=E+T*(l+.5),c=o[x],u=(this.value+c.getData("offset"))%1;u=ki(u),c.fillStyle(this.color,lvt(.25,1,u)),s&&c.setRadius(r).setCenterPosition(a,f)}this.isInitialize=!1}},uvt={buildShapes(){for(var e=0;e<2;e++)this.addShape(new pn)},updateShapes(){for(var e=this.centerX,t=this.centerY,i=this.radius,s=Math.ceil(i/25),p=i-s,E=p*.6,n=p*.7,T=p*1.2,r=this.getShapes(),o=0,x=r.length;o<x;o++){var d=r[o],h=(this.value+o/x)%1,l=ki(h),a=e,f=t-15*h,c=p*h,u=E*h,v=n*h,g=T*h;d.lineStyle(s,this.color,l).startAt(a,f).cubicBezierTo(a,f-u,a-c,f-u,a-c,f).cubicBezierTo(a-c,f+u,a,f+v,a,f+g).cubicBezierTo(a,f+v,a+c,f+u,a+c,f).cubicBezierTo(a+c,f-u,a,f-u,a,f).close()}}},fvt=Phaser.Math.Linear,dvt={buildShapes(){for(var e=0;e<12;e++)this.addShape(new Ph);this.isInitialize=!0},updateShapes(){for(var e=this.centerX,t=this.centerY,i=this.isInitialize||this.isSizeChanged,s=this.radius,p=s/2,E=Math.ceil(s/20),n=this.getShapes(),T=0,r=n.length;T<r;T++){var o=n[T],x=T/r,d=Math.PI*2*x,h=fvt(.25,1,(1-this.value+x)%1);o.lineStyle(E,this.color,h),i&&o.setP0(e+Math.cos(d)*p,t+Math.sin(d)*p).setP1(e+Math.cos(d)*s,t+Math.sin(d)*s)}this.isInitialize=!1}},cvt={buildShapes(){this.addShape(new ra().setName("track")),this.addShape(new ra().setName("thumb"))},updateShapes(){var e=this.centerX,t=this.centerY,i=this.radius,s=i*.9,p=Math.ceil(s/25),E=i*.1,n=Math.PI*2*this.value;this.getShape("track").lineStyle(p,this.color,.7).setRadius(s).setCenterPosition(e,t),this.getShape("thumb").fillStyle(this.color).setRadius(E).setCenterPosition(e+Math.cos(n)*s,t+Math.sin(n)*s)}},vvt={buildShapes(){this.addShape(new ra().setName("track")),this.addShape(new tc().setName("arc"))},updateShapes(){var e=this.centerX,t=this.centerY,i=this.radius,s=Math.ceil(i/25),p=i-s/2;this.getShape("track").lineStyle(s,this.color,.5).setRadius(p).setCenterPosition(e,t);var E=this.value*360,n=E+60;this.getShape("arc").lineStyle(s,this.color,1).setRadius(p).setCenterPosition(e,t).setAngle(E,n)}},pvt=Phaser.Math.Linear,gvt={buildShapes(){for(var e=0;e<4;e++){var t=new tc().setPie();this.addShape(t),t.setData("speed",pvt(180,360,Math.random()))}this.prevValue=void 0},updateShapes(){var e=this.centerX,t=this.centerY,i=this.radius,s;this.prevValue!==void 0&&(s=this.value-this.prevValue,this.prevValue>this.value&&(s+=1));for(var p=this.getShapes(),E=0,n=p.length;E<n;E++){var T=p[E],r=(E+1)/n;if(this.prevValue===void 0){var o=E/n*360,x=o+90;T.fillStyle(this.color,r).setRadius(i).setCenterPosition(e,t).setAngle(o,x).setData("angle",o)}else{var o=T.getData("angle")+T.getData("speed")*s;o=o%360;var x=o+90;T.fillStyle(this.color,r).setRadius(i).setCenterPosition(e,t).setAngle(o,x).setData("angle",o)}}this.prevValue=this.value}},mvt={buildShapes(){this.addShape(new ra)},updateShapes(){var e=this.centerX,t=this.centerY,i=this.radius,s=i*this.value,p=Math.ceil(i/25),E=ki(this.value);this.getShapes()[0].lineStyle(p,this.color,E).setRadius(s).setCenterPosition(e,t)}},yvt=Phaser.Math.Linear,xvt=Phaser.Math.Easing.Expo.In,Tvt={buildShapes(){this.addShape(new ra().setName("center")),this.addShape(new pn().setName("arc0")),this.addShape(new pn().setName("arc1")),this.isInitialize=!0},updateShapes(){for(var e=this.centerX,t=this.centerY,i=this.radius,s=this.isInitialize||this.isSizeChanged,p=i*2/6,E=e-i+p,n=t+i-p,T=this.getShapes(),r=0,o=T.length;r<o;r++){var x=T[r],d=(this.value+(o-r)*.1)%1;d=xvt(ki(d));var h=yvt(.25,1,d);switch(x.name){case"center":x.fillStyle(this.color,h),s&&x.setRadius(p).setCenterPosition(E,n);break;case"arc0":if(x.fillStyle(this.color,h),s){var l=p*2,a=p*3;x.startAt(E,n-l).lineTo(E,n-a).setIterations(8).arc(E,n,a,270,360).lineTo(E+l,n).setIterations(6).arc(E,n,l,360,270,!0).close()}break;case"arc1":if(x.fillStyle(this.color,h),s){var l=p*4,a=p*5;x.startAt(E,n-l).lineTo(E,n-a).setIterations(8).arc(E,n,a,270,360).lineTo(E+l,n).setIterations(6).arc(E,n,l,360,270,!0).close()}break}}this.isInitialize=!1}},Cvt={buildShapes(){for(var e=0;e<2;e++)this.addShape(new ra)},updateShapes(){for(var e=this.centerX,t=this.centerY,i=this.radius,s=Math.ceil(i/25),p=i-s,E=this.getShapes(),n=0,T=E.length;n<T;n++){var r=E[n],o=(this.value+n/T)%1,x=ki(o);r.lineStyle(s,this.color,x).setRadius(o*p).setCenterPosition(e,t)}}},Svt={buildShapes(){this.addShape(new tc().setName("arc"))},updateShapes(){var e=this.centerX,t=this.centerY,i=this.radius,s=Math.ceil(i/10),p=i-s,E=this.value*720,n=ki(this.value)*180,T=E-n;this.getShape("arc").lineStyle(s,this.color,1).setRadius(p).setCenterPosition(e,t).setAngle(T+315,E+315)}};Phaser.Utils.Objects.GetValue;const _P={leftArrow:fy,rightArrow:fy,upArrow:fy,downArrow:fy,audio:$ct,ball:Zct,bars:Qct,box:qct,clock:ivt,cube:nvt,dots:svt,facebook:ovt,grid:hvt,hearts:uvt,ios:dvt,oribit:cvt,oval:vvt,pie:gvt,puff:mvt,radio:Tvt,rings:Cvt,spinner:Svt},tw=[];for(var Evt in _P)tw.push(Evt);const X3=Phaser.Utils.Array.GetRandom,bvt={setAnimationMode(e,t){_P.hasOwnProperty(e)||(e=X3(tw)),this.animationMode=e;var i=_P[e];switch(t&&this.resetFromConfig(t),e){case"leftArrow":i.setDirection.call(this,"left");break;case"rightArrow":i.setDirection.call(this,"right");break;case"upArrow":i.setDirection.call(this,"up");break;case"downArrow":i.setDirection.call(this,"down");break}return this.clear(),i.buildShapes.call(this),this.updateShapes=i.updateShapes.bind(this),this.stop().start(),this},setRandomAnimationMode(e){var t=X3(tw);return this.setAnimationMode(t,e),this}},Pvt=Phaser.Utils.Objects.GetValue;class YM extends Tk{constructor(t,i){super(t,i),this.type="rexSpinnerAIO",this.setAnimationMode(Pvt(i,"animationMode"))}}Object.assign(YM.prototype,bvt);It.register("aioSpinner",function(e){var t=new YM(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.AIOSpinner",YM);const wvt={setTransitionStartCallback(e,t){return this.onStartCallback=e,this.onStartCallbackScope=t,this},setTransitionProgressCallback(e,t){return this.onProgressCallback=e,this.onProgressCallbackScope=t,this},setTransitionCompleteCallback(e,t){return this.onCompleteCallback=e,this.onCompleteCallbackScope=t,this}};var Ck=function(){for(var e=this.scaleMode-1,t=0,i=this.images.length;t<i;t++){var s=this.images[t],p=UM(s,this,e,!0),E=p.width/s.width;this.setChildLocalScale(s,E),s.biasScale=E}},$y=function(e){this.scaleMode===0?this.resize(e.width,e.height):Ck.call(this)};const H3=Phaser.Utils.Objects.IsPlainObject,Ub=Phaser.Utils.Objects.GetValue,Mvt=Phaser.Utils.Array.GetRandom;var Rvt={out:0,in:1},uo=function(e,t,...i){for(var s=0,p=i.length;s<p;s++){var E=i[s];if(E&&E.hasOwnProperty(e))return E[e]}return t};const Avt={setTransitionDirection(e){return typeof e=="string"&&(e=Rvt[e]),this.dir=e,this},setDuration(e){return this.duration=e,this},setEaseFunction(e){return this.easeFunction=e,this},setNextTexture(e,t){return this.nextImage.setTexture(e,t),$y.call(this,this.nextImage),this},transit(e,t,i){if(this.isRunning&&(this.ignoreCompleteEvent=!0,this.stop(),this.ignoreCompleteEvent=!1),i!==void 0&&(e={key:e,frame:t,mode:i}),this.currentTransitionMode=void 0,H3(e)){var s=e;e=Ub(s,"key",void 0),t=Ub(s,"frame",void 0),i=Ub(s,"mode"),Array.isArray(i)&&(i=Mvt(i));var p;this.transitionModes&&this.transitionModes.hasOwnProperty(i)&&(p=this.transitionModes[i],this.currentTransitionMode=i),this.setDuration(uo("duration",this.duration,s,p)).setEaseFunction(uo("ease",this.easeFunction,s,p)).setTransitionDirection(uo("dir",this.dir,s,p));var E=uo("mask",void 0,s,p);E&&this.setMaskGameObject(E),this.setMaskEnable(E===!0);var n=uo("onStart",void 0,s,p),T=uo("onProgress",void 0,s,p),r=uo("onComplete",void 0,s,p);(n!==void 0||T!==void 0||r!==void 0)&&this.setTransitionStartCallback(n,uo("onStartScope",void 0,s,p)).setTransitionProgressCallback(T,uo("onProgressScope",void 0,s,p)).setTransitionCompleteCallback(r,uo("onCompleteScope",void 0,s,p))}return this.setNextTexture(e,t),this.start(),this},addTransitionMode(e,t){return this.transitionModes===void 0&&(this.transitionModes={}),H3(e)&&(t=e,e=t.name,delete t.name),this.transitionModes[e]=t,this},start(){return this.easeValueTask===void 0&&(this.easeValueTask=new gl(this,{eventEmitter:null})),this.easeValueTask.restart({key:"t",from:0,to:1,duration:this.duration,ease:this.easeFunction}),this},pause(){return this.easeValueTask&&this.easeValueTask.pause(),this},resume(){return this.easeValueTask&&this.easeValueTask.resume(),this},stop(){return this.easeValueTask&&this.easeValueTask.stop(),this.setT(1),this}},Ovt=Phaser.GameObjects.Graphics.prototype.setPosition;var Lvt=function(e,t){var i=this.parent;return e===void 0&&(e=i.x),t===void 0&&(t=i.y),Ovt.call(this,e,t),this};const $3=Phaser.Geom.Rectangle,K3=Phaser.Geom.Circle;var Dvt=function(e,t,i,s,p,E,n){switch(e){case 1:s=s.left;var T=-t*(p-.5),r=-i*(E-.5),o=Math.min(t,i)/2+s;(n===void 0||!(n instanceof K3))&&(n=new K3),n.setTo(T,r,o);break;default:var x=-(t*p)-s.left,d=-(i*E)-s.top,h=t+s.left+s.right,l=i+s.top+s.bottom;(n===void 0||!(n instanceof $3))&&(n=new $3),n.setTo(x,d,h,l);break}return n},Sk=function(e,t,i,s,p){switch(this.geom=Dvt(this.shapeType,e,t,i,s,p,this.geom),this.clear().fillStyle(16777215),this.shapeType){case 1:this.fillCircleShape(this.geom);break;default:this.fillRectShape(this.geom);break}},Fvt=function(e,t,i){var s=this.parent;e===void 0&&(e=s.width),t===void 0&&(t=s.height),i===void 0?i=this.padding:typeof i=="number"&&(i=GetBoundsConfig(i));var p=this.width!==e||this.height!==t,E=this.padding!==i&&!Vp(this.padding,i);return!p&&!E?this:(this.width=e,this.height=t,E&&Na(i,this.padding),this.originX=s.originX,this.originY=s.originY,Sk.call(this,e,t,i,s.originX,s.originY),this)},Ivt=function(e,t){t===void 0&&(t=e);var i=this.parent;return e===void 0&&(e=i.originX),t===void 0&&(t=i.originY),this.originX===e&&this.originY===t?this:(this.originX=e,this.originY=t,Sk.call(this,this.width,this.height,this.padding,e,t),this)},Bvt=function(e,t){return e-=this.x,t-=this.y,this.geom.contains(e,t)},Gvt={setPosition:Lvt,resize:Fvt,setOrigin:Ivt,contains:Bvt};const kvt=Phaser.GameObjects.Graphics;class hx extends kvt{constructor(t,i,s){i===void 0&&(i=0),typeof i=="string"&&(i=Nvt[i]),super(t.scene),this.parent=t,this.shapeType=i,this.padding=ju(s),this.setPosition().resize().setVisible(!1)}destroy(){return this.parent=void 0,super.destroy(),this}}const Nvt={rectangle:0,circle:1};Object.assign(hx.prototype,Gvt);const Uvt={setMaskGameObject(e){if(!e)return this.removeMaskGameObject(),this;if(this.maskGameObject){if(e===!0&&this.maskGameObject instanceof hx)return this;if(this.maskGameObject===e)return this;this.removeMaskGameObject()}return e===!0&&(e=new hx(this)),e.resize(this.width,this.height).setOrigin(this.originX,this.originY).setPosition(0,0).setScale(1).setVisible(!1),this.addLocal(e),this.maskGameObject=e,e._maskObject||(e._maskObject=e.createGeometryMask(),e.once("destroy",function(){e._maskObject.destroy(),e._maskObject=void 0})),this.childrenMask=e._maskObject,this},removeMaskGameObject(e){return e===void 0&&(e=!0),this.backImage.clearMask(),this.frontImage.clearMask(),this.childrenMask=void 0,this.remove(this.maskGameObject,e),this.maskGameObject=void 0,this},setImageMaskEnable(e,t,i){return t===void 0&&(t=!0),i===void 0&&(i=!1),t?(this.childrenMask||this.setMaskGameObject(!0),e.setMask(this.childrenMask),this.childrenMask.setInvertAlpha(i)):e.clearMask(),this},setCurrentImageMaskEnable(e,t){return this.setImageMaskEnable(this.currentImage,e,t),this},setNextImageMaskEnable(e,t){return this.setImageMaskEnable(this.nextImage,e,t),this},setCellImagesMaskEnable(e,t){for(var i=this.getCellImages(),s=0,p=i.length;s<p;s++)this.setImageMaskEnable(i[s],e,t);return this},setMaskEnable(e,t){return this.setImageMaskEnable(this.backImage,e,t),this.setImageMaskEnable(this.frontImage,e,t),this.setCellImagesMaskEnable(e,t),this}};var Vvt=function(e,t){typeof e=="object"&&(e=e.name),t===void 0&&(t=",");var i;return e==="__BASE"?i=function(s,p){return`${s}${t}${p}`}:i=function(s,p){return`${e}_${s}${t}${p}`},i},zvt=function(e,t,i,s,p,E){i==null&&(i="__BASE"),E||(E=Vvt(i,E));for(var n=e.sys.textures.get(t),T=typeof i=="object"?i:n.get(i),r=T.width,o=T.height,x,d,h,l=r/s,a=o/p,f=T.cutX,c=T.cutY,u=0,v=0,g=0;g<p;g++){u=0;for(var m=0;m<s;m++)h=E(m,g),x=u+f,d=v+c,n.add(h,0,x,d,l,a),u+=l;v+=a}return{getFrameNameCallback:E,cellWidth:l,cellHeight:a,columns:s,rows:p}};const ol=Phaser.Utils.Objects.GetValue,Wvt=Phaser.GameObjects.Image,Yvt=Phaser.Utils.Objects.IsPlainObject,Xvt=Phaser.Math.RotateAround;var Hvt=function(e,t,i,s){Yvt(t)&&(s=t,t=ol(s,"columns",1),i=ol(s,"rows",1));var p=ol(s,"createImageCallback");if(!p){var E=ol(s,"ImageClass",Wvt);p=function(k,U,H){return new E(k,0,0,U,H)}}for(var n=ol(s,"originX",.5),T=ol(s,"originY",.5),r=ol(s,"add",!0),o=ol(s,"align",r),x=ol(s,"objectPool",void 0),d=e.scene,h=e.texture,l=e.frame,a=zvt(d,h,l,t,i),f=a.getFrameNameCallback,c=e.scaleX,u=e.scaleY,v=e.rotation,g=e.getTopLeft(),m=g.x,y=g.y,C=[],P=a.cellWidth*c,w=a.cellHeight*u,M=0;M<i;M++)for(var R=0;R<t;R++){var A,L=f(R,M);if(x&&x.length>0?A=x.pop().setTexture(h,L):A=p(d,h,L),r&&d.add.existing(A),o){var F=m+P*R,G=y+w*M,I=F+n*P,B=G+T*w;A.setOrigin(n,T).setPosition(I,B).setScale(c,u).setRotation(v),Xvt(A,m,y,v)}C.push(A)}return C};const $vt={gridCutImage(e,t,i,s){s===void 0&&(s={}),s.objectPool=this.imagesPool;for(var p=Hvt(e,t,i,s),E,n=0,T=p.length;n<T;n++)E=p[n],E.setVisible(!0),this.add(E);return this.cellImages=p,this.setChildLocalVisible(e,!1),p},gridCutCurrentImage(e,t,i){return this.gridCutImage(this.currentImage,e,t,i)},gridCutNextImage(e,t,i){return this.gridCutImage(this.nextImage,e,t,i)},getCellImages(){return this.cellImages},freeCellImages(){if(this.cellImages.length===0)return this;for(var e=this.cellImages[0].texture,t=this.cellImages,i,s,p=0,E=t.length;p<E;p++)i=t[p],this.setChildLocalAlpha(i,1).setChildLocalScale(i,1).setChildLocalVisible(i,!1),i.clearMask(),s=i.frame.name,i.setTexture(),e.remove(s);return this.imagesPool.push(...t),t.length=0,this}},Ek={setFlipX(e){return this.flipX=e,this},setFlipY(e){return this.flipY=e,this},toggleFlipX(){return this.flipX=!this.flipX,this},toggleFlipY(){return this.flipY=!this.flipY,this},setFlip(e,t){return this.flipX=e,this.flipY=t,this},resetFlip(){return this.flipX=!1,this.flipY=!1,this}};var bk={};Object.assign(bk,wvt,Avt,Uvt,$vt,Ek);var Kvt=function(e,t,i,s){},Zvt=function(e,t,i,s){e.setChildLocalAlpha(t,1-s).setChildLocalAlpha(i,s)},Jvt=function(e,t,i,s){e.setChildLocalAlpha(t,1)};const Z3=Phaser.Utils.Objects.IsPlainObject,Gr=Phaser.Utils.Objects.GetValue,jvt=Phaser.Math.Clamp;class rT extends Bs{constructor(t,i,s,p,E,n){Z3(i)?(n=i,i=Gr(n,"x",0),s=Gr(n,"y",0),p=Gr(n,"key",void 0),E=Gr(n,"frame",void 0)):Z3(E)&&(n=E,E=void 0);var T=Gr(n,"back",void 0),r=Gr(n,"front",void 0);T||(T=t.add.image(i,s,p,E)),r||(r=t.add.image(i,s,p,E));var o=Gr(n,"width",void 0),x=Gr(n,"height",void 0),d=o!==void 0&&x!==void 0?1:0;o===void 0&&(o=r.width),x===void 0&&(x=r.height),super(t,i,s,o,x),this.type="rexTransitionImage",this._flipX=!1,this._flipY=!1,d=Gr(n,"scaleMode",d),typeof d=="string"&&(d=Qvt[d]),this.scaleMode=d,T.setVisible(!1),this.addMultiple([T,r]),this.backImage=T,this.frontImage=r,this.images=[this.backImage,this.frontImage],this.maskGameObject=void 0,this.cellImages=[],this.imagesPool=[],this.transitionModes=void 0,this.currentTransitionMode=void 0;var h=Gr(n,"onStart",void 0),l=Gr(n,"onProgress",void 0),a=Gr(n,"onComplete",void 0),f=Gr(n,"dir",0);h===void 0&&l===void 0&&a===void 0&&(h=Kvt,l=Zvt,a=Jvt,f=0),this.setTransitionStartCallback(h,Gr(n,"onStartScope",void 0)).setTransitionProgressCallback(l,Gr(n,"onProgressScope",void 0)).setTransitionCompleteCallback(a,Gr(n,"onCompleteScope",void 0)).setTransitionDirection(f).setDuration(Gr(n,"duration",1e3)).setEaseFunction(Gr(n,"ease","Linear"));var c=Gr(n,"mask",void 0);c&&this.setMaskGameObject(c),this.setMaskEnable(!1),this.ignoreCompleteEvent=!1,$y.call(this,this.frontImage)}destroy(t){!this.scene||this.ignoreDestroy||(this.childrenMask&&(this.childrenMask.destroy(),this.childrenMask=void 0),this.backImage=void 0,this.frontImage=void 0,this.images.length=0,this.maskGameObject=void 0,this.cellImages.length=0,this.imagesPool.length=0,this.transitionModes=void 0,super.destroy(t),this.onStartCallback=void 0,this.onStartCallbackScope=void 0,this.onProgressCallback=void 0,this.onProgressCallbackScope=void 0,this.onCompleteCallback=void 0,this.onCompleteCallbackScope=void 0,this.easeValueTask=void 0)}get currentImage(){return this.dir===0?this.frontImage:this.backImage}get nextImage(){return this.dir===0?this.backImage:this.frontImage}get texture(){return this.nextImage.texture}get frame(){return this.nextImage.frame}get tint(){return this._tint}set tint(t){this._tint!==t&&(this._tint=t,this.backImage.setTint(t),this.frontImage.setTint(t))}setTint(t){return this.tint=t,this}get flipX(){return this._flipX}set flipX(t){this._flipX!==t&&(this._flipX=t,this.backImage.setFlipX(t),this.frontImage.setFlipX(t))}setFlipX(t){return this.flipX=t,this}toggleFlipX(){return this.flipX=!this.flipX,this}get flipY(){return this._flipY}set flipY(t){this._flipY!==t&&(this._flipY=t,this.backImage.setFlipY(t),this.frontImage.setFlipY(t))}setFlipY(t){return this.flipY=t,this}toggleFlipY(){return this.flipY=!this.flipY,this}setFlip(t,i){return this.flipX=t,this.flipY=i,this}get t(){return this._t}set t(t){if(t=jvt(t,0,1),this._t!==t){this._t=t;var i=this.currentImage,s=this.nextImage;if(t===0&&(this.setChildVisible(this.frontImage,!0).setChildVisible(this.backImage,!0),Vb.call(this,this.onStartCallback,this.onStartCallbackScope,this,i,s,t)),Vb.call(this,this.onProgressCallback,this.onProgressCallbackScope,this,i,s,t),t===1){Vb.call(this,this.onCompleteCallback,this.onCompleteCallbackScope,this,i,s,t);var p=s.texture.key,E=s.frame.name;this.frontImage.setTexture(p,E),this.backImage.setTexture(p,E),$y.call(this,s),this.setChildVisible(this.frontImage,!0).setChildVisible(this.backImage,!1).setMaskEnable(!1).freeCellImages()}t===1&&!this.ignoreCompleteEvent&&this.emit("complete")}}setT(t){return this.t=t,this}get isRunning(){return this.easeValueTask?this.easeValueTask.isRunning:!1}setOrigin(t,i){return super.setOrigin(t,i),this.backImage.setOrigin(t,i),this.frontImage.setOrigin(t,i),this.maskGameObject&&this.maskGameObject.setOrigin(t,i),this}setTexture(t,i){return this.frontImage.setTexture(t,i),this.backImage.setTexture(t,i).setVisible(!1),$y.call(this,this.frontImage),this}setSize(t,i){return super.setSize(t,i),this.scaleMode&&Ck.call(this),this}}var Vb=function(e,t,i,s,p,E){if(e){if(this.scaleMode){var n;s.biasScale>0&&(n=this.getChildLocalScaleX(s),n=n/s.biasScale,this.setChildLocalScale(s,n)),p.biasScale&&(n=this.getChildLocalScaleX(p),n=n/p.biasScale,this.setChildLocalScale(p,n))}if(t?e.call(t,i,s,p,E):e(i,s,p,E),this.scaleMode){var n;s.biasScale>0&&(n=this.getChildLocalScaleX(s),n=n*s.biasScale,this.setChildLocalScale(s,n)),p.biasScale&&(n=this.getChildLocalScaleX(p),n=n*p.biasScale,this.setChildLocalScale(p,n))}}};Object.assign(rT.prototype,bk);const Qvt={fit:1,FIT:1,envelop:2,ENVELOP:2};It.register("transitionImage",function(e,t,i,s,p){var E=new rT(this.scene,e,t,i,s,p);return this.scene.add.existing(E),E});Lt(window,"RexPlugins.UI.TransitionImage",rT);const qvt="slideLeft",_vt="slideRight",tpt="slideUp",ept="slideDown",ipt="slideAwayLeft",rpt="slideAwayRight",npt="slideAwayUp",spt="slideAwayDown",apt="pushLeft",opt="pushRight",lpt="pushUp",hpt="pushDown",upt="zoomOut",fpt="zoomIn",dpt="zoomInOut",cpt="fade",vpt="crossFade",ppt="wipeLeft",gpt="wipeRight",mpt="wipeUp",ypt="wipeDown",xpt="irisOut",Tpt="irisIn",Cpt="irisInOut",Spt="pieOut",Ept="pieIn",bpt="pieInOut",Ppt="blinds",wpt="squares",Mpt="diamonds",Rpt="circles",Apt="curtain",Opt="pixellate",Lpt="dissolve",Dpt="revealLeft",Fpt="revealRight",Ipt="revealUp",Bpt="revealDown";var Gpt=function(e){e.addTransitionMode(rpt,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,i,s,p){},onProgress:function(t,i,s,p){var E=i.width*p;t.setChildLocalPosition(i,E,0)},onComplete:function(t,i,s,p){t.setChildLocalPosition(i,0,0)}}).addTransitionMode(ipt,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,i,s,p){},onProgress:function(t,i,s,p){var E=i.width*-p;t.setChildLocalPosition(i,E,0)},onComplete:function(t,i,s,p){t.setChildLocalPosition(i,0,0)}}).addTransitionMode(spt,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,i,s,p){},onProgress:function(t,i,s,p){var E=i.height*p;t.setChildLocalPosition(i,0,E)},onComplete:function(t,i,s,p){t.setChildLocalPosition(i,0,0)}}).addTransitionMode(npt,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,i,s,p){},onProgress:function(t,i,s,p){var E=i.height*-p;t.setChildLocalPosition(i,0,E)},onComplete:function(t,i,s,p){t.setChildLocalPosition(i,0,0)}})},kpt=function(e){e.addTransitionMode(_vt,{ease:"Linear",dir:"in",mask:!0,onStart:function(t,i,s,p){},onProgress:function(t,i,s,p){var E=s.width*(p-1);t.setChildLocalPosition(s,E,0)},onComplete:function(t,i,s,p){t.setChildLocalPosition(s,0,0)}}).addTransitionMode(qvt,{ease:"Linear",dir:"in",mask:!0,onStart:function(t,i,s,p){},onProgress:function(t,i,s,p){var E=s.width*(1-p);t.setChildLocalPosition(s,E,0)},onComplete:function(t,i,s,p){t.setChildLocalPosition(s,0,0)}}).addTransitionMode(ept,{ease:"Linear",dir:"in",mask:!0,onStart:function(t,i,s,p){},onProgress:function(t,i,s,p){var E=s.height*(p-1);t.setChildLocalPosition(s,0,E)},onComplete:function(t,i,s,p){t.setChildLocalPosition(s,0,0)}}).addTransitionMode(tpt,{ease:"Linear",dir:"in",mask:!0,onStart:function(t,i,s,p){},onProgress:function(t,i,s,p){var E=s.height*(1-p);t.setChildLocalPosition(s,0,E)},onComplete:function(t,i,s,p){t.setChildLocalPosition(s,0,0)}})},Npt=function(e){e.addTransitionMode(opt,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,i,s,p){},onProgress:function(t,i,s,p){var E=i.width*p;t.setChildLocalPosition(i,E,0);var E=s.width*(p-1);t.setChildLocalPosition(s,E,0)},onComplete:function(t,i,s,p){t.setChildLocalPosition(i,0,0),t.setChildLocalPosition(s,0,0)}}).addTransitionMode(apt,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,i,s,p){},onProgress:function(t,i,s,p){var E=i.width*-p;t.setChildLocalPosition(i,E,0);var E=s.width*(1-p);t.setChildLocalPosition(s,E,0)},onComplete:function(t,i,s,p){t.setChildLocalPosition(i,0,0),t.setChildLocalPosition(s,0,0)}}).addTransitionMode(hpt,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,i,s,p){},onProgress:function(t,i,s,p){var E=i.height*p;t.setChildLocalPosition(i,0,E);var E=s.height*(p-1);t.setChildLocalPosition(s,0,E)},onComplete:function(t,i,s,p){t.setChildLocalPosition(i,0,0),t.setChildLocalPosition(s,0,0)}}).addTransitionMode(lpt,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,i,s,p){},onProgress:function(t,i,s,p){var E=i.height*-p;t.setChildLocalPosition(i,0,E);var E=s.height*(1-p);t.setChildLocalPosition(s,0,E)},onComplete:function(t,i,s,p){t.setChildLocalPosition(i,0,0),t.setChildLocalPosition(s,0,0)}})},Upt=function(e){e.addTransitionMode(upt,{ease:"Linear",dir:"out",mask:!1,onStart:function(t,i,s,p){},onProgress:function(t,i,s,p){var E=1-p;t.setChildLocalScale(i,E,E)},onComplete:function(t,i,s,p){t.setChildLocalScale(i,1,1)}}).addTransitionMode(fpt,{ease:"Linear",dir:"in",mask:!1,onStart:function(t,i,s,p){},onProgress:function(t,i,s,p){var E=p;t.setChildLocalScale(s,E,E)},onComplete:function(t,i,s,p){t.setChildLocalScale(s,1,1)}}).addTransitionMode(dpt,{ease:"Linear",dir:"out",mask:!1,onStart:function(t,i,s,p){s.tint=0},onProgress:function(t,i,s,p){var E;p<.5?(E=1-ki(p),t.setChildLocalScale(i,E,E)):(i.visible&&t.setChildVisible(i,!1),E=1-ki(p),t.setChildLocalScale(s,E,E))},onComplete:function(t,i,s,p){t.setChildLocalScale(i,1,1),t.setChildVisible(i,!0),i.tint=16777215,t.setChildLocalScale(s,1,1),t.setChildVisible(s,!0),s.tint=16777215}})},Vpt=function(e){e.addTransitionMode(cpt,{ease:"Linear",dir:"out",mask:!1,onStart:function(t,i,s,p){s.tint=0},onProgress:function(t,i,s,p){var E;p<.5?(p=ki(p),E=Math.floor(255*(1-p)),i.tint=(E<<16)+(E<<8)+E):(i.visible&&t.setChildVisible(i,!1),p=ki(p),E=Math.floor(255*(1-p)),s.tint=(E<<16)+(E<<8)+E)},onComplete:function(t,i,s,p){t.setChildVisible(i,!0),i.tint=16777215,t.setChildVisible(s,!0),s.tint=16777215}}).addTransitionMode(vpt,{ease:"Linear",dir:"out",mask:!1,onStart:function(t,i,s,p){},onProgress:function(t,i,s,p){t.setChildLocalAlpha(i,1-p),t.setChildLocalAlpha(s,p)},onComplete:function(t,i,s,p){t.setChildLocalAlpha(i,1)}})},zpt=function(e){var t=new Ro(e,{type:"Graphics",create:[{name:"rect",type:"rectangle"}],update:function(){var i=this.getShape("rect").fillStyle(16777215),s=1-this.value;switch(this.wipeMode){case"right":i.setSize(this.width*s,this.height).setTopLeftPosition(this.width-i.width,0);break;case"left":i.setSize(this.width*s,this.height).setTopLeftPosition(0,0);break;case"down":i.setSize(this.width,this.height*s).setTopLeftPosition(0,this.height-i.height);break;case"up":i.setSize(this.width,this.height*s).setTopLeftPosition(0,0);break}}});return t},Wpt=function(e){var t=zpt(e.scene);e.once("destroy",function(){t.destroy()}).addTransitionMode(gpt,{ease:"Linear",dir:"out",mask:t,onStart:function(i,s,p,E){i.setCurrentImageMaskEnable(!0),i.maskGameObject.wipeMode="right"},onProgress:function(i,s,p,E){i.maskGameObject.setValue(E)},onComplete:function(i,s,p,E){i.removeMaskGameObject(!1)}}).addTransitionMode(ppt,{ease:"Linear",dir:"out",mask:t,onStart:function(i,s,p,E){i.setCurrentImageMaskEnable(!0),i.maskGameObject.wipeMode="left"},onProgress:function(i,s,p,E){i.maskGameObject.setValue(E)},onComplete:function(i,s,p,E){i.removeMaskGameObject(!1)}}).addTransitionMode(ypt,{ease:"Linear",dir:"out",mask:t,onStart:function(i,s,p,E){i.setCurrentImageMaskEnable(!0),i.maskGameObject.wipeMode="down"},onProgress:function(i,s,p,E){i.maskGameObject.setValue(E)},onComplete:function(i,s,p,E){i.removeMaskGameObject(!1)}}).addTransitionMode(mpt,{ease:"Linear",dir:"out",mask:t,onStart:function(i,s,p,E){i.setCurrentImageMaskEnable(!0),i.maskGameObject.wipeMode="up"},onProgress:function(i,s,p,E){i.maskGameObject.setValue(E)},onComplete:function(i,s,p,E){i.removeMaskGameObject(!1)}})},Ypt=function(e){var t=new Ro(e,{type:"Graphics",create:[{name:"rect",type:"rectangle"}],update:function(){this.getShape("rect").fillStyle(16777215).setSize(this.width*this.value,this.height*this.value).setCenterPosition(this.centerX,this.centerY)}});return t},Xpt=function(e){var t=Ypt(e.scene);e.once("destroy",function(){t.destroy()}).addTransitionMode(xpt,{ease:"Linear",dir:"out",mask:t,onStart:function(i,s,p,E){i.setCurrentImageMaskEnable(!0,!0)},onProgress:function(i,s,p,E){i.maskGameObject.setValue(E)},onComplete:function(i,s,p,E){i.removeMaskGameObject(!1)}}).addTransitionMode(Tpt,{ease:"Linear",dir:"in",mask:t,onStart:function(i,s,p,E){i.setNextImageMaskEnable(!0,!0)},onProgress:function(i,s,p,E){i.maskGameObject.setValue(1-E)},onComplete:function(i,s,p,E){i.removeMaskGameObject(!1)}}).addTransitionMode(Cpt,{ease:"Linear",dir:"out",mask:t,onStart:function(i,s,p,E){p.tint=0,i.setCurrentImageMaskEnable(!0),i.setNextImageMaskEnable(!0)},onProgress:function(i,s,p,E){var n;E<.5?(E=ki(E),n=Math.floor(255*(1-E)),i.maskGameObject.setValue(1-E),s.tint=(n<<16)+(n<<8)+n):(s.visible&&i.setChildVisible(s,!1),E=ki(E),n=Math.floor(255*(1-E)),i.maskGameObject.setValue(1-E),p.tint=(n<<16)+(n<<8)+n)},onComplete:function(i,s,p,E){i.removeMaskGameObject(!1),i.setChildVisible(s,!0),s.tint=16777215,i.setChildVisible(p,!0),p.tint=16777215}})},Hpt=function(e){var t=new Ro(e,{type:"Graphics",create:[{name:"pie",type:"arc"}],update:function(){var i=Math.max(this.width,this.height)*2,s=90*this.value;this.getShape("pie").fillStyle(16777215).setCenterPosition(this.centerX,0).setRadius(i).setAngle(90-s,90+s).setPie()}});return t},$pt=function(e){var t=Hpt(e.scene);e.once("destroy",function(){t.destroy()}).addTransitionMode(Spt,{ease:"Linear",dir:"out",mask:t,onStart:function(i,s,p,E){i.setCurrentImageMaskEnable(!0,!0)},onProgress:function(i,s,p,E){i.maskGameObject.setValue(E)},onComplete:function(i,s,p,E){i.removeMaskGameObject(!1)}}).addTransitionMode(Ept,{ease:"Linear",dir:"in",mask:t,onStart:function(i,s,p,E){i.setNextImageMaskEnable(!0,!0)},onProgress:function(i,s,p,E){i.maskGameObject.setValue(1-E)},onComplete:function(i,s,p,E){i.removeMaskGameObject(!1)}}).addTransitionMode(bpt,{ease:"Linear",dir:"out",mask:t,onStart:function(i,s,p,E){p.tint=0,i.setCurrentImageMaskEnable(!0),i.setNextImageMaskEnable(!0)},onProgress:function(i,s,p,E){var n;E<.5?(E=ki(E),n=Math.floor(255*(1-E)),i.maskGameObject.setValue(1-E),s.tint=(n<<16)+(n<<8)+n):(s.visible&&i.setChildVisible(s,!1),E=ki(E),n=Math.floor(255*(1-E)),i.maskGameObject.setValue(1-E),p.tint=(n<<16)+(n<<8)+n)},onComplete:function(i,s,p,E){i.removeMaskGameObject(!1),i.setChildVisible(s,!0),s.tint=16777215,i.setChildVisible(p,!0),p.tint=16777215}})},Kpt=function(e,t){var i=new Ro(e,{type:"Graphics",create:{rectangle:t},update:function(){for(var s=this.getShapes(),p=this.width/t,E=0;E<t;E++)s[E].fillStyle(16777215).setSize(p*this.value,this.height).setTopLeftPosition(p*E,0)}});return i},Zpt=function(e){var t=Kpt(e.scene,10);e.once("destroy",function(){t.destroy()}).addTransitionMode(Ppt,{ease:"Linear",dir:"out",mask:t,onStart:function(i,s,p,E){i.setCurrentImageMaskEnable(!0,!0)},onProgress:function(i,s,p,E){i.maskGameObject.setValue(E)},onComplete:function(i,s,p,E){i.removeMaskGameObject(!1)}})},Jpt=function(e,t,i){var s=new Ro(e,{type:"Graphics",create:{rectangle:t*i},update:function(){for(var p=this.getShapes(),E=this.width/t,n=this.height/i,T=0;T<i;T++)for(var r=0;r<t;r++)p[r*i+T].fillStyle(16777215).setSize(E*this.value,n*this.value).setCenterPosition(E*(r+.5),n*(T+.5))}});return s},jpt=function(e){var t=Jpt(e.scene,Math.ceil(e.width/40),Math.ceil(e.height/40));e.once("destroy",function(){t.destroy()}).addTransitionMode(wpt,{ease:"Linear",dir:"out",mask:t,onStart:function(i,s,p,E){i.setCurrentImageMaskEnable(!0,!0)},onProgress:function(i,s,p,E){i.maskGameObject.setValue(E)},onComplete:function(i,s,p,E){i.removeMaskGameObject(!1)}})},Qpt=function(e,t,i){var s=new Ro(e,{type:"Graphics",create:{lines:t*i},update:function(){for(var p=this.getShapes(),E=this.width/(t-1),n=this.height/i,T=n*2,r=E*this.value,o=n*this.value,x=0;x<i;x++)for(var d=0;d<t;d++){var h=d*E,l=x*T+d%2*n;p[d*i+x].fillStyle(16777215).start(h+r,l).lineTo(h,l+o).lineTo(h-r,l).lineTo(h,l-o).lineTo(h+r,l).close()}}});return s},qpt=function(e){var t=Qpt(e.scene,Math.ceil(e.width/60),Math.ceil(e.height/60));e.once("destroy",function(){t.destroy()}).addTransitionMode(Mpt,{ease:"Linear",dir:"out",mask:t,onStart:function(i,s,p,E){i.setCurrentImageMaskEnable(!0,!0)},onProgress:function(i,s,p,E){i.maskGameObject.setValue(E)},onComplete:function(i,s,p,E){i.removeMaskGameObject(!1)}})},_pt=function(e,t,i){var s=new Ro(e,{type:"Graphics",create:{circle:t*i},update:function(){for(var p=this.getShapes(),E=this.width/(t-1),n=this.height/i,T=n*2,r=Math.max(E,n)*this.value,o=0;o<i;o++)for(var x=0;x<t;x++){var d=x*E,h=o*T+x%2*n;p[x*i+o].fillStyle(16777215).setCenterPosition(d,h).setRadius(r)}}});return s},tgt=function(e){var t=_pt(e.scene,Math.ceil(e.width/60),Math.ceil(e.height/60));e.once("destroy",function(){t.destroy()}).addTransitionMode(Rpt,{ease:"Linear",dir:"out",mask:t,onStart:function(i,s,p,E){i.setCurrentImageMaskEnable(!0,!0)},onProgress:function(i,s,p,E){i.maskGameObject.setValue(E)},onComplete:function(i,s,p,E){i.removeMaskGameObject(!1)}})},egt=function(e,t){var i=new Ro(e,{type:"Graphics",create:{lines:t},update:function(){for(var s=this.getShapes(),p=this.width/t,E=p/2,n=0;n<t;n++){var T=p*n,r=this.height*this.value,o=T+E;s[n].fillStyle(16777215).start(T,0).horizontalLineTo(r).arc(o,r,E,180,0,!0).horizontalLineTo(-r).lineTo(T,0).close()}}});return i},igt=function(e){var t=egt(e.scene,10);e.once("destroy",function(){t.destroy()}).addTransitionMode(Apt,{ease:"Linear",dir:"out",mask:t,onStart:function(i,s,p,E){p.tint=0,i.setCurrentImageMaskEnable(!0,!0),i.setNextImageMaskEnable(!0,!0)},onProgress:function(i,s,p,E){var n;E<.5?(E=ki(E),n=Math.floor(255*(1-E)),i.maskGameObject.setValue(E),s.tint=(n<<16)+(n<<8)+n):(s.visible&&i.setChildVisible(s,!1),E=ki(E),n=Math.floor(255*(1-E)),i.maskGameObject.setValue(E),p.tint=(n<<16)+(n<<8)+n)},onComplete:function(i,s,p,E){i.removeMaskGameObject(!1),i.setChildVisible(s,!0),s.tint=16777215,i.setChildVisible(p,!0),p.tint=16777215}})},rgt=function(e){e.addTransitionMode(Opt,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,i,s,p){t.setChildVisible(s,!1),i.effect=i.preFX.addPixelate(0),s.effect=s.preFX.addPixelate(0)},onProgress:function(t,i,s,p){if(p<.5){p=ki(p);var E=Math.min(i.width,i.height)/5;i.effect.amount=Math.ceil(E*p)}else{i.visible&&t.setChildVisible(i,!1),s.visible||t.setChildVisible(s,!0),p=ki(p);var E=Math.min(s.width,s.height)/5;s.effect.amount=Math.ceil(E*p)}},onComplete:function(t,i,s,p){i.preFX.remove(i.effect),delete i.effect,t.setChildVisible(i,!0),s.preFX.remove(s.effect),delete s.effect}})};const ngt=`vec3 mod289(vec3 x) { return x - floor(x * (1.0 / 289.0)) * 289.0; }
vec4 mod289(vec4 x) { return x - floor(x * (1.0 / 289.0)) * 289.0; }
vec4 permute(vec4 x) { return mod289(((x*34.0)+1.0)*x); }
vec4 taylorInvSqrt(vec4 r) { return 1.79284291400159 - 0.85373472095314 * r; }
vec3 fade(vec3 t) { return t*t*t*(t*(t*6.0-15.0)+10.0); }
float Perlin(vec3 P) {
    vec3 i0 = mod289(floor(P)), i1 = mod289(i0 + vec3(1.0));
    vec3 f0 = fract(P), f1 = f0 - vec3(1.0), f = fade(f0);
    vec4 ix = vec4(i0.x, i1.x, i0.x, i1.x), iy = vec4(i0.yy, i1.yy);
    vec4 iz0 = i0.zzzz, iz1 = i1.zzzz;
    vec4 ixy = permute(permute(ix) + iy), ixy0 = permute(ixy + iz0), ixy1 = permute(ixy + iz1);
    vec4 gx0 = ixy0 * (1.0 / 7.0), gy0 = fract(floor(gx0) * (1.0 / 7.0)) - 0.5;
    vec4 gx1 = ixy1 * (1.0 / 7.0), gy1 = fract(floor(gx1) * (1.0 / 7.0)) - 0.5;
    gx0 = fract(gx0); gx1 = fract(gx1);
    vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0), sz0 = step(gz0, vec4(0.0));
    vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1), sz1 = step(gz1, vec4(0.0));
    gx0 -= sz0 * (step(0.0, gx0) - 0.5); gy0 -= sz0 * (step(0.0, gy0) - 0.5);
    gx1 -= sz1 * (step(0.0, gx1) - 0.5); gy1 -= sz1 * (step(0.0, gy1) - 0.5);
    vec3 g0 = vec3(gx0.x,gy0.x,gz0.x), g1 = vec3(gx0.y,gy0.y,gz0.y),
        g2 = vec3(gx0.z,gy0.z,gz0.z), g3 = vec3(gx0.w,gy0.w,gz0.w),
        g4 = vec3(gx1.x,gy1.x,gz1.x), g5 = vec3(gx1.y,gy1.y,gz1.y),
        g6 = vec3(gx1.z,gy1.z,gz1.z), g7 = vec3(gx1.w,gy1.w,gz1.w);
    vec4 norm0 = taylorInvSqrt(vec4(dot(g0,g0), dot(g2,g2), dot(g1,g1), dot(g3,g3)));
    vec4 norm1 = taylorInvSqrt(vec4(dot(g4,g4), dot(g6,g6), dot(g5,g5), dot(g7,g7)));
    g0 *= norm0.x; g2 *= norm0.y; g1 *= norm0.z; g3 *= norm0.w;
    g4 *= norm1.x; g6 *= norm1.y; g5 *= norm1.z; g7 *= norm1.w;
    vec4 nz = mix(vec4(dot(g0, vec3(f0.x, f0.y, f0.z)), dot(g1, vec3(f1.x, f0.y, f0.z)),
        dot(g2, vec3(f0.x, f1.y, f0.z)), dot(g3, vec3(f1.x, f1.y, f0.z))),
        vec4(dot(g4, vec3(f0.x, f0.y, f1.z)), dot(g5, vec3(f1.x, f0.y, f1.z)),
            dot(g6, vec3(f0.x, f1.y, f1.z)), dot(g7, vec3(f1.x, f1.y, f1.z))), f.z);
    return 2.2 * mix(mix(nz.x,nz.z,f.y), mix(nz.y,nz.w,f.y), f.x);
}
float Perlin(vec2 P) { return Perlin(vec3(P, 0.0)); }
`,sgt=`#ifdef GL_FRAGMENT_PRECISION_HIGH
#define highmedp highp
#else
#define highmedp mediump
#endif
precision highmedp float;
// Scene buffer
uniform sampler2D uMainSampler;
uniform sampler2D uMainSampler2;

uniform int resizeMode;
uniform float progress;
uniform float fromRatio;
uniform float toRatio;
varying vec2 outFragCoord;
// Effect parameters
uniform float noiseX;
uniform float noiseY;
uniform float noiseZ;
uniform float fromEdgeStart;
uniform float fromEdgeWidth;
uniform float toEdgeStart;
uniform float toEdgeWidth;

${ngt}

vec4 getFromColor (vec2 uv) {
  return texture2D(uMainSampler, uv);
}

vec4 getToColor (vec2 uv) {
  if (resizeMode == 2) {
    //  cover
    return texture2D(uMainSampler2, 0.5 + (vec2(uv.x, 1.0 - uv.y) - 0.5) * vec2(min(fromRatio / toRatio, 1.0), min((toRatio / fromRatio), 1.0)));
  } else if (resizeMode == 1) {
    //  contain
    return texture2D(uMainSampler2, 0.5 + (vec2(uv.x, 1.0 - uv.y) - 0.5) * vec2(max(fromRatio / toRatio, 1.0), max((toRatio / fromRatio), 1.0)));
  } else {
    //  stretch
    return texture2D(uMainSampler2, vec2(uv.x, 1.0 - uv.y));
  }
}

vec4 transition (vec2 uv) {    
  vec4 colorFront = getFromColor(uv);
  vec4 colorTo = getToColor(uv);

  float noise = (Perlin(vec3(uv.x * noiseX, uv.y * noiseY, noiseZ)) + 1.0) / 2.0
    * (1.0 - (fromEdgeStart + fromEdgeWidth + toEdgeStart + toEdgeWidth))
    + (fromEdgeStart + fromEdgeWidth + toEdgeStart + toEdgeWidth) * 0.5;
  vec4 colorResult = colorFront * smoothstep(progress - (fromEdgeStart + fromEdgeWidth), progress - fromEdgeStart, noise)
    + colorTo * smoothstep((1.0 - progress) - (toEdgeStart + toEdgeWidth), (1.0 - progress) - toEdgeStart, (1.0 - noise));
  return colorResult;
}

void main () {
  vec2 uv = outFragCoord;
  gl_FragColor = transition(uv);
}
`,agt=Phaser.Renderer.WebGL.Pipelines.PostFXPipeline,Ra=Phaser.Utils.Objects.GetValue,ogt=Phaser.Math.Clamp;class zb extends agt{constructor(t){super({name:"rexDissolvePostFx",game:t,renderTarget:!0,fragShader:sgt}),this._progress=0,this.toFrame=null,this.targetTexture=null,this.resizeMode=1,this.toRatio=1,this.noiseX=0,this.noiseY=0,this.noiseZ=0,this.fromEdgeStart=.01,this.fromEdgeWidth=.05,this.toEdgeStart=.01,this.toEdgeWidth=.05}resetFromJSON(t){return this.setProgress(Ra(t,"progress",0)),this.setTransitionTargetTexture(Ra(t,"toTexture","__DEFAULT"),Ra(t,"toFrame",void 0),Ra(t,"resizeMode",1)),this.setNoise(Ra(t,"noiseX",void 0),Ra(t,"noiseY",void 0),Ra(t,"noiseZ",void 0)),this.setFromEdge(Ra(t,"fromEdgeStart",.01),Ra(t,"fromEdgeWidth",.05)),this.setToEdge(Ra(t,"toEdgeStart",.01),Ra(t,"toEdgeWidth",.05)),this}onBoot(){}onPreRender(){this.set1f("progress",this.progress),this.set1i("resizeMode",this.resizeMode),this.set1f("noiseX",this.noiseX),this.set1f("noiseY",this.noiseY),this.set1f("noiseZ",this.noiseZ),this.set1f("fromEdgeStart",this.fromEdgeStart),this.set1f("fromEdgeWidth",this.fromEdgeWidth),this.set1f("toEdgeStart",this.toEdgeStart),this.set1f("toEdgeWidth",this.toEdgeWidth)}onDraw(t){this.set1f("fromRatio",t.width/t.height),this.set1f("toRatio",this.toRatio),this.set1i("uMainSampler2",1),this.bindTexture(this.targetTexture,1),this.bindAndDraw(t)}get progress(){return this._progress}set progress(t){this._progress=ogt(t,0,1)}setProgress(t){return this.progress=t,this}setTransitionTargetTexture(t,i,s){t===void 0&&(t="__DEFAULT");var p=this.game.textures.getFrame(t,i);return p||(p=this.game.textures.getFrame("__DEFAULT")),this.toRatio=p.width/p.height,this.toFrame=p,this.targetTexture=p.glTexture,s!==void 0&&(this.resizeMode=s),this}setResizeMode(t){return typeof t=="string"&&(t=lgt[t]),this.resizeMode=t,this}setNoise(t,i,s){return t===void 0&&(t=4+Math.random()*6),i===void 0&&(i=4+Math.random()*6),s===void 0&&(s=Math.random()*10),this.noiseX=t,this.noiseY=i,this.noiseZ=s,this}setFromEdge(t,i){return this.fromEdgeStart=t,this.fromEdgeWidth=i,this}setToEdge(t,i){return this.toEdgeStart=t,this.toEdgeWidth=i,this}}var lgt={stretch:0,contain:1,cover:2},hgt=function(e,t,i){zu(e).renderer.pipelines.addPostPipeline(t,i)},ugt=function(e,t,i){i===void 0&&(i={}),e.setPostPipeline(t);var s=e.postPipelines[e.postPipelines.length-1];return s.resetFromJSON(i),i.name&&(s.name=i.name),s};const fgt=Phaser.Utils.Array.SpliceOne;var dgt=function(e,t,i){for(var s,p,E,s=e.postPipelines,p=s.length-1;p>=0;p--){var E=s[p];E instanceof t&&(E.destroy(),fgt(s,p))}e.hasPostPipeline=e.postPipelines.length>0},cgt=function(e){hgt(e.scene.game,"rexDissolvePostFx",zb),e.addTransitionMode(Lpt,{ease:"Linear",dir:"out",mask:!1,onStart:function(t,i,s,p){i.effect=ugt(i,zb)},onProgress:function(t,i,s,p){i.effect.setProgress(p)},onComplete:function(t,i,s,p){dgt(i,zb),delete i.effect}})};const dy=.1,vgt=0,pgt=0,ggt=1,mgt=1,J3=0,j3=1;var ygt=function(e){e.addTransitionMode(Fpt,{ease:"Linear",dir:"in",mask:!1,onStart:function(t,i,s,p){s.effect=s.preFX.addReveal(dy,vgt,J3)},onProgress:function(t,i,s,p){s.effect.progress=p},onComplete:function(t,i,s,p){s.preFX.remove(s.effect),delete s.effect}}).addTransitionMode(Dpt,{ease:"Linear",dir:"in",mask:!1,onStart:function(t,i,s,p){s.effect=s.preFX.addReveal(dy,ggt,J3)},onProgress:function(t,i,s,p){s.effect.progress=p},onComplete:function(t,i,s,p){s.preFX.remove(s.effect),delete s.effect}}).addTransitionMode(Bpt,{ease:"Linear",dir:"in",mask:!1,onStart:function(t,i,s,p){s.effect=s.preFX.addReveal(dy,pgt,j3)},onProgress:function(t,i,s,p){s.effect.progress=p},onComplete:function(t,i,s,p){s.preFX.remove(s.effect),delete s.effect}}).addTransitionMode(Ipt,{ease:"Linear",dir:"in",mask:!1,onStart:function(t,i,s,p){s.effect=s.preFX.addReveal(dy,mgt,j3)},onProgress:function(t,i,s,p){s.effect.progress=p},onComplete:function(t,i,s,p){s.preFX.remove(s.effect),delete s.effect}})};const Q3=[Gpt,kpt,Npt,Upt,Vpt,Xpt,$pt,Wpt,Zpt,jpt,qpt,tgt,igt,rgt,cgt,ygt];class Pk extends rT{constructor(t,i,s,p,E,n){super(t,i,s,p,E,n);for(var T=0,r=Q3.length;T<r;T++)Q3[T](this)}}It.register("transitionImagePack",function(e,t,i,s,p){var E=new Pk(this.scene,e,t,i,s,p);return this.scene.add.existing(E),E});Lt(window,"RexPlugins.UI.TransitionImagePack",Pk);var xgt=function(){var e=this.image;if(!this.scaleUp&&e.width<=this.width&&e.height<=this.height)return this;var t=UM(e,this,"FIT",!0);return e.setDisplaySize(t.width,t.height),this.resetChildScaleState(e),this},wk={scaleImage:xgt};Object.assign(wk,Ek);var Tgt=function(){var e=this.background;return e?(e.setOrigin(this.originX,this.originY),e.setPosition(this.x,this.y),Rn(e,this.displayWidth,this.displayHeight),this.resetChildScaleState(e),this):this};const q3=Phaser.Utils.Objects.IsPlainObject,ll=Phaser.Utils.Objects.GetValue;class nT extends Bs{constructor(t,i,s,p,E,n){q3(i)?(n=i,i=ll(n,"x",0),s=ll(n,"y",0),p=ll(n,"key",void 0),E=ll(n,"frame",void 0)):q3(E)&&(n=E,E=void 0);var T=ll(n,"image");T?T.setPosition(i,s).setOrigin(.5):(T=t.add.image(i,s,p,E),p===void 0&&T.setVisible(!1)),super(t,i,s,1,1),this.type="rexImageBox";var r=ll(n,"background");r&&this.add(r),this.background=r,this.add(T),this.image=T,this.scaleUp=ll(n,"scaleUp",!1);var o=ll(n,"width",T.width),x=ll(n,"height",T.height);this.resize(o,x)}get texture(){return this.image.texture}get frame(){return this.image.frame}get flipX(){return this._flipX}set flipX(t){this._flipX!==t&&(this._flipX=t,this.image.setFlipX(t))}get flipY(){return this._flipY}set flipY(t){this._flipY!==t&&(this._flipY=t,this.image.setFlipY(t))}resize(t,i){return super.resize(t,i),Tgt.call(this),this.scaleImage(),this}setTexture(t,i){var s=this.image;return s.setTexture(t,i),t!==null?(this.setChildVisible(s,!0),this.scaleImage()):this.setChildVisible(s,!1),this}}Object.assign(nT.prototype,wk);It.register("imageBox",function(e,t,i,s,p){var E=new nT(this.scene,e,t,i,s,p);return this.scene.add.existing(E),E});Lt(window,"RexPlugins.UI.ImageBox",nT);It.register("fullWindowRectangle",function(e,t){var i=new DM(this.scene,e,t);return this.scene.add.existing(i),i});Lt(window,"RexPlugins.UI.FullWindowRectangle",DM);It.register("fullWindowZone",function(){var e=new iM(this.scene);return this.scene.add.existing(e),e});Lt(window,"RexPlugins.UI.FullWindowZone",iM);It.register("cover",function(e){var t=new FM(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.Cover",FM);var XM=function(e,t){if(this.scene.sys.scale.autoRound&&(e=Math.floor(e),t=Math.floor(t)),this.width===e&&this.height===t)return this;var i=this.node.style;return i.width=`${e}px`,i.height=`${t}px`,this.updateSize(),this};const _3={id:["id",void 0],text:["value",void 0],maxLength:["maxLength",void 0],minLength:["minLength",void 0],placeholder:["placeholder",void 0],tooltip:["title",void 0],readOnly:["readOnly",!1],spellCheck:["spellcheck",!1],autoComplete:["autocomplete","off"],autoCapitalize:["autocapitalize","off"]},tB={align:["textAlign",void 0],paddingLeft:["padding-left",void 0],paddingRight:["padding-right",void 0],paddingTop:["padding-top",void 0],paddingBottom:["padding-bottom",void 0],fontFamily:["fontFamily",void 0],fontSize:["font-size",void 0],color:["color","#ffffff"],backgroundColor:["backgroundColor","transparent"],border:["border",0],borderColor:["borderColor","transparent"],borderRadius:["border-radius",void 0],outline:["outline","none"],direction:["direction",void 0]},Cgt={input:"textchange",click:"click",dblclick:"dblclick",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup",touchstart:"pointerdown",touchmove:"pointermove",touchend:"pointerup",keydown:"keydown",keyup:"keyup",keypress:"keypress",compositionstart:"compositionStart",compositionend:"compositionEnd",compositionupdate:"compositionUpdate",focus:"focus",blur:"blur",select:"select"},eB=Phaser.Utils.Objects.GetValue;var Mk=function(e,t,i,s){var p=eB(s,"preventDefault",!1),E=eB(s,"preTest");for(let n in i)t.addEventListener(n,function(T){(!E||E(e,n))&&e.emit(i[n],e,T),p&&T.preventDefault()})};const Sgt=Phaser.GameObjects.DOMElement,iB=Phaser.Utils.Objects.IsPlainObject,fo=Phaser.Utils.Objects.GetValue;class sT extends Sgt{constructor(t,i,s,p,E,n){iB(i)?(n=i,i=fo(n,"x",0),s=fo(n,"y",0),p=fo(n,"width",0),E=fo(n,"height",0)):iB(p)&&(n=p,p=fo(n,"width",0),E=fo(n,"height",0)),n===void 0&&(n={});var T,r=fo(n,"inputType",void 0);r===void 0&&(r=fo(n,"type","text")),r==="textarea"?(T=document.createElement("textarea"),T.style.resize="none"):(T=document.createElement("input"),T.type=r),ex(_3,n,T);var o=fo(n,"style",void 0);o=ex(tB,n,o);var x=T.style;for(var d in n)if(!(d in _3||d in tB)){if(d in x)o[d]=n[d];else if(d in T){if(d==="type")continue;T[d]=n[d]}}o["box-sizing"]="border-box",super(t,i,s,T,o),this.type="rexInputText",this.resize(p,E),Mk(this,T,Cgt),AG(T),fo(n,"selectAll",!1)&&this.selectAll(),this._isFocused=!1,this.on("focus",function(){this._isFocused=!0},this).on("blur",function(){this._isFocused=!1},this)}get inputType(){return this.node.tagName.toLowerCase()==="textarea"?"textarea":this.node.type}get text(){return this.node.value}set text(t){this.node.value=t}setText(t){return this.text=t,this}get maxLength(){return this.node.maxLength}set maxLength(t){this.node.maxLength=t}setMaxLength(t){return this.maxLength=t,this}get minLength(){return this.node.minLength}set minLength(t){this.node.minLength=t}setMinLength(t){return this.minLength=t,this}get placeholder(){return this.node.placeholder}set placeholder(t){this.node.placeholder=t}setPlaceholder(t){return this.placeholder=t,this}selectText(t,i){return t===void 0?this.node.select():this.node.setSelectionRange(t,i),this}selectAll(){return this.selectText(),this}get selectionStart(){return this.node.selectionStart}get selectionEnd(){return this.node.selectionEnd}get selectedText(){var t=this.node;return t.value.substring(t.selectionStart,t.selectionEnd)}get cursorPosition(){return this.node.selectionStart}set cursorPosition(t){this.node.setSelectionRange(t,t)}setCursorPosition(t){return t===void 0?t=this.text.length:t<0&&(t=this.text.length+t),this.cursorPosition=t,this}get tooltip(){return this.node.title}set tooltip(t){this.node.title=t}setTooltip(t){return this.tooltip=t,this}setTextChangedCallback(t){return this.onTextChanged=t,this}get readOnly(){return this.node.readOnly}set readOnly(t){this.node.readOnly=t}setReadOnly(t){return t===void 0&&(t=!0),this.readOnly=t,this}get spellCheck(){return this.node.spellcheck}set spellCheck(t){this.node.spellcheck=t}setSpellCheck(t){return this.spellCheck=t,this}get fontColor(){return this.node.style.color}set fontColor(t){this.node.style.color=t}setFontColor(t){return this.fontColor=t,this}setStyle(t,i){return this.node.style[t]=i,this}getStyle(t){return this.node.style[t]}scrollToBottom(){return this.node.scrollTop=this.node.scrollHeight,this}setEnabled(t){return t===void 0&&(t=!0),this.node.disabled=!t,this}setBlur(){return this.node.blur(),this}setFocus(){return this.node.focus(),this}get isFocused(){return this._isFocused}}var Egt={resize:XM};Object.assign(sT.prototype,Egt);It.register("inputText",function(e){var t=new sT(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.InputText",sT);const rB=Phaser.Utils.Objects.GetValue;var bgt=function(e,t){var i=document.createElement("input");i.type="file";var s=rB(t,"accept",""),p=rB(t,"multiple",!1);return i.setAttribute("accept",s),p?i.setAttribute("multiple",""):i.removeAttribute("multiple"),i},Rk=function(e,t){return e===void 0&&(e=0),new Promise(function(i,s){setTimeout(function(){i(t)},e)})},Ak=function({game:e,fileInput:t,closeDelay:i}){return kx(zu(e).events,"focus").then(function(){return Rk(i)}).then(function(){var s={files:t.files};return Promise.resolve(s)})};const Pgt=Phaser.Utils.Objects.GetValue,wgt=Phaser.DOM.RemoveFromDOM;var Ok=function(e,t){var i=Pgt(t,"closeDelay",200),s=bgt(e,t);return s.click(),Ak({game:e,fileInput:s,closeDelay:i}).then(function(p){return wgt(s),s.remove(),Promise.resolve(p)})},Lk=function(e){return this.setOrigin(e.originX,e.originY),this.setPosition(e.x,e.y),this.resize(e.displayWidth,e.displayHeight),this},Mgt=function(e,t,i){if(i===void 0)switch(t){case"image":case"svg":i="textures";break;case"animation":i="json";break;case"tilemapTiledJSON":case"tilemapCSV":i="tilemap";break;case"glsl":i="shader";break;default:i=t;break}e=zu(e);var s;return i==="textures"?s=e.textures:s=e.cache[i],s},Dk=function(e,t,i,s,p,E){if(!(p===null||p===!1))if(Ua(p))p();else{var n=Mgt(e,i,p);n.exists(s)&&n.remove(s)}var T=e.load;if(E&&T.once(`filecomplete-${i}-${s}`,function(o,x,d){E(d)}),Ua(t))t();else{var r=window.URL.createObjectURL(t);T[i](s,r)}T.start()},Rgt=function(e,t,i,s,p){var E=this.scene;return Dk(E,e,t,i,s,p),this},Agt=function(e,t,i,s){var p=this.scene;return new Promise(function(E,n){var T=function(r){E(r)};Dk(p,e,t,i,s,T)})};const Fk={loadFile:Rgt,loadFilePromise:Agt},Ogt=Phaser.GameObjects.DOMElement,nB=Phaser.Utils.Objects.IsPlainObject,co=Phaser.Utils.Objects.GetValue;class qp extends Ogt{constructor(t,i,s,p,E,n){nB(i)?(n=i,i=co(n,"x",0),s=co(n,"y",0),p=co(n,"width",0),E=co(n,"height",0)):nB(p)&&(n=p,p=co(n,"width",0),E=co(n,"height",0));var T=document.createElement("input");T.type="file";var r=T.style;r.display="none";var o=document.createElement("label");o.appendChild(T);var x=co(n,"style",void 0);super(t,i,s,o,x),this.type="rexFileChooser",this.resetFromJSON(n),this.resize(p,E);var d=this;T.onchange=function(){d.emit("change",d)},this.setCloseDelay(co(n,"closeDelay",200)),T.onclick=function(){Ak({game:t,fileInput:T,closeDelay:d.closeDelay}).then(function(){d.emit("select",d)})}}resetFromJSON(t){return this.setAccept(co(t,"accept","")),this.setMultiple(co(t,"multiple",!1)),this}setAccept(t){return t===void 0&&(t=""),this.fileInput.setAttribute("accept",t),this}setMultiple(t){return t===void 0&&(t=!0),t?this.fileInput.setAttribute("multiple",""):this.fileInput.removeAttribute("multiple"),this}setCloseDelay(t){return t===void 0&&(t=200),this.closeDelay=t,this}get fileInput(){return this.node.children[0]}open(){return this.fileInput.click(),this}get files(){return this.fileInput.files}setOpenEnable(t){return t===void 0&&(t=!0),this.fileInput.disabled=!t,this}}var Lgt={resize:XM,syncTo:Lk};Object.assign(qp.prototype,Lgt,Fk);It.register("fileChooser",function(e){var t=new qp(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.FileChooser",qp);const Dgt={setDropEnable(e){return e===void 0&&(e=!0),this.dropEnable=e,this},toggleDropEnable(){return this.dropEnable=!this.dropEnable,this}},Fgt={addFilter(e,t){return this.filters||(this.filters={}),this.filters[e]=t,this},addFilters(e){this.filters||(this.filters={});for(var t in e)this.filters[t]=e[t];return this}};var Ik={resize:XM,syncTo:Lk};Object.assign(Ik,Dgt,Fgt,Fk);const Igt={dragenter:"dragenter",dragleave:"dragleave",dragover:"dragover",drop:"drop"},Bgt=Phaser.GameObjects.DOMElement,sB=Phaser.Utils.Objects.IsPlainObject,hl=Phaser.Utils.Objects.GetValue;class HM extends Bgt{constructor(t,i,s,p,E,n){sB(i)?(n=i,i=hl(n,"x",0),s=hl(n,"y",0),p=hl(n,"width",0),E=hl(n,"height",0)):sB(p)&&(n=p,p=hl(n,"width",0),E=hl(n,"height",0)),n===void 0&&(n={});var T=document.createElement("div"),r=hl(n,"style",void 0);super(t,i,s,T,r),this.type="rexFileDropZone",this.resize(p,E),this._files=[],this.setDropEnable(hl(n,"dropEnable",!0));var o=hl(n,"filters");o&&this.addFilters(o),Mk(this,T,Igt,{preventDefault:!0,preTest(x){return x.dropEnable}}),this.on("drop",function(x,d){this._files=d.dataTransfer.files;var h=this._files;if(h&&this.filters)for(var l in this.filters){for(var a=this.filters[l],f=[],c=0,u=h.length;c<u;c++){var v=h[c];a(v,h)&&f.push(v)}f.length>0&&this.emit(`drop.${l}`,f)}},this)}get files(){return this._files}}Object.assign(HM.prototype,Ik);It.register("fileDropZone",function(e){var t=new HM(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.FileDropZone",HM);var Ggt=function(e){if(this.rexSizer.hidden)return 0;e===void 0&&(e=!0);var t=0,i=this.sizerChildren,s,p,E,n,T,r=!1;if(this.childrenProportion,this.orientation===0)for(var o=!0,x=0,d=i.length;x<d;x++)s=i[x],s.hasOwnProperty("rexSizer")&&(p=s.rexSizer,!p.hidden&&(E=p.proportion,E===0||e?(T=this.getChildWidth(s),p.fitRatio>0&&!p.resolved&&(T=void 0),T===void 0&&(E!==0&&!this.hasProportion0Child?T=0:r=!0)):T=0,!r&&(n=s.rexSizer.padding,T+=(n.left+n.right)*this.scaleX,o?o=!1:T+=this.space.item*this.scaleX,t+=T)));else for(var x=0,d=i.length;x<d;x++)s=i[x],s.hasOwnProperty("rexSizer")&&(p=s.rexSizer,!p.hidden&&(T=this.getChildWidth(s),T===void 0&&(r=!0),!r&&(n=p.padding,T+=(n.left+n.right)*this.scaleX,t=Math.max(T,t))));if(!r)return t+(this.space.left+this.space.right)*this.scaleX},kgt=function(e){if(this.rexSizer.hidden)return 0;e===void 0&&(e=!0);var t=0,i=this.sizerChildren,s,p,E,n,T,r=!1;if(this.childrenProportion,this.orientation===0)for(var o=0,x=i.length;o<x;o++)s=i[o],s.hasOwnProperty("rexSizer")&&(p=s.rexSizer,!p.hidden&&(T=this.getChildHeight(s),T===void 0&&(r=!0),!r&&(n=p.padding,T+=(n.top+n.bottom)*this.scaleY,t=Math.max(T,t))));else for(var d=!0,o=0,x=i.length;o<x;o++)s=i[o],s.hasOwnProperty("rexSizer")&&(p=s.rexSizer,!p.hidden&&(E=p.proportion,E===0||e?(T=this.getChildHeight(s),p.fitRatio>0&&!p.resolved&&(T=void 0),T===void 0&&(E!==0&&!this.hasProportion0Child?T=0:r=!0)):T=0,!r&&(n=p.padding,T+=(n.top+n.bottom)*this.scaleY,d?d=!1:T+=this.space.item*this.scaleY,t+=T)));if(!r)return t+(this.space.top+this.space.bottom)*this.scaleY},Ngt=function(e,t){t===void 0&&(t=this.width*this.scaleX);var i,s=e.rexSizer;if(this.orientation===0)s.proportion>0&&this.proportionLength>0&&(i=s.proportion*this.proportionLength);else if(s.expand){var p=this.space,E=t-(p.left+p.right)*this.scaleX,n=s.padding;i=E-(n.left+n.right)*this.scaleX}return i},Ugt=function(e,t){t===void 0&&(t=this.height);var i,s=e.rexSizer;if(this.orientation===0){if(s.expand){var p=this.space,E=t-(p.top+p.bottom)*this.scaleY,n=s.padding;i=E-(n.top+n.bottom)*this.scaleY}}else s.proportion>0&&this.proportionLength>0&&(i=s.proportion*this.proportionLength);return i},Vgt=function(e){e===void 0&&(e=[]);for(var t=this.sizerChildren,i,s=0,p=t.length;s<p;s++)i=t[s],i.isRexSizer&&e.push(i);return e},zgt=function(){this.hasRatioFitChild=!1;for(var e,t,i=this.sizerChildren,s=0,p=i.length;s<p;s++)e=i[s],t=e.rexSizer,!t.hidden&&t.fitRatio>0&&(Rn(e,0,0),t.resolved=!1,this.hasRatioFitChild=!0);return this._childrenProportion=void 0,this.hasProportion0Child=!1,this.proportionLength=void 0,Zp.call(this),this};const Wgt=Phaser.Math.Wrap;var Ygt=function(){for(var e=this.sizerChildren,t,i,s,p=this.innerLeft,E=this.innerTop,n=this.innerWidth,T=this.innerHeight,r=p,o=E,x,d,h,l,a,f,c,u,v,g=this.startChildIndex,m=0,y=e.length;m<y;m++)g===0?v=m:v=Wgt(m+g,0,y),this.rtl&&(v=y-v-1),t=e[v],!t.rexSizer.hidden&&(i=t.rexSizer,s=i.padding,Jp.call(this,t),t.isRexSpace?(c=0,u=0):(c=this.getExpandedChildWidth(t),u=this.getExpandedChildHeight(t)),t.isRexSizer?(t.runLayout(this,c,u),VM(t,this)):Rn(t,c,u),c===void 0&&(c=mi(t)),u===void 0&&(u=yi(t)),this.orientation===0?(x=r+s.left*this.scaleX,i.proportion===0||this.proportionLength===0?h=c:h=i.proportion*this.proportionLength,d=o+s.top*this.scaleY,l=T-(s.top+s.bottom)*this.scaleY):(x=r+s.left*this.scaleX,h=n-(s.left+s.right)*this.scaleX,d=o+s.top*this.scaleY,i.proportion===0||this.proportionLength===0?l=u:l=i.proportion*this.proportionLength),c===void 0&&(c=mi(t)),u===void 0&&(u=yi(t)),a=(i.alignOffsetX+i.alignOffsetOriginX*c)*this.scaleX,f=(i.alignOffsetY+i.alignOffsetOriginY*u)*this.scaleY,jp.call(this,t,x,d,h,l,i.align,a,f),this.orientation===0?r+=h+(s.left+s.right)*this.scaleX+this.space.item*this.scaleX:o+=l+(s.top+s.bottom)*this.scaleY+this.space.item*this.scaleY)},Xgt=function(t){var t=SM.call(this,t);if(t!==void 0&&this.orientation===0&&this.proportionLength===void 0){var i=t-this.childrenWidth;i>0?(i=t-this.getChildrenWidth(!1),this.proportionLength=i/this.childrenProportion):this.proportionLength=0}return t},Hgt=function(t){var t=PM.call(this,t);if(t!==void 0&&this.orientation===1&&this.proportionLength===void 0){var i=t-this.childrenHeight;i>0?(i=t-this.getChildrenHeight(!1),this.proportionLength=i/this.childrenProportion):this.proportionLength=0}return t},$gt=function(){return this.hasRatioFitChild&&this.orientation===1?!0:EM.call(this)},Bk=function(e,t){if(this.hasRatioFitChild){var i;this.orientation===0?i=t-(this.getInnerPadding("top")+this.getInnerPadding("bottom"))*this.scaleY:e-(this.getInnerPadding("left")+this.getInnerPadding("right"))*this.scaleX;for(var s,p,E,n,T=this.sizerChildren,r=0,o=T.length;r<o;r++){var s=T[r],p=s.rexSizer;if(!p.hidden){var x=p.fitRatio;x&&(this.orientation===0?(n=i-(this.getChildOuterPadding(s,"top")+this.getChildOuterPadding(s,"bottom"))*this.scaleY,E=n*x):(E=i-(this.getChildOuterPadding(s,"top")+this.getChildOuterPadding(s,"bottom"))*this.scaleX,n=E/x),Rn(s,E,n),s.isRexSizer&&s.setMinSize(E,n),p.resolved=!0)}}}},Kgt=function(e){this.wrapResult||(this.orientation===1&&Bk.call(this,e,void 0),bM.call(this,e))},Zgt=function(){return this.hasRatioFitChild&&this.orientation===0?!0:wM.call(this)},Jgt=function(e){this.wrapResult||(this.orientation===0&&Bk.call(this,void 0,e),MM.call(this,e))};const jgt=Phaser.GameObjects.Zone;class $M extends jgt{constructor(t){super(t,0,0,1,1),this.isRexSpace=!0}}var Qgt=function(e,t){var i=this.sizerChildren;if(i.length===0)return-1;for(var s=-1,p=1/0,E=0,n=i.length;E<n;E++){var T=i[E],r;this.orientation===0?r=Math.abs(T.left-e):r=Math.abs(T.top-t),p>r&&(p=r,s=E)}var T=i[i.length-1],r;return this.orientation===0?r=Math.abs(T.right-e):r=Math.abs(T.bottom-t),p>r&&(p=r,s=E+1),s};const Gk=Phaser.Utils.Objects.IsPlainObject,bs=Phaser.Utils.Objects.GetValue,aB=Phaser.Display.Align.CENTER,qgt={min:0,full:-1};var Wb=function(e,t,i,s,p,E,n,T,r,o){var x,d,h,l;$p.call(this,e);var a=e.isRexSpace,f=typeof t;if(t===null)return this;if(f!=="number"){if(f==="string")t=qgt[t];else if(Gk(t)){var c=t;t=bs(c,"proportion",void 0),i=bs(c,"align",aB),s=bs(c,"padding",0),p=bs(c,"expand",!1),E=bs(c,"key",void 0),n=bs(c,"index",void 0),e.isRexSizer||(T=bs(c,"minWidth",void 0),r=bs(c,"minHeight",void 0)),o=bs(c,"fitRatio",0),x=bs(c,"offsetX",0),d=bs(c,"offsetY",0),h=bs(c,"offsetOriginX",0),l=bs(c,"offsetOriginY",0)}}typeof i=="string"&&(i=ec[i]),t===void 0&&(t=a?1:0),i===void 0&&(i=aB),s===void 0&&(s=0),p===void 0&&(p=!1),T===void 0&&(a?T=0:e.isRexSizer||(T=e._minWidth)),r===void 0&&(a?r=0:e.isRexSizer||(r=e._minHeight)),o===void 0||o===!1?o=0:o===!0&&(o=mi(e)/yi(e)),x===void 0&&(x=0),d===void 0&&(d=0),h===void 0&&(h=0),l===void 0&&(l=0);var c=this.getSizerConfig(e);return c.proportion=t,c.align=i,c.padding=ju(s),c.expand=p,c.fitRatio=t===0?o:0,c.alignOffsetX=x,c.alignOffsetY=d,c.alignOffsetOriginX=h,c.alignOffsetOriginY=l,n===void 0||n>=this.sizerChildren.length?this.sizerChildren.push(e):this.sizerChildren.splice(n,0,e),e.isRexSizer||(t>0&&(this.orientation===0?e.minWidth=T===void 0?mi(e):T:e.minHeight=r===void 0?yi(e):r),p&&(this.orientation===0?e.minHeight=r:e.minWidth=T)),E!==void 0&&this.addChildrenMap(E,e),this};const _gt={add:Wb,addSpace(e){return this.insertSpace(void 0,e),this},insertSpace(e,t){return t===void 0&&(t=1),Wb.call(this,new $M(this.scene),{proportion:t,minWidth:0,minHeight:0,index:e}),this},insert(e,t,i,s,p,E,n,T){return Gk(i)&&(i.index=e),Wb.call(this,t,i,s,p,E,n,e,T),this},insertAtPosition(e,t,i,s,p,E,n,T,r){var o=Qgt.call(this,e,t);return o===-1&&(o=void 0),this.insert(o,i,s,p,E,n,T,r),this}},tmt=Phaser.Utils.Array.Remove,emt={remove(e,t){return this.getParentSizer(e)!==this?this:(tmt(this.sizerChildren,e),Kp.call(this,e,t),this)},removeAll(e){for(var t=this.sizerChildren.length-1;t>=0;t--)this.remove(this.sizerChildren[t],e);return this},clear(e){return this.sizerChildren.length=0,tT.call(this,e),this}},imt={getChildAlign(e){return this.getSizerConfig(e).align},setChildAlign(e,t){return typeof t=="string"&&(t=ec[t]),this.getSizerConfig(e).align=t,this}},rmt={getChildProportion(e){return this.getSizerConfig(e).proportion},setChildProportion(e,t){return this.getSizerConfig(e).proportion=t,this}},nmt={getChildExpand(e){return this.getSizerConfig(e).expand},setChildExpand(e,t){return this.getSizerConfig(e).expand=t,this}};var smt=function(e){e===void 0&&(e="left");var t=this.sizerChildren,i=t[0],s=i&&i.isRexSpace;e==="right"||e==="bottom"||e==="center"?s||this.insertSpace(0):s&&this.remove(i,!0);var p=t.length-1,E=t[p],n=E&&E.isRexSpace;return e==="center"?n||this.insertSpace(p+1):n&&this.remove(E,!0),this};const KM={sortChildren(e){return this.sizerChildren.sort(e),this},sortChildrenByData(e,t){return this.sizerChildren.sort(function(i,s){var p=i.getData(e),E=s.getData(e);return t?E-p:p-E}),this},sortChildrenByProperty(e,t){return this.sizerChildren.sort(function(i,s){var p=i[e],E=s[e];return t?E-p:p-E}),this}};var kk={getChildrenWidth:Ggt,getChildrenHeight:kgt,getExpandedChildWidth:Ngt,getExpandedChildHeight:Ugt,getChildrenSizers:Vgt,preLayout:zgt,layoutChildren:Ygt,resolveWidth:Xgt,resolveHeight:Hgt,hasWidthWrap:$gt,runWidthWrap:Kgt,hasHeightWrap:Zgt,runHeightWrap:Jgt,setChildrenAlignMode:smt};Object.assign(kk,_gt,emt,imt,rmt,nmt,KM);var amt=function(){for(var e=0,t=this.sizerChildren,i,s,p=0,E=t.length;p<E;p++)i=t[p],!i.rexSizer.hidden&&(s=i.rexSizer.proportion,s>0?e+=s:s===0&&(this.hasProportion0Child=!0));return e};const Yb=Phaser.Utils.Objects.IsPlainObject,js=Phaser.Utils.Objects.GetValue;class qe extends Qu{constructor(t,i,s,p,E,n,T){Yb(i)?(T=i,i=js(T,"x",0),s=js(T,"y",0),p=js(T,"width",void 0),E=js(T,"height",void 0),n=js(T,"orientation",0)):Yb(p)?(T=p,p=js(T,"width",void 0),E=js(T,"height",void 0),n=js(T,"orientation",0)):Yb(n)&&(T=n,n=js(T,"orientation",0)),n===void 0&&(n=0),super(t,i,s,p,E,T),this.type="rexSizer",this.sizerChildren=[],this.setOrientation(n),this.setItemSpacing(js(T,"space.item",0)),this.setStartChildIndex(js(T,"startChildIndex",0)),this.setRTL(js(T,"rtl",!1)),this.addChildrenMap("items",this.sizerChildren)}setOrientation(t){return this.orientation=Ju(t),this}setItemSpacing(t){return this.space.item=t,this}setStartChildIndex(t){return this.startChildIndex=t,this}setRTL(t){return t===void 0&&(t=!0),this.rtl=t,this}get childrenProportion(){return this._childrenProportion===void 0&&(this._childrenProportion=amt.call(this)),this._childrenProportion}}Object.assign(qe.prototype,kk);var cy=function(e,t,i){if(e){var s=t==null,p=i==null;return s&&p||(s||(e.displayWidth=t),p||(e.displayHeight=i),s&&(e.scaleX=e.scaleY),p&&(e.scaleY=e.scaleX)),e}},omt=function(e){e===void 0?e={}:typeof e=="string"&&(e={text:e});var t=e.text||"";this.setText(t);var i=this.childrenMap.icon;if(i){e.icon?this.show(i):this.hide(i);var s=e.iconSize;s&&(this.setChildDisplaySize(i,s,s),this.iconWidth!==void 0&&this.setIconSize(s)),e.icon!==!0&&this.setIconTexture(e.icon,e.iconFrame)}var p=this.childrenMap.action;if(p){e.action?this.show(p):this.hide(p);var E=e.actionSize;E&&(this.setChildDisplaySize(p,E,E),this.actionWidth!==void 0&&this.setActionSize(E)),e.action!==!0&&this.setActionTexture(e.action,e.actionFrame)}return this},lmt={appendText:R9,resetDisplayContent:omt};class ZM extends qe{get text(){var t=this.childrenMap.text;return t?t.text:""}set text(t){var i=this.childrenMap.text;i&&i.setText(t)}setText(t){return this.text=t,this}setIconTexture(t,i){var s=this.childrenMap.icon;return!s||!s.setTexture?this:(s.setTexture(t,i),this.iconWidth!==void 0&&this.iconHeight!==void 0&&(cy(s,this.iconWidth,this.iconHeight),this.resetChildScaleState(s)),this)}setTexture(t,i){return this.setIconTexture(t,i),this}setIconSize(t,i){return i===void 0&&(i=t),this.iconWidth=t,this.iconHeight=i,this}get texture(){var t=this.childrenMap.icon;if(t)return t.texture}get frame(){var t=this.childrenMap.icon;if(t)return t.frame}setActionTexture(t,i){var s=this.childrenMap.action;return!s||!s.setTexture?this:(s.setTexture(t,i),this.actionWidth!==void 0&&this.actionHeight!==void 0&&(cy(s,this.actionWidth,this.actionHeight),this.resetChildScaleState(s)),this)}get actionTexture(){var t=this.childrenMap.action;if(t)return t.texture}get actionFrame(){var t=this.childrenMap.action;if(t)return t.frame}setActionSize(t,i){return i===void 0&&(i=t),this.actionWidth=t,this.actionHeight=i,this}preLayout(){var t=this.childrenMap.icon;t&&this.iconWidth!==void 0&&this.iconHeight!==void 0&&cy(t,this.iconWidth,this.iconHeight);var i=this.childrenMap.action;i&&this.actionWidth!==void 0&&this.actionHeight!==void 0&&cy(i,this.actionWidth,this.actionHeight),super.preLayout()}postLayout(t,i,s){var p=this.childrenMap.iconMask;p&&(p.setPosition(),this.resetChildPositionState(p));var E=this.childrenMap.actionMask;return E&&(E.setPosition(),this.resetChildPositionState(E)),super.postLayout(t,i,s),this}resize(t,i){super.resize(t,i);var s=this.childrenMap.iconMask;s&&s.resize();var p=this.childrenMap.actionMask;return p&&p.resize(),this}}Object.assign(ZM.prototype,lmt);var za=function(e,t,i,s){var p=new hx(t,i,s);if(e&&!e.isRexSizer){var E=p.createGeometryMask();e.setMask(E),this.once("destroy",function(){e.setMask(),E.destroy()})}return this.pin(p),p};const hmt=Phaser.GameObjects.Text;var JM=function(e){return e instanceof hmt};const umt=Phaser.GameObjects.BitmapText;var Nk=function(e){return e instanceof umt};const An=0,On=1,Os=2;var Oh=function(e){var t;return Nk(e)?t=Os:JM(e)?t=An:t=On,t},fmt=function(e,t){for(var i=[],s=e.split(`
`),p=t.style,E=p.wordWrapWidth,n=p.hasOwnProperty("wrapMode")?p.wrapMode:3,T=t.context,r=0,o=s.length;r<o;r++)cmt(T,s[r],E,n,i);return i},dmt=function(e,t){var i;if(t===2)i=e.split("");else{i=[];for(var s=e.split(" "),p,E=0,n=s.length;E<n;E++)p=s[E],E<n-1?Cp(p)?i.push(p+" "):(i.push(...p.split("")),i.push(" ")):p!==""&&(Cp(p)?i.push(p):i.push(...p.split("")))}return i},cmt=function(e,t,i,s,p){if(t.length<=100){var E=e.measureText(t).width;if(E<=i)return p.push(t),p}for(var n=dmt(t,s),T,r,o=[],x=i,d=0,h=n.length;d<h;d++)T=n[d],r=e.measureText(T).width,x-=r,x<0&&(p.push(o.join("")),o.length=0,x=i-r),o.push(T);return o.length>0&&p.push(o.join("")),p},ew=function(e,t){var i=Oh(e);switch(i){case An:switch(typeof t=="string"&&(t=tx[t]||0),e.style.wrapMode=t,t){case 2:case 3:e.style.wordWrapCallback=fmt;break;case 1:default:e.style.wordWrapCallback=null;break}break;case On:typeof t=="string"&&(t=tx[t]||0),e.style.wrapMode=t;break}},vmt=function(e){var t=function(i){var s=e.padding,p=i-(s.left+s.right)*e.scaleX,E=e.style;return JM(e)?(E.wordWrapWidth=p,E.maxLines=0):(E.wrapMode===0&&(E.wrapMode=1),E.wrapWidth=p,E.maxLines=0),E.fixedWidth=i,E.fixedHeight=0,e.updateText(),e.minHeight=e.height,e};return t},pmt=function(e){var t=function(i){return e.setFixedSize(i,0).runWordWrap(),e.minHeight=e.height,e};return t},gmt=function(e){var t=function(i){return e.setMaxWidth(i),e.minHeight=e.height,e};return t},mmt=function(e){return e instanceof jd},ux=function(e,t){return t===void 0&&(t=0),e._minWidth=t,e.runWidthWrap=mmt(e)?pmt(e):Nk(e)?gmt(e):vmt(e),e};const Xb=65535;var fx=function(e,t,i){if(t==null)return e;if(t===0)return Hb(e,0,i),e;var s=e.text.length;if(s===0)return Hb(e,t,i),e;var p=Math.floor(t*1.5/s);i!==void 0&&p>i&&(p=Math.floor(i));for(var E={},n=lB(e,p,t,i,E),T=0;T<=Xb&&n!==0;T++){if(p+=n,p<0){p=0;break}n=lB(e,p,t,i,E)}return T===Xb&&console.warn(`FontSizeFit: Test count exceeds ${Xb}`),e.setFontSize(p),Hb(e,t,i),e},oB=function(e,t,i){return i[t]===void 0&&(e.setFontSize(t),i[t]={width:e.width,height:e.height}),i[t]},lB=function(e,t,i,s,p){var E=oB(e,t,p),n=oB(e,t+1,p),T;if(s!==void 0)if(E.height<=s&&n.height>s)T=0;else{if(E.height>s)return-1;T=Math.floor(s-E.height)}var r;if(E.width<=i&&n.width>i)return 0;if(E.width>i)return-1;var r=Math.floor(i-E.width);return T===void 0?r:Math.min(r,T)},Hb=function(e,t,i){var s=e.style;s&&(s.fixedWidth=t,s.parent.width=t,i!==void 0&&(s.fixedHeight=i,s.parent.height=i),s.update(!1))};const $b=Phaser.Utils.Objects.GetValue;var dx=function(e,t){typeof t=="number"&&(t={minWidth:t});var i=$b(t,"minWidth",0),s=$b(t,"minHeight",0),p=$b(t,"fitHeight",!1);return e._minWidth=i,e._minHeight=s,p?(e.runWidthWrap=function(E){return e.setFixedSize&&e.setFixedSize(0,0),e.setFontSize(1),e},e.resize=function(E,n){return fx(e,E,n),e}):(e.runWidthWrap=function(E){return e.setFixedSize&&e.setFixedSize(0,0),fx(e,E,void 0),e},e.resize=function(E,n){return e.width===E&&e.height===n||e.setFixedSize(E,n),e}),e};const di=Phaser.Utils.Objects.GetValue;class Sl extends ZM{constructor(t,i){i===void 0&&(i={}),super(t,i),this.type="rexLabel";var s=di(i,"background",void 0),p=di(i,"icon",void 0),E=di(i,"iconMask",void 0),n=di(i,"text",void 0),T=di(i,"action",void 0),r=di(i,"actionMask",void 0),o=di(i,"align",void 0);if(s&&this.addBackground(s),p){var x;this.orientation===0?(n||T)&&(x={right:di(i,"space.icon",0),top:di(i,"space.iconTop",0),bottom:di(i,"space.iconBottom",0),left:di(i,"space.iconLeft",0)}):(n||T)&&(x={bottom:di(i,"space.icon",0),left:di(i,"space.iconLeft",0),right:di(i,"space.iconRight",0),top:di(i,"space.iconTop",0)});var d=di(i,"squareFitIcon",!1)?1:0;if(this.add(p,{proportion:0,padding:x,fitRatio:d}),E&&(E=za.call(this,p,p,1)),!d){var h=di(i,"iconSize",void 0);this.setIconSize(di(i,"iconWidth",h),di(i,"iconHeight",h))}}if(n){var l=di(i,"wrapText",!1),a=di(i,"adjustTextFontSize",!1);l?(l===!0&&(l="word"),ew(n,l),i.expandTextWidth=!0,ux(n)):a&&(i.expandTextWidth=!0,i.expandTextHeight=!0,dx(n,{fitHeight:!0}));var f=di(i,"space.text",0),c=di(i,"expandTextWidth",!1),u=di(i,"expandTextHeight",!1),v,x,g;this.orientation===0?(v=c?1:0,T&&(x={right:f}),g=u):(v=u?1:0,T&&(x={bottom:f}),g=c),this.add(n,{proportion:v,expand:g,padding:x})}if(T){var x;this.orientation===0?x={top:di(i,"space.actionTop",0),bottom:di(i,"space.actionBottom",0),right:di(i,"space.actionRight",0)}:x={left:di(i,"space.actionLeft",0),right:di(i,"space.actionRight",0),bottom:di(i,"space.actionBottom",0)};var d=di(i,"squareFitAction",!1)?1:0;if(this.add(T,{proportion:0,padding:x,fitRatio:d}),r&&(r=za.call(this,T,T,1)),!d){var m=di(i,"actionSize");this.setActionSize(di(i,"actionWidth",m),di(i,"actionHeight",m))}}this.setChildrenAlignMode(o),this.addChildrenMap("background",s),this.addChildrenMap("icon",p),this.addChildrenMap("iconMask",E),this.addChildrenMap("text",n),this.addChildrenMap("action",T),this.addChildrenMap("actionMask",r)}}const vh=Phaser.Utils.Objects.GetValue;var ymt=function(e,t){var i=vh(t,"canvas"),s=vh(i,"width",128),p=vh(i,"height",128),E=new Zu(e,0,0,s,p);e.add.existing(E);var n=vh(i,"key"),T=vh(i,"frame"),r=vh(i,"fill");return r!==void 0?E.fill(r):n!==void 0&&E.loadTexture(n,T),E.setTexture=E.loadTexture.bind(E),E},xmt=function(e,t){var i=new nT(e,{scaleUp:vh(t,"scaleUpIcon",!1),background:vh(t,"iconBackground"),image:ymt(e,t)});return e.add.existing(i),i};const Tmt=Phaser.Utils.Objects.GetValue;var Uk=function(e,t){var i=Tmt(t,"clickTarget",this);return typeof i=="string"&&(i=e.getElement(i)),i};const Cmt=Phaser.Utils.Objects.GetValue;var Smt=function(e,t){var i=Uk(e,t);if(i){var s=Cmt(t,"click"),p=new xl(i,s);return p.on("click",e.open,e),p}};const Vk={accept:"image/*",multiple:!1};var zk=function(e,t){if(t.length!==0){var i=e.childrenMap.icon,s=i.image,p=t[0];return s.loadFromFilePromise(p).then(function(){return i.scaleImage(),e.emit("select",p,e),Promise.resolve(p)})}},Emt=function(e,t){var i=e.scene,s=new qp(i,Vk);return i.add.existing(s),e.pin(s),s.on("change",function(){zk(e,s.files)}),s};const bmt={async openPromise(){var e=this;return Ok(this.scene.game,Vk).then(function(t){return zk(e,t.files)})},open(){return this.openPromise(),this},setClickOpenEnable(e){return e===void 0&&(e=!0),this.clickBehavior&&this.clickBehavior.setEnable(e),this.fileChooser&&this.fileChooser.setOpenEnable(e),this}};var Pmt=function(e){if(!e)return null;var t=e.name;return t.substr(0,t.lastIndexOf("."))},wmt=function(e){var t=this.childrenMap.canvas;return t.generateTexture(e),this},Wk={getFileName:Pmt,saveTexture:wmt};Object.assign(Wk,bmt);const Mmt=Phaser.Utils.Objects.GetValue;class jM extends Sl{constructor(t,i){var s=xmt(t,i);i.icon=s,super(t,i),this.type="rexImageFileInputLabel";var p=this.iconWidth,E=this.iconWidth;p!==void 0&&E!==void 0&&s.resize(p,E),this.clickTarget=Uk(this,i),this.clickTarget&&(Mmt(i,"domButton",!0)?this.fileChooser=Emt(this):this.clickBehavior=Smt(this,i)),this.addChildrenMap("canvas",s.image),this.addChildrenMap("iconBackground",s.background),this.addChildrenMap("fileChooser",this.fileChooser)}postLayout(t,i,s){this.fileChooser&&(this.fileChooser.syncTo(this.clickTarget),this.resetChildState(this.fileChooser)),super.postLayout(t,i,s)}}Object.assign(jM.prototype,Wk);It.register("imageInputLabel",function(e){var t=new jM(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.ImageInputLabel",jM);let Rmt=class extends ji{constructor(t,i){return super(t),new Proxy(this,this)}get(t,i){if(gi(t,i))return t[i];var s=t.parent;if(gi(s,i))return s[i]}set(t,i,s){return gi(t,i)?t[i]=s:gi(t.parent,i)&&(t.parent[i]=s),!0}get key(){return this.parent.texture.key}set key(t){this.parent.setTexture(t,this.frame)}get frame(){return this.parent.frame.name}set frame(t){this.parent.setFrame(t)}get scale(){return this.parent.scaleX}set scale(t){this.parent.setScale(t)}};const Kb=Phaser.Utils.Objects.GetValue;class Amt extends ji{constructor(t,i){super(t,i),this.style=Kb(i,"style",this);var s=Kb(i,"propertiesMap");this.activeStyle=Zb(i,"active",s),this.hoverStyle=Zb(i,"hover",s),this.disableStyle=Zb(i,"disable",s),this.onModifyStyle=Kb(i,"onModifyStyle")}getStyle(t){return Nx(this.style,t)}modifyStyle(t){for(var i in t)this.style[i]=t[i];return this.onModifyStyle&&this.onModifyStyle(this.parent,t),this}applyStyle(t){if(t){var i=this.getStyle(t);if(!Vp(i,t))return this.modifyStyle(t),i}}setActiveState(t){return Jb.call(this,"active",t),this}setHoverState(t){return Jb.call(this,"hover",t),this}setDisableState(t){return Jb.call(this,"disable",t),this}}var Zb=function(e,t,i){var s=Hy(e,t);if(i)for(var p in s)i.hasOwnProperty(p)&&(s[i[p]]=s[p],delete s[p]);return s},Jb=function(e,t){t===void 0&&(t=!0);var i=`${e}State`,s=`${e}Style`,p=`${e}StyleSave`;this[i]!==t&&(this[i]=t,t?this[p]=this.applyStyle(this[s]):(this.applyStyle(this[p]),this[p]=void 0))};const qu={addStyleManager(e){return this.styleManager=new Amt(this,e),this},setActiveState(e){return this.styleManager.setActiveState(e),this},setHoverState(e){return this.styleManager.setHoverState(e),this},setDisableState(e){return this.styleManager.setDisableState(e),this}},Omt=Phaser.GameObjects.Image,np=Phaser.Utils.Objects.GetValue;class _p extends Omt{constructor(t,i){i===void 0&&(i={});var s=np(i,"x",0),p=np(i,"y",0),E=np(i,"key",""),n=np(i,"frame",void 0);super(t,s,p,E,n),this.type="rexStatesImage";var T=np(i,"effects",!0);T&&Qd(this,T),this.style=new Rmt(this,i),i.style=this.style,this.addStyleManager(i),delete i.style}}Object.assign(_p.prototype,qu);It.register("statesImage",function(e){var t=new _p(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.StatesImage",_p);class tg extends Hu{constructor(t,i){i===void 0&&(i={}),super(t,i),this.type="rexStatesRoundRectangleShape",i.style=this,i.propertiesMap=Lmt,this.addStyleManager(i),delete i.style,delete i.propertiesMap}}const Lmt={color:"fillColor",alpha:"fillAlpha",strokeWidth:"lineWidth"};Object.assign(tg.prototype,qu);It.register("statesRoundRectangle",function(e){var t=new tg(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.StatesRoundRectangle",tg);let Dmt=class extends ji{constructor(t,i){return super(t),new Proxy(this,this)}get(t,i){if(gi(t,i))return t[i];var s=t.parent;if(gi(s,i))return s[i]}set(t,i,s){return gi(t,i)?t[i]=s:gi(t.parent,i)&&(t.parent[i]=s),!0}get key(){return this.parent.texture.key}set key(t){this.key!==t&&this.parent.setTexture(t,this.frame)}get frame(){return this.parent.frame.name}set frame(t){this.frame!==t&&this.parent.setFrame(t)}};const Fmt=Phaser.GameObjects.NineSlice,Aa=Phaser.Utils.Objects.GetValue;class eg extends Fmt{constructor(t,i){i===void 0&&(i={});var s=Aa(i,"x",0),p=Aa(i,"y",0),E=Aa(i,"key",null),n=Aa(i,"frame",null),T=Aa(i,"width",0),r=Aa(i,"height",0),o=Aa(i,"leftWidth",0),x=Aa(i,"rightWidth",0),d=Aa(i,"topHeight",0),h=Aa(i,"bottomHeight",0);super(t,s,p,E,n,T,r,o,x,d,h),this.type="rexStatesNineSlice";var l=Aa(i,"effects",!0);l&&Qd(this,l),this.style=new Dmt(this,i),i.style=this.style,this.addStyleManager(i),delete i.style}}Object.assign(eg.prototype,qu);It.register("statesNineSlice",function(e){var t=new eg(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.StatesNineSlice",eg);let Imt=class extends ji{constructor(t,i){return super(t),new Proxy(this,this)}get(t,i){if(gi(t,i))return t[i];var s=t.parent;if(gi(s,i))return s[i]}set(t,i,s){return gi(t,i)?t[i]=s:gi(t.parent,i)&&(t.parent[i]=s),!0}get key(){return this.parent.textureKey}set key(t){this.key!==t&&this.parent.setBaseTexture(t,this.baseFrameName)}get frame(){return this.parent.baseFrameName}set frame(t){this.frame!==t&&this.parent.setBaseTexture(this.parent.textureKey,t)}};const Bmt=Phaser.Utils.Objects.GetValue;class ig extends Rx{constructor(t,i){i===void 0&&(i={}),super(t,i),this.type="rexStatesNinePatch";var s=Bmt(i,"effects",!0);s&&Qd(this,s),this.style=new Imt(this,i),i.style=this.style,this.addStyleManager(i),delete i.style}}Object.assign(ig.prototype,qu);It.register("statesNinePatch",function(e){var t=new ig(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.StatesNinePatch",ig);const Gmt=Phaser.GameObjects.Text,jb=Phaser.Utils.Objects.GetValue;class aT extends Gmt{constructor(t,i){i===void 0&&(i={});var s=jb(i,"x",0),p=jb(i,"y",0),E=jb(i,"text","");super(t,s,p,E,i),this.type="rexStatesText",i.style=this.style,i.onModifyStyle=function(n,T){var r=T.hasOwnProperty("fontStyle")||T.hasOwnProperty("fontSize")||T.hasOwnProperty("fontFamily");n.style.update(r)},this.addStyleManager(i),delete i.style}}Object.assign(aT.prototype,qu);It.register("statesText",function(e){var t=new aT(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.StatesText",aT);class kmt extends ji{constructor(t,i){return super(t),new Proxy(this,this)}get(t,i){if(gi(t,i))return t[i];var s=t.parent;if(gi(s,i))return s[i]}set(t,i,s){return gi(t,i)?t[i]=s:gi(t.parent,i)&&(t.parent[i]=s),!0}get key(){return this.parent.texture.key}set key(t){this.parent.setTexture(t,this.frame)}get fontSize(){return this.parent.fontSize}set fontSize(t){this.parent.setFontSize(t)}get tint(){return this.parent.tintTopLeft}set tint(t){this.parent.setTint(t)}get letterSpacing(){return this.parent.letterSpacing}set letterSpacing(t){this.parent.setLetterSpacing(t)}get lineSpacing(){return this.parent.lineSpacing}set lineSpacing(t){this.parent.setLineSpacing(t)}}const Nmt=Phaser.GameObjects.BitmapText,Pu=Phaser.Utils.Objects.GetValue;class oT extends Nmt{constructor(t,i){i===void 0&&(i={});var s=Pu(i,"x",0),p=Pu(i,"y",0),E=Pu(i,"font",""),n=Pu(i,"fontSize",!1),T=Pu(i,"align",0),r=Pu(i,"tint");super(t,s,p,E,"",n,T),this.type="rexStatesBitmapText",r!==void 0&&this.setTint(r);var o=Pu(i,"effects",!0);o&&Qd(this,o),this.style=new kmt(this,i),i.style=this.style,this.addStyleManager(i),delete i.style}}Object.assign(oT.prototype,qu);It.register("statesBitmapText",function(e){var t=new oT(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.StatesBitmapText",oT);class lT extends zx{constructor(t,i){i===void 0&&(i={}),i.hasOwnProperty("value")||(i.value=0),i.hasOwnProperty("hover.bar")||(i["hover.bar"]=!0),i.hasOwnProperty("easeDuration")||(i.easeDuration=200),i.hasOwnProperty("ease")||(i.ease="Quad"),Lt(i,"easeValue.duration",i.easeDuration),Lt(i,"easeValue.ease",i.ease),super(t,i),this.type="rexStatesBarRectangleShape",this.barState=!1,i.style=this,i.propertiesMap=Umt,this.addStyleManager(i),delete i.style,delete i.propertiesMap}get bar(){return this.barState}set bar(t){t=!!t,this.barState!==t&&(this.barState=t,this.easeValueTo(this.barState?1:0))}}const Umt={color:"trackColor",strokeColor:"trackStrokeColor",strokeWidth:"trackStrokeThickness"};Object.assign(lT.prototype,qu);It.register("statesBarRectangle",function(e){var t=new lT(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.StatesBarRectangle",lT);var Vmt=function(e){if(!window.Chart){var t=`Can not find chartjs! Load chartjs in preload stage.
scene.load.script('chartjs', 'https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.8.0/Chart.min.js');`;return console.error(t),this}return this.chart&&this.chart.destroy(),this.chart=new Chart(this.context,zmt(this,e)),this},zmt=function(e,t){t===void 0&&(t={}),t.options===void 0&&(t.options={});var i=t.options;i.responsive=!1,i.maintainAspectRatio=!1,i.hasOwnProperty("devicePixelRatio")||(i.devicePixelRatio=1);var s=!1;i.animation===void 0?i.animation={}:i.animation===!1&&(s=!0,i.animation={});var p=i.animation;s&&(p.duration=0);var E=p.onProgress;p.onProgress=function(T){E&&E(T),e.needRedraw()};var n=p.onComplete;return p.onComplete=function(T){n&&n(T),e.needRedraw()},t},Wmt=function(e){if(this.chart!==void 0)if(typeof e=="string"){for(var t=this.chart.data.datasets,i,s=0,p=t.length;s<p;s++)if(i=t[s],i.label===e)return i}else return this.chart.data.datasets[e]},Ymt=function(e,t){var i=this.getChartDataset(e);if(i!==void 0){if(typeof t=="string"){var s=this.chart.data.labels;if(t=s.indexOf(t),t===-1)return}return i.data[t]}},Xmt=function(e,t,i){if(this.chart===void 0)return this;var s=this.getChartDataset(e);if(typeof t=="string"){var p=this.chart.data.labels;if(t=p.indexOf(t),t===-1)return this}return s.data[t]=i,this},Hmt=function(){return this.chart===void 0?this:(this.chart.update(),this)};let QM=class extends Zu{constructor(t,i,s,p,E,n){super(t,i,s,p,E),this.type="rexChart",this.chart=void 0,n!==void 0&&this.setChart(n)}destroy(t){this.scene&&(this.chart&&(this.chart.destroy(),this.chart=void 0),super.destroy(t))}resize(t,i){if(t===this.width&&i===this.height)return this;if(super.resize(t,i),this.chart){var s=this.chart;s.height=this.canvas.height,s.width=this.canvas.width,s.aspectRatio=s.height?s.width/s.height:null,s.update()}return this}};var $mt={setChart:Vmt,getChartDataset:Wmt,getChartData:Ymt,setChartData:Xmt,updateChart:Hmt};Object.assign(QM.prototype,$mt);It.register("chart",function(e,t,i,s,p){var E=new QM(this.scene,e,t,i,s,p);return this.scene.add.existing(E),E});Lt(window,"RexPlugins.UI.Chart",QM);It.register("container",function(e,t,i,s,p){var E=new Bs(this.scene,e,t,i,s,p);return this.scene.add.existing(E),E});Lt(window,"RexPlugins.UI.Container",Bs);It.register("sizer",function(e,t,i,s,p,E){var n=new qe(this.scene,e,t,i,s,p,E);return this.scene.add.existing(n),n});Lt(window,"RexPlugins.UI.Sizer",qe);var Yk=function(){return Array.prototype.reduce.call(arguments,Kmt,0)},Kmt=function(e,t){return e+t},Zmt=function(e){if(this.rexSizer.hidden)return 0;e===void 0&&(e=!0);var t=0,i,s=this.sizerChildren,p,E,n,T,r=!1;this.totalColumnProportions;for(var o=0;o<this.columnCount;o++){if(T=this.columnProportions[o],i=0,T===0||e){for(var x=0;x<this.rowCount;x++)p=s[x*this.columnCount+o],p&&(p.rexSizer.hidden||(n=this.getChildWidth(p),n===void 0&&(T!==0&&!this.hasColumnProportion0Child?n=0:r=!0),!r&&(E=p.rexSizer.padding,n+=(E.left+E.right)*this.scaleX,i=Math.max(i,n))));r||(t+=i)}r||e&&(this.columnWidth[o]=i)}if(!r){var d=Math.max(this.space.indentLeftOdd,this.space.indentLeftEven),h=Yk(this.space.left,d,...this.space.column,this.space.right);return t+h*this.scaleX}},Jmt=function(e){if(this.rexSizer.hidden)return 0;e===void 0&&(e=!0);var t=0,i,s=this.sizerChildren,p,E,n,T,r=!1;this.totalRowProportions;for(var o=0;o<this.rowCount;o++){if(T=this.rowProportions[o],i=0,T===0||e){for(var x=0;x<this.columnCount;x++)p=s[o*this.columnCount+x],p&&(p.rexSizer.hidden||(n=this.getChildHeight(p),n===void 0&&(T!==0&&!this.hasRowProportion0Child?n=0:r=!0),!r&&(E=p.rexSizer.padding,n+=(E.top+E.bottom)*this.scaleY,i=Math.max(i,n))));r||(t+=i)}r||e&&(this.rowHeight[o]=i)}if(!r){var d=Math.max(this.space.indentTopOdd,this.space.indentTopEven),h=Yk(this.space.top,d,...this.space.row,this.space.bottom);return t+h*this.scaleY}},jmt=function(e,t){var i,s=e.rexSizer;if(s.expandWidth){var p=s.padding;i=t-(p.left+p.right)*this.scaleX}return i},Qmt=function(e,t){var i,s=e.rexSizer;if(s.expandHeight){var p=s.padding;i=t-(p.top+p.bottom)*this.scaleY}return i},qmt=function(e){e===void 0&&(e=[]);for(var t=this.sizerChildren,i,s=0,p=t.length;s<p;s++)i=t[s],i&&i.isRexSizer&&e.push(i);return e},_mt=function(){return this._totalColumnProportions=void 0,this._totalRowProportions=void 0,this.hasColumnProportion0Child=!1,this.hasRowProportion0Child=!1,this.proportionWidthLength=void 0,this.proportionHeightLength=void 0,Zp.call(this),this},t0t=function(){for(var e,t,i,s=this.innerLeft,p=this.innerTop,E,n=p,T,r,o,x,d,h,l,a,f,c,u,v,g=0;g<this.rowCount;g++){c=this.getRowHeight(g),u=g%2?this.space.indentLeftEven:this.space.indentLeftOdd,E=s+u*this.scaleX;for(var m=0;m<this.columnCount;m++){if(f=this.getColumnWidth(m),e=this.getChildAt(m,g),!e||e.rexSizer.hidden){E+=f+this.space.column[m]*this.scaleX;continue}Jp.call(this,e),l=this.getExpandedChildWidth(e,f),a=this.getExpandedChildHeight(e,c),e.isRexSizer?(e.runLayout(this,l,a),VM(e,this)):Rn(e,l,a),t=e.rexSizer,i=t.padding,T=E+i.left*this.scaleX,o=f-(i.left+i.right)*this.scaleX,v=m%2?this.space.indentTopEven:this.space.indentTopOdd,r=n+v*this.scaleY+i.top*this.scaleY,x=c-(i.top+i.bottom)*this.scaleY,l===void 0&&(l=mi(e)),a===void 0&&(a=yi(e)),d=(t.alignOffsetX+t.alignOffsetOriginX*l)*this.scaleX,h=(t.alignOffsetY+t.alignOffsetOriginY*a)*this.scaleY,jp.call(this,e,T,r,o,x,t.align,d,h),E+=f+this.space.column[m]*this.scaleX}n+=c+this.space.row[g]*this.scaleY}},e0t=function(t){var t=SM.call(this,t);if(t!==void 0&&this.proportionWidthLength===void 0){var i=this.totalColumnProportions;if(i>0){var s=t-this.getChildrenWidth(!1);s>=0&&(this.proportionWidthLength=s/i)}else this.proportionWidthLength=0}return t},i0t=function(t){var t=PM.call(this,t);if(t!==void 0&&this.proportionHeightLength===void 0){var i=this.totalRowProportions;if(i>0){var s=t-this.getChildrenHeight(!1);s>=0&&(this.proportionHeightLength=s/i)}else this.proportionHeightLength=0}return t},r0t=function(e){var t,i,s,p;for(var E in this.sizerChildren)t=this.sizerChildren[E],t&&t.isRexSizer&&!t.ignoreLayout&&(p=this.getColumnWidth(parseInt(E)%this.columnCount),i=this.getExpandedChildWidth(t,p),s=t.resolveWidth(i),s===void 0&&(s=i),t.resolveChildrenWidth(s))},n0t=function(e){var t,i,s,p;for(var E in this.sizerChildren)t=this.sizerChildren[E],t&&t.isRexSizer&&!t.ignoreLayout&&(p=this.getRowHeight(Math.floor(parseInt(E)/this.rowCount)),i=this.getExpandedChildHeight(t,p),s=t.resolveHeight(i),s===void 0&&(s=i),t.resolveChildrenHeight(s))},s0t=function(e){var t,i,s,p;for(var E in this.sizerChildren)t=this.sizerChildren[E],!(!t||t.isRexSizer&&t.ignoreLayout||!t.runWidthWrap)&&(p=this.getColumnWidth(parseInt(E)%this.columnCount),i=this.getExpandedChildWidth(t,p),t.isRexSizer&&(s=t.resolveWidth(i),s===void 0&&(s=i)),t.runWidthWrap(s));return this},a0t=function(e){var t,i,s,p;for(var E in this.sizerChildren)t=this.sizerChildren[E],!(!t||t.isRexSizer&&t.ignoreLayout||!t.runHeightWrap)&&(p=this.getRowHeight(Math.floor(parseInt(E)/this.rowCount)),i=this.getExpandedChildHeight(t,p),t.isRexSizer&&(s=t.resolveHeight(i),s===void 0&&(s=i)),t.runHeightWrap(s));return this};const hB=Phaser.Utils.Objects.IsPlainObject,Qs=Phaser.Utils.Objects.GetValue,uB=Phaser.Display.Align.CENTER;var fB=function(e,t,i,s,p){if(typeof e=="number"||typeof t=="number")if(e===void 0){for(var E,n=0;n<s;n++)if(E=t*s+n,!i[E])return E}else if(t===void 0){for(var E,n=0;n<p;n++)if(E=n*s+e,!i[E])return E}else{var E=t*s+e;if(!i[E])return E}else if(t===!0){for(var E,n=0;n<s;n++)for(var T=0;T<p;T++)if(E=T*s+n,!i[E])return E}else for(var n=0,r=i.length;n<r;n++)if(!i[n])return n;return null},o0t=function(e,t,i,s,p,E,n){var T,r,o,x;if($p.call(this,e),hB(t)){var h=t;t=Qs(h,"column",void 0),i=Qs(h,"row",void 0),s=Qs(h,"align",uB),p=Qs(h,"padding",0),E=Qs(h,"expand",!1),n=Qs(h,"key",void 0),T=Qs(h,"offsetX",0),r=Qs(h,"offsetY",0),o=Qs(h,"offsetOriginX",0),x=Qs(h,"offsetOriginY",0)}var d=fB(t,i,this.sizerChildren,this.columnCount,this.rowCount);if(d===null){if(typeof t=="number"&&typeof i=="number")return this;i===!0||typeof i=="number"?this.addEmptyColumn():this.addEmptyRow(),d=fB(t,i,this.sizerChildren,this.columnCount,this.rowCount)}typeof s=="string"&&(s=ec[s]),s===void 0&&(s=uB),p===void 0&&(p=0),E===void 0&&(E=!0),T===void 0&&(T=0),r===void 0&&(r=0),o===void 0&&(o=0),x===void 0&&(x=0);var h=this.getSizerConfig(e);return h.align=s,h.padding=ju(p),hB(E)?(h.expandWidth=Qs(E,"width",!1),h.expandHeight=Qs(E,"height",!1)):(h.expandWidth=E,h.expandHeight=E),h.alignOffsetX=T,h.alignOffsetY=r,h.alignOffsetOriginX=o,h.alignOffsetOriginY=x,this.sizerChildren[d]=e,n!==void 0&&this.addChildrenMap(n,e),this};const l0t={add:o0t};var zd=function(e,t,i,s){i===void 0&&(i=0),s===void 0&&(s=e.length-1);for(var p=i;p<=s;p++)e[p]=t;return e};const h0t={remove(e,t){if(this.getParentSizer(e)!==this)return this;var i=this.sizerChildren.indexOf(e);return i!==-1&&(this.sizerChildren[i]=null),Kp.call(this,e,t),this},removeAt(e,t,i){var s=this.getChildAt(e,t);return s&&this.remove(s,i),this},removeAll(e){for(var t=this.sizerChildren.length-1;t>=0;t--){var i=this.sizerChildren[t];i&&this.remove(i,e)}return this},clear(e){return zd(this.sizerChildren,null),tT.call(this,e),this}},u0t={setColumnSpace(e){if(this.space.column||(this.space.column=[]),this.space.column.length=this.columnCount-1,typeof e=="number")this.space.column0=e,zd(this.space.column,e);else{this.space.column0=e[0];for(var t=0,i=this.columnCount-1;t<i;t++)this.space.column[t]=e[t]||0}return this},setRowSpace(e){if(this.space.row||(this.space.row=[]),this.space.row.length=this.rowCount-1,typeof e=="number")this.space.row0=e,zd(this.space.row,e);else{this.space.row0=e[t];for(var t=0,i=this.rowCount-1;t<i;t++)this.space.row[t]=e[t]||0}return this},setIndentLeft(e,t){return this.space.indentLeftOdd=e,this.space.indentLeftEven=t,this},setIndentTop(e,t){return this.space.indentTopOdd=e,this.space.indentTopEven=t,this}},dB=Phaser.Utils.Objects.GetValue;var f0t=function(e,t,i,s,p){if(e===void 0&&(e=0),t===void 0&&(t=0),i===void 0&&(i=0),s===void 0&&(s=0),this.columnCount=e,this.rowCount=t,this.gridCount=e*t,this.removeAll(),this.sizerChildren.length=e*t,zd(this.sizerChildren,null),this.columnProportions=[],this.columnProportions.length=e,typeof i=="number")zd(this.columnProportions,i);else for(var E=0;E<e;E++)this.columnProportions[E]=i[E]||0;if(this.rowProportions=[],this.rowProportions.length=t,typeof s=="number")zd(this.rowProportions,s);else for(var E=0;E<t;E++)this.rowProportions[E]=s[E]||0;this.columnWidth=[],this.columnWidth.length=e,this.rowHeight=[],this.rowHeight.length=t,this.setColumnSpace(dB(p,"column",0)),this.setRowSpace(dB(p,"row",0));var n=this.scene,T=this.createCellContainerCallback;if(T)for(var r=0,o=this.rowCount;r<o;r++)for(var x=0,d=this.columnCount;x<d;x++){var h={column:x,row:r},l=T(n,x,r,h);l&&this.add(l,h)}return this},Xk=function(e,t,i){t===void 0&&(t=this.rowProportions[0]||0),i===void 0&&(i=this.space.row0||0),this.rowCount+=1,this.gridCount+=this.columnCount;for(var s=[e*this.columnCount,0],p=0;p<this.columnCount;p++)s.push(null);return this.sizerChildren.splice.apply(this.sizerChildren,s),this.rowProportions.push(t),this.rowHeight.length+=1,this.space.row.splice(e,0,i),this},d0t=function(e,t){return Xk.call(this,this.rowCount,e,t),this},Hk=function(e,t,i){t===void 0&&(t=this.columnProportions[0]||0),i===void 0&&(i=this.space.column0||0),this.columnCount+=1,this.gridCount+=this.rowCount;for(var s=this.rowCount-1;s>=0;s--){var p=s*this.columnCount+e;this.sizerChildren.splice(p,0,null)}return this.columnProportions.push(t),this.columnWidth.length+=1,this.space.column.splice(e,0,i),this},c0t=function(e,t){return Hk.call(this,this.columnCount,e,t),this},$k={getChildrenWidth:Zmt,getChildrenHeight:Jmt,getExpandedChildWidth:jmt,getExpandedChildHeight:Qmt,getChildrenSizers:qmt,preLayout:_mt,layoutChildren:t0t,resolveWidth:e0t,resolveHeight:i0t,resolveChildrenWidth:r0t,resolveChildrenHeight:n0t,runWidthWrap:s0t,runHeightWrap:a0t,resetGrid:f0t,insertEmptyRow:Xk,addEmptyRow:d0t,insertEmptyColumn:Hk,addEmptyColumn:c0t};Object.assign($k,l0t,h0t,u0t,KM);var v0t=function(){for(var e=0,t,i=0;i<this.columnCount;i++)t=this.columnProportions[i],t>0?e+=t:t===0&&(this.hasColumnProportion0Child=!0);return e},p0t=function(){for(var e=0,t,i=0;i<this.rowCount;i++)t=this.rowProportions[i],t>0?e+=t:t===0&&(this.hasRowProportion0Child=!0);return e};const vy=Phaser.Utils.Objects.IsPlainObject,Wi=Phaser.Utils.Objects.GetValue;class Ha extends Qu{constructor(t,i,s,p,E,n,T,r,o,x){vy(i)?(x=i,i=Wi(x,"x",0),s=Wi(x,"y",0),p=Wi(x,"width",void 0),E=Wi(x,"height",void 0),n=Wi(x,"column",x.col||0),T=Wi(x,"row",0),r=Wi(x,"columnProportions",0),o=Wi(x,"rowProportions",0)):vy(p)?(x=p,p=Wi(x,"width",void 0),E=Wi(x,"height",void 0),n=Wi(x,"column",x.col||0),T=Wi(x,"row",0),r=Wi(x,"columnProportions",0),o=Wi(x,"rowProportions",0)):vy(n)?(x=n,n=Wi(x,"column",x.col||0),T=Wi(x,"row",0),r=Wi(x,"columnProportions",0),o=Wi(x,"rowProportions",0)):vy(r)&&(x=r,r=Wi(x,"columnProportions",0),o=Wi(x,"rowProportions",0)),super(t,i,s,p,E,x),this.type="rexGridSizer",this.sizerChildren=[],this.addChildrenMap("items",this.sizerChildren),this.setCreateCellContainerCallback(Wi(x,"createCellContainerCallback")),this.setIndentLeft(Wi(x,"space.indentLeftOdd",0),Wi(x,"space.indentLeftEven",0)),this.setIndentTop(Wi(x,"space.indentTopOdd",0),Wi(x,"space.indentTopEven",0)),this.resetGrid(n,T,r,o,Wi(x,"space",void 0))}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.columnProportions=void 0,this.rowProportions=void 0,this.columnWidth=void 0,this.rowHeight=void 0,this.createCellContainerCallback=void 0)}setColumnProportion(t,i){return t>=this.columnProportions.length?this:(this.columnProportions[t]=i,this)}setRowProportion(t,i){return t>=this.rowProportions.length?this:(this.rowProportions[t]=i,this)}get totalColumnProportions(){return this._totalColumnProportions===void 0&&(this._totalColumnProportions=v0t.call(this)),this._totalColumnProportions}get totalRowProportions(){return this._totalRowProportions===void 0&&(this._totalRowProportions=p0t.call(this)),this._totalRowProportions}getChildAt(t,i){return this.sizerChildren[i*this.columnCount+t]}childToGridIndex(t,i){if(!t)return null;var s=this.sizerChildren.indexOf(t);return s===-1?null:(i===void 0&&(i={}),i.x=s%this.columnCount,i.y=Math.floor(s/this.columnCount),i)}getColumnWidth(t){var i=this.columnProportions[t],s=i===0?this.columnWidth[t]:i*this.proportionWidthLength;return s}getRowHeight(t){var i=this.rowProportions[t],s=i===0?this.rowHeight[t]:i*this.proportionHeightLength;return s}setCreateCellContainerCallback(t){return this.createCellContainerCallback=t,this}}Object.assign(Ha.prototype,$k);It.register("gridSizer",function(e,t,i,s,p,E,n,T,r){var o=new Ha(this.scene,e,t,i,s,p,E,n,T,r);return this.scene.add.existing(o),o});Lt(window,"RexPlugins.UI.GridSizer",Ha);var g0t=function(e){if(this.rexSizer.hidden)return 0;e===void 0&&(e=!0);var t;if(this.orientation===0?e?t=this.maxChildWidth:t=this.rexSizer.resolved?this.wrapResult.width:void 0:t=this.rexSizer.resolved?this.wrapResult.width:void 0,t!==void 0)return t+(this.space.left+this.space.right)*this.scaleX},m0t=function(e){if(this.rexSizer.hidden)return 0;e===void 0&&(e=!0);var t;if(this.orientation===1?e?t=this.maxChildHeight:t=this.rexSizer.resolved?this.wrapResult.height:void 0:t=this.rexSizer.resolved?this.wrapResult.height:void 0,t!==void 0)return t+(this.space.top+this.space.bottom)*this.scaleY},y0t=function(e){e===void 0&&(e=[]);for(var t=this.sizerChildren,i,s=0,p=t.length;s<p;s++)i=t[s],i!==`
`&&i.isRexSizer&&e.push(i);return e},x0t=function(){return this._maxChildWidth=void 0,this._maxChildHeight=void 0,this.wrapResult=void 0,this.rexSizer.resolved=!1,Zp.call(this),this},T0t=function(){for(var e=this.orientation===0,t=e?this.innerWidth:this.innerHeight,i,s,p,E=0,n,T,r=this.innerLeft,o=this.innerTop,x,d,h,l,a,f,c=this.wrapResult.lines,u,v,g,m=r,y=o,C=0,P=c.length;C<P;C++){switch(u=c[C],v=u.children,this.rtl&&v.reverse(),e?(n=C%2?this.space.indentLeftEven:this.space.indentLeftOdd,m=r+n*this.scaleX):(T=C%2?this.space.indentTopEven:this.space.indentTopOdd,y=o+T*this.scaleY),g=t-(e?u.width:u.height),this.align){case 0:break;case 1:e?m+=g:y+=g;break;case 2:e?m+=g/2:y+=g/2;break;case 3:E=Qb(t,g,this.justifyPercentage,v.length);break;case 4:E=Qb(t,g,this.justifyPercentage,v.length),E===0&&(e?m+=g:y+=g);break;case 5:E=Qb(t,g,this.justifyPercentage,v.length),E===0&&(e?m+=g/2:y+=g/2);break}for(var w=!0,M=0,R=v.length;M<R;M++)i=v[M],!i.rexSizer.hidden&&(s=i.rexSizer,p=s.padding,Jp.call(this,i),e?x=m+p.left*this.scaleX:d=y+p.top*this.scaleY,w?w=!1:e?x+=this.space.item*this.scaleX:d+=this.space.item*this.scaleY,h=mi(i),l=yi(i),e?(T=M%2?this.space.indentTopEven:this.space.indentTopOdd,d=y+T*this.scaleY+p.top*this.scaleY,m=x+h+p.right*this.scaleX+E):(n=M%2?this.space.indentLeftEven:this.space.indentLeftOdd,x=m+n*this.scaleX+p.left*this.scaleX,y=d+l+p.top*this.scaleY+E),a=(s.alignOffsetX+s.alignOffsetOriginX*h)*this.scaleX,f=(s.alignOffsetY+s.alignOffsetOriginY*l)*this.scaleY,jp.call(this,i,x,d,h,l,s.align,a,f));e?y+=u.height+this.space.line*this.scaleY:m+=u.width+this.space.line*this.scaleX}},Qb=function(e,t,i,s){return t/e<=i?t/(s-1):0},C0t=function(){return this.orientation===0?!0:EM.call(this)},Kk=function(e){var t={lines:[],width:0,height:0},i=this.sizerChildren,s,p,E,n,T=0,r,o,x=t.lines,d=void 0,h;if(this.orientation===0){for(var l=0,a=i.length;l<a;l++){if(s=i[l],s===`
`)s=void 0,E=0,h=!0;else{if(s.rexSizer.hidden)continue;s.isRexSizer&&s.runLayout(this),E=this.getChildWidth(s),p=s.rexSizer.padding,E+=(p.left+p.right)*this.scaleX,h=T<E||d===void 0}h&&(d&&(d.width=e-(T+this.space.item*this.scaleX),t.width=Math.max(t.width,d.width),t.height+=d.height+this.space.line*this.scaleY),d={children:[],width:0,height:0},x.push(d),r=x.length%2?this.space.indentLeftOdd:this.space.indentLeftEven,T=e-r*this.scaleX),T-=E+this.space.item*this.scaleX,s&&(d.children.push(s),n=this.getChildHeight(s),p=s.rexSizer.padding,n+=(p.top+p.bottom)*this.scaleY,d.height=Math.max(d.height,n))}d&&(d.width=e-(T+this.space.item*this.scaleX),t.width=Math.max(t.width,d.width),t.height+=d.height),t.height+=Math.max(this.space.indentTopOdd,this.space.indentTopEven)*this.scaleY}else{for(var f=e,l=0,a=i.length;l<a;l++){if(s=i[l],s===`
`)s=void 0,E=0,h=!0;else{if(s.rexSizer.hidden)continue;s.isRexSizer&&s.layout(),n=this.getChildHeight(s),p=s.rexSizer.padding,n+=(p.top+p.bottom)*this.scaleY,h=T<n||d===void 0}h&&(d&&(d.height=f-(T+this.space.item*this.scaleY),t.height=Math.max(t.height,d.height),t.width+=d.width+this.space.line*this.scaleX),d={children:[],width:0,height:0},x.push(d),o=x.length%2?this.space.indentTopOdd:this.space.indentTopEven,T=f-o*this.scaleY),T-=n+this.space.item*this.scaleY,s&&(d.children.push(s),E=this.getChildWidth(s),p=s.rexSizer.padding,E+=(p.left+p.right)*this.scaleX,d.width=Math.max(d.width,E))}d&&(d.height=f-(T+this.space.item*this.scaleY),t.height=Math.max(t.height,d.height),t.width+=d.width),t.width+=Math.max(this.space.indentLeftOdd,this.space.indentLeftEven)*this.scaleX}return t},S0t=function(e){if(!this.wrapResult&&this.orientation===0){var t=e-(this.space.left+this.space.right)*this.scaleX;this.wrapResult=Kk.call(this,t),this.rexSizer.resolved=!0,bM.call(this,e)}},E0t=function(){return this.orientation===1?!0:wM.call(this)},b0t=function(e){if(!this.wrapResult&&this.orientation===1){var t=e-(this.space.top+this.space.bottom)*this.scaleY;this.wrapResult=Kk.call(this,t),this.rexSizer.resolved=!0,MM.call(this,e)}},P0t=function(e,t){},w0t=function(e,t){};const cB=Phaser.Math.Distance.Between;var M0t=function(e,t){var i=this.sizerChildren;if(i.length===0)return-1;for(var s=-1,p=1/0,E=0,n=i.length;E<n;E++){var T=i[E];if(!(Math.abs(T.centerY-t)>T.height/2)){var o=cB(T.left,T.centerY,e,t);p>o&&(p=o,s=E);var r=i[E+1];if(!(r&&r.y===T.y)){var o=cB(T.right,T.centerY,e,t);p>o&&(p=o,s=E+1)}}}return s};const R0t=Phaser.Utils.Objects.IsPlainObject,wu=Phaser.Utils.Objects.GetValue,A0t=Phaser.Display.Align.CENTER;var qb=function(e,t,i,s){if(e===`
`)return this.addNewLine(),this;var p,E,n,T;if($p.call(this,e),R0t(t)){var r=t;t=wu(r,"padding",0),i=wu(r,"key",void 0),s=wu(r,"index",void 0),p=wu(r,"offsetX",0),E=wu(r,"offsetY",0),n=wu(r,"offsetOriginX",0),T=wu(r,"offsetOriginY",0)}t===void 0&&(t=0),p===void 0&&(p=0),E===void 0&&(E=0),n===void 0&&(n=0),T===void 0&&(T=0);var r=this.getSizerConfig(e);return r.align=A0t,r.padding=ju(t),r.alignOffsetX=p,r.alignOffsetY=E,r.alignOffsetOriginX=n,r.alignOffsetOriginY=T,s===void 0||s>=this.sizerChildren.length?this.sizerChildren.push(e):this.sizerChildren.splice(s,0,e),i!==void 0&&this.addChildrenMap(i,e),this};const O0t={add(e,t,i){if(Va(e))for(var s=e,p=0,E=s.length;p<E;p++)qb.call(this,s[p],t);else qb.call(this,e,t,i);return this},addNewLine(){return this.sizerChildren.push(`
`),this},insert(e,t,i,s){return qb.call(this,t,i,s,e),this},insertAtPosition(e,t,i,s,p){var E=M0t.call(this,e,t);return E===-1&&(E=void 0),this.insert(E,i,s,p),this}},L0t=Phaser.Utils.Array.Remove,D0t={remove(e,t){return this.getParentSizer(e)!==this?this:(L0t(this.sizerChildren,e),Kp.call(this,e,t),this)},removeAll(e){for(var t=this.sizerChildren.length-1;t>=0;t--)this.remove(this.sizerChildren[t],e);return this},clear(e){return this.sizerChildren.length=0,tT.call(this,e),this}};var Zk={getChildrenWidth:g0t,getChildrenHeight:m0t,getChildrenSizers:y0t,preLayout:x0t,layoutChildren:T0t,hasWidthWrap:C0t,runWidthWrap:S0t,hasHeightWrap:E0t,runHeightWrap:b0t,getExpandedChildWidth:P0t,getExpandedChildHeight:w0t};Object.assign(Zk,O0t,D0t,KM);var F0t=function(e){e===void 0&&(e=this.sizerChildren);for(var t=0,i,s,p=!1,E=0,n=e.length;E<n;E++)i=e[E],i!==`
`&&(s=this.getChildWidth(i),s===void 0&&(p=!0),!p&&(t=Math.max(s,t)));if(!p)return t},I0t=function(e){e===void 0&&(e=this.sizerChildren);for(var t=0,i,s,p=!1,E=0,n=e.length;E<n;E++)i=e[E],i!==`
`&&(s=this.getChildHeight(i),s===void 0&&(p=!0),!p&&(t=Math.max(s,t)));if(!p)return t};const vB=Phaser.Utils.Objects.IsPlainObject,Pn=Phaser.Utils.Objects.GetValue;class Lh extends Qu{constructor(t,i,s,p,E,n){vB(i)?(n=i,i=Pn(n,"x",0),s=Pn(n,"y",0),p=Pn(n,"width",void 0),E=Pn(n,"height",void 0)):vB(p)&&(n=p,p=Pn(n,"width",void 0),E=Pn(n,"height",void 0)),super(t,i,s,p,E,n),this.type="rexFixWidthSizer",this.sizerChildren=[],this.runChildrenWrapFlag=!0,this.setOrientation(Pn(n,"orientation",0)),this.setItemSpacing(Pn(n,"space.item",0)),this.setLineSpacing(Pn(n,"space.line",0)),this.setIntentLeft(Pn(n,"space.indentLeftOdd",0),Pn(n,"space.indentLeftEven",0)),this.setIntentTop(Pn(n,"space.indentTopOdd",0),Pn(n,"space.indentTopEven",0)),this.setAlign(Pn(n,"align",0)),this.setJustifyPercentage(Pn(n,"justifyPercentage",.25)),this.setRTL(Pn(n,"rtl",!1)),this.wrapResult=void 0,this.addChildrenMap("items",this.sizerChildren)}setOrientation(t){return this.orientation=Ju(t),this}setItemSpacing(t){return this.space.item=t,this}setLineSpacing(t){return this.space.line=t,this}setIntentLeft(t,i){return this.space.indentLeftOdd=t,this.space.indentLeftEven=i,this}setIntentTop(t,i){return this.space.indentTopOdd=t,this.space.indentTopEven=i,this}setAlign(t){return typeof t=="string"&&(t=B0t[t]),this.align=t,this}setJustifyPercentage(t){return this.justifyPercentage=t,this}setRTL(t){return t===void 0&&(t=!0),this.rtl=t,this}get maxChildWidth(){return this._maxChildWidth===void 0&&(this._maxChildWidth=F0t.call(this)),this._maxChildWidth}get maxChildHeight(){return this._maxChildHeight===void 0&&(this._maxChildHeight=I0t.call(this)),this._maxChildHeight}}const B0t={left:0,top:0,right:1,bottom:1,center:2,justify:3,"justify-left":3,"justify-top":3,"justify-right":4,"justify-bottom":4,"justify-center":5};Object.assign(Lh.prototype,Zk);It.register("fixWidthSizer",function(e,t,i,s,p){var E=new Lh(this.scene,e,t,i,s,p);return this.scene.add.existing(E),E});Lt(window,"RexPlugins.UI.FixWidthSizer",Lh);It.register("overlapSizer",function(e,t,i,s,p){var E=new sa(this.scene,e,t,i,s,p);return this.scene.add.existing(E),E});Lt(window,"RexPlugins.UI.OverlapSizer",sa);It.register("space",function(){var e=new $M(this.scene);return e});Lt(window,"RexPlugins.UI.Space",$M);It.register("label",function(e){var t=new Sl(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.Label",Sl);const pB=["alpha","tint","flipX","flipY"];var qM=function(e,t){if(!t)return e;for(var i=0,s=pB.length;i<s;i++){var p=pB[i];p in t&&p in e&&(e[p]=t[p])}if("origin"in t&&"originX"in e)e.setOrigin(t.origin);else{var E,n;"originX"in t&&"originX"in e&&(E=t.originX),"originY"in t&&"originY"in e&&(n=t.originY),E!==void 0&&n!==void 0&&e.setOrigin(E,n)}return e},Vr=function(e,t){var i;t&&(t.hasOwnProperty("$type")?i=t.$type:t.hasOwnProperty("barColor")?i="bar":t.hasOwnProperty("leftWidth")?i="nineSlice":t.hasOwnProperty("key")&&(i="image"));var s;switch(i){case"bar":s=new lT(e,t);break;case"image":s=new _p(e,t);break;case"nineSlice":t.hasOwnProperty("stretchMode")?s=new ig(e,t):s=new eg(e,t);break;default:s=new tg(e,t);break}return qM(s,t),e.add.existing(s),s},G0t=function(){switch(this.scrollMode){case 0:case 1:_b.call(this),this.updateController(),tP.call(this),eP.call(this);break;default:_b.call(this,"y"),_b.call(this,"x"),this.updateController(),tP.call(this,"y"),tP.call(this,"x"),eP.call(this,"y"),eP.call(this,"x");break}return this},_b=function(e){var t,i,s,p;switch(this.scrollMode){case 0:case 1:t=this.topChildOY,i=this.bottomChildOY,s=this.childrenMap.scroller,p=this.childrenMap.slider,e=this.scrollMode===0?"Y":"X";break;default:e=e.toUpperCase(),e==="Y"?(t=this.topChildOY,i=this.bottomChildOY):(t=this.leftChildOX,i=this.rightChildOX),s=this.childrenMap[`scroller${e}`],p=this.childrenMap[`slider${e}`]}var E=e==="Y"?this.scaleY:this.scaleX;i*=E,s&&s.setBounds(t,i),p&&(p.setEnable(t!==i),p.tickLength&&p.setTick(p.tickLength,t,i))},tP=function(e){switch(this.scrollMode){case 0:case 1:var i=this.childrenMap.slider;i&&this.hideUnscrollableSlider&&this.setChildVisible(i,this.isOverflow);var p=this.childrenMap.scroller;p&&this.disableUnscrollableDrag&&p.setEnable(this.isOverflow);break;default:e=e.toUpperCase();var t=this[`isOverflow${e}`],i=this.childrenMap[`slider${e}`],s=this[`hideUnscrollableSlider${e}`];i&&s&&this.setChildVisible(i,t);var p=this.childrenMap.scroller,E=this[`disableUnscrollableDrag${e}`];p&&E&&p.setEnable(t);break}},eP=function(e){switch(this.scrollMode){case 0:case 1:if(!this.adaptThumbSizeMode)return;var E=this.childrenMap.slider;if(!E)return;var t=Math.min(this.childVisibleHeight/this.childHeight,1),n=E.childrenMap.track,T=E.childrenMap.thumb,r=this.minThumbSize;if(this.scrollMode===0){var i=n.displayHeight*t;r!==void 0&&i<r&&(i=r),Rn(T,void 0,i)}else{var s=n.displayWidth*t;r!==void 0&&s<r&&(s=r),Rn(T,s,void 0)}gB(E);break;default:e=e.toUpperCase();var p=this[`adaptThumb${e}SizeMode`];if(!p)return;var E=this.childrenMap[`slider${e}`];if(!E)return;var n=E.childrenMap.track,T=E.childrenMap.thumb,r=this[`minThumb${e}Size`];if(e==="Y"){var t=Math.min(this.childVisibleHeight/this.childHeight,1),i=n.displayHeight*t;r!==void 0&&i<r&&(i=r),Rn(T,void 0,i)}else{var t=Math.min(this.childVisibleWidth/this.childWidth,1),s=n.displayWidth*t;r!==void 0&&s<r&&(s=r),Rn(T,s,void 0)}gB(E);break}},gB=function(e){var t=e.minWidth,i=e.minHeight;e.minWidth=e.width,e.minHeight=e.height,e.layout(),e.minWidth=t,e.minHeight=i},k0t=function(){switch(this.scrollMode){case 0:case 1:var e=this.childrenMap.scroller,t=this.childrenMap.slider;e&&e.setValue(this.childOY),t&&t.setValue(this.t);break;default:var i=this.childrenMap.scrollerY,s=this.childrenMap.sliderY,p=this.childrenMap.scrollerX,E=this.childrenMap.sliderX;i&&i.setValue(this.childOY),s&&s.setValue(this.t),p&&p.setValue(this.childOX),E&&E.setValue(this.s);break}};const py=Phaser.Math.Clamp,N0t={setChildOY(e,t){return t===void 0&&(t=!1),t&&(e=py(e,this.bottomChildOY,this.topChildOY)),this.childOY=e,this},addChildOY(e,t){return this.setChildOY(this.childOY+e,t),this},setT(e,t){return t===void 0&&(t=!1),t&&(e=py(e,0,1)),this.t=e,this},addT(e,t){return this.setT(this.t+e,t),this},scrollToTop(){return this.t=0,this},scrollToBottom(){if(this.t=1,this.t===0)return this;do this.t=1;while(this.t!==1);return this},setChildOX(e,t){return t===void 0&&(t=!1),t&&(e=py(e,this.leftChildOX,this.rightChildOX)),this.childOX=e,this},addChildOX(e,t){return this.setChildOX(this.childOX+e,t),this},setS(e,t){return t===void 0&&(t=!1),t&&(e=py(e,0,1)),this.s=e,this},addS(e,t){return this.setS(this.s+e,t),this},scrollToLeft(){return this.s=0,this},scrollToRight(){if(this.s=1,this.s===0)return this;do this.s=1;while(this.s!==1);return this}};var Jk={resizeController:G0t,updateController:k0t};Object.assign(Jk,N0t);const jk={v:0,vertical:0,y:0,h:1,horizontal:1,x:1,xy:2,vh:2};var _M=function(e,t){t===void 0&&(t="scrollMode"),e.hasOwnProperty(t)||(e[t]=U0t(e));var i=e[t];return typeof i=="string"&&(i=jk[i]),i},U0t=function(e){var t=!!e.sliderY||!!e.scrollerY,i=!!e.sliderX||!!e.scrollerX,s;return t&&i?s=2:t?s=0:i?s=1:s=0,s};const Kr=Phaser.Utils.Objects.GetValue;var V0t=function(e,t,i){var s=Kr(i,"child"),p=Kr(s,"gameObject",void 0);if(p){var E=Kr(i,"space.child",0);e.childMargin={};var n=e.childMargin,T={};if(typeof E=="number")switch(e.scrollMode){case 0:case 1:n.top=0,n.bottom=0,n.left=0,n.right=0;break;default:n.top=E,n.bottom=E,n.left=E,n.right=E;break}else switch(e.scrollMode){case 0:n.top=Kr(E,"top",0),n.bottom=Kr(E,"bottom",0),T.left=Kr(E,"left",0),T.right=Kr(E,"right",0);break;case 1:n.top=Kr(E,"left",0),n.bottom=Kr(E,"right",0),T.top=Kr(E,"top",0),T.bottom=Kr(E,"bottom",0);break;default:n.top=Kr(E,"top",0),n.bottom=Kr(E,"bottom",0),n.left=Kr(E,"left",0),n.right=Kr(E,"right",0);break}t.add(p,{column:1,row:1,align:Kr(s,"align","center"),padding:T,expand:{width:Kr(s,"expandWidth",!0),height:Kr(s,"expandHeight",!0)}})}e.addChildrenMap("child",p)};const mB=Phaser.Math.Percent;var z0t=function(e,t,i){var s;return e.y===t.y?s=mB(i.x,e.x,t.x):e.x===t.x&&(s=mB(i.y,e.y,t.y)),s},Qk=function(e,t){iP.x=e,iP.y=t;var i,s;this.reverseAxis?(i=this.getEndPoint(),s=this.getStartPoint()):(i=this.getStartPoint(),s=this.getEndPoint());var p=z0t(i,s,iP);return p},iP={},W0t=function(e,t,i){!this.enable||!this.inputActive||(this.value=Qk.call(this,t,i))},rP=function(e){if(!(!this.enable||!this.inputActive)&&e.isDown){var t=Qk.call(this,e.worldX,e.worldY);this.stopEaseValue(),this.easeValueDuration===0||Math.abs(this.value-t)<.1?this.value=t:this.easeValueTo(t)}};const Y0t=Phaser.Utils.Objects.GetValue;var X0t=function(e){this.inputActive=!1;var t=Y0t(e,"input",0);typeof t=="string"&&(t=H0t[t]);var i=this.childrenMap.thumb;switch(t){case 0:i&&(i.setInteractive(),this.scene.input.setDraggable(i),i.on("dragstart",function(p){this.inputActive=!0,this.eventEmitter.emit("inputstart",p)},this).on("dragend",function(p){this.inputActive=!1,this.eventEmitter.emit("inputend",p)},this).on("drag",W0t,this));break;case 1:this.setInteractive().on("pointerdown",function(p){this.inputActive=!0,this.eventEmitter.emit("inputstart",p)},this).on("pointerdown",rP,this);var s=function(p){this.inputActive&&(this.inputActive=!1,this.eventEmitter.emit("inputend",p))};this.scene.input.on("pointerup",s,this).on("pointermove",rP,this),this.once("destroy",function(){this.scene.input.on("pointerup",s,this).off("pointermove",rP,this)},this);break}};const H0t={pan:0,drag:0,click:1,none:-1};var qk=function(e,t){t===void 0&&(t=$0t);var i=this.childrenMap.thumb,s=i.x,p=i.y;return Hp(i,this.innerLeft,this.innerTop,this.innerWidth,this.innerHeight,e),t.x=i.x,t.y=i.y,i.x=s,i.y=p,t},$0t={};const K0t=Phaser.Display.Align.LEFT_CENTER,Z0t=Phaser.Display.Align.TOP_CENTER;var J0t=function(e){if(e===void 0&&(e=j0t),this.childrenMap.thumb){var t=this.orientation===0?K0t:Z0t;qk.call(this,t,e)}else this.orientation===0?(e.x=this.innerLeft+1,e.y=this.centerY):(e.x=this.centerX,e.y=this.innerTop+1);return e},j0t={};const Q0t=Phaser.Display.Align.RIGHT_CENTER,q0t=Phaser.Display.Align.BOTTOM_CENTER;var _0t=function(e){if(e===void 0&&(e=tyt),this.childrenMap.thumb){var t=this.orientation===0?Q0t:q0t;qk.call(this,t,e)}else this.orientation===0?(e.x=this.innerRight-1,e.y=this.centerY):(e.x=this.centerX,e.y=this.innerBottom-1);return e},tyt={};const yB=Phaser.Math.Linear;var eyt=function(e,t,i,s){return s===void 0&&(s=iyt),s.x=yB(t.x,i.x,e),s.y=yB(t.y,i.y,e),s},iyt={},ryt=function(e){var t=this.childrenMap.thumb;if(t===void 0)return this;e===void 0&&(e=this.value);var i,s;return this.reverseAxis?(i=this.getEndPoint(),s=this.getStartPoint()):(i=this.getStartPoint(),s=this.getEndPoint()),eyt(e,i,s,t),t.x+=this.thumbOffsetX,t.y+=this.thumbOffsetY,this.resetChildPositionState(t),this};const nyt=Phaser.Display.Align.LEFT_CENTER,syt=Phaser.Display.Align.TOP_CENTER,ayt=Phaser.Display.Align.RIGHT_CENTER,oyt=Phaser.Display.Align.BOTTOM_CENTER;var lyt=function(e){var t=this.childrenMap.indicator;if(t===void 0)return this;e===void 0&&(e=this.value);var i=this.reverseAxis,s,p,E=this.childrenMap.thumb;if(E)if(this.orientation===0){var n=mi(E);if(i){var T=E.x-n*E.originX;s=this.right-T}else{var T=E.x-n*E.originX,r=T+n;s=r-this.left}}else{var o=yi(E);if(i){var x=E.y-o*E.originY;p=this.bottom-x}else{var x=E.y-o*E.originY,d=x+o;p=d-this.top}}else this.orientation===0?s=this.width*e:p=this.height*e;Rn(t,s,p);var h;i?h=this.orientation===0?ayt:oyt:h=this.orientation===0?nyt:syt,qG(t,this,h),this.resetChildPositionState(t)};const Ps=Phaser.Utils.Objects.GetValue,gy=Phaser.Utils.Objects.IsPlainObject,hyt=Phaser.Math.Clamp,uyt=Phaser.Math.Snap.To;class rc extends Ah(qe){constructor(t,i){super(t,i),this.type="rexSlider",this.bootProgressBase(i),this.reverseAxis=Ps(i,"reverseAxis",!1);var s=Ps(i,"background",void 0),p=Ps(i,"track",void 0),E=Ps(i,"indicator",void 0),n=Ps(i,"thumb",void 0);if(s&&(gy(s)&&(s=Vr(t,s)),this.addBackground(s)),p&&(gy(p)&&(p=Vr(t,p)),this.add(p,{proportion:1,expand:!0,minWidth:this.orientation===0?0:void 0,minHeight:this.orientation===1?0:void 0})),E&&(gy(E)&&(E=Vr(t,E)),this.pin(E)),n){gy(n)&&(n=Vr(t,n)),this.pin(n);var T=Ps(i,"thumbOffsetX",0),r=Ps(i,"thumbOffsetY",0);this.setThumbOffset(T,r)}this.addChildrenMap("background",s),this.addChildrenMap("track",p),this.addChildrenMap("indicator",E),this.addChildrenMap("thumb",n),this.setEnable(Ps(i,"enable",void 0));var o=Ps(i,"tick",void 0);o===void 0&&(o=Ps(i,"gap",void 0)),this.setGap(o),X0t.call(this,i),this.setValue(Ps(i,"value",0),Ps(i,"min",void 0),Ps(i,"max",void 0))}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}setGap(t,i,s){return t&&i!==void 0&&(t=t/(s-i)),this.gap=t,this}setTick(t,i,s){return this.setGap(t,i,s),this}get tick(){return this.gap}set tick(t){this.gap=t}setThumbOffset(t,i){return this.thumbOffsetX=t,this.thumbOffsetY=i,this}get value(){return this._value}set value(t){this.gap!==void 0&&(t=uyt(t,this.gap));var i=this._value;this._value=hyt(t,0,1),i!==this._value&&(this.updateThumb(this._value),this.updateIndicator(this._value),this.eventEmitter.emit("valuechange",this._value,i,this.eventEmitter))}postLayout(t,i,s){return this.updateThumb(),this.updateIndicator(),super.postLayout(t,i,s),this}}var fyt={getStartPoint:J0t,getEndPoint:_0t,updateThumb:ryt,updateIndicator:lyt};Object.assign(rc.prototype,fyt);const es=Phaser.Utils.Objects.GetValue;class tR extends qe{constructor(t,i){super(t,i),this.type="rexScrollBar";var s=es(i,"background",void 0),p=es(i,"buttons",void 0),E=es(p,"top",es(p,"left",void 0)),n=es(p,"bottom",es(p,"right",void 0)),T,r=es(i,"slider",void 0);if(s&&this.addBackground(s),E){this.add(E);var o=new Kd(E);o.on("intouch",function(){if(this.enable){var c=T.reverseAxis?this.scrollStep:-this.scrollStep;this.value+=c}},this)}if(r){r.orientation=this.orientation,r.eventEmitter=this,r.value=null;var x;if(this.orientation===0){var d=es(r,"width",void 0);x=d===void 0?1:0}else{var h=es(r,"height",void 0);x=h===void 0?1:0}T=new rc(t,r),t.add.existing(T),this.add(T,{proportion:x})}if(n){this.add(n);var o=new Kd(n);o.on("intouch",function(){if(this.enable){var u=T.reverseAxis?-this.scrollStep:this.scrollStep;this.value+=u}},this)}var l=[E,n];this.addChildrenMap("background",s),this.addChildrenMap("slider",T),this.addChildrenMap("buttons",l);var a=es(i,"valuechangeCallback",null);if(a!==null){var f=es(i,"valuechangeCallbackScope",void 0);this.on("valuechange",a,f)}this.setEnable(es(i,"enable",void 0)),this.setValue(es(i,"value",0)),this.setScrollStep(es(p,"step",.01))}setScrollStep(t){return this.scrollStep=t,this}get enable(){return this.childrenMap.slider?this.childrenMap.slider.enable:!1}set enable(t){this.childrenMap.slider&&this.childrenMap.slider.setEnable(t)}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}get value(){return this.childrenMap.slider?this.childrenMap.slider.value:0}set value(t){this.childrenMap.slider&&(this.childrenMap.slider.value=t)}setValue(t,i,s){return this.childrenMap.slider&&this.childrenMap.slider.setValue(t,i,s),this}addValue(t,i,s){return this.childrenMap.slider&&this.childrenMap.slider.addValue(t,i,s),this}getValue(t,i){return this.childrenMap.slider?this.childrenMap.slider.getValue(t,i):0}easeValueTo(t,i,s){return this.childrenMap.slider&&this.childrenMap.slider.easeValueTo(t,i,s),this}stopEaseValue(){return this.childrenMap.slider&&this.childrenMap.slider.stopEaseValue(),this}setEaseValueDuration(t){return this.childrenMap.slider&&this.childrenMap.slider.setEaseValueDuration(t),this}setEaseValueFunction(t){return this.childrenMap.slider&&this.childrenMap.slider.setEaseValueFunction(t),this}setGap(t,i,s){return this.childrenMap.slider&&this.childrenMap.slider.setGap(t,i,s),this}get gap(){if(this.childrenMap.slider)return this.childrenMap.slider.gap}set gap(t){this.childrenMap.slider&&(this.childrenMap.slider.gap=t)}setTick(t,i,s){return this.setGap(t,i,s),this}get tick(){if(this.childrenMap.slider)return this.childrenMap.slider.tick}set tick(t){this.childrenMap.slider&&(this.childrenMap.slider.tick=t)}}var dyt=function(e,t){t===void 0&&(t={});var i=Na(t);t={slider:i},t.orientation=i.orientation,delete i.orientation,t.background=i.background,delete i.background,t.buttons=i.buttons,delete i.buttons,t.value=null;var s=new tR(e,t);e.add.existing(s);var p=s.childrenMap.slider;return s.addChildrenMap("track",p.childrenMap.track),s.addChildrenMap("indicator",p.childrenMap.indicator),s.addChildrenMap("thumb",p.childrenMap.thumb),s};const cyt=Phaser.Math.Snap.To;Phaser.Math.Clamp;var vyt=function(){this.emit("dragstart")},pyt=function(){this.emit("dragend")},gyt=function(){this.value+=this.dragDelta},myt=function(){var e=this.value,t=this.dragSpeed,i=this.snapStep,s=!!i;if(s){var E=e,n=t===0?0:t*t/(2*this.slidingDeceleration);if(E+=t>0?n:-n,E=cyt(E,i,this.minValue),n=Math.abs(E-e),n>0){var p;t===0?(p=this.backDeceleration,t=Math.sqrt(2*p*n)):(p=t*t/(2*n),p*=.99),this._slowDown.init(e,void 0,t,p,E)}else this._slowDown.stop(),this._state.next()}else if(t===0)this._slowDown.stop(),this._state.next();else{var p=this.slidingDeceleration;this._slowDown.init(e,t>0,t,p)}},yyt=function(e,t){t*=.001;var i=this._slowDown.update(t).value;this.overMax(i)?(this.value=this.maxValue,this._slowDown.stop()):this.overMin(i)?(this.value=this.minValue,this._slowDown.stop()):this.value=i},xyt=function(){var e=this.value,t=this.outOfMinBound?this.minValue:this.maxValue,i=Math.abs(t-e),s=this.backDeceleration,p=Math.sqrt(2*s*i);this._slowDown.init(e,void 0,p,s,t)},Tyt=function(e,t){t*=.001,this.value=this._slowDown.update(t).value,this._slowDown.isMoving||this._state.next()},xB=function(){this._slowDown.stop()};class Cyt extends Cl{constructor(t,i){super(i),this.parent=t,this.init()}init(){this.start("IDLE")}next_IDLE(){var t,i=this.parent,s=i.dragState;return s.isDown&&(t=i.dragThreshold===0?"DRAG":"DRAGBEGIN"),t}update_IDLE(t,i){this.next()}next_DRAGBEGIN(){var t,i=this.parent,s=i.dragState;return s.isDown?t=s.pointer.getDistance()>=i.dragThreshold?"DRAG":"DRAGBEGIN":t="IDLE",t}update_DRAGBEGIN(t,i){this.next()}next_DRAG(){var t,i=this.parent,s=i.dragState;return s.isUp&&(i.outOfBounds?t="BACK":i.slidingEnable?t="SLIDE":t="IDLE"),t}update_DRAG(t,i){var s=this.parent,p=s.dragState;p.justMoved&&gyt.call(s),this.next()}enter_DRAG(){vyt.call(this.parent)}exit_DRAG(){pyt.call(this.parent)}next_SLIDE(){var t,i=this.parent,s=i.dragState;return s.isDown?t="DRAG":i.isSliding||(t="IDLE"),t}enter_SLIDE(){myt.call(this.parent)}exit_SLIDE(){xB.call(this.parent)}update_SLIDE(t,i){yyt.call(this.parent,t,i),this.next()}next_BACK(){var t,i=this.parent,s=i.dragState;return s.isDown?t="DRAG":i.isPullBack||(t="IDLE"),t}enter_BACK(){xyt.call(this.parent)}exit_BACK(){xB.call(this.parent)}update_BACK(t,i){Tyt.call(this.parent,t,i),this.next()}}const sp=Phaser.Utils.Objects.GetValue,Syt=Phaser.Math.Distance.Between;class Eyt extends ji{constructor(t,i){super(t,i),this._enable=void 0,this.rectBoundsInteractive=sp(i,"rectBoundsInteractive",!1),this.rectBoundsInteractive||t.setInteractive(sp(i,"inputConfig",void 0)),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.isInTouched=!1,this.holdStartTime=void 0,this.x=void 0,this.y=void 0,this.preX=void 0,this.preY=void 0,this.localX=void 0,this.localY=void 0,this.justMoved=!1,this.setEnable(sp(t,"enable",!0)),this.holdThreshold=sp(t,"holdThreshold",50),this.pointerOutReleaseEnable=sp(t,"pointerOutRelease",!0),this}boot(){var t=this.scene,i=this.parent;this.rectBoundsInteractive?(t.input.on("pointerdown",this.onPointIn,this),t.input.on("pointerup",this.onPointOut,this),t.input.on("pointermove",this.onPointerMove,this)):(i.on("pointerdown",this.onPointIn,this),i.on("pointerup",this.onPointOut,this),this.pointerOutReleaseEnable&&i.on("pointerout",this.onPointOut,this),i.on("pointermove",this.onPointerMove,this)),t.sys.events.on("preupdate",this.preupdate,this)}shutdown(t){if(!this.isShutdown){var i=this.scene;this.parent,this.rectBoundsInteractive&&(i.input.off("pointerdown",this.onPointIn,this),i.input.off("pointerup",this.onPointOut,this),i.input.off("pointermove",this.onPointerMove,this)),i.sys.events.off("preupdate",this.preupdate,this),this.pointer=void 0,super.shutdown(t)}}get enable(){return this._enable}set enable(t){this._enable!==t&&(t||(this.isInTouched=!1,this.pointer=void 0),this._enable=t)}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}setPointerOutReleaseEnable(t){return t===void 0&&(t=!0),this.pointerOutReleaseEnable=t,this}get isDown(){return this.pointer&&this.pointer.isDown}get isUp(){return!this.isDown}get dx(){return this.x-this.preX}get dy(){return this.y-this.preY}get dt(){var t=rM(this.scene);return t}get speed(){if(this.x===this.preX&&this.y===this.preY)return 0;var t=Syt(this.preX,this.preY,this.x,this.y),i=t/(this.dt*.001);return i}get speedX(){return this.dx/(this.dt*.001)}get speedY(){return this.dy/(this.dt*.001)}onPointIn(t,i,s){!this.enable||!t.isDown||this.pointer!==void 0||this.rectBoundsInteractive&&!bo(this.parent,t)||(this.pointer=t,this.localX=i,this.localY=s)}onPointOut(t){!this.enable||this.pointer!==t||(this.pointer=void 0)}onPointerMove(t,i,s){if(!(!this.enable||!t.isDown||this.pointer!==t)){if(this.rectBoundsInteractive&&this.pointerOutReleaseEnable&&!bo(this.parent,t)){this.onPointOut(t);return}this.localX=i,this.localY=s}}preupdate(t,i){if(this.enable){var s=this.pointer;this.justMoved=!1,s&&!this.isInTouched?(this.x=s.worldX,this.y=s.worldY,this.preX=s.worldX,this.preY=s.worldY,this.isInTouched=!0,this.holdStartTime=void 0,this.emit("touchstart",s,this.localX,this.localY)):s&&this.isInTouched?this.x===s.x&&this.y===s.y?this.holdStartTime===void 0?this.holdStartTime=t:t-this.holdStartTime>this.holdThreshold&&(this.preX=this.x,this.preY=this.y):(this.preX=this.x,this.preY=this.y,this.x=s.worldX,this.y=s.worldY,this.holdStartTime=void 0,this.justMoved=!0,this.emit("touchmove",s,this.localX,this.localY)):!s&&this.isInTouched&&(this.isInTouched=!1,this.holdStartTime=void 0,this.emit("touchend",s))}}}const nP=Phaser.Utils.Objects.GetValue;class byt{constructor(t){this.resetFromJSON(t)}resetFromJSON(t){return this.setValue(nP(t,"value",0)),this.setSpeed(nP(t,"speed",0)),this.setAcceleration(nP(t,"acceleration",0)),this}reset(){this.setValue(0),this.setSpeed(0),this.setAcceleration(0)}setValue(t){return this.value=t,this}setSpeed(t){return this.speed=t,this}setAcceleration(t){return this.acceleration=t,this}updateSpeed(t){return this.acceleration!==0&&(this.speed+=this.acceleration*t,this.speed<0&&(this.speed=0)),this}getDeltaValue(t){return this.updateSpeed(t),this.speed<=0?0:this.speed*t}update(t){return this.updateSpeed(t),this.speed>0&&(this.value+=this.getDeltaValue(t)),this}get isMoving(){return this.speed>0}}class Pyt{constructor(){this.value,this.dir,this.movement=new byt}init(t,i,s,p,E){return this.value=t,this.end=E,E!==void 0?this.dir=t<E:this.dir=i,s=Math.abs(s),this.movement.setSpeed(s).setAcceleration(-p),this}stop(){this.movement.reset()}update(t){var i=this.movement.getDeltaValue(t);return this.dir||(i=-i),this.end===void 0?this.value+=i:i===0?this.value=this.end:(this.value+=i,this.dir?this.value>this.end&&(this.value=this.end):this.value<this.end&&(this.value=this.end)),this}get isMoving(){return this.movement.isMoving}}const lr=Phaser.Utils.Objects.GetValue,wyt=Phaser.Math.Clamp;class Myt extends ji{constructor(t,i){super(t,i);var s=lr(i,"enable",!0);this._state=new Cyt(this,{enable:s,eventEmitter:!1});var p={rectBoundsInteractive:lr(i,"rectBoundsInteractive",!1),inputConfig:lr(i,"inputConfig",void 0),enable:s,pointerOutRelease:lr(i,"pointerOutRelease",!0),eventEmitter:!1};this.dragState=new Eyt(t,p),this._enable=void 0,this._value=void 0,this._slowDown=new Pyt,this.setSnapStep(lr(i,"snapStep",void 0));var E=lr(i,"valuechangeCallback",null);if(E!==null){var n=lr(i,"valuechangeCallbackScope",void 0);this.on("valuechange",E,n)}if(E=lr(i,"overmaxCallback",null),E!==null){var n=lr(i,"overmaxCallbackScope",void 0);this.on("overmax",E,n)}if(E=lr(i,"overminCallback",null),E!==null){var n=lr(i,"overminCallbackScope",void 0);this.on("overmin",E,n)}this.resetFromJSON(i),this.boot()}resetFromJSON(t){this.setOrientationMode(lr(t,"orientation",0)),this.setDragThreshold(lr(t,"threshold",10)),this.setSlidingDeceleration(lr(t,"slidingDeceleration",5e3)),this.setBackDeceleration(lr(t,"backDeceleration",2e3));var i=lr(t,"dragRate",1);i=i*(lr(t,"dragReverse",!1)?-1:1),this.setDragRate(i);var s=lr(t,"bounds",void 0);return s?this.setBounds(s):this.setBounds(lr(t,"max",0),lr(t,"min",0)),this.setValue(lr(t,"value",this.maxValue||0)),this.setEnable(lr(t,"enable",!0)),this}boot(){this.scene.sys.events.on("preupdate",this._state.update,this._state)}shutdown(t){this.isShutdown||(this.scene.sys.events.off("preupdate",this._state.update,this._state),this._state.destroy(t),this.dragState.destroy(t),this._state=void 0,this.dragState=void 0,super.shutdown(t))}get enable(){return this._enable}set enable(t){if(this._enable!==t)return this._enable=t,this._state.setEnable(t),this.dragState.setEnable(t),this}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}setOrientationMode(t){return typeof t=="string"&&(t=Ryt[t]),this.orientationMode=t,this}setDragThreshold(t){return this.dragThreshold=t,this}setSlidingDeceleration(t){return this.slidingDeceleration=t,this}setBackDeceleration(t){return this.backDeceleration=t,this}setDragRate(t){return this.dragRate=t,this}setBounds(t,i){if(Array.isArray(t)){var s=t;t=s[0],i=s[1]}return t<i?(this.minValue=t,this.maxValue=i):(this.minValue=i,this.maxValue=t),this}setSnapStep(t){return this.snapStep=t,this}get value(){return this._value}set value(t){if(t!==this._value){var i=this._value,s=this.overMax(t),p=this.overMin(t);s&&this.emit("overmax",t,i),p&&this.emit("overmin",t,i),this.backEnable||(s&&(t=this.maxValue),p&&(t=this.minValue)),this._value=t,this.emit("valuechange",t,i)}}setValue(t,i){return i===void 0&&(i=!1),i&&(t=wyt(t,this.minValue,this.maxValue)),this.value=t,this}addValue(t,i){return this.setValue(this.value+t,i),this}get state(){return this._state.state}get isDragging(){return this.dragState.isInTouched}get outOfMaxBound(){return this.overMax(this.value)}get outOfMinBound(){return this.overMin(this.value)}get outOfBounds(){return this.outOfMinBound||this.outOfMaxBound}overMax(t){return this.maxValue!=null&&t>this.maxValue}overMin(t){return this.minValue!=null&&t<this.minValue}get backEnable(){return typeof this.backDeceleration=="number"}get isPullBack(){return this._slowDown.isMoving}get slidingEnable(){return typeof this.slidingDeceleration=="number"}get isSliding(){return this._slowDown.isMoving}get dragDelta(){var t;return this.orientationMode===0?t=this.dragState.dy:this.orientationMode===1?t=this.dragState.dx:t=0,t*=this.dragRate,t}get dragSpeed(){var t;return this.orientationMode===0?t=this.dragState.speedY:this.orientationMode===1?t=this.dragState.speedX:t=0,t*=this.dragRate,t}}const Ryt={y:0,v:0,vertical:0,x:1,h:1,horizontal:1},my=Phaser.Utils.Objects.GetValue;class Ayt extends ji{constructor(t,i){switch(super(t,i),this.parent!==this.scene?this.focusMode=my(i,"focus",!0):this.focusMode=!1,typeof this.focusMode=="boolean"&&(this.focusMode=this.focusMode?1:0),this.setSpeed(my(i,"speed",.1)),this.setEnable(my(i,"enable",!0)),this.focusMode){case 0:case 2:this.scene.input.on("wheel",this.onSceneScroll,this);break;default:t.setInteractive(my(i,"inputConfig",void 0)).on("wheel",function(s,p,E,n,T){this.tryScroll(E)},this);break}}destroy(){switch(this.focusMode){case 0:case 2:this.scene.input.off("wheel",this.onSceneScroll,this);break}}onSceneScroll(t,i,s,p,E,n){this.focusMode===2&&!bo(this.parent,t)||this.tryScroll(p)}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}setSpeed(t){return this.speed=t,this}tryScroll(t){if(this.enable)return this.scroll(t),this}scroll(t){return t*=this.speed,this.emit("scroll",t,this.parent,this),this}}const tr=Phaser.Utils.Objects.GetValue,Oyt=Phaser.Math.Snap.To;var yy=function(e,t,i,s){i=i.toUpperCase();var p=i==="Y",E=e.scrollMode===2,n=e.childrenMap.child,T,r=`snapStep${i}`;if(E)T=tr(s,r,void 0);else{var T=tr(s,"snapStep",void 0);T===void 0&&(T=tr(s,r,void 0))}e[r]=T;var o,x,d=`slider${i}`;if(E||s.hasOwnProperty(d)?o=tr(s,d,void 0):o=tr(s,"slider",void 0),o){o===!0&&(o={}),o.orientation=p?1:0,x=dyt(e.scene,o);var h,l,a,f=tr(o,"position",0);typeof f=="string"&&(f=Lyt[f]);var c=tr(s,`space.slider${i}`,void 0),u;c===void 0&&(c=tr(s,"space.slider",void 0),c===void 0&&(E?c=0:u=tr(s,"space.child",0)));var v;u===void 0?v=typeof c=="number":v=typeof u=="number",p?f===0?(h=2,l=1,u===void 0?a=v?{left:c}:c:a={left:tr(u,"right",u)}):(h=0,l=1,u===void 0?a=v?{right:c}:c:a={right:tr(u,"left",u)}):f===0?(h=1,l=2,u===void 0?a=v?{top:c}:c:a={top:tr(u,"bottom",u)}):(h=1,l=0,u===void 0?a=v?{bottom:c}:c:a={bottom:tr(u,"top",u)}),t.add(x,{column:h,row:l,align:"center",padding:a,expand:!0}),e[`hideUnscrollableSlider${i}`]=tr(o,"hideUnscrollableSlider",!1),e[`disableUnscrollableDrag${i}`]=tr(o,"disableUnscrollableDrag",!1),e[`adaptThumb${i}SizeMode`]=tr(o,"adaptThumbSize",!1),e[`minThumb${i}Size`]=tr(o,"minThumbSize",void 0)}else e[`hideUnscrollableSlider${i}`]=!1,e[`disableUnscrollableDrag${i}`]=!1,e[`adaptThumb${i}SizeMode`]=!1,e[`minThumb${i}Size`]=void 0;var g=tr(s,"scrollDetectionMode");typeof g=="string"&&(g=Dyt[g]);var m,y,C=`scroller${i}`;E||s.hasOwnProperty(C)?m=tr(s,C,!0):m=tr(s,"scroller",!0),m&&n&&(m===!0&&(m={}),m.orientation=p?0:1,g!==void 0&&(m.rectBoundsInteractive=g===1),m.snapStep=T,y=new Myt(n,m),n.isRexContainerLite&&n.sendChildToBack(n));var P=tr(s,E?`mouseWheelScroller${i}`:"mouseWheelScroller",!1),w;if(P&&n&&(g!==void 0&&(P.focus=g===1?2:0),w=new Ayt(n,P)),e.addChildrenMap(`slider${i}`,x),e.addChildrenMap(`scroller${i}`,y),e.addChildrenMap(`mouseWheelScroller${i}`,w),(!E||p)&&(e.hideUnscrollableSlider=e[`hideUnscrollableSlider${i}`],e.disableUnscrollableDrag=e[`disableUnscrollableDrag${i}`],e.adaptThumbSizeMode=e[`adaptThumb${i}SizeMode`],e.minThumbSize=e[`minThumb${i}Size`],e.addChildrenMap("slider",x),e.addChildrenMap("scroller",y),e.addChildrenMap("mouseWheelScroller",w)),x){var M,R;E?(M=p?"t":"s",R=`scroll${i}`):(M="t",R="scroll"),x.on("valuechange",function(F){e[M]=F,e.emit(R,e)}).on("inputend",function(){var F=e[`snapStep${i}`];if(F){var G=e[p?"topChildOY":"leftChildOX"],I=e[p?"bottomChildOY":"rightChildOX"],B=e[`childO${i}`],k=Oyt(B,F,G),U=500*(Math.abs(k-B)/F);x.setEaseValueDuration(U).easeValueTo(k,G,I)}})}if(y){var A,R;E?(A=`childO${i}`,R=`scroll${i}`):(A="childOY",R="scroll"),y.on("valuechange",function(G){e[A]=G,e.emit(R,e)})}if(w){var L;E?L=`addChildO${i}`:L="addChildOY",w.on("scroll",function(F){var G=e[r];G&&(F=G),e[L](-F,!0)})}};const Lyt={right:0,left:1,bottom:0,top:1},Dyt={gameObject:0,rectBounds:1},xy=Phaser.Utils.Objects.GetValue;var Fyt=function(e,t){var i=e.scene,s=[0,1,0],p=[0,1,0],E=xy(t,"width"),n=xy(t,"height");if(!E){var T=xy(t,"child.expandWidth",!0);T||(s[1]=0)}if(!n){var r=xy(t,"child.expandHeight",!0);r||(p[1]=0)}var o=new Ha(i,{column:3,row:3,columnProportions:s,rowProportions:p});switch(V0t(e,o,t),e.scrollMode){case 0:yy(e,o,"y",t);break;case 1:yy(e,o,"x",t);break;default:yy(e,o,"y",t),yy(e,o,"x",t);break}return o};const vo=Phaser.Utils.Objects.GetValue;let rg=class extends qe{constructor(t,i){i===void 0&&(i={});var s=_M(i),p=s===1;i.orientation=p?0:1,super(t,i),this.type=vo(i,"type","rexScrollable"),this.scrollMode=s;var E=vo(i,"background",void 0);E&&this.addBackground(E);var n=vo(i,"header",void 0);if(n){var T=vo(i,"align.header","center"),r=vo(i,"space.header",0),o;p?o={right:r}:o={bottom:r},this.add(n,{proportion:0,align:T,padding:o,expand:vo(i,"expand.header",!0)})}var x=Fyt(this,i);x&&this.add(x,{proportion:1,align:"center",padding:0,expand:!0});var d=vo(i,"footer",void 0);if(d){var T=vo(i,"align.footer","center"),h=vo(i,"space.footer",0),o;p?o={left:h}:o={top:h},this.add(d,{proportion:0,align:T,padding:o,expand:vo(i,"expand.footer",!0)})}this.addChildrenMap("background",E),this.addChildrenMap("header",n),this.addChildrenMap("footer",d),this.runLayoutFlag=!1}postLayout(t,i,s){var p=0,E=0;return this.runLayoutFlag?(E=this.t,this.scrollMode===2&&(p=this.s)):this.runLayoutFlag=!0,this.resizeController(),this.setT(E),this.scrollMode===2&&this.setS(p),super.postLayout(t,i,s),this}set t(t){var i=this.childMargin;if(i.top!==0||i.bottom!==0){var s=this.childrenMap.child,p=s.topChildOY-s.bottomChildOY,E=p+i.top+i.bottom,n=E*t-i.top;t=p!==0?n/p:0}this.childrenMap.child.t=t,this.updateController()}get t(){var t=this.childrenMap.child.t,i=this.childMargin;if(i.top!==0||i.bottom!==0){var s=this.childrenMap.child,p=s.topChildOY-s.bottomChildOY,E=p+i.top+i.bottom,n=p*t+i.top;t=E!==0?n/E:0}return t}set s(t){var i=this.childMargin;if(i.left!==0||i.right!==0){var s=this.childrenMap.child,p=s.leftChildOX-s.rightChildOX,E=p+i.left+i.right,n=E*t-i.left;t=p!==0?n/p:0}this.childrenMap.child.s=t,this.updateController()}get s(){var t=this.childrenMap.child.s,i=this.childMargin;if(i.left!==0||i.right!==0){var s=this.childrenMap.child,p=s.leftChildOX-s.rightChildOX,E=p+i.left+i.right,n=p*t+i.left;t=E!==0?n/E:0}return t}set childOY(t){this.childrenMap.child.childOY=t,this.updateController()}get childOY(){return this.childrenMap.child.childOY}set childOX(t){this.childrenMap.child.childOX=t,this.updateController()}get childOX(){return this.childrenMap.child.childOX}get topChildOY(){return this.childrenMap.child.topChildOY+this.childMargin.top}get bottomChildOY(){return this.childrenMap.child.bottomChildOY-this.childMargin.bottom}get leftChildOX(){return this.childrenMap.child.leftChildOX+this.childMargin.left}get rightChildOX(){return this.childrenMap.child.rightChildOX-this.childMargin.right}get childVisibleHeight(){return this.childrenMap.child.childVisibleHeight}get childHeight(){return this.childrenMap.child.childHeight}get childVisibleWidth(){return this.childrenMap.child.childVisibleWidth}get childWidth(){return this.childrenMap.child.childWidth}get isOverflow(){var t=this.childrenMap.child;return t.topChildOY!==t.bottomChildOY}get isOverflowY(){return this.isOverflow}get isOverflowX(){var t=this.childrenMap.child;return t.leftChildOX!==t.rightChildOX}get sliderEnable(){var t=this.childrenMap.slider;return t?t.enable:!1}set sliderEnable(t){var i=this.childrenMap.slider;i&&i.setEnable(t)}setSliderEnable(t){return t===void 0&&(t=!0),this.sliderEnable=t,this}get sliderYEnable(){return this.sliderEnable}set sliderYEnable(t){this.sliderEnable=t}setSliderYEnable(t){return this.setSliderEnable(t),this}get sliderXEnable(){var t=this.childrenMap.sliderX;return t?t.enable:!1}set sliderXEnable(t){var i=this.childrenMap.sliderX;i&&i.setEnable(t)}setSliderXEnable(t){return t===void 0&&(t=!0),this.sliderXEnable=t,this}get scrollerEnable(){var t=this.childrenMap.scroller;return t?t.enable:!1}set scrollerEnable(t){var i=this.childrenMap.scroller;i&&i.setEnable(t)}setScrollerEnable(t){return t===void 0&&(t=!0),this.scrollerEnable=t,this}get scrollerYEnable(){return this.scrollerEnable}set scrollerYEnable(t){this.scrollerEnable=t}setScrollerYEnable(t){return this.setScrollerEnable(t),this}get scrollerXEnable(){var t=this.childrenMap.scrollerX;return t?t.enable:!1}set scrollerXEnable(t){var i=this.childrenMap.scrollerX;i&&i.setEnable(t)}setScrollerXEnable(t){return t===void 0&&(t=!0),this.scrollerXEnable=t,this}get scrollerXEnable(){var t=this.childrenMap.scrollerX;return t?t.enable:!1}set scrollerXEnable(t){var i=this.childrenMap.scrollerX;i&&i.setEnable(t)}setScrollerXEnable(t){return t===void 0&&(t=!0),this.scrollerXEnable=t,this}get mouseWheelScrollerEnable(){var t=this.childrenMap.mouseWheelScroller;return t?t.enable:!1}set mouseWheelScrollerEnable(t){var i=this.childrenMap.mouseWheelScroller;i&&i.setEnable(t)}setMouseWheelScrollerEnable(t){return t===void 0&&(t=!0),this.mouseWheelScrollerEnable=t,this}get mouseWheelScrollerYEnable(){return this.mouseWheelScrollerEnable}set mouseWheelScrollerYEnable(t){this.mouseWheelScrollerEnable=t}setMouseWheelScrollerYEnable(t){return this.setMouseWheelScrollerEnable(t),this}get mouseWheelScrollerXEnable(){var t=this.childrenMap.mouseWheelScrollerX;return t?t.enable:!1}set mouseWheelScrollerXEnable(t){var i=this.childrenMap.mouseWheelScrollerX;i&&i.setEnable(t)}setMouseWheelScrollerXEnable(t){return t===void 0&&(t=!0),this.mouseWheelScrollerXEnable=t,this}setDropZoneEnable(t){t===void 0&&(t=!0);var i=this.childrenMap.child;return i.setInteractive(),i.input.dropZone=t,this}};Object.assign(rg.prototype,Jk);var eR=function(e,t,i){var s=Oh(e);switch(s){case An:i=e.getWrappedText(t);break;case On:i=e.getPenManager(t,i);break;case Os:e.maxWidth>0?i=e.setText(t).getTextBounds().wrappedText.split(`
`):i=t.split(`
`);break}return i},Iyt=function(e){return e!==void 0&&(this.text=e),this.lines=eR(this.textObject,this.text,this.lines),this.linesCount=this.lines.length,this._textHeight=void 0,this._textVisibleHeight=void 0,this.updateTextObject(),this},_k=function(e){return(e-this.textLineSpacing)/(this.textLineHeight+this.textLineSpacing)},t8=function(e){return e*(this.textLineHeight+this.textLineSpacing)-this.textLineSpacing},Byt=function(e){var t=e+this.visibleLinesCount+1,i;switch(this.textObjectType){case An:i=this.lines.slice(e,t).join(`
`);break;case On:var s=this.lines.getLineStartIndex(e),p=this.lines.getLineEndIndex(t-1);i=this.lines.getSliceTagText(s,p,!0);break;case Os:i=this.lines.slice(e,t).join(`
`);break}return i},hT=function(e,t){var i=Oh(e);switch(i){case An:var E=e.style,s=E.wordWrapWidth,p=E.wordWrapCallback;E.wordWrapWidth=0,E.wordWrapCallback=void 0,e.setText(t),E.wordWrapWidth=s,E.wordWrapCallback=p;break;case On:var E=e.style,n=E.wrapMode;E.wrapMode=0,e.setText(t),E.wrapMode=n;break;case Os:var T=e._maxWidth;e._maxWidth=0,e.setText(t),e._maxWidth=T;break}},e8=function(){var e=this.textObject.rexSizer;this.textObject.y+=e.offsetY-e.preOffsetY,e.preOffsetY=e.offsetY,this.resetChildPositionState(this.textObject),this.textCropEnable&&Gyt.call(this)},Gyt=function(){if(this.textObject.setCrop){var e=this.textObject.rexSizer.offsetY,t,i;e<=0?(t=-e,i=this.height):(t=0,i=this.height-e),this.textObject.setCrop(0,t,this.width,i)}},kyt=function(){var e=Math.max(Math.floor(_k.call(this,-this.textOY)),0),t=t8.call(this,e)+this.textOY,i=Byt.call(this,e);return hT(this.textObject,i),this.textObject.rexSizer.offsetY=t,e8.call(this),this},Nyt=function(){return this._textLineHeight=void 0,this._textLineSpacing=void 0,this._visibleLinesCount=void 0,this._textHeight=void 0,this._textVisibleHeight=void 0,Zp.call(this),this},Uyt=function(e,t,i){if(i+=this.textLineHeight+this.textLineSpacing,!(this.textObjectWidth===t&&this._textObjectRealHeight===i)){switch(this.textObjectWidth=t,this._textObjectRealHeight=i,this.textObjectType){case An:case On:e.setFixedSize(t,i);var s=e.style,p=Math.max(t,0);this.textObjectType===An?s.wordWrapWidth=p:(s.wrapMode===0&&(s.wrapMode=1),s.wrapWidth=p);break;case Os:e.setMaxWidth(t);break}this.setText()}},Vyt=function(){var e,t,i,s=this.left,p=this.top,E,n,T,r;e=this.textObject,e.rexSizer.hidden||(t=e.rexSizer,i=t.padding,E=s+i.left*this.scaleX,n=p+i.top*this.scaleY,T=this.width*this.scaleX-(i.left+i.right)*this.scaleX,r=this.height*this.scaleY-(i.top+i.bottom)*this.scaleY,Uyt.call(this,e,T,r),Hp(e,E,n,T,r,t.align),t.preOffsetY=0,e8.call(this),this.textMask&&(this.textMask.setPosition().resize(),this.resetChildPositionState(this.textMask)))};const zyt={setText:Iyt,updateTextObject:kyt,preLayout:Nyt,layoutChildren:Vyt},TB=Phaser.Utils.Objects.IsPlainObject,ws=Phaser.Utils.Objects.GetValue,Wyt=Phaser.Display.Align.TOP_LEFT;class i8 extends Qu{constructor(t,i,s,p,E,n){TB(i)?(n=i,i=ws(n,"x",0),s=ws(n,"y",0),p=ws(n,"width",void 0),E=ws(n,"height",void 0)):TB(p)&&(n=p,p=ws(n,"width",void 0),E=ws(n,"height",void 0)),super(t,i,s,p,E,n),this.type="rexTextBlock",this.textObject=void 0,this.linesCount=0,this.textMask=void 0,this.textObjectType=void 0,this._textLineHeight=void 0,this._textLineSpacing=void 0,this._visibleLinesCount=void 0,this._textHeight=void 0,this._textVisibleHeight=void 0,this._textObjectRealHeight=0,this.lines=void 0,this.text=ws(n,"content",""),this._textOY=0,this.execeedTopState=!1,this.execeedBottomState=!1,this.setClampMode(ws(n,"clampTextOY",!0)),this.alwaysScrollable=ws(n,"alwaysScrollable",!1);var T=ws(n,"background",void 0),r=ws(n,"text",void 0);r===void 0&&(r=Yyt(t)),this.textCropEnable=ws(n,"textCrop",!!r.setCrop);var o=ws(n,"textMask",!this.textCropEnable);T&&this.addBackground(T),this.add(r),this.sizerChildren=[r];var x=this.getSizerConfig(r);x.align=Wyt,x.padding=ju(0),x.expand=!0,this.textObject=r,this.textObjectType=Oh(r),x.preOffsetY=0,x.offsetY=0,o&&(this.textMask=za.call(this,this.textObject,this)),this.addChildrenMap("background",T),this.addChildrenMap("text",r)}destroy(t){if(!(!this.scene||this.ignoreDestroy)){if(this.textObject=void 0,this.textMask=void 0,this.lines){switch(this.textObjectType){case An:this.lines.length=0;break;case On:this.lines.destroy();break;case Os:this.lines.length=0;break}this.lines=void 0}super.destroy(t)}}setClampMode(t){return t===void 0&&(t=!0),this.clampTextOY=t,this}get textLineHeight(){if(this._textLineHeight===void 0){var t;switch(this.textObjectType){case An:case On:var i=this.textObject.style;t=i.metrics.fontSize+i.strokeThickness;break;case Os:var s=this.textObject.fontSize/this.textObject.fontData.size;t=this.textObject.fontData.lineHeight*s;break}this._textLineHeight=t}return this._textLineHeight}get textLineSpacing(){if(this._textLineSpacing===void 0){var t;switch(this.textObjectType){case An:case On:t=this.textObject.lineSpacing;break;case Os:t=0;break}this._textLineSpacing=t}return this._textLineSpacing}get visibleLinesCount(){return this._visibleLinesCount===void 0&&(this._visibleLinesCount=Math.floor(_k.call(this,this._textObjectRealHeight))),this._visibleLinesCount}get topTextOY(){return 0}get bottomTextOY(){return-this.textVisibleHeight}get textHeight(){return this._textHeight===void 0&&(this._textHeight=t8.call(this,this.linesCount)),this._textHeight}get textObjectHeight(){return this._textObjectRealHeight-(this.textLineHeight+this.textLineSpacing)}get textVisibleHeight(){if(this._textVisibleHeight===void 0){var t=this.textHeight-this.textObjectHeight;!this.alwaysScrollable&&t<0&&(t=0),this._textVisibleHeight=t}return this._textVisibleHeight}textOYExceedTop(t){return t===void 0&&(t=this.textOY),t>this.topTextOY}textOYExeceedBottom(t){return t===void 0&&(t=this.textOY),t<this.bottomTextOY}get textOY(){return this._textOY}set textOY(t){var i=this.topTextOY,s=this.bottomTextOY,p=this.textOYExceedTop(t),E=this.textOYExeceedBottom(t);this.clampTextOY&&(this.visibleLinesCount>this.linesCount?t=0:p?t=i:E&&(t=s)),this._textOY!==t&&(this._textOY=t,this.updateTextObject()),p&&(this.execeedTopState||this.emit("execeedtop",this,t,i)),this.execeedTopState=p,E&&(this.execeedBottomState||this.emit("execeedbottom",this,t,s)),this.execeedBottomState=E}setTextOY(t){return this.textOY=t,this}set t(t){this.textOY=-this.textVisibleHeight*t}get t(){var t=this.textVisibleHeight;return t===0?0:this.textOY/-t}setTextOYByPercentage(t){return this.t=t,this}}var Yyt=function(e){return e.add.text(0,0,"")};Object.assign(i8.prototype,zyt);var Xyt=function(e){Object.defineProperty(e,"childOY",{configurable:!0,get:function(){return e.textOY},set:function(t){e.textOY=t}}),Object.defineProperty(e,"topChildOY",{get:function(){return e.topTextOY}}),Object.defineProperty(e,"bottomChildOY",{get:function(){return e.bottomTextOY}}),Object.defineProperty(e,"childVisibleHeight",{get:function(){return e.textObjectHeight}}),Object.defineProperty(e,"childHeight",{get:function(){return e.textHeight}})};const Hyt={setText(e){var t=this.childrenMap.child;return t.setText(e),this.resizeController(),this},appendText(e){return this.setText(this.text+e),this}},$yt={scrollToLine(e){return this.setChildOY(-this.lineHeight*e),this},scrollToNextLine(e){e===void 0&&(e=1);var t=this.lineIndex+e;return this.scrollToLine(t),this}},po=Phaser.Utils.Objects.GetValue;class ng extends rg{constructor(t,i){i===void 0&&(i={});var s=po(i,"text",void 0),p=po(i,"textWidth",void 0),E=po(i,"textHeight",void 0),n=po(i,"textCrop",!!s.setCrop),T=po(i,"textMask",!n),r=po(i,"content",""),o=new i8(t,{width:p,height:E,text:s,textMask:T,textCrop:n&&!T,content:r,clampTextOY:po(i,"clampChildOY",!1),alwaysScrollable:po(i,"alwaysScrollable",!1)});t.add.existing(o),Xyt(o),i.scrollMode=0,i.type="rexTextArea",i.child={gameObject:o,expandWidth:p===void 0,expandHeight:E===void 0};var x=po(i,"space",void 0);x&&(x.child=po(x,"text",0)),super(t,i),this.addChildrenMap("text",s)}get text(){return this.childrenMap.child.text}get lineHeight(){var t=this.childrenMap.child;return t.textLineHeight+t.textLineSpacing}get lineIndex(){return Math.floor(-this.childOY/this.lineHeight)}get linesCount(){var t=this.childrenMap.child;return t.linesCount}get contentHeight(){var t=this.childrenMap.child;return t.textHeight}}Object.assign(ng.prototype,Hyt,$yt);const Ty=Phaser.Utils.Objects.GetValue;var r8=function(e,t,i){t=t?tn(t):{};var s=Ty(i,"background",Vr),p=Ty(i,"text",iR),E=Ty(i,"track",Vr),n=Ty(i,"thumb",Vr);s?t.background=s(e,t.background):delete t.background,p?t.text=p(e,t.text):delete t.text;var T=t.slider;T!==!1&&T!==null&&(T===void 0&&(T={}),E?T.track=E(e,T.track):delete T.track,n?T.thumb=n(e,T.thumb):delete T.thumb,t.slider=T);var r=new ng(e,t);return e.add.existing(r),r},iR=function(e,t){var i;t&&(t.hasOwnProperty("$type")?i=t.$type:t.hasOwnProperty("key")&&(i="bitmaptext",t.font=t.key));var s;switch(i){case"bitmaptext":case"bitmap":s=new oT(e,t);break;case"bbcodetext":case"bbcode":s=new Hw(e,0,0,"",t);break;case"label":s=new sg(e,t);break;case"textarea":s=r8(e,t);break;default:s=new aT(e,t);break}return qM(s,t),e.add.existing(s),s},CB=function(e,t){var i;t&&(t.hasOwnProperty("$type")?i=t.$type:t.hasOwnProperty("leftWidth")?i="nineSlice":(t.hasOwnProperty("color")||t.hasOwnProperty("strokeColor"))&&(i="roundRectangle"));var s;switch(i){case"nineSlice":t.hasOwnProperty("stretchMode")?s=new ig(e,t):s=new eg(e,t);break;case"roundRectangle":s=new tg(e,t);break;default:s=new _p(e,t);break}return qM(s,t),e.add.existing(s),s};const Cy=Phaser.Utils.Objects.GetValue;var uT=function(e,t,i){t=t?tn(t):{};var s=Cy(i,"background",Vr),p=Cy(i,"text",iR),E=Cy(i,"icon",CB),n=Cy(i,"action",CB);return t.background!==null&&s?t.background=s(e,t.background):delete t.background,t.text!==null&&p?t.text=p(e,t.text):delete t.text,t.icon!==null&&E?t.icon=E(e,t.icon):delete t.icon,t.action!==null&&n?t.action=n(e,t.action):delete t.action,t};class sg extends Sl{constructor(t,i,s){i=uT(t,i,s),super(t,i),this.type="rexSimpleLabel"}setActiveState(t){return sP(this.getChildren(),"setActiveState",t),this}setHoverState(t){return sP(this.getChildren(),"setHoverState",t),this}setDisableState(t){return sP(this.getChildren(),"setDisableState",t),this}}var sP=function(e,t,i){for(var s=0,p=e.length;s<p;s++){var E=e[s];E&&E[t]&&E[t](i)}};It.register("simpleLabel",function(e,t){var i=new sg(this.scene,e,t);return this.scene.add.existing(i),i});Lt(window,"RexPlugins.UI.SimpleLabel",sg);const Ne=Phaser.Utils.Objects.GetValue;var Kyt=function(e){var t=this.scene,i=Ne(e,"orientation",0);this.setOrientation(i);var s=Ne(e,"icon",void 0),p=Ne(e,"iconMask",void 0),E=Ne(e,"innerBackground",void 0),n=Ne(e,"title",void 0),T=Ne(e,"separator",void 0),r=Ne(e,"text",void 0),o=Ne(e,"action",void 0),x=Ne(e,"actionMask",void 0);if(s){var d=Ne(e,"align.icon","center"),C;this.orientation===0?C={right:Ne(e,"space.icon",0),top:Ne(e,"space.iconTop",0),bottom:Ne(e,"space.iconBottom",0),left:Ne(e,"space.iconLeft",0)}:C={bottom:Ne(e,"space.icon",0),left:Ne(e,"space.iconLeft",0),right:Ne(e,"space.iconRight",0),top:Ne(e,"space.iconTop",0)};var h=Ne(e,"squareFitIcon",!1)?1:0;if(this.add(s,{proportion:0,align:d,padding:C,fitRatio:h}),p&&(p=za.call(this,s,s,1)),!h){var l=Ne(e,"iconSize",void 0);this.setIconSize(Ne(e,"iconWidth",l),Ne(e,"iconHeight",l))}}var a=new qe(t,{orientation:1});E&&a.addBackground(E);var f=Ne(e,"space.separator",0);if(n){var d=Ne(e,"align.title","left"),c=Ne(e,"expandTitleWidth",!1),u=Ne(e,"expandTitleHeight",!1),v,C,g;v=u?1:0,g=c,C={bottom:!T&&r?Ne(e,"space.title",f):0,left:Ne(e,"space.titleLeft",0),right:Ne(e,"space.titleRight",0)},a.add(n,{proportion:v,expand:g,align:d,padding:C})}if(T){var C={top:n?f:0,bottom:r?f:0,left:Ne(e,"space.separatorLeft",0),right:Ne(e,"space.separatorRight",0)};a.add(T,{expand:!0,padding:C})}if(r){var d=Ne(e,"align.text","left"),m=Ne(e,"expandTextWidth",!1),y=Ne(e,"expandTextHeight",!1),v,C,g;v=y?1:0,g=m,C={left:Ne(e,"space.textLeft",0),right:Ne(e,"space.textRight",0)},a.add(r,{proportion:v,expand:g,align:d,padding:C})}var C=void 0;if(o&&(C={right:Ne(e,"space.text",0)}),this.add(a,{proportion:1,padding:C}),o){var d=Ne(e,"align.action","center"),C;this.orientation===0?C={top:Ne(e,"space.actionTop",0),bottom:Ne(e,"space.actionBottom",0),right:Ne(e,"space.actionRight",0)}:C={left:Ne(e,"space.actionLeft",0),right:Ne(e,"space.actionRight",0),bottom:Ne(e,"space.actionBottom",0)};var h=Ne(e,"squareFitAction",!1)?1:0;if(this.add(o,{proportion:0,align:d,padding:C,fitRatio:h}),x&&(x=za.call(this,o,o,1)),!h){var P=Ne(e,"actionSize");this.setActionSize(Ne(e,"actionWidth",P),Ne(e,"actionHeight",P))}}this.addChildrenMap("icon",s),this.addChildrenMap("iconMask",p),this.addChildrenMap("innerSizer",a),this.addChildrenMap("innerBackground",E),this.addChildrenMap("title",n),this.addChildrenMap("separator",T),this.addChildrenMap("text",r),this.addChildrenMap("action",o),this.addChildrenMap("actionMask",x)};const De=Phaser.Utils.Objects.GetValue;var Zyt=function(e){this.setOrientation(1),this.setRTL(!1);var t=this.scene,i=De(e,"title",void 0),s=De(e,"separator",void 0),p=De(e,"innerBackground",void 0),E=De(e,"icon",void 0),n=De(e,"iconMask",void 0),T=De(e,"text",void 0),r=De(e,"action",void 0),o=De(e,"actionMask",void 0);if(i){var x=De(e,"align.title","left"),d=De(e,"expandTitleWidth",!1),h=De(e,"expandTitleHeight",!1),l,a,f;l=h?1:0,f=d,a={bottom:De(e,"space.title",0),left:De(e,"space.titleLeft",0),right:De(e,"space.titleRight",0)},this.add(i,{proportion:l,expand:f,align:x,padding:a})}if(s){var c=De(e,"space.separator",0),a={top:i?c:0,bottom:T?c:0,left:De(e,"space.separatorLeft",0),right:De(e,"space.separatorRight",0)};this.add(s,{proportion:0,expand:!0,padding:a})}var u=De(e,"orientation",0),v=new qe(t,{orientation:u,rtl:De(e,"rtl",!1),space:{left:De(e,"space.innerLeft",0),right:De(e,"space.innerRight",0),top:De(e,"space.innerTop",0),bottom:De(e,"space.innerBottom",0)}});if(p&&v.addBackground(p),this.add(v,{proportion:1,expand:!0}),E){var x=De(e,"align.icon","center"),a;v.orientation===0?a={right:De(e,"space.icon",0),top:De(e,"space.iconTop",0),bottom:De(e,"space.iconBottom",0),left:De(e,"space.iconLeft",0)}:a={bottom:De(e,"space.icon",0),left:De(e,"space.iconLeft",0),right:De(e,"space.iconRight",0),top:De(e,"space.iconTop",0)};var g=De(e,"squareFitIcon",!1)?1:0;if(v.add(E,{proportion:0,align:x,padding:a,fitRatio:g}),n&&(n=za.call(this,E,E,1)),!g){var m=De(e,"iconSize",void 0);this.setIconSize(De(e,"iconWidth",m),De(e,"iconHeight",m))}}if(T){var x=De(e,"align.text","left"),y=De(e,"space.text",0),C=De(e,"expandTextWidth",!1),P=De(e,"expandTextHeight",!1),l,a,f;v.orientation===0?(l=C?1:0,r&&(a={right:y}),f=P):(l=P?1:0,r&&(a={bottom:y}),f=C),v.add(T,{proportion:l,expand:f,align:x,padding:a})}if(r){var x=De(e,"align.action","center"),a;v.orientation===0?a={top:De(e,"space.actionTop",0),bottom:De(e,"space.actionBottom",0),right:De(e,"space.actionRight",0)}:a={left:De(e,"space.actionLeft",0),right:De(e,"space.actionRight",0),bottom:De(e,"space.actionBottom",0)};var g=De(e,"squareFitAction",!1)?1:0;if(v.add(r,{proportion:0,align:x,padding:a,fitRatio:g}),o&&(o=za.call(this,r,r,1)),!g){var w=De(e,"actionSize");this.setActionSize(De(e,"actionWidth",w),De(e,"actionHeight",w))}}this.addChildrenMap("title",i),this.addChildrenMap("separator",s),this.addChildrenMap("innerSizer",v),this.addChildrenMap("innerBackground",p),this.addChildrenMap("icon",E),this.addChildrenMap("iconMask",n),this.addChildrenMap("text",T),this.addChildrenMap("action",r),this.addChildrenMap("actionMask",o)};const ah=Phaser.Utils.Objects.GetValue,SB=[Kyt,Zyt];class fT extends ZM{constructor(t,i){i===void 0&&(i={}),super(t,i),this.type="rexTitleLabel";var s=ah(i,"background",void 0);s&&this.addBackground(s);var p=ah(i,"title",void 0),E=ah(i,"text",void 0);if(p){var n=ah(i,"wrapTitle",!1),T=ah(i,"adjustTitleFontSize",!1);n?(n===!0&&(n="word"),ew(p,n),i.expandTitleWidth=!0,ux(p)):T&&(i.expandTextWidth=!0,i.expandTextHeight=!0,dx(p,{fitHeight:!0}))}if(E){var r=ah(i,"wrapText",!1),o=ah(i,"adjustTextFontSize",!1);r?(r===!0&&(r="word"),ew(E,r),i.expandTextWidth=!0,ux(E)):o&&(i.expandTextWidth=!0,i.expandTextHeight=!0,dx(E,{fitHeight:!0}))}var x=ah(i,"layoutMode",0),d=SB[x]||SB[0];d.call(this,i),this.addChildrenMap("background",i.background)}get title(){var t=this.childrenMap.title;return t?t.title:""}set title(t){var i=this.childrenMap.title;i&&i.setText(t)}setTitle(t){return this.title=t,this}resetDisplayContent(t){t===void 0?t={}:typeof t=="string"&&(t={text:t}),super.resetDisplayContent(t);var i=this.childrenMap.title;return i&&(t.title===void 0||(t.title?(this.show(i),this.setTitle(t.title)):this.hide(i))),this}}It.register("titleLabel",function(e){var t=new fT(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.TitleLabel",fT);const aP=Phaser.Utils.Objects.GetValue;var n8=function(e,t,i){var s=aP(i,"innerBackground",Vr),p=aP(i,"separator",Vr),E=aP(i,"title",iR),n,T;t.innerBackground!==null&&s&&(n=s(e,t.innerBackground)),t.separator!==null&&p&&(T=p(e,t.separator)),t=uT(e,t,i),n?t.innerBackground=n:delete t.innerBackground,T?t.separator=T:delete t.separator,t.title!==null&&E?t.title=E(e,t.title):delete t.title;var r=t.background;return r&&(n?e.children.moveBelow(r,n):T&&e.children.moveBelow(r,T)),t};class s8 extends fT{constructor(t,i,s){i=n8(t,i,s),super(t,i),this.type="rexSimpleTitleLabel"}setActiveState(t){return oP(this.getChildren(),"setActiveState",t),this}setHoverState(t){return oP(this.getChildren(),"setHoverState",t),this}setDisableState(t){return oP(this.getChildren(),"setDisableState",t),this}}var oP=function(e,t,i){for(var s=0,p=e.length;s<p;s++){var E=e[s];E&&E[t]&&E[t](i)}};It.register("simpleTitleLabel",function(e,t){var i=new s8(this.scene,e,t);return this.scene.add.existing(i),i});Lt(window,"RexPlugins.UI.SimpleTitleLabel",s8);const ci=Phaser.Utils.Objects.GetValue,Jyt=Phaser.Utils.Objects.IsPlainObject;var jyt=function(e,t){var i=ci(t,"background",void 0),s=ci(t,"icon",void 0),p=ci(t,"iconMask",void 0),E=ci(t,"nameText",void 0),n=ci(t,"valueText",void 0),T=ci(t,"bar",void 0),r=ci(t,"action",void 0),o=ci(t,"actionMask",void 0),x=ci(t,"barShape","line")==="line";if(Jyt(T)){var d=x?lM:Vx;T=new d(e,T),e.add.existing(T),E&&e.children.moveBelow(T,E),n&&e.children.moveBelow(T,n)}var h=E||n||T;if(i&&this.addBackground(i),s){var l=void 0;this.orientation===0?(h||r)&&(l={right:ci(t,"space.icon",0),top:ci(t,"space.iconTop",0),bottom:ci(t,"space.iconBottom",0)}):(h||r)&&(l={bottom:ci(t,"space.icon",0),left:ci(t,"space.iconLeft",0),right:ci(t,"space.iconRight",0)}),this.add(s,{proportion:0,padding:l}),p&&(p=za.call(this,s,s,1))}if(h){var a=new qe(e,{orientation:1}),f;if(E||n){if(f=new qe(e,{orientation:0}),E){E.text===""&&E.setText(" "),E.setOrigin(0,E.originY);var l={left:ci(t,"space.name",0)};f.add(E,{padding:l})}if(n){n.text===""&&n.setText(" "),n.setOrigin(1,n.originY),f.addSpace();var l={right:ci(t,"space.value",0)};f.add(n,{padding:l}),this.setValueTextFormatCallback(ci(t,"valueTextFormatCallback",Qyt),ci(t,"valueTextFormatCallbackScope",void 0))}a.add(f,{expand:!0})}if(T)if(x){var c=f?ci(t,"space.bar"):0;c===void 0&&(c=ci(t,"space.barTop",0));var l={top:c,bottom:ci(t,"space.barBottom",0),left:ci(t,"space.barLeft",0),right:ci(t,"space.barRight",0)};a.add(T,{expand:!0,padding:l})}else{var l={top:ci(t,"space.barTop",0),bottom:ci(t,"space.barBottom",0),left:ci(t,"space.barLeft",0),right:ci(t,"space.barRight",0)};this.addBackground(T,l)}var l=void 0;r&&(l={right:ci(t,"space.text",0)});var u=ci(t,"align.text","bottom");this.add(a,{proportion:1,align:u,padding:l})}if(r){var l;this.orientation===0?l={top:ci(t,"space.actionTop",0),bottom:ci(t,"space.actionBottom",0)}:l={left:ci(t,"space.actionLeft",0),right:ci(t,"space.actionRight",0)},this.add(r,{proportion:0,padding:l}),o&&(o=za.call(this,r,r,1))}this.addChildrenMap("background",i),this.addChildrenMap("icon",s),this.addChildrenMap("iconMask",p),this.addChildrenMap("name",E),this.addChildrenMap("value",n),this.addChildrenMap("bar",T),this.addChildrenMap("action",r),this.addChildrenMap("actionMask",o)},Qyt=function(e,t,i){return e.toString()};const qyt=Phaser.Math.Clamp,_yt={setValueTextFormatCallback(e,t){return this.valueTextFormatCallback=e,this.valueTextFormatCallbackScope=t,this},getFormatValueText(e,t,i){e===void 0&&(e=this.value),t===void 0&&(t=this.minValue),i===void 0&&(i=this.maxValue);var s;return this.valueTextFormatCallbackScope?s=this.valueTextFormatCallback(e,t,i):s=this.valueTextFormatCallback.call(this.valueTextFormatCallbackScope,e,t,i),s},updateValueText(e,t,i){var s=this.childrenMap.value;return s&&this.valueTextFormatCallback&&(s.setText(this.getFormatValueText(e,t,i)),s.layout&&s.layout()),this},setValue(e,t,i){return t===void 0?t=this.minValue:this.minValue=t,i===void 0?i=this.maxValue:this.maxValue=i,e=qyt(e,t,i),this.value=e,this.updateValueText(e,t,i),this.setBarValue(e,t,i),this},setEaseValueDuration(e){return this.easeValueDuration=e,this},easeValueTo(e,t,i){return t===void 0?t=this.minValue:this.minValue=t,i===void 0?i=this.maxValue:this.maxValue=i,this.easeValueTask===void 0&&(this.easeValueTask=new gl(this),this.easeValueTask.on("update",function(){this.setValue(this.value,this.minValue,this.maxValue)},this)),this.easeValueTask.restart({key:"value",to:e,duration:this.easeValueDuration}),this}};class dT extends qe{constructor(t,i){super(t,i),this.type="rexNameValueLabel",jyt.call(this,t,i),this.setEaseValueDuration(1e3)}get nameText(){var t=this.childrenMap.name;return t===void 0?"":t.text}set nameText(t){var i=this.childrenMap.name;i!==void 0&&i.setText(t)}setNameText(t){return this.nameText=t,this}get valueText(){var t=this.childrenMap.value;return t===void 0?"":t.text}set valueText(t){var i=this.childrenMap.value;i!==void 0&&i.setText(t)}setValueText(t){return this.valueText=t,this}get barValue(){var t=this.childrenMap.bar;if(t!==void 0)return t.value}set barValue(t){var i=this.childrenMap.bar;i!==void 0&&i.setValue(t)}setBarValue(t,i,s){var p=this.childrenMap.bar;return p===void 0?this:(p.setValue(t,i,s),this)}easeBarValueTo(t,i,s){var p=this.childrenMap.bar;return p===void 0?this:(p.easeValueTo(t,i,s),this)}setTexture(t,i){var s=this.childrenMap.icon;if(s!==void 0)return s.setTexture(t,i),this}get texture(){var t=this.childrenMap.icon;if(t!==void 0)return t.texture}get frame(){var t=this.childrenMap.icon;if(t!==void 0)return t.frame}postLayout(t,i,s){var p=this.childrenMap.iconMask;p&&(p.setPosition(),this.resetChildPositionState(p));var E=this.childrenMap.actionMask;return E&&(E.setPosition(),this.resetChildPositionState(E)),super.postLayout(t,i,s),this}resize(t,i){super.resize(t,i);var s=this.childrenMap.iconMask;s&&s.resize();var p=this.childrenMap.actionMask;return p&&p.resize(),this}}Object.assign(dT.prototype,_yt);It.register("nameValueLabel",function(e){var t=new dT(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.NameValueLabel",dT);class txt extends pG{constructor(t){super(),this.setTable(Ti(t,"table")),this.setMaxLevel(Ti(t,"maxLevel"));var i=Ti(t,"exp",0),s=Ti(t,"level",void 0);s!==void 0&&!this.checkLevel(s,i)&&(console.error(`Level ${s} and Exp ${i} are mismatch`),s=void 0),this.resetExp(i,s)}setTable(t){return this.levelTable=t,this.isLevelMapFunction=Ua(t),this}setMaxLevel(t){t===void 0&&(Array.isArray(this.levelTable)?t=this.levelTable.length-1:t=-1);var i;return t!==-1?i=this.getExp(t):i=-1,this.hasMaxLevel=t!==-1,this.maxLevel=t,this.maxExp=i,this}resetExp(t,i){return this.hasMaxLevel&&t>this.maxExp&&(t=this.maxExp),i===void 0&&(i=this.getLevel(t)),this._exp=t,this._level=i,this._requiredExp=this.getRequiredExpToNextLevel(i,t),this}get exp(){return this._exp}set exp(t){if(this.hasMaxLevel&&t>this.maxExp&&(t=this.maxExp),t<this._exp){this.resetExp(t);return}if(t!==this._exp){for(var i=this.getLevel(t,this._level),s=this._level,p=this._exp,E;;){var n=this.getExp(s),T=this.getExp(s+1);if(E=Math.min(T,t),this.emit("levelup",s,p,E,n,T),s===i&&E===t)break;s++,p=T}this.resetExp(t,i)}}get level(){return this._level}set level(t){this.hasMaxLevel&&t>this.maxLevel?this.exp=this.maxExp:this.exp=this.getExp(t)}get requiredExp(){return this._requiredExp}getExp(t){return t===void 0?this._exp:this.isLevelMapFunction?this.levelTable(t):(this.hasMaxLevel&&t>this.maxLevel&&(t=this.maxLevel),this.levelTable[t])}getLevel(t,i){if(t===void 0)return this._level;for(i===void 0&&(i=0);;){var s=this.getExp(i+1);if(s>t||(i++,this.hasMaxLevel&&s===this.maxExp))break}return i}getRequiredExpToNextLevel(t,i){return t===void 0&&(t=this.level),i===void 0&&(i=this.exp),this.getExp(t+1)-i}checkLevel(t,i){return i>=this.getExp(t)&&i<this.getExp(t+1)}gainExp(t,i,s){return i&&this.on("levelup",i,s),this.exp+=t,i&&this.off("levelup",i,s),this}setExp(t,i,s){return i&&this.on("levelup",i,s),this.exp=t,i&&this.off("levelup",i,s),this}setLevel(t,i,s){return i&&this.on("levelup",i,s),this.level=t,i&&this.off("levelup",i,s),this}}var iw=function(e,t,i){var s=Ti(i,"reverse",!1),p;if(Va(e[0]))if(s)for(var n=e.length,E=n-1;E>=0;E--)p=iw(e[E],t,i);else for(var E=0,n=e.length;E<n;E++)p=iw(e[E],t,i);else p=ext(e,t,i);return p},ext=function(e,t,i){var s=Ti(i,"argsConvert",void 0),p=Ti(i,"argsConvertScope",void 0),E=e[0];if(oh=ix(oh,e,1),s){s===!0&&(s=qw,p=void 0);for(var n=0,T=oh.length;n<T;n++)p?oh[n]=s.call(p,oh[n],e):oh[n]=s(oh[n],e)}var r;typeof E=="string"?(r=t[E],r==null&&(r=Ti(t,E,null))):r=E;var o=r.apply(t,oh);return o},oh=[];const Oa=Phaser.Utils.Objects.GetValue;class a8 extends ji{constructor(t,i){super(t,i);var s=Oa(i,"clock",void 0);s||(s=new hG(t)),this.clock=s,this.clock.on("update",this.update,this),this.commands=[],this.resetFromJSON(i)}resetFromJSON(t){return this.clock.resetFromJSON(Oa(t,"clock",void 0)),this.state=Oa(t,"state",0),this.commands=Oa(t,"commands",[]),this.scope=Oa(t,"scope",void 0),this.setTimeUnit(Oa(t,"timeUnit",0)),this.setDtMode(Oa(t,"dtMode",0)),this.index=Oa(t,"index",0),this.nextTime=Oa(t,"nextTime",0),this}toJSON(){return{clock:this.clock.toJSON(),state:this.state,commands:this.commands,scope:this.scope,timeUnit:this.timeUnit,dtMode:this.dtMode,index:this.index,nextTime:this.nextTime}}shutdown(t){this.isShutdown||(this.clock.shutdown(t),this.commands=void 0,super.shutdown(t))}load(t,i,s){this.stop();var p=Oa(s,"timeUnit",void 0);p!==void 0&&this.setTimeUnit(p);var E=Oa(s,"dtMode",void 0);return E!==void 0&&this.setDtMode(E),t=t.filter(function(n){var T=n[0];return!isNaN(T)}).map(function(n){var T=n[0];return typeof T=="string"&&(n[0]=parseFloat(n[0])),n}),this.dtMode===0&&t.sort(function(n,T){var r=n[0],o=T[0];return r>o?1:r<o?-1:0}),ix(this.commands,t),this.scope=i,this}clear(){return this.commands.length=0,this}append(t,i,...s){var p;return Array.isArray(i)?p=i:p=[i,...s],this.commands.push([t,p]),this}start(t){return t===void 0&&(t=0),this.stop(),this.index=0,this.state=1,this.nextTime=this.getNextDt(0),this.clock.start(t),this.update(t),this.emit("start",this.parent,this),this}pause(){return this.clock.pause(),this.emit("pause",this.parent,this),this}resume(){return this.clock.resume(),this.emit("resume",this.parent,this),this}stop(){return this.clock.stop(),this.state=0,this.emit("stop",this.parent,this),this}seek(t){return this.clock.seek(t),this}seekToNext(){return this.seek(this.nextTime),this}get isPlaying(){return this.clock.isRunning}get completed(){return this.state===2}get timeScale(){return this.clock.timeScale}set timeScale(t){this.clock.timeScale=t}setTimeScale(t){return this.timeScale=t,this}get now(){return this.clock.now}update(t){if(this.nextTime>t)return this;for(var i=this.commands;;){var s=i[this.index],p=s[1];if(Va(p)||(p=ix(ixt,s,1)),iw(p,this.scope),this.emit("runcommand",p,this.scope),this.index>=i.length-1)return this.nextTime=0,this.complete(),this;if(this.index++,this.nextTime=this.getNextDt(this.nextTime),this.nextTime>t)return this}}complete(){this.clock.stop(),this.state=2,this.emit("complete",this.parent,this)}getNextDt(t){var i=this.commands[this.index][0];return this.timeUnit===1&&(i=i*1e3),this.dtMode===1&&(i+=t),i}setDtMode(t){return typeof t=="string"&&(t=nxt[t]),this.dtMode=t,this}setTimeUnit(t){return typeof t=="string"&&(t=rxt[t]),this.timeUnit=t,this}}var ixt=[];const rxt={ms:0,s:1,sec:1},nxt={abs:0,absolute:0,inc:1,increment:1};var sxt=function(e,t,i,s,p){var E=(i-t)/(p-s)*this.totalEaseDuration,n=i===p?e+1:e;this.player.append(0,this.setEaseValueDuration,E).append(0,this.easeValueTo,i,s,p).append(0,this.emit,"levelup.start",e,t,i,this).append(E,Ur).append(0,this.emit,"levelup.end",n,t,i,this),this.player.isPlaying||this.player.start()};const axt={setExpTable(e){return this.levelCounter.setTable(e),this},resetExp(e){return this.levelCounter.resetExp(e),this.setValue(this.exp,this.getExp(this.level),this.getExp(this.level+1)),this},getExp(e){return this.levelCounter.getExp(e)},getLevel(e,t){return this.levelCounter.getLevel(e,t)},getRequiredExpToNextLevel(e,t){return this.levelCounter.getRequiredExpToNextLevel(e,t)},gainExp(e){return this.levelCounter.gainExp(e),this},setExp(e){return this.levelCounter.setExp(e),this},setLevel(e){return this.levelCounter.setLevel(e),this}},EB=Phaser.Utils.Objects.GetValue;class rR extends dT{constructor(t,i){super(t,i),this.type="rexExpBar",this.setTotalEaseDuration(EB(i,"easeDuration",1e3)),this.levelCounter=new txt(EB(i,"levelCounter")),this.player=new a8(this,{scope:this,dtMode:1}),this.levelCounter.on("levelup",sxt,this),this.player.on("complete",function(){this.player.clear(),this.emit("levelup.complete",this.level,this)},this),this.setValue(this.exp,this.getExp(this.level),this.getExp(this.level+1))}destroy(t){!this.scene||this.ignoreDestroy||(this.levelCounter.destroy(),this.levelCounter=void 0,this.player.destroy(),this.player=void 0,super.destroy(t))}get exp(){return this.levelCounter.exp}set exp(t){this.levelCounter.exp=t}get level(){return this.levelCounter.level}set level(t){this.levelCounter.level=t}get requiredExp(){return this.levelCounter.requiredExp}setTotalEaseDuration(t){return this.totalEaseDuration=t,this}}Object.assign(rR.prototype,axt);It.register("expBar",function(e){var t=new rR(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.ExpBar",rR);const Sy=qe.prototype.add,bB=qe.prototype.addSpace;var lP=function(e){var t=!e.isRexSpace,i=!t||this.buttonsExpand?1:0;if(this.sizerChildren.length===0)if(t){var s=!this.buttonsExpand&&(this.buttonsAlign==="right"||this.buttonsAlign==="center"||this.buttonsAlign==="bottom");s&&bB.call(this),Sy.call(this,e,{proportion:i,expand:!0});var p=!this.buttonsExpand&&this.buttonsAlign==="center";p&&bB.call(this),this.hasTailSpace=p}else Sy.call(this,e,{proportion:i,expand:!0}),this.hasTailSpace=!1;else if(this.hasTailSpace){var E=this.sizerChildren.length-1;Sy.call(this,e,{index:E,proportion:i,expand:!0})}else Sy.call(this,e,{proportion:i,expand:!0});return t&&this.buttonGroup.add(e),this};const oxt={addButton(e){if(Va(e))for(var t=e,i=0,s=t.length;i<s;i++)lP.call(this,t[i]);else lP.call(this,e);return this},addButtons(e){for(var t=0,i=e.length;t<i;t++)lP.call(this,e[t]);return this}},lxt=qe.prototype.remove,hxt=qe.prototype.clear;var hP=function(e,t){return this.getParentSizer(e)!==this?this:(this.buttonGroup.remove(e),lxt.call(this,e,t),this)};const uxt={remove(e,t){if(Va(e))for(var i=e,s=0,p=i.length;s<p;s++)hP.call(this,i[s],t);else hP.call(this,e,t);return this},clear(e){var t=this.buttonGroup.buttons;return t.length=0,hxt.call(this,e),this},removeButton(i,t){var i=this.getButton(i);return i?(this.remove(i,t),this):this},clearButtons(e){for(var t=this.buttonGroup.buttons,i=t.length-1;i>=0;i--)hP.call(this,t[i],e);return this}};var fxt=function(e,t,i){if(e){var s=this.setValueCallback,p=this.setValueCallbackScope;s&&(p?s.call(p,e,t,i):s(e,t,i)),this.fireEvent("button.statechange",e,t,i)}},dxt=function(e){var t=this;e._selected=void 0,Object.defineProperty(e,"selected",{get:function(){return e._selected},set:function(i){if(e._selected!==i){var s=e._selected;e._selected=i,fxt.call(t,e,i,s)}},enumerable:!0,configurable:!0}),e.selected=!1};const cxt={add(e){return this.buttons.push(e),e._click||(e._click=new xl(e,this.clickConfig),e._click.on("click",function(t,i,s,p){this.fireEvent("button.click",i,s,p)},this).on("enable",function(t,i){this.fireEvent("button.enable",i)},this).on("disable",function(t,i){this.fireEvent("button.disable",i)},this).on("over",function(t,i,s,p){this.fireEvent("button.over",i,s,p)},this).on("out",function(t,i,s,p){this.fireEvent("button.out",i,s,p)},this).on("down",function(t,i,s,p){this.fireEvent("button.down",i,s,p)},this).on("up",function(t,i,s,p){this.fireEvent("button.up",i,s,p)},this),e.isRexContainerLite&&e.sendChildToBack(e)),this.buttonsType&&(e.name===void 0&&console.error(`${this.parent.constructor.name}: Option button miss value`),dxt.call(this,e)),this},addMultiple(e){for(var t=0,i=e.length;t<i;t++)this.add(e[t]);return this}},vxt=Phaser.Utils.Array.Remove,pxt={remove(e){return this.buttonsType&&delete e.selected,vxt(this.buttons,e),this},clear(){if(this.buttonsType)for(var e=this.buttons,t=0,i=e.length;t<i;t++)delete e[t].selected;return this.buttons.length=0,this}};var gxt=function(e,t,...i){if(this.buttons){var s;if(typeof t=="number"){if(s=t,t=this.buttons[s],!t)return}else if(s=this.buttons.indexOf(t),s===-1)return;this.eventEmitter!==this.parent&&this.parent.emit(e,t,s,...i),this.groupName!==void 0?this.eventEmitter.emit(e,t,this.groupName,s,...i):this.eventEmitter.emit(e,t,s,...i)}};const ap=Phaser.Utils.Objects.GetValue,mxt={setButtonsType(e){e===void 0&&(e={});var t=ap(e,"buttonsType",e.type);if(this.buttonsType=t,!this.buttonsType)return this;var i,s;switch(i=ap(e,"setValueCallback",void 0),s=ap(e,"setValueCallbackScope",void 0),i===void 0&&(i=ap(e,"setButtonStateCallback",void 0),s=ap(e,"setButtonStateCallbackScope",void 0)),this.setValueCallback=i,this.setValueCallbackScope=s,t){case"radio":this.setRadioType();break;case"checkboxes":this.setCheckboxesType();break}return this},setRadioType(){var e=this.parent,t=this.buttons;e._value=void 0;var i=void 0;return Object.defineProperty(e,"value",{get:function(){return e._value},set:function(s){if(e._value!==s){e._value=s;for(var p=0,E=t.length;p<E;p++){var n=t[p];n.rexSizer.hidden||(i===void 0?n.name===s?n.selected=!0:n.selected=!1:i===p?n.selected=!0:n.selected=!1)}}},enumerable:!0,configurable:!0}),e.on("button.click",function(s){i=this.buttons.indexOf(s),e.value=s.name,i=void 0},this),this},setCheckboxesType(){var e=this.parent;return e.on("button.click",function(t){t.selected=!t.selected}),this},clearAllButtonsState(){for(var e=this.buttons,t=0,i=e.length;t<i;t++){var s=e[t];s.selected=!1}return this},getAllButtonsState(){for(var e={},t=this.buttons,i=0,s=t.length;i<s;i++){var p=t[i];p.rexSizer.hidden||(e[p.name]=p.selected)}return e},setSelectedButtonName(e){return this.parent.value=e,this},getSelectedButtonName(){return this.parent.value},setButtonState(e,t){t===void 0&&(t=!0);for(var i=this.buttons,s=0,p=i.length;s<p;s++){var E=i[s];if(!E.rexSizer.hidden&&E.name===e){E.selected=t;break}}return this},getButtonState(e){for(var t=this.buttons,i=0,s=t.length;i<s;i++){var p=t[i];if(!p.rexSizer.hidden&&p.name===e)return p.selected}}};var yxt=function(e,t){if(e)if(Va(e)){for(var i,s=0,p=e.length;s<p;s++)if(i=PB(e[s],t),i)return i}else{var i;for(var E in e)if(i=PB(e[E],t),i)return i}else return null},PB=function(e,t){return e?e.hasOwnProperty("name")?e.name===t?e:null:GetElementByName(e,t):null};const cT={getButton(e){var t=this.buttons,i,s=typeof e;switch(s){case"number":i=t[e];break;case"string":i=yxt(t,e);break;default:i=e,t.indexOf(i)===-1&&(i=void 0);break}return i},getButtons(){return this.buttons},hasAnyButton(){return this.buttons.length>0},setButtonEnable(e,t){var i=this.buttons;if(e===void 0||typeof e=="boolean"){t=e;for(var s=0,p=i.length;s<p;s++)i[s]._click.setEnable(t)}else this.getButton(e)._click.setEnable(t);return this},toggleButtonEnable(e){var t=this.buttons;if(e===void 0||typeof e=="boolean")for(var i=0,s=t.length;i<s;i++)t[i]._click.toggleEnable();else this.getButton(e)._click.toggleEnable();return this},getButtonEnable(e){return e===void 0&&(e=0),this.getButton(e)._click.enable},emitButtonClick(e){var t=this.buttonGroup?this.buttonGroup:this;return t.fireEvent("button.click",e),this},emitButtonOver(e){for(var t=this.buttonGroup?this.buttonGroup:this,i=this.buttons,s=0,p=i.length;s<p;s++){var E=i[s];E._click.isOver&&(E._click.isOver=!1,t.fireEvent("button.out",E))}var E=this.getButton(e);return E&&(E._click.isOver=!0,t.fireEvent("button.over",E)),this},showButton(e){return mh(this.getButton(e)),this},hideButton(e){return yh(this.getButton(e)),this},isButtonShown(e){return LM(this.getButton(e)),this},forEachButtton(e,t){for(var i=this.buttons,s=0,p=i.length;s<p;s++)t?e.call(t,i[s],s,i):e(i[s],s,i);return this}};class vT{constructor(t){this.parent=t.parent,this.eventEmitter=t.eventEmitter,this.groupName=t.groupName,this.clickConfig=t.clickConfig,this.buttonsType=void 0,this.buttons=[]}destroy(){this.parent=void 0,this.eventEmitter=void 0,this.clickConfig=void 0,this.buttons=void 0}}var xxt={fireEvent:gxt};Object.assign(vT.prototype,cxt,pxt,mxt,cT,xxt);const nR={clearAllButtonsState(){return this.buttonGroup.clearAllButtonsState(),this},getAllButtonsState(){return this.buttonGroup.getAllButtonsState()},setSelectedButtonName(e){return this.buttonGroup.setSelectedButtonName(e),this},getSelectedButtonName(){return this.buttonGroup.getSelectedButtonName()},setButtonState(e,t){return this.buttonGroup.setButtonState(e,t),this},getButtonState(e){return this.buttonGroup.getButtonState(e)}},Mu=Phaser.Utils.Objects.GetValue;let Qr=class extends qe{constructor(t,i){i===void 0&&(i={});var s=i.space;typeof s=="number"&&(i.space={item:s}),super(t,i),this.type="rexButtons",this.buttonGroup=new vT({parent:this,eventEmitter:Mu(i,"eventEmitter",this),groupName:Mu(i,"groupName",void 0),clickConfig:Mu(i,"click",void 0)}).setButtonsType(i);var p=Mu(i,"background",void 0),E=Mu(i,"buttons",void 0);this.buttonsExpand=Mu(i,"expand",!1),this.buttonsAlign=Mu(i,"align",void 0),p&&this.addBackground(p),E&&this.addButtons(E),this.addChildrenMap("background",p),this.addChildrenMap("buttons",this.buttonGroup.buttons)}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.buttonGroup.destroy(),this.buttonGroup=void 0)}get buttons(){return this.buttonGroup.buttons}get groupName(){return this.buttonGroup.groupName}set groupName(t){this.buttonGroup.groupName=t}get eventEmitter(){return this.buttonGroup.eventEmitter}};Object.assign(Qr.prototype,oxt,uxt,cT,nR);It.register("buttons",function(e){var t=new Qr(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.Buttons",Qr);const Txt=Ha.prototype.add,Cxt={addButton(e,t,i){return Txt.call(this,e,t,i,void 0,0,this.buttonsExpand),this.buttonGroup.add(e),this},addButtons(e,t){for(var i=0,s=e;i<s;i++)this.addButton(e[i],void 0,t);return this}},Sxt=Ha.prototype.remove,Ext=Ha.prototype.clear;var uP=function(i,t){var i=this.getButton(i);return i?(this.buttonGroup.remove(i),Sxt.call(this,i,t),this):this};const bxt={remove(e,t){if(Va(e))for(var i=e,s=0,p=i.length;s<p;s++)uP.call(this,i[s],t);else uP.call(this,e,t);return this},clear(e){var t=this.buttonGroup.buttons;return t.length=0,Ext.call(this,e),this},removeButton(e,t){return this.remove(e,t),this},clearButtons(e){for(var t=this.buttonGroup.buttons,i=t.length-1;i>=0;i--)uP.call(this,t[i],e);return this}},go=Phaser.Utils.Objects.GetValue;class pT extends Ha{constructor(t,i){i===void 0&&(i={});var s=go(i,"row",0),p=go(i,"column",i.col||0),E=go(i,"createCellContainerCallback"),n=go(i,"buttons",void 0),T=go(i,"expand",!0),r=T?1:0;if(E&&(i.createCellContainerCallback=void 0),n!==void 0){s=Math.max(s,n.length);for(var o=0,x=n.length;o<x;o++)p=Math.max(p,n[o].length)}i.row=s,i.column=p,i.columnProportions=r,i.rowProportions=r,super(t,i),this.type="rexGridButtons",this.buttonGroup=new vT({parent:this,eventEmitter:go(i,"eventEmitter",this),groupName:go(i,"groupName",void 0),clickConfig:go(i,"click",void 0)}).setButtonsType(i);var d=go(i,"background",void 0);if(this.buttonsExpand=T,go(i,"space",void 0),d&&this.addBackground(d),n)for(var h,l,a=0,f=n.length;a<f;a++){h=n[a];for(var c=0,u=h.length;c<u;c++)l=h[c],l&&this.addButton(l,c,a)}else if(E)for(var v=0;v<s;v++)for(var g=0;g<p;g++){var l=E(t,g,v);l&&this.addButton(l,g,v)}this.addChildrenMap("background",d),this.addChildrenMap("buttons",this.buttonGroup.buttons)}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.buttonGroup.destroy(),this.buttonGroup=void 0)}get buttons(){return this.buttonGroup.buttons}get groupName(){return this.buttonGroup.groupName}set groupName(t){this.buttonGroup.groupName=t}get eventEmitter(){return this.buttonGroup.eventEmitter}}Object.assign(pT.prototype,Cxt,bxt,cT,nR);It.register("gridButtons",function(e){var t=new pT(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.GridButtons",pT);const o8=Lh.prototype.add;var Ey=function(e){return o8.call(this,e),this.buttonGroup.add(e),this};const Pxt={addButton(e){if(Va(e))for(var t=e,i=0,s=t.length;i<s;i++)Ey.call(this,t[i]);else Ey.call(this,e);return this},addButtons(e){if(Va(e[0]))for(var t=e,i,s=0,p=t.length-1;s<=p;s++){i=t[s];for(var E=0,n=i.length;E<n;E++)Ey.call(this,i[E]);s>p&&o8.addNewLine(this)}else for(var E=0,n=e.length;E<n;E++)Ey.call(this,e[E]);return this}},wxt=Lh.prototype.remove,Mxt=Lh.prototype.clear;var fP=function(i,t){var i=this.getButton(i);return i?(this.buttonGroup.remove(i),wxt.call(this,i,t),this):this};const Rxt={remove(e,t){if(Va(e))for(var i=e,s=0,p=i.length;s<p;s++)fP.call(this,i[s],t);else fP.call(this,e,t);return this},clear(e){var t=this.buttonGroup.buttons;return t.length=0,Mxt.call(this,e),this},removeButton(e,t){return this.remove(e,t),this},clearButtons(e){for(var t=this.buttonGroup.buttons,i=t.length-1;i>=0;i--)fP.call(this,t[i],e);return this}},xd=Phaser.Utils.Objects.GetValue;class wh extends Lh{constructor(t,i){i===void 0&&(i={});var s=i.space;typeof s=="number"&&(i.space={item:s,line:s}),super(t,i),this.type="rexFixWidthButtons",this.buttonGroup=new vT({parent:this,eventEmitter:xd(i,"eventEmitter",this),groupName:xd(i,"groupName",void 0),clickConfig:xd(i,"click",void 0)}).setButtonsType(i);var p=xd(i,"background",void 0),E=xd(i,"buttons",void 0);this.buttonsAlign=xd(i,"align",void 0),p&&this.addBackground(p),E&&this.addButtons(E),this.addChildrenMap("background",p),this.addChildrenMap("buttons",this.buttonGroup.buttons)}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.buttonGroup.destroy(),this.buttonGroup=void 0)}get buttons(){return this.buttonGroup.buttons}get groupName(){return this.buttonGroup.groupName}set groupName(t){this.buttonGroup.groupName=t}get eventEmitter(){return this.buttonGroup.eventEmitter}}Object.assign(wh.prototype,Pxt,Rxt,cT,nR);It.register("fixWidthButtons",function(e){var t=new wh(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.FixWidthButtons",wh);const Axt={setAccept(e){return this.childrenMap.fileChooser.setAccept(e),this},setMultiple(e){return this.childrenMap.fileChooser.setMultiple(e),this},loadFile(e,t,i,s,p){return this.childrenMap.fileChooser.loadFile(e,t,i,s,p),this},loadFilePromise(e,t,i,s){return this.childrenMap.fileChooser.loadFilePromise(e,t,i,s)}},wB=Phaser.Utils.Objects.GetValue;class sR extends Sl{constructor(t,i){super(t,i),this.type="rexFileSelectorButton";var s=new qp(t);t.add.existing(s),this.addBackground(s),this.addChildrenMap("fileChooser",s),this.setAccept(wB(i,"accept","")),this.setMultiple(wB(i,"multiple",!1)),s.on("change",function(p){var E=p.files;E.length!==0&&(E=Array.from(E),this.emit("select",E,this))},this)}get files(){return this.childrenMap.fileChooser.files}}Object.assign(sR.prototype,Axt);It.register("fileSelectorButton",function(e){var t=new sR(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.FileSelectorButton",sR);const Oxt={getChoice(e){var t=this.childrenMap.choicesSizer;if(t)return t.getButton(e)},getAction(e){return this.childrenMap.actionsSizer.getButton(e)},getToolbar(e){return this.childrenMap.toolbarSizer.getButton(e)},getLeftToolbar(e){return this.childrenMap.leftToolbarSizer.getButton(e)},setChoiceEnable(e,t){var i=this.childrenMap.choicesSizer;return i&&i.setButtonEnable(e,t),this},setActionEnable(e,t){return this.childrenMap.actionsSizer.setButtonEnable(e,t),this},setToolbarEnable(e,t){return this.childrenMap.toolbarSizer.setButtonEnable(e,t),this},setLeftToolbarEnable(e,t){return this.childrenMap.leftToolbarSizer.setButtonEnable(e,t),this},toggleChoiceEnable(e){var t=this.childrenMap.choicesSizer;return t&&t.toggleButtonEnable(e),this},toggleActionEnable(e){return this.childrenMap.actionsSizer.toggleButtonEnable(e),this},toggleToolbarEnable(e){return this.childrenMap.toolbarSizer.toggleButtonEnable(e),this},toggleLeftToolbarEnable(e){return this.childrenMap.leftToolbarSizer.toggleButtonEnable(e),this},getChoiceEnable(e){var t=this.childrenMap.choicesSizer;return t?t.getButtonEnable(e):!1},getActionEnable(e){return this.childrenMap.actionsSizer.getButtonEnable(e)},getToolbarEnable(e){return this.childrenMap.toolbarSizer.getButtonEnable(e)},getLeftToolbarEnable(e){return this.childrenMap.leftToolbarSizer.getButtonEnable(e)},emitChoiceClick(e){var t=this.childrenMap.choicesSizer;return t&&t.emitButtonClick(e),this},emitActionClick(e){return this.childrenMap.actionsSizer.emitButtonClick(e),this},emitToolbarClick(e){return this.childrenMap.toolbarSizer.emitButtonClick(e),this},emitLeftToolbarClick(e){return this.childrenMap.leftToolbarSizer.emitButtonClick(e),this},showChoice(e){var t=this.childrenMap.choicesSizer;return t&&t.showButton(e),this},showAction(e){return this.childrenMap.actionsSizer.showButton(e),this},showToolbar(e){return this.childrenMap.toolbarSizer.showButton(e),this},showLeftToolbar(e){return this.childrenMap.leftToolbarSizer.showButton(e),this},hideChoice(e){var t=this.childrenMap.choicesSizer;return t&&t.hideButton(e),this},hideAction(e){return this.childrenMap.actionsSizer.hideButton(e),this},hideToolbar(e){return this.childrenMap.toolbarSizer.hideButton(e),this},hideLeftToolbar(e){return this.childrenMap.leftToolbarSizer.hideButton(e),this},addChoice(e){var t=this.childrenMap.choicesSizer;return t&&t.addButton(e),this},addAction(e){return this.childrenMap.actionsSizer.addButton(e),this},addToolbar(e){return this.childrenMap.toolbarSizer.addButton(e),this},addLeftToolbar(e){return this.childrenMap.leftToolbarSizer.addButton(e),this},removeChoice(e,t){var i=this.childrenMap.choicesSizer;return i&&i.removeButton(e,t),this},removeAction(e,t){return this.childrenMap.actionsSizer.removeButton(e,t),this},removeToolbar(e,t){return this.childrenMap.toolbarSizer.removeButton(e,t),this},removeLeftToolbar(e,t){return this.childrenMap.leftToolbarSizer.removeButton(e,t),this},clearChoices(e){var t=this.childrenMap.choicesSizer;return t&&t.clearButtons(e),this},clearActions(e){return this.childrenMap.actionsSizer.clearButtons(e),this},clearToolbar(e){return this.childrenMap.toolbarSizer.clearButtons(e),this},clearLeftToolbar(e){return this.childrenMap.leftToolbarSizer.clearButtons(e),this},forEachChoice(e,t){var i=this.childrenMap.choicesSizer;return i&&i.forEachButtton(e,t),this},forEachAction(e,t){return this.childrenMap.actionsSizer.forEachButtton(e,t),this},forEachToolbar(e,t){return this.childrenMap.toolbarSizer.forEachButtton(e,t),this},forEachLeftToolbar(e,t){return this.childrenMap.leftToolbarSizer.forEachButtton(e,t),this},setAllButtonsEnable(e){return e===void 0&&(e=!0),this.childrenMap.toolbarSizer&&this.setToolbarEnable(e),this.childrenMap.leftToolbarSizer&&this.setLeftToolbarEnable(e),this.childrenMap.actionsSizer&&this.setActionEnable(e),this.childrenMap.choicesSizer&&this.setChoiceEnable(e),this},getChoicesButtonStates(){var e=this.childrenMap.choicesSizer;return e?e.getAllButtonsState():{}},getChoicesButtonState(e){var t=this.childrenMap.choicesSizer;return e===void 0?t?t.getAllButtonsState():{}:t?t.getButtonState(e):!1},setChoicesButtonState(e,t){var i=this.childrenMap.choicesSizer;return i&&i.setButtonState(e,t),this},clearChoicesButtonStates(){var e=this.childrenMap.choicesSizer;return e&&e.clearAllButtonsState(),this},getChoicesSelectedButtonName(){var e=this.childrenMap.choicesSizer;return e?e.getSelectedButtonName():""},setChoicesSelectedButtonName(e){var t=this.childrenMap.choicesSizer;return t&&t.setSelectedButtonName(e),this},hasAnyChoice(){var e=this.childrenMap.choicesSizer;return e?e.hasAnyButton():!1},hasAnyAction(){var e=this.childrenMap.actionsSizer;return e?e.hasAnyButton():!1},hasAnyToolbar(){var e=this.childrenMap.toolbarSizer;return e?e.hasAnyButton():!1},hasAnyLeftToolbar(){var e=this.childrenMap.leftToolbarSizer;return e?e.hasAnyButton():!1}},Lxt={onCreateModalBehavior(e){e.on("button.click",function(t,i,s,p,E){var n=!1;switch(i){case"actions":n=!0;break;case"choices":e.hasAnyAction()||(n=!0);break}if(n){var T={index:s,text:t.text,button:t,dialog:e};switch(e.buttonsType){case"radio":T.value=e.getChoicesSelectedButtonName();break;case"checkboxes":T.value=e.getChoicesButtonStates();break;default:T.value=void 0}e.modalClose(T)}})},modal(e,t){return e&&e.defaultBehavior===!1?this.onCreateModalBehavior=!1:delete this.onCreateModalBehavior,Jx.modal.call(this,e,t),this}};var l8={};Object.assign(l8,Oxt,Lxt);const ye=Phaser.Utils.Objects.GetValue;class ag extends qe{constructor(t,i){i===void 0&&(i={}),i.orientation=1,super(t,i),this.type="rexDialog",this.eventEmitter=ye(i,"eventEmitter",this);var s=ye(i,"background",void 0),p=ye(i,"title",void 0),E=ye(i,"toolbar",void 0),n=ye(i,"toolbarBackground",void 0),T=ye(i,"leftToolbar",void 0),r=ye(i,"leftToolbarBackground",void 0),o=ye(i,"content",void 0),x=ye(i,"description",void 0),d,h=ye(i,"choices",void 0),l=ye(i,"choicesBackground",void 0),a,f=ye(i,"actions",void 0),c=ye(i,"actionsBackground",void 0),u=ye(i,"click",void 0);s&&this.addBackground(s);var v;E&&(v=new Qr(t,{groupName:"toolbar",background:n,buttons:E,orientation:0,space:{item:ye(i,"space.toolbarItem",0)},click:u,eventEmitter:this.eventEmitter}),t.add.existing(v));var g;if(T&&(g=new Qr(t,{groupName:"leftToolbar",background:r,buttons:T,orientation:0,space:{item:ye(i,"space.leftToolbarItem",0)},click:u,eventEmitter:this.eventEmitter}),t.add.existing(g)),p||E||T){var m=!!p&&ye(i,"expand.title",!0),y=ye(i,"align.title","center"),C=p&&!m&&y==="center"||!p&&(E||T),P=!C,w;P?w=new qe(t,{orientation:0}):w=new sa(t),t.add.existing(w);var M=P?!0:{height:!0};if(g&&w.add(g,{align:"left",expand:M}),p){P&&!m&&y==="right"&&w.addSpace();var R={left:ye(i,"space.titleLeft",0),right:ye(i,"space.titleRight",0)},A=m?1:0;w.add(p,{align:y,proportion:A,expand:M,padding:R}),P&&!m&&y==="left"&&w.addSpace()}v&&(P&&!p&&w.addSpace(),w.add(v,{align:"right",expand:M}));var R;(o||x||h||f)&&(R={bottom:ye(i,"space.title",0),top:ye(i,"space.titleTop",0)});var A=ye(i,"proportion.title",0);this.add(w,{padding:R,proportion:A,expand:!0})}if(o){var L=ye(i,"align.content","center"),F=ye(i,"space.content",0),R={left:ye(i,"space.contentLeft",0),right:ye(i,"space.contentRight",0),bottom:x||h||f?F:0},A=ye(i,"proportion.content",0),G=ye(i,"expand.content",!0);this.add(o,{align:L,padding:R,proportion:A,expand:G})}if(x){var L=ye(i,"align.description","center"),I=ye(i,"space.description",0),R={left:ye(i,"space.descriptionLeft",0),right:ye(i,"space.descriptionRight",0),bottom:h||f?I:0},A=ye(i,"proportion.description",0),G=ye(i,"expand.description",!0);this.add(x,{align:L,padding:R,proportion:A,expand:G})}if(h){var B=ye(i,"choicesType","").split("-"),k=op(B,"wrap")?wh:op(B,"grid")?pT:Qr,U=op(B,"radio")?"radio":op(B,"checkboxes")?"checkboxes":void 0,H={left:ye(i,"space.choicesBackgroundLeft",0),right:ye(i,"space.choicesBackgroundRight",0),top:ye(i,"space.choicesBackgroundTop",0),bottom:ye(i,"space.choicesBackgroundBottom",0)},X=ye(i,"space.choice",0);k===Qr?H.item=X:k===wh?(H.item=X,H.line=ye(i,"space.choiceLine",X)):(H.column=ye(i,"space.choiceColumn",X),H.row=ye(i,"space.choiceRow",X));var j={width:ye(i,"choicesWidth",void 0),height:ye(i,"choicesHeight",void 0),groupName:"choices",buttonsType:U,background:l,buttons:h,space:H,click:u,eventEmitter:this.eventEmitter,setValueCallback:ye(i,"choicesSetValueCallback",void 0),setValueCallbackScope:ye(i,"choicesSetValueCallbackScope",void 0)};k===Qr&&(j.orientation=op(B,"x")?0:1),d=new k(t,j),t.add.existing(d);var J=ye(i,"space.choices",0),R={left:ye(i,"space.choicesLeft",0),right:ye(i,"space.choicesRight",0),bottom:f?J:0},L=ye(i,"align.choices","center"),A=ye(i,"proportion.choices",0),G=ye(i,"expand.choices",!0);this.add(d,{align:L,padding:R,proportion:A,expand:G}),this.buttonsType=U}if(f){a=new Qr(t,{groupName:"actions",background:c,buttons:f,orientation:0,space:{item:ye(i,"space.action",0)},expand:ye(i,"expand.actions",!1),align:ye(i,"align.actions","center"),click:u,eventEmitter:this.eventEmitter}),t.add.existing(a);var R={left:ye(i,"space.actionsLeft",0),right:ye(i,"space.actionsRight",0),bottom:ye(i,"space.actionsBottom",0)},A=ye(i,"proportion.action",0);this.add(a,{align:"center",padding:R,proportion:A,expand:!0})}lp(this,"click"),lp(this,"over"),lp(this,"out"),lp(this,"enable"),lp(this,"disable"),this.addChildrenMap("background",s),this.addChildrenMap("title",p),this.addChildrenMap("toolbar",E),this.addChildrenMap("leftToolbar",T),this.addChildrenMap("content",o),this.addChildrenMap("description",x),this.addChildrenMap("choices",d?d.buttons:void 0),this.addChildrenMap("actions",a?a.buttons:void 0),this.addChildrenMap("choicesSizer",d),this.addChildrenMap("actionsSizer",a),this.addChildrenMap("toolbarSizer",v),this.addChildrenMap("leftToolbarSizer",g)}}var op=function(e,t){return e.indexOf(t)!==-1},MB={actions:"action",choices:"choice",toolbar:"toolbar",leftToolbar:"leftToolbar"},lp=function(e,t){e.on(`button.${t}`,function(i,s,p,E,n){MB.hasOwnProperty(s)&&e.emit(`${MB[s]}.${t}`,i,p,E,n)})};Object.assign(ag.prototype,l8);It.register("dialog",function(e){var t=new ag(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.Dialog",ag);var _r=function(e,t,i){var s=new sg(e,t,i);return e.add.existing(s),s},Dxt=function(e){return e===void 0&&(e={}),Fxt.call(this,e),Ixt.call(this,e),Bxt.call(this,e),Gxt.call(this,e),this},Fxt=function(e){var t=this.childrenMap.title;e=e.title,e===null?t.hide():(t.show(),t.resetDisplayContent(e))},Ixt=function(e){var t=this.childrenMap.content;if(e=e.content,e===null)t.hide();else if(t.show(),t.resetDisplayContent)t.resetDisplayContent(e);else{var i=e||"";t.setText(i)}},Bxt=function(e){var t=this.childrenMap.actions;if(t){var i=e.buttons;if(i){for(var E=this.scene,n=this.defaultActionConfig,T=this.defaultActionButtonCreator,r=0,o=i.length;r<o;r++){var x=i[r],d=t[r];d||(d=_r(E,n,T),this.addAction(d)),d.show().resetDisplayContent(x)}this.buttonMode=i.length;for(var r=i.length,o=t.length;r<o;r++)t[r].hide()}else{var s=t[0];s&&(e.buttonA===null?s.hide():(s.show(),s.resetDisplayContent(e.buttonA)));var p=t[1];p&&(e.buttonB===null?p.hide():(p.show(),p.resetDisplayContent(e.buttonB)))}}},Gxt=function(e){var t=this.childrenMap.choices;if(t){var i=e.choices;i||(i=[]);for(var s=this.scene,p=this.defaultChoiceConfig,E=this.defaultActionButtonCreator,n=0,T=i.length;n<T;n++){var r=i[n];typeof r=="string"&&(r={text:r});var o=t[n];o||(o=_r(s,p,E),this.addChoice(o)),o.show().resetDisplayContent(r);var x;r.hasOwnProperty("value")?x=r.value:x=r.text,o.setName(x)}for(var n=i.length,T=t.length;n<T;n++)t[n].hide()}};const kxt=Phaser.Utils.Objects.Merge;var Nxt=function(e,t){Ua(e)&&(t=e,e=void 0),e===void 0&&(e={}),e=kxt(e,this.modalStyle);var i;this.buttonMode===0?this.hasAnyChoice()?i=!1:i=!0:i=!1,e.hasOwnProperty("anyTouchClose")||(e.anyTouchClose=i),e.hasOwnProperty("manualClose")||(e.manualClose=!i);var s=this,p=function(E){var n=E.index;n===s.confirmButtonIndex?s.emit("confirm",E):n===s.cancelButtonIndex&&s.emit("cancel",E),t&&t(E)};return Jx.modal.call(this,e,p),this};const Uxt={setConfirmButtonIndex(e){return this.confirmButtonIndex=e,this},setCancelButtonIndex(e){return this.cancelButtonIndex=e,this}};var h8={resetDisplayContent:Dxt,modal:Nxt};Object.assign(h8,Uxt);var Vxt=function(e){e.setHoverState&&e.setHoverState(!0)},zxt=function(e){e.setHoverState&&e.setHoverState(!1)},Wxt=function(e,t,i,s){e.setActiveState&&e.setActiveState(s)},Yxt=function(e){e.setDisableState&&e.setDisableState(!1)},Xxt=function(e){e.setDisableState&&e.setDisableState(!0)},u8=function(){this.on("button.over",Vxt).on("button.out",zxt).on("button.enable",Yxt).on("button.disable",Xxt).on("button.statechange",Wxt)};const Hxt=Phaser.Utils.Objects.GetValue;var $xt=function(e,t,i){var s=Hxt(t,"$type");s===void 0&&t&&(t.hasOwnProperty("slider")||t.hasOwnProperty("scroller"))&&(s="textarea");var p;switch(s){case"textarea":p=new r8(e,t,i);break;default:p=new _r(e,t,i);break}return e.add.existing(p),p};const dP=Phaser.Utils.Objects.GetValue;class gT extends ag{constructor(t,i,s){i=i?tn(i):{},s===void 0&&(s={});var p=dP(s,"background",Vr);i.background=p(t,i.background),i.title=_r(t,i.title,s.title),i.content=$xt(t,i.content,s.content),i.content instanceof ng&&ul(i,"height")&&!ul(i,"proportion.content")&&Lt(i,"proportion.content",1);var E=i.button,n=i.buttonA||E,T=i.buttonB||E,r=i.buttonMode;r===void 0&&(r=n&&T?2:n?1:0);var o=s.button,x=s.buttonA||o,d=s.buttonB||o;switch(r){case 2:i.actions=[_r(t,n,x),_r(t,T,d)];break;case 1:i.actions=[_r(t,n,x)];break;case 0:break;default:i.actions=[];break}var h=i.choice;h&&(i.choices=[]),super(t,i),this.type="rexConfirmDialog",this.buttonMode=r,this.defaultActionConfig=E,this.defaultActionButtonCreator=o,this.defaultChoiceConfig=h,this.defaultChoiceCreator=s.choice;var l=this.childrenMap.actions;this.addChildrenMap("buttonA",l?l[0]:null),this.addChildrenMap("buttonB",l?l[1]:null),u8.call(this),this.setConfirmButtonIndex(dP(i,"confirmButtonIndex",0)),this.setCancelButtonIndex(dP(i,"cancelButtonIndex",1)),this.modalStyle=i.modal||{}}}Object.assign(gT.prototype,h8);It.register("confirmDialog",function(e,t){var i=new gT(this.scene,e,t);return this.scene.add.existing(i),i});Lt(window,"RexPlugins.UI.ConfirmDialog",gT);const RB=Phaser.Utils.Objects.GetValue;var f8=function(e,t){var i=t.dialog,s=!i;if(s){var p=t.style;p.buttonMode=2,i=new gT(e,p,t.creators),e.add.existing(i)}i.setConfirmButtonIndex(RB(t,"confirmButtonIndex",0)).setCancelButtonIndex(RB(t,"cancelButtonIndex",1)).resetDisplayContent(t.content).layout(),s&&t.onCreateDialog&&t.onCreateDialog(i);var E=t.modal;E&&!E.hasOwnProperty("destroy")&&(E.destroy=s);var n=t.confirm,T=t.cancel,r=t.confirmScope,o=t.cancelScope;n&&i.once("confirm",n,r),T&&i.once("cancel",T,o);var x=function(d){i.off("confirm",n,r),i.off("cancel",T,o)};return i.modal(E,x),i};class d8 extends Sl{constructor(t,i){i===void 0&&(i={}),super(t,i),this.type="rexConfirmActionButton",this.setConfirmDialogEnable(),this.confirmActionConfig=Na(i.confirmDialog||{}),i.confirm&&this.setConfirmCallback(i.confirm,i.confirmScope),i.cancel&&this.setCancelCallback(i.cancel,i.cancelScope),this.onClickCallback=function(){if(this.confirmDialogEnable){if(this.confirmDialog)return;this.confirmDialog=f8(t,this.confirmActionConfig),this.confirmDialog.once("destroy",function(){this.confirmDialog=void 0},this)}else this.runConfirmCallback()},this.onClick(this.onClickCallback,this)}destroy(t){!this.scene||this.ignoreDestroy||(this.confirmDialog&&this.confirmDialog.destroy(),super.destroy(t),this.confirmActionConfig=void 0,this.onClickCallback=void 0,this.confirmDialog=void 0)}setConfirmCallback(t,i){return this.confirmActionConfig.confirm=t,this.confirmActionConfig.confirmScope=i,this}setCancelCallback(t,i){return this.confirmActionConfig.cancel=t,this.confirmActionConfig.cancelScope=i,this}setConfirmDialogContent(t){return this.confirmActionConfig.content=t,this}setConfitmDialogStyle(t){return this.confirmActionConfig.style=t,this}setConfitmDialogModalConfig(t){return this.confirmActionConfig.modal=t,this}setConfirmDialogEnable(t){return t===void 0&&(t=!0),this.confirmDialogEnable=t,this}runConfirmCallback(){var t=this.confirmActionConfig.confirm,i=this.confirmActionConfig.confirmScope;return t&&t.call(i),this}}It.register("confirmActionButton",function(e){var t=new d8(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.ConfirmActionButton",d8);var Kxt=function(e){return e===void 0&&(e={}),Zxt.call(this,e),Jxt.call(this,e),jxt.call(this,e),this},Zxt=function(e){var t=this.childrenMap.title;e.title===null?this.hide(t):(this.show(t),t.resetDisplayContent(e.title))},Jxt=function(e){var t=this.childrenMap.firstNameTitle;if(e.firstNameTitle===null)this.hide(t);else{this.show(t);var i=e.firstNameTitle||"";t.resetDisplayContent(i)}var s=this.childrenMap.firstNameInput;if(e.firstName===null)this.hide(s);else{this.show(s);var p=e.firstName||"";s.setText(p)}var E=this.childrenMap.lastNameTitle;if(e.lastNameTitle===null)this.hide(E);else{this.show(E);var n=e.lastNameTitle||"";E.resetDisplayContent(n)}var T=this.childrenMap.lastNameInput;if(e.lastName===null)this.hide(T);else{this.show(T);var r=e.lastName||"";T.setText(r)}},jxt=function(e){var t=this.childrenMap.actions[0];e.button===null?this.hide(t):(this.show(t),t.resetDisplayContent(e.button))};const Qxt=Phaser.Utils.Objects.Merge;var qxt=function(e,t){Ua(e)&&(t=e,e=void 0),e===void 0&&(e={}),e=Qxt(e,this.modalStyle),e.anyTouchClose=!1,e.manualClose=!1;var i=this,s=function(p){p.firstName=i.firstName,p.lastName=i.lastName,i.emit("confirm",p),t&&t(p)};return Jx.modal.call(this,e,s),this},_xt={resetDisplayContent:Kxt,modal:qxt},Mh=function(e,t,i){i===void 0&&(i=!0),i?t=t?tn(t):{}:t||(t={});var s=new zp(e,t);return e.add.existing(s),s};const qs=Phaser.Utils.Objects.GetValue;var tTt=function(e,t,i){var s=Ju(qs(t,"layoutMode",0)),p=s===0,E=new qe(e,{orientation:s,space:{item:qs(t,"space.firstName",0)}});e.add.existing(E);var n=new qe(e,{orientation:"x"});e.add.existing(n);var T=qs(t,"firstNameTitle",t.nameTitle),r=_r(e,T,i.firstNameTitle||i.nameTitle);n.add(r,{expand:!0,proportion:qs(t,"proportion.firstNameTitle",0),padding:{right:qs(t,"space.firstNameTitle",0)}});var o=t.nameInput||{},x=qs(t,"firstNameInput",o),d=Mh(e,x,i.firstNameInput||i.nameInput),h=!x.hasOwnProperty("width");n.add(d,{expand:!0,proportion:h?1:0});var l=new qe(e,{orientation:"x"});e.add.existing(l);var a=qs(t,"lastNameTitle",t.nameTitle),f=_r(e,a,i.lastNameTitle||i.nameTitle);l.add(f,{expand:!0,proportion:qs(t,"proportion.lastNameTitle",0),padding:{right:qs(t,"space.lastNameTitle",0)}});var c=qs(t,"firstNameInput",o),u=Mh(e,c,i.lastNameInput||i.nameInput),v=!c.hasOwnProperty("width");if(l.add(u,{expand:!0,proportion:v?1:0}),p){var g=h?1:0,m=qs(t,"proportion.firstName",g);E.add(n,{expand:!0,proportion:m});var y=v?1:0,C=qs(t,"proportion.lastName",y);E.add(l,{expand:!0,proportion:C})}else E.add(n,{expand:h,proportion:0}),E.add(l,{expand:v,proportion:0});return E.addChildrenMap("firstNameTitle",r),E.addChildrenMap("firstNameInput",d),E.addChildrenMap("lastNameTitle",f),E.addChildrenMap("lastNameInput",u),E};const eTt=Phaser.Utils.Objects.GetValue;class aR extends ag{constructor(t,i,s){i===void 0&&(i={}),s===void 0&&(s={}),i.orientation="y";var p=i.space;p&&(p.hasOwnProperty("names")&&(p.content=p.names),p.hasOwnProperty("namesLeft")&&(p.contentLeft=p.namesLeft),p.hasOwnProperty("namesRight")&&(p.contentRight=p.namesRight));var E=eTt(s,"background",Vr);i.background=E(t,i.background),i.title=_r(t,i.title,s.title),i.content=tTt(t,i,s),i.actions=[_r(t,i.button,s.button)],super(t,i),this.type="rexNameInputDialog";var n=i.content.childrenMap;this.addChildrenMap("firstNameTitle",n.firstNameTitle),this.addChildrenMap("firstNameInput",n.firstNameInput),this.addChildrenMap("lastNameTitle",n.lastNameTitle),this.addChildrenMap("lastNameInput",n.lastNameInput),this.addChildrenMap("button",i.actions[0]),u8.call(this),this.modalStyle=i.modal||{}}get firstName(){return this.childrenMap.firstNameInput.text}set firstName(t){this.childrenMap.firstNameInput.setText(t)}setFirstName(t){return this.firstName=t,this}get lastName(){return this.childrenMap.lastNameInput.text}set lastName(t){this.childrenMap.lastNameInput.setText(t)}setLastName(t){return this.lastName=t,this}}Object.assign(aR.prototype,_xt);It.register("nameInputDialog",function(e,t){var i=new aR(this.scene,e,t);return this.scene.add.existing(i),i});Lt(window,"RexPlugins.UI.NameInputDialog",aR);var Iu=function(e,t){if(e){var i=Ds(e);i&&i.remove(e,t)}};const by=Phaser.Utils.Objects.GetValue;var og=function(e,t,i){var s=by(e,`proportion.${t}`,i.proportion),p=by(e,`align.${t}`,"center"),E=by(e,`space.${t}`,void 0);if(typeof E=="number"&&i.paddingKey){var n=E;E={},E[i.paddingKey]=n}var T=by(e,`expand.${t}`,!0);return{proportion:s,align:p,padding:E,expand:T}},mT=function(e){return og(e,"header",{proportion:0,paddingKey:"bottom"})},yT=function(e){return og(e,"leftSide",{proportion:0,paddingKey:"right"})},xT=function(e){return og(e,"content",{proportion:1})},TT=function(e){return og(e,"rightSide",{proportion:0,paddingKey:"left"})},CT=function(e){return og(e,"footer",{proportion:0,paddingKey:"top"})},cl=function(e){return{proportion:1,align:"center",padding:0,expand:!0}},vl=function(e,t){var i=new qe(e,{orientation:t});return e.add.existing(i),i},iTt=function(e){var t=this.scene,i=e.header;i&&this.add(i,mT(e));var s=vl(t,0);this.add(s,cl());var p=e.leftSide;p&&s.add(p,yT(e));var E=e.content;E&&s.add(E,xT(e));var n=e.rightSide;n&&s.add(n,TT(e));var T=e.footer;T&&this.add(T,CT(e))},rTt=function(e){var t=this.scene,i=e.header;i&&this.add(i,mT(e));var s=vl(t,0);this.add(s,cl());var p=e.leftSide;p&&s.add(p,yT(e));var E=vl(t,1);s.add(E,cl());var n=vl(t,0);E.add(n,cl());var T=e.content;T&&n.add(T,xT(e));var r=e.rightSide;r&&n.add(r,TT(e));var o=e.footer;o&&E.add(o,CT(e))},nTt=function(e){var t=this.scene,i=e.header;i&&this.add(i,mT(e));var s=vl(t,0);this.add(s,cl());var p=vl(t,1);s.add(p,cl());var E=vl(t,0);p.add(E,cl());var n=e.leftSide;n&&E.add(n,yT(e));var T=e.content;T&&E.add(T,xT(e));var r=e.footer;r&&p.add(r,CT(e));var o=e.rightSide;o&&s.add(o,TT(e))},sTt=function(e){var t=this.scene,i=e.header;i&&this.add(i,mT(e));var s=vl(t,0);this.add(s,cl());var p=e.leftSide;p&&s.add(p,yT(e));var E=vl(t,1);s.add(E,cl());var n=e.content;n&&E.add(n,xT(e));var T=e.footer;T&&E.add(T,CT(e));var r=e.rightSide;r&&s.add(r,TT(e))};const aTt=Phaser.Utils.Objects.GetValue,AB=[iTt,rTt,nTt,sTt];var oTt=function(e){e===void 0&&(e={});var t=e.background,i=e.header,s=e.leftSide,p=e.content,E=e.rightSide,n=e.footer;Iu(t),Iu(i),Iu(s),Iu(p),Iu(E),Iu(n),this.clear(!0),t&&this.addBackground(t);var T=aTt(e,"layoutMode",0);typeof T=="string"&&(T=lTt[T.toUpperCase()]);var r=AB[T]||AB[0];return r.call(this,e),this.addChildrenMap("background",t),this.addChildrenMap("header",i),this.addChildrenMap("leftSide",s),this.addChildrenMap("content",p),this.addChildrenMap("rightSide",E),this.addChildrenMap("footer",n),this};const lTt={FFF:0,LFF:1,FFR:2,LFR:3};class oR extends qe{constructor(t,i){i===void 0&&(i={}),i.orientation=1,super(t,i),this.type="rexHolyGrail",this.build(i)}}var hTt={build:oTt};Object.assign(oR.prototype,hTt);It.register("holyGrail",function(e){var t=new oR(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.HolyGrail",oR);const uTt={getButtonsSizer(e){return this.childrenMap[`${e}ButtonsSizer`]},getButton(e,t){var i=this.getButtonsSizer(e);return i?i.getButton(t):void 0},setButtonEnable(e,t,i){return this.getButtonsSizer(e).setButtonEnable(t,i),this},setLeftButtonEnable(e,t){return this.childrenMap.leftButtonsSizer.setButtonEnable(e,t),this},setRightButtonEnable(e,t){return this.childrenMap.rightButtonsSizer.setButtonEnable(e,t),this},setTopButtonEnable(e,t){return this.childrenMap.topButtonsSizer.setButtonEnable(e,t),this},setBottomButtonEnable(e,t){return this.childrenMap.bottomButtonsSizer.setButtonEnable(e,t),this},toggleButtonEnable(e,t){return this.getButtonsSizer(e).toggleButtonEnable(t),this},toggleLeftButtonEnable(e){return this.childrenMap.leftButtonsSizer.toggleButtonEnable(e),this},toggleRightButtonEnable(e){return this.childrenMap.rightButtonsSizer.toggleButtonEnable(e),this},toggleTopButtonEnable(e){return this.childrenMap.topButtonsSizer.toggleButtonEnable(e),this},toggleBottomButtonEnable(e){return this.childrenMap.bottomButtonsSizer.toggleButtonEnable(e),this},getButtonEnable(e,t){return this.getButtonsSizer(e).getButtonEnable(t)},getLeftButtonEnable(e){return this.childrenMap.leftButtonsSizer.getButtonEnable(e)},getRightButtonEnable(e){return this.childrenMap.rightButtonsSizer.getButtonEnable(e)},getTopButtonEnable(e){return this.childrenMap.topButtonsSizer.getButtonEnable(e)},getBottomButtonEnable(e){return this.childrenMap.bottomButtonsSizer.getButtonEnable(e)},emitButtonClick(e,t){var i=this.getButtonsSizer(e);return i?(i.emitButtonClick(t),this):this},emitLeftButtonClick(e){return this.childrenMap.leftButtonsSizer.emitButtonClick(e),this},emitRightButtonClick(e){return this.childrenMap.rightButtonsSizer.emitButtonClick(e),this},emitTopButtonClick(e){return this.childrenMap.topButtonsSizer.emitButtonClick(e),this},emitBottomButtonClick(e){return this.childrenMap.bottomButtonsSizer.emitButtonClick(e),this},getLeftButton(e){return this.childrenMap.leftButtonsSizer.getButton(e)},getRightButton(e){return this.childrenMap.rightButtonsSizer.getButton(e)},getTopButton(e){return this.childrenMap.topButtonsSizer.getButton(e)},getBottomButton(e){return this.childrenMap.bottomButtonsSizer.getButton(e)},showButton(e,t){return mh(this.getButton(e,t)),this},showLeftButton(e){return mh(this.getLeftButton(e)),this},showRightButton(e){return mh(this.getRightButton(e)),this},showTopButton(e){return mh(this.getTopButton(e)),this},showBottomButton(e){return mh(this.getBottomButton(e)),this},hideButton(e,t){return yh(this.getButton(e,t)),this},hideLeftButton(e){return yh(this.getLeftButton(e)),this},hideRightButton(e){return yh(this.getRightButton(e)),this},hideTopButton(e){return yh(this.getTopButton(e)),this},hideBottomButton(e){return yh(this.getBottomButton(e)),this},addButton(e,t){return this.getButtonsSizer(e).addButton(t),this},addLeftButton(e){return this.addButton("left",e),this},addRightButton(e){return this.addButton("right",e),this},addTopButton(e){return this.addButton("top",e),this},removeButton(e,t,i){return this.getButtonsSizer(e).removeButton(t,i),this},removeLeftButton(e,t){return this.removeButton("left",e,t),this},removeRightButton(e,t){return this.removeButton("right",e,t),this},removeTopButton(e,t){return this.removeButton("top",e,t),this},removeBottomButton(e,t){return this.removeButton("bottom",e,t),this},clearButtons(e,t){return this.getButtonsSizer(e).clearButtons(t),this},clearLeftButtons(e){return this.clearButtons("left",e),this},clearRightButtons(e){return this.clearButtons("right",e),this},clearTopButtons(e){return this.clearButtons("top",e),this},clearBottomButtonss(e){return this.clearButtons("bottom",e),this},forEachButton(e,t,i){return this.getButtonsSizer(e).forEachButtton(t,i),this},forEachLeftButton(e,t){return this.childrenMap.leftButtonsSizer.forEachButtton(e,t),this},forEachRightButton(e,t){return this.childrenMap.rightButtonsSizer.forEachButtton(e,t),this},forEachTopButton(e,t){return this.childrenMap.topButtonsSizer.forEachButtton(e,t),this},forEachBottomButton(e,t){return this.childrenMap.bottomButtonsSizer.forEachButtton(e,t),this}},Si=Phaser.Utils.Objects.GetValue;class lR extends Ha{constructor(t,i){i===void 0&&(i={}),i.column=3,i.row=3,i.columnProportions=[0,0,0],i.rowProportions=[0,0,0];var s=Si(i,"expand.panel",!1);s&&(i.columnProportions[1]=1,i.rowProportions[1]=1),super(t,i),this.type="rexTabs",this.eventEmitter=Si(i,"eventEmitter",this);var p=Si(i,"background",void 0),E=Si(i,"panel",void 0),n=Si(i,"leftButtons",void 0),T=Si(i,"leftButtonsBackground",void 0),r,o=Si(i,"rightButtons",void 0),x=Si(i,"rightButtonsBackground",void 0),d,h=Si(i,"topButtons",void 0),l=Si(i,"topButtonsBackground",void 0),a,f=Si(i,"bottomButtons",void 0),c=Si(i,"bottomButtonsBackground",void 0),u,v=Si(i,"click",void 0);if(p&&this.addBackground(p),E&&this.add(E,{column:1,row:1,expand:s}),n){var g=Si(i,"space.leftButtonsOffset",0),m=Si(i,"space.leftButton",0),y=Si(i,"expand.leftButtons",!1),C=Si(i,"align.leftButtons","top");r=new Qr(t,{groupName:"left",background:T,buttons:n,orientation:"y",space:{item:m},expand:y,click:v,eventEmitter:this.eventEmitter}),this.add(r,{column:0,row:1,align:C,padding:{top:g},expand:y})}if(o){var P=Si(i,"space.rightButtonsOffset",0),w=Si(i,"space.rightButton",0),M=Si(i,"expand.rightButtons",!1),R=Si(i,"align.rightButtons","top");d=new Qr(t,{groupName:"right",background:x,buttons:o,orientation:"y",space:{item:w},expand:M,click:v,eventEmitter:this.eventEmitter}),this.add(d,{column:2,row:1,align:R,padding:{top:P},expand:M})}if(h){var A=Si(i,"space.topButtonsOffset",0),L=Si(i,"space.topButton",0),F=Si(i,"expand.topButtons",!1),G=Si(i,"align.topButtons","left");a=new Qr(t,{groupName:"top",background:l,buttons:h,orientation:"x",space:{item:L},expand:F,align:Si(i,"align.topButtons",void 0),click:v,eventEmitter:this.eventEmitter}),this.add(a,{column:1,row:0,align:G,padding:{left:A},expand:F})}if(f){var I=Si(i,"space.bottomButtonsOffset",0),B=Si(i,"space.bottomButton",0),k=Si(i,"expand.bottomButtons",!1),U=Si(i,"align.bottomButtons","left");u=new Qr(t,{groupName:"bottom",background:c,buttons:f,orientation:"x",space:{item:B},expand:k,align:Si(i,"align.bottomButtons",void 0),click:v,eventEmitter:this.eventEmitter}),this.add(u,{column:1,row:2,align:U,padding:{left:I},expand:k})}this.addChildrenMap("background",p),this.addChildrenMap("panel",E),this.addChildrenMap("leftButtons",n),this.addChildrenMap("rightButtons",o),this.addChildrenMap("topButtons",h),this.addChildrenMap("bottomButtons",f),this.addChildrenMap("leftButtonsSizer",r),this.addChildrenMap("rightButtonsSizer",d),this.addChildrenMap("topButtonsSizer",a),this.addChildrenMap("bottomButtonsSizer",u)}}Object.assign(lR.prototype,uTt);It.register("tabs",function(e){var t=new lR(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.Tabs",lR);It.register("slider",function(e){var t=new rc(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.Slider",rc);class c8{constructor(t,i){this.container=null,this._deltaHeight=0,this.setParent(t)}setParent(t){this.parent=t,this.parentContainer=t.getParentContainer()}destroy(t){t===void 0&&(t=!1),t||this.destroyContainer(),this.deltaHeight=0,this.data=void 0,this.container=null,this.parent=void 0,this.parentContainer=void 0}get table(){return this.parent}get scrollMode(){return this.parentContainer.scrollMode}get colIndx(){return this.parent.cellIndxeToColIndex(this.index)}get rowIndx(){return this.parent.cellIndxeToRowIndex(this.index)}getContainer(){return this.container}setContainer(t){return t?(this.container&&this.container.destroy(),this.container=t,this.parentContainer.add(t),this):(this.destroyContainer(),this)}destroyContainer(){return this.container&&(this.container.destroy(),this.container=null),this}popContainer(){if(this.container){var t=this.container;return this.container=null,this.parentContainer.remove(t),t}else return null}setXY(t,i){return this.container&&this.parentContainer.setChildLocalPosition(this.container,t,i),this}setCellContainerAlign(t){return typeof t=="string"&&(t=ec[t]),this.cellContainerAlign=t,this}get deltaHeight(){return this._deltaHeight}set deltaHeight(t){t==null&&(t=0);var i=this.parent;this._deltaHeight===0&&t!==0?i.nonZeroDeltaHeightCount++:this._deltaHeight!==0&&t===0&&i.nonZeroDeltaHeightCount--;var s=this._deltaHeight!==t;if(this._deltaHeight=t,s){i.resetTotalRowsHeight();var p=this.scrollMode===0?"cellheightchange":"cellwidthchange";this.parentContainer.emit(p,this,this.container,this.parentContainer)}}get deltaWidth(){return this.deltaHeight}set deltaWidth(t){this.deltaHeight=t}setDeltaHeight(t){return this.deltaHeight=t,this}setDeltaWidth(t){return this.deltaHeight=t,this}get height(){return this.scrollMode===0?this.deltaHeight+this.parent.defaultCellHeight:this.parent.defaultCellWidth}set height(t){this.scrollMode!==1&&this.setDeltaHeight(t-this.parent.defaultCellHeight)}setHeight(t){return this.height=t,this}get width(){return this.scrollMode===0?this.parent.defaultCellWidth:this.deltaHeight+this.parent.defaultCellHeight}set width(t){this.scrollMode!==0&&this.setDeltaHeight(t-this.parent.defaultCellHeight)}setWidth(t){return this.width=t,this}get scene(){return this.parentContainer.scene}}Object.assign(c8.prototype,Ox);const OB=Phaser.Utils.Objects.GetValue,fTt=Phaser.Utils.Array.SpliceOne;class dTt{constructor(t,i){this.parent=t,this.cells=[],this.cellPool=new Co,this.resetFromJSON(i)}resetFromJSON(t){t===void 0&&(t={}),this.colCount=void 0,this.nonZeroDeltaHeightCount=0,this.resetTotalRowsHeight();var i=t.cellHeight;i===void 0&&(i=60);var s=t.cellWidth;return s===void 0&&(s=60),this.setDefaultCellHeight(i),this.setDefaultCellWidth(s),this.initCells(OB(t,"cellsCount",0)),this.setColumnCount(OB(t,"columns",1)),this}destroy(t){this.cellPool.destroy(),this.cells=void 0,this.parent=void 0}get defaultCellHeightMode(){return this.nonZeroDeltaHeightCount===0}setDefaultCellHeight(t){return this.defaultCellHeight=t,this}setDefaultCellWidth(t){return this.defaultCellWidth=t,this}initCells(t){var i=this.cells;i.length=t;for(var s=0;s<t;s++)i[s]=null;return this}insertNewCells(t,i){var s=this.cells;if(t===s.length){var p=t+i;s.legth=p;for(var E=t;E<p;E++)s[E]=null}else{var n=[];n.length=i;for(var E=0;E<i;E++)n[E]=null;this.cells.splice(t,0,...n)}return this.resetTotalRowsHeight(),this}removeCells(t,i){for(var s=t+i,p=t;p<s;p++)this.freeCell(p);return s===this.cells.length?this.cells.length=t:(i===1?fTt(this.cells,t):this.cells.splice(t,i),this.buildCellIndex(t)),this.resetTotalRowsHeight(),this}setColumnCount(t){this.colCount=t,this.resetTotalRowsHeight();var i=this.parent;if(i.expandCellSize){var s=i.scrollMode===0?i.width:i.height,p=s/t;this.setDefaultCellWidth(p)}return this}get rowCount(){return Math.ceil(this.cells.length/this.colCount)}get cellsCount(){return this.cells.length}isValidCellIdx(t){return t>=0&&t<this.cells.length}heightToRowIndex(t,i){if(i===void 0&&(i=0),t===0)return 0;if(this.defaultCellHeightMode){var T=t/this.defaultCellHeight;switch(i){case 1:T=Math.ceil(T);break;default:T=Math.floor(T);break}return T}for(var s=this.rowCount,p=t,E,n,T=0;;)if(n=this.getRowHeight(T),p-=n,E=T>=0&&T<s,p>0&&E)T+=1;else{if(p===0)return i===2&&(T+=1),T;if(i===1){var r=T;T+=1,E=T>=0&&T<s,E||(T=r)}return T}}widthToColIndex(t,i){if(t===0)return 0;var s=t/this.defaultCellWidth;return i?s=Math.ceil(s):s=Math.floor(s),s}colRowToCellIndex(t,i){return t>=this.colCount?null:i*this.colCount+t}rowIndexToHeight(t,i){if(this.defaultCellHeightMode)return(i-t+1)*this.defaultCellHeight;for(var s,p=0,E=t;E<=i;E++)s=this.getRowHeight(E),p+=s;return p}colIndexToWidth(t,i){return(i-t+1)*this.defaultCellWidth}getRowHeight(t){var i=this.colCount;if(i<=1)return this.getCellHeight(this.colRowToCellIndex(0,t));for(var s=0,p,E=0;E<i;E++)p=this.getCellHeight(this.colRowToCellIndex(E,t)),s<p&&(s=p);return s}getColWidth(t){return this.defaultCellWidth}getCellHeight(t){if(!this.isValidCellIdx(t))return 0;var i;if(this.defaultCellHeightMode)i=this.defaultCellHeight;else{var s=this.getCell(t,!1),p=s?s.deltaHeight:0;i=this.defaultCellHeight+p}return i}resetTotalRowsHeight(){this._totalRowsHeight=null}get totalRowsHeight(){return this._totalRowsHeight===null&&(this._totalRowsHeight=this.rowIndexToHeight(0,this.rowCount-1)),this._totalRowsHeight}get totalColumnWidth(){return this.colCount*this.defaultCellWidth}cellIndxeToColIndex(t){return t%this.colCount}cellIndxeToRowIndex(t){return Math.floor(t/this.colCount)}getCell(t,i){if(!this.isValidCellIdx(t))return null;if(i===void 0&&(i=!0),this.cells[t]===null&&i){var s=this.newCell(t);this.cells[t]=s}return this.cells[t]}newCell(t){var i=this.cellPool.pop();return i===null?i=new c8(this):i.setParent(this),i.index=t,i}buildCellIndex(t){t===void 0&&(t=0);for(var i=this.cells,s,p=t,E=i.length;p<E;p++)s=i[p],s&&(s.index=p);return this}getParentContainer(){return this.parent}freeCell(t){return typeof t=="number"&&(t=this.cells[t]),t?(t.destroy(),this.cellPool.push(t),this):this}}var cTt=function(e){var t=this.table,i=this.topTableOY,s=this.bottomTableOY,p=e>i,E=e<s;if(this.clampTableOXY){var n=t.rowCount,T=t.heightToRowIndex(this.instHeight,1);n<T?e=0:p?e=i:E&&(e=s)}return this._tableOY!==e&&(this._tableOY=e),p&&(this.execeedTopState||this.emit("execeedtop",this,e,i)),this.execeedTopState=p,E&&(this.execeedBottomState||this.emit("execeedbottom",this,e,s)),this.execeedBottomState=E,this},vTt=function(e){var t=this.table,i=this.leftTableOX,s=this.rightTableOX,p=e>this.leftTableOX,E=e<this.rightTableOX;if(this.clampTableOXY){var n=t.colCount,T=t.widthToColIndex(this.instWidth,!0);n<T?e=0:p?e=i:E&&(e=s)}return this._tableOX!==e&&(this._tableOX=e),p&&(this.execeedLeftState||this.emit("execeedleft",this,e,i)),this.execeedLeftState=p,E&&(this.execeedRightState||this.emit("execeedright",this,e,s)),this.execeedRightState=E,this},hR=function(e){return e.hasOwnProperty("geometryMask")?e.geometryMask:e.bitmapMask};const pTt=Phaser.Geom.Intersects.RectangleToRectangle,gTt=Phaser.Geom.Rectangle.Overlaps;var mTt=function({parent:e,mask:t,children:i,onVisible:s,onInvisible:p,scope:E}){if(t){i===void 0&&(i=e.getAllChildren());for(var n=!!s||!!p,T=e.getBounds(),r=hR(t),o,x,d,h,l=0,a=i.length;l<a;l++)if(o=i[l],o!==r&&yTt(o)){if(h=o.visible,o.getBounds)switch(x=o.getBounds(x),d=xTt(T,x),d){case 4:TTt(e,o);break;case 0:pTt(T,x)||gTt(T,x)?cP(e,o,t):CTt(e,o);break;default:cP(e,o,t);break}else cP(e,o,t);if(n&&o.visible!==h){var f=o.visible?s:p;f&&(E?f.call(E,o,e):f(o,e))}}}},yTt=function(e){if(!e.displayList)return!1;for(;;){var t=e.rexContainer;if(t)if(t.visible){var i=t.parent;if(i){e=i;continue}else return!0}else return!1;else return e.visible}},xTt=function(e,t){var i=t.top,s=t.bottom,p=t.left,E=t.right,n=0;return n+=e.contains(p,i)?1:0,n+=e.contains(p,s)?1:0,n+=e.contains(E,i)?1:0,n+=e.contains(E,s)?1:0,n},TTt=function(e,t,i){t.hasOwnProperty("isRexContainerLite")?(t.syncChildrenEnable=!1,e.setChildMaskVisible(t,!0),t.syncChildrenEnable=!0):(t.clearMask&&t.clearMask(),e.setChildMaskVisible(t,!0))},cP=function(e,t,i){t.hasOwnProperty("isRexContainerLite")?(t.syncChildrenEnable=!1,e.setChildMaskVisible(t,!0),t.syncChildrenEnable=!0):(t.setMask&&t.setMask(i),e.setChildMaskVisible(t,!0))},CTt=function(e,t,i){t.hasOwnProperty("isRexContainerLite")?(t.syncChildrenEnable=!1,e.setChildMaskVisible(t,!1),t.syncChildrenEnable=!0):(t.clearMask&&t.clearMask(),e.setChildMaskVisible(t,!1))};const Td=Phaser.Utils.Objects.GetValue,STt={update:0,everyTick:1},v8={setupChildrenMask(e){return e===!1?this:(this.setMaskUpdateMode(Td(e,"updateMode",0)),this.enableChildrenMask(Td(e,"padding",0)),this.setMaskLayer(Td(e,"layer",void 0)),this.onMaskGameObjectVisible=Td(e,"onVisible"),this.onMaskGameObjectInvisible=Td(e,"onInvisible"),this.maskGameObjectCallbackScope=Td(e,"scope"),this.startMaskUpdate(),this)},destroyChildrenMask(){return this.childrenMask?(this.stopMaskUpdate(),this.childrenMask.destroy(),this.childrenMask=void 0,this.onMaskGameObjectVisible=null,this.onMaskGameObjectInvisible=null,this.maskGameObjectCallbackScope=null,this):this},setMaskUpdateMode(e){return typeof e=="string"&&(e=STt[e]),this.maskUpdateMode=e,this},startMaskUpdate(){this.scene.game.events.on("poststep",this.maskChildren,this)},stopMaskUpdate(){this.scene.game.events.off("poststep",this.maskChildren,this)},enableChildrenMask(e){var t=za.call(this,null,this,0,e);return this.childrenMask=t.createGeometryMask(),this},setMaskChildrenFlag(e){return e===void 0&&(e=!0),this.maskChildrenFlag=e,this},setMaskLayer(e){return this.maskLayer=e,this},maskChildren(){return!this.childrenMask||!this.maskChildrenFlag||this.alpha===0||!this.visible?this:(this.privateRenderLayer?this.privateRenderLayer.setMask(this.childrenMask):this.maskLayer?(this.addToLayer(this.maskLayer),this.maskLayer.setMask(this.childrenMask)):mTt({parent:this,mask:this.childrenMask,onVisible:this.onMaskGameObjectVisible,onInvisible:this.onMaskGameObjectInvisible,scope:this.maskGameObjectCallbackScope}),this.maskUpdateMode===0&&(this.maskChildrenFlag=!1),this)},layoutChildrenMask(){if(!this.childrenMask)return this;var e=hR(this.childrenMask);return e.setPosition().resize(),this.resetChildPositionState(e),this}};var ETt=function(){if(this.cellsCount!==0){var e=this.scaleX,t=this.scaleY,i=e===1&&t===1;i||this.setScale(1);var s=this.table,p=this.tableOYOffset,E=this.tableOY+p,n=this.tableOX;this.startRowIndex=Math.max(s.heightToRowIndex(-E,2),0);for(var T=this.startRowIndex,r=Math.max(s.widthToColIndex(-n),0),o=r,x=s.colRowToCellIndex(o,T),d=this.bottomBound,h=this.rightBound,l=s.cellsCount-1,a=s.colCount-1,f=this.getCellTLX(o),c=f,u=this.getCellTLY(T)+p,v=u;v<d&&x<=l;){if(this.table.isValidCellIdx(x)){var g=s.getCell(x,!0);this.visibleCells.set(g),this.preVisibleCells.contains(g)||this.showCell(g);var m,y;if(this.scrollMode===0?(m=c,y=v):(m=v,y=c),g.cellContainerAlign==null)g.setXY(m,y);else{var C=g.getContainer();Hp(C,m,y,g.width,g.height,g.cellContainerAlign),g.setXY(C.x,C.y)}}c<h&&o<a?(c+=s.getColWidth(o),o+=1):(c=f,v+=s.getRowHeight(T),o=r,T+=1),x=s.colRowToCellIndex(o,T)}i||this.setScale(e,t)}},p8=function(e){var t=null,i=e.getContainer();if(i?(t=i,e.popContainer()):this.cellContainersPool&&(t=this.cellContainersPool.getFirstDead(),t!==null&&t.setActive(!0).setVisible(!0)),this.emit("cellvisible",e,t,this),this.cellContainersPool){var i=e.getContainer();i?t===null?this.cellContainersPool.add(i):t!==i&&(this.cellContainersPool.add(i),this.cellContainersPool.killAndHide(t)):t!==null&&this.cellContainersPool.killAndHide(t)}},bTt=function(e){var t=this.scrollMode===0?this.topLeftX:this.topLeftY,i=this.tableOX+this.table.colIndexToWidth(0,e-1)+t;return i},PTt=function(e){var t=this.scrollMode===0?this.topLeftY:this.topLeftX,i=this.tableOY+this.table.rowIndexToHeight(0,e-1)+t;return i},wTt=function(){var e=this.preVisibleCells,t=this.visibleCells;e.iterate(function(i){t.contains(i)||this.hideCell(i)},this)},g8=function(e){if(this.emit("cellinvisible",e),this.cellContainersPool){var t=e.popContainer();t&&(t.setScale(1).setAlpha(1),this.cellContainersPool.killAndHide(t))}e.destroyContainer()},MTt=function(e,t){return e===void 0&&(e=!1),t===void 0&&(t=!1),e&&(LB.call(this),this.hideCells()),LB.call(this),this.showCells(),this.hideCells(),this.setMaskChildrenFlag(),t&&(this.layoutChildrenMask(),this.maskChildren()),this},LB=function(){var e=this.preVisibleCells;this.preVisibleCells=this.visibleCells,this.visibleCells=e,this.visibleCells.clear()},RTt=function(e){var t=this.table.getCell(e,!1);return t&&this.visibleCells.contains(t)},m8=function(e,t){t-=this.y+this.topLeftY,e-=this.x+this.topLeftX;var i=this.tableOY-(this.scrollMode===0?t:e),s=this.tableOX-(this.scrollMode===0?e:t),p=this.table,E=p.heightToRowIndex(-i,0),n=p.widthToColIndex(-s),T=p.colRowToCellIndex(n,E);return T===null||!this.isCellVisible(T)?null:T},ATt=function(e,t){var i=m8.call(this,e,t);if(i!==null)return this.getCellContainer(i)},OTt=function(e,t){return this.visibleCells.each(e,t),this},LTt=function(e,t){return this.visibleCells.iterate(e,t),this},DTt=function(e,t){return this.table.cells.slice().forEach(e,t),this},FTt=function(e,t){return this.table.cells.forEach(e,t),this},ITt=function(e){var t=this.cellsCount;return t===e?this:(t>e?this.removeCells(e,t-e):this.insertNewCells(t,e-t),this)};const BTt=Phaser.Math.Clamp;var GTt=function(e,t){return typeof e=="object"&&(e=e.index),t===void 0&&(t=1),t<=0?this:(e=BTt(e,0,this.cellsCount),this.table.insertNewCells(e,t),this)},kTt=function(e,t){if(typeof e=="object"&&(e=e.index),t===void 0&&(t=1),e<0&&(t+=e,e=0),t<=0)return this;if(e>this.cellsCount)return this;for(var i,s=e,p=e+t;s<p;s++)i=this.getCell(s,!1),i&&(this.visibleCells.contains(i)&&(g8.call(this,i),this.visibleCells.delete(i)),this.preVisibleCells.delete(i));return this.table.removeCells(e,t),this},NTt=function(e){return this.table.colCount===e?this:(this.table.setColumnCount(e),this)},UTt=function(e,t){return this.setCellsCount(e*t),this.table.setColumnCount(e),this},VTt=function(e){var t=this.table.getCell(e,!1);return!t||!t.container?this:(p8.call(this,t),this)},y8={setTableOY:cTt,setTableOX:vTt,showCells:ETt,showCell:p8,getCellTLX:bTt,getCellTLY:PTt,hideCells:wTt,hideCell:g8,updateTable:MTt,isCellVisible:RTt,pointToCellIndex:m8,pointToCellContainer:ATt,eachVisibleCell:OTt,iterateVisibleCell:LTt,eachCell:DTt,iterateCell:FTt,setCellsCount:ITt,insertNewCells:GTt,removeCells:kTt,setColumnCount:NTt,setGridSize:UTt,updateVisibleCell:VTt};Object.assign(y8,v8);const zTt=Phaser.GameObjects.Group,DB=Phaser.Structs.Set,_s=Phaser.Utils.Objects.GetValue;let x8=class extends Bs{constructor(t,i,s,p,E,n){n===void 0&&(n={}),super(t,i,s,p,E),this.type="rexGridTable",this._tableOX=0,this._tableOY=0,this.visibleCells=new DB,this.preVisibleCells=new DB,this.execeedTopState=!1,this.execeedBottomState=!1,this.execeedLeftState=!1,this.execeedRightState=!1;var T=_s(n,"reuseCellContainer",!1);T&&(this.cellContainersPool=new zTt(t));var r=_s(n,"cellVisibleCallback",null);if(r!==null){var o=_s(n,"cellVisibleCallbackScope",void 0);this.on("cellvisible",r,o)}if(r=_s(n,"cellInvisibleCallback",null),r!==null){var o=_s(n,"cellInvisibleCallbackScope",void 0);this.on("cellinvisible",r,o)}_s(n,"enableLayer",!1)&&this.enableLayer(),this.setupChildrenMask(_s(n,"mask",void 0)),this.setScrollMode(_s(n,"scrollMode",0)),this.setClampMode(_s(n,"clampTableOXY",!0)),this.setStartFromBottomEnable(_s(n,"startFromBottom",!1));var x,d,h,l=this.scrollMode===0;if(l?(x=n.cellWidth,d=n.cellHeight,h=n.columns):(x=n.cellHeight,d=n.cellWidth,h=_s(n,"rows",n.columns)),this.fixedCellSize=_s(n,"fixedCellSize",!1),this.expandCellSize=!this.fixedCellSize&&x===void 0,h||(h=1),this.fixedCellSize)h=Math.max(Math.floor(this.instWidth/x),1);else if(this.expandCellSize){var p=l?this.width:this.height;x=p/h}n.cellWidth=x,n.cellHeight=d,n.columns=h,this.table=new dTt(this,n),this.updateTable()}destroy(t){!this.scene||this.ignoreDestroy||(this.destroyChildrenMask(),this.table.destroy(t),this.table=void 0,this.cellContainersPool&&(this.cellContainersPool.destroy(!0),this.cellContainersPool=void 0),super.destroy(t))}setScrollMode(t){return typeof t=="string"&&(t=WTt[t.toLowerCase()]),this.scrollMode=t,this}setClampMode(t){return t===void 0&&(t=!0),this.clampTableOXY=t,this}setStartFromBottomEnable(t){return t===void 0&&(t=!0),this.startFromBottomEnable=t,this}get tableOY(){return this._tableOY}get tableOX(){return this._tableOX}set tableOY(t){this.setTableOY(t).updateTable()}set tableOX(t){this.setTableOX(t).updateTable()}setTableOXY(t,i){return this.setTableOY(i).setTableOX(t),this}addTableOY(t){return this.setTableOY(this.tableOY+t),this}addTableOX(t){return this.setTableOX(this.tableOX+t),this}addTableOXY(t,i){return this.addTableOY(i).addTableOX(t),this}setTableOYByPercentage(t){return this.setTableOY(-this.tableVisibleHeight*t),this}getTableOYPercentage(){var t=this.tableVisibleHeight;return t===0?0:this.tableOY/-t}setTableOXByPercentage(t){return this.setTableOX(-this.tableVisibleWidth*t),this}getTableOXPercentage(){var t=this.tableVisibleWidth;return t===0?0:this.tableOX/-t}set t(t){this.setTableOYByPercentage(t).updateTable()}get t(){return this.getTableOYPercentage()}set s(t){this.setTableOXByPercentage(t).updateTable()}get s(){return this.getTableOXPercentage()}scrollToBottom(){if(this.t=1,this.t===0)return this;do this.t=1;while(this.t!==1);return this}scrollToRow(t){this.scrollToBottom();var i=this.table.rowIndexToHeight(0,t-1);return this.setTableOY(-i).updateTable(),this}scrollToNextRow(t){return t===void 0&&(t=1),this.scrollToRow(this.startRowIndex+t),this}getCell(t){return this.table.getCell(t,!0)}getCellContainer(t){var i=this.table.getCell(t,!1),s;return i&&(s=i.getContainer()),s}get cellsCount(){return this.table.cellsCount}get columnCount(){return this.table.colCount}setCellHeight(t,i){var s;return typeof t=="number"?s=this.table.getCell(t,!0):s=t,s.height=i,this}setCellWidth(t,i){var s;return typeof t=="number"?s=this.table.getCell(t,!0):s=t,s.width=i,this}resetAllCellsSize(t,i){if(this.scrollMode===1){var s=t;t=i,i=s}this.table.setDefaultCellHeight(i).setDefaultCellWidth(t);for(var p=this.table.cells,E=0,n=p.length;E<n;E++){var T=p[E];T&&(T.deltaHeight=0)}if(this.fixedCellSize){var r=Math.floor(this.instWidth/t);this.table.setColumnCount(r)}return this.updateTable(!0,!0),this}get instHeight(){return this.scrollMode===0?this.height:this.width}get instWidth(){return this.scrollMode===0?this.width:this.height}get tableHeight(){return this.table.totalRowsHeight}get tableWidth(){return this.table.totalColumnWidth}get tableOYOffset(){if(this.startFromBottomEnable){var t=this.tableHeight-this.instHeight;if(t<0)return-t}return 0}get topTableOY(){return 0}get bottomTableOY(){return-this.tableVisibleHeight}get leftTableOX(){return 0}get rightTableOX(){return-this.tableVisibleWidth}get tableVisibleHeight(){var t=this.tableHeight-this.instHeight;return t<0&&(t=0),t}get tableVisibleWidth(){var t=this.tableWidth-this.instWidth;return t<0&&(t=0),t}get bottomLeftY(){return-(this.displayHeight*this.originY)+this.displayHeight}get topRightX(){return-(this.displayWidth*this.originX)+this.displayWidth}get topLeftX(){return-(this.displayWidth*this.originX)}get topLeftY(){return-(this.displayHeight*this.originY)}get bottomBound(){return this.scrollMode===0?this.bottomLeftY:this.topRightX}get rightBound(){return this.scrollMode===0?this.topRightX:this.bottomLeftY}resize(t,i){if(this.width===t&&this.height===i)return this;if(super.resize(t,i),this.fixedCellSize){var s=Math.floor(this.instWidth/this.table.defaultCellWidth);this.table.setColumnCount(s)}else this.expandCellSize&&this.table.setDefaultCellWidth(this.instWidth/this.table.colCount);return this.updateTable(!0,!0),this}};Object.assign(x8.prototype,y8);const WTt={v:0,vertical:0,h:1,horizontal:1};var YTt=function(e){Object.defineProperty(e,"childOY",{configurable:!0,get:function(){return e.tableOY},set:function(t){e.tableOY=t}}),Object.defineProperty(e,"childOX",{configurable:!0,get:function(){return e.tableOX},set:function(t){e.tableOX=t}}),Object.defineProperty(e,"topChildOY",{get:function(){return e.topTableOY}}),Object.defineProperty(e,"bottomChildOY",{get:function(){return e.bottomTableOY}}),Object.defineProperty(e,"leftChildOX",{get:function(){return e.leftTableOX}}),Object.defineProperty(e,"rightChildOX",{get:function(){return e.rightTableOX}}),Object.defineProperty(e,"childVisibleHeight",{get:function(){return e.instHeight}}),Object.defineProperty(e,"childHeight",{get:function(){return e.tableHeight}}),Object.defineProperty(e,"childVisibleWidth",{get:function(){return e.instWidth}}),Object.defineProperty(e,"childWidth",{get:function(){return e.tableWidth}})},XTt=function(e){e.on("cellvisible",function(t,n,s){var p=this.createCellContainerCallback,E=this.createCellContainerCallbackScope;t.item=this.items[t.index],t.items=this.items;var n;E?n=p.call(E,t,n,s):n=p(t,n,s),n&&(t.cellContainerAlign==null&&n.setOrigin&&n.setOrigin(0),n.isRexSizer&&n.layout()),t.item=void 0,t.items=void 0,t.setContainer(n)},this)},Po=function(e,t,i,s,p,E,n){var T;if(p===void 0)T=s;else{var r=E.camera,o=s+r.scrollX*(i.scrollFactorX-1),x=p+r.scrollY*(i.scrollFactorY-1);T=i.pointToCellIndex(o,x)}if(T!=null){var d=i.getCellContainer(T);d&&e.emit(t,d,T,E,n)}},HTt=function(e,t){e.on("pointerdown",function(i,s,p,E){Po(this.eventEmitter,"cell.down",e,i.worldX,i.worldY,i,E)},this).on("pointerup",function(i,s,p,E){Po(this.eventEmitter,"cell.up",e,i.worldX,i.worldY,i,E)},this)},$Tt=function(e,t){e.on("pointermove",FB,this).on("pointerover",FB,this).on("pointerout",KTt,this)},FB=function(e,t,i,s){var p=this.childrenMap.child,E=e.camera,n=e.worldX+E.scrollX*(p.scrollFactorX-1),T=e.worldY+E.scrollY*(p.scrollFactorY-1),r=p.pointToCellIndex(n,T);if(r!==p.input.lastOverCellIndex){var o=p.input.lastOverCellIndex;p.input.lastOverCellIndex=r,Po(this.eventEmitter,"cell.out",p,o,void 0,e,s),Po(this.eventEmitter,"cell.over",p,r,void 0,e,s)}},KTt=function(e,t){var i=this.childrenMap.child,s=i.input.lastOverCellIndex;i.input.lastOverCellIndex=void 0,Po(this.eventEmitter,"cell.out",i,s,void 0,e,t)};const ZTt=Phaser.Utils.Objects.GetValue;var JTt=function(e,t){var i=ZTt(t,"click",void 0);i!==!1&&(i===void 0&&(i={}),i.threshold=10,e._click=new xl(e,i),e._click.on("click",function(s,p,E,n){Po(this.eventEmitter,"cell.click",p,E.worldX,E.worldY,E,n)},this))};const jTt=Phaser.Utils.Objects.GetValue;var QTt=function(e,t){var i=jTt(t,"tap",void 0);i!==!1&&(e._tap=new Qx(e,i),e._tap.on("tap",function(s,p,E){var n=`cell.${s.tapsCount}tap`;Po(this.eventEmitter,n,s.gameObject,s.worldX,s.worldY,E)},this))};const qTt=Phaser.Utils.Objects.GetValue;var _Tt=function(e,t){var i=qTt(t,"press",void 0);i!==!1&&(e._press=new qx(e,i),e._press.on("pressstart",function(s,p,E){Po(this.eventEmitter,"cell.pressstart",e,s.worldX,s.worldY,E)},this).on("pressend",function(s,p,E){Po(this.eventEmitter,"cell.pressend",e,s.worldX,s.worldY,E)},this))};const tCt=Phaser.Utils.Objects.GetValue;var eCt=function(e,t){var i=tCt(t,"swipe",void 0);i!==!1&&(i===void 0&&(i={}),i.dir="4dir",e._swipe=new Qp(e,i),e._swipe.on("swipe",function(s,p,E){var n=s.left?"left":s.right?"right":s.up?"up":"down";Po(this.eventEmitter,`cell.swipe${n}`,e,s.worldX,s.worldY,E)},this))},iCt=function(e,t){e.setInteractive(),HTt.call(this,e,t),$Tt.call(this,e,t),JTt.call(this,e,t),QTt.call(this,e,t),_Tt.call(this,e,t),eCt.call(this,e,t)},rCt=function(e,t){e===void 0?this.items=[]:this.items=e,t===void 0&&(t=!0);var i=this.childrenMap.child;return i.setCellsCount(this.items.length),t&&(i.updateTable(!0),this.resizeController()),this};const nCt={scrollToRow(e){var t=this.childrenMap.child;return t.scrollToRow(e),this},scrollToNextRow(e){var t=this.childrenMap.child;return t.scrollToNextRow(e),this}},La=Phaser.Utils.Objects.GetValue;class uR extends rg{constructor(t,i){i===void 0&&(i={});var s=_M(i),p=La(i,"table",void 0);p===void 0&&(p={}),p.scrollMode=s===2?0:s,p.clampTableOXY=La(i,"clampChildOY",!1);var E=La(p,"width",void 0),n=La(p,"height",void 0),T=new x8(t,0,0,E,n,p);t.add.existing(T);var r,o;p.scrollMode===0?(r=E===void 0,o=n===void 0):(r=n===void 0,o=E===void 0),YTt(T),T._minWidth=E===void 0?0:void 0,T._minHeight=n===void 0?0:void 0,i.type="rexGridTable",i.child={gameObject:T,expandWidth:r,expandHeight:o};var x=La(i,"space",void 0);x&&(x.child=La(x,"table",0)),super(t,i),this.addChildrenMap("table",T),this.addChildrenMap("tableLayer",T.maskLayer),this.eventEmitter=La(i,"eventEmitter",this);var d=La(i,"createCellContainerCallback",Ur),h=La(i,"createCellContainerCallbackScope",void 0);this.setCreateCellContainerCallback(d,h),XTt.call(this,T),this.resizeControllerFlag=!1;var l=s===0?"cellheightchange":"cellwidthchange";T.on(l,function(){this.resizeControllerFlag=!0},this),La(p,"interactive",!0)&&iCt.call(this,T,p),this.setItems(La(i,"items",[]),!1),t.game.events.on("poststep",this.onPostStep,this)}destroy(t){!this.scene||this.ignoreDestroy||(this.scene.game.events.off("poststep",this.onPostStep,this),super.destroy(t))}setCreateCellContainerCallback(t,i){return this.createCellContainerCallback=t,this.createCellContainerCallbackScope=i,this}refresh(){return this.setItems(this.items),this}getCell(t){var i=this.childrenMap.child;return i.getCell(t)}getCellContainer(t){var i=this.childrenMap.child;return i.getCellContainer(t)}updateVisibleCell(t){var i=this.childrenMap.child;return i.updateVisibleCell(t)}resetAllCellsSize(t,i){var s=this.childrenMap.child;return s.resetAllCellsSize(t,i),this}onPostStep(){this.resizeControllerFlag&&(this.resizeController(),this.resizeControllerFlag=!1)}get startRowIndex(){var t=this.childrenMap.child;return t.startRowIndex}}var sCt={setItems:rCt};Object.assign(uR.prototype,nCt,sCt);It.register("gridTable",function(e){var t=new uR(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.GridTable",uR);var fR=function(e,t){return e.sameOrientation?e.orientation=t.orientation:e.orientation=t.orientation===0?1:0,e},aCt=function(e,t){e.popUp(fR(e.root.easeIn,e))},oCt=function(e,t){e.scaleDown(fR(e.root.easeOut,e))};const lCt={setTransitInCallback(e){return e===void 0&&(e=aCt),this.transitInCallback=e,this},setTransitOutCallback(e){return e===void 0&&(e=oCt),this.transitOutCallback=e,this}};var hCt=function(e,t,i,s,p){var E=_d(e),n=E.time.delayedCall(t,function(){E.sys.events.once("postupdate",function(){i.call(s,p)})});return n};const uCt={delayCall(e,t,i){return this.timer=hCt(this,e,t,i),this},removeDelayCall(){return this.timer&&(this.timer.remove(!1),this.timer=void 0),this}};var fCt=function(e,t){var s=this.childrenMap.subMenu;if(s&&s.parentButton===e)return this;this.collapseSubMenu();var i;this.root.toggleOrientation?i=this.orientation===0?1:0:i=this.orientation;var s=new this.constructor(this.scene,{items:t,orientation:i,space:this.space,createBackgroundCallback:this.root.createBackgroundCallback,createBackgroundCallbackScope:this.root.createBackgroundCallbackScope,createButtonCallback:this.root.createButtonCallback,createButtonCallbackScope:this.root.createButtonCallbackScope,easeIn:this.root.easeIn,easeOut:this.root.easeOut,_rootMenu:this.root,_parentMenu:this,_parentButton:e});return this.pin(s),this.childrenMap.subMenu=s,this.root.emit("expand",s,e,this),this},dCt=function(){var e=this.root;e.emit("collapse",this,this.parentButton,e);var t=e.easeOut.duration;return e.transitOutCallback(this,t),this.collapseSubMenu(),this.delayCall(t,this.destroy,this),this},cCt=function(){var e=this.childrenMap.subMenu;return e===void 0?this:(this.childrenMap.subMenu=void 0,this.remove(e),e.collapse(),this)},T8={expandSubMenu:fCt,collapse:dCt,collapseSubMenu:cCt};Object.assign(T8,lCt,uCt);var vCt=function(e,t,i,s){var p;return i&&(t.scene=e,s?p=i.call(s,t):p=i(t),t.scene=void 0),p},pCt=function(e,t,i,s){var p,E=[],n;if(t&&i)for(var T=0,r=t.length;T<r;T++)p=t[T],p.scene=e,s?n=i.call(s,p,T,t):n=i(p,T,t),p.scene=void 0,E.push(n);return E},gCt=function(e){e.on(e.root.expandEventName,function(t,i){if(!this._isPassedEvent){var s=this.root.childrenKey,p=this.items[i][s];p&&this.expandSubMenu(t,p)}},e).on("button.click",function(t,i,s,p){this!==this.root&&(this.root._isPassedEvent=!0,this.root.emit("button.click",t,i,s,p),this.root._isPassedEvent=!1)},e).on("button.over",function(t,i,s,p){this!==this.root&&(this.root._isPassedEvent=!0,this.root.emit("button.over",t,i,s,p),this.root._isPassedEvent=!1)},e).on("button.out",function(t,i,s,p){this!==this.root&&(this.root._isPassedEvent=!0,this.root.emit("button.out",t,i,s,p),this.root._isPassedEvent=!1)},e)},IB=function(e,t){return typeof t=="number"&&(t={duration:t}),t.hasOwnProperty("orientation")&&t.orientation!==void 0?t.sameOrientation=Ju(t.orientation)===e.orientation:t.sameOrientation=!0,t.destroy=!1,t},mCt=function(){var e=this.root,t=e.easeIn.duration;e.transitInCallback(this,t),this!==this.root&&this.delayCall(t,function(){this.root.emit("popup.complete",this)},this)};const Wn=Phaser.Utils.Objects.GetValue;class dR extends Qr{constructor(t,i){i===void 0&&(i={}),i.hasOwnProperty("orientation")||(i.orientation=1);var s=i._rootMenu,p=i._parentMenu,E=i._parentButton,n=Wn(i,"popup",!0),T=Wn(i,"items",void 0),r=Wn(i,"createBackgroundCallback",void 0),o=Wn(i,"createBackgroundCallbackScope",void 0);i.background=vCt(t,T,r,o);var x=Wn(i,"createButtonCallback",void 0),d=Wn(i,"createButtonCallbackScope",void 0);if(i.buttons=pCt(t,T,x,d),super(t,i),this.type="rexMenu",this.items=T,this.root=s===void 0?this:s,this.isRoot=this.root===this,this.parentMenu=p,this.parentButton=E,this.timer=void 0,this.isRoot){this.isPopUpMode=n;var h=i.bounds;h===void 0&&(h=qd(t)),this.bounds=h,this.subMenuSide=[this.y<h.centerY?nw:Zy,this.x<h.centerX?rw:Ky];var l=Wn(i,"subMenuSide",void 0);l!==void 0&&(typeof l=="string"&&(l=yCt[l]),this.subMenuSide[this.orientation]=l),this.toggleOrientation=Wn(i,"toggleOrientation",!1),this.expandEventName=Wn(i,"expandEvent","button.click"),this.easeIn=IB(this,Wn(i,"easeIn",0)),this.easeOut=IB(this,Wn(i,"easeOut",0)),this.setTransitInCallback(Wn(i,"transitIn")),this.setTransitOutCallback(Wn(i,"transitOut")),this.createBackgroundCallback=r,this.createBackgroundCallbackScope=o,this.createButtonCallback=x,this.createButtonCallbackScope=d,this.childrenKey=Wn(i,"childrenKey","children"),this._isPassedEvent=!1,this.pointerDownOutsideCollapsing=Wn(i,"pointerDownOutsideCollapsing",!0),this.pointerDownOutsideCollapsing&&t.input.on("pointerdown",this.onPointerDownOutside,this)}var a=0,f=0;if(!this.root.easeIn.sameOrientation){var c=fR(this.root.easeIn,this).orientation,u=p?p.orientation:this.orientation,l=this.root.subMenuSide[u];c===0&&l===Ky&&(a=1),c===1&&l===Zy&&(f=1)}if(n&&this.setOrigin(a,f).layout(),!this.isRoot){this.setScale(this.root.scaleX,this.root.scaleY);var l=this.root.subMenuSide[p.orientation];switch(l){case Ky:this.alignTop(E.top).alignRight(E.left);break;case rw:this.alignTop(E.top).alignLeft(E.right);break;case Zy:this.alignLeft(E.left).alignBottom(E.top);break;case nw:this.alignLeft(E.left).alignTop(E.bottom);break}}gCt(this),n&&(this.pushIntoBounds(this.root.bounds),mCt.call(this))}destroy(t){!this.scene||this.ignoreDestroy||(this.isRoot&&this.pointerDownOutsideCollapsing&&this.scene.input.off("pointerdown",this.onPointerDownOutside,this),super.destroy(t),this.removeDelayCall())}isInTouching(t){return super.isInTouching(t)?!0:this.childrenMap.subMenu?this.childrenMap.subMenu.isInTouching(t):!1}onPointerDownOutside(t){this.isInTouching(t)||(this.isPopUpMode?this.collapse():this.collapseSubMenu())}}const Ky=2,rw=0,Zy=3,nw=1,yCt={up:Zy,down:nw,left:Ky,right:rw};Object.assign(dR.prototype,T8);It.register("menu",function(e){var t=new dR(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.Menu",dR);var xCt={setWrapEnable(e){return e===void 0&&(e=!0),this.listWrapEnable=e,this},setCreateButtonCallback(e){return this.listCreateButtonCallback=e,this},setCreateListBackgroundCallback(e){return this.listCreateBackgroundCallback=e,this},setCreateListSliderTrackCallback(e){return this.listCreateSliderTrackCallback=e,this},setCreateListSliderThumbCallback(e){return this.listCreateSliderThumbCallback=e,this},setListSliderAdaptThumbSizeEnable(e){return e===void 0&&(e=!0),this.listSliderAdaptThumbSizeEnable=e,this},setListScrollerConfig(e){return e===void 0&&(e={}),this.listScrollerConfig=e,this},setListMouseWheelScrollerConfig(e){return this.listMouseWheelScrollerConfig=e,this},setButtonClickCallback(e){return this.listOnButtonClick=e,this},setButtonOverCallback(e){return this.listOnButtonOver=e,this},setButtonOutCallback(e){return this.listOnButtonOut=e,this},setListExpandDirection(e){return typeof e=="string"&&(e=TCt[e]),this.listExpandDirection=e,this},setListEaseInDuration(e){return e===void 0&&(e=0),this.listEaseInDuration=e,this},setListEaseOutDuration(e){return e===void 0&&(e=0),this.listEaseOutDuration=e,this},setListTransitInCallback(e){return this.listTransitInCallback=e,this},settListTransitOutCallback(e){return this.listTransitOutCallback=e,this},setListBounds(e){return this.listBounds=e,this},setListWidth(e){return this.listWidth=e,this},setListHeight(e){return this.listHeight=e,this},setListSize(e,t){return this.setListWidth(e).setListHeight(t),this},setListMaxHeight(e){return this.listMaxHeight=e,this},setListAlignmentMode(e){return this.listAlignMode=e,this},setListAlignmentSide(e){return e===void 0&&(e=""),this.listAlignSide=e,this},setListSpace(e){return e===void 0&&(e={}),this.listSpace=e,this},setListDraggable(e){return e===void 0&&(e=!0),this.listDraggable=e,this}};const TCt={down:0,up:1};var CCt=function(){if(this.rexSizer.hidden)return 0;var e,t=this.child,i=t.rexSizer,s=!1;if(i.hidden)e=0;else switch(this.scrollMode){case 0:e=this.getChildWidth(t),e===void 0&&(s=!0);break;case 1:e=0;break;default:e=0;break}if(!s)return e},SCt=function(){if(this.rexSizer.hidden)return 0;var e,t=this.child,i=t.rexSizer,s=!1;if(i.hidden)e=0;else switch(this.scrollMode){case 0:e=0;break;case 1:e=this.getChildHeight(t),e===void 0&&(s=!0);break;default:e=0;break}if(!s)return e},ECt=function(e){return e===void 0&&(e=[]),this.child&&this.child.isRexSizer&&e.push(this.child),e},bCt=function(){var e=this.left,t=this.top;switch(this.scrollMode){case 0:t+=this.childOY;break;case 1:e+=this.childOY;break;default:t+=this.childOY,e+=this.childOX;break}this.child.setPosition(e,t),this.resetChildPositionState(this.child),this.setMaskChildrenFlag()},PCt=function(){var e=this.child,t,i;if(!e.rexSizer.hidden){switch(this.scrollMode){case 0:t=this.width*this.scaleX;break;case 1:i=this.height*this.scaleY;break}e.isRexSizer?e.runLayout(this,t,i):Rn(e,t,i),this.resetChildPosition(),this.layoutChildrenMask(),this.maskChildren()}},wCt=function(e,t){t||e.clearMask&&e.clearMask(!1)},C8={getChildrenWidth:CCt,getChildrenHeight:SCt,getChildrenSizers:ECt,resetChildPosition:bCt,layoutChildren:PCt,removeChildCallback:wCt};Object.assign(C8,v8);const BB=Phaser.Utils.Objects.IsPlainObject,ta=Phaser.Utils.Objects.GetValue,MCt=Phaser.Display.Align.TOP_LEFT;class S8 extends Qu{constructor(t,i,s,p,E,n){BB(i)?(n=i,i=ta(n,"x",0),s=ta(n,"y",0),p=ta(n,"width",void 0),E=ta(n,"height",void 0)):BB(p)&&(n=p,p=ta(n,"width",void 0),E=ta(n,"height",void 0)),super(t,i,s,p,E,n),this.type="rexScrollableBlock",this.child=void 0,this.childrenMask=void 0,this._childOY=0,this._childOX=0,this.execeedTopState=!1,this.execeedBottomState=!1,this.execeedLeftState=!1,this.execeedRightState=!1,this.setScrollMode(ta(n,"scrollMode",0));var T=ta(n,"clampChildOY",!0),r=ta(n,"clampChildOX",T);this.setClampMode(T,r);var o=ta(n,"child",void 0),x=ta(n,"expand",!0);o.setOrigin&&o.setOrigin(0),this.add(o),this.sizerChildren=[o];var d=this.getSizerConfig(o);d.align=MCt,d.expand=x,this.child=o;var h=ta(n,"mask");this.setupChildrenMask(h),this.childrenMask&&(this.maskGameObject=hR(this.childrenMask))}destroy(t){!this.scene||this.ignoreDestroy||(this.destroyChildrenMask(),this.child=void 0,super.destroy(t))}setScrollMode(t){return typeof t=="string"&&(t=jk[t.toLowerCase()]),this.scrollMode=t,this}setClampMode(t,i){return this.clampChildOY=t,this.clampChildOX=i,this}get instHeight(){return this.scrollMode===0||this.scrollMode===2?this.displayHeight:this.displayWidth}get instWidth(){return this.scrollMode===0||this.scrollMode===2?this.displayWidth:this.displayHeight}get childHeight(){return this.scrollMode===0||this.scrollMode===2?yi(this.child):mi(this.child)}get childWidth(){return this.scrollMode===0||this.scrollMode===2?mi(this.child):yi(this.child)}get topChildOY(){return 0}get bottomChildOY(){return-this.visibleHeight}get leftChildOX(){return 0}get rightChildOX(){return-this.visibleWidth}get childVisibleHeight(){return this.instHeight}get childVisibleWidth(){return this.instWidth}get visibleHeight(){var t=this.childHeight-this.childVisibleHeight;return t<0&&(t=0),t}get visibleWidth(){var t=this.childWidth-this.childVisibleWidth;return t<0&&(t=0),t}childOYExceedTop(t){return t===void 0&&(t=this.childOY),t>this.topChildOY}childOYExeceedBottom(t){return t===void 0&&(t=this.childOY),t<this.bottomChildOY}childOXExceedLeft(t){return t===void 0&&(t=this.childOX),t>this.leftChildOX}childOXExeceedRight(t){return t===void 0&&(t=this.childOX),t<this.rightChildOX}get childOY(){return this._childOY}set childOY(t){var i=this.topChildOY,s=this.bottomChildOY,p=this.childOYExceedTop(t),E=this.childOYExeceedBottom(t);this.clampChildOY&&(this.childVisibleHeight>this.childHeight?t=0:p?t=i:E&&(t=s)),this._childOY!==t&&(this._childOY=t,this.resetChildPosition()),p&&(this.execeedTopState||this.emit("execeedtop",this,t,i)),this.execeedTopState=p,E&&(this.execeedBottomState||this.emit("execeedbottom",this,t,s)),this.execeedBottomState=E}get childOX(){return this._childOX}set childOX(t){var i=this.leftChildOX,s=this.rightChildOX,p=this.childOXExceedLeft(t),E=this.childOXExeceedRight(t);this.clampChildOX&&(this.childVisibleWidth>this.childWidth?t=0:p?t=i:E&&(t=s)),this._childOX!==t&&(this._childOX=t,this.resetChildPosition()),p&&(this.execeedLeftState||this.emit("execeedleft",this,t,i)),this.execeedLeftState=p,E&&(this.execeedRightState||this.emit("execeedright",this,t,s)),this.execeedRightState=E}setChildOY(t){return this.childOY=t,this}setChildOX(t){return this.childOX=t,this}set t(t){this.childOY=-this.visibleHeight*t}get t(){var t=this.visibleHeight;return t===0?0:this.childOY/-t}set s(t){this.childOX=-this.visibleWidth*t}get s(){var t=this.visibleWidth;return t===0?0:this.childOX/-t}setChildOYByPercentage(t){return this.t=t,this}setChildOXByPercentage(t){return this.s=t,this}}Object.assign(S8.prototype,C8);var RCt=function(e,t){if(!this.hasChild(e))return this;switch(this.scrollMode){case 0:Py.call(this,e,"y",t);break;case 1:Py.call(this,e,"x",t);break;default:Py.call(this,e,"y",t),Py.call(this,e,"x",t);break}return this};const GB=["top","bottom","centerY","center"],kB=["left","right","centerX","center"];var Py=function(e,t,i){t=t.toUpperCase();var s=t==="Y",p=this.childrenMap.child,E;if(s){if(i)for(var n=0,T=GB.length;n<T;n++){var r=GB[n];if(i.indexOf(r)!==-1){i=r;break}}switch(i){case"top":E=p.top-Nu(e).y;break;case"bottom":E=p.bottom-wp(e).y;break;case"centerY":case"center":E=p.centerY-eI(e).y;break;default:var o=p.top-Nu(e).y,x=p.bottom-wp(e).y;o<=0&&x>=0?E=0:E=Math.abs(o)<=Math.abs(x)?o:x;break}}else{if(i)for(var n=0,T=kB.length;n<T;n++){var r=kB[n];if(i.indexOf(r)!==-1){i=r;break}}switch(i){case"left":E=p.left-Nu(e).x;break;case"right":E=p.right-Pp(e).x;break;case"centerX":case"center":E=p.centerX-eI(e).x;break;default:var d=p.left-Nu(e).x,h=p.right-Pp(e).x;d<=0&&h>=0?E=0:E=Math.abs(d)<=Math.abs(h)?d:h;break}}switch(this.scrollMode){case 0:case 1:this.childOY+=E;break;default:this[`childO${t}`]+=E;break}};const lh=Phaser.Utils.Objects.GetValue;class lg extends rg{constructor(t,i){i===void 0&&(i={});var s=_M(i),p=lh(i,"panel",void 0);p===void 0&&(p={}),p.scrollMode=s,p.clampChildOY=lh(i,"clampChildOY",!1),p.clampChildOX=lh(i,"clampChildOX",!1);var E=new S8(t,p);t.add.existing(E);var n,T;switch(s){case 0:n=lh(i,"expand.panel",!0),T=!0;break;case 1:n=!0,T=lh(i,"expand.panel",!0);break;default:n=!0,T=!0}i.type="rexScrollablePanel",i.child={gameObject:E,expandWidth:n,expandHeight:T,align:lh(i,"align.panel","center")};var r=lh(i,"space",void 0);r&&(r.child=lh(r,"panel",0)),super(t,i),this.addChildrenMap("panel",E.child),this.addChildrenMap("panelLayer",E.maskLayer),this.addChildrenMap("mask",E.maskGameObject),this.addChildrenMap("scrollableBlock",E)}setChildrenInteractive(t){return t===void 0&&(t={}),t.hasOwnProperty("eventEmitter")||(t.eventEmitter=this),t.hasOwnProperty("targets")||(t.targets=[this.childrenMap.panel]),_x(this.childrenMap.child,t),this}}var ACt={scrollToChild:RCt};Object.assign(lg.prototype,ACt);const OCt=Phaser.Utils.Objects.GetValue;var LCt=function(){var e=this.scene,t,i=this.listCreateBackgroundCallback;i&&(t=i.call(this,e),e.add.existing(t));var d=[],s=this.listCreateButtonCallback;if(s)for(var p=this.options,E=0,n=p.length;E<n;E++){var T=s.call(this,e,p[E],E,p);T&&(e.add.existing(T),d.push(T))}var r=this.listWidth;r===void 0&&(this.listAlignMode==="text"?r=this.getElement("text").width:r=this.width);var o=this.listHeight,x={width:r,buttons:d,space:this.listSpace},d,h,l;if(this.listCreateSliderThumbCallback?l=o>0||this.listMaxHeight>0:l=!1,!l)x.height=o,d=NB(e,x,this.listWrapEnable),h=d;else{var d=NB(e,x,this.listWrapEnable);if(this.listMaxHeight>0&&(d.layout(),d.height<=this.listMaxHeight&&(h=d)),!h){o===0&&(o=this.listMaxHeight);var a=UB(e,this.listCreateSliderTrackCallback),f=UB(e,this.listCreateSliderThumbCallback);h=new lg(e,{height:o,scrollMode:0,panel:{child:d,mask:{padding:1}},slider:{track:a,thumb:f,adaptThumbSize:this.listSliderAdaptThumbSizeEnable},scrollDetectionMode:1,scroller:this.listScrollerConfig,mouseWheelScroller:this.listMouseWheelScrollerConfig,space:{panel:OCt(this.listSpace,"panel",0)}}),e.add.existing(h)}}return t&&h.addBackground(t,"background"),this.listDraggable&&h.setDraggable(!0),h!==d&&d.on("button.over",function(c,u,v,g){h.emit("button.over",c,u,v,g)}).on("button.out",function(c,u,v,g){h.emit("button.out",c,u,v,g)}).on("button.click",function(c,u,v,g){h.emit("button.click",c,u,v,g)}),h},NB=function(e,t,i){var s;return i?(t.orientation="x",s=new wh(e,t)):(t.orientation="y",s=new Qr(e,t)),e.add.existing(s),s},UB=function(e,t,i){var s;return t&&(s=t.call(i,e),e.add.existing(s)),s},DCt=function(e,t,i,s,p){var E={};switch(E.mode=0,i){case 0:case"x":E.end={x:0};break;case 1:case"y":E.end={y:0};break;default:E.end=0;break}return E.duration=t,E.ease=s,p===void 0?p=new Ap(e,E):p.resetFromJSON(E),p.restart(),p},FCt=function(e,t,i,s,p){return ul(e,t)?Ti(e,t):ul(e,i)?Ti(e,i):p};const Cd=Phaser.Utils.Objects.GetValue;var ICt=function(e,t){var i=Cd(t,"expandDirection",void 0);typeof i=="string"&&(i=BCt[i]);var s=FCt(t,"alignTarget","alignTargetX"),p=Cd(t,"alignTargetY",s),E=Cd(t,"alignOffsetX",0),n=Cd(t,"alignOffsetY",0),T=Cd(t,"alignSide",""),r=T.includes("right"),o=Cd(t,"bounds"),x=i===0,d=i===1,h=!x&&!d,l=r?1:0,a=x||h?0:1;e.setOrigin(l,a);var f,c;r?f=s.getTopRight().x:f=s.getTopLeft().x,c=p.getBottomLeft().y,e.setPosition(f+E,c+n);var u=o;u||(u=qd(e.scene)),h&&e.getBottomLeft().y>u.bottom&&(c=p.getTopLeft().y,e.setOrigin(0,1).setPosition(f+E,c+n))};const BCt={down:0,up:1},VB=Phaser.Utils.Objects.GetValue;class E8 extends $x{constructor(t,i){i===void 0&&(i={}),i.transitIn==null&&(i.transitIn=function(E,n){AM(E,n,"y","Cubic")}),i.transitOut==null&&(i.transitOut=function(E,n){DCt(E,n,"y","Linear")}),i.manualClose=!0,i.clickOutsideClose=!0,i.destroy=!0,super(t,i),ICt(t,i),t.isRexSizer&&t.layout();var s=VB(i,"touchOutsideClose",!1),p=VB(i,"anyTouchClose",!1);p&&(s=!1),p?this.once("open",this.anyTouchClose,this):s&&this.once("open",this.touchOutsideClose,this),this.requestOpen()}shutdown(t){this.isShutdown||(this.scene.input.off("pointerup",this.touchCloseCallback,this),super.shutdown(t))}touchOutsideClose(){return this.scene.input.on("pointerup",this.touchCloseCallback,this),this.clickOutsideTest=!0,this}anyTouchClose(){return this.scene.input.once("pointerup",this.touchCloseCallback,this),this}touchCloseCallback(t){this.clickOutsideTest&&Zx(this.parent,t.worldX,t.worldY)||this.requestClose()}onOpen(){this.emit("open",this.parent,this),super.onOpen()}onClose(){this.emit("close",this.parent,this),super.onClose()}}var GCt=function(){if(this.listPanel)return this;if(this.options.length===0)return this;var e=LCt.call(this);e.on("button.over",function(s,p,E,n){this.currentOverIndex=p,this.listOnButtonOver&&this.listOnButtonOver.call(this,s,p,E,n),this.emit("button.over",this,e,s,p,E,n)},this).on("button.out",function(s,p,E,n){this.currentOverIndex===p&&(this.currentOverIndex=void 0),this.listOnButtonOut&&this.listOnButtonOut.call(this,s,p,E,n),this.emit("button.out",this,e,s,p,E,n)},this);var t;!this.listAlignMode||this.listAlignMode==="label"?t=this:t=this.getElement(this.listAlignMode);var i=new E8(e,{duration:{in:this.listEaseInDuration,out:this.listEaseOutDuration},transitIn:this.listTransitInCallback,transitOut:this.listTransitOutCallback,expandDirection:this.listExpandDirection,alignTargetX:t,alignTargetY:this,alignSide:this.listAlignSide,bounds:this.listBounds}).on("open",function(){e.on("button.click",function(s,p,E,n){this.listOnButtonClick&&this.listOnButtonClick.call(this,s,p,E,n),this.emit("button.click",this,e,s,p,E,n),this.dropDownBehavior.requestClose()},this),this.emit("list.open",this,e)},this).on("close",function(){this.listPanel=void 0,this.dropDownBehavior=void 0,this.emit("list.close",this)},this);return e.onClickOutside(function(){i.requestClose()}),this.listPanel=e,this.dropDownBehavior=i,this.pin(e),this},kCt=function(){return this.dropDownBehavior?(this.dropDownBehavior.requestClose(),this.currentOverIndex=void 0,this):this},NCt=function(){return this.listPanel?this.closeListPanel():this.openListPanel(),this},UCt=function(e){if(e===void 0&&(e=this.currentOverIndex),e===void 0)return this;var t=this.listPanel,i=t?t.getButton(e):this.options[e];return this.listOnButtonClick&&this.listOnButtonClick.call(this,i,e),this.emit("button.click",this,t,i,e),this},VCt=function(e){var t=this.listPanel;return t?(t.emitButtonOver(e),this):this};const zCt={focusNextButton(){if(!this.isOpened)return this;var e=this.currentOverIndex,t;if(e===void 0)t=0;else{var i=this.listPanel.getButtons().length;t=(e+1)%i}return this.emitButtonOver(t),this},focusPrevButton(){if(!this.isOpened)return this;var e=this.currentOverIndex,t;if(e===void 0)t=0;else{var i=this.listPanel.getButtons().length;t=(e-1+i)%i}return this.emitButtonOver(t),this}};var b8={openListPanel:GCt,closeListPanel:kCt,toggleListPanel:NCt,emitButtonClick:UCt,emitButtonOver:VCt};Object.assign(b8,xCt,zCt);const Ai=Phaser.Utils.Objects.GetValue;class hg extends Sl{constructor(t,i){super(t,i),this.type="rexDropDownList",this.timer=void 0,this.listPanel=void 0,this.currentOverIndex=void 0,this.setOptions(Ai(i,"options"));var s=Ai(i,"list");this.setWrapEnable(Ai(s,"wrap",!1)),this.setCreateButtonCallback(Ai(s,"createButtonCallback")),this.setCreateListBackgroundCallback(Ai(s,"createBackgroundCallback")),this.setCreateListSliderTrackCallback(Ai(s,"createTrackCallback")),this.setCreateListSliderThumbCallback(Ai(s,"createThumbCallback")),this.setListSliderAdaptThumbSizeEnable(Ai(s,"sliderAdaptThumbSize",!1)),this.setListScrollerConfig(Ai(s,"scroller")),this.setListMouseWheelScrollerConfig(Ai(s,"mouseWheelScroller")),this.setButtonClickCallback(Ai(s,"onButtonClick")),this.setButtonOverCallback(Ai(s,"onButtonOver")),this.setButtonOutCallback(Ai(s,"onButtonOut")),this.setListExpandDirection(Ai(s,"expandDirection")),this.setListEaseInDuration(Ai(s,"easeIn",500)),this.setListEaseOutDuration(Ai(s,"easeOut",100)),this.setListTransitInCallback(Ai(s,"transitIn")),this.settListTransitOutCallback(Ai(s,"transitOut")),this.setListMaxHeight(Ai(s,"maxHeight",0)),this.setListSize(Ai(s,"width"),Ai(s,"height",0)),this.setListAlignmentMode(Ai(s,"alignParent","text")),this.setListAlignmentSide(Ai(s,"alignSide","")),this.setListBounds(Ai(s,"bounds")),this.setListSpace(Ai(s,"space")),this.setListDraggable(Ai(s,"draggable",!1)),this.setValueChangeCallback(Ai(i,"setValueCallback"),Ai(i,"setValueCallbackScope")),this.setValue(Ai(i,"value")),this.onClick(this.toggleListPanel,this)}destroy(t){!this.scene||this.ignoreDestroy||(this.listPanel&&(this.listPanel.destroy(t),this.listPanel=void 0),super.destroy(t))}get isOpened(){return!!this.listPanel}setOptions(t){return t===void 0&&(t=[]),this.options=t,this}setValueChangeCallback(t,i){return this.valueChangeCallback=t,this.valueChangeCallbackScope=i,this}setValue(t){return this.value=t,this}get value(){return this._value}set value(t){if(this._value!==t){var i=this._value;this._value=t;var s=this.valueChangeCallback,p=this.valueChangeCallbackScope;s&&(p?s.call(p,this,t,i):s(this,t,i)),this.emit("valuechange",this,t,i)}}}Object.assign(hg.prototype,b8);It.register("dropDownList",function(e){var t=new hg(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.DropDownList",hg);var P8=function(e,t,i){t=t?tn(t):{},i===void 0&&(i={});var s=t.label||t.button,p=t.button||t.label;delete t.label,delete t.button;var E=i.label||i.button||i,n=i.button||i.label||i,T=uT(e,s,E);T.list=t.list||{},T.list.createButtonCallback=function(x,d){var h=_r(x,p,n).resetDisplayContent(d);return d.hasOwnProperty("value")&&(h.value=d.value),h};var r=t.track;r&&(T.list.createTrackCallback=function(x){return Vr(x,r)},delete t.track);var o=t.thumb;return o&&(T.list.createThumbCallback=function(x){return Vr(x,o)},delete t.thumb),T.list.onButtonOver=function(x,d,h,l){x.setHoverState&&x.setHoverState(!0)},T.list.onButtonOut=function(x,d,h,l){x.setHoverState&&x.setHoverState(!1)},T};class w8 extends hg{constructor(t,i,s){i=P8(t,i,s),super(t,i),this.type="rexSimpleDropDownList"}setOptions(t){t===void 0&&(t=[]);for(var i=0,s=t.length;i<s;i++){var p=t[i];typeof p=="string"&&(t[i]={text:p,value:p})}return super.setOptions(t),this}}It.register("simpleDropDownList",function(e,t){var i=new w8(this.scene,e,t);return this.scene.add.existing(i),i});Lt(window,"RexPlugins.UI.SimpleDropDownList",w8);var WCt=function(e){var t=Oh(e),i,s,p;switch(t){case An:case On:i=e.height-e.padding.top-e.padding.bottom,s=e.lineSpacing,p=e.style.metrics.fontSize+e.style.strokeThickness;break;case Os:i=e.height,s=0;var E=e.fontSize/e.fontData.size;p=e.fontData.lineHeight*E;break}return(i-s)/(p+s)},YCt=function(e,t){if(e===void 0&&(e=this.startLineIndex),t===void 0){var i=this.pageLinesCount;i>0?t=e+i:t=this.totalLinesCount}t>this.totalLinesCount&&(t=this.totalLinesCount);var s;switch(this.textObjectType){case An:case Os:s=this.lines.slice(e,t).join(`
`);break;case On:var p=this.lines.getLineStartIndex(e),E=this.lines.getLineEndIndex(t-1);s=this.lines.getSliceTagText(p,E,!0);var n=(s.match(/\n/g)||[]).length;n>t-e-1&&(s=s.substring(0,s.length-1));break}return s};const XCt={clearText(){return this.sections.length=0,this.pageStartIndexes.length=0,this.lines.length=0,this},appendPage(i){var t=this.totalLinesCount;this.sections.push(Ud(i));var i=this.sections.join(`
`);this.lines=eR(this.parent,i,this.lines);var s=this.totalLinesCount-t,p=this.pageLinesCount,E;p>0?E=Math.ceil(s/this.pageLinesCount):E=1;for(var n=0;n<E;n++)this.pageStartIndexes.push(t+n*this.pageLinesCount);return this},setText(e,t){t===void 0&&(t=!0),t&&this.resetIndex(),this.clearText();for(var i=Ud(e).split(this.pageBreak),s=0,p=i.length;s<p;s++)this.appendPage(i[s]);return this},appendText(e){var t=this.content+Ud(e);return this.setText(t,!1),this}},zB=Phaser.Math.Clamp,HCt={resetIndex(){return this.pageIndex=-1,this.startLineIndex=-1,this.endLineIndex=void 0,this},setPageIndex(e){return e=zB(e,0,this.lastPageIndex),this.pageIndex=e,this.startLineIndex=this.pageStartIndexes[e],this.endLineIndex=this.pageStartIndexes[e+1],this},getPage(e){return e===void 0&&(e=this.pageIndex),this.setPageIndex(e).getLines(this.startLineIndex,this.endLineIndex)},getNextPage(){return this.getPage(this.pageIndex+1)},getPreviousPage(){return this.getPage(this.pageIndex-1)},getFirstPage(){return this.getPage(0)},getLastPage(){return this.getPage(this.lastPageIndex)},setStartLineIndex(e){var t=Math.max(this.totalLinesCount-this.pageLinesCount,0);return e=zB(e,0,t),this.startLineIndex=e,this.endLineIndex=e+this.pageLinesCount,this},getPageByLineIndex(e){return this.setStartLineIndex(e).getLines(this.startLineIndex,this.endLineIndex)},getPageOfNextLine(){return this.getPageByLineIndex(this.startLineIndex+1)},getPageOfPreviousLine(){return this.getPageByLineIndex(this.startLineIndex-1)},getPageOfFirstLine(){return this.getPageByLineIndex(0)},getPageOfLastLine(){return this.getPageByLineIndex(this.totalLinesCount)}},$Ct={showPage(e){return this.displayText(this.getPage(e)),this},showNextPage(){return this.displayText(this.getNextPage()),this},showPreviousPage(){return this.displayText(this.getPreviousPage()),this},showFirstPage(){return this.displayText(this.getFirstPage()),this},showLastPage(){return this.displayText(this.getLastPage()),this},show(){return this.displayText(this.getLines()),this},showPageByLineIndex(e){return this.displayText(this.getPageByLineIndex(e)),this},showNextLine(){return this.displayText(this.getPageOfNextLine()),this},showPreviousLine(){return this.displayText(this.getPageOfPreviousLine()),this},showFirstLine(){return this.displayText(this.getPageOfFirstLine()),this},showLastLine(){return this.displayText(this.getPageOfLastLine()),this},displayText(e){hT(this.parent,e)}};var M8={getLines:YCt};Object.assign(M8,XCt,HCt,$Ct);const Sd=Phaser.Utils.Objects.GetValue;Phaser.Math.Clamp;class ST extends ji{constructor(t,i){super(t,{eventEmitter:!1}),this.textObjectType=Oh(this.parent),this.pageStartIndexes=[],this.lines=eR(this.parent,""),this.sections=[],this.resetFromJSON(i)}resetFromJSON(t){this.setMaxLines(Sd(t,"maxLines",void 0)),this.setPageBreak(Sd(t,"pageBreak",`\f
`)),this.setText(Sd(t,"text","")),this.startLineIndex=Sd(t,"start",-1),this.endLineIndex=Sd(t,"end",void 0);var i=Sd(t,"page");return i===void 0?this.resetIndex():this.setPageIndex(i),this}toJSON(){return{maxLines:this.maxLines,text:this.content,start:this.startLineIndex,end:this.endLineIndex,page:this.pageIndex,pageBreak:this.pageBreak}}shutdown(t){if(!this.isShutdown){switch(this.textObjectType){case An:this.lines.length=0;break;case On:this.lines.destroy();break;case Os:this.lines.length=0;break}this.pageStartIndexes.length=0,this.sections.length=0,this.lines=void 0,this.pageStartIndexes=void 0,this.sections=void 0,super.shutdown(t)}}setMaxLines(t){return this.maxLines=t,this}setPageBreak(t){return this.pageBreak=t,this}get pageCount(){return this.pageStartIndexes.length}get lastPageIndex(){return this.pageCount-1}get isFirstPage(){return this.pageIndex<=0}get isLastPage(){return this.pageIndex>=this.pageCount-1}get totalLinesCount(){return this.lines?this.lines.length:0}get pageLinesCount(){if(this.maxLines!==void 0)return this.maxLines;var t;switch(this.textObjectType){case An:case On:var i=this.parent.style.maxLines;i>0?t=i:t=Math.floor(WCt(this.parent));break;case Os:t=this.totalLinesCount;break}return t}get isFirstLine(){return this.startLineIndex<=0}get isLastLine(){return this.endLineIndex===this.totalLinesCount}get content(){return this.sections.join(this.pageBreak)}}Object.assign(ST.prototype,M8);const KCt={setText(e){this.setTextCallback&&(this.setTextCallbackScope?e=this.setTextCallback.call(this.setTextCallbackScope,e,this.isLastChar,this.insertIndex):e=this.setTextCallback(e,this.isLastChar,this.insertIndex)),this.textWrapEnable?hT(this.parent,e):this.parent.setText(e)},appendText(e){var t=this.text.concat(Ud(e));return this.isTyping?this.setTypingContent(t):this.start(t,void 0,this.textLength),this}};var ZCt=function(e,t,i,s){return e!==void 0&&this.setTypingContent(e),t!==void 0&&(this.speed=t),i===void 0&&(i=0),this.typingIndex=i+1,this.speed===0?this.stop(!0):(this.setText(""),this.startTimer(s)),this},R8=function(e,t){return e.getPlainText&&(t=e.getPlainText(t)),t},JCt=function(e,t,i,s,p){var E;if(t>0){s===void 0&&(s=0);var n=R8(this.parent,e);E=jCt(n,t)+s}return this.start(e,i,E,p)},jCt=function(e,t){for(var i=void 0,s=0;s<t&&(i=e.indexOf(`
`,i+1),i!==-1);s++);return i},hp=function(e,t,i,s){var p;return e.getSubString?p=e.getSubString(t,i,s):p=t.slice(i,s),p},A8=function(e,t,i,s){var p=this.parent,E;if(s===0){var n=0,T=t;this.insertIndex=T,E=hp(p,e,n,T)}else if(s===1){var T=i,n=T-t;this.insertIndex=0,E=hp(p,e,n,T)}else if(s===2){var r=i/2,n=Math.floor(r-t/2),T=n+t;this.insertIndex=t%2?t:0,E=hp(p,e,n,T)}else if(s===3){var o=Math.floor(t/2),x;if(o>0){var T=i,n=T-o;x=hp(p,e,n,T)}else x="";var d=t-o,h;if(d>0){var n=0,T=n+d;this.insertIndex=T,h=hp(p,e,n,T)}else h="",this.insertIndex=0;E=h+x}return this.insertChar=E.charAt(this.insertIndex-1),E},QCt=function(e){var t=this.getTimer();if(t&&this.freeTimer(),e){for(;!this.isLastChar;)A8.call(this,this.text,this.typingIndex,this.textLength,this.typeMode),this.emit("typechar",this.insertChar),this.typingIndex++;this.setText(this.text),this.emit("type"),this.emit("complete",this,this.parent)}return this},qCt=function(){var e=this.getTimer();return e&&(e.paused=!0),this},_Ct=function(){var e=this.getTimer();return e&&(e.paused=!1),this},O8={start:ZCt,startFromLine:JCt,stop:QCt,pause:qCt,resumeTyping:_Ct};Object.assign(O8,KCt);var tSt=function(e,t){var i=Oh(e);switch(i){case An:e.style.syncFont(e.canvas,e.context),t=e.runWordWrap(t);break;case On:t=e.getText(t,void 0,void 0,!0);break;case Os:t=e.setText(t).getTextBounds().wrappedText;break}return t};const up=Phaser.Utils.Objects.GetFastValue,vP=Phaser.Utils.Objects.GetValue;class ET extends ji{constructor(t,i){super(t,i),this.timer=null,this.resetFromJSON(i)}resetFromJSON(t){this.setTextWrapEnable(vP(t,"wrap",!1)),this.setTypeMode(vP(t,"typeMode",0)),this.setTypingSpeed(vP(t,"speed",333)),this.setTextCallback=up(t,"setTextCallback",null),this.setTextCallbackScope=up(t,"setTextCallbackScope",null),this.setTypingContent(up(t,"text","")),this.typingIndex=up(t,"typingIndex",0),this.insertIndex=null,this.insertChar=null;var i=up(t,"elapsed",null);return i!==null&&this.start(void 0,void 0,this.typingIndex,i),this}shutdown(t){this.isShutdown||(this.freeTimer(),super.shutdown(t))}setTypeMode(t){return typeof t=="string"&&(t=eSt[t]),this.typeMode=t,this}setTypeSpeed(t){return this.speed=t,this}setTypingSpeed(t){return this.speed=t,this}setTextWrapEnable(t){return t===void 0&&(t=!0),this.textWrapEnable=t,this}set text(t){var i=Ud(t);this.textWrapEnable&&(i=tSt(this.parent,i)),this._text=i}get text(){return this._text}get isTyping(){return this.getTimer()!==null}get isLastChar(){return this.typingIndex===this.textLength}setTypingContent(t){return this.text=t,this.textLength=R8(this.parent,this.text).length,this}onTyping(){var t=A8.call(this,this.text,this.typingIndex,this.textLength,this.typeMode);this.setText(t),this.emit("typechar",this.insertChar),this.emit("type"),this.isLastChar?(this.freeTimer(),this.scene.sys.events.once("preupdate",function(){this.emit("complete",this,this.parent)},this)):(this.timer.delay=this.speed,this.typingIndex++)}startTimer(t){this.timer&&this.freeTimer();var i;return t===void 0?i=0:(this.speed,i=t),this.timer=this.scene.time.addEvent({delay:1e-4,startAt:i,loop:!0,callback:this.onTyping,callbackScope:this}),this}getTimer(){return this.timer}freeTimer(){return this.timer&&(this.timer.remove(),this.timer=null),this}setText(t){this.setTextCallback&&(this.setTextCallbackScope?t=this.setTextCallback.call(this.setTextCallbackScope,t,this.isLastChar,this.insertIndex):t=this.setTextCallback(t,this.isLastChar,this.insertIndex)),this.textWrapEnable?hT(this.parent,t):this.parent.setText(t)}}const eSt={"left-to-right":0,"right-to-left":1,"middle-to-sides":2,"sides-to-middle":3};Object.assign(ET.prototype,O8);const fp=Phaser.Utils.Objects.GetValue;var iSt=function(e,t){t===void 0&&(t="rexTextBox");class i extends e{constructor(p,E){super(p,E),this.type=t,this.isRunning=!1,this._isPageEnd=!1;var n=this.childrenMap.text,T=fp(E,"expandTextWidth",!1),r=fp(E,"expandTextHeight",!1);if(T||r){var o=Oh(n);switch(o){case An:case On:if(n.resize=function(d,h){var l=T?d:0,a=r?h:0;n.setFixedSize(l,a),l>0&&n.setWordWrapWidth(l)},o===On){var x=n.style;x.wrapMode===0&&(x.wrapMode=1)}break}T&&(n._minWidth=0),r&&(n._minHeight=0)}this.setTypingMode(fp(E,"typingMode","page")),this.page=new ST(n,fp(E,"page",void 0)),this.typing=new ET(n,fp(E,"typing",E.type)),this.typing.on("complete",this.onTypingComplete,this).on("type",this.onType,this).on("typechar",this.onTypeChar,this),this.textWidthSave=n.width,this.textHeightSave=n.height}setTypingMode(p){return typeof p=="string"&&(p=rSt[p]),this.typingMode=p,this}start(p,E){return E!==void 0&&this.setTypingSpeed(E),this.isRunning=!0,this.page.setText(p),this.emit("start"),this.typingMode===0?this.typeNextPage():this.typeNextLine(),this}more(p,E){if(E!==void 0&&this.setTypingSpeed(E),this.isRunning)this.page.appendText(p),this.typing.appendText(p);else{if(this.isRunning=!0,this.page.appendText(p),this.emit("start"),this.typingMode===0){this._isPageEnd=!1;var n=this.page.getPage(),T=this.typing.textLength;this.typing.start(n,void 0,T)}return this}}typeNextPage(){if(!this.isRunning)return this;if(this.isLastPage)this.emit("complete");else{this._isPageEnd=!1;var p=this.page.getNextPage();this.typing.start(p)}return this}typeNextLine(){if(!this.isRunning)return this;if(this.isLastLine)this.isRunning=!1,this.emit("pageend"),this.emit("complete");else{var p=this.page.getPageOfNextLine(),E;this.isFirstLine?E=0:E=this.page.pageLinesCount-1,this.typing.startFromLine(p,E)}}pause(){return this.isRunning?(this.isTyping&&(this.typing.pause(),this.emit("pause")),this):this}resume(){return this.isRunning?(this.isTyping||(this.emit("resume"),this.typing.resume()),this):this}stop(p){return this.isRunning?(this.typing.stop(p),this):this}showLastPage(){return this.isRunning?(this.typing.stop(),this.typingMode===0?this.page.showLastPage():this.page.showLastLine(),this.emit("type"),this.onTypingComplete(),this):this}setTypeSpeed(p){return this.typing.setTypingSpeed(p),this}setTypingSpeed(p){return this.typing.setTypingSpeed(p),this}get isTyping(){return this.typing.isTyping}get isPageEnd(){return this._isPageEnd}get isLastPage(){return this.page.isLastPage}get isFirstPage(){return this.page.isFirstPage}get pageCount(){return this.page.pageCount}get pageIndex(){return this.page.pageIndex}get isLastLine(){return this.page.isLastLine}get isFirstLine(){return this.page.isFirstLine}get lineCound(){return this.page.totalLinesCount}get startLineIndex(){return this.page.startLineIndex}get endLineIndex(){return this.page.endLineIndex}get typingSpeed(){return this.typing.speed}onType(){var p=this.childrenMap.text;(this.textWidthSave!==p.width||this.textHeightSave!==p.height)&&(this.textWidthSave=p.width,this.textHeightSave=p.height,this.getTopmostSizer().layout()),this.emit("type")}onTypeChar(p){this.emit("typechar",p)}onTypingComplete(){if(this.typingMode===0){this._isPageEnd=!0;var p=this.isLastPage;this.isRunning=!p,this.emit("pageend"),p&&this.emit("complete")}else this.typeNextLine()}}return i};const rSt={page:0,line:1};class cR extends iSt(fT){constructor(t,i){i===void 0&&(i={}),i.hasOwnProperty("layoutMode")||(i.layoutMode=1),super(t,i)}}It.register("textBox",function(e){var t=new cR(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.TextBox",cR);class L8 extends cR{constructor(t,i,s){i=n8(t,i,s),super(t,i)}}It.register("simpleTextBox",function(e){var t=new L8(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.SimpleTextBox",L8);const Ms=Phaser.Utils.Objects.GetValue;class D8 extends qe{constructor(t,i){super(t,i),this.type="rexNumberBar";var s=Ms(i,"background",void 0),p=Ms(i,"icon",void 0),E=Ms(i,"iconMask",void 0),n=Ms(i,"slider",void 0),T=Ms(i,"text",void 0),r=Ms(i,"space.icon",0),o=Ms(i,"space.slider",0);if(s&&this.addBackground(s),p){var x;this.orientation===0?(n||T)&&(x={right:r}):(n||T)&&(x={bottom:r}),this.add(p,{proportion:0,align:"center",padding:x}),E&&(E=za.call(this,p,p,1))}var d;if(n){n.orientation=this.orientation,n.eventEmitter=this,n.value=null,n.hasOwnProperty("input")||(n.input=-1),d=new rc(t,n),t.add.existing(d);var x;this.orientation===0?T&&(x={right:o}):T&&(x={bottom:o});var h;if(this.orientation===0){var l=Ms(n,"width",void 0);h=l===void 0?1:0}else{var a=Ms(n,"height",void 0);h=a===void 0?1:0}this.add(d,{proportion:h,align:"center",padding:x})}T&&this.add(T),this.addChildrenMap("background",s),this.addChildrenMap("icon",p),this.addChildrenMap("iconMask",E),this.addChildrenMap("slider",d),this.addChildrenMap("text",T);var f=Ms(i,"valuechangeCallback",null);if(f!==null){var c=Ms(i,"valuechangeCallbackScope",void 0);this.on("valuechange",f,c)}this.setEnable(Ms(i,"enable",void 0)),this.setValue(Ms(i,"value",0))}get enable(){return this.childrenMap.slider?this.childrenMap.slider.enable:!1}set enable(t){this.childrenMap.slider&&this.childrenMap.slider.setEnable(t)}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}get value(){return this.childrenMap.slider?this.childrenMap.slider.value:0}set value(t){this.childrenMap.slider&&(this.childrenMap.slider.value=t)}setValue(t,i,s){return this.childrenMap.slider&&this.childrenMap.slider.setValue(t,i,s),this}addValue(t,i,s){return this.childrenMap.slider&&this.childrenMap.slider.addValue(t,i,s),this}getValue(t,i){return this.childrenMap.slider?this.childrenMap.slider.getValue(t,i):0}easeValueTo(t,i,s){return this.childrenMap.slider&&this.childrenMap.slider.easeValueTo(t,i,s),this}stopEaseValue(){return this.childrenMap.slider&&this.childrenMap.slider.stopEaseValue(),this}setEaseValueDuration(t){return this.childrenMap.slider&&this.childrenMap.slider.setEaseValueDuration(t),this}setEaseValueFunction(t){return this.childrenMap.slider&&this.childrenMap.slider.setEaseValueFunction(t),this}get text(){var t=this.childrenMap.text;if(t===void 0)return"";var i;return t.text?i=t.text:i=t.getData("text"),i}set text(t){var i=this.childrenMap.text;i!==void 0&&(i.setText?i.setText(t):i.setData("text",t))}setText(t){return this.text=t,this}}It.register("numberBar",function(e){var t=new D8(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.NumberBar",D8);It.register("scrollBar",function(e){var t=new tR(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.ScrollBar",tR);const pP=Phaser.Utils.Objects.GetValue,WB={leftTop:"left-top",centerTop:"center-top",rightTop:"right-top",leftCenter:"left-center",center:"center",rightCenter:"right-center",leftBottom:"left-bottom",centerBottom:"center-bottom",rightBottom:"right-bottom"};class F8 extends sa{constructor(t,i){super(t,i),this.type="rexBadge";var s=pP(i,"background",void 0);s&&this.addBackground(s),this.addChildrenMap("background",s);var p=pP(i,"main",void 0);p&&this.add(p,{key:"main",align:"center",expand:!1}),this.addChildrenMap("main",p);for(var E in WB){var n=pP(i,E,void 0);n&&(this.add(n,{key:E,align:WB[E],expand:!1}),this.addChildrenMap(E,n))}}}It.register("badgeLabel",function(e){var t=new F8(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.BadgeLabel",F8);const nSt=sa.prototype.add;var YB=function(e,t,i,s,p,E,n,T,r){return e.setVisible(!1),nSt.call(this,e,t,i,s,p,E,n,T,r),this};const sSt={add:YB,addPage:YB};var aSt=function(e){return e===void 0?null:this.sizerChildren.hasOwnProperty(e)?this.sizerChildren[e]:null};const XB=Bs.prototype.setChildVisible;var oSt=function(e,t){this._previousKey=this._currentKey;var i=this.previousPage;i&&(this.swapMode===0?(XB.call(this,i,!1),this.emit("pageinvisible",i,this._previousKey,this)):i.destroy()),e&&!this.sizerChildren.hasOwnProperty(e)&&this.emit("createpage",e,this),this._currentKey=e;var s=this.currentPage;return s&&(XB.call(this,s,!0),this.emit("pagevisible",s,this._currentKey,this),t===void 0&&(t=this.fadeInDuration),t>0&&s.setAlpha(0).fadeIn(t,1)),this},lSt=function(e){return this.sizerChildren.hasOwnProperty(e)},I8={getPage:aSt,swapPage:oSt,hasPage:lSt};Object.assign(I8,sSt);const HB=Phaser.Utils.Objects.GetValue;class bT extends sa{constructor(t,i){super(t,i),this.type="rexPages",this.childrenMap=this.sizerChildren,this._previousKey=void 0,this._currentKey=void 0,this.setSwapMode(HB(i,"swapMode",0)),this.setFadeInDuration(HB(i,"fadeIn",0))}setSwapMode(t){return typeof t=="string"&&(t=hSt[t]),this.swapMode=t,this}setFadeInDuration(t){return this.fadeInDuration=t,this}get previousKey(){return this._previousKey}get currentKey(){return this._currentKey}set currentKey(t){this.swapPage(t)}get currentPage(){return this.getPage(this.currentKey)}get previousPage(){return this.getPage(this.previousKey)}get keys(){return Object.keys(this.sizerChildren)}}Object.assign(bT.prototype,I8);const hSt={invisible:0,destroy:1};It.register("pages",function(e){var t=new bT(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.Pages",bT);const uSt=Phaser.GameObjects.Mesh;class B8 extends uSt{get tint(){return this.vertices.length===0?16777215:this.vertices[0].color}forceUpdate(){return this.dirtyCache[10]=1,this}}const G8=Phaser.Math.Vector3,fSt=Phaser.Math.Matrix4;var $B=new G8,KB=new G8,ZB=new fSt,dSt=function(e,t,i,s,p,E,n){t===void 0&&(t=0),i===void 0&&(i=0),s===void 0&&(s=0),p===void 0&&(p=0),E===void 0&&(E=0),n===void 0&&(n=0),$B.set(t,i,s),KB.set(p,E,n),ZB.fromRotationXYTranslation(KB,$B,!0);for(var T=0,r=e.vertices.length;T<r;T++)e.vertices[T].transformMat4(ZB)};const cSt=Phaser.Utils.Objects.IsPlainObject,Ru=Phaser.Utils.Objects.GetValue,vSt=Phaser.Geom.Mesh.GenerateGridVerts,gP=Phaser.Math.RadToDeg,Jy=Phaser.Math.DegToRad,k8=45,pSt=1+1/Math.sin(Jy(k8));let N8=class extends B8{constructor(t,i,s,p,E,n){cSt(i)&&(n=i,i=Ru(n,"x",0),s=Ru(n,"y",0),p=Ru(n,"key",null),E=Ru(n,"frame",null)),super(t,i,s,p,E),this.type="rexPerspectiveImage",this.setSizeToFrame(),this.resetPerspective(),this.panZ(pSt),this.hideCCW=Ru(n,"hideCCW",!0);var T=Ru(n,"gridWidth",0),r=Ru(n,"gridHeight",T);this.resetVerts(T,r),this.prevFrame=this.frame}preUpdate(t,i){this.prevFrame!==this.frame&&(this.prevFrame=this.frame,this.syncSize()),super.preUpdate(t,i)}get originX(){return .5}get originY(){return .5}resetPerspective(){return this.setPerspective(this.width,this.height,k8),this}resetVerts(E,n){if(E!==void 0&&(this.gridWidth=E),n!==void 0&&(this.gridHeight=n),this.clear(),this.dirtyCache[9]=-1,this.width===0||this.height===0)return this;var s=this.frame.cutWidth,p=this.frame.cutHeight,E,n;this.gridWidth===0?E=Math.max(s/8,32):n=this.gridWidth,this.gridHeight===0?n=Math.max(p/8,32):n=this.gridHeight,vSt({mesh:this,width:s/this.height,height:p/this.height,widthSegments:Math.ceil(s/E),heightSegments:Math.ceil(p/n)});var T=this.transformInfo;return T&&this.transformVerts(T.x,T.y,T.z,T.rotateX,T.rotateY,T.rotateZ),this}syncSize(){return this.setSizeToFrame(),this.resetPerspective(),this.resetVerts(),this}get rotationX(){return this.modelRotation.x}set rotationX(t){this.modelRotation.x=t}get angleX(){return gP(this.rotationX)}set angleX(t){this.rotationX=Jy(t)}get rotationY(){return this.modelRotation.y}set rotationY(t){this.modelRotation.y=t}get angleY(){return gP(this.rotationY)}set angleY(t){this.rotationY=Jy(t)}get rotationZ(){return this.modelRotation.z}set rotationZ(t){this.modelRotation.z=t}get angleZ(){return gP(this.rotationZ)}set angleZ(t){this.rotationZ=Jy(t)}transformVerts(t,i,s,p,E,n){return t===void 0&&(t=0),i===void 0&&(i=0),s===void 0&&(s=0),p===void 0&&(p=0),E===void 0&&(E=0),n===void 0&&(n=0),this.transformInfo||(this.transformInfo={}),this.transformInfo.x=t,this.transformInfo.y=i,this.transformInfo.rotateX=p,this.transformInfo.rotateY=E,this.transformInfo.rotateZ=n,dSt(this,t,i,s,p,E,n),this}};const gSt=Phaser.Textures.DynamicTexture;var U8=function(e,t,i){t===void 0&&(t=2),i===void 0&&(i=2);var s=new gSt(e.sys.textures,null,t,i);return s};const mSt=Phaser.Utils.Objects.IsPlainObject,wy=Phaser.Utils.Objects.GetValue;class V8 extends N8{constructor(t,i,s,p,E,n){mSt(i)&&(n=i,i=wy(n,"x",0),s=wy(n,"y",0),p=wy(n,"width",32),E=wy(n,"height",32));var T=U8(t,p,E);super(t,i,s,T,null,n),this.type="rexPerspectiveRenderTexture",this.rt=this.texture}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.rt.destroy(),this.rt=null)}snapshot(t,i){return i===void 0&&(i={}),i.gameObjects=t,i.renderTexture=this.rt,hM(i),(this.width!==this.frame.realWidth||this.height!==this.frame.realHeight)&&this.syncSize(),this}}Phaser.Animations.AnimationState;Phaser.Utils.Objects.IsPlainObject;Phaser.Utils.Objects.GetValue;var Ba=function(e,t,i,s){if(Array.isArray(e))for(var p=!1,E=0,n=e.length;E<n;E++){var T=e[E];if(!(s&&!T)&&(i?p=t.call(i,T,E,e):p=t(T,E,e),p))return}else{var p=!1;for(var r in e){var T=e[r];if(!(s&&!T)&&(i?p=t.call(i,T,r,e):p=t(T,r,e),p))return}}};const Ed=Phaser.Math.RadToDeg,bd=Phaser.Math.DegToRad;class ySt extends Bs{constructor(t,i,s,p,E,n){super(t,i,s,p,E),this.faces=n,Ba(n,function(T){T.setPosition(i,s),this.add(T)},this,!0)}get rotationX(){return 0}set rotationX(t){}get angleX(){return Ed(this.rotationX)}set angleX(t){this.rotationX=bd(t)}get rotateX(){return Ed(this.rotationX)}set rotateX(t){this.rotationX=bd(t)}get rotationY(){return 0}set rotationY(t){}get angleY(){return Ed(this.rotationY)}set angleY(t){this.rotationY=bd(t)}get rotateY(){return Ed(this.rotationY)}set rotateY(t){this.rotationY=bd(t)}get rotationZ(){return 0}set rotationZ(t){}get angleZ(){return Ed(this.rotationZ)}set angleZ(t){this.rotationZ=bd(t)}get rotateZ(){return Ed(this.rotationZ)}set rotateZ(t){this.rotationZ=bd(t)}setDebug(t,i){return Ba(this.faces,function(s){s.setDebug(t,i)},null,!0),this}panX(t){return Ba(this.faces,function(i){i.panX(t)},null,!0),this}panY(t){return Ba(this.faces,function(i){i.panY(t)},null,!0),this}panZ(t){return Ba(this.faces,function(i){i.panZ(t)},null,!0),this}transformVerts(t,i,s,p,E,n){return Ba(this.faces,function(T){T.transformVerts(t,i,s,p,E,n)},null,!0),this}forEachFace(t,i,s){return Ba(this.faces,t,i,s),this}}const xSt=Phaser.Utils.Objects.IsPlainObject,TSt={key:"__WHITE"},CSt={image:N8,rendertexture:V8};var JB=function(e,t){t===void 0&&(t=TSt);var i;return xSt(t)?(t.hasOwnProperty("type")||(t.hasOwnProperty("key")?t.type="image":t.hasOwnProperty("width")&&(t.type="rendertexture")),i=new CSt[t.type](e,t),e.add.existing(i)):i=t,i},SSt=function(e,t,i){var s;if(i===void 0){s=[];for(var p,E,n=0,T=t.length;n<T;n++)E=t[n],E?p=JB(e,E):p=null,s.push(p)}else{s={};for(var p,r,n=0,T=i.length;n<T;n++)r=i[n],t.hasOwnProperty(r)?p=JB(e,t[r]):p=null,s[r]=p}return s};const ESt=Phaser.Math.DegToRad,jB=ESt(180);var bSt=function(e,t){var i=t.back;i&&(e.orientation===0?i.transformVerts(0,0,0,0,jB,0):i.transformVerts(0,0,0,jB,0,0))};const mP=Phaser.Utils.Objects.GetValue,PSt=Phaser.Math.Linear;let wSt=class extends Ku{constructor(t,i){super(t,i),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return super.resetFromJSON(t),this.setEase(mP(t,"ease","Cubic")),this.setFrontToBackDirection(mP(t,"frontToBack",0)),this.setBackToFrontDirection(mP(t,"backToFront",1)),this}setFrontToBackDirection(t){return typeof t=="string"&&(t=QB[t]),this.endAngleFB=t===0?180:-180,this}setBackToFrontDirection(t){return typeof t=="string"&&(t=QB[t]),this.endAngleBF=t===0?-180:180,this}start(t,i){if(this.timer.isRunning)return this;this.timer.setDelay(this.delay).setDuration(t);var s=i+1,p=this.parent;return p.face===0?(this.startAngle=0,this.endAngle=this.endAngleFB*s):(this.startAngle=this.endAngleBF,this.endAngle=this.startAngle-this.endAngleBF*s),super.start(),this}flip(t,i){return this.isRunning?this:(t===void 0&&(t=this.duration),i===void 0&&(i=0),this.start(t,i),this.emit("start",this.parent,this),this.parent.currentFaceIndex=(this.parent.currentFaceIndex+i+1)%2,this)}flipRight(t,i){return this.parent.currentFaceIndex===0?this.setFrontToBackDirection(0):this.setBackToFrontDirection(0),this.flip(t,i),this}flipLeft(t,i){return this.parent.currentFaceIndex===0?this.setFrontToBackDirection(1):this.setBackToFrontDirection(1),this.flip(t,i),this}updateTarget(t,i){var s=this.easeFn(i.t),p=PSt(this.startAngle,this.endAngle,s);t.orientation===0?t.angleY=p:t.angleX=p}};const QB={right:0,"left-to-right":0,left:1,"right-to-left":1},MSt=Phaser.Utils.Objects.IsPlainObject,Au=Phaser.Utils.Objects.GetValue,RSt=["back","front"];class ASt extends ySt{constructor(t,i,s,p){MSt(i)&&(p=i,i=Au(p,"x",0),s=Au(p,"y",0));var E=SSt(t,p,RSt),n=E.back,T=E.front,r=Au(p,"width"),o=Au(p,"height");if(r===void 0||o===void 0){if(r===void 0){var x=T?T.width:0,d=n?n.width:0;r=Math.max(x,d)}if(o===void 0){var h=T?T.height:0,l=n?n.height:0;o=Math.max(h,l)}}super(t,i,s,r,o,E),this.type="rexPerspectiveCard",this.frontFaceRotationX=0,this.frontFaceRotationY=0,this.frontFaceRotationZ=0,Ba(E,function(f,c){this[`${c}Face`]=f},this);var a=Au(p,"flip",void 0);a!==!1&&(this.flip=new wSt(this,a)),this.setOrientation(Au(p,"orientation",0)),bSt(this,E),this.setFace(Au(p,"face",0))}get rotationX(){return this.frontFaceRotationX}set rotationX(t){this.frontFaceRotationX!==t&&(this.frontFaceRotationX=t,Ba(this.faces,function(i){i.rotationX=t},null,!0))}get rotationY(){return this.frontFaceRotationY}set rotationY(t){this.frontFaceRotationY!==t&&(this.frontFaceRotationY=t,Ba(this.faces,function(i){i.rotationY=t},null,!0))}get rotationZ(){return this.frontFaceRotationZ}set rotationZ(t){this.frontFaceRotationZ!==t&&(this.frontFaceRotationZ=t,Ba(this.faces,function(i){i.rotationZ=t},null,!0))}setOrientation(t){return typeof t=="string"&&(t=OSt[t]),this.orientation=t,this}get face(){return this.currentFaceIndex}set face(t){typeof t=="string"&&(t=LSt[t]),this.currentFaceIndex=t;var i=t===1,s=i?180:0;this.orientation===0?this.angleY=s:this.angleX=s}setFace(t){return this.face=t,this}toggleFace(){var t=this.face===0?1:0;return this.setFace(t),this}}const OSt={x:0,horizontal:0,h:0,y:1,vertical:1,v:1},LSt={front:0,back:1};Phaser.Utils.Objects.GetValue;Phaser.Math.RadToDeg;Phaser.Math.DegToRad;Phaser.Math.Angle.WrapDegrees;Phaser.Math.Angle.ShortestBetween;Phaser.Math.Wrap;Phaser.Math.Linear;Phaser.Utils.Objects.IsPlainObject;Phaser.Utils.Objects.GetValue;Phaser.Math.DegToRad;Phaser.Math.RadToDeg;Phaser.Math.Angle.WrapDegrees;Phaser.Math.Linear;Phaser.Math.Wrap;Phaser.Utils.Objects.IsPlainObject;Phaser.Utils.Objects.GetValue;Phaser.Math.Wrap;const DSt=Phaser.Utils.Objects.GetValue;var FSt=function(e,t,i){t.visibleSibling=[],t.isRunning=!1,t.useParentBounds=DSt(i,"useParentBounds",!1),t.setPosition(e.x,e.y).setVisible(!1),e.pin(t)},z8=function(e,t){if(!e)return!1;for(var i=t.visibleSibling,s=0,p=i.length;s<p;s++)e.setChildVisible(i[s],!0);return i.length=0,e.setChildVisible(t,!1),t.isRunning=!1,!0},ISt=function(e,t){if(!e)return!1;z8(e,t);var i=t.useParentBounds;hM({gameObjects:e.getAllVisibleChildren(),renderTexture:t.rt,x:t.x,y:t.y,width:i?e.displayWidth:void 0,height:i?e.displayHeighth:void 0,originX:i?e.originX:void 0,originY:i?e.originY:void 0}),e.setChildVisible(t,!0);for(var s=t.visibleSibling,p=e.children,E=0,n=p.length;E<n;E++){var T=p[E];T.visible&&T!==t&&(e.setChildVisible(T,!1),s.push(T))}return t.isRunning=!0,!0},W8=function(e){return class extends e{constructor(i,s){var p=i.scene;super(p,0,0,1,1,s),p.add.existing(this),FSt(i,this,s)}destroy(i){!this.scene||this.ignoreDestroy||(this.exit(),super.destroy(i))}enter(){var i=ISt(this.rexContainer.parent,this);return i&&this.syncSize(),this}exit(){return z8(this.rexContainer.parent,this),this}}};class Y8 extends W8(V8){get perspectiveState(){return this.isRunning}}const BSt=Phaser.Utils.Objects.GetValue;var GSt=function(e){var t=this.scene;this.setSnapshotPadding(BSt(e,"snapshotPadding",0)),e=Na(e),delete e.width,delete e.height,e.front={width:1,height:1},e.back={width:1,height:1};var i=new ASt(t,e);t.add.existing(i);var s=i.flip;if(s){var p=this;s.on("start",function(){p.enterPerspectiveMode()}).on("complete",function(){p.exitPerspectiveMode()})}return i};const kSt=["front","back"],NSt={enterPerspectiveMode(){return this.isInPerspectiveMode?this:(this.setChildVisible(this.perspectiveCard,!0),this.snapshotFace(0),this.snapshotFace(1),this.setChildVisible(this.childrenMap.front,!1),this.setChildVisible(this.childrenMap.back,!1),this.perspectiveCard.setSize(this.width,this.height),this)},exitPerspectiveMode(){if(!this.isInPerspectiveMode)return this;this.setChildVisible(this.perspectiveCard,!1);var e=this.perspectiveCard.face===0;return this.setChildVisible(this.childrenMap.front,e),this.setChildVisible(this.childrenMap.back,!e),this},setSnapshotPadding(e){return this.snapshotPadding=e,this},snapshotFace(e){typeof e=="number"&&(e=kSt[e]);var t=this.perspectiveCard.faces[e],i=this.childrenMap[e];t.rt.clear();var s=i.visible;i.visible=!0;var p=i.isRexContainerLite?i.getAllVisibleChildren():i;return t.snapshot(p,{padding:this.snapshotPadding}),i.visible=s,this}},qB=Phaser.Utils.Objects.GetValue;class vR extends sa{constructor(t,i){super(t,i),this.type="rexPerspectiveCard";var s=i.back,p=qB(i,"expand.back",!0);this.add(s,{key:"back",expand:p});var E=i.front,n=qB(i,"expand.front",!0);this.add(E,{key:"front",expand:n}),this.perspectiveCard=GSt.call(this,i),this.pin(this.perspectiveCard),this.exitPerspectiveMode(!1)}get flip(){return this.perspectiveCard.flip}get face(){return this.perspectiveCard.face}set face(t){if(!(this.flip&&this.flip.isRunning)){this.perspectiveCard.face=t;var i=t===0,s=this.childrenMap.front,p=this.childrenMap.back;this.setChildVisible(s,i),this.setChildVisible(p,!i)}}setFace(t){return this.face=t,this}toggleFace(){var t=this.face===0?1:0;return this.setFace(t),this}get isInPerspectiveMode(){return this.perspectiveCard.visible}get rotationX(){return this.perspectiveCard.rotationX}set rotationX(t){this.enterPerspectiveMode(),this.perspectiveCard.rotationX=t}get angleX(){return this.perspectiveCard.angleX}set angleX(t){this.enterPerspectiveMode(),this.perspectiveCard.angleX=t}get rotationY(){return this.perspectiveCard.rotationY}set rotationY(t){this.enterPerspectiveMode(),this.perspectiveCard.rotationY=t}get angleY(){return this.perspectiveCard.angleY}set angleY(t){this.enterPerspectiveMode(),this.perspectiveCard.angleY=t}get rotationZ(){return this.perspectiveCard.rotationZ}set rotationZ(t){this.enterPerspectiveMode(),this.perspectiveCard.rotationZ=t}get angleZ(){return this.perspectiveCard.angleZ}set angleZ(t){this.enterPerspectiveMode(),this.perspectiveCard.angleZ=t}panX(t){return this.enterPerspectiveMode(),this.perspectiveCard.panX(t),this}panY(t){return this.enterPerspectiveMode(),this.perspectiveCard.panY(t),this}panZ(t){return this.enterPerspectiveMode(),this.perspectiveCard.panZ(t),this}transformVerts(t,i,s,p,E,n){return this.enterPerspectiveMode(),this.perspectiveCard.transformVerts(t,i,s,p,E,n),this}forEachFace(t,i,s){return this.enterPerspectiveMode(),this.perspectiveCard.forEachFace(t,i,s),this}}Object.assign(vR.prototype,NSt);It.register("perspectiveCard",function(e){var t=new vR(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.PerspectiveCard",vR);var USt=function(e){var t=this.getElement("tabs.buttons");if(!(e>=t.length))return t[e].name},VSt=function(e){for(var t=this.getElement("tabs.buttons"),i=0,s=t.length;i<s;i++)if(t[i].name===e)return i};const zSt=Phaser.Utils.Objects.IsPlainObject,yP=Phaser.Utils.Objects.GetValue,WSt=Phaser.Utils.String.UUID;var YSt=function(e,t,i){if(zSt(e)){var s=e;e=yP(s,"key"),t=yP(s,"tab"),i=yP(s,"page")}return e||(e=WSt()),t.name=e,this.childrenMap.tabs.addButton(t),this.childrenMap.pages.addPage(i,{key:e}),this},XSt=function(e,t){var i;if(typeof e=="number"?i=e:i=this.getPageIndex(e),i!=null){var s;t!==void 0&&(s=this.childrenMap.pages.fadeInDuration,this.childrenMap.pages.fadeInDuration=t),this.childrenMap.tabs.emitButtonClick(i),s!==void 0&&(this.childrenMap.pages.fadeInDuration=s)}return this},HSt=function(e){return this.swapPage(0,e),this},$St=function(e){var t=this.getElement("tabs.buttons").length-1;return this.swapPage(t,e),this};const KSt={swapPage:XSt,swapFirstPage:HSt,swapLastPage:$St},ZSt={removePage(e,t){typeof e=="number"&&(e=this.getPageKey(e));var i=this.childrenMap.tabs,s=i.getByName(e),p=this.childrenMap.pages,E=p.getElement(e);return!s||!E?this:(p.removeChildrenMap(e),i.removeButton(s,t),p.remove(E,t),this)},removeAllPages(e){for(var t=this.getElement("tabs.buttons"),i=t.length-1;i>=0;i--)this.removePage(t[i].name,e);return this}};var JSt=function(e){return typeof e=="number"&&(e=this.getPageKey(e)),this.childrenMap.pages.getPage(e)},jSt=function(e){var t;return typeof e=="number"?t=e:t=this.getPageIndex(e),this.getElement("tabs.buttons")[t]},QSt={top:1,left:3,right:5,bottom:7},_B={top:"bottom",left:"right",right:"left",bottom:"top"},qSt=function(e){var t=QSt[e];if(t===void 0)return this;var i=this.childrenMap.tabs,s=this.sizerChildren.indexOf(i);if(s===t)return this;this.sizerChildren[s]=null,this.sizerChildren[t]=i;var p=this.getSizerConfig(i).padding,E=_B[this.tabsPosition],n=_B[e];return p[n]=p[E],p[E]=0,this.tabsPosition=e,this};const _St={setTabsPadding(e,t){var i=this.childrenMap.tabs;return i.setOuterPadding(e,t),this},getTabsPadding(e){var t=this.childrenMap.tabs;return t.getOuterPadding(e)}};var X8={getPageKey:USt,getPageIndex:VSt,addPage:YSt,getPage:JSt,getTab:jSt,setTabPosition:qSt};Object.assign(X8,KSt,ZSt,_St);const Da=Phaser.Utils.Objects.GetValue,t4=Ha.prototype.add;let PT=class extends Ha{constructor(t,i){i===void 0&&(i={}),i.column=3,i.row=3,i.columnProportions=[0,0,0],i.rowProportions=[0,0,0];var s=Da(i,"expand.pages",!0);s&&(i.columnProportions[1]=1,i.rowProportions[1]=1),super(t,i),this.type="rexTabPages";var p=Da(i,"background",void 0);p&&this.addBackground(p);var E=Da(i,"pages"),n=new bT(t,E);t.add.existing(n);var T=Da(i,"tabsPosition",void 0);T===void 0&&(T=Da(i,"tabPosition","top"));var r=Da(i,"wrapTabs",!1),o=r?wh:Qr,x=Da(i,"tabs",void 0);x===void 0&&(x={}),x.orientation=T==="top"||T==="bottom"?"x":"y",x.buttonsType="radio",!r&&!x.hasOwnProperty("expand")&&(x.expand=Da(i,"expand.tabs",!1));var d=new o(t,x);t.add.existing(d),t4.call(this,n,{column:1,row:1,expand:s});var h,l,a=Da(i,"space.item",0);switch(T){case"top":h=1,l=0,a={bottom:a};break;case"bottom":h=1,l=2,a={top:a};break;case"left":h=0,l=1,a={right:a};break;case"right":h=2,l=1,a={left:a};break}t4.call(this,d,{column:h,row:l,padding:a,expand:r?!0:Da(i,"expand.tabs",!1),align:Da(i,"align.tabs","left")}),this.addChildrenMap("background",p),this.addChildrenMap("tabs",d),this.addChildrenMap("pages",n),this.tabsPosition=T,d.on("button.click",function(f){var c=f.name;n.hasPage(c)&&n.swapPage(c)}),d.on("button.statechange",function(f,c,u,v){var g=u?"tab.focus":"tab.blur";this.emit(g,f,f.name)},this),n.on("pagevisible",function(f,c,u){this.emit("page.focus",f,c)}),n.on("pageinvisible",function(f,c,u){this.emit("page.blur",f,c)})}get currentKey(){return this.getElement("pages").currentKey}set currentKey(t){this.showPage(t)}get keys(){return this.getElement("pages").keys}get currentPage(){return this.getElement("pages").currentPage}get previousPage(){return this.getElement("pages").previousPage}};Object.assign(PT.prototype,X8);It.register("tabPages",function(e){var t=new PT(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.TabPages",PT);class t1t extends $x{constructor(t,i){i===void 0&&(i={}),i.destroy=!1,super(t,i)}onOpen(){this.emit("open",this.parent,this),super.onOpen()}onClose(){this.emit("close",this.parent,this),super.onClose()}}const e1t={expand(e){if(this.expanded===!0)return this;e===void 0&&(e=this.transitionDuration),this.expanded=!0;var t=this.childrenMap.title,i=this.childrenMap.child;if(this.show(i),this.reLayoutEnable){var s=this.reLayoutTarget?this.reLayoutTarget:this.getTopmostSizer();s.layout()}return t.emit("folder.expand",e,this),i.emit("folder.expand",e,this),this.emit("expand.start",this),this.childTransition.once("open",function(){this.emit("expand.complete",this)},this).requestOpen(null,e),this},collapse(e){if(this.expanded===!1)return this;e===void 0&&(e=this.transitionDuration),this.expanded=!1;var t=this.childrenMap.title,i=this.childrenMap.child;return t.emit("folder.collapse",e,this),i.emit("folder.collapse",e,this),this.emit("collapse.start",this),this.childTransition.once("close",function(){if(this.setChildScale(i,1,1).hide(i),this.reLayoutEnable){var s=this.reLayoutTarget?this.reLayoutTarget:this.getTopmostSizer();s.layout()}this.emit("collapse.complete",this)},this).requestClose(null,e),this},toggle(e){return this.expanded?this.collapse(e):this.expand(e),this},setExpandedState(e){return this.reLayoutEnable=!1,e===void 0?this.expanded=void 0:e?this.expand(0):this.collapse(0),this.reLayoutEnable=!0,this}};var i1t=function(e,t){fl.popUp.call(e,t,this.expandDirection)},r1t=function(e,t){fl.scaleDown.call(e,t,this.expandDirection)};const n1t={setTransitionDuration(e){return this.transitionDuration=e,this.childTransition.setTransitInTime(e).setTransitOutTime(e),this},setExpandCallback(e){return e===void 0&&(e=i1t.bind(this)),this.childTransition.setTransitInCallback(e),this},setCollapseCallback(e){return e===void 0&&(e=r1t.bind(this)),this.childTransition.setTransitOutCallback(e),this}},vr=Phaser.Utils.Objects.GetValue;let ug=class extends qe{constructor(t,i){i===void 0&&(i={}),i.hasOwnProperty("orientation")||(i.orientation=1),super(t,i),this.type="rexFolder",this.reLayoutEnable=!0,this.expanded=void 0,this.expandDirection=this.orientation===1?"y":"x";var s=i.background,p=i.title,E=i.child;s&&this.addBackground(s);var n=vr(i,"space"),T=this.orientation===1?"left":"top",h=vr(i,"align.title",T),l=vr(i,"expand.title",!0);this.add(p,{proportion:0,align:h,expand:l,padding:{left:vr(n,"titleLeft",0),right:vr(n,"titleRight",0),top:vr(n,"titleTop",0),bottom:vr(n,"titleBottom",0)}});var r=vr(i,"toggleByTarget",void 0),o=vr(i,"toggleClickConfig");r===void 0&&(r=p),r&&BM.onClick.call(r,function(){this.toggle()},this,o),this.childTransition=new t1t(E);var x=vr(i,"customChildOrigin",!1);if(!x){var d=this.rtl?1:0;E.setOrigin(d)}var h=vr(i,"align.child","left"),l=vr(i,"expand.child",!0),a=l?1:0;this.add(E,{proportion:a,align:h,expand:l,padding:{left:vr(n,"childLeft",0),right:vr(n,"childRight",0),top:vr(n,"childTop",0),bottom:vr(n,"childBottom",0)}}),this.addChildrenMap("title",p),this.addChildrenMap("child",E),this.addChildrenMap("background",s);var f=i.transition;this.setTransitionDuration(vr(f,"duration",200)),this.setExpandCallback(vr(f,"expandCallback",void 0)),this.setCollapseCallback(vr(f,"collapseCallback",void 0)),this.reLayoutTarget=vr(i,"reLayoutTarget",void 0);var c=i.onExpandStart;c&&this.on("expand.start",c);var u=i.onExpandComplete;u&&this.on("expand.complete",u);var v=i.onCollapseStart;v&&this.on("collapse.start",v);var g=i.onCollapseComplete;g&&this.on("collapse.complete",g);var m=vr(i,"expanded",void 0);m!==void 0&&this.setExpandedState(m)}};Object.assign(ug.prototype,e1t,n1t);It.register("folder",function(e){var t=new ug(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.Folder",ug);var s1t=function(e,t,i,s){for(var p in this.treesMap){var E=this.treesMap[p];if(Wu(E.nodeBody,e,t,i,s))return E;var n=E.pointToChild(e,t,i,s);if(n)return n}return null},a1t=function(e){return e===void 0&&(e={}),e.targetMode="parent",e.targetSizers=[this],_x(this,e),this},H8=function(e){return class extends e{get isTree(){return!1}get isNode(){return!1}setText(i){return this.text=i,this}get text(){var i=this.nodeBody;return i.text}set text(i){var s=this.nodeBody;s.setText&&s.setText(i)}setTexture(i,s){var p=this.nodeBody;return p.setTexture&&p.setTexture(i,s),this}get texture(){var i=this.nodeBody;if(i)return i.texture}get frame(){var i=this.nodeBody;if(i)return i.frame}}},o1t=function(e,t,i,s){for(var p in this.nodesMap){var E=this.nodesMap[p];if(this.isTreeObject(E)){var n=E;if(Wu(n.nodeBody,e,t,i,s))return n;var T=n.pointToChild(e,t,i,s);if(T)return T}else if(Wu(E,e,t,i,s))return E}return null};const l1t={getTreePatent(e){if(e===void 0&&(e=this),!!e.rexSizer)return e.rexSizer.treeParent},getTreeRoot(e){e===void 0&&(e=this);for(var t;;){if(!e.rexSizer)return;if(t=e.rexSizer.treeParent,t===null)return e;e=t}},getTreesSizer(e){var t=this.getTreeRoot(e);return t?t.getParentSizer():null},isGrandsonNode(e){if(e===void 0||!e.rexSizer)return!1;for(var t;;){if(!e.rexSizer)return!1;if(t=e.rexSizer.treeParent,t===this)return!0;if(t===null)return!1;e=t}return!1}};var Lp=function(e,t,i,s,p=!1){var E;if(ns(t))E=t,delete t[key];else if(Ua(t)){var n=t;E=n(e,i),E&&e.add.existing(E)}else(p||t)&&s&&(E=s(e,t,i));return E},pR=function(e,t,i){var s=Vr(e,t);return s},h1t=function(e,t,i){var s=new sg(e,t);return e.add.existing(s),s.resetDisplayContent(""),s};const Pd=Phaser.Utils.Objects.GetValue;let $8=class extends H8(qe){constructor(t,i,s){var p=i.space;super(t,{orientation:"x",space:{left:Pd(p,"nodeLeft",0),right:Pd(p,"nodeRight",0),top:Pd(p,"nodeTop",0),bottom:Pd(p,"nodeBottom",0)}}),this.type="rexTreeNode";var E=Lp(t,Pd(i,"nodeBackground"),s,pR,!1),n=Lp(t,Pd(i,"nodeBody"),s,h1t,!0);E&&this.addBackground(E),this.add(n,{proportion:1}),this.nodeBody=n,this.addChildrenMap("background",E),this.addChildrenMap("nodeBody",n)}get isNode(){return!0}getTreePatent(){return this.rexSizer.treeParent}getTreeRoot(){var t=this.rexSizer.treeParent;return t?t.getTreeRoot():null}getTreesSizer(){var t=this.getTreeRoot();return t?t.getParentSizer():null}};var K8=function(e,t){var i=e.parentContainer;if(i){t.isRexContainerLite?t.addToContainer(i):i.add(t);return}var s=e.displayList;if(gp(s)){t.isRexContainerLite?t.addToLayer(s):s.add(t);return}e.scene.add.existing(t)};const e4=Phaser.Utils.String.UUID,u1t={addTree(e,t){if(ns(e)){var i=e;e={nodeBody:i,nodeKey:t}}return this.insertTree(void 0,e)},insertTree(e,t){var i;typeof t=="string"?(i=t,t=void 0):t&&(i=t.nodeKey,delete t.nodeKey),i===void 0&&(i=e4());var s=this.createTree(t);return K8(this,s),this.insertNode(e,s,{expand:!0}),s._postAddCallback(),s},addNode(e,t){return this.insertNode(void 0,e,t)},insertNode(e,t,i){var s;ns(t)||(i=t,t=new $8(this.scene,this.configSave,{isLeaf:!0})),typeof i=="string"?(s=i,i=void 0):i&&(s=i.nodeKey,delete i.nodeKey),s===void 0&&(s=e4()),i===void 0&&(i={}),i.hasOwnProperty("expand")||(i.expand=!0),this.removeNode(t,!1),t.rexSizer.treeParent=this,this.nodesMap.hasOwnProperty(s)&&(console.error(`[Trees] Duplicate nodeKey '${s}'`),this.removeNode(this.nodesMap[s],!0)),t.nodeKey=s,this.nodesMap[s]=t;var p=this.childrenMap.child;return p.insert(e,t,i),t}},f1t={removeNode(e,t){if(typeof e=="string"&&(e=this.getTree(e)),!e)return this;var i=this.getTreePatent(e);if(!i)return this;delete i.nodesMap[e.nodeKey],e.nodeKey=null,e.rexSizer.treeParent=null;var s=i.childrenMap.child;return s.remove(e,t),this},removeAllNodes(e){var t=this.nodesMap;for(var i in t)this.removeNode(t[i],e);return this}},d1t={getNode(e){if(typeof e=="string"&&(e=e.split(".")),e.length!==0){var t=e.shift(),i=this.nodesMap[t];return e.length===0?i:i&&this.isTreeObject(i)?i.getNode(e):null}},getNodes(e){var t=this.nodesMap;if(!e)e=nodes;else for(var i in t)e.push(t[i]);return e},getAllNodes(e){}};var Z8={pointToChild:o1t};Object.assign(Z8,l1t,u1t,f1t,d1t);var c1t=function(e,t,i){var s=new Yp(e,t);return e.add.existing(s),s.on("expand.start",function(p){p.setDirection("down")}).on("collapse.complete",function(p){p.setDirection("right")}),s};const i4=Phaser.Utils.Objects.GetValue;var v1t=function(e,t){var i=new $8(e,t,{isLeaf:!1});e.add.existing(i);var s=Lp(e,i4(t,"toggleButton"),{isLeaf:!1},c1t,!0);return i.insert(0,s,{padding:{right:i4(t,"space.toggleButton",0)},fitRatio:1}),i.addChildrenMap("toggleButton",s),i};const r4=Phaser.Utils.Objects.GetValue;var p1t=function(e,t){var i=new qe(e,{orientation:r4(t,"childrenOrientation","y")});e.add.existing(i);var s=Lp(e,r4(t,"childrenBackground"),{isLeaf:!1},pR,!1);return s&&i.addBackground(s),i};const g1t=Phaser.Utils.Objects.Clone;var m1t=function(e,t){var i=e?g1t(e):{};if(!t)return i;for(var s in t)i[s]=t[s];return i};const hh=Phaser.Utils.Objects.GetValue;class Yu extends H8(ug){constructor(t,i){i===void 0&&(i={});var s=Lp(t,hh(i,"background"),{isLeaf:!1},pR,!1),p=p1t(t,i),E=p.childrenMap.items,n=v1t(t,i),T=n.childrenMap.toggleButton,r=n.childrenMap.nodeBody,o=Ju(hh(i,"orientation","y")),x=i.space;if(x){var d=hh(x,"indent",0);x.childLeft=hh(x,"indentLeft",o===1?d:0),x.childRight=hh(x,"indentRight",0),x.childTop=hh(x,"indentTop",o===0?d:0),x.childBottom=hh(x,"indentBottom",0)}var h={background:s,title:n,child:p,toggleByTarget:T,transition:i.transition,orientation:o,space:x,align:i.align,expand:i.expand};super(t,h),this.type="rexTree",this.rexSizer.treeParent=null,this.nodesMap={},this.configSave=i,this.nodeBody=r,this.addChildrenMap("toggleButton",T),this.addChildrenMap("nodeBody",r),this.addChildrenMap("childrenNodes",E),this.on("expand.start",function(){T.emit("expand.start",T),My(this,"expand.start")},this).on("expand.complete",function(){T.emit("expand.complete",T),My(this,"expand.complete")}).on("collapse.start",function(){T.emit("collapse.start",T),My(this,"collapse.start")}).on("collapse.complete",function(){T.emit("collapse.complete",T),My(this,"collapse.complete")});var l=this;l._postAddCallback=function(){var a=hh(i,"expanded",!0);a!==void 0&&l.setExpandedState(a),delete l._postAddCallback}}destroy(t){!this.scene||this.ignoreDestroy||(this.configSave=void 0,Clear(this.nodesMap),this.nodesMap=void 0,super.destroy(t))}get isTree(){return!0}createTree(t){return Yu.CreateTree(this.scene,this.configSave,t)}isTreeObject(t){return t&&t instanceof Yu}}Yu.CreateTree=function(e,t,i){return new Yu(e,m1t(t,i))};var My=function(e,t){var i=e.getTreesSizer();i&&i.emit(t,e)};Object.assign(Yu.prototype,Z8);const y1t=Phaser.Utils.String.UUID,x1t={addTree(e){if(ns(e)){var t=e;e={nodeBody:t,nodeKey}}return this.insertTree(void 0,e)},insertTree(e,t){var i;typeof t=="string"?(i=t,t=void 0):t&&(i=t.nodeKey,delete t.nodeKey),i===void 0&&(i=y1t());var s=Yu.CreateTree(this.scene,this.treeConfig,t);return K8(this,s),s.nodeKey=i,this.treesMap[i]=s,this.insert(e,s,{expand:!0}),s._postAddCallback(),s}},T1t={removeTree(e,t){return typeof e=="string"&&(e=this.getTree(e)),e?(delete this.treesMap[e.nodeKey],e.nodeKey=null,this.remove(e,t),this):this},removeAllNodes(e){var t=this.treesMap;for(var i in t)this.removeTree(t[i],e);return this}},C1t={getTree(e){return this.treesMap[e]},getTrees(e){e===void 0&&(e=[]);for(var t in this.treesMap)e.push(this.treesMap[t]);return e},getNode(e){var t=e.indexOf(".");if(t===-1)return this.getTree(e);var i=this.getTree(e.substring(0,t));if(i)return i.getNode(e.substring(t+1))}};var J8={pointToChild:s1t,setChildrenInteractive:a1t};Object.assign(J8,x1t,T1t,C1t);const S1t=Phaser.Utils.Objects.GetValue;class gR extends qe{constructor(t,i){i===void 0&&(i={}),i.hasOwnProperty("orientation")||(i.orientation="y"),super(t,i),this.type="rexTrees",this.treesMap={},this.treeConfig=S1t(i,"tree")}destroy(t){!this.scene||this.ignoreDestroy||(this.treeConfig=void 0,Clear(this.treesMap),this.treesMap=void 0,super.destroy(t))}}Object.assign(gR.prototype,J8);It.register("trees",function(e){var t=new gR(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.Trees",gR);It.register("textArea",function(e){var t=new ng(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.TextArea",ng);var E1t=function(e){Object.defineProperty(e,"childOY",{configurable:!0,get:function(){return e.textOY},set:function(t){e.textOY=t}}),Object.defineProperty(e,"topChildOY",{get:function(){return e.topTextOY}}),Object.defineProperty(e,"bottomChildOY",{get:function(){return e.bottomTextOY}}),Object.defineProperty(e,"childVisibleHeight",{get:function(){return e.textVisibleHeight}}),Object.defineProperty(e,"childHeight",{get:function(){return e.contentHeight}})};const b1t={setText(e){var t=this.childrenMap.child;return t.setText(e),this},appendText(e){return this.setText(this.text+e),this}},P1t={scrollToLine(e){return this.setChildOY(-this.lineHeight*e),this},scrollToNextLine(e){e===void 0&&(e=1);var t=this.lineIndex+e;return this.scrollToLine(t),this}},Ry=Phaser.Utils.Objects.GetValue;class wT extends rg{constructor(t,i){i===void 0&&(i={});var s=Ry(i,"text"),p;ns(s)?p=s:(s===void 0&&(s={}),s.textArea=!0,p=new zp(t,s),t.add.existing(p)),E1t(p);var E=s.width===void 0,n=s.height===void 0;E&&(p.minWidth=0),n&&(p.minHeight=0),i.scrollMode=0,i.type="rexTextAreaInput",i.child={gameObject:p,expandWidth:E,expandHeight:n};var T=Ry(i,"space",void 0);T&&(T.child=Ry(T,"text",0)),i.scroller=!1,super(t,i),this.addChildrenMap("text",p);var r,o;p.on("cursorin",function(){var d=p.textOY,h=p.contentHeight,l=r!==d,a=o!==h;r=d,o=h,a&&this.resizeController(),(l||a)&&(this.t=p.t)},this),p.on("textchange",function(d){this.emit("textchange",d,this)},this).on("close",function(){this.emit("close",this.text,this)},this);var x=Ry(i,"content",void 0);x&&this.setText(x)}get text(){return this.childrenMap.child.text}set text(t){t==null?t="":t=t.toString(),this.childrenMap.child.text!==t&&this.setText(t)}get lineHeight(){var t=this.childrenMap.child;return t.lineHeight}get lineIndex(){return Math.floor(-this.childOY/this.lineHeight)}get linesCount(){var t=this.childrenMap.child;return t.linesCount}get contentHeight(){var t=this.childrenMap.child;return t.contentHeight}get readOnly(){var t=this.childrenMap.child;return t.readOnly}set readOnly(t){var i=this.childrenMap.child;i.readOnly=t}setReadOnly(t){var i=this.childrenMap.child;return i.setReadOnly(t),this}get value(){return this.text}set value(t){this.text=t}}Object.assign(wT.prototype,b1t,P1t);It.register("textAreaInput",function(e){var t=new wT(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.TextAreaInput",wT);It.register("scrollablePanel",function(e){var t=new lg(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.ScrollablePanel",lg);const Ay={popUp:function(e,t){e.popUp(t)},scaleDown:function(e,t){e.scaleDown(t)},fadeIn:function(e,t){e.fadeIn(t)},fadeOut:function(e,t){e.fadeOut(t)}},ph={popUp:0,fadeIn:1,scaleDown:0,fadeOut:1},w1t={setDisplayTime(e){return this.displayTime=e,this},setTransitOutTime(e){return this.transitOutTime=e,this},setTransitInTime(e){return this.transitInTime=e,this},setTransitInCallback(e){switch(typeof e=="string"&&(e=ph[e]),e){case ph.popUp:e=Ay.popUp;break;case ph.fadeIn:e=Ay.fadeIn;break}return e||(e=Ur),this.transitInCallback=e,this},setTransitOutCallback(e){switch(typeof e=="string"&&(e=ph[e]),e){case ph.scaleDown:e=Ay.scaleDown;break;case ph.fadeOut:e=Ay.fadeOut;break}return e||(e=Ur),this.transitOutCallback=e,this}},M1t={showMessage(e){if(this.scaleX0===void 0&&(this.scaleX0=this.scaleX),this.scaleY0===void 0&&(this.scaleY0=this.scaleY),e===void 0){if(this.messages.length===0)return this;e=this.messages.shift()}if(this.player.isPlaying)return this.messages.push(e),this;this.setScale(this.scaleX0,this.scaleY0).setVisible(!0),typeof e=="string"?this.setText(e):e(this),this.layout();var t=[[0,[this.transitInCallback,this,this.transitInTime]],[0,[this.emit,"transitin",this,this.transitInTime]],[this.transitInTime,[Ur]],[this.displayTime,[this.transitOutCallback,this,this.transitOutTime]],[0,[this.emit,"transitout",this,this.transitOutTime]],[this.transitOutTime,[this.setVisible,!1]],[30,[Ur]]];return this.player.load(t,this).once("complete",function(){this.showMessage()},this).start(),this},removeAllMessages(){return this.messages.length=0,this}},dp=Phaser.Utils.Objects.GetValue;class mR extends Sl{constructor(t,i){i===void 0&&(i={text:createDefaultTextObject(t)}),super(t,i),this.type="rexToast",this.setTransitInTime(dp(i,"duration.in",200)),this.setDisplayTime(dp(i,"duration.hold",1200)),this.setTransitOutTime(dp(i,"duration.out",200)),this.setTransitInCallback(dp(i,"transitIn",ph.popUp)),this.setTransitOutCallback(dp(i,"transitOut",ph.scaleDown)),this.player=new a8(this,{dtMode:1}),this.messages=[],this.scaleX0=void 0,this.scaleY0=void 0,this.setVisible(!1)}destroy(t){!this.scene||this.ignoreDestroy||(this.player.destroy(),this.player=void 0,this.messages=void 0,super.destroy(t))}setScale(t,i){return i===void 0&&(i=t),this.scaleX0=t,this.scaleY0=i,super.setScale(t,i),this}get isShowingMessage(){return this.player.isPlaying}}Object.assign(mR.prototype,w1t,M1t);It.register("toast",function(e){var t=new mR(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.Toast",mR);var R1t={"bottom-to-top":1,"top-to-bottom":0,"right-to-left":1,"left-to-right":0};const A1t={setQueueDirection(e){return typeof e=="string"&&(e=R1t[e]),this.rtl=e===0,this.orientation===1?e?this.queueDirection=0:this.queueDirection=1:e?this.queueDirection=2:this.queueDirection=3,this},setCreateMessageLabelCallback(e){return this.createMessageLabelCallback=e,this},setDisplayTime(e){return this.displayTime=e,this},setTransitOutTime(e){return this.transitOutTime=e,this},setTransitInTime(e){return this.transitInTime=e,this},setTransitInCallback(e){return e||(e=Ur),this.transitInCallback=e,this},setTransitOutCallback(e){return e||(e=Ur),this.transitOutCallback=e,this}},O1t=BM.onClick,j8=ak.delayCall,L1t=Hx.moveTo;var D1t=function(e,t,i){var s=t(e.scene,i,e);if(O1t.call(s,function(){e.removeMessage(s)}),e.displayTime){var p=e.transitInTime+e.displayTime+10;j8.call(s,p,function(){e.removeMessage(s)})}return s},Q8=function(e){for(var t=e.childrenMap.items,i,s=[],p=0,E=t.length;p<E;p++)i=t[p],s.push({x:i.x,y:i.y});return s},F1t=function(e){for(var t=e.childrenMap.items,i,s=[],p=0,E=t.length;p<E;p++)i=t[p],s.push({x:i.scaleX,y:i.scaleY}),i.setScale(1);e.layout();for(var n=Q8(e),p=0,E=t.length;p<E;p++){var T=s[p];t[p].setScale(T.x,T.y)}return n},I1t=function(e,t,i,s){for(var p=e.childrenMap.items,E=Math.min(t.length,i.length,p.length),n,T,r,o=e.queueDirection,x=0;x<E;x++){switch(n=p[x],T=t[x],r=i[x],n.setPosition(T.x,T.y),o){case 0:if(T.y<=r.y)continue;break;case 1:if(T.y>=r.y)continue;break;case 2:if(T.x<=r.x)continue;break;case 3:if(T.x>=r.x)continue;break}L1t.call(n,s,r.x,r.y)}},B1t=function(e,t,i){var s=Q8(e);e.add(t);var p=F1t(e);I1t(e,s,p,i),e.transitInCallback(t,i,e)};const G1t={showMessage(e){var t=D1t(this,this.createMessageLabelCallback,e);return B1t(this,t,this.transitInTime),this},removeMessage(e){if(this.getParentSizer(e)!==this)return this;if(!e.__isDestroying){e.__isDestroying=!0;var t=this.transitOutTime;return this.transitOutCallback(e,t,this),j8.call(e,t+10,function(){delete e.__isDestroying,e.destroy()}),this}},removeAllMessages(){for(var e=this.childrenMap.items,t=0,i=e.length;t<i;t++)this.removeMessage(e[t]);return this}};var q8={};Object.assign(q8,A1t,G1t);const n4={transitIn(e,t,i){switch(i.queueDirection){case 0:e.setOrigin(.5,1),fl.popUp.call(e,t,"y");break;case 1:e.setOrigin(.5,0),fl.popUp.call(e,t,"y");break;case 2:e.setOrigin(1,.5),fl.popUp.call(e,t,"x");break;case 3:e.setOrigin(0,.5),fl.popUp.call(e,t,"x");break}Op.fadeIn.call(e,t)},transitOut(e,t,i){Op.fadeOut.call(e,t)}},Ou=Phaser.Utils.Objects.GetValue;class yR extends qe{constructor(t,i){i===void 0&&(i={}),i.hasOwnProperty("orientation")||(i.orientation=1),super(t,i),this.type="rexToastQueue",this.setCreateMessageLabelCallback(Ou(i,"createMessageLabelCallback")),this.setQueueDirection(Ou(i,"queueDirection",1)),this.setTransitInTime(Ou(i,"duration.in",200)),this.setDisplayTime(Ou(i,"duration.hold",2e3)),this.setTransitOutTime(Ou(i,"duration.out",200)),this.setTransitInCallback(Ou(i,"transitIn",n4.transitIn)),this.setTransitOutCallback(Ou(i,"transitOut",n4.transitOut))}}Object.assign(yR.prototype,q8);It.register("toastQueue",function(e){var t=new yR(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.ToastQueue",yR);var k1t=function(e,t){if(t===!1)return null;if(ns(t))return t;var i=new Hu(e,t);return e.add.existing(i),i};const N1t=Phaser.Utils.String.Pad;var s4=function(e,t){t===void 0&&(t="0x");var i=e.toString(16).toUpperCase();return i=N1t(i,6,0,1),i=t+i,i},U1t=function(e,t){e&&(e.setTint?e.setTint(t):e.setFillStyle&&e.setFillStyle(t))};const ea=Phaser.Utils.Objects.GetValue,V1t=Phaser.Utils.Objects.IsPlainObject,z1t=Phaser.Math.Clamp;let xR=class extends qe{constructor(t,i){i===void 0&&(i={}),i.orientation=0,super(t,i),this.type="rexColorInputLite";var s=ea(i,"background",void 0),p=ea(i,"swatch"),E;V1t(p)&&(E=ea(p,"size"));var n=k1t(t,ea(i,"swatch")),T=ea(i,"inputText",{}),r;if(T&&(r=Mh(t,T)),s&&this.addBackground(s),n){E=ea(i,"swatchSize",E);var o;E!==void 0?(Rn(n,E,E),o=!1):o=ea(i,"squareExpandSwatch",!0);var x=o?1:0;this.add(n,{proportion:0,expand:!0,fitRatio:x})}if(r){var d=ea(T,"width")===void 0?1:0,h=ea(T,"height")===void 0;this.add(r,{proportion:d,expand:h})}this.addChildrenMap("background",s),this.addChildrenMap("swatch",n),this.addChildrenMap("inputText",r),r&&r.on("close",function(){this.setValue(r.value)},this);var l=ea(i,"valuechangeCallback",null);if(l!==null){var a=ea(i,"valuechangeCallbackScope",void 0);this.on("valuechange",l,a)}this.setValue(ea(i,"value",0))}get value(){return this._value}set value(t){if(typeof t=="string"){if(t=JP(t),t==null){var s=this.childrenMap.inputText;s&&s.setText(s4(this._value));return}}else t=z1t(Math.floor(t),0,16777215);if(this._value!==t){this._value=t;var i=this.childrenMap.swatch;i&&U1t(i,t);var s=this.childrenMap.inputText;s&&s.setText(s4(t)),this.emit("valuechange",this._value)}}setValue(t){return this.value=t,this}get color(){return this._value}set color(t){this.value=t}setColor(t){return this.color=t,this}};var W1t={setCreateColorPickerBackgroundCallback(e){return this.colorPickerCreateBackgroundCallback=e,this},setColorPickerHPalettePosition(e){return this.colorPickerHPalettePosition=e,this},setColorPickerExpandDirection(e){return typeof e=="string"&&(e=Y1t[e]),this.colorPickerExpandDirection=e,this},setColorPickerEaseInDuration(e){return e===void 0&&(e=0),this.colorPickerEaseInDuration=e,this},setColorPickerEaseOutDuration(e){return e===void 0&&(e=0),this.colorPickerEaseOutDuration=e,this},setColorPickerTransitInCallback(e){return this.colorPickerTransitInCallback=e,this},setColorPickerTransitOutCallback(e){return this.colorPickerTransitOutCallback=e,this},setColorPickerBounds(e){return this.colorPickerBounds=e,this},setColorPickerWidth(e){return this.colorPickerWidth=e,this},setColorPickerHeight(e){return this.colorPickerHeight=e,this},setColorPickerSize(e,t){return this.setColorPickerWidth(e).setColorPickerHeight(t),this},setColorPickerSpace(e){return e===void 0&&(e={}),this.colorPickerSpace=e,this},setColorComponentsHeight(e){return this.colorComponentsHeight=e,this},setColorComponentsFormatLabelConfig(e){return this.colorComponentsFormatLabelConfig=e,this},setColorComponentsInputTextConfig(e){return this.colorComponentsInputTextConfig=e,this},setColorComponentsSpace(e){return e===void 0&&(e={}),this.colorComponentsSpace=e,this}};const Y1t={down:0,up:1},_8=Phaser.Display.Color,cx=Phaser.Math.Percent;var X1t=function(e,t,i){i===void 0&&(i=!1);var s=e.width,p=e.height,E=new _8;if(i)for(var n=0;n<p;n++){var T=cx(n,0,p);E.setFromHSV(T,1,1),t.fillStyle=E.rgba,t.fillRect(0,n,s,1)}else for(var r=0;r<s;r++){var T=cx(r,0,s);E.setFromHSV(T,1,1),t.fillStyle=E.rgba,t.fillRect(r,0,1,p)}},H1t=function(e,t,i){for(var s=e.width,p=e.height,E=t.getImageData(0,0,s,p),n=E.data,T=new _8,r=0;r<p;r++)for(var o=0;o<s;o++){var x=cx(o,0,s),d=1-cx(r,0,p);T.setFromHSV(i,x,d);var h=(r*s+o)*4;n[h]=T.red,n[h+1]=T.green,n[h+2]=T.blue,n[h+3]=255}t.putImageData(E,0,0)};const $1t=Phaser.Display.Color,a4=Phaser.Math.Percent,K1t=Phaser.Display.Color.ColorToRGBA,Z1t=Phaser.Display.Color.HSVToRGB;class J1t extends Zu{constructor(t,i,s,p,E,n){i===void 0&&(i=0),s===void 0&&(s=0),p===void 0&&(p=2),E===void 0&&(E=2),super(t,i,s,p,E),this.type="rexColorPicker.HPaletteCanvas",this.colorObject=new $1t,this.setOrientation(n),this.setSize(p,E)}setOrientation(t){return this.orientation=Ju(t),this}updateTexture(){return X1t(this.canvas,this.context,this.orientation),super.updateTexture(),this}get color(){return this.colorObject.color}get hue(){return this._hue}set hue(t){this._hue=t}getHue(t,i){return t===void 0?this.hue:(this.orientation===0?this.hue=a4(t,0,this.width):this.hue=a4(i,0,this.height),this.hue)}getColor(t,i){if(t===void 0)return this.color;var s=this.getHue(t,i);return this.colorObject.setFromRGB(Z1t(s,1,1)),this.colorObject.color}setColor(t){return this.color===t?this:this}colorToLocalPosition(t,i){return i===void 0?i={}:i===!0&&(xP===void 0&&(xP={}),i=xP),this.colorObject.setFromRGB(K1t(t)),this.orientation===0?(i.x=this.width*this.colorObject.h,i.y=this.height/2):(i.x=this.width/2,i.y=this.height*this.colorObject.h),i}}var xP=void 0,j1t=Phaser.Math.RotateAround,tN=function(e,t,i,s){s===void 0?s={}:s===!0&&(TP===void 0&&(TP={}),s=TP),t-=e.width*e.originX,i-=e.height*e.originY;var p={x:t*e.scaleX,y:i*e.scaleY};return j1t(p,0,0,-e.rotation),s.x=e.x+t,s.y=e.y+i,s},TP;class Q1t extends sa{constructor(t,i){i===void 0&&(i={}),super(t,i);var s=i.width!=null?1:0,p=new J1t(t).setOrientation(s);t.add.existing(p),this.type="rexColorPicker.HPalette",p.setInteractive().on("pointerdown",this.onPaletteCanvasPointerDown,this).on("pointermove",this.onPaletteCanvasPointerDown,this);var E=new Hu(t,{strokeColor:16777215,strokeWidth:2});t.add.existing(E),this.add(p,{key:"paletteCanvas",expand:!0}).add(E,{key:"marker",expand:!1})}resize(t,i){if(this.width===t&&this.height===i)return this;super.resize(t,i);var s=Math.min(t,i);return this.childrenMap.marker.setSize(s,s),this}onPaletteCanvasPointerDown(t,i,s,p){if(t.isDown){var E=this.childrenMap.paletteCanvas,n=E.getColor(i,s);this.setMarkerPosition(n),this.emit("input",n)}}get color(){return this.childrenMap.paletteCanvas.color}setColor(t){if(this.color===t)return this;var i=this.childrenMap.paletteCanvas;return i.setColor(t),this.setMarkerPosition(t),this}setMarkerPosition(t){var i=this.childrenMap.paletteCanvas,s=this.childrenMap.marker,p=i.colorToLocalPosition(t,!0);return tN(i,p.x,p.y,s),this.resetChildPositionState(s),this}getHue(t,i){var s=this.childrenMap.paletteCanvas;return s.getHue(t,i)}}const q1t=Phaser.Display.Color,o4=Phaser.Math.Percent,l4=Phaser.Display.Color.ColorToRGBA,_1t=Phaser.Display.Color.HSVToRGB;class tEt extends Zu{constructor(t,i,s,p,E,n){i===void 0&&(i=0),s===void 0&&(s=0),p===void 0&&(p=2),E===void 0&&(E=2),super(t,i,s,p,E),this.type="rexColorPicker.SVPaletteCanvas",n===void 0&&(n=1),this.colorObject=new q1t,this.setHue(n),this.setSize(p,E)}get color(){return this.colorObject.color}get hue(){return this._hue}set hue(t){this._hue!==t&&(this._hue=t,this.colorObject.h=t,this.dirty=!0)}setHue(t){return this.hue=t,this}updateTexture(){return H1t(this.canvas,this.context,this.hue),super.updateTexture(),this}getColor(t,i){if(t===void 0)return this.colorObject.color;var s=o4(t,0,this.width),p=1-o4(i,0,this.height);return this.colorObject.setFromRGB(_1t(this.hue,s,p)),this.colorObject.color}setColor(t){return this.color===t?this:(this.colorObject.setFromRGB(l4(t)),this.setHue(this.colorObject.h),this)}colorToLocalPosition(t,i){return i===void 0?i={}:i===!0&&(CP===void 0&&(CP={}),i=CP),this.colorObject.setFromRGB(l4(t)),i.x=this.width*this.colorObject.s,i.y=this.height*(1-this.colorObject.v),i}}var CP=void 0;class eEt extends sa{constructor(t,i){super(t,i);var s=new tEt(t);t.add.existing(s),this.type="rexColorPicker.SVPalette",s.setInteractive().on("pointerdown",this.onPaletteCanvasPointerDown,this).on("pointermove",this.onPaletteCanvasPointerDown,this);var p=new Hu(t,{radius:5,strokeColor:16777215,strokeWidth:2});t.add.existing(p),this.add(s,{key:"paletteCanvas",expand:!0}).add(p,{key:"marker",expand:!1})}onPaletteCanvasPointerDown(t,i,s,p){if(t.isDown){var E=this.childrenMap.paletteCanvas,n=E.getColor(i,s);this.setMarkerPosition(n),this.emit("input",n)}}get color(){return this.childrenMap.paletteCanvas.color}setHue(t){var i=this.childrenMap.paletteCanvas;return i.setHue(t),this}setColor(t){if(this.color===t)return this;var i=this.childrenMap.paletteCanvas;return i.setColor(t),this.setMarkerPosition(t),this}setMarkerPosition(t){var i=this.childrenMap.paletteCanvas,s=this.childrenMap.marker,p=i.colorToLocalPosition(t,!0);return tN(i,p.x,p.y,s),this.resetChildPositionState(s),this}}const Fa=Phaser.Utils.Objects.GetValue;class TR extends qe{constructor(t,i){super(t,i),this.type="rexColorPicker",this.freezePalettes=!1;var s=Fa(i,"hPalette.position",0);typeof s=="string"&&(s=iEt[s]);var p=s===0||s===2?1:0;this.setOrientation(p);var E=Fa(i,"background",void 0),n,T;if(this.orientation===0){var n=Fa(i,"hPalette.width",void 0);n===void 0&&(n=Fa(i,"hPalette.size",10))}else T=Fa(i,"hPalette.height",void 0),T===void 0&&(T=Fa(i,"hPalette.size",10));var r=new Q1t(t,{width:n,height:T});t.add.existing(r);var o=Fa(i,"svPalette.width",void 0),x=Fa(i,"svPalette.height",void 0),d=new eEt(t,{width:o,height:x});t.add.existing(d),E&&this.addBackground(E);var h={proportion:0,expand:!0},l,a;this.orientation===0?(l=o===void 0?1:0,a=x===void 0):(l=x===void 0?1:0,a=o===void 0);var f={proportion:l,expand:a};s===0||s===3?this.add(d,f).add(r,h):this.add(r,h).add(d,f),r.on("input",function(){d.setHue(r.getHue()),this.setValue(d.color,!0)},this),d.on("input",function(){this.setValue(d.color,!0)},this),this.addChildrenMap("background",E),this.addChildrenMap("hPalette",r),this.addChildrenMap("svPalette",d);var c=Fa(i,"valuechangeCallback",null);if(c!==null){var u=Fa(i,"valuechangeCallbackScope",void 0);this.on("valuechange",c,u)}this.setValue(Fa(i,"value",16777215))}get value(){return this._value}set value(t){if(this._value!==t){var i=this._value;this._value=t,this.freezePalettes||this.updatePalettes(),this.emit("valuechange",t,i,this)}}setValue(t,i){return this.freezePalettes=!!i,this.value=t,this.freezePalettes=!1,this}get color(){return this._value}set color(t){this.value=t}setColor(t){return this.color=t,this}updatePalettes(){return this.childrenMap.hPalette.setColor(this.color),this.childrenMap.svPalette.setColor(this.color),this}postLayout(t,i,s){return this.childrenMap.hPalette.setMarkerPosition(this.value),this.childrenMap.svPalette.setMarkerPosition(this.value),super.postLayout(t,i,s),this}}var iEt={bottom:0,left:1,top:2,right:3};const mo=Phaser.Utils.Objects.GetValue,rEt=Phaser.Display.Color,nEt=Phaser.Display.Color.ColorToRGBA,sEt=Phaser.Display.Color.HSVToRGB,Lu=Phaser.Math.Clamp;class CR extends qe{constructor(t,i){i===void 0&&(i={}),i.orientation=0,super(t,i),this.type="rexColorComponents",this.colorObject=new rEt;var s=mo(i,"background",void 0),p=mo(i,"formatLabel",void 0);ns(p)||(p=_r(t,p).resetDisplayContent());var E=[];if(i.inputText0&&i.inputText1&&i.inputText2)E.push(i.inputText0),E.push(i.inputText1),E.push(i.inputText2);else for(var n=mo(i,"inputText"),T=0;T<3;T++){var r=Mh(t,n).setMaxLength(3).setNumberInput();E.push(r)}s&&this.addBackground(s);var x=mo(i,"proportion.formatLabel",0),o=!!p.isRexContainerLite,d=mo(i,"expand.formatLabel",o);this.add(p,{proportion:x,expand:d});for(var x=mo(n,"width")===void 0?1:0,d=mo(n,"height")===void 0,T=0,h=E.length;T<h;T++)this.add(E[T],{proportion:x,expand:d});this.addChildrenMap("background",s),this.addChildrenMap("formatLabel",p),this.addChildrenMap("components",E),this.onClick(p,this.toggleColorFormat,this);for(var T=0,h=E.length;T<h;T++)E[T].on("close",function(){this.updateColorObject(),this.setValue(this.colorObject.color)},this);var l=mo(i,"valuechangeCallback",null);if(l!==null){var a=mo(i,"valuechangeCallbackScope",void 0);this.on("valuechange",l,a)}p.setText("RGB"),this.setValue(mo(i,"value",16777215))}get value(){return this._value}set value(t){t=Lu(Math.floor(t),0,16777215),this._value!==t&&(this._value=t,this.colorObject.setFromRGB(nEt(t)),this.updateComponents(),this.emit("valuechange",this._value))}setValue(t){return this.value=t,this}get color(){return this._value}set color(t){this.value=t}setColor(t){return this.color=t,this}get colorFormat(){return this.childrenMap.formatLabel.text}set colorFormat(t){this.colorFormat!==t&&(this.childrenMap.formatLabel.setText(t),this.updateComponents())}setColorFormat(t){return this.colorFormat=t,this}toggleColorFormat(){return this.colorFormat=this.colorFormat==="RGB"?"HSV":"RGB",this}updateComponents(){var t=this.childrenMap.components,i,s,p;return this.colorFormat==="RGB"?(i=this.colorObject.red,s=this.colorObject.green,p=this.colorObject.blue):(i=Math.floor(this.colorObject.h*360),s=Math.floor(this.colorObject.s*100),p=Math.floor(this.colorObject.v*100)),t[0].setValue(i),t[1].setValue(s),t[2].setValue(p),this}updateColorObject(){var t=this.childrenMap.components;if(this.colorFormat==="RGB"){var i=Lu(t[0].value,0,255),s=Lu(t[1].value,0,255),p=Lu(t[2].value,0,255);this.colorObject.setTo(i,s,p)}else{var E=Lu(t[0].value,0,359)/360,n=Lu(t[1].value,0,100)/100,T=Lu(t[2].value,0,100)/100;this.colorObject.setFromRGB(sEt(E,n,T))}return this}}const SP=Phaser.Utils.Objects.GetValue;class aEt extends qe{constructor(t,i){i===void 0&&(i={}),i.orientation=1,super(t,i),this.type="rexColorInput.ColorPickerPanel";var s=SP(i,"background",void 0),p=new TR(t,{hPalette:i.hPalette||{},svPalette:i.svPalette||{},space:{item:SP(i,"space.hPalette",8)}});t.add.existing(p);var E;i.colorComponents&&(E=new CR(t,i.colorComponents),t.add.existing(E)),s&&(this.addBackground(s),new Kx(s,{stopAllLevels:!1})),this.add(p,{proportion:1,expand:!0}),E&&this.add(E,{proportion:0,expand:!0}),this.addChildrenMap("background",s),this.addChildrenMap("colorPicker",p),this.addChildrenMap("colorComponents",E),p.on("valuechange",function(n){this.setValue(n)},this),E&&E.on("valuechange",function(n){this.setValue(n)},this),this.setValue(SP(i,"value",16777215))}get value(){return this._value}set value(t){if(this._value!==t){this._value=t;var i=this.childrenMap.colorPicker;i.setValue(t);var s=this.childrenMap.colorComponents;s&&s.setValue(t),this.emit("valuechange",t)}}setValue(t){return this.value=t,this}}Phaser.Utils.Objects.GetValue;var oEt=function(t){var t=this.scene,i,s=this.colorPickerCreateBackgroundCallback;s&&(i=s.call(this,t),t.add.existing(i));var p=this.colorPickerWidth;p===void 0&&(p=this.width);var E=this.colorPickerHeight;E===void 0&&(E=p);var n;this.colorComponentsHeight>0?n={height:this.colorComponentsHeight,formatLabel:this.colorComponentsFormatLabelConfig,inputText:this.colorComponentsInputTextConfig,space:this.colorComponentsSpace}:n=!1;var T=new aEt(t,{width:p,height:E,background:i,space:this.colorPickerSpace,hPalette:{position:this.colorPickerHPalettePosition},colorComponents:n,value:this.value});return t.add.existing(T),T},lEt=function(){if(!this.colorPicker){var e=oEt.call(this).layout(),t=new E8(e,{duration:{in:this.colorPickerEaseInDuration,out:this.colorPickerEaseOutDuration},transitIn:this.colorPickerTransitInCallback,transitOut:this.colorPickerTransitOutCallback,expandDirection:this.colorPickerExpandDirection,alignTargetX:this,alignTargetY:this,bounds:this.colorPickerBounds,touchOutsideClose:!0}).on("open",function(){e.on("valuechange",function(i){this.setValue(i)},this)},this).on("close",function(){this.colorPicker=void 0,this.dropDownBehavior=void 0},this);return this.colorPicker=e,this.dropDownBehavior=t,this.pin(e),this}},eN={openColorPicker:lEt};Object.assign(eN,W1t);const cn=Phaser.Utils.Objects.GetValue;class MT extends xR{constructor(t,i){i===void 0&&(i={}),super(t,i),this.type="rexColorInput",i.hasOwnProperty("colorPicker")||(i.colorPicker={background:{color:0}});var s=i.colorPicker,p=s!==!1&&s!==null;if(p){this.setColorPickerSize(cn(s,"width",160),cn(s,"height",170));var E,n=cn(s,"background");n?E=function(l){return Vr(l,n)}:E=cn(s,"createBackgroundCallback"),this.setCreateColorPickerBackgroundCallback(E),this.setColorPickerHPalettePosition(cn(s,"hPalettePosition",0)),this.setColorPickerExpandDirection(cn(s,"expandDirection")),this.setColorPickerEaseInDuration(cn(s,"easeIn",200)),this.setColorPickerEaseOutDuration(cn(s,"easeOut",200)),this.setColorPickerTransitInCallback(cn(s,"transitIn")),this.setColorPickerTransitOutCallback(cn(s,"transitOut")),this.setColorPickerBounds(cn(s,"bounds"));var T=cn(s,"space");T===void 0&&(T={left:10,right:10,top:10,bottom:10,item:8}),this.setColorPickerSpace(T)}var r=i.colorComponents,o=r!==!1&&r!==null;if(p&&o){this.setColorComponentsHeight(cn(r,"height",30)),this.setColorComponentsFormatLabelConfig(cn(r,"formatLabel"));var x=cn(r,"inputText");x||(x=cn(i,"inputText")),this.setColorComponentsInputTextConfig(x);var d=cn(r,"space");d===void 0&&(d={item:8}),this.setColorComponentsSpace(d)}var h=this.childrenMap.swatch;h&&p&&this.onClick(h,this.openColorPicker,this)}}Object.assign(MT.prototype,eN);It.register("colorInput",function(e){var t=new MT(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.ColorInput",MT);It.register("colorInputLite",function(e){var t=new xR(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.ColorInputBase",xR);It.register("colorPicker",function(e){var t=new TR(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.ColorPicker",TR);It.register("colorComponents",function(e){var t=new CR(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.ColorComponents",CR);var iN=function(e){for(var t=e.scene.input,i=t.manager,s=i.pointersTotal,p=i.pointers,E,n=0;n<s;n++)if(E=p[n],!(!E.primaryDown||t.getDragState(E)!==0||!tM(e,E)))return t.setDragState(E,1),t._drag[E.id]=[e],t.dragDistanceThreshold===0||t.dragTimeThreshold===0?(t.setDragState(E,3),t.processDragStartList(E)):t.setDragState(E,2),!0;return!1};const Oy=Phaser.Utils.Objects.GetValue,h4=Phaser.Math.Distance.Between,u4=Phaser.Math.RotateAroundDistance;class SR extends ji{constructor(t,i){super(t,{eventEmitter:!1}),this._enable=void 0,t.setInteractive(Oy(i,"inputConfig",void 0)),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.setEnable(Oy(t,"enable",!0)),this.setAxisMode(Oy(t,"axis",0)),this.setAxisRotation(Oy(t,"rotation",0)),this}toJSON(){return{enable:this.enable,axis:this.axisMode,rotation:this.axisRotation}}boot(){var t=this.parent;t.on("dragstart",this.onDragStart,this),t.on("drag",this.onDrag,this),t.on("dragend",this.onDragEnd,this)}shutdown(t){this.isShutdown||(this.pointer=void 0,super.shutdown(t))}get enable(){return this._enable}set enable(t){if(this._enable!==t)return t||this.dragend(),this._enable=t,this.scene.input.setDraggable(this.parent,t),this}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}setAxisMode(t){return typeof t=="string"&&(t=hEt[t]),this.axisMode=t,this}setAxisRotation(t){return this.axisRotation=t,this}drag(){return iN(this.parent),this}dragend(){if(this.isDragging)return this.scene.input.setDragState(this.pointer,5),this}onDragStart(t,i,s){this.isDragging||(this.pointer=t)}onDrag(t,i,s){if(this.pointer===t){var p=this.parent;if(this.axisMode===0)p.x=i,p.y=s;else if(this.axisRotation===0)this.axisMode===1?p.x=i:this.axisMode===2&&(p.y=s);else{var E,n={x:i,y:s};E=h4(n.x,n.y,p.x,p.y),n=u4(n,p.x,p.y,-this.axisRotation,E),this.axisMode===1?n.y=p.y:this.axisMode===2&&(n.x=p.x),E=h4(n.x,n.y,p.x,p.y),n=u4(n,p.x,p.y,this.axisRotation,E),p.x=n.x,p.y=n.y}}}onDragEnd(t,i,s,p){this.pointer===t&&(this.pointer=void 0)}get isDragging(){return this.pointer!==void 0}}const hEt={both:0,"h&v":0,"x&y":0,horizontal:1,h:1,x:1,vertical:2,v:2,y:2};var uEt=function(){var e=this.sizerChildren[0],t=this.sizerChildren[1],i=this.sizerChildren[2],s=this.getSizerConfig(e).padding,p=this.getSizerConfig(t).padding,E=this.getSizerConfig(i).padding;if(this.orientation===0){var n=this.innerLeft+s.left,T=this.innerRight-E.right,r=mi(t),o=t.x+r*(0-t.originX),x=t.x+r*(1-t.originX),d=o-p.left-this.space.item-s.right,h=x+p.right+this.space.item+E.left,l=d-n,a=T-h,f=l+a;this.minFirstChildSize>0&&l<this.minFirstChildSize&&(l=this.minFirstChildSize,a=f-l),this.minSecondChildSize>0&&a<this.minSecondChildSize&&(a=this.minSecondChildSize,l=f-a),this.setSplitRatio(l/f)}else{var c=this.innerTop+s.top,u=this.innerBottom-E.bottom,v=yi(t),g=t.y+v*(0-t.originY),m=t.y+v*(1-t.originY),y=g-p.top-this.space.item-s.bottom,C=m+p.bottom+this.space.item+E.top,P=y-c,w=u-C,M=P+w;this.minFirstChildSize>0&&P<this.minFirstChildSize&&(P=this.minFirstChildSize,w=M-P),this.minSecondChildSize>0&&w<this.minSecondChildSize&&(w=this.minSecondChildSize,P=M-w),this.setSplitRatio(P/M)}var R=this.minWidth,A=this.minHeight;this.setMinSize(this.width,this.height).layout().setMinSize(R,A)};const br=Phaser.Utils.Objects.GetValue,fEt=Phaser.Math.Clamp;class rN extends qe{constructor(t,i){i.hasOwnProperty("orientation")||(i.orientation=i.hasOwnProperty("leftPanel")?0:1),super(t,i),this.type="rexSplit";var s=br(i,"background",void 0),p,E,n,T;this.orientation===0?(p="leftPanel",E="rightPanel",n="minLeftPanelWidth",T="minRightPanelWidth"):(p="topPanel",E="bottomPanel",n="minTopPanelHeight",T="minBottomPanelHeight");var r=br(i,p,void 0),o=br(i,"splitter",void 0),x=br(i,E,void 0);s&&this.addBackground(s);var d=br(i,"space",void 0);this.add(r,{proportion:1,expand:!0,padding:{left:br(d,`${p}Left`,0),right:br(d,`${p}Right`,0),top:br(d,`${p}Top`,0),bottom:br(d,`${p}Bottom`,0)}}),this.add(o,{proportion:0,expand:!0,padding:{left:br(d,"splitterLeft",0),right:br(d,"splitterRight",0),top:br(d,"splitterTop",0),bottom:br(d,"splitterBottom",0)}}),this.add(x,{proportion:1,expand:!0,padding:{left:br(d,`${E}Left`,0),right:br(d,`${E}Right`,0),top:br(d,`${E}Top`,0),bottom:br(d,`${E}Bottom`,0)}}),this.addChildrenMap("background",s),this.addChildrenMap(p,r),this.addChildrenMap("splitter",o),this.addChildrenMap(E,x),this.minFirstChildSize=br(i,n,0),this.minSecondChildSize=br(i,T,0),this.setSplitRatio(br(i,"splitRatio",.5)),this.splitterDragBehavior=new SR(o,{axis:this.orientation===0?1:2}),o.on("dragstart",function(){this.emit("splitter.dragstart",o,this.splitRatio)},this).on("dragend",function(){this.emit("splitter.dragend",o,this.splitRatio)},this).on("drag",function(){uEt.call(this),this.emit("splitter.drag",o,this.splitRatio)},this).on("pointerover",function(){this.emit("splitter.over",o,this.splitRatio)},this).on("pointerout",function(){this.emit("splitter.out",o,this.splitRatio)},this)}get splitterEnable(){return this.splitterDragBehavior.enable}set splitterEnable(t){this.splitterDragBehavior.setEnable(t)}setSplitterEnable(t){return t===void 0&&(t=!0),this.splitterEnable=t,this}set minLeftPanelWidth(t){this.minFirstChildSize=t}get minLeftPanelWidth(){return this.minFirstChildSize}set minRightPanelWidth(t){this.minSecondChildSize=t}get minRightPanelWidth(){return this.minSecondChildSize}set minTopPanelHeight(t){this.minFirstChildSize=t}get minTopPanelHeight(){return this.minFirstChildSize}set minBottomPanelHeight(t){this.minSecondChildSize=t}get minBottomPanelHeight(){return this.minSecondChildSize}setMinLeftPanelWidth(t){return this.minLeftPanelWidth=t,this}setMinRightPanelWidth(t){return this.minRightPanelWidth=t,this}setMinTopPanelHeight(t){return this.minTopPanelHeight=t,this}setMinBottomPanelHeight(t){return this.minBottomPanelHeight=t,this}get splitRatio(){return this._splitRatio}set splitRatio(t){t=fEt(t,0,1),this._splitRatio!==t&&(this._splitRatio=t,this.getSizerConfig(this.sizerChildren[0]).proportion=t,this.getSizerConfig(this.sizerChildren[2]).proportion=1-t)}setSplitRatio(t){return this.splitRatio=t,this}}It.register("splitPanels",function(e){var t=new rN(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.SplitPanels",rN);var dEt=function(){return function(e,t,i,s){t!=="panel"&&i.setChildVisible(e,!0)}},cEt=function(){return function(e,t,i,s){t!=="panel"&&i.setChildVisible(e,!1)}};const vEt={show:dEt,hide:cEt};var pEt=function(e,t){return t===void 0&&(t=1),function(i,s,p,E){s!=="panel"&&p.fadeChild(i,E?0:e,t)}},gEt=function(e,t){return t===void 0&&(t=0),function(i,s,p,E){s!=="panel"&&p.fadeChild(i,E?0:e,t)}};const mEt={show:pEt,hide:gEt};var f4=function(e,t){return function(i,s,p,E){s!=="panel"&&p.moveChild(i,E?0:e,t)}};const yEt={show:f4,hide:f4};var d4=function(e,t){return function(i,s,p,E){s==="panel"&&p.moveChild(i,E?0:e,t)}};const xEt={show:d4,hide:d4},EP={visible:vEt,fade:mEt,move:yEt,"move-panel":xEt};var TEt=function(e){var t,i;[t,...i]=typeof e=="string"?[e]:e;var s,p;return EP.hasOwnProperty(t)?(s=EP[t].show.apply(null,i),p=EP[t].hide.apply(null,i)):(s=Ur,p=Ur),{show:s,hide:p}};const CEt={showChild(e,t){var i=this.sizerChildren[e];return i&&(this.emit("showchild",i,e,this,t),this.resetChildState(i)),this},hideChild(e,t){var i=this.sizerChildren[e];return i&&(this.emit("hidechild",i,e,this,t),this.resetChildState(i)),this},swapChild(e,t){return this.currentChildKey===e||(this.currentChildKey==="panel"||e==="panel"?(this.previousChildKey=this.currentChildKey,this.currentChildKey=e,this.hideChild(this.previousChildKey,t),this.showChild(this.currentChildKey,t)):(this.swapChild("panel",t),this.swapChild(e,t))),this},showPanel(e){return this.swapChild("panel",e),this},showLeftSide(){return this.swapChild("leftSide"),this},showRightSide(){return this.swapChild("rightSide"),this},showTopSide(){return this.swapChild("topSide"),this},showBottomSide(){return this.swapChild("bottomSide"),this},hideLeftSide(){return this.currentChildKey=="leftSide"&&this.showPanel(),this},hideRightSide(){return this.currentChildKey=="rightSide"&&this.showPanel(),this},hideTopSide(){return this.currentChildKey=="topSide"&&this.showPanel(),this},hideBottomSide(){return this.currentChildKey=="bottomSide"&&this.showPanel(),this},toggleLeftSide(){var e=this.currentChildKey!=="panel"?"panel":"leftSide";return this.swapChild(e),this},toggleRightSide(){var e=this.currentChildKey!=="panel"?"panel":"rightSide";return this.swapChild(e),this},toggleTopSide(){var e=this.currentChildKey!=="panel"?"panel":"topSide";return this.swapChild(e),this},toggleBottomSide(){var e=this.currentChildKey!=="panel"?"panel":"bottomSide";return this.swapChild(e),this}},SEt=Bs.prototype.setChildVisible,EEt={setChildVisible(e,t){var i;if(typeof e=="string"){var i=e;e=this.sizerChildren[i]}else i=eT(this.sizerChildren,e);return t===void 0&&(t=this.currentChildKey===i),SEt.call(this,e,t),this}},bEt={fadeChild(e,t,i){var s;return typeof e=="string"?(s=e,e=this.sizerChildren[s]):s=eT(this.sizerChildren,e),t===void 0&&(t=500),i===void 0&&(i=this.currentChildKey===s?1:0),e.fadeIn(t,{start:e.alpha,end:i}),this},fadeChildPromise(e,t,i){return typeof e=="string"&&(e=this.sizerChildren[key]),this.fadeChild(e,t,i),e._fade?vn(e._fade):Promise.resolve()}},PEt={moveChild(e,t,i,s){var p;typeof e=="string"?(p=e,e=this.sizerChildren[p]):p=eT(this.sizerChildren,e),t===void 0&&(t=500);var E=this.currentChildKey===p;if(s===void 0)switch(p){case"leftSide":case"rightSide":s=mi(e);break;case"topSide":case"bottomSide":s=yi(e);break;default:if(E)switch(this.previousChildKey){case"leftSide":case"rightSide":s=mi(this.sizerChildren[this.previousChildKey]);break;case"topSide":case"bottomSide":s=yi(this.sizerChildren[this.previousChildKey]);break;default:s=0;break}else switch(this.currentChildKey){case"leftSide":case"rightSide":s=mi(this.sizerChildren[this.currentChildKey]);break;case"topSide":case"bottomSide":s=yi(this.sizerChildren[this.currentChildKey]);break;default:s=0;break}break}var n,T,r,o;if(E)switch(p){case"panel":switch(this.previousChildKey){case"leftSide":n=!0;break;case"rightSide":T=!0;break;case"topSide":r=!0;break;case"bottomSide":o=!0;break}break;case"leftSide":T=!0;break;case"rightSide":n=!0;break;case"topSide":o=!0;break;case"bottomSide":r=!0;break}else switch(p){case"panel":switch(this.currentChildKey){case"leftSide":T=!0;break;case"rightSide":n=!0;break;case"topSide":o=!0;break;case"bottomSide":r=!0;break}break;case"leftSide":n=!0;break;case"rightSide":T=!0;break;case"topSide":r=!0;break;case"bottomSide":o=!0;break}return n?e.moveTo(t,`-=${s}`,void 0,i):T?e.moveTo(t,`+=${s}`,void 0,i):r?e.moveTo(t,void 0,`-=${s}`,i):o?e.moveTo(t,void 0,`+=${s}`,i):e.moveTo(0),this},moveChildPromise(e,t,i,s){return typeof e=="string"&&(e=this.sizerChildren[key]),this.moveChild(e,t,i,s),e._easeMove?vn(e._easeMove):Promise.resolve()}};var nN={};Object.assign(nN,EEt,bEt,PEt);const is=Phaser.Utils.Objects.GetValue;class ER extends sa{constructor(t,i){super(t,i),this.type="rexSides",this.childrenMap=this.sizerChildren,this.previousChildKey=void 0,this.currentChildKey=void 0;var s=is(i,"showChildCallback",void 0);if(s)if(Ua(s)){var p=is(i,"showChildCallbackScope",void 0);this.on("showchild",s,p);var E=is(i,"hideChildCallback",void 0),n=is(i,"hideChildCallbackScope",void 0);this.on("hidechild",E,n)}else{var T=TEt(s);this.on("showchild",T.show),this.on("hidechild",T.hide)}var r=is(i,"background",void 0),o=is(i,"panel",void 0),x=is(i,"leftSide",void 0),d=is(i,"rightSide",void 0),h=is(i,"topSide",void 0),l=is(i,"bottomSide",void 0);if(r&&this.addBackground(r),o&&this.add(o,"panel","center",0,!0),x){var a=is(i,"expand.left",!0);this.add(x,"leftSide","left-top",0,{height:a})}if(d){var a=is(i,"expand.right",!0);this.add(d,"rightSide","right-top",0,{height:a})}if(h){var a=is(i,"expand.top",!0);this.add(h,"topSide","left-top",0,{width:a})}if(l){var a=is(i,"expand.bottom",!0);this.add(l,"bottomSide","left-bottom",0,{width:a})}}reset(){return this.previousChildKey=void 0,this.currentChildKey="panel",this.showChild("panel",!0),this.hideChild("leftSide",!0),this.hideChild("rightSide",!0),this.hideChild("topSide",!0),this.hideChild("bottomSide",!0),this}}Object.assign(ER.prototype,CEt,nN);It.register("sides",function(e){var t=new ER(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.Sides",ER);var wEt=function(e){var t=!0;return e.hasOwnProperty("accept")||(t=!1,console.error(`[Tweaker] Can't register inputHandler '${e.name}', missing 'accept' callback.`)),e.hasOwnProperty("build")||(t=!1,console.error(`[Tweaker] Can't register inputHandler '${e.name}', missing 'build' callback.`)),t&&this.inputHandlers.unshift(e),this};const MEt=Phaser.Utils.Array.GetFirst,REt=Phaser.Utils.Array.Remove;var AEt=function(e){var t=MEt(this.inputHandlers,"name",e);return t&&REt(this.inputHandlers,t),this};class fg extends Sl{constructor(t,i){i=uT(t,i),super(t,i),this.type="rexTweaker.Title"}setTitle(t){return t=t?tn(t):{},t.hasOwnProperty("text")||(t.hasOwnProperty("title")?t.text=t.title:t.text=""),this.resetDisplayContent(t),this}}class OEt extends fg{constructor(t,i){i===void 0&&(i={}),super(t,i),this.type="rexTweaker.FolderTitle";var s=new Yp(t,i.expandedIcon);t.add.existing(s),this.addSpace().add(s,{proportion:0,expand:!1,padding:1,fitRatio:1}),this.addChildrenMap("expandedIcon",s)}setExpandedState(t){t===void 0&&(t=!0);var i=t?"down":"right",s=this.childrenMap.expandedIcon;return s.setDirection(i),this}}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var sN=function(e,t){var i=Na(e);for(var s in t)i.hasOwnProperty(s)||(i[s]=t[s]);return i},yp=function(e,t,i){return Vr(e,sN(t,i))};const LEt={setBindingTarget(e){var t=this.childrenMap.child;return t.setBindingTarget(e),this}},DEt={getMaxInputRowTitleWidth(){var e=this.childrenMap.child,t=e.getMaxInputRowTitleWidth();return t+this.getInnerPadding("left")},setInputRowTitleWidth(e){e-=this.getInnerPadding("left");var t=this.childrenMap.child;return t.setInputRowTitleWidth(e),this}};class aN extends ug{constructor(t,i){i===void 0&&(i={}),i.orientation=1,super(t,i),this.type="rexTweaker.Folder"}setTitle(t){var i=this.childrenMap.title;return i.setTitle(t),this}}Object.assign(aN.prototype,LEt,DEt);const wd=Phaser.Utils.Objects.GetValue;var FEt=function(e,t,i){var s=e.scene,p=wd(i,"title")||{},E=new OEt(s,p);s.add.existing(E),E.on("folder.expand",function(){E.setExpandedState(!0)}).on("folder.collapse",function(){E.setExpandedState(!1)});var n={root:wd(i,"root"),styles:wd(i,"tweaker"),space:wd(i,"space")||{}},T=e.createTweaker(n),r=wd(i,"background"),o=yp(s,t,r),x=new aN(s,{title:E,child:T,background:o,transition:{duration:wd(i,"transition.duration",200)}});return s.add.existing(x),x};const c4=Phaser.Utils.Objects.GetValue;var IEt=function(e){e===void 0&&(e={});var t=c4(this.styles,"folder")||{};t.tweaker=this.styles,t.root=this.root;var i=FEt(this,e,t);delete t.tweaker,delete t.root,this.add(i,{expand:!0}),i.setTitle(e);var s=c4(e,"expanded",!0);s!==void 0&&i.setExpandedState(s);var p=i.childrenMap.child;return e.key&&this.root.addChildrenMap(e.key,p),p};const BEt={setBindingTarget(e){for(var t=this.childrenMap.pages.children,i=0,s=t.length;i<s;i++)t[i].setBindingTarget(e);return this}},GEt={getMaxInputRowTitleWidth(){for(var e=0,t=this.childrenMap.pages.children,i=0,s=t.length;i<s;i++)e=Math.max(e,t[i].getMaxInputRowTitleWidth());return e+this.getInnerPadding("left")},setInputRowTitleWidth(e){e-=this.getInnerPadding("left");for(var t=this.childrenMap.pages.children,i=0,s=t.length;i<s;i++)t[i].setInputRowTitleWidth(e);return this}};class oN extends PT{constructor(t,i){super(t,i),this.type="rexTweaker.TabPages"}}Object.assign(oN.prototype,BEt,GEt);const Ly=Phaser.Utils.Objects.GetValue;var kEt=function(e,t,i){var s=e.scene,p=new oN(s,i);s.add.existing(p);for(var E=Ly(i,"tab"),n={root:Ly(i,"root"),styles:Ly(i,"tweaker")},T=Ly(t,"pages")||[],r=0,o=T.length;r<o;r++){var x=T[r];p.addPage({key:x.title,tab:_r(s,E).setActiveState(!1).resetDisplayContent({text:x.title}),page:e.createTweaker(n)})}return p.on("tab.focus",function(d,h){d.setActiveState(!0)}).on("tab.blur",function(d,h){d.setActiveState(!1)}),p};const v4=Phaser.Utils.Objects.GetValue;var NEt=function(e){e===void 0&&(e={});var t=v4(this.styles,"tab")||{};t.tweaker=this.styles,t.root=this.root;var i=kEt(this,e,t);delete t.tweaker,delete t.root,this.add(i,{expand:!0});for(var s=v4(e,"pages")||[],p=[],E=0,n=0,T=s.length;n<T;n++){var r=i.getPage(n),o=s[n].show;o&&(E=n);var x=s[n].key;x&&this.root.addChildrenMap(x,r),p.push(r)}return i.swapPage(E,0),p};const UEt={setBindingTarget(e){for(var t=this.childrenMap.columns,i=0,s=t.length;i<s;i++)t[i].setBindingTarget(e);return this}},VEt={getMaxInputRowTitleWidth(){for(var e=0,t=this.childrenMap.columns,i=0,s=t.length;i<s;i++)e=Math.max(e,t[i].getMaxInputRowTitleWidth());return e+this.getInnerPadding("left")},setInputRowTitleWidth(e){e-=this.getInnerPadding("left");for(var t=this.childrenMap.columns,i=0,s=t.length;i<s;i++)t[i].setInputRowTitleWidth(e);return this}},Md=Phaser.Utils.Objects.GetValue;class lN extends qe{constructor(t,i){i===void 0&&(i={}),i.orientation="y",super(t,i),this.type="rexTweaker.Columns";var s=Md(i,"background",void 0),p=Md(i,"title",void 0);s&&this.addBackground(s),p&&this.add(p,{expand:!0,space:{bottom:Md(i,"space.title",0)}});var E=new qe(t,{orientation:"x",space:{item:Md(i,"space.column",0)}});t.add.existing(E);for(var n=Md(i,"columns",void 0),T,r,o=0,x=n.length;o<x;o++)T=n[o],r=T.child,E.add(T.child,{proportion:r.minWidth===0?1:0,expand:Md(T,"expand",!0)});this.add(E,{expand:!0}),this.addChildrenMap("title",p),this.addChildrenMap("columnsSizer",E),this.addChildrenMap("columns",E.childrenMap.items)}setTitle(t){var i=this.childrenMap.title;return t.title||t.icon?i.show().setTitle(t):i.hide(),this}getColumns(){return this.childrenMap.columns}getColumn(t){return this.childrenMap.columns[t]}}Object.assign(lN.prototype,UEt,VEt);const Du=Phaser.Utils.Objects.GetValue;var zEt=function(e,t,i){var s=e.scene,p=Du(i,"title")||{},E=new fg(s,p);s.add.existing(E);var n={root:Du(i,"root"),styles:Du(i,"tweaker")},T=Du(i,"background");T&&!Array.isArray(T)&&(T=[T]);var r=Du(t,"columns",2);if(typeof r=="number"){var o=r;r=[];for(var x=0,d=o;x<d;x++)r.push({})}for(var x=0,d=r.length;x<d;x++){var h=r[x];T&&(n.background=T[x%T.length]),n.width=Du(h,"width",0);var l=e.createTweaker(n);h.child=l}var a=new lN(s,{title:E,columns:r,space:Du(i,"space")});return s.add.existing(a),a};const p4=Phaser.Utils.Objects.GetValue;var WEt=function(e){e===void 0&&(e={}),typeof e=="number"&&(e={columns:e});var t=p4(this.styles,"columns")||{};t.tweaker=this.styles,t.root=this.root;var i=zEt(this,e,t);delete t.tweaker,delete t.root,this.add(i,{expand:!0}),i.setTitle(e);var s=p4(e,"columns",void 0);if(s&&Array.isArray(s))for(var p=0,E=s.length;p<E;p++){var n=s[p].key;n&&this.root.addChildrenMap(n,i.getColumn(p))}return i.getColumns()};const YEt={setBindingTarget(e){for(var t=this.childrenMap.child,i=0,s=t.length;i<s;i++)t[i].setBindingTarget(e);return this}},XEt={getMaxInputRowTitleWidth(){return 0},setInputRowTitleWidth(e){return this}},Dy=Phaser.Utils.Objects.GetValue;class hN extends qe{constructor(t,i){i===void 0&&(i={}),i.orientation="y",super(t,i),this.type="rexTweaker.Wrap";var s=Dy(i,"background",void 0),p=Dy(i,"title",void 0);s&&this.addBackground(s),p&&this.add(p,{expand:!0,space:{bottom:Dy(i,"space.title",0)}});var E=Dy(i,"child",void 0);this.add(E,{expand:!0}),this.addChildrenMap("title",p),this.addChildrenMap("child",E)}setTitle(t){var i=this.childrenMap.title;return t.title||t.icon?i.show().setTitle(t):i.hide(),this}}Object.assign(hN.prototype,YEt,XEt);const yo=Phaser.Utils.Objects.GetValue;var HEt=function(e,t,i){var s=e.scene,p=yo(i,"title")||{},E=new fg(s,p);s.add.existing(E);var n=yo(i,"itemWidth",0),T=yo(i,"itemHeight",0),r={root:yo(i,"root"),styles:yo(i,"tweaker"),space:yo(i,"space"),align:yo(i,"align",5),wrap:!0,itemWidth:yo(t,"itemWidth",n),itemHeight:yo(t,"itemHeight",T)};yo(i,"background");var o=e.createTweaker(r),x=new hN(s,{title:E,child:o});return s.add.existing(x),x};const $Et=Phaser.Utils.Objects.GetValue;var KEt=function(e){e===void 0&&(e={});var t=$Et(this.styles,"wrap")||{};t.tweaker=this.styles,t.root=this.root;var i=HEt(this,e,t);delete t.tweaker,delete t.root,this.add(i,{expand:!0}),i.setTitle(e);var s=i.childrenMap.child;return e.key&&this.root.addChildrenMap(e.key,s),s};const ZEt={setBindingTarget(e){var t=this.childrenMap.panel;return t.setBindingTarget(e),this}},JEt={getMaxInputRowTitleWidth(){var e=this.childrenMap.panel,t=e.getMaxInputRowTitleWidth();return t+this.getInnerPadding("left")},setInputRowTitleWidth(e){e-=this.getInnerPadding("left");var t=this.childrenMap.panel;return t.setInputRowTitleWidth(e),this}};class uN extends lg{constructor(t,i){super(t,i),this.type="rexTweaker.Scrollable"}setTitle(t){var i=this.childrenMap.header;return t.title||t.icon?i.show().setTitle(t):i.hide(),this}}Object.assign(uN.prototype,ZEt,JEt);const uh=Phaser.Utils.Objects.GetValue;var jEt=function(e,t,i){var s=e.scene,p=uh(i,"title")||{},E=new fg(s,p);s.add.existing(E);var n={root:uh(i,"root"),styles:uh(i,"tweaker"),space:uh(i,"space")||{}},T=e.createTweaker(n),r=uh(i,"slider");if(r){r=tn(r);var o=r.track;o&&(r.track=yp(s,t,o));var x=r.thumb;x&&(r.thumb=yp(s,t,x))}var d=uh(i,"background"),h=yp(s,t,d),l=new uN(s,{scrollMode:0,header:E,panel:{child:T,mask:{padding:1}},slider:r,background:h,height:uh(t,"height",0),space:uh(i,"space",void 0)});return s.add.existing(l),l};const QEt=Phaser.Utils.Objects.GetValue;var qEt=function(e){e===void 0&&(e={});var t=QEt(this.styles,"scrollable")||{};t.tweaker=this.styles,t.root=this.root;var i=jEt(this,e,t);delete t.tweaker,delete t.root,this.add(i,{proportion:i.minWidth===0?1:0,expand:!0}),i.setTitle(e);var s=i.childrenMap.panel;return e.key&&this.root.addChildrenMap(e.key,s),s};const g4=Phaser.Utils.Objects.GetValue,_Et={setupBinding(){var e=this.childrenMap.inputField;return e.on("valuechange",function(t){this.autoUpdateEnable&&this.setTargetValue(t)},this),this},setAutoUpdateEnable(e){return e===void 0&&(e=!0),this.autoUpdateEnable=e,this},setBindingTarget(e,t){this.bindingTarget=e,t!==void 0&&this.setBindingTargetKey(t),this.syncTargetValue();var i=this.childrenMap.inputField;return i.onBindTarget&&i.onBindTarget(e,t),this},setBindingTargetKey(e){return this.bindTargetKey=e,this},setValueCallbacks(e){return this.onGetValue=g4(e,"onGetValue"),this.onSetValue=g4(e,"onSetValue"),this},getTargetValue(){if(this.bindingTarget){if(this.bindTargetKey!=null)return this.bindingTarget[this.bindTargetKey];if(this.onGetValue)return this.onGetValue(this.bindingTarget)}},setTargetValue(e){return this.bindingTarget?this.bindTargetKey!=null?(this.bindingTarget[this.bindTargetKey]=e,this):(this.onSetValue&&this.onSetValue(this.bindingTarget,e),this):this},syncTargetValue(){if(!this.bindingTarget)return this;var e=this.childrenMap.inputField;return e.syncValue&&e.syncValue(this.getTargetValue()),this}},tbt={startMonitorTarget(){return this.isMonitoring?this:(this.isMonitoring=!0,this.scene.events.on("postupdate",this.onMonitorTarget,this),this)},stopMonitorTarget(){return this.isMonitoring?(this.isMonitoring=!1,this.scene.events.off("postupdate",this.onMonitorTarget,this),this):this},onMonitorTarget(){if(this.bindingTarget){var e=this.getTargetValue(),t=this.childrenMap.inputField;t.value!==e&&t.syncValue(e)}}},ebt={getMinTitleWidth(){var e=this.childrenMap.title;if(!e||e.orientation!==0)return 0;var t=e.rexSizer.padding,i=this.getChildWidth(this.childrenMap.title)+(t.left+t.right)*e.scaleX;return i+this.getInnerPadding("left")},setMinTitleWidth(e){var t=this.childrenMap.title;if(!t||t.orientation!==0)return this;var i=t.rexSizer.padding;return e-=(i.left+i.right)*t.scaleX,t.minWidth=e,this}},bP=Phaser.Utils.Objects.GetValue;class bR extends qe{constructor(t,i){super(t,i),this.type="rexTweaker.InputRow",this.bindingTarget=void 0,this.bindTargetKey=void 0,this.autoUpdateEnable=!0;var s=i.inputTitle,p=i.inputField,E=i.background,o=bP(i,"proportion.title",0),n=bP(i,"space.title",0),T;this.orientation===0?T={right:n}:T={bottom:n},this.add(s,{proportion:o,expand:!0,padding:T});var r=p.defaultProportion;r===void 0&&(r=i.defaultExpandWidth?1:0);var o=bP(i,"proportion.inputField",r);this.add(p,{proportion:o,expand:!0}),E&&this.addBackground(E),this.addChildrenMap("title",s),this.addChildrenMap("inputField",p),this.addChildrenMap("background",E),this.setupBinding()}destroy(t){!this.scene||this.ignoreDestroy||(this.stopMonitorTarget(),super.destroy(t))}setTitle(t){var i=this.childrenMap.title;return i.setTitle(t),this}preLayout(){var t=this.childrenMap.title;t&&(t.minWidth=0),super.preLayout()}}Object.assign(bR.prototype,_Et,tbt,ebt);var fN=function(e,t,i){var s=new fg(e,i);return e.add.existing(s),s},ibt=function(e){e===void 0&&(e=qe);class t extends e{get bindingTarget(){var s=this.getParentSizer();return s.bindingTarget}get bindingKey(){var s=this.getParentSizer();return s.bindTargetKey}get value(){return this._value}get root(){var s=this.getParentSizer(),p=s.getParentSizer();return p.root}onBindTarget(s,p){this.onBindTargetCallback&&this.onBindTargetCallback(this,s,p)}validate(s){return this.syncValueFlag||!this.validateCallback?!0:this.validateCallback(s,this._value,this.bindingTarget,this.bindingKey)}getFotmatText(s){return this.textFormatCallback?s=this.textFormatCallback(s):s=s.toString(),s}set value(s){if(this._value!==s&&(this.validate(s)||(s=this._value),this.filterValueCallback&&(s=this.filterValueCallback(this,s)),this.displayValueCallback&&this.displayValueCallback(this,s),this._value!==s)){var p=this._value;if(this._value=s,!this.syncValueFlag){var E=this.bindingTarget,n=this.bindingKey;this.emit("valuechange",s,p,E,n),this.root.emit("valuechange",s,p,E,n)}}}getValue(){return this.value}setValue(s){return this.value=s,this}syncValue(s){return this.syncValueFlag=!0,this.value=s,this.syncValueFlag=!1,this}setup(s,p){return p===void 0&&(p=!1),(p||s.hasOwnProperty("format"))&&this.setTextFormatCallback(s.format),(p||s.hasOwnProperty("onValidate"))&&this.setValidateCallback(s.onValidate),this.setupCallback&&this.setupCallback(this,s,p),this}setSetupCallback(s){return this.setupCallback=s,this}setFilterValueCallback(s){return this.filterValueCallback=s,this}setDisplayValueCallback(s){return this.displayValueCallback=s,this}setOnBindTargetCallback(s){return this.onBindTargetCallback=s,this}setTextFormatCallback(s){return this.textFormatCallback=s,this}setValidateCallback(s){return this.validateCallback=s,this}}return t},rbt=function(e,t,i){for(var s,p=this.inputHandlers,E=0,n=p.length;E<n;E++){var T=p[E];if(T.accept(t)){var r=ibt(T.baseClass);s=new r(e),e.add.existing(s),s.setSetupCallback(T.setup).setFilterValueCallback(T.filterValue).setDisplayValueCallback(T.displayValue).setOnBindTargetCallback(T.onBindTarget),T.build(s,i);break}}return s&&s.setup(t,!0),s};const m4=Phaser.Utils.Objects.GetValue;var nbt=function(e,t,i){var s=rbt.call(this,e,t,i);if(!s)return null;var p=m4(i,"title")||{},E=fN(e,t,p),n=m4(i,"background")||{},T=Vr(e,n),r=new bR(e,{...i,...t,inputTitle:E,inputField:s,background:T});return e.add.existing(r),r.setTitle(t),r.setValueCallbacks(t),r},sbt=function(e,t,i){arguments.length===1?(i=e,e=i.bindingTarget,t=i.bindingKey):(i===void 0&&(i={}),i.bindingTarget=e,i.bindingKey=t),i.title||(i.title=t),i.bindingTarget&&i.bindingKey?i.value=i.bindingTarget[i.bindingKey]:i.value=void 0;var s=this.styles.inputRow||{};this.isWrapMode?s.defaultExpandWidth=!0:s.defaultExpandWidth=this.styles.orientation===1;var p=nbt.call(this,this.scene,i,s);if(!p)return console.error(`[Tweaker] Can't add Input
    title: ${i.title}
    view: ${i.view}
`),this;if(this.isWrapMode)p.setMinWidth(this.itemWidth),p.setMinHeight(this.itemHeight),this.add(p);else{var E;this.orientation===1?E=0:(E=this.itemWidth>0?0:1,p.minWidth===0&&p.setMinWidth(this.itemWidth)),p.minHeight===0&&p.setMinHeight(this.itemHeight),this.add(p,{proportion:E,expand:!0})}if(i.onValueChange){var n=p.childrenMap.inputField;n.on("valuechange",i.onValueChange)}return p.setAutoUpdateEnable(i.autoUpdate),p.setBindingTarget(e,t),i.monitor&&p.startMonitorTarget(),i.key&&this.root.addChildrenMap(i.key,p),this},abt=function(e,t){var i=new Hu(e,t);return e.add.existing(i),i};const obt=Phaser.Utils.Objects.GetValue;var lbt=function(e,t){var i=obt(t,"wrap",!1),s=i?wh:Qr,p=new s(e,t);return e.add.existing(p),p};const Fy=Phaser.Utils.Objects.GetValue;var hbt=function(e,t,i){for(var s=Fy(i,"title")||{},p=fN(e,t,s),E=t.buttons,n=Fy(i,"button")||{},T=[],r=0,o=E.length;r<o;r++){var x=_r(e,n);T.push(x);var d=E[r];x.resetDisplayContent(d.label),x.callback=d.callback}var h=lbt(e,{buttons:T,expand:!0,wrap:Fy(t,"wrap",!1)});h.defaultProportion=1;var l=Fy(i,"background")||{},a=abt(e,l),f=new bR(e,{...i,inputTitle:p,inputField:h,background:a});return e.add.existing(f),f.setTitle(t),h.on("button.click",function(c){c.callback(f.bindingTarget)}),f};const ubt=Phaser.Utils.Objects.GetValue;var fbt=function(e){e===void 0&&(e={});var t=this.scene,i=e.bindingTarget;delete e.bindingTarget;var s=ubt(this.styles,"inputRow")||{},p=hbt(t,e,s);return this.add(p,{expand:!0}),i&&p.setBindingTarget(i),e.key&&this.root.addChildrenMap(e.key,p),this},dbt=function(e){return e===void 0&&(e={}),e.buttons=[{label:e.label,callback:e.callback}],delete e.label,delete e.callback,this.addButtons(e),this},cbt=function(e,t,i){return Vr(e,sN(t,i))};const vbt=Phaser.Utils.Objects.GetValue;var pbt=function(e){e===void 0&&(e={});var t=this.scene,i=vbt(this.styles,"separator"),s=cbt(t,e,i);return this.add(s,{expand:!0}),this},gbt=function(e,t,i){return typeof t=="boolean"&&(i=t,t=void 0),i===void 0&&(i=!0),vp(this,tn(e),t,i),this},vp=function(e,t,i,s){if(t)for(var p=0,E=t.length;p<E;p++){var n=t[p];n.hasOwnProperty("$target")&&(i=n.$target,delete n.$target);var T=n.$type;switch(delete n.$type,T){case"folder":var r=e.addFolder(n);vp(r,n.$properties,i,s);break;case"tab":for(var o=e.addTab(n),x=0,d=o.length;x<d;x++)vp(o[x],n.pages[x].$properties,i,s);break;case"columns":for(var h=e.addColumns(n),x=0,d=h.length;x<d;x++)vp(h[x],n.columns[x].$properties,i,s);break;case"scrollable":var l=e.addScrollable(n);vp(l,n.$properties,i,s);break;case"separator":e.addSeparator();break;case"button":n.bindingTarget=i,e.addButton(n);break;case"buttons":n.bindingTarget=i,e.addButtons(n);break;default:var a=n.$key;if(delete n.$key,a.indexOf(".")===-1)n.bindingTarget=i,n.bindingKey=a;else{var f=a.split(".");n.bindingKey=f.pop();for(var c=i,u=0,v=f.length;u<v;u++)if(c=c[f[u]],!i){console.warn(`[Monitor] Key path '${a}' is invalid`);continue}n.bindingTarget=c}n.hasOwnProperty("monitor")||(n.monitor=s),e.addInput(n);break}}},mbt=function(e){for(var t=this.sizerChildren,i=0,s=t.length;i<s;i++){var p=t[i];p.setBindingTarget&&p.setBindingTarget(e)}return this},ybt=function(){for(var e=0,t=this.sizerChildren,i=0,s=t.length;i<s;i++){var p=t[i];p.rexSizer.hidden||(p.getMinTitleWidth?e=Math.max(e,p.getMinTitleWidth()):p.getMaxInputRowTitleWidth&&(e=Math.max(e,p.getMaxInputRowTitleWidth())))}return e+this.getInnerPadding("left")},xbt=function(e){this.isWrapMode||(e-=this.getInnerPadding("left"));for(var t=this.sizerChildren,i=0,s=t.length;i<s;i++){var p=t[i];p.rexSizer.hidden||(p.setMinTitleWidth?p.setMinTitleWidth(e):p.setInputRowTitleWidth&&p.setInputRowTitleWidth(e))}return this},Tbt={registerInputHandler:wEt,removeInputHandler:AEt,addFolder:IEt,addTab:NEt,addColumns:WEt,addWrap:KEt,addScrollable:qEt,addInput:sbt,addButtons:fbt,addButton:dbt,addSeparator:pbt,addRows:gbt,setBindingTarget:mbt,getMaxInputRowTitleWidth:ybt,setInputRowTitleWidth:xbt};const fh=Phaser.Utils.Objects.GetValue;var dN=function(e){var t=fh(e,"wrap",!1),i=t?Lh:qe;class s extends i{constructor(E,n){n===void 0&&(n={}),n.orientation===void 0&&(n.orientation=t?0:1),super(E,n),this.type="rexTweakerShell",this.isWrapMode=t,n.root?(this.root=n.root,this.inputHandlers=this.root.inputHandlers):(this.root=this,this.inputHandlers=[]),this.styles=fh(n,"styles")||{},this.styles.orientation=this.orientation;var T=fh(n,"itemWidth");T===void 0&&(T=fh(this.styles,"itemWidth",0)),this.itemWidth=T;var r=fh(n,"itemHeight");if(r===void 0&&(r=fh(this.styles,"itemHeight",0)),this.itemHeight=r,t||this.root===this&&this.orientation===1){var o=fh(n,"inputRow.alignTitle");if(o===void 0){var x=fh(this.styles,"inputRow.proportion.title");o=!x}else o&&Lt(this.styles,"inputRow.proportion.title",0);this.alignInputRowTitleStartFlag=o}else this.alignInputRowTitleStartFlag=!1;var d=yp(E,void 0,n.background);d&&this.addBackground(d)}preLayout(){super.preLayout(),this.alignInputRowTitleStartFlag&&this.setInputRowTitleWidth(this.getMaxInputRowTitleWidth())}createTweaker(E,n){n===void 0&&(n=!0);var T=dN(E),r=new T(this.scene,E);return n&&this.scene.add.existing(r),r}}return Object.assign(s.prototype,Tbt),s},Cbt=function(e,t){t===void 0&&(t=!0);var i=e.childrenMap.inputText;i.setReadOnly(t)};const Sbt={name:"TextInput",accept(e){return e.hasOwnProperty("view")?e.view==="string":typeof e.value=="string"},build(e,t){var i=e.scene;e.type="rexTweaker.TextInput";var s=t.inputText,p=Mh(i,s);e.add(p,{proportion:1,expand:!0,key:"inputText"}),p.on("close",function(){e.setValue(p.value)})},setup(e,t,i){(i||t.hasOwnProperty("inputTextReadOnly"))&&Cbt(e,!!t.inputTextReadOnly)},displayValue(e,t){var i=e.childrenMap.inputText;i.setText(e.getFotmatText(t))}};var Ebt=function(e,t,i){i===void 0&&(i=!0),i?t=t?tn(t):{}:t||(t={});var s=new wT(e,t);return e.add.existing(s),s},bbt=function(e,t){t===void 0&&(t=!0);var i=e.childrenMap.inputText;i.setReadOnly(t)};const Pbt={name:"TextAreaInput",accept(e){return e.hasOwnProperty("view")?e.view==="textarea":!1},build(e,t){var i=e.scene;this.type="rexTweaker.TextAreaInput";var s=t.inputTextArea;s===void 0&&(s={}),s.hasOwnProperty("text")||(s.text=t.inputText),s.hasOwnProperty("slider")||(s.slider=t.slider);var p=Ebt(i,s);e.add(p,{proportion:1,expand:!0,key:"inputText"}),p.on("close",function(){e.setValue(p.value)})},setup(e,t,i){(i||t.hasOwnProperty("inputTextReadOnly"))&&bbt(e,!!t.inputTextReadOnly)},displayValue(e,t){var i=e.childrenMap.inputText;i.setText(e.getFotmatText(t))},onBindTarget(e){var t=e.childrenMap.inputText;t.scrollToTop()}};var wbt=function(e,t){t===void 0&&(t=!0);var i=e.childrenMap.inputText;i.setReadOnly(t)};const Mbt={name:"NumberInput",accept(e){return e.hasOwnProperty("view")?e.view==="number":typeof e.value=="number"},build(e,t){var i=e.scene;e.type="rexTweaker.NumberInput";var s=t.inputNumber||t.inputText,p=Mh(i,s).setNumberInput();e.add(p,{proportion:1,expand:!0,key:"inputText"}),p.on("close",function(){e.setValue(p.value)})},setup(e,t,i){(i||t.hasOwnProperty("inputTextReadOnly"))&&wbt(e,!!t.inputTextReadOnly),e.isFloatType=!t.int},filterValue(e,t){return e.isFloatType?t:Math.floor(t)},displayValue(e,t){var i=e.childrenMap.inputText;i.setText(e.getFotmatText(t))}};var Rbt=function(e,t){var i=new rc(e,t);return e.add.existing(i),i};const PP=Phaser.Utils.Objects.GetValue,Abt=Phaser.Math.Linear,Obt=Phaser.Math.Snap.Floor;var Lbt=function(e,t,i,s){e.minValue=t,e.maxValue=i,e.step=s;var p=e.childrenMap.slider;p.setGap(s,t,i)},Dbt=function(e,t){t===void 0&&(t=!0);var i=e.childrenMap.inputText;i.setReadOnly(t)};const Fbt={name:"RangeInput",accept(e){return e.hasOwnProperty("view")?e.view==="range":typeof e.value=="number"&&e.hasOwnProperty("min")&&e.hasOwnProperty("max")},build(e,t){var i=e.scene;e.type="rexTweaker.RangeInput";var s=t.slider,p=e.orientation===0?"track.height":"track.width",E=PP(s,p),n=Rbt(i,s),x=t.defaultExpandWidth?2:0,d=PP(t,"proportion.range.slider",x),T=E===void 0;e.add(n,{proportion:d,expand:T,key:"slider"});var r=t.inputNumber||t.inputText,o=Mh(i,r).setNumberInput(),x=t.defaultExpandWidth?1:0,d=PP(t,"proportion.range.inputText",x);e.add(o,{proportion:d,expand:!0,key:"inputText"}),o.on("close",function(){e.setValue(o.value)}),n.on("valuechange",function(){var h=Abt(e.minValue,e.maxValue,n.value);e.step&&(h=Obt(h,e.step,e.minValue)),e.setValue(h)})},setup(e,t,i){(i||t.hasOwnProperty("max"))&&Lbt(e,t.min,t.max,t.step),(i||t.hasOwnProperty("inputTextReadOnly"))&&Dbt(e,!!t.inputTextReadOnly)},displayValue(e,t){var i=e.childrenMap.slider;i.setValue(t,e.minValue,e.maxValue);var s=e.childrenMap.inputText;s.setText("").setText(e.getFotmatText(t))}};var cN=function(e,t){var i=new Qr(e,t);return e.add.existing(i),i};const Ibt=Phaser.Utils.Objects.GetValue;var Bbt=function(e,t){t===void 0&&(t=!0);var i=e.childrenMap.inputText;i.setReadOnly(t)};const Gbt={name:"RangeInput",accept(e){return e.hasOwnProperty("view")?e.view==="incdec":!1},build(e,t){var i=e.scene;e.type="rexTweaker.IncDecInput";var s=Ibt(t,"incDec")||{},p={text:null,action:null},E=cN(i,{expand:!1}),n=t.defaultExpandWidth?1:0;e.add(E,{proportion:n,expand:!0});var T=t.inputNumber||t.inputText,r=Mh(i,T).setNumberInput();r.on("close",function(){e.setValue(r.value)});var o=Object.assign(tn(p),s.incButton||{}),x=_r(i,o),d=Object.assign(tn(p),s.decButton||{}),h=_r(i,d);E.addButton(x),E.addButton(h);var l=s.inputTextIndex||0;E.insert(l,r,{proportion:1,expand:!0}),e.step=1,e.minValue=void 0,e.maxValue=void 0,E.on("button.click",function(a,f,c,u){var v=e.value;f===0?v+=e.step:v-=e.step,e.maxValue!==void 0&&v>e.maxValue&&(v=e.maxValue),e.minValue!==void 0&&v<e.minValue&&(v=e.minValue),e.setValue(v)}),e.addChildrenMap("incButton",x),e.addChildrenMap("decButton",h),e.addChildrenMap("inputText",r)},setup(e,t,i){(i||t.hasOwnProperty("inputTextReadOnly"))&&Bbt(e,!!t.inputTextReadOnly),(i||t.hasOwnProperty("step"))&&(e.step=t.hasOwnProperty("step")?t.step:1),(i||t.hasOwnProperty("min"))&&(e.minValue=t.min),(i||t.hasOwnProperty("max"))&&(e.maxValue=t.max)},displayValue(e,t){var i=e.childrenMap.inputText;i.setText("").setText(e.getFotmatText(t))}};var kbt=function(e,t,i){i===void 0&&(i=!0),i?t=t?tn(t):{}:t||(t={});var s=new MT(e,t);return e.add.existing(s),s};const Nbt={name:"ColorInput",accept(e){return e.hasOwnProperty("view")?e.view==="color":!1},build(e,t){var i=e.scene;e.type="rexTweaker.ColorInput";var s=t.colorInput;s===void 0&&(s={}),s.hasOwnProperty("inputText")||(s.inputText=t.inputText);var p=kbt(i,s);e.add(p,{proportion:1,expand:!0,key:"colorInput"}),p.on("valuechange",function(E){e.setValue(E)})},displayValue(e,t){var i=e.childrenMap.colorInput;i.setValue(t)}};var Ubt=function(e,t){var i=new nM(e,t);return e.add.existing(i),i};const Vbt={name:"CheckboxInput",accept(e){return e.hasOwnProperty("view")?e.view==="boolean":typeof e.value=="boolean"},build(e,t){var i=e.scene;e.type="rexTweaker.CheckboxInput";var s=t.checkbox,p=Ubt(i,s),E=s.size;E!==void 0&&p.setSize(E,E);var n=E!==void 0?0:1;e.add(p,{proportion:0,expand:!1,fitRatio:n,key:"checkbox"}),p.on("valuechange",function(T){e.setValue(T)})},displayValue(e,t){var i=e.childrenMap.checkbox;i.setValue(t)}};var zbt=function(e,t){var i=new sM(e,t);return e.add.existing(i),i};const Wbt={name:"ToggleSwitchInput",accept(e){return e.hasOwnProperty("view")?e.view==="toggleSwitch":!1},build(e,t){var i=e.scene;e.type="rexTweaker.ToggleSwitchInput";var s=t.toggleSwitch,p=zbt(i,s),E=s.size;E!==void 0&&p.setSize(E,E);var n=E!==void 0?0:1;e.addSpace().add(p,{proportion:0,expand:!1,fitRatio:n,key:"toggleSwitch"}),p.on("valuechange",function(T){e.setValue(T)})},displayValue(e,t){var i=e.childrenMap.toggleSwitch;i.setValue(t)}};var Ybt=function(e,t){t=P8(e,t);var i=new hg(e,t);return e.add.existing(i),i},vN=function(e,t){for(var i=0,s=e.length;i<s;i++){var p=e[i];if(p.value===t)return i}},Xbt=function(e,t){var i=vN(e,t);if(i!=null)return e[i]},Hbt=function(e,t){var i=e.childrenMap.list;i.setOptions(t)};const $bt={name:"ListInput",accept(e){return e.hasOwnProperty("view")?e.view==="list":e.hasOwnProperty("options")},build(e,t){var i=e.scene;e.type="rexTweaker.ListInput";var s=Ybt(i,t.list);e.add(s,{proportion:1,expand:!0,key:"list"}),s.on("button.click",function(p,E,n,T,r,o){e.setValue(n.value)})},setup(e,t,i){(i||t.hasOwnProperty("options"))&&Hbt(e,t.options)},displayValue(e,t){var i=e.childrenMap.list,s=Xbt(i.options,t);i.resetDisplayContent(s).setMinSize(i.width,i.height).layout().setMinSize(0,0)}};var Kbt=function(e,t){for(var i=0,s=e.length;i<s;i++){var p=e[i];p&&p.setActiveState(i===t)}};const Zbt=Phaser.Utils.Objects.GetValue;var Jbt=function(e,t){var i=e.childrenMap.list;i.options=t;var s=e.scene,p=i.buttonConfig;i.clearButtons(!0);for(var E=0,n=t.length;E<n;E++){var T=t[E],r=_r(s,p).setActiveState(!1).resetDisplayContent({text:T.text});i.addButton(r)}};const jbt={name:"ButtonsInput",accept(e){return e.hasOwnProperty("view")?e.view==="buttons":!1},build(e,t){var i=e.scene;e.type="rexTweaker.ButtonsInput";var s=t.button?tn(t.button):{},p=Zbt(s,"expand",!0);p&&(s.align="center"),delete s.expand;var E=cN(i,{expand:p});E.buttonConfig=s,e.add(E,{proportion:1,expand:!0,key:"list"}),E.on("button.click",function(n,T,r,o){var x=E.options[T];x&&(e._selectedIndex=T,e.setValue(x.value),e._selectedIndex=void 0)})},setup(e,t,i){(i||t.hasOwnProperty("options"))&&Jbt(e,t.options)},displayValue(e,t){var i=e.childrenMap.list,s=e._selectedIndex;s===void 0&&(s=vN(i.options,t)),Kbt(i.childrenMap.buttons,s)}};var Qbt=function(){this.registerInputHandler(Sbt).registerInputHandler(Pbt).registerInputHandler(Mbt).registerInputHandler(Fbt).registerInputHandler(Gbt).registerInputHandler(Nbt).registerInputHandler(Vbt).registerInputHandler(Wbt).registerInputHandler($bt).registerInputHandler(jbt)};class pN extends dN(){constructor(t,i){i===void 0&&(i={}),i.hasOwnProperty("style")&&(i.styles=i.style),i.styles===void 0&&(i.styles={}),i.background=i.styles.background||{},i.space=i.styles.space||{},super(t,i),this.type="rexTweaker",Qbt.call(this)}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.inputHandlers=void 0)}}It.register("tweaker",function(e){var t=new pN(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.Tweaker",pN);It.register("click",function(e,t){return new xl(e,t)});Lt(window,"RexPlugins.UI.Click",xl);It.register("clickOutside",function(e,t){return new GM(e,t)});Lt(window,"RexPlugins.UI.ClickOutside",GM);It.register("inTouching",function(e,t){return new Kd(e,t)});Lt(window,"RexPlugins.UI.InTouching",Kd);It.register("tap",function(e,t){return ns(e)||(t=e,e=this.scene),new Qx(e,t)});Lt(window,"RexPlugins.UI.Tap",Qx);It.register("press",function(e,t){return ns(e)||(t=e,e=this.scene),new qx(e,t)});Lt(window,"RexPlugins.UI.Press",qx);It.register("swipe",function(e,t){return ns(e)||(t=e,e=this.scene),new Qp(e,t)});Lt(window,"RexPlugins.UI.Swipe",Qp);It.register("pan",function(e,t){return ns(e)||(t=e,e=this.scene),new dk(e,t)});Lt(window,"RexPlugins.UI.Pan",dk);It.register("drag",function(e,t){return new SR(e,t)});Lt(window,"RexPlugins.UI.Drag",SR);It.register("pinch",function(e){return new ck(this.scene,e)});Lt(window,"RexPlugins.UI.Pinch",ck);It.register("rotate",function(e){return new NM(this.scene,e)});Lt(window,"RexPlugins.UI.Rotate",NM);const qbt=Phaser.Utils.Objects.IsPlainObject,y4=Phaser.Utils.Objects.GetValue;var x4=function(e,t,i){var s;if(e===void 0)e=i.texture.key,t=i.frame.name;else if(qbt(e)){var p=e;e=y4(p,"key",i.texture.key),t=y4(p,"frame",i.frame.name)}else typeof e=="string"||(s=e);return s===void 0&&(s=function(E){E.setTexture(e,t)}),s};const cp=Phaser.Utils.Objects.GetValue,_bt=Phaser.Utils.Objects.GetAdvancedValue,tPt=Phaser.Math.Linear;class gN extends Ku{constructor(t,i){super(t,i),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return super.resetFromJSON(t),this.setDuration(_bt(t,"duration",500)),this.setEase(cp(t,"ease","Sine")),this.setOrientation(cp(t,"orientation",0)),this.setFrontFace(cp(t,"front",void 0)),this.setBackFace(cp(t,"back",void 0)),this.setFace(cp(t,"face",0)),this}setOrientation(t){return typeof t=="string"&&(t=ePt[t]),this.orientation=t,this}get face(){return this._face}set face(t){typeof t=="string"&&(t=iPt[t]),this._face=t,t===0&&this.frontFaceCallback?this.frontFaceCallback(this.parent):t===1&&this.backFaceCallback&&this.backFaceCallback(this.parent)}setFace(t){return this.face=t,this}toggleFace(){var t=this.face===0?1:0;return this.setFace(t),this}setFrontFace(t,i){return this.frontFaceCallback=x4(t,i,this.parent),this}setBackFace(t,i){return this.backFaceCallback=x4(t,i,this.parent),this}start(){if(this.timer.isRunning)return this;var t=this.parent;return this.orientation===0?this.scale0=t.scaleX:this.scale0=t.scaleY,this.timer.setDelay(this.delay).setDuration(this.duration/2).setRepeat(1),super.start(),this}flip(t){return this.isRunning?this:(t!==void 0&&this.setDuration(t),this.start(),this)}updateTarget(t,i){i.justRestart&&this.toggleFace();var s=i.t;i.isOddIteration&&(s=1-s),s=this.easeFn(s);var p=tPt(this.scale0,0,s);this.orientation===0?t.scaleX=p:t.scaleY=p}}const ePt={x:0,horizontal:0,y:1,vertical:1},iPt={front:0,back:1};It.register("flip",function(e,t){return new gN(e,t)});Lt(window,"RexPlugins.UI.Flip",gN);It.register("shake",function(e,t){return new OM(e,t)});Lt(window,"RexPlugins.UI.Shake",OM);It.register("touchEventStop",function(e,t){return new Kx(e,t)});Lt(window,"RexPlugins.UI.TouchEventStop",Kx);It.register("perspective",function(e,t){return new Y8(e,t)});Lt(window,"RexPlugins.UI.Perspective",Y8);const mN=Phaser.Math.RotateAround;var wP=function(e,t,i){var s=e.width/2,p=e.height/2;return wn.x=t-s,wn.y=i-p,mN(wn,0,0,e.rotation),wn.x*=e.scaleX,wn.y*=e.scaleY,wn.x+=e.x,wn.y+=e.y,wn},rPt=function(e,t,i){var s=e.width/2,p=e.height/2;return wn.x=t-e.x,wn.y=i-e.y,wn.x/=e.scaleX,wn.y/=e.scaleY,mN(wn,0,0,-e.rotation),wn.x+=s,wn.y+=p,wn},wn={x:0,y:0};class nPt{constructor(t,i){this.parent=t,this.vertex=i,this._localX=void 0,this._localY=void 0}destroy(){this.parent=void 0,this.vertex=void 0}updateVertexPosition(t,i){var s=this.parent,p=s.height,E=s.frame.cutWidth/p/2,n=s.frame.cutHeight/p/2,T=t/p-E,r=i/p-n,o=this.vertex;return o.x=T,o.y=-r,s.forceUpdate(),this}get localX(){return this._localX}set localX(t){this.setLocalXY(t,this._localY)}get localY(){return this._localY}set localY(t){this.setLocalXY(this._localX,t)}get localXOrigin(){return this._localXOrigin}get localYOrigin(){return this._localYOrigin}resetLocalXY(t,i){return this._localXOrigin=t,this._localYOrigin=i,this._localX=t,this._localY=i,this}setLocalXY(t,i,s){return this._localX===t&&this._localY===i?this:(this._localX=t,this._localY=i,s||this.updateVertexPosition(t,i),this)}setWorldXY(t,i){if(this._worldX===t&&this._worldY===i)return this;var s=rPt(this.parent,t,i);return this.setLocalXY(s.x,s.y),this}setPosition(t,i){return this.setWorldXY(t,i),this}getWorldXY(){return wP(this.parent,this._localX,this._localY)}get x(){var t=wP(this.parent,this._localX,this._localY);return t.x}set x(t){this.setWorldXY(t,this.y)}get y(){var t=wP(this.parent,this._localX,this._localY);return t.y}set y(t){this.setWorldXY(this.x,t)}}const sPt=Phaser.Geom.Mesh.Vertex,aPt=Phaser.Geom.Mesh.Face;var oPt=function(e){for(var t=e.isNinePointMode,i=t?9:4,s=e.vertices,p=e.faces,E=e.controlPoints,n=0;n<i;n++){var T=new sPt;s.push(T),E.push(new nPt(e,T))}var r;t?r=uPt:e.fourPointsModeRTL?r=hPt:r=lPt;for(var n=0,o=r.length;n<o;n+=3){var x=s[r[n+0]],d=s[r[n+1]],h=s[r[n+2]];p.push(new aPt(x,d,h))}t?(e.topLeft=E[0],e.topCenter=E[1],e.topRight=E[2],e.centerLeft=E[3],e.center=E[4],e.centerRight=E[5],e.bottomLeft=E[6],e.bottomCenter=E[7],e.bottomRight=E[8]):(e.topLeft=E[0],e.topRight=E[1],e.bottomLeft=E[2],e.bottomRight=E[3])};const lPt=[0,2,3,0,3,1],hPt=[1,3,2,1,2,0],uPt=[0,3,4,0,4,1,1,4,2,4,5,2,3,6,4,6,7,4,4,7,8,4,8,5];var fPt=function(e){var t,i=0,s=e.height,p=0,E=e.width;if(e.isNinePointMode){var n=(p+E)/2,T=(i+s)/2;t=[p,i,n,i,E,i,p,T,n,T,E,T,p,s,n,s,E,s]}else t=[p,i,E,i,p,s,E,s];return t};const dPt=Phaser.Utils.Objects.IsPlainObject,Rd=Phaser.Utils.Objects.GetValue;let cPt=class extends B8{constructor(t,i,s,p,E,n){dPt(i)&&(n=i,i=Rd(n,"x",0),s=Rd(n,"y",0),p=Rd(n,"key",null),E=Rd(n,"frame",null)),super(t,i,s,p,E),this.type="rexQuadImage",this.isNinePointMode=Rd(n,"ninePointMode",!1),this.fourPointsModeRTL=Rd(n,"rtl",!1),this.controlPoints=[],oPt(this),this.hideCCW=!1,this.syncSize()}destroy(t){if(!(!this.scene||this.ignoreDestroy)){super.destroy(t);for(var i=0,s=this.controlPoints.length;i<s;i++)this.controlPoints[i].destroy();this.controlPoints=void 0}}resetVerts(){this.dirtyCache[9]=-1;for(var t=fPt(this),i=this.width,s=this.height,p=this.frame.cutWidth/s/2,E=this.frame.cutHeight/s/2,n=this.frame.u0,T=this.frame.u1,r=this.frame.v0,o=this.frame.v1,x=T-n,d=o-r,h=this.controlPoints,l=0,a=t.length;l<a;l+=2){var f=t[l+0],c=t[l+1],u=l/2,v=f/s-p,g=c/s-E,m=n+x*(f/i),y=r+d*(c/s);this.vertices[u].set(v,-g,0).setUVs(m,y),h[u].resetLocalXY(f,c)}return this}syncSize(){return this.setSizeToFrame(),this.setOrtho(this.width/this.height,1),this.resetVerts(),this}};Phaser.Utils.Objects.IsPlainObject;Phaser.Utils.Objects.GetValue;var T4=function(e,t,i){t===void 0&&(t=0),i===void 0&&(i=0);for(var s=e.width,p=e.height,E=s*.5,n=p*.5,T=Math.tan(t)*n,r=Math.tan(i)*E,o=e.controlPoints,x=0,d=o.length;x<d;x++){var h=o[x],l=h.localXOrigin,a=h.localYOrigin;h.localX=l+(a>n?T:-T),h.localY=a+(l>E?r:-r)}};const vPt=Phaser.Utils.Objects.IsPlainObject,Iy=Phaser.Utils.Objects.GetValue,C4=Phaser.Math.DegToRad,S4=Phaser.Math.RadToDeg;class pPt extends cPt{constructor(t,i,s,p,E){if(vPt(i)){var n=i;i=Iy(n,"x",0),s=Iy(n,"y",0),p=Iy(n,"key",null),E=Iy(n,"frame",null)}super(t,i,s,p,E),this.type="rexSkewmage",this._skewX=0,this._skewY=0}get skewX(){return this._skewX}set skewX(t){this._skewX=t,T4(this,this._skewX,this._skewY)}get skewXDeg(){return S4(this._skewX)}set skewXDeg(t){this.skewX=C4(t)}get skewY(){return this._skewY}set skewY(t){this._skewY=t,T4(this,this._skewX,this._skewY)}get skewYDeg(){return S4(this._skewY)}set skewYDeg(t){this.skewY=C4(t)}setSkewX(t){return this.skewX=t,this}setSkewY(t){return this.skewY=t,this}setSkew(t,i){return i===void 0&&(i=t),this.skewX=t,this.skewY=i,this}setSkewXDeg(t){return this.skewXDeg=t,this}setSkewYDeg(t){return this.skewYDeg=t,this}setSkewDeg(t,i){return i===void 0&&(i=t),this.skewXDeg=t,this.skewYDeg=i,this}}const gPt=Phaser.Utils.Objects.IsPlainObject,By=Phaser.Utils.Objects.GetValue;class mPt extends pPt{constructor(t,i,s,p,E){if(gPt(i)){var n=i;i=By(n,"x",0),s=By(n,"y",0),p=By(n,"width",32),E=By(n,"height",32)}var T=U8(t,p,E);super(t,i,s,T,null),this.type="rexSkewRenderTexture",this.rt=this.texture}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.rt.destroy(),this.rt=null)}}class yN extends W8(mPt){get skewState(){return this.isRunning}}It.register("skew",function(e,t){return new yN(e,t)});Lt(window,"RexPlugins.UI.Skew",yN);It.register("anchor",function(e,t){return new RM(e,t)});Lt(window,"RexPlugins.UI.Anchor",RM);It.register("textTyping",function(e,t){return new ET(e,t)});Lt(window,"RexPlugins.UI.TextTyping",ET);It.register("textPage",function(e,t){return new ST(e,t)});Lt(window,"RexPlugins.UI.TextPage",ST);var Fd=void 0,yPt=function(e){e!==Fd&&(Fd!==void 0&&Fd.close(),Fd=e)},xPt=function(e){e===Fd&&(Fd=void 0)};const xo=Phaser.Utils.Objects.GetValue,TPt=Phaser.Utils.Objects.Clone;var CPt=function(e,t){t===void 0&&(t={}),t=TPt(t);var i=e.scene,s=e.style,p=xo(t,"backgroundColor",s.backgroundColor);p===null&&(p="transparent"),t.text=xo(t,"text",e.text),t.fontFamily=xo(t,"fontFamily",s.fontFamily),t.fontSize=xo(t,"fontSize",s.fontSize),t.color=xo(t,"color",s.color),t.backgroundColor=p,t.direction=xo(t,"rtl",s.rtl)?"rtl":"ltr",t.align=xo(t,"align",SPt(s)),t.direction==="rtl"&&JM(e)&&(t.align="right");var E=e.padding;E.left>0&&(t.paddingLeft=`${E.left}px`),E.right>0&&(t.paddingRight=`${E.right}px`),s.backgroundCornerRadius&&(t.borderRadius=xo(t,"borderRadius",`${s.backgroundCornerRadius}px`));var n=new sT(i,e.x,e.y,xo(t,"width",e.width),xo(t,"height",e.height),t);n.setScale(e.scaleX,e.scaleY).setOrigin(e.originX,e.originY).setScrollFactor(e.scrollFactorX,e.scrollFactorY);var T=e.parentContainer;return T?T.add(n):i.add.existing(n),n},SPt=function(e){return e.hasOwnProperty("align")?e.align:e.hasOwnProperty("halign")?e.halign:"left"},EPt=function(e,t,i){return e.time.delayedCall(0,t,[],i)};const Fu=Phaser.Utils.Objects.GetValue,bPt=Phaser.Utils.Objects.Merge;var PPt=function(e,t){e===void 0&&(e={}),e=bPt(e,this.openConfig),yPt(this),Ua(e)&&(t=e,e=void 0);var i=Fu(e,"inputType",void 0);i===void 0&&(i=Fu(e,"type","text")),t===void 0&&(t=Fu(e,"onClose",void 0));var s=Fu(e,"onCreate",void 0),p=Fu(e,"onOpen",void 0),E=Fu(e,"onTextChanged",void 0);return this.inputText=CPt(this.parent,e),s&&s(this.parent,this.inputText),this.inputText.on("textchange",function(n){var T=n.text;E?E(this.parent,T):this.parent.text=T},this).setFocus(),this.parent.setVisible(!1),this.onClose=t,Fu(e,"enterClose",i!=="textarea")&&this.scene.input.keyboard.once("keydown-ENTER",this.close,this),this.delayCall=EPt(this.scene,function(){this.scene.input.once("pointerdown",this.close,this),p&&p(this.parent,this.inputText),this.emit("open",this.parent,this.inputText)},this),this},wPt=function(){return xPt(this),this.parent.setVisible(!0),this.inputText&&(this.inputText.destroy(),this.inputText=void 0),this.delayCall&&(this.delayCall.remove(),this.delayCall=void 0),this.scene.input.keyboard.off("keydown-ENTER",this.close,this),this.scene.input.off("pointerdown",this.close,this),this.onClose&&this.onClose(this.parent),this.emit("close",this.parent),this},MPt={open:PPt,close:wPt};const RPt=Phaser.Utils.Objects.GetValue;class RT extends ji{constructor(t,i){super(t),this.inputText=void 0,this.onClose=void 0,this.delayCall=void 0,this.setOpenConfig(i);var s=RPt(i,"clickEnable",!0);s&&t.on("pointerdown",function(){this.open()},this).setInteractive()}shutdown(t){this.isShutdown||(this.close(),super.shutdown(t))}setOpenConfig(t){return t===void 0&&(t={}),this.openConfig=t,this}get isOpened(){return this.inputText!==void 0}get text(){return this.isOpened?this.inputText.text:this.parent.text}}Object.assign(RT.prototype,MPt);var APt=function(e,t,i){return e._edit||(e._edit=new RT(e,{clickEnable:!1})),e._edit.open(t,i),e._edit};It.register("textEdit",function(e,t){return new RT(e,t)});Lt(window,"RexPlugins.UI.TextEdit",RT);It.register("layerManager",function(e){return new Ix(this.scene,e)});Lt(window,"RexPlugins.UI.LayerManager",Ix);class xN extends Phaser.Plugins.ScenePlugin{constructor(t,i){super(t,i),this.add=new It(t)}boot(){var t=this.scene.events;t.on("destroy",this.destroy,this)}destroy(){this.add.destroy(),super.destroy()}isInTouching(t,i,s,p){return t.visible?bo(t,i,s,p):!1}get viewport(){return qd(this.scene,this.scene.cameras.main,!0)}}var OPt={getParentSizer:Ds,getTopmostSizer:HG,removeFromParent:Iu,hide:yh,show:mh,isShown:LM,confirmAction:f8,edit:APt,wrapExpandText:ux,fontSizeExpandText:dx,fontSizeResize:fx,setFontSizeToFitWidth:fx,waitEvent:kx,waitComplete:vn,delayPromise:Rk,setChildrenInteractive:_x,fadeIn:Yx,fadeOutDestroy:Xx,easeMoveTo:rk,easeMoveFrom:nk,modal:IM,modalPromise:Kft,modalClose:uk,requestDrag:iN,openFileChooser:Ok};Object.assign(xN.prototype,OPt);const LPt={type:Phaser.WEBGL,width:ur.DISPLAY_WIDTH,height:ur.DISPLAY_HEIGHT,parent:"game-container",backgroundColor:ur.BACKGROUND_COLOR,scale:{mode:Phaser.Scale.FIT,autoCenter:Phaser.Scale.CENTER_BOTH},fps:{target:30,forceSetTimeOut:!0},plugins:{scene:[{key:"rexUI",plugin:xN,mapping:"rexUI"}]},scene:[sw,bx,Tw,K5,Bw]},DPt=e=>new Zd.Game({...LPt,parent:e}),E4="game-container";function b4(){const e=Id.useRef(null),t=Id.useRef(null);return Id.useLayoutEffect(()=>(t.current===null&&(t.current=DPt(E4)),()=>{t.current&&(t.current.destroy(!0),t.current=null)}),[]),Bd.jsxDEV("div",{ref:e,id:E4},void 0,!1,{fileName:"/home/acheprasov/Projects/work/OracleHut/app/src/game/PhaserGame.tsx",lineNumber:27,columnNumber:10},this)}function FPt(){return Bd.jsxDEV("div",{id:"app",children:[location.pathname.includes("/build-dev-tg")&&Bd.jsxDEV(b4,{},void 0,!1,{fileName:"/home/acheprasov/Projects/work/OracleHut/app/src/App.tsx",lineNumber:9,columnNumber:9},this),location.pathname.includes("/main")&&Bd.jsxDEV(b4,{},void 0,!1,{fileName:"/home/acheprasov/Projects/work/OracleHut/app/src/App.tsx",lineNumber:12,columnNumber:9},this),!ur.IS_DEV]},void 0,!0,{fileName:"/home/acheprasov/Projects/work/OracleHut/app/src/App.tsx",lineNumber:7,columnNumber:5},this)}RP.createRoot(document.getElementById("root")).render(Bd.jsxDEV(WH.StrictMode,{children:Bd.jsxDEV(FPt,{},void 0,!1,{fileName:"/home/acheprasov/Projects/work/OracleHut/app/src/main.tsx",lineNumber:8,columnNumber:5},void 0)},void 0,!1,{fileName:"/home/acheprasov/Projects/work/OracleHut/app/src/main.tsx",lineNumber:7,columnNumber:3},void 0));VH(()=>import("./eruda-Dtax4b1k.js"),[],import.meta.url).then(()=>{console.log("VITE_APP_UUID",ur.APP_UUID)});export{vx as g};
